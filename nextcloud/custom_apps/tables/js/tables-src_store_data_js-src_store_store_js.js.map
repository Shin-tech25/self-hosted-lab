{"version":3,"file":"tables-src_store_data_js-src_store_store_js.js?v=b60bd7c8b57d103f2853","mappings":"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","sources":["webpack:///tables/src/shared/components/ncTable/mixins/columnClass.js","webpack:///tables/src/shared/components/ncTable/mixins/columnHandler.js","webpack:///tables/src/shared/components/ncTable/mixins/columnParser.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/datetime.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/datetimeDate.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/datetimeTime.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/number.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/numberProgress.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/numberStars.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/selection.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/selectionCheck.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/selectionMulti.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/textLine.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/textLink.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/textLong.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/textRich.js","webpack:///tables/src/shared/components/ncTable/mixins/columnsTypes/usergroup.js","webpack:///tables/src/shared/components/ncTable/mixins/filter.js","webpack:///tables/src/shared/components/ncTable/mixins/magicFields.js","webpack:///tables/src/shared/components/ncTable/mixins/metaColumns.js","webpack:///tables/src/shared/utils/displayError.js","webpack:///tables/src/store/data.js","webpack:///tables/src/store/store.js"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { Filters } from './filter.js'\nimport { MagicFields } from './magicFields.js'\n\nexport class AbstractColumn {\n\n\ttype = null\n\n\tconstructor(data) {\n\t\tthis.createdAt = data.createdAt\n\t\tthis.createdBy = data.createdBy\n\t\tthis.id = data.id\n\t\tthis.lastEditAt = data.lastEditAt\n\t\tthis.lastEditBy = data.lastEditBy\n\t\tthis.mandatory = data.mandatory\n\t\tthis.tableId = data.tableId\n\t\tthis.title = data.title\n\t\tthis.description = data.description\n\t\tthis.createdByDisplayName = data.createdByDisplayName\n\t\tthis.lastEditByDisplayName = data.lastEditByDisplayName\n\t}\n\n\tcanSort() {\n\t\treturn typeof this.sort === 'function'\n\t}\n\n\tgetNextSortsResult(nextSorts, rowA, rowB) {\n\t\tif (!nextSorts) {\n\t\t\treturn 0\n\t\t}\n\t\tfor (const sort of nextSorts) {\n\t\t\tconst result = sort(rowA, rowB)\n\t\t\tif (result !== 0) {\n\t\t\t\treturn result\n\t\t\t}\n\t\t}\n\t\treturn 0\n\t}\n\n\tgetPossibleOperators() {\n\t\treturn Object.values(Filters).filter(fil => fil.goodFor.includes(this.type))\n\t}\n\n\tgetPossibleMagicFields() {\n\t\treturn Object.values(MagicFields).filter(item => item.goodFor.includes(this.type))\n\t}\n\n\tisSearchStringFound(cellValue, cell, searchString) {\n\t\tif (cellValue != null && cellValue.toLowerCase().includes(searchString)) {\n\t\t\tcell.searchStringFound = true\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tisFilterFound(filterMethod, cell) {\n\t\tif (filterMethod()) {\n\t\t\tcell.filterFound = true\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tgetValueString(valueObject) {\n\t\treturn valueObject.value\n\t}\n\n\t/**\n\t * parse an input value\n\t *\n\t * @param {*} value Value to parse\n\t * @return {*}\n\t */\n\tparseValue(value) {\n\t\treturn value\n\t}\n\n}\n\nexport class AbstractUsergroupColumn extends AbstractColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.usergroupDefault = data.usergroupDefault\n\t}\n\n\tdefault() {\n\t\treturn this.usergroupDefault\n\t}\n\n}\n\nexport class AbstractNumberColumn extends AbstractColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.numberDefault = data.numberDefault\n\t}\n\n\tdefault() {\n\t\treturn this.numberDefault\n\t}\n\n}\n\nexport class AbstractDatetimeColumn extends AbstractColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.datetimeDefault = data.datetimeDefault\n\t}\n\n\tformatValue(value) {}\n\n\tdefault() {\n\t\treturn this.datetimeDefault\n\t}\n\n}\n\nexport class AbstractTextColumn extends AbstractColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.textDefault = data.textDefault\n\t}\n\n\tdefault() {\n\t\treturn this.textDefault\n\t}\n\n}\n\nexport class AbstractSelectionColumn extends AbstractColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.selectionDefault = data.selectionDefault\n\t}\n\n\tdefault() {\n\t\treturn this.selectionDefault\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nexport const ColumnTypes = {\n\tTextLine: 'text-line',\n\tTextLong: 'text-long',\n\tTextRich: 'text-rich',\n\tSelection: 'selection',\n\tSelectionMulti: 'selection-multi',\n\tNumber: 'number',\n\tSelectionCheck: 'selection-check',\n\tTextLink: 'text-link',\n\tNumberStars: 'number-stars',\n\tNumberProgress: 'number-progress',\n\tDatetimeDate: 'datetime-date',\n\tDatetimeTime: 'datetime-time',\n\tDatetime: 'datetime',\n\tUsergroup: 'usergroup',\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { ColumnTypes } from './columnHandler.js'\nimport DatetimeDateColumn from './columnsTypes/datetimeDate.js'\nimport DatetimeColumn from './columnsTypes/datetime.js'\nimport DatetimeTimeColumn from './columnsTypes/datetimeTime.js'\nimport NumberColumn from './columnsTypes/number.js'\nimport NumberProgressColumn from './columnsTypes/numberProgress.js'\nimport NumberStarsColumn from './columnsTypes/numberStars.js'\nimport SelectionCheckColumn from './columnsTypes/selectionCheck.js'\nimport SelectionColumn from './columnsTypes/selection.js'\nimport SelectionMutliColumn from './columnsTypes/selectionMulti.js'\nimport TextLineColumn from './columnsTypes/textLine.js'\nimport TextLinkColumn from './columnsTypes/textLink.js'\nimport TextLongColumn from './columnsTypes/textLong.js'\nimport TextRichColumn from './columnsTypes/textRich.js'\nimport UsergroupColumn from './columnsTypes/usergroup.js'\n\nexport function parseCol(col) {\n\tconst columnType = col.type + (col.subtype === '' ? '' : '-' + col.subtype)\n\tswitch (columnType) {\n\tcase ColumnTypes.TextLine: return new TextLineColumn(col)\n\tcase ColumnTypes.TextLink: return new TextLinkColumn(col)\n\tcase ColumnTypes.TextLong: return new TextLongColumn(col)\n\tcase ColumnTypes.TextRich: return new TextRichColumn(col)\n\tcase ColumnTypes.Number: return new NumberColumn(col)\n\tcase ColumnTypes.NumberStars: return new NumberStarsColumn(col)\n\tcase ColumnTypes.NumberProgress: return new NumberProgressColumn(col)\n\tcase ColumnTypes.Selection: return new SelectionColumn(col)\n\tcase ColumnTypes.SelectionMulti: return new SelectionMutliColumn(col)\n\tcase ColumnTypes.SelectionCheck: return new SelectionCheckColumn(col)\n\tcase ColumnTypes.Datetime: return new DatetimeColumn(col)\n\tcase ColumnTypes.DatetimeDate: return new DatetimeDateColumn(col)\n\tcase ColumnTypes.DatetimeTime: return new DatetimeTimeColumn(col)\n\tcase ColumnTypes.Usergroup: return new UsergroupColumn(col)\n\tdefault: throw Error(columnType + ' is not a valid column type!')\n\t}\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractDatetimeColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport Moment from '@nextcloud/moment'\nimport { FilterIds } from '../filter.js'\nimport {\n\tTYPE_META_CREATED_AT,\n\tTYPE_META_UPDATED_AT,\n} from '../../../../constants.js'\n\nexport default class DatetimeColumn extends AbstractDatetimeColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.Datetime\n\t}\n\n\tformatValue(value) {\n\t\treturn Moment(value, 'YYYY-MM-DD HH:mm:ss').format('lll')\n\t}\n\n\tsort(mode, nextSorts) {\n\t\tconst factor = mode === 'DESC' ? -1 : 1\n\t\treturn (rowA, rowB) => {\n\t\t\tlet tmpA = rowA.data.find(item => item.columnId === this.id)?.value || ''\n\t\t\tlet tmpB = rowB.data.find(item => item.columnId === this.id)?.value || ''\n\t\t\tif (this.id === TYPE_META_CREATED_AT) {\n\t\t\t\ttmpA = rowA.createdAt\n\t\t\t\ttmpB = rowB.createdAt\n\t\t\t}\n\t\t\tif (this.id === TYPE_META_UPDATED_AT) {\n\t\t\t\ttmpA = rowA.lastEditAt\n\t\t\t\ttmpB = rowB.lastEditAt\n\t\t\t}\n\n\t\t\tif (!tmpA && tmpB) {\n\t\t\t\treturn -1 * factor\n\t\t\t}\n\t\t\tif (tmpA && !tmpB) {\n\t\t\t\treturn 1 * factor\n\t\t\t}\n\t\t\tif (!tmpA && !tmpB) {\n\t\t\t\treturn super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t\t}\n\n\t\t\tconst valueA = new Moment(tmpA, 'YYY-MM-DD HH:mm')\n\t\t\tconst valueB = new Moment(tmpB, 'YYY-MM-DD HH:mm')\n\t\t\treturn (valueA.diff(valueB)) * factor || super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t}\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\tconst date = new Moment(cell.value, 'YYYY-MM-DD HH:mm').format('lll')\n\t\treturn super.isSearchStringFound(date, cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\t\tconst filterDate = new Moment(filterValue, 'YYY-MM-DD HH:mm')\n\t\tconst valueDate = new Moment(cell.value, 'YYY-MM-DD HH:mm')\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.IsEqual]() { return filterDate.isSame(valueDate) },\n\t\t\t[FilterIds.IsGreaterThan]() { return filterDate.isBefore(valueDate) },\n\t\t\t[FilterIds.IsGreaterThanOrEqual]() { return filterDate.isSameOrBefore(valueDate) },\n\t\t\t[FilterIds.IsLowerThan]() { return filterDate.isAfter(valueDate) },\n\t\t\t[FilterIds.IsLowerThanOrEqual]() { return filterDate.isSameOrAfter(valueDate) },\n\t\t\t[FilterIds.IsEmpty]() { return !cell.value },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractDatetimeColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport Moment from '@nextcloud/moment'\nimport { FilterIds } from '../filter.js'\n\nexport default class DatetimeDateColumn extends AbstractDatetimeColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.DatetimeDate\n\t}\n\n\tformatValue(value) {\n\t\treturn Moment(value, 'YYYY-MM-DD HH:mm:ss').format('ll')\n\t}\n\n\tsort(mode, nextSorts) {\n\t\tconst factor = mode === 'DESC' ? -1 : 1\n\t\treturn (rowA, rowB) => {\n\t\t\tconst tmpA = rowA.data.find(item => item.columnId === this.id)?.value || ''\n\t\t\tconst valueA = new Moment(tmpA)\n\t\t\tconst tmpB = rowB.data.find(item => item.columnId === this.id)?.value || ''\n\t\t\tconst valueB = new Moment(tmpB)\n\t\t\tif (!tmpA && tmpB) {\n\t\t\t\treturn -1 * factor\n\t\t\t}\n\t\t\tif (tmpA && !tmpB) {\n\t\t\t\treturn 1 * factor\n\t\t\t}\n\t\t\tif (!tmpA && !tmpB) {\n\t\t\t\treturn super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t\t}\n\t\t\treturn (valueA.diff(valueB)) * factor || super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t}\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\tconst date = new Moment(cell.value, 'YYYY-MM-DD').format('ll')\n\t\treturn super.isSearchStringFound(date, cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\t\tconst filterDate = new Moment(filterValue)\n\t\tconst valueDate = new Moment(cell.value)\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.IsEqual]() { return filterDate.isSame(valueDate) },\n\t\t\t[FilterIds.IsGreaterThan]() { return filterDate.isBefore(valueDate) },\n\t\t\t[FilterIds.IsGreaterThanOrEqual]() { return filterDate.isSameOrBefore(valueDate) },\n\t\t\t[FilterIds.IsLowerThan]() { return filterDate.isAfter(valueDate) },\n\t\t\t[FilterIds.IsLowerThanOrEqual]() { return filterDate.isSameOrAfter(valueDate) },\n\t\t\t[FilterIds.IsEmpty]() { return !cell.value },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractDatetimeColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport Moment from '@nextcloud/moment'\nimport { FilterIds } from '../filter.js'\n\nexport default class DatetimeTimeColumn extends AbstractDatetimeColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.DatetimeTime\n\t}\n\n\tformatValue(value) {\n\t\treturn Moment(value, 'HH:mm:ss').format('LT')\n\t}\n\n\tsort(mode, nextSorts) {\n\t\tconst factor = mode === 'DESC' ? -1 : 1\n\t\treturn (rowA, rowB) => {\n\t\t\tconst tmpA = rowA.data.find(item => item.columnId === this.id)?.value || ''\n\t\t\tconst valueA = new Moment(tmpA, 'HH:mm')\n\t\t\tconst tmpB = rowB.data.find(item => item.columnId === this.id)?.value || ''\n\t\t\tconst valueB = new Moment(tmpB, 'HH:mm')\n\t\t\tif (!tmpA && tmpB) {\n\t\t\t\treturn -1 * factor\n\t\t\t}\n\t\t\tif (tmpA && !tmpB) {\n\t\t\t\treturn 1 * factor\n\t\t\t}\n\t\t\tif (!tmpA && !tmpB) {\n\t\t\t\treturn super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t\t}\n\t\t\treturn (valueA.diff(valueB)) * factor || super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t}\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\tconst time = new Moment(cell.value, 'YYYY-MM-DD HH:mm').format('lll')\n\t\treturn super.isSearchStringFound(time, cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\t\tconst filterTime = new Moment(filterValue, 'HH:mm')\n\t\tconst valueTime = new Moment(cell.value, 'HH:mm')\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.IsEqual]() { return filterTime.isSame(valueTime) },\n\t\t\t[FilterIds.IsGreaterThan]() { return filterTime.isBefore(valueTime) },\n\t\t\t[FilterIds.IsGreaterThanOrEqual]() { return filterTime.isSameOrBefore(valueTime) },\n\t\t\t[FilterIds.IsLowerThan]() { return filterTime.isAfter(valueTime) },\n\t\t\t[FilterIds.IsLowerThanOrEqual]() { return filterTime.isSameOrAfter(valueTime) },\n\t\t\t[FilterIds.IsEmpty]() { return !cell.value },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractNumberColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport { FilterIds } from '../filter.js'\nimport { TYPE_META_ID } from '../../../../constants.js'\n\nexport default class NumberColumn extends AbstractNumberColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.Number\n\t\tthis.numberDecimals = data.numberDecimals\n\t\tthis.numberMax = data.numberMax\n\t\tthis.numberMin = data.numberMin\n\t\tthis.numberPrefix = data.numberPrefix\n\t\tthis.numberSuffix = data.numberSuffix\n\t}\n\n\tsort(mode, nextSorts) {\n\t\tconst factor = mode === 'DESC' ? -1 : 1\n\t\treturn (rowA, rowB) => {\n\t\t\tlet valueA = rowA.data.find(item => item.columnId === this.id)?.value || null\n\t\t\tlet valueB = rowB.data.find(item => item.columnId === this.id)?.value || null\n\t\t\tif (this.id === TYPE_META_ID) {\n\t\t\t\tvalueA = rowA.id\n\t\t\t\tvalueB = rowB.id\n\t\t\t}\n\t\t\tif (!valueA && valueB) {\n\t\t\t\treturn -1 * factor\n\t\t\t}\n\t\t\tif (valueA && !valueB) {\n\t\t\t\treturn 1 * factor\n\t\t\t}\n\t\t\tif (!valueA && !valueB) {\n\t\t\t\treturn super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t\t}\n\t\t\treturn ((valueA < valueB) ? -1 : (valueA > valueB) ? 1 : 0) * factor || super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t}\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn super.isSearchStringFound(('' + cell.value), cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.IsEqual]() { return parseInt(cell.value) === parseInt(filterValue) },\n\t\t\t[FilterIds.IsGreaterThan]() { return parseInt(cell.value) > parseInt(filterValue) },\n\t\t\t[FilterIds.IsGreaterThanOrEqual]() { return parseInt(cell.value) >= parseInt(filterValue) },\n\t\t\t[FilterIds.IsLowerThan]() { return parseInt(cell.value) < parseInt(filterValue) },\n\t\t\t[FilterIds.IsLowerThanOrEqual]() { return parseInt(cell.value) <= parseInt(filterValue) },\n\t\t\t[FilterIds.IsEmpty]() { return !cell.value },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n\tparseValue(value) {\n\t\treturn value === null ? null : parseFloat(value)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractNumberColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport { FilterIds } from '../filter.js'\n\nexport default class NumberProgressColumn extends AbstractNumberColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.NumberProgress\n\t}\n\n\tsort(mode, nextSorts) {\n\t\tconst factor = mode === 'DESC' ? -1 : 1\n\t\treturn (rowA, rowB) => {\n\t\t\tconst tmpA = rowA.data.find(item => item.columnId === this.id)?.value || 0\n\t\t\tconst valueA = parseInt(tmpA)\n\t\t\tconst tmpB = rowB.data.find(item => item.columnId === this.id)?.value || 0\n\t\t\tconst valueB = parseInt(tmpB)\n\t\t\treturn ((valueA < valueB) ? -1 : (valueA > valueB) ? 1 : 0) * factor || super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t}\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn super.isSearchStringFound(('' + cell.value), cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.IsEqual]() { return parseInt(cell.value) === parseInt(filterValue) },\n\t\t\t[FilterIds.IsGreaterThan]() { return parseInt(cell.value) > parseInt(filterValue) },\n\t\t\t[FilterIds.IsGreaterThanOrEqual]() { return parseInt(cell.value) >= parseInt(filterValue) },\n\t\t\t[FilterIds.IsLowerThan]() { return parseInt(cell.value) < parseInt(filterValue) },\n\t\t\t[FilterIds.IsLowerThanOrEqual]() { return parseInt(cell.value) <= parseInt(filterValue) },\n\t\t\t[FilterIds.IsEmpty]() { return !cell.value },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n\tparseValue(value) {\n\t\treturn parseInt(value)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractNumberColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport { FilterIds } from '../filter.js'\n\nexport default class NumberStarsColumn extends AbstractNumberColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.NumberStars\n\t}\n\n\tsort(mode, nextSorts) {\n\t\tconst factor = mode === 'DESC' ? 1 : -1\n\t\treturn (rowA, rowB) => {\n\t\t\tconst tmpA = rowA.data.find(item => item.columnId === this.id)?.value\n\t\t\tconst valueA = Number.isNaN(parseInt(tmpA)) ? -1 : parseInt(tmpA)\n\t\t\tconst tmpB = rowB.data.find(item => item.columnId === this.id)?.value\n\t\t\tconst valueB = Number.isNaN(parseInt(tmpB)) ? -1 : parseInt(tmpB)\n\t\t\treturn ((valueA < valueB) ? -1 : (valueA > valueB) ? 1 : 0) * factor || super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t}\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn super.isSearchStringFound(('' + cell.value), cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.IsEqual]() { return parseInt(cell.value ? cell.value : 0) === parseInt(filterValue) },\n\t\t\t[FilterIds.IsGreaterThan]() { return parseInt(cell.value ? cell.value : 0) > parseInt(filterValue) },\n\t\t\t[FilterIds.IsGreaterThanOrEqual]() { return parseInt(cell.value ? cell.value : 0) >= parseInt(filterValue) },\n\t\t\t[FilterIds.IsLowerThan]() { return parseInt(cell.value ? cell.value : 0) < parseInt(filterValue) },\n\t\t\t[FilterIds.IsLowerThanOrEqual]() { return parseInt(cell.value ? cell.value : 0) <= parseInt(filterValue) },\n\t\t\t[FilterIds.IsEmpty]() { return !cell.value },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractSelectionColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport { FilterIds } from '../filter.js'\n\nexport default class SelectionColumn extends AbstractSelectionColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.Selection\n\t\tthis.selectionOptions = data.selectionOptions\n\t}\n\n\tgetValueString(valueObject) {\n\t\tvalueObject = valueObject || this.value || null\n\t\treturn this.getLabel(valueObject.value)\n\t}\n\n\tgetLabel(id) {\n\t\tconst i = this.selectionOptions?.findIndex((obj) => obj.id === id)\n\t\treturn this.selectionOptions[i]?.label\n\t}\n\n\tisDeletedLabel(value) {\n\t\tconst i = this.selectionOptions?.findIndex((obj) => obj.id === value)\n\t\treturn !!this.selectionOptions[i]?.deleted\n\t}\n\n\tsort(mode, nextSorts) {\n\t\tconst factor = mode === 'DESC' ? -1 : 1\n\t\treturn (rowA, rowB) => {\n\t\t\tconst selectionIdA = parseInt(rowA.data.find(item => item.columnId === this.id)?.value)\n\t\t\tconst vA = Number.isNaN(selectionIdA) ? '' : this.selectionOptions.find(item => item.id === selectionIdA)?.label\n\t\t\tconst valueA = this.removeEmoji(vA).trim()\n\t\t\tconst selectionIdB = parseInt(rowB.data.find(item => item.columnId === this.id)?.value ?? null)\n\t\t\tconst vB = Number.isNaN(selectionIdB) ? '' : this.selectionOptions.find(item => item.id === selectionIdB)?.label\n\t\t\tconst valueB = this.removeEmoji(vB).trim()\n\t\t\treturn ((valueA < valueB) ? -1 : (valueA > valueB) ? 1 : 0) * factor || super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t}\n\t}\n\n\tremoveEmoji(str) {\n\t\treturn str.replace(/([#0-9]\\u20E3)|[\\xA9\\xAE\\u203C\\u2047-\\u2049\\u2122\\u2139\\u3030\\u303D\\u3297\\u3299][\\uFE00-\\uFEFF]?|[\\u2190-\\u21FF][\\uFE00-\\uFEFF]?|[\\u2300-\\u23FF][\\uFE00-\\uFEFF]?|[\\u2460-\\u24FF][\\uFE00-\\uFEFF]?|[\\u25A0-\\u25FF][\\uFE00-\\uFEFF]?|[\\u2600-\\u27BF][\\uFE00-\\uFEFF]?|[\\u2900-\\u297F][\\uFE00-\\uFEFF]?|[\\u2B00-\\u2BF0][\\uFE00-\\uFEFF]?|(?:\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDEFF])[\\uFE00-\\uFEFF]?/g, '')\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn super.isSearchStringFound(this.getLabel(cell.value), cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\t\tconst cellLabel = this.getLabel(cell.value)\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.Contains]() { return cellLabel?.includes(filterValue) },\n\t\t\t[FilterIds.BeginsWith]() { return cellLabel?.startsWith(filterValue) },\n\t\t\t[FilterIds.EndsWith]() { return cellLabel?.endsWith(filterValue) },\n\t\t\t[FilterIds.IsEqual]() { return cellLabel === filterValue },\n\t\t\t[FilterIds.IsEmpty]() { return !cellLabel },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n\tparseValue(value) {\n\t\treturn parseInt(value)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractSelectionColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport { FilterIds } from '../filter.js'\n\nexport default class SelectionCheckColumn extends AbstractSelectionColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.SelectionCheck\n\t}\n\n\tsort(mode, nextSorts) {\n\t\tconst factor = mode === 'DESC' ? 1 : -1\n\t\treturn (rowA, rowB) => {\n\t\t\tconst tmpA = rowA.data.find(item => item.columnId === this.id)?.value || ''\n\t\t\tconst valueA = (tmpA === true || tmpA === 'true')\n\t\t\tconst tmpB = rowB.data.find(item => item.columnId === this.id)?.value || ''\n\t\t\tconst valueB = (tmpB === true || tmpB === 'true')\n\t\t\treturn (valueA - valueB) * factor || super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t}\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn false\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = '' + filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.IsEqual]() { return (cell.value === 'true' && filterValue === 'yes') || (cell.value === 'false' && filterValue === 'no') },\n\t\t\t[FilterIds.IsEmpty]() { return !cell.value },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractSelectionColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport { FilterIds } from '../filter.js'\n\nexport default class SelectionMutliColumn extends AbstractSelectionColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.SelectionMulti\n\t\tthis.selectionOptions = data.selectionOptions\n\t}\n\n\tdefault() {\n\t\tif (!this.selectionDefault) {\n\t\t\treturn []\n\t\t}\n\t\treturn JSON.parse(this.selectionDefault)\n\t}\n\n\tgetValueString(valueObject) {\n\t\tvalueObject = valueObject || this.value || null\n\n\t\tconst valueObjects = this.getObjects(valueObject.value)\n\t\tlet ret = ''\n\t\tvalueObjects?.forEach(obj => {\n\t\t\tif (ret === '') {\n\t\t\t\tret = obj.label\n\t\t\t} else {\n\t\t\t\tret += ', ' + obj.label\n\t\t\t}\n\t\t})\n\t\treturn ret\n\t}\n\n\tgetDefaultObjects() {\n\t\treturn this.getObjects(this.default())\n\t}\n\n\tgetObjects(values) {\n\t\t// values is an array of option-ids as string\n\t\tconst objects = []\n\t\tvalues?.forEach(id => {\n\t\t\tobjects.push(this.getOptionObject(parseInt(id)))\n\t\t})\n\t\treturn objects\n\t}\n\n\tgetOptionObject(id) {\n\t\tconst i = this.selectionOptions?.findIndex(obj => {\n\t\t\treturn obj.id === id\n\t\t})\n\t\tif (i !== undefined) {\n\t\t\treturn this.selectionOptions[i] || null\n\t\t}\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn super.isSearchStringFound(this.getValueString(cell), cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\t\tconst valueString = this.getValueString(cell)\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.Contains]() { return valueString?.includes(filterValue) },\n\t\t\t[FilterIds.IsEqual]() { return valueString === filterValue },\n\t\t\t[FilterIds.IsEmpty]() { return !valueString },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractTextColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport { FilterIds } from '../filter.js'\nimport { TYPE_META_CREATED_BY, TYPE_META_UPDATED_BY } from '../../../../constants.js'\n\nexport default class TextLineColumn extends AbstractTextColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.TextLine\n\t\tthis.textMaxLength = data.textMaxLength\n\t}\n\n\tsort(mode, nextSorts) {\n\t\tconst factor = mode === 'DESC' ? -1 : 1\n\t\treturn (rowA, rowB) => {\n\t\t\tlet valueA = rowA.data.find(item => item.columnId === this.id)?.value?.toLowerCase() || ''\n\t\t\tlet valueB = rowB.data.find(item => item.columnId === this.id)?.value?.toLowerCase() || ''\n\t\t\tif (this.id === TYPE_META_CREATED_BY) {\n\t\t\t\tvalueA = rowA.createdBy?.toLowerCase() || ''\n\t\t\t\tvalueB = rowB.createdBy?.toLowerCase() || ''\n\t\t\t}\n\t\t\tif (this.id === TYPE_META_UPDATED_BY) {\n\t\t\t\tvalueA = rowA.lastEditBy?.toLowerCase() || ''\n\t\t\t\tvalueB = rowB.lastEditBy?.toLowerCase() || ''\n\t\t\t}\n\t\t\treturn valueA.localeCompare(valueB, undefined) * factor || super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t}\n\t}\n\n\tgetValueString(valueObject) {\n\t\treturn valueObject.value.replace(/(<([^>]+)>)/ig, '')\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn super.isSearchStringFound(cell.value, cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = (filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value).toLowerCase()\n\t\tconst cellValue = cell.value?.toLowerCase()\n\t\tif (!cellValue & filter.operator.id !== FilterIds.IsEmpty) return false\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.Contains]() { return cellValue.includes(filterValue) },\n\t\t\t[FilterIds.BeginsWith]() { return cellValue.startsWith(filterValue) },\n\t\t\t[FilterIds.EndsWith]() { return cellValue.endsWith(filterValue) },\n\t\t\t[FilterIds.IsEqual]() { return cellValue === filterValue },\n\t\t\t[FilterIds.IsEmpty]() { return !cellValue },\n\t\t}[filter.operator.id]\n\n\t\treturn super.isFilterFound(filterMethod, cell)\n\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractTextColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport { FilterIds } from '../filter.js'\n\nexport default class TextLinkColumn extends AbstractTextColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.TextLink\n\t\tthis.textAllowedPattern = data.textAllowedPattern\n\t}\n\n\tsort(mode, nextSorts) {\n\t\tconst factor = mode === 'DESC' ? -1 : 1\n\t\treturn (rowA, rowB) => {\n\t\t\tconst tmpA = rowA.data.find(item => item.columnId === this.id)?.value?.toLowerCase() || ''\n\t\t\tconst valueA = this.getValueFromCellValue(tmpA)\n\t\t\tconst tmpB = rowB.data.find(item => item.columnId === this.id)?.value?.toLowerCase() || ''\n\t\t\tconst valueB = this.getValueFromCellValue(tmpB)\n\t\t\treturn valueA.localeCompare(valueB, undefined) * factor || super.getNextSortsResult(nextSorts, rowA, rowB)\n\t\t}\n\t}\n\n\tgetValueFromCellValue(cellValue) {\n\t\t// check if the value is the old string or the new object\n\t\ttry {\n\t\t\tconst parseResult = JSON.parse(cellValue)\n\t\t\treturn parseResult?.title || ''\n\t\t} catch (err) {\n\t\t\t// old string value\n\t\t\treturn cellValue\n\t\t}\n\t}\n\n\tgetValueString(valueObject) {\n\t\ttry {\n\t\t\tconst parseResult = JSON.parse(valueObject.value)\n\t\t\tconst link = parseResult?.resourceUrl ? ' (' + parseResult?.resourceUrl + ')' : ''\n\t\t\treturn parseResult?.title + link || ''\n\t\t} catch (err) {\n\t\t\t// old string value\n\t\t\treturn valueObject.value\n\t\t}\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn super.isSearchStringFound(cell.value, cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\t\tconst value = this.getValueFromCellValue(cell.value)\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.Contains]() { return value.includes(filterValue) },\n\t\t\t[FilterIds.BeginsWith]() { return value.startsWith(filterValue) },\n\t\t\t[FilterIds.EndsWith]() { return value.endsWith(filterValue) },\n\t\t\t[FilterIds.IsEqual]() { return value === filterValue },\n\t\t\t[FilterIds.IsEmpty]() { return !value },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractTextColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport { FilterIds } from '../filter.js'\n\nexport default class TextLongColumn extends AbstractTextColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.TextLong\n\t}\n\n\tgetValueString(valueObject) {\n\t\treturn valueObject.value.replace(/(<([^>]+)>)/ig, '')\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn super.isSearchStringFound(cell.value, cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.Contains]() { return cell.value.includes(filterValue) },\n\t\t\t[FilterIds.IsEmpty]() { return !cell.value },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractTextColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\nimport { FilterIds } from '../filter.js'\n\nexport default class TextRichColumn extends AbstractTextColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.TextRich\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn super.isSearchStringFound(cell.value, cell, searchString)\n\t}\n\n\tisFilterFound(cell, filter) {\n\t\tconst filterValue = filter.magicValuesEnriched ? filter.magicValuesEnriched : filter.value\n\n\t\tconst filterMethod = {\n\t\t\t[FilterIds.Contains]() { return cell.value && cell.value.includes(filterValue) },\n\t\t\t[FilterIds.IsEmpty]() { return !cell.value },\n\t\t}[filter.operator.id]\n\t\treturn super.isFilterFound(filterMethod, cell)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { AbstractUsergroupColumn } from '../columnClass.js'\nimport { ColumnTypes } from '../columnHandler.js'\n\nexport default class UsergroupColumn extends AbstractUsergroupColumn {\n\n\tconstructor(data) {\n\t\tsuper(data)\n\t\tthis.type = ColumnTypes.Usergroup\n\t\tthis.showUserStatus = data.showUserStatus\n\t\tthis.usergroupMultipleItems = data.usergroupMultipleItems\n\t\tthis.usergroupSelectUsers = data.usergroupSelectUsers\n\t\tthis.usergroupSelectGroups = data.usergroupSelectGroups\n\t\tthis.usergroupSelectTeams = data.usergroupSelectTeams\n\t}\n\n\tgetValueString(valueObject) {\n\t\tvalueObject = valueObject || this.value || null\n\n\t\tconst valueObjects = this.getObjects(valueObject.value)\n\t\tlet ret = ''\n\t\tvalueObjects?.forEach(obj => {\n\t\t\tif (ret === '') {\n\t\t\t\tret = obj.id\n\t\t\t} else {\n\t\t\t\tret += ', ' + obj.id\n\t\t\t}\n\t\t})\n\t\treturn ret\n\t}\n\n\tgetObjects(values) {\n\t\tconst objects = []\n\t\tvalues?.forEach(item => {\n\t\t\tobjects.push(item)\n\t\t})\n\t\treturn objects\n\t}\n\n\tisSearchStringFound(cell, searchString) {\n\t\treturn super.isSearchStringFound(this.getValueString(cell), cell, searchString)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { ColumnTypes } from './columnHandler.js'\nimport { translate as t } from '@nextcloud/l10n'\n\nclass BaseFilter {\n\n\tconstructor() {\n\t\tthis.icon = 'icon-add'\n\t\tthis.source = 'operators'\n\t\tthis.subline = t('tables', 'Filter operator')\n\t}\n\n}\n\nexport class Filter extends BaseFilter {\n\n\tconstructor({ id, label, goodFor, incompatibleWith, shortLabel = null, noSearchValue = false } = {}) {\n\t\tsuper()\n\t\tthis.id = id\n\t\tthis.label = label\n\t\tthis.shortLabel = shortLabel\n\t\tthis.goodFor = goodFor\n\t\tthis.incompatibleWith = incompatibleWith\n\t\tthis.noSearchValue = noSearchValue\n\t}\n\n\tgetOperatorLabel() {\n\t\treturn this.shortLabel ?? this.label\n\t}\n\n}\n\nexport function getFilterWithId(id) {\n\treturn Object.values(Filters).find(fil => fil.id === id)\n}\n\nexport const FilterIds = {\n\tContains: 'contains',\n\tBeginsWith: 'begins-with',\n\tEndsWith: 'ends-with',\n\tIsEqual: 'is-equal',\n\tIsGreaterThan: 'is-greater-than',\n\tIsGreaterThanOrEqual: 'is-greater-than-or-equal',\n\tIsLowerThan: 'is-lower-than',\n\tIsLowerThanOrEqual: 'is-lower-than-or-equal',\n\tIsEmpty: 'is-empty',\n}\n\nexport const Filters = {\n\tContains: new Filter({\n\t\tid: FilterIds.Contains,\n\t\tlabel: t('tables', 'Contains'),\n\t\tgoodFor: [ColumnTypes.TextLine, ColumnTypes.TextLong, ColumnTypes.TextLink, ColumnTypes.TextRich, ColumnTypes.SelectionMulti, ColumnTypes.Usergroup],\n\t\tincompatibleWith: [FilterIds.IsEmpty, FilterIds.IsEqual],\n\t}),\n\tBeginsWith: new Filter({\n\t\tid: FilterIds.BeginsWith,\n\t\tlabel: t('tables', 'Begins with'),\n\t\tgoodFor: [ColumnTypes.TextLine, ColumnTypes.TextLink],\n\t\tincompatibleWith: [FilterIds.IsEmpty, FilterIds.IsEqual, FilterIds.BeginsWith],\n\t}),\n\tEndsWith: new Filter({\n\t\tid: FilterIds.EndsWith,\n\t\tlabel: t('tables', 'Ends with'),\n\t\tgoodFor: [ColumnTypes.TextLine, ColumnTypes.TextLink],\n\t\tincompatibleWith: [FilterIds.IsEmpty, FilterIds.IsEqual, FilterIds.EndsWith],\n\t}),\n\tIsEqual: new Filter({\n\t\tid: FilterIds.IsEqual,\n\t\tlabel: t('tables', 'Is equal'),\n\t\tshortLabel: '=',\n\t\tgoodFor: [ColumnTypes.TextLine, ColumnTypes.Number, ColumnTypes.SelectionCheck, ColumnTypes.TextLink, ColumnTypes.NumberStars, ColumnTypes.NumberProgress, ColumnTypes.DatetimeDate, ColumnTypes.DatetimeTime, ColumnTypes.Datetime, ColumnTypes.Selection, ColumnTypes.SelectionMulti, ColumnTypes.Usergroup],\n\t\tincompatibleWith: [FilterIds.IsEmpty, FilterIds.IsEqual, FilterIds.BeginsWith, FilterIds.EndsWith, FilterIds.Contains, FilterIds.IsGreaterThan, FilterIds.IsGreaterThanOrEqual, FilterIds.IsLowerThan, FilterIds.IsLowerThanOrEqual],\n\t}),\n\tIsGreaterThan: new Filter({\n\t\tid: FilterIds.IsGreaterThan,\n\t\tlabel: t('tables', 'Is greater than'),\n\t\tshortLabel: '>',\n\t\tgoodFor: [ColumnTypes.Number, ColumnTypes.NumberStars, ColumnTypes.NumberProgress, ColumnTypes.DatetimeDate, ColumnTypes.DatetimeTime, ColumnTypes.Datetime],\n\t\tincompatibleWith: [FilterIds.IsEmpty, FilterIds.IsEqual, FilterIds.IsGreaterThan, FilterIds.IsGreaterThanOrEqual],\n\t}),\n\tIsGreaterThanOrEqual: new Filter({\n\t\tid: FilterIds.IsGreaterThanOrEqual,\n\t\tlabel: t('tables', 'Is greater than or equal'),\n\t\tshortLabel: '>=',\n\t\tgoodFor: [ColumnTypes.Number, ColumnTypes.NumberStars, ColumnTypes.NumberProgress, ColumnTypes.DatetimeDate, ColumnTypes.DatetimeTime, ColumnTypes.Datetime],\n\t\tincompatibleWith: [FilterIds.IsEmpty, FilterIds.IsEqual, FilterIds.IsGreaterThan, FilterIds.IsGreaterThanOrEqual],\n\t}),\n\tIsLowerThan: new Filter({\n\t\tid: FilterIds.IsLowerThan,\n\t\tlabel: t('tables', 'Is lower than'),\n\t\tshortLabel: '<',\n\t\tgoodFor: [ColumnTypes.Number, ColumnTypes.NumberStars, ColumnTypes.NumberProgress, ColumnTypes.DatetimeDate, ColumnTypes.DatetimeTime, ColumnTypes.Datetime],\n\t\tincompatibleWith: [FilterIds.IsEmpty, FilterIds.IsEqual, FilterIds.IsLowerThan, FilterIds.IsLowerThanOrEqual],\n\t}),\n\tIsLowerThanOrEqual: new Filter({\n\t\tid: FilterIds.IsLowerThanOrEqual,\n\t\tlabel: t('tables', 'Is lower than or equal'),\n\t\tshortLabel: '<=',\n\t\tgoodFor: [ColumnTypes.Number, ColumnTypes.NumberStars, ColumnTypes.NumberProgress, ColumnTypes.DatetimeDate, ColumnTypes.DatetimeTime, ColumnTypes.Datetime],\n\t\tincompatibleWith: [FilterIds.IsEmpty, FilterIds.IsEqual, FilterIds.IsLowerThan, FilterIds.IsLowerThanOrEqual],\n\t}),\n\tIsEmpty: new Filter({\n\t\tid: FilterIds.IsEmpty,\n\t\tlabel: t('tables', 'Is empty'),\n\t\tgoodFor: [ColumnTypes.TextLine, ColumnTypes.TextRich, ColumnTypes.Number, ColumnTypes.TextLink, ColumnTypes.NumberProgress, ColumnTypes.DatetimeDate, ColumnTypes.DatetimeTime, ColumnTypes.Datetime, ColumnTypes.SelectionCheck, ColumnTypes.Usergroup],\n\t\tincompatibleWith: [FilterIds.Contains, FilterIds.BeginsWith, FilterIds.EndsWith, FilterIds.IsEqual, FilterIds.IsGreaterThan, FilterIds.IsGreaterThanOrEqual, FilterIds.IsLowerThan, FilterIds.IsLowerThanOrEqual, FilterIds.IsEmpty],\n\t\tnoSearchValue: true,\n\t}),\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { getCurrentUser } from '@nextcloud/auth'\nimport Moment from '@nextcloud/moment'\nimport { ColumnTypes } from './columnHandler.js'\nimport { translate as t } from '@nextcloud/l10n'\n\nclass BaseMagicField {\n\n\tconstructor() {\n\t\tthis.source = 'magic-fields'\n\t\tthis.subline = t('tables', 'Magic field')\n\t}\n\n}\n\nclass MagicField extends BaseMagicField {\n\n\tconstructor({ id, label, icon, goodFor, replace } = {}) {\n\t\tsuper()\n\t\tthis.id = id\n\t\tthis.label = label\n\t\tthis.icon = icon\n\t\tthis.goodFor = goodFor\n\t\tthis.replace = replace\n\t}\n\n}\n\nexport function getMagicFieldWithId(id) {\n\treturn Object.values(MagicFields).find(mf => mf.id === id)\n}\n\nexport const MagicFields = {\n\tMe: new MagicField({\n\t\tid: 'me',\n\t\tlabel: t('tables', 'Me (user ID)'),\n\t\ticon: 'icon-user',\n\t\tgoodFor: [ColumnTypes.TextLine, ColumnTypes.Selection, ColumnTypes.SelectionMulti, ColumnTypes.TextRich, ColumnTypes.TextLink],\n\t\treplace: getCurrentUser()?.uid,\n\t}),\n\tMyName: new MagicField({\n\t\tid: 'my-name',\n\t\tlabel: t('tables', 'Me (name)'),\n\t\ticon: 'icon-user',\n\t\tgoodFor: [ColumnTypes.TextLine, ColumnTypes.Selection, ColumnTypes.SelectionMulti, ColumnTypes.TextRich, ColumnTypes.TextLink],\n\t\treplace: getCurrentUser()?.displayName,\n\t}),\n\tChecked: new MagicField({\n\t\tid: 'checked',\n\t\tlabel: t('tables', 'Checked'),\n\t\ticon: 'icon-checkmark',\n\t\tgoodFor: [ColumnTypes.SelectionCheck],\n\t\treplace: 'yes',\n\t}),\n\tUnchecked: new MagicField({\n\t\tid: 'unchecked',\n\t\tlabel: t('tables', 'Unchecked'),\n\t\ticon: 'icon-close',\n\t\tgoodFor: [ColumnTypes.SelectionCheck],\n\t\treplace: 'no',\n\t}),\n\tStars0: new MagicField({\n\t\tid: 'stars-0',\n\t\tlabel: '',\n\t\ticon: 'icon-star',\n\t\tgoodFor: [ColumnTypes.NumberStars],\n\t\treplace: '0',\n\t}),\n\tStars1: new MagicField({\n\t\tid: 'stars-1',\n\t\tlabel: '',\n\t\ticon: 'icon-star',\n\t\tgoodFor: [ColumnTypes.NumberStars],\n\t\treplace: '1',\n\t}),\n\tStars2: new MagicField({\n\t\tid: 'stars-2',\n\t\tlabel: '',\n\t\ticon: 'icon-star',\n\t\tgoodFor: [ColumnTypes.NumberStars],\n\t\treplace: '2',\n\t}),\n\tStars3: new MagicField({\n\t\tid: 'stars-3',\n\t\tlabel: '',\n\t\ticon: 'icon-star',\n\t\tgoodFor: [ColumnTypes.NumberStars],\n\t\treplace: '3',\n\t}),\n\tStars4: new MagicField({\n\t\tid: 'stars-4',\n\t\tlabel: '',\n\t\ticon: 'icon-star',\n\t\tgoodFor: [ColumnTypes.NumberStars],\n\t\treplace: '4',\n\t}),\n\tStars5: new MagicField({\n\t\tid: 'stars-5',\n\t\tlabel: '',\n\t\ticon: 'icon-star',\n\t\tgoodFor: [ColumnTypes.NumberStars],\n\t\treplace: '5',\n\t}),\n\tDatetimeDateToday: new MagicField({\n\t\tid: 'datetime-date-today',\n\t\tlabel: t('tables', 'Today'),\n\t\ticon: 'icon-calendar-dark',\n\t\tgoodFor: [ColumnTypes.DatetimeDate, ColumnTypes.Datetime],\n\t\treplace: new Moment().format('YYYY-MM-DD'),\n\t}),\n\tDatetimeDateStartOfYear: new MagicField({\n\t\tid: 'datetime-date-start-of-year',\n\t\tlabel: t('tables', 'Start of the year'),\n\t\ticon: 'icon-history',\n\t\tgoodFor: [ColumnTypes.DatetimeDate],\n\t\treplace: new Moment().startOf('year').format('YYYY-MM-DD'),\n\t}),\n\tDatetimeDateStartOfMonth: new MagicField({\n\t\tid: 'datetime-date-start-of-month',\n\t\tlabel: t('tables', 'Start of the month'),\n\t\ticon: 'icon-history',\n\t\tgoodFor: [ColumnTypes.DatetimeDate],\n\t\treplace: new Moment().startOf('month').format('YYYY-MM-DD'),\n\t}),\n\tDatetimeDateStartOfWeek: new MagicField({\n\t\tid: 'datetime-date-start-of-week',\n\t\tlabel: t('tables', 'Start of the week'),\n\t\ticon: 'icon-history',\n\t\tgoodFor: [ColumnTypes.DatetimeDate],\n\t\treplace: new Moment().startOf('week').format('YYYY-MM-DD'),\n\t}),\n\tDatetimeTimeNow: new MagicField({\n\t\tid: 'datetime-time-now',\n\t\tlabel: t('tables', 'Now'),\n\t\ticon: 'icon-calendar-dark',\n\t\tgoodFor: [ColumnTypes.DatetimeTime],\n\t\treplace: new Moment().format('HH:mm'),\n\t}),\n\tDatetimeNow: new MagicField({\n\t\tid: 'datetime-now',\n\t\tlabel: t('tables', 'Now'),\n\t\ticon: 'icon-calendar-dark',\n\t\tgoodFor: [ColumnTypes.Datetime],\n\t\treplace: new Moment().format('YYYY-MM-DD HH:mm'),\n\t}),\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport DatetimeColumn from './columnsTypes/datetime.js'\nimport NumberColumn from './columnsTypes/number.js'\nimport TextLineColumn from './columnsTypes/textLine.js'\nimport { translate as t } from '@nextcloud/l10n'\nimport {\n\tTYPE_META_CREATED_AT,\n\tTYPE_META_CREATED_BY,\n\tTYPE_META_ID,\n\tTYPE_META_UPDATED_AT,\n\tTYPE_META_UPDATED_BY,\n} from '../../../constants.js'\n\nexport const MetaColumns = [\n\tnew NumberColumn({ id: TYPE_META_ID, title: t('tables', 'ID') }),\n\tnew TextLineColumn({ id: TYPE_META_CREATED_BY, title: t('tables', 'Creator') }),\n\tnew TextLineColumn({ id: TYPE_META_UPDATED_BY, title: t('tables', 'Last editor') }),\n\tnew DatetimeColumn({ id: TYPE_META_CREATED_AT, title: t('tables', 'Created at') }),\n\tnew DatetimeColumn({ id: TYPE_META_UPDATED_AT, title: t('tables', 'Last edited at') }),\n]\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport { showError } from '@nextcloud/dialogs'\n\n/**\n * @param {Error} e error object\n * @param {string} message Error print message\n * @param {number} status http code\n */\nfunction handleAxiosError(e, message, status) {\n\tconsole.error('Axios error', e)\n\tshowError(message + ' ' + statusMessage(status))\n}\n\n/**\n * @param {number} status http code\n * @return {string}\n */\nfunction statusMessage(status) {\n\tif (status === 401) {\n\t\treturn t('tables', 'Request is not authorized. Are you logged in?')\n\t} else if (status === 403) {\n\t\treturn t('tables', 'Request not allowed.')\n\t} else if (status === 404) {\n\t\treturn t('tables', 'Resource not found.')\n\t} else {\n\t\treturn t('tables', 'Unknown error.')\n\t}\n}\n\n/**\n * Handle errors that only have a msg\n *\n * @param {Error} e The error\n * @param {string} msg as message to toast out\n */\nfunction displaySimpleError(e = null, msg = '') {\n\tconsole.error('Error occurred: ' + (msg ?? ''), e?.message)\n\tshowError(msg)\n}\n\n/**\n * Print error to console and show toast\n *\n * @param {Error} e The error\n * @param {string} msg Message to print out\n */\nexport default function(e, msg) {\n\tconst status = e?.response?.status || null\n\n\tif (status) {\n\t\thandleAxiosError(e, msg, status)\n\t} else {\n\t\tdisplaySimpleError(e, msg)\n\t}\n}\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nimport axios from '@nextcloud/axios'\nimport { defineStore } from 'pinia'\nimport { generateUrl, generateOcsUrl } from '@nextcloud/router'\nimport displayError from '../shared/utils/displayError.js'\nimport { parseCol } from '../shared/components/ncTable/mixins/columnParser.js'\nimport { MetaColumns } from '../shared/components/ncTable/mixins/metaColumns.js'\nimport { showError } from '@nextcloud/dialogs'\nimport { set } from 'vue'\n\nfunction genStateKey(isView, elementId) {\n\telementId = elementId.toString()\n\treturn isView ? 'view-' + elementId : elementId\n}\n\nexport const useDataStore = defineStore('data', {\n\tstate: () => ({\n\t\tloading: {},\n\t\trows: {},\n\t\tcolumns: {},\n\t}),\n\n\tgetters: {\n\t\tgetColumns: (state) => (isView, elementId) => {\n\t\t\tconst stateId = genStateKey(isView, elementId)\n\t\t\treturn state.columns[stateId] ?? []\n\t\t},\n\t\tgetRows: (state) => (isView, elementId) => {\n\t\t\tconst stateId = genStateKey(isView, elementId)\n\t\t\treturn state.rows[stateId] ?? []\n\t\t},\n\t},\n\n\tactions: {\n\t\tclearState() {\n\t\t\tthis.loading = {}\n\t\t\tthis.columns = {}\n\t\t\tthis.rows = {}\n\t\t},\n\n\t\t// COLUMNS\n\t\tasync getColumnsFromBE({ tableId, viewId }) {\n\t\t\tconst stateId = genStateKey(!!(viewId), viewId ?? tableId)\n\t\t\tthis.loading[stateId] = true\n\t\t\tlet res = null\n\n\t\t\ttry {\n\t\t\t\tif (tableId && viewId) {\n\t\t\t\t\tres = await axios.get(generateUrl('/apps/tables/api/1/tables/' + tableId + '/columns') + '?viewId=' + viewId)\n\t\t\t\t} else if (tableId && !viewId) {\n\t\t\t\t\t// Get all table columns without view. Table manage rights needed\n\t\t\t\t\tres = await axios.get(generateUrl('/apps/tables/api/1/tables/' + tableId + '/columns'))\n\t\t\t\t} else if (!tableId && viewId) {\n\t\t\t\t\t// Get all view columns.\n\t\t\t\t\tres = await axios.get(generateUrl('/apps/tables/api/1/views/' + viewId + '/columns'))\n\t\t\t\t}\n\t\t\t\tif (!Array.isArray(res.data)) {\n\t\t\t\t\tconst e = new Error('Expected array, but is not')\n\t\t\t\t\tdisplayError(e, 'Format for loaded columns not valid.')\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not load columns.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst columns = res.data.map(col => parseCol(col))\n\t\t\tthis.loading[stateId] = false\n\t\t\treturn columns\n\t\t},\n\n\t\tasync loadColumnsFromBE({ view, tableId }) {\n\t\t\tlet allColumns = await this.getColumnsFromBE({ tableId, viewId: view?.id })\n\t\t\tif (view) {\n\t\t\t\tallColumns = allColumns.concat(MetaColumns.filter(col => view.columns.includes(col.id)))\n\t\t\t\tallColumns = allColumns.sort((a, b) => view.columns.indexOf(a.id) - view.columns.indexOf(b.id))\n\t\t\t}\n\t\t\tconst stateId = genStateKey(!!(view?.id), view?.id ?? tableId)\n\t\t\tset(this.columns, stateId, allColumns)\n\t\t\treturn true\n\t\t},\n\n\t\tasync insertNewColumn({ isView, elementId, data }) {\n\t\t\tconst stateId = genStateKey(isView, elementId)\n\t\t\tthis.loading[stateId] = true\n\t\t\tlet res = null\n\n\t\t\ttry {\n\t\t\t\tres = await axios.post(generateUrl('/apps/tables/api/1/columns'), data)\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not insert column.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tif (stateId) {\n\t\t\t\tthis.columns[stateId].push(parseCol(res.data))\n\t\t\t\tthis.loading[stateId] = false\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\n\t\tasync updateColumn({ id, isView, elementId, data }) {\n\t\t\tdata.selectionOptions = JSON.stringify(data.selectionOptions)\n\t\t\tdata.usergroupDefault = JSON.stringify(data.usergroupDefault)\n\t\t\tlet res = null\n\n\t\t\ttry {\n\t\t\t\tres = await axios.put(generateUrl('/apps/tables/api/1/columns/' + id), data)\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not update column.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst stateId = genStateKey(isView, elementId)\n\t\t\tif (stateId && this.columns[stateId]) {\n\t\t\t\tconst col = res.data\n\t\t\t\tconst index = this.columns[stateId].findIndex(c => c.id === col.id)\n\t\t\t\tset(this.columns[stateId], index, parseCol(col))\n\t\t\t}\n\n\t\t\treturn true\n\t\t},\n\n\t\tasync removeColumn({ id, isView, elementId }) {\n\t\t\ttry {\n\t\t\t\tawait axios.delete(generateUrl('/apps/tables/api/1/columns/' + id))\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not remove column.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst stateId = genStateKey(isView, elementId)\n\t\t\tif (stateId && this.columns[stateId]) {\n\t\t\t\tconst filteredColumns = this.columns[stateId].filter(c => c.id !== id)\n\t\t\t\tset(this.columns, stateId, filteredColumns)\n\t\t\t}\n\n\t\t\treturn true\n\t\t},\n\n\t\t// ROWS\n\t\tasync loadRowsFromBE({ tableId, viewId }) {\n\t\t\tconst stateId = genStateKey(!!(viewId), viewId ?? tableId)\n\t\t\tthis.loading[stateId] = true\n\t\t\tlet res = null\n\n\t\t\ttry {\n\t\t\t\tif (viewId) {\n\t\t\t\t\tres = await axios.get(generateUrl('/apps/tables/row/view/' + viewId))\n\t\t\t\t} else {\n\t\t\t\t\tres = await axios.get(generateUrl('/apps/tables/row/table/' + tableId))\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not load rows.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tset(this.rows, stateId, res.data)\n\t\t\tthis.loading[stateId] = false\n\t\t\treturn true\n\t\t},\n\n\t\tremoveRows({ isView, elementId }) {\n\t\t\tconst stateId = genStateKey(isView, elementId)\n\t\t\tset(this.rows, stateId, [])\n\t\t},\n\n\t\tasync updateRow({ id, isView, elementId, data }) {\n\t\t\tlet res = null\n\t\t\tconst viewId = isView ? elementId : null\n\n\t\t\ttry {\n\t\t\t\tres = await axios.put(generateUrl('/apps/tables/row/' + id), { viewId, data })\n\t\t\t} catch (e) {\n\t\t\t\tconsole.debug(e?.response)\n\t\t\t\tif (e?.response?.data?.message?.startsWith('User should not be able to access row')) {\n\t\t\t\t\tshowError(t('tables', 'Outdated data. View is reloaded'))\n\t\t\t\t\tawait this.loadRowsFromBE({ viewId })\n\t\t\t\t} else {\n\t\t\t\t\tdisplayError(e, t('tables', 'Could not update row.'))\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst stateId = genStateKey(isView, elementId)\n\t\t\tif (stateId && this.rows[stateId]) {\n\t\t\t\tconst row = res.data\n\t\t\t\tconst index = this.rows[stateId].findIndex(r => r.id === row.id)\n\t\t\t\tset(this.rows[stateId], index, row)\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\n\t\tasync insertNewRow({ viewId, tableId, data }) {\n\t\t\tlet res = null\n\n\t\t\ttry {\n\t\t\t\tconst collection = viewId == null ? 'tables' : 'views'\n\t\t\t\tconst nodeId = viewId == null ? tableId : viewId\n\t\t\t\tres = await axios.post(generateOcsUrl('/apps/tables/api/2/' + collection + '/' + nodeId + '/rows'), { data })\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not insert row.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst stateId = genStateKey(!!(viewId), viewId ?? tableId)\n\t\t\tif (stateId && this.rows[stateId]) {\n\t\t\t\tconst row = res?.data?.ocs?.data\n\t\t\t\tconst newIndex = this.rows[stateId].length\n\t\t\t\tset(this.rows[stateId], newIndex, row)\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\n\t\tasync removeRow({ rowId, isView, elementId }) {\n\t\t\tconst viewId = isView ? elementId : null\n\t\t\ttry {\n\t\t\t\tif (viewId) {\n\t\t\t\t\tawait axios.delete(generateUrl('/apps/tables/view/' + viewId + '/row/' + rowId))\n\t\t\t\t} else {\n\t\t\t\t\tawait axios.delete(generateUrl('/apps/tables/row/' + rowId))\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tif (e?.response?.data?.message?.startsWith('User should not be able to access row')) {\n\t\t\t\t\tshowError(t('tables', 'Outdated data. View is reloaded'))\n\t\t\t\t\tawait this.loadRowsFromBE({ viewId })\n\t\t\t\t} else {\n\t\t\t\t\tdisplayError(e, t('tables', 'Could not remove row.'))\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst stateId = genStateKey(isView, elementId)\n\t\t\tif (stateId && this.rows[stateId]) {\n\t\t\t\tconst filteredRows = this.rows[stateId].filter(r => r.id !== rowId)\n\t\t\t\tset(this.rows, stateId, filteredRows)\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\t},\n})\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { defineStore } from 'pinia'\nimport axios from '@nextcloud/axios'\nimport { generateUrl, generateOcsUrl } from '@nextcloud/router'\nimport { showError } from '@nextcloud/dialogs'\nimport displayError from '../shared/utils/displayError.js'\nimport { NODE_TYPE_TABLE, NODE_TYPE_VIEW } from '../shared/constants.js'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { set } from 'vue'\n\nexport const useTablesStore = defineStore('store', {\n\tstate: () => ({\n\t\tloading: {\n\t\t\ttables: true,\n\t\t\tviewsShared: true,\n\t\t\tcontexts: true,\n\t\t},\n\t\ttables: [],\n\t\tviews: [],\n\t\ttemplates: [],\n\t\tcontexts: [],\n\t\tactiveViewId: null,\n\t\tactiveTableId: null,\n\t\tactiveRowId: null,\n\t\tactiveElementIsView: false,\n\t\tactiveContextId: null,\n\t\tappNavCollapsed: false,\n\t}),\n\n\tgetters: {\n\t\tgetTable: (state) => (id) => {\n\t\t\treturn state.tables.find(table => table.id === id)\n\t\t},\n\t\tgetContext: (state) => (id) => {\n\t\t\treturn state.contexts.find(context => context.id === id)\n\t\t},\n\t\tgetView: (state) => (id) => {\n\t\t\treturn state.views.find(view => view.id === id)\n\t\t},\n\t\tactiveView: (state) => {\n\t\t\tif (state.views && state.activeViewId) {\n\t\t\t\treturn state.views.find(item => item.id === state.activeViewId)\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\t\tactiveTable: (state) => {\n\t\t\tif (state.tables && state.activeTableId) {\n\t\t\t\treturn state.tables.find(item => item.id === state.activeTableId)\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\t\tactiveElement(state) {\n\t\t\tif (state.activeTableId && state.tables) {\n\t\t\t\treturn state.tables.find(item => item.id === state.activeTableId)\n\t\t\t} else if (state.views && state.activeViewId) {\n\t\t\t\treturn state.views.find(item => item.id === state.activeViewId)\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\t\tactiveContext: (state) => {\n\t\t\tif (state.contexts && state.activeContextId) {\n\t\t\t\treturn state.contexts.find(item => item.id === state.activeContextId)\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\n\t\tisView: (state) => state.activeElementIsView,\n\n\t\tisLoading: (state) => (key) => state.loading[key] ?? false,\n\n\t\tisLoadingSomething: (state) => Object.keys(state.loading).filter(key => state.loading[key]).length > 0,\n\t},\n\n\tactions: {\n\t\tsetAppNavCollapsed(value) {\n\t\t\tthis.appNavCollapsed = !!value\n\t\t},\n\n\t\tsetLoading({ key, value }) {\n\t\t\tthis.loading[key] = !!value\n\t\t},\n\n\t\tsetActiveViewId(viewId) {\n\t\t\tif (this.activeViewId !== viewId) {\n\t\t\t\tthis.activeViewId = viewId\n\t\t\t\tthis.activeTableId = null\n\t\t\t\tthis.activeElementIsView = true\n\t\t\t}\n\t\t},\n\n\t\tsetActiveTableId(tableId) {\n\t\t\tif (this.activeTableId !== tableId) {\n\t\t\t\tthis.activeTableId = tableId\n\t\t\t\tthis.activeViewId = null\n\t\t\t\tthis.activeElementIsView = false\n\t\t\t}\n\t\t},\n\t\tsetActiveContextId(contextId) {\n\t\t\tif (this.activeContextId !== contextId) {\n\t\t\t\tthis.activeContextId = parseInt(contextId)\n\t\t\t}\n\t\t},\n\t\tsetTables(tables) {\n\t\t\tthis.tables = tables\n\t\t},\n\t\tsetViews(views) {\n\t\t\tthis.views = views\n\t\t},\n\t\tsetTemplates(templates) {\n\t\t\tthis.templates = templates\n\t\t},\n\t\tsetContexts(contexts) {\n\t\t\tthis.contexts = contexts\n\t\t},\n\t\tsetTable(table) {\n\t\t\tconst index = this.tables.findIndex(t => t.id === table.id)\n\t\t\tthis.tables.splice(index, 1, table)\n\t\t},\n\t\tsetView(view) {\n\t\t\tconst index = this.views.findIndex(v => v.id === view.id)\n\t\t\tthis.views[index] = view\n\t\t},\n\t\tsetContext(context) {\n\t\t\tconst index = this.contexts.findIndex(c => c.id === context.id)\n\t\t\tthis.contexts[index] = context\n\t\t},\n\t\tsetActiveRowId(rowId) {\n\t\t\tthis.activeRowId = rowId\n\t\t},\n\n\t\tasync insertNewTable({ data }) {\n\t\t\tlet res = null\n\n\t\t\ttry {\n\t\t\t\tres = (await axios.post(generateOcsUrl('/apps/tables/api/2/tables'), data)).data.ocs\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not insert table.'))\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconst tables = this.tables\n\t\t\ttables.push(res.data)\n\t\t\tthis.setTables(tables)\n\t\t\treturn res.data\n\t\t},\n\n\t\tasync loadTablesFromBE() {\n\t\t\tthis.setLoading({ key: 'tables', value: true })\n\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(generateUrl('/apps/tables/table'))\n\t\t\t\tthis.setTables(res.data)\n\t\t\t\tthis.views = []\n\t\t\t\tres.data.forEach(table => {\n\t\t\t\t\tif (table.views) this.views = this.views.concat(table.views)\n\t\t\t\t})\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not load tables.'))\n\t\t\t\tshowError(t('tables', 'Could not fetch tables'))\n\t\t\t}\n\n\t\t\tthis.setLoading({ key: 'tables', value: false })\n\t\t\treturn true\n\t\t},\n\n\t\tasync loadViewsSharedWithMeFromBE() {\n\t\t\tthis.setLoading({ key: 'viewsShared', value: true })\n\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(generateUrl('/apps/tables/view'))\n\t\t\t\tres.data.forEach(view => {\n\t\t\t\t\tif (this.views.filter(v => v.id === view.id).length === 0) {\n\t\t\t\t\t\tthis.views.push(view)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not load shared views.'))\n\t\t\t\tshowError(t('tables', 'Could not load shared views'))\n\t\t\t}\n\n\t\t\tthis.setLoading({ key: 'viewsShared', value: false })\n\t\t\treturn true\n\t\t},\n\n\t\tasync loadTemplatesFromBE() {\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(generateUrl('/apps/tables/table/templates'))\n\t\t\t\tthis.templates = res.data\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not load templates.'))\n\t\t\t\tshowError(t('tables', 'Could not fetch templates'))\n\t\t\t}\n\t\t},\n\n\t\tasync insertNewView({ data }) {\n\t\t\tlet res = null\n\t\t\ttry {\n\t\t\t\tres = await axios.post(generateUrl('/apps/tables/view'), data)\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not insert view.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst views = this.views\n\t\t\tviews.push(res.data)\n\t\t\tthis.setViews(views)\n\t\t\tconst table = this.tables.find(t => t.id === res.data.tableId)\n\t\t\ttable.views.push(res.data)\n\n\t\t\treturn res.data.id\n\t\t},\n\n\t\tasync updateView({ id, data }) {\n\t\t\tlet res = null\n\n\t\t\ttry {\n\t\t\t\tres = await axios.put(generateUrl('/apps/tables/view/' + id), data)\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not update view.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst view = res.data\n\t\t\tconst views = this.views\n\t\t\tconst index = views.findIndex(v => v.id === view.id)\n\t\t\tviews[index] = view\n\t\t\tthis.setViews([...views])\n\t\t\treturn true\n\t\t},\n\n\t\tasync removeView({ viewId }) {\n\t\t\ttry {\n\t\t\t\tawait axios.delete(generateUrl('/apps/tables/view/' + viewId))\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not remove view.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst views = this.views\n\t\t\tconst index = views.findIndex(v => v.id === viewId)\n\t\t\tviews.splice(index, 1)\n\t\t\tthis.setViews([...views])\n\t\t\treturn true\n\t\t},\n\n\t\tasync reloadViewsOfTable({ tableId }) {\n\t\t\tlet res = null\n\t\t\ttry {\n\t\t\t\tres = await axios.get(generateUrl('/apps/tables/view/table/' + tableId))\n\t\t\t\t// Set Views\n\t\t\t\tconst views = this.views\n\t\t\t\tres.data.forEach(view => {\n\t\t\t\t\tconst index = views.findIndex(v => v.id === view.id)\n\t\t\t\t\tset(this.views, index, view)\n\t\t\t\t})\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not reload view.'))\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\n\t\tasync updateTable({ id, data }) {\n\t\t\tlet res = null\n\n\t\t\ttry {\n\t\t\t\tres = (await axios.put(generateOcsUrl('/apps/tables/api/2/tables/' + id), data)).data.ocs\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not update table.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst table = res.data\n\t\t\tconst tables = this.tables\n\t\t\tconst index = tables.findIndex(t => t.id === table.id)\n\t\t\tset(this.tables, index, table)\n\t\t\treturn true\n\t\t},\n\n\t\tasync favoriteView({ id }) {\n\t\t\ttry {\n\t\t\t\tawait axios.post(generateOcsUrl(`/apps/tables/api/2/favorites/${NODE_TYPE_VIEW}/${id}`))\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not favorite view'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst index = this.views.findIndex(v => v.id === id)\n\t\t\tconst view = this.views[index]\n\t\t\tview.favorite = true\n\t\t\tthis.setView(view)\n\n\t\t\treturn true\n\t\t},\n\n\t\tasync removeFavoriteView({ id }) {\n\t\t\ttry {\n\t\t\t\tawait axios.delete(generateOcsUrl(`/apps/tables/api/2/favorites/${NODE_TYPE_VIEW}/${id}`))\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not remove view from favorites'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst index = this.views.findIndex(v => v.id === id)\n\t\t\tconst view = this.views[index]\n\t\t\tview.favorite = false\n\t\t\tthis.setView(view)\n\n\t\t\treturn true\n\t\t},\n\n\t\tasync favoriteTable({ id }) {\n\t\t\ttry {\n\t\t\t\tawait axios.post(generateOcsUrl(`/apps/tables/api/2/favorites/${NODE_TYPE_TABLE}/${id}`))\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not favorite table'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst index = this.tables.findIndex(t => t.id === id)\n\t\t\tconst table = this.tables[index]\n\t\t\ttable.favorite = true\n\t\t\tthis.setTable(table)\n\n\t\t\treturn true\n\t\t},\n\n\t\tasync removeFavoriteTable({ id }) {\n\t\t\ttry {\n\t\t\t\tawait axios.delete(generateOcsUrl(`/apps/tables/api/2/favorites/${NODE_TYPE_TABLE}/${id}`))\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not remove table from favorites'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst index = this.tables.findIndex(t => t.id === id)\n\t\t\tconst table = this.tables[index]\n\t\t\ttable.favorite = false\n\t\t\tthis.setTable(table)\n\n\t\t\treturn true\n\t\t},\n\n\t\tasync shareContext({ id, previousReceivers, receivers, displayMode }) {\n\t\t\tconst share = {\n\t\t\t\tnodeType: 'context',\n\t\t\t\tnodeId: id,\n\t\t\t\tdisplayMode,\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tfor (const receiver of receivers) {\n\t\t\t\t\tshare.receiverType = receiver.isUser ? 'user' : 'group'\n\t\t\t\t\tshare.receiver = receiver.id\n\t\t\t\t\t// Avoid duplicate shares by checking if share exists first\n\t\t\t\t\tconst existingShare = previousReceivers.find((p) => p.receiver === share.receiver && p.receiver_type === share.receiverType)\n\t\t\t\t\tif (!existingShare) {\n\t\t\t\t\t\tconst createdShare = await axios.post(generateUrl('/apps/tables/share'), share)\n\t\t\t\t\t\tif (createdShare?.data && createdShare?.data?.id) {\n\t\t\t\t\t\t\tconst shareId = createdShare.data.id\n\t\t\t\t\t\t\tawait this.updateDisplayMode({ shareId, displayMode, target: 'default' })\n\t\t\t\t\t\t\tif (receiver.id === getCurrentUser().uid) {\n\t\t\t\t\t\t\t\tawait this.updateDisplayMode({ shareId, displayMode, target: 'self' })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not add application share.'))\n\t\t\t}\n\t\t\ttry {\n\t\t\t\t// If there's a previous share that wasn't maintained, delete it\n\t\t\t\tfor (const previousReceiver of previousReceivers) {\n\t\t\t\t\tconst currentShare = receivers.find((r) => {\n\t\t\t\t\t\tconst receiverType = r.isUser ? 'user' : 'group'\n\t\t\t\t\t\treturn r.id === previousReceiver.receiver && receiverType === previousReceiver.receiver_type\n\t\t\t\t\t})\n\t\t\t\t\tif (!currentShare) {\n\t\t\t\t\t\tawait axios.delete(generateUrl('/apps/tables/share/' + previousReceiver.share_id))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst shareId = previousReceiver.share_id\n\t\t\t\t\t\tawait this.updateDisplayMode({ shareId, displayMode, target: 'default' })\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not remove application share.'))\n\t\t\t}\n\t\t},\n\n\t\tasync updateDisplayMode({ shareId, displayMode, target }) {\n\t\t\ttry {\n\t\t\t\tawait axios.put(generateUrl('/apps/tables/share/' + shareId + '/display-mode'), { displayMode, target })\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not update display mode.'))\n\t\t\t}\n\t\t},\n\n\t\tasync insertNewContext({ data, receivers, displayMode }) {\n\t\t\tthis.setLoading({ key: 'contexts', value: true })\n\t\t\tlet res = null\n\n\t\t\ttry {\n\t\t\t\tres = await axios.post(generateOcsUrl('/apps/tables/api/2/contexts'), data)\n\t\t\t\tconst id = res?.data?.ocs?.data?.id\n\t\t\t\tif (id) {\n\t\t\t\t\tawait this.shareContext({ id, previousReceivers: [], receivers, displayMode })\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not insert application.'))\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconst contexts = this.contexts\n\t\t\tcontexts.push(res.data.ocs.data)\n\t\t\tthis.setContexts(contexts)\n\n\t\t\tthis.setLoading({ key: 'contexts', value: false })\n\t\t\treturn res.data.ocs.data\n\t\t},\n\n\t\tasync updateContext({ id, data, previousReceivers, receivers, displayMode }) {\n\t\t\tlet res = null\n\t\t\ttry {\n\t\t\t\tres = await axios.put(generateOcsUrl('/apps/tables/api/2/contexts/' + id), data)\n\t\t\t\tawait this.shareContext({ id, previousReceivers, receivers, displayMode })\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not update application.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst context = res.data.ocs.data\n\t\t\tconst index = this.contexts.findIndex(c => c.id === context.id)\n\t\t\tset(this.contexts, index, context)\n\n\t\t\treturn true\n\t\t},\n\n\t\tasync transferTable({ id, data }) {\n\t\t\ttry {\n\t\t\t\tawait axios.put(generateOcsUrl('/apps/tables/api/2/tables/' + id + '/transfer'), data)\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not transfer table.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst tables = this.tables\n\t\t\tconst index = tables.findIndex(t => t.id === id)\n\t\t\ttables.splice(index, 1)\n\t\t\tthis.setTables([...tables])\n\t\t\treturn true\n\t\t},\n\n\t\tasync getAllContexts() {\n\t\t\tthis.setLoading({ key: 'contexts', value: true })\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(generateOcsUrl('/apps/tables/api/2/contexts'))\n\t\t\t\tthis.contexts = res.data.ocs.data\n\t\t\t\tawait this.getContextsTablesAndViews()\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not load applications.'))\n\t\t\t\tshowError(t('tables', 'Could not fetch applications'))\n\t\t\t}\n\t\t\tthis.setLoading({ key: 'contexts', value: false })\n\t\t\treturn true\n\t\t},\n\n\t\tasync loadContext({ id }) {\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(generateOcsUrl('/apps/tables/api/2/contexts/' + id))\n\t\t\t\tthis.setContext(res.data.ocs.data)\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not load application.'))\n\t\t\t\tshowError(t('tables', 'Could not fetch application'))\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\n\t\tasync getContextsTablesAndViews() {\n\t\t\tfor (const context of this.contexts) {\n\t\t\t\tfor (const node of Object.values(context?.nodes)) {\n\t\t\t\t\tif (parseInt(node.node_type) === NODE_TYPE_TABLE) {\n\t\t\t\t\t\tawait this.loadContextTable({ id: node.node_id })\n\t\t\t\t\t} else if (parseInt(node.node_type) === NODE_TYPE_VIEW) {\n\t\t\t\t\t\tawait this.loadContextView({ id: node.node_id })\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\tasync loadContextTable({ id }) {\n\t\t\tconst table = this.tables.find(table => table.id === id)\n\t\t\tif (table) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tlet res\n\t\t\ttry {\n\t\t\t\tres = await axios.get(generateOcsUrl('/apps/tables/api/2/tables/' + id))\n\t\t\t\tconst tables = this.tables\n\t\t\t\ttables.push(res.data.ocs.data)\n\t\t\t\tthis.setTables([...tables])\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not load table.'))\n\t\t\t\tshowError(t('tables', 'Could not fetch table'))\n\t\t\t}\n\t\t\treturn res?.data.ocs.data\n\t\t},\n\n\t\tasync loadContextView({ id }) {\n\t\t\tconst view = this.views.find(view => view.id === id)\n\t\t\tif (view) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tlet res\n\t\t\ttry {\n\t\t\t\tres = await axios.get(generateUrl('/apps/tables/view/' + id))\n\t\t\t\tconst views = this.views\n\t\t\t\tviews.push(res.data)\n\t\t\t\tthis.setViews([...views])\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not load view'))\n\t\t\t\tshowError(t('tables', 'Could not fetch view'))\n\t\t\t}\n\t\t\treturn res?.data\n\t\t},\n\n\t\tasync transferContext({ id, data }) {\n\t\t\ttry {\n\t\t\t\tawait axios.put(generateOcsUrl('/apps/tables/api/2/contexts/' + id + '/transfer'), data)\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not transfer application.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst contexts = this.contexts\n\t\t\tconst index = contexts.findIndex(c => c.id === id)\n\t\t\tcontexts.splice(index, 1)\n\t\t\tthis.setContexts([...contexts])\n\t\t\treturn true\n\t\t},\n\n\t\tasync removeContext({ context }) {\n\t\t\ttry {\n\t\t\t\tawait axios.delete(generateOcsUrl('/apps/tables/api/2/contexts/' + context.id))\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not remove application.'))\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconst contexts = this.contexts\n\t\t\tconst index = contexts.findIndex(c => c.id === context.id)\n\t\t\tcontexts.splice(index, 1)\n\t\t\tthis.setContexts([...contexts])\n\t\t\treturn true\n\t\t},\n\n\t\tasync removeTable({ tableId }) {\n\t\t\ttry {\n\t\t\t\tawait axios.delete(generateUrl('/apps/tables/table/' + tableId))\n\t\t\t} catch (e) {\n\t\t\t\tdisplayError(e, t('tables', 'Could not remove table.'))\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst tables = this.tables\n\t\t\tconst index = tables.findIndex(t => t.id === tableId)\n\t\t\ttables.splice(index, 1)\n\t\t\tthis.setTables([...tables])\n\t\t\treturn true\n\t\t},\n\n\t\tsetTableHasShares({ tableId, hasShares }) {\n\t\t\tconst table = this.tables.find(t => t.id === tableId)\n\t\t\tif (table) {\n\t\t\t\ttable.hasShares = !!hasShares\n\t\t\t}\n\t\t},\n\n\t\tsetViewHasShares({ viewId, hasShares }) {\n\t\t\tconst view = this.views.find(v => v.id === viewId)\n\t\t\tif (view) {\n\t\t\t\tview.hasShares = !!hasShares\n\t\t\t}\n\t\t},\n\n\t},\n})\n"],"names":["AbstractColumn","type","constructor","data","this","createdAt","createdBy","id","lastEditAt","lastEditBy","mandatory","tableId","title","description","createdByDisplayName","lastEditByDisplayName","canSort","sort","getNextSortsResult","nextSorts","rowA","rowB","result","getPossibleOperators","Object","values","Filters","filter","fil","goodFor","includes","getPossibleMagicFields","MagicFields","item","isSearchStringFound","cellValue","cell","searchString","toLowerCase","searchStringFound","isFilterFound","filterMethod","filterFound","getValueString","valueObject","value","parseValue","AbstractUsergroupColumn","super","usergroupDefault","default","AbstractNumberColumn","numberDefault","AbstractDatetimeColumn","datetimeDefault","formatValue","AbstractTextColumn","textDefault","AbstractSelectionColumn","selectionDefault","ColumnTypes","TextLine","TextLong","TextRich","Selection","SelectionMulti","Number","SelectionCheck","TextLink","NumberStars","NumberProgress","DatetimeDate","DatetimeTime","Datetime","Usergroup","parseCol","col","columnType","subtype","TextLineColumn","TextLinkColumn","TextLongColumn","TextRichColumn","NumberColumn","NumberStarsColumn","NumberProgressColumn","SelectionColumn","SelectionMutliColumn","SelectionCheckColumn","DatetimeColumn","DatetimeDateColumn","DatetimeTimeColumn","UsergroupColumn","Error","Moment","format","mode","factor","tmpA","find","columnId","tmpB","TYPE_META_CREATED_AT","TYPE_META_UPDATED_AT","valueA","valueB","diff","date","filterValue","magicValuesEnriched","filterDate","valueDate","FilterIds","IsEqual","isSame","IsGreaterThan","isBefore","IsGreaterThanOrEqual","isSameOrBefore","IsLowerThan","isAfter","IsLowerThanOrEqual","isSameOrAfter","IsEmpty","operator","time","filterTime","valueTime","numberDecimals","numberMax","numberMin","numberPrefix","numberSuffix","TYPE_META_ID","parseInt","parseFloat","isNaN","selectionOptions","getLabel","i","findIndex","obj","label","isDeletedLabel","deleted","selectionIdA","vA","removeEmoji","trim","selectionIdB","vB","str","replace","cellLabel","Contains","BeginsWith","startsWith","EndsWith","endsWith","JSON","parse","valueObjects","getObjects","ret","forEach","getDefaultObjects","objects","push","getOptionObject","undefined","valueString","textMaxLength","TYPE_META_CREATED_BY","TYPE_META_UPDATED_BY","localeCompare","textAllowedPattern","getValueFromCellValue","parseResult","err","link","resourceUrl","showUserStatus","usergroupMultipleItems","usergroupSelectUsers","usergroupSelectGroups","usergroupSelectTeams","BaseFilter","icon","source","subline","t","Filter","incompatibleWith","shortLabel","noSearchValue","arguments","length","getOperatorLabel","getFilterWithId","BaseMagicField","MagicField","Me","getCurrentUser","uid","MyName","displayName","Checked","Unchecked","Stars0","Stars1","Stars2","Stars3","Stars4","Stars5","DatetimeDateToday","DatetimeDateStartOfYear","startOf","DatetimeDateStartOfMonth","DatetimeDateStartOfWeek","DatetimeTimeNow","DatetimeNow","MetaColumns","handleAxiosError","e","message","status","console","error","showError","statusMessage","msg","response","displaySimpleError","genStateKey","isView","elementId","toString","useDataStore","defineStore","state","loading","rows","columns","getters","getColumns","stateId","getRows","actions","clearState","getColumnsFromBE","_ref","viewId","res","axios","get","generateUrl","Array","isArray","displayError","map","loadColumnsFromBE","_ref2","view","allColumns","concat","a","b","indexOf","set","insertNewColumn","_ref3","post","updateColumn","_ref4","stringify","put","index","c","removeColumn","_ref5","delete","filteredColumns","loadRowsFromBE","_ref6","removeRows","_ref7","updateRow","_ref8","debug","row","r","insertNewRow","_ref9","collection","nodeId","generateOcsUrl","ocs","newIndex","removeRow","_ref10","rowId","filteredRows","useTablesStore","tables","viewsShared","contexts","views","templates","activeViewId","activeTableId","activeRowId","activeElementIsView","activeContextId","appNavCollapsed","getTable","table","getContext","context","getView","activeView","activeTable","activeElement","activeContext","isLoading","key","isLoadingSomething","keys","setAppNavCollapsed","setLoading","setActiveViewId","setActiveTableId","setActiveContextId","contextId","setTables","setViews","setTemplates","setContexts","setTable","splice","setView","v","setContext","setActiveRowId","insertNewTable","loadTablesFromBE","loadViewsSharedWithMeFromBE","loadTemplatesFromBE","insertNewView","updateView","removeView","reloadViewsOfTable","updateTable","favoriteView","NODE_TYPE_VIEW","favorite","removeFavoriteView","favoriteTable","NODE_TYPE_TABLE","removeFavoriteTable","_ref11","shareContext","_ref12","previousReceivers","receivers","displayMode","share","nodeType","receiver","receiverType","isUser","p","receiver_type","createdShare","shareId","updateDisplayMode","target","previousReceiver","share_id","_ref13","insertNewContext","_ref14","updateContext","_ref15","transferTable","_ref16","getAllContexts","getContextsTablesAndViews","loadContext","_ref17","node","nodes","node_type","loadContextTable","node_id","loadContextView","_ref18","_ref19","transferContext","_ref20","removeContext","_ref21","removeTable","_ref22","setTableHasShares","_ref23","hasShares","setViewHasShares","_ref24"],"sourceRoot":""}