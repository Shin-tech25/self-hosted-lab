{"version":3,"file":"tables-src_modules_modals_EditRow_vue.js?v=c46705aa5a519e575cc4","mappings":"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","sources":["webpack:///tables/src/modules/modals/EditRow.vue","webpack://tables/./src/modules/modals/EditRow.vue?09ad","webpack:///tables/src/modules/modals/EditRow.vue?vue&type=style&index=0&id=5869641f&prod&lang=scss&scoped=true","webpack://tables/./src/modules/modals/EditRow.vue?0004","webpack://tables/./src/modules/modals/EditRow.vue?65a0","webpack:///tables/src/modules/modals/EditRow.vue?vue&type=script&lang=js"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcDialog v-if=\"showModal\"\n\t\tdata-cy=\"editRowModal\"\n\t\t:name=\"t('tables', 'Edit row')\"\n\t\tsize=\"large\"\n\t\t@closing=\"actionCancel\">\n\t\t<div class=\"modal__content\" @keydown=\"onKeydown\">\n\t\t\t<div v-for=\"column in nonMetaColumns\" :key=\"column.id\">\n\t\t\t\t<ColumnFormComponent\n\t\t\t\t\t:column=\"column\"\n\t\t\t\t\t:value.sync=\"localRow[column.id]\" />\n\t\t\t\t<NcNoteCard v-if=\"column.mandatory && !isValueValidForColumn(localRow[column.id], column)\"\n\t\t\t\t\ttype=\"error\">\n\t\t\t\t\t{{ t('tables', '\"{columnTitle}\" should not be empty', { columnTitle: column.title }) }}\n\t\t\t\t</NcNoteCard>\n\t\t\t\t<NcNoteCard v-if=\"localRow[column.id] && column.type === 'text-link' && !isValidUrlProtocol(localRow[column.id])\"\n\t\t\t\t\ttype=\"error\">\n\t\t\t\t\t{{ t('tables', 'Invalid protocol. Allowed: {allowed}', {allowed: allowedProtocols.join(', ')}) }}\n\t\t\t\t</NcNoteCard>\n\t\t\t</div>\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"fix-col-4 space-T\" :class=\"{'justify-between': showDeleteButton, 'end': !showDeleteButton}\">\n\t\t\t\t\t<div v-if=\"showDeleteButton\">\n\t\t\t\t\t\t<NcButton v-if=\"!prepareDeleteRow\" :aria-label=\"t('tables', 'Delete')\" type=\"error\" data-cy=\"editRowDeleteButton\" @click=\"prepareDeleteRow = true\">\n\t\t\t\t\t\t\t{{ t('tables', 'Delete') }}\n\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t<NcButton v-if=\"prepareDeleteRow\"\n\t\t\t\t\t\t\tdata-cy=\"editRowDeleteConfirmButton\"\n\t\t\t\t\t\t\t:wide=\"true\"\n\t\t\t\t\t\t\t:aria-label=\"t('tables', 'I really want to delete this row!')\"\n\t\t\t\t\t\t\ttype=\"error\"\n\t\t\t\t\t\t\t@click=\"actionDeleteRow\">\n\t\t\t\t\t\t\t{{ t('tables', 'I really want to delete this row!') }}\n\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t</div>\n\t\t\t\t\t<NcButton v-if=\"canUpdateData(element) && !localLoading\" :aria-label=\"t('tables', 'Save')\" type=\"primary\"\n\t\t\t\t\t\tdata-cy=\"editRowSaveButton\"\n\t\t\t\t\t\t:disabled=\"hasEmptyMandatoryRows || hasInvalidUrlProtocol\"\n\t\t\t\t\t\t@click=\"actionConfirm\">\n\t\t\t\t\t\t{{ t('tables', 'Save') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<div v-if=\"localLoading\" class=\"icon-loading\" style=\"margin-left: 20px;\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</NcDialog>\n</template>\n\n<script>\nimport { NcDialog, NcButton, NcNoteCard } from '@nextcloud/vue'\nimport { showError } from '@nextcloud/dialogs'\nimport { translate as t } from '@nextcloud/l10n'\nimport '@nextcloud/dialogs/style.css'\nimport ColumnFormComponent from '../main/partials/ColumnFormComponent.vue'\nimport permissionsMixin from '../../shared/components/ncTable/mixins/permissionsMixin.js'\nimport rowHelper from '../../shared/components/ncTable/mixins/rowHelper.js'\nimport { mapActions } from 'pinia'\nimport { useTablesStore } from '../../store/store.js'\nimport { useDataStore } from '../../store/data.js'\nimport { ALLOWED_PROTOCOLS } from '../../shared/constants.js'\n\nexport default {\n\tname: 'EditRow',\n\tcomponents: {\n\t\tNcDialog,\n\t\tNcButton,\n\t\tColumnFormComponent,\n\t\tNcNoteCard,\n\t},\n\tmixins: [permissionsMixin, rowHelper],\n\tprops: {\n\t\tshowModal: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: Array,\n\t\t\tdefault: null,\n\t\t},\n\t\trow: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tisView: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\telement: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlocalRow: null,\n\t\t\tprepareDeleteRow: false,\n\t\t\tlocalLoading: false,\n\t\t\tallowedProtocols: ALLOWED_PROTOCOLS,\n\t\t}\n\t},\n\tcomputed: {\n\t\tshowDeleteButton() {\n\t\t\treturn this.canDeleteData(this.element) && !this.localLoading\n\t\t},\n\t\tnonMetaColumns() {\n\t\t\treturn this.columns.filter(col => col.id >= 0)\n\t\t},\n\t\thasEmptyMandatoryRows() {\n\t\t\treturn this.checkMandatoryFields(this.localRow)\n\t\t},\n\t\thasInvalidUrlProtocol() {\n\t\t\treturn this.nonMetaColumns.some(col => col.type === 'text-link' && !this.isValidUrlProtocol(this.localRow[col.id]))\n\t\t},\n\t},\n\twatch: {\n\t\trow() {\n\t\t\tif (this.row) {\n\t\t\t\tif (this.$router.currentRoute.path.includes('/row/')) {\n\t\t\t\t\tthis.$router.replace(this.$router.currentRoute.path.split('/row/')[0])\n\t\t\t\t}\n\t\t\t\tthis.$router.push(this.$router.currentRoute.path + '/row/' + this.row.id)\n\t\t\t\tthis.setActiveRowId(null)\n\t\t\t\tthis.loadValues()\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.loadValues()\n\t},\n\tmethods: {\n\t\t...mapActions(useDataStore, ['updateRow', 'removeRow']),\n\t\t...mapActions(useTablesStore, ['setActiveRowId']),\n\t\tt,\n\t\tloadValues() {\n\t\t\tif (this.row) {\n\t\t\t\tconst tmp = {}\n\t\t\t\tthis.row.data.forEach(item => {\n\t\t\t\t\ttmp[item.columnId] = item.value\n\t\t\t\t})\n\t\t\t\tthis.localRow = Object.assign({}, tmp)\n\t\t\t}\n\t\t},\n\t\tactionCancel() {\n\t\t\tthis.$router?.back()\n\t\t\tthis.reset()\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tasync actionConfirm() {\n\t\t\tthis.localLoading = true\n\t\t\tawait this.sendRowToBE()\n\t\t\tthis.localLoading = false\n\t\t\tthis.actionCancel()\n\t\t},\n\t\tasync sendRowToBE() {\n\t\t\tawait this.loadStore()\n\n\t\t\tconst data = []\n\t\t\tfor (const [key, value] of Object.entries(this.localRow)) {\n\t\t\t\tdata.push({\n\t\t\t\t\tcolumnId: key,\n\t\t\t\t\tvalue: value ?? '',\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst res = await this.updateRow({\n\t\t\t\tid: this.row.id,\n\t\t\t\tisView: this.isView,\n\t\t\t\telementId: this.element.id,\n\t\t\t\tdata,\n\t\t\t})\n\t\t\tif (!res) {\n\t\t\t\tshowError(t('tables', 'Could not update row'))\n\t\t\t}\n\t\t},\n\t\treset() {\n\t\t\tthis.localRow = {}\n\t\t\tthis.dataLoaded = false\n\t\t\tthis.prepareDeleteRow = false\n\t\t},\n\t\tactionDeleteRow() {\n\t\t\tthis.deleteRowAtBE(this.row.id)\n\t\t},\n\t\tasync deleteRowAtBE(rowId) {\n\t\t\tawait this.loadStore()\n\n\t\t\tthis.localLoading = true\n\t\t\tconst res = await this.removeRow({\n\t\t\t\trowId,\n\t\t\t\tisView: this.isView,\n\t\t\t\telementId: this.element.id,\n\t\t\t})\n\t\t\tif (!res) {\n\t\t\t\tshowError(t('tables', 'Could not delete row.'))\n\t\t\t}\n\t\t\tthis.localLoading = false\n\t\t\tthis.actionCancel()\n\t\t},\n\t\tasync loadStore() {\n\t\t\tif (this.tablesStore) { return }\n\n\t\t\tconst { default: store } = await import(/* webpackChunkName: 'store' */ '../../store/store.js')\n\t\t\tthis.tablesStore = store\n\t\t},\n\t\tonKeydown(event) {\n\t\t\tif (event.key === 'Enter' && event.ctrlKey) {\n\t\t\t\tthis.actionConfirm()\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-mask {\n\tz-index: 2001;\n}\n\n.modal__content {\n\tpadding: 20px;\n\n\t:where(.row .space-T, .row.space-T) {\n\t\tpadding-top: 20px;\n\t}\n\n\t:where([class*='fix-col-']) {\n\t\tdisplay: flex;\n\t}\n\n\t:where(.slot) {\n\t\talign-items: baseline;\n\t}\n\n\t:where(.end) {\n\t\tjustify-content: end;\n\t}\n\n\t:where(.slot.fix-col-2) {\n\t\tmin-width: 50%;\n\t}\n\n\t:where(.fix-col-1.end) {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n\n\t:where(.fix-col-3) {\n\t\tdisplay: inline-block;\n\t}\n\n\t:where(.slot.fix-col-4 input, .slot.fix-col-4 .row) {\n\t\tmin-width: 100% !important;\n\t}\n\n\t:where(.name-parts) {\n\t\tdisplay: block !important;\n\t\tmax-width: fit-content !important;\n\t}\n}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.showModal)?_c('NcDialog',{attrs:{\"data-cy\":\"editRowModal\",\"name\":_vm.t('tables', 'Edit row'),\"size\":\"large\"},on:{\"closing\":_vm.actionCancel}},[_c('div',{staticClass:\"modal__content\",on:{\"keydown\":_vm.onKeydown}},[_vm._l((_vm.nonMetaColumns),function(column){return _c('div',{key:column.id},[_c('ColumnFormComponent',{attrs:{\"column\":column,\"value\":_vm.localRow[column.id]},on:{\"update:value\":function($event){return _vm.$set(_vm.localRow, column.id, $event)}}}),_vm._v(\" \"),(column.mandatory && !_vm.isValueValidForColumn(_vm.localRow[column.id], column))?_c('NcNoteCard',{attrs:{\"type\":\"error\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('tables', '\"{columnTitle}\" should not be empty', { columnTitle: column.title }))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.localRow[column.id] && column.type === 'text-link' && !_vm.isValidUrlProtocol(_vm.localRow[column.id]))?_c('NcNoteCard',{attrs:{\"type\":\"error\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('tables', 'Invalid protocol. Allowed: {allowed}', {allowed: _vm.allowedProtocols.join(', ')}))+\"\\n\\t\\t\\t\")]):_vm._e()],1)}),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"fix-col-4 space-T\",class:{'justify-between': _vm.showDeleteButton, 'end': !_vm.showDeleteButton}},[(_vm.showDeleteButton)?_c('div',[(!_vm.prepareDeleteRow)?_c('NcButton',{attrs:{\"aria-label\":_vm.t('tables', 'Delete'),\"type\":\"error\",\"data-cy\":\"editRowDeleteButton\"},on:{\"click\":function($event){_vm.prepareDeleteRow = true}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('tables', 'Delete'))+\"\\n\\t\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.prepareDeleteRow)?_c('NcButton',{attrs:{\"data-cy\":\"editRowDeleteConfirmButton\",\"wide\":true,\"aria-label\":_vm.t('tables', 'I really want to delete this row!'),\"type\":\"error\"},on:{\"click\":_vm.actionDeleteRow}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('tables', 'I really want to delete this row!'))+\"\\n\\t\\t\\t\\t\\t\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.canUpdateData(_vm.element) && !_vm.localLoading)?_c('NcButton',{attrs:{\"aria-label\":_vm.t('tables', 'Save'),\"type\":\"primary\",\"data-cy\":\"editRowSaveButton\",\"disabled\":_vm.hasEmptyMandatoryRows || _vm.hasInvalidUrlProtocol},on:{\"click\":_vm.actionConfirm}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('tables', 'Save'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.localLoading)?_c('div',{staticClass:\"icon-loading\",staticStyle:{\"margin-left\":\"20px\"}}):_vm._e()],1)])],2)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.modal-mask[data-v-5869641f]{z-index:2001}.modal__content[data-v-5869641f]{padding:20px}.modal__content[data-v-5869641f] :where(.row .space-T,.row.space-T){padding-top:20px}.modal__content[data-v-5869641f] :where([class*=fix-col-]){display:flex}.modal__content[data-v-5869641f] :where(.slot){align-items:baseline}.modal__content[data-v-5869641f] :where(.end){justify-content:end}.modal__content[data-v-5869641f] :where(.slot.fix-col-2){min-width:50%}.modal__content[data-v-5869641f] :where(.fix-col-1.end){display:flex;justify-content:flex-end}.modal__content[data-v-5869641f] :where(.fix-col-3){display:inline-block}.modal__content[data-v-5869641f] :where(.slot.fix-col-4 input,.slot.fix-col-4 .row){min-width:100% !important}.modal__content[data-v-5869641f] :where(.name-parts){display:block !important;max-width:fit-content !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/modules/modals/EditRow.vue\"],\"names\":[],\"mappings\":\"AACA,6BACC,YAAA,CAGD,iCACC,YAAA,CAEA,oEACC,gBAAA,CAGD,2DACC,YAAA,CAGD,+CACC,oBAAA,CAGD,8CACC,mBAAA,CAGD,yDACC,aAAA,CAGD,wDACC,YAAA,CACA,wBAAA,CAGD,oDACC,oBAAA,CAGD,oFACC,yBAAA,CAGD,qDACC,wBAAA,CACA,gCAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRow.vue?vue&type=style&index=0&id=5869641f&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRow.vue?vue&type=style&index=0&id=5869641f&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EditRow.vue?vue&type=template&id=5869641f&scoped=true\"\nimport script from \"./EditRow.vue?vue&type=script&lang=js\"\nexport * from \"./EditRow.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditRow.vue?vue&type=style&index=0&id=5869641f&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5869641f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRow.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditRow.vue?vue&type=script&lang=js\""],"names":["name","components","NcDialog","NcButton","ColumnFormComponent","NcNoteCard","mixins","permissionsMixin","rowHelper","props","showModal","type","Boolean","default","columns","Array","row","Object","isView","element","data","localRow","prepareDeleteRow","localLoading","allowedProtocols","ALLOWED_PROTOCOLS","computed","showDeleteButton","canDeleteData","nonMetaColumns","filter","col","id","hasEmptyMandatoryRows","checkMandatoryFields","hasInvalidUrlProtocol","some","isValidUrlProtocol","watch","$router","currentRoute","path","includes","replace","split","push","setActiveRowId","loadValues","mounted","methods","mapActions","useDataStore","useTablesStore","t","tmp","forEach","item","columnId","value","assign","actionCancel","back","reset","$emit","actionConfirm","sendRowToBE","loadStore","key","entries","updateRow","elementId","showError","dataLoaded","actionDeleteRow","deleteRowAtBE","rowId","removeRow","tablesStore","store","onKeydown","event","ctrlKey","render","_vm","this","_c","_self","attrs","on","staticClass","_l","column","$event","$set","_v","mandatory","isValueValidForColumn","_s","columnTitle","title","_e","allowed","join","class","canUpdateData","staticStyle","staticRenderFns","___CSS_LOADER_EXPORT___","module","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals"],"sourceRoot":""}