{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://external/./node_modules/escape-html/index.js","webpack://external/webpack/bootstrap","webpack://external/webpack/runtime/compat get default export","webpack://external/webpack/runtime/define property getters","webpack://external/webpack/runtime/hasOwnProperty shorthand","webpack://external/./node_modules/@nextcloud/router/dist/index.mjs","webpack://external/./src/admin.js"],"sourcesContent":["/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const R = (n, e) => d(n, \"\", e), g = (n) => \"/remote.php/\" + n, U = (n, e) => {\n  var o;\n  return ((o = e == null ? void 0 : e.baseURL) != null ? o : w()) + g(n);\n}, v = (n, e, o) => {\n  var c;\n  const i = Object.assign({\n    ocsVersion: 2\n  }, o || {}).ocsVersion === 1 ? 1 : 2;\n  return ((c = o == null ? void 0 : o.baseURL) != null ? c : w()) + \"/ocs/v\" + i + \".php\" + u(n, e, o);\n}, u = (n, e, o) => {\n  const c = Object.assign({\n    escape: !0\n  }, o || {}), r = function(i, s) {\n    return s = s || {}, i.replace(\n      /{([^{}]*)}/g,\n      function(l, t) {\n        const a = s[t];\n        return c.escape ? encodeURIComponent(typeof a == \"string\" || typeof a == \"number\" ? a.toString() : l) : typeof a == \"string\" || typeof a == \"number\" ? a.toString() : l;\n      }\n    );\n  };\n  return n.charAt(0) !== \"/\" && (n = \"/\" + n), r(n, e || {});\n}, _ = (n, e, o) => {\n  var c, r, i;\n  const s = Object.assign({\n    noRewrite: !1\n  }, o || {}), l = (c = o == null ? void 0 : o.baseURL) != null ? c : f();\n  return ((i = (r = window == null ? void 0 : window.OC) == null ? void 0 : r.config) == null ? void 0 : i.modRewriteWorking) === !0 && !s.noRewrite ? l + u(n, e, o) : l + \"/index.php\" + u(n, e, o);\n}, h = (n, e) => e.includes(\".\") ? d(n, \"img\", e) : d(n, \"img\", \"\".concat(e, \".svg\")), d = (n, e, o) => {\n  var c, r, i;\n  const s = (i = (r = (c = window == null ? void 0 : window.OC) == null ? void 0 : c.coreApps) == null ? void 0 : r.includes(n)) != null ? i : !1, l = o.slice(-3) === \"php\";\n  let t = f();\n  return l && !s ? (t += \"/index.php/apps/\".concat(n), e && (t += \"/\".concat(encodeURI(e))), o !== \"index.php\" && (t += \"/\".concat(o))) : !l && !s ? (t = b(n), e && (t += \"/\".concat(e, \"/\")), t.at(-1) !== \"/\" && (t += \"/\"), t += o) : ((n === \"settings\" || n === \"core\" || n === \"search\") && e === \"ajax\" && (t += \"/index.php\"), n && (t += \"/\".concat(n)), e && (t += \"/\".concat(e)), t += \"/\".concat(o)), t;\n}, w = () => window.location.protocol + \"//\" + window.location.host + f();\nfunction f() {\n  let n = window._oc_webroot;\n  if (typeof n > \"u\") {\n    n = location.pathname;\n    const e = n.indexOf(\"/index.php/\");\n    if (e !== -1)\n      n = n.slice(0, e);\n    else {\n      const o = n.indexOf(\"/\", 1);\n      n = n.slice(0, o > 0 ? o : void 0);\n    }\n  }\n  return n;\n}\nfunction b(n) {\n  var e, o;\n  return (o = ((e = window._oc_appswebroots) != null ? e : {})[n]) != null ? o : \"\";\n}\nexport {\n  d as generateFilePath,\n  v as generateOcsUrl,\n  U as generateRemoteUrl,\n  _ as generateUrl,\n  b as getAppRootUrl,\n  w as getBaseUrl,\n  f as getRootUrl,\n  h as imagePath,\n  R as linkTo\n};\n","/**\n * @copyright Copyright (c) 2017 Joas Schilling <coding@schilljs.com>\n * @copyright Copyright (c) 2020 Gary Kim <gary@garykim.dev>\n * @license GNU AGPL version 3 or any later version\n *\n * SPDX-FileCopyrightText: 2017 Joas Schilling <coding@schilljs.com>\n * SPDX-FileCopyrightText: 2020 Gary Kim <gary@garykim.dev>\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport escapeHTML from 'escape-html'\nimport { generateUrl, imagePath, generateOcsUrl } from '@nextcloud/router';\n\n/* global _, Handlebars, $ */\n(function(OC, OCA, _, Backbone) {\n\tif (!OCA.External) {\n\t\t/**\n\t\t * @namespace\n\t\t */\n\t\tOCA.External = {}\n\t}\n\n\tHandlebars.registerHelper('isSelected', function(currentValue, itemValue) {\n\t\treturn currentValue === itemValue\n\t})\n\n\tHandlebars.registerHelper('join', function(array) {\n\t\tif (_.isUndefined(array)) {\n\t\t\treturn ''\n\t\t}\n\t\treturn array.join('|')\n\t})\n\n\tHandlebars.registerHelper('getLanguages', function() {\n\t\treturn OCA.External.App.availableLanguages\n\t})\n\n\tHandlebars.registerHelper('getTypes', function() {\n\t\treturn OCA.External.App.availableTypes\n\t})\n\n\tHandlebars.registerHelper('getDevices', function() {\n\t\treturn OCA.External.App.availableDevices\n\t})\n\n\tHandlebars.registerHelper('getIcons', function() {\n\t\treturn OCA.External.App.availableIcons\n\t})\n\n\tOCA.External.Models = OCA.External.Models || {}\n\n\tOCA.External.Models.Site = Backbone.Model.extend({\n\t\tdefaults: {\n\t\t\tname: '',\n\t\t\turl: '',\n\t\t\tlang: '',\n\t\t\ttype: 'link',\n\t\t\tdevice: '',\n\t\t\ticon: 'external.svg',\n\t\t\tgroups: [],\n\t\t},\n\n\t\tparse: function(response) {\n\t\t\tif (!_.isUndefined(response.ocs)) {\n\t\t\t\t// Parse of single response from save/create\n\t\t\t\treturn response.ocs.data\n\t\t\t}\n\n\t\t\t// Parse of entry from collection data\n\t\t\treturn response\n\t\t},\n\t})\n\n\tOCA.External.Models.SiteCollection = Backbone.Collection.extend({\n\t\tmodel: OCA.External.Models.Site,\n\t\turl: generateOcsUrl('apps/external/api/v1/sites'),\n\n\t\tparse: function(response) {\n\t\t\treturn response.ocs.data.sites\n\t\t},\n\t})\n\n\tOCA.External.App = {\n\t\t/** @property {OCA.External.Models.SiteCollection} _sites  */\n\t\t_sites: null,\n\n\t\t$list: null,\n\n\t\t_renderSite: function(data) {\n\t\t\tdata.nameTXT = t('external', 'Name')\n\t\t\tdata.urlTXT = t('external', 'URL')\n\t\t\tdata.languageTXT = t('external', 'Language')\n\t\t\tdata.groupsTXT = t('external', 'Groups')\n\t\t\tdata.devicesTXT = t('external', 'Devices')\n\t\t\tdata.iconTXT = t('external', 'Icon')\n\t\t\tdata.positionTXT = t('external', 'Position')\n\t\t\tdata.redirectTXT = t('external', 'Redirect')\n\t\t\tdata.removeSiteTXT = t('external', 'Remove site')\n\t\t\tdata.noEmbedTXT = t('external', 'This site does not allow embedding')\n\t\t\tdata.deleteIMG = imagePath('core', 'actions/delete.svg')\n\n\t\t\treturn OCA.External.Templates.site(data)\n\t\t},\n\n\t\tinit: function() {\n\t\t\tconst self = this\n\t\t\tthis.$list = $('ul.external_sites')\n\n\t\t\t$('#add_external_site').click(function(e) {\n\t\t\t\te.preventDefault()\n\n\t\t\t\tconst $el = $(self._renderSite({\n\t\t\t\t\tid: 'new-' + Date.now(),\n\t\t\t\t\tname: t('external', 'New site'),\n\t\t\t\t\ticon: 'external.svg',\n\t\t\t\t\ttype: 'link',\n\t\t\t\t\tlang: '',\n\t\t\t\t\tdevice: '',\n\t\t\t\t}))\n\t\t\t\tself._attachEvents($el)\n\t\t\t\t$el.find('.options').removeClass('hidden')\n\t\t\t\tself.$list.append($el)\n\t\t\t})\n\n\t\t\tthis.load()\n\t\t},\n\n\t\tload: function() {\n\t\t\tconst self = this\n\t\t\t$('#loading_sites').removeClass('hidden')\n\t\t\tthis.$list.empty()\n\n\t\t\tthis._sites = new OCA.External.Models.SiteCollection()\n\t\t\tthis._sites.fetch({\n\t\t\t\tsuccess: function(_, response) {\n\t\t\t\t\t$('#loading_sites').addClass('hidden')\n\n\t\t\t\t\tself.availableIcons = response.ocs.data.icons\n\t\t\t\t\tself._buildIconList(response.ocs.data.icons)\n\t\t\t\t\tself.availableLanguages = response.ocs.data.languages\n\t\t\t\t\tself.availableTypes = response.ocs.data.types\n\t\t\t\t\tself.availableDevices = response.ocs.data.devices\n\n\t\t\t\t\tif (response.ocs.data.sites.length === 0) {\n\t\t\t\t\t\tconst $el = $(self._renderSite({\n\t\t\t\t\t\t\tid: 'undefined',\n\t\t\t\t\t\t}))\n\t\t\t\t\t\tself._attachEvents($el)\n\t\t\t\t\t\tself.$list.append($el)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself._render()\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\t_render: function() {\n\t\t\tconst self = this\n\n\t\t\t_.each(this._sites.models, function(site) {\n\t\t\t\tconst $el = $(self._renderSite(site.attributes))\n\t\t\t\tself._attachEvents($el)\n\t\t\t\tif (site.attributes.type === 'guest') {\n\t\t\t\t\t$el.find('.site-redirect-box').hide()\n\t\t\t\t}\n\t\t\t\tself.$list.append($el)\n\t\t\t})\n\t\t},\n\n\t\t_attachEvents: function($site) {\n\t\t\t$site.find('.delete-button').click(_.bind(this._deleteSite, this))\n\t\t\t$site.find('.trigger-save').change(_.bind(this._saveSite, this))\n\t\t\t$site.find('.icon-more').on('click', function() {\n\t\t\t\t$site.find('.options').toggleClass('hidden')\n\t\t\t})\n\n\t\t\tconst self = this\n\t\t\tconst $groupsSelect = $site.find('.site-groups')\n\n\t\t\tOC.Settings.setupGroupsSelect($groupsSelect)\n\t\t\t$groupsSelect.change(function(e) {\n\t\t\t\tself._saveSite(e)\n\t\t\t})\n\t\t},\n\n\t\t_deleteSite: function(e) {\n\t\t\te.preventDefault()\n\n\t\t\tconst $site = $(e.target).closest('li')\n\t\t\tconst site = this._sites.get($site.data('site-id'))\n\n\t\t\t$site.removeClass('failure saved').addClass('saving')\n\n\t\t\tif (!_.isUndefined(site)) {\n\t\t\t\tsite.destroy({\n\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t$site.remove()\n\t\t\t\t\t\tif (OC.Settings && OC.Settings.Apps) {\n\t\t\t\t\t\t\tOC.Settings.Apps.rebuildNavigation()\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t$site.remove()\n\t\t\t}\n\t\t},\n\n\t\t_saveSite: function(e) {\n\t\t\te.preventDefault()\n\n\t\t\tconst self = this\n\t\t\tconst $target = $(e.target)\n\t\t\tconst $site = $target.closest('li')\n\t\t\tconst site = this._sites.get($site.data('site-id'))\n\t\t\tconst groups = $site.find('input.site-groups').val()\n\t\t\tconst data = {\n\t\t\t\tname: $site.find('.site-name').val(),\n\t\t\t\turl: $site.find('.site-url').val(),\n\t\t\t\tlang: $site.find('.site-lang').val(),\n\t\t\t\ttype: $site.find('.site-type').val(),\n\t\t\t\tdevice: $site.find('.site-device').val(),\n\t\t\t\tredirect: $site.find('.site-redirect').prop('checked') ? 1 : 0,\n\t\t\t\tgroups: groups === '' ? [] : groups.split('|'),\n\t\t\t\ticon: $site.find('.site-icon').val(),\n\t\t\t}\n\n\t\t\t$site.removeClass('failure saved').addClass('saving')\n\t\t\t$site.find('.invalid-value').removeClass('invalid-value')\n\t\t\tif (data.type === 'guest') {\n\t\t\t\t$site.find('.site-redirect-box').hide()\n\t\t\t} else {\n\t\t\t\t$site.find('.site-redirect-box').show()\n\t\t\t}\n\n\t\t\tif (!_.isUndefined(site)) {\n\t\t\t\tsite.save(data, {\n\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\t$site.removeClass('saving').addClass('saved')\n\t\t\t\t\t\t$site.find('h3').html(escapeHTML(data.name) + ' <small>' + escapeHTML(data.url) + '</small>')\n\t\t\t\t\t\t$('#appmenu li[data-id=\"external_index' + site.get('id') + '\"] span').text(data.name)\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t$site.removeClass('saved')\n\t\t\t\t\t\t}, 2500)\n\t\t\t\t\t\tself._rebuildNavigation()\n\t\t\t\t\t},\n\t\t\t\t\terror: function(model, xhr) {\n\t\t\t\t\t\tif (!_.isUndefined(xhr.responseJSON.ocs.data.field) && xhr.responseJSON.ocs.data.field !== '') {\n\t\t\t\t\t\t\t$site.find('.site-' + xhr.responseJSON.ocs.data.field).addClass('invalid-value')\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$site.removeClass('saving').addClass('failure')\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis._sites.create(data, {\n\t\t\t\t\tsuccess: function(site) {\n\t\t\t\t\t\t$site.data('site-id', site.get('id'))\n\t\t\t\t\t\t$site.removeClass('saving').addClass('saved')\n\t\t\t\t\t\t$site.find('h3').html(escapeHTML(data.name) + ' <small>' + escapeHTML(data.url) + '</small>')\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t$site.removeClass('saved')\n\t\t\t\t\t\t}, 2500)\n\t\t\t\t\t\tself._rebuildNavigation()\n\t\t\t\t\t},\n\t\t\t\t\terror: function(model, xhr) {\n\t\t\t\t\t\tif (!_.isUndefined(xhr.responseJSON.ocs.data.field) && xhr.responseJSON.ocs.data.field !== '') {\n\t\t\t\t\t\t\t$site.find('.site-' + xhr.responseJSON.ocs.data.field).addClass('invalid-value')\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$site.removeClass('saving').addClass('failure')\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\t_buildIconList: function(data) {\n\t\t\tconst self = this\n\t\t\tconst $table = $('ul.icon-list')\n\t\t\tlet lastIcon = ''\n\t\t\tlet $lastIcon = null\n\t\t\tconst icons = []\n\t\t\t$table.empty()\n\n\t\t\t_.each(data, function(data) {\n\t\t\t\tif (data.icon === '') {\n\t\t\t\t\ticons.push(data)\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (lastIcon !== '' && data.name === lastIcon.replace('-dark.', '.')) {\n\t\t\t\t\t$lastIcon.find('div.img').prepend($('<img>').attr('src', data.url))\n\t\t\t\t\t$lastIcon.find('span.name').prepend(data.name + ' / ')\n\t\t\t\t\t$lastIcon.addClass('twin-icons')\n\n\t\t\t\t\ticons.pop()\n\t\t\t\t\ticons.push(_.extend(data, {\n\t\t\t\t\t\tname: data.name + ' / ' + lastIcon,\n\t\t\t\t\t}))\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tdata.deleteTXT = t('external', 'Delete icon')\n\n\t\t\t\tconst $row = $(OCA.External.Templates.icon(data))\n\t\t\t\tself._attachEventsIcon($row)\n\t\t\t\t$table.append($row)\n\t\t\t\ticons.push(data)\n\n\t\t\t\tlastIcon = data.name\n\t\t\t\t$lastIcon = $row\n\t\t\t})\n\n\t\t\tthis.availableIcons = icons\n\t\t},\n\n\t\t_attachEventsIcon: function($icon) {\n\t\t\t$icon.find('span.icon-delete').click(_.bind(this._deleteIcon, this))\n\t\t},\n\n\t\t_deleteIcon: function(e) {\n\t\t\tconst $row = $(e.currentTarget).parents('li')\n\t\t\tconst icon = $row.attr('data-icon')\n\n\t\t\t$.ajax({\n\t\t\t\ttype: 'DELETE',\n\t\t\t\turl: generateUrl('/apps/external/icons/' + icon),\n\t\t\t}).done(function() {\n\t\t\t\t$row.slideUp()\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$row.remove()\n\t\t\t\t}, 750)\n\t\t\t})\n\t\t},\n\n\t\t_rebuildNavigation: function() {\n\t\t\tOC.Settings.Apps.rebuildNavigation()\n\t\t},\n\t}\n})(OC, OCA, _, OC.Backbone)\n\nwindow.addEventListener('DOMContentLoaded', function() {\n\tOCA.External.App.init()\n\n\tconst input = document.getElementById('uploadicon')\n\n\tinput.onchange = function() {\n\t\tif ('files' in input && input.files.length > 0) {\n\t\t\tOC.msg.startAction('form.uploadButton span.msg', t('external', 'Uploading…'))\n\t\t\t$('label#uploadlogo').removeClass('icon-upload').addClass('icon-loading-small')\n\n\t\t\tconst formData = new FormData()\n\t\t\tformData.append('uploadicon', input.files[0])\n\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: generateUrl('/apps/external/icons'),\n\t\t\t\tdata: formData,\n\t\t\t\tprocessData: false,\n\t\t\t\tcontentType: false,\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tOCA.External.App.load()\n\t\t\t\t\tOC.msg.finishedSuccess('form.uploadButton span.msg', t('external', 'Reloading icon list…'))\n\t\t\t\t\t$('label#uploadlogo').addClass('icon-upload').removeClass('icon-loading-small')\n\t\t\t\t},\n\t\t\t\terror: (jqXHR) => {\n\t\t\t\t\tif (_.isUndefined(jqXHR.responseJSON.error)) {\n\t\t\t\t\t\tOC.msg.finishedError('form.uploadButton span.msg', t('external', 'Icon could not be uploaded'))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tOC.msg.finishedError('form.uploadButton span.msg', jqXHR.responseJSON.error)\n\t\t\t\t\t}\n\t\t\t\t\t$('label#uploadlogo').addClass('icon-upload').removeClass('icon-loading-small')\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t}\n})\n"],"names":["matchHtmlRegExp","module","exports","string","escape","str","match","exec","html","index","lastIndex","length","charCodeAt","substring","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","v","e","c","i","assign","ocsVersion","baseURL","w","u","charAt","s","replace","l","t","encodeURIComponent","toString","r","noRewrite","f","window","OC","config","modRewriteWorking","coreApps","includes","slice","concat","encodeURI","_oc_appswebroots","b","at","location","protocol","host","_oc_webroot","pathname","indexOf","OCA","_","Backbone","External","Handlebars","registerHelper","currentValue","itemValue","array","isUndefined","join","App","availableLanguages","availableTypes","availableDevices","availableIcons","Models","Site","Model","extend","defaults","name","url","lang","type","device","icon","groups","parse","response","ocs","data","SiteCollection","Collection","model","generateOcsUrl","sites","_sites","$list","_renderSite","nameTXT","urlTXT","languageTXT","groupsTXT","devicesTXT","iconTXT","positionTXT","redirectTXT","removeSiteTXT","noEmbedTXT","deleteIMG","Templates","site","init","self","this","$","click","preventDefault","$el","id","Date","now","_attachEvents","find","removeClass","append","load","empty","fetch","success","addClass","icons","_buildIconList","languages","types","devices","_render","each","models","attributes","hide","$site","bind","_deleteSite","change","_saveSite","on","toggleClass","$groupsSelect","Settings","setupGroupsSelect","target","closest","remove","destroy","Apps","rebuildNavigation","val","redirect","split","show","create","escapeHTML","setTimeout","_rebuildNavigation","error","xhr","responseJSON","field","save","text","$table","lastIcon","$lastIcon","push","prepend","attr","pop","deleteTXT","$row","_attachEventsIcon","$icon","_deleteIcon","currentTarget","parents","ajax","generateUrl","done","slideUp","addEventListener","input","document","getElementById","onchange","files","msg","startAction","formData","FormData","processData","contentType","finishedSuccess","jqXHR","finishedError"],"sourceRoot":""}