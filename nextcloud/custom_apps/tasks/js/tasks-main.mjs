/*! third party licenses: js/vendor.LICENSE.txt */
import{_ as I,o as p,c as m,a as y,t as B,b as w,m as L,r as k,F as Ne,d as We,n as Ie,e as g,f as R,p as Xa,g as Ka,h as W,i as se,j as Qa,k as $e,l as Rl,N as et,C as hi,q as ee,w as U,v as ta,s as _,u as ue,x as ke,y as Ul,z as yo,A as jl,B as Xt,D as iu,G as Wt,E as S,H as Q,I as j,J as Oa,K as Ia,L as at,M as ql,O as Wl,P as Xn,Q as Yt,R as _o,S as x,T as qt,U as mi,V as ca,W as bo,X as Do,Y as vo,Z as oe,$ as Yl,a0 as bu,a1 as Eo,a2 as Zl,a3 as Gl,a4 as Xl,a5 as nu,a6 as de,a7 as Ao,a8 as ru,a9 as Pe,aa as ht,ab as Ct,ac as Kl,ad as Ql,ae as Be,af as wo,ag as Jl,ah as fi,ai as ou,aj as qe,ak as Bo,al as ec,am as tc,an as uc,ao as kn,ap as ac,aq as nc,ar as Je,as as Fi,at as Ja,au as gi,av as Qi,aw as Ci,ax as ic,ay as rc,az as Vt,aA as st,aB as xo,aC as So,aD as Ht,aE as en,aF as oc,aG as _t,aH as sc,aI as lc,aJ as cc,aK as dc,aL as pc,aM as ki,aN as To,aO as hc,aP as mc,aQ as fc,aR as Kn,aS as Zt,aT as Mo,aU as Du,aV as Fc,aW as zo,aX as gc,aY as Cc,aZ as kc,a_ as yc,a$ as _c,b0 as bc,b1 as Dc,b2 as vc,b3 as Lo,b4 as Ec,b5 as Ac,b6 as wc,b7 as No,b8 as Bc,b9 as Ba,ba as xc,bb as Sc,bc as Tc,bd as yi,be as Mc,bf as _i,bg as zc,bh as Lc,bi as Nc,bj as $c,bk as Oc,bl as Ic,bm as Pc,bn as Vc}from"./store-BBMiux8F.chunk.mjs";import{N as At,C as Hc,P as tn}from"./Plus-BCBwT1wI.chunk.mjs";const Vl="tasks",Hl="0.16.1",Rc={name:"EyedropperIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Uc=["aria-hidden","aria-label"],jc=["fill","width","height"],qc={d:"M19.35,11.72L17.22,13.85L15.81,12.43L8.1,20.14L3.5,22L2,20.5L3.86,15.9L11.57,8.19L10.15,6.78L12.28,4.65L19.35,11.72M16.76,3C17.93,1.83 19.83,1.83 21,3C22.17,4.17 22.17,6.07 21,7.24L19.08,9.16L14.84,4.92L16.76,3M5.56,17.03L4.5,19.5L6.97,18.44L14.4,11L13,9.6L5.56,17.03Z"},Wc={key:0};function Yc(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon eyedropper-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",qc,[u.title?(p(),m("title",Wc,B(u.title),1)):w("",!0)])],8,jc))],16,Uc)}const Zc=I(Rc,[["render",Yc]]),Gc={name:"Colorpicker",components:{Eyedropper:Zc},props:{selectedColor:{type:String,default:"#31CC7C"}},emits:["color-selected"],data(){return{random:"#31CC7C",colors:["#31CC7C","#317CCC","#FF7A66","#F1DB50","#7C31CC","#CC317C","#3A3B3D","#CACBCD"]}},methods:{supportsColorPicker(){const e=document.createElement("input");return e.setAttribute("type","color"),e.type==="color"},randomizeColour(){this.random=this.randColour(),this.pick(this.random)},pick(e){this.$emit("color-selected",e)},randColour(){return typeof String.prototype.toHsl=="function"?this.rgbToHex(this.hslToRgb(Math.random().toString().toHsl())):this.colors[Math.floor(Math.random()*this.colors.length)]},rgbToHex(e,a,u){return Array.isArray(e)&&(a=e[1],u=e[2],e=e[0]),"#"+parseInt(e,10).toString(16)+parseInt(a,10).toString(16)+parseInt(u,10).toString(16)},hslToRgb(e,a,u){if(Array.isArray(e)&&(a=e[1],u=e[2],e=e[0]),e===void 0)return[0,0,0];a/=100,u/=100;const i=(1-Math.abs(2*u-1))*a;let r=e/60;const n=i*(1-Math.abs(r%2-1));r=Math.floor(r);let o,s,l;r===0?(o=i,s=n,l=0):r===1?(o=n,s=i,l=0):r===2?(o=0,s=i,l=n):r===3?(o=0,s=n,l=i):r===4?(o=n,s=0,l=i):r===5&&(o=i,s=0,l=n);const c=u-i/2;return o+=c,s+=c,l+=c,[Math.round(o*255),Math.round(s*255),Math.round(l*255)]}}},Xc=e=>(Xa("data-v-132725a4"),e=e(),Ka(),e),Kc={class:"colorpicker"},Qc={class:"colorpicker__list"},Jc=["onClick"],e1=Xc(()=>y("span",{class:"icon icon-random"},null,-1)),t1=[e1],u1=["value"];function a1(e,a,u,i,r,n){const o=k("Eyedropper");return p(),m("div",Kc,[y("ul",Qc,[(p(!0),m(Ne,null,We(r.colors,s=>(p(),m("li",{key:s,class:R({selected:s===u.selectedColor}),style:Ie({"background-color":s}),onClick:l=>n.pick(s)},null,14,Jc))),128)),n.supportsColorPicker?w("",!0):(p(),m("li",{key:0,style:Ie({"background-color":r.random}),onClick:a[0]||(a[0]=(...s)=>n.randomizeColour&&n.randomizeColour(...s))},t1,4)),n.supportsColorPicker?(p(),m("label",{key:1,style:Ie({"background-color":u.selectedColor}),class:"color-selector"},[g(o,{class:"color-selector__icon"}),y("input",{value:u.selectedColor,type:"color",class:"color-selector__input",onChange:a[1]||(a[1]=s=>n.pick(s.target.value))},null,40,u1)],4)):w("",!0)])])}const $o=I(Gc,[["render",a1],["__scopeId","data-v-132725a4"]]),Oo={name:"NcVNodes",props:{vnodes:{type:[Array,Object],default:null}},render(){return this.vnodes||this.$slots?.default?.({})}},n1={name:"ChevronUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},i1=["aria-hidden","aria-label"],r1=["fill","width","height"],o1={d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"},s1={key:0};function l1(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon chevron-up-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",o1,[u.title?(p(),m("title",s1,B(u.title),1)):w("",!0)])],8,r1))],16,i1)}const c1=W(n1,[["render",l1]]),bi=1024,Io=bi/2,Pa=e=>document.documentElement.clientWidth<e,Di=se(Pa(bi)),Po=se(Pa(Io));window.addEventListener("resize",()=>{Di.value=Pa(bi),Po.value=Pa(Io)},{passive:!0});function da(){return Qa(Di)}function d1(){return Qa(Po)}Qa(Di);const p1={name:"ArrowRightIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},h1=["aria-hidden","aria-label"],m1=["fill","width","height"],f1={d:"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"},F1={key:0};function g1(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon arrow-right-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",f1,[u.title?(p(),m("title",F1,B(u.title),1)):w("",!0)])],8,m1))],16,h1)}const un=W(p1,[["render",g1]]);$e(Rl);const C1={name:"NcInputConfirmCancel",components:{NcButton:et,ArrowRight:un,Close:hi},props:{primary:{default:!1,type:Boolean},placeholder:{default:"",type:String},modelValue:{default:"",type:String}},emits:["cancel","confirm","update:modelValue"],data(){return{labelConfirm:ee("Confirm changes"),labelCancel:ee("Cancel changes")}},computed:{valueModel:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{confirm(){this.$emit("confirm")},cancel(){this.$emit("cancel")},focusInput(){this.$refs.input.focus()}}},k1={class:"app-navigation-input-confirm"},y1=["placeholder"];function _1(e,a,u,i,r,n){const o=k("ArrowRight"),s=k("NcButton"),l=k("Close");return p(),m("div",k1,[y("form",{onSubmit:a[1]||(a[1]=ue((...c)=>n.confirm&&n.confirm(...c),["prevent"])),onKeydown:a[2]||(a[2]=ke(ue((...c)=>n.cancel&&n.cancel(...c),["exact","stop","prevent"]),["esc"])),onClick:a[3]||(a[3]=ue(()=>{},["stop","prevent"]))},[U(y("input",{ref:"input","onUpdate:modelValue":a[0]||(a[0]=c=>n.valueModel=c),type:"text",class:"app-navigation-input-confirm__input",placeholder:u.placeholder},null,8,y1),[[ta,n.valueModel]]),g(s,{"native-type":"submit",type:"primary","aria-label":r.labelConfirm,onClick:ue(n.confirm,["stop","prevent"])},{icon:_(()=>[g(o,{size:20})]),_:1},8,["aria-label","onClick"]),g(s,{"native-type":"reset",type:u.primary?"primary":"tertiary","aria-label":r.labelCancel,onClick:ue(n.cancel,["stop","prevent"])},{icon:_(()=>[g(l,{size:20})]),_:1},8,["type","aria-label","onClick"])],32)])}const b1=W(C1,[["render",_1],["__scopeId","data-v-cd55dad8"]]);$e(Ul);const D1={name:"NcAppNavigationIconCollapsible",components:{NcButton:et,ChevronDown:ql,ChevronUp:c1},props:{open:{type:Boolean,default:!0}},emits:["click"],computed:{labelButton(){return this.open?ee("Collapse menu"):ee("Open menu")}},methods:{onClick(e){this.$emit("click",e)}}};function v1(e,a,u,i,r,n){const o=k("ChevronUp"),s=k("ChevronDown"),l=k("NcButton");return p(),S(l,{class:R(["icon-collapse",{"icon-collapse--open":u.open}]),type:"tertiary","aria-label":n.labelButton,onClick:n.onClick},{icon:_(()=>[u.open?(p(),S(o,{key:0,size:20})):(p(),S(s,{key:1,size:20}))]),_:1},8,["class","aria-label","onClick"])}const E1=W(D1,[["render",v1],["__scopeId","data-v-e0d585a7"]]);$e(jl,yo);const A1={name:"PencilIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},w1=["aria-hidden","aria-label"],B1=["fill","width","height"],x1={d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},S1={key:0};function T1(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon pencil-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",x1,[u.title?(p(),m("title",S1,B(u.title),1)):w("",!0)])],8,B1))],16,w1)}const M1=W(A1,[["render",T1]]),z1={name:"UndoIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},L1=["aria-hidden","aria-label"],N1=["fill","width","height"],$1={d:"M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z"},O1={key:0};function I1(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon undo-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",$1,[u.title?(p(),m("title",O1,B(u.title),1)):w("",!0)])],8,N1))],16,L1)}const P1=W(z1,[["render",I1]]),V1={name:"NcAppNavigationItem",components:{NcActions:Xt,NcActionButton:At,NcAppNavigationIconCollapsible:E1,NcInputConfirmCancel:b1,NcLoadingIcon:iu,NcVNodes:Oo,Pencil:M1,Undo:P1},props:{active:{type:Boolean,default:!1},name:{type:String,required:!0},title:{type:String,default:null},id:{type:String,default:()=>"app-navigation-item-"+Wt(),validator:e=>e.trim()!==""},icon:{type:String,default:""},loading:{type:Boolean,default:!1},to:{type:[String,Object],default:null},href:{type:String,default:null},allowCollapse:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editLabel:{type:String,default:""},editPlaceholder:{type:String,default:""},pinned:{type:Boolean,default:!1},undo:{type:Boolean,default:!1},open:{type:Boolean,default:!1},menuOpen:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},menuIcon:{type:String,default:void 0},menuPlacement:{type:String,default:"bottom"},ariaDescription:{type:String,default:null},forceDisplayActions:{type:Boolean,default:!1},inlineActions:{type:Number,default:0}},emits:["update:menuOpen","update:open","update:name","click","undo"],setup(){return{isMobile:da()}},data(){return{editingValue:"",opened:this.open,editingActive:!1,menuOpenLocalValue:!1,focused:!1}},computed:{isRouterLink(){return this.to&&!this.href},canHaveChildren(){return this.$parent.$options._componentTag!=="AppNavigationItem"},editButtonAriaLabel(){return this.editLabel?this.editLabel:ee("Edit item")},undoButtonAriaLabel(){return ee("Undo changes")},actionsBoundariesElement(){return document.querySelector("#content-vue")||void 0}},watch:{open(e){this.opened=e}},methods:{onMenuToggle(e){this.$emit("update:menuOpen",e),this.menuOpenLocalValue=e},toggleCollapse(){this.opened=!this.opened,this.$emit("update:open",this.opened)},onClick(e,a,u){this.$emit("click",e),!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&u&&(a?.(e),e.preventDefault())},handleEdit(){this.editingValue=this.name,this.editingActive=!0,this.onMenuToggle(!1),this.$nextTick(()=>{this.$refs.editingInput.focusInput()})},cancelEditing(){this.editingActive=!1},handleEditingDone(){this.$emit("update:name",this.editingValue),this.editingValue="",this.editingActive=!1},handleUndo(){this.$emit("undo")},handleFocus(){this.focused=!0},handleBlur(){this.focused=!1},handleTab(e){this.$refs.actions&&(this.focused?(e.preventDefault(),this.$refs.actions.$refs.menuButton.$el.focus(),this.focused=!1):this.$refs.actions.$refs.menuButton.$el.blur())},isExternal(e){return e&&e.match(/[a-z]+:\/\//i)}}},H1=["id"],R1=["aria-current","aria-description","aria-expanded","href","target","title","onClick"],U1={key:0,class:"app-navigation-entry__name"},j1={key:1,class:"editingContainer"},q1={key:1,class:"app-navigation-entry__deleted"},W1={class:"app-navigation-entry__deleted-description"},Y1={key:0,class:"app-navigation-entry__counter-wrapper"},Z1={key:0,class:"app-navigation-entry__children"};function G1(e,a,u,i,r,n){const o=k("NcLoadingIcon"),s=k("NcInputConfirmCancel"),l=k("Pencil"),c=k("NcActionButton"),h=k("Undo"),d=k("NcActions"),F=k("NcAppNavigationIconCollapsible");return p(),m("li",{id:u.id,class:R([{"app-navigation-entry--opened":r.opened,"app-navigation-entry--pinned":u.pinned,"app-navigation-entry--collapsible":u.allowCollapse&&!!e.$slots.default},"app-navigation-entry-wrapper"])},[(p(),S(at(n.isRouterLink?"router-link":"NcVNodes"),Oa(Ia({...n.isRouterLink&&{custom:!0,to:u.to}})),{default:_(({href:f,navigate:C,isActive:v})=>[y("div",{class:R([{"app-navigation-entry--editing":r.editingActive,"app-navigation-entry--deleted":u.undo,active:v&&u.to||u.active},"app-navigation-entry"])},[u.undo?w("",!0):(p(),m("a",{key:0,class:"app-navigation-entry-link","aria-current":u.active||v&&u.to?"page":void 0,"aria-description":u.ariaDescription,"aria-expanded":e.$slots.default?r.opened.toString():void 0,href:u.href||f||"#",target:n.isExternal(u.href)?"_blank":void 0,title:u.title||u.name,onBlur:a[1]||(a[1]=(...b)=>n.handleBlur&&n.handleBlur(...b)),onClick:b=>n.onClick(b,C,f),onFocus:a[2]||(a[2]=(...b)=>n.handleFocus&&n.handleFocus(...b)),onKeydown:a[3]||(a[3]=ke(ue((...b)=>n.handleTab&&n.handleTab(...b),["exact"]),["tab"]))},[y("div",{class:R([{[u.icon]:u.icon},"app-navigation-entry-icon"])},[u.loading?(p(),S(o,{key:0})):Q(e.$slots,"icon",{key:1},void 0,!0)],2),r.editingActive?w("",!0):(p(),m("span",U1,B(u.name),1)),r.editingActive?(p(),m("div",j1,[g(s,{ref:"editingInput",modelValue:r.editingValue,"onUpdate:modelValue":a[0]||(a[0]=b=>r.editingValue=b),placeholder:u.editPlaceholder!==""?u.editPlaceholder:u.name,primary:v&&u.to||u.active,onCancel:n.cancelEditing,onConfirm:n.handleEditingDone},null,8,["modelValue","placeholder","primary","onCancel","onConfirm"])])):w("",!0)],40,R1)),u.undo?(p(),m("div",q1,[y("div",W1,B(u.name),1)])):w("",!0),(e.$slots.actions||e.$slots.counter||u.editable||u.undo)&&!r.editingActive?(p(),m("div",{key:2,class:R(["app-navigation-entry__utils",{"app-navigation-entry__utils--display-actions":u.forceDisplayActions||r.menuOpenLocalValue||u.menuOpen}])},[e.$slots.counter?(p(),m("div",Y1,[Q(e.$slots,"counter",{},void 0,!0)])):w("",!0),e.$slots.actions||u.editable&&!r.editingActive||u.undo?(p(),S(d,{key:1,ref:"actions",inline:u.inlineActions,class:"app-navigation-entry__actions",container:"#app-navigation-vue","boundaries-element":n.actionsBoundariesElement,placement:u.menuPlacement,open:u.menuOpen,type:v&&u.to||u.active?"primary":null,"force-menu":u.forceMenu,"default-icon":u.menuIcon,"onUpdate:open":n.onMenuToggle},{icon:_(()=>[Q(e.$slots,"menu-icon",{},void 0,!0)]),default:_(()=>[u.editable&&!r.editingActive?(p(),S(c,{key:0,"aria-label":n.editButtonAriaLabel,onClick:n.handleEdit},{icon:_(()=>[g(l,{size:20})]),default:_(()=>[j(" "+B(u.editLabel),1)]),_:1},8,["aria-label","onClick"])):w("",!0),u.undo?(p(),S(c,{key:1,"aria-label":n.undoButtonAriaLabel,onClick:n.handleUndo},{icon:_(()=>[g(h,{size:20})]),_:1},8,["aria-label","onClick"])):w("",!0),Q(e.$slots,"actions",{},void 0,!0)]),_:2},1032,["inline","boundaries-element","placement","open","type","force-menu","default-icon","onUpdate:open"])):w("",!0)],2)):w("",!0),u.allowCollapse&&e.$slots.default?(p(),S(F,{key:3,open:r.opened,onClick:ue(n.toggleCollapse,["prevent","stop"])},null,8,["open","onClick"])):w("",!0),Q(e.$slots,"extra",{},void 0,!0)],2)]),_:3},16)),n.canHaveChildren&&e.$slots.default?(p(),m("ul",Z1,[Q(e.$slots,"default",{},void 0,!0)])):w("",!0)],10,H1)}const an=W(V1,[["render",G1],["__scopeId","data-v-bf878a8e"]]);$e();const X1={name:"CheckboxBlankOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},K1=["aria-hidden","aria-label"],Q1=["fill","width","height"],J1={d:"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z"},e0={key:0};function t0(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon checkbox-blank-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",J1,[u.title?(p(),m("title",e0,B(u.title),1)):w("",!0)])],8,Q1))],16,K1)}const u0=W(X1,[["render",t0]]),a0={name:"MinusBoxIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},n0=["aria-hidden","aria-label"],i0=["fill","width","height"],r0={d:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},o0={key:0};function s0(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon minus-box-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",r0,[u.title?(p(),m("title",o0,B(u.title),1)):w("",!0)])],8,i0))],16,n0)}const l0=W(a0,[["render",s0]]),c0={name:"CheckboxMarkedIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},d0=["aria-hidden","aria-label"],p0=["fill","width","height"],h0={d:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},m0={key:0};function f0(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon checkbox-marked-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",h0,[u.title?(p(),m("title",m0,B(u.title),1)):w("",!0)])],8,p0))],16,d0)}const F0=W(c0,[["render",f0]]),g0={name:"RadioboxMarkedIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},C0=["aria-hidden","aria-label"],k0=["fill","width","height"],y0={d:"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z"},_0={key:0};function b0(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon radiobox-marked-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",y0,[u.title?(p(),m("title",_0,B(u.title),1)):w("",!0)])],8,k0))],16,C0)}const D0=W(g0,[["render",b0]]),v0={name:"RadioboxBlankIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},E0=["aria-hidden","aria-label"],A0=["fill","width","height"],w0={d:"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},B0={key:0};function x0(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon radiobox-blank-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",w0,[u.title?(p(),m("title",B0,B(u.title),1)):w("",!0)])],8,A0))],16,E0)}const S0=W(v0,[["render",x0]]),T0={name:"ToggleSwitchOffIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},M0=["aria-hidden","aria-label"],z0=["fill","width","height"],L0={d:"M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M7,15A3,3 0 0,1 4,12A3,3 0 0,1 7,9A3,3 0 0,1 10,12A3,3 0 0,1 7,15Z"},N0={key:0};function $0(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon toggle-switch-off-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",L0,[u.title?(p(),m("title",N0,B(u.title),1)):w("",!0)])],8,z0))],16,M0)}const O0=W(T0,[["render",$0]]),I0={name:"ToggleSwitchIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},P0=["aria-hidden","aria-label"],V0=["fill","width","height"],H0={d:"M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z"},R0={key:0};function U0(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon toggle-switch-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",H0,[u.title?(p(),m("title",R0,B(u.title),1)):w("",!0)])],8,V0))],16,P0)}const j0=W(I0,[["render",U0]]),hu="checkbox",ku="radio",Mt="switch",Ru="button",q0={name:"NcCheckboxContent",components:{NcLoadingIcon:iu},props:{id:{type:String,default:null},iconClass:{type:[String,Object],default:null},textClass:{type:[String,Object],default:null},type:{type:String,default:"checkbox",validator:e=>[hu,ku,Mt,Ru].includes(e)},buttonVariant:{type:Boolean,default:!1},isChecked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:Number,default:24}},computed:{isButtonType(){return this.type===Ru},checkboxRadioIconElement(){return this.type===ku?this.isChecked?D0:S0:this.type===Mt?this.isChecked?j0:O0:this.indeterminate?l0:this.isChecked?F0:u0}}},W0=["id"];function Y0(e,a,u,i,r,n){const o=k("NcLoadingIcon");return p(),m("span",{id:n.isButtonType?void 0:`${u.id}-label`,class:R(["checkbox-content",{["checkbox-content-"+u.type]:!0,"checkbox-content--button-variant":u.buttonVariant,"checkbox-content--has-text":!!e.$slots.default}])},[y("span",{class:R({"checkbox-content__icon":!0,"checkbox-content__icon--checked":u.isChecked,[u.iconClass]:!0}),"aria-hidden":!0,inert:""},[Q(e.$slots,"icon",{checked:u.isChecked,loading:u.loading},()=>[u.loading?(p(),S(o,{key:0})):u.buttonVariant?w("",!0):(p(),S(at(n.checkboxRadioIconElement),{key:1,size:u.size},null,8,["size"]))],!0)],2),e.$slots.default?(p(),m("span",{key:0,class:R(["checkbox-content__text",u.textClass])},[Q(e.$slots,"default",{},void 0,!0)],2)):w("",!0)],10,W0)}const Z0=W(q0,[["render",Y0],["__scopeId","data-v-d9ed614b"]]),G0={name:"NcCheckboxRadioSwitch",components:{NcCheckboxContent:Z0},inheritAttrs:!1,props:{id:{type:String,default:()=>"checkbox-radio-switch-"+Wt(),validator:e=>e.trim()!==""},wrapperId:{type:String,default:null},name:{type:String,default:null},ariaLabel:{type:String,default:""},type:{type:String,default:"checkbox",validator:e=>[hu,ku,Mt,Ru].includes(e)},buttonVariant:{type:Boolean,default:!1},buttonVariantGrouped:{type:String,default:"no",validator:e=>["no","vertical","horizontal"].includes(e)},modelValue:{type:[Boolean,Array,String],default:!1},value:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},required:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},wrapperElement:{type:String,default:null},class:{type:[String,Array,Object],default:""},style:{type:[String,Array,Object],default:""}},emits:["update:modelValue"],computed:{isButtonType(){return this.type===Ru},computedWrapperElement(){return this.isButtonType?"button":this.wrapperElement!==null?this.wrapperElement:"span"},listeners(){return this.isButtonType?{click:this.onToggle}:{change:this.onToggle}},cssVars(){return{"--icon-size":this.size+"px","--icon-height":(this.type===Mt?16:this.size)+"px"}},size(){return this.type===Mt?36:24},inputType(){return[hu,ku,Ru].includes(this.type)?this.type:hu},isChecked(){return this.value!==null?Array.isArray(this.modelValue)?[...this.modelValue].indexOf(this.value)>-1:this.modelValue===this.value:this.modelValue===!0},hasIndeterminate(){return[hu,ku].includes(this.inputType)}},mounted(){if(this.name&&this.type===hu&&!Array.isArray(this.modelValue))throw new Error("When using groups of checkboxes, the updated value will be an array.");if(this.name&&this.type===Mt)throw new Error("Switches are not made to be used for data sets. Please use checkboxes instead.");if(typeof this.modelValue!="boolean"&&this.type===Mt)throw new Error("Switches can only be used with boolean as modelValue prop.")},methods:{t:ee,n:Wl,onToggle(){if(this.disabled)return;if(this.type===ku){this.$emit("update:modelValue",this.value);return}if(this.type===Mt){this.$emit("update:modelValue",!this.isChecked);return}if(typeof this.modelValue=="boolean"){this.$emit("update:modelValue",!this.modelValue);return}const e=this.getInputsSet().filter(a=>a.checked).map(a=>a.value);e.includes(this.value)?this.$emit("update:modelValue",e.filter(a=>a!==this.value)):this.$emit("update:modelValue",[...e,this.value])},getInputsSet(){return[...document.getElementsByName(this.name)]}}},X0=["id","aria-labelledby","aria-label","disabled","type","value","checked",".indeterminate","required","name"];function K0(e,a,u,i,r,n){const o=k("NcCheckboxContent");return p(),S(at(n.computedWrapperElement),L({id:u.wrapperId??(n.isButtonType?u.id:null),"aria-label":n.isButtonType&&u.ariaLabel?u.ariaLabel:void 0,class:["checkbox-radio-switch",[e.$props.class,{["checkbox-radio-switch-"+u.type]:u.type,"checkbox-radio-switch--checked":n.isChecked,"checkbox-radio-switch--disabled":u.disabled,"checkbox-radio-switch--indeterminate":n.hasIndeterminate?u.indeterminate:!1,"checkbox-radio-switch--button-variant":u.buttonVariant,"checkbox-radio-switch--button-variant-v-grouped":u.buttonVariant&&u.buttonVariantGrouped==="vertical","checkbox-radio-switch--button-variant-h-grouped":u.buttonVariant&&u.buttonVariantGrouped==="horizontal","button-vue":n.isButtonType}]],style:[n.cssVars,u.style],type:n.isButtonType?"button":null},n.isButtonType?e.$attrs:{},Xn(n.isButtonType?n.listeners:{})),{default:_(()=>[n.isButtonType?w("",!0):(p(),m("input",L({key:0,id:u.id,"aria-labelledby":!n.isButtonType&&!u.ariaLabel?`${u.id}-label`:null,"aria-label":u.ariaLabel||void 0,class:"checkbox-radio-switch__input",disabled:u.disabled,type:n.inputType,value:u.value,checked:n.isChecked,".indeterminate":n.hasIndeterminate?u.indeterminate:null,required:u.required,name:u.name},e.$attrs,Xn(n.listeners,!0)),null,48,X0)),g(o,{id:u.id,class:"checkbox-radio-switch__content","icon-class":"checkbox-radio-switch__icon","text-class":"checkbox-radio-switch__text",type:u.type,indeterminate:n.hasIndeterminate?u.indeterminate:!1,"button-variant":u.buttonVariant,"is-checked":n.isChecked,loading:u.loading,size:n.size,onClick:n.onToggle},Yt({icon:_(()=>[Q(e.$slots,"icon",{},void 0,!0)]),_:2},[e.$slots.default?{name:"default",fn:_(()=>[Q(e.$slots,"default",{},void 0,!0)]),key:"0"}:void 0]),1032,["id","type","indeterminate","button-variant","is-checked","loading","size","onClick"])]),_:3},16,["id","aria-label","class","style","type"])}const Vo=W(G0,[["render",K0],["__scopeId","data-v-266d05fb"]]),Q0={name:"AccountMultipleIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},J0=["aria-hidden","aria-label"],ed=["fill","width","height"],td={d:"M16 17V19H2V17S2 13 9 13 16 17 16 17M12.5 7.5A3.5 3.5 0 1 0 9 11A3.5 3.5 0 0 0 12.5 7.5M15.94 13A5.32 5.32 0 0 1 18 17V19H22V17S22 13.37 15.94 13M15 4A3.39 3.39 0 0 0 13.07 4.59A5 5 0 0 1 13.07 10.41A3.39 3.39 0 0 0 15 11A3.5 3.5 0 0 0 15 4Z"},ud={key:0};function ad(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon account-multiple-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",td,[u.title?(p(),m("title",ud,B(u.title),1)):w("",!0)])],8,ed))],16,J0)}const nd=I(Q0,[["render",ad]]),id={name:"DeleteIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},rd=["aria-hidden","aria-label"],od=["fill","width","height"],sd={d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},ld={key:0};function cd(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon delete-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",sd,[u.title?(p(),m("title",ld,B(u.title),1)):w("",!0)])],8,od))],16,rd)}const Kt=I(id,[["render",cd]]),dd={name:"CalendarSharee",components:{NcActionButton:At,NcAppNavigationItem:an,NcAvatar:_o,NcCheckboxRadioSwitch:Vo,AccountMultiple:nd,Delete:Kt},props:{calendar:{type:Object,required:!0},sharee:{type:Object,required:!0}},data(){return{loading:!1}},computed:{writeable(){return this.sharee.writeable},uid(){return this.sharee.id+this.calendar.id+Math.floor(Math.random()*1e3)}},methods:{t:x,async deleteSharee(){if(this.loading)return!1;this.loading=!0;try{await this.$store.dispatch("removeSharee",{calendar:this.calendar,uri:this.sharee.uri})}catch(e){console.error(e),qt(x("tasks","Unable to delete the share."))}finally{this.loading=!1}},async editSharee(){if(this.loading)return!1;this.loading=!0;try{await this.$store.dispatch("toggleShareeWritable",{calendar:this.calendar,uri:this.sharee.uri,writeable:!this.sharee.writeable})}catch(e){console.error(e),qt(x("tasks","Unable to change permissions."))}finally{this.loading=!1}}}},pd={key:1,class:"avatar icon-circles"};function hd(e,a,u,i,r,n){const o=k("AccountMultiple"),s=k("NcAvatar"),l=k("NcCheckboxRadioSwitch"),c=k("Delete"),h=k("NcActionButton"),d=k("NcAppNavigationItem");return p(),S(d,{name:u.sharee.displayName,"force-display-actions":""},{icon:_(()=>[u.sharee.isGroup?(p(),S(o,{key:0,size:18,class:"avatar"})):u.sharee.isCircle?(p(),m("div",pd)):(p(),S(s,{key:2,user:u.sharee.id,"display-name":u.sharee.displayName,"disable-menu":!0},null,8,["user","display-name"]))]),counter:_(()=>[g(l,{disabled:r.loading,"model-value":n.writeable,"onUpdate:modelValue":n.editSharee},{default:_(()=>[j(B(n.t("tasks","Can edit")),1)]),_:1},8,["disabled","model-value","onUpdate:modelValue"])]),actions:_(()=>[g(h,{disabled:r.loading,onClick:ue(n.deleteSharee,["prevent","stop"])},{icon:_(()=>[g(c,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Unshare with {displayName}",{displayName:u.sharee.displayName})),1)]),_:1},8,["disabled","onClick"])]),_:1},8,["name"])}const md=I(dd,[["render",hd],["__scopeId","data-v-9301f9b3"]]);function Ji(e){return decodeURIComponent(e.replace(/\+/g," "))}var Qn={exports:{}};function er(e,a=100,u={}){if(typeof e!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof e}\`.`);if(a<0)throw new RangeError("`wait` must not be negative.");const{immediate:i}=typeof u=="boolean"?{immediate:u}:u;let r,n,o,s,l;function c(){const F=r,f=n;return r=void 0,n=void 0,l=e.apply(F,f),l}function h(){const F=Date.now()-s;F<a&&F>=0?o=setTimeout(h,a-F):(o=void 0,i||(l=c()))}const d=function(...F){if(r&&this!==r)throw new Error("Debounced method called with different contexts.");r=this,n=F,s=Date.now();const f=i&&!o;return o||(o=setTimeout(h,a)),f&&(l=c()),l};return d.clear=()=>{o&&(clearTimeout(o),o=void 0)},d.flush=()=>{o&&d.trigger()},d.trigger=()=>{l=c(),d.clear()},d}Qn.exports.debounce=er,Qn.exports=er;var fd=Qn.exports;const Ho=mi(fd),Fd={name:"CalendarShare",components:{CalendarSharee:md,NcSelect:ca},props:{calendar:{type:Object,default(){return{}}}},data(){return{usersOrGroups:[]}},computed:{placeholder(){return x("tasks","Share with users or groups")},noResult(){return x("tasks","No users or groups")}},methods:{shareCalendar({user:e,displayName:a,uri:u,isGroup:i,isCircle:r}){this.$store.dispatch("shareCalendar",{calendar:this.calendar,user:e,displayName:a,uri:u,isGroup:i,isCircle:r})},findSharee:Ho(async function(e,a){const u=[],i=[];if(this.calendar.shares.forEach(r=>{u.push(r.uri)}),this.$store.getters.getCurrentUserPrincipal&&i.push(this.$store.getters.getCurrentUserPrincipal.url),this.calendar.owner&&i.push(this.calendar.owner),this.usersOrGroups=[],e.length>0){a(!0);const r=this.findShareesFromDav(e,u,i),n=this.findShareesFromCircles(e,u,i),[o,s]=await Promise.all([r,n]);this.usersOrGroups=[...o,...s],a(!1)}},500),async findShareesFromDav(e,a,u){let i;try{i=await bo.principalPropertySearchByDisplayname(e)}catch{return[]}return i.reduce((r,n)=>{if(["ROOM","RESOURCE"].includes(n.calendarUserType))return r;const o=n.calendarUserType==="GROUP",s=Ji(n[o?"groupId":"userId"]),l=Ji(n.principalScheme);return a.includes(l)||u.includes(n.url)||!["GROUP","INDIVIDUAL"].includes(n.calendarUserType)||r.push({user:s,displayName:n.displayname,icon:o?"icon-group":"icon-user",uri:l,isGroup:o,isCircle:!1,isNoUser:o,search:e}),r},[])},async findShareesFromCircles(e,a){let u;try{u=await Do.get(vo("apps/files_sharing/api/v1/")+"sharees",{params:{format:"json",search:e,perPage:200,itemType:"principals"}})}catch{return[]}if(u.data.ocs.meta.status==="failure")return[];let i=[];return Array.isArray(u.data.ocs.data.circles)&&(i=i.concat(u.data.ocs.data.circles)),Array.isArray(u.data.ocs.data.exact.circles)&&(i=i.concat(u.data.ocs.data.exact.circles)),i.length===0?[]:i.filter(r=>!a.includes("principal:principals/circles/"+r.value.shareWith)).map(r=>({user:r.label,displayName:r.label,icon:"icon-circle",uri:"principal:principals/circles/"+r.value.shareWith,isGroup:!1,isCircle:!0,isNoUser:!0,search:e}))}}},gd={class:"calendar-shares"},Cd={class:"app-navigation-entry__select"};function kd(e,a,u,i,r,n){const o=k("NcSelect"),s=k("CalendarSharee");return p(),m("div",gd,[y("ul",null,[y("li",Cd,[g(o,{"append-to-body":!1,options:r.usersOrGroups,placeholder:n.placeholder,"user-select":!0,onSearch:n.findSharee,"onOption:selected":n.shareCalendar},{"no-options":_(()=>[y("span",null,B(n.noResult),1)]),_:1},8,["options","placeholder","onSearch","onOption:selected"])]),(p(!0),m(Ne,null,We(u.calendar.shares,l=>(p(),S(s,{key:l.uri,sharee:l,calendar:u.calendar},null,8,["sharee","calendar"]))),128))])])}const yd=I(Fd,[["render",kd],["__scopeId","data-v-b70fd66d"]]),_d={name:"NcCounterBubble",props:{type:{type:String,default:"",validator(e){return["highlighted","outlined",""].indexOf(e)!==-1}},active:{type:Boolean,default:!1}},computed:{counterClassObject(){return{"counter-bubble__counter--highlighted":this.type==="highlighted","counter-bubble__counter--outlined":this.type==="outlined",active:this.active}}}};function bd(e,a,u,i,r,n){return p(),m("div",{class:R([n.counterClassObject,"counter-bubble__counter"])},[Q(e.$slots,"default",{},void 0,!0)],2)}const Ro=W(_d,[["render",bd],["__scopeId","data-v-201901ec"]]),Dd={name:"NcAppNavigationIconBullet",props:{color:{type:String,required:!0,validator(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}}},emits:["click"],computed:{formattedColor(){return this.color.startsWith("#")?this.color:"#"+this.color}},methods:{onClick(e){this.$emit("click",e)}}};function vd(e,a,u,i,r,n){return p(),m("div",{class:"app-navigation-entry__icon-bullet",onClick:a[0]||(a[0]=(...o)=>n.onClick&&n.onClick(...o))},[y("div",{style:Ie({backgroundColor:n.formattedColor})},null,4)])}const Ed=W(Dd,[["render",vd],["__scopeId","data-v-37dbcd48"]]),Ad={name:"AlertCircleOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},wd=["aria-hidden","aria-label"],Bd=["fill","width","height"],xd={d:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"},Sd={key:0};function Td(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon alert-circle-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",xd,[u.title?(p(),m("title",Sd,B(u.title),1)):w("",!0)])],8,Bd))],16,wd)}const Md=W(Ad,[["render",Td]]),zd={name:"NcInputField",components:{NcButton:et,AlertCircle:Md,Check:Hc},inheritAttrs:!1,props:{modelValue:{type:[String,Number],required:!0},type:{type:String,default:"text",validator:e=>["text","password","email","tel","url","search","number"].includes(e)},label:{type:String,default:void 0},labelOutside:{type:Boolean,default:!1},placeholder:{type:String,default:void 0},showTrailingButton:{type:Boolean,default:!1},trailingButtonLabel:{type:String,default:""},success:{type:Boolean,default:!1},error:{type:Boolean,default:!1},helperText:{type:String,default:""},disabled:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},class:{type:[Object,String,Array],default:""},inputClass:{type:[Object,String],default:""}},emits:["update:modelValue","trailing-button-click"],computed:{computedId(){return this.$attrs.id&&this.$attrs.id!==""?this.$attrs.id:this.inputName},inputName(){return"input"+Wt()},hasTrailingIcon(){return this.success},hasPlaceholder(){return this.placeholder!==""&&this.placeholder!==void 0},computedPlaceholder(){return this.hasPlaceholder?this.placeholder:this.label},isValidLabel(){const e=this.label||this.labelOutside;return e||console.warn("You need to add a label to the NcInputField component. Either use the prop label or use an external one, as per the example in the documentation."),e},ariaDescribedby(){const e=[];return this.helperText.length>0&&e.push(`${this.inputName}-helper-text`),this.$attrs["aria-describedby"]&&e.push(this.$attrs["aria-describedby"]),e.join(" ")||null}},methods:{focus(){this.$refs.input.focus()},select(){this.$refs.input.select()},handleInput(e){this.$emit("update:modelValue",this.type==="number"&&typeof this.modelValue=="number"?parseFloat(e.target.value,10):e.target.value)},handleTrailingButtonClick(e){this.$emit("trailing-button-click",e)}}},Ld={class:"input-field__main-wrapper"},Nd=["id","type","disabled","placeholder","aria-describedby","value"],$d=["for"],Od={class:"input-field__icon input-field__icon--leading"},Id={key:2,class:"input-field__icon input-field__icon--trailing"},Pd=["id"];function Vd(e,a,u,i,r,n){const o=k("NcButton"),s=k("Check"),l=k("AlertCircle");return p(),m("div",{class:R(["input-field",[{"input-field--disabled":u.disabled},e.$props.class]])},[y("div",Ld,[y("input",L(e.$attrs,{id:n.computedId,ref:"input",class:["input-field__input",[u.inputClass,{"input-field__input--trailing-icon":u.showTrailingButton||n.hasTrailingIcon,"input-field__input--leading-icon":!!e.$slots.icon,"input-field__input--label-outside":u.labelOutside,"input-field__input--success":u.success,"input-field__input--error":u.error,"input-field__input--pill":u.pill}]],type:u.type,disabled:u.disabled,placeholder:n.computedPlaceholder,"aria-describedby":n.ariaDescribedby,"aria-live":"polite",value:u.modelValue.toString(),onInput:a[0]||(a[0]=(...c)=>n.handleInput&&n.handleInput(...c))}),null,16,Nd),!u.labelOutside&&n.isValidLabel?(p(),m("label",{key:0,class:R(["input-field__label",[{"input-field__label--trailing-icon":u.showTrailingButton||n.hasTrailingIcon,"input-field__label--leading-icon":!!e.$slots.icon}]]),for:n.computedId},B(u.label),11,$d)):w("",!0),U(y("div",Od,[Q(e.$slots,"icon",{},void 0,!0)],512),[[oe,!!e.$slots.icon]]),u.showTrailingButton?(p(),S(o,{key:1,type:"tertiary-no-background",class:R(["input-field__trailing-button",[{"input-field__trailing-button--pill":u.pill}]]),"aria-label":u.trailingButtonLabel,disabled:u.disabled,onClick:n.handleTrailingButtonClick},{icon:_(()=>[Q(e.$slots,"trailing-button-icon",{},void 0,!0)]),_:3},8,["class","aria-label","disabled","onClick"])):u.success||u.error?(p(),m("div",Id,[u.success?(p(),S(s,{key:0,size:20,style:{color:"var(--color-success-text)"}})):u.error?(p(),S(l,{key:1,size:20,style:{color:"var(--color-error-text)"}})):w("",!0)])):w("",!0)]),u.helperText.length>0?(p(),m("p",{key:0,id:`${n.inputName}-helper-text`,class:R(["input-field__helper-text-message",{"input-field__helper-text-message--error":u.error,"input-field__helper-text-message--success":u.success}])},[u.success?(p(),S(s,{key:0,class:"input-field__helper-text-message__icon",size:18})):u.error?(p(),S(l,{key:1,class:"input-field__helper-text-message__icon",size:18})):w("",!0),j(" "+B(u.helperText),1)],10,Pd)):w("",!0)],2)}const Au=W(zd,[["render",Vd],["__scopeId","data-v-170179c7"]]),Hd={name:"UndoVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Rd=["aria-hidden","aria-label"],Ud=["fill","width","height"],jd={d:"M13.5,7A6.5,6.5 0 0,1 20,13.5A6.5,6.5 0 0,1 13.5,20H10V18H13.5C16,18 18,16 18,13.5C18,11 16,9 13.5,9H7.83L10.91,12.09L9.5,13.5L4,8L9.5,2.5L10.92,3.91L7.83,7H13.5M6,18H8V20H6V18Z"},qd={key:0};function Wd(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon undo-variant-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",jd,[u.title?(p(),m("title",qd,B(u.title),1)):w("",!0)])],8,Ud))],16,Rd)}const Yd=W(Hd,[["render",Wd]]);$e(Yl,yo);const Zd=new Set(Object.keys(Au.props)),Gd={name:"NcTextField",components:{NcInputField:Au,Close:hi,ArrowRight:un,Undo:Yd},props:{" ":{},...Au.props,trailingButtonLabel:{type:String,default:""},trailingButtonIcon:{type:String,default:"close",validator:e=>["close","arrowRight","undo"].includes(e)}},emits:["update:modelValue"],computed:{propsToForward(){const e={undo:ee("Undo changes"),close:ee("Clear text"),arrowRight:ee("Save changes")};return{...Object.fromEntries(Object.entries(this.$props).filter(([a])=>Zd.has(a))),trailingButtonLabel:this.trailingButtonLabel||e[this.trailingButtonIcon]}}},methods:{focus(){this.$refs.inputField.focus()},select(){this.$refs.inputField.select()},handleInput(e){this.$emit("update:modelValue",e)}}};function Xd(e,a,u,i,r,n){const o=k("Close"),s=k("ArrowRight"),l=k("Undo"),c=k("NcInputField");return p(),S(c,L(n.propsToForward,{ref:"inputField","onUpdate:modelValue":n.handleInput}),Yt({_:2},[e.$slots.icon?{name:"icon",fn:_(()=>[Q(e.$slots,"icon")]),key:"0"}:void 0,e.type!=="search"?{name:"trailing-button-icon",fn:_(()=>[u.trailingButtonIcon==="close"?(p(),S(o,{key:0,size:20})):u.trailingButtonIcon==="arrowRight"?(p(),S(s,{key:1,size:20})):u.trailingButtonIcon==="undo"?(p(),S(l,{key:2,size:20})):w("",!0)]),key:"1"}:void 0]),1040,["onUpdate:modelValue"])}const pa=W(Gd,[["render",Xd]]),Kd={name:"CloseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Qd=["aria-hidden","aria-label"],Jd=["fill","width","height"],ep={d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},tp={key:0};function up(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon close-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",ep,[u.title?(p(),m("title",tp,B(u.title),1)):w("",!0)])],8,Jd))],16,Qd)}const Uo=I(Kd,[["render",up]]),ap={name:"DownloadIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},np=["aria-hidden","aria-label"],ip=["fill","width","height"],rp={d:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},op={key:0};function sp(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon download-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",rp,[u.title?(p(),m("title",op,B(u.title),1)):w("",!0)])],8,ip))],16,np)}const jo=I(ap,[["render",sp]]),lp={name:"LinkVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},cp=["aria-hidden","aria-label"],dp=["fill","width","height"],pp={d:"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z"},hp={key:0};function mp(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon link-variant-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",pp,[u.title?(p(),m("title",hp,B(u.title),1)):w("",!0)])],8,dp))],16,cp)}const fp=I(lp,[["render",mp]]),Fp={name:"PencilIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},gp=["aria-hidden","aria-label"],Cp=["fill","width","height"],kp={d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},yp={key:0};function _p(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon pencil-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",kp,[u.title?(p(),m("title",yp,B(u.title),1)):w("",!0)])],8,Cp))],16,gp)}const vi=I(Fp,[["render",_p]]),bp={name:"ShareVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Dp=["aria-hidden","aria-label"],vp=["fill","width","height"],Ep={d:"M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z"},Ap={key:0};function wp(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon share-variant-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Ep,[u.title?(p(),m("title",Ap,B(u.title),1)):w("",!0)])],8,vp))],16,Dp)}const Bp=I(bp,[["render",wp]]),xp={name:"UndoIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Sp=["aria-hidden","aria-label"],Tp=["fill","width","height"],Mp={d:"M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z"},zp={key:0};function Lp(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon undo-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Mp,[u.title?(p(),m("title",zp,B(u.title),1)):w("",!0)])],8,Tp))],16,Sp)}const nn=I(xp,[["render",Lp]]);function qo(e){return Gl()?(Xl(e),!0):!1}function Uu(e){return typeof e=="function"?e():bu(e)}const Wo=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Np=Object.prototype.toString,$p=e=>Np.call(e)==="[object Object]",ju=()=>{},Jn=Op();function Op(){var e,a;return Wo&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((a=window?.navigator)==null?void 0:a.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}const tr={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function Ip(...e){if(e.length!==1)return Eo(...e);const a=e[0];return typeof a=="function"?Qa(Zl(()=>({get:a,set:ju}))):se(a)}function Lu(e){var a;const u=Uu(e);return(a=u?.$el)!=null?a:u}const Yo=Wo?window:void 0;function xa(...e){let a,u,i,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([u,i,r]=e,a=Yo):[a,u,i,r]=e,!a)return ju;Array.isArray(u)||(u=[u]),Array.isArray(i)||(i=[i]);const n=[],o=()=>{n.forEach(h=>h()),n.length=0},s=(h,d,F,f)=>(h.addEventListener(d,F,f),()=>h.removeEventListener(d,F,f)),l=nu(()=>[Lu(a),Uu(r)],([h,d])=>{if(o(),!h)return;const F=$p(d)?{...d}:d;n.push(...u.flatMap(f=>i.map(C=>s(h,f,C,F))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return qo(c),c}let ur=!1;function ar(e,a,u={}){const{window:i=Yo,ignore:r=[],capture:n=!0,detectIframe:o=!1}=u;if(!i)return ju;Jn&&!ur&&(ur=!0,Array.from(i.document.body.children).forEach(h=>h.addEventListener("click",ju)),i.document.documentElement.addEventListener("click",ju));let s=!0;const l=h=>r.some(d=>{if(typeof d=="string")return Array.from(i.document.querySelectorAll(d)).some(F=>F===h.target||h.composedPath().includes(F));{const F=Lu(d);return F&&(h.target===F||h.composedPath().includes(F))}}),c=[xa(i,"click",h=>{const d=Lu(e);if(!(!d||d===h.target||h.composedPath().includes(d))){if(h.detail===0&&(s=!l(h)),!s){s=!0;return}a(h)}},{passive:!0,capture:n}),xa(i,"pointerdown",h=>{const d=Lu(e);s=!l(h)&&!!(d&&!h.composedPath().includes(d))},{passive:!0}),o&&xa(i,"blur",h=>{setTimeout(()=>{var d;const F=Lu(e);((d=i.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!F?.contains(i.document.activeElement)&&a(h)},0)})].filter(Boolean);return()=>c.forEach(h=>h())}const ha={[tr.mounted](e,a){const u=!a.modifiers.bubble;if(typeof a.value=="function")e.__onClickOutside_stop=ar(e,a.value,{capture:u});else{const[i,r]=a.value;e.__onClickOutside_stop=ar(e,i,Object.assign({capture:u},r))}},[tr.unmounted](e){e.__onClickOutside_stop()}};function yn(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function Zo(e){const a=window.getComputedStyle(e);if(a.overflowX==="scroll"||a.overflowY==="scroll"||a.overflowX==="auto"&&e.clientWidth<e.scrollWidth||a.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const u=e.parentNode;return!u||u.tagName==="BODY"?!1:Zo(u)}}function Pp(e){const a=e||window.event,u=a.target;return Zo(u)?!1:a.touches.length>1?!0:(a.preventDefault&&a.preventDefault(),!1)}const _n=new WeakMap;function Vp(e,a=!1){const u=se(a);let i=null,r="";nu(Ip(e),s=>{const l=yn(Uu(s));if(l){const c=l;if(_n.get(c)||_n.set(c,c.style.overflow),c.style.overflow!=="hidden"&&(r=c.style.overflow),c.style.overflow==="hidden")return u.value=!0;if(u.value)return c.style.overflow="hidden"}},{immediate:!0});const n=()=>{const s=yn(Uu(e));!s||u.value||(Jn&&(i=xa(s,"touchmove",l=>{Pp(l)},{passive:!1})),s.style.overflow="hidden",u.value=!0)},o=()=>{const s=yn(Uu(e));!s||!u.value||(Jn&&i?.(),s.style.overflow=r,_n.delete(s),u.value=!1)};return qo(o),de({get(){return u.value},set(s){s?n():o()}})}function Hp(){let e=!1;const a=se(!1);return(u,i)=>{if(a.value=i.value,e)return;e=!0;const r=Vp(u,i.value);nu(a,n=>r.value=n)}}Hp();const Ca=7,Rp={components:{Colorpicker:$o,ShareCalendar:yd,NcAvatar:_o,NcAppNavigationItem:an,NcCounterBubble:Ro,NcAppNavigationIconBullet:Ed,NcActions:Xt,NcActionButton:At,NcActionLink:Ao,NcTextField:pa,Close:Uo,Delete:Kt,Download:jo,LinkVariant:fp,Pencil:vi,ShareVariant:Bp,Undo:nn},directives:{ClickOutside:ha,Tooltip:ru},props:{calendar:{type:Object,required:!0}},data(){return{editing:!1,shareOpen:!1,copySuccess:!1,copied:!1,nameError:!1,newCalendarName:"",selectedColor:"",tooltipMessage:"",tooltipTarget:"",deleteInterval:null,deleteTimeout:null,countdown:Ca}},computed:{...Pe({getCalendarCount:"getCalendarCount",isCalendarNameUsed:"isCalendarNameUsed",getTask:"getTaskByUri",getPrincipalByUrl:"getPrincipalByUrl"}),calendarCount(){return this.getCalendarCount(this.calendar.id)},deleteMessage(){return this.calendar.supportsEvents?this.calendar.isSharedWithMe?x("tasks",'This will unshare the calendar "{calendar}".',{calendar:this.calendar.displayName},void 0,{sanitize:!1,escape:!1}):x("tasks",'This will delete the calendar "{calendar}" and all corresponding events and tasks.',{calendar:this.calendar.displayName},void 0,{sanitize:!1,escape:!1}):this.calendar.isSharedWithMe?x("tasks",'This will unshare the list "{list}".',{list:this.calendar.displayName},void 0,{sanitize:!1,escape:!1}):x("tasks",'This will delete the list "{list}" and all corresponding tasks.',{list:this.calendar.displayName},void 0,{sanitize:!1,escape:!1})},undoDeleteMessage(){return this.calendar.supportsEvents?this.calendar.isSharedWithMe?ht("tasks","Unsharing the calendar in {countdown} second","Unsharing the calendar in {countdown} seconds",this.countdown,{countdown:this.countdown}):ht("tasks","Deleting the calendar in {countdown} second","Deleting the calendar in {countdown} seconds",this.countdown,{countdown:this.countdown}):this.calendar.isSharedWithMe?ht("tasks","Unsharing the list in {countdown} second","Unsharing the list in {countdown} seconds",this.countdown,{countdown:this.countdown}):ht("tasks","Deleting the list in {countdown} second","Deleting the list in {countdown} seconds",this.countdown,{countdown:this.countdown})},exportUrl(){let e=this.calendar.url;return e.slice(e.length-1)==="/"&&(e=e.slice(0,e.length-1)),e+="?export",e},hasShares(){return this.calendar.shares.length>0},sharedWithTooltip(){return this.hasShares?ht("tasks","Shared with {num} entity","Shared with {num} entities",this.calendar.shares.length,{num:this.calendar.shares.length}):this.calendar.supportsEvents?x("tasks","Share this calendar"):x("tasks","Share this list")},loadedOwnerPrincipal(){return this.getPrincipalByUrl(this.calendar.owner)!==void 0},ownerUserId(){const e=this.getPrincipalByUrl(this.calendar.owner);return e?e.userId:""},ownerDisplayname(){const e=this.getPrincipalByUrl(this.calendar.owner);return e?e.displayname:""}},methods:{t:x,...Ct(["changeCalendar","deleteCalendar","moveTask"]),counterFormatter(e){switch(!1){case e!==0:return"";case e<999:return"999+";default:return e}},dragOver(e){return e.preventDefault&&e.preventDefault(),!1},dragEnter(e){if(!this.calendar.readOnly){if(this.calendar.isSharedWithMe){const a=e.dataTransfer.getData("text/plain");if(a&&this.getTask(a)?.class!=="PUBLIC")return}if(e.target.closest){const a=e.target.closest("li.list");a&&(document.querySelectorAll("li.list").forEach(u=>{u.classList.remove("dnd-hover")}),a.classList.add("dnd-hover"))}}},dragLeave(e){if(!e.target.contains(e.relatedTarget)&&e.target.closest){const a=e.target.closest("li.list");if(!a||a.contains(e.relatedTarget))return;a.classList.remove("dnd-hover")}},dropTask(e){document.querySelectorAll("li.list").forEach(u=>{u.classList.remove("dnd-hover")});const a=e.dataTransfer.getData("text/uri");if(a){const u=this.getTask(a);u&&this.calendar!==u.calendar&&this.moveTask({task:u,calendar:this.calendar,parent:void 0})}},showTooltip(e){return this.tooltipTarget===e},editCalendar(){this.editing=!0,this.newCalendarName=this.calendar.displayName,this.selectedColor=this.calendar.color,this.nameError=!1,this.tooltipTarget="",this.$nextTick(()=>this.$refs.editListInput.$refs.inputField.$refs.input.focus())},toggleShare(){this.shareOpen=!this.shareOpen},resetView(){this.editing=!1,this.shareOpen=!1,this.tooltipTarget=""},async copyCalDAVUrl(e){e.stopPropagation();const a=String(new URL(this.calendar.url,Kl("dav")));try{await navigator.clipboard.writeText(a),e.preventDefault(),this.copySuccess=!0,this.copied=!0;const u=this.calendar.supportsEvents?x("tasks","Calendar link copied to clipboard."):x("tasks","List link copied to clipboard.");console.debug(u),Ql(u)}catch{this.copySuccess=!1,this.copied=!0;const u=this.calendar.supportsEvents?x("tasks","Calendar link could not be copied to clipboard."):x("tasks","List link could not be copied to clipboard.");qt(u)}finally{setTimeout(()=>{this.copied=!1},2e3)}},setColor(e){this.selectedColor=e},save(){this.isNameAllowed(this.newCalendarName,this.calendar.id).allowed&&(this.changeCalendar({calendar:this.calendar,newName:this.newCalendarName,newColor:this.selectedColor}),this.editing=!1)},checkName(e,a){const u=this.isNameAllowed(this.newCalendarName,a.id);this.tooltipMessage=u.msg,u.allowed?(this.tooltipTarget="",this.nameError=!1):(this.tooltipTarget="list_"+a.id,this.nameError=!0),e.keyCode===13&&this.save(a),e.keyCode===27&&(e.preventDefault(),this.tooltipTarget="",this.creating=!1,this.editing=!1,this.nameError=!1)},isNameAllowed(e,a){const u={allowed:!1,msg:""};return this.isCalendarNameUsed(e,a)?u.msg=x("tasks",'The name "{calendar}" is already used.',{calendar:e}):e?u.allowed=!0:u.msg=x("tasks","An empty name is not allowed."),u},scheduleDelete(){this.deleteInterval=setInterval(()=>{this.countdown--,this.countdown<0&&(this.countdown=0)},1e3),this.deleteTimeout=setTimeout(async()=>{try{await this.deleteCalendar(this.calendar)}catch(e){const a=this.calendar.supportsEvents?x("tasks","An error occurred, unable to delete the calendar."):x("tasks","An error occurred, unable to delete the list.");qt(a),console.error(e)}finally{clearInterval(this.deleteInterval),this.deleteTimeout=null,this.deleteInterval=null,this.countdown=Ca}},1e3*Ca)},cancelDelete(){clearTimeout(this.deleteTimeout),clearInterval(this.deleteInterval),this.deleteTimeout=null,this.deleteInterval=null,this.countdown=Ca}}},Up={key:2,class:"icon icon-loading"};function jp(e,a,u,i,r,n){const o=k("NcAppNavigationIconBullet"),s=k("ShareVariant"),l=k("NcActionButton"),c=k("NcActions"),h=k("NcAvatar"),d=k("NcCounterBubble"),F=k("Pencil"),f=k("LinkVariant"),C=k("Download"),v=k("NcActionLink"),b=k("Delete"),D=k("Close"),E=k("Undo"),A=k("ShareCalendar"),z=k("NcTextField"),$=k("Colorpicker"),T=k("NcAppNavigationItem"),N=Be("tooltip"),G=Be("click-outside");return U((p(),S(T,{id:"list_"+u.calendar.id,"calendar-id":u.calendar.id,to:{name:"calendars",params:{calendarId:u.calendar.id}},name:u.calendar.displayName,class:R([{"list--edit":r.editing,"list--deleted":!!r.deleteTimeout},"list reactive"]),onDrop:n.dropTask,onDragover:n.dragOver,onDragenter:n.dragEnter,onDragleave:n.dragLeave},Yt({icon:_(()=>[g(o,{color:u.calendar.color},null,8,["color"])]),default:_(()=>[y("li",null,[r.shareOpen&&!u.calendar.readOnly&&!r.deleteTimeout?(p(),S(A,{key:0,calendar:u.calendar},null,8,["calendar"])):w("",!0),r.deleteTimeout?w("",!0):(p(),m("div",{key:1,class:R([{error:r.nameError},"app-navigation-entry-edit"])},[U((p(),S(z,{ref:"editListInput",modelValue:r.newCalendarName,"onUpdate:modelValue":a[1]||(a[1]=P=>r.newCalendarName=P),type:"text","show-trailing-button":r.newCalendarName!=="","trailing-button-icon":"arrowRight",error:r.nameError,label:n.t("tasks","List name"),onTrailingButtonClick:a[2]||(a[2]=P=>n.save(u.calendar)),onKeyup:a[3]||(a[3]=P=>n.checkName(P,u.calendar))},{default:_(()=>[g(F,{size:16})]),_:1},8,["modelValue","show-trailing-button","error","label"])),[[N,{content:r.tooltipMessage,shown:n.showTooltip("list_"+u.calendar.id),trigger:"manual"}]]),g($,{"selected-color":r.selectedColor,onColorSelected:n.setColor},null,8,["selected-color","onColorSelected"])],2))])]),_:2},[r.deleteTimeout?void 0:{name:"counter",fn:_(()=>[u.calendar.canBeShared?(p(),S(c,{key:0,class:R([{shared:n.hasShares},"sharing"])},{default:_(()=>[g(l,{onClick:n.toggleShare},{icon:_(()=>[g(s,{size:20})]),default:_(()=>[j(" "+B(n.sharedWithTooltip),1)]),_:1},8,["onClick"])]),_:1},8,["class"])):w("",!0),u.calendar.isSharedWithMe&&n.loadedOwnerPrincipal?(p(),S(h,{key:1,user:n.ownerUserId,"display-name":n.ownerDisplayname},null,8,["user","display-name"])):w("",!0),u.calendar.isSharedWithMe&&!n.loadedOwnerPrincipal?(p(),m("div",Up)):w("",!0),n.calendarCount?(p(),S(d,{key:3},{default:_(()=>[j(B(n.counterFormatter(n.calendarCount)),1)]),_:1})):w("",!0)]),key:"0"},r.deleteTimeout?{name:"actions",fn:_(()=>[g(l,{onClick:ue(n.cancelDelete,["prevent","stop"])},{icon:_(()=>[g(E,{size:20})]),default:_(()=>[j(" "+B(n.undoDeleteMessage),1)]),_:1},8,["onClick"])]),key:"2"}:{name:"actions",fn:_(()=>[u.calendar.readOnly?w("",!0):(p(),S(l,{key:0,class:"edit-calendar","close-after-click":!0,onClick:n.editCalendar},{icon:_(()=>[g(F,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Edit")),1)]),_:1},8,["onClick"])),g(l,{"close-after-click":!0,onClick:a[0]||(a[0]=P=>n.copyCalDAVUrl(P,u.calendar))},{icon:_(()=>[g(f,{size:20})]),default:_(()=>[j(" "+B(r.copied?r.copySuccess?n.t("tasks","Copied"):n.t("tasks","Cannot copy"):n.t("tasks","Copy private link")),1)]),_:1}),g(v,{"close-after-click":!0,href:n.exportUrl},{icon:_(()=>[g(C,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Export")),1)]),_:1},8,["href"]),!u.calendar.readOnly||u.calendar.isSharedWithMe?U((p(),S(l,{key:1,onClick:n.scheduleDelete},Yt({default:_(()=>[j(" "+B(u.calendar.isSharedWithMe?n.t("tasks","Unshare"):n.t("tasks","Delete")),1)]),_:2},[u.calendar.isSharedWithMe?{name:"icon",fn:_(()=>[g(D,{size:20})]),key:"1"}:{name:"icon",fn:_(()=>[g(b,{size:20})]),key:"0"}]),1032,["onClick"])),[[N,{placement:"left",boundariesElement:"body",content:n.deleteMessage}]]):w("",!0)]),key:"1"}]),1032,["id","calendar-id","to","name","class","onDrop","onDragover","onDragenter","onDragleave"])),[[G,n.resetView]])}const qp=I(Rp,[["render",jp]]),Wp={props:{excludeClickOutsideSelectors:{type:[String,Array],default:()=>[]}},computed:{clickOutsideOptions(){return{ignore:Array.isArray(this.excludeClickOutsideSelectors)?this.excludeClickOutsideSelectors:[this.excludeClickOutsideSelectors]}}}};$e(Jl);const Yp={name:"CogIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Zp=["aria-hidden","aria-label"],Gp=["fill","width","height"],Xp={d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"},Kp={key:0};function Qp(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon cog-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Xp,[u.title?(p(),m("title",Kp,B(u.title),1)):w("",!0)])],8,Gp))],16,Zp)}const Jp=W(Yp,[["render",Qp]]),eh={directives:{ClickOutside:wo},components:{Cog:Jp},mixins:[Wp],props:{name:{type:String,required:!1,default:ee("Settings")}},data(){return{open:!1}},computed:{clickOutsideConfig(){return[this.closeMenu,this.clickOutsideOptions]}},methods:{toggleMenu(){this.open=!this.open},closeMenu(){this.open=!1}}},th={id:"app-settings__header"},uh=["aria-expanded"],ah={class:"settings-button__label"},nh={id:"app-settings__content"};function ih(e,a,u,i,r,n){const o=k("Cog"),s=Be("click-outside");return U((p(),m("div",{id:"app-settings",class:R({open:r.open})},[y("div",th,[y("button",{class:"settings-button",type:"button","aria-expanded":r.open?"true":"false","aria-controls":"app-settings__content",onClick:a[0]||(a[0]=(...l)=>n.toggleMenu&&n.toggleMenu(...l))},[g(o,{class:"settings-button__icon",size:20}),y("span",ah,B(u.name),1)],8,uh)]),g(fi,{name:"slide-up"},{default:_(()=>[U(y("div",nh,[Q(e.$slots,"default",{},void 0,!0)],512),[[oe,r.open]])]),_:3})],2)),[[s,n.clickOutsideConfig]])}const rh=W(eh,[["render",ih],["__scopeId","data-v-455659af"]]),oh={name:"CalendarTodayIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},sh=["aria-hidden","aria-label"],lh=["fill","width","height"],ch={d:"M7,10H12V15H7M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z"},dh={key:0};function ph(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon calendar-today-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",ch,[u.title?(p(),m("title",dh,B(u.title),1)):w("",!0)])],8,lh))],16,sh)}const Go=I(oh,[["render",ph]]),hh={name:"CalendarWeekIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},mh=["aria-hidden","aria-label"],fh=["fill","width","height"],Fh={d:"M6 1H8V3H16V1H18V3H19C20.11 3 21 3.9 21 5V19C21 20.11 20.11 21 19 21H5C3.89 21 3 20.1 3 19V5C3 3.89 3.89 3 5 3H6V1M5 8V19H19V8H5M7 10H17V12H7V10Z"},gh={key:0};function Ch(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon calendar-week-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Fh,[u.title?(p(),m("title",gh,B(u.title),1)):w("",!0)])],8,fh))],16,mh)}const Xo=I(hh,[["render",Ch]]),kh={name:"CircleOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},yh=["aria-hidden","aria-label"],_h=["fill","width","height"],bh={d:"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},Dh={key:0};function vh(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon circle-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",bh,[u.title?(p(),m("title",Dh,B(u.title),1)):w("",!0)])],8,_h))],16,yh)}const Ko=I(kh,[["render",vh]]),Eh={name:"StarIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Ah=["aria-hidden","aria-label"],wh=["fill","width","height"],Bh={d:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"},xh={key:0};function Sh(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon star-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Bh,[u.title?(p(),m("title",xh,B(u.title),1)):w("",!0)])],8,wh))],16,Ah)}const ma=I(Eh,[["render",Sh]]),Th={name:"TrendingUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Mh=["aria-hidden","aria-label"],zh=["fill","width","height"],Lh={d:"M16,6L18.29,8.29L13.41,13.17L9.41,9.17L2,16.59L3.41,18L9.41,12L13.41,16L19.71,9.71L22,12V6H16Z"},Nh={key:0};function $h(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon trending-up-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Lh,[u.title?(p(),m("title",Nh,B(u.title),1)):w("",!0)])],8,zh))],16,Mh)}const Ei=I(Th,[["render",$h]]),Oh={components:{NcAppNavigationSettings:rh,CalendarToday:Go,CalendarWeek:Xo,CircleOutline:Ko,Check:ou,Star:ma,TrendingUp:Ei},data(){return{collectionOptions:[{id:0,name:x("tasks","Hidden")},{id:1,name:x("tasks","Visible")},{id:2,name:x("tasks","Automatic")}],dayOfMonth:qe().date()}},computed:{appNavigationSettingsName(){return x("tasks","Tasks settings")},defaultCalendarId:{get(){const e=this.$store.getters.getDefaultCalendar;return e?e.id:""},set(e){this.$store.dispatch("setSetting",{type:"defaultCalendarId",value:e})}},...Bo({collections:e=>e.collections.collections}),...Pe({calendars:"getSortedWritableCalendars"})},methods:{t:x,...Ct(["setVisibility"])}},Ih={class:"reactive"},Ph={for:"defaultCalendar"},Vh=["value"],Hh={class:"headline"},Rh={class:"label-container"},Uh=["for"],jh=["id","value","onChange"],qh=["value"];function Wh(e,a,u,i,r,n){const o=k("NcAppNavigationSettings");return p(),S(o,{name:n.appNavigationSettingsName},{default:_(()=>[y("div",Ih,[y("ul",null,[y("li",null,[y("label",Ph,B(n.t("tasks","Default list")),1),U(y("select",{id:"defaultCalendar","onUpdate:modelValue":a[0]||(a[0]=s=>n.defaultCalendarId=s)},[(p(!0),m(Ne,null,We(e.calendars,s=>(p(),m("option",{key:s.id,value:s.id},B(s.displayName),9,Vh))),128))],512),[[ec,n.defaultCalendarId]])]),y("li",Hh,B(n.t("tasks","Visibility of Smart Collections")),1),(p(!0),m(Ne,null,We(e.collections,s=>(p(),m("li",{key:s.id,class:"collection"},[(p(),S(at(s.icon),{size:20})),y("span",Rh,[y("label",{for:"visibilityCollection-"+s.id},B(s.displayName),9,Uh)]),y("select",{id:"visibilityCollection-"+s.id,value:s.show,onChange:l=>e.setVisibility({id:s.id,show:+l.target.value})},[(p(!0),m(Ne,null,We(r.collectionOptions,l=>(p(),m("option",{key:l.id,value:l.id},B(l.name),9,qh))),128))],40,jh)]))),128))])])]),_:1},8,["name"])}const Yh=I(Oh,[["render",Wh],["__scopeId","data-v-56e63337"]]);var Ee=(e=>(e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Fatal=4]="Fatal",e))(Ee||{}),Zh=Object.defineProperty,Gh=(e,a,u)=>a in e?Zh(e,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[a]=u,Xh=(e,a,u)=>(Gh(e,a+"",u),u);class Kh{constructor(a){Xh(this,"context"),this.context=a||{}}formatMessage(a,u,i){let r="["+Ee[u].toUpperCase()+"] ";return i&&i.app&&(r+=i.app+": "),typeof a=="string"?r+a:(r+="Unexpected ".concat(a.name),a.message&&(r+=' "'.concat(a.message,'"')),u===Ee.Debug&&a.stack&&(r+=`

Stack trace:
`.concat(a.stack)),r)}log(a,u,i){var r,n;if(!(typeof((r=this.context)==null?void 0:r.level)=="number"&&a<((n=this.context)==null?void 0:n.level)))switch(typeof u=="object"&&i?.error===void 0&&(i.error=u),a){case Ee.Debug:console.debug(this.formatMessage(u,Ee.Debug,i),i);break;case Ee.Info:console.info(this.formatMessage(u,Ee.Info,i),i);break;case Ee.Warn:console.warn(this.formatMessage(u,Ee.Warn,i),i);break;case Ee.Error:console.error(this.formatMessage(u,Ee.Error,i),i);break;case Ee.Fatal:default:console.error(this.formatMessage(u,Ee.Fatal,i),i);break}}debug(a,u){this.log(Ee.Debug,a,Object.assign({},this.context,u))}info(a,u){this.log(Ee.Info,a,Object.assign({},this.context,u))}warn(a,u){this.log(Ee.Warn,a,Object.assign({},this.context,u))}error(a,u){this.log(Ee.Error,a,Object.assign({},this.context,u))}fatal(a,u){this.log(Ee.Fatal,a,Object.assign({},this.context,u))}}function Qh(e){return new Kh(e)}var Jh=Object.defineProperty,e2=(e,a,u)=>a in e?Jh(e,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[a]=u,nr=(e,a,u)=>(e2(e,typeof a!="symbol"?a+"":a,u),u);class t2{constructor(a){nr(this,"context"),nr(this,"factory"),this.context={},this.factory=a}setApp(a){return this.context.app=a,this}setLogLevel(a){return this.context.level=a,this}setUid(a){return this.context.uid=a,this}detectUser(){const a=tc();return a!==null&&(this.context.uid=a.uid),this}detectLogLevel(){const a=this,u=()=>{var i,r;document.readyState==="complete"||document.readyState==="interactive"?(a.context.level=(r=(i=window._oc_config)==null?void 0:i.loglevel)!=null?r:Ee.Warn,window._oc_debug&&(a.context.level=Ee.Debug),document.removeEventListener("readystatechange",u)):document.addEventListener("readystatechange",u)};return u(),this}build(){return this.context.level===void 0&&this.detectLogLevel(),this.factory(this.context)}}function Qo(){return new t2(Qh)}const lu=Qo().setApp("tasks").detectUser().build();$e(uc);const u2={long:ee("a few seconds ago"),short:ee("seconds ago"),narrow:ee("sec. ago")};function a2(e=Date.now(),a={}){const u=se(Date.now());let i;const r=se({format:{timeStyle:"medium",dateStyle:"short"},relativeTime:"long",ignoreSeconds:!1,...kn(a)}),n=de(()=>({...kn(a),...r.value})),o=de(()=>new Date(kn(e))),s=de(()=>new Intl.DateTimeFormat(ac(),n.value.format).format(o.value)),l=de(()=>{if(n.value.relativeTime!==!1){const c=new Intl.RelativeTimeFormat(nc(),{numeric:"auto",style:n.value.relativeTime}),h=(o.value.getTime()-u.value)/1e3;if(Math.abs(h)<=90)return n.value.ignoreSeconds?u2[n.value.relativeTime]:c.format(Math.round(h),"second");const d=h/60;if(Math.abs(d)<=90)return c.format(Math.round(d),"minute");const F=d/60;if(Math.abs(F)<=24)return c.format(Math.round(F),"hour");const f=F/24;if(Math.abs(f)<=6)return c.format(Math.round(f),"day");const C=f/7;if(Math.abs(C)<=4)return c.format(Math.round(C),"week");const v=f/30;return Math.abs(v)<=12?c.format(Math.round(v),"month"):c.format(Math.round(f/365),"year")}return s.value});return Je(()=>{window.clearInterval(i),i=void 0,n.value.relativeTime&&(i=window.setInterval(()=>{u.value=Date.now()},1e3))}),Fi(()=>{window.clearInterval(i)}),{formattedTime:l,formattedFullTime:s,options:r}}const n2={name:"NcDateTime",props:{timestamp:{type:[Date,Number],required:!0},format:{type:Object,default:()=>({timeStyle:"medium",dateStyle:"short"})},relativeTime:{type:[Boolean,String],default:"long",validator:e=>e===!1||["long","short","narrow"].includes(e)},ignoreSeconds:{type:Boolean,default:!1}},setup(e){const a=de(()=>e.timestamp),{formattedTime:u,formattedFullTime:i}=a2(a,e);return{formattedTime:u,formattedFullTime:i}}},i2=["data-timestamp","title","textContent"];function r2(e,a,u,i,r,n){return p(),m("span",{class:"nc-datetime","data-timestamp":u.timestamp,title:i.formattedFullTime,textContent:B(i.formattedTime)},null,8,i2)}const o2=W(n2,[["render",r2]]),s2={name:"DeleteForeverIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},l2=["aria-hidden","aria-label"],c2=["fill","width","height"],d2={d:"M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8.46,11.88L9.87,10.47L12,12.59L14.12,10.47L15.53,11.88L13.41,14L15.53,16.12L14.12,17.53L12,15.41L9.88,17.53L8.47,16.12L10.59,14L8.46,11.88M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z"},p2={key:0};function h2(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon delete-forever-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",d2,[u.title?(p(),m("title",p2,B(u.title),1)):w("",!0)])],8,c2))],16,l2)}const m2=I(s2,[["render",h2]]),f2={name:"MenuDownIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},F2=["aria-hidden","aria-label"],g2=["fill","width","height"],C2={d:"M7,10L12,15L17,10H7Z"},k2={key:0};function y2(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon menu-down-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",C2,[u.title?(p(),m("title",k2,B(u.title),1)):w("",!0)])],8,g2))],16,F2)}const Jo=I(f2,[["render",y2]]),_2={name:"MenuUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},b2=["aria-hidden","aria-label"],D2=["fill","width","height"],v2={d:"M7,15L12,10L17,15H7Z"},E2={key:0};function A2(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon menu-up-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",v2,[u.title?(p(),m("title",E2,B(u.title),1)):w("",!0)])],8,D2))],16,b2)}const es=I(_2,[["render",A2]]),w2={name:"Trashbin",components:{NcAppNavigationItem:an,Delete:Kt,NcEmptyContent:Ja,NcLoadingIcon:iu,NcModal:gi,NcActions:Xt,NcActionButton:At,NcButton:et,NcDateTime:o2,DeleteForever:m2,MenuDown:Jo,MenuUp:es,Undo:nn},data(){return{showModal:!1,loading:!0,sortDirection:!1,sortOrder:"deletedAt"}},computed:{...Pe({trashBin:"trashBin",calendars:"sortedDeletedCalendars",objects:"deletedCalendarObjects"}),items(){const e=this.calendars.map(i=>({calendar:i,type:"calendar",key:i.url,summary:i.displayname,url:i._url,deletedAt:i._props["{http://nextcloud.com/ns}deleted-at"],color:i.color??Qi(i.displayname)})),a=this.objects.map(i=>{let r;try{r=i?.calendarComponent.getComponentIterator().next().value?.title}catch{}r||(i.objectType==="VTODO"?r=x("tasks","Untitled task"):i.objectType==="VEVENT"?r=x("tasks","Untitled event"):i.objectType==="VJOURNAL"?r=x("tasks","Untitled journal"):r=x("tasks","Untitled item"));let n=i.calendar?.displayName||x("tasks","Unknown calendar");if(i.isEvent){const s=i?.calendarComponent.getFirstComponent("VEVENT");s?.startDate.jsDate&&s?.isAllDay()?n+="  "+qe(s.startDate.jsDate).format("LL"):s?.startDate.jsDate&&(n+="  "+qe(s?.startDate.jsDate).format("LLL"))}const o=i.calendarComponent.getComponentIterator().next().value?.color??i.calendar?.color??Qi(n);return{vobject:i,type:"object",key:i.id,summary:r,subline:n,url:i.uri,deletedAt:i.dav._props["{http://nextcloud.com/ns}deleted-at"],color:o}}),u=e.concat(a).sort((i,r)=>r.deletedAt-i.deletedAt);return Ci(u,this.sortOrder,this.sortDirection)},retentionDuration(){return Math.ceil(this.trashBin.retentionDuration/(60*60*24))}},methods:{t:x,n:ht,setSortOrder(e){this.sortOrder===e?this.sortDirection=!this.sortDirection:(this.sortDirection=!1,this.sortOrder=e)},async onShow(){this.showModal=!0,this.loading=!0;try{await Promise.all([this.$store.dispatch("loadDeletedCalendars"),this.$store.dispatch("loadDeletedCalendarObjects")]),lu.debug("deleted calendars and objects loaded",{calendars:this.calendars,objects:this.objects})}catch(e){lu.error("could not load deleted calendars and objects",{error:e}),qt(x("tasks","Could not load deleted calendars and objects"))}this.loading=!1},async onDeletePermanently(e){lu.debug("deleting "+e.url+" permanently",e);try{switch(e.type){case"calendar":await this.$store.dispatch("deleteCalendarPermanently",{calendar:e.calendar});break;case"object":await this.$store.dispatch("deleteCalendarObjectPermanently",{vobject:e.vobject});break}}catch(a){lu.error("could not delete "+e.url,{error:a}),qt(x("tasks","Could not delete calendar or event"))}},async restore(e){lu.debug("restoring "+e.url,e);try{switch(e.type){case"calendar":{await this.$store.dispatch("restoreCalendar",{calendar:e.calendar});const{calendars:a}=await this.$store.dispatch("getCalendarsAndTrashBin"),u=a.find(i=>i.url===e.calendar.url);u?.supportsTasks&&await this.$store.dispatch("getTasksFromCalendar",{calendar:u,completed:!1,related:null});break}case"object":await this.$store.dispatch("restoreCalendarObject",{vobject:e.vobject});break}}catch(a){lu.error("could not restore "+e.url,{error:a}),qt(x("tasks","Could not restore calendar or event"))}},onEmptyTrashBin(){OC.dialogs.confirm(x("tasks","Do you really want to empty the trash bin?"),x("tasks","Empty trash bin"),this.emptyTrashBin,!0)},emptyTrashBin(e){e&&this.items.forEach(a=>{this.onDeletePermanently(a)})}}},B2=e=>(Xa("data-v-54c8828d"),e=e(),Ka(),e),x2={class:"modal__content"},S2={class:"table"},T2=B2(()=>y("div",{class:"table__header"},"  ",-1)),M2={class:"table__body"},z2={class:"item-description"},L2={class:"item-description__mainline"},N2={key:0,class:"item-description__subline"},$2={class:"table__body table__body--deletedAt"},O2={class:"table__body"},I2={class:"footer"},P2={key:0};function V2(e,a,u,i,r,n){const o=k("Delete"),s=k("NcLoadingIcon"),l=k("NcEmptyContent"),c=k("MenuDown"),h=k("MenuUp"),d=k("NcButton"),F=k("NcDateTime"),f=k("Undo"),C=k("NcActionButton"),v=k("NcActions"),b=k("DeleteForever"),D=k("NcModal"),E=k("NcAppNavigationItem");return p(),S(E,{name:n.t("tasks","Trash bin"),pinned:!0,onClick:ue(n.onShow,["prevent"])},{icon:_(()=>[g(o,{size:20})]),extra:_(()=>[r.showModal?(p(),S(D,{key:0,size:"large",onClose:a[3]||(a[3]=A=>r.showModal=!1)},{default:_(()=>[y("div",x2,[r.loading?(p(),S(l,{key:0,description:n.t("tasks","Loading deleted calendars, tasks and events.")},{icon:_(()=>[g(s,{size:64})]),_:1},8,["description"])):n.items.length?(p(),m(Ne,{key:2},[y("h2",null,B(n.t("tasks","Trash bin")),1),y("div",S2,[g(d,{class:R(["table__header sort-button sort-button--summary",{"sort-button--active":r.sortOrder==="summary"}]),alignment:"center-reverse",type:"tertiary",onClick:a[0]||(a[0]=A=>n.setSortOrder("summary"))},{icon:_(()=>[r.sortDirection&&r.sortOrder==="summary"?(p(),S(c,{key:0})):(p(),S(h,{key:1}))]),default:_(()=>[j(" "+B(n.t("tasks","Name")),1)]),_:1},8,["class"]),g(d,{class:R(["table__header table__header--deletedAt sort-button sort-button--deletedAt",{"sort-button--active":r.sortOrder==="deletedAt"}]),alignment:"center",type:"tertiary",onClick:a[1]||(a[1]=A=>n.setSortOrder("deletedAt"))},{icon:_(()=>[r.sortDirection&&r.sortOrder==="deletedAt"?(p(),S(c,{key:0})):(p(),S(h,{key:1}))]),default:_(()=>[j(" "+B(n.t("tasks","Deleted")),1)]),_:1},8,["class"]),T2,(p(!0),m(Ne,null,We(n.items,A=>(p(),m(Ne,{key:`${A.url}body`},[y("div",M2,[y("div",{class:"icon-bullet",style:Ie({"background-color":A.color})},null,4),y("div",z2,[y("div",L2,B(A.summary),1),A.subline?(p(),m("div",N2,B(A.subline),1)):w("",!0)])]),y("div",$2,[g(F,{class:"timestamp",timestamp:A.deletedAt,"ignore-seconds":!0},null,8,["timestamp"])]),y("div",O2,[g(d,{onClick:z=>n.restore(A)},{icon:_(()=>[g(f,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Restore")),1)]),_:2},1032,["onClick"]),g(v,{"force-menu":!0},{default:_(()=>[g(C,{onClick:z=>n.onDeletePermanently(A)},{icon:_(()=>[g(o,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Delete permanently")),1)]),_:2},1032,["onClick"])]),_:2},1024)])],64))),128))]),y("div",I2,[n.retentionDuration?(p(),m("p",P2,B(n.n("tasks","Elements in the trash bin are deleted after {numDays} day","Elements in the trash bin are deleted after {numDays} days",n.retentionDuration,{numDays:n.retentionDuration})),1)):w("",!0),g(d,{type:"primary",onClick:a[2]||(a[2]=A=>n.onEmptyTrashBin())},{icon:_(()=>[g(b,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Empty trash bin")),1)]),_:1})])],64)):(p(),S(l,{key:1,description:n.t("tasks","You do not have any deleted calendars, tasks or events.")},{icon:_(()=>[g(o,{size:64})]),_:1},8,["description"]))])]),_:1})):w("",!0)]),_:1},8,["name","onClick"])}const H2=I(w2,[["render",V2],["__scopeId","data-v-54c8828d"]]);$e(ic);const R2={name:"MenuIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},U2=["aria-hidden","aria-label"],j2=["fill","width","height"],q2={d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},W2={key:0};function Y2(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon menu-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",q2,[u.title?(p(),m("title",W2,B(u.title),1)):w("",!0)])],8,j2))],16,U2)}const Z2=W(R2,[["render",Y2]]),G2={name:"MenuOpenIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},X2=["aria-hidden","aria-label"],K2=["fill","width","height"],Q2={d:"M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z"},J2={key:0};function em(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon menu-open-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Q2,[u.title?(p(),m("title",J2,B(u.title),1)):w("",!0)])],8,K2))],16,X2)}const tm=W(G2,[["render",em]]),um={name:"NcAppNavigationToggle",components:{NcButton:et,MenuIcon:Z2,MenuOpenIcon:tm},props:{open:{type:Boolean,required:!0}},emits:["update:open"],computed:{label(){return this.open?ee("Close navigation"):ee("Open navigation")}},methods:{toggleNavigation(){this.$emit("update:open",!this.open)}}},am={class:"app-navigation-toggle-wrapper"};function nm(e,a,u,i,r,n){const o=k("MenuOpenIcon"),s=k("MenuIcon"),l=k("NcButton");return p(),m("div",am,[g(l,{class:"app-navigation-toggle",type:"tertiary","aria-expanded":u.open?"true":"false","aria-label":n.label,title:n.label,"aria-controls":"app-navigation-vue",onClick:n.toggleNavigation},{icon:_(()=>[u.open?(p(),S(o,{key:0,size:20})):(p(),S(s,{key:1,size:20}))]),_:1},8,["aria-expanded","aria-label","title","onClick"])])}const im=W(um,[["render",nm],["__scopeId","data-v-62be917b"]]),rm={name:"NcAppNavigationList"},om={class:"app-navigation-list"};function sm(e,a,u,i,r,n){return p(),m("ul",om,[Q(e.$slots,"default",{},void 0,!0)])}const lm=W(rm,[["render",sm],["__scopeId","data-v-058e6060"]]),cm={name:"NcAppNavigation",components:{NcAppNavigationList:lm,NcAppNavigationToggle:im},inject:{setHasAppNavigation:{default:()=>()=>rc(),from:"NcContent:setHasAppNavigation"}},props:{ariaLabel:{type:String,default:""},ariaLabelledby:{type:String,default:""}},setup(){return{isMobile:da()}},data(){return{open:!this.isMobile,focusTrap:null}},watch:{isMobile(){this.open=!this.isMobile,this.toggleFocusTrap()},open(){this.toggleFocusTrap()}},mounted(){this.setHasAppNavigation(!0),Vt("toggle-navigation",this.toggleNavigationByEventBus),st("navigation-toggled",{open:this.open}),this.focusTrap=xo(this.$refs.appNavigationContainer,{allowOutsideClick:!0,fallbackFocus:this.$refs.appNavigationContainer,trapStack:So(),escapeDeactivates:!1}),this.toggleFocusTrap()},unmounted(){this.setHasAppNavigation(!1),Ht("toggle-navigation",this.toggleNavigationByEventBus),this.focusTrap.deactivate()},methods:{toggleNavigation(e){if(this.open===e){st("navigation-toggled",{open:this.open});return}this.open=typeof e>"u"?!this.open:e;const a=getComputedStyle(document.body),u=parseInt(a.getPropertyValue("--animation-quick"))||100;setTimeout(()=>{st("navigation-toggled",{open:this.open})},1.5*u)},toggleNavigationByEventBus({open:e}){this.toggleNavigation(e)},toggleFocusTrap(){this.isMobile&&this.open?this.focusTrap.activate():this.focusTrap.deactivate()},handleEsc(){this.isMobile&&this.toggleNavigation(!1)}}},dm=["aria-hidden","aria-label","aria-labelledby","inert"];function pm(e,a,u,i,r,n){const o=k("NcAppNavigationList"),s=k("NcAppNavigationToggle");return p(),m("div",{ref:"appNavigationContainer",class:R(["app-navigation",{"app-navigation--close":!r.open}])},[y("nav",{id:"app-navigation-vue","aria-hidden":r.open?"false":"true","aria-label":u.ariaLabel||void 0,"aria-labelledby":u.ariaLabelledby||void 0,class:"app-navigation__content",inert:!r.open||void 0,onKeydown:a[0]||(a[0]=ke((...l)=>n.handleEsc&&n.handleEsc(...l),["esc"]))},[y("div",{class:R(["app-navigation__body",{"app-navigation__body--no-list":!e.$slots.list}])},[Q(e.$slots,"default",{},void 0,!0)],2),e.$slots.list?(p(),S(o,{key:0,class:"app-navigation__list"},{default:_(()=>[Q(e.$slots,"list",{},void 0,!0)]),_:3})):w("",!0),Q(e.$slots,"footer",{},void 0,!0)],40,dm),g(s,{open:r.open,"onUpdate:open":n.toggleNavigation},null,8,["open","onUpdate:open"])],2)}const hm=W(cm,[["render",pm],["__scopeId","data-v-7aa67221"]]);function ir(e,a){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),u.push.apply(u,i)}return u}function gt(e){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?ir(Object(u),!0).forEach(function(i){mm(e,i,u[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):ir(Object(u)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(u,i))})}return e}function Sa(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sa=function(a){return typeof a}:Sa=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Sa(e)}function mm(e,a,u){return a in e?Object.defineProperty(e,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[a]=u,e}function vt(){return vt=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var u=arguments[a];for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i])}return e},vt.apply(this,arguments)}function fm(e,a){if(e==null)return{};var u={},i=Object.keys(e),r,n;for(n=0;n<i.length;n++)r=i[n],!(a.indexOf(r)>=0)&&(u[r]=e[r]);return u}function Fm(e,a){if(e==null)return{};var u=fm(e,a),i,r;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)i=n[r],!(a.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(u[i]=e[i])}return u}var gm="1.15.2";function bt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var wt=bt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),fa=bt(/Edge/i),rr=bt(/firefox/i),qu=bt(/safari/i)&&!bt(/chrome/i)&&!bt(/android/i),ts=bt(/iP(ad|od|hone)/i),us=bt(/chrome/i)&&bt(/android/i),as={capture:!1,passive:!1};function re(e,a,u){e.addEventListener(a,u,!wt&&as)}function ne(e,a,u){e.removeEventListener(a,u,!wt&&as)}function Va(e,a){if(a){if(a[0]===">"&&(a=a.substring(1)),e)try{if(e.matches)return e.matches(a);if(e.msMatchesSelector)return e.msMatchesSelector(a);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(a)}catch{return!1}return!1}}function Cm(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function rt(e,a,u,i){if(e){u=u||document;do{if(a!=null&&(a[0]===">"?e.parentNode===u&&Va(e,a):Va(e,a))||i&&e===u)return e;if(e===u)break}while(e=Cm(e))}return null}var or=/\s+/g;function Ze(e,a,u){if(e&&a)if(e.classList)e.classList[u?"add":"remove"](a);else{var i=(" "+e.className+" ").replace(or," ").replace(" "+a+" "," ");e.className=(i+(u?" "+a:"")).replace(or," ")}}function Y(e,a,u){var i=e&&e.style;if(i){if(u===void 0)return document.defaultView&&document.defaultView.getComputedStyle?u=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(u=e.currentStyle),a===void 0?u:u[a];!(a in i)&&a.indexOf("webkit")===-1&&(a="-webkit-"+a),i[a]=u+(typeof u=="string"?"":"px")}}function vu(e,a){var u="";if(typeof e=="string")u=e;else do{var i=Y(e,"transform");i&&i!=="none"&&(u=i+" "+u)}while(!a&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(u)}function ns(e,a,u){if(e){var i=e.getElementsByTagName(a),r=0,n=i.length;if(u)for(;r<n;r++)u(i[r],r);return i}return[]}function Ft(){var e=document.scrollingElement;return e||document.documentElement}function we(e,a,u,i,r){if(!(!e.getBoundingClientRect&&e!==window)){var n,o,s,l,c,h,d;if(e!==window&&e.parentNode&&e!==Ft()?(n=e.getBoundingClientRect(),o=n.top,s=n.left,l=n.bottom,c=n.right,h=n.height,d=n.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,d=window.innerWidth),(a||u)&&e!==window&&(r=r||e.parentNode,!wt))do if(r&&r.getBoundingClientRect&&(Y(r,"transform")!=="none"||u&&Y(r,"position")!=="static")){var F=r.getBoundingClientRect();o-=F.top+parseInt(Y(r,"border-top-width")),s-=F.left+parseInt(Y(r,"border-left-width")),l=o+n.height,c=s+n.width;break}while(r=r.parentNode);if(i&&e!==window){var f=vu(r||e),C=f&&f.a,v=f&&f.d;f&&(o/=v,s/=C,d/=C,h/=v,l=o+h,c=s+d)}return{top:o,left:s,bottom:l,right:c,width:d,height:h}}}function sr(e,a,u){for(var i=Rt(e,!0),r=we(e)[a];i;){var n=we(i)[u],o=void 0;if(o=r>=n,!o)return i;if(i===Ft())break;i=Rt(i,!1)}return!1}function wu(e,a,u,i){for(var r=0,n=0,o=e.children;n<o.length;){if(o[n].style.display!=="none"&&o[n]!==Z.ghost&&(i||o[n]!==Z.dragged)&&rt(o[n],u.draggable,e,!1)){if(r===a)return o[n];r++}n++}return null}function Ai(e,a){for(var u=e.lastElementChild;u&&(u===Z.ghost||Y(u,"display")==="none"||a&&!Va(u,a));)u=u.previousElementSibling;return u||null}function tt(e,a){var u=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Z.clone&&(!a||Va(e,a))&&u++;return u}function lr(e){var a=0,u=0,i=Ft();if(e)do{var r=vu(e),n=r.a,o=r.d;a+=e.scrollLeft*n,u+=e.scrollTop*o}while(e!==i&&(e=e.parentNode));return[a,u]}function km(e,a){for(var u in e)if(e.hasOwnProperty(u)){for(var i in a)if(a.hasOwnProperty(i)&&a[i]===e[u][i])return Number(u)}return-1}function Rt(e,a){if(!e||!e.getBoundingClientRect)return Ft();var u=e,i=!1;do if(u.clientWidth<u.scrollWidth||u.clientHeight<u.scrollHeight){var r=Y(u);if(u.clientWidth<u.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||u.clientHeight<u.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!u.getBoundingClientRect||u===document.body)return Ft();if(i||a)return u;i=!0}}while(u=u.parentNode);return Ft()}function ym(e,a){if(e&&a)for(var u in a)a.hasOwnProperty(u)&&(e[u]=a[u]);return e}function bn(e,a){return Math.round(e.top)===Math.round(a.top)&&Math.round(e.left)===Math.round(a.left)&&Math.round(e.height)===Math.round(a.height)&&Math.round(e.width)===Math.round(a.width)}var Wu;function is(e,a){return function(){if(!Wu){var u=arguments,i=this;u.length===1?e.call(i,u[0]):e.apply(i,u),Wu=setTimeout(function(){Wu=void 0},a)}}}function _m(){clearTimeout(Wu),Wu=void 0}function rs(e,a,u){e.scrollLeft+=a,e.scrollTop+=u}function os(e){var a=window.Polymer,u=window.jQuery||window.Zepto;return a&&a.dom?a.dom(e).cloneNode(!0):u?u(e).clone(!0)[0]:e.cloneNode(!0)}function ss(e,a,u){var i={};return Array.from(e.children).forEach(function(r){var n,o,s,l;if(!(!rt(r,a.draggable,e,!1)||r.animated||r===u)){var c=we(r);i.left=Math.min((n=i.left)!==null&&n!==void 0?n:1/0,c.left),i.top=Math.min((o=i.top)!==null&&o!==void 0?o:1/0,c.top),i.right=Math.max((s=i.right)!==null&&s!==void 0?s:-1/0,c.right),i.bottom=Math.max((l=i.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var Qe="Sortable"+new Date().getTime();function bm(){var e=[],a;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var u=[].slice.call(this.el.children);u.forEach(function(i){if(!(Y(i,"display")==="none"||i===Z.ghost)){e.push({target:i,rect:we(i)});var r=gt({},e[e.length-1].rect);if(i.thisAnimationDuration){var n=vu(i,!0);n&&(r.top-=n.f,r.left-=n.e)}i.fromRect=r}})}},addAnimationState:function(u){e.push(u)},removeAnimationState:function(u){e.splice(km(e,{target:u}),1)},animateAll:function(u){var i=this;if(!this.options.animation){clearTimeout(a),typeof u=="function"&&u();return}var r=!1,n=0;e.forEach(function(o){var s=0,l=o.target,c=l.fromRect,h=we(l),d=l.prevFromRect,F=l.prevToRect,f=o.rect,C=vu(l,!0);C&&(h.top-=C.f,h.left-=C.e),l.toRect=h,l.thisAnimationDuration&&bn(d,h)&&!bn(c,h)&&(f.top-h.top)/(f.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(s=vm(f,d,F,i.options)),bn(h,c)||(l.prevFromRect=c,l.prevToRect=h,s||(s=i.options.animation),i.animate(l,f,h,s)),s&&(r=!0,n=Math.max(n,s),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},s),l.thisAnimationDuration=s)}),clearTimeout(a),r?a=setTimeout(function(){typeof u=="function"&&u()},n):typeof u=="function"&&u(),e=[]},animate:function(u,i,r,n){if(n){Y(u,"transition",""),Y(u,"transform","");var o=vu(this.el),s=o&&o.a,l=o&&o.d,c=(i.left-r.left)/(s||1),h=(i.top-r.top)/(l||1);u.animatingX=!!c,u.animatingY=!!h,Y(u,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=Dm(u),Y(u,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),Y(u,"transform","translate3d(0,0,0)"),typeof u.animated=="number"&&clearTimeout(u.animated),u.animated=setTimeout(function(){Y(u,"transition",""),Y(u,"transform",""),u.animated=!1,u.animatingX=!1,u.animatingY=!1},n)}}}}function Dm(e){return e.offsetWidth}function vm(e,a,u,i){return Math.sqrt(Math.pow(a.top-e.top,2)+Math.pow(a.left-e.left,2))/Math.sqrt(Math.pow(a.top-u.top,2)+Math.pow(a.left-u.left,2))*i.animation}var cu=[],Dn={initializeByDefault:!0},Fa={mount:function(e){for(var a in Dn)Dn.hasOwnProperty(a)&&!(a in e)&&(e[a]=Dn[a]);cu.forEach(function(u){if(u.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),cu.push(e)},pluginEvent:function(e,a,u){var i=this;this.eventCanceled=!1,u.cancel=function(){i.eventCanceled=!0};var r=e+"Global";cu.forEach(function(n){a[n.pluginName]&&(a[n.pluginName][r]&&a[n.pluginName][r](gt({sortable:a},u)),a.options[n.pluginName]&&a[n.pluginName][e]&&a[n.pluginName][e](gt({sortable:a},u)))})},initializePlugins:function(e,a,u,i){cu.forEach(function(o){var s=o.pluginName;if(!(!e.options[s]&&!o.initializeByDefault)){var l=new o(e,a,e.options);l.sortable=e,l.options=e.options,e[s]=l,vt(u,l.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var n=this.modifyOption(e,r,e.options[r]);typeof n<"u"&&(e.options[r]=n)}},getEventProperties:function(e,a){var u={};return cu.forEach(function(i){typeof i.eventProperties=="function"&&vt(u,i.eventProperties.call(a[i.pluginName],e))}),u},modifyOption:function(e,a,u){var i;return cu.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[a]=="function"&&(i=r.optionListeners[a].call(e[r.pluginName],u))}),i}};function Em(e){var a=e.sortable,u=e.rootEl,i=e.name,r=e.targetEl,n=e.cloneEl,o=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,h=e.oldDraggableIndex,d=e.newDraggableIndex,F=e.originalEvent,f=e.putSortable,C=e.extraEventProperties;if(a=a||u&&u[Qe],!!a){var v,b=a.options,D="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!wt&&!fa?v=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(i,!0,!0)),v.to=o||u,v.from=s||u,v.item=r||u,v.clone=n,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=h,v.newDraggableIndex=d,v.originalEvent=F,v.pullMode=f?f.lastPutMode:void 0;var E=gt(gt({},C),Fa.getEventProperties(i,a));for(var A in E)v[A]=E[A];u&&u.dispatchEvent(v),b[D]&&b[D].call(a,v)}}var Am=["evt"],Ue=function(e,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=u.evt,r=Fm(u,Am);Fa.pluginEvent.bind(Z)(e,a,gt({dragEl:O,parentEl:ye,ghostEl:K,rootEl:Fe,nextEl:tu,lastDownEl:Ta,cloneEl:Ce,cloneHidden:$t,dragStarted:Nu,putSortable:ze,activeSortable:Z.active,originalEvent:i,oldIndex:yu,oldDraggableIndex:Yu,newIndex:Ge,newDraggableIndex:zt,hideGhostForTarget:ps,unhideGhostForTarget:hs,cloneNowHidden:function(){$t=!0},cloneNowShown:function(){$t=!1},dispatchSortableEvent:function(n){Oe({sortable:a,name:n,originalEvent:i})}},r))};function Oe(e){Em(gt({putSortable:ze,cloneEl:Ce,targetEl:O,rootEl:Fe,oldIndex:yu,oldDraggableIndex:Yu,newIndex:Ge,newDraggableIndex:zt},e))}var O,ye,K,Fe,tu,Ta,Ce,$t,yu,Ge,Yu,zt,ka,ze,mu=!1,Ha=!1,Ra=[],Jt,it,vn,En,cr,dr,Nu,du,Zu,Gu=!1,ya=!1,Ma,Le,An=[],ei=!1,Ua=[],rn=typeof document<"u",_a=ts,pr=fa||wt?"cssFloat":"float",wm=rn&&!us&&!ts&&"draggable"in document.createElement("div"),ls=function(){if(rn){if(wt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),cs=function(e,a){var u=Y(e),i=parseInt(u.width)-parseInt(u.paddingLeft)-parseInt(u.paddingRight)-parseInt(u.borderLeftWidth)-parseInt(u.borderRightWidth),r=wu(e,0,a),n=wu(e,1,a),o=r&&Y(r),s=n&&Y(n),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+we(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+we(n).width;if(u.display==="flex")return u.flexDirection==="column"||u.flexDirection==="column-reverse"?"vertical":"horizontal";if(u.display==="grid")return u.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&o.float&&o.float!=="none"){var h=o.float==="left"?"left":"right";return n&&(s.clear==="both"||s.clear===h)?"vertical":"horizontal"}return r&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||l>=i&&u[pr]==="none"||n&&u[pr]==="none"&&l+c>i)?"vertical":"horizontal"},Bm=function(e,a,u){var i=u?e.left:e.top,r=u?e.right:e.bottom,n=u?e.width:e.height,o=u?a.left:a.top,s=u?a.right:a.bottom,l=u?a.width:a.height;return i===o||r===s||i+n/2===o+l/2},xm=function(e,a){var u;return Ra.some(function(i){var r=i[Qe].options.emptyInsertThreshold;if(!(!r||Ai(i))){var n=we(i),o=e>=n.left-r&&e<=n.right+r,s=a>=n.top-r&&a<=n.bottom+r;if(o&&s)return u=i}}),u},ds=function(e){function a(r,n){return function(o,s,l,c){var h=o.options.group.name&&s.options.group.name&&o.options.group.name===s.options.group.name;if(r==null&&(n||h))return!0;if(r==null||r===!1)return!1;if(n&&r==="clone")return r;if(typeof r=="function")return a(r(o,s,l,c),n)(o,s,l,c);var d=(n?o:s).options.group.name;return r===!0||typeof r=="string"&&r===d||r.join&&r.indexOf(d)>-1}}var u={},i=e.group;(!i||Sa(i)!="object")&&(i={name:i}),u.name=i.name,u.checkPull=a(i.pull,!0),u.checkPut=a(i.put),u.revertClone=i.revertClone,e.group=u},ps=function(){!ls&&K&&Y(K,"display","none")},hs=function(){!ls&&K&&Y(K,"display","")};rn&&!us&&document.addEventListener("click",function(e){if(Ha)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ha=!1,!1},!0);var eu=function(e){if(O){e=e.touches?e.touches[0]:e;var a=xm(e.clientX,e.clientY);if(a){var u={};for(var i in e)e.hasOwnProperty(i)&&(u[i]=e[i]);u.target=u.rootEl=a,u.preventDefault=void 0,u.stopPropagation=void 0,a[Qe]._onDragOver(u)}}},Sm=function(e){O&&O.parentNode[Qe]._isOutsideThisEl(e.target)};function Z(e,a){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=a=vt({},a),e[Qe]=this;var u={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return cs(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(n,o){n.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Z.supportPointer!==!1&&"PointerEvent"in window&&!qu,emptyInsertThreshold:5};Fa.initializePlugins(this,e,u);for(var i in u)!(i in a)&&(a[i]=u[i]);ds(a);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=a.forceFallback?!1:wm,this.nativeDraggable&&(this.options.touchStartThreshold=1),a.supportPointer?re(e,"pointerdown",this._onTapStart):(re(e,"mousedown",this._onTapStart),re(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(re(e,"dragover",this),re(e,"dragenter",this)),Ra.push(this.el),a.store&&a.store.get&&this.sort(a.store.get(this)||[]),vt(this,bm())}Z.prototype={constructor:Z,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(du=null)},_getDirection:function(e,a){return typeof this.options.direction=="function"?this.options.direction.call(this,e,a,O):this.options.direction},_onTapStart:function(e){if(e.cancelable){var a=this,u=this.el,i=this.options,r=i.preventOnFilter,n=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(Im(u),!O&&!(/mousedown|pointerdown/.test(n)&&e.button!==0||i.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&qu&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=rt(s,i.draggable,u,!1),!(s&&s.animated)&&Ta!==s)){if(yu=tt(s),Yu=tt(s,i.draggable),typeof c=="function"){if(c.call(this,e,s,this)){Oe({sortable:a,rootEl:l,name:"filter",targetEl:s,toEl:u,fromEl:u}),Ue("filter",a,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=rt(l,h.trim(),u,!1),h)return Oe({sortable:a,rootEl:h,name:"filter",targetEl:s,fromEl:u,toEl:u}),Ue("filter",a,{evt:e}),!0}),c)){r&&e.cancelable&&e.preventDefault();return}i.handle&&!rt(l,i.handle,u,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,a,u){var i=this,r=i.el,n=i.options,o=r.ownerDocument,s;if(u&&!O&&u.parentNode===r){var l=we(u);if(Fe=r,O=u,ye=O.parentNode,tu=O.nextSibling,Ta=u,ka=n.group,Z.dragged=O,Jt={target:O,clientX:(a||e).clientX,clientY:(a||e).clientY},cr=Jt.clientX-l.left,dr=Jt.clientY-l.top,this._lastX=(a||e).clientX,this._lastY=(a||e).clientY,O.style["will-change"]="all",s=function(){if(Ue("delayEnded",i,{evt:e}),Z.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!rr&&i.nativeDraggable&&(O.draggable=!0),i._triggerDragStart(e,a),Oe({sortable:i,name:"choose",originalEvent:e}),Ze(O,n.chosenClass,!0)},n.ignore.split(",").forEach(function(c){ns(O,c.trim(),wn)}),re(o,"dragover",eu),re(o,"mousemove",eu),re(o,"touchmove",eu),re(o,"mouseup",i._onDrop),re(o,"touchend",i._onDrop),re(o,"touchcancel",i._onDrop),rr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,O.draggable=!0),Ue("delayStart",this,{evt:e}),n.delay&&(!n.delayOnTouchOnly||a)&&(!this.nativeDraggable||!(fa||wt))){if(Z.eventCanceled){this._onDrop();return}re(o,"mouseup",i._disableDelayedDrag),re(o,"touchend",i._disableDelayedDrag),re(o,"touchcancel",i._disableDelayedDrag),re(o,"mousemove",i._delayedDragTouchMoveHandler),re(o,"touchmove",i._delayedDragTouchMoveHandler),n.supportPointer&&re(o,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,n.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var a=e.touches?e.touches[0]:e;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){O&&wn(O),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ne(e,"mouseup",this._disableDelayedDrag),ne(e,"touchend",this._disableDelayedDrag),ne(e,"touchcancel",this._disableDelayedDrag),ne(e,"mousemove",this._delayedDragTouchMoveHandler),ne(e,"touchmove",this._delayedDragTouchMoveHandler),ne(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,a){a=a||e.pointerType=="touch"&&e,!this.nativeDraggable||a?this.options.supportPointer?re(document,"pointermove",this._onTouchMove):a?re(document,"touchmove",this._onTouchMove):re(document,"mousemove",this._onTouchMove):(re(O,"dragend",this),re(Fe,"dragstart",this._onDragStart));try{document.selection?za(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,a){if(mu=!1,Fe&&O){Ue("dragStarted",this,{evt:a}),this.nativeDraggable&&re(document,"dragover",Sm);var u=this.options;!e&&Ze(O,u.dragClass,!1),Ze(O,u.ghostClass,!0),Z.active=this,e&&this._appendGhost(),Oe({sortable:this,name:"start",originalEvent:a})}else this._nulling()},_emulateDragOver:function(){if(it){this._lastX=it.clientX,this._lastY=it.clientY,ps();for(var e=document.elementFromPoint(it.clientX,it.clientY),a=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(it.clientX,it.clientY),e!==a);)a=e;if(O.parentNode[Qe]._isOutsideThisEl(e),a)do{if(a[Qe]){var u=void 0;if(u=a[Qe]._onDragOver({clientX:it.clientX,clientY:it.clientY,target:e,rootEl:a}),u&&!this.options.dragoverBubble)break}e=a}while(a=a.parentNode);hs()}},_onTouchMove:function(e){if(Jt){var a=this.options,u=a.fallbackTolerance,i=a.fallbackOffset,r=e.touches?e.touches[0]:e,n=K&&vu(K,!0),o=K&&n&&n.a,s=K&&n&&n.d,l=_a&&Le&&lr(Le),c=(r.clientX-Jt.clientX+i.x)/(o||1)+(l?l[0]-An[0]:0)/(o||1),h=(r.clientY-Jt.clientY+i.y)/(s||1)+(l?l[1]-An[1]:0)/(s||1);if(!Z.active&&!mu){if(u&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<u)return;this._onDragStart(e,!0)}if(K){n?(n.e+=c-(vn||0),n.f+=h-(En||0)):n={a:1,b:0,c:0,d:1,e:c,f:h};var d="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");Y(K,"webkitTransform",d),Y(K,"mozTransform",d),Y(K,"msTransform",d),Y(K,"transform",d),vn=c,En=h,it=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!K){var e=this.options.fallbackOnBody?document.body:Fe,a=we(O,!0,_a,!0,e),u=this.options;if(_a){for(Le=e;Y(Le,"position")==="static"&&Y(Le,"transform")==="none"&&Le!==document;)Le=Le.parentNode;Le!==document.body&&Le!==document.documentElement?(Le===document&&(Le=Ft()),a.top+=Le.scrollTop,a.left+=Le.scrollLeft):Le=Ft(),An=lr(Le)}K=O.cloneNode(!0),Ze(K,u.ghostClass,!1),Ze(K,u.fallbackClass,!0),Ze(K,u.dragClass,!0),Y(K,"transition",""),Y(K,"transform",""),Y(K,"box-sizing","border-box"),Y(K,"margin",0),Y(K,"top",a.top),Y(K,"left",a.left),Y(K,"width",a.width),Y(K,"height",a.height),Y(K,"opacity","0.8"),Y(K,"position",_a?"absolute":"fixed"),Y(K,"zIndex","100000"),Y(K,"pointerEvents","none"),Z.ghost=K,e.appendChild(K),Y(K,"transform-origin",cr/parseInt(K.style.width)*100+"% "+dr/parseInt(K.style.height)*100+"%")}},_onDragStart:function(e,a){var u=this,i=e.dataTransfer,r=u.options;if(Ue("dragStart",this,{evt:e}),Z.eventCanceled){this._onDrop();return}Ue("setupClone",this),Z.eventCanceled||(Ce=os(O),Ce.removeAttribute("id"),Ce.draggable=!1,Ce.style["will-change"]="",this._hideClone(),Ze(Ce,this.options.chosenClass,!1),Z.clone=Ce),u.cloneId=za(function(){Ue("clone",u),!Z.eventCanceled&&(u.options.removeCloneOnHide||Fe.insertBefore(Ce,O),u._hideClone(),Oe({sortable:u,name:"clone"}))}),!a&&Ze(O,r.dragClass,!0),a?(Ha=!0,u._loopId=setInterval(u._emulateDragOver,50)):(ne(document,"mouseup",u._onDrop),ne(document,"touchend",u._onDrop),ne(document,"touchcancel",u._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(u,i,O)),re(document,"drop",u),Y(O,"transform","translateZ(0)")),mu=!0,u._dragStartId=za(u._dragStarted.bind(u,a,e)),re(document,"selectstart",u),Nu=!0,qu&&Y(document.body,"user-select","none")},_onDragOver:function(e){var a=this.el,u=e.target,i,r,n,o=this.options,s=o.group,l=Z.active,c=ka===s,h=o.sort,d=ze||l,F,f=this,C=!1;if(ei)return;function v(De,He){Ue(De,f,gt({evt:e,isOwner:c,axis:F?"vertical":"horizontal",revert:n,dragRect:i,targetRect:r,canSort:h,fromSortable:d,target:u,completed:D,onMove:function(ct,kt){return ba(Fe,a,O,i,ct,we(ct),e,kt)},changed:E},He))}function b(){v("dragOverAnimationCapture"),f.captureAnimationState(),f!==d&&d.captureAnimationState()}function D(De){return v("dragOverCompleted",{insertion:De}),De&&(c?l._hideClone():l._showClone(f),f!==d&&(Ze(O,ze?ze.options.ghostClass:l.options.ghostClass,!1),Ze(O,o.ghostClass,!0)),ze!==f&&f!==Z.active?ze=f:f===Z.active&&ze&&(ze=null),d===f&&(f._ignoreWhileAnimating=u),f.animateAll(function(){v("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(u===O&&!O.animated||u===a&&!u.animated)&&(du=null),!o.dragoverBubble&&!e.rootEl&&u!==document&&(O.parentNode[Qe]._isOutsideThisEl(e.target),!De&&eu(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),C=!0}function E(){Ge=tt(O),zt=tt(O,o.draggable),Oe({sortable:f,name:"change",toEl:a,newIndex:Ge,newDraggableIndex:zt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),u=rt(u,o.draggable,a,!0),v("dragOver"),Z.eventCanceled)return C;if(O.contains(e.target)||u.animated&&u.animatingX&&u.animatingY||f._ignoreWhileAnimating===u)return D(!1);if(Ha=!1,l&&!o.disabled&&(c?h||(n=ye!==Fe):ze===this||(this.lastPutMode=ka.checkPull(this,l,O,e))&&s.checkPut(this,l,O,e))){if(F=this._getDirection(e,u)==="vertical",i=we(O),v("dragOverValid"),Z.eventCanceled)return C;if(n)return ye=Fe,b(),this._hideClone(),v("revert"),Z.eventCanceled||(tu?Fe.insertBefore(O,tu):Fe.appendChild(O)),D(!0);var A=Ai(a,o.draggable);if(!A||Lm(e,F,this)&&!A.animated){if(A===O)return D(!1);if(A&&a===e.target&&(u=A),u&&(r=we(u)),ba(Fe,a,O,i,u,r,e,!!u)!==!1)return b(),A&&A.nextSibling?a.insertBefore(O,A.nextSibling):a.appendChild(O),ye=a,E(),D(!0)}else if(A&&zm(e,F,this)){var z=wu(a,0,o,!0);if(z===O)return D(!1);if(u=z,r=we(u),ba(Fe,a,O,i,u,r,e,!1)!==!1)return b(),a.insertBefore(O,z),ye=a,E(),D(!0)}else if(u.parentNode===a){r=we(u);var $=0,T,N=O.parentNode!==a,G=!Bm(O.animated&&O.toRect||i,u.animated&&u.toRect||r,F),P=F?"top":"left",ae=sr(u,"top","top")||sr(O,"top","top"),pe=ae?ae.scrollTop:void 0;du!==u&&(T=r[P],Gu=!1,ya=!G&&o.invertSwap||N),$=Nm(e,u,r,F,G?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,ya,du===u);var ge;if($!==0){var _e=tt(O);do _e-=$,ge=ye.children[_e];while(ge&&(Y(ge,"display")==="none"||ge===K))}if($===0||ge===u)return D(!1);du=u,Zu=$;var be=u.nextElementSibling,X=!1;X=$===1;var fe=ba(Fe,a,O,i,u,r,e,X);if(fe!==!1)return(fe===1||fe===-1)&&(X=fe===1),ei=!0,setTimeout(Mm,30),b(),X&&!be?a.appendChild(O):u.parentNode.insertBefore(O,X?be:u),ae&&rs(ae,0,pe-ae.scrollTop),ye=O.parentNode,T!==void 0&&!ya&&(Ma=Math.abs(T-we(u)[P])),E(),D(!0)}if(a.contains(O))return D(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ne(document,"mousemove",this._onTouchMove),ne(document,"touchmove",this._onTouchMove),ne(document,"pointermove",this._onTouchMove),ne(document,"dragover",eu),ne(document,"mousemove",eu),ne(document,"touchmove",eu)},_offUpEvents:function(){var e=this.el.ownerDocument;ne(e,"mouseup",this._onDrop),ne(e,"touchend",this._onDrop),ne(e,"pointerup",this._onDrop),ne(e,"touchcancel",this._onDrop),ne(document,"selectstart",this)},_onDrop:function(e){var a=this.el,u=this.options;if(Ge=tt(O),zt=tt(O,u.draggable),Ue("drop",this,{evt:e}),ye=O&&O.parentNode,Ge=tt(O),zt=tt(O,u.draggable),Z.eventCanceled){this._nulling();return}mu=!1,ya=!1,Gu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ti(this.cloneId),ti(this._dragStartId),this.nativeDraggable&&(ne(document,"drop",this),ne(a,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),qu&&Y(document.body,"user-select",""),Y(O,"transform",""),e&&(Nu&&(e.cancelable&&e.preventDefault(),!u.dropBubble&&e.stopPropagation()),K&&K.parentNode&&K.parentNode.removeChild(K),(Fe===ye||ze&&ze.lastPutMode!=="clone")&&Ce&&Ce.parentNode&&Ce.parentNode.removeChild(Ce),O&&(this.nativeDraggable&&ne(O,"dragend",this),wn(O),O.style["will-change"]="",Nu&&!mu&&Ze(O,ze?ze.options.ghostClass:this.options.ghostClass,!1),Ze(O,this.options.chosenClass,!1),Oe({sortable:this,name:"unchoose",toEl:ye,newIndex:null,newDraggableIndex:null,originalEvent:e}),Fe!==ye?(Ge>=0&&(Oe({rootEl:ye,name:"add",toEl:ye,fromEl:Fe,originalEvent:e}),Oe({sortable:this,name:"remove",toEl:ye,originalEvent:e}),Oe({rootEl:ye,name:"sort",toEl:ye,fromEl:Fe,originalEvent:e}),Oe({sortable:this,name:"sort",toEl:ye,originalEvent:e})),ze&&ze.save()):Ge!==yu&&Ge>=0&&(Oe({sortable:this,name:"update",toEl:ye,originalEvent:e}),Oe({sortable:this,name:"sort",toEl:ye,originalEvent:e})),Z.active&&((Ge==null||Ge===-1)&&(Ge=yu,zt=Yu),Oe({sortable:this,name:"end",toEl:ye,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ue("nulling",this),Fe=O=ye=K=tu=Ce=Ta=$t=Jt=it=Nu=Ge=zt=yu=Yu=du=Zu=ze=ka=Z.dragged=Z.ghost=Z.clone=Z.active=null,Ua.forEach(function(e){e.checked=!0}),Ua.length=vn=En=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":O&&(this._onDragOver(e),Tm(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],a,u=this.el.children,i=0,r=u.length,n=this.options;i<r;i++)a=u[i],rt(a,n.draggable,this.el,!1)&&e.push(a.getAttribute(n.dataIdAttr)||Om(a));return e},sort:function(e,a){var u={},i=this.el;this.toArray().forEach(function(r,n){var o=i.children[n];rt(o,this.options.draggable,i,!1)&&(u[r]=o)},this),a&&this.captureAnimationState(),e.forEach(function(r){u[r]&&(i.removeChild(u[r]),i.appendChild(u[r]))}),a&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,a){return rt(e,a||this.options.draggable,this.el,!1)},option:function(e,a){var u=this.options;if(a===void 0)return u[e];var i=Fa.modifyOption(this,e,a);typeof i<"u"?u[e]=i:u[e]=a,e==="group"&&ds(u)},destroy:function(){Ue("destroy",this);var e=this.el;e[Qe]=null,ne(e,"mousedown",this._onTapStart),ne(e,"touchstart",this._onTapStart),ne(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ne(e,"dragover",this),ne(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ra.splice(Ra.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!$t){if(Ue("hideClone",this),Z.eventCanceled)return;Y(Ce,"display","none"),this.options.removeCloneOnHide&&Ce.parentNode&&Ce.parentNode.removeChild(Ce),$t=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if($t){if(Ue("showClone",this),Z.eventCanceled)return;O.parentNode==Fe&&!this.options.group.revertClone?Fe.insertBefore(Ce,O):tu?Fe.insertBefore(Ce,tu):Fe.appendChild(Ce),this.options.group.revertClone&&this.animate(O,Ce),Y(Ce,"display",""),$t=!1}}};function Tm(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function ba(e,a,u,i,r,n,o,s){var l,c=e[Qe],h=c.options.onMove,d;return window.CustomEvent&&!wt&&!fa?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=a,l.from=e,l.dragged=u,l.draggedRect=i,l.related=r||a,l.relatedRect=n||we(a),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),h&&(d=h.call(c,l,o)),d}function wn(e){e.draggable=!1}function Mm(){ei=!1}function zm(e,a,u){var i=we(wu(u.el,0,u.options,!0)),r=ss(u.el,u.options,K),n=10;return a?e.clientX<r.left-n||e.clientY<i.top&&e.clientX<i.right:e.clientY<r.top-n||e.clientY<i.bottom&&e.clientX<i.left}function Lm(e,a,u){var i=we(Ai(u.el,u.options.draggable)),r=ss(u.el,u.options,K),n=10;return a?e.clientX>r.right+n||e.clientY>i.bottom&&e.clientX>i.left:e.clientY>r.bottom+n||e.clientX>i.right&&e.clientY>i.top}function Nm(e,a,u,i,r,n,o,s){var l=i?e.clientY:e.clientX,c=i?u.height:u.width,h=i?u.top:u.left,d=i?u.bottom:u.right,F=!1;if(!o){if(s&&Ma<c*r){if(!Gu&&(Zu===1?l>h+c*n/2:l<d-c*n/2)&&(Gu=!0),Gu)F=!0;else if(Zu===1?l<h+Ma:l>d-Ma)return-Zu}else if(l>h+c*(1-r)/2&&l<d-c*(1-r)/2)return $m(a)}return F=F||o,F&&(l<h+c*n/2||l>d-c*n/2)?l>h+c/2?1:-1:0}function $m(e){return tt(O)<tt(e)?1:-1}function Om(e){for(var a=e.tagName+e.className+e.src+e.href+e.textContent,u=a.length,i=0;u--;)i+=a.charCodeAt(u);return i.toString(36)}function Im(e){Ua.length=0;for(var a=e.getElementsByTagName("input"),u=a.length;u--;){var i=a[u];i.checked&&Ua.push(i)}}function za(e){return setTimeout(e,0)}function ti(e){return clearTimeout(e)}rn&&re(document,"touchmove",function(e){(Z.active||mu)&&e.cancelable&&e.preventDefault()}),Z.utils={on:re,off:ne,css:Y,find:ns,is:function(e,a){return!!rt(e,a,e,!1)},extend:ym,throttle:is,closest:rt,toggleClass:Ze,clone:os,index:tt,nextTick:za,cancelNextTick:ti,detectDirection:cs,getChild:wu},Z.get=function(e){return e[Qe]},Z.mount=function(){for(var e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];a[0].constructor===Array&&(a=a[0]),a.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Z.utils=gt(gt({},Z.utils),i.utils)),Fa.mount(i)})},Z.create=function(e,a){return new Z(e,a)},Z.version=gm;var Ae=[],$u,ui,ai=!1,Bn,xn,ja,Ou;function Pm(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this))}return e.prototype={dragStarted:function(a){var u=a.originalEvent;this.sortable.nativeDraggable?re(document,"dragover",this._handleAutoScroll):this.options.supportPointer?re(document,"pointermove",this._handleFallbackAutoScroll):u.touches?re(document,"touchmove",this._handleFallbackAutoScroll):re(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){var u=a.originalEvent;!this.options.dragOverBubble&&!u.rootEl&&this._handleAutoScroll(u)},drop:function(){this.sortable.nativeDraggable?ne(document,"dragover",this._handleAutoScroll):(ne(document,"pointermove",this._handleFallbackAutoScroll),ne(document,"touchmove",this._handleFallbackAutoScroll),ne(document,"mousemove",this._handleFallbackAutoScroll)),hr(),La(),_m()},nulling:function(){ja=ui=$u=ai=Ou=Bn=xn=null,Ae.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,u){var i=this,r=(a.touches?a.touches[0]:a).clientX,n=(a.touches?a.touches[0]:a).clientY,o=document.elementFromPoint(r,n);if(ja=a,u||this.options.forceAutoScrollFallback||fa||wt||qu){Sn(a,this.options,o,u);var s=Rt(o,!0);ai&&(!Ou||r!==Bn||n!==xn)&&(Ou&&hr(),Ou=setInterval(function(){var l=Rt(document.elementFromPoint(r,n),!0);l!==s&&(s=l,La()),Sn(a,i.options,l,u)},10),Bn=r,xn=n)}else{if(!this.options.bubbleScroll||Rt(o,!0)===Ft()){La();return}Sn(a,this.options,Rt(o,!1),!1)}}},vt(e,{pluginName:"scroll",initializeByDefault:!0})}function La(){Ae.forEach(function(e){clearInterval(e.pid)}),Ae=[]}function hr(){clearInterval(Ou)}var Sn=is(function(e,a,u,i){if(a.scroll){var r=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,o=a.scrollSensitivity,s=a.scrollSpeed,l=Ft(),c=!1,h;ui!==u&&(ui=u,La(),$u=a.scroll,h=a.scrollFn,$u===!0&&($u=Rt(u,!0)));var d=0,F=$u;do{var f=F,C=we(f),v=C.top,b=C.bottom,D=C.left,E=C.right,A=C.width,z=C.height,$=void 0,T=void 0,N=f.scrollWidth,G=f.scrollHeight,P=Y(f),ae=f.scrollLeft,pe=f.scrollTop;f===l?($=A<N&&(P.overflowX==="auto"||P.overflowX==="scroll"||P.overflowX==="visible"),T=z<G&&(P.overflowY==="auto"||P.overflowY==="scroll"||P.overflowY==="visible")):($=A<N&&(P.overflowX==="auto"||P.overflowX==="scroll"),T=z<G&&(P.overflowY==="auto"||P.overflowY==="scroll"));var ge=$&&(Math.abs(E-r)<=o&&ae+A<N)-(Math.abs(D-r)<=o&&!!ae),_e=T&&(Math.abs(b-n)<=o&&pe+z<G)-(Math.abs(v-n)<=o&&!!pe);if(!Ae[d])for(var be=0;be<=d;be++)Ae[be]||(Ae[be]={});(Ae[d].vx!=ge||Ae[d].vy!=_e||Ae[d].el!==f)&&(Ae[d].el=f,Ae[d].vx=ge,Ae[d].vy=_e,clearInterval(Ae[d].pid),(ge!=0||_e!=0)&&(c=!0,Ae[d].pid=setInterval(function(){i&&this.layer===0&&Z.active._onTouchMove(ja);var X=Ae[this.layer].vy?Ae[this.layer].vy*s:0,fe=Ae[this.layer].vx?Ae[this.layer].vx*s:0;typeof h=="function"&&h.call(Z.dragged.parentNode[Qe],fe,X,e,ja,Ae[this.layer].el)!=="continue"||rs(Ae[this.layer].el,fe,X)}.bind({layer:d}),24))),d++}while(a.bubbleScroll&&F!==l&&(F=Rt(F,!1)));ai=c}},30),ms=function(e){var a=e.originalEvent,u=e.putSortable,i=e.dragEl,r=e.activeSortable,n=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(a){var l=u||r;o();var c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,h=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(h)&&(n("spill"),this.onSpill({dragEl:i,putSortable:u}))}};function ni(){}ni.prototype={startIndex:null,dragStart:function(e){var a=e.oldDraggableIndex;this.startIndex=a},onSpill:function(e){var a=e.dragEl,u=e.putSortable;this.sortable.captureAnimationState(),u&&u.captureAnimationState();var i=wu(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(a,i):this.sortable.el.appendChild(a),this.sortable.animateAll(),u&&u.animateAll()},drop:ms},vt(ni,{pluginName:"revertOnSpill"});function Tn(){}Tn.prototype={onSpill:function(e){var a=e.dragEl,u=e.putSortable,i=u||this.sortable;i.captureAnimationState(),a.parentNode&&a.parentNode.removeChild(a),i.animateAll()},drop:ms},vt(Tn,{pluginName:"removeOnSpill"}),Z.mount(new Pm),Z.mount(Tn,ni);const fs=en({__name:"Sortable",props:{options:{type:Object,default:null,required:!1},list:{type:[Array,Object],default:[],required:!0},itemKey:{type:[String,Function],default:"",required:!0},tag:{type:String,default:"div",required:!1}},emits:["choose","unchoose","start","end","add","update","sort","remove","filter","move","clone","change"],setup(e,{expose:a,emit:u}){const i=e,r=u,n=oc(),o=se(!1),s=se(null),l=se(null),c=de(()=>typeof i.itemKey=="string"?h=>h[i.itemKey]:i.itemKey);return a({containerRef:s,sortable:l,isDragging:o}),nu(s,h=>{h&&(l.value=new Z(h,{...i.options,onChoose:d=>r("choose",d),onUnchoose:d=>r("unchoose",d),onStart:d=>{o.value=!0,r("start",d)},onEnd:d=>{setTimeout(()=>{o.value=!1,r("end",d)})},onAdd:d=>r("add",d),onUpdate:d=>r("update",d),onSort:d=>r("sort",d),onRemove:d=>r("remove",d),onFilter:d=>r("filter",d),onMove:(d,F)=>"onMoveCapture"in n?n.onMoveCapture(d,F):r("move",d,F),onClone:d=>r("clone",d),onChange:d=>r("change",d)}))}),nu(()=>i.options,h=>{if(h&&l?.value)for(const d in h)l.value.option(d,h[d])}),Fi(()=>{l.value&&(l.value.destroy(),s.value=null,l.value=null)}),(h,d)=>(p(),S(at(h.$props.tag),{ref_key:"containerRef",ref:s,class:R(h.$props.class)},{default:_(()=>[Q(h.$slots,"header"),(p(!0),m(Ne,null,We(e.list,(F,f)=>Q(h.$slots,"item",{key:c.value(F),element:F,index:f})),128)),Q(h.$slots,"footer")]),_:3},8,["class"]))}}),Vm={components:{ListItemCalendar:qp,Colorpicker:$o,Trashbin:H2,NcAppNavigation:hm,NcAppNavigationItem:an,NcCounterBubble:Ro,NcTextField:pa,AppNavigationSettings:Yh,Sortable:fs,CalendarToday:Go,CalendarWeek:Xo,Check:ou,CircleOutline:Ko,Plus:tn,TrendingUp:Ei,Star:ma},directives:{ClickOutside:ha,Tooltip:ru},inject:["$OCA"],data(){return{editing:"",shareOpen:"",copySuccess:!1,copied:!1,creating:!1,nameError:!1,newCalendarName:"",selectedColor:"",tooltipMessage:"",tooltipTarget:""}},computed:{...Bo({collections:e=>e.collections.collections}),...Pe({calendars:"getSortedCalendars",collectionCount:"getCollectionCount",calendarCount:"getCalendarCount",isCalendarNameUsed:"isCalendarNameUsed",getTask:"getTaskByUri",initialRoute:"initialRoute",hasTrashBin:"hasTrashBin"})},methods:{t:x,...Ct(["appendCalendar","setPriority","setPercentComplete","setDate","setSetting","setCalendarOrder"]),counterFormatter(e){switch(!1){case e!==0:return"";case e<999:return"999+";default:return e}},setData(e){e.dataTransfer.setData("text/calendar","calendar")},update(e){const a=e.newIndex,u=e.oldIndex;if(this.calendars.length===0||a===u)return;const i=[...this.calendars];if(u>-1)i.splice(a,0,i.splice(u,1)[0]);else return;let r;a+1<i.length&&(a<1||i[a+1].order-1>i[a-1].order)?r=i[a+1].order-1:r=i[a-1].order+1,r<0&&(r=0),this.setCalendarOrder({calendar:i[a],order:r});let n=1;for(;n<i.length;){if(i[n].order<=i[n-1].order){const o={calendar:i[n],order:i[n-1].order+1};this.setCalendarOrder(o)}n++}},dragStart(e){return e.stopPropagation(),e.preventDefault(),!1},dragOver(e){return e.preventDefault&&e.preventDefault(),!1},dragEnter(e,a){if(["starred","completed","today","week"].includes(a.id)&&e.dataTransfer.getData("text/calendar")!=="calendar"&&e.target.closest){const u=e.target.closest("li.collection");u&&(document.querySelectorAll("li.collection").forEach(i=>{i.classList.remove("dnd-hover")}),u.classList.add("dnd-hover"))}},dragLeave(e){if(!e.target.contains(e.relatedTarget)&&e.target.closest){const a=e.target.closest("li.collection");if(!a||a.contains(e.relatedTarget))return;a.classList.remove("dnd-hover")}},dropTaskOnCollection(e,a){if(document.querySelectorAll("li.collection").forEach(i=>{i.classList.remove("dnd-hover")}),!["starred","completed","today","week"].includes(a.id))return;const u=e.dataTransfer.getData("text/uri");if(u){const i=this.getTask(u);switch(a.id){case"starred":this.setPriority({task:i,priority:1});break;case"completed":this.setPercentComplete({task:i,complete:100});break;case"today":this.setDate({task:i,day:0});break;case"week":this.setDate({task:i,day:6});break}}},hideCollection(e){switch(e.show){case 0:return!0;case 1:return!1;case 2:return this.collectionCount(e.id)<1}},showTooltip(e){return this.tooltipTarget===e},startCreate(e){this.$OCA.Theming?this.selectedColor=this.$OCA.Theming.color:this.selectedColor="#0082C9",this.newCalendarName="",this.creating=!0,this.$nextTick(()=>this.$refs.newListInput.$refs.inputField.$refs.input.focus()),e.stopPropagation()},async create(){if(this.isNameAllowed(this.newCalendarName).allowed)try{const{id:e}=await this.appendCalendar({displayName:this.newCalendarName,color:this.selectedColor});e&&await this.$router.push({name:"calendars",params:{calendarId:e}})}catch(e){console.debug(e),qt(x("tasks","An error occurred, unable to create the list."))}finally{this.creating=!1}},checkName(e){const a=this.isNameAllowed(this.newCalendarName);this.tooltipMessage=a.msg,a.allowed?(this.tooltipTarget="",this.nameError=!1):(this.tooltipTarget="list_new",this.nameError=!0),e.keyCode===13&&this.create(),e.keyCode===27&&(e.preventDefault(),this.tooltipTarget="",this.creating=!1,this.editing=!1,this.nameError=!1)},isNameAllowed(e){const a={allowed:!1,msg:""};return this.isCalendarNameUsed(e)?a.msg=x("tasks",'The name "{calendar}" is already used.',{calendar:e},void 0,{sanitize:!1,escape:!1}):e?a.allowed=!0:a.msg=x("tasks","An empty name is not allowed."),a},setColor(e){this.selectedColor=e},setInitialRoute(e){e!==this.initialRoute&&this.setSetting({type:"initialRoute",value:e})}}},Hm={class:"app-navigation-entry-edit"};function Rm(e,a,u,i,r,n){const o=k("NcCounterBubble"),s=k("NcAppNavigationItem"),l=k("ListItemCalendar"),c=k("Sortable"),h=k("Plus"),d=k("NcTextField"),F=k("Colorpicker"),f=k("Trashbin"),C=k("AppNavigationSettings"),v=k("NcAppNavigation"),b=Be("tooltip"),D=Be("click-outside");return p(),S(v,null,{list:_(()=>[(p(!0),m(Ne,null,We(e.collections,E=>U((p(),S(s,{id:"collection_"+E.id,key:E.id,"collection-id":E.id,to:{name:"collections",params:{collectionId:E.id}},name:E.displayName,class:"collection reactive",draggable:"false",onDragstart:n.dragStart,onDrop:A=>n.dropTaskOnCollection(A,E),onDragover:n.dragOver,onDragenter:A=>n.dragEnter(A,E),onDragleave:n.dragLeave,onClick:A=>n.setInitialRoute(`/collections/${E.id}`)},{icon:_(()=>[(p(),S(at(E.icon),{size:20}))]),counter:_(()=>[U(g(o,null,{default:_(()=>[j(B(n.counterFormatter(e.collectionCount(E.id))),1)]),_:2},1536),[[oe,e.collectionCount(E.id)]])]),_:2},1032,["id","collection-id","to","name","onDragstart","onDrop","onDragover","onDragenter","onDragleave","onClick"])),[[oe,!n.hideCollection(E)]])),128)),g(c,{class:"draggable-container",list:e.calendars,"item-key":"id",options:{swapThreshold:.3,delay:500,delayOnTouchOnly:!0,touchStartThreshold:3},onDragstart:a[0]||(a[0]=E=>n.setData(E)),onUpdate:n.update},{item:_(({element:E})=>[g(l,{calendar:E,onClick:A=>n.setInitialRoute(`/calendars/${E.id}`)},null,8,["calendar","onClick"])]),_:1},8,["list","onUpdate"]),U((p(),S(s,{name:n.t("tasks","Add List"),class:R([{"collection--edit":r.creating},"collection reactive"]),onClick:a[4]||(a[4]=E=>n.startCreate(E))},{icon:_(()=>[g(h,{size:20})]),default:_(()=>[y("li",null,[y("div",Hm,[U((p(),S(d,{ref:"newListInput",modelValue:r.newCalendarName,"onUpdate:modelValue":a[1]||(a[1]=E=>r.newCalendarName=E),type:"text","show-trailing-button":r.newCalendarName!=="","trailing-button-icon":"arrowRight",error:r.nameError,label:n.t("tasks","New list"),onTrailingButtonClick:a[2]||(a[2]=E=>n.create()),onKeyup:a[3]||(a[3]=E=>n.checkName(E))},{default:_(()=>[g(h,{size:16})]),_:1},8,["modelValue","show-trailing-button","error","label"])),[[b,{content:r.tooltipMessage,shown:n.showTooltip("list_new"),trigger:"manual"}]]),g(F,{"selected-color":r.selectedColor,onColorSelected:n.setColor},null,8,["selected-color","onColorSelected"])])])]),_:1},8,["name","class"])),[[D,()=>{r.creating=!1}]]),e.hasTrashBin?(p(),S(f,{key:0})):w("",!0)]),footer:_(()=>[g(C)]),_:1})}const Um=I(Vm,[["render",Rm],["__scopeId","data-v-337295a4"]]),jm={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((e,a)=>(e[a.id]=a)&&e,{})}},methods:{updatePaneComponents(){this.panes.forEach(e=>{e.update&&e.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[e.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(e,a){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=a},onMouseMove(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map(a=>({min:a.min,max:a.max,size:a.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(e,a){"ontouchstart"in window&&(e.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===a?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(e,a),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=a,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[a])},onSplitterDblClick(e,a){let u=0;this.panes=this.panes.map((i,r)=>(i.size=r===a?i.max:i.min,r!==a&&(u+=i.min),i)),this.panes[a].size-=u,this.$emit("pane-maximize",this.panes[a]),this.$emit("resized",this.panes.map(i=>({min:i.min,max:i.max,size:i.size})))},onPaneClick(e,a){this.$emit("pane-click",this.indexedPanes[a])},getCurrentMouseDrag(e){const a=this.container.getBoundingClientRect(),{clientX:u,clientY:i}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:u-a.left,y:i-a.top}},getCurrentDragPercentage(e){e=e[this.horizontal?"y":"x"];const a=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(e=a-e),e*100/a},calculatePanesSize(e){const a=this.touch.activeSplitter;let u={prevPanesSize:this.sumPrevPanesSize(a),nextPanesSize:this.sumNextPanesSize(a),prevReachedMinPanes:0,nextReachedMinPanes:0};const i=0+(this.pushOtherPanes?0:u.prevPanesSize),r=100-(this.pushOtherPanes?0:u.nextPanesSize),n=Math.max(Math.min(this.getCurrentDragPercentage(e),r),i);let o=[a,a+1],s=this.panes[o[0]]||null,l=this.panes[o[1]]||null;const c=s.max<100&&n>=s.max+u.prevPanesSize,h=l.max<100&&n<=100-(l.max+this.sumNextPanesSize(a+1));if(c||h){c?(s.size=s.max,l.size=Math.max(100-s.max-u.prevPanesSize-u.nextPanesSize,0)):(s.size=Math.max(100-l.max-u.prevPanesSize-this.sumNextPanesSize(a+1),0),l.size=l.max);return}if(this.pushOtherPanes){const d=this.doPushOtherPanes(u,n);if(!d)return;({sums:u,panesToResize:o}=d),s=this.panes[o[0]]||null,l=this.panes[o[1]]||null}s!==null&&(s.size=Math.min(Math.max(n-u.prevPanesSize-u.prevReachedMinPanes,s.min),s.max)),l!==null&&(l.size=Math.min(Math.max(100-n-u.nextPanesSize-u.nextReachedMinPanes,l.min),l.max))},doPushOtherPanes(e,a){const u=this.touch.activeSplitter,i=[u,u+1];return a<e.prevPanesSize+this.panes[i[0]].min&&(i[0]=this.findPrevExpandedPane(u).index,e.prevReachedMinPanes=0,i[0]<u&&this.panes.forEach((r,n)=>{n>i[0]&&n<=u&&(r.size=r.min,e.prevReachedMinPanes+=r.min)}),e.prevPanesSize=this.sumPrevPanesSize(i[0]),i[0]===void 0)?(e.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((r,n)=>{n>0&&n<=u&&(r.size=r.min,e.prevReachedMinPanes+=r.min)}),this.panes[i[1]].size=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):a>100-e.nextPanesSize-this.panes[i[1]].min&&(i[1]=this.findNextExpandedPane(u).index,e.nextReachedMinPanes=0,i[1]>u+1&&this.panes.forEach((r,n)=>{n>u&&n<i[1]&&(r.size=r.min,e.nextReachedMinPanes+=r.min)}),e.nextPanesSize=this.sumNextPanesSize(i[1]-1),i[1]===void 0)?(e.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((r,n)=>{n<this.panesCount-1&&n>=u+1&&(r.size=r.min,e.nextReachedMinPanes+=r.min)}),this.panes[i[0]].size=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panesCount-1].min-e.nextPanesSize,null):{sums:e,panesToResize:i}},sumPrevPanesSize(e){return this.panes.reduce((a,u,i)=>a+(i<e?u.size:0),0)},sumNextPanesSize(e){return this.panes.reduce((a,u,i)=>a+(i>e+1?u.size:0),0)},findPrevExpandedPane(e){return[...this.panes].reverse().find(a=>a.index<e&&a.size>a.min)||{}},findNextExpandedPane(e){return this.panes.find(a=>a.index>e+1&&a.size>a.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(e=>{const a=e.classList.contains("splitpanes__pane"),u=e.classList.contains("splitpanes__splitter");!a&&!u&&(e.parentNode.removeChild(e),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},addSplitter(e,a,u=!1){const i=e-1,r=document.createElement("div");r.classList.add("splitpanes__splitter"),u||(r.onmousedown=n=>this.onMouseDown(n,i),typeof window<"u"&&"ontouchstart"in window&&(r.ontouchstart=n=>this.onMouseDown(n,i)),r.onclick=n=>this.onSplitterClick(n,i+1)),this.dblClickSplitter&&(r.ondblclick=n=>this.onSplitterDblClick(n,i+1)),a.parentNode.insertBefore(r,a)},removeSplitter(e){e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.parentNode.removeChild(e)},redoSplitters(){const e=Array.from(this.container.children);e.forEach(u=>{u.className.includes("splitpanes__splitter")&&this.removeSplitter(u)});let a=0;e.forEach(u=>{u.className.includes("splitpanes__pane")&&(!a&&this.firstSplitter?this.addSplitter(a,u,!0):a&&this.addSplitter(a,u),a++)})},requestUpdate({target:e,...a}){const u=this.indexedPanes[e._.uid];Object.entries(a).forEach(([i,r])=>u[i]=r)},onPaneAdd(e){let a=-1;Array.from(e.$el.parentNode.children).some(r=>(r.className.includes("splitpanes__pane")&&a++,r===e.$el));const u=parseFloat(e.minSize),i=parseFloat(e.maxSize);this.panes.splice(a,0,{id:e._.uid,index:a,min:isNaN(u)?0:u,max:isNaN(i)?100:i,size:e.size===null?null:parseFloat(e.size),givenSize:e.size,update:e.update}),this.panes.forEach((r,n)=>r.index=n),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[a]}),this.$emit("pane-add",{index:a,panes:this.panes.map(r=>({min:r.min,max:r.max,size:r.size}))})})},onPaneRemove(e){const a=this.panes.findIndex(i=>i.id===e._.uid),u=this.panes.splice(a,1)[0];this.panes.forEach((i,r)=>i.index=r),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:{...u,index:a}}),this.$emit("pane-remove",{removed:u,panes:this.panes.map(i=>({min:i.min,max:i.max,size:i.size}))})})},resetPaneSizes(e={}){!e.addedPane&&!e.removedPane?this.initialPanesSizing():this.panes.some(a=>a.givenSize!==null||a.min||a.max<100)?this.equalizeAfterAddOrRemove(e):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(a=>({min:a.min,max:a.max,size:a.size})))},equalize(){const e=100/this.panesCount;let a=0;const u=[],i=[];this.panes.forEach(r=>{r.size=Math.max(Math.min(e,r.max),r.min),a-=r.size,r.size>=r.max&&u.push(r.id),r.size<=r.min&&i.push(r.id)}),a>.1&&this.readjustSizes(a,u,i)},initialPanesSizing(){let e=100;const a=[],u=[];let i=0;this.panes.forEach(n=>{e-=n.size,n.size!==null&&i++,n.size>=n.max&&a.push(n.id),n.size<=n.min&&u.push(n.id)});let r=100;e>.1&&(this.panes.forEach(n=>{n.size===null&&(n.size=Math.max(Math.min(e/(this.panesCount-i),n.max),n.min)),r-=n.size}),r>.1&&this.readjustSizes(e,a,u))},equalizeAfterAddOrRemove({addedPane:e,removedPane:a}={}){let u=100/this.panesCount,i=0;const r=[],n=[];e&&e.givenSize!==null&&(u=(100-e.givenSize)/(this.panesCount-1)),this.panes.forEach(o=>{i-=o.size,o.size>=o.max&&r.push(o.id),o.size<=o.min&&n.push(o.id)}),!(Math.abs(i)<.1)&&(this.panes.forEach(o=>{e&&e.givenSize!==null&&e.id===o.id||(o.size=Math.max(Math.min(u,o.max),o.min)),i-=o.size,o.size>=o.max&&r.push(o.id),o.size<=o.min&&n.push(o.id)}),i>.1&&this.readjustSizes(i,r,n))},readjustSizes(e,a,u){let i;e>0?i=e/(this.panesCount-a.length):i=e/(this.panesCount-u.length),this.panes.forEach((r,n)=>{if(e>0&&!a.includes(r.id)){const o=Math.max(Math.min(r.size+i,r.max),r.min),s=o-r.size;e-=s,r.size=o}else if(!u.includes(r.id)){const o=Math.max(Math.min(r.size+i,r.max),r.min),s=o-r.size;e-=s,r.size=o}r.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[r.id].size}%`})}),Math.abs(e)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(e){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((a,u)=>{a.ondblclick=e?i=>this.onSplitterDblClick(i,u):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return _t("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}},qm=(e,a)=>{const u=e.__vccOpts||e;for(const[i,r]of a)u[i]=r;return u},Wm={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(e){this.style=e}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(e){this.requestUpdate({target:this,size:e})},minSizeNumber(e){this.requestUpdate({target:this,min:e})},maxSizeNumber(e){this.requestUpdate({target:this,max:e})}}};function Ym(e,a,u,i,r,n){return p(),m("div",{class:"splitpanes__pane",onClick:a[0]||(a[0]=o=>n.onPaneClick(o,e._.uid)),style:Ie(e.style)},[Q(e.$slots,"default")],4)}const Zm=qm(Wm,[["render",Ym]]);$e(lc);const Gm={name:"NcAppDetailsToggle",directives:{tooltip:ru},components:{NcButton:et,ArrowRight:un},setup(){return{isMobile:da()}},computed:{title(){return ee("Go back to the list")}},watch:{isMobile:{immediate:!0,handler(){this.toggleAppNavigationButton(this.isMobile)}}},beforeUnmount(){this.isMobile&&this.toggleAppNavigationButton(!1)},methods:{toggleAppNavigationButton(e=!0){const a=document.querySelector(".app-navigation .app-navigation-toggle");a&&(a.style.display=e?"none":null,e===!0&&st("toggle-navigation",{open:!1}))}}};function Xm(e,a,u,i,r,n){const o=k("ArrowRight"),s=k("NcButton"),l=Be("tooltip");return U((p(),S(s,{type:"tertiary","aria-label":n.title,class:R(["app-details-toggle",{"app-details-toggle--mobile":i.isMobile}])},{icon:_(()=>[g(o,{size:20})]),_:1},8,["aria-label","class"])),[[l,n.title]])}const Km=W(Gm,[["render",Xm],["__scopeId","data-v-de03822e"]]),mr=sc("nextcloud").persist().build(),Qm={name:"NcAppContent",components:{NcAppDetailsToggle:Km,Pane:Zm,Splitpanes:jm},props:{allowSwipeNavigation:{type:Boolean,default:!0},listSize:{type:Number,default:20},listMinWidth:{type:Number,default:15},listMaxWidth:{type:Number,default:40},paneConfigKey:{type:String,default:""},showDetails:{type:Boolean,default:!0},pageHeading:{type:String,default:null},layout:{type:String,default:"vertical-split",validator(e){return["no-split","vertical-split","horizontal-split"].includes(e)}}},emits:["update:showDetails","resize:list"],setup(){return{isMobile:da()}},data(){return{contentHeight:0,hasList:!1,hasContent:!1,swiping:{},listPaneSize:this.restorePaneConfig()}},computed:{paneConfigID(){if(this.paneConfigKey!=="")return`pane-list-size-${this.paneConfigKey}`;try{return`pane-list-size-${Vl}`}catch{return console.info("[INFO] AppContent:","falling back to global nextcloud pane config"),"pane-list-size-nextcloud"}},detailsPaneSize(){return this.listPaneSize?100-this.listPaneSize:this.paneDefaults.details.size},paneDefaults(){return{list:{size:this.listSize,min:this.listMinWidth,max:this.listMaxWidth},details:{size:100-this.listSize,min:100-this.listMaxWidth,max:100-this.listMinWidth}}}},updated(){this.checkSlots()},mounted(){this.allowSwipeNavigation&&(this.swiping=cc(this.$el,{onSwipeEnd:this.handleSwipe})),this.checkSlots(),this.restorePaneConfig()},methods:{handleSwipe(e,a){Math.abs(this.swiping.lengthX)>70&&(this.swiping.coordsStart.x<300/2&&a==="right"?st("toggle-navigation",{open:!0}):this.swiping.coordsStart.x<300*1.5&&a==="left"&&st("toggle-navigation",{open:!1}))},handlePaneResize(e){const a=parseInt(e[0].size,10);mr.setItem(this.paneConfigID,JSON.stringify(a)),this.listPaneSize=a,this.$emit("resize:list",{size:a}),console.debug("AppContent pane config",a)},checkSlots(){this.hasList=!!this.$slots.list,this.hasContent=!!this.$slots.default},restorePaneConfig(){const e=parseInt(mr.getItem(this.paneConfigID),10);if(!isNaN(e)&&e!==this.listPaneSize)return console.debug("AppContent pane config",e),this.listPaneSize=e,e},hideDetails(){this.$emit("update:showDetails",!1)}}},Jm={key:0,class:"hidden-visually"},ef={key:1,class:"app-content-wrapper"};function tf(e,a,u,i,r,n){const o=k("NcAppDetailsToggle"),s=k("Pane"),l=k("Splitpanes");return p(),m("main",{id:"app-content-vue",class:R(["app-content no-snapper",{"app-content--has-list":r.hasList}])},[u.pageHeading?(p(),m("h1",Jm,B(u.pageHeading),1)):w("",!0),r.hasList?(p(),m(Ne,{key:1},[i.isMobile||u.layout==="no-split"?(p(),m("div",{key:0,class:R(["app-content-wrapper app-content-wrapper--no-split",{"app-content-wrapper--show-details":u.showDetails,"app-content-wrapper--show-list":!u.showDetails,"app-content-wrapper--mobile":i.isMobile}])},[u.showDetails?(p(),S(o,{key:0,onClick:ue(n.hideDetails,["stop","prevent"])},null,8,["onClick"])):w("",!0),u.showDetails?Q(e.$slots,"default",{key:2},void 0,!0):Q(e.$slots,"list",{key:1},void 0,!0)],2)):u.layout==="vertical-split"||u.layout==="horizontal-split"?(p(),m("div",ef,[g(l,{horizontal:u.layout==="horizontal-split",class:R(["default-theme",{"splitpanes--horizontal":u.layout==="horizontal-split","splitpanes--vertical":u.layout==="vertical-split"}]),onResized:n.handlePaneResize},{default:_(()=>[g(s,{class:"splitpanes__pane-list",size:r.listPaneSize||n.paneDefaults.list.size,"min-size":n.paneDefaults.list.min,"max-size":n.paneDefaults.list.max},{default:_(()=>[Q(e.$slots,"list",{},void 0,!0)]),_:3},8,["size","min-size","max-size"]),g(s,{class:"splitpanes__pane-details",size:n.detailsPaneSize,"min-size":n.paneDefaults.details.min,"max-size":n.paneDefaults.details.max},{default:_(()=>[Q(e.$slots,"default",{},void 0,!0)]),_:3},8,["size","min-size","max-size"])]),_:3},8,["horizontal","class","onResized"])])):w("",!0)],64)):w("",!0),r.hasList?w("",!0):Q(e.$slots,"default",{key:2},void 0,!0)],2)}const uf=W(Qm,[["render",tf],["__scopeId","data-v-47b57a9d"]]);$e(dc);const af=`<!--
  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors
  - SPDX-License-Identifier: AGPL-3.0-or-later
-->
<svg width="395" height="314" viewBox="0 0 395 314" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="395" height="314" rx="11" fill="#439DCD"/>
<rect x="13" y="51" width="366" height="248" rx="8" fill="white"/>
<rect x="22" y="111" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="127" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="63" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="191" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="143" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="79" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="159" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="95" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="175" width="92" height="12" rx="6" fill="#DEDEDE"/>
<path d="M288 145C277.56 147.8 265.32 149 254 149C242.68 149 230.44 147.8 220 145L218 153C225.44 155 234 156.32 242 157V209H250V185H258V209H266V157C274 156.32 282.56 155 290 153L288 145ZM254 145C258.4 145 262 141.4 262 137C262 132.6 258.4 129 254 129C249.6 129 246 132.6 246 137C246 141.4 249.6 145 254 145Z" fill="#DEDEDE"/>
<path d="M43.5358 13C38.6641 13 34.535 16.2415 33.2552 20.6333C32.143 18.3038 29.7327 16.6718 26.9564 16.6718C23.1385 16.6718 20 19.7521 20 23.4993C20 27.2465 23.1385 30.3282 26.9564 30.3282C29.7327 30.3282 32.1429 28.6952 33.2552 26.3653C34.535 30.7575 38.6641 34 43.5358 34C48.3715 34 52.4796 30.8064 53.7921 26.4637C54.9249 28.7407 57.3053 30.3282 60.0421 30.3282C63.8601 30.3282 67 27.2465 67 23.4993C67 19.7521 63.8601 16.6718 60.0421 16.6718C57.3053 16.6718 54.9249 18.2583 53.7921 20.5349C52.4796 16.1926 48.3715 13 43.5358 13ZM43.5358 17.0079C47.2134 17.0079 50.1512 19.8899 50.1512 23.4993C50.1512 27.1087 47.2134 29.9921 43.5358 29.9921C39.8583 29.9921 36.9218 27.1087 36.9218 23.4993C36.9218 19.8899 39.8583 17.0079 43.5358 17.0079ZM26.9564 20.6797C28.5677 20.6797 29.8307 21.9179 29.8307 23.4993C29.8307 25.0807 28.5677 26.3203 26.9564 26.3203C25.3452 26.3203 24.0836 25.0807 24.0836 23.4993C24.0836 21.9179 25.3452 20.6797 26.9564 20.6797ZM60.0421 20.6797C61.6534 20.6797 62.9164 21.9179 62.9164 23.4993C62.9164 25.0807 61.6534 26.3203 60.0421 26.3203C58.4309 26.3203 57.1693 25.0807 57.1693 23.4993C57.1693 21.9179 58.4309 20.6797 60.0421 20.6797Z" fill="white"/>
<rect x="79" y="20" width="8" height="8" rx="4" fill="white"/>
<rect x="99" y="20" width="8" height="8" rx="4" fill="white"/>
<rect x="119" y="20" width="8" height="8" rx="4" fill="white"/>
<rect x="139" y="20" width="8" height="8" rx="4" fill="white"/>
<rect x="159" y="20" width="8" height="8" rx="4" fill="white"/>
<rect x="179" y="20" width="8" height="8" rx="4" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 0C5.37258 0 0 5.37259 0 12V302C0 308.627 5.37259 314 12 314H383C389.627 314 395 308.627 395 302V12C395 5.37258 389.627 0 383 0H12ZM140 44C132.268 44 126 50.268 126 58V292C126 299.732 132.268 306 140 306H372C379.732 306 386 299.732 386 292V58C386 50.268 379.732 44 372 44H140Z" fill="black" fill-opacity="0.35"/>
</svg>
`,nf=`<!--
  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors
  - SPDX-License-Identifier: AGPL-3.0-or-later
-->
<svg width="395" height="314" viewBox="0 0 395 314" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="395" height="314" rx="11" fill="#439DCD"/>
<rect x="13" y="51" width="366" height="248" rx="8" fill="white"/>
<rect x="22" y="111" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="127" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="63" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="191" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="143" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="79" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="159" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="95" width="92" height="12" rx="6" fill="#DEDEDE"/>
<rect x="22" y="175" width="92" height="12" rx="6" fill="#DEDEDE"/>
<path d="M288 145C277.56 147.8 265.32 149 254 149C242.68 149 230.44 147.8 220 145L218 153C225.44 155 234 156.32 242 157V209H250V185H258V209H266V157C274 156.32 282.56 155 290 153L288 145ZM254 145C258.4 145 262 141.4 262 137C262 132.6 258.4 129 254 129C249.6 129 246 132.6 246 137C246 141.4 249.6 145 254 145Z" fill="#DEDEDE"/>
<path d="M43.5358 13C38.6641 13 34.535 16.2415 33.2552 20.6333C32.143 18.3038 29.7327 16.6718 26.9564 16.6718C23.1385 16.6718 20 19.7521 20 23.4993C20 27.2465 23.1385 30.3282 26.9564 30.3282C29.7327 30.3282 32.1429 28.6952 33.2552 26.3653C34.535 30.7575 38.6641 34 43.5358 34C48.3715 34 52.4796 30.8064 53.7921 26.4637C54.9249 28.7407 57.3053 30.3282 60.0421 30.3282C63.8601 30.3282 67 27.2465 67 23.4993C67 19.7521 63.8601 16.6718 60.0421 16.6718C57.3053 16.6718 54.9249 18.2583 53.7921 20.5349C52.4796 16.1926 48.3715 13 43.5358 13ZM43.5358 17.0079C47.2134 17.0079 50.1512 19.8899 50.1512 23.4993C50.1512 27.1087 47.2134 29.9921 43.5358 29.9921C39.8583 29.9921 36.9218 27.1087 36.9218 23.4993C36.9218 19.8899 39.8583 17.0079 43.5358 17.0079ZM26.9564 20.6797C28.5677 20.6797 29.8307 21.9179 29.8307 23.4993C29.8307 25.0807 28.5677 26.3203 26.9564 26.3203C25.3452 26.3203 24.0836 25.0807 24.0836 23.4993C24.0836 21.9179 25.3452 20.6797 26.9564 20.6797ZM60.0421 20.6797C61.6534 20.6797 62.9164 21.9179 62.9164 23.4993C62.9164 25.0807 61.6534 26.3203 60.0421 26.3203C58.4309 26.3203 57.1693 25.0807 57.1693 23.4993C57.1693 21.9179 58.4309 20.6797 60.0421 20.6797Z" fill="white"/>
<rect x="79" y="20" width="8" height="8" rx="4" fill="white"/>
<rect x="99" y="20" width="8" height="8" rx="4" fill="white"/>
<rect x="119" y="20" width="8" height="8" rx="4" fill="white"/>
<rect x="139" y="20" width="8" height="8" rx="4" fill="white"/>
<rect x="159" y="20" width="8" height="8" rx="4" fill="white"/>
<rect x="179" y="20" width="8" height="8" rx="4" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 0C5.37258 0 0 5.37259 0 12V302C0 308.627 5.37259 314 12 314H383C389.627 314 395 308.627 395 302V12C395 5.37258 389.627 0 383 0H12ZM112 44C119.732 44 126 50.268 126 58V292C126 299.732 119.732 306 112 306H20C12.268 306 6 299.732 6 292V58C6 50.268 12.268 44 20 44H112Z" fill="black" fill-opacity="0.35"/>
</svg>
`,rf={name:"NcContent",components:{NcButton:et,NcIconSvgWrapper:pc},provide(){return{"NcContent:setHasAppNavigation":this.setAppNavigation,"NcContent:selector":"#content-vue"}},props:{appName:{type:String,required:!0}},setup(){return{isMobile:da()}},data(){return{hasAppNavigation:!1,currentFocus:""}},computed:{currentImage(){return this.currentFocus==="navigation"?nf:af}},beforeMount(){const e=document.getElementById("skip-actions");e&&(e.innerHTML="",e.classList.add("vue-skip-actions"))},methods:{t:ee,openAppNavigation(){st("toggle-navigation",{open:!0}),this.$nextTick(()=>{window.location.hash="app-navigation-vue",document.getElementById("app-navigation-vue").focus()})},setAppNavigation(e){this.hasAppNavigation=e,this.currentFocus===""&&(this.currentFocus="navigation")}}},of={class:"vue-skip-actions__container"},sf={class:"vue-skip-actions__headline"},lf={class:"vue-skip-actions__buttons"};function cf(e,a,u,i,r,n){const o=k("NcButton"),s=k("NcIconSvgWrapper");return p(),m("div",{id:"content-vue",class:R(["content",`app-${u.appName.toLowerCase()}`])},[(p(),S(ki,{to:"#skip-actions"},[y("div",of,[y("div",sf,B(n.t("Keyboard navigation help")),1),y("div",lf,[U(g(o,{type:"tertiary",href:"#app-navigation-vue",onClick:ue(n.openAppNavigation,["prevent"]),onFocusin:a[0]||(a[0]=l=>r.currentFocus="navigation"),onMouseover:a[1]||(a[1]=l=>r.currentFocus="navigation")},{default:_(()=>[j(B(n.t("Skip to app navigation")),1)]),_:1},8,["onClick"]),[[oe,r.hasAppNavigation]]),g(o,{type:"tertiary",href:"#app-content-vue",onFocusin:a[2]||(a[2]=l=>r.currentFocus="content"),onMouseover:a[3]||(a[3]=l=>r.currentFocus="content")},{default:_(()=>[j(B(n.t("Skip to main content")),1)]),_:1})]),U(g(s,{class:"vue-skip-actions__image",svg:n.currentImage,size:"auto"},null,8,["svg"]),[[oe,!i.isMobile]])])])),Q(e.$slots,"default",{},void 0,!0)],2)}const df=W(rf,[["render",cf],["__scopeId","data-v-4ac0de46"]]),pf={name:"App",components:{AppNavigation:Um,NcAppContent:uf,NcContent:df},inject:["$OCA"],data(){return{searchString:""}},computed:{...Pe({calendars:"getTaskCalendars"})},mounted(){Vt("nextcloud:unified-search.search",this.filterProxy),Vt("nextcloud:unified-search.reset",this.cleanSearch)},beforeUnmount(){Ht("nextcloud:unified-search.search",this.filterProxy),Ht("nextcloud:unified-search.reset",this.cleanSearch)},async beforeMount(){this.$store.dispatch("loadCollections"),this.$store.dispatch("loadSettings"),await bo.connect({enableCalDAV:!0}),await this.$store.dispatch("fetchCurrentUserPrincipal");let{calendars:e}=await this.$store.dispatch("getCalendarsAndTrashBin");e=e.filter(u=>u.supportsTasks);const a=[];if(e.forEach(u=>{a.indexOf(u.owner)===-1&&a.push(u.owner)}),a.forEach(u=>{this.$store.dispatch("fetchPrincipalByUrl",{url:u})}),e.length===0){const u=this.$OCA.Theming?.color||"#0082C9";await this.$store.dispatch("appendCalendar",{displayName:x("tasks","Tasks"),color:u}),this.fetchTasks()}else this.fetchTasks()},methods:{fetchTasks(){Promise.all(this.calendars.map(e=>this.$store.dispatch("getTasksFromCalendar",{calendar:e,completed:!1,related:null}))).then(()=>{this.loading=!1})},closeAppSidebar(e){!(e.target.closest(".reactive")||e.target.classList.contains("reactive"))&&this.$route.params.taskId&&st("tasks:close-appsidebar")},filterProxy({query:e}){this.filter(e)},filter(e){this.$store.commit("setSearchQuery",e)},cleanSearch(){this.$store.commit("setSearchQuery","")}}};function hf(e,a,u,i,r,n){const o=k("AppNavigation"),s=k("RouterView"),l=k("NcAppContent"),c=k("NcContent");return p(),S(c,{"app-name":"tasks"},{default:_(()=>[g(o,{onClick:a[0]||(a[0]=h=>n.closeAppSidebar(h))}),g(l,{onClick:a[1]||(a[1]=h=>n.closeAppSidebar(h))},{default:_(()=>[g(s)]),_:1}),g(s,{name:"AppSidebar"})]),_:1})}const mf=I(pf,[["render",hf],["__scopeId","data-v-b978984d"]]);function ff(){try{return To("tasks","initialRoute")}catch{return"/collections/all"}}const Ff={props:{id:{type:String,required:!0},checked:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},propertyString:{type:String,default:""}},emits:["set-checked"]},gf=["id","name","aria-checked","checked","disabled"],Cf=["for"];function kf(e,a,u,i,r,n){return p(),m("div",{class:R(["property__item",{"property__item--disabled":u.readOnly}])},[y("input",{id:u.id,type:"checkbox",class:"checkbox",name:u.id,"aria-checked":u.checked,checked:u.checked,disabled:u.readOnly,onClick:a[0]||(a[0]=o=>e.$emit("set-checked",u.checked))},null,8,gf),y("label",{for:u.id},[y("span",null,B(u.propertyString),1)],8,Cf)],2)}const yf=I(Ff,[["render",kf],["__scopeId","data-v-a0fee81f"]]),on={components:{NcActions:Xt,NcActionButton:At,Check:ou,Delete:Kt},directives:{ClickOutside:ha},props:{readOnly:{type:Boolean,default:!1},propertyString:{type:String,default:""},task:{type:Object,required:!0}},data(){return{newValue:this.value,editing:!1}},beforeDestroy(){this.setValue()},watch:{task(e,a){this.setValue(a)}},methods:{setValue(e=this.task){this.editing&&this.$emit("set-value",{task:e,value:this.newValue}),this.setEditing(!1)},clearValue(){this.$emit("set-value",{task:this.task,value:null}),this.setEditing(!1)},setEditing(e,a){this.readOnly||a?.target.tagName!=="A"&&(!this.editing&&e&&(this.newValue=this.value),this.editing=e,this.$emit("editing",this.editing),this.editingEnabled())},editingEnabled(){}}};$e(hc);function _f(e=[],a=[]){const u={},i=[];for(const r of e){const n=r.split("/");let[o,s]=[n.shift(),n.join("/")];s||(s=o,o=ee("Global")),u[o]=u[o]||{continent:o,regions:[]},u[o].regions.push({label:Fs(s),cities:[],timezoneId:r})}for(const r of a){const{continent:n,label:o,timezoneId:s}=r;u[n]=u[n]||{continent:n,regions:[]},u[n].regions.push({label:o,cities:[],timezoneId:s})}for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&(u[r].regions.sort((n,o)=>n.label<o.label?-1:1),i.push(u[r]));return i.sort((r,n)=>r.continent<n.continent?-1:1),i}function Fs(e){return e.split("_").join(" ").replace("St ","St. ").split("/").join(" - ")}const fr=fc();let Fr=!1;function bf(){return Fr||(fr.registerDefaultTimezones(),Fr=!0),fr}$e(mc);const Df={name:"NcTimezonePicker",components:{NcSelect:ca},props:{additionalTimezones:{type:Array,default:()=>[]},modelValue:{type:String,default:"floating"},uid:{type:[String,Number],default:()=>`tz-${Wt(5)}`}},emits:["update:modelValue"],computed:{placeholder(){return ee("Type to search time zone")},selectedTimezone(){for(const e of this.additionalTimezones)if(e.timezoneId===this.modelValue)return e;return{label:Fs(this.modelValue),timezoneId:this.modelValue}},options(){const e=bf(),a=_f(e.listAllTimezones(),this.additionalTimezones);let u=[];return Object.values(a).forEach(i=>{u=u.concat(i.regions)}),u}},methods:{t:ee,change(e){e&&this.$emit("update:modelValue",e.timezoneId)},isSelectable(e){return!e.timezoneId.startsWith("tz-group__")},filterBy(e,a,u){const i=u.trim().split(" ");return e.timezoneId.startsWith("tz-group__")?e.regions.some(r=>this.matchTimezoneId(r.timezoneId,i)):this.matchTimezoneId(e.timezoneId,i)},matchTimezoneId(e,a){return a.every(u=>e.toLowerCase().includes(u.toLowerCase()))}}};function vf(e,a,u,i,r,n){const o=k("NcSelect");return p(),S(o,{"aria-label-combobox":n.t("Search for time zone"),clearable:!1,"filter-by":n.filterBy,"model-value":n.selectedTimezone,multiple:!1,options:n.options,placeholder:n.placeholder,selectable:n.isSelectable,uid:u.uid,label:"label","onOption:selected":n.change},null,8,["aria-label-combobox","filter-by","model-value","options","placeholder","selectable","uid","onOption:selected"])}const Ef=W(Df,[["render",vf]]);function gs(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function sn(e){return gs(e)?new Date(e.getTime()):e==null?new Date(NaN):new Date(e)}function Af(e){return gs(e)&&!isNaN(e.getTime())}function Cs(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var u=sn(e),i=u.getDay(),r=(i+7-a)%7;return u.setDate(u.getDate()-r),u.setHours(0,0,0,0),u}function ks(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.firstDayOfWeek,i=u===void 0?0:u,r=a.firstWeekContainsDate,n=r===void 0?1:r;if(!(n>=1&&n<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7");for(var o=sn(e),s=o.getFullYear(),l=new Date(0),c=s+1;c>=s-1&&(l.setFullYear(c,0,n),l.setHours(0,0,0,0),l=Cs(l,i),!(o.getTime()>=l.getTime()));c--);return l}function wi(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.firstDayOfWeek,i=u===void 0?0:u,r=a.firstWeekContainsDate,n=r===void 0?1:r,o=sn(e),s=Cs(o,i),l=ks(o,{firstDayOfWeek:i,firstWeekContainsDate:n}),c=s.getTime()-l.getTime();return Math.round(c/(7*24*3600*1e3))+1}var Bi={months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],firstDayOfWeek:0,firstWeekContainsDate:1},wf=/\[([^\]]+)]|YYYY|YY?|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|Z{1,2}|S{1,3}|w{1,2}|x|X|a|A/g;function Xe(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,u="".concat(Math.abs(e)),i=e<0?"-":"";u.length<a;)u="0".concat(u);return i+u}function gr(e){return Math.round(e.getTimezoneOffset()/15)*15}function Cr(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",u=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),n=i%60;return u+Xe(r,2)+a+Xe(n,2)}var kr=function(e,a,u){var i=e<12?"AM":"PM";return u?i.toLocaleLowerCase():i},Xu={Y:function(e){var a=e.getFullYear();return a<=9999?"".concat(a):"+".concat(a)},YY:function(e){return Xe(e.getFullYear(),4).substr(2)},YYYY:function(e){return Xe(e.getFullYear(),4)},M:function(e){return e.getMonth()+1},MM:function(e){return Xe(e.getMonth()+1,2)},MMM:function(e,a){return a.monthsShort[e.getMonth()]},MMMM:function(e,a){return a.months[e.getMonth()]},D:function(e){return e.getDate()},DD:function(e){return Xe(e.getDate(),2)},H:function(e){return e.getHours()},HH:function(e){return Xe(e.getHours(),2)},h:function(e){var a=e.getHours();return a===0?12:a>12?a%12:a},hh:function(){var e=Xu.h.apply(Xu,arguments);return Xe(e,2)},m:function(e){return e.getMinutes()},mm:function(e){return Xe(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return Xe(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return Xe(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return Xe(e.getMilliseconds(),3)},d:function(e){return e.getDay()},dd:function(e,a){return a.weekdaysMin[e.getDay()]},ddd:function(e,a){return a.weekdaysShort[e.getDay()]},dddd:function(e,a){return a.weekdays[e.getDay()]},A:function(e,a){var u=a.meridiem||kr;return u(e.getHours(),e.getMinutes(),!1)},a:function(e,a){var u=a.meridiem||kr;return u(e.getHours(),e.getMinutes(),!0)},Z:function(e){return Cr(gr(e),":")},ZZ:function(e){return Cr(gr(e))},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()},w:function(e,a){return wi(e,{firstDayOfWeek:a.firstDayOfWeek,firstWeekContainsDate:a.firstWeekContainsDate})},ww:function(e,a){return Xe(Xu.w(e,a),2)}};function xi(e,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=a?String(a):"YYYY-MM-DDTHH:mm:ss.SSSZ",r=sn(e);if(!Af(r))return"Invalid Date";var n=u.locale||Bi;return i.replace(wf,function(o,s){return s||(typeof Xu[o]=="function"?"".concat(Xu[o](r,n)):o)})}function yr(e){return Sf(e)||xf(e)||Bf()}function Bf(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function xf(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Sf(e){if(Array.isArray(e)){for(var a=0,u=new Array(e.length);a<e.length;a++)u[a]=e[a];return u}}function _r(e,a){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),u.push.apply(u,i)}return u}function Tf(e){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?_r(u,!0).forEach(function(i){Ot(e,i,u[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):_r(u).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(u,i))})}return e}function Mf(e,a){return Nf(e)||Lf(e,a)||zf()}function zf(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Lf(e,a){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]"){var u=[],i=!0,r=!1,n=void 0;try{for(var o=e[Symbol.iterator](),s;!(i=(s=o.next()).done)&&(u.push(s.value),!(a&&u.length===a));i=!0);}catch(l){r=!0,n=l}finally{try{!i&&o.return!=null&&o.return()}finally{if(r)throw n}}return u}}function Nf(e){if(Array.isArray(e))return e}function Ot(e,a,u){return a in e?Object.defineProperty(e,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[a]=u,e}var $f=/(\[[^\[]*\])|(MM?M?M?|Do|DD?|ddd?d?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|S{1,3}|x|X|ZZ?|.)/g,ys=/\d/,Tt=/\d\d/,Of=/\d{3}/,If=/\d{4}/,fu=/\d\d?/,Pf=/[+-]\d\d:?\d\d/,_s=/[+-]?\d+/,Vf=/[+-]?\d+(\.\d{1,3})?/,Mn="year",Da="month",br="day",Dr="hour",vr="minute",Er="second",zn="millisecond",bs={},ce=function(e,a,u){var i=Array.isArray(e)?e:[e],r;typeof u=="string"?r=function(n){var o=parseInt(n,10);return Ot({},u,o)}:r=u,i.forEach(function(n){bs[n]=[a,r]})},Hf=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Ku=function(e){return function(a){var u=a[e];if(!Array.isArray(u))throw new Error("Locale[".concat(e,"] need an array"));return new RegExp(u.map(Hf).join("|"))}},Qu=function(e,a){return function(u,i){var r=i[e];if(!Array.isArray(r))throw new Error("Locale[".concat(e,"] need an array"));var n=r.indexOf(u);if(n<0)throw new Error("Invalid Word");return Ot({},a,n)}};ce("Y",_s,Mn),ce("YY",Tt,function(e){var a=new Date().getFullYear(),u=Math.floor(a/100),i=parseInt(e,10);return i=(i>68?u-1:u)*100+i,Ot({},Mn,i)}),ce("YYYY",If,Mn),ce("M",fu,function(e){return Ot({},Da,parseInt(e,10)-1)}),ce("MM",Tt,function(e){return Ot({},Da,parseInt(e,10)-1)}),ce("MMM",Ku("monthsShort"),Qu("monthsShort",Da)),ce("MMMM",Ku("months"),Qu("months",Da)),ce("D",fu,br),ce("DD",Tt,br),ce(["H","h"],fu,Dr),ce(["HH","hh"],Tt,Dr),ce("m",fu,vr),ce("mm",Tt,vr),ce("s",fu,Er),ce("ss",Tt,Er),ce("S",ys,function(e){return Ot({},zn,parseInt(e,10)*100)}),ce("SS",Tt,function(e){return Ot({},zn,parseInt(e,10)*10)}),ce("SSS",Of,zn);function Rf(e){return e.meridiemParse||/[ap]\.?m?\.?/i}function Uf(e){return"".concat(e).toLowerCase().charAt(0)==="p"}ce(["A","a"],Rf,function(e,a){var u=typeof a.isPM=="function"?a.isPM(e):Uf(e);return{isPM:u}});function jf(e){var a=e.match(/([+-]|\d\d)/g)||["-","0","0"],u=Mf(a,3),i=u[0],r=u[1],n=u[2],o=parseInt(r,10)*60+parseInt(n,10);return o===0?0:i==="+"?-o:+o}ce(["Z","ZZ"],Pf,function(e){return{offset:jf(e)}}),ce("x",_s,function(e){return{date:new Date(parseInt(e,10))}}),ce("X",Vf,function(e){return{date:new Date(parseFloat(e)*1e3)}}),ce("d",ys,"weekday"),ce("dd",Ku("weekdaysMin"),Qu("weekdaysMin","weekday")),ce("ddd",Ku("weekdaysShort"),Qu("weekdaysShort","weekday")),ce("dddd",Ku("weekdays"),Qu("weekdays","weekday")),ce("w",fu,"week"),ce("ww",Tt,"week");function qf(e,a){if(e!==void 0&&a!==void 0){if(a){if(e<12)return e+12}else if(e===12)return 0}return e}function Wf(e){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Date,u=[0,0,1,0,0,0,0],i=[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()],r=!0,n=0;n<7;n++)e[n]===void 0?u[n]=r?i[n]:u[n]:(u[n]=e[n],r=!1);return u}function Yf(e,a,u,i,r,n,o){var s;return e<100&&e>=0?(s=new Date(e+400,a,u,i,r,n,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,a,u,i,r,n,o),s}function Zf(){for(var e,a=arguments.length,u=new Array(a),i=0;i<a;i++)u[i]=arguments[i];var r=u[0];return r<100&&r>=0?(u[0]+=400,e=new Date(Date.UTC.apply(Date,u)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(r)):e=new Date(Date.UTC.apply(Date,u)),e}function Gf(e,a,u){var i=a.match($f);if(!i)throw new Error;for(var r=i.length,n={},o=0;o<r;o+=1){var s=i[o],l=bs[s];if(l){var c=typeof l[0]=="function"?l[0](u):l[0],h=l[1],d=(c.exec(e)||[])[0],F=h(d,u);n=Tf({},n,{},F),e=e.replace(d,"")}else{var f=s.replace(/^\[|\]$/g,"");if(e.indexOf(f)===0)e=e.substr(f.length);else throw new Error("not match")}}return n}function Xf(e,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{var i=u.locale,r=i===void 0?Bi:i,n=u.backupDate,o=n===void 0?new Date:n,s=Gf(e,a,r),l=s.year,c=s.month,h=s.day,d=s.hour,F=s.minute,f=s.second,C=s.millisecond,v=s.isPM,b=s.date,D=s.offset,E=s.weekday,A=s.week;if(b)return b;var z=[l,c,h,d,F,f,C];if(z[3]=qf(z[3],v),A!==void 0&&c===void 0&&h===void 0){var $=ks(l===void 0?o:new Date(l,3),{firstDayOfWeek:r.firstDayOfWeek,firstWeekContainsDate:r.firstWeekContainsDate});return new Date($.getTime()+(A-1)*7*24*3600*1e3)}var T,N=Wf(z,o);return D!==void 0?(N[6]+=D*60*1e3,T=Zf.apply(void 0,yr(N))):T=Yf.apply(void 0,yr(N)),E!==void 0&&T.getDay()!==E?new Date(NaN):T}catch{return new Date(NaN)}}var Kf=Object.defineProperty,Qf=Object.defineProperties,Jf=Object.getOwnPropertyDescriptors,qa=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable,Ar=(e,a,u)=>a in e?Kf(e,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[a]=u,Te=(e,a)=>{for(var u in a||(a={}))Ds.call(a,u)&&Ar(e,u,a[u]);if(qa)for(var u of qa(a))vs.call(a,u)&&Ar(e,u,a[u]);return e},nt=(e,a)=>Qf(e,Jf(a)),eF=(e,a)=>{var u={};for(var i in e)Ds.call(e,i)&&a.indexOf(i)<0&&(u[i]=e[i]);if(e!=null&&qa)for(var i of qa(e))a.indexOf(i)<0&&vs.call(e,i)&&(u[i]=e[i]);return u};const tF={formatLocale:Bi,yearFormat:"YYYY",monthFormat:"MMM",monthBeforeYear:!0};let Iu="en";const Fu={};Fu[Iu]=tF;function Es(e,a,u=!1){if(typeof e!="string")return Fu[Iu];let i=Iu;return Fu[e]&&(i=e),a&&(Fu[e]=a,i=e),u||(Iu=i),Fu[e]||Fu[Iu]}function ii(e){return Es(e,void 0,!0)}function Si(e,a){if(!Array.isArray(e))return[];const u=[],i=e.length;let r=0;for(a=a||i;r<i;)u.push(e.slice(r,r+=a));return u}function wr(e){return Array.isArray(e)?e[e.length-1]:void 0}function Ut(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dt(e,a){const u={};return Ut(e)&&(Array.isArray(a)||(a=[a]),a.forEach(i=>{Object.prototype.hasOwnProperty.call(e,i)&&(u[i]=e[i])})),u}function As(e,a){if(!Ut(e))return{};let u=e;return Ut(a)&&Object.keys(a).forEach(i=>{let r=a[i];const n=e[i];Ut(r)&&Ut(n)&&(r=As(n,r)),u=nt(Te({},u),{[i]:r})}),u}function Ln(e){const a=parseInt(String(e),10);return a<10?`0${a}`:`${a}`}function uF(e){const a=/-(\w)/g;return e.replace(a,(u,i)=>i?i.toUpperCase():"")}const ws="datepicker_locale",Bs="datepicker_prefixClass",xs="datepicker_getWeek";function Ti(){return Zt(ws,Mo(ii()))}function aF(e){const a=de(()=>Ut(e.value)?As(ii(),e.value):ii(e.value));return Du(ws,a),a}function nF(e){Du(Bs,e)}function Ve(){return Zt(Bs,"mx")}function iF(e){Du(xs,e)}function rF(){return Zt(xs,wi)}function oF(e){const a=e.style.display,u=e.style.visibility;e.style.display="block",e.style.visibility="hidden";const i=window.getComputedStyle(e),r=e.offsetWidth+parseInt(i.marginLeft,10)+parseInt(i.marginRight,10),n=e.offsetHeight+parseInt(i.marginTop,10)+parseInt(i.marginBottom,10);return e.style.display=a,e.style.visibility=u,{width:r,height:n}}function sF(e,a,u,i){let r=0,n=0,o=0,s=0;const l=e.getBoundingClientRect(),c=document.documentElement.clientWidth,h=document.documentElement.clientHeight;return i&&(o=window.pageXOffset+l.left,s=window.pageYOffset+l.top),c-l.left<a&&l.right<a?r=o-l.left+1:l.left+l.width/2<=c/2?r=o:r=o+l.width-a,l.top<=u&&h-l.bottom<=u?n=s+h-l.top-u:l.top+l.height/2<=h/2?n=s+l.height:n=s-u,{left:`${r}px`,top:`${n}px`}}function Mi(e,a=document.body){if(!e||e===a)return null;const u=(i,r)=>getComputedStyle(i,null).getPropertyValue(r);return/(auto|scroll)/.test(u(e,"overflow")+u(e,"overflow-y")+u(e,"overflow-x"))?e:Mi(e.parentElement,a)}let va;function lF(){if(typeof window>"u")return 0;if(va!==void 0)return va;const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const a=document.createElement("div");return a.style.width="100%",e.appendChild(a),va=e.offsetWidth-a.offsetWidth,e.parentNode.removeChild(e),va}const Br="ontouchend"in document?"touchstart":"mousedown";function cF(e){let a=!1;return function(...u){a||(a=!0,requestAnimationFrame(()=>{a=!1,e.apply(this,u)}))}}function Bt(e,a){return{setup:e,name:e.name,props:a}}function xt(e,a){return new Proxy(e,{get(u,i){const r=u[i];return r!==void 0?r:a[i]}})}const Qt=()=>e=>e,dF=(e,a)=>{const u={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const r=uF(i);let n=e[i];a.indexOf(r)!==-1&&n===""&&(n=!0),u[r]=n}return u};function pF(e,{slots:a}){const u=xt(e,{appendToBody:!0}),i=Ve(),r=se(null),n=se({left:"",top:""}),o=()=>{if(!u.visible||!r.value)return;const l=u.getRelativeElement();if(!l)return;const{width:c,height:h}=oF(r.value);n.value=sF(l,c,h,u.appendToBody)};Je(o,{flush:"post"}),Je(l=>{const c=u.getRelativeElement();if(!c)return;const h=Mi(c)||window,d=cF(o);h.addEventListener("scroll",d),window.addEventListener("resize",d),l(()=>{h.removeEventListener("scroll",d),window.removeEventListener("resize",d)})},{flush:"post"});const s=l=>{if(!u.visible)return;const c=l.target,h=r.value,d=u.getRelativeElement();h&&!h.contains(c)&&d&&!d.contains(c)&&u.onClickOutside(l)};return Je(l=>{document.addEventListener(Br,s),l(()=>{document.removeEventListener(Br,s)})}),()=>g(ki,{to:"body",disabled:!u.appendToBody},{default:()=>[g(fi,{name:`${i}-zoom-in-down`},{default:()=>{var l;return[u.visible&&g("div",{ref:r,class:`${i}-datepicker-main ${i}-datepicker-popup ${u.className}`,style:[Te({position:"absolute"},n.value),u.style||{}]},[(l=a.default)==null?void 0:l.call(a)])]}})]})}const hF=Qt()(["style","className","visible","appendToBody","onClickOutside","getRelativeElement"]);var mF=Bt(pF,hF);const fF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},FF=y("path",{d:"M940.218 107.055H730.764v-60.51H665.6v60.51H363.055v-60.51H297.89v60.51H83.78c-18.617 0-32.581 13.963-32.581 32.581v805.237c0 18.618 13.964 32.582 32.582 32.582h861.09c18.619 0 32.583-13.964 32.583-32.582V139.636c-4.655-18.618-18.619-32.581-37.237-32.581zm-642.327 65.163v60.51h65.164v-60.51h307.2v60.51h65.163v-60.51h176.873v204.8H116.364v-204.8H297.89zM116.364 912.291V442.18H912.29v470.11H116.364z"},null,-1),gF=[FF];function Ss(e,a){return p(),m("svg",fF,gF)}const CF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},kF=y("path",{d:"M810.005 274.005 572.011 512l237.994 237.995-60.01 60.01L512 572.011 274.005 810.005l-60.01-60.01L451.989 512 213.995 274.005l60.01-60.01L512 451.989l237.995-237.994z"},null,-1),yF=[kF];function _F(e,a){return p(),m("svg",CF,yF)}const bF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em"},DF=y("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),vF=y("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},null,-1),EF=y("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},null,-1),AF=[DF,vF,EF];function wF(e,a){return p(),m("svg",bF,AF)}function uu(e,a=0,u=1,i=0,r=0,n=0,o=0){const s=new Date(e,a,u,i,r,n,o);return e<100&&e>=0&&s.setFullYear(e),s}function Et(e){return e instanceof Date&&!isNaN(e.getTime())}function au(e){return Array.isArray(e)&&e.length===2&&e.every(Et)&&e[0]<=e[1]}function BF(e){return Array.isArray(e)&&e.every(Et)}function ln(...e){if(e[0]!==void 0&&e[0]!==null){const u=new Date(e[0]);if(Et(u))return u}const a=e.slice(1);return a.length?ln(...a):new Date}function xF(e){const a=new Date(e);return a.setMonth(0,1),a.setHours(0,0,0,0),a}function xr(e){const a=new Date(e);return a.setDate(1),a.setHours(0,0,0,0),a}function Gt(e){const a=new Date(e);return a.setHours(0,0,0,0),a}function SF({firstDayOfWeek:e,year:a,month:u}){const i=[],r=uu(a,u,0),n=r.getDate(),o=n-(r.getDay()+7-e)%7;for(let h=o;h<=n;h++)i.push(uu(a,u,h-n));r.setMonth(u+1,0);const s=r.getDate();for(let h=1;h<=s;h++)i.push(uu(a,u,h));const l=n-o+1,c=6*7-l-s;for(let h=1;h<=c;h++)i.push(uu(a,u,s+h));return i}function Wa(e,a){const u=new Date(e),i=typeof a=="function"?a(u.getMonth()):Number(a),r=u.getFullYear(),n=uu(r,i+1,0).getDate(),o=u.getDate();return u.setMonth(i,Math.min(o,n)),u}function _u(e,a){const u=new Date(e),i=typeof a=="function"?a(u.getFullYear()):a;return u.setFullYear(i),u}function TF(e,a){const u=new Date(a),i=new Date(e),r=u.getFullYear()-i.getFullYear(),n=u.getMonth()-i.getMonth();return r*12+n}function Ya(e,a){const u=new Date(e),i=new Date(a);return u.setHours(i.getHours(),i.getMinutes(),i.getSeconds()),u}function MF(e,{slots:a}){const u=xt(e,{editable:!0,disabled:!1,clearable:!0,range:!1,multiple:!1}),i=Ve(),r=se(null),n=de(()=>u.separator||(u.range?" ~ ":",")),o=f=>u.range?au(f):u.multiple?BF(f):Et(f),s=f=>Array.isArray(f)?f.some(C=>u.disabledDate(C)):u.disabledDate(f),l=de(()=>r.value!==null?r.value:typeof u.renderInputText=="function"?u.renderInputText(u.value):o(u.value)?Array.isArray(u.value)?u.value.map(f=>u.formatDate(f)).join(n.value):u.formatDate(u.value):""),c=f=>{var C;f&&f.stopPropagation(),u.onChange(u.range?[null,null]:null),(C=u.onClear)==null||C.call(u)},h=()=>{var f;if(!u.editable||r.value===null)return;const C=r.value.trim();if(r.value=null,C===""){c();return}let v;if(u.range){let b=C.split(n.value);b.length!==2&&(b=C.split(n.value.trim())),v=b.map(D=>u.parseDate(D.trim()))}else u.multiple?v=C.split(n.value).map(b=>u.parseDate(b.trim())):v=u.parseDate(C);o(v)&&!s(v)?u.onChange(v):(f=u.onInputError)==null||f.call(u,C)},d=f=>{r.value=typeof f=="string"?f:f.target.value},F=f=>{const{keyCode:C}=f;C===9?u.onBlur():C===13&&h()};return()=>{var f,C,v;const b=!u.disabled&&u.clearable&&l.value,D=nt(Te({name:"date",type:"text",autocomplete:"off",value:l.value,class:u.inputClass||`${i}-input`,readonly:!u.editable,disabled:u.disabled,placeholder:u.placeholder},u.inputAttr),{onFocus:u.onFocus,onKeydown:F,onInput:d,onChange:h});return g("div",{class:`${i}-input-wrapper`,onClick:u.onClick},[((f=a.input)==null?void 0:f.call(a,D))||g("input",D,null),b?g("i",{class:`${i}-icon-clear`,onClick:c},[((C=a["icon-clear"])==null?void 0:C.call(a))||g(_F,null,null)]):null,g("i",{class:`${i}-icon-calendar`},[((v=a["icon-calendar"])==null?void 0:v.call(a))||g(Ss,null,null)])])}}const zi=Qt()(["placeholder","editable","disabled","clearable","inputClass","inputAttr","range","multiple","separator","renderInputText","onInputError","onClear"]),zF=Qt()(["value","formatDate","parseDate","disabledDate","onChange","onFocus","onBlur","onClick",...zi]);var LF=Bt(MF,zF);function NF(e,{slots:a}){var u;const i=xt(e,{prefixClass:"mx",valueType:"date",format:"YYYY-MM-DD",type:"date",disabledDate:()=>!1,disabledTime:()=>!1,confirmText:"OK"});nF(i.prefixClass),iF(((u=i.formatter)==null?void 0:u.getWeek)||wi);const r=aF(Eo(e,"lang")),n=se(),o=()=>n.value,s=se(!1),l=de(()=>!i.disabled&&(typeof i.open=="boolean"?i.open:s.value)),c=()=>{var T,N;i.disabled||l.value||(s.value=!0,(T=i["onUpdate:open"])==null||T.call(i,!0),(N=i.onOpen)==null||N.call(i))},h=()=>{var T,N;l.value&&(s.value=!1,(T=i["onUpdate:open"])==null||T.call(i,!1),(N=i.onClose)==null||N.call(i))},d=(T,N)=>(N=N||i.format,Ut(i.formatter)&&typeof i.formatter.stringify=="function"?i.formatter.stringify(T,N):xi(T,N,{locale:r.value.formatLocale})),F=(T,N)=>{if(N=N||i.format,Ut(i.formatter)&&typeof i.formatter.parse=="function")return i.formatter.parse(T,N);const G=new Date;return Xf(T,N,{locale:r.value.formatLocale,backupDate:G})},f=T=>{switch(i.valueType){case"date":return T instanceof Date?new Date(T.getTime()):new Date(NaN);case"timestamp":return typeof T=="number"?new Date(T):new Date(NaN);case"format":return typeof T=="string"?F(T):new Date(NaN);default:return typeof T=="string"?F(T,i.valueType):new Date(NaN)}},C=T=>{if(!Et(T))return null;switch(i.valueType){case"date":return T;case"timestamp":return T.getTime();case"format":return d(T);default:return d(T,i.valueType)}},v=de(()=>{const T=i.value;return i.range?(Array.isArray(T)?T.slice(0,2):[null,null]).map(f):i.multiple?(Array.isArray(T)?T:[]).map(f):f(T)}),b=(T,N,G=!0)=>{var P,ae;const pe=Array.isArray(T)?T.map(C):C(T);return(P=i["onUpdate:value"])==null||P.call(i,pe),(ae=i.onChange)==null||ae.call(i,pe,N),G&&h(),pe},D=se(new Date);Je(()=>{l.value&&(D.value=v.value)});const E=(T,N)=>{i.confirm?D.value=T:b(T,N,!i.multiple&&(N===i.type||N==="time"))},A=()=>{var T;const N=b(D.value);(T=i.onConfirm)==null||T.call(i,N)},z=T=>i.disabledDate(T)||i.disabledTime(T),$=T=>{var N;const{prefixClass:G}=i;return g("div",{class:`${G}-datepicker-sidebar`},[(N=a.sidebar)==null?void 0:N.call(a,T),(i.shortcuts||[]).map((P,ae)=>g("button",{key:ae,"data-index":ae,type:"button",class:`${G}-btn ${G}-btn-text ${G}-btn-shortcut`,onClick:()=>{var pe;const ge=(pe=P.onClick)==null?void 0:pe.call(P);ge&&b(ge)}},[P.text]))])};return()=>{var T,N;const{prefixClass:G,disabled:P,confirm:ae,range:pe,popupClass:ge,popupStyle:_e,appendToBody:be}=i,X={value:D.value,"onUpdate:value":E,emit:b},fe=a.header&&g("div",{class:`${G}-datepicker-header`},[a.header(X)]),De=(a.footer||ae)&&g("div",{class:`${G}-datepicker-footer`},[(T=a.footer)==null?void 0:T.call(a,X),ae&&g("button",{type:"button",class:`${G}-btn ${G}-datepicker-btn-confirm`,onClick:A},[i.confirmText])]),He=(N=a.content)==null?void 0:N.call(a,X),ct=(a.sidebar||i.shortcuts)&&$(X);return g("div",{ref:n,class:{[`${G}-datepicker`]:!0,[`${G}-datepicker-range`]:pe,disabled:P}},[g(LF,nt(Te({},Dt(i,zi)),{value:v.value,formatDate:d,parseDate:F,disabledDate:z,onChange:b,onClick:c,onFocus:c,onBlur:h}),Dt(a,["icon-calendar","icon-clear","input"])),g(mF,{className:ge,style:_e,visible:l.value,appendToBody:be,getRelativeElement:o,onClickOutside:h},{default:()=>[ct,g("div",{class:`${G}-datepicker-content`},[fe,He,De])]})])}}const $F=Qt()(["value","valueType","type","format","formatter","lang","prefixClass","appendToBody","open","popupClass","popupStyle","confirm","confirmText","shortcuts","disabledDate","disabledTime","onOpen","onClose","onConfirm","onChange","onUpdate:open","onUpdate:value"]),OF=[...$F,...zi];var Sr=Bt(NF,OF);function Ea(e){var a=e,{value:u}=a,i=eF(a,["value"]);const r=Ve();return g("button",nt(Te({},i),{type:"button",class:`${r}-btn ${r}-btn-text ${r}-btn-icon-${u}`}),[g("i",{class:`${r}-icon-${u}`},null)])}function Li({type:e,calendar:a,onUpdateCalendar:u},{slots:i}){var r;const n=Ve(),o=()=>{u(Wa(a,F=>F-1))},s=()=>{u(Wa(a,F=>F+1))},l=()=>{u(_u(a,F=>F-1))},c=()=>{u(_u(a,F=>F+1))},h=()=>{u(_u(a,F=>F-10))},d=()=>{u(_u(a,F=>F+10))};return g("div",{class:`${n}-calendar-header`},[g(Ea,{value:"double-left",onClick:e==="year"?h:l},null),e==="date"&&g(Ea,{value:"left",onClick:o},null),g(Ea,{value:"double-right",onClick:e==="year"?d:c},null),e==="date"&&g(Ea,{value:"right",onClick:s},null),g("span",{class:`${n}-calendar-header-label`},[(r=i.default)==null?void 0:r.call(i)])])}function IF({calendar:e,isWeekMode:a,showWeekNumber:u,titleFormat:i,getWeekActive:r,getCellClasses:n,onSelect:o,onUpdatePanel:s,onUpdateCalendar:l,onDateMouseEnter:c,onDateMouseLeave:h}){const d=Ve(),F=rF(),f=Ti().value,{yearFormat:C,monthBeforeYear:v,monthFormat:b="MMM",formatLocale:D}=f,E=D.firstDayOfWeek||0;let A=f.days||D.weekdaysMin;A=A.concat(A).slice(E,E+7);const z=e.getFullYear(),$=e.getMonth(),T=Si(SF({firstDayOfWeek:E,year:z,month:$}),7),N=(X,fe)=>xi(X,fe,{locale:f.formatLocale}),G=X=>{s(X)},P=X=>{const fe=X.getAttribute("data-index"),[De,He]=fe.split(",").map(kt=>parseInt(kt,10)),ct=T[De][He];return new Date(ct)},ae=X=>{o(P(X.currentTarget))},pe=X=>{c&&c(P(X.currentTarget))},ge=X=>{h&&h(P(X.currentTarget))},_e=g("button",{type:"button",class:`${d}-btn ${d}-btn-text ${d}-btn-current-year`,onClick:()=>G("year")},[N(e,C)]),be=g("button",{type:"button",class:`${d}-btn ${d}-btn-text ${d}-btn-current-month`,onClick:()=>G("month")},[N(e,b)]);return u=typeof u=="boolean"?u:a,g("div",{class:[`${d}-calendar ${d}-calendar-panel-date`,{[`${d}-calendar-week-mode`]:a}]},[g(Li,{type:"date",calendar:e,onUpdateCalendar:l},{default:()=>[v?[be,_e]:[_e,be]]}),g("div",{class:`${d}-calendar-content`},[g("table",{class:`${d}-table ${d}-table-date`},[g("thead",null,[g("tr",null,[u&&g("th",{class:`${d}-week-number-header`},null),A.map(X=>g("th",{key:X},[X]))])]),g("tbody",null,[T.map((X,fe)=>g("tr",{key:fe,class:[`${d}-date-row`,{[`${d}-active-week`]:r(X)}]},[u&&g("td",{class:`${d}-week-number`,"data-index":`${fe},0`,onClick:ae},[g("div",null,[F(X[0])])]),X.map((De,He)=>g("td",{key:He,class:["cell",n(De)],title:N(De,i),"data-index":`${fe},${He}`,onClick:ae,onMouseenter:pe,onMouseleave:ge},[g("div",null,[De.getDate()])]))]))])])])])}function PF({calendar:e,getCellClasses:a,onSelect:u,onUpdateCalendar:i,onUpdatePanel:r}){const n=Ve(),o=Ti().value,s=o.months||o.formatLocale.monthsShort,l=h=>uu(e.getFullYear(),h),c=h=>{const d=h.currentTarget.getAttribute("data-month");u(l(parseInt(d,10)))};return g("div",{class:`${n}-calendar ${n}-calendar-panel-month`},[g(Li,{type:"month",calendar:e,onUpdateCalendar:i},{default:()=>[g("button",{type:"button",class:`${n}-btn ${n}-btn-text ${n}-btn-current-year`,onClick:()=>r("year")},[e.getFullYear()])]}),g("div",{class:`${n}-calendar-content`},[g("table",{class:`${n}-table ${n}-table-month`},[Si(s,3).map((h,d)=>g("tr",{key:d},[h.map((F,f)=>{const C=d*3+f;return g("td",{key:f,class:["cell",a(l(C))],"data-month":C,onClick:c},[g("div",null,[F])])})]))])])])}const VF=e=>{const a=Math.floor(e.getFullYear()/10)*10,u=[];for(let i=0;i<10;i++)u.push(a+i);return Si(u,2)};function HF({calendar:e,getCellClasses:a=()=>[],getYearPanel:u=VF,onSelect:i,onUpdateCalendar:r}){const n=Ve(),o=d=>uu(d,0),s=d=>{const F=d.currentTarget.getAttribute("data-year");i(o(parseInt(F,10)))},l=u(new Date(e)),c=l[0][0],h=wr(wr(l));return g("div",{class:`${n}-calendar ${n}-calendar-panel-year`},[g(Li,{type:"year",calendar:e,onUpdateCalendar:r},{default:()=>[g("span",null,[c]),g("span",{class:`${n}-calendar-decade-separator`},null),g("span",null,[h])]}),g("div",{class:`${n}-calendar-content`},[g("table",{class:`${n}-table ${n}-table-year`},[l.map((d,F)=>g("tr",{key:F},[d.map((f,C)=>g("td",{key:C,class:["cell",a(o(f))],"data-year":f,onClick:s},[g("div",null,[f])]))]))])])])}function RF(e){const a=xt(e,{defaultValue:Gt(new Date),type:"date",disabledDate:()=>!1,getClasses:()=>[],titleFormat:"YYYY-MM-DD"}),u=de(()=>(Array.isArray(a.value)?a.value:[a.value]).filter(Et).map(D=>a.type==="year"?xF(D):a.type==="month"?xr(D):Gt(D))),i=se(new Date);Je(()=>{let D=a.calendar;if(!Et(D)){const{length:E}=u.value;D=ln(E>0?u.value[E-1]:a.defaultValue)}i.value=xr(D)});const r=D=>{var E;i.value=D,(E=a.onCalendarChange)==null||E.call(a,D)},n=se("date");Je(()=>{const D=["date","month","year"],E=Math.max(D.indexOf(a.type),D.indexOf(a.defaultPanel));n.value=E!==-1?D[E]:"date"});const o=D=>{var E;const A=n.value;n.value=D,(E=a.onPanelChange)==null||E.call(a,D,A)},s=D=>a.disabledDate(new Date(D),u.value),l=(D,E)=>{var A,z,$;if(!s(D))if((A=a.onPick)==null||A.call(a,D),a.multiple===!0){const T=u.value.filter(N=>N.getTime()!==D.getTime());T.length===u.value.length&&T.push(D),(z=a["onUpdate:value"])==null||z.call(a,T,E)}else($=a["onUpdate:value"])==null||$.call(a,D,E)},c=D=>{l(D,a.type==="week"?"week":"date")},h=D=>{if(a.type==="year")l(D,"year");else if(r(D),o("month"),a.partialUpdate&&u.value.length===1){const E=_u(u.value[0],D.getFullYear());l(E,"year")}},d=D=>{if(a.type==="month")l(D,"month");else if(r(D),o("date"),a.partialUpdate&&u.value.length===1){const E=Wa(_u(u.value[0],D.getFullYear()),D.getMonth());l(E,"month")}},F=(D,E=[])=>(s(D)?E.push("disabled"):u.value.some(A=>A.getTime()===D.getTime())&&E.push("active"),E.concat(a.getClasses(D,u.value,E.join(" ")))),f=D=>{const E=D.getMonth()!==i.value.getMonth(),A=[];return D.getTime()===new Date().setHours(0,0,0,0)&&A.push("today"),E&&A.push("not-current-month"),F(D,A)},C=D=>a.type!=="month"?i.value.getMonth()===D.getMonth()?"active":"":F(D),v=D=>a.type!=="year"?i.value.getFullYear()===D.getFullYear()?"active":"":F(D),b=D=>{if(a.type!=="week")return!1;const E=D[0].getTime(),A=D[6].getTime();return u.value.some(z=>{const $=z.getTime();return $>=E&&$<=A})};return()=>n.value==="year"?g(HF,{calendar:i.value,getCellClasses:v,getYearPanel:a.getYearPanel,onSelect:h,onUpdateCalendar:r},null):n.value==="month"?g(PF,{calendar:i.value,getCellClasses:C,onSelect:d,onUpdatePanel:o,onUpdateCalendar:r},null):g(IF,{isWeekMode:a.type==="week",showWeekNumber:a.showWeekNumber,titleFormat:a.titleFormat,calendar:i.value,getCellClasses:f,getWeekActive:b,onSelect:c,onUpdatePanel:o,onUpdateCalendar:r,onDateMouseEnter:a.onDateMouseEnter,onDateMouseLeave:a.onDateMouseLeave},null)}const cn=Qt()(["type","value","defaultValue","defaultPanel","disabledDate","getClasses","calendar","multiple","partialUpdate","showWeekNumber","titleFormat","getYearPanel","onDateMouseEnter","onDateMouseLeave","onCalendarChange","onPanelChange","onUpdate:value","onPick"]);var dn=Bt(RF,cn);const Tr=(e,a)=>{const u=e.getTime();let[i,r]=a.map(n=>n.getTime());return i>r&&([i,r]=[r,i]),u>i&&u<r};function UF(e){const a=xt(e,{defaultValue:new Date,type:"date"}),u=Ve(),i=de(()=>{let b=Array.isArray(a.defaultValue)?a.defaultValue:[a.defaultValue,a.defaultValue];return b=b.map(D=>Gt(D)),au(b)?b:[new Date,new Date].map(D=>Gt(D))}),r=se([new Date(NaN),new Date(NaN)]);Je(()=>{au(a.value)&&(r.value=a.value)});const n=(b,D)=>{var E;const[A,z]=r.value;Et(A)&&!Et(z)?(A.getTime()>b.getTime()?r.value=[b,A]:r.value=[A,b],(E=a["onUpdate:value"])==null||E.call(a,r.value,D)):r.value=[b,new Date(NaN)]},o=se([new Date,new Date]),s=de(()=>au(a.calendar)?a.calendar:o.value),l=de(()=>a.type==="year"?10*12:a.type==="month"?1*12:1),c=(b,D)=>{var E;const A=TF(b[0],b[1]),z=l.value-A;if(z>0){const $=D===1?0:1;b[$]=Wa(b[$],T=>T+($===0?-z:z))}o.value=b,(E=a.onCalendarChange)==null||E.call(a,b,D)},h=b=>{c([b,s.value[1]],0)},d=b=>{c([s.value[0],b],1)};Je(()=>{const b=au(a.value)?a.value:i.value;c(b.slice(0,2))});const F=se(null),f=b=>F.value=b,C=()=>F.value=null,v=(b,D,E)=>{const A=a.getClasses?a.getClasses(b,D,E):[],z=Array.isArray(A)?A:[A];return/disabled|active/.test(E)?z:(D.length===2&&Tr(b,D)&&z.push("in-range"),D.length===1&&F.value&&Tr(b,[D[0],F.value])?z.concat("hover-in-range"):z)};return()=>{const b=s.value.map((D,E)=>{const A=nt(Te({},a),{calendar:D,value:r.value,defaultValue:i.value[E],getClasses:v,partialUpdate:!1,multiple:!1,"onUpdate:value":n,onCalendarChange:E===0?h:d,onDateMouseLeave:C,onDateMouseEnter:f});return g(dn,A,null)});return g("div",{class:`${u}-calendar-range`},[b])}}const Ni=cn;var $i=Bt(UF,Ni);const Ts=en({setup(e,{slots:a}){const u=Ve(),i=se(),r=se(""),n=se("");Kn(()=>{if(!i.value)return;const f=i.value,C=f.clientHeight*100/f.scrollHeight;r.value=C<100?`${C}%`:""});const o=lF(),s=f=>{const C=f.currentTarget,{scrollHeight:v,scrollTop:b}=C;n.value=`${b*100/v}%`};let l=!1,c=0;const h=f=>{f.stopImmediatePropagation();const C=f.currentTarget,{offsetTop:v}=C;l=!0,c=f.clientY-v},d=f=>{if(!l||!i.value)return;const{clientY:C}=f,{scrollHeight:v,clientHeight:b}=i.value,D=(C-c)*v/b;i.value.scrollTop=D},F=()=>{l=!1};return Kn(()=>{document.addEventListener("mousemove",d),document.addEventListener("mouseup",F)}),Fi(()=>{document.addEventListener("mousemove",d),document.addEventListener("mouseup",F)}),()=>{var f;return g("div",{class:`${u}-scrollbar`,style:{position:"relative",overflow:"hidden"}},[g("div",{ref:i,class:`${u}-scrollbar-wrap`,style:{marginRight:`-${o}px`},onScroll:s},[(f=a.default)==null?void 0:f.call(a)]),g("div",{class:`${u}-scrollbar-track`},[g("div",{class:`${u}-scrollbar-thumb`,style:{height:r.value,top:n.value},onMousedown:h},null)])])}}});function jF({options:e,getClasses:a,onSelect:u}){const i=Ve(),r=n=>{const o=n.target,s=n.currentTarget;if(o.tagName.toUpperCase()!=="LI")return;const l=s.getAttribute("data-type"),c=parseInt(s.getAttribute("data-index"),10),h=parseInt(o.getAttribute("data-index"),10),d=e[c].list[h].value;u(d,l)};return g("div",{class:`${i}-time-columns`},[e.map((n,o)=>g(Ts,{key:n.type,class:`${i}-time-column`},{default:()=>[g("ul",{class:`${i}-time-list`,"data-index":o,"data-type":n.type,onClick:r},[n.list.map((s,l)=>g("li",{key:s.text,"data-index":l,class:[`${i}-time-item`,a(s.value,n.type)]},[s.text]))])]}))])}function qF(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Fc(e)}function WF(e){let a;const u=Ve();return g(Ts,null,qF(a=e.options.map(i=>g("div",{key:i.text,class:[`${u}-time-option`,e.getClasses(i.value,"time")],onClick:()=>e.onSelect(i.value,"time")},[i.text])))?a:{default:()=>[a]})}function Nn({length:e,step:a=1,options:u}){if(Array.isArray(u))return u.filter(r=>r>=0&&r<e);a<=0&&(a=1);const i=[];for(let r=0;r<e;r+=a)i.push(r);return i}function YF(e,a){let{showHour:u,showMinute:i,showSecond:r,use12h:n}=a;const o=a.format||"HH:mm:ss";u=typeof u=="boolean"?u:/[HhKk]/.test(o),i=typeof i=="boolean"?i:/m/.test(o),r=typeof r=="boolean"?r:/s/.test(o),n=typeof n=="boolean"?n:/a/i.test(o);const s=[],l=n&&e.getHours()>=12;return u&&s.push({type:"hour",list:Nn({length:n?12:24,step:a.hourStep,options:a.hourOptions}).map(c=>{const h=c===0&&n?"12":Ln(c),d=new Date(e);return d.setHours(l?c+12:c),{value:d,text:h}})}),i&&s.push({type:"minute",list:Nn({length:60,step:a.minuteStep,options:a.minuteOptions}).map(c=>{const h=new Date(e);return h.setMinutes(c),{value:h,text:Ln(c)}})}),r&&s.push({type:"second",list:Nn({length:60,step:a.secondStep,options:a.secondOptions}).map(c=>{const h=new Date(e);return h.setSeconds(c),{value:h,text:Ln(c)}})}),n&&s.push({type:"ampm",list:["AM","PM"].map((c,h)=>{const d=new Date(e);return d.setHours(d.getHours()%12+h*12),{text:c,value:d}})}),s}function $n(e=""){const a=e.split(":");if(a.length>=2){const u=parseInt(a[0],10),i=parseInt(a[1],10);return{hours:u,minutes:i}}return null}function ZF({date:e,option:a,format:u,formatDate:i}){const r=[];if(typeof a=="function")return a()||[];const n=$n(a.start),o=$n(a.end),s=$n(a.step),l=a.format||u;if(n&&o&&s){const c=n.minutes+n.hours*60,h=o.minutes+o.hours*60,d=s.minutes+s.hours*60,F=Math.floor((h-c)/d);for(let f=0;f<=F;f++){const C=c+f*d,v=Math.floor(C/60),b=C%60,D=new Date(e);D.setHours(v,b,0),r.push({value:D,text:i(D,l)})}}return r}const Ms=(e,a,u=0)=>{if(u<=0){requestAnimationFrame(()=>{e.scrollTop=a});return}const i=(a-e.scrollTop)/u*10;requestAnimationFrame(()=>{const r=e.scrollTop+i;if(r>=a){e.scrollTop=a;return}e.scrollTop=r,Ms(e,a,u-10)})};function GF(e){const a=xt(e,{defaultValue:Gt(new Date),format:"HH:mm:ss",timeTitleFormat:"YYYY-MM-DD",disabledTime:()=>!1,scrollDuration:100}),u=Ve(),i=Ti(),r=(v,b)=>xi(v,b,{locale:i.value.formatLocale}),n=se(new Date);Je(()=>{n.value=ln(a.value,a.defaultValue)});const o=v=>Array.isArray(v)?v.every(b=>a.disabledTime(new Date(b))):a.disabledTime(new Date(v)),s=v=>{const b=new Date(v);return o([b.getTime(),b.setMinutes(0,0,0),b.setMinutes(59,59,999)])},l=v=>{const b=new Date(v);return o([b.getTime(),b.setSeconds(0,0),b.setSeconds(59,999)])},c=v=>{const b=new Date(v),D=b.getHours()<12?0:12,E=D+11;return o([b.getTime(),b.setHours(D,0,0,0),b.setHours(E,59,59,999)])},h=(v,b)=>b==="hour"?s(v):b==="minute"?l(v):b==="ampm"?c(v):o(v),d=(v,b)=>{var D;if(!h(v,b)){const E=new Date(v);n.value=E,o(E)||(D=a["onUpdate:value"])==null||D.call(a,E,b)}},F=(v,b)=>h(v,b)?"disabled":v.getTime()===n.value.getTime()?"active":"",f=se(),C=v=>{if(!f.value)return;const b=f.value.querySelectorAll(".active");for(let D=0;D<b.length;D++){const E=b[D],A=Mi(E,f.value);if(A){const z=E.offsetTop;Ms(A,z,v)}}};return Kn(()=>C(0)),nu(n,()=>C(a.scrollDuration),{flush:"post"}),()=>{let v;return a.timePickerOptions?v=g(WF,{onSelect:d,getClasses:F,options:ZF({date:n.value,format:a.format,option:a.timePickerOptions,formatDate:r})},null):v=g(jF,{options:YF(n.value,a),onSelect:d,getClasses:F},null),g("div",{class:`${u}-time`,ref:f},[a.showTimeHeader&&g("div",{class:`${u}-time-header`},[g("button",{type:"button",class:`${u}-btn ${u}-btn-text ${u}-time-header-title`,onClick:a.onClickTitle},[r(n.value,a.timeTitleFormat)])]),g("div",{class:`${u}-time-content`},[v])])}}const pn=Qt()(["value","defaultValue","format","timeTitleFormat","showTimeHeader","disabledTime","timePickerOptions","hourOptions","minuteOptions","secondOptions","hourStep","minuteStep","secondStep","showHour","showMinute","showSecond","use12h","scrollDuration","onClickTitle","onUpdate:value"]);var ua=Bt(GF,pn);function XF(e){const a=xt(e,{defaultValue:Gt(new Date),disabledTime:()=>!1}),u=Ve(),i=se([new Date(NaN),new Date(NaN)]);Je(()=>{au(a.value)?i.value=a.value:i.value=[new Date(NaN),new Date(NaN)]});const r=(c,h)=>{var d;(d=a["onUpdate:value"])==null||d.call(a,i.value,c==="time"?"time-range":c,h)},n=(c,h)=>{i.value[0]=c,i.value[1].getTime()>=c.getTime()||(i.value[1]=c),r(h,0)},o=(c,h)=>{i.value[1]=c,i.value[0].getTime()<=c.getTime()||(i.value[0]=c),r(h,1)},s=c=>a.disabledTime(c,0),l=c=>c.getTime()<i.value[0].getTime()||a.disabledTime(c,1);return()=>{const c=Array.isArray(a.defaultValue)?a.defaultValue:[a.defaultValue,a.defaultValue];return g("div",{class:`${u}-time-range`},[g(ua,nt(Te({},a),{"onUpdate:value":n,value:i.value[0],defaultValue:c[0],disabledTime:s}),null),g(ua,nt(Te({},a),{"onUpdate:value":o,value:i.value[1],defaultValue:c[1],disabledTime:l}),null)])}}const Oi=pn;var Ii=Bt(XF,Oi);function zs(e){const a=se(!1),u=()=>{var r;a.value=!1,(r=e.onShowTimePanelChange)==null||r.call(e,!1)},i=()=>{var r;a.value=!0,(r=e.onShowTimePanelChange)==null||r.call(e,!0)};return{timeVisible:de(()=>typeof e.showTimePanel=="boolean"?e.showTimePanel:a.value),openTimePanel:i,closeTimePanel:u}}function KF(e){const a=xt(e,{disabledTime:()=>!1,defaultValue:Gt(new Date)}),u=se(a.value);Je(()=>{u.value=a.value});const{openTimePanel:i,closeTimePanel:r,timeVisible:n}=zs(a),o=(s,l)=>{var c;l==="date"&&i();let h=Ya(s,ln(a.value,a.defaultValue));if(a.disabledTime(new Date(h))&&(h=Ya(s,a.defaultValue),a.disabledTime(new Date(h)))){u.value=h;return}(c=a["onUpdate:value"])==null||c.call(a,h,l)};return()=>{const s=Ve(),l=nt(Te({},Dt(a,cn)),{multiple:!1,type:"date",value:u.value,"onUpdate:value":o}),c=nt(Te({},Dt(a,pn)),{showTimeHeader:!0,value:u.value,"onUpdate:value":a["onUpdate:value"],onClickTitle:r});return g("div",{class:`${s}-date-time`},[g(dn,l,null),n.value&&g(ua,c,null)])}}const Ls=Qt()(["showTimePanel","onShowTimePanelChange"]),QF=[...Ls,...cn,...pn];var Ns=Bt(KF,QF);function JF(e){const a=xt(e,{defaultValue:Gt(new Date),disabledTime:()=>!1}),u=se(a.value);Je(()=>{u.value=a.value});const{openTimePanel:i,closeTimePanel:r,timeVisible:n}=zs(a),o=(s,l)=>{var c;l==="date"&&i();const h=Array.isArray(a.defaultValue)?a.defaultValue:[a.defaultValue,a.defaultValue];let d=s.map((F,f)=>{const C=au(a.value)?a.value[f]:h[f];return Ya(F,C)});if(d[1].getTime()<d[0].getTime()&&(d=[d[0],d[0]]),d.some(a.disabledTime)&&(d=s.map((F,f)=>Ya(F,h[f])),d.some(a.disabledTime))){u.value=d;return}(c=a["onUpdate:value"])==null||c.call(a,d,l)};return()=>{const s=Ve(),l=nt(Te({},Dt(a,Ni)),{type:"date",value:u.value,"onUpdate:value":o}),c=nt(Te({},Dt(a,Oi)),{showTimeHeader:!0,value:u.value,"onUpdate:value":a["onUpdate:value"],onClickTitle:r});return g("div",{class:`${s}-date-time-range`},[g($i,l,null),n.value&&g(Ii,c,null)])}}const eg=[...Ls,...Oi,...Ni];var $s=Bt(JF,eg);const tg=Qt()(["range","open","appendToBody","clearable","confirm","disabled","editable","multiple","partialUpdate","showHour","showMinute","showSecond","showTimeHeader","showTimePanel","showWeekNumber","use12h"]),Mr={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"YYYY-MM",time:"HH:mm:ss",week:"w"};function Os(e,{slots:a}){const u=e.type||"date",i=e.format||Mr[u]||Mr.date,r=nt(Te({},dF(e,tg)),{type:u,format:i});return g(Sr,Dt(r,Sr.props),Te({content:n=>{if(r.range){const o=u==="time"?Ii:u==="datetime"?$s:$i;return _t(o,Dt(Te(Te({},r),n),o.props))}else{const o=u==="time"?ua:u==="datetime"?Ns:dn;return _t(o,Dt(Te(Te({},r),n),o.props))}},"icon-calendar":()=>u==="time"?g(wF,null,null):g(Ss,null,null)},a))}const ug={locale:Es,install:e=>{e.component("DatePicker",Os)}};var ag=Object.assign(Os,ug,{Calendar:dn,CalendarRange:$i,TimePanel:ua,TimeRange:Ii,DateTime:Ns,DateTimeRange:$s});$e(gc);const ng={name:"CalendarBlankIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ig=["aria-hidden","aria-label"],rg=["fill","width","height"],og={d:"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1"},sg={key:0};function lg(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon calendar-blank-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",og,[u.title?(p(),m("title",sg,B(u.title),1)):w("",!0)])],8,rg))],16,ig)}const cg=W(ng,[["render",lg]]),dg={name:"WebIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},pg=["aria-hidden","aria-label"],hg=["fill","width","height"],mg={d:"M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},fg={key:0};function Fg(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon web-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",mg,[u.title?(p(),m("title",fg,B(u.title),1)):w("",!0)])],8,hg))],16,pg)}const gg=W(dg,[["render",Fg]]),zr={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD H:mm:ss",year:"YYYY",month:"YYYY-MM",time:"H:mm:ss",week:"w"},Cg=zo({name:"NcDateTimePicker",components:{CalendarBlank:cg,DatePicker:ag,NcPopover:Cc,NcTimezonePicker:Ef,Web:gg},props:{clearable:{type:Boolean,default:!1},minuteStep:{type:Number,default:10},type:{type:String,default:"date"},format:{type:String,default:null},formatter:{type:Object,default:null},lang:{type:Object,default:null},modelValue:{default:()=>new Date},timezoneId:{type:String,default:"UTC"},showTimezoneSelect:{type:Boolean,default:!1},highlightTimezone:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1},showWeekNumber:{type:Boolean,default:!1},placeholder:{type:String,default:null}},emits:["update:modelValue","update:timezone-id"],setup(){return{timezoneDialogHeaderId:`timezone-dialog-header-${Wt()}`}},data(){return{showTimezonePopover:!1,tzVal:this.timezoneId}},computed:{defaultLang(){return{formatLocale:{months:kc(),monthsShort:yc(),weekdays:_c(),weekdaysShort:bc(),weekdaysMin:Dc(),firstDayOfWeek:vc()},monthFormat:"MMM"}},defaultPlaceholder(){return this.type==="time"?ee("Pick a time"):this.type==="month"?ee("Pick a month"):this.type==="year"?ee("Pick a year"):this.type==="week"?ee("Pick a week"):this.type==="date"?ee("Pick a date"):ee("Pick a date and a time")},formatTypeMap(){return zr[this.type]??zr.date},internalFormatter(){return{getWeek:e=>{const a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));a.setUTCDate(a.getUTCDate()+4-(a.getUTCDay()||7));const u=new Date(Date.UTC(a.getUTCFullYear(),0,1));return Math.ceil(((a-u)/864e5+1)/7)},...this.formatter??{}}}},methods:{t:ee,handleSelectYear(e){const a=this.$refs.datepicker.currentValue;if(a)try{const u=new Date(new Date(a).setFullYear(e));this.$refs.datepicker.selectDate(u)}catch{console.error("Invalid value",a,e)}},handleSelectMonth(e){const a=this.$refs.datepicker.currentValue;if(a)try{const u=new Date(new Date(a).setMonth(e));this.$refs.datepicker.selectDate(u)}catch{console.error("Invalid value",a,e)}},toggleTimezonePopover(){this.showTimezoneSelect&&(this.showTimezonePopover=!this.showTimezonePopover)}}}),kg=["aria-labelledby"],yg={class:"timezone-popover-wrapper__label"},_g=["id"];function bg(e,a,u,i,r,n){const o=k("Web"),s=k("NcTimezonePicker"),l=k("NcPopover"),c=k("CalendarBlank"),h=k("DatePicker");return p(),S(h,{ref:"datepicker","append-to-body":e.appendToBody,clearable:e.clearable,format:e.format?e.format:e.formatTypeMap,formatter:e.internalFormatter,lang:e.lang?e.lang:e.defaultLang,"minute-step":e.minuteStep,placeholder:e.placeholder?e.placeholder:e.defaultPlaceholder,"popup-class":{"show-week-number":e.showWeekNumber},"show-week-number":e.showWeekNumber,type:e.type,value:e.modelValue,onSelectYear:e.handleSelectYear,onSelectMonth:e.handleSelectMonth,"onUpdate:value":a[2]||(a[2]=d=>e.$emit("update:modelValue",d))},Yt({"icon-calendar":_(()=>[e.showTimezoneSelect?(p(),S(l,{key:0,shown:e.showTimezonePopover,"onUpdate:shown":a[1]||(a[1]=d=>e.showTimezonePopover=d),"popup-role":"dialog","popover-base-class":"timezone-select__popper"},{trigger:_(({attrs:d})=>[y("button",L({class:["datetime-picker-inline-icon",{"datetime-picker-inline-icon--highlighted":e.highlightTimezone}]},d,{onMousedown:ue(()=>{},["stop","prevent"])}),[g(o,{size:20})],16)]),default:_(()=>[y("div",{role:"dialog","aria-labelledby":e.timezoneDialogHeaderId},[y("div",yg,[y("strong",{id:e.timezoneDialogHeaderId},B(e.t("Please select a time zone:")),9,_g)]),g(s,{"model-value":e.tzVal,class:"timezone-popover-wrapper__timezone-select","onUpdate:modelValue":a[0]||(a[0]=d=>e.$emit("update:timezone-id",d))},null,8,["model-value"])],8,kg)]),_:1},8,["shown"])):(p(),S(c,{key:1,size:20}))]),_:2},[We(e.$slots,(d,F)=>({name:F,fn:_(f=>[Q(e.$slots,F,Oa(Ia(f)),void 0,!0)])}))]),1032,["append-to-body","clearable","format","formatter","lang","minute-step","placeholder","popup-class","show-week-number","type","value","onSelectYear","onSelectMonth"])}const Is=W(Cg,[["render",bg],["__scopeId","data-v-4be9df7f"]]),Dg={name:"DateTimePickerItem",components:{NcDateTimePicker:Is},mixins:[on],props:{date:{type:Object,default:null},value:{type:Date,default:null},allDay:{type:Boolean,default:!1}},data(){return{lang:{formatLocale:{firstDayOfWeek:window.firstDay},days:window.dayNamesShort,months:window.monthNamesShort},dateFormat:qe.localeData().longDateFormat("L"),timeFormat:qe.localeData().longDateFormat("LT"),timePickerOptions:{start:"00:00",step:"00:30",end:"23:30"}}},computed:{isValid(){return this.date.isValid()},isOverdue(){return Lo(this.date)}},methods:{t:x,checkOutsideClick(e){e.target.closest(".mx-datepicker-main")||e.target.closest(".mx-table")||e.target.classList.contains("mx-btn")||this.setValue()},setDate(e){e.setHours(this.newValue.getHours(),this.newValue.getMinutes()),this.newValue=e},setTime(e){const a=new Date(this.newValue.getTime());a.setHours(e.getHours(),e.getMinutes()),this.newValue=a}}},vg={class:"content__icon"},Eg={key:0,class:"content__input"},Ag={class:"item__actions"};function wg(e,a,u,i,r,n){const o=k("NcDateTimePicker"),s=k("Check"),l=k("NcActionButton"),c=k("NcActions"),h=k("Delete"),d=Be("click-outside");return U((p(),m("div",{class:R([{"property__item--clearable":u.date.isValid()&&!e.readOnly,"property__item--valid":n.isValid,"property__item--overdue":n.isOverdue,"property__item--readonly":e.readOnly},"property__item"])},[y("div",{class:"item__content",onClick:a[0]||(a[0]=F=>e.setEditing(!0))},[y("span",vg,[Q(e.$slots,"icon",{},void 0,!0)]),U(y("span",{class:"content__name"},B(e.propertyString),513),[[oe,!e.editing]]),e.editing?(p(),m("div",Eg,[g(o,{value:e.newValue,lang:r.lang,format:r.dateFormat,clearable:!1,"append-to-body":!0,"show-week-number":!0,type:"date",placeholder:n.t("tasks","Set date"),class:"date",onChange:n.setDate},null,8,["value","lang","format","placeholder","onChange"]),u.allDay?w("",!0):(p(),S(o,{key:0,value:e.newValue,lang:r.lang,format:r.timeFormat,clearable:!1,"append-to-body":!0,"time-picker-options":r.timePickerOptions,type:"time",placeholder:n.t("tasks","Set time"),class:"time",onChange:n.setTime},null,8,["value","lang","format","time-picker-options","placeholder","onChange"]))])):w("",!0)]),y("div",Ag,[U(g(c,{class:"actions__set"},{default:_(()=>[g(l,{onClick:a[1]||(a[1]=F=>e.setValue())},{icon:_(()=>[g(s,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Set date")),1)]),_:1})]),_:1},512),[[oe,e.editing]]),U(g(c,{class:"actions__clear"},{default:_(()=>[g(l,{onClick:e.clearValue},{icon:_(()=>[g(h,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Delete date")),1)]),_:1},8,["onClick"])]),_:1},512),[[oe,e.editing]])])],2)),[[d,n.checkOutsideClick]])}const Bg=I(Dg,[["render",wg],["__scopeId","data-v-24a3dd95"]]),xg={name:"MultiselectOption",props:{displayName:{type:String,required:!0},icon:{type:String,default:null},optionClass:{type:String,default:null}}},Sg={class:"multiselect-picker-option__icon"},Tg={class:"multiselect-picker-option__label"};function Mg(e,a,u,i,r,n){return p(),m("div",{class:R([u.optionClass,"multiselect-picker-option"])},[y("span",Sg,[(p(),S(at(u.icon),{size:20}))]),y("span",Tg,B(u.displayName),1)],2)}const Ps=I(xg,[["render",Mg],["__scopeId","data-v-8ad65aef"]]),zg={components:{NcSelect:ca,MultiselectOption:Ps},props:{value:{type:Object,default:null},options:{type:Array,required:!0},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},icon:{type:String,default:null}},emits:["change-value"],computed:{isDisabled(){return this.options.length<2||this.disabled}},methods:{change(e){e&&this.$emit("change-value",e)}}},Lg={class:"property__item"},Ng={key:0,class:"placeholder__icon"};function $g(e,a,u,i,r,n){const o=k("MultiselectOption"),s=k("NcSelect");return p(),m("div",Lg,[g(s,{label:"displayName",disabled:n.isDisabled,options:u.options,"model-value":u.value,placeholder:u.placeholder,multiple:!1,searchable:!1,clearable:!1,"close-on-select":!0,"append-to-body":!1,"onOption:selected":n.change},{search:_(({attributes:l,events:c})=>[u.value?w("",!0):(p(),m("span",Ng,[(p(),S(at(u.icon),{size:20}))])),y("input",L({maxlength:"1",class:"vs__search"},l,Xn(c,!0)),null,16)]),"selected-option":_(l=>[g(o,Oa(Ia(l)),null,16)]),option:_(l=>[g(o,Oa(Ia(l)),null,16)]),_:1},8,["disabled","options","model-value","placeholder","onOption:selected"])])}const Og=I(zg,[["render",$g],["__scopeId","data-v-b3d67f62"]]),Ig={name:"SliderItem",mixins:[on],props:{value:{type:Number,default:null},minValue:{type:Number,default:0},maxValue:{type:Number,default:10},color:{type:String,default:null}},computed:{isValid(){return this.value>0}},methods:{t:x}},Pg={class:"content__icon"},Vg={key:0,class:"content__input"},Hg=["min","max"],Rg=["min","max"],Ug={class:"item__actions"};function jg(e,a,u,i,r,n){const o=k("Check"),s=k("NcActionButton"),l=k("NcActions"),c=k("Delete"),h=Be("click-outside");return U((p(),m("div",{class:R([{"property__item--clearable":u.value>0&&!e.readOnly,"property__item--readonly":e.readOnly},"property__item"]),style:Ie({color:u.color})},[y("div",{class:"item__content",onClick:a[4]||(a[4]=d=>e.setEditing(!0))},[y("span",Pg,[Q(e.$slots,"icon",{},void 0,!0)]),U(y("span",{class:"content__name"},B(e.propertyString),513),[[oe,!e.editing]]),e.editing?(p(),m("div",Vg,[U(y("input",{"onUpdate:modelValue":a[0]||(a[0]=d=>e.newValue=d),type:"number",min:u.minValue,max:u.maxValue,onKeyup:a[1]||(a[1]=ke(d=>e.setEditing(!1),["escape"])),onKeydown:a[2]||(a[2]=ke(ue(d=>e.setValue(),["prevent"]),["enter"]))},null,40,Hg),[[ta,e.newValue]]),U(y("input",{"onUpdate:modelValue":a[3]||(a[3]=d=>e.newValue=d),type:"range",min:u.minValue,max:u.maxValue,step:"1"},null,8,Rg),[[ta,e.newValue]])])):w("",!0)]),y("div",Ug,[U(g(l,{class:"actions__set"},{default:_(()=>[g(s,{onClick:a[5]||(a[5]=d=>e.setValue())},{icon:_(()=>[g(o,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Set value")),1)]),_:1})]),_:1},512),[[oe,e.editing]]),U(g(l,{class:"actions__clear"},{default:_(()=>[g(s,{onClick:e.clearValue},{icon:_(()=>[g(c,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Delete value")),1)]),_:1},8,["onClick"])]),_:1},512),[[oe,e.editing]])])],6)),[[h,()=>e.setValue()]])}const qg=I(Ig,[["render",jg],["__scopeId","data-v-6f9b610d"]]),Wg={name:"TagMultipleIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Yg=["aria-hidden","aria-label"],Zg=["fill","width","height"],Gg={d:"M5.5,9A1.5,1.5 0 0,0 7,7.5A1.5,1.5 0 0,0 5.5,6A1.5,1.5 0 0,0 4,7.5A1.5,1.5 0 0,0 5.5,9M17.41,11.58C17.77,11.94 18,12.44 18,13C18,13.55 17.78,14.05 17.41,14.41L12.41,19.41C12.05,19.77 11.55,20 11,20C10.45,20 9.95,19.78 9.58,19.41L2.59,12.42C2.22,12.05 2,11.55 2,11V6C2,4.89 2.89,4 4,4H9C9.55,4 10.05,4.22 10.41,4.58L17.41,11.58M13.54,5.71L14.54,4.71L21.41,11.58C21.78,11.94 22,12.45 22,13C22,13.55 21.78,14.05 21.42,14.41L16.04,19.79L15.04,18.79L20.75,13L13.54,5.71Z"},Xg={key:0};function Kg(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon tag-multiple-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Gg,[u.title?(p(),m("title",Xg,B(u.title),1)):w("",!0)])],8,Zg))],16,Yg)}const Vs=I(Wg,[["render",Kg]]),Qg={components:{NcSelect:ca,MultiselectOption:Ps,TagMultiple:Vs},props:{tags:{type:Array,required:!0},options:{type:Array,required:!0},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},icon:{type:String,default:null}},emits:["add-tag","set-tags"],methods:{t:x,addTag(e){this.$emit("add-tag",e)},setTags(e){this.$emit("set-tags",e)}}},Jg={class:"property__item"},e3={class:"multiselect__icon"};function t3(e,a,u,i,r,n){const o=k("NcSelect");return p(),m("div",Jg,[y("div",e3,[(p(),S(at(u.icon),{size:20}))]),g(o,{"model-value":u.tags,taggable:"",disabled:u.disabled,options:u.options,placeholder:u.placeholder,multiple:!0,"close-on-select":!1,"append-to-body":!1,"tag-placeholder":n.t("tasks","Add this as a new tag"),"onUpdate:modelValue":n.setTags,onTag:n.addTag},{"no-options":_(()=>[j(B(n.t("tasks","No tag available. Create one!")),1)]),_:1},8,["model-value","disabled","options","placeholder","tag-placeholder","onUpdate:modelValue","onTag"])])}const u3=I(Qg,[["render",t3],["__scopeId","data-v-098cca23"]]),a3=e=>Ec(e,{defaultProtocol:"https",target:"_blank",className:"external linkified",attributes:{rel:"nofollow noopener noreferrer"}}),Pi=function(e,a){a.value?.linkify===!0&&(e.innerHTML=a3(a.value.text))},n3={name:"TextItem",directives:{Linkify:Pi},mixins:[on],props:{value:{type:String,default:null},color:{type:String,default:null}},methods:{t:x,editingEnabled(){this.editing&&this.$nextTick(()=>{this.$refs.input.focus()})}}},i3={class:"content__icon"},r3={class:"content__name"},o3={key:0,class:"content__input"},s3={class:"item__actions"};function l3(e,a,u,i,r,n){const o=k("Check"),s=k("NcActionButton"),l=k("NcActions"),c=k("Delete"),h=Be("linkify"),d=Be("click-outside");return U((p(),m("div",{class:R([{"property__item--clearable":u.value&&!e.readOnly,"property__item--readonly":e.readOnly},"property__item"]),style:Ie({color:u.color})},[y("div",{class:"item__content",onClick:a[3]||(a[3]=F=>e.setEditing(!0,F))},[y("span",i3,[Q(e.$slots,"icon",{},void 0,!0)]),U(y("span",r3,null,512),[[oe,!e.editing],[h,{text:e.propertyString,linkify:!0}]]),e.editing?(p(),m("div",o3,[U(y("input",{ref:"input","onUpdate:modelValue":a[0]||(a[0]=F=>e.newValue=F),type:"string",onKeyup:a[1]||(a[1]=ke(F=>e.setEditing(!1),["escape"])),onKeydown:a[2]||(a[2]=ke(ue(F=>e.setValue(),["prevent"]),["enter"]))},null,544),[[ta,e.newValue]])])):w("",!0)]),y("div",s3,[U(g(l,{class:"actions__set"},{default:_(()=>[g(s,{onClick:a[4]||(a[4]=F=>e.setValue())},{icon:_(()=>[g(o,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Set value")),1)]),_:1})]),_:1},512),[[oe,e.editing]]),U(g(l,{class:"actions__clear"},{default:_(()=>[g(s,{onClick:e.clearValue},{icon:_(()=>[g(c,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Delete value")),1)]),_:1},8,["onClick"])]),_:1},512),[[oe,e.editing]])])],6)),[[d,()=>e.setValue()]])}const c3=I(n3,[["render",l3],["__scopeId","data-v-5cc88c92"]]),Lr={};function d3(e){let a=Lr[e];if(a)return a;a=Lr[e]=[];for(let u=0;u<128;u++){const i=String.fromCharCode(u);a.push(i)}for(let u=0;u<e.length;u++){const i=e.charCodeAt(u);a[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return a}function Bu(e,a){typeof a!="string"&&(a=Bu.defaultChars);const u=d3(a);return e.replace(/(%[a-f0-9]{2})+/gi,function(i){let r="";for(let n=0,o=i.length;n<o;n+=3){const s=parseInt(i.slice(n+1,n+3),16);if(s<128){r+=u[s];continue}if((s&224)===192&&n+3<o){const l=parseInt(i.slice(n+4,n+6),16);if((l&192)===128){const c=s<<6&1984|l&63;c<128?r+="":r+=String.fromCharCode(c),n+=3;continue}}if((s&240)===224&&n+6<o){const l=parseInt(i.slice(n+4,n+6),16),c=parseInt(i.slice(n+7,n+9),16);if((l&192)===128&&(c&192)===128){const h=s<<12&61440|l<<6&4032|c&63;h<2048||h>=55296&&h<=57343?r+="":r+=String.fromCharCode(h),n+=6;continue}}if((s&248)===240&&n+9<o){const l=parseInt(i.slice(n+4,n+6),16),c=parseInt(i.slice(n+7,n+9),16),h=parseInt(i.slice(n+10,n+12),16);if((l&192)===128&&(c&192)===128&&(h&192)===128){let d=s<<18&1835008|l<<12&258048|c<<6&4032|h&63;d<65536||d>1114111?r+="":(d-=65536,r+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),n+=9;continue}}r+=""}return r})}Bu.defaultChars=";/?:@&=+$,#",Bu.componentChars="";const Nr={};function p3(e){let a=Nr[e];if(a)return a;a=Nr[e]=[];for(let u=0;u<128;u++){const i=String.fromCharCode(u);/^[0-9a-z]$/i.test(i)?a.push(i):a.push("%"+("0"+u.toString(16).toUpperCase()).slice(-2))}for(let u=0;u<e.length;u++)a[e.charCodeAt(u)]=e[u];return a}function aa(e,a,u){typeof a!="string"&&(u=a,a=aa.defaultChars),typeof u>"u"&&(u=!0);const i=p3(a);let r="";for(let n=0,o=e.length;n<o;n++){const s=e.charCodeAt(n);if(u&&s===37&&n+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(n+1,n+3))){r+=e.slice(n,n+3),n+=2;continue}if(s<128){r+=i[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&n+1<o){const l=e.charCodeAt(n+1);if(l>=56320&&l<=57343){r+=encodeURIComponent(e[n]+e[n+1]),n++;continue}}r+="%EF%BF%BD";continue}r+=encodeURIComponent(e[n])}return r}aa.defaultChars=";/?:@&=+$,-_.!~*'()#",aa.componentChars="-_.!~*'()";function Vi(e){let a="";return a+=e.protocol||"",a+=e.slashes?"//":"",a+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?a+="["+e.hostname+"]":a+=e.hostname||"",a+=e.port?":"+e.port:"",a+=e.pathname||"",a+=e.search||"",a+=e.hash||"",a}function Za(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const h3=/^([a-z0-9.+-]+:)/i,m3=/:[0-9]*$/,f3=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,F3=["<",">",'"',"`"," ","\r",`
`,"	"],g3=["{","}","|","\\","^","`"].concat(F3),C3=["'"].concat(g3),$r=["%","/","?",";","#"].concat(C3),Or=["/","?","#"],k3=255,Ir=/^[+a-z0-9A-Z_-]{0,63}$/,y3=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Pr={javascript:!0,"javascript:":!0},Vr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Hi(e,a){if(e&&e instanceof Za)return e;const u=new Za;return u.parse(e,a),u}Za.prototype.parse=function(e,a){let u,i,r,n=e;if(n=n.trim(),!a&&e.split("#").length===1){const c=f3.exec(n);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let o=h3.exec(n);if(o&&(o=o[0],u=o.toLowerCase(),this.protocol=o,n=n.substr(o.length)),(a||o||n.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r=n.substr(0,2)==="//",r&&!(o&&Pr[o])&&(n=n.substr(2),this.slashes=!0)),!Pr[o]&&(r||o&&!Vr[o])){let c=-1;for(let C=0;C<Or.length;C++)i=n.indexOf(Or[C]),i!==-1&&(c===-1||i<c)&&(c=i);let h,d;c===-1?d=n.lastIndexOf("@"):d=n.lastIndexOf("@",c),d!==-1&&(h=n.slice(0,d),n=n.slice(d+1),this.auth=h),c=-1;for(let C=0;C<$r.length;C++)i=n.indexOf($r[C]),i!==-1&&(c===-1||i<c)&&(c=i);c===-1&&(c=n.length),n[c-1]===":"&&c--;const F=n.slice(0,c);n=n.slice(c),this.parseHost(F),this.hostname=this.hostname||"";const f=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!f){const C=this.hostname.split(/\./);for(let v=0,b=C.length;v<b;v++){const D=C[v];if(D&&!D.match(Ir)){let E="";for(let A=0,z=D.length;A<z;A++)D.charCodeAt(A)>127?E+="x":E+=D[A];if(!E.match(Ir)){const A=C.slice(0,v),z=C.slice(v+1),$=D.match(y3);$&&(A.push($[1]),z.unshift($[2])),z.length&&(n=z.join(".")+n),this.hostname=A.join(".");break}}}}this.hostname.length>k3&&(this.hostname=""),f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const s=n.indexOf("#");s!==-1&&(this.hash=n.substr(s),n=n.slice(0,s));const l=n.indexOf("?");return l!==-1&&(this.search=n.substr(l),n=n.slice(0,l)),n&&(this.pathname=n),Vr[u]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Za.prototype.parseHost=function(e){let a=m3.exec(e);a&&(a=a[0],a!==":"&&(this.port=a.substr(1)),e=e.substr(0,e.length-a.length)),e&&(this.hostname=e)};const _3=Object.freeze(Object.defineProperty({__proto__:null,decode:Bu,encode:aa,format:Vi,parse:Hi},Symbol.toStringTag,{value:"Module"})),Hs=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Rs=/[\0-\x1F\x7F-\x9F]/,b3=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Ri=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Us=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,js=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,D3=Object.freeze(Object.defineProperty({__proto__:null,Any:Hs,Cc:Rs,Cf:b3,P:Ri,S:Us,Z:js},Symbol.toStringTag,{value:"Module"})),v3=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),E3=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var On;const A3=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),w3=(On=String.fromCodePoint)!==null&&On!==void 0?On:function(e){let a="";return e>65535&&(e-=65536,a+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),a+=String.fromCharCode(e),a};function B3(e){var a;return e>=55296&&e<=57343||e>1114111?65533:(a=A3.get(e))!==null&&a!==void 0?a:e}var Me;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Me||(Me={}));const x3=32;var jt;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(jt||(jt={}));function ri(e){return e>=Me.ZERO&&e<=Me.NINE}function S3(e){return e>=Me.UPPER_A&&e<=Me.UPPER_F||e>=Me.LOWER_A&&e<=Me.LOWER_F}function T3(e){return e>=Me.UPPER_A&&e<=Me.UPPER_Z||e>=Me.LOWER_A&&e<=Me.LOWER_Z||ri(e)}function M3(e){return e===Me.EQUALS||T3(e)}var Se;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Se||(Se={}));var It;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(It||(It={}));class z3{constructor(a,u,i){this.decodeTree=a,this.emitCodePoint=u,this.errors=i,this.state=Se.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=It.Strict}startEntity(a){this.decodeMode=a,this.state=Se.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(a,u){switch(this.state){case Se.EntityStart:return a.charCodeAt(u)===Me.NUM?(this.state=Se.NumericStart,this.consumed+=1,this.stateNumericStart(a,u+1)):(this.state=Se.NamedEntity,this.stateNamedEntity(a,u));case Se.NumericStart:return this.stateNumericStart(a,u);case Se.NumericDecimal:return this.stateNumericDecimal(a,u);case Se.NumericHex:return this.stateNumericHex(a,u);case Se.NamedEntity:return this.stateNamedEntity(a,u)}}stateNumericStart(a,u){return u>=a.length?-1:(a.charCodeAt(u)|x3)===Me.LOWER_X?(this.state=Se.NumericHex,this.consumed+=1,this.stateNumericHex(a,u+1)):(this.state=Se.NumericDecimal,this.stateNumericDecimal(a,u))}addToNumericResult(a,u,i,r){if(u!==i){const n=i-u;this.result=this.result*Math.pow(r,n)+parseInt(a.substr(u,n),r),this.consumed+=n}}stateNumericHex(a,u){const i=u;for(;u<a.length;){const r=a.charCodeAt(u);if(ri(r)||S3(r))u+=1;else return this.addToNumericResult(a,i,u,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(a,i,u,16),-1}stateNumericDecimal(a,u){const i=u;for(;u<a.length;){const r=a.charCodeAt(u);if(ri(r))u+=1;else return this.addToNumericResult(a,i,u,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(a,i,u,10),-1}emitNumericEntity(a,u){var i;if(this.consumed<=u)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(a===Me.SEMI)this.consumed+=1;else if(this.decodeMode===It.Strict)return 0;return this.emitCodePoint(B3(this.result),this.consumed),this.errors&&(a!==Me.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(a,u){const{decodeTree:i}=this;let r=i[this.treeIndex],n=(r&jt.VALUE_LENGTH)>>14;for(;u<a.length;u++,this.excess++){const o=a.charCodeAt(u);if(this.treeIndex=L3(i,r,this.treeIndex+Math.max(1,n),o),this.treeIndex<0)return this.result===0||this.decodeMode===It.Attribute&&(n===0||M3(o))?0:this.emitNotTerminatedNamedEntity();if(r=i[this.treeIndex],n=(r&jt.VALUE_LENGTH)>>14,n!==0){if(o===Me.SEMI)return this.emitNamedEntityData(this.treeIndex,n,this.consumed+this.excess);this.decodeMode!==It.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var a;const{result:u,decodeTree:i}=this,r=(i[u]&jt.VALUE_LENGTH)>>14;return this.emitNamedEntityData(u,r,this.consumed),(a=this.errors)===null||a===void 0||a.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(a,u,i){const{decodeTree:r}=this;return this.emitCodePoint(u===1?r[a]&~jt.VALUE_LENGTH:r[a+1],i),u===3&&this.emitCodePoint(r[a+2],i),i}end(){var a;switch(this.state){case Se.NamedEntity:return this.result!==0&&(this.decodeMode!==It.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Se.NumericDecimal:return this.emitNumericEntity(0,2);case Se.NumericHex:return this.emitNumericEntity(0,3);case Se.NumericStart:return(a=this.errors)===null||a===void 0||a.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Se.EntityStart:return 0}}}function qs(e){let a="";const u=new z3(e,i=>a+=w3(i));return function(i,r){let n=0,o=0;for(;(o=i.indexOf("&",o))>=0;){a+=i.slice(n,o),u.startEntity(r);const l=u.write(i,o+1);if(l<0){n=o+u.end();break}n=o+l,o=l===0?n+1:n}const s=a+i.slice(n);return a="",s}}function L3(e,a,u,i){const r=(a&jt.BRANCH_LENGTH)>>7,n=a&jt.JUMP_TABLE;if(r===0)return n!==0&&i===n?u:-1;if(n){const l=i-n;return l<0||l>=r?-1:e[u+l]-1}let o=u,s=o+r-1;for(;o<=s;){const l=o+s>>>1,c=e[l];if(c<i)o=l+1;else if(c>i)s=l-1;else return e[l+r]}return-1}const N3=qs(v3);qs(E3);function Ws(e,a=It.Legacy){return N3(e,a)}function $3(e){return Object.prototype.toString.call(e)}function Ui(e){return $3(e)==="[object String]"}const O3=Object.prototype.hasOwnProperty;function I3(e,a){return O3.call(e,a)}function hn(e){return Array.prototype.slice.call(arguments,1).forEach(function(a){if(a){if(typeof a!="object")throw new TypeError(a+"must be object");Object.keys(a).forEach(function(u){e[u]=a[u]})}}),e}function Ys(e,a,u){return[].concat(e.slice(0,a),u,e.slice(a+1))}function ji(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Ga(e){if(e>65535){e-=65536;const a=55296+(e>>10),u=56320+(e&1023);return String.fromCharCode(a,u)}return String.fromCharCode(e)}const Zs=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,P3=/&([a-z#][a-z0-9]{1,31});/gi,V3=new RegExp(Zs.source+"|"+P3.source,"gi"),H3=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function R3(e,a){if(a.charCodeAt(0)===35&&H3.test(a)){const i=a[1].toLowerCase()==="x"?parseInt(a.slice(2),16):parseInt(a.slice(1),10);return ji(i)?Ga(i):e}const u=Ws(e);return u!==e?u:e}function U3(e){return e.indexOf("\\")<0?e:e.replace(Zs,"$1")}function xu(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(V3,function(a,u,i){return u||R3(a,i)})}const j3=/[&<>"]/,q3=/[&<>"]/g,W3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Y3(e){return W3[e]}function Pt(e){return j3.test(e)?e.replace(q3,Y3):e}const Z3=/[.?*+^$[\]\\(){}|-]/g;function G3(e){return e.replace(Z3,"\\$&")}function me(e){switch(e){case 9:case 32:return!0}return!1}function na(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function ia(e){return Ri.test(e)||Us.test(e)}function ra(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function mn(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const X3={mdurl:_3,ucmicro:D3},K3=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Ys,assign:hn,escapeHtml:Pt,escapeRE:G3,fromCodePoint:Ga,has:I3,isMdAsciiPunct:ra,isPunctChar:ia,isSpace:me,isString:Ui,isValidEntityCode:ji,isWhiteSpace:na,lib:X3,normalizeReference:mn,unescapeAll:xu,unescapeMd:U3},Symbol.toStringTag,{value:"Module"}));function Q3(e,a,u){let i,r,n,o;const s=e.posMax,l=e.pos;for(e.pos=a+1,i=1;e.pos<s;){if(n=e.src.charCodeAt(e.pos),n===93&&(i--,i===0)){r=!0;break}if(o=e.pos,e.md.inline.skipToken(e),n===91){if(o===e.pos-1)i++;else if(u)return e.pos=l,-1}}let c=-1;return r&&(c=e.pos),e.pos=l,c}function J3(e,a,u){let i,r=a;const n={ok:!1,pos:0,str:""};if(e.charCodeAt(r)===60){for(r++;r<u;){if(i=e.charCodeAt(r),i===10||i===60)return n;if(i===62)return n.pos=r+1,n.str=xu(e.slice(a+1,r)),n.ok=!0,n;if(i===92&&r+1<u){r+=2;continue}r++}return n}let o=0;for(;r<u&&(i=e.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<u){if(e.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(o++,o>32))return n;if(i===41){if(o===0)break;o--}r++}return a===r||o!==0||(n.str=xu(e.slice(a,r)),n.pos=r,n.ok=!0),n}function e6(e,a,u,i){let r,n=a;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)o.str=i.str,o.marker=i.marker;else{if(n>=u)return o;let s=e.charCodeAt(n);if(s!==34&&s!==39&&s!==40)return o;a++,n++,s===40&&(s=41),o.marker=s}for(;n<u;){if(r=e.charCodeAt(n),r===o.marker)return o.pos=n+1,o.str+=xu(e.slice(a,n)),o.ok=!0,o;if(r===40&&o.marker===41)return o;r===92&&n+1<u&&n++,n++}return o.can_continue=!0,o.str+=xu(e.slice(a,n)),o}const t6=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:J3,parseLinkLabel:Q3,parseLinkTitle:e6},Symbol.toStringTag,{value:"Module"})),dt={};dt.code_inline=function(e,a,u,i,r){const n=e[a];return"<code"+r.renderAttrs(n)+">"+Pt(n.content)+"</code>"},dt.code_block=function(e,a,u,i,r){const n=e[a];return"<pre"+r.renderAttrs(n)+"><code>"+Pt(e[a].content)+`</code></pre>
`},dt.fence=function(e,a,u,i,r){const n=e[a],o=n.info?xu(n.info).trim():"";let s="",l="";if(o){const h=o.split(/(\s+)/g);s=h[0],l=h.slice(2).join("")}let c;if(u.highlight?c=u.highlight(n.content,s,l)||Pt(n.content):c=Pt(n.content),c.indexOf("<pre")===0)return c+`
`;if(o){const h=n.attrIndex("class"),d=n.attrs?n.attrs.slice():[];h<0?d.push(["class",u.langPrefix+s]):(d[h]=d[h].slice(),d[h][1]+=" "+u.langPrefix+s);const F={attrs:d};return`<pre><code${r.renderAttrs(F)}>${c}</code></pre>
`}return`<pre><code${r.renderAttrs(n)}>${c}</code></pre>
`},dt.image=function(e,a,u,i,r){const n=e[a];return n.attrs[n.attrIndex("alt")][1]=r.renderInlineAsText(n.children,u,i),r.renderToken(e,a,u)},dt.hardbreak=function(e,a,u){return u.xhtmlOut?`<br />
`:`<br>
`},dt.softbreak=function(e,a,u){return u.breaks?u.xhtmlOut?`<br />
`:`<br>
`:`
`},dt.text=function(e,a){return Pt(e[a].content)},dt.html_block=function(e,a){return e[a].content},dt.html_inline=function(e,a){return e[a].content};function gu(){this.rules=hn({},dt)}gu.prototype.renderAttrs=function(e){let a,u,i;if(!e.attrs)return"";for(i="",a=0,u=e.attrs.length;a<u;a++)i+=" "+Pt(e.attrs[a][0])+'="'+Pt(e.attrs[a][1])+'"';return i},gu.prototype.renderToken=function(e,a,u){const i=e[a];let r="";if(i.hidden)return"";i.block&&i.nesting!==-1&&a&&e[a-1].hidden&&(r+=`
`),r+=(i.nesting===-1?"</":"<")+i.tag,r+=this.renderAttrs(i),i.nesting===0&&u.xhtmlOut&&(r+=" /");let n=!1;if(i.block&&(n=!0,i.nesting===1&&a+1<e.length)){const o=e[a+1];(o.type==="inline"||o.hidden||o.nesting===-1&&o.tag===i.tag)&&(n=!1)}return r+=n?`>
`:">",r},gu.prototype.renderInline=function(e,a,u){let i="";const r=this.rules;for(let n=0,o=e.length;n<o;n++){const s=e[n].type;typeof r[s]<"u"?i+=r[s](e,n,a,u,this):i+=this.renderToken(e,n,a)}return i},gu.prototype.renderInlineAsText=function(e,a,u){let i="";for(let r=0,n=e.length;r<n;r++)switch(e[r].type){case"text":i+=e[r].content;break;case"image":i+=this.renderInlineAsText(e[r].children,a,u);break;case"html_inline":case"html_block":i+=e[r].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i},gu.prototype.render=function(e,a,u){let i="";const r=this.rules;for(let n=0,o=e.length;n<o;n++){const s=e[n].type;s==="inline"?i+=this.renderInline(e[n].children,a,u):typeof r[s]<"u"?i+=r[s](e,n,a,u,this):i+=this.renderToken(e,n,a,u)}return i};function je(){this.__rules__=[],this.__cache__=null}je.prototype.__find__=function(e){for(let a=0;a<this.__rules__.length;a++)if(this.__rules__[a].name===e)return a;return-1},je.prototype.__compile__=function(){const e=this,a=[""];e.__rules__.forEach(function(u){u.enabled&&u.alt.forEach(function(i){a.indexOf(i)<0&&a.push(i)})}),e.__cache__={},a.forEach(function(u){e.__cache__[u]=[],e.__rules__.forEach(function(i){i.enabled&&(u&&i.alt.indexOf(u)<0||e.__cache__[u].push(i.fn))})})},je.prototype.at=function(e,a,u){const i=this.__find__(e),r=u||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=a,this.__rules__[i].alt=r.alt||[],this.__cache__=null},je.prototype.before=function(e,a,u,i){const r=this.__find__(e),n=i||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:a,enabled:!0,fn:u,alt:n.alt||[]}),this.__cache__=null},je.prototype.after=function(e,a,u,i){const r=this.__find__(e),n=i||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:a,enabled:!0,fn:u,alt:n.alt||[]}),this.__cache__=null},je.prototype.push=function(e,a,u){const i=u||{};this.__rules__.push({name:e,enabled:!0,fn:a,alt:i.alt||[]}),this.__cache__=null},je.prototype.enable=function(e,a){Array.isArray(e)||(e=[e]);const u=[];return e.forEach(function(i){const r=this.__find__(i);if(r<0){if(a)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!0,u.push(i)},this),this.__cache__=null,u},je.prototype.enableOnly=function(e,a){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(u){u.enabled=!1}),this.enable(e,a)},je.prototype.disable=function(e,a){Array.isArray(e)||(e=[e]);const u=[];return e.forEach(function(i){const r=this.__find__(i);if(r<0){if(a)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!1,u.push(i)},this),this.__cache__=null,u},je.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function ot(e,a,u){this.type=e,this.tag=a,this.attrs=null,this.map=null,this.nesting=u,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}ot.prototype.attrIndex=function(e){if(!this.attrs)return-1;const a=this.attrs;for(let u=0,i=a.length;u<i;u++)if(a[u][0]===e)return u;return-1},ot.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},ot.prototype.attrSet=function(e,a){const u=this.attrIndex(e),i=[e,a];u<0?this.attrPush(i):this.attrs[u]=i},ot.prototype.attrGet=function(e){const a=this.attrIndex(e);let u=null;return a>=0&&(u=this.attrs[a][1]),u},ot.prototype.attrJoin=function(e,a){const u=this.attrIndex(e);u<0?this.attrPush([e,a]):this.attrs[u][1]=this.attrs[u][1]+" "+a};function Gs(e,a,u){this.src=e,this.env=u,this.tokens=[],this.inlineMode=!1,this.md=a}Gs.prototype.Token=ot;const u6=/\r\n?|\n/g,a6=/\0/g;function n6(e){let a;a=e.src.replace(u6,`
`),a=a.replace(a6,""),e.src=a}function i6(e){let a;e.inlineMode?(a=new e.Token("inline","",0),a.content=e.src,a.map=[0,1],a.children=[],e.tokens.push(a)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function r6(e){const a=e.tokens;for(let u=0,i=a.length;u<i;u++){const r=a[u];r.type==="inline"&&e.md.inline.parse(r.content,e.md,e.env,r.children)}}function o6(e){return/^<a[>\s]/i.test(e)}function s6(e){return/^<\/a\s*>/i.test(e)}function l6(e){const a=e.tokens;if(e.md.options.linkify)for(let u=0,i=a.length;u<i;u++){if(a[u].type!=="inline"||!e.md.linkify.pretest(a[u].content))continue;let r=a[u].children,n=0;for(let o=r.length-1;o>=0;o--){const s=r[o];if(s.type==="link_close"){for(o--;r[o].level!==s.level&&r[o].type!=="link_open";)o--;continue}if(s.type==="html_inline"&&(o6(s.content)&&n>0&&n--,s6(s.content)&&n++),!(n>0)&&s.type==="text"&&e.md.linkify.test(s.content)){const l=s.content;let c=e.md.linkify.match(l);const h=[];let d=s.level,F=0;c.length>0&&c[0].index===0&&o>0&&r[o-1].type==="text_special"&&(c=c.slice(1));for(let f=0;f<c.length;f++){const C=c[f].url,v=e.md.normalizeLink(C);if(!e.md.validateLink(v))continue;let b=c[f].text;c[f].schema?c[f].schema==="mailto:"&&!/^mailto:/i.test(b)?b=e.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):b=e.md.normalizeLinkText(b):b=e.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,"");const D=c[f].index;if(D>F){const $=new e.Token("text","",0);$.content=l.slice(F,D),$.level=d,h.push($)}const E=new e.Token("link_open","a",1);E.attrs=[["href",v]],E.level=d++,E.markup="linkify",E.info="auto",h.push(E);const A=new e.Token("text","",0);A.content=b,A.level=d,h.push(A);const z=new e.Token("link_close","a",-1);z.level=--d,z.markup="linkify",z.info="auto",h.push(z),F=c[f].lastIndex}if(F<l.length){const f=new e.Token("text","",0);f.content=l.slice(F),f.level=d,h.push(f)}a[u].children=r=Ys(r,o,h)}}}}const Xs=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,c6=/\((c|tm|r)\)/i,d6=/\((c|tm|r)\)/ig,p6={c:"",r:"",tm:""};function h6(e,a){return p6[a.toLowerCase()]}function m6(e){let a=0;for(let u=e.length-1;u>=0;u--){const i=e[u];i.type==="text"&&!a&&(i.content=i.content.replace(d6,h6)),i.type==="link_open"&&i.info==="auto"&&a--,i.type==="link_close"&&i.info==="auto"&&a++}}function f6(e){let a=0;for(let u=e.length-1;u>=0;u--){const i=e[u];i.type==="text"&&!a&&Xs.test(i.content)&&(i.content=i.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),i.type==="link_open"&&i.info==="auto"&&a--,i.type==="link_close"&&i.info==="auto"&&a++}}function F6(e){let a;if(e.md.options.typographer)for(a=e.tokens.length-1;a>=0;a--)e.tokens[a].type==="inline"&&(c6.test(e.tokens[a].content)&&m6(e.tokens[a].children),Xs.test(e.tokens[a].content)&&f6(e.tokens[a].children))}const g6=/['"]/,Hr=/['"]/g,Rr="";function Aa(e,a,u){return e.slice(0,a)+u+e.slice(a+1)}function C6(e,a){let u;const i=[];for(let r=0;r<e.length;r++){const n=e[r],o=e[r].level;for(u=i.length-1;u>=0&&!(i[u].level<=o);u--);if(i.length=u+1,n.type!=="text")continue;let s=n.content,l=0,c=s.length;e:for(;l<c;){Hr.lastIndex=l;const h=Hr.exec(s);if(!h)break;let d=!0,F=!0;l=h.index+1;const f=h[0]==="'";let C=32;if(h.index-1>=0)C=s.charCodeAt(h.index-1);else for(u=r-1;u>=0&&!(e[u].type==="softbreak"||e[u].type==="hardbreak");u--)if(e[u].content){C=e[u].content.charCodeAt(e[u].content.length-1);break}let v=32;if(l<c)v=s.charCodeAt(l);else for(u=r+1;u<e.length&&!(e[u].type==="softbreak"||e[u].type==="hardbreak");u++)if(e[u].content){v=e[u].content.charCodeAt(0);break}const b=ra(C)||ia(String.fromCharCode(C)),D=ra(v)||ia(String.fromCharCode(v)),E=na(C),A=na(v);if(A?d=!1:D&&(E||b||(d=!1)),E?F=!1:b&&(A||D||(F=!1)),v===34&&h[0]==='"'&&C>=48&&C<=57&&(F=d=!1),d&&F&&(d=b,F=D),!d&&!F){f&&(n.content=Aa(n.content,h.index,Rr));continue}if(F)for(u=i.length-1;u>=0;u--){let z=i[u];if(i[u].level<o)break;if(z.single===f&&i[u].level===o){z=i[u];let $,T;f?($=a.md.options.quotes[2],T=a.md.options.quotes[3]):($=a.md.options.quotes[0],T=a.md.options.quotes[1]),n.content=Aa(n.content,h.index,T),e[z.token].content=Aa(e[z.token].content,z.pos,$),l+=T.length-1,z.token===r&&(l+=$.length-1),s=n.content,c=s.length,i.length=u;continue e}}d?i.push({token:r,pos:h.index,single:f,level:o}):F&&f&&(n.content=Aa(n.content,h.index,Rr))}}}function k6(e){if(e.md.options.typographer)for(let a=e.tokens.length-1;a>=0;a--)e.tokens[a].type!=="inline"||!g6.test(e.tokens[a].content)||C6(e.tokens[a].children,e)}function y6(e){let a,u;const i=e.tokens,r=i.length;for(let n=0;n<r;n++){if(i[n].type!=="inline")continue;const o=i[n].children,s=o.length;for(a=0;a<s;a++)o[a].type==="text_special"&&(o[a].type="text");for(a=u=0;a<s;a++)o[a].type==="text"&&a+1<s&&o[a+1].type==="text"?o[a+1].content=o[a].content+o[a+1].content:(a!==u&&(o[u]=o[a]),u++);a!==u&&(o.length=u)}}const In=[["normalize",n6],["block",i6],["inline",r6],["linkify",l6],["replacements",F6],["smartquotes",k6],["text_join",y6]];function oi(){this.ruler=new je;for(let e=0;e<In.length;e++)this.ruler.push(In[e][0],In[e][1])}oi.prototype.process=function(e){const a=this.ruler.getRules("");for(let u=0,i=a.length;u<i;u++)a[u](e)},oi.prototype.State=Gs;function pt(e,a,u,i){this.src=e,this.md=a,this.env=u,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const r=this.src;for(let n=0,o=0,s=0,l=0,c=r.length,h=!1;o<c;o++){const d=r.charCodeAt(o);if(!h)if(me(d)){s++,d===9?l+=4-l%4:l++;continue}else h=!0;(d===10||o===c-1)&&(d!==10&&o++,this.bMarks.push(n),this.eMarks.push(o),this.tShift.push(s),this.sCount.push(l),this.bsCount.push(0),h=!1,s=0,l=0,n=o+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}pt.prototype.push=function(e,a,u){const i=new ot(e,a,u);return i.block=!0,u<0&&this.level--,i.level=this.level,u>0&&this.level++,this.tokens.push(i),i},pt.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},pt.prototype.skipEmptyLines=function(e){for(let a=this.lineMax;e<a&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},pt.prototype.skipSpaces=function(e){for(let a=this.src.length;e<a;e++){const u=this.src.charCodeAt(e);if(!me(u))break}return e},pt.prototype.skipSpacesBack=function(e,a){if(e<=a)return e;for(;e>a;)if(!me(this.src.charCodeAt(--e)))return e+1;return e},pt.prototype.skipChars=function(e,a){for(let u=this.src.length;e<u&&this.src.charCodeAt(e)===a;e++);return e},pt.prototype.skipCharsBack=function(e,a,u){if(e<=u)return e;for(;e>u;)if(a!==this.src.charCodeAt(--e))return e+1;return e},pt.prototype.getLines=function(e,a,u,i){if(e>=a)return"";const r=new Array(a-e);for(let n=0,o=e;o<a;o++,n++){let s=0;const l=this.bMarks[o];let c=l,h;for(o+1<a||i?h=this.eMarks[o]+1:h=this.eMarks[o];c<h&&s<u;){const d=this.src.charCodeAt(c);if(me(d))d===9?s+=4-(s+this.bsCount[o])%4:s++;else if(c-l<this.tShift[o])s++;else break;c++}s>u?r[n]=new Array(s-u+1).join(" ")+this.src.slice(c,h):r[n]=this.src.slice(c,h)}return r.join("")},pt.prototype.Token=ot;const _6=65536;function Pn(e,a){const u=e.bMarks[a]+e.tShift[a],i=e.eMarks[a];return e.src.slice(u,i)}function Ur(e){const a=[],u=e.length;let i=0,r=e.charCodeAt(i),n=!1,o=0,s="";for(;i<u;)r===124&&(n?(s+=e.substring(o,i-1),o=i):(a.push(s+e.substring(o,i)),s="",o=i+1)),n=r===92,i++,r=e.charCodeAt(i);return a.push(s+e.substring(o)),a}function b6(e,a,u,i){if(a+2>u)return!1;let r=a+1;if(e.sCount[r]<e.blkIndent||e.sCount[r]-e.blkIndent>=4)return!1;let n=e.bMarks[r]+e.tShift[r];if(n>=e.eMarks[r])return!1;const o=e.src.charCodeAt(n++);if(o!==124&&o!==45&&o!==58||n>=e.eMarks[r])return!1;const s=e.src.charCodeAt(n++);if(s!==124&&s!==45&&s!==58&&!me(s)||o===45&&me(s))return!1;for(;n<e.eMarks[r];){const z=e.src.charCodeAt(n);if(z!==124&&z!==45&&z!==58&&!me(z))return!1;n++}let l=Pn(e,a+1),c=l.split("|");const h=[];for(let z=0;z<c.length;z++){const $=c[z].trim();if(!$){if(z===0||z===c.length-1)continue;return!1}if(!/^:?-+:?$/.test($))return!1;$.charCodeAt($.length-1)===58?h.push($.charCodeAt(0)===58?"center":"right"):$.charCodeAt(0)===58?h.push("left"):h.push("")}if(l=Pn(e,a).trim(),l.indexOf("|")===-1||e.sCount[a]-e.blkIndent>=4)return!1;c=Ur(l),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const d=c.length;if(d===0||d!==h.length)return!1;if(i)return!0;const F=e.parentType;e.parentType="table";const f=e.md.block.ruler.getRules("blockquote"),C=e.push("table_open","table",1),v=[a,0];C.map=v;const b=e.push("thead_open","thead",1);b.map=[a,a+1];const D=e.push("tr_open","tr",1);D.map=[a,a+1];for(let z=0;z<c.length;z++){const $=e.push("th_open","th",1);h[z]&&($.attrs=[["style","text-align:"+h[z]]]);const T=e.push("inline","",0);T.content=c[z].trim(),T.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let E,A=0;for(r=a+2;r<u&&!(e.sCount[r]<e.blkIndent);r++){let z=!1;for(let T=0,N=f.length;T<N;T++)if(f[T](e,r,u,!0)){z=!0;break}if(z||(l=Pn(e,r).trim(),!l)||e.sCount[r]-e.blkIndent>=4||(c=Ur(l),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),A+=d-c.length,A>_6))break;if(r===a+2){const T=e.push("tbody_open","tbody",1);T.map=E=[a+2,0]}const $=e.push("tr_open","tr",1);$.map=[r,r+1];for(let T=0;T<d;T++){const N=e.push("td_open","td",1);h[T]&&(N.attrs=[["style","text-align:"+h[T]]]);const G=e.push("inline","",0);G.content=c[T]?c[T].trim():"",G.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return E&&(e.push("tbody_close","tbody",-1),E[1]=r),e.push("table_close","table",-1),v[1]=r,e.parentType=F,e.line=r,!0}function D6(e,a,u){if(e.sCount[a]-e.blkIndent<4)return!1;let i=a+1,r=i;for(;i<u;){if(e.isEmpty(i)){i++;continue}if(e.sCount[i]-e.blkIndent>=4){i++,r=i;continue}break}e.line=r;const n=e.push("code_block","code",0);return n.content=e.getLines(a,r,4+e.blkIndent,!1)+`
`,n.map=[a,e.line],!0}function v6(e,a,u,i){let r=e.bMarks[a]+e.tShift[a],n=e.eMarks[a];if(e.sCount[a]-e.blkIndent>=4||r+3>n)return!1;const o=e.src.charCodeAt(r);if(o!==126&&o!==96)return!1;let s=r;r=e.skipChars(r,o);let l=r-s;if(l<3)return!1;const c=e.src.slice(s,r),h=e.src.slice(r,n);if(o===96&&h.indexOf(String.fromCharCode(o))>=0)return!1;if(i)return!0;let d=a,F=!1;for(;d++,!(d>=u||(r=s=e.bMarks[d]+e.tShift[d],n=e.eMarks[d],r<n&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(r)===o&&!(e.sCount[d]-e.blkIndent>=4)&&(r=e.skipChars(r,o),!(r-s<l)&&(r=e.skipSpaces(r),!(r<n)))){F=!0;break}l=e.sCount[a],e.line=d+(F?1:0);const f=e.push("fence","code",0);return f.info=h,f.content=e.getLines(a+1,d,l,!0),f.markup=c,f.map=[a,e.line],!0}function E6(e,a,u,i){let r=e.bMarks[a]+e.tShift[a],n=e.eMarks[a];const o=e.lineMax;if(e.sCount[a]-e.blkIndent>=4||e.src.charCodeAt(r)!==62)return!1;if(i)return!0;const s=[],l=[],c=[],h=[],d=e.md.block.ruler.getRules("blockquote"),F=e.parentType;e.parentType="blockquote";let f=!1,C;for(C=a;C<u;C++){const A=e.sCount[C]<e.blkIndent;if(r=e.bMarks[C]+e.tShift[C],n=e.eMarks[C],r>=n)break;if(e.src.charCodeAt(r++)===62&&!A){let $=e.sCount[C]+1,T,N;e.src.charCodeAt(r)===32?(r++,$++,N=!1,T=!0):e.src.charCodeAt(r)===9?(T=!0,(e.bsCount[C]+$)%4===3?(r++,$++,N=!1):N=!0):T=!1;let G=$;for(s.push(e.bMarks[C]),e.bMarks[C]=r;r<n;){const P=e.src.charCodeAt(r);if(me(P))P===9?G+=4-(G+e.bsCount[C]+(N?1:0))%4:G++;else break;r++}f=r>=n,l.push(e.bsCount[C]),e.bsCount[C]=e.sCount[C]+1+(T?1:0),c.push(e.sCount[C]),e.sCount[C]=G-$,h.push(e.tShift[C]),e.tShift[C]=r-e.bMarks[C];continue}if(f)break;let z=!1;for(let $=0,T=d.length;$<T;$++)if(d[$](e,C,u,!0)){z=!0;break}if(z){e.lineMax=C,e.blkIndent!==0&&(s.push(e.bMarks[C]),l.push(e.bsCount[C]),h.push(e.tShift[C]),c.push(e.sCount[C]),e.sCount[C]-=e.blkIndent);break}s.push(e.bMarks[C]),l.push(e.bsCount[C]),h.push(e.tShift[C]),c.push(e.sCount[C]),e.sCount[C]=-1}const v=e.blkIndent;e.blkIndent=0;const b=e.push("blockquote_open","blockquote",1);b.markup=">";const D=[a,0];b.map=D,e.md.block.tokenize(e,a,C);const E=e.push("blockquote_close","blockquote",-1);E.markup=">",e.lineMax=o,e.parentType=F,D[1]=e.line;for(let A=0;A<h.length;A++)e.bMarks[A+a]=s[A],e.tShift[A+a]=h[A],e.sCount[A+a]=c[A],e.bsCount[A+a]=l[A];return e.blkIndent=v,!0}function A6(e,a,u,i){const r=e.eMarks[a];if(e.sCount[a]-e.blkIndent>=4)return!1;let n=e.bMarks[a]+e.tShift[a];const o=e.src.charCodeAt(n++);if(o!==42&&o!==45&&o!==95)return!1;let s=1;for(;n<r;){const c=e.src.charCodeAt(n++);if(c!==o&&!me(c))return!1;c===o&&s++}if(s<3)return!1;if(i)return!0;e.line=a+1;const l=e.push("hr","hr",0);return l.map=[a,e.line],l.markup=Array(s+1).join(String.fromCharCode(o)),!0}function jr(e,a){const u=e.eMarks[a];let i=e.bMarks[a]+e.tShift[a];const r=e.src.charCodeAt(i++);if(r!==42&&r!==45&&r!==43)return-1;if(i<u){const n=e.src.charCodeAt(i);if(!me(n))return-1}return i}function qr(e,a){const u=e.bMarks[a]+e.tShift[a],i=e.eMarks[a];let r=u;if(r+1>=i)return-1;let n=e.src.charCodeAt(r++);if(n<48||n>57)return-1;for(;;){if(r>=i)return-1;if(n=e.src.charCodeAt(r++),n>=48&&n<=57){if(r-u>=10)return-1;continue}if(n===41||n===46)break;return-1}return r<i&&(n=e.src.charCodeAt(r),!me(n))?-1:r}function w6(e,a){const u=e.level+2;for(let i=a+2,r=e.tokens.length-2;i<r;i++)e.tokens[i].level===u&&e.tokens[i].type==="paragraph_open"&&(e.tokens[i+2].hidden=!0,e.tokens[i].hidden=!0,i+=2)}function B6(e,a,u,i){let r,n,o,s,l=a,c=!0;if(e.sCount[l]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let h=!1;i&&e.parentType==="paragraph"&&e.sCount[l]>=e.blkIndent&&(h=!0);let d,F,f;if((f=qr(e,l))>=0){if(d=!0,o=e.bMarks[l]+e.tShift[l],F=Number(e.src.slice(o,f-1)),h&&F!==1)return!1}else if((f=jr(e,l))>=0)d=!1;else return!1;if(h&&e.skipSpaces(f)>=e.eMarks[l])return!1;if(i)return!0;const C=e.src.charCodeAt(f-1),v=e.tokens.length;d?(s=e.push("ordered_list_open","ol",1),F!==1&&(s.attrs=[["start",F]])):s=e.push("bullet_list_open","ul",1);const b=[l,0];s.map=b,s.markup=String.fromCharCode(C);let D=!1;const E=e.md.block.ruler.getRules("list"),A=e.parentType;for(e.parentType="list";l<u;){n=f,r=e.eMarks[l];const z=e.sCount[l]+f-(e.bMarks[l]+e.tShift[l]);let $=z;for(;n<r;){const X=e.src.charCodeAt(n);if(X===9)$+=4-($+e.bsCount[l])%4;else if(X===32)$++;else break;n++}const T=n;let N;T>=r?N=1:N=$-z,N>4&&(N=1);const G=z+N;s=e.push("list_item_open","li",1),s.markup=String.fromCharCode(C);const P=[l,0];s.map=P,d&&(s.info=e.src.slice(o,f-1));const ae=e.tight,pe=e.tShift[l],ge=e.sCount[l],_e=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=G,e.tight=!0,e.tShift[l]=T-e.bMarks[l],e.sCount[l]=$,T>=r&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,u):e.md.block.tokenize(e,l,u,!0),(!e.tight||D)&&(c=!1),D=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=_e,e.tShift[l]=pe,e.sCount[l]=ge,e.tight=ae,s=e.push("list_item_close","li",-1),s.markup=String.fromCharCode(C),l=e.line,P[1]=l,l>=u||e.sCount[l]<e.blkIndent||e.sCount[l]-e.blkIndent>=4)break;let be=!1;for(let X=0,fe=E.length;X<fe;X++)if(E[X](e,l,u,!0)){be=!0;break}if(be)break;if(d){if(f=qr(e,l),f<0)break;o=e.bMarks[l]+e.tShift[l]}else if(f=jr(e,l),f<0)break;if(C!==e.src.charCodeAt(f-1))break}return d?s=e.push("ordered_list_close","ol",-1):s=e.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(C),b[1]=l,e.line=l,e.parentType=A,c&&w6(e,v),!0}function x6(e,a,u,i){let r=e.bMarks[a]+e.tShift[a],n=e.eMarks[a],o=a+1;if(e.sCount[a]-e.blkIndent>=4||e.src.charCodeAt(r)!==91)return!1;function s(E){const A=e.lineMax;if(E>=A||e.isEmpty(E))return null;let z=!1;if(e.sCount[E]-e.blkIndent>3&&(z=!0),e.sCount[E]<0&&(z=!0),!z){const N=e.md.block.ruler.getRules("reference"),G=e.parentType;e.parentType="reference";let P=!1;for(let ae=0,pe=N.length;ae<pe;ae++)if(N[ae](e,E,A,!0)){P=!0;break}if(e.parentType=G,P)return null}const $=e.bMarks[E]+e.tShift[E],T=e.eMarks[E];return e.src.slice($,T+1)}let l=e.src.slice(r,n+1);n=l.length;let c=-1;for(r=1;r<n;r++){const E=l.charCodeAt(r);if(E===91)return!1;if(E===93){c=r;break}else if(E===10){const A=s(o);A!==null&&(l+=A,n=l.length,o++)}else if(E===92&&(r++,r<n&&l.charCodeAt(r)===10)){const A=s(o);A!==null&&(l+=A,n=l.length,o++)}}if(c<0||l.charCodeAt(c+1)!==58)return!1;for(r=c+2;r<n;r++){const E=l.charCodeAt(r);if(E===10){const A=s(o);A!==null&&(l+=A,n=l.length,o++)}else if(!me(E))break}const h=e.md.helpers.parseLinkDestination(l,r,n);if(!h.ok)return!1;const d=e.md.normalizeLink(h.str);if(!e.md.validateLink(d))return!1;r=h.pos;const F=r,f=o,C=r;for(;r<n;r++){const E=l.charCodeAt(r);if(E===10){const A=s(o);A!==null&&(l+=A,n=l.length,o++)}else if(!me(E))break}let v=e.md.helpers.parseLinkTitle(l,r,n);for(;v.can_continue;){const E=s(o);if(E===null)break;l+=E,r=n,n=l.length,o++,v=e.md.helpers.parseLinkTitle(l,r,n,v)}let b;for(r<n&&C!==r&&v.ok?(b=v.str,r=v.pos):(b="",r=F,o=f);r<n;){const E=l.charCodeAt(r);if(!me(E))break;r++}if(r<n&&l.charCodeAt(r)!==10&&b)for(b="",r=F,o=f;r<n;){const E=l.charCodeAt(r);if(!me(E))break;r++}if(r<n&&l.charCodeAt(r)!==10)return!1;const D=mn(l.slice(1,c));return D?(i||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[D]>"u"&&(e.env.references[D]={title:b,href:d}),e.line=o),!0):!1}const S6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],T6="[a-zA-Z_:][a-zA-Z0-9:._-]*",M6="[^\"'=<>`\\x00-\\x20]+",z6="'[^']*'",L6='"[^"]*"',N6="(?:"+M6+"|"+z6+"|"+L6+")",$6="(?:\\s+"+T6+"(?:\\s*=\\s*"+N6+")?)",Ks="<[A-Za-z][A-Za-z0-9\\-]*"+$6+"*\\s*\\/?>",Qs="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",O6="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",I6="<[?][\\s\\S]*?[?]>",P6="<![A-Za-z][^>]*>",V6="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",H6=new RegExp("^(?:"+Ks+"|"+Qs+"|"+O6+"|"+I6+"|"+P6+"|"+V6+")"),R6=new RegExp("^(?:"+Ks+"|"+Qs+")"),pu=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+S6.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(R6.source+"\\s*$"),/^$/,!1]];function U6(e,a,u,i){let r=e.bMarks[a]+e.tShift[a],n=e.eMarks[a];if(e.sCount[a]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(r)!==60)return!1;let o=e.src.slice(r,n),s=0;for(;s<pu.length&&!pu[s][0].test(o);s++);if(s===pu.length)return!1;if(i)return pu[s][2];let l=a+1;if(!pu[s][1].test(o)){for(;l<u&&!(e.sCount[l]<e.blkIndent);l++)if(r=e.bMarks[l]+e.tShift[l],n=e.eMarks[l],o=e.src.slice(r,n),pu[s][1].test(o)){o.length!==0&&l++;break}}e.line=l;const c=e.push("html_block","",0);return c.map=[a,l],c.content=e.getLines(a,l,e.blkIndent,!0),!0}function j6(e,a,u,i){let r=e.bMarks[a]+e.tShift[a],n=e.eMarks[a];if(e.sCount[a]-e.blkIndent>=4)return!1;let o=e.src.charCodeAt(r);if(o!==35||r>=n)return!1;let s=1;for(o=e.src.charCodeAt(++r);o===35&&r<n&&s<=6;)s++,o=e.src.charCodeAt(++r);if(s>6||r<n&&!me(o))return!1;if(i)return!0;n=e.skipSpacesBack(n,r);const l=e.skipCharsBack(n,35,r);l>r&&me(e.src.charCodeAt(l-1))&&(n=l),e.line=a+1;const c=e.push("heading_open","h"+String(s),1);c.markup="########".slice(0,s),c.map=[a,e.line];const h=e.push("inline","",0);h.content=e.src.slice(r,n).trim(),h.map=[a,e.line],h.children=[];const d=e.push("heading_close","h"+String(s),-1);return d.markup="########".slice(0,s),!0}function q6(e,a,u){const i=e.md.block.ruler.getRules("paragraph");if(e.sCount[a]-e.blkIndent>=4)return!1;const r=e.parentType;e.parentType="paragraph";let n=0,o,s=a+1;for(;s<u&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3)continue;if(e.sCount[s]>=e.blkIndent){let f=e.bMarks[s]+e.tShift[s];const C=e.eMarks[s];if(f<C&&(o=e.src.charCodeAt(f),(o===45||o===61)&&(f=e.skipChars(f,o),f=e.skipSpaces(f),f>=C))){n=o===61?1:2;break}}if(e.sCount[s]<0)continue;let F=!1;for(let f=0,C=i.length;f<C;f++)if(i[f](e,s,u,!0)){F=!0;break}if(F)break}if(!n)return!1;const l=e.getLines(a,s,e.blkIndent,!1).trim();e.line=s+1;const c=e.push("heading_open","h"+String(n),1);c.markup=String.fromCharCode(o),c.map=[a,e.line];const h=e.push("inline","",0);h.content=l,h.map=[a,e.line-1],h.children=[];const d=e.push("heading_close","h"+String(n),-1);return d.markup=String.fromCharCode(o),e.parentType=r,!0}function W6(e,a,u){const i=e.md.block.ruler.getRules("paragraph"),r=e.parentType;let n=a+1;for(e.parentType="paragraph";n<u&&!e.isEmpty(n);n++){if(e.sCount[n]-e.blkIndent>3||e.sCount[n]<0)continue;let c=!1;for(let h=0,d=i.length;h<d;h++)if(i[h](e,n,u,!0)){c=!0;break}if(c)break}const o=e.getLines(a,n,e.blkIndent,!1).trim();e.line=n;const s=e.push("paragraph_open","p",1);s.map=[a,e.line];const l=e.push("inline","",0);return l.content=o,l.map=[a,e.line],l.children=[],e.push("paragraph_close","p",-1),e.parentType=r,!0}const wa=[["table",b6,["paragraph","reference"]],["code",D6],["fence",v6,["paragraph","reference","blockquote","list"]],["blockquote",E6,["paragraph","reference","blockquote","list"]],["hr",A6,["paragraph","reference","blockquote","list"]],["list",B6,["paragraph","reference","blockquote"]],["reference",x6],["html_block",U6,["paragraph","reference","blockquote"]],["heading",j6,["paragraph","reference","blockquote"]],["lheading",q6],["paragraph",W6]];function Na(){this.ruler=new je;for(let e=0;e<wa.length;e++)this.ruler.push(wa[e][0],wa[e][1],{alt:(wa[e][2]||[]).slice()})}Na.prototype.tokenize=function(e,a,u){const i=this.ruler.getRules(""),r=i.length,n=e.md.options.maxNesting;let o=a,s=!1;for(;o<u&&(e.line=o=e.skipEmptyLines(o),!(o>=u||e.sCount[o]<e.blkIndent));){if(e.level>=n){e.line=u;break}const l=e.line;let c=!1;for(let h=0;h<r;h++)if(c=i[h](e,o,u,!1),c){if(l>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),o=e.line,o<u&&e.isEmpty(o)&&(s=!0,o++,e.line=o)}},Na.prototype.parse=function(e,a,u,i){if(!e)return;const r=new this.State(e,a,u,i);this.tokenize(r,r.line,r.lineMax)},Na.prototype.State=pt;function Pu(e,a,u,i){this.src=e,this.env=u,this.md=a,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Pu.prototype.pushPending=function(){const e=new ot("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},Pu.prototype.push=function(e,a,u){this.pending&&this.pushPending();const i=new ot(e,a,u);let r=null;return u<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,u>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(r),i},Pu.prototype.scanDelims=function(e,a){const u=this.posMax,i=this.src.charCodeAt(e),r=e>0?this.src.charCodeAt(e-1):32;let n=e;for(;n<u&&this.src.charCodeAt(n)===i;)n++;const o=n-e,s=n<u?this.src.charCodeAt(n):32,l=ra(r)||ia(String.fromCharCode(r)),c=ra(s)||ia(String.fromCharCode(s)),h=na(r),d=na(s),F=!d&&(!c||h||l),f=!h&&(!l||d||c);return{can_open:F&&(a||!f||l),can_close:f&&(a||!F||c),length:o}},Pu.prototype.Token=ot;function Y6(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Z6(e,a){let u=e.pos;for(;u<e.posMax&&!Y6(e.src.charCodeAt(u));)u++;return u===e.pos?!1:(a||(e.pending+=e.src.slice(e.pos,u)),e.pos=u,!0)}const G6=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function X6(e,a){if(!e.md.options.linkify||e.linkLevel>0)return!1;const u=e.pos,i=e.posMax;if(u+3>i||e.src.charCodeAt(u)!==58||e.src.charCodeAt(u+1)!==47||e.src.charCodeAt(u+2)!==47)return!1;const r=e.pending.match(G6);if(!r)return!1;const n=r[1],o=e.md.linkify.matchAtStart(e.src.slice(u-n.length));if(!o)return!1;let s=o.url;if(s.length<=n.length)return!1;s=s.replace(/\*+$/,"");const l=e.md.normalizeLink(s);if(!e.md.validateLink(l))return!1;if(!a){e.pending=e.pending.slice(0,-n.length);const c=e.push("link_open","a",1);c.attrs=[["href",l]],c.markup="linkify",c.info="auto";const h=e.push("text","",0);h.content=e.md.normalizeLinkText(s);const d=e.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return e.pos+=s.length-n.length,!0}function K6(e,a){let u=e.pos;if(e.src.charCodeAt(u)!==10)return!1;const i=e.pending.length-1,r=e.posMax;if(!a)if(i>=0&&e.pending.charCodeAt(i)===32)if(i>=1&&e.pending.charCodeAt(i-1)===32){let n=i-1;for(;n>=1&&e.pending.charCodeAt(n-1)===32;)n--;e.pending=e.pending.slice(0,n),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(u++;u<r&&me(e.src.charCodeAt(u));)u++;return e.pos=u,!0}const qi=[];for(let e=0;e<256;e++)qi.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){qi[e.charCodeAt(0)]=1});function Q6(e,a){let u=e.pos;const i=e.posMax;if(e.src.charCodeAt(u)!==92||(u++,u>=i))return!1;let r=e.src.charCodeAt(u);if(r===10){for(a||e.push("hardbreak","br",0),u++;u<i&&(r=e.src.charCodeAt(u),!!me(r));)u++;return e.pos=u,!0}let n=e.src[u];if(r>=55296&&r<=56319&&u+1<i){const s=e.src.charCodeAt(u+1);s>=56320&&s<=57343&&(n+=e.src[u+1],u++)}const o="\\"+n;if(!a){const s=e.push("text_special","",0);r<256&&qi[r]!==0?s.content=n:s.content=o,s.markup=o,s.info="escape"}return e.pos=u+1,!0}function J6(e,a){let u=e.pos;if(e.src.charCodeAt(u)!==96)return!1;const i=u;u++;const r=e.posMax;for(;u<r&&e.src.charCodeAt(u)===96;)u++;const n=e.src.slice(i,u),o=n.length;if(e.backticksScanned&&(e.backticks[o]||0)<=i)return a||(e.pending+=n),e.pos+=o,!0;let s=u,l;for(;(l=e.src.indexOf("`",s))!==-1;){for(s=l+1;s<r&&e.src.charCodeAt(s)===96;)s++;const c=s-l;if(c===o){if(!a){const h=e.push("code_inline","code",0);h.markup=n,h.content=e.src.slice(u,l).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=s,!0}e.backticks[c]=l}return e.backticksScanned=!0,a||(e.pending+=n),e.pos+=o,!0}function e4(e,a){const u=e.pos,i=e.src.charCodeAt(u);if(a||i!==126)return!1;const r=e.scanDelims(e.pos,!0);let n=r.length;const o=String.fromCharCode(i);if(n<2)return!1;let s;n%2&&(s=e.push("text","",0),s.content=o,n--);for(let l=0;l<n;l+=2)s=e.push("text","",0),s.content=o+o,e.delimiters.push({marker:i,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0}function Wr(e,a){let u;const i=[],r=a.length;for(let n=0;n<r;n++){const o=a[n];if(o.marker!==126||o.end===-1)continue;const s=a[o.end];u=e.tokens[o.token],u.type="s_open",u.tag="s",u.nesting=1,u.markup="~~",u.content="",u=e.tokens[s.token],u.type="s_close",u.tag="s",u.nesting=-1,u.markup="~~",u.content="",e.tokens[s.token-1].type==="text"&&e.tokens[s.token-1].content==="~"&&i.push(s.token-1)}for(;i.length;){const n=i.pop();let o=n+1;for(;o<e.tokens.length&&e.tokens[o].type==="s_close";)o++;o--,n!==o&&(u=e.tokens[o],e.tokens[o]=e.tokens[n],e.tokens[n]=u)}}function t4(e){const a=e.tokens_meta,u=e.tokens_meta.length;Wr(e,e.delimiters);for(let i=0;i<u;i++)a[i]&&a[i].delimiters&&Wr(e,a[i].delimiters)}const Js={tokenize:e4,postProcess:t4};function u4(e,a){const u=e.pos,i=e.src.charCodeAt(u);if(a||i!==95&&i!==42)return!1;const r=e.scanDelims(e.pos,i===42);for(let n=0;n<r.length;n++){const o=e.push("text","",0);o.content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return e.pos+=r.length,!0}function Yr(e,a){const u=a.length;for(let i=u-1;i>=0;i--){const r=a[i];if(r.marker!==95&&r.marker!==42||r.end===-1)continue;const n=a[r.end],o=i>0&&a[i-1].end===r.end+1&&a[i-1].marker===r.marker&&a[i-1].token===r.token-1&&a[r.end+1].token===n.token+1,s=String.fromCharCode(r.marker),l=e.tokens[r.token];l.type=o?"strong_open":"em_open",l.tag=o?"strong":"em",l.nesting=1,l.markup=o?s+s:s,l.content="";const c=e.tokens[n.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?s+s:s,c.content="",o&&(e.tokens[a[i-1].token].content="",e.tokens[a[r.end+1].token].content="",i--)}}function a4(e){const a=e.tokens_meta,u=e.tokens_meta.length;Yr(e,e.delimiters);for(let i=0;i<u;i++)a[i]&&a[i].delimiters&&Yr(e,a[i].delimiters)}const el={tokenize:u4,postProcess:a4};function n4(e,a){let u,i,r,n,o="",s="",l=e.pos,c=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const h=e.pos,d=e.posMax,F=e.pos+1,f=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(f<0)return!1;let C=f+1;if(C<d&&e.src.charCodeAt(C)===40){for(c=!1,C++;C<d&&(u=e.src.charCodeAt(C),!(!me(u)&&u!==10));C++);if(C>=d)return!1;if(l=C,r=e.md.helpers.parseLinkDestination(e.src,C,e.posMax),r.ok){for(o=e.md.normalizeLink(r.str),e.md.validateLink(o)?C=r.pos:o="",l=C;C<d&&(u=e.src.charCodeAt(C),!(!me(u)&&u!==10));C++);if(r=e.md.helpers.parseLinkTitle(e.src,C,e.posMax),C<d&&l!==C&&r.ok)for(s=r.str,C=r.pos;C<d&&(u=e.src.charCodeAt(C),!(!me(u)&&u!==10));C++);}(C>=d||e.src.charCodeAt(C)!==41)&&(c=!0),C++}if(c){if(typeof e.env.references>"u")return!1;if(C<d&&e.src.charCodeAt(C)===91?(l=C+1,C=e.md.helpers.parseLinkLabel(e,C),C>=0?i=e.src.slice(l,C++):C=f+1):C=f+1,i||(i=e.src.slice(F,f)),n=e.env.references[mn(i)],!n)return e.pos=h,!1;o=n.href,s=n.title}if(!a){e.pos=F,e.posMax=f;const v=e.push("link_open","a",1),b=[["href",o]];v.attrs=b,s&&b.push(["title",s]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=C,e.posMax=d,!0}function i4(e,a){let u,i,r,n,o,s,l,c,h="";const d=e.pos,F=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const f=e.pos+2,C=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(C<0)return!1;if(n=C+1,n<F&&e.src.charCodeAt(n)===40){for(n++;n<F&&(u=e.src.charCodeAt(n),!(!me(u)&&u!==10));n++);if(n>=F)return!1;for(c=n,s=e.md.helpers.parseLinkDestination(e.src,n,e.posMax),s.ok&&(h=e.md.normalizeLink(s.str),e.md.validateLink(h)?n=s.pos:h=""),c=n;n<F&&(u=e.src.charCodeAt(n),!(!me(u)&&u!==10));n++);if(s=e.md.helpers.parseLinkTitle(e.src,n,e.posMax),n<F&&c!==n&&s.ok)for(l=s.str,n=s.pos;n<F&&(u=e.src.charCodeAt(n),!(!me(u)&&u!==10));n++);else l="";if(n>=F||e.src.charCodeAt(n)!==41)return e.pos=d,!1;n++}else{if(typeof e.env.references>"u")return!1;if(n<F&&e.src.charCodeAt(n)===91?(c=n+1,n=e.md.helpers.parseLinkLabel(e,n),n>=0?r=e.src.slice(c,n++):n=C+1):n=C+1,r||(r=e.src.slice(f,C)),o=e.env.references[mn(r)],!o)return e.pos=d,!1;h=o.href,l=o.title}if(!a){i=e.src.slice(f,C);const v=[];e.md.inline.parse(i,e.md,e.env,v);const b=e.push("image","img",0),D=[["src",h],["alt",""]];b.attrs=D,b.children=v,b.content=i,l&&D.push(["title",l])}return e.pos=n,e.posMax=F,!0}const r4=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,o4=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function s4(e,a){let u=e.pos;if(e.src.charCodeAt(u)!==60)return!1;const i=e.pos,r=e.posMax;for(;;){if(++u>=r)return!1;const o=e.src.charCodeAt(u);if(o===60)return!1;if(o===62)break}const n=e.src.slice(i+1,u);if(o4.test(n)){const o=e.md.normalizeLink(n);if(!e.md.validateLink(o))return!1;if(!a){const s=e.push("link_open","a",1);s.attrs=[["href",o]],s.markup="autolink",s.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(n);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=n.length+2,!0}if(r4.test(n)){const o=e.md.normalizeLink("mailto:"+n);if(!e.md.validateLink(o))return!1;if(!a){const s=e.push("link_open","a",1);s.attrs=[["href",o]],s.markup="autolink",s.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(n);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=n.length+2,!0}return!1}function l4(e){return/^<a[>\s]/i.test(e)}function c4(e){return/^<\/a\s*>/i.test(e)}function d4(e){const a=e|32;return a>=97&&a<=122}function p4(e,a){if(!e.md.options.html)return!1;const u=e.posMax,i=e.pos;if(e.src.charCodeAt(i)!==60||i+2>=u)return!1;const r=e.src.charCodeAt(i+1);if(r!==33&&r!==63&&r!==47&&!d4(r))return!1;const n=e.src.slice(i).match(H6);if(!n)return!1;if(!a){const o=e.push("html_inline","",0);o.content=n[0],l4(o.content)&&e.linkLevel++,c4(o.content)&&e.linkLevel--}return e.pos+=n[0].length,!0}const h4=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,m4=/^&([a-z][a-z0-9]{1,31});/i;function f4(e,a){const u=e.pos,i=e.posMax;if(e.src.charCodeAt(u)!==38||u+1>=i)return!1;if(e.src.charCodeAt(u+1)===35){const r=e.src.slice(u).match(h4);if(r){if(!a){const n=r[1][0].toLowerCase()==="x"?parseInt(r[1].slice(1),16):parseInt(r[1],10),o=e.push("text_special","",0);o.content=ji(n)?Ga(n):Ga(65533),o.markup=r[0],o.info="entity"}return e.pos+=r[0].length,!0}}else{const r=e.src.slice(u).match(m4);if(r){const n=Ws(r[0]);if(n!==r[0]){if(!a){const o=e.push("text_special","",0);o.content=n,o.markup=r[0],o.info="entity"}return e.pos+=r[0].length,!0}}}return!1}function Zr(e){const a={},u=e.length;if(!u)return;let i=0,r=-2;const n=[];for(let o=0;o<u;o++){const s=e[o];if(n.push(0),(e[i].marker!==s.marker||r!==s.token-1)&&(i=o),r=s.token,s.length=s.length||0,!s.close)continue;a.hasOwnProperty(s.marker)||(a[s.marker]=[-1,-1,-1,-1,-1,-1]);const l=a[s.marker][(s.open?3:0)+s.length%3];let c=i-n[i]-1,h=c;for(;c>l;c-=n[c]+1){const d=e[c];if(d.marker===s.marker&&d.open&&d.end<0){let F=!1;if((d.close||s.open)&&(d.length+s.length)%3===0&&(d.length%3!==0||s.length%3!==0)&&(F=!0),!F){const f=c>0&&!e[c-1].open?n[c-1]+1:0;n[o]=o-c+f,n[c]=f,s.open=!1,d.end=o,d.close=!1,h=-1,r=-2;break}}}h!==-1&&(a[s.marker][(s.open?3:0)+(s.length||0)%3]=h)}}function F4(e){const a=e.tokens_meta,u=e.tokens_meta.length;Zr(e.delimiters);for(let i=0;i<u;i++)a[i]&&a[i].delimiters&&Zr(a[i].delimiters)}function g4(e){let a,u,i=0;const r=e.tokens,n=e.tokens.length;for(a=u=0;a<n;a++)r[a].nesting<0&&i--,r[a].level=i,r[a].nesting>0&&i++,r[a].type==="text"&&a+1<n&&r[a+1].type==="text"?r[a+1].content=r[a].content+r[a+1].content:(a!==u&&(r[u]=r[a]),u++);a!==u&&(r.length=u)}const Vn=[["text",Z6],["linkify",X6],["newline",K6],["escape",Q6],["backticks",J6],["strikethrough",Js.tokenize],["emphasis",el.tokenize],["link",n4],["image",i4],["autolink",s4],["html_inline",p4],["entity",f4]],Hn=[["balance_pairs",F4],["strikethrough",Js.postProcess],["emphasis",el.postProcess],["fragments_join",g4]];function Vu(){this.ruler=new je;for(let e=0;e<Vn.length;e++)this.ruler.push(Vn[e][0],Vn[e][1]);this.ruler2=new je;for(let e=0;e<Hn.length;e++)this.ruler2.push(Hn[e][0],Hn[e][1])}Vu.prototype.skipToken=function(e){const a=e.pos,u=this.ruler.getRules(""),i=u.length,r=e.md.options.maxNesting,n=e.cache;if(typeof n[a]<"u"){e.pos=n[a];return}let o=!1;if(e.level<r){for(let s=0;s<i;s++)if(e.level++,o=u[s](e,!0),e.level--,o){if(a>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;o||e.pos++,n[a]=e.pos},Vu.prototype.tokenize=function(e){const a=this.ruler.getRules(""),u=a.length,i=e.posMax,r=e.md.options.maxNesting;for(;e.pos<i;){const n=e.pos;let o=!1;if(e.level<r){for(let s=0;s<u;s++)if(o=a[s](e,!1),o){if(n>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(e.pos>=i)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Vu.prototype.parse=function(e,a,u,i){const r=new this.State(e,a,u,i);this.tokenize(r);const n=this.ruler2.getRules(""),o=n.length;for(let s=0;s<o;s++)n[s](r)},Vu.prototype.State=Pu;function C4(e){const a={};e=e||{},a.src_Any=Hs.source,a.src_Cc=Rs.source,a.src_Z=js.source,a.src_P=Ri.source,a.src_ZPCc=[a.src_Z,a.src_P,a.src_Cc].join("|"),a.src_ZCc=[a.src_Z,a.src_Cc].join("|");const u="[><]";return a.src_pseudo_letter="(?:(?!"+u+"|"+a.src_ZPCc+")"+a.src_Any+")",a.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",a.src_auth="(?:(?:(?!"+a.src_ZCc+"|[@/\\[\\]()]).)+@)?",a.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",a.src_host_terminator="(?=$|"+u+"|"+a.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+a.src_ZPCc+"))",a.src_path="(?:[/?#](?:(?!"+a.src_ZCc+"|"+u+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+a.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+a.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+a.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+a.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+a.src_ZCc+"|[']).)+\\'|\\'(?="+a.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+a.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+a.src_ZCc+"|$)|;(?!"+a.src_ZCc+"|$)|\\!+(?!"+a.src_ZCc+"|[!]|$)|\\?(?!"+a.src_ZCc+"|[?]|$))+|\\/)?",a.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',a.src_xn="xn--[a-z0-9\\-]{1,59}",a.src_domain_root="(?:"+a.src_xn+"|"+a.src_pseudo_letter+"{1,63})",a.src_domain="(?:"+a.src_xn+"|(?:"+a.src_pseudo_letter+")|(?:"+a.src_pseudo_letter+"(?:-|"+a.src_pseudo_letter+"){0,61}"+a.src_pseudo_letter+"))",a.src_host="(?:(?:(?:(?:"+a.src_domain+")\\.)*"+a.src_domain+"))",a.tpl_host_fuzzy="(?:"+a.src_ip4+"|(?:(?:(?:"+a.src_domain+")\\.)+(?:%TLDS%)))",a.tpl_host_no_ip_fuzzy="(?:(?:(?:"+a.src_domain+")\\.)+(?:%TLDS%))",a.src_host_strict=a.src_host+a.src_host_terminator,a.tpl_host_fuzzy_strict=a.tpl_host_fuzzy+a.src_host_terminator,a.src_host_port_strict=a.src_host+a.src_port+a.src_host_terminator,a.tpl_host_port_fuzzy_strict=a.tpl_host_fuzzy+a.src_port+a.src_host_terminator,a.tpl_host_port_no_ip_fuzzy_strict=a.tpl_host_no_ip_fuzzy+a.src_port+a.src_host_terminator,a.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+a.src_ZPCc+"|>|$))",a.tpl_email_fuzzy="(^|"+u+'|"|\\(|'+a.src_ZCc+")("+a.src_email_name+"@"+a.tpl_host_fuzzy_strict+")",a.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+a.src_ZPCc+"))((?![$+<=>^`|])"+a.tpl_host_port_fuzzy_strict+a.src_path+")",a.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+a.src_ZPCc+"))((?![$+<=>^`|])"+a.tpl_host_port_no_ip_fuzzy_strict+a.src_path+")",a}function si(e){return Array.prototype.slice.call(arguments,1).forEach(function(a){a&&Object.keys(a).forEach(function(u){e[u]=a[u]})}),e}function fn(e){return Object.prototype.toString.call(e)}function k4(e){return fn(e)==="[object String]"}function y4(e){return fn(e)==="[object Object]"}function _4(e){return fn(e)==="[object RegExp]"}function Gr(e){return fn(e)==="[object Function]"}function b4(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const tl={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function D4(e){return Object.keys(e||{}).reduce(function(a,u){return a||tl.hasOwnProperty(u)},!1)}const v4={"http:":{validate:function(e,a,u){const i=e.slice(a);return u.re.http||(u.re.http=new RegExp("^\\/\\/"+u.re.src_auth+u.re.src_host_port_strict+u.re.src_path,"i")),u.re.http.test(i)?i.match(u.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,a,u){const i=e.slice(a);return u.re.no_http||(u.re.no_http=new RegExp("^"+u.re.src_auth+"(?:localhost|(?:(?:"+u.re.src_domain+")\\.)+"+u.re.src_domain_root+")"+u.re.src_port+u.re.src_host_terminator+u.re.src_path,"i")),u.re.no_http.test(i)?a>=3&&e[a-3]===":"||a>=3&&e[a-3]==="/"?0:i.match(u.re.no_http)[0].length:0}},"mailto:":{validate:function(e,a,u){const i=e.slice(a);return u.re.mailto||(u.re.mailto=new RegExp("^"+u.re.src_email_name+"@"+u.re.src_host_strict,"i")),u.re.mailto.test(i)?i.match(u.re.mailto)[0].length:0}}},E4="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",A4="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function w4(e){e.__index__=-1,e.__text_cache__=""}function B4(e){return function(a,u){const i=a.slice(u);return e.test(i)?i.match(e)[0].length:0}}function Xr(){return function(e,a){a.normalize(e)}}function $a(e){const a=e.re=C4(e.__opts__),u=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||u.push(E4),u.push(a.src_xn),a.src_tlds=u.join("|");function i(s){return s.replace("%TLDS%",a.src_tlds)}a.email_fuzzy=RegExp(i(a.tpl_email_fuzzy),"i"),a.link_fuzzy=RegExp(i(a.tpl_link_fuzzy),"i"),a.link_no_ip_fuzzy=RegExp(i(a.tpl_link_no_ip_fuzzy),"i"),a.host_fuzzy_test=RegExp(i(a.tpl_host_fuzzy_test),"i");const r=[];e.__compiled__={};function n(s,l){throw new Error('(LinkifyIt) Invalid schema "'+s+'": '+l)}Object.keys(e.__schemas__).forEach(function(s){const l=e.__schemas__[s];if(l===null)return;const c={validate:null,link:null};if(e.__compiled__[s]=c,y4(l)){_4(l.validate)?c.validate=B4(l.validate):Gr(l.validate)?c.validate=l.validate:n(s,l),Gr(l.normalize)?c.normalize=l.normalize:l.normalize?n(s,l):c.normalize=Xr();return}if(k4(l)){r.push(s);return}n(s,l)}),r.forEach(function(s){e.__compiled__[e.__schemas__[s]]&&(e.__compiled__[s].validate=e.__compiled__[e.__schemas__[s]].validate,e.__compiled__[s].normalize=e.__compiled__[e.__schemas__[s]].normalize)}),e.__compiled__[""]={validate:null,normalize:Xr()};const o=Object.keys(e.__compiled__).filter(function(s){return s.length>0&&e.__compiled__[s]}).map(b4).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+a.src_ZPCc+"))("+o+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+a.src_ZPCc+"))("+o+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),w4(e)}function x4(e,a){const u=e.__index__,i=e.__last_index__,r=e.__text_cache__.slice(u,i);this.schema=e.__schema__.toLowerCase(),this.index=u+a,this.lastIndex=i+a,this.raw=r,this.text=r,this.url=r}function Rn(e,a){const u=new x4(e,a);return e.__compiled__[u.schema].normalize(u,e),u}function Ke(e,a){if(!(this instanceof Ke))return new Ke(e,a);a||D4(e)&&(a=e,e={}),this.__opts__=si({},tl,a),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=si({},v4,e),this.__compiled__={},this.__tlds__=A4,this.__tlds_replaced__=!1,this.re={},$a(this)}Ke.prototype.add=function(e,a){return this.__schemas__[e]=a,$a(this),this},Ke.prototype.set=function(e){return this.__opts__=si(this.__opts__,e),this},Ke.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let a,u,i,r,n,o,s,l,c;if(this.re.schema_test.test(e)){for(s=this.re.schema_search,s.lastIndex=0;(a=s.exec(e))!==null;)if(r=this.testSchemaAt(e,a[2],s.lastIndex),r){this.__schema__=a[2],this.__index__=a.index+a[1].length,this.__last_index__=a.index+a[0].length+r;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(u=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(n=u.index+u[1].length,(this.__index__<0||n<this.__index__)&&(this.__schema__="",this.__index__=n,this.__last_index__=u.index+u[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(n=i.index+i[1].length,o=i.index+i[0].length,(this.__index__<0||n<this.__index__||n===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=n,this.__last_index__=o))),this.__index__>=0},Ke.prototype.pretest=function(e){return this.re.pretest.test(e)},Ke.prototype.testSchemaAt=function(e,a,u){return this.__compiled__[a.toLowerCase()]?this.__compiled__[a.toLowerCase()].validate(e,u,this):0},Ke.prototype.match=function(e){const a=[];let u=0;this.__index__>=0&&this.__text_cache__===e&&(a.push(Rn(this,u)),u=this.__last_index__);let i=u?e.slice(u):e;for(;this.test(i);)a.push(Rn(this,u)),i=i.slice(this.__last_index__),u+=this.__last_index__;return a.length?a:null},Ke.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const a=this.re.schema_at_start.exec(e);if(!a)return null;const u=this.testSchemaAt(e,a[2],a[0].length);return u?(this.__schema__=a[2],this.__index__=a.index+a[1].length,this.__last_index__=a.index+a[0].length+u,Rn(this,0)):null},Ke.prototype.tlds=function(e,a){return e=Array.isArray(e)?e:[e],a?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(u,i,r){return u!==r[i-1]}).reverse(),$a(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,$a(this),this)},Ke.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)},Ke.prototype.onCompile=function(){};const Eu=2147483647,mt=36,Wi=1,oa=26,S4=38,T4=700,ul=72,al=128,nl="-",M4=/^xn--/,z4=/[^\0-\x7F]/,L4=/[\x2E\u3002\uFF0E\uFF61]/g,N4={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Un=mt-Wi,ft=Math.floor,jn=String.fromCharCode;function Lt(e){throw new RangeError(N4[e])}function $4(e,a){const u=[];let i=e.length;for(;i--;)u[i]=a(e[i]);return u}function il(e,a){const u=e.split("@");let i="";u.length>1&&(i=u[0]+"@",e=u[1]),e=e.replace(L4,".");const r=e.split("."),n=$4(r,a).join(".");return i+n}function rl(e){const a=[];let u=0;const i=e.length;for(;u<i;){const r=e.charCodeAt(u++);if(r>=55296&&r<=56319&&u<i){const n=e.charCodeAt(u++);(n&64512)==56320?a.push(((r&1023)<<10)+(n&1023)+65536):(a.push(r),u--)}else a.push(r)}return a}const O4=e=>String.fromCodePoint(...e),I4=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:mt},Kr=function(e,a){return e+22+75*(e<26)-((a!=0)<<5)},ol=function(e,a,u){let i=0;for(e=u?ft(e/T4):e>>1,e+=ft(e/a);e>Un*oa>>1;i+=mt)e=ft(e/Un);return ft(i+(Un+1)*e/(e+S4))},sl=function(e){const a=[],u=e.length;let i=0,r=al,n=ul,o=e.lastIndexOf(nl);o<0&&(o=0);for(let s=0;s<o;++s)e.charCodeAt(s)>=128&&Lt("not-basic"),a.push(e.charCodeAt(s));for(let s=o>0?o+1:0;s<u;){const l=i;for(let h=1,d=mt;;d+=mt){s>=u&&Lt("invalid-input");const F=I4(e.charCodeAt(s++));F>=mt&&Lt("invalid-input"),F>ft((Eu-i)/h)&&Lt("overflow"),i+=F*h;const f=d<=n?Wi:d>=n+oa?oa:d-n;if(F<f)break;const C=mt-f;h>ft(Eu/C)&&Lt("overflow"),h*=C}const c=a.length+1;n=ol(i-l,c,l==0),ft(i/c)>Eu-r&&Lt("overflow"),r+=ft(i/c),i%=c,a.splice(i++,0,r)}return String.fromCodePoint(...a)},ll=function(e){const a=[];e=rl(e);const u=e.length;let i=al,r=0,n=ul;for(const l of e)l<128&&a.push(jn(l));const o=a.length;let s=o;for(o&&a.push(nl);s<u;){let l=Eu;for(const h of e)h>=i&&h<l&&(l=h);const c=s+1;l-i>ft((Eu-r)/c)&&Lt("overflow"),r+=(l-i)*c,i=l;for(const h of e)if(h<i&&++r>Eu&&Lt("overflow"),h===i){let d=r;for(let F=mt;;F+=mt){const f=F<=n?Wi:F>=n+oa?oa:F-n;if(d<f)break;const C=d-f,v=mt-f;a.push(jn(Kr(f+C%v,0))),d=ft(C/v)}a.push(jn(Kr(d,0))),n=ol(r,c,s===o),r=0,++s}++r,++i}return a.join("")},P4=function(e){return il(e,function(a){return M4.test(a)?sl(a.slice(4).toLowerCase()):a})},V4=function(e){return il(e,function(a){return z4.test(a)?"xn--"+ll(a):a})},cl={version:"2.3.1",ucs2:{decode:rl,encode:O4},decode:sl,encode:ll,toASCII:V4,toUnicode:P4},H4={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},R4={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},U4={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},j4={default:H4,zero:R4,commonmark:U4},q4=/^(vbscript|javascript|file|data):/,W4=/^data:image\/(gif|png|jpeg|webp);/;function Y4(e){const a=e.trim().toLowerCase();return q4.test(a)?W4.test(a):!0}const dl=["http:","https:","mailto:"];function Z4(e){const a=Hi(e,!0);if(a.hostname&&(!a.protocol||dl.indexOf(a.protocol)>=0))try{a.hostname=cl.toASCII(a.hostname)}catch{}return aa(Vi(a))}function G4(e){const a=Hi(e,!0);if(a.hostname&&(!a.protocol||dl.indexOf(a.protocol)>=0))try{a.hostname=cl.toUnicode(a.hostname)}catch{}return Bu(Vi(a),Bu.defaultChars+"%")}function ut(e,a){if(!(this instanceof ut))return new ut(e,a);a||Ui(e)||(a=e||{},e="default"),this.inline=new Vu,this.block=new Na,this.core=new oi,this.renderer=new gu,this.linkify=new Ke,this.validateLink=Y4,this.normalizeLink=Z4,this.normalizeLinkText=G4,this.utils=K3,this.helpers=hn({},t6),this.options={},this.configure(e),a&&this.set(a)}ut.prototype.set=function(e){return hn(this.options,e),this},ut.prototype.configure=function(e){const a=this;if(Ui(e)){const u=e;if(e=j4[u],!e)throw new Error('Wrong `markdown-it` preset "'+u+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&a.set(e.options),e.components&&Object.keys(e.components).forEach(function(u){e.components[u].rules&&a[u].ruler.enableOnly(e.components[u].rules),e.components[u].rules2&&a[u].ruler2.enableOnly(e.components[u].rules2)}),this},ut.prototype.enable=function(e,a){let u=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){u=u.concat(this[r].ruler.enable(e,!0))},this),u=u.concat(this.inline.ruler2.enable(e,!0));const i=e.filter(function(r){return u.indexOf(r)<0});if(i.length&&!a)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this},ut.prototype.disable=function(e,a){let u=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){u=u.concat(this[r].ruler.disable(e,!0))},this),u=u.concat(this.inline.ruler2.disable(e,!0));const i=e.filter(function(r){return u.indexOf(r)<0});if(i.length&&!a)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this},ut.prototype.use=function(e){const a=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,a),this},ut.prototype.parse=function(e,a){if(typeof e!="string")throw new Error("Input data should be a String");const u=new this.core.State(e,this,a);return this.core.process(u),u.tokens},ut.prototype.render=function(e,a){return a=a||{},this.renderer.render(this.parse(e,a),this.options,a)},ut.prototype.parseInline=function(e,a){const u=new this.core.State(e,this,a);return u.inlineMode=!0,this.core.process(u),u.tokens},ut.prototype.renderInline=function(e,a){return a=a||{},this.renderer.render(this.parseInline(e,a),this.options,a)};function X4(e,a){var u,i,r=e.attrs[e.attrIndex("href")][1];for(u=0;u<a.length;++u){if(i=a[u],typeof i.matcher=="function"){if(i.matcher(r,i))return i;continue}return i}}function K4(e,a,u){Object.keys(u).forEach(function(i){var r,n=u[i];i==="className"&&(i="class"),r=a[e].attrIndex(i),r<0?a[e].attrPush([i,n]):a[e].attrs[r][1]=n})}function pl(e,a){a?a=Array.isArray(a)?a:[a]:a=[],Object.freeze(a);var u=e.renderer.rules.link_open||this.defaultRender;e.renderer.rules.link_open=function(i,r,n,o,s){var l=X4(i[r],a),c=l&&l.attrs;return c&&K4(r,i,c),u(i,r,n,o,s)}}pl.defaultRender=function(e,a,u,i,r){return r.renderToken(e,a,u)};var Q4=pl;const J4=mi(Q4);function eC(e,a){return e[a].content}function tC(e,a,u,i,r){const n=e.utils.arrayReplaceAt,o=e.utils.lib.ucmicro,s=e.utils.has,l=new RegExp([o.Z.source,o.P.source,o.Cc.source].join("|"));function c(h,d,F){let f=0;const C=[];if(h.replace(r,function(v,b,D){let E;if(s(u,v)){if(E=u[v],b>0&&!l.test(D[b-1])||b+v.length<D.length&&!l.test(D[b+v.length]))return}else E=v.slice(1,-1);if(b>f){const z=new F("text","",0);z.content=h.slice(f,b),C.push(z)}const A=new F("emoji","",0);A.markup=E,A.content=a[E],C.push(A),f=b+v.length}),f<h.length){const v=new F("text","",0);v.content=h.slice(f),C.push(v)}return C}return function(h){let d;const F=h.tokens;let f=0;for(let C=0,v=F.length;C<v;C++){if(F[C].type!=="inline")continue;let b=F[C].children;for(let D=b.length-1;D>=0;D--)d=b[D],(d.type==="link_open"||d.type==="link_close")&&d.info==="auto"&&(f-=d.nesting),d.type==="text"&&f===0&&i.test(d.content)&&(F[C].children=b=n(b,D,c(d.content,d.level,h.Token)))}}}function uC(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function aC(e){let a=e.defs;e.enabled.length&&(a=Object.keys(a).reduce((s,l)=>(e.enabled.indexOf(l)>=0&&(s[l]=a[l]),s),{}));const u=Object.keys(e.shortcuts).reduce((s,l)=>a[l]?Array.isArray(e.shortcuts[l])?(e.shortcuts[l].forEach(c=>{s[c]=l}),s):(s[e.shortcuts[l]]=l,s):s,{}),i=Object.keys(a);let r;i.length===0?r="^$":r=i.map(s=>`:${s}:`).concat(Object.keys(u)).sort().reverse().map(s=>uC(s)).join("|");const n=RegExp(r),o=RegExp(r,"g");return{defs:a,shortcuts:u,scanRE:n,replaceRE:o}}function nC(e,a){const u={defs:{},shortcuts:{},enabled:[]},i=aC(e.utils.assign({},u,a||{}));e.renderer.rules.emoji=eC,e.core.ruler.after("linkify","emoji",tC(e,i.defs,i.shortcuts,i.scanRE,i.replaceRE))}const iC={angry:[">:(",">:-("],blush:[':")',':-")'],broken_heart:["</3","<\\3"],confused:[":/",":-/"],cry:[":'(",":'-(",":,(",":,-("],frowning:[":(",":-("],heart:["<3"],imp:["]:(","]:-("],innocent:["o:)","O:)","o:-)","O:-)","0:)","0:-)"],joy:[":')",":'-)",":,)",":,-)",":'D",":'-D",":,D",":,-D"],kissing:[":*",":-*"],laughing:["x-)","X-)"],neutral_face:[":|",":-|"],open_mouth:[":o",":-o",":O",":-O"],rage:[":@",":-@"],smile:[":D",":-D"],smiley:[":)",":-)"],smiling_imp:["]:)","]:-)"],sob:[":,'(",":,'-(",";(",";-("],stuck_out_tongue:[":P",":-P"],sunglasses:["8-)","B-)"],sweat:[",:(",",:-("],sweat_smile:[",:)",",:-)"],unamused:[":s",":-S",":z",":-Z",":$",":-$"],wink:[";)",";-)"]},rC={100:"",1234:"",grinning:"",smiley:"",smile:"",grin:"",laughing:"",satisfied:"",sweat_smile:"",rofl:"",joy:"",slightly_smiling_face:"",upside_down_face:"",melting_face:"",wink:"",blush:"",innocent:"",smiling_face_with_three_hearts:"",heart_eyes:"",star_struck:"",kissing_heart:"",kissing:"",relaxed:"",kissing_closed_eyes:"",kissing_smiling_eyes:"",smiling_face_with_tear:"",yum:"",stuck_out_tongue:"",stuck_out_tongue_winking_eye:"",zany_face:"",stuck_out_tongue_closed_eyes:"",money_mouth_face:"",hugs:"",hand_over_mouth:"",face_with_open_eyes_and_hand_over_mouth:"",face_with_peeking_eye:"",shushing_face:"",thinking:"",saluting_face:"",zipper_mouth_face:"",raised_eyebrow:"",neutral_face:"",expressionless:"",no_mouth:"",dotted_line_face:"",face_in_clouds:"",smirk:"",unamused:"",roll_eyes:"",grimacing:"",face_exhaling:"",lying_face:"",shaking_face:"",relieved:"",pensive:"",sleepy:"",drooling_face:"",sleeping:"",mask:"",face_with_thermometer:"",face_with_head_bandage:"",nauseated_face:"",vomiting_face:"",sneezing_face:"",hot_face:"",cold_face:"",woozy_face:"",dizzy_face:"",face_with_spiral_eyes:"",exploding_head:"",cowboy_hat_face:"",partying_face:"",disguised_face:"",sunglasses:"",nerd_face:"",monocle_face:"",confused:"",face_with_diagonal_mouth:"",worried:"",slightly_frowning_face:"",frowning_face:"",open_mouth:"",hushed:"",astonished:"",flushed:"",pleading_face:"",face_holding_back_tears:"",frowning:"",anguished:"",fearful:"",cold_sweat:"",disappointed_relieved:"",cry:"",sob:"",scream:"",confounded:"",persevere:"",disappointed:"",sweat:"",weary:"",tired_face:"",yawning_face:"",triumph:"",rage:"",pout:"",angry:"",cursing_face:"",smiling_imp:"",imp:"",skull:"",skull_and_crossbones:"",hankey:"",poop:"",shit:"",clown_face:"",japanese_ogre:"",japanese_goblin:"",ghost:"",alien:"",space_invader:"",robot:"",smiley_cat:"",smile_cat:"",joy_cat:"",heart_eyes_cat:"",smirk_cat:"",kissing_cat:"",scream_cat:"",crying_cat_face:"",pouting_cat:"",see_no_evil:"",hear_no_evil:"",speak_no_evil:"",love_letter:"",cupid:"",gift_heart:"",sparkling_heart:"",heartpulse:"",heartbeat:"",revolving_hearts:"",two_hearts:"",heart_decoration:"",heavy_heart_exclamation:"",broken_heart:"",heart_on_fire:"",mending_heart:"",heart:"",pink_heart:"",orange_heart:"",yellow_heart:"",green_heart:"",blue_heart:"",light_blue_heart:"",purple_heart:"",brown_heart:"",black_heart:"",grey_heart:"",white_heart:"",kiss:"",anger:"",boom:"",collision:"",dizzy:"",sweat_drops:"",dash:"",hole:"",speech_balloon:"",eye_speech_bubble:"",left_speech_bubble:"",right_anger_bubble:"",thought_balloon:"",zzz:"",wave:"",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",hand:"",raised_hand:"",vulcan_salute:"",rightwards_hand:"",leftwards_hand:"",palm_down_hand:"",palm_up_hand:"",leftwards_pushing_hand:"",rightwards_pushing_hand:"",ok_hand:"",pinched_fingers:"",pinching_hand:"",v:"",crossed_fingers:"",hand_with_index_finger_and_thumb_crossed:"",love_you_gesture:"",metal:"",call_me_hand:"",point_left:"",point_right:"",point_up_2:"",middle_finger:"",fu:"",point_down:"",point_up:"",index_pointing_at_the_viewer:"","+1":"",thumbsup:"","-1":"",thumbsdown:"",fist_raised:"",fist:"",fist_oncoming:"",facepunch:"",punch:"",fist_left:"",fist_right:"",clap:"",raised_hands:"",heart_hands:"",open_hands:"",palms_up_together:"",handshake:"",pray:"",writing_hand:"",nail_care:"",selfie:"",muscle:"",mechanical_arm:"",mechanical_leg:"",leg:"",foot:"",ear:"",ear_with_hearing_aid:"",nose:"",brain:"",anatomical_heart:"",lungs:"",tooth:"",bone:"",eyes:"",eye:"",tongue:"",lips:"",biting_lip:"",baby:"",child:"",boy:"",girl:"",adult:"",blond_haired_person:"",man:"",bearded_person:"",man_beard:"",woman_beard:"",red_haired_man:"",curly_haired_man:"",white_haired_man:"",bald_man:"",woman:"",red_haired_woman:"",person_red_hair:"",curly_haired_woman:"",person_curly_hair:"",white_haired_woman:"",person_white_hair:"",bald_woman:"",person_bald:"",blond_haired_woman:"",blonde_woman:"",blond_haired_man:"",older_adult:"",older_man:"",older_woman:"",frowning_person:"",frowning_man:"",frowning_woman:"",pouting_face:"",pouting_man:"",pouting_woman:"",no_good:"",no_good_man:"",ng_man:"",no_good_woman:"",ng_woman:"",ok_person:"",ok_man:"",ok_woman:"",tipping_hand_person:"",information_desk_person:"",tipping_hand_man:"",sassy_man:"",tipping_hand_woman:"",sassy_woman:"",raising_hand:"",raising_hand_man:"",raising_hand_woman:"",deaf_person:"",deaf_man:"",deaf_woman:"",bow:"",bowing_man:"",bowing_woman:"",facepalm:"",man_facepalming:"",woman_facepalming:"",shrug:"",man_shrugging:"",woman_shrugging:"",health_worker:"",man_health_worker:"",woman_health_worker:"",student:"",man_student:"",woman_student:"",teacher:"",man_teacher:"",woman_teacher:"",judge:"",man_judge:"",woman_judge:"",farmer:"",man_farmer:"",woman_farmer:"",cook:"",man_cook:"",woman_cook:"",mechanic:"",man_mechanic:"",woman_mechanic:"",factory_worker:"",man_factory_worker:"",woman_factory_worker:"",office_worker:"",man_office_worker:"",woman_office_worker:"",scientist:"",man_scientist:"",woman_scientist:"",technologist:"",man_technologist:"",woman_technologist:"",singer:"",man_singer:"",woman_singer:"",artist:"",man_artist:"",woman_artist:"",pilot:"",man_pilot:"",woman_pilot:"",astronaut:"",man_astronaut:"",woman_astronaut:"",firefighter:"",man_firefighter:"",woman_firefighter:"",police_officer:"",cop:"",policeman:"",policewoman:"",detective:"",male_detective:"",female_detective:"",guard:"",guardsman:"",guardswoman:"",ninja:"",construction_worker:"",construction_worker_man:"",construction_worker_woman:"",person_with_crown:"",prince:"",princess:"",person_with_turban:"",man_with_turban:"",woman_with_turban:"",man_with_gua_pi_mao:"",woman_with_headscarf:"",person_in_tuxedo:"",man_in_tuxedo:"",woman_in_tuxedo:"",person_with_veil:"",man_with_veil:"",woman_with_veil:"",bride_with_veil:"",pregnant_woman:"",pregnant_man:"",pregnant_person:"",breast_feeding:"",woman_feeding_baby:"",man_feeding_baby:"",person_feeding_baby:"",angel:"",santa:"",mrs_claus:"",mx_claus:"",superhero:"",superhero_man:"",superhero_woman:"",supervillain:"",supervillain_man:"",supervillain_woman:"",mage:"",mage_man:"",mage_woman:"",fairy:"",fairy_man:"",fairy_woman:"",vampire:"",vampire_man:"",vampire_woman:"",merperson:"",merman:"",mermaid:"",elf:"",elf_man:"",elf_woman:"",genie:"",genie_man:"",genie_woman:"",zombie:"",zombie_man:"",zombie_woman:"",troll:"",massage:"",massage_man:"",massage_woman:"",haircut:"",haircut_man:"",haircut_woman:"",walking:"",walking_man:"",walking_woman:"",standing_person:"",standing_man:"",standing_woman:"",kneeling_person:"",kneeling_man:"",kneeling_woman:"",person_with_probing_cane:"",man_with_probing_cane:"",woman_with_probing_cane:"",person_in_motorized_wheelchair:"",man_in_motorized_wheelchair:"",woman_in_motorized_wheelchair:"",person_in_manual_wheelchair:"",man_in_manual_wheelchair:"",woman_in_manual_wheelchair:"",runner:"",running:"",running_man:"",running_woman:"",woman_dancing:"",dancer:"",man_dancing:"",business_suit_levitating:"",dancers:"",dancing_men:"",dancing_women:"",sauna_person:"",sauna_man:"",sauna_woman:"",climbing:"",climbing_man:"",climbing_woman:"",person_fencing:"",horse_racing:"",skier:"",snowboarder:"",golfing:"",golfing_man:"",golfing_woman:"",surfer:"",surfing_man:"",surfing_woman:"",rowboat:"",rowing_man:"",rowing_woman:"",swimmer:"",swimming_man:"",swimming_woman:"",bouncing_ball_person:"",bouncing_ball_man:"",basketball_man:"",bouncing_ball_woman:"",basketball_woman:"",weight_lifting:"",weight_lifting_man:"",weight_lifting_woman:"",bicyclist:"",biking_man:"",biking_woman:"",mountain_bicyclist:"",mountain_biking_man:"",mountain_biking_woman:"",cartwheeling:"",man_cartwheeling:"",woman_cartwheeling:"",wrestling:"",men_wrestling:"",women_wrestling:"",water_polo:"",man_playing_water_polo:"",woman_playing_water_polo:"",handball_person:"",man_playing_handball:"",woman_playing_handball:"",juggling_person:"",man_juggling:"",woman_juggling:"",lotus_position:"",lotus_position_man:"",lotus_position_woman:"",bath:"",sleeping_bed:"",people_holding_hands:"",two_women_holding_hands:"",couple:"",two_men_holding_hands:"",couplekiss:"",couplekiss_man_woman:"",couplekiss_man_man:"",couplekiss_woman_woman:"",couple_with_heart:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"",couple_with_heart_woman_woman:"",family:"",family_man_woman_boy:"",family_man_woman_girl:"",family_man_woman_girl_boy:"",family_man_woman_boy_boy:"",family_man_woman_girl_girl:"",family_man_man_boy:"",family_man_man_girl:"",family_man_man_girl_boy:"",family_man_man_boy_boy:"",family_man_man_girl_girl:"",family_woman_woman_boy:"",family_woman_woman_girl:"",family_woman_woman_girl_boy:"",family_woman_woman_boy_boy:"",family_woman_woman_girl_girl:"",family_man_boy:"",family_man_boy_boy:"",family_man_girl:"",family_man_girl_boy:"",family_man_girl_girl:"",family_woman_boy:"",family_woman_boy_boy:"",family_woman_girl:"",family_woman_girl_boy:"",family_woman_girl_girl:"",speaking_head:"",bust_in_silhouette:"",busts_in_silhouette:"",people_hugging:"",footprints:"",monkey_face:"",monkey:"",gorilla:"",orangutan:"",dog:"",dog2:"",guide_dog:"",service_dog:"",poodle:"",wolf:"",fox_face:"",raccoon:"",cat:"",cat2:"",black_cat:"",lion:"",tiger:"",tiger2:"",leopard:"",horse:"",moose:"",donkey:"",racehorse:"",unicorn:"",zebra:"",deer:"",bison:"",cow:"",ox:"",water_buffalo:"",cow2:"",pig:"",pig2:"",boar:"",pig_nose:"",ram:"",sheep:"",goat:"",dromedary_camel:"",camel:"",llama:"",giraffe:"",elephant:"",mammoth:"",rhinoceros:"",hippopotamus:"",mouse:"",mouse2:"",rat:"",hamster:"",rabbit:"",rabbit2:"",chipmunk:"",beaver:"",hedgehog:"",bat:"",bear:"",polar_bear:"",koala:"",panda_face:"",sloth:"",otter:"",skunk:"",kangaroo:"",badger:"",feet:"",paw_prints:"",turkey:"",chicken:"",rooster:"",hatching_chick:"",baby_chick:"",hatched_chick:"",bird:"",penguin:"",dove:"",eagle:"",duck:"",swan:"",owl:"",dodo:"",feather:"",flamingo:"",peacock:"",parrot:"",wing:"",black_bird:"",goose:"",frog:"",crocodile:"",turtle:"",lizard:"",snake:"",dragon_face:"",dragon:"",sauropod:"","t-rex":"",whale:"",whale2:"",dolphin:"",flipper:"",seal:"",fish:"",tropical_fish:"",blowfish:"",shark:"",octopus:"",shell:"",coral:"",jellyfish:"",snail:"",butterfly:"",bug:"",ant:"",bee:"",honeybee:"",beetle:"",lady_beetle:"",cricket:"",cockroach:"",spider:"",spider_web:"",scorpion:"",mosquito:"",fly:"",worm:"",microbe:"",bouquet:"",cherry_blossom:"",white_flower:"",lotus:"",rosette:"",rose:"",wilted_flower:"",hibiscus:"",sunflower:"",blossom:"",tulip:"",hyacinth:"",seedling:"",potted_plant:"",evergreen_tree:"",deciduous_tree:"",palm_tree:"",cactus:"",ear_of_rice:"",herb:"",shamrock:"",four_leaf_clover:"",maple_leaf:"",fallen_leaf:"",leaves:"",empty_nest:"",nest_with_eggs:"",mushroom:"",grapes:"",melon:"",watermelon:"",tangerine:"",orange:"",mandarin:"",lemon:"",banana:"",pineapple:"",mango:"",apple:"",green_apple:"",pear:"",peach:"",cherries:"",strawberry:"",blueberries:"",kiwi_fruit:"",tomato:"",olive:"",coconut:"",avocado:"",eggplant:"",potato:"",carrot:"",corn:"",hot_pepper:"",bell_pepper:"",cucumber:"",leafy_green:"",broccoli:"",garlic:"",onion:"",peanuts:"",beans:"",chestnut:"",ginger_root:"",pea_pod:"",bread:"",croissant:"",baguette_bread:"",flatbread:"",pretzel:"",bagel:"",pancakes:"",waffle:"",cheese:"",meat_on_bone:"",poultry_leg:"",cut_of_meat:"",bacon:"",hamburger:"",fries:"",pizza:"",hotdog:"",sandwich:"",taco:"",burrito:"",tamale:"",stuffed_flatbread:"",falafel:"",egg:"",fried_egg:"",shallow_pan_of_food:"",stew:"",fondue:"",bowl_with_spoon:"",green_salad:"",popcorn:"",butter:"",salt:"",canned_food:"",bento:"",rice_cracker:"",rice_ball:"",rice:"",curry:"",ramen:"",spaghetti:"",sweet_potato:"",oden:"",sushi:"",fried_shrimp:"",fish_cake:"",moon_cake:"",dango:"",dumpling:"",fortune_cookie:"",takeout_box:"",crab:"",lobster:"",shrimp:"",squid:"",oyster:"",icecream:"",shaved_ice:"",ice_cream:"",doughnut:"",cookie:"",birthday:"",cake:"",cupcake:"",pie:"",chocolate_bar:"",candy:"",lollipop:"",custard:"",honey_pot:"",baby_bottle:"",milk_glass:"",coffee:"",teapot:"",tea:"",sake:"",champagne:"",wine_glass:"",cocktail:"",tropical_drink:"",beer:"",beers:"",clinking_glasses:"",tumbler_glass:"",pouring_liquid:"",cup_with_straw:"",bubble_tea:"",beverage_box:"",mate:"",ice_cube:"",chopsticks:"",plate_with_cutlery:"",fork_and_knife:"",spoon:"",hocho:"",knife:"",jar:"",amphora:"",earth_africa:"",earth_americas:"",earth_asia:"",globe_with_meridians:"",world_map:"",japan:"",compass:"",mountain_snow:"",mountain:"",volcano:"",mount_fuji:"",camping:"",beach_umbrella:"",desert:"",desert_island:"",national_park:"",stadium:"",classical_building:"",building_construction:"",bricks:"",rock:"",wood:"",hut:"",houses:"",derelict_house:"",house:"",house_with_garden:"",office:"",post_office:"",european_post_office:"",hospital:"",bank:"",hotel:"",love_hotel:"",convenience_store:"",school:"",department_store:"",factory:"",japanese_castle:"",european_castle:"",wedding:"",tokyo_tower:"",statue_of_liberty:"",church:"",mosque:"",hindu_temple:"",synagogue:"",shinto_shrine:"",kaaba:"",fountain:"",tent:"",foggy:"",night_with_stars:"",cityscape:"",sunrise_over_mountains:"",sunrise:"",city_sunset:"",city_sunrise:"",bridge_at_night:"",hotsprings:"",carousel_horse:"",playground_slide:"",ferris_wheel:"",roller_coaster:"",barber:"",circus_tent:"",steam_locomotive:"",railway_car:"",bullettrain_side:"",bullettrain_front:"",train2:"",metro:"",light_rail:"",station:"",tram:"",monorail:"",mountain_railway:"",train:"",bus:"",oncoming_bus:"",trolleybus:"",minibus:"",ambulance:"",fire_engine:"",police_car:"",oncoming_police_car:"",taxi:"",oncoming_taxi:"",car:"",red_car:"",oncoming_automobile:"",blue_car:"",pickup_truck:"",truck:"",articulated_lorry:"",tractor:"",racing_car:"",motorcycle:"",motor_scooter:"",manual_wheelchair:"",motorized_wheelchair:"",auto_rickshaw:"",bike:"",kick_scooter:"",skateboard:"",roller_skate:"",busstop:"",motorway:"",railway_track:"",oil_drum:"",fuelpump:"",wheel:"",rotating_light:"",traffic_light:"",vertical_traffic_light:"",stop_sign:"",construction:"",anchor:"",ring_buoy:"",boat:"",sailboat:"",canoe:"",speedboat:"",passenger_ship:"",ferry:"",motor_boat:"",ship:"",airplane:"",small_airplane:"",flight_departure:"",flight_arrival:"",parachute:"",seat:"",helicopter:"",suspension_railway:"",mountain_cableway:"",aerial_tramway:"",artificial_satellite:"",rocket:"",flying_saucer:"",bellhop_bell:"",luggage:"",hourglass:"",hourglass_flowing_sand:"",watch:"",alarm_clock:"",stopwatch:"",timer_clock:"",mantelpiece_clock:"",clock12:"",clock1230:"",clock1:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",clock10:"",clock1030:"",clock11:"",clock1130:"",new_moon:"",waxing_crescent_moon:"",first_quarter_moon:"",moon:"",waxing_gibbous_moon:"",full_moon:"",waning_gibbous_moon:"",last_quarter_moon:"",waning_crescent_moon:"",crescent_moon:"",new_moon_with_face:"",first_quarter_moon_with_face:"",last_quarter_moon_with_face:"",thermometer:"",sunny:"",full_moon_with_face:"",sun_with_face:"",ringed_planet:"",star:"",star2:"",stars:"",milky_way:"",cloud:"",partly_sunny:"",cloud_with_lightning_and_rain:"",sun_behind_small_cloud:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",cloud_with_rain:"",cloud_with_snow:"",cloud_with_lightning:"",tornado:"",fog:"",wind_face:"",cyclone:"",rainbow:"",closed_umbrella:"",open_umbrella:"",umbrella:"",parasol_on_ground:"",zap:"",snowflake:"",snowman_with_snow:"",snowman:"",comet:"",fire:"",droplet:"",ocean:"",jack_o_lantern:"",christmas_tree:"",fireworks:"",sparkler:"",firecracker:"",sparkles:"",balloon:"",tada:"",confetti_ball:"",tanabata_tree:"",bamboo:"",dolls:"",flags:"",wind_chime:"",rice_scene:"",red_envelope:"",ribbon:"",gift:"",reminder_ribbon:"",tickets:"",ticket:"",medal_military:"",trophy:"",medal_sports:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"",soccer:"",baseball:"",softball:"",basketball:"",volleyball:"",football:"",rugby_football:"",tennis:"",flying_disc:"",bowling:"",cricket_game:"",field_hockey:"",ice_hockey:"",lacrosse:"",ping_pong:"",badminton:"",boxing_glove:"",martial_arts_uniform:"",goal_net:"",golf:"",ice_skate:"",fishing_pole_and_fish:"",diving_mask:"",running_shirt_with_sash:"",ski:"",sled:"",curling_stone:"",dart:"",yo_yo:"",kite:"",gun:"","8ball":"",crystal_ball:"",magic_wand:"",video_game:"",joystick:"",slot_machine:"",game_die:"",jigsaw:"",teddy_bear:"",pinata:"",mirror_ball:"",nesting_dolls:"",spades:"",hearts:"",diamonds:"",clubs:"",chess_pawn:"",black_joker:"",mahjong:"",flower_playing_cards:"",performing_arts:"",framed_picture:"",art:"",thread:"",sewing_needle:"",yarn:"",knot:"",eyeglasses:"",dark_sunglasses:"",goggles:"",lab_coat:"",safety_vest:"",necktie:"",shirt:"",tshirt:"",jeans:"",scarf:"",gloves:"",coat:"",socks:"",dress:"",kimono:"",sari:"",one_piece_swimsuit:"",swim_brief:"",shorts:"",bikini:"",womans_clothes:"",folding_hand_fan:"",purse:"",handbag:"",pouch:"",shopping:"",school_satchel:"",thong_sandal:"",mans_shoe:"",shoe:"",athletic_shoe:"",hiking_boot:"",flat_shoe:"",high_heel:"",sandal:"",ballet_shoes:"",boot:"",hair_pick:"",crown:"",womans_hat:"",tophat:"",mortar_board:"",billed_cap:"",military_helmet:"",rescue_worker_helmet:"",prayer_beads:"",lipstick:"",ring:"",gem:"",mute:"",speaker:"",sound:"",loud_sound:"",loudspeaker:"",mega:"",postal_horn:"",bell:"",no_bell:"",musical_score:"",musical_note:"",notes:"",studio_microphone:"",level_slider:"",control_knobs:"",microphone:"",headphones:"",radio:"",saxophone:"",accordion:"",guitar:"",musical_keyboard:"",trumpet:"",violin:"",banjo:"",drum:"",long_drum:"",maracas:"",flute:"",iphone:"",calling:"",phone:"",telephone:"",telephone_receiver:"",pager:"",fax:"",battery:"",low_battery:"",electric_plug:"",computer:"",desktop_computer:"",printer:"",keyboard:"",computer_mouse:"",trackball:"",minidisc:"",floppy_disk:"",cd:"",dvd:"",abacus:"",movie_camera:"",film_strip:"",film_projector:"",clapper:"",tv:"",camera:"",camera_flash:"",video_camera:"",vhs:"",mag:"",mag_right:"",candle:"",bulb:"",flashlight:"",izakaya_lantern:"",lantern:"",diya_lamp:"",notebook_with_decorative_cover:"",closed_book:"",book:"",open_book:"",green_book:"",blue_book:"",orange_book:"",books:"",notebook:"",ledger:"",page_with_curl:"",scroll:"",page_facing_up:"",newspaper:"",newspaper_roll:"",bookmark_tabs:"",bookmark:"",label:"",moneybag:"",coin:"",yen:"",dollar:"",euro:"",pound:"",money_with_wings:"",credit_card:"",receipt:"",chart:"",envelope:"",email:"","e-mail":"",incoming_envelope:"",envelope_with_arrow:"",outbox_tray:"",inbox_tray:"",package:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",postbox:"",ballot_box:"",pencil2:"",black_nib:"",fountain_pen:"",pen:"",paintbrush:"",crayon:"",memo:"",pencil:"",briefcase:"",file_folder:"",open_file_folder:"",card_index_dividers:"",date:"",calendar:"",spiral_notepad:"",spiral_calendar:"",card_index:"",chart_with_upwards_trend:"",chart_with_downwards_trend:"",bar_chart:"",clipboard:"",pushpin:"",round_pushpin:"",paperclip:"",paperclips:"",straight_ruler:"",triangular_ruler:"",scissors:"",card_file_box:"",file_cabinet:"",wastebasket:"",lock:"",unlock:"",lock_with_ink_pen:"",closed_lock_with_key:"",key:"",old_key:"",hammer:"",axe:"",pick:"",hammer_and_pick:"",hammer_and_wrench:"",dagger:"",crossed_swords:"",bomb:"",boomerang:"",bow_and_arrow:"",shield:"",carpentry_saw:"",wrench:"",screwdriver:"",nut_and_bolt:"",gear:"",clamp:"",balance_scale:"",probing_cane:"",link:"",chains:"",hook:"",toolbox:"",magnet:"",ladder:"",alembic:"",test_tube:"",petri_dish:"",dna:"",microscope:"",telescope:"",satellite:"",syringe:"",drop_of_blood:"",pill:"",adhesive_bandage:"",crutch:"",stethoscope:"",x_ray:"",door:"",elevator:"",mirror:"",window:"",bed:"",couch_and_lamp:"",chair:"",toilet:"",plunger:"",shower:"",bathtub:"",mouse_trap:"",razor:"",lotion_bottle:"",safety_pin:"",broom:"",basket:"",roll_of_paper:"",bucket:"",soap:"",bubbles:"",toothbrush:"",sponge:"",fire_extinguisher:"",shopping_cart:"",smoking:"",coffin:"",headstone:"",funeral_urn:"",nazar_amulet:"",hamsa:"",moyai:"",placard:"",identification_card:"",atm:"",put_litter_in_its_place:"",potable_water:"",wheelchair:"",mens:"",womens:"",restroom:"",baby_symbol:"",wc:"",passport_control:"",customs:"",baggage_claim:"",left_luggage:"",warning:"",children_crossing:"",no_entry:"",no_entry_sign:"",no_bicycles:"",no_smoking:"",do_not_litter:"","non-potable_water":"",no_pedestrians:"",no_mobile_phones:"",underage:"",radioactive:"",biohazard:"",arrow_up:"",arrow_upper_right:"",arrow_right:"",arrow_lower_right:"",arrow_down:"",arrow_lower_left:"",arrow_left:"",arrow_upper_left:"",arrow_up_down:"",left_right_arrow:"",leftwards_arrow_with_hook:"",arrow_right_hook:"",arrow_heading_up:"",arrow_heading_down:"",arrows_clockwise:"",arrows_counterclockwise:"",back:"",end:"",on:"",soon:"",top:"",place_of_worship:"",atom_symbol:"",om:"",star_of_david:"",wheel_of_dharma:"",yin_yang:"",latin_cross:"",orthodox_cross:"",star_and_crescent:"",peace_symbol:"",menorah:"",six_pointed_star:"",khanda:"",aries:"",taurus:"",gemini:"",cancer:"",leo:"",virgo:"",libra:"",scorpius:"",sagittarius:"",capricorn:"",aquarius:"",pisces:"",ophiuchus:"",twisted_rightwards_arrows:"",repeat:"",repeat_one:"",arrow_forward:"",fast_forward:"",next_track_button:"",play_or_pause_button:"",arrow_backward:"",rewind:"",previous_track_button:"",arrow_up_small:"",arrow_double_up:"",arrow_down_small:"",arrow_double_down:"",pause_button:"",stop_button:"",record_button:"",eject_button:"",cinema:"",low_brightness:"",high_brightness:"",signal_strength:"",wireless:"",vibration_mode:"",mobile_phone_off:"",female_sign:"",male_sign:"",transgender_symbol:"",heavy_multiplication_x:"",heavy_plus_sign:"",heavy_minus_sign:"",heavy_division_sign:"",heavy_equals_sign:"",infinity:"",bangbang:"",interrobang:"",question:"",grey_question:"",grey_exclamation:"",exclamation:"",heavy_exclamation_mark:"",wavy_dash:"",currency_exchange:"",heavy_dollar_sign:"",medical_symbol:"",recycle:"",fleur_de_lis:"",trident:"",name_badge:"",beginner:"",o:"",white_check_mark:"",ballot_box_with_check:"",heavy_check_mark:"",x:"",negative_squared_cross_mark:"",curly_loop:"",loop:"",part_alternation_mark:"",eight_spoked_asterisk:"",eight_pointed_black_star:"",sparkle:"",copyright:"",registered:"",tm:"",hash:"#",asterisk:"*",zero:"0",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",keycap_ten:"",capital_abcd:"",abcd:"",symbols:"",abc:"",a:"",ab:"",b:"",cl:"",cool:"",free:"",information_source:"",id:"",m:"",new:"",ng:"",o2:"",ok:"",parking:"",sos:"",up:"",vs:"",koko:"",sa:"",ideograph_advantage:"",accept:"",congratulations:"",secret:"",u6e80:"",red_circle:"",orange_circle:"",yellow_circle:"",green_circle:"",large_blue_circle:"",purple_circle:"",brown_circle:"",black_circle:"",white_circle:"",red_square:"",orange_square:"",yellow_square:"",green_square:"",blue_square:"",purple_square:"",brown_square:"",black_large_square:"",white_large_square:"",black_medium_square:"",white_medium_square:"",black_medium_small_square:"",white_medium_small_square:"",black_small_square:"",white_small_square:"",large_orange_diamond:"",large_blue_diamond:"",small_orange_diamond:"",small_blue_diamond:"",small_red_triangle:"",small_red_triangle_down:"",diamond_shape_with_a_dot_inside:"",radio_button:"",white_square_button:"",black_square_button:"",checkered_flag:"",triangular_flag_on_post:"",crossed_flags:"",black_flag:"",white_flag:"",rainbow_flag:"",transgender_flag:"",pirate_flag:"",ascension_island:"",andorra:"",united_arab_emirates:"",afghanistan:"",antigua_barbuda:"",anguilla:"",albania:"",armenia:"",angola:"",antarctica:"",argentina:"",american_samoa:"",austria:"",australia:"",aruba:"",aland_islands:"",azerbaijan:"",bosnia_herzegovina:"",barbados:"",bangladesh:"",belgium:"",burkina_faso:"",bulgaria:"",bahrain:"",burundi:"",benin:"",st_barthelemy:"",bermuda:"",brunei:"",bolivia:"",caribbean_netherlands:"",brazil:"",bahamas:"",bhutan:"",bouvet_island:"",botswana:"",belarus:"",belize:"",canada:"",cocos_islands:"",congo_kinshasa:"",central_african_republic:"",congo_brazzaville:"",switzerland:"",cote_divoire:"",cook_islands:"",chile:"",cameroon:"",cn:"",colombia:"",clipperton_island:"",costa_rica:"",cuba:"",cape_verde:"",curacao:"",christmas_island:"",cyprus:"",czech_republic:"",de:"",diego_garcia:"",djibouti:"",denmark:"",dominica:"",dominican_republic:"",algeria:"",ceuta_melilla:"",ecuador:"",estonia:"",egypt:"",western_sahara:"",eritrea:"",es:"",ethiopia:"",eu:"",european_union:"",finland:"",fiji:"",falkland_islands:"",micronesia:"",faroe_islands:"",fr:"",gabon:"",gb:"",uk:"",grenada:"",georgia:"",french_guiana:"",guernsey:"",ghana:"",gibraltar:"",greenland:"",gambia:"",guinea:"",guadeloupe:"",equatorial_guinea:"",greece:"",south_georgia_south_sandwich_islands:"",guatemala:"",guam:"",guinea_bissau:"",guyana:"",hong_kong:"",heard_mcdonald_islands:"",honduras:"",croatia:"",haiti:"",hungary:"",canary_islands:"",indonesia:"",ireland:"",israel:"",isle_of_man:"",india:"",british_indian_ocean_territory:"",iraq:"",iran:"",iceland:"",it:"",jersey:"",jamaica:"",jordan:"",jp:"",kenya:"",kyrgyzstan:"",cambodia:"",kiribati:"",comoros:"",st_kitts_nevis:"",north_korea:"",kr:"",kuwait:"",cayman_islands:"",kazakhstan:"",laos:"",lebanon:"",st_lucia:"",liechtenstein:"",sri_lanka:"",liberia:"",lesotho:"",lithuania:"",luxembourg:"",latvia:"",libya:"",morocco:"",monaco:"",moldova:"",montenegro:"",st_martin:"",madagascar:"",marshall_islands:"",macedonia:"",mali:"",myanmar:"",mongolia:"",macau:"",northern_mariana_islands:"",martinique:"",mauritania:"",montserrat:"",malta:"",mauritius:"",maldives:"",malawi:"",mexico:"",malaysia:"",mozambique:"",namibia:"",new_caledonia:"",niger:"",norfolk_island:"",nigeria:"",nicaragua:"",netherlands:"",norway:"",nepal:"",nauru:"",niue:"",new_zealand:"",oman:"",panama:"",peru:"",french_polynesia:"",papua_new_guinea:"",philippines:"",pakistan:"",poland:"",st_pierre_miquelon:"",pitcairn_islands:"",puerto_rico:"",palestinian_territories:"",portugal:"",palau:"",paraguay:"",qatar:"",reunion:"",romania:"",serbia:"",ru:"",rwanda:"",saudi_arabia:"",solomon_islands:"",seychelles:"",sudan:"",sweden:"",singapore:"",st_helena:"",slovenia:"",svalbard_jan_mayen:"",slovakia:"",sierra_leone:"",san_marino:"",senegal:"",somalia:"",suriname:"",south_sudan:"",sao_tome_principe:"",el_salvador:"",sint_maarten:"",syria:"",swaziland:"",tristan_da_cunha:"",turks_caicos_islands:"",chad:"",french_southern_territories:"",togo:"",thailand:"",tajikistan:"",tokelau:"",timor_leste:"",turkmenistan:"",tunisia:"",tonga:"",tr:"",trinidad_tobago:"",tuvalu:"",taiwan:"",tanzania:"",ukraine:"",uganda:"",us_outlying_islands:"",united_nations:"",us:"",uruguay:"",uzbekistan:"",vatican_city:"",st_vincent_grenadines:"",venezuela:"",british_virgin_islands:"",us_virgin_islands:"",vietnam:"",vanuatu:"",wallis_futuna:"",samoa:"",kosovo:"",yemen:"",mayotte:"",south_africa:"",zambia:"",zimbabwe:"",england:"",scotland:"",wales:""};function oC(e,a){const u={defs:rC,shortcuts:iC,enabled:[]},i=e.utils.assign({},u,a||{});nC(e,i)}var li=!0,hl=!1,ml=!1,sC=function(e,a){a&&(li=!a.enabled,hl=!!a.label,ml=!!a.labelAfter),e.core.ruler.after("inline","github-task-lists",function(u){for(var i=u.tokens,r=2;r<i.length;r++)cC(i,r)&&(dC(i[r],u.Token),Qr(i[r-2],"class","task-list-item"+(li?"":" enabled")),Qr(i[lC(i,r-2)],"class","contains-task-list"))})};function Qr(e,a,u){var i=e.attrIndex(a),r=[a,u];i<0?e.attrPush(r):e.attrs[i]=r}function lC(e,a){for(var u=e[a].level-1,i=a-1;i>=0;i--)if(e[i].level===u)return i;return-1}function cC(e,a){return FC(e[a])&&gC(e[a-1])&&CC(e[a-2])&&kC(e[a])}function dC(e,a){if(e.children.unshift(pC(e,a)),e.children[1].content=e.children[1].content.slice(3),e.content=e.content.slice(3),hl)if(ml){e.children.pop();var u="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);e.children[0].content=e.children[0].content.slice(0,-1)+' id="'+u+'">',e.children.push(fC(e.content,u,a))}else e.children.unshift(hC(a)),e.children.push(mC(a))}function pC(e,a){var u=new a("html_inline","",0),i=li?' disabled="" ':"";return e.content.indexOf("[ ] ")===0?u.content='<input class="task-list-item-checkbox"'+i+'type="checkbox">':(e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0)&&(u.content='<input class="task-list-item-checkbox" checked=""'+i+'type="checkbox">'),u}function hC(e){var a=new e("html_inline","",0);return a.content="<label>",a}function mC(e){var a=new e("html_inline","",0);return a.content="</label>",a}function fC(e,a,u){var i=new u("html_inline","",0);return i.content='<label class="task-list-item-label" for="'+a+'">'+e+"</label>",i.attrs=[{for:a}],i}function FC(e){return e.type==="inline"}function gC(e){return e.type==="paragraph_open"}function CC(e){return e.type==="list_item_open"}function kC(e){return e.content.indexOf("[ ] ")===0||e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0}const yC=mi(sC),_C={name:"NotesItem",directives:{ClickOutside:ha},mixins:[on],props:{value:{type:String,required:!0}},data(){return{md:new ut({linkify:!0,breaks:!0}).use(oC).use(J4,{attrs:{target:"_blank",rel:"nofollow"}}).use(yC)}},watch:{value:{immediate:!0,handler(e){this.$nextTick(()=>{e.trim()||(e=x("tasks","Click here to add a note.")),this.$refs.note__viewer.innerHTML=this.md.render(e)})}}},mounted(){Vt("tasks:edit-appsidebar-notes",this.setNotes)},beforeUnmount(){Ht("tasks:edit-appsidebar-notes",this.setNotes)},methods:{editingEnabled(){this.editing&&this.$nextTick(()=>{this.$refs.note__editor.focus()})},setNotes(e){this.setEditing(!0,e)}}},fl=e=>(Xa("data-v-697170c8"),e=e(),Ka(),e),bC={class:"property__item"},DC=["source"],vC={class:"note__editor"},EC=fl(()=>y("br",null,null,-1)),AC=fl(()=>y("br",null,null,-1));function wC(e,a,u,i,r,n){const o=Be("click-outside");return U((p(),m("div",bC,[y("div",{class:R([{"content__note--editing":e.editing},"content__note"]),onClick:a[4]||(a[4]=s=>e.setEditing(!0,s))},[y("div",{id:"note__viewer",ref:"note__viewer",source:u.value,class:R(["note__viewer",{"note__viewer--empty":!u.value.trim()}])},null,10,DC),y("div",vC,[y("pre",null,[y("span",null,B(e.newValue),1),EC,AC]),U(y("textarea",{ref:"note__editor","onUpdate:modelValue":a[0]||(a[0]=s=>e.newValue=s),onKeyup:a[1]||(a[1]=ke(s=>e.setEditing(!1),["escape"])),onKeydown:a[2]||(a[2]=ke(ue(s=>e.setValue(),["ctrl","prevent"]),["enter"])),onChange:a[3]||(a[3]=s=>e.setValue())},null,544),[[ta,e.newValue]])])],2)])),[[o,()=>e.setValue()]])}const BC=I(_C,[["render",wC],["__scopeId","data-v-697170c8"]]),xC={name:"CheckboxBlankIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},SC=["aria-hidden","aria-label"],TC=["fill","width","height"],MC={d:"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},zC={key:0};function LC(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon checkbox-blank-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",MC,[u.title?(p(),m("title",zC,B(u.title),1)):w("",!0)])],8,TC))],16,SC)}const NC=I(xC,[["render",LC]]),$C={name:"CheckboxBlankOffOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},IC=["aria-hidden","aria-label"],PC=["fill","width","height"],VC={d:"M22.11 21.46L2.39 1.73L1.11 3L3 4.9V19C3 20.11 3.9 21 5 21H19.1L20.84 22.73L22.11 21.46M5 19V6.89L17.11 19H5M8.2 5L6.2 3H19C20.1 3 21 3.89 21 5V17.8L19 15.8V5H8.2Z"},HC={key:0};function RC(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon checkbox-blank-off-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",VC,[u.title?(p(),m("title",HC,B(u.title),1)):w("",!0)])],8,PC))],16,IC)}const UC=I($C,[["render",RC]]),jC={name:"CheckboxBlankOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},qC=["aria-hidden","aria-label"],WC=["fill","width","height"],YC={d:"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z"},ZC={key:0};function GC(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon checkbox-blank-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",YC,[u.title?(p(),m("title",ZC,B(u.title),1)):w("",!0)])],8,WC))],16,qC)}const XC=I(jC,[["render",GC]]),KC={name:"CheckboxOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},QC=["aria-hidden","aria-label"],JC=["fill","width","height"],ek={d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,5V19H5V5H19M10,17L6,13L7.41,11.58L10,14.17L16.59,7.58L18,9"},tk={key:0};function uk(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon checkbox-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",ek,[u.title?(p(),m("title",tk,B(u.title),1)):w("",!0)])],8,JC))],16,QC)}const ak=I(KC,[["render",uk]]),nk={components:{CheckboxBlank:NC,CheckboxBlankOffOutline:UC,CheckboxBlankOutline:XC,CheckboxOutline:ak},props:{completed:{type:Boolean,required:!0},cancelled:{type:Boolean,required:!0},readOnly:{type:Boolean,required:!0},priorityClass:{type:String,default:""}},emits:["toggle-completed"],computed:{ariaLabel(){return this.cancelled&&!this.completed?x("tasks","Task is cancelled"):this.completed?x("tasks","Task is completed"):this.readOnly?x("tasks","Task is read-only"):x("tasks","Task is not completed")},checkboxId(){return"checkbox-"+Math.random().toString(36).replace(/[^a-z]+/g,"").slice(0,6)}},methods:{t:x,toggleCompleted(){this.$emit("toggle-completed")}}},ik={class:"task-checkbox"},rk=["id","checked","aria-checked","disabled","aria-label"],ok=["for"];function sk(e,a,u,i,r,n){const o=k("CheckboxBlankOffOutline"),s=k("CheckboxOutline"),l=k("CheckboxBlank"),c=k("CheckboxBlankOutline");return p(),m("div",ik,[y("input",{id:n.checkboxId,type:"checkbox",class:R({disabled:u.readOnly}),checked:u.completed,"aria-checked":u.completed,disabled:u.readOnly,"aria-label":n.ariaLabel,onClick:a[0]||(a[0]=h=>n.toggleCompleted())},null,10,rk),y("label",{class:R([u.priorityClass]),for:n.checkboxId},[u.cancelled&&!u.completed?(p(),S(o,{key:0,size:22})):u.completed?(p(),S(s,{key:1,size:22})):u.readOnly?(p(),S(l,{key:2,size:22})):(p(),S(c,{key:3,size:22}))],10,ok)])}const Fl=I(nk,[["render",sk],["__scopeId","data-v-172a8dd7"]]);function lk(e){return e.allDay?e.dueMoment.calendar(null,{sameDay:t("tasks","[Due today]"),nextDay:t("tasks","[Due tomorrow]"),nextWeek:t("tasks","[Due on] LL"),lastDay:t("tasks","[Was due yesterday]"),lastWeek:t("tasks","[Was due on] LL"),sameElse(a){return this.isBefore(a)?t("tasks","[Was due on] LL"):t("tasks","[Due on] LL")}}):e.dueMoment.calendar(null,{sameDay(a){return this.isBefore(a)?t("tasks","[Was due today at] LT"):t("tasks","[Due today at] LT")},nextDay:t("tasks","[Due tomorrow at] LT"),nextWeek:t("tasks","[Due on] LL [at] LT"),lastDay:t("tasks","[Was due yesterday at] LT"),lastWeek:t("tasks","[Was due on] LL [at] LT"),sameElse(a){return this.isBefore(a)?t("tasks","[Was due on] LL [at] LT"):t("tasks","[Due on] LL [at] LT")}})}function gl(e){return e.allDay?e.startMoment.calendar(null,{sameDay:t("tasks","[Starts today]"),nextDay:t("tasks","[Starts tomorrow]"),nextWeek:t("tasks","[Starts on] LL"),lastDay:t("tasks","[Started yesterday]"),lastWeek:t("tasks","[Started on] LL"),sameElse(a){return this.isBefore(a)?t("tasks","[Started on] LL"):t("tasks","[Starts on] LL")}}):e.startMoment.calendar(null,{sameDay(a){return this.isBefore(a)?t("tasks","[Started today at] LT"):t("tasks","[Starts today at] LT")},nextDay:t("tasks","[Starts tomorrow at] LT"),nextWeek:t("tasks","[Starts on] LL [at] LT"),lastDay:t("tasks","[Started yesterday at] LT"),lastWeek:t("tasks","[Started on] LL [at] LT"),sameElse(a){return this.isBefore(a)?t("tasks","[Started on] LL [at] LT"):t("tasks","[Starts on] LL [at] LT")}})}const ck={mounted(e){e.focus()}},dk={name:"NcAppSidebarTabs",components:{NcCheckboxRadioSwitch:Vo,NcVNodes:Oo},provide(){return{registerTab:this.registerTab,unregisterTab:this.unregisterTab,getActiveTab:()=>this.activeTab,isTablistShown:()=>this.hasMultipleTabs}},props:{active:{type:String,default:""},forceTabs:{type:Boolean,default:!1}},emits:["update:active"],data(){return{tabs:[],activeTab:""}},computed:{hasMultipleTabs(){return this.tabs.length>1},showForSingleTab(){return this.forceTabs&&this.tabs.length===1},currentTabIndex(){return this.tabs.findIndex(e=>e.id===this.activeTab)}},watch:{active(e){e!==this.activeTab&&this.updateActive()}},methods:{setActive(e){this.activeTab=e,this.$emit("update:active",this.activeTab)},focusPreviousTab(){this.currentTabIndex>0&&this.setActive(this.tabs[this.currentTabIndex-1].id),this.focusActiveTab()},focusNextTab(){this.currentTabIndex<this.tabs.length-1&&this.setActive(this.tabs[this.currentTabIndex+1].id),this.focusActiveTab()},focusFirstTab(){this.setActive(this.tabs[0].id),this.focusActiveTab()},focusLastTab(){this.setActive(this.tabs[this.tabs.length-1].id),this.focusActiveTab()},focusActiveTab(){this.$el.querySelector(`#tab-button-${this.activeTab}`).focus()},focusActiveTabContent(){this.$el.querySelector("#tab-"+this.activeTab).focus()},updateActive(){this.activeTab=this.active&&this.tabs.some(e=>e.id===this.active)?this.active:this.tabs.length>0?this.tabs[0].id:""},registerTab(e){this.tabs.push(e),this.tabs.sort((a,u)=>a.order===u.order?OC.Util.naturalSortCompare(a.name,u.name):a.order-u.order),this.updateActive()},unregisterTab(e){const a=this.tabs.findIndex(u=>u.id===e);a!==-1&&this.tabs.splice(a,1),this.activeTab===e&&this.updateActive()}}},pk={class:"app-sidebar-tabs"},hk={class:"app-sidebar-tabs__tab-caption"};function mk(e,a,u,i,r,n){const o=k("NcVNodes"),s=k("NcCheckboxRadioSwitch");return p(),m("div",pk,[n.hasMultipleTabs||n.showForSingleTab?(p(),m("div",{key:0,role:"tablist",class:"app-sidebar-tabs__nav",onKeydown:[a[0]||(a[0]=ke(ue((...l)=>n.focusPreviousTab&&n.focusPreviousTab(...l),["exact","prevent","stop"]),["left"])),a[1]||(a[1]=ke(ue((...l)=>n.focusNextTab&&n.focusNextTab(...l),["exact","prevent","stop"]),["right"])),a[2]||(a[2]=ke(ue((...l)=>n.focusActiveTabContent&&n.focusActiveTabContent(...l),["exact","prevent","stop"]),["tab"])),a[3]||(a[3]=ke(ue((...l)=>n.focusFirstTab&&n.focusFirstTab(...l),["exact","prevent","stop"]),["home"])),a[4]||(a[4]=ke(ue((...l)=>n.focusLastTab&&n.focusLastTab(...l),["exact","prevent","stop"]),["end"])),a[5]||(a[5]=ke(ue((...l)=>n.focusFirstTab&&n.focusFirstTab(...l),["exact","prevent","stop"]),["page-up"])),a[6]||(a[6]=ke(ue((...l)=>n.focusLastTab&&n.focusLastTab(...l),["exact","prevent","stop"]),["page-down"]))]},[(p(!0),m(Ne,null,We(r.tabs,l=>(p(),S(s,{key:l.id,"aria-controls":`tab-${l.id}`,"aria-selected":String(r.activeTab===l.id),"button-variant":!0,"model-value":r.activeTab===l.id,"wrapper-id":`tab-button-${l.id}`,tabindex:r.activeTab===l.id?0:-1,"button-variant-grouped":"horizontal",class:R(["app-sidebar-tabs__tab",{active:l.id===r.activeTab}]),role:"tab",type:"button","onUpdate:modelValue":c=>n.setActive(l.id)},{icon:_(()=>[g(o,{vnodes:l.renderIcon()},{default:_(()=>[y("span",{class:R(["app-sidebar-tabs__tab-icon",l.icon])},null,2)]),_:2},1032,["vnodes"])]),default:_(()=>[y("span",hk,B(l.name),1)]),_:2},1032,["aria-controls","aria-selected","model-value","wrapper-id","tabindex","class","onUpdate:modelValue"]))),128))],32)):w("",!0),y("div",{class:R([{"app-sidebar-tabs__content--multiple":n.hasMultipleTabs},"app-sidebar-tabs__content"])},[Q(e.$slots,"default",{},void 0,!0)],2)])}const fk=W(dk,[["render",mk],["__scopeId","data-v-ae067610"]]);$e(Ac);const Fk={name:"DockRightIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},gk=["aria-hidden","aria-label"],Ck=["fill","width","height"],kk={d:"M20 4H4A2 2 0 0 0 2 6V18A2 2 0 0 0 4 20H20A2 2 0 0 0 22 18V6A2 2 0 0 0 20 4M15 18H4V6H15Z"},yk={key:0};function _k(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon dock-right-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",kk,[u.title?(p(),m("title",yk,B(u.title),1)):w("",!0)])],8,Ck))],16,gk)}const bk=W(Fk,[["render",_k]]),Dk={name:"StarIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},vk=["aria-hidden","aria-label"],Ek=["fill","width","height"],Ak={d:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"},wk={key:0};function Bk(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon star-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Ak,[u.title?(p(),m("title",wk,B(u.title),1)):w("",!0)])],8,Ek))],16,vk)}const xk=W(Dk,[["render",Bk]]),Sk={name:"StarOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Tk=["aria-hidden","aria-label"],Mk=["fill","width","height"],zk={d:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z"},Lk={key:0};function Nk(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon star-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",zk,[u.title?(p(),m("title",Lk,B(u.title),1)):w("",!0)])],8,Mk))],16,Tk)}const $k=W(Sk,[["render",Nk]]),Ok={name:"NcAppSidebar",components:{NcActions:Xt,NcAppSidebarTabs:fk,NcButton:et,NcLoadingIcon:iu,NcEmptyContent:Ja,IconArrowRight:un,IconClose:hi,IconDockRight:bk,IconStar:xk,IconStarOutline:$k},directives:{focus:ck,linkify:Pi,ClickOutside:wo},inject:{ncContentSelector:{from:"NcContent:selector",default:void 0}},props:{active:{type:String,default:""},name:{type:String,default:"",required:!0},nameEditable:{type:Boolean,default:!1},namePlaceholder:{type:String,default:""},subname:{type:String,default:""},subtitle:{type:String,default:""},background:{type:String,default:""},starred:{type:Boolean,default:null},starLoading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},forceTabs:{type:Boolean,default:!1},linkifyName:{type:Boolean,default:!1},title:{type:String,default:""},open:{type:Boolean,default:!0},toggleClasses:{type:[String,Array,Object],default:""},toggleAttrs:{type:Object,default:void 0},noToggle:{type:Boolean,default:!1}},emits:["close","closed","opened","update:active","update:name","update:nameEditable","update:open","update:starred","submit-name","dismiss-editing"],setup(){return{uid:Wt(),isMobile:d1()}},data(){return{changeNameTranslated:ee("Change name"),closeTranslated:ee("Close sidebar"),favoriteTranslated:ee("Favorite"),isStarred:this.starred,focusTrap:null,elementToReturnFocus:null}},computed:{canStar(){return this.isStarred!==null},hasFigureClickListener(){return!!this.$attrs.onFigureClick}},watch:{starred(){this.isStarred=this.starred},isMobile(){this.toggleFocusTrap()},open(){this.toggleFocusTrap(),this.checkToggleButtonContainerAvailability()}},created(){this.preserveElementToReturnFocus(),this.checkToggleButtonContainerAvailability()},mounted(){this.elementToReturnFocus&&this.focus(),this.toggleFocusTrap()},beforeUnmount(){this.$emit("closed"),this.focusTrap?.deactivate()},methods:{isSlotPopulated:wc,t:ee,preserveElementToReturnFocus(){if(document.activeElement&&document.activeElement!==document.body&&(this.elementToReturnFocus=document.activeElement,this.elementToReturnFocus.getAttribute("role")==="menuitem")){const e=this.elementToReturnFocus.closest('[role="menu"]');if(e){const a=document.querySelector(`[aria-controls="${e.id}"]`);this.elementToReturnFocus=a}}},initFocusTrap(){this.focusTrap||(this.focusTrap=xo([this.$refs.sidebar,document.querySelector("#header")],{allowOutsideClick:!0,fallbackFocus:this.$refs.closeButton,trapStack:So(),escapeDeactivates:!1}))},toggleFocusTrap(){this.open&&this.isMobile?(this.initFocusTrap(),this.focusTrap.activate()):this.focusTrap?.deactivate()},onKeydownEsc(e){this.isMobile&&(e.stopPropagation(),this.closeSidebar())},onAfterEnter(e){this.$emit("opened",e)},onAfterLeave(e){this.$emit("closed",e),this.elementToReturnFocus?.focus({focusVisible:!0}),this.elementToReturnFocus=null},closeSidebar(e){this.$emit("close",e),this.$emit("update:open",!1)},onFigureClick(e){this.$emit("figure-click",e)},toggleStarred(){this.isStarred=!this.isStarred,this.$emit("update:starred",this.isStarred)},async editName(){this.$emit("update:nameEditable",!0),this.nameEditable&&(await this.$nextTick(),this.$refs.nameInput.focus())},focus(){(this.$refs.header??this.$refs.toggle)?.focus()},focusActiveTabContent(){this.preserveElementToReturnFocus(),this.$refs.tabs.focusActiveTabContent()},checkToggleButtonContainerAvailability(){this.open===!1&&!this.noToggle&&!this.ncContentSelector&&console.warn("[NcAppSidebar] It looks like you want to use NcAppSidebar with the built-in toggle button. This feature is only available when NcAppSidebar is used in NcContent.")},onNameInput(e){this.$emit("update:name",e.target.value)},onSubmitName(e){this.$emit("update:nameEditable",!1),this.$emit("submit-name",e)},onDismissEditing(){this.$emit("update:nameEditable",!1),this.$emit("dismiss-editing")},onUpdateActive(e){this.$emit("update:active",e)}}},Ik=["aria-labelledby"],Pk={class:"app-sidebar-header__info"},Vk={key:0,class:"app-sidebar-header__tertiary-actions"},Hk={class:"app-sidebar-header__name-container"},Rk={class:"app-sidebar-header__mainname-container"},Uk=["id","aria-label","title","tabindex"],jk=["placeholder","value"],qk=["title"],Wk={key:0,class:"app-sidebar-header__description"};function Yk(e,a,u,i,r,n){const o=k("IconDockRight"),s=k("NcButton"),l=k("NcLoadingIcon"),c=k("IconStar"),h=k("IconStarOutline"),d=k("IconArrowRight"),F=k("NcActions"),f=k("IconClose"),C=k("NcAppSidebarTabs"),v=k("NcEmptyContent"),b=Be("linkify"),D=Be("focus"),E=Be("click-outside");return p(),S(fi,{appear:"",name:"slide-right",onAfterEnter:n.onAfterEnter,onAfterLeave:n.onAfterLeave},{default:_(()=>[U(y("aside",{id:"app-sidebar-vue",ref:"sidebar",class:"app-sidebar","aria-labelledby":`app-sidebar-vue-${i.uid}__header`,onKeydown:a[7]||(a[7]=ke((...A)=>n.onKeydownEsc&&n.onKeydownEsc(...A),["esc"]))},[n.ncContentSelector&&!u.open&&!u.noToggle?(p(),S(ki,{key:0,to:n.ncContentSelector},[g(s,L({"aria-label":n.t("Open sidebar"),class:["app-sidebar__toggle",u.toggleClasses],type:"tertiary"},u.toggleAttrs,{onClick:a[0]||(a[0]=A=>e.$emit("update:open",!0))}),{icon:_(()=>[Q(e.$slots,"toggle-icon",{},()=>[g(o,{size:20})],!0)]),_:3},16,["aria-label","class"])],8,["to"])):w("",!0),y("header",{class:R([{"app-sidebar-header--with-figure":n.isSlotPopulated(e.$slots.header?.())||u.background,"app-sidebar-header--compact":u.compact},"app-sidebar-header"])},[y("div",Pk,[(n.isSlotPopulated(e.$slots.header?.())||u.background)&&!u.empty?(p(),m("div",{key:0,class:R([{"app-sidebar-header__figure--with-action":n.hasFigureClickListener},"app-sidebar-header__figure"]),style:Ie({backgroundImage:`url(${u.background})`}),tabindex:"0",onClick:a[1]||(a[1]=(...A)=>n.onFigureClick&&n.onFigureClick(...A)),onKeydown:a[2]||(a[2]=ke((...A)=>n.onFigureClick&&n.onFigureClick(...A),["enter"]))},[Q(e.$slots,"header",{class:"app-sidebar-header__background"},void 0,!0)],38)):w("",!0),u.empty?w("",!0):(p(),m("div",{key:1,class:R([{"app-sidebar-header__desc--with-tertiary-action":n.canStar||n.isSlotPopulated(e.$slots["tertiary-actions"]?.()),"app-sidebar-header__desc--editable":u.nameEditable&&!u.subname,"app-sidebar-header__desc--with-subname--editable":u.nameEditable&&u.subname,"app-sidebar-header__desc--without-actions":!n.isSlotPopulated(e.$slots["secondary-actions"]?.())},"app-sidebar-header__desc"])},[n.canStar||n.isSlotPopulated(e.$slots["tertiary-actions"]?.())?(p(),m("div",Vk,[Q(e.$slots,"tertiary-actions",{},()=>[n.canStar?(p(),S(s,{key:0,"aria-label":r.favoriteTranslated,pressed:r.isStarred,class:"app-sidebar-header__star",type:"secondary",onClick:ue(n.toggleStarred,["prevent"])},{icon:_(()=>[u.starLoading?(p(),S(l,{key:0})):r.isStarred?(p(),S(c,{key:1,size:20})):(p(),S(h,{key:2,size:20}))]),_:1},8,["aria-label","pressed","onClick"])):w("",!0)],!0)])):w("",!0),y("div",Hk,[y("div",Rk,[U((p(),m("h2",{id:`app-sidebar-vue-${i.uid}__header`,ref:"header","aria-label":u.title,title:u.title,class:"app-sidebar-header__mainname",tabindex:u.nameEditable?0:-1,onClick:a[3]||(a[3]=ue((...A)=>n.editName&&n.editName(...A),["self"]))},[j(B(u.name),1)],8,Uk)),[[oe,!u.nameEditable],[b,{text:u.name,linkify:u.linkifyName}]]),u.nameEditable?U((p(),m("form",{key:0,class:"app-sidebar-header__mainname-form",onSubmit:a[6]||(a[6]=ue((...A)=>n.onSubmitName&&n.onSubmitName(...A),["prevent"]))},[U(y("input",{ref:"nameInput",class:"app-sidebar-header__mainname-input",type:"text",placeholder:u.namePlaceholder,value:u.name,onKeydown:a[4]||(a[4]=ke(ue((...A)=>n.onDismissEditing&&n.onDismissEditing(...A),["stop"]),["esc"])),onInput:a[5]||(a[5]=(...A)=>n.onNameInput&&n.onNameInput(...A))},null,40,jk),[[D]]),g(s,{type:"tertiary-no-background","aria-label":r.changeNameTranslated,"native-type":"submit"},{icon:_(()=>[g(d,{size:20})]),_:1},8,["aria-label"])],32)),[[E,()=>n.onSubmitName()]]):w("",!0),n.isSlotPopulated(e.$slots["secondary-actions"]?.())?(p(),S(F,{key:1,class:"app-sidebar-header__menu","force-menu":u.forceMenu},{default:_(()=>[Q(e.$slots,"secondary-actions",{},void 0,!0)]),_:3},8,["force-menu"])):w("",!0)]),u.subname.trim()!==""||e.$slots.subname?(p(),m("p",{key:0,title:u.subtitle||void 0,class:"app-sidebar-header__subname"},[Q(e.$slots,"subname",{},()=>[j(B(u.subname),1)],!0)],8,qk)):w("",!0)])],2))]),g(s,{ref:"closeButton",title:r.closeTranslated,"aria-label":r.closeTranslated,type:"tertiary",class:"app-sidebar__close",onClick:ue(n.closeSidebar,["prevent"])},{icon:_(()=>[g(f,{size:20})]),_:1},8,["title","aria-label","onClick"]),n.isSlotPopulated(e.$slots.description?.())&&!u.empty?(p(),m("div",Wk,[Q(e.$slots,"description",{},void 0,!0)])):w("",!0)],2),U(g(C,{ref:"tabs",active:u.active,"force-tabs":u.forceTabs,"onUpdate:active":n.onUpdateActive},{default:_(()=>[Q(e.$slots,"default",{},void 0,!0)]),_:3},8,["active","force-tabs","onUpdate:active"]),[[oe,!u.loading]]),u.loading?(p(),S(v,{key:1},{icon:_(()=>[g(l,{size:64})]),_:1})):w("",!0)],40,Ik),[[oe,u.open]])]),_:3},8,["onAfterEnter","onAfterLeave"])}const Zk=W(Ok,[["render",Yk],["__scopeId","data-v-b9e95abe"]]),Gk={name:"NcAppSidebarTab",inject:["registerTab","unregisterTab","getActiveTab","isTablistShown"],props:{id:{type:String,required:!0},name:{type:String,required:!0},icon:{type:String,default:""},order:{type:Number,default:0}},emits:["bottom-reached","scroll"],expose:["id","name","icon","order","renderIcon"],computed:{isActive(){return this.getActiveTab()===this.id}},created(){this.registerTab(this)},beforeUnmount(){this.unregisterTab(this.id)},methods:{onScroll(e){this.$el.scrollHeight-this.$el.scrollTop===this.$el.clientHeight&&this.$emit("bottom-reached",e),this.$emit("scroll",e)},renderIcon(){return this.$slots.icon?.()}}},Xk=["id","aria-hidden","aria-label","aria-labelledby","tabindex","role"],Kk={class:"hidden-visually"};function Qk(e,a,u,i,r,n){return p(),m("section",{id:`tab-${u.id}`,class:R([{"app-sidebar__tab--active":n.isActive},"app-sidebar__tab"]),"aria-hidden":!n.isActive,"aria-label":n.isTablistShown()?void 0:u.name,"aria-labelledby":n.isTablistShown()?`tab-button-${u.id}`:void 0,tabindex:n.isTablistShown()?0:-1,role:n.isTablistShown()?"tabpanel":void 0,onScroll:a[0]||(a[0]=(...o)=>n.onScroll&&n.onScroll(...o))},[y("h3",Kk,B(u.name),1),Q(e.$slots,"default",{},void 0,!0)],42,Xk)}const Jk=W(Gk,[["render",Qk],["__scopeId","data-v-3738f8d6"]]),ey={name:"CalendarIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ty=["aria-hidden","aria-label"],uy=["fill","width","height"],ay={d:"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"},ny={key:0};function iy(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon calendar-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",ay,[u.title?(p(),m("title",ny,B(u.title),1)):w("",!0)])],8,uy))],16,ty)}const ry=I(ey,[["render",iy]]),oy={name:"CalendarEndIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},sy=["aria-hidden","aria-label"],ly=["fill","width","height"],cy={d:"M22 14V22H20V18L16 22V19H11V17H16V14L20 18V14H22M5 19L9 19V21L5 21C3.9 21 3 20.1 3 19V5C3 3.89 3.9 3 5 3H6V.998H8V3H16V.998H18V3H19C20.11 3 21 3.89 21 5L21 12H19V8H5V19Z"},dy={key:0};function py(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon calendar-end-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",cy,[u.title?(p(),m("title",dy,B(u.title),1)):w("",!0)])],8,ly))],16,sy)}const Cl=I(oy,[["render",py]]),hy={name:"CalendarStartIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},my=["aria-hidden","aria-label"],fy=["fill","width","height"],Fy={d:"M2 14H4V17H9V14L13 18L9 22V19H4V22H2V14M19 19V8H5V12H3L3 5C3 3.89 3.89 3 5 3H6V.998H8V3H16V.998H18V3H19C20.1 3 21 3.89 21 5V19C21 20.1 20.1 21 19 21L12.83 21L14.83 19L19 19Z"},gy={key:0};function Cy(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon calendar-start-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Fy,[u.title?(p(),m("title",gy,B(u.title),1)):w("",!0)])],8,fy))],16,my)}const kl=I(hy,[["render",Cy]]),ky={name:"InformationOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},yy=["aria-hidden","aria-label"],_y=["fill","width","height"],by={d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"},Dy={key:0};function vy(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon information-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",by,[u.title?(p(),m("title",Dy,B(u.title),1)):w("",!0)])],8,_y))],16,yy)}const Ey=I(ky,[["render",vy]]),Ay={name:"MagnifyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},wy=["aria-hidden","aria-label"],By=["fill","width","height"],xy={d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},Sy={key:0};function Ty(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon magnify-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",xy,[u.title?(p(),m("title",Sy,B(u.title),1)):w("",!0)])],8,By))],16,wy)}const My=I(Ay,[["render",Ty]]),zy={name:"MapMarkerIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Ly=["aria-hidden","aria-label"],Ny=["fill","width","height"],$y={d:"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"},Oy={key:0};function Iy(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon map-marker-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",$y,[u.title?(p(),m("title",Oy,B(u.title),1)):w("",!0)])],8,Ny))],16,Ly)}const Py=I(zy,[["render",Iy]]),Vy={name:"PercentIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Hy=["aria-hidden","aria-label"],Ry=["fill","width","height"],Uy={d:"M18.5,3.5L3.5,18.5L5.5,20.5L20.5,5.5M7,4A3,3 0 0,0 4,7A3,3 0 0,0 7,10A3,3 0 0,0 10,7A3,3 0 0,0 7,4M17,14A3,3 0 0,0 14,17A3,3 0 0,0 17,20A3,3 0 0,0 20,17A3,3 0 0,0 17,14Z"},jy={key:0};function qy(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon percent-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Uy,[u.title?(p(),m("title",jy,B(u.title),1)):w("",!0)])],8,Ry))],16,Hy)}const Wy=I(Vy,[["render",qy]]),Yy={name:"PinIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Zy=["aria-hidden","aria-label"],Gy=["fill","width","height"],Xy={d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},Ky={key:0};function Qy(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon pin-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Xy,[u.title?(p(),m("title",Ky,B(u.title),1)):w("",!0)])],8,Gy))],16,Zy)}const yl=I(Yy,[["render",Qy]]),Jy={name:"PinOffIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},e_=["aria-hidden","aria-label"],t_=["fill","width","height"],u_={d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},a_={key:0};function n_(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon pin-off-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",u_,[u.title?(p(),m("title",a_,B(u.title),1)):w("",!0)])],8,t_))],16,e_)}const i_=I(Jy,[["render",n_]]),r_={name:"WebIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},o_=["aria-hidden","aria-label"],s_=["fill","width","height"],l_={d:"M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},c_={key:0};function d_(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon web-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",l_,[u.title?(p(),m("title",c_,B(u.title),1)):w("",!0)])],8,s_))],16,o_)}const p_=I(r_,[["render",d_]]),h_={components:{NcAppSidebar:Zk,NcAppSidebarTab:Jk,NcActionButton:At,NcActionLink:Ao,NcLoadingIcon:iu,CheckboxItem:yf,DateTimePickerItem:Bg,Calendar:ry,CalendarEnd:Cl,CalendarStart:kl,Delete:Kt,Download:jo,InformationOutline:Ey,Magnify:My,MapMarker:Py,Pencil:vi,Percent:Wy,Pin:yl,PinOff:i_,Star:ma,TextBoxOutline:No,Undo:nn,Web:p_,NcEmptyContent:Ja,MultiselectItem:Og,SliderItem:qg,TagsItem:u3,TextItem:c3,CalendarPickerItem:Bc,NotesItem:BC,TaskCheckbox:Fl},beforeRouteUpdate(e,a,u){this.saveSummary(),u()},props:{active:{type:String,default:""}},data(){return{editingSummary:!1,editingStart:!1,editingDue:!1,loading:!1,classSelect:[{displayName:x("tasks","When shared show full event"),type:"PUBLIC",icon:"IconEye"},{displayName:x("tasks","When shared show only busy"),type:"CONFIDENTIAL",icon:"IconCalendarRemove",optionClass:"active"},{displayName:x("tasks","When shared hide this event"),type:"PRIVATE",icon:"IconEyeOff",optionClass:"active"}],newSummary:"",summarySaved:!0,activeTab:this.active}},computed:{calendar(){return this.getCalendarByRoute(this.$route)},task(){return this.getTaskByRoute(this.$route)},summary(){return this.task?this.task.summary:""},subsummary(){return this.completedString?this.completedString:this.modifiedString?this.modifiedString:this.createdString?this.createdString:""},subsummaryTooltip(){const e=[];return this.completedString&&e.push(this.completedString),this.modifiedString&&e.push(this.modifiedString),this.createdString&&e.push(this.createdString),e.join(`
`)},completedString(){return this.task?.completed&&this.task.completedDateMoment.isValid()?this.task.completedDateMoment.calendar(null,{lastDay:x("tasks","[Completed yesterday at] LT"),sameDay:x("tasks","[Completed today at] LT"),nextDay:x("tasks","[Completed] L"),lastWeek:x("tasks","[Completed last] dddd [at] LT"),nextWeek:x("tasks","[Completed] dddd [at] LT"),sameElse:x("tasks","[Completed] L")}):""},modifiedString(){return this.task?.modifiedMoment.isValid()?this.task.modifiedMoment.calendar(null,{lastDay:x("tasks","[Last modified yesterday at] LT"),sameDay:x("tasks","[Last modified today at] LT"),nextDay:x("tasks","[Last modified] L"),lastWeek:x("tasks","[Last modified last] dddd [at] LT"),nextWeek:x("tasks","[Last modified] dddd [at] LT"),sameElse:x("tasks","[Last modified] L")}):""},createdString(){return this.task?.createdMoment.isValid()?this.task.createdMoment.calendar(null,{lastDay:x("tasks","[Created yesterday at] LT"),sameDay:x("tasks","[Created today at] LT"),nextDay:x("tasks","[Created] L"),lastWeek:x("tasks","[Created last] dddd [at] LT"),nextWeek:x("tasks","[Created] dddd [at] LT"),sameElse:x("tasks","[Created] L")}):""},statusOptions(){const e=[{displayName:x("tasks","Needs action"),type:"NEEDS-ACTION",icon:"IconAlertBoxOutline",optionClass:"active"},{displayName:x("tasks","Completed"),type:"COMPLETED",icon:"IconCheck",optionClass:"active"},{displayName:x("tasks","In process"),type:"IN-PROCESS",icon:"IconTrendingUp",optionClass:"active"},{displayName:x("tasks","Canceled"),type:"CANCELLED",icon:"IconCancel",optionClass:"active"}];return this.task.status?e.concat([{displayName:x("tasks","Clear status"),type:null,icon:"IconDelete",optionClass:"center"}]):e},downloadURL(){return this.task?this.task?.url+"?export":null},newStartDate(){const e=this.task.startMoment;if(e.isValid())return e.toDate();const a=this.task.dueMoment;let u=qe().add(1,"h");return a.isBefore(u)&&(u=a.subtract(1,"m")),u.startOf(this.allDay?"day":"hour"),u.toDate()},newDueDate(){const e=this.task.dueMoment;if(e.isValid())return e.toDate();const a=this.task.startMoment,u=a.isAfter()?a:qe();return this.allDay?u.startOf("day").add(1,"d"):u.startOf("hour").add(1,"h"),u.toDate()},taskStatusLabel(){return this.loading?x("tasks","Loading task from server."):x("tasks","Task not found!")},readOnly(){return this.task.calendar.readOnly||this.task.calendar.isSharedWithMe&&this.task.class!=="PUBLIC"},allDay(){return this.task.startMoment.isValid()||this.task.dueMoment.isValid()?!!this.task.allDay:!!this.$store.state.settings.settings.allDay},showInCalendar(){return!!this.showTaskInCalendar&&this.task.dueMoment.isValid()},calendarLink(){return Ba(`apps/calendar/${this.calendarView}/${this.task.dueMoment.format("YYYY-MM-DD")}`)},deckLink(){const e="app-generated--deck--board-";if(this.task.calendar.id.startsWith(e)){const a=this.task.calendar.id.slice(e.length);if(this.task.uri.startsWith("card")){const u=this.task.uri.slice(5).replace(".ics","");return Ba(`apps/deck/#/board/${a}/card/${u}`)}else return Ba(`apps/deck/#/board/${a}`)}return null},startDateString(){return this.task.startMoment.isValid()?gl(this.task):x("tasks","Set start date")},dueDateString(){return this.task.dueMoment.isValid()?lk(this.task):x("tasks","Set due date")},showAllDayToggle(){return!this.readOnly&&(this.task.due||this.task.start||this.editingStart||this.editingDue)},priorityColor(){return+this.task.priority>5?"#4271a6":+this.task.priority==5?"#fd0":+this.task.priority>0?"#b3312d":null},priorityString(){return+this.task.priority>5?x("tasks","Priority {priority}: low",{priority:this.task.priority}):+this.task.priority==5?x("tasks","Priority {priority}: medium",{priority:this.task.priority}):+this.task.priority>0?x("tasks","Priority {priority}: high",{priority:this.task.priority}):x("tasks","No priority assigned")},priorityClass(){return+this.task.priority>5?"priority--low":+this.task.priority==5?"priority--medium":+this.task.priority>0?"priority--high":null},completeString(){return x("tasks","{percent} % completed",{percent:this.task.complete})},targetCalendars(){let e=this.writableCalendars;return this.task.class!=="PUBLIC"&&(e=e.filter(a=>!a.isSharedWithMe)),e},...Pe({writableCalendars:"getSortedWritableCalendars",getTaskByRoute:"getTaskByRoute",getCalendarByRoute:"getCalendarByRoute",calendars:"getSortedCalendars",tags:"tags",showTaskInCalendar:"showTaskInCalendar",calendarView:"calendarView"})},watch:{$route:"loadTask",calendars:"loadTask"},mounted(){Vt("tasks:close-appsidebar",this.closeAppSidebar),Vt("tasks:task:deleted",this.handleTaskDeletion),Vt("tasks:open-appsidebar-tab",this.openAppSidebarTab),Vt("tasks:edit-appsidebar-summary",this.editSummary)},beforeUnmount(){Ht("tasks:close-appsidebar",this.closeAppSidebar),Ht("tasks:task:deleted",this.handleTaskDeletion),Ht("tasks:open-appsidebar-tab",this.openAppSidebarTab),Ht("tasks:edit-appsidebar-summary",this.editSummary)},created(){this.loadTask()},methods:{t:x,n:ht,...Ct(["scheduleTaskDeletion","clearTaskDeletion","toggleCompleted","toggleStarred","setSummary","setNote","setPriority","setLocation","setUrl","setPercentComplete","setTags","addTag","setDue","setStart","toggleAllDay","moveTask","setClassification","setStatus","getTaskByUri","togglePinned"]),async loadTask(){if(this.task===void 0||this.task===null){const e=this.$route.params.taskId;if(!e)return;const a=this.calendar?[this.calendar]:this.calendars;for(const u of a){this.loading=!0;try{if(await this.getTaskByUri({calendar:u,taskUri:e}))break}catch{console.debug("Task "+e+" not found in calendar "+u.displayName+".")}}this.loading=!1}},handleTaskDeletion({taskId:e}){e===this.$route.params.taskId&&this.closeAppSidebar()},closeAppSidebar(){this.saveSummary(),this.$route.params.calendarId?this.$router.push({name:"calendars",params:{calendarId:this.$route.params.calendarId}}):this.$router.push({name:"collections",params:{collectionId:this.$route.params.collectionId}})},openAppSidebarTab(e){this.activeTab=e},editSummary(e){this.readOnly||(!this.editingSummary&&e&&(this.newSummary=this.task.summary),this.editingSummary=e)},updateSummary(e){this.newSummary=e,this.summarySaved=!1},saveSummary(e=this.task){!this.summarySaved&&this.newSummary!==e.summary&&this.setSummary({task:e,summary:this.newSummary}),this.summarySaved=!0},setStartDate({task:e,value:a}){a&&(a=qe(a)),!this.task.startMoment.isSame(a)&&this.setStart({task:e,start:a,allDay:this.allDay})},setDueDate({task:e,value:a}){a&&(a=qe(a)),!this.task.dueMoment.isSame(a)&&this.setDue({task:e,due:a,allDay:this.allDay})},changeClass(e){this.setClassification({task:this.task,classification:e.type})},changeStatus(e){this.setStatus({task:this.task,status:e.type})},updateTags(e){this.setTags({task:this.task,tags:e})},updateTag(e){this.addTag({task:this.task,tag:e})},async changeCalendar(e){const a=await this.moveTask({task:this.task,calendar:e});this.$route.params.calendarId&&this.$router.push({name:"calendarsTask",params:{calendarId:a.calendar.id,taskId:a.uri}})}}},m_=e=>(Xa("data-v-60bea838"),e=e(),Ka(),e),f_=m_(()=>y("span",{class:"material-design-icon icon-deck"},null,-1));function F_(e,a,u,i,r,n){const o=k("CalendarStart"),s=k("DateTimePickerItem"),l=k("CalendarEnd"),c=k("CheckboxItem"),h=k("CalendarPickerItem"),d=k("PinOff"),F=k("Pin"),f=k("NcActionButton"),C=k("Calendar"),v=k("NcActionLink"),b=k("Pencil"),D=k("Download"),E=k("Delete"),A=k("Undo"),z=k("TaskCheckbox"),$=k("InformationOutline"),T=k("MultiselectItem"),N=k("Star"),G=k("SliderItem"),P=k("Percent"),ae=k("MapMarker"),pe=k("TextItem"),ge=k("Web"),_e=k("TagsItem"),be=k("NcAppSidebarTab"),X=k("NcLoadingIcon"),fe=k("Magnify"),De=k("NcEmptyContent"),He=k("TextBoxOutline"),ct=k("NotesItem"),kt=k("NcAppSidebar");return p(),S(kt,{active:r.activeTab,"onUpdate:active":a[13]||(a[13]=ie=>r.activeTab=ie),name:n.summary,"name-editable":r.editingSummary,"linkify-name":!0,subname:n.subsummary,title:n.summary,subtitle:n.subsummaryTooltip,empty:!n.task,onStartEditing:a[14]||(a[14]=ie=>r.newSummary=n.task.summary),"onUpdate:nameEditable":n.editSummary,"onUpdate:name":n.updateSummary,onSubmitName:a[15]||(a[15]=ie=>n.saveSummary()),onClose:a[16]||(a[16]=ie=>n.closeAppSidebar())},Yt({"tertiary-actions":_(()=>[g(z,{completed:n.task.completed,cancelled:n.task.status==="CANCELLED","read-only":n.readOnly,"priority-class":n.priorityClass,onToggleCompleted:a[7]||(a[7]=ie=>e.toggleCompleted(n.task))},null,8,["completed","cancelled","read-only","priority-class"])]),default:_(()=>[n.task?(p(),S(be,{key:0,id:"app-sidebar-tab-details",class:"app-sidebar-tab",name:n.t("tasks","Details"),order:0},{icon:_(()=>[g($,{size:20})]),default:_(()=>[y("div",null,[U(g(T,{value:r.classSelect.find(ie=>ie.type===n.task.class),options:r.classSelect,disabled:n.readOnly||n.task.calendar.isSharedWithMe,title:n.task.calendar.isSharedWithMe?n.t("tasks","Selecting a classification is forbidden, because the task was shared with you."):null,placeholder:n.t("tasks","Select a classification"),icon:"IconEye",onChangeValue:n.changeClass},null,8,["value","options","disabled","title","placeholder","onChangeValue"]),[[oe,!n.readOnly||n.task.class!=="PUBLIC"]]),U(g(T,{value:n.statusOptions.find(ie=>ie.type===n.task.status),options:n.statusOptions,disabled:n.readOnly,placeholder:n.t("tasks","Select a status"),icon:"IconPulse",onChangeValue:n.changeStatus},null,8,["value","options","disabled","placeholder","onChangeValue"]),[[oe,!n.readOnly||n.task.status]]),U(g(G,{value:n.task.priority,"property-string":n.priorityString,"read-only":n.readOnly,"min-value":0,"max-value":9,color:n.priorityColor,task:n.task,onSetValue:a[8]||(a[8]=({task:ie,value:Ye})=>e.setPriority({task:ie,priority:Ye}))},{icon:_(()=>[g(N,{size:20})]),_:1},8,["value","property-string","read-only","color","task"]),[[oe,!n.readOnly||n.task.priority]]),U(g(G,{value:n.task.complete,"property-string":n.completeString,"read-only":n.readOnly,"min-value":0,"max-value":100,color:n.task.complete>0?"#4271a6":null,task:n.task,onSetValue:a[9]||(a[9]=({task:ie,value:Ye})=>e.setPercentComplete({task:ie,complete:Ye}))},{icon:_(()=>[g(P,{size:20})]),_:1},8,["value","property-string","read-only","color","task"]),[[oe,!n.readOnly||n.task.complete]]),U(g(pe,{value:n.task.location,"property-string":n.task.location||n.t("tasks","Set a location"),"read-only":n.readOnly,color:n.task.location?"#4271a6":null,task:n.task,onSetValue:a[10]||(a[10]=({task:ie,value:Ye})=>e.setLocation({task:ie,location:Ye}))},{icon:_(()=>[g(ae,{size:20})]),_:1},8,["value","property-string","read-only","color","task"]),[[oe,!n.readOnly||n.task.location]]),U(g(pe,{value:n.task.customUrl,"property-string":n.task.customUrl||n.t("tasks","Set a URL"),"read-only":n.readOnly,color:n.task.customUrl?"#4271a6":null,task:n.task,onSetValue:a[11]||(a[11]=({task:ie,value:Ye})=>e.setUrl({task:ie,url:Ye}))},{icon:_(()=>[g(ge,{size:20})]),_:1},8,["value","property-string","read-only","color","task"]),[[oe,!n.readOnly||n.task.customUrl]]),U(g(_e,{options:e.tags,tags:n.task.tags,disabled:n.readOnly,placeholder:n.t("tasks","Select tags"),icon:"TagMultiple",onAddTag:n.updateTag,onSetTags:n.updateTags},null,8,["options","tags","disabled","placeholder","onAddTag","onSetTags"]),[[oe,!n.readOnly||n.task.tags.length>0]])])]),_:1},8,["name"])):(p(),S(De,{key:1,description:n.taskStatusLabel},{icon:_(()=>[r.loading?(p(),S(X,{key:0})):(p(),S(fe,{key:1}))]),_:1},8,["description"])),n.task&&(!n.readOnly||n.task.note)?(p(),S(be,{key:2,id:"app-sidebar-tab-notes",class:"app-sidebar-tab",name:n.t("tasks","Notes"),order:1},{icon:_(()=>[g(He,{size:20})]),default:_(()=>[U(g(ct,{value:n.task.note,"read-only":n.readOnly,task:n.task,onSetValue:a[12]||(a[12]=({task:ie,value:Ye})=>e.setNote({task:ie,note:Ye}))},null,8,["value","read-only","task"]),[[oe,!n.readOnly||n.task.note]])]),_:1},8,["name"])):w("",!0)]),_:2},[n.task?{name:"description",fn:_(()=>[U(g(s,{date:n.task.startMoment,value:n.newStartDate,"all-day":n.allDay,"property-string":n.startDateString,"read-only":n.readOnly,task:n.task,onEditing:a[0]||(a[0]=ie=>r.editingStart=ie),onSetValue:n.setStartDate},{icon:_(()=>[g(o,{size:20})]),_:1},8,["date","value","all-day","property-string","read-only","task","onSetValue"]),[[oe,!n.readOnly||n.task.start]]),U(g(s,{date:n.task.dueMoment,value:n.newDueDate,"all-day":n.allDay,"property-string":n.dueDateString,"read-only":n.readOnly,task:n.task,onEditing:a[1]||(a[1]=ie=>r.editingDue=ie),onSetValue:n.setDueDate},{icon:_(()=>[g(l,{size:20})]),_:1},8,["date","value","all-day","property-string","read-only","task","onSetValue"]),[[oe,!n.readOnly||n.task.due]]),U(g(c,{id:"allDayToggle",checked:n.allDay,"read-only":n.readOnly,"property-string":n.t("tasks","All day"),onSetChecked:a[2]||(a[2]=ie=>e.toggleAllDay(n.task))},null,8,["checked","read-only","property-string"]),[[oe,n.showAllDayToggle]]),g(h,{disabled:n.readOnly,calendar:n.task.calendar,calendars:n.targetCalendars,onChangeCalendar:n.changeCalendar},null,8,["disabled","calendar","calendars","onChangeCalendar"])]),key:"0"}:void 0,!n.task||n.task&&n.task.deleteCountdown===null?{name:"secondary-actions",fn:_(()=>[n.readOnly?w("",!0):(p(),S(f,{key:0,onClick:a[3]||(a[3]=ie=>e.togglePinned(n.task))},Yt({default:_(()=>[j(" "+B(n.task.pinned?n.t("tasks","Unpin"):n.t("tasks","Pin")),1)]),_:2},[n.task.pinned?{name:"icon",fn:_(()=>[g(d,{size:20})]),key:"0"}:{name:"icon",fn:_(()=>[g(F,{size:20})]),key:"1"}]),1024)),n.showInCalendar?(p(),S(v,{key:1,href:n.calendarLink,"close-after-click":!0,target:"_blank"},{icon:_(()=>[g(C,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Show in Calendar")),1)]),_:1},8,["href"])):w("",!0),n.deckLink?(p(),S(v,{key:2,href:n.deckLink,"close-after-click":!0,target:"_blank"},{icon:_(()=>[f_]),default:_(()=>[j(" "+B(n.t("tasks","Show in Deck")),1)]),_:1},8,["href"])):w("",!0),n.readOnly?w("",!0):(p(),S(f,{key:3,"close-after-click":!0,onClick:a[4]||(a[4]=ie=>n.editSummary(!0))},{icon:_(()=>[g(b,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Edit summary")),1)]),_:1})),g(v,{href:n.downloadURL,"close-after-click":!0},{icon:_(()=>[g(D,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Export")),1)]),_:1},8,["href"]),n.readOnly?w("",!0):(p(),S(f,{key:4,onClick:a[5]||(a[5]=ie=>e.scheduleTaskDeletion(n.task))},{icon:_(()=>[g(E,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Delete")),1)]),_:1}))]),key:"1"}:{name:"secondary-actions",fn:_(()=>[g(f,{class:"reactive no-nav",onClick:a[6]||(a[6]=ue(ie=>e.clearTaskDeletion(n.task),["prevent","stop"]))},{icon:_(()=>[g(A,{size:20})]),default:_(()=>[j(" "+B(n.n("tasks","Deleting the task in {countdown} second","Deleting the task in {countdown} seconds",n.task.deleteCountdown,{countdown:n.task.deleteCountdown})),1)]),_:1})]),key:"2"}]),1032,["active","name","name-editable","subname","title","subtitle","empty","onUpdate:nameEditable","onUpdate:name"])}const qn=I(h_,[["render",F_],["__scopeId","data-v-60bea838"]]),g_=["date","datetime-local","month","time","week"],C_=zo({name:"NcDateTimePickerNative",inheritAttrs:!1,props:{modelValue:{type:Date,default:null},id:{type:String,required:!0},type:{type:String,default:"date",validate:e=>g_.includes(e)},label:{type:String,default:"Please choose a date"},min:{type:[Date,Boolean],default:null},max:{type:[Date,Boolean],default:null},hideLabel:{type:Boolean,default:!1},inputClass:{type:[Object,String],default:""}},emits:["update:modelValue"],computed:{formattedValue(){return this.formatValue(this.modelValue)},formattedMin(){return this.min?this.formatValue(this.min):!1},formattedMax(){return this.max?this.formatValue(this.max):!1}},methods:{onInput(e){if(isNaN(e.target.valueAsNumber))return this.$emit("update:modelValue",null);if(this.type==="time"){const i=e.target.value;if(this.modelValue===""){const{yyyy:s,MM:l,dd:c}=this.getReadableDate(new Date);return this.$emit("update:modelValue",new Date(`${s}-${l}-${c}T${i}`))}const{yyyy:r,MM:n,dd:o}=this.getReadableDate(this.modelValue);return this.$emit("update:modelValue",new Date(`${r}-${n}-${o}T${i}`))}else if(this.type==="month"){const i=(new Date(e.target.value).getMonth()+1).toString().padStart(2,"0");if(this.modelValue===""){const{yyyy:l,dd:c,hh:h,mm:d}=this.getReadableDate(new Date);return this.$emit("update:modelValue",new Date(`${l}-${i}-${c}T${h}:${d}`))}const{yyyy:r,dd:n,hh:o,mm:s}=this.getReadableDate(this.value);return this.$emit("update:modelValue",new Date(`${r}-${i}-${n}T${o}:${s}`))}const a=new Date(e.target.valueAsNumber).getTimezoneOffset()*1e3*60,u=e.target.valueAsNumber+a;return this.$emit("update:modelValue",new Date(u))},getReadableDate(e){if(e instanceof Date){const a=e.getFullYear().toString().padStart(4,"0"),u=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),r=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");return{yyyy:a,MM:u,dd:i,hh:r,mm:n}}},formatValue(e){if(e instanceof Date){const{yyyy:a,MM:u,dd:i,hh:r,mm:n}=this.getReadableDate(e);if(this.type==="datetime-local")return`${a}-${u}-${i}T${r}:${n}`;if(this.type==="date")return`${a}-${u}-${i}`;if(this.type==="month")return`${a}-${u}`;if(this.type==="time")return`${r}:${n}`;if(this.type==="week"){const o=new Date(a,0,1),s=Math.floor((e-o)/(24*60*60*1e3)),l=Math.ceil(s/7);return`${a}-W${l}`}}else return""}}}),k_={class:"native-datetime-picker"},y_=["for"],__=["id","type","value","min","max"];function b_(e,a,u,i,r,n){return p(),m("div",k_,[y("label",{class:R({"hidden-visually":e.hideLabel}),for:e.id},B(e.label),11,y_),y("input",L({id:e.id,class:["native-datetime-picker--input",e.inputClass],type:e.type,value:e.formattedValue,min:e.formattedMin,max:e.formattedMax},e.$attrs,{onInput:a[0]||(a[0]=(...o)=>e.onInput&&e.onInput(...o))}),null,16,__)])}const D_=W(C_,[["render",b_],["__scopeId","data-v-2debd3a9"]]),v_={name:"EyeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},E_=["aria-hidden","aria-label"],A_=["fill","width","height"],w_={d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},B_={key:0};function x_(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon eye-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",w_,[u.title?(p(),m("title",B_,B(u.title),1)):w("",!0)])],8,A_))],16,E_)}const S_=W(v_,[["render",x_]]),T_={name:"EyeOffIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},M_=["aria-hidden","aria-label"],z_=["fill","width","height"],L_={d:"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z"},N_={key:0};function $_(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon eye-off-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",L_,[u.title?(p(),m("title",N_,B(u.title),1)):w("",!0)])],8,z_))],16,M_)}const O_=W(T_,[["render",$_]]);$e(xc);const I_=Qo().detectUser().setApp("@nextcloud/vue").build(),Jr=To("core","capabilities",{}).password_policy||null,P_=new Set(Object.keys(Au.props)),V_={name:"NcPasswordField",components:{NcInputField:Au,Eye:S_,EyeOff:O_},props:{" ":{},...Au.props,showTrailingButton:{type:Boolean,default:!0},trailingButtonLabel:void 0,checkPasswordStrength:{type:Boolean,default:!1},minlength:{type:Number,default:0},maxlength:{type:Number,default:null}},emits:["valid","invalid","update:modelValue"],data(){return{isPasswordHidden:!0,internalHelpMessage:"",isValid:null}},computed:{computedError(){return this.error||this.isValid===!1},computedSuccess(){return this.success||this.isValid===!0},computedHelperText(){return this.helperText.length>0?this.helperText:this.internalHelpMessage},rules(){const{minlength:e}=this;return{minlength:e??Jr?.minLength}},trailingButtonLabelPassword(){return this.isPasswordHidden?ee("Show password"):ee("Hide password")},propsToForward(){return{...Object.fromEntries(Object.entries(this.$props).filter(([e])=>P_.has(e)))}}},watch:{modelValue(e){if(this.checkPasswordStrength){if(Jr===null)return;this.checkPassword(e)}}},methods:{focus(){this.$refs.inputField.focus()},select(){this.$refs.inputField.select()},handleInput(e){this.$emit("update:modelValue",e)},togglePasswordVisibility(){this.isPasswordHidden=!this.isPasswordHidden},checkPassword:Ho(async function(e){try{const{data:a}=await Do.post(vo("apps/password_policy/api/v1/validate"),{password:e});if(this.isValid=a.ocs.data.passed,a.ocs.data.passed){this.internalHelpMessage=ee("Password is secure"),this.$emit("valid");return}this.internalHelpMessage=a.ocs.data.reason,this.$emit("invalid")}catch(a){I_.error("Password policy returned an error",a)}},500)}};function H_(e,a,u,i,r,n){const o=k("Eye"),s=k("EyeOff"),l=k("NcInputField");return p(),S(l,L(n.propsToForward,{ref:"inputField",type:r.isPasswordHidden?"password":"text","trailing-button-label":n.trailingButtonLabelPassword,"helper-text":n.computedHelperText,error:n.computedError,success:n.computedSuccess,minlength:n.rules.minlength,onTrailingButtonClick:n.togglePasswordVisibility,"onUpdate:modelValue":n.handleInput}),Yt({"trailing-button-icon":_(()=>[r.isPasswordHidden?(p(),S(o,{key:0,size:18})):(p(),S(s,{key:1,size:18}))]),_:2},[e.$slots.icon?{name:"icon",fn:_(()=>[Q(e.$slots,"icon")]),key:"0"}:void 0]),1040,["type","trailing-button-label","helper-text","error","success","minlength","onTrailingButtonClick","onUpdate:modelValue"])}const R_=W(V_,[["render",H_]]);$e(Tc);const U_={name:"NcActionInput",components:{NcDateTimePicker:Is,NcDateTimePickerNative:D_,NcPasswordField:R_,NcSelect:ca,NcTextField:pa},mixins:[Sc],inheritAttrs:!1,props:{id:{type:String,default:()=>"action-"+Wt(),validator:e=>e.trim()!==""},inputId:{type:String,default:()=>"action-input-"+Wt(),validator:e=>e.trim()!==""},icon:{type:String,default:""},type:{type:String,default:"text",validator(e){return["date","datetime-local","month","multiselect","number","password","search","tel","text","time","url","week","color","email"].indexOf(e)>-1}},idNativeDateTimePicker:{type:String,default:"date-time-picker_id"},isNativePicker:{type:Boolean,default:!1},label:{type:String,default:null},labelOutside:{type:Boolean,default:!0},modelValue:{type:[String,Date,Number,Array],default:""},disabled:{type:Boolean,default:!1},ariaLabel:{type:String,default:""},ariaHidden:{type:Boolean,default:null},showTrailingButton:{type:Boolean,default:!0},trailingButtonLabel:{type:String,default:ee("Submit")},class:{type:[String,Array,Object],default:""}},emits:["submit","update:modelValue"],computed:{isIconUrl(){try{return new URL(this.icon)}catch{return!1}},isMultiselectType(){return this.type==="multiselect"},nativeDatePickerType(){switch(this.type){case"date":case"month":case"time":case"week":case"datetime-local":return this.type}return!1},datePickerType(){if(!this.isNativePicker)switch(this.type){case"date":case"month":case"time":return this.type;case"datetime-local":return"datetime"}return!1},isFocusable(){return!this.disabled}},methods:{onLeave(){this.$refs.datetimepicker&&this.$refs.datetimepicker.$refs.datepicker&&this.$refs.datetimepicker.$refs.datepicker.closePopup()},onSubmit(e){if(e.preventDefault(),e.stopPropagation(),!this.disabled)this.$emit("submit",e);else return!1},onUpdateModelValue(e){this.$emit("update:modelValue",e)}}},j_={class:"action-input__icon-wrapper"},q_=["disabled"],W_={class:"action-input__container"},Y_=["for"],Z_={class:"action-input__input-container"},G_={key:4,class:"action-input__container"},X_=["for"],K_={class:"action-input__input-container"};function Q_(e,a,u,i,r,n){const o=k("NcDateTimePicker"),s=k("NcDateTimePickerNative"),l=k("NcSelect"),c=k("NcPasswordField"),h=k("NcColorPicker"),d=k("NcTextField");return p(),m("li",{class:R(["action",[{"action--disabled":u.disabled},e.$props.class]])},[y("span",{class:R([{"action-input-picker--disabled":u.disabled,"action-input--visible-label":u.labelOutside&&u.label},"action-input"]),onMouseleave:a[3]||(a[3]=(...F)=>n.onLeave&&n.onLeave(...F))},[y("span",j_,[Q(e.$slots,"icon",{},()=>[y("span",{class:R([[n.isIconUrl?"action-input__icon--url":u.icon],"action-input__icon"]),style:Ie({backgroundImage:n.isIconUrl?`url(${u.icon})`:null}),"aria-hidden":"true"},null,6)],!0)]),y("form",{ref:"form",class:"action-input__form",disabled:u.disabled,onSubmit:a[2]||(a[2]=ue((...F)=>n.onSubmit&&n.onSubmit(...F),["prevent"]))},[y("div",W_,[u.label&&u.labelOutside?(p(),m("label",{key:0,class:R(["action-input__text-label",{"action-input__text-label--hidden":!u.labelOutside}]),for:u.inputId},B(u.label),11,Y_)):w("",!0),y("div",Z_,[n.datePickerType?(p(),S(o,L({key:0,ref:"datetimepicker","model-value":u.modelValue,style:{"z-index":"99999999999"},placeholder:e.text,disabled:u.disabled,type:n.datePickerType,"input-class":["mx-input",{focusable:n.isFocusable}],class:"action-input__datetimepicker"},e.$attrs,{"onUpdate:modelValue":n.onUpdateModelValue}),null,16,["model-value","placeholder","disabled","type","input-class","onUpdate:modelValue"])):u.isNativePicker?(p(),S(s,L({key:1,id:u.idNativeDateTimePicker,"model-value":u.modelValue,type:n.nativeDatePickerType,"input-class":{focusable:n.isFocusable},class:"action-input__datetimepicker"},e.$attrs,{"onUpdate:modelValue":n.onUpdateModelValue}),null,16,["id","model-value","type","input-class","onUpdate:modelValue"])):n.isMultiselectType?(p(),S(l,L({key:2,"model-value":u.modelValue,placeholder:e.text,disabled:u.disabled,"append-to-body":!1,"input-class":{focusable:n.isFocusable},class:"action-input__multi"},e.$attrs,{"onUpdate:modelValue":n.onUpdateModelValue}),null,16,["model-value","placeholder","disabled","input-class","onUpdate:modelValue"])):u.type==="password"?(p(),S(c,L({key:3,id:u.inputId,"model-value":u.modelValue,label:u.label,"label-outside":!u.label||u.labelOutside,placeholder:e.text,disabled:u.disabled,"input-class":{focusable:n.isFocusable},"show-trailing-button":u.showTrailingButton&&!u.disabled},e.$attrs,{"onUpdate:modelValue":n.onUpdateModelValue}),null,16,["id","model-value","label","label-outside","placeholder","disabled","input-class","show-trailing-button","onUpdate:modelValue"])):u.type==="color"?(p(),m("div",G_,[u.label&&u.type==="color"?(p(),m("label",{key:0,class:R(["action-input__text-label",{"action-input__text-label--hidden":!u.labelOutside}]),for:u.inputId},B(u.label),11,X_)):w("",!0),y("div",K_,[g(h,L({id:"inputId","model-value":u.modelValue,class:"colorpicker__trigger"},e.$attrs,{"onUpdate:modelValue":n.onUpdateModelValue,onSubmit:a[0]||(a[0]=F=>e.$refs.form.requestSubmit())}),{default:_(()=>[y("button",{style:Ie({"background-color":u.modelValue}),class:R(["colorpicker__preview",{focusable:n.isFocusable}])},null,6)]),_:1},16,["model-value","onUpdate:modelValue"])])])):(p(),S(d,L({key:5,id:u.inputId,"model-value":u.modelValue,label:u.label,"label-outside":!u.label||u.labelOutside,placeholder:e.text,disabled:u.disabled,"input-class":{focusable:n.isFocusable},type:u.type,"trailing-button-icon":"arrowRight","trailing-button-label":u.trailingButtonLabel,"show-trailing-button":u.showTrailingButton&&!u.disabled},e.$attrs,{onTrailingButtonClick:a[1]||(a[1]=F=>e.$refs.form.requestSubmit()),"onUpdate:modelValue":n.onUpdateModelValue}),null,16,["id","model-value","label","label-outside","placeholder","disabled","input-class","type","trailing-button-label","show-trailing-button","onUpdate:modelValue"]))])])],40,q_)],34)],2)}const J_=W(U_,[["render",Q_],["__scopeId","data-v-b11d6296"]]),eb={name:"FilterIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},tb=["aria-hidden","aria-label"],ub=["fill","width","height"],ab={d:"M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"},nb={key:0};function ib(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon filter-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",ab,[u.title?(p(),m("title",nb,B(u.title),1)):w("",!0)])],8,ub))],16,tb)}const rb=I(eb,[["render",ib]]),ob={name:"FilterOffIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},sb=["aria-hidden","aria-label"],lb=["fill","width","height"],cb={d:"M2.39 1.73L1.11 3L9.5 11.37L9.97 12H10V17.87C9.96 18.16 10.06 18.47 10.29 18.7L12.3 20.71C12.69 21.1 13.32 21.1 13.71 20.71C13.94 20.5 14.04 20.18 14 19.88V15.89L20.84 22.73L22.11 21.46L14 13.35L9.41 8.76L4.15 3.5L2.39 1.73M6.21 3L14.54 11.34L19.79 4.62C20.13 4.19 20.05 3.56 19.62 3.22C19.43 3.08 19.22 3 19 3H6.21Z"},db={key:0};function pb(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon filter-off-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",cb,[u.title?(p(),m("title",db,B(u.title),1)):w("",!0)])],8,lb))],16,sb)}const hb=I(ob,[["render",pb]]),mb={name:"FilterDropdown",components:{NcActions:Xt,NcActionButton:At,NcActionInput:J_,Close:Uo,FilterIcon:rb,FilterOffIcon:hb,TagMultiple:Vs},computed:{...Pe({tags:"tags",filter:"filter",searchQuery:"searchQuery"}),isFilterActive(){return this.filter.tags.length||this.searchQuery}},methods:{t:x,...yi(["setFilter","setSearchQuery"]),setTags(e){const a=this.filter;a.tags=e,this.setFilter(a)},resetFilter(){this.setFilter({tags:[]}),this.setSearchQuery("")}}},fb={class:"material-design-icon"};function Fb(e,a,u,i,r,n){const o=k("FilterIcon"),s=k("FilterOffIcon"),l=k("TagMultiple"),c=k("NcActionInput"),h=k("Close"),d=k("NcActionButton"),F=k("NcActions");return p(),S(F,{class:"filter reactive","force-menu":"",type:n.isFilterActive?"primary":"tertiary",title:n.t("tasks","Active filter")},{icon:_(()=>[y("span",fb,[n.isFilterActive?(p(),S(o,{key:0,size:20})):(p(),S(s,{key:1,size:20}))])]),default:_(()=>[g(c,{type:"multiselect",label:n.t("tasks","Filter by tags"),"track-by":"id",multiple:!0,"append-to-body":!0,options:e.tags,"model-value":e.filter.tags,"onUpdate:modelValue":n.setTags},{icon:_(()=>[g(l,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Select tags to filter by")),1)]),_:1},8,["label","options","model-value","onUpdate:modelValue"]),g(d,{class:"reactive","close-after-click":!0,onClick:n.resetFilter},{icon:_(()=>[g(h,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Reset filter")),1)]),_:1},8,["onClick"])]),_:1},8,["type","title"])}const gb=I(mb,[["render",Fb],["__scopeId","data-v-846d3627"]]),Cb={name:"AnimationOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},kb=["aria-hidden","aria-label"],yb=["fill","width","height"],_b={d:"M4,2A2,2 0 0,0 2,4V14H4V4H14V2H4M8,6A2,2 0 0,0 6,8V18H8V8H18V6H8M20,12V20H12V12H20M20,10H12A2,2 0 0,0 10,12V20A2,2 0 0,0 12,22H20A2,2 0 0,0 22,20V12A2,2 0 0,0 20,10Z"},bb={key:0};function Db(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon animation-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",_b,[u.title?(p(),m("title",bb,B(u.title),1)):w("",!0)])],8,yb))],16,kb)}const vb=I(Cb,[["render",Db]]),Eb={name:"BookmarkIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Ab=["aria-hidden","aria-label"],wb=["fill","width","height"],Bb={d:"M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z"},xb={key:0};function Sb(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon bookmark-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Bb,[u.title?(p(),m("title",xb,B(u.title),1)):w("",!0)])],8,wb))],16,Ab)}const Tb=I(Eb,[["render",Sb]]),Mb={name:"OrderAlphabeticalAscendingIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},zb=["aria-hidden","aria-label"],Lb=["fill","width","height"],Nb={d:"M12 5H22V7H12M12 19V17H22V19M12 11H22V13H12M9 13V15L5.67 19H9V21H3V19L6.33 15H3V13M7 3H5C3.9 3 3 3.9 3 5V11H5V9H7V11H9V5C9 3.9 8.11 3 7 3M7 7H5V5H7Z"},$b={key:0};function Ob(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon order-alphabetical-ascending-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Nb,[u.title?(p(),m("title",$b,B(u.title),1)):w("",!0)])],8,Lb))],16,zb)}const Ib=I(Mb,[["render",Ob]]),Pb={name:"SortorderDropdown",components:{NcActions:Xt,NcActionButton:At,AnimationOutline:vb,Bookmark:Tb,CalendarStart:kl,CalendarEnd:Cl,Check:ou,MenuDown:Jo,MenuUp:es,OrderAlphabeticalAscending:Ib,Pencil:vi,Plus:tn,Star:ma},directives:{Tooltip:ru},data(){return{orders:[{id:"default",icon:"Bookmark",text:x("tasks","Relevance"),hint:x("tasks","Sort by completed state, due date, priority, start date and summary.")},{id:"start",icon:"CalendarStart",text:x("tasks","Start date"),hint:x("tasks","Sort by start date, priority and summary.")},{id:"due",icon:"CalendarEnd",text:x("tasks","Due date"),hint:x("tasks","Sort by due date, priority and summary.")},{id:"created",icon:"Plus",text:x("tasks","Created date"),hint:x("tasks","Sort by created date, priority and summary.")},{id:"modified",icon:"Pencil",text:x("tasks","Last modified"),hint:x("tasks","Sort by last-modified date, priority and summary.")},{id:"completedDate",icon:"Check",text:x("tasks","Completed date"),hint:x("tasks","Sort by completed date, priority and summary.")},{id:"priority",icon:"Star",text:x("tasks","Priority"),hint:x("tasks","Sort by priority and summary.")},{id:"alphabetically",icon:"OrderAlphabeticalAscending",text:x("tasks","Alphabetically"),hint:x("tasks","Sort by summary and priority.")},{id:"manual",icon:"AnimationOutline",text:x("tasks","Manually"),hint:x("tasks","Sort by manual order.")}]}},computed:{...Pe({sortOrderGetter:"sortOrder",sortDirectionGetter:"sortDirection"}),sortOrder:{get(){return this.sortOrderGetter},set(e){this.$store.dispatch("setSetting",{type:"sortOrder",value:e})}},sortDirection:{get(){return this.sortDirectionGetter},set(e){this.$store.dispatch("setSetting",{type:"sortDirection",value:+e})}},sortOrderIcon(){for(const e of this.orders)if(e.id===this.sortOrder)return e.icon;return"Bookmark"}},methods:{t:x,setSortOrder(e){this.sortDirection=this.sortOrder===e?!this.sortDirection:!1,this.sortOrder=e}}},Vb={class:"material-design-icon"};function Hb(e,a,u,i,r,n){const o=k("MenuDown"),s=k("MenuUp"),l=k("NcActionButton"),c=k("NcActions"),h=Be("tooltip");return p(),S(c,{class:"sortorder reactive",title:n.t("tasks","Change sort order")},{icon:_(()=>[y("span",Vb,[(p(),S(at(n.sortOrderIcon),{size:20})),n.sortDirection?(p(),S(o,{key:0,class:"sort-direction",size:18})):(p(),S(s,{key:1,class:"sort-direction",size:18}))])]),default:_(()=>[(p(!0),m(Ne,null,We(r.orders,d=>U((p(),S(l,{key:d.id,class:R(["reactive",{selected:n.sortOrder===d.id}]),"close-after-click":!0,onClick:F=>n.setSortOrder(d.id)},{icon:_(()=>[(p(),S(at(d.icon),{size:20})),d.id==n.sortOrder&&n.sortDirection?(p(),S(o,{key:0,class:"sort-direction",size:18})):w("",!0),d.id==n.sortOrder&&!n.sortDirection?(p(),S(s,{key:1,class:"sort-direction",size:18})):w("",!0)]),default:_(()=>[j(" "+B(d.text),1)]),_:2},1032,["class","onClick"])),[[h,{placement:"left",content:d.hint,delay:{show:500,hide:0}}]])),128))]),_:1},8,["title"])}const Rb=I(Pb,[["render",Hb],["__scopeId","data-v-311fa2c9"]]),_l={methods:{async openNewTask(e){if(this.$route.params!==void 0&&(document.documentElement.clientWidth>=768||this.$route.params.taskId!==void 0)){const a=this.$route.params.calendarId,u=this.$route.params.collectionId;a?await this.$router.push({name:"calendarsTask",params:{calendarId:a,taskId:e.uri}}):u&&(u==="week"?await this.$router.push({name:"collectionsParamTask",params:{collectionId:u,taskId:e.uri,collectionParam:"0"}}):await this.$router.push({name:"collectionsTask",params:{collectionId:u,taskId:e.uri}}))}}}},bl=e=>{const a=e.split(/\r?\n/).filter(Ub).map(jb),u={summary:"ROOT",parent:void 0,depth:0,children:[]};let i=u,r=0;for(;a.length;){const n=a.shift(),o=Wb(n);for(;i.parent!==void 0&&o<=i.depth;)i=i.parent;const s=qb(n),l={summary:n.substring(s.length),parent:i,depth:o,children:[]};i.children.push(l),i=l,r++}return{numberOfTasks:r,tasks:Dl(u.children)}},Dl=e=>e.map(a=>({summary:a.summary,children:Dl(a.children)})),Ub=e=>/\S/.test(e),jb=e=>e.replace(/\t/g,"    "),qb=e=>e.match(/^([-+*\s]*(\[(\s|x|X)?]\s*)?)/)?.[0]||"",Wb=e=>e.match(/^(\s+)/)?.[0].length||0,Yb={name:"CreateMultipleTasksDialog",components:{Check:ou,NcButton:et,NcEmptyContent:Ja,NcLoadingIcon:iu,NcModal:gi},props:{calendar:{type:Object,required:!0},tasksToCreate:{type:Object,required:!0},tasksAdditionalProperties:{type:Object,default(){return{}}},rootTask:{type:Object,default:void 0}},emits:["cancel","close"],data(){return{creating:!1,created:!1}},computed:{createdMessage(){return x("tasks",'{numberOfTasks} tasks have been added to "{calendar}"',{numberOfTasks:this.tasksToCreate.numberOfTasks,calendar:this.calendar.displayName},void 0,{sanitize:!1,escape:!1})}},mounted(){this.$nextTick(()=>this.$refs.createButton?.$el?.focus())},methods:{...Ct(["createTask"]),t:x,cancel(){this.$emit("cancel"),this.$root.$emit("close")},close(){this.$emit("close"),this.$root.$emit("close")},async addTasks(){this.creating=!0,await Promise.all(this.tasksToCreate.tasks.map(e=>this.addTaskWithParent(e,this.rootTask?.uid))),this.creating=!1,this.created=!0},async addTaskWithParent(e,a){const u=await this.createTask({summary:e.summary,calendar:this.calendar,related:a,...this.tasksAdditionalProperties});await Promise.all(e.children.map(i=>this.addTaskWithParent(i,u?.uid)))}}},Zb={key:0,id:"modal-inner"},Gb={class:"modal-buttons"},Xb={key:1,id:"modal-inner"};function Kb(e,a,u,i,r,n){const o=k("NcButton"),s=k("NcLoadingIcon"),l=k("NcEmptyContent"),c=k("Check"),h=k("NcModal");return p(),S(h,{class:"task-selector",size:"small",onClose:a[0]||(a[0]=()=>{r.created?n.close():n.cancel()})},{default:_(()=>[!r.creating&&!r.created?(p(),m("div",Zb,[y("h3",null,B(n.t("tasks","Create new tasks")),1),y("p",null,B(n.t("tasks","Create {numberOfTasks} tasks from pasted text",{numberOfTasks:u.tasksToCreate.numberOfTasks})),1),y("div",Gb,[g(o,{onClick:n.cancel},{default:_(()=>[j(B(n.t("tasks","Cancel")),1)]),_:1},8,["onClick"]),g(o,{ref:"createButton",type:"primary",onClick:n.addTasks},{default:_(()=>[j(B(n.t("tasks","Create tasks")),1)]),_:1},8,["onClick"])])])):(p(),m("div",Xb,[r.creating?(p(),S(l,{key:"creating",description:n.t("tasks","Creating new tasks")},{icon:_(()=>[g(s)]),_:1},8,["description"])):r.created?(p(),S(l,{key:"created",description:n.createdMessage},{icon:_(()=>[g(c)]),action:_(()=>[g(o,{onClick:n.close},{default:_(()=>[j(B(n.t("tasks","Close")),1)]),_:1},8,["onClick"])]),_:1},8,["description"])):w("",!0)]))]),_:1})}const vl=I(Yb,[["render",Kb],["__scopeId","data-v-770e9fea"]]),Qb={components:{CreateMultipleTasksDialog:vl,NcTextField:pa,FilterDropdown:gb,SortorderDropdown:Rb,Plus:tn},mixins:[_l],data(){return{newTaskName:"",showCreateMultipleTasksModal:!1,multipleTasks:{numberOfTasks:0,tasks:{}},additionalTaskProperties:{}}},computed:{calendar(){return this.getCalendarByRoute(this.$route)},...Pe({getCalendarByRoute:"getCalendarByRoute"}),placeholder(){switch(this.$route.params.collectionId){case"starred":return x("tasks",'Add an important task to "{calendar}"',{calendar:this.calendar.displayName},void 0,{sanitize:!1,escape:!1});case"week":case"today":return x("tasks",'Add a task due today to "{calendar}"',{calendar:this.calendar.displayName},void 0,{sanitize:!1,escape:!1});case"current":return x("tasks",'Add a current task to "{calendar}"',{calendar:this.calendar.displayName},void 0,{sanitize:!1,escape:!1});default:return x("tasks",'Add a task to "{calendar}"',{calendar:this.calendar.displayName},void 0,{sanitize:!1,escape:!1})}}},methods:{...Ct(["createTask"]),clearNewTask(e){e.target.blur(),this.newTaskName=""},async addTask(){const e={summary:this.newTaskName,...this.$route.params.calendarId&&{calendar:this.calendar},...this.getAdditionalTaskProperties()},a=await this.createTask(e);await this.openNewTask(a),this.newTaskName="",this.$refs.input.$refs.inputField.$refs.input.focus()},getAdditionalTaskProperties(){const e={};return this.$route.params.collectionId==="starred"&&(e.priority=1),(this.$route.params.collectionId==="today"||this.$route.params.collectionId==="week")&&(e.due=qe().startOf("day").format("YYYY-MM-DDTHH:mm:ss"),e.allDay=this.$store.state.settings.settings.allDay),this.$route.params.collectionId==="current"&&(e.start=qe().format("YYYY-MM-DDTHH:mm:ss")),e},addMultipleTasks(e){const a=e.clipboardData.getData("text"),u=bl(a);u.numberOfTasks<=1||(this.multipleTasks=u,this.showCreateMultipleTasksModal=!0,this.additionalTaskProperties=this.getAdditionalTaskProperties())},async createMultipleTasksCancelled(){this.showCreateMultipleTasksModal=!1,this.multipleTasks={numberOfTasks:0,tasks:{}},this.additionalTaskProperties={},await this.$nextTick(),this.$refs.input.$refs.inputField.$refs.input.focus()},async createMultipleTasksSuccessful(){this.showCreateMultipleTasksModal=!1,this.multipleTasks={numberOfTasks:0,tasks:{}},this.additionalTaskProperties={},this.newTaskName="",await this.$nextTick(),this.$refs.input.$refs.inputField.$refs.input.focus()}}},Jb={class:"header"},e5={key:0,class:"header__input"};function t5(e,a,u,i,r,n){const o=k("Plus"),s=k("NcTextField"),l=k("FilterDropdown"),c=k("SortorderDropdown"),h=k("CreateMultipleTasksDialog");return p(),m("div",Jb,[e.$route.params.collectionId!=="completed"&&n.calendar&&!n.calendar.readOnly?(p(),m("div",e5,[g(s,{ref:"input",modelValue:r.newTaskName,"onUpdate:modelValue":a[0]||(a[0]=d=>r.newTaskName=d),label:n.placeholder,autocomplete:"off",class:"reactive","trailing-button-icon":"arrowRight","show-trailing-button":r.newTaskName!=="","trailing-button-label":n.placeholder,onTrailingButtonClick:n.addTask,onKeyup:[a[1]||(a[1]=ke(d=>n.clearNewTask(d),["esc"])),ke(n.addTask,["enter"])],onPaste:ue(n.addMultipleTasks,["stop"])},{icon:_(()=>[g(o,{size:20})]),_:1},8,["modelValue","label","show-trailing-button","trailing-button-label","onTrailingButtonClick","onKeyup","onPaste"])])):w("",!0),g(l),g(c),r.showCreateMultipleTasksModal?(p(),S(h,{key:1,calendar:n.calendar,"tasks-to-create":r.multipleTasks,"tasks-additional-properties":r.additionalTaskProperties,onCancel:n.createMultipleTasksCancelled,onClose:n.createMultipleTasksSuccessful},null,8,["calendar","tasks-to-create","tasks-additional-properties","onCancel","onClose"])):w("",!0)])}const Yi=I(Qb,[["render",t5],["__scopeId","data-v-e0ecc7cc"]]),Zi={name:"NcProgressBar",props:{value:{type:Number,default:0,validator(e){return e>=0&&e<=100}},size:{type:[String,Number],default:"small",validator(e){return["small","medium"].includes(e)||typeof e=="number"}},error:{type:Boolean,default:!1},type:{type:String,default:"linear",validator(e){return["linear","circular"].includes(e)}},color:{type:String,default:null}},data(){return{stroke:4}},computed:{height(){return this.type==="circular"?Number.isInteger(this.size)?this.size:44:this.size==="small"?4:this.size==="medium"?6:this.size},progress(){return this.value/100},radius(){return this.height/2},radiusNormalized(){return this.radius-3*this.stroke},circumference(){return this.radiusNormalized*2*Math.PI}}},eo=()=>{Mc(e=>({"497e8a2b":e.color}))},to=Zi.setup;Zi.setup=to?(e,a)=>(eo(),to(e,a)):eo;const u5=["aria-valuenow"],a5=["height","width"],n5=["stroke-dasharray","stroke-dashoffset","stroke-width","r","cx","cy"],i5=["stroke-dasharray","stroke-dashoffset","stroke-width","r","cx","cy"],r5=["value"];function o5(e,a,u,i,r,n){return u.type==="circular"?(p(),m("span",{key:0,role:"progressbar","aria-valuenow":u.value,style:Ie({"--progress-bar-height":n.height+"px"}),class:R([{"progress-bar--error":u.error},"progress-bar progress-bar--circular"])},[(p(),m("svg",{height:n.height,width:n.height},[y("circle",{stroke:"currentColor",fill:"transparent","stroke-dasharray":`${n.progress*n.circumference} ${(1-n.progress)*n.circumference}`,"stroke-dashoffset":.25*n.circumference,"stroke-width":r.stroke,r:n.radiusNormalized,cx:n.radius,cy:n.radius},null,8,n5),y("circle",{stroke:"var(--color-background-darker)",fill:"transparent","stroke-dasharray":`${(1-n.progress)*n.circumference} ${n.progress*n.circumference}`,"stroke-dashoffset":(.25-n.progress)*n.circumference,"stroke-width":r.stroke,r:n.radiusNormalized,cx:n.radius,cy:n.radius},null,8,i5)],8,a5))],14,u5)):(p(),m("progress",{key:1,class:R(["progress-bar progress-bar--linear vue",{"progress-bar--error":u.error}]),style:Ie({"--progress-bar-height":n.height+"px"}),value:u.value,max:"100"},null,14,r5))}const El=W(Zi,[["render",o5],["__scopeId","data-v-5e97fe1f"]]),s5={components:{NcButton:et,Delete:Kt,NcModal:gi,NcProgressBar:El},directives:{Tooltip:ru},props:{calendar:{type:Object,required:!0}},data(){return{modalOpen:!1,initialCompletedTasksCount:0,initialCompletedRootTasksCount:0}},computed:{loadedCompleted(){return this.calendar.loadedCompleted},tasks(){return this.closedRootTasks(this.calendar.tasks)},completedTasksCount(){return function e(a){let u=a.length;return a.forEach(i=>{u+=e(Object.values(i.subTasks))}),u}(this.tasks)},failed(){return 0},progress(){return this.initialCompletedTasksCount-this.completedTasksCount},percentage(){return this.initialCompletedTasksCount<=0?0:Math.floor(this.progress/this.initialCompletedTasksCount*100)},...Pe({closedCount:"getCalendarCountClosed",closedRootTasks:"findClosedRootTasks"})},methods:{t:x,n:ht,...Ct(["deleteTask"]),openModal(){this.modalOpen=!0,this.initialCompletedTasksCount=this.completedTasksCount,this.initialCompletedRootTasksCount=this.tasks.length},closeModal(){this.modalOpen=!1},deleteCompletedTasks(){this.tasks.map(e=>this.deleteTask({task:e,dav:!0}))}}},l5={class:"loadmore reactive"},c5={class:"delete-completed"},d5={key:0,class:"delete-completed__header"},p5={key:1},h5={class:"delete-completed__tracker"},m5={key:0},f5={key:1};function F5(e,a,u,i,r,n){const o=k("Delete"),s=k("NcButton"),l=k("NcProgressBar"),c=k("NcModal"),h=Be("tooltip");return p(),m("div",l5,[U(g(s,{type:"tertiary",onClick:n.openModal},{icon:_(()=>[g(o,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Delete all completed tasks.")),1)]),_:1},8,["onClick"]),[[oe,n.completedTasksCount]]),r.modalOpen?(p(),S(c,{key:0,size:"normal","out-transition":!0,onClose:n.closeModal},{default:_(()=>[y("div",c5,[g(o,{size:64}),n.completedTasksCount?(p(),m("div",d5,[y("h3",null,B(n.n("tasks",'This will delete {taskCount} completed task and its subtasks from calendar "{calendar}".','This will delete {taskCount} completed tasks and their subtasks from calendar "{calendar}".',r.initialCompletedRootTasksCount,{taskCount:r.initialCompletedRootTasksCount,calendar:u.calendar.displayName},{sanitize:!1,escape:!1})),1),g(s,{type:"primary",class:"delete-completed__button",onClick:n.deleteCompletedTasks},{icon:_(()=>[g(o,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Delete completed tasks.")),1)]),_:1},8,["onClick"])])):(p(),m("div",p5,[y("h3",null,B(n.t("tasks",'Deleted all completed tasks from calendar "{calendar}".',{calendar:u.calendar.displayName},void 0,{sanitize:!1,escape:!1})),1)])),y("div",null,[g(l,{value:n.percentage,class:"delete-completed__progress"},null,8,["value"]),y("p",h5,[y("span",null,B(n.percentage)+" %",1),n.failed===0?(p(),m("span",m5,B(n.t("tasks","No errors")),1)):U((p(),m("span",f5,[j(B(n.n("tasks","Could not delete {failedCount} task.","Could not delete {failedCount} tasks.",n.failed,{failedCount:n.failed})),1)])),[[h,n.t("tasks","Open your browser console for more details"),void 0,{auto:!0}]])])])])]),_:1},8,["onClose"])):w("",!0)])}const g5=I(s5,[["render",F5],["__scopeId","data-v-63ab7f03"]]),C5={name:"CloudDownloadIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},k5=["aria-hidden","aria-label"],y5=["fill","width","height"],_5={d:"M6.5 20Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.83 7.13 7.39 5.75 8.95 4.38 11 4.08V12.15L9.4 10.6L8 12L12 16L16 12L14.6 10.6L13 12.15V4.08Q15.58 4.43 17.29 6.39 19 8.35 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20Z"},b5={key:0};function D5(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon cloud-download-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",_5,[u.title?(p(),m("title",b5,B(u.title),1)):w("",!0)])],8,y5))],16,k5)}const v5=I(C5,[["render",D5]]),E5={components:{NcButton:et,CloudDownload:v5},directives:{Tooltip:ru},props:{calendars:{type:Array,required:!0}},computed:{loadedCompleted(){return this.calendars.every(e=>e.loadedCompleted)},buttonStrings(){return this.calendars.length>1?{text:x("tasks","Load the completed tasks of all lists."),tooltip:x("tasks","Loading the completed tasks of all lists might slow down the app.")}:{text:x("tasks",'Load the completed tasks of list "{calendar}".',{calendar:this.calendars?.[0]?.displayName},void 0,{sanitize:!1,escape:!1}),tooltip:x("tasks","Loading the completed tasks might slow down the app.")}}},methods:{t:x,...Ct(["getTasksFromCalendar"]),loadCompletedTasks(){this.calendars.forEach(e=>this.getTasksFromCalendar({calendar:e,completed:!0,related:null}))}}},A5={class:"loadmore reactive"};function w5(e,a,u,i,r,n){const o=k("CloudDownload"),s=k("NcButton"),l=Be("tooltip");return U((p(),m("div",A5,[g(s,{type:"tertiary",onClick:n.loadCompletedTasks},{icon:_(()=>[g(o,{size:20})]),default:_(()=>[j(" "+B(n.buttonStrings.text),1)]),_:1},8,["onClick"])])),[[oe,!n.loadedCompleted],[l,n.buttonStrings.tooltip,void 0,{auto:!0}]])}const Al=I(E5,[["render",w5],["__scopeId","data-v-72b67909"]]),B5={name:"TaskDragContainer",components:{Sortable:fs},props:{tasks:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},collectionString:{type:String,default:null}},computed:{...Pe({getCalendar:"getCalendarById",getTask:"getTaskByUri",sortOrder:"sortOrder",sortDirection:"sortDirection"}),sortedTasks(){return Ci([...this.tasks],this.sortOrder,this.sortDirection)}},methods:{...Ct(["moveTask","setPriority","setPercentComplete","setDate","setSortOrder"]),...yi({commitSortOrder:"setSortOrder"}),setDragData:()=>{},adjustSortOrder(e,a,u=-1){if(this.sortOrder!=="manual"||this.sortedTasks.length===0||a===u)return;const i=[...this.sortedTasks];u>-1?i.splice(a,0,i.splice(u,1)[0]):i.splice(a,0,e),this.sortDirection&&(i.reverse(),a=i.length-a-1);let r;a+1<i.length&&(a<1||i[a+1].sortOrder-1>i[a-1].sortOrder)?r=i[a+1].sortOrder-1:r=i[a-1].sortOrder+1,r<0&&(r=0);const n={task:i[a],order:r};u>-1?this.setSortOrder(n):this.commitSortOrder(n);let o=1;for(;o<i.length;){if(i[o].sortOrder<=i[o-1].sortOrder){const s={task:i[o],order:i[o-1].sortOrder+1};i[o]===e?this.commitSortOrder(s):this.setSortOrder(s)}o++}},onEnd(e){e.to===e.from&&this.adjustSortOrder(null,e.newIndex,e.oldIndex)},async onAdd(e){let a;const u=e.item.attributes["task-id"];u&&(a=this.getTask(u.value));const i=e.item;i.parentElement?.removeChild(i),this.adjustSortOrder(a,e.newIndex,-1),await this.prepareMoving(a,e),this.prepareCollecting(a,e),e.stopPropagation()},onMove(e){const a=e.dragged.attributes["task-id"];if(a){if(this.getTask(a.value).class==="PUBLIC")return!0;let u;const i=e.to.attributes["calendar-id"];if(i&&(u=this.getCalendar(i.value)),!u){const r=e.to.attributes["task-id"];r&&(u=this.getTask(r.value).calendar)}if(u&&u.isSharedWithMe)return!1}return!0},async prepareMoving(e,a){let u,i;const r=a.to.attributes["calendar-id"];r&&(i=this.getCalendar(r.value));const n=a.to.attributes["task-id"];n&&(u=this.getTask(n.value),i=u.calendar),i||(i=e.calendar),await this.moveTask({task:e,calendar:i,parent:u})},prepareCollecting(e,a){const u=a.to.attributes["collection-id"];if(u){let i=u.value;switch(i=i.split("-"),i[0]){case"starred":this.setPriority({task:e,priority:1});break;case"completed":this.setPercentComplete({task:e,complete:100});break;case"uncompleted":e.completed&&this.setPercentComplete({task:e,complete:0});break;case"today":this.setDate({task:e,day:0});break;case"week":this.setDate({task:e,day:i[1]});break}}}}};function x5(e,a,u,i,r,n){const o=k("TaskBody"),s=k("Sortable");return p(),S(s,{tag:"ol",list:n.sortedTasks,"set-data":n.setDragData,"item-key":"key",options:{group:"tasks",swapThreshold:.3,delay:500,delayOnTouchOnly:!0,touchStartThreshold:3,disabled:u.disabled,filter:".readOnly"},onMove:n.onMove,onAdd:n.onAdd,onEnd:n.onEnd},{item:_(({element:l})=>[g(o,{task:l,"collection-string":u.collectionString},null,8,["task","collection-string"])]),_:1},8,["list","set-data","options","onMove","onAdd","onEnd"])}const Fn=I(B5,[["render",x5]]),S5={name:"ChevronDownIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},T5=["aria-hidden","aria-label"],M5=["fill","width","height"],z5={d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},L5={key:0};function N5(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon chevron-down-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",z5,[u.title?(p(),m("title",L5,B(u.title),1)):w("",!0)])],8,M5))],16,T5)}const $5=I(S5,[["render",N5]]),O5={name:"ChevronUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},I5=["aria-hidden","aria-label"],P5=["fill","width","height"],V5={d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"},H5={key:0};function R5(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon chevron-up-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",V5,[u.title?(p(),m("title",H5,B(u.title),1)):w("",!0)])],8,P5))],16,I5)}const U5=I(O5,[["render",R5]]),j5={components:{HeaderBar:Yi,LoadCompletedButton:Al,TaskDragContainer:Fn,DeleteCompletedModal:g5,NcButton:et,ChevronDown:$5,ChevronUp:U5},props:{calendarId:{type:String,default:""},taskId:{type:String,default:""}},computed:{calendar(){return this.getCalendarByRoute(this.$route)},showHidden:{get(){return this.$store.state.settings.settings.showHidden},set(e){this.$store.dispatch("setSetting",{type:"showHidden",value:e})}},closedCountString(){return ht("tasks","%n Completed Task","%n Completed Tasks",this.closedCount(this.calendarId))},...Pe({closedCount:"getCalendarCountClosed",getCalendarByRoute:"getCalendarByRoute",openRootTasks:"findOpenRootTasks",closedRootTasks:"findClosedRootTasks"})},methods:{toggleHidden(){this.showHidden=+!this.showHidden}}},q5={key:0},W5={class:"task-list"},Y5={class:"grouped-tasks"};function Z5(e,a,u,i,r,n){const o=k("HeaderBar"),s=k("TaskDragContainer"),l=k("ChevronUp"),c=k("ChevronDown"),h=k("NcButton"),d=k("LoadCompletedButton"),F=k("DeleteCompletedModal");return n.calendar?(p(),m("div",q5,[g(o),y("div",W5,[y("div",Y5,[g(s,{tasks:e.openRootTasks(n.calendar.tasks),"calendar-id":u.calendarId,disabled:n.calendar.readOnly,"collection-id":"uncompleted"},null,8,["tasks","calendar-id","disabled"]),e.closedCount(u.calendarId)?(p(),S(h,{key:0,alignment:"center-reverse",type:"tertiary",class:"reactive heading",onClick:n.toggleHidden},{icon:_(()=>[n.showHidden?(p(),S(l,{key:0})):(p(),S(c,{key:1}))]),default:_(()=>[j(" "+B(n.closedCountString),1)]),_:1},8,["onClick"])):w("",!0),n.showHidden?(p(),S(s,{key:1,tasks:e.closedRootTasks(n.calendar.tasks),"calendar-id":u.calendarId,disabled:n.calendar.readOnly,class:"completed","collection-id":"completed"},null,8,["tasks","calendar-id","disabled"])):w("",!0),g(d,{calendars:[n.calendar]},null,8,["calendars"]),n.calendar.loadedCompleted&&!n.calendar.readOnly?(p(),S(F,{key:2,calendar:n.calendar},null,8,["calendar"])):w("",!0)])])])):w("",!0)}const uo=I(j5,[["render",Z5]]),G5={components:{HeaderBar:Yi,LoadCompletedButton:Al,TaskDragContainer:Fn},computed:{filteredCalendars(){const e=[];return this.calendars.forEach(a=>{a.filteredTasks=Object.values(a.tasks).filter(u=>_i(u,this.collectionId)&&(!u.related||!zc(u,a.tasks))),a.filteredTasks.length&&e.push(a)}),e},collectionId(){return this.$route.params.collectionId},...Pe({calendars:"getSortedCalendars"})}},X5={class:"task-list"},K5=["rel"],Q5={class:"heading"},J5={class:"heading__name"};function e9(e,a,u,i,r,n){const o=k("HeaderBar"),s=k("TaskDragContainer"),l=k("LoadCompletedButton");return p(),m("div",null,[g(o),y("div",X5,[(p(!0),m(Ne,null,We(n.filteredCalendars,c=>(p(),m("div",{key:c.id,rel:c.id,class:"grouped-tasks ui-droppable"},[y("h2",Q5,[y("span",{class:"heading__icon-bullet",style:Ie({"background-color":c.color})},null,4),y("span",J5,B(c.displayName),1)]),g(s,{tasks:c.filteredTasks,disabled:c.readOnly,"collection-string":n.collectionId,"calendar-id":c.id,"collection-id":n.collectionId},null,8,["tasks","disabled","collection-string","calendar-id","collection-id"]),n.collectionId==="completed"?(p(),S(l,{key:0,calendars:[c]},null,8,["calendars"])):w("",!0)],8,K5))),128))]),n.collectionId==="completed"?(p(),S(l,{key:0,calendars:e.calendars},null,8,["calendars"])):w("",!0)])}const t9=I(G5,[["render",e9]]),u9={components:{HeaderBar:Yi,TaskDragContainer:Fn},computed:{...Pe({tasks:"getAllTasks",openRootTasks:"findOpenRootTasks"}),days(){const e=this.openRootTasks(this.tasks),a=[];for(let u=0;u<8;u++)a.push({diff:u,tasks:[]}),e.forEach(i=>{_i(i,`week-${u}`)&&a[u].tasks.push(i)});return a.filter(u=>u.tasks.length)}},methods:{dayString(e){const a=qe().add(e,"day");let u;return e===0?u=x("tasks","Today"):e===1?u=x("tasks","Tomorrow"):u=a.format("dddd"),u+", "+a.format("LL")}}},a9={class:"task-list"},n9=["day"],i9={class:"heading"},r9={class:"heading__name"};function o9(e,a,u,i,r,n){const o=k("HeaderBar"),s=k("TaskDragContainer");return p(),m("div",null,[g(o),y("div",a9,[(p(!0),m(Ne,null,We(n.days,l=>(p(),m("div",{key:l.diff,day:l.diff,class:"grouped-tasks ui-droppable"},[y("h2",i9,[y("span",r9,B(n.dayString(l.diff)),1)]),g(s,{tasks:l.tasks,"collection-string":`week-${l.diff}`,"collection-id":`week-${l.diff}`},null,8,["tasks","collection-string","collection-id"])],8,n9))),128))])])}const s9=I(u9,[["render",o9]]),l9={components:{General:t9,Week:s9},computed:{collectionType(){return this.$route.params.collectionId==="week"?"Week":"General"}}};function c9(e,a,u,i,r,n){return p(),S(at(n.collectionType))}const Wn=I(l9,[["render",c9]]),Cu=typeof document<"u";function d9(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const le=Object.assign;function Yn(e,a){const u={};for(const i in a){const r=a[i];u[i]=lt(r)?r.map(e):e(r)}return u}const Ju=()=>{},lt=Array.isArray,wl=/#/g,p9=/&/g,h9=/\//g,m9=/=/g,f9=/\?/g,Bl=/\+/g,F9=/%5B/g,g9=/%5D/g,xl=/%5E/g,C9=/%60/g,Sl=/%7B/g,k9=/%7C/g,Tl=/%7D/g,y9=/%20/g;function Gi(e){return encodeURI(""+e).replace(k9,"|").replace(F9,"[").replace(g9,"]")}function _9(e){return Gi(e).replace(Sl,"{").replace(Tl,"}").replace(xl,"^")}function ci(e){return Gi(e).replace(Bl,"%2B").replace(y9,"+").replace(wl,"%23").replace(p9,"%26").replace(C9,"`").replace(Sl,"{").replace(Tl,"}").replace(xl,"^")}function b9(e){return ci(e).replace(m9,"%3D")}function D9(e){return Gi(e).replace(wl,"%23").replace(f9,"%3F")}function v9(e){return e==null?"":D9(e).replace(h9,"%2F")}function sa(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const E9=/\/$/,A9=e=>e.replace(E9,"");function Zn(e,a,u="/"){let i,r={},n="",o="";const s=a.indexOf("#");let l=a.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(i=a.slice(0,l),n=a.slice(l+1,s>-1?s:a.length),r=e(n)),s>-1&&(i=i||a.slice(0,s),o=a.slice(s,a.length)),i=S9(i??a,u),{fullPath:i+(n&&"?")+n+o,path:i,query:r,hash:sa(o)}}function w9(e,a){const u=a.query?e(a.query):"";return a.path+(u&&"?")+u+(a.hash||"")}function ao(e,a){return!a||!e.toLowerCase().startsWith(a.toLowerCase())?e:e.slice(a.length)||"/"}function B9(e,a,u){const i=a.matched.length-1,r=u.matched.length-1;return i>-1&&i===r&&Su(a.matched[i],u.matched[r])&&Ml(a.params,u.params)&&e(a.query)===e(u.query)&&a.hash===u.hash}function Su(e,a){return(e.aliasOf||e)===(a.aliasOf||a)}function Ml(e,a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(const u in e)if(!x9(e[u],a[u]))return!1;return!0}function x9(e,a){return lt(e)?no(e,a):lt(a)?no(a,e):e===a}function no(e,a){return lt(a)?e.length===a.length&&e.every((u,i)=>u===a[i]):e.length===1&&e[0]===a}function S9(e,a){if(e.startsWith("/"))return e;if(!e)return a;const u=a.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let n=u.length-1,o,s;for(o=0;o<i.length;o++)if(s=i[o],s!==".")if(s==="..")n>1&&n--;else break;return u.slice(0,n).join("/")+"/"+i.slice(o).join("/")}const St={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var la;(function(e){e.pop="pop",e.push="push"})(la||(la={}));var ea;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ea||(ea={}));function T9(e){if(!e)if(Cu){const a=document.querySelector("base");e=a&&a.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),A9(e)}const M9=/^[^#]+#/;function z9(e,a){return e.replace(M9,"#")+a}function L9(e,a){const u=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:a.behavior,left:i.left-u.left-(a.left||0),top:i.top-u.top-(a.top||0)}}const gn=()=>({left:window.scrollX,top:window.scrollY});function N9(e){let a;if("el"in e){const u=e.el,i=typeof u=="string"&&u.startsWith("#"),r=typeof u=="string"?i?document.getElementById(u.slice(1)):document.querySelector(u):u;if(!r)return;a=L9(r,e)}else a=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(a):window.scrollTo(a.left!=null?a.left:window.scrollX,a.top!=null?a.top:window.scrollY)}function io(e,a){return(history.state?history.state.position-a:-1)+e}const di=new Map;function $9(e,a){di.set(e,a)}function O9(e){const a=di.get(e);return di.delete(e),a}let I9=()=>location.protocol+"//"+location.host;function zl(e,a){const{pathname:u,search:i,hash:r}=a,n=e.indexOf("#");if(n>-1){let o=r.includes(e.slice(n))?e.slice(n).length:1,s=r.slice(o);return s[0]!=="/"&&(s="/"+s),ao(s,"")}return ao(u,e)+i+r}function P9(e,a,u,i){let r=[],n=[],o=null;const s=({state:F})=>{const f=zl(e,location),C=u.value,v=a.value;let b=0;if(F){if(u.value=f,a.value=F,o&&o===C){o=null;return}b=v?F.position-v.position:0}else i(f);r.forEach(D=>{D(u.value,C,{delta:b,type:la.pop,direction:b?b>0?ea.forward:ea.back:ea.unknown})})};function l(){o=u.value}function c(F){r.push(F);const f=()=>{const C=r.indexOf(F);C>-1&&r.splice(C,1)};return n.push(f),f}function h(){const{history:F}=window;F.state&&F.replaceState(le({},F.state,{scroll:gn()}),"")}function d(){for(const F of n)F();n=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function ro(e,a,u,i=!1,r=!1){return{back:e,current:a,forward:u,replaced:i,position:window.history.length,scroll:r?gn():null}}function V9(e){const{history:a,location:u}=window,i={value:zl(e,u)},r={value:a.state};r.value||n(i.value,{back:null,current:i.value,forward:null,position:a.length-1,replaced:!0,scroll:null},!0);function n(l,c,h){const d=e.indexOf("#"),F=d>-1?(u.host&&document.querySelector("base")?e:e.slice(d))+l:I9()+e+l;try{a[h?"replaceState":"pushState"](c,"",F),r.value=c}catch(f){console.error(f),u[h?"replace":"assign"](F)}}function o(l,c){const h=le({},a.state,ro(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});n(l,h,!0),i.value=l}function s(l,c){const h=le({},r.value,a.state,{forward:l,scroll:gn()});n(h.current,h,!0);const d=le({},ro(i.value,l,null),{position:h.position+1},c);n(l,d,!1),i.value=l}return{location:i,state:r,push:s,replace:o}}function H9(e){e=T9(e);const a=V9(e),u=P9(e,a.state,a.location,a.replace);function i(n,o=!0){o||u.pauseListeners(),history.go(n)}const r=le({location:"",base:e,go:i,createHref:z9.bind(null,e)},a,u);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>a.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>a.state.value}),r}function R9(e){return typeof e=="string"||e&&typeof e=="object"}function Ll(e){return typeof e=="string"||typeof e=="symbol"}const Nl=Symbol("");var oo;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(oo||(oo={}));function Tu(e,a){return le(new Error,{type:e,[Nl]:!0},a)}function yt(e,a){return e instanceof Error&&Nl in e&&(a==null||!!(e.type&a))}const so="[^/]+?",U9={sensitive:!1,strict:!1,start:!0,end:!0},j9=/[.+*?^${}()[\]/\\]/g;function q9(e,a){const u=le({},U9,a),i=[];let r=u.start?"^":"";const n=[];for(const c of e){const h=c.length?[]:[90];u.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const F=c[d];let f=40+(u.sensitive?.25:0);if(F.type===0)d||(r+="/"),r+=F.value.replace(j9,"\\$&"),f+=40;else if(F.type===1){const{value:C,repeatable:v,optional:b,regexp:D}=F;n.push({name:C,repeatable:v,optional:b});const E=D||so;if(E!==so){f+=10;try{new RegExp(`(${E})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${C}" (${E}): `+z.message)}}let A=v?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(A=b&&c.length<2?`(?:/${A})`:"/"+A),b&&(A+="?"),r+=A,f+=20,b&&(f+=-8),v&&(f+=-20),E===".*"&&(f+=-50)}h.push(f)}i.push(h)}if(u.strict&&u.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}u.strict||(r+="/?"),u.end?r+="$":u.strict&&(r+="(?:/|$)");const o=new RegExp(r,u.sensitive?"":"i");function s(c){const h=c.match(o),d={};if(!h)return null;for(let F=1;F<h.length;F++){const f=h[F]||"",C=n[F-1];d[C.name]=f&&C.repeatable?f.split("/"):f}return d}function l(c){let h="",d=!1;for(const F of e){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const f of F)if(f.type===0)h+=f.value;else if(f.type===1){const{value:C,repeatable:v,optional:b}=f,D=C in c?c[C]:"";if(lt(D)&&!v)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const E=lt(D)?D.join("/"):D;if(!E)if(b)F.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${C}"`);h+=E}}return h||"/"}return{re:o,score:i,keys:n,parse:s,stringify:l}}function W9(e,a){let u=0;for(;u<e.length&&u<a.length;){const i=a[u]-e[u];if(i)return i;u++}return e.length<a.length?e.length===1&&e[0]===80?-1:1:e.length>a.length?a.length===1&&a[0]===80?1:-1:0}function $l(e,a){let u=0;const i=e.score,r=a.score;for(;u<i.length&&u<r.length;){const n=W9(i[u],r[u]);if(n)return n;u++}if(Math.abs(r.length-i.length)===1){if(lo(i))return 1;if(lo(r))return-1}return r.length-i.length}function lo(e){const a=e[e.length-1];return e.length>0&&a[a.length-1]<0}const Y9={type:0,value:""},Z9=/[a-zA-Z0-9_]/;function G9(e){if(!e)return[[]];if(e==="/")return[[Y9]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function a(f){throw new Error(`ERR (${u})/"${c}": ${f}`)}let u=0,i=u;const r=[];let n;function o(){n&&r.push(n),n=[]}let s=0,l,c="",h="";function d(){c&&(u===0?n.push({type:0,value:c}):u===1||u===2||u===3?(n.length>1&&(l==="*"||l==="+")&&a(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):a("Invalid state to consume buffer"),c="")}function F(){c+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&u!==2){i=u,u=4;continue}switch(u){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),u=1):F();break;case 4:F(),u=i;break;case 1:l==="("?u=2:Z9.test(l)?F():(d(),u=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:u=3:h+=l;break;case 3:d(),u=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,h="";break;default:a("Unknown state");break}}return u===2&&a(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function X9(e,a,u){const i=q9(G9(e.path),u),r=le(i,{record:e,parent:a,children:[],alias:[]});return a&&!r.record.aliasOf==!a.record.aliasOf&&a.children.push(r),r}function K9(e,a){const u=[],i=new Map;a=ho({strict:!1,end:!0,sensitive:!1},a);function r(d){return i.get(d)}function n(d,F,f){const C=!f,v=Q9(d);v.aliasOf=f&&f.record;const b=ho(a,d),D=[v];if("alias"in d){const z=typeof d.alias=="string"?[d.alias]:d.alias;for(const $ of z)D.push(le({},v,{components:f?f.record.components:v.components,path:$,aliasOf:f?f.record:v}))}let E,A;for(const z of D){const{path:$}=z;if(F&&$[0]!=="/"){const T=F.record.path,N=T[T.length-1]==="/"?"":"/";z.path=F.record.path+($&&N+$)}if(E=X9(z,F,b),f?f.alias.push(E):(A=A||E,A!==E&&A.alias.push(E),C&&d.name&&!po(E)&&o(d.name)),Ol(E)&&l(E),v.children){const T=v.children;for(let N=0;N<T.length;N++)n(T[N],E,f&&f.children[N])}f=f||E}return A?()=>{o(A)}:Ju}function o(d){if(Ll(d)){const F=i.get(d);F&&(i.delete(d),u.splice(u.indexOf(F),1),F.children.forEach(o),F.alias.forEach(o))}else{const F=u.indexOf(d);F>-1&&(u.splice(F,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function s(){return u}function l(d){const F=tD(d,u);u.splice(F,0,d),d.record.name&&!po(d)&&i.set(d.record.name,d)}function c(d,F){let f,C={},v,b;if("name"in d&&d.name){if(f=i.get(d.name),!f)throw Tu(1,{location:d});b=f.record.name,C=le(co(F.params,f.keys.filter(A=>!A.optional).concat(f.parent?f.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),d.params&&co(d.params,f.keys.map(A=>A.name))),v=f.stringify(C)}else if(d.path!=null)v=d.path,f=u.find(A=>A.re.test(v)),f&&(C=f.parse(v),b=f.record.name);else{if(f=F.name?i.get(F.name):u.find(A=>A.re.test(F.path)),!f)throw Tu(1,{location:d,currentLocation:F});b=f.record.name,C=le({},F.params,d.params),v=f.stringify(C)}const D=[];let E=f;for(;E;)D.unshift(E.record),E=E.parent;return{name:b,path:v,params:C,matched:D,meta:eD(D)}}e.forEach(d=>n(d));function h(){u.length=0,i.clear()}return{addRoute:n,resolve:c,removeRoute:o,clearRoutes:h,getRoutes:s,getRecordMatcher:r}}function co(e,a){const u={};for(const i of a)i in e&&(u[i]=e[i]);return u}function Q9(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:J9(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function J9(e){const a={},u=e.props||!1;if("component"in e)a.default=u;else for(const i in e.components)a[i]=typeof u=="object"?u[i]:u;return a}function po(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function eD(e){return e.reduce((a,u)=>le(a,u.meta),{})}function ho(e,a){const u={};for(const i in e)u[i]=i in a?a[i]:e[i];return u}function tD(e,a){let u=0,i=a.length;for(;u!==i;){const n=u+i>>1;$l(e,a[n])<0?i=n:u=n+1}const r=uD(e);return r&&(i=a.lastIndexOf(r,i-1)),i}function uD(e){let a=e;for(;a=a.parent;)if(Ol(a)&&$l(e,a)===0)return a}function Ol({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function aD(e){const a={};if(e===""||e==="?")return a;const u=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<u.length;++i){const r=u[i].replace(Bl," "),n=r.indexOf("="),o=sa(n<0?r:r.slice(0,n)),s=n<0?null:sa(r.slice(n+1));if(o in a){let l=a[o];lt(l)||(l=a[o]=[l]),l.push(s)}else a[o]=s}return a}function mo(e){let a="";for(let u in e){const i=e[u];if(u=b9(u),i==null){i!==void 0&&(a+=(a.length?"&":"")+u);continue}(lt(i)?i.map(r=>r&&ci(r)):[i&&ci(i)]).forEach(r=>{r!==void 0&&(a+=(a.length?"&":"")+u,r!=null&&(a+="="+r))})}return a}function nD(e){const a={};for(const u in e){const i=e[u];i!==void 0&&(a[u]=lt(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return a}const iD=Symbol(""),fo=Symbol(""),Xi=Symbol(""),Il=Symbol(""),pi=Symbol("");function zu(){let e=[];function a(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function u(){e=[]}return{add:a,list:()=>e.slice(),reset:u}}function Nt(e,a,u,i,r,n=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((s,l)=>{const c=F=>{F===!1?l(Tu(4,{from:u,to:a})):F instanceof Error?l(F):R9(F)?l(Tu(2,{from:a,to:F})):(o&&i.enterCallbacks[r]===o&&typeof F=="function"&&o.push(F),s())},h=n(()=>e.call(i&&i.instances[r],a,u,c));let d=Promise.resolve(h);e.length<3&&(d=d.then(c)),d.catch(F=>l(F))})}function Gn(e,a,u,i,r=n=>n()){const n=[];for(const o of e)for(const s in o.components){let l=o.components[s];if(!(a!=="beforeRouteEnter"&&!o.instances[s]))if(rD(l)){const c=(l.__vccOpts||l)[a];c&&n.push(Nt(c,u,i,o,s,r))}else{let c=l();n.push(()=>c.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const d=d9(h)?h.default:h;o.components[s]=d;const F=(d.__vccOpts||d)[a];return F&&Nt(F,u,i,o,s,r)()}))}}return n}function rD(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Fo(e){const a=Zt(Xi),u=Zt(Il),i=de(()=>{const l=bu(e.to);return a.resolve(l)}),r=de(()=>{const{matched:l}=i.value,{length:c}=l,h=l[c-1],d=u.matched;if(!h||!d.length)return-1;const F=d.findIndex(Su.bind(null,h));if(F>-1)return F;const f=go(l[c-2]);return c>1&&go(h)===f&&d[d.length-1].path!==f?d.findIndex(Su.bind(null,l[c-2])):F}),n=de(()=>r.value>-1&&cD(u.params,i.value.params)),o=de(()=>r.value>-1&&r.value===u.matched.length-1&&Ml(u.params,i.value.params));function s(l={}){return lD(l)?a[bu(e.replace)?"replace":"push"](bu(e.to)).catch(Ju):Promise.resolve()}return{route:i,href:de(()=>i.value.href),isActive:n,isExactActive:o,navigate:s}}const oD=en({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Fo,setup(e,{slots:a}){const u=$c(Fo(e)),{options:i}=Zt(Xi),r=de(()=>({[Co(e.activeClass,i.linkActiveClass,"router-link-active")]:u.isActive,[Co(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:u.isExactActive}));return()=>{const n=a.default&&a.default(u);return e.custom?n:_t("a",{"aria-current":u.isExactActive?e.ariaCurrentValue:null,href:u.href,onClick:u.navigate,class:r.value},n)}}}),sD=oD;function lD(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const a=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(a))return}return e.preventDefault&&e.preventDefault(),!0}}function cD(e,a){for(const u in a){const i=a[u],r=e[u];if(typeof i=="string"){if(i!==r)return!1}else if(!lt(r)||r.length!==i.length||i.some((n,o)=>n!==r[o]))return!1}return!0}function go(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Co=(e,a,u)=>e??a??u,dD=en({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:a,slots:u}){const i=Zt(pi),r=de(()=>e.route||i.value),n=Zt(fo,0),o=de(()=>{let c=bu(n);const{matched:h}=r.value;let d;for(;(d=h[c])&&!d.components;)c++;return c}),s=de(()=>r.value.matched[o.value]);Du(fo,de(()=>o.value+1)),Du(iD,s),Du(pi,r);const l=se();return nu(()=>[l.value,s.value,e.name],([c,h,d],[F,f,C])=>{h&&(h.instances[d]=c,f&&f!==h&&c&&c===F&&(h.leaveGuards.size||(h.leaveGuards=f.leaveGuards),h.updateGuards.size||(h.updateGuards=f.updateGuards))),c&&h&&(!f||!Su(h,f)||!F)&&(h.enterCallbacks[d]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=r.value,h=e.name,d=s.value,F=d&&d.components[h];if(!F)return ko(u.default,{Component:F,route:c});const f=d.props[h],C=f?f===!0?c.params:typeof f=="function"?f(c):f:null,v=_t(F,le({},C,a,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return ko(u.default,{Component:v,route:c})||v}}});function ko(e,a){if(!e)return null;const u=e(a);return u.length===1?u[0]:u}const Hu=dD;function pD(e){const a=K9(e.routes,e),u=e.parseQuery||aD,i=e.stringifyQuery||mo,r=e.history,n=zu(),o=zu(),s=zu(),l=Mo(St);let c=St;Cu&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Yn.bind(null,M=>""+M),d=Yn.bind(null,v9),F=Yn.bind(null,sa);function f(M,H){let V,q;return Ll(M)?(V=a.getRecordMatcher(M),q=H):q=M,a.addRoute(q,V)}function C(M){const H=a.getRecordMatcher(M);H&&a.removeRoute(H)}function v(){return a.getRoutes().map(M=>M.record)}function b(M){return!!a.getRecordMatcher(M)}function D(M,H){if(H=le({},H||l.value),typeof M=="string"){const J=Zn(u,M,H.path),xe=a.resolve({path:J.path},H),Mu=r.createHref(J.fullPath);return le(J,xe,{params:F(xe.params),hash:sa(J.hash),redirectedFrom:void 0,href:Mu})}let V;if(M.path!=null)V=le({},M,{path:Zn(u,M.path,H.path).path});else{const J=le({},M.params);for(const xe in J)J[xe]==null&&delete J[xe];V=le({},M,{params:d(J)}),H.params=d(H.params)}const q=a.resolve(V,H),he=M.hash||"";q.params=h(F(q.params));const ve=w9(i,le({},M,{hash:_9(he),path:q.path})),te=r.createHref(ve);return le({fullPath:ve,hash:he,query:i===mo?nD(M.query):M.query||{}},q,{redirectedFrom:void 0,href:te})}function E(M){return typeof M=="string"?Zn(u,M,l.value.path):le({},M)}function A(M,H){if(c!==M)return Tu(8,{from:H,to:M})}function z(M){return N(M)}function $(M){return z(le(E(M),{replace:!0}))}function T(M){const H=M.matched[M.matched.length-1];if(H&&H.redirect){const{redirect:V}=H;let q=typeof V=="function"?V(M):V;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=E(q):{path:q},q.params={}),le({query:M.query,hash:M.hash,params:q.path!=null?{}:M.params},q)}}function N(M,H){const V=c=D(M),q=l.value,he=M.state,ve=M.force,te=M.replace===!0,J=T(V);if(J)return N(le(E(J),{state:typeof J=="object"?le({},he,J.state):he,force:ve,replace:te}),H||V);const xe=V;xe.redirectedFrom=H;let Mu;return!ve&&B9(i,q,V)&&(Mu=Tu(16,{to:xe,from:q}),ie(q,q,!0,!1)),(Mu?Promise.resolve(Mu):ae(xe,q)).catch(Re=>yt(Re)?yt(Re,2)?Re:kt(Re):He(Re,xe,q)).then(Re=>{if(Re){if(yt(Re,2))return N(le({replace:te},E(Re.to),{state:typeof Re.to=="object"?le({},he,Re.to.state):he,force:ve}),H||xe)}else Re=ge(xe,q,!0,te,he);return pe(xe,q,Re),Re})}function G(M,H){const V=A(M,H);return V?Promise.reject(V):Promise.resolve()}function P(M){const H=ga.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(M):M()}function ae(M,H){let V;const[q,he,ve]=hD(M,H);V=Gn(q.reverse(),"beforeRouteLeave",M,H);for(const J of q)J.leaveGuards.forEach(xe=>{V.push(Nt(xe,M,H))});const te=G.bind(null,M,H);return V.push(te),su(V).then(()=>{V=[];for(const J of n.list())V.push(Nt(J,M,H));return V.push(te),su(V)}).then(()=>{V=Gn(he,"beforeRouteUpdate",M,H);for(const J of he)J.updateGuards.forEach(xe=>{V.push(Nt(xe,M,H))});return V.push(te),su(V)}).then(()=>{V=[];for(const J of ve)if(J.beforeEnter)if(lt(J.beforeEnter))for(const xe of J.beforeEnter)V.push(Nt(xe,M,H));else V.push(Nt(J.beforeEnter,M,H));return V.push(te),su(V)}).then(()=>(M.matched.forEach(J=>J.enterCallbacks={}),V=Gn(ve,"beforeRouteEnter",M,H,P),V.push(te),su(V))).then(()=>{V=[];for(const J of o.list())V.push(Nt(J,M,H));return V.push(te),su(V)}).catch(J=>yt(J,8)?J:Promise.reject(J))}function pe(M,H,V){s.list().forEach(q=>P(()=>q(M,H,V)))}function ge(M,H,V,q,he){const ve=A(M,H);if(ve)return ve;const te=H===St,J=Cu?history.state:{};V&&(q||te?r.replace(M.fullPath,le({scroll:te&&J&&J.scroll},he)):r.push(M.fullPath,he)),l.value=M,ie(M,H,V,te),kt()}let _e;function be(){_e||(_e=r.listen((M,H,V)=>{if(!Ki.listening)return;const q=D(M),he=T(q);if(he){N(le(he,{replace:!0}),q).catch(Ju);return}c=q;const ve=l.value;Cu&&$9(io(ve.fullPath,V.delta),gn()),ae(q,ve).catch(te=>yt(te,12)?te:yt(te,2)?(N(te.to,q).then(J=>{yt(J,20)&&!V.delta&&V.type===la.pop&&r.go(-1,!1)}).catch(Ju),Promise.reject()):(V.delta&&r.go(-V.delta,!1),He(te,q,ve))).then(te=>{te=te||ge(q,ve,!1),te&&(V.delta&&!yt(te,8)?r.go(-V.delta,!1):V.type===la.pop&&yt(te,20)&&r.go(-1,!1)),pe(q,ve,te)}).catch(Ju)}))}let X=zu(),fe=zu(),De;function He(M,H,V){kt(M);const q=fe.list();return q.length?q.forEach(he=>he(M,H,V)):console.error(M),Promise.reject(M)}function ct(){return De&&l.value!==St?Promise.resolve():new Promise((M,H)=>{X.add([M,H])})}function kt(M){return De||(De=!M,be(),X.list().forEach(([H,V])=>M?V(M):H()),X.reset()),M}function ie(M,H,V,q){const{scrollBehavior:he}=e;if(!Cu||!he)return Promise.resolve();const ve=!V&&O9(io(M.fullPath,0))||(q||!V)&&history.state&&history.state.scroll||null;return Nc().then(()=>he(M,H,ve)).then(te=>te&&N9(te)).catch(te=>He(te,M,H))}const Ye=M=>r.go(M);let Cn;const ga=new Set,Ki={currentRoute:l,listening:!0,addRoute:f,removeRoute:C,clearRoutes:a.clearRoutes,hasRoute:b,getRoutes:v,resolve:D,options:e,push:z,replace:$,go:Ye,back:()=>Ye(-1),forward:()=>Ye(1),beforeEach:n.add,beforeResolve:o.add,afterEach:s.add,onError:fe.add,isReady:ct,install(M){const H=this;M.component("RouterLink",sD),M.component("RouterView",Hu),M.config.globalProperties.$router=H,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>bu(l)}),Cu&&!Cn&&l.value===St&&(Cn=!0,z(r.location).catch(he=>{}));const V={};for(const he in St)Object.defineProperty(V,he,{get:()=>l.value[he],enumerable:!0});M.provide(Xi,H),M.provide(Il,Lc(V)),M.provide(pi,l);const q=M.unmount;ga.add(M),M.unmount=function(){ga.delete(M),ga.size<1&&(c=St,_e&&_e(),_e=null,l.value=St,Cn=!1,De=!1),q()}}};function su(M){return M.reduce((H,V)=>H.then(()=>P(V)),Promise.resolve())}return Ki}function hD(e,a){const u=[],i=[],r=[],n=Math.max(a.matched.length,e.matched.length);for(let o=0;o<n;o++){const s=a.matched[o];s&&(e.matched.find(c=>Su(c,s))?i.push(s):u.push(s));const l=e.matched[o];l&&(a.matched.find(c=>Su(c,l))||r.push(l))}return[u,i,r]}const mD=Oc()+"/index.php",fD=window.location.pathname.startsWith(mD),FD=Ba("apps/tasks",{},{noRewrite:fD}),gD=[{path:"/",redirect:ff()},{path:"/collections/:collectionId",components:{default:{render:()=>_t(Hu,{name:"default"})},AppSidebar:{render:()=>_t(Hu,{name:"AppSidebar"})}},children:[{name:"collections",path:"/collections/:collectionId",component:Wn,props:!0},{name:"collectionsTask",path:"/collections/:collectionId/tasks/:taskId",components:{default:Wn,AppSidebar:qn},props:{default:!0,AppSidebar:!0}},{name:"collectionsParamTask",path:"/collections/:collectionId/:collectionParam/tasks/:taskId",components:{default:Wn,AppSidebar:qn},props:{default:!0,AppSidebar:!0}}]},{path:"/calendars/:calendarId",components:{default:{render:()=>_t(Hu,{name:"default"})},AppSidebar:{render:()=>_t(Hu,{name:"AppSidebar"})}},children:[{name:"calendars",path:"/calendars/:calendarId",component:uo,props:!0},{name:"calendarsTask",path:"/calendars/:calendarId/tasks/:taskId",components:{default:uo,AppSidebar:qn},props:{default:!0,AppSidebar:!0}}]}],CD=pD({history:H9(FD),routes:gD}),kD={name:"AlertCircleOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},yD=["aria-hidden","aria-label"],_D=["fill","width","height"],bD={d:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"},DD={key:0};function vD(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon alert-circle-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",bD,[u.title?(p(),m("title",DD,B(u.title),1)):w("",!0)])],8,_D))],16,yD)}const ED=I(kD,[["render",vD]]),AD={name:"SyncAlertIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},wD=["aria-hidden","aria-label"],BD=["fill","width","height"],xD={d:"M11,13H13V7H11M21,4H15V10L17.24,7.76C18.32,8.85 19,10.34 19,12C19,14.61 17.33,16.83 15,17.65V19.74C18.45,18.85 21,15.73 21,12C21,9.79 20.09,7.8 18.64,6.36M11,17H13V15H11M3,12C3,14.21 3.91,16.2 5.36,17.64L3,20H9V14L6.76,16.24C5.68,15.15 5,13.66 5,12C5,9.39 6.67,7.17 9,6.35V4.26C5.55,5.15 3,8.27 3,12Z"},SD={key:0};function TD(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon sync-alert-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",xD,[u.title?(p(),m("title",SD,B(u.title),1)):w("",!0)])],8,BD))],16,wD)}const MD=I(AD,[["render",TD]]),zD={name:"TaskStatusDisplay",components:{NcButton:et,NcLoadingIcon:iu,AlertCircleOutline:ED,Check:ou,SyncAlert:MD},directives:{Tooltip:ru},props:{status:{type:Object,default:null}},emits:["status-clicked","reset-status"],data(){return{resetStatusTimeout:null}},computed:{isDisabled(){return this.status.status!=="conflict"}},watch:{status(e){this.checkTimeout(e)}},mounted(){this.checkTimeout(this.status)},methods:{statusClicked(){this.$emit("status-clicked")},checkTimeout(e){e&&(this.resetStatusTimeout&&clearTimeout(this.resetStatusTimeout),e.status==="success"&&(this.resetStatusTimeout=setTimeout(()=>{this.$emit("reset-status")},5e3)))}}};function LD(e,a,u,i,r,n){const o=k("AlertCircleOutline"),s=k("Check"),l=k("NcLoadingIcon"),c=k("SyncAlert"),h=k("NcButton"),d=Be("tooltip");return u.status?U((p(),S(h,{key:0,disabled:n.isDisabled,type:"tertiary","aria-label":u.status.message,onClick:n.statusClicked},{icon:_(()=>[u.status.status==="error"?(p(),S(o,{key:0,size:20,class:"status--error"})):w("",!0),u.status.status==="success"?(p(),S(s,{key:1,size:20,class:"status--success"})):w("",!0),u.status.status==="sync"?(p(),S(l,{key:2,size:20,class:"status--sync"})):w("",!0),u.status.status==="conflict"?(p(),S(c,{key:3,size:20,class:"status--conflict"})):w("",!0)]),_:1},8,["disabled","aria-label","onClick"])),[[d,u.status.message]]):w("",!0)}const ND=I(zD,[["render",LD],["__scopeId","data-v-ee4da925"]]),$D={name:"EyeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},OD=["aria-hidden","aria-label"],ID=["fill","width","height"],PD={d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},VD={key:0};function HD(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon eye-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",PD,[u.title?(p(),m("title",VD,B(u.title),1)):w("",!0)])],8,ID))],16,OD)}const Pl=I($D,[["render",HD]]),RD={name:"SortVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},UD=["aria-hidden","aria-label"],jD=["fill","width","height"],qD={d:"M3,13H15V11H3M3,6V8H21V6M3,18H9V16H3V18Z"},WD={key:0};function YD(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon sort-variant-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",qD,[u.title?(p(),m("title",WD,B(u.title),1)):w("",!0)])],8,jD))],16,UD)}const ZD=I(RD,[["render",YD]]),GD={name:"CalendarClockIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},XD=["aria-hidden","aria-label"],KD=["fill","width","height"],QD={d:"M15,13H16.5V15.82L18.94,17.23L18.19,18.53L15,16.69V13M19,8H5V19H9.67C9.24,18.09 9,17.07 9,16A7,7 0 0,1 16,9C17.07,9 18.09,9.24 19,9.67V8M5,21C3.89,21 3,20.1 3,19V5C3,3.89 3.89,3 5,3H6V1H8V3H16V1H18V3H19A2,2 0 0,1 21,5V11.1C22.24,12.36 23,14.09 23,16A7,7 0 0,1 16,23C14.09,23 12.36,22.24 11.1,21H5M16,11.15A4.85,4.85 0 0,0 11.15,16C11.15,18.68 13.32,20.85 16,20.85A4.85,4.85 0 0,0 20.85,16C20.85,13.32 18.68,11.15 16,11.15Z"},JD={key:0};function ev(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon calendar-clock-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",QD,[u.title?(p(),m("title",JD,B(u.title),1)):w("",!0)])],8,KD))],16,XD)}const tv=I(GD,[["render",ev]]),uv={name:"TaskBody",directives:{ClickOutside:ha,Linkify:Pi},components:{CreateMultipleTasksDialog:vl,TaskCheckbox:Fl,TaskStatusDisplay:ND,TaskDragContainer:Fn,NcActions:Xt,NcActionButton:At,NcProgressBar:El,NcTextField:pa,Delete:Kt,Eye:Pl,Pin:yl,Plus:tn,TextBoxOutline:No,SortVariant:ZD,CalendarClock:tv,Star:ma,Undo:nn},mixins:[_l],props:{task:{type:Object,required:!0},collectionString:{type:String,default:null}},data(){return{showSubtaskInput:!1,newTaskName:"",isAddingTask:!1,showCreateMultipleTasksModal:!1,multipleTasks:{numberOfTasks:0,tasks:{}},additionalTaskProperties:{}}},computed:{...Pe({searchQuery:"searchQuery",filter:"filter"}),dueDateShort(){return this.task.completed?this.task.completedDateMoment.isValid()?this.task.completedDateMoment.calendar(null,{lastDay:x("tasks","[Completed yesterday]"),sameDay:x("tasks","[Completed today]"),nextDay:x("tasks","[Completed tomorrow]"),lastWeek:"[Completed] L",nextWeek:"[Completed] L",sameElse:"[Completed] L"}):"":this.task.dueMoment.isValid()?this.task.dueMoment.calendar(null,{lastDay:x("tasks","[Yesterday]"),sameDay:x("tasks","[Today]"),nextDay:x("tasks","[Tomorrow]"),lastWeek:"L",nextWeek:"L",sameElse:"L"}):""},dueDateLong(){return this.task.allDay?this.dueDateShort:this.task.completed?this.task.completedDateMoment.isValid()?this.task.completedDateMoment.calendar(null,{lastDay:x("tasks","[Completed yesterday at] LT"),sameDay:x("tasks","[Completed today at] LT"),nextDay:x("tasks","[Completed tomorrow at] LT"),lastWeek:x("tasks","[Completed] L [at] LT"),nextWeek:x("tasks","[Completed] L [at] LT"),sameElse:x("tasks","[Completed] L [at] LT")}):"":this.task.dueMoment.isValid()?this.task.dueMoment.calendar(null,{lastDay:x("tasks","[Yesterday at] LT"),sameDay:x("tasks","[Today at] LT"),nextDay:x("tasks","[Tomorrow at] LT"),lastWeek:x("tasks","L [at] LT"),nextWeek:x("tasks","L [at] LT"),sameElse:x("tasks","L [at] LT")}):""},collectionId(){return this.collectionString?this.collectionString.split("-")[0]:null},collectionParam(){try{return this.collectionString.split("-")[1]}catch{return}},priorityClass(){return+this.task.priority>5?"priority--low":+this.task.priority==5?"priority--medium":+this.task.priority>0?"priority--high":null},hasCompletedSubtasks(){return Object.values(this.task.subTasks).some(e=>e.closed)},hasHiddenSubtasks(){return this.hasCompletedSubtasks&&this.task.hideCompletedSubtasks||this.filteredSubtasks.length&&this.task.hideSubtasks},subtasksCreationPlaceholder(){return x("tasks",'Add a subtask to "{task}"',{task:this.task.summary},void 0,{sanitize:!1,escape:!1})},filteredSubtasks(){let e=Object.values(this.task.subTasks);return this.task.hideCompletedSubtasks&&(e=e.filter(a=>!a.closed)),["today","week","starred","current"].indexOf(this.collectionId)>-1&&!this.isTaskOpen()&&(e=e.filter(a=>_i(a,this.collectionString)||this.isTaskOpen(a)||this.isDescendantOpen(a))),e},filteredSubtasksShown(){return this.showSubtasks?this.filteredSubtasks:[]},showTask(){return this.task.matches(this.searchQuery,this.filter)?!0:this.searchSubTasks(this.task,this.searchQuery,this.filter)},showSubtasks(){return!!(!this.task.hideSubtasks||this.searchQuery||this.isTaskOpen()||this.isDescendantOpen())},readOnly(){return this.task.calendar.readOnly||this.task.calendar.isSharedWithMe&&this.task.class!=="PUBLIC"}},created(){!this.task.loadedCompleted&&this.$route.params.taskId===this.task.uri&&this.getTasksFromCalendar({calendar:this.task.calendar,completed:!0,related:this.task.uid})},methods:{t:x,n:ht,startDateString:gl,...Ct(["toggleCompleted","toggleStarred","createTask","getTasksFromCalendar","toggleSubtasksVisibility","toggleCompletedSubtasksVisibility","scheduleTaskDeletion","clearTaskDeletion","fetchFullTask"]),...yi(["resetStatus","setFilter"]),sort:Ci,overdue:Lo,updateTask(){this.task.syncStatus?.status==="conflict"&&this.fetchFullTask({task:this.task})},addTagToFilter(e){const a=this.filter;this.filter?.tags.includes(e)||(a.tags.push(e),this.setFilter(a))},dragStart(e){e.target.closest(".task-item")===this.$refs.taskItem&&e.dataTransfer.setData("text/uri",this.task.uri)},searchSubTasks:Ic,isTaskOpen(e=this.task){return e.uri===this.$route.params.taskId&&this.collectionParam===this.$route.params.collectionParam},isDescendantOpen(e=this.task){if(this.collectionParam!==this.$route.params.collectionParam)return!1;const a=this.$route.params.taskId;return function u(i){for(const r in i){const n=i[r];if(n.uri===a||u(n.subTasks))return!0}return!1}(e.subTasks)},async navigate(e){!e.target.closest(".no-nav")&&(this.$route.params.taskId!==this.task.uri||this.$route.params.collectionParam!==this.collectionParam)&&(this.task.loadedCompleted||this.getTasksFromCalendar({calendar:this.task.calendar,completed:!0,related:this.task.uid}),this.$route.params.calendarId?await this.$router.push({name:"calendarsTask",params:{calendarId:this.$route.params.calendarId,taskId:this.task.uri}}):this.collectionId&&(this.collectionParam?await this.$router.push({name:"collectionsParamTask",params:{collectionId:this.collectionId,collectionParam:this.collectionParam,taskId:this.task.uri}}):await this.$router.push({name:"collectionsTask",params:{collectionId:this.collectionId,taskId:this.task.uri}})))},async openAppSidebarTab(e,a,u=!1){await this.navigate(e),st("tasks:open-appsidebar-tab",a),u&&st("tasks:edit-appsidebar-notes",e)},editSummary(){st("tasks:edit-appsidebar-summary",!0)},async openSubtaskInput(){this.showSubtaskInput=!0,await this.$nextTick(),this.$refs.input.$refs.inputField.$refs.input.focus()},closeSubtaskInput(){this.showSubtaskInput=!1},addMultipleTasks(e){const a=e.clipboardData.getData("text"),u=bl(a);u.numberOfTasks<=1||(this.multipleTasks=u,this.showCreateMultipleTasksModal=!0,this.additionalTaskProperties=this.getAdditionalTaskProperties())},createMultipleTasksCancelled(){this.showCreateMultipleTasksModal=!1,this.multipleTasks={numberOfTasks:0,tasks:{}},this.additionalTaskProperties={},this.openSubtaskInput()},createMultipleTasksSuccessful(){this.showCreateMultipleTasksModal=!1,this.multipleTasks={numberOfTasks:0,tasks:{}},this.additionalTaskProperties={},this.newTaskName="",this.openSubtaskInput()},async addTask(e){e?.stopPropagation();const a=await this.createTask({summary:this.newTaskName,calendar:this.task.calendar,related:this.task.uid,...this.getAdditionalTaskProperties()});await this.openNewTask(a),this.newTaskName="",this.$refs.input.$refs.inputField.$refs.input.focus()},getAdditionalTaskProperties(){const e={};return this.collectionId==="starred"&&(e.priority="1"),this.collectionId==="today"&&(e.due=qe().startOf("day").format("YYYY-MM-DDTHH:mm:ss")),this.collectionId==="current"&&(e.start=qe().format("YYYY-MM-DDTHH:mm:ss")),e}}},av=["task-id","data-priority"],nv=["task-id"],iv={class:"summary"},rv={key:0,class:"tags-list"},ov=["onClick"],sv=["title"],lv={class:"task-body__icons"},cv={key:0,class:"calendar"},dv={class:"calendar__name"},pv={class:"task-item__subtasks"},hv={key:0,class:"task-item task-item__input"};function mv(e,a,u,i,r,n){const o=k("TaskCheckbox"),s=k("TaskStatusDisplay"),l=k("SortVariant"),c=k("CalendarClock"),h=k("Pin"),d=k("TextBoxOutline"),F=k("NcProgressBar"),f=k("Plus"),C=k("NcActionButton"),v=k("Eye"),b=k("Delete"),D=k("NcActions"),E=k("Undo"),A=k("Star"),z=k("NcTextField"),$=k("TaskDragContainer"),T=k("CreateMultipleTasksDialog"),N=Be("linkify"),G=Be("click-outside");return n.showTask?(p(),m("li",{key:0,ref:"taskItem","task-id":u.task.uri,class:R([{"task-item--closed":u.task.closed,"task-item--deleted":u.task.deleteCountdown!==null,"task-item--input-visible":n.filteredSubtasksShown.length||r.showSubtaskInput,"task-item--subtasks-visible":n.filteredSubtasksShown.length,"task-item--non-started":!n.overdue(u.task.startMoment)&&u.task.start},"task-item"]),"data-priority":[u.task.priority],onDragstart:a[13]||(a[13]=P=>n.dragStart(P))},[y("div",{"task-id":u.task.uri,class:R([{"task-item__body--active":n.isTaskOpen()},"task-item__body reactive"]),type:"task",onClick:a[10]||(a[10]=P=>n.navigate(P))},[g(o,{completed:u.task.completed,class:"no-nav",cancelled:u.task.status==="CANCELLED","read-only":n.readOnly,"priority-class":n.priorityClass,onToggleCompleted:a[0]||(a[0]=P=>e.toggleCompleted(u.task))},null,8,["completed","cancelled","read-only","priority-class"]),y("div",{class:"task-body__info",onDblclick:a[1]||(a[1]=P=>n.editSummary())},[y("div",iv,[U(y("span",null,null,512),[[N,{text:u.task.summary,linkify:!0}]])]),u.task.tags.length>0?(p(),m("div",rv,[(p(!0),m(Ne,null,We(u.task.tags,(P,ae)=>(p(),m("span",{key:ae,class:"tag no-nav",onClick:pe=>n.addTagToFilter(P)},[y("span",{title:P,class:"tag-label"},B(P),9,sv)],8,ov))),128))])):w("",!0)],32),y("div",lv,[g(s,{status:u.task.syncStatus,class:"reactive no-nav",onStatusClicked:n.updateTask,onResetStatus:a[2]||(a[2]=P=>e.resetStatus({task:u.task}))},null,8,["status","onStatusClicked"]),n.collectionId=="week"?(p(),m("div",cv,[y("span",{style:Ie({"background-color":u.task.calendar.color}),class:"calendar__indicator"},null,4),y("span",dv,B(u.task.calendar.displayName),1)])):w("",!0),n.hasHiddenSubtasks?(p(),S(l,{key:1,size:20,title:n.t("tasks","Task has hidden subtasks")},null,8,["title"])):w("",!0),!n.overdue(u.task.startMoment)&&u.task.start?(p(),S(c,{key:2,size:20,title:n.startDateString(u.task)},null,8,["title"])):w("",!0),u.task.pinned?(p(),S(h,{key:3,size:20,title:n.t("tasks","Task is pinned")},null,8,["title"])):w("",!0),u.task.note!=""?(p(),S(d,{key:4,size:20,title:n.t("tasks","Task has a note"),onClick:a[3]||(a[3]=P=>n.openAppSidebarTab(P,"app-sidebar-tab-notes")),onDblclick:a[4]||(a[4]=ue(P=>n.openAppSidebarTab(P,"app-sidebar-tab-notes",!0),["stop"]))},null,8,["title"])):w("",!0),u.task.due||u.task.completed?(p(),m("div",{key:5,class:R([{"date--overdue":n.overdue(u.task.dueMoment)&&!u.task.completed},"date"])},[y("span",{class:R(["date__short",{"date__short--completed":u.task.completed}])},B(n.dueDateShort),3),y("span",{class:R(["date__long",{"date__long--date-only":u.task.allDay&&!u.task.completed,"date__long--completed":u.task.completed}])},B(n.dueDateLong),3)],2)):w("",!0),u.task.complete>0?(p(),S(F,{key:6,type:"circular",value:u.task.complete,"aria-label":n.t("tasks","{complete} % completed",{complete:u.task.complete}),title:n.t("tasks","{complete} % completed",{complete:u.task.complete}),color:u.task.calendar.color},null,8,["value","aria-label","title","color"])):w("",!0),u.task.deleteCountdown===null?(p(),S(D,{key:7,class:"reactive no-nav","menu-align":"right"},{default:_(()=>[u.task.calendar.readOnly?w("",!0):(p(),S(C,{key:0,"close-after-click":!0,class:"reactive no-nav open-input",onClick:n.openSubtaskInput},{icon:_(()=>[g(f,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Add subtask")),1)]),_:1},8,["onClick"])),Object.values(u.task.subTasks).length?(p(),S(C,{key:1,class:"reactive no-nav",onClick:a[5]||(a[5]=P=>e.toggleSubtasksVisibility(u.task))},{icon:_(()=>[g(l,{size:20})]),default:_(()=>[j(" "+B(u.task.hideSubtasks?n.t("tasks","Show subtasks"):n.t("tasks","Hide subtasks")),1)]),_:1})):w("",!0),n.hasCompletedSubtasks?(p(),S(C,{key:2,class:"reactive no-nav",onClick:a[6]||(a[6]=P=>e.toggleCompletedSubtasksVisibility(u.task))},{icon:_(()=>[g(v,{size:20})]),default:_(()=>[j(" "+B(u.task.hideCompletedSubtasks?n.t("tasks","Show closed subtasks"):n.t("tasks","Hide closed subtasks")),1)]),_:1})):w("",!0),n.readOnly?w("",!0):(p(),S(C,{key:3,class:"reactive no-nav",onClick:a[7]||(a[7]=P=>e.scheduleTaskDeletion(u.task))},{icon:_(()=>[g(b,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Delete task")),1)]),_:1}))]),_:1})):w("",!0),u.task.deleteCountdown!==null?(p(),S(D,{key:8},{default:_(()=>[g(C,{class:"reactive no-nav",onClick:a[8]||(a[8]=ue(P=>e.clearTaskDeletion(u.task),["prevent","stop"]))},{icon:_(()=>[g(E,{size:20})]),default:_(()=>[j(" "+B(n.n("tasks","Deleting the task in {countdown} second","Deleting the task in {countdown} seconds",u.task.deleteCountdown,{countdown:u.task.deleteCountdown})),1)]),_:1})]),_:1})):w("",!0),g(D,{disabled:n.readOnly,class:R([[{priority:u.task.priority},n.priorityClass],"reactive no-nav"])},{default:_(()=>[g(C,{disabled:n.readOnly,onClick:a[9]||(a[9]=P=>e.toggleStarred(u.task))},{icon:_(()=>[g(A,{size:20})]),default:_(()=>[j(" "+B(n.t("tasks","Toggle starred")),1)]),_:1},8,["disabled"])]),_:1},8,["disabled","class"])])],10,nv),y("div",pv,[r.showSubtaskInput?U((p(),m("div",hv,[g(z,{ref:"input",modelValue:r.newTaskName,"onUpdate:modelValue":a[11]||(a[11]=P=>r.newTaskName=P),placeholder:n.subtasksCreationPlaceholder,"label-outside":!0,disabled:r.isAddingTask,autocomplete:"off",class:"reactive","trailing-button-icon":"arrowRight","show-trailing-button":r.newTaskName!=="","trailing-button-label":n.subtasksCreationPlaceholder,onTrailingButtonClick:n.addTask,onKeyup:[a[12]||(a[12]=ke(P=>r.showSubtaskInput=!1,["esc"])),ke(n.addTask,["enter"])],onPaste:ue(n.addMultipleTasks,["stop"])},{icon:_(()=>[g(f,{size:20})]),_:1},8,["modelValue","placeholder","disabled","show-trailing-button","trailing-button-label","onTrailingButtonClick","onKeyup","onPaste"])])),[[G,n.closeSubtaskInput]]):w("",!0),g($,{tasks:n.filteredSubtasksShown,disabled:u.task.calendar.readOnly,"collection-string":u.collectionString,"task-id":u.task.uri,"calendar-id":u.task.calendar.uri},null,8,["tasks","disabled","collection-string","task-id","calendar-id"])]),r.showCreateMultipleTasksModal?(p(),S(T,{key:0,"root-task":u.task,calendar:u.task.calendar,"tasks-to-create":r.multipleTasks,"tasks-additional-properties":r.additionalTaskProperties,onCancel:n.createMultipleTasksCancelled,onClose:n.createMultipleTasksSuccessful},null,8,["root-task","calendar","tasks-to-create","tasks-additional-properties","onCancel","onClose"])):w("",!0)],42,av)):w("",!0)}const fv=I(uv,[["render",mv],["__scopeId","data-v-43747117"]]),Fv={name:"AlertBoxOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},gv=["aria-hidden","aria-label"],Cv=["fill","width","height"],kv={d:"M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M11,15H13V17H11V15M11,7H13V13H11V7"},yv={key:0};function _v(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon alert-box-outline-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",kv,[u.title?(p(),m("title",yv,B(u.title),1)):w("",!0)])],8,Cv))],16,gv)}const bv=I(Fv,[["render",_v]]),Dv={name:"CalendarRemoveIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},vv=["aria-hidden","aria-label"],Ev=["fill","width","height"],Av={d:"M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M9.31,17L11.75,14.56L14.19,17L15.25,15.94L12.81,13.5L15.25,11.06L14.19,10L11.75,12.44L9.31,10L8.25,11.06L10.69,13.5L8.25,15.94L9.31,17Z"},wv={key:0};function Bv(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon calendar-remove-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Av,[u.title?(p(),m("title",wv,B(u.title),1)):w("",!0)])],8,Ev))],16,vv)}const xv=I(Dv,[["render",Bv]]),Sv={name:"CancelIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Tv=["aria-hidden","aria-label"],Mv=["fill","width","height"],zv={d:"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z"},Lv={key:0};function Nv(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon cancel-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",zv,[u.title?(p(),m("title",Lv,B(u.title),1)):w("",!0)])],8,Mv))],16,Tv)}const $v=I(Sv,[["render",Nv]]),Ov={name:"EyeOffIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Iv=["aria-hidden","aria-label"],Pv=["fill","width","height"],Vv={d:"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z"},Hv={key:0};function Rv(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon eye-off-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Vv,[u.title?(p(),m("title",Hv,B(u.title),1)):w("",!0)])],8,Pv))],16,Iv)}const Uv=I(Ov,[["render",Rv]]),jv={name:"PulseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},qv=["aria-hidden","aria-label"],Wv=["fill","width","height"],Yv={d:"M3,13H5.79L10.1,4.79L11.28,13.75L14.5,9.66L17.83,13H21V15H17L14.67,12.67L9.92,18.73L8.94,11.31L7,15H3V13Z"},Zv={key:0};function Gv(e,a,u,i,r,n){return p(),m("span",L(e.$attrs,{"aria-hidden":u.title?null:!0,"aria-label":u.title,class:"material-design-icon pulse-icon",role:"img",onClick:a[0]||(a[0]=o=>e.$emit("click",o))}),[(p(),m("svg",{fill:u.fillColor,class:"material-design-icon__svg",width:u.size,height:u.size,viewBox:"0 0 24 24"},[y("path",Yv,[u.title?(p(),m("title",Zv,B(u.title),1)):w("",!0)])],8,Wv))],16,qv)}const Xv=I(jv,[["render",Gv]]);OCA.Tasks||(OCA.Tasks={});const Kv=Pc(mf).component("TaskBody",fv).component("IconAlertBoxOutline",bv).component("IconCalendarRemove",xv).component("IconCancel",$v).component("IconCheck",ou).component("IconDelete",Kt).component("IconEye",Pl).component("IconEyeOff",Uv).component("IconPulse",Xv).component("IconTrendingUp",Ei).provide("$OCA",OCA).provide("$appVersion",Hl).use(CD).use(Vc).mount(".app-tasks");OCA.Tasks.App=Kv;
