/*! third party licenses: js/vendor.LICENSE.txt */
var kx=Object.defineProperty;var Ex=n=>{throw TypeError(n)};var Sx=(n,m,A)=>m in n?kx(n,m,{enumerable:!0,configurable:!0,writable:!0,value:A}):n[m]=A;var Lp=(n,m,A)=>Sx(n,typeof m!="symbol"?m+"":m,A);var Kc=(n,m,A)=>m.has(n)?Ex("Cannot add the same private member more than once"):m instanceof WeakSet?m.add(n):m.set(n,A);import{R as Jo,r as lo,g as Ap,a as _x}from"./whiteboard-main.mjs";import{B as Fu,d as Gl,l as Cx,n as Ii,g as Uu,V as zl,h as jx,i as Wm,u as Ox,o as Hm,j as Fm,k as Um,m as X0,p as Ui,q as Mx,s as Tx,v as Px,w as Rp,x as Zl,y as Ql,z as Ix,A as Dx,a as Vo,b as su,G as Ku,r as bl,C as Lx,D as Ax,E as Km,F as Rx,H as Zx,I as zx,J as ru,N as J0,K as c0,L as u0,M as Nx,O as Bx,P as Wx,Q as Q0,R as Hx,S as Fx,T as Ux,U as $m,W as Kx,c as $x,X as Vx,Y as Yx,Z as Gx,_ as Vm,$ as qx,a0 as Xx,a1 as Jx,a2 as Qx,a3 as Zp}from"./NcLoadingIcon-Bg5K4W6G.chunk.mjs";import{r as gd,a as Ym,c as qc,g as Gm}from"./vendor-BeFBwUwf.chunk.mjs";import{_ as Ac,l as _0,v as ss,w as zp,f as ew,h as tw}from"./index-BZGs7a1j.chunk.mjs";var Ou={exports:{}},Np={exports:{}},Bp={exports:{}},$c={},Wp;function nw(){if(Wp)return $c;Wp=1;var n=gd(),m=Symbol.for("react.element"),A=Symbol.for("react.fragment"),ce=Object.prototype.hasOwnProperty,Ce=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ne={key:!0,ref:!0,__self:!0,__source:!0};function Ge($e,mt,yt){var Et,ft={},We=null,te=null;yt!==void 0&&(We=""+yt),mt.key!==void 0&&(We=""+mt.key),mt.ref!==void 0&&(te=mt.ref);for(Et in mt)ce.call(mt,Et)&&!Ne.hasOwnProperty(Et)&&(ft[Et]=mt[Et]);if($e&&$e.defaultProps)for(Et in mt=$e.defaultProps,mt)ft[Et]===void 0&&(ft[Et]=mt[Et]);return{$$typeof:m,type:$e,key:We,ref:te,props:ft,_owner:Ce.current}}return $c.Fragment=A,$c.jsx=Ge,$c.jsxs=Ge,$c}var Hp;function rw(){return Hp||(Hp=1,Bp.exports=nw()),Bp.exports}var Fp;function ow(){return Fp||(Fp=1,function(n,m){(function(A,ce){n.exports=ce(gd(),rw(),Ym())})(self,function(A,ce,Ce){return function(){var Ne,Ge,$e,mt,yt={5779:function(te,t){t.N=void 0;var e=/^([^\w]*)(javascript|data|vbscript)/im,w=/&#(\w+)(^\w|;)?/g,v=/&(newline|tab);/gi,d=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,b=/^.+(:|&colon;)/gim,T=[".","/"];t.N=function(S){var a,c=(a=S||"",a.replace(w,function(_,h){return String.fromCharCode(h)})).replace(v,"").replace(d,"").trim();if(!c)return"about:blank";if(function(_){return T.indexOf(_[0])>-1}(c))return c;var Z=c.match(b);if(!Z)return c;var F=Z[0];return e.test(F)?"about:blank":c}},7217:function(te,t,e){function w(v,d,{checkForDefaultPrevented:b=!0}={}){return function(T){if(v?.(T),b===!1||!T.defaultPrevented)return d?.(T)}}e.d(t,{M:function(){return w}})},9335:function(te,t,e){e.d(t,{F:function(){return v},e:function(){return d}});var w=e(9787);function v(...b){return T=>b.forEach(S=>function(a,c){typeof a=="function"?a(c):a!=null&&(a.current=c)}(S,T))}function d(...b){return(0,w.useCallback)(v(...b),b)}},1267:function(te,t,e){e.d(t,{b:function(){return v}});var w=e(9787);function v(b,T=[]){let S=[];const a=()=>{const c=S.map(Z=>(0,w.createContext)(Z));return function(Z){const F=Z?.[b]||c;return(0,w.useMemo)(()=>({[`__scope${b}`]:{...Z,[b]:F}}),[Z,F])}};return a.scopeName=b,[function(c,Z){const F=(0,w.createContext)(Z),_=S.length;function h(x){const{scope:G,children:le,...he}=x,ve=G?.[b][_]||F,fe=(0,w.useMemo)(()=>he,Object.values(he));return(0,w.createElement)(ve.Provider,{value:fe},le)}return S=[...S,Z],h.displayName=c+"Provider",[h,function(x,G){const le=G?.[b][_]||F,he=(0,w.useContext)(le);if(he)return he;if(Z!==void 0)return Z;throw new Error(`\`${x}\` must be used within \`${c}\``)}]},d(a,...T)]}function d(...b){const T=b[0];if(b.length===1)return T;const S=()=>{const a=b.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(c){const Z=a.reduce((F,{useScope:_,scopeName:h})=>({...F,..._(c)[`__scope${h}`]}),{});return(0,w.useMemo)(()=>({[`__scope${T.scopeName}`]:Z}),[Z])}};return S.scopeName=T.scopeName,S}},5622:function(te,t,e){e.d(t,{M:function(){return T}});var w=e(9787),v=e(3348);const d=w.useId||(()=>{});let b=0;function T(S){const[a,c]=w.useState(d());return(0,v.b)(()=>{S||c(Z=>Z??String(b++))},[S]),S||(a?`radix-${a}`:"")}},1483:function(te,t,e){e.d(t,{z:function(){return T}});var w=e(9787),v=e(5156),d=e(9335),b=e(3348);const T=a=>{const{present:c,children:Z}=a,F=function(x){const[G,le]=(0,w.useState)(),he=(0,w.useRef)({}),ve=(0,w.useRef)(x),fe=(0,w.useRef)("none"),X=x?"mounted":"unmounted",[q,U]=function(R,B){return(0,w.useReducer)((M,I)=>B[M][I]??M,R)}(X,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,w.useEffect)(()=>{const R=S(he.current);fe.current=q==="mounted"?R:"none"},[q]),(0,b.b)(()=>{const R=he.current,B=ve.current;if(B!==x){const M=fe.current,I=S(R);x?U("MOUNT"):I==="none"||R?.display==="none"?U("UNMOUNT"):U(B&&M!==I?"ANIMATION_OUT":"UNMOUNT"),ve.current=x}},[x,U]),(0,b.b)(()=>{if(G){const R=M=>{const I=S(he.current).includes(M.animationName);M.target===G&&I&&(0,v.flushSync)(()=>U("ANIMATION_END"))},B=M=>{M.target===G&&(fe.current=S(he.current))};return G.addEventListener("animationstart",B),G.addEventListener("animationcancel",R),G.addEventListener("animationend",R),()=>{G.removeEventListener("animationstart",B),G.removeEventListener("animationcancel",R),G.removeEventListener("animationend",R)}}U("ANIMATION_END")},[G,U]),{isPresent:["mounted","unmountSuspended"].includes(q),ref:(0,w.useCallback)(R=>{R&&(he.current=getComputedStyle(R)),le(R)},[])}}(c),_=typeof Z=="function"?Z({present:F.isPresent}):w.Children.only(Z),h=(0,d.e)(F.ref,_.ref);return typeof Z=="function"||F.isPresent?(0,w.cloneElement)(_,{ref:h}):null};function S(a){return a?.animationName||"none"}T.displayName="Presence"},3119:function(te,t,e){e.d(t,{WV:function(){return T},jH:function(){return S}});var w=e(11),v=e(9787),d=e(5156),b=e(4801);const T=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((a,c)=>{const Z=(0,v.forwardRef)((F,_)=>{const{asChild:h,...x}=F,G=h?b.g7:c;return(0,v.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,v.createElement)(G,(0,w.Z)({},x,{ref:_}))});return Z.displayName=`Primitive.${c}`,{...a,[c]:Z}},{});function S(a,c){a&&(0,d.flushSync)(()=>a.dispatchEvent(c))}},4801:function(te,t,e){e.d(t,{g7:function(){return b}});var w=e(11),v=e(9787),d=e(9335);const b=(0,v.forwardRef)((Z,F)=>{const{children:_,...h}=Z,x=v.Children.toArray(_),G=x.find(a);if(G){const le=G.props.children,he=x.map(ve=>ve===G?v.Children.count(le)>1?v.Children.only(null):(0,v.isValidElement)(le)?le.props.children:null:ve);return(0,v.createElement)(T,(0,w.Z)({},h,{ref:F}),(0,v.isValidElement)(le)?(0,v.cloneElement)(le,void 0,he):null)}return(0,v.createElement)(T,(0,w.Z)({},h,{ref:F}),_)});b.displayName="Slot";const T=(0,v.forwardRef)((Z,F)=>{const{children:_,...h}=Z;return(0,v.isValidElement)(_)?(0,v.cloneElement)(_,{...c(h,_.props),ref:(0,d.F)(F,_.ref)}):v.Children.count(_)>1?v.Children.only(null):null});T.displayName="SlotClone";const S=({children:Z})=>(0,v.createElement)(v.Fragment,null,Z);function a(Z){return(0,v.isValidElement)(Z)&&Z.type===S}function c(Z,F){const _={...F};for(const h in F){const x=Z[h],G=F[h];/^on[A-Z]/.test(h)?x&&G?_[h]=(...le)=>{G(...le),x(...le)}:x&&(_[h]=x):h==="style"?_[h]={...x,...G}:h==="className"&&(_[h]=[x,G].filter(Boolean).join(" "))}return{...Z,..._}}},3060:function(te,t,e){e.d(t,{W:function(){return v}});var w=e(9787);function v(d){const b=(0,w.useRef)(d);return(0,w.useEffect)(()=>{b.current=d}),(0,w.useMemo)(()=>(...T)=>{var S;return(S=b.current)===null||S===void 0?void 0:S.call(b,...T)},[])}},2673:function(te,t,e){e.d(t,{T:function(){return d}});var w=e(9787),v=e(3060);function d({prop:b,defaultProp:T,onChange:S=()=>{}}){const[a,c]=function({defaultProp:h,onChange:x}){const G=(0,w.useState)(h),[le]=G,he=(0,w.useRef)(le),ve=(0,v.W)(x);return(0,w.useEffect)(()=>{he.current!==le&&(ve(le),he.current=le)},[le,he,ve]),G}({defaultProp:T,onChange:S}),Z=b!==void 0,F=Z?b:a,_=(0,v.W)(S);return[F,(0,w.useCallback)(h=>{if(Z){const x=h,G=typeof h=="function"?x(b):h;G!==b&&_(G)}else c(h)},[Z,b,c,_])]}},3348:function(te,t,e){e.d(t,{b:function(){return v}});var w=e(9787);const v=globalThis?.document?w.useLayoutEffect:()=>{}},45:function(te,t,e){function w(d){var b,T,S="";if(typeof d=="string"||typeof d=="number")S+=d;else if(typeof d=="object")if(Array.isArray(d))for(b=0;b<d.length;b++)d[b]&&(T=w(d[b]))&&(S&&(S+=" "),S+=T);else for(b in d)d[b]&&(S&&(S+=" "),S+=b);return S}function v(){for(var d,b,T=0,S="";T<arguments.length;)(d=arguments[T++])&&(b=w(d))&&(S&&(S+=" "),S+=b);return S}e.d(t,{Z:function(){return v}})},6233:function(te,t){var e;e=function(w){w.version="0.3.0";var v=function(){for(var T=0,S=new Array(256),a=0;a!=256;++a)T=1&(T=1&(T=1&(T=1&(T=1&(T=1&(T=1&(T=1&(T=a)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1,S[a]=T;return typeof Int32Array<"u"?new Int32Array(S):S}(),d=typeof Fu<"u";function b(T){for(var S=-1,a=0,c=T.length-7;a<c;)S=(S=(S=(S=(S=(S=(S=(S=S>>>8^v[255&(S^T[a++])])>>>8^v[255&(S^T[a++])])>>>8^v[255&(S^T[a++])])>>>8^v[255&(S^T[a++])])>>>8^v[255&(S^T[a++])])>>>8^v[255&(S^T[a++])])>>>8^v[255&(S^T[a++])])>>>8^v[255&(S^T[a++])];for(;a<c+7;)S=S>>>8^v[255&(S^T[a++])];return-1^S}w.table=v,w.bstr=function(T){if(T.length>32768&&d)return b(new Fu(T));for(var S=-1,a=T.length-1,c=0;c<a;)S=v[255&(S^T.charCodeAt(c++))]^S>>>8,S=v[255&(S^T.charCodeAt(c++))]^S>>>8;return c===a&&(S=S>>>8^v[255&(S^T.charCodeAt(c))]),-1^S},w.buf=function(T){if(T.length>1e4)return b(T);for(var S=-1,a=0,c=T.length-3;a<c;)S=(S=(S=(S=S>>>8^v[255&(S^T[a++])])>>>8^v[255&(S^T[a++])])>>>8^v[255&(S^T[a++])])>>>8^v[255&(S^T[a++])];for(;a<c+3;)S=S>>>8^v[255&(S^T[a++])];return-1^S},w.str=function(T){for(var S,a,c=-1,Z=0,F=T.length;Z<F;)(S=T.charCodeAt(Z++))<128?c=c>>>8^v[255&(c^S)]:S<2048?c=(c=c>>>8^v[255&(c^(192|S>>6&31))])>>>8^v[255&(c^(128|63&S))]:S>=55296&&S<57344?(S=64+(1023&S),a=1023&T.charCodeAt(Z++),c=(c=(c=(c=c>>>8^v[255&(c^(240|S>>8&7))])>>>8^v[255&(c^(128|S>>2&63))])>>>8^v[255&(c^(128|a>>6&15|3&S))])>>>8^v[255&(c^(128|63&a))]):c=(c=(c=c>>>8^v[255&(c^(224|S>>12&15))])>>>8^v[255&(c^(128|S>>6&63))])>>>8^v[255&(c^(128|63&S))];return-1^c}},e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})},200:function(te,t,e){var w="Expected a function",v=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,T=/^0o[0-7]+$/i,S=parseInt,a=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g,c=typeof self=="object"&&self&&self.Object===Object&&self,Z=a||c||Function("return this")(),F=Object.prototype.toString,_=Math.max,h=Math.min,x=function(){return Z.Date.now()};function G(ve,fe,X){var q,U,R,B,M,I,E=0,p=!1,r=!1,o=!0;if(typeof ve!="function")throw new TypeError(w);function g(O){var j=q,L=U;return q=U=void 0,E=O,B=ve.apply(L,j)}function s(O){return E=O,M=setTimeout(k,fe),p?g(O):B}function u(O){var j=O-I;return I===void 0||j>=fe||j<0||r&&O-E>=R}function k(){var O=x();if(u(O))return N(O);M=setTimeout(k,function(j){var L=fe-(j-I);return r?h(L,R-(j-E)):L}(O))}function N(O){return M=void 0,o&&q?g(O):(q=U=void 0,B)}function W(){var O=x(),j=u(O);if(q=arguments,U=this,I=O,j){if(M===void 0)return s(I);if(r)return M=setTimeout(k,fe),g(I)}return M===void 0&&(M=setTimeout(k,fe)),B}return fe=he(fe)||0,le(X)&&(p=!!X.leading,R=(r="maxWait"in X)?_(he(X.maxWait)||0,fe):R,o="trailing"in X?!!X.trailing:o),W.cancel=function(){M!==void 0&&clearTimeout(M),E=0,q=I=U=M=void 0},W.flush=function(){return M===void 0?B:N(x())},W}function le(ve){var fe=typeof ve;return!!ve&&(fe=="object"||fe=="function")}function he(ve){if(typeof ve=="number")return ve;if(function(q){return typeof q=="symbol"||function(U){return!!U&&typeof U=="object"}(q)&&F.call(q)=="[object Symbol]"}(ve))return NaN;if(le(ve)){var fe=typeof ve.valueOf=="function"?ve.valueOf():ve;ve=le(fe)?fe+"":fe}if(typeof ve!="string")return ve===0?ve:+ve;ve=ve.replace(v,"");var X=b.test(ve);return X||T.test(ve)?S(ve.slice(2),X?2:8):d.test(ve)?NaN:+ve}te.exports=function(ve,fe,X){var q=!0,U=!0;if(typeof ve!="function")throw new TypeError(w);return le(X)&&(q="leading"in X?!!X.leading:q,U="trailing"in X?!!X.trailing:U),G(ve,fe,{leading:q,maxWait:fe,trailing:U})}},2744:function(te,t,e){var w={};(0,e(9187).assign)(w,e(4395),e(578),e(2684)),te.exports=w},4395:function(te,t,e){var w=e(6193),v=e(9187),d=e(8592),b=e(5604),T=e(249),S=Object.prototype.toString;function a(Z){if(!(this instanceof a))return new a(Z);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},Z||{});var F=this.options;F.raw&&F.windowBits>0?F.windowBits=-F.windowBits:F.gzip&&F.windowBits>0&&F.windowBits<16&&(F.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var _=w.deflateInit2(this.strm,F.level,F.method,F.windowBits,F.memLevel,F.strategy);if(_!==0)throw new Error(b[_]);if(F.header&&w.deflateSetHeader(this.strm,F.header),F.dictionary){var h;if(h=typeof F.dictionary=="string"?d.string2buf(F.dictionary):S.call(F.dictionary)==="[object ArrayBuffer]"?new Uint8Array(F.dictionary):F.dictionary,(_=w.deflateSetDictionary(this.strm,h))!==0)throw new Error(b[_]);this._dict_set=!0}}function c(Z,F){var _=new a(F);if(_.push(Z,!0),_.err)throw _.msg||b[_.err];return _.result}a.prototype.push=function(Z,F){var _,h,x=this.strm,G=this.options.chunkSize;if(this.ended)return!1;h=F===~~F?F:F===!0?4:0,typeof Z=="string"?x.input=d.string2buf(Z):S.call(Z)==="[object ArrayBuffer]"?x.input=new Uint8Array(Z):x.input=Z,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new v.Buf8(G),x.next_out=0,x.avail_out=G),(_=w.deflate(x,h))!==1&&_!==0)return this.onEnd(_),this.ended=!0,!1;x.avail_out!==0&&(x.avail_in!==0||h!==4&&h!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(v.shrinkBuf(x.output,x.next_out))):this.onData(v.shrinkBuf(x.output,x.next_out)))}while((x.avail_in>0||x.avail_out===0)&&_!==1);return h===4?(_=w.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===0):h!==2||(this.onEnd(0),x.avail_out=0,!0)},a.prototype.onData=function(Z){this.chunks.push(Z)},a.prototype.onEnd=function(Z){Z===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=Z,this.msg=this.strm.msg},t.Deflate=a,t.deflate=c,t.deflateRaw=function(Z,F){return(F=F||{}).raw=!0,c(Z,F)},t.gzip=function(Z,F){return(F=F||{}).gzip=!0,c(Z,F)}},578:function(te,t,e){var w=e(7823),v=e(9187),d=e(8592),b=e(2684),T=e(5604),S=e(249),a=e(9968),c=Object.prototype.toString;function Z(_){if(!(this instanceof Z))return new Z(_);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},_||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),!(h.windowBits>=0&&h.windowBits<16)||_&&_.windowBits||(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(15&h.windowBits)==0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var x=w.inflateInit2(this.strm,h.windowBits);if(x!==b.Z_OK)throw new Error(T[x]);if(this.header=new a,w.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=d.string2buf(h.dictionary):c.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(x=w.inflateSetDictionary(this.strm,h.dictionary))!==b.Z_OK))throw new Error(T[x])}function F(_,h){var x=new Z(h);if(x.push(_,!0),x.err)throw x.msg||T[x.err];return x.result}Z.prototype.push=function(_,h){var x,G,le,he,ve,fe=this.strm,X=this.options.chunkSize,q=this.options.dictionary,U=!1;if(this.ended)return!1;G=h===~~h?h:h===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof _=="string"?fe.input=d.binstring2buf(_):c.call(_)==="[object ArrayBuffer]"?fe.input=new Uint8Array(_):fe.input=_,fe.next_in=0,fe.avail_in=fe.input.length;do{if(fe.avail_out===0&&(fe.output=new v.Buf8(X),fe.next_out=0,fe.avail_out=X),(x=w.inflate(fe,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&q&&(x=w.inflateSetDictionary(this.strm,q)),x===b.Z_BUF_ERROR&&U===!0&&(x=b.Z_OK,U=!1),x!==b.Z_STREAM_END&&x!==b.Z_OK)return this.onEnd(x),this.ended=!0,!1;fe.next_out&&(fe.avail_out!==0&&x!==b.Z_STREAM_END&&(fe.avail_in!==0||G!==b.Z_FINISH&&G!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(le=d.utf8border(fe.output,fe.next_out),he=fe.next_out-le,ve=d.buf2string(fe.output,le),fe.next_out=he,fe.avail_out=X-he,he&&v.arraySet(fe.output,fe.output,le,he,0),this.onData(ve)):this.onData(v.shrinkBuf(fe.output,fe.next_out)))),fe.avail_in===0&&fe.avail_out===0&&(U=!0)}while((fe.avail_in>0||fe.avail_out===0)&&x!==b.Z_STREAM_END);return x===b.Z_STREAM_END&&(G=b.Z_FINISH),G===b.Z_FINISH?(x=w.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===b.Z_OK):G!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),fe.avail_out=0,!0)},Z.prototype.onData=function(_){this.chunks.push(_)},Z.prototype.onEnd=function(_){_===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},t.Inflate=Z,t.inflate=F,t.inflateRaw=function(_,h){return(h=h||{}).raw=!0,F(_,h)},t.ungzip=F},9187:function(te,t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function w(b,T){return Object.prototype.hasOwnProperty.call(b,T)}t.assign=function(b){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var S=T.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(var a in S)w(S,a)&&(b[a]=S[a])}}return b},t.shrinkBuf=function(b,T){return b.length===T?b:b.subarray?b.subarray(0,T):(b.length=T,b)};var v={arraySet:function(b,T,S,a,c){if(T.subarray&&b.subarray)b.set(T.subarray(S,S+a),c);else for(var Z=0;Z<a;Z++)b[c+Z]=T[S+Z]},flattenChunks:function(b){var T,S,a,c,Z,F;for(a=0,T=0,S=b.length;T<S;T++)a+=b[T].length;for(F=new Uint8Array(a),c=0,T=0,S=b.length;T<S;T++)Z=b[T],F.set(Z,c),c+=Z.length;return F}},d={arraySet:function(b,T,S,a,c){for(var Z=0;Z<a;Z++)b[c+Z]=T[S+Z]},flattenChunks:function(b){return[].concat.apply([],b)}};t.setTyped=function(b){b?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,v)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,d))},t.setTyped(e)},8592:function(te,t,e){var w=e(9187),v=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var b=new w.Buf8(256),T=0;T<256;T++)b[T]=T>=252?6:T>=248?5:T>=240?4:T>=224?3:T>=192?2:1;function S(a,c){if(c<65534&&(a.subarray&&d||!a.subarray&&v))return String.fromCharCode.apply(null,w.shrinkBuf(a,c));for(var Z="",F=0;F<c;F++)Z+=String.fromCharCode(a[F]);return Z}b[254]=b[254]=1,t.string2buf=function(a){var c,Z,F,_,h,x=a.length,G=0;for(_=0;_<x;_++)(64512&(Z=a.charCodeAt(_)))==55296&&_+1<x&&(64512&(F=a.charCodeAt(_+1)))==56320&&(Z=65536+(Z-55296<<10)+(F-56320),_++),G+=Z<128?1:Z<2048?2:Z<65536?3:4;for(c=new w.Buf8(G),h=0,_=0;h<G;_++)(64512&(Z=a.charCodeAt(_)))==55296&&_+1<x&&(64512&(F=a.charCodeAt(_+1)))==56320&&(Z=65536+(Z-55296<<10)+(F-56320),_++),Z<128?c[h++]=Z:Z<2048?(c[h++]=192|Z>>>6,c[h++]=128|63&Z):Z<65536?(c[h++]=224|Z>>>12,c[h++]=128|Z>>>6&63,c[h++]=128|63&Z):(c[h++]=240|Z>>>18,c[h++]=128|Z>>>12&63,c[h++]=128|Z>>>6&63,c[h++]=128|63&Z);return c},t.buf2binstring=function(a){return S(a,a.length)},t.binstring2buf=function(a){for(var c=new w.Buf8(a.length),Z=0,F=c.length;Z<F;Z++)c[Z]=a.charCodeAt(Z);return c},t.buf2string=function(a,c){var Z,F,_,h,x=c||a.length,G=new Array(2*x);for(F=0,Z=0;Z<x;)if((_=a[Z++])<128)G[F++]=_;else if((h=b[_])>4)G[F++]=65533,Z+=h-1;else{for(_&=h===2?31:h===3?15:7;h>1&&Z<x;)_=_<<6|63&a[Z++],h--;h>1?G[F++]=65533:_<65536?G[F++]=_:(_-=65536,G[F++]=55296|_>>10&1023,G[F++]=56320|1023&_)}return S(G,F)},t.utf8border=function(a,c){var Z;for((c=c||a.length)>a.length&&(c=a.length),Z=c-1;Z>=0&&(192&a[Z])==128;)Z--;return Z<0||Z===0?c:Z+b[a[Z]]>c?Z:c}},3693:function(te){te.exports=function(t,e,w,v){for(var d=65535&t|0,b=t>>>16&65535|0,T=0;w!==0;){w-=T=w>2e3?2e3:w;do b=b+(d=d+e[v++]|0)|0;while(--T);d%=65521,b%=65521}return d|b<<16|0}},2684:function(te){te.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(te){var t=function(){for(var e,w=[],v=0;v<256;v++){e=v;for(var d=0;d<8;d++)e=1&e?3988292384^e>>>1:e>>>1;w[v]=e}return w}();te.exports=function(e,w,v,d){var b=t,T=d+v;e^=-1;for(var S=d;S<T;S++)e=e>>>8^b[255&(e^w[S])];return-1^e}},6193:function(te,t,e){var w,v=e(9187),d=e(8676),b=e(3693),T=e(8464),S=e(5604),a=-2,c=258,Z=262,F=103,_=113,h=666;function x(o,g){return o.msg=S[g],g}function G(o){return(o<<1)-(o>4?9:0)}function le(o){for(var g=o.length;--g>=0;)o[g]=0}function he(o){var g=o.state,s=g.pending;s>o.avail_out&&(s=o.avail_out),s!==0&&(v.arraySet(o.output,g.pending_buf,g.pending_out,s,o.next_out),o.next_out+=s,g.pending_out+=s,o.total_out+=s,o.avail_out-=s,g.pending-=s,g.pending===0&&(g.pending_out=0))}function ve(o,g){d._tr_flush_block(o,o.block_start>=0?o.block_start:-1,o.strstart-o.block_start,g),o.block_start=o.strstart,he(o.strm)}function fe(o,g){o.pending_buf[o.pending++]=g}function X(o,g){o.pending_buf[o.pending++]=g>>>8&255,o.pending_buf[o.pending++]=255&g}function q(o,g){var s,u,k=o.max_chain_length,N=o.strstart,W=o.prev_length,O=o.nice_match,j=o.strstart>o.w_size-Z?o.strstart-(o.w_size-Z):0,L=o.window,V=o.w_mask,ie=o.prev,se=o.strstart+c,ue=L[N+W-1],pe=L[N+W];o.prev_length>=o.good_match&&(k>>=2),O>o.lookahead&&(O=o.lookahead);do if(L[(s=g)+W]===pe&&L[s+W-1]===ue&&L[s]===L[N]&&L[++s]===L[N+1]){N+=2,s++;do;while(L[++N]===L[++s]&&L[++N]===L[++s]&&L[++N]===L[++s]&&L[++N]===L[++s]&&L[++N]===L[++s]&&L[++N]===L[++s]&&L[++N]===L[++s]&&L[++N]===L[++s]&&N<se);if(u=c-(se-N),N=se-c,u>W){if(o.match_start=g,W=u,u>=O)break;ue=L[N+W-1],pe=L[N+W]}}while((g=ie[g&V])>j&&--k!=0);return W<=o.lookahead?W:o.lookahead}function U(o){var g,s,u,k,N,W,O,j,L,V,ie=o.w_size;do{if(k=o.window_size-o.lookahead-o.strstart,o.strstart>=ie+(ie-Z)){v.arraySet(o.window,o.window,ie,ie,0),o.match_start-=ie,o.strstart-=ie,o.block_start-=ie,g=s=o.hash_size;do u=o.head[--g],o.head[g]=u>=ie?u-ie:0;while(--s);g=s=ie;do u=o.prev[--g],o.prev[g]=u>=ie?u-ie:0;while(--s);k+=ie}if(o.strm.avail_in===0)break;if(W=o.strm,O=o.window,j=o.strstart+o.lookahead,L=k,V=void 0,(V=W.avail_in)>L&&(V=L),s=V===0?0:(W.avail_in-=V,v.arraySet(O,W.input,W.next_in,V,j),W.state.wrap===1?W.adler=b(W.adler,O,V,j):W.state.wrap===2&&(W.adler=T(W.adler,O,V,j)),W.next_in+=V,W.total_in+=V,V),o.lookahead+=s,o.lookahead+o.insert>=3)for(N=o.strstart-o.insert,o.ins_h=o.window[N],o.ins_h=(o.ins_h<<o.hash_shift^o.window[N+1])&o.hash_mask;o.insert&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[N+3-1])&o.hash_mask,o.prev[N&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=N,N++,o.insert--,!(o.lookahead+o.insert<3)););}while(o.lookahead<Z&&o.strm.avail_in!==0)}function R(o,g){for(var s,u;;){if(o.lookahead<Z){if(U(o),o.lookahead<Z&&g===0)return 1;if(o.lookahead===0)break}if(s=0,o.lookahead>=3&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+3-1])&o.hash_mask,s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),s!==0&&o.strstart-s<=o.w_size-Z&&(o.match_length=q(o,s)),o.match_length>=3)if(u=d._tr_tally(o,o.strstart-o.match_start,o.match_length-3),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=3){o.match_length--;do o.strstart++,o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+3-1])&o.hash_mask,s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart;while(--o.match_length!=0);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+1])&o.hash_mask;else u=d._tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(u&&(ve(o,!1),o.strm.avail_out===0))return 1}return o.insert=o.strstart<2?o.strstart:2,g===4?(ve(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(ve(o,!1),o.strm.avail_out===0)?1:2}function B(o,g){for(var s,u,k;;){if(o.lookahead<Z){if(U(o),o.lookahead<Z&&g===0)return 1;if(o.lookahead===0)break}if(s=0,o.lookahead>=3&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+3-1])&o.hash_mask,s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=2,s!==0&&o.prev_length<o.max_lazy_match&&o.strstart-s<=o.w_size-Z&&(o.match_length=q(o,s),o.match_length<=5&&(o.strategy===1||o.match_length===3&&o.strstart-o.match_start>4096)&&(o.match_length=2)),o.prev_length>=3&&o.match_length<=o.prev_length){k=o.strstart+o.lookahead-3,u=d._tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-3),o.lookahead-=o.prev_length-1,o.prev_length-=2;do++o.strstart<=k&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+3-1])&o.hash_mask,s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart);while(--o.prev_length!=0);if(o.match_available=0,o.match_length=2,o.strstart++,u&&(ve(o,!1),o.strm.avail_out===0))return 1}else if(o.match_available){if((u=d._tr_tally(o,0,o.window[o.strstart-1]))&&ve(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return 1}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(u=d._tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<2?o.strstart:2,g===4?(ve(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(ve(o,!1),o.strm.avail_out===0)?1:2}function M(o,g,s,u,k){this.good_length=o,this.max_lazy=g,this.nice_length=s,this.max_chain=u,this.func=k}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(o){var g;return o&&o.state?(o.total_in=o.total_out=0,o.data_type=2,(g=o.state).pending=0,g.pending_out=0,g.wrap<0&&(g.wrap=-g.wrap),g.status=g.wrap?42:_,o.adler=g.wrap===2?0:1,g.last_flush=0,d._tr_init(g),0):x(o,a)}function p(o){var g,s=E(o);return s===0&&((g=o.state).window_size=2*g.w_size,le(g.head),g.max_lazy_match=w[g.level].max_lazy,g.good_match=w[g.level].good_length,g.nice_match=w[g.level].nice_length,g.max_chain_length=w[g.level].max_chain,g.strstart=0,g.block_start=0,g.lookahead=0,g.insert=0,g.match_length=g.prev_length=2,g.match_available=0,g.ins_h=0),s}function r(o,g,s,u,k,N){if(!o)return a;var W=1;if(g===-1&&(g=6),u<0?(W=0,u=-u):u>15&&(W=2,u-=16),k<1||k>9||s!==8||u<8||u>15||g<0||g>9||N<0||N>4)return x(o,a);u===8&&(u=9);var O=new I;return o.state=O,O.strm=o,O.wrap=W,O.gzhead=null,O.w_bits=u,O.w_size=1<<O.w_bits,O.w_mask=O.w_size-1,O.hash_bits=k+7,O.hash_size=1<<O.hash_bits,O.hash_mask=O.hash_size-1,O.hash_shift=~~((O.hash_bits+3-1)/3),O.window=new v.Buf8(2*O.w_size),O.head=new v.Buf16(O.hash_size),O.prev=new v.Buf16(O.w_size),O.lit_bufsize=1<<k+6,O.pending_buf_size=4*O.lit_bufsize,O.pending_buf=new v.Buf8(O.pending_buf_size),O.d_buf=1*O.lit_bufsize,O.l_buf=3*O.lit_bufsize,O.level=g,O.strategy=N,O.method=s,p(o)}w=[new M(0,0,0,0,function(o,g){var s=65535;for(s>o.pending_buf_size-5&&(s=o.pending_buf_size-5);;){if(o.lookahead<=1){if(U(o),o.lookahead===0&&g===0)return 1;if(o.lookahead===0)break}o.strstart+=o.lookahead,o.lookahead=0;var u=o.block_start+s;if((o.strstart===0||o.strstart>=u)&&(o.lookahead=o.strstart-u,o.strstart=u,ve(o,!1),o.strm.avail_out===0)||o.strstart-o.block_start>=o.w_size-Z&&(ve(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,g===4?(ve(o,!0),o.strm.avail_out===0?3:4):(o.strstart>o.block_start&&(ve(o,!1),o.strm.avail_out),1)}),new M(4,4,8,4,R),new M(4,5,16,8,R),new M(4,6,32,32,R),new M(4,4,16,16,B),new M(8,16,32,32,B),new M(8,16,128,128,B),new M(8,32,128,256,B),new M(32,128,258,1024,B),new M(32,258,258,4096,B)],t.deflateInit=function(o,g){return r(o,g,8,15,8,0)},t.deflateInit2=r,t.deflateReset=p,t.deflateResetKeep=E,t.deflateSetHeader=function(o,g){return o&&o.state?o.state.wrap!==2?a:(o.state.gzhead=g,0):a},t.deflate=function(o,g){var s,u,k,N;if(!o||!o.state||g>5||g<0)return o?x(o,a):a;if(u=o.state,!o.output||!o.input&&o.avail_in!==0||u.status===h&&g!==4)return x(o,o.avail_out===0?-5:a);if(u.strm=o,s=u.last_flush,u.last_flush=g,u.status===42)if(u.wrap===2)o.adler=0,fe(u,31),fe(u,139),fe(u,8),u.gzhead?(fe(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),fe(u,255&u.gzhead.time),fe(u,u.gzhead.time>>8&255),fe(u,u.gzhead.time>>16&255),fe(u,u.gzhead.time>>24&255),fe(u,u.level===9?2:u.strategy>=2||u.level<2?4:0),fe(u,255&u.gzhead.os),u.gzhead.extra&&u.gzhead.extra.length&&(fe(u,255&u.gzhead.extra.length),fe(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(o.adler=T(o.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=69):(fe(u,0),fe(u,0),fe(u,0),fe(u,0),fe(u,0),fe(u,u.level===9?2:u.strategy>=2||u.level<2?4:0),fe(u,3),u.status=_);else{var W=8+(u.w_bits-8<<4)<<8;W|=(u.strategy>=2||u.level<2?0:u.level<6?1:u.level===6?2:3)<<6,u.strstart!==0&&(W|=32),W+=31-W%31,u.status=_,X(u,W),u.strstart!==0&&(X(u,o.adler>>>16),X(u,65535&o.adler)),o.adler=1}if(u.status===69)if(u.gzhead.extra){for(k=u.pending;u.gzindex<(65535&u.gzhead.extra.length)&&(u.pending!==u.pending_buf_size||(u.gzhead.hcrc&&u.pending>k&&(o.adler=T(o.adler,u.pending_buf,u.pending-k,k)),he(o),k=u.pending,u.pending!==u.pending_buf_size));)fe(u,255&u.gzhead.extra[u.gzindex]),u.gzindex++;u.gzhead.hcrc&&u.pending>k&&(o.adler=T(o.adler,u.pending_buf,u.pending-k,k)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=73)}else u.status=73;if(u.status===73)if(u.gzhead.name){k=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>k&&(o.adler=T(o.adler,u.pending_buf,u.pending-k,k)),he(o),k=u.pending,u.pending===u.pending_buf_size)){N=1;break}N=u.gzindex<u.gzhead.name.length?255&u.gzhead.name.charCodeAt(u.gzindex++):0,fe(u,N)}while(N!==0);u.gzhead.hcrc&&u.pending>k&&(o.adler=T(o.adler,u.pending_buf,u.pending-k,k)),N===0&&(u.gzindex=0,u.status=91)}else u.status=91;if(u.status===91)if(u.gzhead.comment){k=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>k&&(o.adler=T(o.adler,u.pending_buf,u.pending-k,k)),he(o),k=u.pending,u.pending===u.pending_buf_size)){N=1;break}N=u.gzindex<u.gzhead.comment.length?255&u.gzhead.comment.charCodeAt(u.gzindex++):0,fe(u,N)}while(N!==0);u.gzhead.hcrc&&u.pending>k&&(o.adler=T(o.adler,u.pending_buf,u.pending-k,k)),N===0&&(u.status=F)}else u.status=F;if(u.status===F&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&he(o),u.pending+2<=u.pending_buf_size&&(fe(u,255&o.adler),fe(u,o.adler>>8&255),o.adler=0,u.status=_)):u.status=_),u.pending!==0){if(he(o),o.avail_out===0)return u.last_flush=-1,0}else if(o.avail_in===0&&G(g)<=G(s)&&g!==4)return x(o,-5);if(u.status===h&&o.avail_in!==0)return x(o,-5);if(o.avail_in!==0||u.lookahead!==0||g!==0&&u.status!==h){var O=u.strategy===2?function(j,L){for(var V;;){if(j.lookahead===0&&(U(j),j.lookahead===0)){if(L===0)return 1;break}if(j.match_length=0,V=d._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++,V&&(ve(j,!1),j.strm.avail_out===0))return 1}return j.insert=0,L===4?(ve(j,!0),j.strm.avail_out===0?3:4):j.last_lit&&(ve(j,!1),j.strm.avail_out===0)?1:2}(u,g):u.strategy===3?function(j,L){for(var V,ie,se,ue,pe=j.window;;){if(j.lookahead<=c){if(U(j),j.lookahead<=c&&L===0)return 1;if(j.lookahead===0)break}if(j.match_length=0,j.lookahead>=3&&j.strstart>0&&(ie=pe[se=j.strstart-1])===pe[++se]&&ie===pe[++se]&&ie===pe[++se]){ue=j.strstart+c;do;while(ie===pe[++se]&&ie===pe[++se]&&ie===pe[++se]&&ie===pe[++se]&&ie===pe[++se]&&ie===pe[++se]&&ie===pe[++se]&&ie===pe[++se]&&se<ue);j.match_length=c-(ue-se),j.match_length>j.lookahead&&(j.match_length=j.lookahead)}if(j.match_length>=3?(V=d._tr_tally(j,1,j.match_length-3),j.lookahead-=j.match_length,j.strstart+=j.match_length,j.match_length=0):(V=d._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++),V&&(ve(j,!1),j.strm.avail_out===0))return 1}return j.insert=0,L===4?(ve(j,!0),j.strm.avail_out===0?3:4):j.last_lit&&(ve(j,!1),j.strm.avail_out===0)?1:2}(u,g):w[u.level].func(u,g);if(O!==3&&O!==4||(u.status=h),O===1||O===3)return o.avail_out===0&&(u.last_flush=-1),0;if(O===2&&(g===1?d._tr_align(u):g!==5&&(d._tr_stored_block(u,0,0,!1),g===3&&(le(u.head),u.lookahead===0&&(u.strstart=0,u.block_start=0,u.insert=0))),he(o),o.avail_out===0))return u.last_flush=-1,0}return g!==4?0:u.wrap<=0?1:(u.wrap===2?(fe(u,255&o.adler),fe(u,o.adler>>8&255),fe(u,o.adler>>16&255),fe(u,o.adler>>24&255),fe(u,255&o.total_in),fe(u,o.total_in>>8&255),fe(u,o.total_in>>16&255),fe(u,o.total_in>>24&255)):(X(u,o.adler>>>16),X(u,65535&o.adler)),he(o),u.wrap>0&&(u.wrap=-u.wrap),u.pending!==0?0:1)},t.deflateEnd=function(o){var g;return o&&o.state?(g=o.state.status)!==42&&g!==69&&g!==73&&g!==91&&g!==F&&g!==_&&g!==h?x(o,a):(o.state=null,g===_?x(o,-3):0):a},t.deflateSetDictionary=function(o,g){var s,u,k,N,W,O,j,L,V=g.length;if(!o||!o.state||(N=(s=o.state).wrap)===2||N===1&&s.status!==42||s.lookahead)return a;for(N===1&&(o.adler=b(o.adler,g,V,0)),s.wrap=0,V>=s.w_size&&(N===0&&(le(s.head),s.strstart=0,s.block_start=0,s.insert=0),L=new v.Buf8(s.w_size),v.arraySet(L,g,V-s.w_size,s.w_size,0),g=L,V=s.w_size),W=o.avail_in,O=o.next_in,j=o.input,o.avail_in=V,o.next_in=0,o.input=g,U(s);s.lookahead>=3;){u=s.strstart,k=s.lookahead-2;do s.ins_h=(s.ins_h<<s.hash_shift^s.window[u+3-1])&s.hash_mask,s.prev[u&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=u,u++;while(--k);s.strstart=u,s.lookahead=2,U(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=2,s.match_available=0,o.next_in=O,o.input=j,o.avail_in=W,s.wrap=N,0},t.deflateInfo="pako deflate (from Nodeca project)"},9968:function(te){te.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(te){te.exports=function(t,e){var w,v,d,b,T,S,a,c,Z,F,_,h,x,G,le,he,ve,fe,X,q,U,R,B,M,I;w=t.state,v=t.next_in,M=t.input,d=v+(t.avail_in-5),b=t.next_out,I=t.output,T=b-(e-t.avail_out),S=b+(t.avail_out-257),a=w.dmax,c=w.wsize,Z=w.whave,F=w.wnext,_=w.window,h=w.hold,x=w.bits,G=w.lencode,le=w.distcode,he=(1<<w.lenbits)-1,ve=(1<<w.distbits)-1;e:do{x<15&&(h+=M[v++]<<x,x+=8,h+=M[v++]<<x,x+=8),fe=G[h&he];t:for(;;){if(h>>>=X=fe>>>24,x-=X,(X=fe>>>16&255)===0)I[b++]=65535&fe;else{if(!(16&X)){if((64&X)==0){fe=G[(65535&fe)+(h&(1<<X)-1)];continue t}if(32&X){w.mode=12;break e}t.msg="invalid literal/length code",w.mode=30;break e}q=65535&fe,(X&=15)&&(x<X&&(h+=M[v++]<<x,x+=8),q+=h&(1<<X)-1,h>>>=X,x-=X),x<15&&(h+=M[v++]<<x,x+=8,h+=M[v++]<<x,x+=8),fe=le[h&ve];n:for(;;){if(h>>>=X=fe>>>24,x-=X,!(16&(X=fe>>>16&255))){if((64&X)==0){fe=le[(65535&fe)+(h&(1<<X)-1)];continue n}t.msg="invalid distance code",w.mode=30;break e}if(U=65535&fe,x<(X&=15)&&(h+=M[v++]<<x,(x+=8)<X&&(h+=M[v++]<<x,x+=8)),(U+=h&(1<<X)-1)>a){t.msg="invalid distance too far back",w.mode=30;break e}if(h>>>=X,x-=X,U>(X=b-T)){if((X=U-X)>Z&&w.sane){t.msg="invalid distance too far back",w.mode=30;break e}if(R=0,B=_,F===0){if(R+=c-X,X<q){q-=X;do I[b++]=_[R++];while(--X);R=b-U,B=I}}else if(F<X){if(R+=c+F-X,(X-=F)<q){q-=X;do I[b++]=_[R++];while(--X);if(R=0,F<q){q-=X=F;do I[b++]=_[R++];while(--X);R=b-U,B=I}}}else if(R+=F-X,X<q){q-=X;do I[b++]=_[R++];while(--X);R=b-U,B=I}for(;q>2;)I[b++]=B[R++],I[b++]=B[R++],I[b++]=B[R++],q-=3;q&&(I[b++]=B[R++],q>1&&(I[b++]=B[R++]))}else{R=b-U;do I[b++]=I[R++],I[b++]=I[R++],I[b++]=I[R++],q-=3;while(q>2);q&&(I[b++]=I[R++],q>1&&(I[b++]=I[R++]))}break}}break}}while(v<d&&b<S);v-=q=x>>3,h&=(1<<(x-=q<<3))-1,t.next_in=v,t.next_out=b,t.avail_in=v<d?d-v+5:5-(v-d),t.avail_out=b<S?S-b+257:257-(b-S),w.hold=h,w.bits=x}},7823:function(te,t,e){var w=e(9187),v=e(3693),d=e(8464),b=e(9365),T=e(6446),S=-2,a=12,c=30;function Z(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function F(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(q){var U;return q&&q.state?(U=q.state,q.total_in=q.total_out=U.total=0,q.msg="",U.wrap&&(q.adler=1&U.wrap),U.mode=1,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new w.Buf32(852),U.distcode=U.distdyn=new w.Buf32(592),U.sane=1,U.back=-1,0):S}function h(q){var U;return q&&q.state?((U=q.state).wsize=0,U.whave=0,U.wnext=0,_(q)):S}function x(q,U){var R,B;return q&&q.state?(B=q.state,U<0?(R=0,U=-U):(R=1+(U>>4),U<48&&(U&=15)),U&&(U<8||U>15)?S:(B.window!==null&&B.wbits!==U&&(B.window=null),B.wrap=R,B.wbits=U,h(q))):S}function G(q,U){var R,B;return q?(B=new F,q.state=B,B.window=null,(R=x(q,U))!==0&&(q.state=null),R):S}var le,he,ve=!0;function fe(q){if(ve){var U;for(le=new w.Buf32(512),he=new w.Buf32(32),U=0;U<144;)q.lens[U++]=8;for(;U<256;)q.lens[U++]=9;for(;U<280;)q.lens[U++]=7;for(;U<288;)q.lens[U++]=8;for(T(1,q.lens,0,288,le,0,q.work,{bits:9}),U=0;U<32;)q.lens[U++]=5;T(2,q.lens,0,32,he,0,q.work,{bits:5}),ve=!1}q.lencode=le,q.lenbits=9,q.distcode=he,q.distbits=5}function X(q,U,R,B){var M,I=q.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new w.Buf8(I.wsize)),B>=I.wsize?(w.arraySet(I.window,U,R-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):((M=I.wsize-I.wnext)>B&&(M=B),w.arraySet(I.window,U,R-B,M,I.wnext),(B-=M)?(w.arraySet(I.window,U,R-B,B,0),I.wnext=B,I.whave=I.wsize):(I.wnext+=M,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=M))),0}t.inflateReset=h,t.inflateReset2=x,t.inflateResetKeep=_,t.inflateInit=function(q){return G(q,15)},t.inflateInit2=G,t.inflate=function(q,U){var R,B,M,I,E,p,r,o,g,s,u,k,N,W,O,j,L,V,ie,se,ue,pe,Q,ee,me=0,Te=new w.Buf8(4),Ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!q||!q.state||!q.output||!q.input&&q.avail_in!==0)return S;(R=q.state).mode===a&&(R.mode=13),E=q.next_out,M=q.output,r=q.avail_out,I=q.next_in,B=q.input,p=q.avail_in,o=R.hold,g=R.bits,s=p,u=r,pe=0;e:for(;;)switch(R.mode){case 1:if(R.wrap===0){R.mode=13;break}for(;g<16;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}if(2&R.wrap&&o===35615){R.check=0,Te[0]=255&o,Te[1]=o>>>8&255,R.check=d(R.check,Te,2,0),o=0,g=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&o)<<8)+(o>>8))%31){q.msg="incorrect header check",R.mode=c;break}if((15&o)!=8){q.msg="unknown compression method",R.mode=c;break}if(g-=4,ue=8+(15&(o>>>=4)),R.wbits===0)R.wbits=ue;else if(ue>R.wbits){q.msg="invalid window size",R.mode=c;break}R.dmax=1<<ue,q.adler=R.check=1,R.mode=512&o?10:a,o=0,g=0;break;case 2:for(;g<16;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}if(R.flags=o,(255&R.flags)!=8){q.msg="unknown compression method",R.mode=c;break}if(57344&R.flags){q.msg="unknown header flags set",R.mode=c;break}R.head&&(R.head.text=o>>8&1),512&R.flags&&(Te[0]=255&o,Te[1]=o>>>8&255,R.check=d(R.check,Te,2,0)),o=0,g=0,R.mode=3;case 3:for(;g<32;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}R.head&&(R.head.time=o),512&R.flags&&(Te[0]=255&o,Te[1]=o>>>8&255,Te[2]=o>>>16&255,Te[3]=o>>>24&255,R.check=d(R.check,Te,4,0)),o=0,g=0,R.mode=4;case 4:for(;g<16;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}R.head&&(R.head.xflags=255&o,R.head.os=o>>8),512&R.flags&&(Te[0]=255&o,Te[1]=o>>>8&255,R.check=d(R.check,Te,2,0)),o=0,g=0,R.mode=5;case 5:if(1024&R.flags){for(;g<16;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}R.length=o,R.head&&(R.head.extra_len=o),512&R.flags&&(Te[0]=255&o,Te[1]=o>>>8&255,R.check=d(R.check,Te,2,0)),o=0,g=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&((k=R.length)>p&&(k=p),k&&(R.head&&(ue=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),w.arraySet(R.head.extra,B,I,k,ue)),512&R.flags&&(R.check=d(R.check,B,k,I)),p-=k,I+=k,R.length-=k),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(p===0)break e;k=0;do ue=B[I+k++],R.head&&ue&&R.length<65536&&(R.head.name+=String.fromCharCode(ue));while(ue&&k<p);if(512&R.flags&&(R.check=d(R.check,B,k,I)),p-=k,I+=k,ue)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(p===0)break e;k=0;do ue=B[I+k++],R.head&&ue&&R.length<65536&&(R.head.comment+=String.fromCharCode(ue));while(ue&&k<p);if(512&R.flags&&(R.check=d(R.check,B,k,I)),p-=k,I+=k,ue)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;g<16;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}if(o!==(65535&R.check)){q.msg="header crc mismatch",R.mode=c;break}o=0,g=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),q.adler=R.check=0,R.mode=a;break;case 10:for(;g<32;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}q.adler=R.check=Z(o),o=0,g=0,R.mode=11;case 11:if(R.havedict===0)return q.next_out=E,q.avail_out=r,q.next_in=I,q.avail_in=p,R.hold=o,R.bits=g,2;q.adler=R.check=1,R.mode=a;case a:if(U===5||U===6)break e;case 13:if(R.last){o>>>=7&g,g-=7&g,R.mode=27;break}for(;g<3;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}switch(R.last=1&o,g-=1,3&(o>>>=1)){case 0:R.mode=14;break;case 1:if(fe(R),R.mode=20,U===6){o>>>=2,g-=2;break e}break;case 2:R.mode=17;break;case 3:q.msg="invalid block type",R.mode=c}o>>>=2,g-=2;break;case 14:for(o>>>=7&g,g-=7&g;g<32;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}if((65535&o)!=(o>>>16^65535)){q.msg="invalid stored block lengths",R.mode=c;break}if(R.length=65535&o,o=0,g=0,R.mode=15,U===6)break e;case 15:R.mode=16;case 16:if(k=R.length){if(k>p&&(k=p),k>r&&(k=r),k===0)break e;w.arraySet(M,B,I,k,E),p-=k,I+=k,r-=k,E+=k,R.length-=k;break}R.mode=a;break;case 17:for(;g<14;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}if(R.nlen=257+(31&o),o>>>=5,g-=5,R.ndist=1+(31&o),o>>>=5,g-=5,R.ncode=4+(15&o),o>>>=4,g-=4,R.nlen>286||R.ndist>30){q.msg="too many length or distance symbols",R.mode=c;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;g<3;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}R.lens[Ue[R.have++]]=7&o,o>>>=3,g-=3}for(;R.have<19;)R.lens[Ue[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,Q={bits:R.lenbits},pe=T(0,R.lens,0,19,R.lencode,0,R.work,Q),R.lenbits=Q.bits,pe){q.msg="invalid code lengths set",R.mode=c;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;j=(me=R.lencode[o&(1<<R.lenbits)-1])>>>16&255,L=65535&me,!((O=me>>>24)<=g);){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}if(L<16)o>>>=O,g-=O,R.lens[R.have++]=L;else{if(L===16){for(ee=O+2;g<ee;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}if(o>>>=O,g-=O,R.have===0){q.msg="invalid bit length repeat",R.mode=c;break}ue=R.lens[R.have-1],k=3+(3&o),o>>>=2,g-=2}else if(L===17){for(ee=O+3;g<ee;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}g-=O,ue=0,k=3+(7&(o>>>=O)),o>>>=3,g-=3}else{for(ee=O+7;g<ee;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}g-=O,ue=0,k=11+(127&(o>>>=O)),o>>>=7,g-=7}if(R.have+k>R.nlen+R.ndist){q.msg="invalid bit length repeat",R.mode=c;break}for(;k--;)R.lens[R.have++]=ue}}if(R.mode===c)break;if(R.lens[256]===0){q.msg="invalid code -- missing end-of-block",R.mode=c;break}if(R.lenbits=9,Q={bits:R.lenbits},pe=T(1,R.lens,0,R.nlen,R.lencode,0,R.work,Q),R.lenbits=Q.bits,pe){q.msg="invalid literal/lengths set",R.mode=c;break}if(R.distbits=6,R.distcode=R.distdyn,Q={bits:R.distbits},pe=T(2,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,Q),R.distbits=Q.bits,pe){q.msg="invalid distances set",R.mode=c;break}if(R.mode=20,U===6)break e;case 20:R.mode=21;case 21:if(p>=6&&r>=258){q.next_out=E,q.avail_out=r,q.next_in=I,q.avail_in=p,R.hold=o,R.bits=g,b(q,u),E=q.next_out,M=q.output,r=q.avail_out,I=q.next_in,B=q.input,p=q.avail_in,o=R.hold,g=R.bits,R.mode===a&&(R.back=-1);break}for(R.back=0;j=(me=R.lencode[o&(1<<R.lenbits)-1])>>>16&255,L=65535&me,!((O=me>>>24)<=g);){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}if(j&&(240&j)==0){for(V=O,ie=j,se=L;j=(me=R.lencode[se+((o&(1<<V+ie)-1)>>V)])>>>16&255,L=65535&me,!(V+(O=me>>>24)<=g);){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}o>>>=V,g-=V,R.back+=V}if(o>>>=O,g-=O,R.back+=O,R.length=L,j===0){R.mode=26;break}if(32&j){R.back=-1,R.mode=a;break}if(64&j){q.msg="invalid literal/length code",R.mode=c;break}R.extra=15&j,R.mode=22;case 22:if(R.extra){for(ee=R.extra;g<ee;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}R.length+=o&(1<<R.extra)-1,o>>>=R.extra,g-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;j=(me=R.distcode[o&(1<<R.distbits)-1])>>>16&255,L=65535&me,!((O=me>>>24)<=g);){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}if((240&j)==0){for(V=O,ie=j,se=L;j=(me=R.distcode[se+((o&(1<<V+ie)-1)>>V)])>>>16&255,L=65535&me,!(V+(O=me>>>24)<=g);){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}o>>>=V,g-=V,R.back+=V}if(o>>>=O,g-=O,R.back+=O,64&j){q.msg="invalid distance code",R.mode=c;break}R.offset=L,R.extra=15&j,R.mode=24;case 24:if(R.extra){for(ee=R.extra;g<ee;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}R.offset+=o&(1<<R.extra)-1,o>>>=R.extra,g-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){q.msg="invalid distance too far back",R.mode=c;break}R.mode=25;case 25:if(r===0)break e;if(k=u-r,R.offset>k){if((k=R.offset-k)>R.whave&&R.sane){q.msg="invalid distance too far back",R.mode=c;break}k>R.wnext?(k-=R.wnext,N=R.wsize-k):N=R.wnext-k,k>R.length&&(k=R.length),W=R.window}else W=M,N=E-R.offset,k=R.length;k>r&&(k=r),r-=k,R.length-=k;do M[E++]=W[N++];while(--k);R.length===0&&(R.mode=21);break;case 26:if(r===0)break e;M[E++]=R.length,r--,R.mode=21;break;case 27:if(R.wrap){for(;g<32;){if(p===0)break e;p--,o|=B[I++]<<g,g+=8}if(u-=r,q.total_out+=u,R.total+=u,u&&(q.adler=R.check=R.flags?d(R.check,M,u,E-u):v(R.check,M,u,E-u)),u=r,(R.flags?o:Z(o))!==R.check){q.msg="incorrect data check",R.mode=c;break}o=0,g=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;g<32;){if(p===0)break e;p--,o+=B[I++]<<g,g+=8}if(o!==(4294967295&R.total)){q.msg="incorrect length check",R.mode=c;break}o=0,g=0}R.mode=29;case 29:pe=1;break e;case c:pe=-3;break e;case 31:return-4;default:return S}return q.next_out=E,q.avail_out=r,q.next_in=I,q.avail_in=p,R.hold=o,R.bits=g,(R.wsize||u!==q.avail_out&&R.mode<c&&(R.mode<27||U!==4))&&X(q,q.output,q.next_out,u-q.avail_out)?(R.mode=31,-4):(s-=q.avail_in,u-=q.avail_out,q.total_in+=s,q.total_out+=u,R.total+=u,R.wrap&&u&&(q.adler=R.check=R.flags?d(R.check,M,u,q.next_out-u):v(R.check,M,u,q.next_out-u)),q.data_type=R.bits+(R.last?64:0)+(R.mode===a?128:0)+(R.mode===20||R.mode===15?256:0),(s===0&&u===0||U===4)&&pe===0&&(pe=-5),pe)},t.inflateEnd=function(q){if(!q||!q.state)return S;var U=q.state;return U.window&&(U.window=null),q.state=null,0},t.inflateGetHeader=function(q,U){var R;return q&&q.state?(2&(R=q.state).wrap)==0?S:(R.head=U,U.done=!1,0):S},t.inflateSetDictionary=function(q,U){var R,B=U.length;return q&&q.state?(R=q.state).wrap!==0&&R.mode!==11?S:R.mode===11&&v(1,U,B,0)!==R.check?-3:X(q,U,B,B)?(R.mode=31,-4):(R.havedict=1,0):S},t.inflateInfo="pako inflate (from Nodeca project)"},6446:function(te,t,e){var w=e(9187),v=15,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],T=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],S=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];te.exports=function(a,c,Z,F,_,h,x,G){var le,he,ve,fe,X,q,U,R,B,M=G.bits,I=0,E=0,p=0,r=0,o=0,g=0,s=0,u=0,k=0,N=0,W=null,O=0,j=new w.Buf16(16),L=new w.Buf16(16),V=null,ie=0;for(I=0;I<=v;I++)j[I]=0;for(E=0;E<F;E++)j[c[Z+E]]++;for(o=M,r=v;r>=1&&j[r]===0;r--);if(o>r&&(o=r),r===0)return _[h++]=20971520,_[h++]=20971520,G.bits=1,0;for(p=1;p<r&&j[p]===0;p++);for(o<p&&(o=p),u=1,I=1;I<=v;I++)if(u<<=1,(u-=j[I])<0)return-1;if(u>0&&(a===0||r!==1))return-1;for(L[1]=0,I=1;I<v;I++)L[I+1]=L[I]+j[I];for(E=0;E<F;E++)c[Z+E]!==0&&(x[L[c[Z+E]]++]=E);if(a===0?(W=V=x,q=19):a===1?(W=d,O-=257,V=b,ie-=257,q=256):(W=T,V=S,q=-1),N=0,E=0,I=p,X=h,g=o,s=0,ve=-1,fe=(k=1<<o)-1,a===1&&k>852||a===2&&k>592)return 1;for(;;){U=I-s,x[E]<q?(R=0,B=x[E]):x[E]>q?(R=V[ie+x[E]],B=W[O+x[E]]):(R=96,B=0),le=1<<I-s,p=he=1<<g;do _[X+(N>>s)+(he-=le)]=U<<24|R<<16|B|0;while(he!==0);for(le=1<<I-1;N&le;)le>>=1;if(le!==0?(N&=le-1,N+=le):N=0,E++,--j[I]==0){if(I===r)break;I=c[Z+x[E]]}if(I>o&&(N&fe)!==ve){for(s===0&&(s=o),X+=p,u=1<<(g=I-s);g+s<r&&!((u-=j[g+s])<=0);)g++,u<<=1;if(k+=1<<g,a===1&&k>852||a===2&&k>592)return 1;_[ve=N&fe]=o<<24|g<<16|X-h|0}}return N!==0&&(_[X+N]=I-s<<24|4194304|0),G.bits=o,0}},5604:function(te){te.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(te,t,e){var w=e(9187);function v(L){for(var V=L.length;--V>=0;)L[V]=0}var d=256,b=286,T=30,S=15,a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=new Array(576);v(_);var h=new Array(60);v(h);var x=new Array(512);v(x);var G=new Array(256);v(G);var le=new Array(29);v(le);var he,ve,fe,X=new Array(T);function q(L,V,ie,se,ue){this.static_tree=L,this.extra_bits=V,this.extra_base=ie,this.elems=se,this.max_length=ue,this.has_stree=L&&L.length}function U(L,V){this.dyn_tree=L,this.max_code=0,this.stat_desc=V}function R(L){return L<256?x[L]:x[256+(L>>>7)]}function B(L,V){L.pending_buf[L.pending++]=255&V,L.pending_buf[L.pending++]=V>>>8&255}function M(L,V,ie){L.bi_valid>16-ie?(L.bi_buf|=V<<L.bi_valid&65535,B(L,L.bi_buf),L.bi_buf=V>>16-L.bi_valid,L.bi_valid+=ie-16):(L.bi_buf|=V<<L.bi_valid&65535,L.bi_valid+=ie)}function I(L,V,ie){M(L,ie[2*V],ie[2*V+1])}function E(L,V){var ie=0;do ie|=1&L,L>>>=1,ie<<=1;while(--V>0);return ie>>>1}function p(L,V,ie){var se,ue,pe=new Array(16),Q=0;for(se=1;se<=S;se++)pe[se]=Q=Q+ie[se-1]<<1;for(ue=0;ue<=V;ue++){var ee=L[2*ue+1];ee!==0&&(L[2*ue]=E(pe[ee]++,ee))}}function r(L){var V;for(V=0;V<b;V++)L.dyn_ltree[2*V]=0;for(V=0;V<T;V++)L.dyn_dtree[2*V]=0;for(V=0;V<19;V++)L.bl_tree[2*V]=0;L.dyn_ltree[512]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function o(L){L.bi_valid>8?B(L,L.bi_buf):L.bi_valid>0&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function g(L,V,ie,se){var ue=2*V,pe=2*ie;return L[ue]<L[pe]||L[ue]===L[pe]&&se[V]<=se[ie]}function s(L,V,ie){for(var se=L.heap[ie],ue=ie<<1;ue<=L.heap_len&&(ue<L.heap_len&&g(V,L.heap[ue+1],L.heap[ue],L.depth)&&ue++,!g(V,se,L.heap[ue],L.depth));)L.heap[ie]=L.heap[ue],ie=ue,ue<<=1;L.heap[ie]=se}function u(L,V,ie){var se,ue,pe,Q,ee=0;if(L.last_lit!==0)do se=L.pending_buf[L.d_buf+2*ee]<<8|L.pending_buf[L.d_buf+2*ee+1],ue=L.pending_buf[L.l_buf+ee],ee++,se===0?I(L,ue,V):(I(L,(pe=G[ue])+d+1,V),(Q=a[pe])!==0&&M(L,ue-=le[pe],Q),I(L,pe=R(--se),ie),(Q=c[pe])!==0&&M(L,se-=X[pe],Q));while(ee<L.last_lit);I(L,256,V)}function k(L,V){var ie,se,ue,pe=V.dyn_tree,Q=V.stat_desc.static_tree,ee=V.stat_desc.has_stree,me=V.stat_desc.elems,Te=-1;for(L.heap_len=0,L.heap_max=573,ie=0;ie<me;ie++)pe[2*ie]!==0?(L.heap[++L.heap_len]=Te=ie,L.depth[ie]=0):pe[2*ie+1]=0;for(;L.heap_len<2;)pe[2*(ue=L.heap[++L.heap_len]=Te<2?++Te:0)]=1,L.depth[ue]=0,L.opt_len--,ee&&(L.static_len-=Q[2*ue+1]);for(V.max_code=Te,ie=L.heap_len>>1;ie>=1;ie--)s(L,pe,ie);ue=me;do ie=L.heap[1],L.heap[1]=L.heap[L.heap_len--],s(L,pe,1),se=L.heap[1],L.heap[--L.heap_max]=ie,L.heap[--L.heap_max]=se,pe[2*ue]=pe[2*ie]+pe[2*se],L.depth[ue]=(L.depth[ie]>=L.depth[se]?L.depth[ie]:L.depth[se])+1,pe[2*ie+1]=pe[2*se+1]=ue,L.heap[1]=ue++,s(L,pe,1);while(L.heap_len>=2);L.heap[--L.heap_max]=L.heap[1],function(Ue,qe){var Ae,Oe,Ie,Re,ke,xe,ye=qe.dyn_tree,P=qe.max_code,l=qe.stat_desc.static_tree,f=qe.stat_desc.has_stree,D=qe.stat_desc.extra_bits,H=qe.stat_desc.extra_base,J=qe.stat_desc.max_length,re=0;for(Re=0;Re<=S;Re++)Ue.bl_count[Re]=0;for(ye[2*Ue.heap[Ue.heap_max]+1]=0,Ae=Ue.heap_max+1;Ae<573;Ae++)(Re=ye[2*ye[2*(Oe=Ue.heap[Ae])+1]+1]+1)>J&&(Re=J,re++),ye[2*Oe+1]=Re,Oe>P||(Ue.bl_count[Re]++,ke=0,Oe>=H&&(ke=D[Oe-H]),xe=ye[2*Oe],Ue.opt_len+=xe*(Re+ke),f&&(Ue.static_len+=xe*(l[2*Oe+1]+ke)));if(re!==0){do{for(Re=J-1;Ue.bl_count[Re]===0;)Re--;Ue.bl_count[Re]--,Ue.bl_count[Re+1]+=2,Ue.bl_count[J]--,re-=2}while(re>0);for(Re=J;Re!==0;Re--)for(Oe=Ue.bl_count[Re];Oe!==0;)(Ie=Ue.heap[--Ae])>P||(ye[2*Ie+1]!==Re&&(Ue.opt_len+=(Re-ye[2*Ie+1])*ye[2*Ie],ye[2*Ie+1]=Re),Oe--)}}(L,V),p(pe,Te,L.bl_count)}function N(L,V,ie){var se,ue,pe=-1,Q=V[1],ee=0,me=7,Te=4;for(Q===0&&(me=138,Te=3),V[2*(ie+1)+1]=65535,se=0;se<=ie;se++)ue=Q,Q=V[2*(se+1)+1],++ee<me&&ue===Q||(ee<Te?L.bl_tree[2*ue]+=ee:ue!==0?(ue!==pe&&L.bl_tree[2*ue]++,L.bl_tree[32]++):ee<=10?L.bl_tree[34]++:L.bl_tree[36]++,ee=0,pe=ue,Q===0?(me=138,Te=3):ue===Q?(me=6,Te=3):(me=7,Te=4))}function W(L,V,ie){var se,ue,pe=-1,Q=V[1],ee=0,me=7,Te=4;for(Q===0&&(me=138,Te=3),se=0;se<=ie;se++)if(ue=Q,Q=V[2*(se+1)+1],!(++ee<me&&ue===Q)){if(ee<Te)do I(L,ue,L.bl_tree);while(--ee!=0);else ue!==0?(ue!==pe&&(I(L,ue,L.bl_tree),ee--),I(L,16,L.bl_tree),M(L,ee-3,2)):ee<=10?(I(L,17,L.bl_tree),M(L,ee-3,3)):(I(L,18,L.bl_tree),M(L,ee-11,7));ee=0,pe=ue,Q===0?(me=138,Te=3):ue===Q?(me=6,Te=3):(me=7,Te=4)}}v(X);var O=!1;function j(L,V,ie,se){M(L,0+(se?1:0),3),function(ue,pe,Q,ee){o(ue),B(ue,Q),B(ue,~Q),w.arraySet(ue.pending_buf,ue.window,pe,Q,ue.pending),ue.pending+=Q}(L,V,ie)}t._tr_init=function(L){O||(function(){var V,ie,se,ue,pe,Q=new Array(16);for(se=0,ue=0;ue<28;ue++)for(le[ue]=se,V=0;V<1<<a[ue];V++)G[se++]=ue;for(G[se-1]=ue,pe=0,ue=0;ue<16;ue++)for(X[ue]=pe,V=0;V<1<<c[ue];V++)x[pe++]=ue;for(pe>>=7;ue<T;ue++)for(X[ue]=pe<<7,V=0;V<1<<c[ue]-7;V++)x[256+pe++]=ue;for(ie=0;ie<=S;ie++)Q[ie]=0;for(V=0;V<=143;)_[2*V+1]=8,V++,Q[8]++;for(;V<=255;)_[2*V+1]=9,V++,Q[9]++;for(;V<=279;)_[2*V+1]=7,V++,Q[7]++;for(;V<=287;)_[2*V+1]=8,V++,Q[8]++;for(p(_,287,Q),V=0;V<T;V++)h[2*V+1]=5,h[2*V]=E(V,5);he=new q(_,a,257,b,S),ve=new q(h,c,0,T,S),fe=new q(new Array(0),Z,0,19,7)}(),O=!0),L.l_desc=new U(L.dyn_ltree,he),L.d_desc=new U(L.dyn_dtree,ve),L.bl_desc=new U(L.bl_tree,fe),L.bi_buf=0,L.bi_valid=0,r(L)},t._tr_stored_block=j,t._tr_flush_block=function(L,V,ie,se){var ue,pe,Q=0;L.level>0?(L.strm.data_type===2&&(L.strm.data_type=function(ee){var me,Te=4093624447;for(me=0;me<=31;me++,Te>>>=1)if(1&Te&&ee.dyn_ltree[2*me]!==0)return 0;if(ee.dyn_ltree[18]!==0||ee.dyn_ltree[20]!==0||ee.dyn_ltree[26]!==0)return 1;for(me=32;me<d;me++)if(ee.dyn_ltree[2*me]!==0)return 1;return 0}(L)),k(L,L.l_desc),k(L,L.d_desc),Q=function(ee){var me;for(N(ee,ee.dyn_ltree,ee.l_desc.max_code),N(ee,ee.dyn_dtree,ee.d_desc.max_code),k(ee,ee.bl_desc),me=18;me>=3&&ee.bl_tree[2*F[me]+1]===0;me--);return ee.opt_len+=3*(me+1)+5+5+4,me}(L),ue=L.opt_len+3+7>>>3,(pe=L.static_len+3+7>>>3)<=ue&&(ue=pe)):ue=pe=ie+5,ie+4<=ue&&V!==-1?j(L,V,ie,se):L.strategy===4||pe===ue?(M(L,2+(se?1:0),3),u(L,_,h)):(M(L,4+(se?1:0),3),function(ee,me,Te,Ue){var qe;for(M(ee,me-257,5),M(ee,Te-1,5),M(ee,Ue-4,4),qe=0;qe<Ue;qe++)M(ee,ee.bl_tree[2*F[qe]+1],3);W(ee,ee.dyn_ltree,me-1),W(ee,ee.dyn_dtree,Te-1)}(L,L.l_desc.max_code+1,L.d_desc.max_code+1,Q+1),u(L,L.dyn_ltree,L.dyn_dtree)),r(L),se&&o(L)},t._tr_tally=function(L,V,ie){return L.pending_buf[L.d_buf+2*L.last_lit]=V>>>8&255,L.pending_buf[L.d_buf+2*L.last_lit+1]=255&V,L.pending_buf[L.l_buf+L.last_lit]=255&ie,L.last_lit++,V===0?L.dyn_ltree[2*ie]++:(L.matches++,V--,L.dyn_ltree[2*(G[ie]+d+1)]++,L.dyn_dtree[2*R(V)]++),L.last_lit===L.lit_bufsize-1},t._tr_align=function(L){M(L,2,3),I(L,256,_),function(V){V.bi_valid===16?(B(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):V.bi_valid>=8&&(V.pending_buf[V.pending++]=255&V.bi_buf,V.bi_buf>>=8,V.bi_valid-=8)}(L)}},249:function(te){te.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(te){te.exports=function(t){t.data&&t.name&&(t=t.data);for(var e=!0,w="",v="",d=0;d<t.length;d++){var b=t[d];if(e)b?v+=String.fromCharCode(b):e=!1;else{if(!b)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");w+=String.fromCharCode(b)}}return{keyword:v,text:w}}},9686:function(te){te.exports=function(t,e){if(t=String(t),e=String(e),!/^[\x00-\xFF]+$/.test(t)||!/^[\x00-\xFF]+$/.test(e))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(t.length>=80)throw new Error('Keyword "'+t+'" is longer than the 79-character limit imposed by the PNG specification');for(var w,v=t.length+e.length+1,d=new Uint8Array(v),b=0,T=0;T<t.length;T++){if(!(w=t.charCodeAt(T)))throw new Error("0x00 character is not permitted in tEXt keywords");d[b++]=w}d[b++]=0;for(var S=0;S<e.length;S++){if(!(w=e.charCodeAt(S)))throw new Error("0x00 character is not permitted in tEXt content");d[b++]=w}return{name:"tEXt",data:d}}},1194:function(te,t,e){t.encode=e(9686),t.decode=e(9066)},3434:function(te,t,e){var w=e(5714),v=e(6233);te.exports=function(S){var a,c=8,Z=c;for(a=0;a<S.length;a++)c+=S[a].data.length,c+=12;var F=new Uint8Array(c);for(F[0]=137,F[1]=80,F[2]=78,F[3]=71,F[4]=13,F[5]=10,F[6]=26,F[7]=10,a=0;a<S.length;a++){var _=S[a],h=_.name,x=_.data,G=x.length,le=[h.charCodeAt(0),h.charCodeAt(1),h.charCodeAt(2),h.charCodeAt(3)];T[0]=G,F[Z++]=d[3],F[Z++]=d[2],F[Z++]=d[1],F[Z++]=d[0],F[Z++]=le[0],F[Z++]=le[1],F[Z++]=le[2],F[Z++]=le[3];for(var he=0;he<G;)F[Z++]=x[he++];var ve=le.concat(w(x)),fe=v.buf(ve);b[0]=fe,F[Z++]=d[3],F[Z++]=d[2],F[Z++]=d[1],F[Z++]=d[0]}return F};var d=new Uint8Array(4),b=new Int32Array(d.buffer),T=new Uint32Array(d.buffer)},2983:function(te,t,e){var w=e(6233);te.exports=function(T){if(T[0]!==137)throw new Error("Invalid .png file header");if(T[1]!==80)throw new Error("Invalid .png file header");if(T[2]!==78)throw new Error("Invalid .png file header");if(T[3]!==71)throw new Error("Invalid .png file header");if(T[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(T[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(T[6]!==26)throw new Error("Invalid .png file header");if(T[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var S=!1,a=[],c=8;c<T.length;){v[3]=T[c++],v[2]=T[c++],v[1]=T[c++],v[0]=T[c++];var Z=b[0]+4,F=new Uint8Array(Z);F[0]=T[c++],F[1]=T[c++],F[2]=T[c++],F[3]=T[c++];var _=String.fromCharCode(F[0])+String.fromCharCode(F[1])+String.fromCharCode(F[2])+String.fromCharCode(F[3]);if(!a.length&&_!=="IHDR")throw new Error("IHDR header missing");if(_==="IEND"){S=!0,a.push({name:_,data:new Uint8Array(0)});break}for(var h=4;h<Z;h++)F[h]=T[c++];v[3]=T[c++],v[2]=T[c++],v[1]=T[c++],v[0]=T[c++];var x=d[0];if(w.buf(F)!==x)throw new Error("CRC values for "+_+" header do not match, PNG file is likely corrupted");var G=new Uint8Array(F.buffer.slice(4));a.push({name:_,data:G})}if(!S)throw new Error(".png file ended prematurely: no IEND header was found");return a};var v=new Uint8Array(4),d=new Int32Array(v.buffer),b=new Uint32Array(v.buffer)},1493:function(te,t,e){function w(c,Z){return Math.pow(c[0]-Z[0],2)+Math.pow(c[1]-Z[1],2)}function v(c,Z,F){const _=w(Z,F);if(_===0)return w(c,Z);let h=((c[0]-Z[0])*(F[0]-Z[0])+(c[1]-Z[1])*(F[1]-Z[1]))/_;return h=Math.max(0,Math.min(1,h)),w(c,d(Z,F,h))}function d(c,Z,F){return[c[0]+(Z[0]-c[0])*F,c[1]+(Z[1]-c[1])*F]}function b(c,Z,F,_){const h=_||[];if(function(le,he){const ve=le[he+0],fe=le[he+1],X=le[he+2],q=le[he+3];let U=3*fe[0]-2*ve[0]-q[0];U*=U;let R=3*fe[1]-2*ve[1]-q[1];R*=R;let B=3*X[0]-2*q[0]-ve[0];B*=B;let M=3*X[1]-2*q[1]-ve[1];return M*=M,U<B&&(U=B),R<M&&(R=M),U+R}(c,Z)<F){const le=c[Z+0];h.length?(x=h[h.length-1],G=le,Math.sqrt(w(x,G))>1&&h.push(le)):h.push(le),h.push(c[Z+3])}else{const le=c[Z+0],he=c[Z+1],ve=c[Z+2],fe=c[Z+3],X=d(le,he,.5),q=d(he,ve,.5),U=d(ve,fe,.5),R=d(X,q,.5),B=d(q,U,.5),M=d(R,B,.5);b([le,X,R,M],0,F,h),b([M,B,U,fe],0,F,h)}var x,G;return h}function T(c,Z){return S(c,0,c.length,Z)}function S(c,Z,F,_,h){const x=h||[],G=c[Z],le=c[F-1];let he=0,ve=1;for(let fe=Z+1;fe<F-1;++fe){const X=v(c[fe],G,le);X>he&&(he=X,ve=fe)}return Math.sqrt(he)>_?(S(c,Z,ve+1,_,x),S(c,ve,F,_,x)):(x.length||x.push(G),x.push(le)),x}function a(c,Z=.15,F){const _=[],h=(c.length-1)/3;for(let x=0;x<h;x++)b(c,3*x,Z,_);return F&&F>0?S(_,0,_.length,F):_}e.d(t,{og:function(){return T},sU:function(){return a}})},8128:function(te,t,e){function w(P,l,f){if(P&&P.length){const[D,H]=l,J=Math.PI/180*f,re=Math.cos(J),ae=Math.sin(J);for(const ge of P){const[_e,ze]=ge;ge[0]=(_e-D)*re-(ze-H)*ae+D,ge[1]=(_e-D)*ae+(ze-H)*re+H}}}function v(P,l){return P[0]===l[0]&&P[1]===l[1]}function d(P,l,f,D=1){const H=f,J=Math.max(l,.1),re=P[0]&&P[0][0]&&typeof P[0][0]=="number"?[P]:P,ae=[0,0];if(H)for(const _e of re)w(_e,ae,H);const ge=function(_e,ze,Je){const et=[];for(const Ee of _e){const Le=[...Ee];v(Le[0],Le[Le.length-1])||Le.push([Le[0][0],Le[0][1]]),Le.length>2&&et.push(Le)}const Ke=[];ze=Math.max(ze,.1);const tt=[];for(const Ee of et)for(let Le=0;Le<Ee.length-1;Le++){const Qe=Ee[Le],ct=Ee[Le+1];if(Qe[1]!==ct[1]){const bt=Math.min(Qe[1],ct[1]);tt.push({ymin:bt,ymax:Math.max(Qe[1],ct[1]),x:bt===Qe[1]?Qe[0]:ct[0],islope:(ct[0]-Qe[0])/(ct[1]-Qe[1])})}}if(tt.sort((Ee,Le)=>Ee.ymin<Le.ymin?-1:Ee.ymin>Le.ymin?1:Ee.x<Le.x?-1:Ee.x>Le.x?1:Ee.ymax===Le.ymax?0:(Ee.ymax-Le.ymax)/Math.abs(Ee.ymax-Le.ymax)),!tt.length)return Ke;let ut=[],ht=tt[0].ymin,He=0;for(;ut.length||tt.length;){if(tt.length){let Ee=-1;for(let Le=0;Le<tt.length&&!(tt[Le].ymin>ht);Le++)Ee=Le;tt.splice(0,Ee+1).forEach(Le=>{ut.push({s:ht,edge:Le})})}if(ut=ut.filter(Ee=>!(Ee.edge.ymax<=ht)),ut.sort((Ee,Le)=>Ee.edge.x===Le.edge.x?0:(Ee.edge.x-Le.edge.x)/Math.abs(Ee.edge.x-Le.edge.x)),(Je!==1||He%ze==0)&&ut.length>1)for(let Ee=0;Ee<ut.length;Ee+=2){const Le=Ee+1;if(Le>=ut.length)break;const Qe=ut[Ee].edge,ct=ut[Le].edge;Ke.push([[Math.round(Qe.x),ht],[Math.round(ct.x),ht]])}ht+=Je,ut.forEach(Ee=>{Ee.edge.x=Ee.edge.x+Je*Ee.edge.islope}),He++}return Ke}(re,J,D);if(H){for(const _e of re)w(_e,ae,-H);(function(_e,ze,Je){const et=[];_e.forEach(Ke=>et.push(...Ke)),w(et,ze,Je)})(ge,ae,-H)}return ge}function b(P,l){var f;const D=l.hachureAngle+90;let H=l.hachureGap;H<0&&(H=4*l.strokeWidth),H=Math.max(H,.1);let J=1;return l.roughness>=1&&(((f=l.randomizer)===null||f===void 0?void 0:f.next())||Math.random())>.7&&(J=H),d(P,H,D,J||1)}e.d(t,{V:function(){return ye}});class T{constructor(l){this.helper=l}fillPolygons(l,f){return this._fillPolygons(l,f)}_fillPolygons(l,f){const D=b(l,f);return{type:"fillSketch",ops:this.renderLines(D,f)}}renderLines(l,f){const D=[];for(const H of l)D.push(...this.helper.doubleLineOps(H[0][0],H[0][1],H[1][0],H[1][1],f));return D}}function S(P){const l=P[0],f=P[1];return Math.sqrt(Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2))}class a extends T{fillPolygons(l,f){let D=f.hachureGap;D<0&&(D=4*f.strokeWidth),D=Math.max(D,.1);const H=b(l,Object.assign({},f,{hachureGap:D})),J=Math.PI/180*f.hachureAngle,re=[],ae=.5*D*Math.cos(J),ge=.5*D*Math.sin(J);for(const[_e,ze]of H)S([_e,ze])&&re.push([[_e[0]-ae,_e[1]+ge],[...ze]],[[_e[0]+ae,_e[1]-ge],[...ze]]);return{type:"fillSketch",ops:this.renderLines(re,f)}}}class c extends T{fillPolygons(l,f){const D=this._fillPolygons(l,f),H=Object.assign({},f,{hachureAngle:f.hachureAngle+90}),J=this._fillPolygons(l,H);return D.ops=D.ops.concat(J.ops),D}}class Z{constructor(l){this.helper=l}fillPolygons(l,f){const D=b(l,f=Object.assign({},f,{hachureAngle:0}));return this.dotsOnLines(D,f)}dotsOnLines(l,f){const D=[];let H=f.hachureGap;H<0&&(H=4*f.strokeWidth),H=Math.max(H,.1);let J=f.fillWeight;J<0&&(J=f.strokeWidth/2);const re=H/4;for(const ae of l){const ge=S(ae),_e=ge/H,ze=Math.ceil(_e)-1,Je=ge-ze*H,et=(ae[0][0]+ae[1][0])/2-H/4,Ke=Math.min(ae[0][1],ae[1][1]);for(let tt=0;tt<ze;tt++){const ut=Ke+Je+tt*H,ht=et-re+2*Math.random()*re,He=ut-re+2*Math.random()*re,Ee=this.helper.ellipse(ht,He,J,J,f);D.push(...Ee.ops)}}return{type:"fillSketch",ops:D}}}class F{constructor(l){this.helper=l}fillPolygons(l,f){const D=b(l,f);return{type:"fillSketch",ops:this.dashedLine(D,f)}}dashedLine(l,f){const D=f.dashOffset<0?f.hachureGap<0?4*f.strokeWidth:f.hachureGap:f.dashOffset,H=f.dashGap<0?f.hachureGap<0?4*f.strokeWidth:f.hachureGap:f.dashGap,J=[];return l.forEach(re=>{const ae=S(re),ge=Math.floor(ae/(D+H)),_e=(ae+H-ge*(D+H))/2;let ze=re[0],Je=re[1];ze[0]>Je[0]&&(ze=re[1],Je=re[0]);const et=Math.atan((Je[1]-ze[1])/(Je[0]-ze[0]));for(let Ke=0;Ke<ge;Ke++){const tt=Ke*(D+H),ut=tt+D,ht=[ze[0]+tt*Math.cos(et)+_e*Math.cos(et),ze[1]+tt*Math.sin(et)+_e*Math.sin(et)],He=[ze[0]+ut*Math.cos(et)+_e*Math.cos(et),ze[1]+ut*Math.sin(et)+_e*Math.sin(et)];J.push(...this.helper.doubleLineOps(ht[0],ht[1],He[0],He[1],f))}}),J}}class _{constructor(l){this.helper=l}fillPolygons(l,f){const D=f.hachureGap<0?4*f.strokeWidth:f.hachureGap,H=f.zigzagOffset<0?D:f.zigzagOffset,J=b(l,f=Object.assign({},f,{hachureGap:D+H}));return{type:"fillSketch",ops:this.zigzagLines(J,H,f)}}zigzagLines(l,f,D){const H=[];return l.forEach(J=>{const re=S(J),ae=Math.round(re/(2*f));let ge=J[0],_e=J[1];ge[0]>_e[0]&&(ge=J[1],_e=J[0]);const ze=Math.atan((_e[1]-ge[1])/(_e[0]-ge[0]));for(let Je=0;Je<ae;Je++){const et=2*Je*f,Ke=2*(Je+1)*f,tt=Math.sqrt(2*Math.pow(f,2)),ut=[ge[0]+et*Math.cos(ze),ge[1]+et*Math.sin(ze)],ht=[ge[0]+Ke*Math.cos(ze),ge[1]+Ke*Math.sin(ze)],He=[ut[0]+tt*Math.cos(ze+Math.PI/4),ut[1]+tt*Math.sin(ze+Math.PI/4)];H.push(...this.helper.doubleLineOps(ut[0],ut[1],He[0],He[1],D),...this.helper.doubleLineOps(He[0],He[1],ht[0],ht[1],D))}}),H}}const h={};var x=e(8152);const G={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function le(P,l){return P.type===l}function he(P){const l=[],f=function(re){const ae=new Array;for(;re!=="";)if(re.match(/^([ \t\r\n,]+)/))re=re.substr(RegExp.$1.length);else if(re.match(/^([aAcChHlLmMqQsStTvVzZ])/))ae[ae.length]={type:0,text:RegExp.$1},re=re.substr(RegExp.$1.length);else{if(!re.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];ae[ae.length]={type:1,text:`${parseFloat(RegExp.$1)}`},re=re.substr(RegExp.$1.length)}return ae[ae.length]={type:2,text:""},ae}(P);let D="BOD",H=0,J=f[H];for(;!le(J,2);){let re=0;const ae=[];if(D==="BOD"){if(J.text!=="M"&&J.text!=="m")return he("M0,0"+P);H++,re=G[J.text],D=J.text}else le(J,1)?re=G[D]:(H++,re=G[J.text],D=J.text);if(!(H+re<f.length))throw new Error("Path data ended short");for(let ge=H;ge<H+re;ge++){const _e=f[ge];if(!le(_e,1))throw new Error("Param not a number: "+D+","+_e.text);ae[ae.length]=+_e.text}if(typeof G[D]!="number")throw new Error("Bad segment: "+D);{const ge={key:D,data:ae};l.push(ge),H+=re,J=f[H],D==="M"&&(D="L"),D==="m"&&(D="l")}}return l}function ve(P){let l=0,f=0,D=0,H=0;const J=[];for(const{key:re,data:ae}of P)switch(re){case"M":J.push({key:"M",data:[...ae]}),[l,f]=ae,[D,H]=ae;break;case"m":l+=ae[0],f+=ae[1],J.push({key:"M",data:[l,f]}),D=l,H=f;break;case"L":J.push({key:"L",data:[...ae]}),[l,f]=ae;break;case"l":l+=ae[0],f+=ae[1],J.push({key:"L",data:[l,f]});break;case"C":J.push({key:"C",data:[...ae]}),l=ae[4],f=ae[5];break;case"c":{const ge=ae.map((_e,ze)=>ze%2?_e+f:_e+l);J.push({key:"C",data:ge}),l=ge[4],f=ge[5];break}case"Q":J.push({key:"Q",data:[...ae]}),l=ae[2],f=ae[3];break;case"q":{const ge=ae.map((_e,ze)=>ze%2?_e+f:_e+l);J.push({key:"Q",data:ge}),l=ge[2],f=ge[3];break}case"A":J.push({key:"A",data:[...ae]}),l=ae[5],f=ae[6];break;case"a":l+=ae[5],f+=ae[6],J.push({key:"A",data:[ae[0],ae[1],ae[2],ae[3],ae[4],l,f]});break;case"H":J.push({key:"H",data:[...ae]}),l=ae[0];break;case"h":l+=ae[0],J.push({key:"H",data:[l]});break;case"V":J.push({key:"V",data:[...ae]}),f=ae[0];break;case"v":f+=ae[0],J.push({key:"V",data:[f]});break;case"S":J.push({key:"S",data:[...ae]}),l=ae[2],f=ae[3];break;case"s":{const ge=ae.map((_e,ze)=>ze%2?_e+f:_e+l);J.push({key:"S",data:ge}),l=ge[2],f=ge[3];break}case"T":J.push({key:"T",data:[...ae]}),l=ae[0],f=ae[1];break;case"t":l+=ae[0],f+=ae[1],J.push({key:"T",data:[l,f]});break;case"Z":case"z":J.push({key:"Z",data:[]}),l=D,f=H}return J}function fe(P){const l=[];let f="",D=0,H=0,J=0,re=0,ae=0,ge=0;for(const{key:_e,data:ze}of P){switch(_e){case"M":l.push({key:"M",data:[...ze]}),[D,H]=ze,[J,re]=ze;break;case"C":l.push({key:"C",data:[...ze]}),D=ze[4],H=ze[5],ae=ze[2],ge=ze[3];break;case"L":l.push({key:"L",data:[...ze]}),[D,H]=ze;break;case"H":D=ze[0],l.push({key:"L",data:[D,H]});break;case"V":H=ze[0],l.push({key:"L",data:[D,H]});break;case"S":{let Je=0,et=0;f==="C"||f==="S"?(Je=D+(D-ae),et=H+(H-ge)):(Je=D,et=H),l.push({key:"C",data:[Je,et,...ze]}),ae=ze[0],ge=ze[1],D=ze[2],H=ze[3];break}case"T":{const[Je,et]=ze;let Ke=0,tt=0;f==="Q"||f==="T"?(Ke=D+(D-ae),tt=H+(H-ge)):(Ke=D,tt=H);const ut=D+2*(Ke-D)/3,ht=H+2*(tt-H)/3,He=Je+2*(Ke-Je)/3,Ee=et+2*(tt-et)/3;l.push({key:"C",data:[ut,ht,He,Ee,Je,et]}),ae=Ke,ge=tt,D=Je,H=et;break}case"Q":{const[Je,et,Ke,tt]=ze,ut=D+2*(Je-D)/3,ht=H+2*(et-H)/3,He=Ke+2*(Je-Ke)/3,Ee=tt+2*(et-tt)/3;l.push({key:"C",data:[ut,ht,He,Ee,Ke,tt]}),ae=Je,ge=et,D=Ke,H=tt;break}case"A":{const Je=Math.abs(ze[0]),et=Math.abs(ze[1]),Ke=ze[2],tt=ze[3],ut=ze[4],ht=ze[5],He=ze[6];Je===0||et===0?(l.push({key:"C",data:[D,H,ht,He,ht,He]}),D=ht,H=He):(D!==ht||H!==He)&&(q(D,H,ht,He,Je,et,Ke,tt,ut).forEach(function(Ee){l.push({key:"C",data:Ee})}),D=ht,H=He);break}case"Z":l.push({key:"Z",data:[]}),D=J,H=re}f=_e}return l}function X(P,l,f){return[P*Math.cos(f)-l*Math.sin(f),P*Math.sin(f)+l*Math.cos(f)]}function q(P,l,f,D,H,J,re,ae,ge,_e){const ze=(Je=re,Math.PI*Je/180);var Je;let et=[],Ke=0,tt=0,ut=0,ht=0;if(_e)[Ke,tt,ut,ht]=_e;else{[P,l]=X(P,l,-ze),[f,D]=X(f,D,-ze);const Xt=(P-f)/2,on=(l-D)/2;let jn=Xt*Xt/(H*H)+on*on/(J*J);jn>1&&(jn=Math.sqrt(jn),H*=jn,J*=jn);const It=H*H,kt=J*J,Ht=It*kt-It*on*on-kt*Xt*Xt,At=It*on*on+kt*Xt*Xt,Wt=(ae===ge?-1:1)*Math.sqrt(Math.abs(Ht/At));ut=Wt*H*on/J+(P+f)/2,ht=Wt*-J*Xt/H+(l+D)/2,Ke=Math.asin(parseFloat(((l-ht)/J).toFixed(9))),tt=Math.asin(parseFloat(((D-ht)/J).toFixed(9))),P<ut&&(Ke=Math.PI-Ke),f<ut&&(tt=Math.PI-tt),Ke<0&&(Ke=2*Math.PI+Ke),tt<0&&(tt=2*Math.PI+tt),ge&&Ke>tt&&(Ke-=2*Math.PI),!ge&&tt>Ke&&(tt-=2*Math.PI)}let He=tt-Ke;if(Math.abs(He)>120*Math.PI/180){const Xt=tt,on=f,jn=D;tt=ge&&tt>Ke?Ke+120*Math.PI/180*1:Ke+120*Math.PI/180*-1,et=q(f=ut+H*Math.cos(tt),D=ht+J*Math.sin(tt),on,jn,H,J,re,0,ge,[tt,Xt,ut,ht])}He=tt-Ke;const Ee=Math.cos(Ke),Le=Math.sin(Ke),Qe=Math.cos(tt),ct=Math.sin(tt),bt=Math.tan(He/4),wt=4/3*H*bt,zt=4/3*J*bt,Mt=[P,l],Zt=[P+wt*Le,l-zt*Ee],sn=[f+wt*ct,D-zt*Qe],rn=[f,D];if(Zt[0]=2*Mt[0]-Zt[0],Zt[1]=2*Mt[1]-Zt[1],_e)return[Zt,sn,rn].concat(et);{et=[Zt,sn,rn].concat(et);const Xt=[];for(let on=0;on<et.length;on+=3){const jn=X(et[on][0],et[on][1],ze),It=X(et[on+1][0],et[on+1][1],ze),kt=X(et[on+2][0],et[on+2][1],ze);Xt.push([jn[0],jn[1],It[0],It[1],kt[0],kt[1]])}return Xt}}const U={randOffset:function(P,l){return N(P,l)},randOffsetWithRange:function(P,l,f){return k(P,l,f)},ellipse:function(P,l,f,D,H){const J=E(f,D,H);return p(P,l,H,J).opset},doubleLineOps:function(P,l,f,D,H){return W(P,l,f,D,H,!0)}};function R(P,l,f,D,H){return{type:"path",ops:W(P,l,f,D,H)}}function B(P,l,f){const D=(P||[]).length;if(D>2){const H=[];for(let J=0;J<D-1;J++)H.push(...W(P[J][0],P[J][1],P[J+1][0],P[J+1][1],f));return l&&H.push(...W(P[D-1][0],P[D-1][1],P[0][0],P[0][1],f)),{type:"path",ops:H}}return D===2?R(P[0][0],P[0][1],P[1][0],P[1][1],f):{type:"path",ops:[]}}function M(P,l,f,D,H){return function(J,re){return B(J,!0,re)}([[P,l],[P+f,l],[P+f,l+D],[P,l+D]],H)}function I(P,l){let f=j(P,1*(1+.2*l.roughness),l);if(!l.disableMultiStroke){const D=j(P,1.5*(1+.22*l.roughness),function(H){const J=Object.assign({},H);return J.randomizer=void 0,H.seed&&(J.seed=H.seed+1),J}(l));f=f.concat(D)}return{type:"path",ops:f}}function E(P,l,f){const D=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(P/2,2)+Math.pow(l/2,2))/2)),H=Math.ceil(Math.max(f.curveStepCount,f.curveStepCount/Math.sqrt(200)*D)),J=2*Math.PI/H;let re=Math.abs(P/2),ae=Math.abs(l/2);const ge=1-f.curveFitting;return re+=N(re*ge,f),ae+=N(ae*ge,f),{increment:J,rx:re,ry:ae}}function p(P,l,f,D){const[H,J]=V(D.increment,P,l,D.rx,D.ry,1,D.increment*k(.1,k(.4,1,f),f),f);let re=L(H,null,f);if(!f.disableMultiStroke&&f.roughness!==0){const[ae]=V(D.increment,P,l,D.rx,D.ry,1.5,0,f),ge=L(ae,null,f);re=re.concat(ge)}return{estimatedPoints:J,opset:{type:"path",ops:re}}}function r(P,l,f,D,H,J,re,ae,ge){const _e=P,ze=l;let Je=Math.abs(f/2),et=Math.abs(D/2);Je+=N(.01*Je,ge),et+=N(.01*et,ge);let Ke=H,tt=J;for(;Ke<0;)Ke+=2*Math.PI,tt+=2*Math.PI;tt-Ke>2*Math.PI&&(Ke=0,tt=2*Math.PI);const ut=2*Math.PI/ge.curveStepCount,ht=Math.min(ut/2,(tt-Ke)/2),He=ie(ht,_e,ze,Je,et,Ke,tt,1,ge);if(!ge.disableMultiStroke){const Ee=ie(ht,_e,ze,Je,et,Ke,tt,1.5,ge);He.push(...Ee)}return re&&(ae?He.push(...W(_e,ze,_e+Je*Math.cos(Ke),ze+et*Math.sin(Ke),ge),...W(_e,ze,_e+Je*Math.cos(tt),ze+et*Math.sin(tt),ge)):He.push({op:"lineTo",data:[_e,ze]},{op:"lineTo",data:[_e+Je*Math.cos(Ke),ze+et*Math.sin(Ke)]})),{type:"path",ops:He}}function o(P,l){const f=fe(ve(he(P))),D=[];let H=[0,0],J=[0,0];for(const{key:re,data:ae}of f)switch(re){case"M":J=[ae[0],ae[1]],H=[ae[0],ae[1]];break;case"L":D.push(...W(J[0],J[1],ae[0],ae[1],l)),J=[ae[0],ae[1]];break;case"C":{const[ge,_e,ze,Je,et,Ke]=ae;D.push(...se(ge,_e,ze,Je,et,Ke,J,l)),J=[et,Ke];break}case"Z":D.push(...W(J[0],J[1],H[0],H[1],l)),J=[H[0],H[1]]}return{type:"path",ops:D}}function g(P,l){const f=[];for(const D of P)if(D.length){const H=l.maxRandomnessOffset||0,J=D.length;if(J>2){f.push({op:"move",data:[D[0][0]+N(H,l),D[0][1]+N(H,l)]});for(let re=1;re<J;re++)f.push({op:"lineTo",data:[D[re][0]+N(H,l),D[re][1]+N(H,l)]})}}return{type:"fillPath",ops:f}}function s(P,l){return function(f,D){let H=f.fillStyle||"hachure";if(!h[H])switch(H){case"zigzag":h[H]||(h[H]=new a(D));break;case"cross-hatch":h[H]||(h[H]=new c(D));break;case"dots":h[H]||(h[H]=new Z(D));break;case"dashed":h[H]||(h[H]=new F(D));break;case"zigzag-line":h[H]||(h[H]=new _(D));break;default:H="hachure",h[H]||(h[H]=new T(D))}return h[H]}(l,U).fillPolygons(P,l)}function u(P){return P.randomizer||(P.randomizer=new x.k(P.seed||0)),P.randomizer.next()}function k(P,l,f,D=1){return f.roughness*D*(u(f)*(l-P)+P)}function N(P,l,f=1){return k(-P,P,l,f)}function W(P,l,f,D,H,J=!1){const re=J?H.disableMultiStrokeFill:H.disableMultiStroke,ae=O(P,l,f,D,H,!0,!1);if(re)return ae;const ge=O(P,l,f,D,H,!0,!0);return ae.concat(ge)}function O(P,l,f,D,H,J,re){const ae=Math.pow(P-f,2)+Math.pow(l-D,2),ge=Math.sqrt(ae);let _e=1;_e=ge<200?1:ge>500?.4:-.0016668*ge+1.233334;let ze=H.maxRandomnessOffset||0;ze*ze*100>ae&&(ze=ge/10);const Je=ze/2,et=.2+.2*u(H);let Ke=H.bowing*H.maxRandomnessOffset*(D-l)/200,tt=H.bowing*H.maxRandomnessOffset*(P-f)/200;Ke=N(Ke,H,_e),tt=N(tt,H,_e);const ut=[],ht=()=>N(Je,H,_e),He=()=>N(ze,H,_e),Ee=H.preserveVertices;return re?ut.push({op:"move",data:[P+(Ee?0:ht()),l+(Ee?0:ht())]}):ut.push({op:"move",data:[P+(Ee?0:N(ze,H,_e)),l+(Ee?0:N(ze,H,_e))]}),re?ut.push({op:"bcurveTo",data:[Ke+P+(f-P)*et+ht(),tt+l+(D-l)*et+ht(),Ke+P+2*(f-P)*et+ht(),tt+l+2*(D-l)*et+ht(),f+(Ee?0:ht()),D+(Ee?0:ht())]}):ut.push({op:"bcurveTo",data:[Ke+P+(f-P)*et+He(),tt+l+(D-l)*et+He(),Ke+P+2*(f-P)*et+He(),tt+l+2*(D-l)*et+He(),f+(Ee?0:He()),D+(Ee?0:He())]}),ut}function j(P,l,f){const D=[];D.push([P[0][0]+N(l,f),P[0][1]+N(l,f)]),D.push([P[0][0]+N(l,f),P[0][1]+N(l,f)]);for(let H=1;H<P.length;H++)D.push([P[H][0]+N(l,f),P[H][1]+N(l,f)]),H===P.length-1&&D.push([P[H][0]+N(l,f),P[H][1]+N(l,f)]);return L(D,null,f)}function L(P,l,f){const D=P.length,H=[];if(D>3){const J=[],re=1-f.curveTightness;H.push({op:"move",data:[P[1][0],P[1][1]]});for(let ae=1;ae+2<D;ae++){const ge=P[ae];J[0]=[ge[0],ge[1]],J[1]=[ge[0]+(re*P[ae+1][0]-re*P[ae-1][0])/6,ge[1]+(re*P[ae+1][1]-re*P[ae-1][1])/6],J[2]=[P[ae+1][0]+(re*P[ae][0]-re*P[ae+2][0])/6,P[ae+1][1]+(re*P[ae][1]-re*P[ae+2][1])/6],J[3]=[P[ae+1][0],P[ae+1][1]],H.push({op:"bcurveTo",data:[J[1][0],J[1][1],J[2][0],J[2][1],J[3][0],J[3][1]]})}}else D===3?(H.push({op:"move",data:[P[1][0],P[1][1]]}),H.push({op:"bcurveTo",data:[P[1][0],P[1][1],P[2][0],P[2][1],P[2][0],P[2][1]]})):D===2&&H.push(...W(P[0][0],P[0][1],P[1][0],P[1][1],f));return H}function V(P,l,f,D,H,J,re,ae){const ge=[],_e=[];if(ae.roughness===0){P/=4,_e.push([l+D*Math.cos(-P),f+H*Math.sin(-P)]);for(let ze=0;ze<=2*Math.PI;ze+=P){const Je=[l+D*Math.cos(ze),f+H*Math.sin(ze)];ge.push(Je),_e.push(Je)}_e.push([l+D*Math.cos(0),f+H*Math.sin(0)]),_e.push([l+D*Math.cos(P),f+H*Math.sin(P)])}else{const ze=N(.5,ae)-Math.PI/2;_e.push([N(J,ae)+l+.9*D*Math.cos(ze-P),N(J,ae)+f+.9*H*Math.sin(ze-P)]);const Je=2*Math.PI+ze-.01;for(let et=ze;et<Je;et+=P){const Ke=[N(J,ae)+l+D*Math.cos(et),N(J,ae)+f+H*Math.sin(et)];ge.push(Ke),_e.push(Ke)}_e.push([N(J,ae)+l+D*Math.cos(ze+2*Math.PI+.5*re),N(J,ae)+f+H*Math.sin(ze+2*Math.PI+.5*re)]),_e.push([N(J,ae)+l+.98*D*Math.cos(ze+re),N(J,ae)+f+.98*H*Math.sin(ze+re)]),_e.push([N(J,ae)+l+.9*D*Math.cos(ze+.5*re),N(J,ae)+f+.9*H*Math.sin(ze+.5*re)])}return[_e,ge]}function ie(P,l,f,D,H,J,re,ae,ge){const _e=J+N(.1,ge),ze=[];ze.push([N(ae,ge)+l+.9*D*Math.cos(_e-P),N(ae,ge)+f+.9*H*Math.sin(_e-P)]);for(let Je=_e;Je<=re;Je+=P)ze.push([N(ae,ge)+l+D*Math.cos(Je),N(ae,ge)+f+H*Math.sin(Je)]);return ze.push([l+D*Math.cos(re),f+H*Math.sin(re)]),ze.push([l+D*Math.cos(re),f+H*Math.sin(re)]),L(ze,null,ge)}function se(P,l,f,D,H,J,re,ae){const ge=[],_e=[ae.maxRandomnessOffset||1,(ae.maxRandomnessOffset||1)+.3];let ze=[0,0];const Je=ae.disableMultiStroke?1:2,et=ae.preserveVertices;for(let Ke=0;Ke<Je;Ke++)Ke===0?ge.push({op:"move",data:[re[0],re[1]]}):ge.push({op:"move",data:[re[0]+(et?0:N(_e[0],ae)),re[1]+(et?0:N(_e[0],ae))]}),ze=et?[H,J]:[H+N(_e[Ke],ae),J+N(_e[Ke],ae)],ge.push({op:"bcurveTo",data:[P+N(_e[Ke],ae),l+N(_e[Ke],ae),f+N(_e[Ke],ae),D+N(_e[Ke],ae),ze[0],ze[1]]});return ge}function ue(P){return[...P]}function pe(P,l){return Math.pow(P[0]-l[0],2)+Math.pow(P[1]-l[1],2)}function Q(P,l,f){const D=pe(l,f);if(D===0)return pe(P,l);let H=((P[0]-l[0])*(f[0]-l[0])+(P[1]-l[1])*(f[1]-l[1]))/D;return H=Math.max(0,Math.min(1,H)),pe(P,ee(l,f,H))}function ee(P,l,f){return[P[0]+(l[0]-P[0])*f,P[1]+(l[1]-P[1])*f]}function me(P,l,f,D){const H=D||[];if(function(ae,ge){const _e=ae[ge+0],ze=ae[ge+1],Je=ae[ge+2],et=ae[ge+3];let Ke=3*ze[0]-2*_e[0]-et[0];Ke*=Ke;let tt=3*ze[1]-2*_e[1]-et[1];tt*=tt;let ut=3*Je[0]-2*et[0]-_e[0];ut*=ut;let ht=3*Je[1]-2*et[1]-_e[1];return ht*=ht,Ke<ut&&(Ke=ut),tt<ht&&(tt=ht),Ke+tt}(P,l)<f){const ae=P[l+0];H.length?(J=H[H.length-1],re=ae,Math.sqrt(pe(J,re))>1&&H.push(ae)):H.push(ae),H.push(P[l+3])}else{const ae=P[l+0],ge=P[l+1],_e=P[l+2],ze=P[l+3],Je=ee(ae,ge,.5),et=ee(ge,_e,.5),Ke=ee(_e,ze,.5),tt=ee(Je,et,.5),ut=ee(et,Ke,.5),ht=ee(tt,ut,.5);me([ae,Je,tt,ht],0,f,H),me([ht,ut,Ke,ze],0,f,H)}var J,re;return H}function Te(P,l,f,D,H){const J=H||[],re=P[l],ae=P[f-1];let ge=0,_e=1;for(let ze=l+1;ze<f-1;++ze){const Je=Q(P[ze],re,ae);Je>ge&&(ge=Je,_e=ze)}return Math.sqrt(ge)>D?(Te(P,l,_e+1,D,J),Te(P,_e,f,D,J)):(J.length||J.push(re),J.push(ae)),J}function Ue(P,l){return Math.pow(P[0]-l[0],2)+Math.pow(P[1]-l[1],2)}function qe(P,l,f){const D=Ue(l,f);if(D===0)return Ue(P,l);let H=((P[0]-l[0])*(f[0]-l[0])+(P[1]-l[1])*(f[1]-l[1]))/D;return H=Math.max(0,Math.min(1,H)),Ue(P,Ae(l,f,H))}function Ae(P,l,f){return[P[0]+(l[0]-P[0])*f,P[1]+(l[1]-P[1])*f]}function Oe(P,l,f,D){const H=D||[];if(function(ae,ge){const _e=ae[ge+0],ze=ae[ge+1],Je=ae[ge+2],et=ae[ge+3];let Ke=3*ze[0]-2*_e[0]-et[0];Ke*=Ke;let tt=3*ze[1]-2*_e[1]-et[1];tt*=tt;let ut=3*Je[0]-2*et[0]-_e[0];ut*=ut;let ht=3*Je[1]-2*et[1]-_e[1];return ht*=ht,Ke<ut&&(Ke=ut),tt<ht&&(tt=ht),Ke+tt}(P,l)<f){const ae=P[l+0];H.length?(J=H[H.length-1],re=ae,Math.sqrt(Ue(J,re))>1&&H.push(ae)):H.push(ae),H.push(P[l+3])}else{const ae=P[l+0],ge=P[l+1],_e=P[l+2],ze=P[l+3],Je=Ae(ae,ge,.5),et=Ae(ge,_e,.5),Ke=Ae(_e,ze,.5),tt=Ae(Je,et,.5),ut=Ae(et,Ke,.5),ht=Ae(tt,ut,.5);Oe([ae,Je,tt,ht],0,f,H),Oe([ht,ut,Ke,ze],0,f,H)}var J,re;return H}function Ie(P,l){return Re(P,0,P.length,l)}function Re(P,l,f,D,H){const J=H||[],re=P[l],ae=P[f-1];let ge=0,_e=1;for(let ze=l+1;ze<f-1;++ze){const Je=qe(P[ze],re,ae);Je>ge&&(ge=Je,_e=ze)}return Math.sqrt(ge)>D?(Re(P,l,_e+1,D,J),Re(P,_e,f,D,J)):(J.length||J.push(re),J.push(ae)),J}function ke(P,l,f){const D=fe(ve(he(P))),H=[];let J=[],re=[0,0],ae=[];const ge=()=>{ae.length>=4&&J.push(...function(Je,et=.15,Ke){const tt=[],ut=(Je.length-1)/3;for(let ht=0;ht<ut;ht++)Oe(Je,3*ht,et,tt);return Ke&&Ke>0?Re(tt,0,tt.length,Ke):tt}(ae,l)),ae=[]},_e=()=>{ge(),J.length&&(H.push(J),J=[])};for(const{key:Je,data:et}of D)switch(Je){case"M":_e(),re=[et[0],et[1]],J.push(re);break;case"L":ge(),J.push([et[0],et[1]]);break;case"C":if(!ae.length){const Ke=J.length?J[J.length-1]:re;ae.push([Ke[0],Ke[1]])}ae.push([et[0],et[1]]),ae.push([et[2],et[3]]),ae.push([et[4],et[5]]);break;case"Z":ge(),J.push([re[0],re[1]])}if(_e(),!f)return H;const ze=[];for(const Je of H){const et=Ie(Je,f);et.length&&ze.push(et)}return ze}const xe="none";class ye{constructor(l){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=l||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,x.W)()}_o(l){return l?Object.assign({},this.defaultOptions,l):this.defaultOptions}_d(l,f,D){return{shape:l,sets:f||[],options:D||this.defaultOptions}}line(l,f,D,H,J){const re=this._o(J);return this._d("line",[R(l,f,D,H,re)],re)}rectangle(l,f,D,H,J){const re=this._o(J),ae=[],ge=M(l,f,D,H,re);if(re.fill){const _e=[[l,f],[l+D,f],[l+D,f+H],[l,f+H]];re.fillStyle==="solid"?ae.push(g([_e],re)):ae.push(s([_e],re))}return re.stroke!==xe&&ae.push(ge),this._d("rectangle",ae,re)}ellipse(l,f,D,H,J){const re=this._o(J),ae=[],ge=E(D,H,re),_e=p(l,f,re,ge);if(re.fill)if(re.fillStyle==="solid"){const ze=p(l,f,re,ge).opset;ze.type="fillPath",ae.push(ze)}else ae.push(s([_e.estimatedPoints],re));return re.stroke!==xe&&ae.push(_e.opset),this._d("ellipse",ae,re)}circle(l,f,D,H){const J=this.ellipse(l,f,D,D,H);return J.shape="circle",J}linearPath(l,f){const D=this._o(f);return this._d("linearPath",[B(l,!1,D)],D)}arc(l,f,D,H,J,re,ae=!1,ge){const _e=this._o(ge),ze=[],Je=r(l,f,D,H,J,re,ae,!0,_e);if(ae&&_e.fill)if(_e.fillStyle==="solid"){const et=Object.assign({},_e);et.disableMultiStroke=!0;const Ke=r(l,f,D,H,J,re,!0,!1,et);Ke.type="fillPath",ze.push(Ke)}else ze.push(function(et,Ke,tt,ut,ht,He,Ee){const Le=et,Qe=Ke;let ct=Math.abs(tt/2),bt=Math.abs(ut/2);ct+=N(.01*ct,Ee),bt+=N(.01*bt,Ee);let wt=ht,zt=He;for(;wt<0;)wt+=2*Math.PI,zt+=2*Math.PI;zt-wt>2*Math.PI&&(wt=0,zt=2*Math.PI);const Mt=(zt-wt)/Ee.curveStepCount,Zt=[];for(let sn=wt;sn<=zt;sn+=Mt)Zt.push([Le+ct*Math.cos(sn),Qe+bt*Math.sin(sn)]);return Zt.push([Le+ct*Math.cos(zt),Qe+bt*Math.sin(zt)]),Zt.push([Le,Qe]),s([Zt],Ee)}(l,f,D,H,J,re,_e));return _e.stroke!==xe&&ze.push(Je),this._d("arc",ze,_e)}curve(l,f){const D=this._o(f),H=[],J=I(l,D);if(D.fill&&D.fill!==xe&&l.length>=3)if(D.fillStyle==="solid"){const re=I(l,Object.assign(Object.assign({},D),{disableMultiStroke:!0,roughness:D.roughness?D.roughness+D.fillShapeRoughnessGain:0}));H.push({type:"fillPath",ops:this._mergedShape(re.ops)})}else{const re=function(ge,_e=0){const ze=ge.length;if(ze<3)throw new Error("A curve must have at least three points.");const Je=[];if(ze===3)Je.push(ue(ge[0]),ue(ge[1]),ue(ge[2]),ue(ge[2]));else{const et=[];et.push(ge[0],ge[0]);for(let ut=1;ut<ge.length;ut++)et.push(ge[ut]),ut===ge.length-1&&et.push(ge[ut]);const Ke=[],tt=1-_e;Je.push(ue(et[0]));for(let ut=1;ut+2<et.length;ut++){const ht=et[ut];Ke[0]=[ht[0],ht[1]],Ke[1]=[ht[0]+(tt*et[ut+1][0]-tt*et[ut-1][0])/6,ht[1]+(tt*et[ut+1][1]-tt*et[ut-1][1])/6],Ke[2]=[et[ut+1][0]+(tt*et[ut][0]-tt*et[ut+2][0])/6,et[ut+1][1]+(tt*et[ut][1]-tt*et[ut+2][1])/6],Ke[3]=[et[ut+1][0],et[ut+1][1]],Je.push(Ke[1],Ke[2],Ke[3])}}return Je}(l),ae=function(ge,_e=.15,ze){const Je=[],et=(ge.length-1)/3;for(let Ke=0;Ke<et;Ke++)me(ge,3*Ke,_e,Je);return ze&&ze>0?Te(Je,0,Je.length,ze):Je}(re,10,(1+D.roughness)/2);H.push(s([ae],D))}return D.stroke!==xe&&H.push(J),this._d("curve",H,D)}polygon(l,f){const D=this._o(f),H=[],J=B(l,!0,D);return D.fill&&(D.fillStyle==="solid"?H.push(g([l],D)):H.push(s([l],D))),D.stroke!==xe&&H.push(J),this._d("polygon",H,D)}path(l,f){const D=this._o(f),H=[];if(!l)return this._d("path",H,D);l=(l||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const J=D.fill&&D.fill!=="transparent"&&D.fill!==xe,re=D.stroke!==xe,ae=!!(D.simplification&&D.simplification<1),ge=ke(l,1,ae?4-4*(D.simplification||1):(1+D.roughness)/2),_e=o(l,D);if(J)if(D.fillStyle==="solid")if(ge.length===1){const ze=o(l,Object.assign(Object.assign({},D),{disableMultiStroke:!0,roughness:D.roughness?D.roughness+D.fillShapeRoughnessGain:0}));H.push({type:"fillPath",ops:this._mergedShape(ze.ops)})}else H.push(g(ge,D));else H.push(s(ge,D));return re&&(ae?ge.forEach(ze=>{H.push(B(ze,!1,D))}):H.push(_e)),this._d("path",H,D)}opsToPath(l,f){let D="";for(const H of l.ops){const J=typeof f=="number"&&f>=0?H.data.map(re=>+re.toFixed(f)):H.data;switch(H.op){case"move":D+=`M${J[0]} ${J[1]} `;break;case"bcurveTo":D+=`C${J[0]} ${J[1]}, ${J[2]} ${J[3]}, ${J[4]} ${J[5]} `;break;case"lineTo":D+=`L${J[0]} ${J[1]} `}}return D.trim()}toPaths(l){const f=l.sets||[],D=l.options||this.defaultOptions,H=[];for(const J of f){let re=null;switch(J.type){case"path":re={d:this.opsToPath(J),stroke:D.stroke,strokeWidth:D.strokeWidth,fill:xe};break;case"fillPath":re={d:this.opsToPath(J),stroke:xe,strokeWidth:0,fill:D.fill||xe};break;case"fillSketch":re=this.fillSketch(J,D)}re&&H.push(re)}return H}fillSketch(l,f){let D=f.fillWeight;return D<0&&(D=f.strokeWidth/2),{d:this.opsToPath(l),stroke:f.fill||xe,strokeWidth:D,fill:xe}}_mergedShape(l){return l.filter((f,D)=>D===0||f.op!=="move")}}},8152:function(te,t,e){function w(){return Math.floor(Math.random()*2147483648)}e.d(t,{W:function(){return w},k:function(){return v}});class v{constructor(b){this.seed=b}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},9845:function(te,t,e){e.d(t,{Z:function(){return T}});var w=e(8128);class v{constructor(a,c){this.canvas=a,this.ctx=this.canvas.getContext("2d"),this.gen=new w.V(c)}draw(a){const c=a.sets||[],Z=a.options||this.getDefaultOptions(),F=this.ctx,_=a.options.fixedDecimalPlaceDigits;for(const h of c)switch(h.type){case"path":F.save(),F.strokeStyle=Z.stroke==="none"?"transparent":Z.stroke,F.lineWidth=Z.strokeWidth,Z.strokeLineDash&&F.setLineDash(Z.strokeLineDash),Z.strokeLineDashOffset&&(F.lineDashOffset=Z.strokeLineDashOffset),this._drawToContext(F,h,_),F.restore();break;case"fillPath":{F.save(),F.fillStyle=Z.fill||"";const x=a.shape==="curve"||a.shape==="polygon"||a.shape==="path"?"evenodd":"nonzero";this._drawToContext(F,h,_,x),F.restore();break}case"fillSketch":this.fillSketch(F,h,Z)}}fillSketch(a,c,Z){let F=Z.fillWeight;F<0&&(F=Z.strokeWidth/2),a.save(),Z.fillLineDash&&a.setLineDash(Z.fillLineDash),Z.fillLineDashOffset&&(a.lineDashOffset=Z.fillLineDashOffset),a.strokeStyle=Z.fill||"",a.lineWidth=F,this._drawToContext(a,c,Z.fixedDecimalPlaceDigits),a.restore()}_drawToContext(a,c,Z,F="nonzero"){a.beginPath();for(const _ of c.ops){const h=typeof Z=="number"&&Z>=0?_.data.map(x=>+x.toFixed(Z)):_.data;switch(_.op){case"move":a.moveTo(h[0],h[1]);break;case"bcurveTo":a.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case"lineTo":a.lineTo(h[0],h[1])}}c.type==="fillPath"?a.fill(F):a.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(a,c,Z,F,_){const h=this.gen.line(a,c,Z,F,_);return this.draw(h),h}rectangle(a,c,Z,F,_){const h=this.gen.rectangle(a,c,Z,F,_);return this.draw(h),h}ellipse(a,c,Z,F,_){const h=this.gen.ellipse(a,c,Z,F,_);return this.draw(h),h}circle(a,c,Z,F){const _=this.gen.circle(a,c,Z,F);return this.draw(_),_}linearPath(a,c){const Z=this.gen.linearPath(a,c);return this.draw(Z),Z}polygon(a,c){const Z=this.gen.polygon(a,c);return this.draw(Z),Z}arc(a,c,Z,F,_,h,x=!1,G){const le=this.gen.arc(a,c,Z,F,_,h,x,G);return this.draw(le),le}curve(a,c){const Z=this.gen.curve(a,c);return this.draw(Z),Z}path(a,c){const Z=this.gen.path(a,c);return this.draw(Z),Z}}const d="http://www.w3.org/2000/svg";class b{constructor(a,c){this.svg=a,this.gen=new w.V(c)}draw(a){const c=a.sets||[],Z=a.options||this.getDefaultOptions(),F=this.svg.ownerDocument||window.document,_=F.createElementNS(d,"g"),h=a.options.fixedDecimalPlaceDigits;for(const x of c){let G=null;switch(x.type){case"path":G=F.createElementNS(d,"path"),G.setAttribute("d",this.opsToPath(x,h)),G.setAttribute("stroke",Z.stroke),G.setAttribute("stroke-width",Z.strokeWidth+""),G.setAttribute("fill","none"),Z.strokeLineDash&&G.setAttribute("stroke-dasharray",Z.strokeLineDash.join(" ").trim()),Z.strokeLineDashOffset&&G.setAttribute("stroke-dashoffset",`${Z.strokeLineDashOffset}`);break;case"fillPath":G=F.createElementNS(d,"path"),G.setAttribute("d",this.opsToPath(x,h)),G.setAttribute("stroke","none"),G.setAttribute("stroke-width","0"),G.setAttribute("fill",Z.fill||""),a.shape!=="curve"&&a.shape!=="polygon"||G.setAttribute("fill-rule","evenodd");break;case"fillSketch":G=this.fillSketch(F,x,Z)}G&&_.appendChild(G)}return _}fillSketch(a,c,Z){let F=Z.fillWeight;F<0&&(F=Z.strokeWidth/2);const _=a.createElementNS(d,"path");return _.setAttribute("d",this.opsToPath(c,Z.fixedDecimalPlaceDigits)),_.setAttribute("stroke",Z.fill||""),_.setAttribute("stroke-width",F+""),_.setAttribute("fill","none"),Z.fillLineDash&&_.setAttribute("stroke-dasharray",Z.fillLineDash.join(" ").trim()),Z.fillLineDashOffset&&_.setAttribute("stroke-dashoffset",`${Z.fillLineDashOffset}`),_}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(a,c){return this.gen.opsToPath(a,c)}line(a,c,Z,F,_){const h=this.gen.line(a,c,Z,F,_);return this.draw(h)}rectangle(a,c,Z,F,_){const h=this.gen.rectangle(a,c,Z,F,_);return this.draw(h)}ellipse(a,c,Z,F,_){const h=this.gen.ellipse(a,c,Z,F,_);return this.draw(h)}circle(a,c,Z,F){const _=this.gen.circle(a,c,Z,F);return this.draw(_)}linearPath(a,c){const Z=this.gen.linearPath(a,c);return this.draw(Z)}polygon(a,c){const Z=this.gen.polygon(a,c);return this.draw(Z)}arc(a,c,Z,F,_,h,x=!1,G){const le=this.gen.arc(a,c,Z,F,_,h,x,G);return this.draw(le)}curve(a,c){const Z=this.gen.curve(a,c);return this.draw(Z)}path(a,c){const Z=this.gen.path(a,c);return this.draw(Z)}}var T={canvas:(S,a)=>new v(S,a),svg:(S,a)=>new b(S,a),generator:S=>new w.V(S),newSeed:()=>w.V.newSeed()}},5714:function(te){te.exports=function(t,e,w){var v=[],d=t.length;if(d===0)return v;var b=e<0?Math.max(0,e+d):e||0;for(w!==void 0&&(d=w<0?w+d:w);d-- >b;)v[d-b]=t[d];return v}},2173:function(te,t,e){var w=e(9787),v=typeof Object.is=="function"?Object.is:function(Z,F){return Z===F&&(Z!==0||1/Z==1/F)||Z!=Z&&F!=F},d=w.useState,b=w.useEffect,T=w.useLayoutEffect,S=w.useDebugValue;function a(Z){var F=Z.getSnapshot;Z=Z.value;try{var _=F();return!v(Z,_)}catch{return!0}}var c=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(Z,F){return F()}:function(Z,F){var _=F(),h=d({inst:{value:_,getSnapshot:F}}),x=h[0].inst,G=h[1];return T(function(){x.value=_,x.getSnapshot=F,a(x)&&G({inst:x})},[Z,_,F]),b(function(){return a(x)&&G({inst:x}),Z(function(){a(x)&&G({inst:x})})},[Z]),S(_),_};t.useSyncExternalStore=w.useSyncExternalStore!==void 0?w.useSyncExternalStore:c},5917:function(te,t,e){var w=e(9787),v=e(1374),d=typeof Object.is=="function"?Object.is:function(Z,F){return Z===F&&(Z!==0||1/Z==1/F)||Z!=Z&&F!=F},b=v.useSyncExternalStore,T=w.useRef,S=w.useEffect,a=w.useMemo,c=w.useDebugValue;t.useSyncExternalStoreWithSelector=function(Z,F,_,h,x){var G=T(null);if(G.current===null){var le={hasValue:!1,value:null};G.current=le}else le=G.current;G=a(function(){function ve(R){if(!q){if(q=!0,fe=R,R=h(R),x!==void 0&&le.hasValue){var B=le.value;if(x(B,R))return X=B}return X=R}if(B=X,d(fe,R))return B;var M=h(R);return x!==void 0&&x(B,M)?B:(fe=R,X=M)}var fe,X,q=!1,U=_===void 0?null:_;return[function(){return ve(F())},U===null?void 0:function(){return ve(U())}]},[F,_,h,x]);var he=b(Z,G[0],G[1]);return S(function(){le.hasValue=!0,le.value=he},[he]),c(he),he}},1374:function(te,t,e){te.exports=e(2173)},5668:function(te,t,e){te.exports=e(5917)},940:function(te,t,e){var w={"./ar-SA.json":[7822,2091],"./az-AZ.json":[9753,4568],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[2264,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kaa.json":[7941,663],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./km-KH.json":[5845,6566],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[6773,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[125,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[976,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[3458,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function v(d){if(!e.o(w,d))return Promise.resolve().then(function(){var S=new Error("Cannot find module '"+d+"'");throw S.code="MODULE_NOT_FOUND",S});var b=w[d],T=b[0];return Promise.all(b.slice(1).map(e.e)).then(function(){return e.t(T,19)})}v.keys=function(){return Object.keys(w)},v.id=940,te.exports=v},9713:function(te){te.exports=function(t,e,w){return e in t?Object.defineProperty(t,e,{value:w,enumerable:!0,configurable:!0,writable:!0}):t[e]=w,t}},6479:function(te,t,e){var w=e(7316);te.exports=function(v,d){if(v==null)return{};var b,T,S=w(v,d);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(v);for(T=0;T<a.length;T++)b=a[T],d.indexOf(b)>=0||Object.prototype.propertyIsEnumerable.call(v,b)&&(S[b]=v[b])}return S}},7316:function(te){te.exports=function(t,e){if(t==null)return{};var w,v,d={},b=Object.keys(t);for(v=0;v<b.length;v++)w=b[v],e.indexOf(w)>=0||(d[w]=t[w]);return d}},4295:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d),T=e(1667),S=e.n(T),a=new URL(e(3940),e.b),c=new URL(e(3147),e.b),Z=new URL(e(8303),e.b),F=new URL(e(1273),e.b),_=new URL(e(9577),e.b),h=new URL(e(9729),e.b),x=b()(v()),G=S()(a),le=S()(c),he=S()(Z),ve=S()(F),fe=S()(_),X=S()(h);x.push([te.id,'@font-face{font-family:"Virgil";src:url('+G+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+le+');font-display:swap}@font-face{font-family:"Assistant";src:url('+he+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+ve+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+fe+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+X+");font-display:swap;font-weight:700}",""]),t.Z=x},6086:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px var(--color-surface-lowest)}.zoom-button,.undo-redo-buttons button{border-radius:0 !important;background-color:var(--color-surface-low) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),t.Z=b},3729:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:.75rem;font-weight:800;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),t.Z=b},3137:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d),T=e(1667),S=e.n(T),a=new URL(e(7984),e.b),c=new URL(e(1639),e.b),Z=b()(v()),F=S()(a),_=S()(c);Z.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+F+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+_+");--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-on-primary-container))}",""]),t.Z=Z},4241:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),t.Z=b},6029:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),t.Z=b},4269:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d),T=e(1667),S=e.n(T),a=new URL(e(9669),e.b),c=b()(v()),Z=S()(a);c.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .focus-visible-none:focus-visible{outline:none !important}.excalidraw .color-picker__heading{padding:0 .5rem;font-size:.75rem;text-align:left}.excalidraw .color-picker-container{display:grid;grid-template-columns:1fr 20px 1.625rem;padding:.25rem 0px;align-items:center}.excalidraw--mobile.excalidraw .color-picker-container{max-width:175px}.excalidraw .color-picker__top-picks{display:flex;justify-content:space-between}.excalidraw .color-picker__button{--radius: 0.25rem;padding:0;margin:0;width:1.35rem;height:1.35rem;border:1px solid var(--color-gray-30);border-radius:var(--radius);-webkit-filter:var(--theme-filter);filter:var(--theme-filter);background-color:var(--swatch-color);background-position:left center;position:relative;font-family:inherit;box-sizing:border-box}.excalidraw .color-picker__button:hover::after{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-gray-30);border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button.active .color-picker__button-outline{position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-primary-darkest);z-index:1;border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button:focus-visible{outline:none}.excalidraw .color-picker__button:focus-visible::after{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:3px solid var(--focus-highlight-color);border-radius:calc(var(--radius) + 1px)}.excalidraw .color-picker__button:focus-visible.active .color-picker__button-outline{display:none}.excalidraw .color-picker__button--large{--radius: 0.5rem;width:1.875rem;height:1.875rem}.excalidraw .color-picker__button.is-transparent{background-image:url('+Z+")}.excalidraw .color-picker__button--no-focus-visible{border:0}.excalidraw .color-picker__button--no-focus-visible::after{display:none}.excalidraw .color-picker__button--no-focus-visible:focus-visible{outline:none !important}.excalidraw .color-picker__button.active-color{border-radius:calc(var(--radius) + 1px);width:1.625rem;height:1.625rem}.excalidraw .color-picker__button__hotkey-label{position:absolute;right:4px;bottom:4px;-webkit-filter:none;filter:none;font-size:11px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content{display:flex;flex-direction:column;gap:.75rem;outline:none}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, 1.875rem);grid-gap:.25rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+Z+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-label{display:grid;grid-template-columns:auto 1fr auto auto;gap:8px;align-items:center;border:1px solid var(--default-border-color);border-radius:8px;padding:0 12px;margin:8px;box-sizing:border-box}.excalidraw .color-picker__input-label:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-hash{padding:0 .25rem}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;font-family:inherit;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),t.Z=c},9393:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),t.Z=b},6578:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;font-family:inherit;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),t.Z=b},9482:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}.excalidraw .Dialog__close{color:var(--color-gray-40);margin:0;position:absolute;top:.75rem;right:.5rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Dialog__close:hover{color:var(--color-gray-60)}.excalidraw .Dialog__close:active{color:var(--color-gray-40)}.excalidraw .Dialog__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Dialog__close{top:1.25rem;right:1.25rem}",""]),t.Z=b},6148:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),t.Z=b},5744:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw .ExcalidrawLogo{--logo-icon--xs: 2rem;--logo-text--xs: 1.5rem;--logo-icon--small: 2.5rem;--logo-text--small: 1.75rem;--logo-icon--normal: 3rem;--logo-text--normal: 2.2rem;--logo-icon--large: 90px;--logo-text--large: 65px;display:flex;align-items:center}.excalidraw .ExcalidrawLogo svg{flex:0 0 auto}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-icon{width:auto;color:var(--color-logo-icon)}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-text{margin-left:.75rem;width:auto;color:var(--color-logo-text)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-icon{height:var(--logo-icon--xs)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-text{height:var(--logo-text--xs)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-icon{height:var(--logo-icon--small)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-text{height:var(--logo-text--small)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-icon{height:var(--logo-icon--normal)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-text{height:var(--logo-text--normal)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-icon{height:var(--logo-icon--large)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-text{height:var(--logo-text--large)}",""]),t.Z=b},7955:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d),T=e(1667),S=e.n(T),a=new URL(e(9669),e.b),c=b()(v()),Z=S()(a);c.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+Z+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),t.Z=c},7522:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw .excalidraw-eye-dropper-container,.excalidraw .excalidraw-eye-dropper-backdrop{position:absolute;width:100%;height:100%;z-index:var(--zIndex-eyeDropperBackdrop);touch-action:none}.excalidraw .excalidraw-eye-dropper-container{pointer-events:none}.excalidraw .excalidraw-eye-dropper-backdrop{pointer-events:all}.excalidraw .excalidraw-eye-dropper-preview{pointer-events:none;width:3rem;height:3rem;position:fixed;z-index:var(--zIndex-eyeDropperPreview);border-radius:1rem;border:1px solid var(--default-border-color);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .excalidraw-eye-dropper-trigger{width:1.25rem;height:1.25rem;cursor:pointer;padding:4px;margin-right:-4px;margin-left:-2px;border-radius:.5rem;color:var(--icon-fill-color)}.excalidraw .excalidraw-eye-dropper-trigger:hover{background:var(--button-hover-bg)}.excalidraw .excalidraw-eye-dropper-trigger.selected{color:var(--color-primary);background:var(--color-primary-light)}",""]),t.Z=b},8960:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExcButton{--text-color: transparent;--border-color: transparent;--back-color: transparent;color:var(--text-color);background-color:var(--back-color);border-color:var(--border-color);display:flex;justify-content:center;align-items:center;flex-shrink:0;flex-wrap:nowrap;border-radius:.5rem;border-width:1px;border-style:solid;font-family:"Assistant";-webkit-user-select:none;user-select:none;transition:all 150ms ease-out}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled{--text-color: var(--color-surface-lowest);--back-color: var(--color-primary)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:hover{--back-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:active{--back-color: var(--color-brand-active)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon{--text-color: var(--color-primary);--border-color: var(--color-border-outline);--back-color: transparent}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:hover{--text-color: var(--color-brand-hover);--border-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:active{--text-color: var(--color-brand-active);--border-color: var(--color-brand-active)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled{--text-color: var(--color-danger-text);--back-color: var(--color-danger-dark)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:hover{--back-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:active{--back-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon{--text-color: var(--color-danger);--border-color: var(--color-danger);--back-color: transparent}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:hover{--text-color: var(--color-danger-darkest);--border-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:active{--text-color: var(--color-danger-darker);--border-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled{--text-color: var(--island-bg-color);--back-color: var(--color-gray-50)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:hover{--back-color: var(--color-gray-60)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:active{--back-color: var(--color-gray-80)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon{--text-color: var(--color-muted-background);--border-color: var(--color-muted);--back-color: var(--island-bg-color)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:hover{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:active{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled{--text-color: black;--back-color: var(--color-warning-dark)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:hover{--back-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:active{--back-color: var(--color-warning-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon{--text-color: var(--color-warning-dark);--border-color: var(--color-warning-dark);--back-color: var(--input-bg-color)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:hover{--text-color: var(--color-warning-darker);--border-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:active{--text-color: var(--color-warning-darkest);--border-color: var(--color-warning-darkest)}.excalidraw .ExcButton--size-large{font-weight:600;font-size:.875rem;min-height:3rem;padding:.5rem 1.5rem;gap:.75rem;letter-spacing:.4px}.excalidraw .ExcButton--size-medium{font-weight:600;font-size:.75rem;min-height:2.5rem;padding:.5rem 1rem;gap:.5rem;letter-spacing:normal}.excalidraw .ExcButton--variant-icon{padding:.5rem .75rem;width:3rem}.excalidraw .ExcButton--fullWidth{width:100%}.excalidraw .ExcButton__icon{width:1.25rem;height:1.25rem}',""]),t.Z=b},3195:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),t.Z=b},2978:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{--background: var(--color-surface-mid);display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;background-color:var(--background);padding:.625rem 1rem;border:1px solid var(--background);border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw.theme--dark.excalidraw .HelpDialog__btn{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .HelpDialog__btn:hover{--background: #363541}.excalidraw .HelpDialog__btn:hover{--background: var(--color-surface-high);text-decoration:none}.excalidraw .HelpDialog__btn:active{border-color:var(--color-primary)}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),t.Z=b},1587:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),t.Z=b},9478:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),t.Z=b},9706:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d),T=e(1667),S=e.n(T),a=new URL(e(9669),e.b),c=b()(v()),Z=S()(a);c.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--ImageExportModal-preview-border: #d6d6d6}.excalidraw.theme--dark{--ImageExportModal-preview-border: #5c5c5c}.excalidraw .ImageExportModal{display:flex;flex-direction:row;justify-content:space-between}.excalidraw .ImageExportModal h3{font-family:"Assistant";font-style:normal;font-weight:700;font-size:1.313rem;line-height:130%;padding:0;margin:0}.excalidraw--mobile.excalidraw .ImageExportModal h3{display:none}.excalidraw .ImageExportModal>h3{display:none}.excalidraw--mobile.excalidraw .ImageExportModal>h3{display:block}.excalidraw--mobile.excalidraw .ImageExportModal{flex-direction:column;height:calc(100vh - 5rem)}.excalidraw .ImageExportModal__preview{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;height:360px;width:55%;margin-right:1.5rem}.excalidraw--mobile.excalidraw .ImageExportModal__preview{max-width:unset;margin-right:unset;width:100%;height:unset;flex-grow:1}.excalidraw .ImageExportModal__preview__filename>input{margin-top:1rem}.excalidraw .ImageExportModal__preview__canvas{box-sizing:border-box;width:100%;height:100%;display:flex;flex-grow:1;justify-content:center;align-items:center;background:url('+Z+') left center;border:1px solid var(--ImageExportModal-preview-border);border-radius:12px;overflow:hidden;padding:1rem}.excalidraw .ImageExportModal__preview__canvas>canvas{max-width:calc(100% - 2rem);max-height:calc(100% - 2rem);-webkit-filter:none !important;filter:none !important}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas>canvas{max-height:100%}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas{margin-top:24px;max-width:unset}.excalidraw .ImageExportModal__settings{display:flex;flex-direction:column;flex-wrap:wrap;gap:18px}.excalidraw--mobile.excalidraw .ImageExportModal__settings{margin-left:unset;margin-top:1rem;flex-direction:row;gap:6px 34px;align-content:flex-start}.excalidraw .ImageExportModal__settings__setting{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.excalidraw--mobile.excalidraw .ImageExportModal__settings__setting{flex-direction:column;align-items:start;justify-content:unset;height:52px}.excalidraw .ImageExportModal__settings__setting__label{display:flex;flex-direction:row;align-items:center;font-family:"Assistant";font-weight:600;font-size:1rem;line-height:150%}.excalidraw .ImageExportModal__settings__setting__label svg{width:20px;height:20px;margin-left:10px}.excalidraw .ImageExportModal__settings__setting__content{display:flex;height:100%;align-items:center}.excalidraw .ImageExportModal__settings__buttons{flex-grow:1;flex-wrap:wrap;display:flex;flex-direction:row;gap:11px;align-items:flex-end;align-content:flex-end}.excalidraw--mobile.excalidraw .ImageExportModal__settings__buttons{padding-top:32px;flex-basis:100%;justify-content:center}',""]),t.Z=c},7369:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),t.Z=b},7930:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw .LaserToolOverlay{pointer-events:none;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:2}.excalidraw .LaserToolOverlay .LaserToolOverlayCanvas{image-rendering:auto;overflow:visible;position:absolute;top:0;left:0}",""]),t.Z=b},1434:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{padding:10px;position:absolute;bottom:0;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s;font-family:var(--ui-font);font-size:.75rem;font-weight:500;line-height:1;border-radius:var(--border-radius-lg);border:1px solid var(--default-border-color);background-color:var(--island-bg-color);color:var(--text-primary-color)}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:1rem}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:1rem}.excalidraw .layer-ui__wrapper .disable-zen-mode:hover{background-color:var(--button-hover-bg)}.excalidraw .layer-ui__wrapper .disable-zen-mode:active{border-color:var(--color-primary)}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s;pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left>*,.excalidraw .layer-ui__wrapper .footer-center>*,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),t.Z=b},8923:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,'.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-control-buttons{display:flex;align-items:center;justify-content:center;gap:.625rem;position:relative}.excalidraw .library-menu-control-buttons--at-bottom::before{content:"";width:calc(100% - 1.5rem);height:1px;position:absolute;top:-1px;background:var(--sidebar-border-color)}.excalidraw .library-menu-browse-button{flex:1;height:var(--lg-button-size);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-brand-hover)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-brand-active)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw.excalidraw--mobile .library-menu-browse-button{height:var(--default-button-size)}.excalidraw .layer-ui__library .dropdown-menu{width:auto;top:initial;right:0;left:initial;bottom:100%;margin-bottom:.625rem}.excalidraw .layer-ui__library .dropdown-menu .dropdown-menu-container{width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}.excalidraw .layer-ui__library .library-menu-dropdown-container{position:relative}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading{padding:0;position:absolute;top:1rem;right:.75rem;z-index:1}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading .dropdown-menu{top:100%}',""]),t.Z=b},6440:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{width:100%;display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;position:relative}.excalidraw .library-menu-items-container>div{padding-left:.75rem;padding-right:.75rem}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) 0;flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem;width:100%;padding-right:4rem;box-sizing:border-box}.excalidraw .library-menu-items-container__header--excal{margin-top:2rem}.excalidraw .library-menu-items-container__grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}.excalidraw .library-menu-items-private-library-container{min-height:3.75rem;width:100%}",""]),t.Z=b},5644:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit svg{pointer-events:none}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit--skeleton{opacity:.5;background:linear-gradient(-45deg, var(--color-gray-10), var(--color-gray-20), var(--color-gray-10));background-size:200% 200%;-webkit-animation:library-unit__skeleton-opacity-animation .2s linear;animation:library-unit__skeleton-opacity-animation .2s linear}.excalidraw.theme--dark .library-unit--skeleton{background-image:linear-gradient(-45deg, var(--color-gray-100), var(--color-gray-80), var(--color-gray-100))}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@-webkit-keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}@keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}",""]),t.Z=b},5830:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d),T=e(1667),S=e.n(T),a=new URL(e(9669),e.b),c=b()(v()),Z=S()(a);c.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dialog-mermaid-title{margin-bottom:5px;margin-top:2px}.excalidraw .dialog-mermaid-desc{font-size:15px;font-style:italic;font-weight:500}.excalidraw .dialog-mermaid .Modal__content .Island{box-shadow:none}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid{padding:1.25rem}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:100%;max-height:750px}@media screen and (max-width: 860px){.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:auto;max-height:100%}}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island{height:100%;display:flex;flex-direction:column;flex:1 1 auto}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island .Dialog__content{display:flex;flex:1 1 auto}.excalidraw .dialog-mermaid-body{width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto;height:100%;-webkit-column-gap:4rem;column-gap:4rem}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-body{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels{display:grid;width:100%;grid-template-columns:1fr 1fr;justify-content:space-between;gap:4rem;grid-row:1;grid-column:1/3}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels label{font-size:14px;font-style:normal;font-weight:600;margin-bottom:4px;margin-left:4px}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels label{margin-top:4px}}.excalidraw .dialog-mermaid-panels-text{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels-text textarea{width:20rem;height:100%;resize:none;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color);white-space:pre-wrap;padding:.85rem;box-sizing:border-box;width:100%;font-family:monospace}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-text textarea{width:auto;height:10rem}}.excalidraw .dialog-mermaid-panels-preview-wrapper{display:flex;align-items:center;justify-content:center;padding:.85rem;box-sizing:border-box;width:100%;height:200px;flex-grow:1;position:relative;background:url("+Z+') left center;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-preview-wrapper{height:400px;width:auto}}.excalidraw .dialog-mermaid-panels-preview-wrapper canvas{max-width:100%;max-height:100%}.excalidraw .dialog-mermaid-panels-preview-canvas-container{display:flex;width:100%;height:100%;align-items:center;justify-content:center;flex-grow:1}.excalidraw .dialog-mermaid-panels-preview{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels .mermaid-error{color:red;font-weight:800;font-size:30px;word-break:break-word;overflow:auto;max-height:100%;height:100%;width:100%;text-align:center;position:absolute;z-index:10}.excalidraw .dialog-mermaid-panels .mermaid-error p{font-weight:500;font-family:Cascadia;text-align:left;white-space:pre-wrap;font-size:.875rem;padding:0 10px}.excalidraw .dialog-mermaid-buttons{grid-column:2}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{font-family:"Assistant";font-weight:600;height:2.5rem;margin-top:1em;margin-bottom:.3em;width:7.5rem;font-size:12px;color:#fff;background-color:var(--color-primary)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:hover{background-color:var(--color-primary-darker)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:active{background-color:var(--color-primary-darkest)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{width:100%}}.excalidraw.theme--dark.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{color:var(--color-gray-100)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert span{padding-left:.5rem;display:flex}',""]),t.Z=c},6843:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:var(--zIndex-modal)}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2);-webkit-animation:Modal__background__fade-in .125s linear forwards;animation:Modal__background__fade-in .125s linear forwards}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}@-webkit-keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Modal{padding:0}.excalidraw .Dialog--fullscreen .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0;max-width:100%;border:0;border-radius:0}",""]),t.Z=b},9439:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .OverwriteConfirm{display:flex;flex-direction:column;align-items:center;gap:.75rem;isolation:isolate}.excalidraw .OverwriteConfirm h3{margin:0;font-weight:700;font-size:1.3125rem;line-height:130%;align-self:flex-start;color:var(--text-primary-color)}.excalidraw .OverwriteConfirm__Description{box-sizing:border-box;display:flex;flex-direction:row;align-items:center;width:100%;gap:1rem;padding:2.5rem;background:var(--color-danger-background);border-radius:.5rem;font-family:"Assistant";font-style:normal;font-weight:400;font-size:1rem;line-height:150%;color:var(--color-danger-color)}.excalidraw--mobile.excalidraw .OverwriteConfirm__Description{flex-direction:column;text-align:center}.excalidraw .OverwriteConfirm__Description__spacer{flex-grow:1}.excalidraw .OverwriteConfirm__Description__icon{box-sizing:border-box;display:flex;align-items:center;justify-content:center;border-radius:2.5rem;background:var(--color-danger-icon-background);width:3.5rem;height:3.5rem;padding:.75rem}.excalidraw .OverwriteConfirm__Description__icon svg{color:var(--color-danger-icon-color);width:1.5rem;height:1.5rem}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning{background:var(--color-warning-background);color:var(--color-warning-color)}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon{background:var(--color-warning-icon-background);flex:0 0 auto}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon svg{color:var(--color-warning-icon-color)}.excalidraw .OverwriteConfirm__Actions{display:flex;flex-direction:row;align-items:stretch;justify-items:stretch;justify-content:center;gap:1.5rem}.excalidraw--mobile.excalidraw .OverwriteConfirm__Actions{flex-direction:column}.excalidraw .OverwriteConfirm__Actions__Action{display:flex;flex-direction:column;align-items:center;padding:1.5rem;gap:.75rem;flex-basis:50%;flex-grow:0}.excalidraw .OverwriteConfirm__Actions__Action__content{height:100%;font-size:.875rem;text-align:center}.excalidraw .OverwriteConfirm__Actions__Action h4{font-weight:700;font-size:1.125rem;line-height:130%;margin:0;color:var(--text-primary-color)}',""]),t.Z=b},8461:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),t.Z=b},9935:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),t.Z=b},532:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),t.Z=b},7589:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),t.Z=b},6217:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--RadioGroup-background: var(--island-bg-color);--RadioGroup-border: var(--color-surface-high);--RadioGroup-choice-color-off: var(--color-primary);--RadioGroup-choice-color-off-hover: var(--color-brand-hover);--RadioGroup-choice-background-off: var(--island-bg-color);--RadioGroup-choice-background-off-active: var(--color-surface-high);--RadioGroup-choice-color-on: var(--color-surface-lowest);--RadioGroup-choice-background-on: var(--color-primary);--RadioGroup-choice-background-on-hover: var(--color-brand-hover);--RadioGroup-choice-background-on-active: var(--color-brand-active)}.excalidraw .RadioGroup{box-sizing:border-box;display:flex;flex-direction:row;align-items:flex-start;padding:3px;border-radius:10px;background:var(--RadioGroup-background);border:1px solid var(--RadioGroup-border)}.excalidraw .RadioGroup__choice{position:relative;display:flex;align-items:center;justify-content:center;width:32px;height:24px;color:var(--RadioGroup-choice-color-off);background:var(--RadioGroup-choice-background-off);border-radius:8px;font-family:"Assistant";font-style:normal;font-weight:600;font-size:.75rem;line-height:100%;-webkit-user-select:none;user-select:none;letter-spacing:.4px;transition:all 75ms ease-out}.excalidraw .RadioGroup__choice:hover{color:var(--RadioGroup-choice-color-off-hover)}.excalidraw .RadioGroup__choice:active{background:var(--RadioGroup-choice-background-off-active)}.excalidraw .RadioGroup__choice.active{color:var(--RadioGroup-choice-color-on);background:var(--RadioGroup-choice-background-on)}.excalidraw .RadioGroup__choice.active:hover{background:var(--RadioGroup-choice-background-on-hover)}.excalidraw .RadioGroup__choice.active:active{background:var(--RadioGroup-choice-background-on-active)}.excalidraw .RadioGroup__choice input{z-index:1;position:absolute;width:100%;height:100%;margin:0;padding:0;border-radius:8px;-webkit-appearance:none;appearance:none;cursor:pointer}',""]),t.Z=b},8208:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;padding:0;box-sizing:border-box;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);pointer-events:var(--ui-pointerEvents);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color)}:root[dir=rtl] .excalidraw .sidebar{left:0;right:auto}.excalidraw .sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem .75rem;position:relative}.excalidraw .sidebar__header::after{content:"";width:calc(100% - 1.5rem);height:1px;background:var(--sidebar-border-color);position:absolute;bottom:-1px}.excalidraw .sidebar__header__buttons{gap:0;display:flex;align-items:center;margin-left:auto}.excalidraw .sidebar__header__buttons button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));--button-bg: transparent;border:0 !important;width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .sidebar__header__buttons button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar__header__buttons button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar__header__buttons button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar__header__buttons button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar__header__buttons button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .sidebar__header__buttons button:hover{background:var(--button-hover-bg, var(--island-bg-color))}.excalidraw .sidebar__header__buttons .sidebar__dock.selected svg{stroke:var(--color-primary);fill:var(--color-primary)}.excalidraw .sidebar-tabs-root{display:flex;flex-direction:column;flex:1 1 auto;padding:1rem 0}.excalidraw .sidebar-tabs-root [role=tabpanel]{flex:1;outline:none;flex:1 1 auto;display:flex;flex-direction:column;outline:none}.excalidraw .sidebar-tabs-root [role=tabpanel][data-state=inactive]{display:none !important}.excalidraw .sidebar-tabs-root [role=tablist]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit, minmax(0, 1fr))}.excalidraw .sidebar-tabs-root>.sidebar__header{padding-top:0;padding-bottom:1rem}.excalidraw .sidebar-tab-trigger{--button-width: auto;--button-bg: transparent;--button-hover-bg: transparent;--button-active-bg: var(--color-primary);--button-hover-color: var(--color-primary);--button-hover-border: var(--color-primary)}.excalidraw .sidebar-tab-trigger[data-state=active]{--button-bg: var(--color-primary);--button-hover-bg: var(--color-primary-darker);--button-hover-color: var(--color-icon-white);--button-border: var(--color-primary);color:var(--color-icon-white)}.excalidraw .default-sidebar{display:flex;flex-direction:column}.excalidraw .default-sidebar .sidebar-triggers{display:flex;gap:0;padding:2px;margin-top:-3px;margin-bottom:-3px;border:1px solid var(--sidebar-border-color);background:var(--default-bg-color);border-radius:.625rem}.excalidraw .default-sidebar .sidebar-triggers .sidebar-tab-trigger{height:var(--lg-button-size);width:var(--lg-button-size);border:none}',""]),t.Z=b},7051:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar-trigger{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.excalidraw .sidebar-trigger svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar-trigger:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar-trigger:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar-trigger.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .sidebar-trigger svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .default-sidebar-trigger .sidebar-trigger__label{display:block}.excalidraw.excalidraw--mobile .default-sidebar-trigger .sidebar-trigger__label{display:none}",""]),t.Z=b},5892:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-animation-delay:var(--spinner-delay);animation-delay:var(--spinner-delay);-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),t.Z=b},3874:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),t.Z=b},2681:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:var(--ui-pointerEvents)}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),t.Z=b},7802:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--Switch-disabled-color: var(--color-border-outline);--Switch-disabled-toggled-background: var(--color-border-outline-variant);--Switch-disabled-border: var(--color-border-outline-variant);--Switch-track-background: var(--island-bg-color);--Switch-thumb-background: var(--color-on-surface);--Switch-hover-background: var(--color-brand-hover);--Switch-active-background: var(--color-brand-active)}.excalidraw .Switch{position:relative;box-sizing:border-box;width:40px;height:20px;border-radius:12px;transition-property:background,border;transition-duration:150ms;transition-timing-function:ease-out;background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-color)}.excalidraw .Switch:hover{background:var(--Switch-track-background);border:1px solid var(--Switch-hover-background)}.excalidraw .Switch:active{border:1px solid var(--Switch-active-background)}.excalidraw .Switch.toggled{background:var(--color-primary);border:1px solid var(--color-primary)}.excalidraw .Switch.toggled:hover{background:var(--color-primary-darker);border:1px solid var(--color-primary-darker)}.excalidraw .Switch.disabled{background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-border)}.excalidraw .Switch.disabled.toggled{background:var(--Switch-disabled-toggled-background);border:1px solid var(--Switch-disabled-toggled-background)}.excalidraw .Switch:before{content:"";box-sizing:border-box;display:block;pointer-events:none;position:absolute;border-radius:100%;transition:all 150ms ease-out;width:10px;height:10px;top:4px;left:4px;background:var(--Switch-thumb-background)}.excalidraw .Switch:active:before{width:12px}.excalidraw .Switch.toggled:before{width:14px;height:14px;left:22px;top:2px;background:var(--Switch-track-background)}.excalidraw .Switch.toggled:active:before{width:16px;left:20px}.excalidraw .Switch.disabled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch.disabled.toggled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch input{width:100%;height:100%;margin:0;border-radius:12px;-webkit-appearance:none;appearance:none;cursor:pointer}.excalidraw .Switch input:disabled{cursor:unset}',""]),t.Z=b},6759:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),t.Z=b},9650:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),t.Z=b},2044:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-on-primary-container)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-surface-primary-container);--keybinding-color: var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--button-active-border)}.excalidraw .ToolIcon .ToolIcon__icon:active svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}@media screen and (max-width: 450px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.8rem;height:1.8rem}}@media screen and (max-width: 379px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.5rem;height:1.5rem}}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .App-toolbar-container .ToolIcon__LaserPointer .ToolIcon__icon{width:var(--default-button-size);height:var(--default-button-size)}",""]),t.Z=b},9144:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .25rem}.excalidraw--mobile.excalidraw .App-toolbar__divider{margin:0}.excalidraw .App-toolbar__extra-tools-trigger{box-shadow:none;border:0;background-color:rgba(0,0,0,0)}.excalidraw .App-toolbar__extra-tools-trigger:active{background-color:var(--button-hover-bg);box-shadow:0 0 0 1px var(--button-active-border, var(--color-primary-darkest)) inset}.excalidraw .App-toolbar__extra-tools-trigger--selected,.excalidraw .App-toolbar__extra-tools-trigger--selected:hover{background:var(--color-primary-light);color:var(--color-primary)}.excalidraw .App-toolbar__extra-tools-dropdown{margin-top:.375rem;right:0;min-width:11.875rem;z-index:1}",""]),t.Z=b},6626:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:fixed;z-index:var(--zIndex-popup);padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),t.Z=b},6359:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),t.Z=b},7399:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{left:0;width:100%;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:var(--island-bg-color);max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-on-surface);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item--selected{background:var(--color-primary-light);--icon-fill-color: var(--color-primary-darker)}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item:active{background-color:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));width:var(--lg-button-size);height:var(--lg-button-size);--background: var(--color-surface-mid);background-color:var(--background)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw.theme--dark.excalidraw .dropdown-menu-button{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .dropdown-menu-button:hover{--background: #363541}.excalidraw .dropdown-menu-button:hover{--background: var(--color-surface-high);background-color:var(--background);text-decoration:none}.excalidraw .dropdown-menu-button:active{border-color:var(--color-primary)}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),t.Z=b},8793:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start;-webkit-margin-end:.6rem;margin-inline-end:.6rem}.footer-center>*{pointer-events:var(--ui-pointerEvents)}",""]),t.Z=b},3397:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);box-shadow:0 0 0 1px var(--color-surface-lowest);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),t.Z=b},4343:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),t.Z=b},1569:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw .welcome-screen-decor a{--color: var(--color-primary);color:var(--color);text-decoration:none;margin-bottom:-6px}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:var(--ui-pointerEvents);color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:1px solid rgba(0,0,0,0);padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw .welcome-screen-menu-item:hover{text-decoration:none;background:var(--button-hover-bg)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item:hover{background-color:var(--color-surface-low)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),t.Z=b},9915:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),t.Z=b},9310:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d),T=e(1667),S=e.n(T),a=new URL(e(7984),e.b),c=new URL(e(1639),e.b),Z=b()(v()),F=S()(a),_=S()(c);Z.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+F+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+_+');--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}:root{--zIndex-canvas: 1;--zIndex-interactiveCanvas: 2;--zIndex-wysiwyg: 3;--zIndex-layerUI: 4;--zIndex-eyeDropperBackdrop: 5;--zIndex-eyeDropperPreview: 6;--zIndex-modal: 1000;--zIndex-popup: 1001;--zIndex-toast: 999999;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top)}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw canvas.interactive{z-index:var(--zIndex-interactiveCanvas)}.excalidraw__canvas-wrapper,.excalidraw__canvas.static{pointer-events:none}.excalidraw__canvas{position:absolute}.excalidraw__embeddable{width:100%;height:100%;border:0}.excalidraw__embeddable-container{position:absolute;z-index:2;-webkit-transform-origin:top left;transform-origin:top left;pointer-events:none}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 1px var(--color-brand-hover)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:var(--ui-pointerEvents)}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-toolbar-content .dropdown-menu--mobile{bottom:55px;top:auto}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .App-menu_top>*{pointer-events:var(--ui-pointerEvents)}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;font-family:inherit;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:var(--ui-pointerEvents);font-family:inherit}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--button-active-border)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .help-icon.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .help-icon:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{border-color:var(--color-brand-hover)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;border-color:var(--color-brand-hover)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw select::-webkit-scrollbar{width:10px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{width:2rem;height:2rem;border-radius:0}.excalidraw .mobile-misc-tools-container .default-sidebar-trigger{border:0}.excalidraw .App-toolbar--mobile{overflow:visible;max-width:98vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.excalidraw .main-menu-trigger{border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low)}.excalidraw .main-menu-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .App-menu__left{--button-border: transparent;--button-bg: var(--color-surface-mid)}.excalidraw.theme--dark.excalidraw .App-menu__left{--button-hover-bg: #363541;--button-bg: var(--color-surface-high)}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}.excalidraw__embeddable-container .excalidraw__embeddable-container__inner{overflow:hidden;display:flex;align-items:center;justify-content:center;border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable__outer{width:100%;height:100%}.excalidraw__embeddable-container .excalidraw__embeddable__outer>*{border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable-hint{position:absolute;z-index:1;background:rgba(0,0,0,.5);padding:1rem 1.6rem;border-radius:12px;color:#fff;font-weight:bold;letter-spacing:.6px;font-family:"Assistant"}',""]),t.Z=Z},6464:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,"",""]),b.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},t.Z=b},5260:function(te,t,e){var w=e(8081),v=e.n(w),d=e(3645),b=e.n(d)()(v());b.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),t.Z=b},3645:function(te){te.exports=function(t){var e=[];return e.toString=function(){return this.map(function(w){var v="",d=w[5]!==void 0;return w[4]&&(v+="@supports (".concat(w[4],") {")),w[2]&&(v+="@media ".concat(w[2]," {")),d&&(v+="@layer".concat(w[5].length>0?" ".concat(w[5]):""," {")),v+=t(w),d&&(v+="}"),w[2]&&(v+="}"),w[4]&&(v+="}"),v}).join("")},e.i=function(w,v,d,b,T){typeof w=="string"&&(w=[[null,w,void 0]]);var S={};if(d)for(var a=0;a<this.length;a++){var c=this[a][0];c!=null&&(S[c]=!0)}for(var Z=0;Z<w.length;Z++){var F=[].concat(w[Z]);d&&S[F[0]]||(T!==void 0&&(F[5]===void 0||(F[1]="@layer".concat(F[5].length>0?" ".concat(F[5]):""," {").concat(F[1],"}")),F[5]=T),v&&(F[2]&&(F[1]="@media ".concat(F[2]," {").concat(F[1],"}")),F[2]=v),b&&(F[4]?(F[1]="@supports (".concat(F[4],") {").concat(F[1],"}"),F[4]=b):F[4]="".concat(b)),e.push(F))}},e}},1667:function(te){te.exports=function(t,e){return e||(e={}),t&&(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},8081:function(te){te.exports=function(t){return t[1]}},7392:function(te,t,e){e.d(t,{JQ:function(){return fe},vD:function(){return he},y7:function(){return le}});var w=e(1930),v=e(7169),d=e(9937),b=e(7651),T=e(583),S=e(4761),a=e(3474),c=e(4183),Z=e(9827),F=e(2767);function _(X,q){var U=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(!U){if(Array.isArray(X)||(U=function(p,r){if(p){if(typeof p=="string")return h(p,r);var o=Object.prototype.toString.call(p).slice(8,-1);if(o==="Object"&&p.constructor&&(o=p.constructor.name),o==="Map"||o==="Set")return Array.from(p);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return h(p,r)}}(X))||q){U&&(X=U);var R=0,B=function(){};return{s:B,n:function(){return R>=X.length?{done:!0}:{done:!1,value:X[R++]}},e:function(p){throw p},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,I=!0,E=!1;return{s:function(){U=U.call(X)},n:function(){var p=U.next();return I=p.done,p},e:function(p){E=!0,M=p},f:function(){try{I||U.return==null||U.return()}finally{if(E)throw M}}}}function h(X,q){(q==null||q>X.length)&&(q=X.length);for(var U=0,R=new Array(q);U<q;U++)R[U]=X[U];return R}function x(X,q){var U=Object.keys(X);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(X);q&&(R=R.filter(function(B){return Object.getOwnPropertyDescriptor(X,B).enumerable})),U.push.apply(U,R)}return U}function G(X){for(var q=1;q<arguments.length;q++){var U=arguments[q]!=null?arguments[q]:{};q%2?x(Object(U),!0).forEach(function(R){(0,v.Z)(X,R,U[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(U)):x(Object(U)).forEach(function(R){Object.defineProperty(X,R,Object.getOwnPropertyDescriptor(U,R))})}return X}var le=(0,F.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(X,q,U,R){return R.scene.getSelectedElements(q).some(function(B){return(0,c.Xo)(B)})},perform:function(X,q,U,R){return R.scene.getSelectedElements(q).forEach(function(B){var M=(0,S.WJ)(B);if(M){var I,E=(0,S.X1)(M.originalText,(0,Z.mO)(M),M.lineHeight),p=E.width,r=E.height,o=E.baseline,g=(0,a.eR)(B.id);(0,a.kT)(B.id);var s=(0,S.FE)(B,M),u=s.x,k=s.y;(0,T.DR)(M,{containerId:null,width:p,height:r,baseline:o,text:M.originalText,x:u,y:k}),(0,T.DR)(B,{boundElements:(I=B.boundElements)===null||I===void 0?void 0:I.filter(function(N){return N.id!==M.id}),height:g||B.height})}}),{elements:X,appState:q,commitToHistory:!0}}}),he=(0,F.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(X,q,U,R){var B=R.scene.getSelectedElements(q);if(B.length===2){var M,I=(0,b.iB)(B[0])||(0,b.iB)(B[1]);if((0,c.mG)(B[0])?M=B[0]:(0,c.mG)(B[1])&&(M=B[1]),I&&M&&(0,S.WJ)(M)===null)return!0}return!1},perform:function(X,q,U,R){var B,M,I=R.scene.getSelectedElements(q);(0,b.iB)(I[0])&&(0,c.mG)(I[1])?(B=I[0],M=I[1]):(B=I[1],M=I[0]),(0,T.DR)(B,{containerId:M.id,verticalAlign:d.oX.MIDDLE,textAlign:d.I8.CENTER}),(0,T.DR)(M,{boundElements:(M.boundElements||[]).concat({type:"text",id:B.id})});var E=M.height;return(0,S.oN)(B,M),(0,a.h_)(M.id,E),{elements:ve(X,M,B),appState:G(G({},q),{},{selectedElementIds:(0,v.Z)({},M.id,!0)}),commitToHistory:!0}}}),ve=function(X,q,U){var R=X.slice(),B=R.findIndex(function(I){return I.id===U.id});R.splice(B,1);var M=R.findIndex(function(I){return I.id===q.id});return R.splice(M+1,0,U),R},fe=(0,F.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(X,q,U,R){var B=R.scene.getSelectedElements(q),M=B.every(function(I){return(0,b.iB)(I)});return B.length>0&&M},perform:function(X,q,U,R){var B,M=R.scene.getSelectedElements(q),I=X.slice(),E={},p=_(M);try{var r=function(){var o=B.value;if((0,b.iB)(o)){var g,s=(0,b.Up)({type:"rectangle",backgroundColor:q.currentItemBackgroundColor,boundElements:[].concat((0,w.Z)(o.boundElements||[]),[{id:o.id,type:"text"}]),angle:o.angle,fillStyle:q.currentItemFillStyle,strokeColor:q.currentItemStrokeColor,roughness:q.currentItemRoughness,strokeWidth:q.currentItemStrokeWidth,strokeStyle:q.currentItemStrokeStyle,roundness:q.currentItemRoundness==="round"?{type:(0,c.QI)("rectangle")?d.a6.ADAPTIVE_RADIUS:d.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:o.x-d.gK,y:o.y-d.gK,width:(0,S.NS)(o.width,"rectangle"),height:(0,S.NS)(o.height,"rectangle"),groupIds:o.groupIds,frameId:o.frameId});if((g=o.boundElements)!==null&&g!==void 0&&g.length){var u=o.boundElements.filter(function(k){return k.type==="arrow"}).map(function(k){return k.id});I.filter(function(k){return u.includes(k.id)}).forEach(function(k){var N,W,O=k.startBinding,j=k.endBinding;((N=O)===null||N===void 0?void 0:N.elementId)===o.id&&(O=G(G({},O),{},{elementId:s.id})),((W=j)===null||W===void 0?void 0:W.elementId)===o.id&&(j=G(G({},j),{},{elementId:s.id})),(O||j)&&(0,T.DR)(k,{startBinding:O,endBinding:j},!1)})}(0,T.DR)(o,{containerId:s.id,verticalAlign:d.oX.MIDDLE,boundElements:null,textAlign:d.I8.CENTER},!1),(0,S.oN)(o,s),I=function(k,N,W){var O=k.slice(),j=O.findIndex(function(V){return V.id===N.id});O.splice(j,1);var L=O.findIndex(function(V){return V.id===W.id});return O.splice(L,0,N),O}([].concat((0,w.Z)(I),[s]),s,o),E[s.id]=!0}};for(p.s();!(B=p.n()).done;)r()}catch(o){p.e(o)}finally{p.f()}return{elements:I,appState:G(G({},q),{},{selectedElementIds:E}),commitToHistory:!0}}})},6006:function(te,t,e){e.d(t,{CZ:function(){return I},JB:function(){return E},Lo:function(){return M},Zp:function(){return p},eF:function(){return r},mo:function(){return B}});var w=e(2577),v=e(7169),d=e(193),b=e(8935),T=e(1512),S=e(9937),a=e(7651),c=e(8227),Z=e(5491),F=e(4105),_=e(2382),h=e(4116),x=e(9827),G=e(2767),le=e(8925),he=e(583),ve=e(6853),fe=e(9240),X=e(7652),q=e(1020);function U(o,g){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);g&&(u=u.filter(function(k){return Object.getOwnPropertyDescriptor(o,k).enumerable})),s.push.apply(s,u)}return s}function R(o){for(var g=1;g<arguments.length;g++){var s=arguments[g]!=null?arguments[g]:{};g%2?U(Object(s),!0).forEach(function(u){(0,v.Z)(o,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):U(Object(s)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(s,u))})}return o}(0,G.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(o,g,s,u){return!!u.props.UIOptions.canvasActions.changeViewBackgroundColor&&!g.viewModeEnabled},perform:function(o,g,s){return{appState:R(R({},g),s),commitToHistory:!!s.viewBackgroundColor}},PanelComponent:function(o){var g=o.elements,s=o.appState,u=o.updateData;return o.appProps,(0,q.jsx)(d.z,{palette:null,topPicks:fe.ay,label:(0,c.t)("labels.canvasBackground"),type:"canvasBackground",color:s.viewBackgroundColor,onChange:function(k){return u({viewBackgroundColor:k})},"data-testid":"canvas-background-picker",elements:g,appState:s,updateData:u})}});var B=(0,G.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(o,g,s,u){return!!u.props.UIOptions.canvasActions.clearCanvas&&!g.viewModeEnabled},perform:function(o,g,s,u){return u.imageCache.clear(),{elements:o.map(function(k){return(0,he.BE)(k,{isDeleted:!0})}),appState:R(R({},(0,ve.im)()),{},{files:{},theme:g.theme,penMode:g.penMode,penDetected:g.penDetected,exportBackground:g.exportBackground,exportEmbedScene:g.exportEmbedScene,gridSize:g.gridSize,showStats:g.showStats,pasteDialog:g.pasteDialog,activeTool:g.activeTool.type==="image"?R(R({},g.activeTool),{},{type:"selection"}):g.activeTool}),commitToHistory:!0}}}),M=(0,G.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,g,s,u){return{appState:R(R({},g),(0,h.E)({viewportX:g.width/2+g.offsetLeft,viewportY:g.height/2+g.offsetTop,nextZoom:(0,F.j)(g.zoom.value+S.V4)},g)),commitToHistory:!1}},PanelComponent:function(o){var g=o.updateData;return(0,q.jsx)(T.V,{type:"button",className:"zoom-in-button zoom-button",icon:b.Sd,title:"".concat((0,c.t)("buttons.zoomIn")," — ").concat((0,x.uY)("CtrlOrCmd++")),"aria-label":(0,c.t)("buttons.zoomIn"),onClick:function(){g(null)}})},keyTest:function(o){return(o.code===Z.aU.EQUAL||o.code===Z.aU.NUM_ADD)&&(o[Z.tW.CTRL_OR_CMD]||o.shiftKey)}}),I=(0,G.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,g,s,u){return{appState:R(R({},g),(0,h.E)({viewportX:g.width/2+g.offsetLeft,viewportY:g.height/2+g.offsetTop,nextZoom:(0,F.j)(g.zoom.value-S.V4)},g)),commitToHistory:!1}},PanelComponent:function(o){var g=o.updateData;return(0,q.jsx)(T.V,{type:"button",className:"zoom-out-button zoom-button",icon:b.xL,title:"".concat((0,c.t)("buttons.zoomOut")," — ").concat((0,x.uY)("CtrlOrCmd+-")),"aria-label":(0,c.t)("buttons.zoomOut"),onClick:function(){g(null)}})},keyTest:function(o){return(o.code===Z.aU.MINUS||o.code===Z.aU.NUM_SUBTRACT)&&(o[Z.tW.CTRL_OR_CMD]||o.shiftKey)}}),E=((0,G.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,g,s,u){return{appState:R(R({},g),(0,h.E)({viewportX:g.width/2+g.offsetLeft,viewportY:g.height/2+g.offsetTop,nextZoom:(0,F.j)(1)},g)),commitToHistory:!1}},PanelComponent:function(o){var g=o.updateData,s=o.appState;return(0,q.jsx)(le.u,{label:(0,c.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,q.jsxs)(T.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,c.t)("buttons.resetZoom"),"aria-label":(0,c.t)("buttons.resetZoom"),onClick:function(){g(null)},children:[(100*s.zoom.value).toFixed(0),"%"]})})},keyTest:function(o){return(o.code===Z.aU.ZERO||o.code===Z.aU.NUM_ZERO)&&(o[Z.tW.CTRL_OR_CMD]||o.shiftKey)}}),function(o){var g,s,u,k=o.targetElements,N=o.appState,W=o.fitToViewport,O=W!==void 0&&W,j=o.viewportZoomFactor,L=j===void 0?.7:j,V=(0,a.KP)((0,a.Lm)(k)),ie=(0,w.Z)(V,4),se=ie[0],ue=ie[1],pe=ie[2],Q=ie[3],ee=(se+pe)/2,me=(ue+Q)/2;if(O){var Te=pe-se,Ue=Q-ue;g=Math.min(N.width/Te,N.height/Ue)*Math.min(1,Math.max(L,.1)),g=Math.min(Math.max(g,.1),30),s=N.width/2*(1/g)-ee,u=N.height/2*(1/g)-me}else{g=function(Ae,Oe){var Ie=(0,w.Z)(Ae,4),Re=Ie[0],ke=Ie[1],xe=Ie[2],ye=Ie[3],P=xe-Re,l=Oe.width/P,f=ye-ke,D=Oe.height/f,H=Math.min(l,D),J=Math.floor(H/S.V4)*S.V4;return Math.min(Math.max(J,S.Zj),1)}(V,{width:N.width,height:N.height});var qe=(0,_.s)({scenePoint:{x:ee,y:me},viewportDimensions:{width:N.width,height:N.height},zoom:{value:g}});s=qe.scrollX,u=qe.scrollY}return{appState:R(R({},N),{},{scrollX:s,scrollY:u,zoom:{value:g}}),commitToHistory:!1}}),p=((0,G.z)({name:"zoomToFitSelectionInViewport",trackEvent:{category:"canvas"},perform:function(o,g,s,u){var k=u.scene.getSelectedElements(g);return E({targetElements:k.length?k:o,appState:g,fitToViewport:!1})},keyTest:function(o){return o.code===Z.aU.TWO&&o.shiftKey&&!o.altKey&&!o[Z.tW.CTRL_OR_CMD]}}),(0,G.z)({name:"zoomToFitSelection",trackEvent:{category:"canvas"},perform:function(o,g,s,u){var k=u.scene.getSelectedElements(g);return E({targetElements:k.length?k:o,appState:g,fitToViewport:!0})},keyTest:function(o){return o.code===Z.aU.THREE&&o.shiftKey&&!o.altKey&&!o[Z.tW.CTRL_OR_CMD]}}),(0,G.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,g){return E({targetElements:o,appState:g,fitToViewport:!1})},keyTest:function(o){return o.code===Z.aU.ONE&&o.shiftKey&&!o.altKey&&!o[Z.tW.CTRL_OR_CMD]}}),(0,G.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,g,s){return{appState:R(R({},g),{},{theme:s||(g.theme===S.C6.LIGHT?S.C6.DARK:S.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(o){return o.altKey&&o.shiftKey&&o.code===Z.aU.D},predicate:function(o,g,s,u){return!!u.props.UIOptions.canvasActions.toggleTheme}})),r=((0,G.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(o,g){var s;return s=(0,ve.EN)(g)?(0,x.Om)(g,R(R({},g.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,x.Om)(g,{type:"eraser",lastActiveToolBeforeEraser:g.activeTool}),{appState:R(R({},g),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:s}),commitToHistory:!0}},keyTest:function(o){return o.key===Z.tW.E}}),(0,G.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(o,g,s,u){var k;return(0,ve.l$)(g)?k=(0,x.Om)(g,R(R({},g.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(k=(0,x.Om)(g,{type:"hand",lastActiveToolBeforeEraser:g.activeTool}),(0,X.KJ)(u.interactiveCanvas,S.oc.GRAB)),{appState:R(R({},g),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:k}),commitToHistory:!0}},keyTest:function(o){return!o.altKey&&!o[Z.tW.CTRL_OR_CMD]&&o.key===Z.tW.H}}))},5047:function(te,t,e){e.d(t,{FA:function(){return R},ZM:function(){return U},jK:function(){return B},uN:function(){return X},yQ:function(){return q},zp:function(){return M}});var w=e(7169),v=e(8950),d=e(2975),b=e.n(d),T=e(5491),S=e(2767),a=e(4694),c=e(2448),Z=e(2435),F=e(7651),_=e(8227),h=e(9937);function x(I,E){var p=Object.keys(I);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(I);E&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(I,o).enumerable})),p.push.apply(p,r)}return p}function G(I){for(var E=1;E<arguments.length;E++){var p=arguments[E]!=null?arguments[E]:{};E%2?x(Object(p),!0).forEach(function(r){(0,w.Z)(I,r,p[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(p)):x(Object(p)).forEach(function(r){Object.defineProperty(I,r,Object.getOwnPropertyDescriptor(p,r))})}return I}var le,he,ve,fe,X=(0,S.z)({name:"copy",trackEvent:{category:"element"},perform:(le=(0,v.Z)(b().mark(function I(E,p,r,o){var g;return b().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return g=o.scene.getSelectedElements({selectedElementIds:p.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),s.prev=1,s.next=4,(0,a.vQ)(g,o.files,r);case 4:s.next=9;break;case 6:return s.prev=6,s.t0=s.catch(1),s.abrupt("return",{commitToHistory:!1,appState:G(G({},p),{},{errorMessage:s.t0.message})});case 9:return s.abrupt("return",{commitToHistory:!1});case 10:case"end":return s.stop()}},I,null,[[1,6]])})),function(I,E,p,r){return le.apply(this,arguments)}),contextItemLabel:"labels.copy",keyTest:void 0}),q=(0,S.z)({name:"paste",trackEvent:{category:"element"},perform:(he=(0,v.Z)(b().mark(function I(E,p,r,o){var g;return b().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,a.Se)();case 3:g=s.sent,s.next=14;break;case 6:if(s.prev=6,s.t0=s.catch(0),s.t0.name!=="AbortError"&&s.t0.name!=="NotAllowedError"){s.next=10;break}return s.abrupt("return",!1);case 10:if(console.error("actionPaste ".concat(s.t0.name,": ").concat(s.t0.message)),!h.vU){s.next=13;break}return s.abrupt("return",{commitToHistory:!1,appState:G(G({},p),{},{errorMessage:(0,_.t)("hints.firefox_clipboard_write")})});case 13:return s.abrupt("return",{commitToHistory:!1,appState:G(G({},p),{},{errorMessage:(0,_.t)("errors.asyncPasteFailedOnRead")})});case 14:s.prev=14,o.pasteFromClipboard((0,a.OO)({types:g})),s.next=22;break;case 18:return s.prev=18,s.t1=s.catch(14),console.error(s.t1),s.abrupt("return",{commitToHistory:!1,appState:G(G({},p),{},{errorMessage:(0,_.t)("errors.asyncPasteFailedOnParse")})});case 22:return s.abrupt("return",{commitToHistory:!1});case 23:case"end":return s.stop()}},I,null,[[0,6],[14,18]])})),function(I,E,p,r){return he.apply(this,arguments)}),contextItemLabel:"labels.paste",keyTest:void 0}),U=(0,S.z)({name:"cut",trackEvent:{category:"element"},perform:function(I,E,p,r){return X.perform(I,E,p,r),c.X.perform(I,E)},contextItemLabel:"labels.cut",keyTest:function(I){return I[T.tW.CTRL_OR_CMD]&&I.key===T.tW.X}}),R=(0,S.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(ve=(0,v.Z)(b().mark(function I(E,p,r,o){var g,s,u;return b().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(o.canvas){k.next=2;break}return k.abrupt("return",{commitToHistory:!1});case 2:return g=(0,Z.HD)(E,p,!0),s=g.exportedElements,u=g.exportingFrame,k.prev=3,k.next=6,(0,Z.p1)("clipboard-svg",s,p,o.files,G(G({},p),{},{exportingFrame:u}));case 6:return k.abrupt("return",{commitToHistory:!1});case 9:return k.prev=9,k.t0=k.catch(3),console.error(k.t0),k.abrupt("return",{appState:G(G({},p),{},{errorMessage:k.t0.message}),commitToHistory:!1});case 13:case"end":return k.stop()}},I,null,[[3,9]])})),function(I,E,p,r){return ve.apply(this,arguments)}),predicate:function(I){return a.wx&&I.length>0},contextItemLabel:"labels.copyAsSvg"}),B=(0,S.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(fe=(0,v.Z)(b().mark(function I(E,p,r,o){var g,s,u,k;return b().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(o.canvas){N.next=2;break}return N.abrupt("return",{commitToHistory:!1});case 2:return g=o.scene.getSelectedElements({selectedElementIds:p.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),s=(0,Z.HD)(E,p,!0),u=s.exportedElements,k=s.exportingFrame,N.prev=4,N.next=7,(0,Z.p1)("clipboard",u,p,o.files,G(G({},p),{},{exportingFrame:k}));case 7:return N.abrupt("return",{appState:G(G({},p),{},{toast:{message:(0,_.t)("toast.copyToClipboardAsPng",{exportSelection:g.length?(0,_.t)("toast.selection"):(0,_.t)("toast.canvas"),exportColorScheme:p.exportWithDarkMode?(0,_.t)("buttons.darkMode"):(0,_.t)("buttons.lightMode")})}}),commitToHistory:!1});case 10:return N.prev=10,N.t0=N.catch(4),console.error(N.t0),N.abrupt("return",{appState:G(G({},p),{},{errorMessage:N.t0.message}),commitToHistory:!1});case 14:case"end":return N.stop()}},I,null,[[4,10]])})),function(I,E,p,r){return fe.apply(this,arguments)}),predicate:function(I){return a.vt&&I.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(I){return I.code===T.aU.C&&I.altKey&&I.shiftKey}}),M=(0,S.z)({name:"copyText",trackEvent:{category:"element"},perform:function(I,E,p,r){var o=r.scene.getSelectedElements({selectedElementIds:E.selectedElementIds,includeBoundTextElement:!0}).reduce(function(g,s){return(0,F.iB)(s)&&g.push(s.text),g},[]).join(`

`);return(0,a.dd)(o),{commitToHistory:!1}},predicate:function(I,E,p,r){return a.wx&&r.scene.getSelectedElements({selectedElementIds:E.selectedElementIds,includeBoundTextElement:!0}).some(F.iB)},contextItemLabel:"labels.copyText"})},2448:function(te,t,e){e.d(t,{X:function(){return X}});var w=e(7169),v=e(4105),d=e(5491),b=e(1512),T=e(8227),S=e(2767),a=e(7651),c=e(583),Z=e(9215),F=e(7422),_=e(9645),h=e(4183),x=e(9827),G=e(8935),le=e(1020);function he(q,U){var R=Object.keys(q);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(q);U&&(B=B.filter(function(M){return Object.getOwnPropertyDescriptor(q,M).enumerable})),R.push.apply(R,B)}return R}function ve(q){for(var U=1;U<arguments.length;U++){var R=arguments[U]!=null?arguments[U]:{};U%2?he(Object(R),!0).forEach(function(B){(0,w.Z)(q,B,R[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(R)):he(Object(R)).forEach(function(B){Object.defineProperty(q,B,Object.getOwnPropertyDescriptor(R,B))})}return q}var fe=function(q,U){if(q.editingGroupId){var R=(0,Z.Fb)((0,a.Lm)(U),q.editingGroupId);if(R.length)return ve(ve({},q),{},{selectedElementIds:(0,w.Z)({},R[0].id,!0)})}return q},X=(0,S.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(q,U){if(U.editingLinearElement){var R=U.editingLinearElement,B=R.elementId,M=R.selectedPointsIndices,I=R.startBindingElement,E=R.endBindingElement,p=F._.getElement(B);if(!p||M==null)return!1;if(p.points.length<2){var r=q.map(function(k){return k.id===p.id?(0,c.BE)(k,{isDeleted:!0}):k});return{elements:r,appState:ve(ve({},fe(U,r)),{},{editingLinearElement:null}),commitToHistory:!1}}var o={startBindingElement:M!=null&&M.includes(0)?null:I,endBindingElement:M!=null&&M.includes(p.points.length-1)?null:E};return F._.deletePoints(p,M),{elements:q,appState:ve(ve({},U),{},{editingLinearElement:ve(ve(ve({},U.editingLinearElement),o),{},{selectedPointsIndices:M?.[0]>0?[M[0]-1]:[0]})}),commitToHistory:!0}}var g=function(k,N){var W=new Set((0,v.eD)(k.filter(function(O){return O.type==="frame"}),N).map(function(O){return O.id}));return{elements:k.map(function(O){return N.selectedElementIds[O.id]||O.frameId&&W.has(O.frameId)||(0,h.Xh)(O)&&N.selectedElementIds[O.containerId]?(0,c.BE)(O,{isDeleted:!0}):O}),appState:ve(ve({},N),{},{selectedElementIds:{},selectedGroupIds:{}})}}(q,U),s=g.elements,u=g.appState;return(0,_.$q)(s,q.filter(function(k){var N=k.id;return U.selectedElementIds[N]})),{elements:s,appState:ve(ve({},u=fe(u,s)),{},{activeTool:(0,x.Om)(U,{type:"selection"}),multiElement:null,activeEmbeddable:null}),commitToHistory:(0,v.N)((0,a.Lm)(q),U)}},contextItemLabel:"labels.delete",keyTest:function(q,U,R){return(q.key===d.tW.BACKSPACE||q.key===d.tW.DELETE)&&!q[d.tW.CTRL_OR_CMD]},PanelComponent:function(q){var U=q.elements,R=q.appState,B=q.updateData;return(0,le.jsx)(b.V,{type:"button",icon:G.XH,title:(0,T.t)("labels.delete"),"aria-label":(0,T.t)("labels.delete"),onClick:function(){return B(null)},visible:(0,v.N)((0,a.Lm)(U),R)})}})},9672:function(te,t,e){e.d(t,{$:function(){return Z},U:function(){return F}});var w=e(7169),v=e(583),d=e(5491),b=e(9827),T=e(2767);function S(_,h){var x=Object.keys(_);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(_);h&&(G=G.filter(function(le){return Object.getOwnPropertyDescriptor(_,le).enumerable})),x.push.apply(x,G)}return x}function a(_){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{};h%2?S(Object(x),!0).forEach(function(G){(0,w.Z)(_,G,x[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(x)):S(Object(x)).forEach(function(G){Object.defineProperty(_,G,Object.getOwnPropertyDescriptor(x,G))})}return _}var c=function(_){return _.every(function(h){return!h.locked})},Z=(0,T.z)({name:"toggleElementLock",trackEvent:{category:"element"},predicate:function(_,h,x,G){return!G.scene.getSelectedElements(h).some(function(le){return le.locked&&le.frameId})},perform:function(_,h,x,G){var le=G.scene.getSelectedElements({selectedElementIds:h.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!le.length)return!1;var he=c(le),ve=(0,b.xn)(le);return{elements:_.map(function(fe){return ve.has(fe.id)?(0,v.BE)(fe,{locked:he}):fe}),appState:a(a({},h),{},{selectedLinearElement:he?null:h.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(_,h,x){var G=x.scene.getSelectedElements({selectedElementIds:h.selectedElementIds,includeBoundTextElement:!1});return G.length===1&&G[0].type!=="frame"?G[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":c(G)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(_,h,x,G){return _.key.toLocaleLowerCase()===d.tW.L&&_[d.tW.CTRL_OR_CMD]&&_.shiftKey&&G.scene.getSelectedElements({selectedElementIds:h.selectedElementIds,includeBoundTextElement:!1}).length>0}}),F=(0,T.z)({name:"unlockAllElements",trackEvent:{category:"canvas"},viewMode:!1,predicate:function(_){return _.some(function(h){return h.locked})},perform:function(_,h){var x=_.filter(function(G){return G.locked});return{elements:_.map(function(G){return G.locked?(0,v.BE)(G,{locked:!1}):G}),appState:a(a({},h),{},{selectedElementIds:Object.fromEntries(x.map(function(G){return[G.id,!0]}))}),commitToHistory:!0}},contextItemLabel:"labels.elementLock.unlockAll"})},4406:function(te,t,e){e.d(t,{XA:function(){return Re},Du:function(){return ke},sK:function(){return Ie},zX:function(){return Oe},bJ:function(){return l},_d:function(){return P},mM:function(){return ye},ns:function(){return xe}});var w=e(8950),v=e(2577),d=e(7169),b=e(2975),T=e.n(b),S=e(8935),a=e(3379),c=e.n(a),Z=e(7795),F=e.n(Z),_=e(569),h=e.n(_),x=e(3565),G=e.n(x),le=e(9216),he=e.n(le),ve=e(4589),fe=e.n(ve),X=e(6759),q={};q.styleTagTransform=fe(),q.setAttributes=G(),q.insert=h().bind(null,"head"),q.domAPI=F(),q.insertStyleElement=he(),c()(X.Z,q),X.Z&&X.Z.locals&&X.Z.locals;var U=e(9787),R=e(9827),B=e(532),M={};M.styleTagTransform=fe(),M.setAttributes=G(),M.insert=h().bind(null,"head"),M.domAPI=F(),M.insertStyleElement=he(),c()(B.Z,M),B.Z&&B.Z.locals&&B.Z.locals;var I=e(8242),E=e(5491),p=e(1020),r=function(f){var D=(0,I.J0)().id,H=(0,U.useState)(f.value),J=(0,v.Z)(H,2),re=J[0],ae=J[1];return(0,p.jsxs)("div",{className:"ProjectName",children:[(0,p.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(f.label).concat(f.isNameEditable?"":":")}),f.isNameEditable?(0,p.jsx)("input",{type:"text",className:"TextInput",onBlur:function(ge){f.ignoreFocus||(0,R.qz)(ge.target);var _e=ge.target.value;_e!==f.value&&f.onChange(_e)},onKeyDown:function(ge){if(ge.key===E.tW.ENTER){if(ge.preventDefault(),ge.nativeEvent.isComposing||ge.keyCode===229)return;ge.currentTarget.blur()}},id:"".concat(D,"-filename"),value:re,onChange:function(ge){return ae(ge.target.value)}}):(0,p.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(D,"-filename"),children:f.value})]})},o=e(1512),g=e(8925),s=(e(3041),e(8227)),u=e(9937),k=function(f){var D=f.title||(f.value==="dark"?(0,s.t)("buttons.lightMode"):(0,s.t)("buttons.darkMode"));return(0,p.jsx)(o.V,{type:"icon",icon:f.value===u.C6.LIGHT?N.MOON:N.SUN,title:D,"aria-label":D,onClick:function(){return f.onChange(f.value===u.C6.DARK?u.C6.LIGHT:u.C6.DARK)},"data-testid":"toggle-dark-mode"})},N={SUN:(0,p.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,p.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,p.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,p.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},W=e(2435),O=e(5796);function j(f,D){var H=Object.keys(f);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(f);D&&(J=J.filter(function(re){return Object.getOwnPropertyDescriptor(f,re).enumerable})),H.push.apply(H,J)}return H}function L(f){for(var D=1;D<arguments.length;D++){var H=arguments[D]!=null?arguments[D]:{};D%2?j(Object(H),!0).forEach(function(J){(0,d.Z)(f,J,H[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(H)):j(Object(H)).forEach(function(J){Object.defineProperty(f,J,Object.getOwnPropertyDescriptor(H,J))})}return f}var V=function(){var f=(0,w.Z)(T().mark(function D(H,J,re){var ae,ge,_e,ze,Je,et,Ke,tt,ut;return T().wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:if(ge=(ae=J).exportBackground,_e=ae.viewBackgroundColor,ze=ae.name,Je=ae.fileHandle,et=(0,O.Qk)(Je),Je&&(0,O.DQ)(et)){ht.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return J=L(L({},J),{},{exportEmbedScene:!0}),Ke=(0,W.HD)(H,J,!1),tt=Ke.exportedElements,ut=Ke.exportingFrame,ht.next=8,(0,W.p1)(et,tt,J,re,{exportBackground:ge,viewBackgroundColor:_e,name:ze,fileHandle:Je,exportingFrame:ut});case 8:return ht.abrupt("return",{fileHandle:Je});case 9:case"end":return ht.stop()}},D)}));return function(D,H,J){return f.apply(this,arguments)}}(),ie=e(2767),se=e(6238),ue=e(3668),pe=e(4105),Q=e(7651),ee=e(6548);function me(f,D){var H=Object.keys(f);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(f);D&&(J=J.filter(function(re){return Object.getOwnPropertyDescriptor(f,re).enumerable})),H.push.apply(H,J)}return H}function Te(f){for(var D=1;D<arguments.length;D++){var H=arguments[D]!=null?arguments[D]:{};D%2?me(Object(H),!0).forEach(function(J){(0,d.Z)(f,J,H[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(H)):me(Object(H)).forEach(function(J){Object.defineProperty(f,J,Object.getOwnPropertyDescriptor(H,J))})}return f}var Ue,qe,Ae,Oe=(0,ie.z)({name:"changeProjectName",trackEvent:!1,perform:function(f,D,H){return{appState:Te(Te({},D),{},{name:H}),commitToHistory:!1}},PanelComponent:function(f){var D,H=f.appState,J=f.updateData,re=f.appProps,ae=f.data;return(0,p.jsx)(r,{label:(0,s.t)("labels.fileTitle"),value:H.name||"Unnamed",onChange:function(ge){return J(ge)},isNameEditable:re.name===void 0&&!H.viewModeEnabled,ignoreFocus:(D=ae?.ignoreFocus)!==null&&D!==void 0&&D})}}),Ie=(0,ie.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(f,D,H){return{appState:Te(Te({},D),{},{exportScale:H}),commitToHistory:!1}},PanelComponent:function(f){var D=f.elements,H=f.appState,J=f.updateData,re=(0,Q.Lm)(D),ae=(0,pe.N)(re,H)?(0,pe.eD)(re,H):re;return(0,p.jsx)(p.Fragment,{children:u.ZB.map(function(ge){var _e=(0,ue.Cg)(ae,u.qy,ge),ze=(0,v.Z)(_e,2),Je=ze[0],et=ze[1],Ke="".concat((0,s.t)("imageExportDialog.label.scale")," ").concat(ge,"x (").concat(Je,"x").concat(et,")");return(0,p.jsx)(o.V,{size:"small",type:"radio",icon:"".concat(ge,"x"),name:"export-canvas-scale",title:Ke,"aria-label":Ke,id:"export-canvas-scale",checked:ge===H.exportScale,onChange:function(){return J(ge)}},ge)})})}}),Re=(0,ie.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(f,D,H){return{appState:Te(Te({},D),{},{exportBackground:H}),commitToHistory:!1}},PanelComponent:function(f){var D=f.appState,H=f.updateData;return(0,p.jsx)(se.o,{checked:D.exportBackground,onChange:function(J){return H(J)},children:(0,s.t)("imageExportDialog.label.withBackground")})}}),ke=(0,ie.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(f,D,H){return{appState:Te(Te({},D),{},{exportEmbedScene:H}),commitToHistory:!1}},PanelComponent:function(f){var D=f.appState,H=f.updateData;return(0,p.jsxs)(se.o,{checked:D.exportEmbedScene,onChange:function(J){return H(J)},children:[(0,s.t)("imageExportDialog.label.embedScene"),(0,p.jsx)(g.u,{label:(0,s.t)("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,p.jsx)("div",{className:"excalidraw-tooltip-icon",children:S.Vl})})]})}}),xe=(0,ie.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(f,D,H,J){return!!J.props.UIOptions.canvasActions.saveToActiveFile&&!!D.fileHandle&&!D.viewModeEnabled},perform:(Ue=(0,w.Z)(T().mark(function f(D,H,J,re){var ae,ge,_e;return T().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(ae=!!H.fileHandle,ze.prev=1,!(0,O.g8)(H.fileHandle)){ze.next=8;break}return ze.next=5,V(D,H,re.files);case 5:ze.t0=ze.sent,ze.next=11;break;case 8:return ze.next=10,(0,W.Um)(D,H,re.files);case 10:ze.t0=ze.sent;case 11:return ge=ze.t0,_e=ge.fileHandle,ze.abrupt("return",{commitToHistory:!1,appState:Te(Te({},H),{},{fileHandle:_e,toast:ae?{message:_e!=null&&_e.name?(0,s.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(_e.name,'"')):(0,s.t)("toast.fileSaved")}:null})});case 16:return ze.prev=16,ze.t1=ze.catch(1),(ze.t1===null||ze.t1===void 0?void 0:ze.t1.name)!=="AbortError"?console.error(ze.t1):console.warn(ze.t1),ze.abrupt("return",{commitToHistory:!1});case 20:case"end":return ze.stop()}},f,null,[[1,16]])})),function(f,D,H,J){return Ue.apply(this,arguments)}),keyTest:function(f){return f.key===E.tW.S&&f[E.tW.CTRL_OR_CMD]&&!f.shiftKey}}),ye=(0,ie.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(qe=(0,w.Z)(T().mark(function f(D,H,J,re){var ae,ge;return T().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.prev=0,_e.next=3,(0,W.Um)(D,Te(Te({},H),{},{fileHandle:null}),re.files);case 3:return ae=_e.sent,ge=ae.fileHandle,_e.abrupt("return",{commitToHistory:!1,appState:Te(Te({},H),{},{openDialog:null,fileHandle:ge,toast:{message:(0,s.t)("toast.fileSaved")}})});case 8:return _e.prev=8,_e.t0=_e.catch(0),(_e.t0===null||_e.t0===void 0?void 0:_e.t0.name)!=="AbortError"?console.error(_e.t0):console.warn(_e.t0),_e.abrupt("return",{commitToHistory:!1});case 12:case"end":return _e.stop()}},f,null,[[0,8]])})),function(f,D,H,J){return qe.apply(this,arguments)}),keyTest:function(f){return f.key===E.tW.S&&f.shiftKey&&f[E.tW.CTRL_OR_CMD]},PanelComponent:function(f){var D=f.updateData;return(0,p.jsx)(o.V,{type:"button",icon:S.po,title:(0,s.t)("buttons.saveAs"),"aria-label":(0,s.t)("buttons.saveAs"),showAriaLabel:(0,I.Fy)().editor.isMobile,hidden:!ee.kr,onClick:function(){return D(null)},"data-testid":"save-as-button"})}}),P=(0,ie.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(f,D,H,J){return!!J.props.UIOptions.canvasActions.loadScene&&!D.viewModeEnabled},perform:(Ae=(0,w.Z)(T().mark(function f(D,H,J,re){var ae,ge,_e,ze;return T().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.prev=0,Je.next=3,(0,W.n8)(H,D);case 3:return ae=Je.sent,ge=ae.elements,_e=ae.appState,ze=ae.files,Je.abrupt("return",{elements:ge,appState:_e,files:ze,commitToHistory:!0});case 10:if(Je.prev=10,Je.t0=Je.catch(0),(Je.t0===null||Je.t0===void 0?void 0:Je.t0.name)!=="AbortError"){Je.next=15;break}return console.warn(Je.t0),Je.abrupt("return",!1);case 15:return Je.abrupt("return",{elements:D,appState:Te(Te({},H),{},{errorMessage:Je.t0.message}),files:re.files,commitToHistory:!1});case 16:case"end":return Je.stop()}},f,null,[[0,10]])})),function(f,D,H,J){return Ae.apply(this,arguments)}),keyTest:function(f){return f[E.tW.CTRL_OR_CMD]&&f.key===E.tW.O}}),l=(0,ie.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(f,D,H){return{appState:Te(Te({},D),{},{exportWithDarkMode:H}),commitToHistory:!1}},PanelComponent:function(f){var D=f.appState,H=f.updateData;return(0,p.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,p.jsx)(k,{value:D.exportWithDarkMode?u.C6.DARK:u.C6.LIGHT,onChange:function(J){H(J===u.C6.DARK)},title:(0,s.t)("imageExportDialog.label.darkMode")})})}})},3361:function(te,t,e){e.d(t,{Tu:function(){return qe},Zq:function(){return Ae}});var w=e(1930),v=e(7169),d=e(9240),b=e(3646),T=e(45),S=e(1020),a=function(Oe){return(0,S.jsx)("div",{className:"buttonList buttonListIcon",children:Oe.options.map(function(Ie){var Re;return Oe.type==="button"?(0,S.jsx)("button",{onClick:function(ke){return Oe.onClick(Ie.value,ke)},className:(0,T.Z)({active:(Re=Ie.active)!==null&&Re!==void 0?Re:Oe.value===Ie.value}),"data-testid":Ie.testId,title:Ie.text,children:Ie.icon},Ie.text):(0,S.jsxs)("label",{className:(0,T.Z)({active:Oe.value===Ie.value}),title:Ie.text,children:[(0,S.jsx)("input",{type:"radio",name:Oe.group,onChange:function(){return Oe.onChange(Ie.value)},checked:Oe.value===Ie.value,"data-testid":Ie.testId}),Ie.icon]},Ie.text)})})},c=e(193),Z=e(2577),F=e(9787),_=e.n(F),h=e(3204),x=e(3379),G=e.n(x),le=e(7795),he=e.n(le),ve=e(569),fe=e.n(ve),X=e(3565),q=e.n(X),U=e(9216),R=e.n(U),B=e(4589),M=e.n(B),I=e(9478),E={};E.styleTagTransform=M(),E.setAttributes=q(),E.insert=fe().bind(null,"head"),E.domAPI=he(),E.insertStyleElement=R(),G()(I.Z,E),I.Z&&I.Z.locals&&I.Z.locals;var p=e(5491),r=e(8227);function o(Oe,Ie){var Re=Object.keys(Oe);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(Oe);Ie&&(ke=ke.filter(function(xe){return Object.getOwnPropertyDescriptor(Oe,xe).enumerable})),Re.push.apply(Re,ke)}return Re}function g(Oe){for(var Ie=1;Ie<arguments.length;Ie++){var Re=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?o(Object(Re),!0).forEach(function(ke){(0,v.Z)(Oe,ke,Re[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors(Re)):o(Object(Re)).forEach(function(ke){Object.defineProperty(Oe,ke,Object.getOwnPropertyDescriptor(Re,ke))})}return Oe}function s(Oe){var Ie=Oe.options,Re=Oe.value,ke=Oe.label,xe=Oe.onChange,ye=Oe.onClose,P=_().useRef(),l=_().useRef(),f=_().useRef(null);return _().useEffect(function(){l.current?l.current.focus():f.current&&f.current.focus()},[]),(0,S.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":ke,onKeyDown:function(D){var H=Ie.find(function(Je){return Je.keyBinding===D.key.toLowerCase()});if(D.metaKey||D.altKey||D.ctrlKey||!H)if(D.key===p.tW.TAB)setTimeout(function(){l.current!==document.activeElement&&ye()},0);else if((0,p.Wl)(D.key)){var J=document.activeElement,re=(0,r.G3)().rtl,ae=Array.prototype.indexOf.call(f.current.children,J);if(ae!==-1){var ge=Ie.length,_e=ae;switch(D.key){case(re?p.tW.ARROW_LEFT:p.tW.ARROW_RIGHT):case p.tW.ARROW_DOWN:_e=(ae+1)%ge;break;case(re?p.tW.ARROW_RIGHT:p.tW.ARROW_LEFT):case p.tW.ARROW_UP:_e=(ge+ae-1)%ge}f.current.children[_e].focus()}D.preventDefault()}else D.key!==p.tW.ESCAPE&&D.key!==p.tW.ENTER||(D.preventDefault(),ye());else{var ze=Ie.indexOf(H);f.current.children[ze].focus(),D.preventDefault()}D.nativeEvent.stopImmediatePropagation(),D.stopPropagation()},children:(0,S.jsx)("div",{className:"picker-content",ref:f,children:Ie.map(function(D,H){return(0,S.jsxs)("button",{className:(0,T.Z)("picker-option",{active:Re===D.value}),onClick:function(J){J.currentTarget.focus(),xe(D.value)},title:"".concat(D.text," — ").concat(D.keyBinding.toUpperCase()),"aria-label":D.text||"none","aria-keyshortcuts":D.keyBinding,ref:function(J){J&&H===0&&(P.current=J),J&&D.value===Re&&(l.current=J)},onFocus:function(){xe(D.value)},children:[D.icon,(0,S.jsx)("span",{className:"picker-keybinding",children:D.keyBinding})]},D.text)})})})}function u(Oe){var Ie,Re=Oe.value,ke=Oe.label,xe=Oe.options,ye=Oe.onChange,P=Oe.group,l=P===void 0?"":P,f=_().useState(!1),D=(0,Z.Z)(f,2),H=D[0],J=D[1],re=_().useRef(null),ae=(0,r.G3)().rtl;return(0,S.jsxs)("div",{children:[(0,S.jsx)("button",{name:l,className:H?"active":"","aria-label":ke,onClick:function(){return J(!H)},ref:re,children:(Ie=xe.find(function(ge){return ge.value===Re}))===null||Ie===void 0?void 0:Ie.icon}),(0,S.jsx)(_().Suspense,{fallback:"",children:H?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(h.J,g(g({onCloseRequest:function(ge){return ge.target!==re.current&&J(!1)}},ae?{right:5.5}:{left:-5.5}),{},{children:(0,S.jsx)(s,{options:xe,value:Re,label:ke,onChange:ye,onClose:function(){var ge;J(!1),(ge=re.current)===null||ge===void 0||ge.focus()}})})),(0,S.jsx)("div",{className:"picker-triangle"})]}):null})]})}var k=e(8935),N=e(9937),W=e(7651),O=e(583),j=e(4761),L=e(4183),V=e(4643),ie=e(4105),se=e(1648),ue=e(9827),pe=e(2767);function Q(Oe,Ie){var Re=Object.keys(Oe);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(Oe);Ie&&(ke=ke.filter(function(xe){return Object.getOwnPropertyDescriptor(Oe,xe).enumerable})),Re.push.apply(Re,ke)}return Re}function ee(Oe){for(var Ie=1;Ie<arguments.length;Ie++){var Re=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?Q(Object(Re),!0).forEach(function(ke){(0,v.Z)(Oe,ke,Re[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors(Re)):Q(Object(Re)).forEach(function(ke){Object.defineProperty(Oe,ke,Object.getOwnPropertyDescriptor(Re,ke))})}return Oe}var me=function(Oe,Ie,Re){var ke=arguments.length>3&&arguments[3]!==void 0&&arguments[3],xe=(0,ue.xn)((0,ie.eD)(Oe,Ie,{includeBoundTextElement:ke}));return Oe.map(function(ye){var P;return xe.get(ye.id)||ye.id===((P=Ie.editingElement)===null||P===void 0?void 0:P.id)?Re(ye):ye})},Te=function(Oe,Ie,Re,ke,xe){var ye,P=Ie.editingElement,l=(0,W.Lm)(Oe),f=null;return P&&(f=Re(P)),f||(f=(0,ie.N)(l,Ie)?(ye=(0,ie.PR)(ke===!0?l:l.filter(function(D){return ke(D)}),Ie,Re))!==null&&ye!==void 0?ye:typeof xe=="function"?xe(!0):xe:typeof xe=="function"?xe(!1):xe),f},Ue=function(Oe,Ie,Re,ke){var xe=new Set;return{elements:me(Oe,Ie,function(ye){if((0,W.iB)(ye)){var P=Re(ye);xe.add(P);var l=(0,O.BE)(ye,{fontSize:P});return(0,W.oN)(l,(0,j.tl)(ye)),f=ye,D=l,l=(0,L.Xh)(D)?D:(0,O.DR)(D,{x:f.textAlign==="left"?f.x:f.x+(f.width-D.width)/(f.textAlign==="center"?2:1),y:f.y+(f.height-D.height)/2},!1)}var f,D;return ye},!0),appState:ee(ee({},Ie),{},{currentItemFontSize:xe.size===1?(0,w.Z)(xe)[0]:ke??Ie.currentItemFontSize}),commitToHistory:!0}},qe=((0,pe.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(Oe,Ie,Re){return ee(ee({},Re.currentItemStrokeColor&&{elements:me(Oe,Ie,function(ke){return(0,se.PD)(ke.type)?(0,O.BE)(ke,{strokeColor:Re.currentItemStrokeColor}):ke},!0)}),{},{appState:ee(ee({},Ie),Re),commitToHistory:!!Re.currentItemStrokeColor})},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData;return Oe.appProps,(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h3",{"aria-hidden":"true",children:(0,r.t)("labels.stroke")}),(0,S.jsx)(c.z,{topPicks:d.fY,palette:d.Wk,type:"elementStroke",label:(0,r.t)("labels.stroke"),color:Te(Ie,Re,function(xe){return xe.strokeColor},!0,Re.currentItemStrokeColor),onChange:function(xe){return ke({currentItemStrokeColor:xe})},elements:Ie,appState:Re,updateData:ke})]})}}),(0,pe.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(Oe,Ie,Re){return ee(ee({},Re.currentItemBackgroundColor&&{elements:me(Oe,Ie,function(ke){return(0,O.BE)(ke,{backgroundColor:Re.currentItemBackgroundColor})})}),{},{appState:ee(ee({},Ie),Re),commitToHistory:!!Re.currentItemBackgroundColor})},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData;return Oe.appProps,(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h3",{"aria-hidden":"true",children:(0,r.t)("labels.background")}),(0,S.jsx)(c.z,{topPicks:d.eq,palette:d.SF,type:"elementBackground",label:(0,r.t)("labels.background"),color:Te(Ie,Re,function(xe){return xe.backgroundColor},!0,Re.currentItemBackgroundColor),onChange:function(xe){return ke({currentItemBackgroundColor:xe})},elements:Ie,appState:Re,updateData:ke})]})}}),(0,pe.z)({name:"changeFillStyle",trackEvent:!1,perform:function(Oe,Ie,Re,ke){return(0,b.L)("element","changeFillStyle","".concat(Re," (").concat(ke.device.editor.isMobile?"mobile":"desktop",")")),{elements:me(Oe,Ie,function(xe){return(0,O.BE)(xe,{fillStyle:Re})}),appState:ee(ee({},Ie),{},{currentItemFillStyle:Re}),commitToHistory:!0}},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData,xe=(0,ie.eD)(Ie,Re),ye=xe.length>0&&xe.every(function(P){return P.fillStyle==="zigzag"});return(0,S.jsxs)("fieldset",{children:[(0,S.jsx)("legend",{children:(0,r.t)("labels.fill")}),(0,S.jsx)(a,{type:"button",options:[{value:"hachure",text:"".concat(ye?(0,r.t)("labels.zigzag"):(0,r.t)("labels.hachure")," (").concat((0,ue.uY)("Alt-Click"),")"),icon:ye?k.lF:k.a0,active:!!ye||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:(0,r.t)("labels.crossHatch"),icon:k.np,testId:"fill-cross-hatch"},{value:"solid",text:(0,r.t)("labels.solid"),icon:k.X7,testId:"fill-solid"}],value:Te(Ie,Re,function(P){return P.fillStyle},function(P){return P.hasOwnProperty("fillStyle")},function(P){return P?null:Re.currentItemFillStyle}),onClick:function(P,l){var f=l.altKey&&P==="hachure"&&xe.every(function(D){return D.fillStyle==="hachure"})?"zigzag":P;ke(f)}})]})}}),(0,pe.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(Oe,Ie,Re){return{elements:me(Oe,Ie,function(ke){return(0,O.BE)(ke,{strokeWidth:Re})}),appState:ee(ee({},Ie),{},{currentItemStrokeWidth:Re}),commitToHistory:!0}},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData;return(0,S.jsxs)("fieldset",{children:[(0,S.jsx)("legend",{children:(0,r.t)("labels.strokeWidth")}),(0,S.jsx)(a,{group:"stroke-width",options:[{value:N.dg.thin,text:(0,r.t)("labels.thin"),icon:k.ZA,testId:"strokeWidth-thin"},{value:N.dg.bold,text:(0,r.t)("labels.bold"),icon:k.Wl,testId:"strokeWidth-bold"},{value:N.dg.extraBold,text:(0,r.t)("labels.extraBold"),icon:k.m9,testId:"strokeWidth-extraBold"}],value:Te(Ie,Re,function(xe){return xe.strokeWidth},function(xe){return xe.hasOwnProperty("strokeWidth")},function(xe){return xe?null:Re.currentItemStrokeWidth}),onChange:function(xe){return ke(xe)}})]})}}),(0,pe.z)({name:"changeSloppiness",trackEvent:!1,perform:function(Oe,Ie,Re){return{elements:me(Oe,Ie,function(ke){return(0,O.BE)(ke,{seed:(0,V.LU)(),roughness:Re})}),appState:ee(ee({},Ie),{},{currentItemRoughness:Re}),commitToHistory:!0}},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData;return(0,S.jsxs)("fieldset",{children:[(0,S.jsx)("legend",{children:(0,r.t)("labels.sloppiness")}),(0,S.jsx)(a,{group:"sloppiness",options:[{value:0,text:(0,r.t)("labels.architect"),icon:k.bf},{value:1,text:(0,r.t)("labels.artist"),icon:k.kM},{value:2,text:(0,r.t)("labels.cartoonist"),icon:k.W2}],value:Te(Ie,Re,function(xe){return xe.roughness},function(xe){return xe.hasOwnProperty("roughness")},function(xe){return xe?null:Re.currentItemRoughness}),onChange:function(xe){return ke(xe)}})]})}}),(0,pe.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(Oe,Ie,Re){return{elements:me(Oe,Ie,function(ke){return(0,O.BE)(ke,{strokeStyle:Re})}),appState:ee(ee({},Ie),{},{currentItemStrokeStyle:Re}),commitToHistory:!0}},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData;return(0,S.jsxs)("fieldset",{children:[(0,S.jsx)("legend",{children:(0,r.t)("labels.strokeStyle")}),(0,S.jsx)(a,{group:"strokeStyle",options:[{value:"solid",text:(0,r.t)("labels.strokeStyle_solid"),icon:k.ZA},{value:"dashed",text:(0,r.t)("labels.strokeStyle_dashed"),icon:k.a5},{value:"dotted",text:(0,r.t)("labels.strokeStyle_dotted"),icon:k.aT}],value:Te(Ie,Re,function(xe){return xe.strokeStyle},function(xe){return xe.hasOwnProperty("strokeStyle")},function(xe){return xe?null:Re.currentItemStrokeStyle}),onChange:function(xe){return ke(xe)}})]})}}),(0,pe.z)({name:"changeOpacity",trackEvent:!1,perform:function(Oe,Ie,Re){return{elements:me(Oe,Ie,function(ke){return(0,O.BE)(ke,{opacity:Re})},!0),appState:ee(ee({},Ie),{},{currentItemOpacity:Re}),commitToHistory:!0}},PanelComponent:function(Oe){var Ie,Re=Oe.elements,ke=Oe.appState,xe=Oe.updateData;return(0,S.jsxs)("label",{className:"control-label",children:[(0,r.t)("labels.opacity"),(0,S.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(ye){return xe(+ye.target.value)},value:(Ie=Te(Re,ke,function(ye){return ye.opacity},!0,ke.currentItemOpacity))!==null&&Ie!==void 0?Ie:void 0})]})}}),(0,pe.z)({name:"changeFontSize",trackEvent:!1,perform:function(Oe,Ie,Re){return Ue(Oe,Ie,function(){return Re},Re)},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData;return(0,S.jsxs)("fieldset",{children:[(0,S.jsx)("legend",{children:(0,r.t)("labels.fontSize")}),(0,S.jsx)(a,{group:"font-size",options:[{value:16,text:(0,r.t)("labels.small"),icon:k.q0,testId:"fontSize-small"},{value:20,text:(0,r.t)("labels.medium"),icon:k.nq,testId:"fontSize-medium"},{value:28,text:(0,r.t)("labels.large"),icon:k.tW,testId:"fontSize-large"},{value:36,text:(0,r.t)("labels.veryLarge"),icon:k.OA,testId:"fontSize-veryLarge"}],value:Te(Ie,Re,function(xe){if((0,W.iB)(xe))return xe.fontSize;var ye=(0,j.WJ)(xe);return ye?ye.fontSize:null},function(xe){return(0,W.iB)(xe)||(0,j.WJ)(xe)!==null},function(xe){return xe?null:Re.currentItemFontSize||N.n5}),onChange:function(xe){return ke(xe)}})]})}}),(0,pe.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(Oe,Ie,Re){return Ue(Oe,Ie,function(ke){return Math.round(1/1.1*ke.fontSize)})},keyTest:function(Oe){return Oe[p.tW.CTRL_OR_CMD]&&Oe.shiftKey&&(Oe.key===p.tW.CHEVRON_LEFT||Oe.key===p.tW.COMMA)}})),Ae=(0,pe.z)({name:"increaseFontSize",trackEvent:!1,perform:function(Oe,Ie,Re){return Ue(Oe,Ie,function(ke){return Math.round(1.1*ke.fontSize)})},keyTest:function(Oe){return Oe[p.tW.CTRL_OR_CMD]&&Oe.shiftKey&&(Oe.key===p.tW.CHEVRON_RIGHT||Oe.key===p.tW.PERIOD)}});(0,pe.z)({name:"changeFontFamily",trackEvent:!1,perform:function(Oe,Ie,Re){return{elements:me(Oe,Ie,function(ke){if((0,W.iB)(ke)){var xe=(0,O.BE)(ke,{fontFamily:Re,lineHeight:(0,j.PT)(Re)});return(0,W.oN)(xe,(0,j.tl)(ke)),xe}return ke},!0),appState:ee(ee({},Ie),{},{currentItemFontFamily:Re}),commitToHistory:!0}},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData,xe=[{value:N.ut.Virgil,text:(0,r.t)("labels.handDrawn"),icon:k.Pm,testId:"font-family-virgil"},{value:N.ut.Helvetica,text:(0,r.t)("labels.normal"),icon:k.vo,testId:"font-family-normal"},{value:N.ut.Cascadia,text:(0,r.t)("labels.code"),icon:k.z6,testId:"font-family-code"}];return(0,S.jsxs)("fieldset",{children:[(0,S.jsx)("legend",{children:(0,r.t)("labels.fontFamily")}),(0,S.jsx)(a,{group:"font-family",options:xe,value:Te(Ie,Re,function(ye){if((0,W.iB)(ye))return ye.fontFamily;var P=(0,j.WJ)(ye);return P?P.fontFamily:null},function(ye){return(0,W.iB)(ye)||(0,j.WJ)(ye)!==null},function(ye){return ye?null:Re.currentItemFontFamily||N.rk}),onChange:function(ye){return ke(ye)}})]})}}),(0,pe.z)({name:"changeTextAlign",trackEvent:!1,perform:function(Oe,Ie,Re){return{elements:me(Oe,Ie,function(ke){if((0,W.iB)(ke)){var xe=(0,O.BE)(ke,{textAlign:Re});return(0,W.oN)(xe,(0,j.tl)(ke)),xe}return ke},!0),appState:ee(ee({},Ie),{},{currentItemTextAlign:Re}),commitToHistory:!0}},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData;return(0,S.jsxs)("fieldset",{children:[(0,S.jsx)("legend",{children:(0,r.t)("labels.textAlign")}),(0,S.jsx)(a,{group:"text-align",options:[{value:"left",text:(0,r.t)("labels.left"),icon:k.rr,testId:"align-left"},{value:"center",text:(0,r.t)("labels.center"),icon:k.o3,testId:"align-horizontal-center"},{value:"right",text:(0,r.t)("labels.right"),icon:k.oT,testId:"align-right"}],value:Te(Ie,Re,function(xe){if((0,W.iB)(xe))return xe.textAlign;var ye=(0,j.WJ)(xe);return ye?ye.textAlign:null},function(xe){return(0,W.iB)(xe)||(0,j.WJ)(xe)!==null},function(xe){return xe?null:Re.currentItemTextAlign}),onChange:function(xe){return ke(xe)}})]})}}),(0,pe.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(Oe,Ie,Re){return{elements:me(Oe,Ie,function(ke){if((0,W.iB)(ke)){var xe=(0,O.BE)(ke,{verticalAlign:Re});return(0,W.oN)(xe,(0,j.tl)(ke)),xe}return ke},!0),appState:ee({},Ie),commitToHistory:!0}},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData;return(0,S.jsx)("fieldset",{children:(0,S.jsx)(a,{group:"text-align",options:[{value:N.oX.TOP,text:(0,r.t)("labels.alignTop"),icon:(0,S.jsx)(k.EO,{theme:Re.theme}),testId:"align-top"},{value:N.oX.MIDDLE,text:(0,r.t)("labels.centerVertically"),icon:(0,S.jsx)(k.P7,{theme:Re.theme}),testId:"align-middle"},{value:N.oX.BOTTOM,text:(0,r.t)("labels.alignBottom"),icon:(0,S.jsx)(k.aA,{theme:Re.theme}),testId:"align-bottom"}],value:Te(Ie,Re,function(xe){if((0,W.iB)(xe)&&xe.containerId)return xe.verticalAlign;var ye=(0,j.WJ)(xe);return ye?ye.verticalAlign:null},function(xe){return(0,W.iB)(xe)||(0,j.WJ)(xe)!==null},function(xe){return xe?null:N.oX.MIDDLE}),onChange:function(xe){return ke(xe)}})})}}),(0,pe.z)({name:"changeRoundness",trackEvent:!1,perform:function(Oe,Ie,Re){return{elements:me(Oe,Ie,function(ke){return(0,O.BE)(ke,{roundness:Re==="round"?{type:(0,L.QI)(ke.type)?N.a6.ADAPTIVE_RADIUS:N.a6.PROPORTIONAL_RADIUS}:null})}),appState:ee(ee({},Ie),{},{currentItemRoundness:Re}),commitToHistory:!0}},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData,xe=(0,ie.Zs)((0,W.Lm)(Ie),Re).some(function(ye){var P;return((P=ye.roundness)===null||P===void 0?void 0:P.type)===N.a6.LEGACY});return(0,S.jsxs)("fieldset",{children:[(0,S.jsx)("legend",{children:(0,r.t)("labels.edges")}),(0,S.jsx)(a,{group:"edges",options:[{value:"sharp",text:(0,r.t)("labels.sharp"),icon:k.wr},{value:"round",text:(0,r.t)("labels.round"),icon:k.DS}],value:Te(Ie,Re,function(ye){return xe?null:ye.roundness?"round":"sharp"},function(ye){return ye.hasOwnProperty("roundness")},function(ye){return ye?null:Re.currentItemRoundness}),onChange:function(ye){return ke(ye)}})]})}}),(0,pe.z)({name:"changeArrowhead",trackEvent:!1,perform:function(Oe,Ie,Re){return{elements:me(Oe,Ie,function(ke){if((0,L.bt)(ke)){var xe=Re.position,ye=Re.type;if(xe==="start")return(0,O.BE)(ke,{startArrowhead:ye});if(xe==="end")return(0,O.BE)(ke,{endArrowhead:ye})}return ke}),appState:ee(ee({},Ie),{},(0,v.Z)({},Re.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",Re.type)),commitToHistory:!0}},PanelComponent:function(Oe){var Ie=Oe.elements,Re=Oe.appState,ke=Oe.updateData,xe=(0,r.G3)().rtl;return(0,S.jsxs)("fieldset",{children:[(0,S.jsx)("legend",{children:(0,r.t)("labels.arrowheads")}),(0,S.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,S.jsx)(u,{label:"arrowhead_start",options:[{value:null,text:(0,r.t)("labels.arrowhead_none"),icon:k.fr,keyBinding:"q"},{value:"arrow",text:(0,r.t)("labels.arrowhead_arrow"),icon:(0,S.jsx)(k.il,{flip:!xe}),keyBinding:"w"},{value:"bar",text:(0,r.t)("labels.arrowhead_bar"),icon:(0,S.jsx)(k.m,{flip:!xe}),keyBinding:"e"},{value:"dot",text:(0,r.t)("labels.arrowhead_dot"),icon:(0,S.jsx)(k.tn,{flip:!xe}),keyBinding:"r"},{value:"triangle",text:(0,r.t)("labels.arrowhead_triangle"),icon:(0,S.jsx)(k.j8,{flip:!xe}),keyBinding:"t"}],value:Te(Ie,Re,function(ye){return(0,L.bt)(ye)&&(0,ie.Un)(ye.type)?ye.startArrowhead:Re.currentItemStartArrowhead},!0,Re.currentItemStartArrowhead),onChange:function(ye){return ke({position:"start",type:ye})}}),(0,S.jsx)(u,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,r.t)("labels.arrowhead_none"),keyBinding:"q",icon:k.fr},{value:"arrow",text:(0,r.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,S.jsx)(k.il,{flip:xe})},{value:"bar",text:(0,r.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,S.jsx)(k.m,{flip:xe})},{value:"dot",text:(0,r.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,S.jsx)(k.tn,{flip:xe})},{value:"triangle",text:(0,r.t)("labels.arrowhead_triangle"),icon:(0,S.jsx)(k.j8,{flip:xe}),keyBinding:"t"}],value:Te(Ie,Re,function(ye){return(0,L.bt)(ye)&&(0,ie.Un)(ye.type)?ye.endArrowhead:Re.currentItemEndArrowhead},!0,Re.currentItemEndArrowhead),onChange:function(ye){return ke({position:"end",type:ye})}})]})]})}})},7080:function(te,t,e){e.d(t,{u:function(){return S}});var w=e(7169),v=e(2767),d=e(5491);function b(a,c){var Z=Object.keys(a);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(a);c&&(F=F.filter(function(_){return Object.getOwnPropertyDescriptor(a,_).enumerable})),Z.push.apply(Z,F)}return Z}function T(a){for(var c=1;c<arguments.length;c++){var Z=arguments[c]!=null?arguments[c]:{};c%2?b(Object(Z),!0).forEach(function(F){(0,w.Z)(a,F,Z[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(Z)):b(Object(Z)).forEach(function(F){Object.defineProperty(a,F,Object.getOwnPropertyDescriptor(Z,F))})}return a}var S=(0,v.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(a,c){return{appState:T(T({},c),{},{showStats:!this.checked(c)}),commitToHistory:!1}},checked:function(a){return a.showStats},contextItemLabel:"stats.title",keyTest:function(a){return!a[d.tW.CTRL_OR_CMD]&&a.altKey&&a.code===d.aU.SLASH}})},5463:function(te,t,e){e.d(t,{FL:function(){return un},vD:function(){return Ro.vD},yA:function(){return s},BZ:function(){return k},mo:function(){return xe.mo},uN:function(){return yr.uN},jK:function(){return yr.jK},FA:function(){return yr.FA},pw:function(){return ge},ZM:function(){return yr.ZM},X9:function(){return w.X},xF:function(){return Re},pL:function(){return D},jl:function(){return Hn},kt:function(){return Qn},EQ:function(){return Qe},nz:function(){return Bo.nz},_d:function(){return H._d},W3:function(){return _e},mM:function(){return H.mM},ns:function(){return H.ns},Yy:function(){return ie},V:function(){return g},zi:function(){return u},jY:function(){return et},$h:function(){return Do.$},Pb:function(){return Xn},Qs:function(){return rt},pm:function(){return io},u0:function(){return Eo.u},Zp:function(){return xe.Zp},JN:function(){return vr},y7:function(){return Ro.y7},s:function(){return ct},zp:function(){return yr.zp}});var w=e(2448),v=e(2577),d=e(1930),b=e(583),T=e(4183),S=e(9215),a=e(4105),c=e(457),Z=e(9827);function F(Se,Ze){var Ve=typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(!Ve){if(Array.isArray(Se)||(Ve=function(ln,Zn){if(ln){if(typeof ln=="string")return _(ln,Zn);var qn=Object.prototype.toString.call(ln).slice(8,-1);if(qn==="Object"&&ln.constructor&&(qn=ln.constructor.name),qn==="Map"||qn==="Set")return Array.from(ln);if(qn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qn))return _(ln,Zn)}}(Se))||Ze){Ve&&(Se=Ve);var pt=0,Vt=function(){};return{s:Vt,n:function(){return pt>=Se.length?{done:!0}:{done:!1,value:Se[pt++]}},e:function(ln){throw ln},f:Vt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cn,Mn=!0,nn=!1;return{s:function(){Ve=Ve.call(Se)},n:function(){var ln=Ve.next();return Mn=ln.done,ln},e:function(ln){nn=!0,cn=ln},f:function(){try{Mn||Ve.return==null||Ve.return()}finally{if(nn)throw cn}}}}function _(Se,Ze){(Ze==null||Ze>Se.length)&&(Ze=Se.length);for(var Ve=0,pt=new Array(Ze);Ve<Ze;Ve++)pt[Ve]=Se[Ve];return pt}var h=function(Se,Ze){return Se.frameId===Ze||Se.id===Ze},x=function(Se,Ze,Ve){for(var pt=[],Vt=[],cn=null,Mn=-1,nn=(0,Z.xn)(Ve||(0,a.eD)(Se,Ze,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++Mn<Se.length;){var ln=Se[Mn];nn.get(ln.id)?(Vt.length&&(pt=pt.concat(Vt),Vt=[]),pt.push(Mn),cn=Mn+1):ln.isDeleted&&cn===Mn?(cn=Mn+1,Vt.push(Mn)):Vt=[]}return pt},G=function(Se,Ze,Ve){if("containerId"in Se&&Se.containerId){if(Ve!=="left")return Ze.indexOf(Se);var pt=c.Z.getScene(Se).getElement(Se.containerId);if(pt)return Ze.indexOf(pt)}else{var Vt,cn,Mn=(Vt=Se.boundElements)===null||Vt===void 0||(cn=Vt.find(function(ln){return ln.type!=="arrow"}))===null||cn===void 0?void 0:cn.id;if(Mn){if(Ve==="left")return Ze.indexOf(Se);var nn=c.Z.getScene(Se).getElement(Mn);if(nn)return Ze.indexOf(nn)}}},le=function(Se,Ze,Ve,pt,Vt){var cn,Mn,nn,ln,Zn,qn=Ze[Ve],hr=function(yo){return!yo.isDeleted&&(Vt?yo.frameId===Vt:!Se.editingGroupId||yo.groupIds.includes(Se.editingGroupId))},br=pt==="left"?(0,Z.qr)(Ze,function(yo){return hr(yo)},Math.max(0,Ve-1)):(0,Z.cx)(Ze,function(yo){return hr(yo)},Ve+1),Mr=Ze[br];if(!Mr)return-1;if(Se.editingGroupId){var Or;if(qn?.groupIds.join("")===Mr?.groupIds.join(""))return(Or=G(Mr,Ze,pt))!==null&&Or!==void 0?Or:br;if(Mr==null||!Mr.groupIds.includes(Se.editingGroupId))return-1}if(!Vt&&(Mr.frameId||Mr.type==="frame")){var Er=(cn=Ze,Mn=Mr.frameId||Mr.id,nn=-1,ln=-1,cn.forEach(function(yo,jo){h(yo,Mn)&&(nn===-1&&(nn=jo),ln=jo)}),nn===-1?[]:cn.slice(nn,ln+1));return pt==="left"?Ze.indexOf(Er[0]):Ze.indexOf(Er[Er.length-1])}if(!Mr.groupIds.length)return(Zn=G(Mr,Ze,pt))!==null&&Zn!==void 0?Zn:br;var Cr=Se.editingGroupId?Mr.groupIds[Mr.groupIds.indexOf(Se.editingGroupId)-1]:Mr.groupIds[Mr.groupIds.length-1],no=(0,S.Fb)(Ze,Cr);return no.length?pt==="left"?Ze.indexOf(no[0]):Ze.indexOf(no[no.length-1]):br},he=function(Se,Ze){return Ze.reduce(function(Ve,pt){var Vt=Se[pt];return Ve[Vt.id]=Vt,Ve},{})},ve=function(Se,Ze,Ve){var pt=x(Se,Ze),Vt=he(Se,pt),cn=function(nn){var ln=0;return nn.reduce(function(Zn,qn,hr){return hr>0&&nn[hr-1]!==qn-1&&(ln=++ln),(Zn[ln]||(Zn[ln]=[])).push(qn),Zn},[])}(pt);Ve==="right"&&(cn=cn.reverse());var Mn=new Set(pt.filter(function(nn){return Se[nn].type==="frame"}).map(function(nn){return Se[nn].id}));return cn.forEach(function(nn,ln){var Zn,qn=nn[0],hr=nn[nn.length-1],br=Ve==="left"?qn:hr,Mr=nn.some(function(jo){var ei=Se[jo];return ei.frameId&&Mn.has(ei.frameId)})?null:(Zn=Se[br])===null||Zn===void 0?void 0:Zn.frameId,Or=le(Ze,Se,br,Ve,Mr);if(Or!==-1&&br!==Or){var Er=Ve==="left"?Se.slice(0,Or):Se.slice(0,qn),Cr=Se.slice(qn,hr+1),no=Ve==="left"?Se.slice(Or,qn):Se.slice(hr+1,Or+1),yo=Ve==="left"?Se.slice(hr+1):Se.slice(Or+1);Se=Ve==="left"?[].concat((0,d.Z)(Er),(0,d.Z)(Cr),(0,d.Z)(no),(0,d.Z)(yo)):[].concat((0,d.Z)(Er),(0,d.Z)(no),(0,d.Z)(Cr),(0,d.Z)(yo))}}),Se.map(function(nn){return Vt[nn.id]?(0,b.ZP)(nn):nn})},fe=function(Se,Ze,Ve,pt,Vt){var cn,Mn,nn=x(Se,Ze,Vt),ln=he(Se,nn),Zn=[];if(Ve==="left"){if(pt)cn=(0,Z.cx)(Se,function(Cr){return h(Cr,pt)});else if(Ze.editingGroupId){var qn=(0,S.Fb)(Se,Ze.editingGroupId);if(!qn.length)return Se;cn=Se.indexOf(qn[0])}else cn=0;Mn=nn[nn.length-1]}else{if(pt)Mn=(0,Z.qr)(Se,function(Cr){return h(Cr,pt)});else if(Ze.editingGroupId){var hr=(0,S.Fb)(Se,Ze.editingGroupId);if(!hr.length)return Se;Mn=Se.indexOf(hr[hr.length-1])}else Mn=Se.length-1;cn=nn[0]}cn===-1&&(cn=0);for(var br=cn;br<Mn+1;br++)nn.includes(br)||Zn.push(Se[br]);var Mr=Object.values(ln).map(function(Cr){return(0,b.ZP)(Cr)}),Or=Se.slice(0,cn),Er=Se.slice(Mn+1);return Ve==="left"?[].concat((0,d.Z)(Or),(0,d.Z)(Mr),Zn,(0,d.Z)(Er)):[].concat((0,d.Z)(Or),Zn,(0,d.Z)(Mr),(0,d.Z)(Er))};function X(Se,Ze,Ve,pt){var Vt,cn=(0,Z.xn)((0,a.eD)(Se,Ze,{includeBoundTextElement:!0,includeElementsInFrames:!0})),Mn={regularElements:[],frameChildren:new Map},nn=new Set,ln=F(Se);try{for(ln.s();!(Vt=ln.n()).done;){var Zn=Vt.value;cn.has(Zn.id)&&(0,T.He)(Zn)&&nn.add(Zn.id)}}catch(yo){ln.e(yo)}finally{ln.f()}var qn,hr=F(Se);try{for(hr.s();!(qn=hr.n()).done;){var br=qn.value;if(cn.has(br.id))if((0,T.He)(br)||br.frameId&&nn.has(br.frameId))Mn.regularElements.push(br);else if(br.frameId){var Mr=Mn.frameChildren.get(br.frameId)||[];Mr.push(br),Mn.frameChildren.set(br.frameId,Mr)}else Mn.regularElements.push(br)}}catch(yo){hr.e(yo)}finally{hr.f()}for(var Or=Se,Er=0,Cr=Array.from(Mn.frameChildren.entries());Er<Cr.length;Er++){var no=(0,v.Z)(Cr[Er],2);Or=pt(Se,Ze,Ve,no[0],no[1])}return pt(Or,Ze,Ve,null,Mn.regularElements)}var q=function(Se,Ze){return ve(Se,Ze,"left")},U=function(Se,Ze){return ve(Se,Ze,"right")},R=function(Se,Ze){return X(Se,Ze,"left",fe)},B=function(Se,Ze){return X(Se,Ze,"right",fe)},M=e(5491),I=e(8227),E=e(2767),p=e(8935),r=e(9937),o=e(1020),g=(0,E.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(Se,Ze){return{elements:q(Se,Ze),appState:Ze,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&!Se.shiftKey&&Se.code===M.aU.BRACKET_LEFT},PanelComponent:function(Se){var Ze=Se.updateData;return Se.appState,(0,o.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Ze(null)},title:"".concat((0,I.t)("labels.sendBackward")," — ").concat((0,Z.uY)("CtrlOrCmd+[")),children:p.Gc})}}),s=(0,E.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(Se,Ze){return{elements:U(Se,Ze),appState:Ze,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&!Se.shiftKey&&Se.code===M.aU.BRACKET_RIGHT},PanelComponent:function(Se){var Ze=Se.updateData;return Se.appState,(0,o.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Ze(null)},title:"".concat((0,I.t)("labels.bringForward")," — ").concat((0,Z.uY)("CtrlOrCmd+]")),children:p.t5})}}),u=(0,E.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(Se,Ze){return{elements:R(Se,Ze),appState:Ze,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(Se){return r.Um?Se[M.tW.CTRL_OR_CMD]&&Se.altKey&&Se.code===M.aU.BRACKET_LEFT:Se[M.tW.CTRL_OR_CMD]&&Se.shiftKey&&Se.code===M.aU.BRACKET_LEFT},PanelComponent:function(Se){var Ze=Se.updateData;return Se.appState,(0,o.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Ze(null)},title:"".concat((0,I.t)("labels.sendToBack")," — ").concat(r.Um?(0,Z.uY)("CtrlOrCmd+Alt+["):(0,Z.uY)("CtrlOrCmd+Shift+[")),children:p.pw})}}),k=(0,E.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(Se,Ze){return{elements:B(Se,Ze),appState:Ze,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(Se){return r.Um?Se[M.tW.CTRL_OR_CMD]&&Se.altKey&&Se.code===M.aU.BRACKET_RIGHT:Se[M.tW.CTRL_OR_CMD]&&Se.shiftKey&&Se.code===M.aU.BRACKET_RIGHT},PanelComponent:function(Se){var Ze=Se.updateData;return Se.appState,(0,o.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(Ve){return Ze(null)},title:"".concat((0,I.t)("labels.bringToFront")," — ").concat(r.Um?(0,Z.uY)("CtrlOrCmd+Alt+]"):(0,Z.uY)("CtrlOrCmd+Shift+]")),children:p.IN})}}),N=e(7169),W=e(7651),O=e(7422),j=e(6264);function L(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function V(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?L(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):L(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}var ie=(0,E.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(Se,Ze,Ve,pt){if(Ze.editingLinearElement)return!1;var Vt=(0,j.aI)(Se.filter(function(cn){return!(cn.isDeleted||(0,W.iB)(cn)&&cn.containerId||cn.locked)})).reduce(function(cn,Mn){return cn[Mn.id]=!0,cn},{});return{appState:V(V(V({},Ze),(0,S.bO)({editingGroupId:null,selectedElementIds:Vt},(0,W.Lm)(Se),Ze,pt)),{},{selectedLinearElement:Object.keys(Vt).length===1&&(0,T.bt)(Se[0])?new O._(Se[0],pt.scene):null}),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&Se.key===M.tW.A}}),se=e(1512),ue=e(9645),pe=e(4761);function Q(Se,Ze){var Ve=typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(!Ve){if(Array.isArray(Se)||(Ve=function(ln,Zn){if(ln){if(typeof ln=="string")return ee(ln,Zn);var qn=Object.prototype.toString.call(ln).slice(8,-1);if(qn==="Object"&&ln.constructor&&(qn=ln.constructor.name),qn==="Map"||qn==="Set")return Array.from(ln);if(qn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qn))return ee(ln,Zn)}}(Se))||Ze){Ve&&(Se=Ve);var pt=0,Vt=function(){};return{s:Vt,n:function(){return pt>=Se.length?{done:!0}:{done:!1,value:Se[pt++]}},e:function(ln){throw ln},f:Vt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cn,Mn=!0,nn=!1;return{s:function(){Ve=Ve.call(Se)},n:function(){var ln=Ve.next();return Mn=ln.done,ln},e:function(ln){nn=!0,cn=ln},f:function(){try{Mn||Ve.return==null||Ve.return()}finally{if(nn)throw cn}}}}function ee(Se,Ze){(Ze==null||Ze>Se.length)&&(Ze=Se.length);for(var Ve=0,pt=new Array(Ze);Ve<Ze;Ve++)pt[Ve]=Se[Ve];return pt}var me=function(Se){var Ze=Se.slice(),Ve=new Set,pt=function cn(Mn){var nn,ln,Zn,qn=(nn=Mn[0])===null||nn===void 0||(ln=nn.groupIds)===null||ln===void 0?void 0:ln.join(""),hr=[Mn[0]],br=[],Mr=Q(Mn.slice(1));try{for(Mr.s();!(Zn=Mr.n()).done;){var Or,Er=Zn.value;((Or=Er.groupIds)===null||Or===void 0?void 0:Or.join(""))===qn?hr.push(Er):br.push(Er)}}catch(Cr){Mr.e(Cr)}finally{Mr.f()}return br.length?[].concat(hr,(0,d.Z)(cn(br))):hr},Vt=new Map;return Ze.forEach(function(cn,Mn){var nn;if(!Vt.has(cn.id))if((nn=cn.groupIds)!==null&&nn!==void 0&&nn.length){var ln,Zn=cn.groupIds[cn.groupIds.length-1],qn=Ze.slice(Mn).filter(function(Mr){var Or,Er=Mr==null||(Or=Mr.groupIds)===null||Or===void 0?void 0:Or.some(function(Cr){return Cr===Zn});return Er&&Vt.set(Mr.id,!0),Er}),hr=Q(pt(qn));try{for(hr.s();!(ln=hr.n()).done;){var br=ln.value;Ve.add(br)}}catch(Mr){hr.e(Mr)}finally{hr.f()}}else Ve.add(cn)}),Ve.size!==Se.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),Se):(0,d.Z)(Ve)},Te=function(Se){var Ze=function(Ve){var pt=(0,Z.I4)(Ve),Vt=Ve.slice(),cn=new Set;return Vt.forEach(function(Mn,nn){var ln;if(Mn)if((ln=Mn.boundElements)!==null&&ln!==void 0&&ln.length)cn.add(Mn),Vt[nn]=null,Mn.boundElements.forEach(function(hr){var br=pt.get(hr.id);br&&hr.type==="text"&&(cn.add(br[0]),Vt[br[1]]=null)});else if(Mn.type==="text"&&Mn.containerId){var Zn,qn=pt.get(Mn.containerId);qn!=null&&(Zn=qn[0].boundElements)!==null&&Zn!==void 0&&Zn.find(function(hr){return hr.id===Mn.id})||(cn.add(Mn),Vt[nn]=null)}else cn.add(Mn),Vt[nn]=null}),cn.size!==Ve.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),Ve):(0,d.Z)(cn)}(me(Se));return Ze},Ue=e(4682);function qe(Se,Ze){var Ve=typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(!Ve){if(Array.isArray(Se)||(Ve=function(ln,Zn){if(ln){if(typeof ln=="string")return Ae(ln,Zn);var qn=Object.prototype.toString.call(ln).slice(8,-1);if(qn==="Object"&&ln.constructor&&(qn=ln.constructor.name),qn==="Map"||qn==="Set")return Array.from(ln);if(qn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qn))return Ae(ln,Zn)}}(Se))||Ze){Ve&&(Se=Ve);var pt=0,Vt=function(){};return{s:Vt,n:function(){return pt>=Se.length?{done:!0}:{done:!1,value:Se[pt++]}},e:function(ln){throw ln},f:Vt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cn,Mn=!0,nn=!1;return{s:function(){Ve=Ve.call(Se)},n:function(){var ln=Ve.next();return Mn=ln.done,ln},e:function(ln){nn=!0,cn=ln},f:function(){try{Mn||Ve.return==null||Ve.return()}finally{if(nn)throw cn}}}}function Ae(Se,Ze){(Ze==null||Ze>Se.length)&&(Ze=Se.length);for(var Ve=0,pt=new Array(Ze);Ve<Ze;Ve++)pt[Ve]=Se[Ve];return pt}function Oe(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function Ie(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?Oe(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):Oe(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}var Re=(0,E.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(Se,Ze){if(Ze.editingLinearElement){var Ve=O._.duplicateSelectedPoints(Ze);return!!Ve&&{elements:Se,appState:Ve.appState,commitToHistory:!0}}return Ie(Ie({},ke(Se,Ze)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&Se.key===M.tW.D},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData;return(0,o.jsx)(se.V,{type:"button",icon:p.NA,title:"".concat((0,I.t)("labels.duplicateSelection")," — ").concat((0,Z.uY)("CtrlOrCmd+D")),"aria-label":(0,I.t)("labels.duplicateSelection"),onClick:function(){return pt(null)},visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}}),ke=function(Se,Ze){for(var Ve=Te(Se),pt=new Map,Vt=[],cn=[],Mn=new Map,nn=function(uo){var Co=(0,W.Sy)(Ze.editingGroupId,pt,uo,{x:uo.x+r.k/2,y:uo.y+r.k/2});return Mn.set(uo.id,Co.id),cn.push(uo),Vt.push(Co),Co},ln=(0,Z.xn)((0,j.eD)(Ve,Ze,{includeBoundTextElement:!0,includeElementsInFrames:!0})),Zn=new Map,qn=function(uo){var Co,Oo=qe(uo);try{for(Oo.s();!(Co=Oo.n()).done;){var di=Co.value;Zn.set(di.id,!0)}}catch(ri){Oo.e(ri)}finally{Oo.f()}return uo},hr=[],br=-1;++br<Ve.length;){var Mr=Ve[br];if(!Zn.get(Mr.id)){var Or=(0,pe.WJ)(Mr),Er=(0,T.He)(Mr);if(ln.get(Mr.id)){if(Mr.groupIds.length||Or||Er){var Cr=(0,S.yO)(Ze,Mr);if(Cr){var no=(0,S.Fb)(Ve,Cr).flatMap(function(uo){return(0,T.He)(uo)?[].concat((0,d.Z)((0,Ue.zD)(Se,uo.id)),[uo]):[uo]});hr.push.apply(hr,(0,d.Z)(qn([].concat((0,d.Z)(no),(0,d.Z)(no.map(function(uo){return nn(uo)}))))));continue}if(Or){hr.push.apply(hr,(0,d.Z)(qn([Mr,Or,nn(Mr),nn(Or)])));continue}if(Er){var yo=(0,Ue.zD)(Ve,Mr.id);hr.push.apply(hr,(0,d.Z)(qn([].concat((0,d.Z)(yo),[Mr],(0,d.Z)(yo.map(function(uo){return nn(uo)})),[nn(Mr)]))));continue}}Mr.frameId&&ln.has(Mr.frameId)||hr.push.apply(hr,(0,d.Z)(qn([Mr,nn(Mr)])))}else hr.push.apply(hr,(0,d.Z)(qn([Mr])))}}var jo=[],ei=new Map;for(br=hr.length;--br>=0;){var vi=hr[br];ei.get(vi.id)||(ei.set(vi.id,!0),jo.push(vi))}var Gr=jo.reverse();(0,pe.P7)(hr,cn,Mn),(0,ue.ek)(hr,cn,Mn),(0,Ue.xr)(Gr,cn,Mn);var Ir=(0,j.aI)(Vt);return{elements:Gr,appState:Ie(Ie({},Ze),(0,S.bO)({editingGroupId:Ze.editingGroupId,selectedElementIds:Ir.reduce(function(uo,Co){return(0,T.Xh)(Co)||(uo[Co.id]=!0),uo},{})},(0,W.Lm)(Gr),Ze,null))}},xe=(e(3361),e(6006)),ye=e(2361),P=e(7652);function l(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function f(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?l(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):l(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}var D=(0,E.z)({name:"finalize",trackEvent:!1,perform:function(Se,Ze,Ve,pt){var Vt,cn=pt.interactiveCanvas,Mn=pt.focusContainer,nn=pt.scene;if(Ze.editingLinearElement){var ln=Ze.editingLinearElement,Zn=ln.elementId,qn=ln.startBindingElement,hr=ln.endBindingElement,br=O._.getElement(Zn);if(br)return(0,T.Mn)(br)&&(0,ue.HG)(br,qn,hr),{elements:br.points.length<2||(0,W.QD)(br)?Se.filter(function(Oo){return Oo.id!==br.id}):void 0,appState:f(f({},Ze),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var Mr=Se,Or=Ze.pendingImageElementId&&nn.getElement(Ze.pendingImageElementId);Or&&(0,b.DR)(Or,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&Mn();var Er,Cr=Ze.multiElement?Ze.multiElement:((Vt=Ze.editingElement)===null||Vt===void 0?void 0:Vt.type)==="freedraw"?Ze.editingElement:null;if(Cr){if(Cr.type!=="freedraw"&&Ze.lastPointerDownWith!=="touch"){var no=Cr.points,yo=Cr.lastCommittedPoint;yo&&no[no.length-1]===yo||(0,b.DR)(Cr,{points:Cr.points.slice(0,-1)})}(0,W.QD)(Cr)&&(Mr=Mr.filter(function(Oo){return Oo.id!==Cr.id}));var jo=(0,ye.g6)(Cr.points,Ze.zoom.value);if((Cr.type==="line"||Cr.type==="freedraw")&&jo){var ei=Cr.points,vi=ei[0];(0,b.DR)(Cr,{points:ei.map(function(Oo,di){return di===ei.length-1?[vi[0],vi[1]]:Oo})})}if((0,T.Mn)(Cr)&&!jo&&Cr.points.length>1){var Gr=O._.getPointAtIndexGlobalCoordinates(Cr,-1),Ir=(0,v.Z)(Gr,2),uo=Ir[0],Co=Ir[1];(0,ue.R)(Cr,Ze,c.Z.getScene(Cr),{x:uo,y:Co})}}return(Ze.activeTool.locked||Ze.activeTool.type==="freedraw")&&Cr||(0,P.z8)(cn),Er=Ze.activeTool.type==="eraser"?(0,Z.Om)(Ze,f(f({},Ze.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,Z.Om)(Ze,{type:"selection"}),{elements:Mr,appState:f(f({},Ze),{},{cursorButton:"up",activeTool:(Ze.activeTool.locked||Ze.activeTool.type==="freedraw")&&Cr?Ze.activeTool:Er,activeEmbeddable:null,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Cr&&!Ze.activeTool.locked&&Ze.activeTool.type!=="freedraw"?f(f({},Ze.selectedElementIds),{},(0,N.Z)({},Cr.id,!0)):Ze.selectedElementIds,selectedLinearElement:Cr&&(0,T.bt)(Cr)?new O._(Cr,nn):Ze.selectedLinearElement,pendingImageElementId:null}),commitToHistory:Ze.activeTool.type==="freedraw"}},keyTest:function(Se,Ze){return Se.key===M.tW.ESCAPE&&(Ze.editingLinearElement!==null||!Ze.draggingElement&&Ze.multiElement===null)||(Se.key===M.tW.ESCAPE||Se.key===M.tW.ENTER)&&Ze.multiElement!==null},PanelComponent:function(Se){var Ze=Se.appState,Ve=Se.updateData,pt=Se.data;return(0,o.jsx)(se.V,{type:"button",icon:p.$c,title:(0,I.t)("buttons.done"),"aria-label":(0,I.t)("buttons.done"),onClick:Ve,visible:Ze.multiElement!=null,size:pt?.size||"medium"})}}),H=e(4406);function J(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function re(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?J(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):J(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}var ae="{}",ge=(0,E.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(Se,Ze){var Ve=[],pt=Se.find(function(cn){return Ze.selectedElementIds[cn.id]});if(Ve.push(pt),pt&&(0,T.Xo)(pt)){var Vt=(0,pe.WJ)(pt);Ve.push(Vt)}return pt&&(ae=JSON.stringify(Ve)),{appState:re(re({},Ze),{},{toast:{message:(0,I.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&Se.altKey&&Se.code===M.aU.C}}),_e=(0,E.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(Se,Ze){var Ve=JSON.parse(ae),pt=Ve[0],Vt=Ve[1];if(!(0,W.r2)(pt))return{elements:Se,commitToHistory:!1};var cn=(0,a.eD)(Se,Ze,{includeBoundTextElement:!0}),Mn=cn.map(function(nn){return nn.id});return{elements:Se.map(function(nn){if(Mn.includes(nn.id)){var ln,Zn,qn,hr,br,Mr,Or,Er=pt;if((0,W.iB)(nn)&&nn.containerId&&(Er=Vt),!Er)return nn;var Cr=(0,b.BE)(nn,{backgroundColor:(ln=Er)===null||ln===void 0?void 0:ln.backgroundColor,strokeWidth:(Zn=Er)===null||Zn===void 0?void 0:Zn.strokeWidth,strokeColor:(qn=Er)===null||qn===void 0?void 0:qn.strokeColor,strokeStyle:(hr=Er)===null||hr===void 0?void 0:hr.strokeStyle,fillStyle:(br=Er)===null||br===void 0?void 0:br.fillStyle,opacity:(Mr=Er)===null||Mr===void 0?void 0:Mr.opacity,roughness:(Or=Er)===null||Or===void 0?void 0:Or.roughness,roundness:Er.roundness?(0,T.eK)(Er.roundness.type,nn)?Er.roundness:(0,T.UQ)(nn):null});if((0,W.iB)(Cr)){var no=Er.fontSize||r.n5,yo=Er.fontFamily||r.rk,jo=null;(Cr=(0,b.BE)(Cr,{fontSize:no,fontFamily:yo,textAlign:Er.textAlign||r.Hg,lineHeight:Er.lineHeight||(0,pe.PT)(yo)})).containerId&&(jo=cn.find(function(ei){return(0,W.iB)(Cr)&&ei.id===Cr.containerId})||null),(0,W.oN)(Cr,jo)}return Cr.type==="arrow"&&(0,T.Yv)(Er)&&(Cr=(0,b.BE)(Cr,{startArrowhead:Er.startArrowhead,endArrowhead:Er.endArrowhead})),(0,T.He)(nn)&&(Cr=(0,b.BE)(Cr,{roundness:null,backgroundColor:"transparent"})),Cr}return nn}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&Se.altKey&&Se.code===M.aU.V}});function ze(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function Je(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?ze(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):ze(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}(0,E.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(Se,Ze){return{appState:Je(Je({},Ze),{},{openMenu:Ze.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(Se){var Ze=Se.appState,Ve=Se.updateData;return(0,o.jsx)(se.V,{type:"button",icon:p.RY,"aria-label":(0,I.t)("buttons.menu"),onClick:Ve,selected:Ze.openMenu==="canvas"})}}),(0,E.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(Se,Ze){return{appState:Je(Je({},Ze),{},{openMenu:Ze.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData;return(0,o.jsx)(se.V,{visible:(0,W.RT)(Ve,(0,W.Lm)(Ze)),type:"button",icon:p.DG,"aria-label":(0,I.t)("buttons.edit"),onClick:pt,selected:Ve.openMenu==="shape"})}});var et=(0,E.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(Se,Ze,Ve,pt){var Vt=pt.focusContainer;return Ze.openDialog==="help"&&Vt(),{appState:Je(Je({},Ze),{},{openDialog:Ze.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(Se){return Se.key===M.tW.QUESTION_MARK}}),Ke=e(6655),tt=e(4643);function ut(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function ht(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?ut(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):ut(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}function He(Se,Ze){var Ve=typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(!Ve){if(Array.isArray(Se)||(Ve=function(ln,Zn){if(ln){if(typeof ln=="string")return Ee(ln,Zn);var qn=Object.prototype.toString.call(ln).slice(8,-1);if(qn==="Object"&&ln.constructor&&(qn=ln.constructor.name),qn==="Map"||qn==="Set")return Array.from(ln);if(qn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qn))return Ee(ln,Zn)}}(Se))||Ze){Ve&&(Se=Ve);var pt=0,Vt=function(){};return{s:Vt,n:function(){return pt>=Se.length?{done:!0}:{done:!1,value:Se[pt++]}},e:function(ln){throw ln},f:Vt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cn,Mn=!0,nn=!1;return{s:function(){Ve=Ve.call(Se)},n:function(){var ln=Ve.next();return Mn=ln.done,ln},e:function(ln){nn=!0,cn=ln},f:function(){try{Mn||Ve.return==null||Ve.return()}finally{if(nn)throw cn}}}}function Ee(Se,Ze){(Ze==null||Ze>Se.length)&&(Ze=Se.length);for(var Ve=0,pt=new Array(Ze);Ve<Ze;Ve++)pt[Ve]=Se[Ve];return pt}var Le=function(Se,Ze,Ve){var pt=Ve.scene.getSelectedElements({selectedElementIds:Ze.selectedElementIds,includeBoundTextElement:!0});return pt.length>=2&&!function(Vt){if(Vt.length>=2){var cn,Mn=He(Vt[0].groupIds);try{var nn=function(){var Zn=cn.value;if(Vt.reduce(function(qn,hr){return qn&&(0,S.Nd)(hr,Zn)},!0))return{v:!0}};for(Mn.s();!(cn=Mn.n()).done;){var ln=nn();if((0,Ke.Z)(ln)==="object")return ln.v}}catch(Zn){Mn.e(Zn)}finally{Mn.f()}}return!1}(pt)},Qe=(0,E.z)({name:"group",trackEvent:{category:"element"},perform:function(Se,Ze,Ve,pt){var Vt=pt.scene.getSelectedElements({selectedElementIds:Ze.selectedElementIds,includeBoundTextElement:!0});if(Vt.length<2)return{appState:Ze,elements:Se,commitToHistory:!1};var cn=(0,S.iJ)(Ze);if(cn.length===1){var Mn=cn[0],nn=new Set((0,S.Fb)(Se,Mn).map(function(no){return no.id})),ln=new Set(Vt.map(function(no){return no.id}));if(new Set([].concat((0,d.Z)(Array.from(nn)),(0,d.Z)(Array.from(ln)))).size===nn.size)return{appState:Ze,elements:Se,commitToHistory:!1}}var Zn=(0,d.Z)(Se);new Set(Vt.map(function(no){return no.frameId})).size>1&&(0,Ue.SH)(Vt).forEach(function(no,yo){Zn=(0,Ue.lz)(Zn,no,Ze)});var qn=(0,tt.kb)(),hr=(0,Z.xn)(Vt);Zn=Zn.map(function(no){return hr.get(no.id)?(0,b.BE)(no,{groupIds:(0,S.S_)(no.groupIds,qn,Ze.editingGroupId)}):no});var br=(0,S.Fb)(Zn,qn),Mr=br[br.length-1],Or=Zn.lastIndexOf(Mr),Er=Zn.slice(Or+1),Cr=Zn.slice(0,Or).filter(function(no){return!(0,S.Nd)(no,qn)});return Zn=[].concat((0,d.Z)(Cr),(0,d.Z)(br),(0,d.Z)(Er)),{appState:ht(ht({},Ze),(0,S.F$)(qn,ht(ht({},Ze),{},{selectedGroupIds:{}}),(0,W.Lm)(Zn))),elements:Zn,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(Se,Ze,Ve,pt){return Le(0,Ze,pt)},keyTest:function(Se){return!Se.shiftKey&&Se[M.tW.CTRL_OR_CMD]&&Se.key===M.tW.G},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData,Vt=Se.app;return(0,o.jsx)(se.V,{hidden:!Le(0,Ve,Vt),type:"button",icon:(0,o.jsx)(p.BF,{theme:Ve.theme}),onClick:function(){return pt(null)},title:"".concat((0,I.t)("labels.group")," — ").concat((0,Z.uY)("CtrlOrCmd+G")),"aria-label":(0,I.t)("labels.group"),visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}}),ct=(0,E.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(Se,Ze,Ve,pt){if((0,S.iJ)(Ze).length===0)return{appState:Ze,elements:Se,commitToHistory:!1};var Vt=(0,d.Z)(Se),cn=[];Vt=Vt.map(function(Zn){(0,T.Xh)(Zn)&&cn.push(Zn.id);var qn=(0,S.h6)(Zn.groupIds,Ze.selectedGroupIds);return qn.length===Zn.groupIds.length?Zn:(0,b.BE)(Zn,{groupIds:qn})});var Mn=(0,S.bO)(Ze,(0,W.Lm)(Vt),Ze,null),nn=pt.scene.getSelectedElements(Ze),ln=new Set(nn.filter(function(Zn){return Zn.frameId}).map(function(Zn){return Zn.frameId}));return(0,Ue.wO)(Se).filter(function(Zn){return ln.has(Zn.id)}).forEach(function(Zn){Zn&&(Vt=(0,Ue.pr)(Vt,(0,Ue.ni)(Vt,Zn,Ze),Zn,Ze))}),Mn.selectedElementIds=Object.entries(Mn.selectedElementIds).reduce(function(Zn,qn){var hr=(0,v.Z)(qn,2),br=hr[0];return hr[1]&&!cn.includes(br)&&(Zn[br]=!0),Zn},{}),{appState:ht(ht({},Ze),Mn),elements:Vt,commitToHistory:!0}},keyTest:function(Se){return Se.shiftKey&&Se[M.tW.CTRL_OR_CMD]&&Se.key===M.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(Se,Ze){return(0,S.iJ)(Ze).length>0},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData;return(0,o.jsx)(se.V,{type:"button",hidden:(0,S.iJ)(Ve).length===0,icon:(0,o.jsx)(p.RJ,{theme:Ve.theme}),onClick:function(){return pt(null)},title:"".concat((0,I.t)("labels.ungroup")," — ").concat((0,Z.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,I.t)("labels.ungroup"),visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}}),bt=e(957),wt=e(3379),zt=e.n(wt),Mt=e(7795),Zt=e.n(Mt),sn=e(569),rn=e.n(sn),Xt=e(3565),on=e.n(Xt),jn=e(9216),It=e.n(jn),kt=e(4589),Ht=e.n(kt),At=e(3729),Wt={};Wt.styleTagTransform=Ht(),Wt.setAttributes=on(),Wt.insert=rn().bind(null,"head"),Wt.domAPI=Zt(),Wt.insertStyleElement=It(),zt()(At.Z,Wt),At.Z&&At.Z.locals&&At.Z.locals;var Kt=e(9787),an=function(Se){var Ze=Se.color,Ve=Se.onClick,pt=Se.name,Vt=Se.src,cn=(0,bt.l)(pt),Mn=(0,Kt.useState)(!1),nn=(0,v.Z)(Mn,2),ln=nn[0],Zn=nn[1],qn=!ln&&Vt,hr=qn?void 0:{background:Ze};return(0,o.jsx)("div",{className:"Avatar",style:hr,onClick:Ve,children:qn?(0,o.jsx)("img",{className:"Avatar-img",src:Vt,alt:cn,referrerPolicy:"no-referrer",onError:function(){return Zn(!0)}}):cn})},bn=e(2382);function hn(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function An(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?hn(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):hn(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}(0,E.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(Se,Ze,Ve){var pt=Ve;return pt?{appState:An(An(An({},Ze),(0,bn.s)({scenePoint:pt,viewportDimensions:{width:Ze.width,height:Ze.height},zoom:Ze.zoom})),{},{openMenu:Ze.openMenu==="canvas"?null:Ze.openMenu}),commitToHistory:!1}:{appState:Ze,commitToHistory:!1}},PanelComponent:function(Se){var Ze=Se.updateData,Ve=Se.data,pt=(0,v.Z)(Ve,2),Vt=pt[0],cn=pt[1],Mn=(0,bt.G)(Vt);return(0,o.jsx)(an,{color:Mn,onClick:function(){return Ze(cn.pointer)},name:cn.username||"",src:cn.avatarUrl})}});var Yn=e(5742);function tr(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function Sn(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?tr(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):tr(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}function Bt(Se,Ze){var Ve=typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(!Ve){if(Array.isArray(Se)||(Ve=function(ln,Zn){if(ln){if(typeof ln=="string")return dn(ln,Zn);var qn=Object.prototype.toString.call(ln).slice(8,-1);if(qn==="Object"&&ln.constructor&&(qn=ln.constructor.name),qn==="Map"||qn==="Set")return Array.from(ln);if(qn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qn))return dn(ln,Zn)}}(Se))||Ze){Ve&&(Se=Ve);var pt=0,Vt=function(){};return{s:Vt,n:function(){return pt>=Se.length?{done:!0}:{done:!1,value:Se[pt++]}},e:function(ln){throw ln},f:Vt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cn,Mn=!0,nn=!1;return{s:function(){Ve=Ve.call(Se)},n:function(){var ln=Ve.next();return Mn=ln.done,ln},e:function(ln){nn=!0,cn=ln},f:function(){try{Mn||Ve.return==null||Ve.return()}finally{if(nn)throw cn}}}}function dn(Se,Ze){(Ze==null||Ze>Se.length)&&(Ze=Se.length);for(var Ve=0,pt=new Array(Ze);Ve<Ze;Ve++)pt[Ve]=Se[Ve];return pt}var un=(0,E.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(Se,Ze,Ve,pt){var Vt,cn=pt.scene.getSelectedElements({selectedElementIds:Ze.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),Mn=Bt(r.PR);try{var nn=function(){var Zn=Vt.value;if(cn.some(function(qn){return qn.type===Zn}))return{v:{commitToHistory:!1,appState:Sn(Sn({},Ze),{},{errorMessage:(0,I.t)("errors.libraryElementTypeError.".concat(Zn))})}}};for(Mn.s();!(Vt=Mn.n()).done;){var ln=nn();if((0,Ke.Z)(ln)==="object")return ln.v}}catch(Zn){Mn.e(Zn)}finally{Mn.f()}return pt.library.getLatestLibrary().then(function(Zn){return pt.library.setLibrary([{id:(0,tt.kb)(),status:"unpublished",elements:cn.map(Yn.OL),created:Date.now()}].concat((0,d.Z)(Zn)))}).then(function(){return{commitToHistory:!1,appState:Sn(Sn({},Ze),{},{toast:{message:(0,I.t)("toast.addedToLibrary")}})}}).catch(function(Zn){return{commitToHistory:!1,appState:Sn(Sn({},Ze),{},{errorMessage:Zn.message})}})},contextItemLabel:"labels.addToLibrary"}),Bn=e(4949);function Jn(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function cr(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?Jn(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):Jn(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}var kr=function(Se,Ze,Ve){var pt=Ve.axis,Vt=Ve.position,cn=(0,Bn.v2)(Se),Mn=pt==="x"?["minX","maxX"]:["minY","maxY"],nn=(0,v.Z)(Mn,2),ln=nn[0],Zn=nn[1],qn={x:0,y:0};return cr(cr({},qn),{},Vt==="start"?(0,N.Z)({},pt,Ze[ln]-cn[ln]):Vt==="end"?(0,N.Z)({},pt,Ze[Zn]-cn[Zn]):(0,N.Z)({},pt,(Ze[ln]+Ze[Zn])/2-(cn[ln]+cn[Zn])/2))},fr=function(Se,Ze,Ve,pt){var Vt=pt.scene.getSelectedElements(Ze);return Vt.length>1&&!Vt.some(function(cn){return cn.type==="frame"})},pn=function(Se,Ze,Ve,pt){var Vt=function(Mn,nn){var ln=(0,S.AI)(Mn),Zn=(0,Bn.v2)(Mn);return ln.flatMap(function(qn){var hr=kr(qn,Zn,nn);return qn.map(function(br){return(0,b.BE)(br,{x:br.x+hr.x,y:br.y+hr.y})})})}(Ve.scene.getSelectedElements(Ze),pt),cn=(0,Z.xn)(Vt);return(0,Ue.Tq)(Se.map(function(Mn){return cn.get(Mn.id)||Mn}),Ze,Ve)};(0,E.z)({name:"alignTop",trackEvent:{category:"element"},predicate:fr,perform:function(Se,Ze,Ve,pt){return{appState:Ze,elements:pn(Se,Ze,pt,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&Se.shiftKey&&Se.key===M.tW.ARROW_UP},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData,Vt=Se.app;return(0,o.jsx)(se.V,{hidden:!fr(0,Ve,0,Vt),type:"button",icon:p.Ct,onClick:function(){return pt(null)},title:"".concat((0,I.t)("labels.alignTop")," — ").concat((0,Z.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,I.t)("labels.alignTop"),visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}}),(0,E.z)({name:"alignBottom",trackEvent:{category:"element"},predicate:fr,perform:function(Se,Ze,Ve,pt){return{appState:Ze,elements:pn(Se,Ze,pt,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&Se.shiftKey&&Se.key===M.tW.ARROW_DOWN},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData,Vt=Se.app;return(0,o.jsx)(se.V,{hidden:!fr(0,Ve,0,Vt),type:"button",icon:p.HL,onClick:function(){return pt(null)},title:"".concat((0,I.t)("labels.alignBottom")," — ").concat((0,Z.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,I.t)("labels.alignBottom"),visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}}),(0,E.z)({name:"alignLeft",trackEvent:{category:"element"},predicate:fr,perform:function(Se,Ze,Ve,pt){return{appState:Ze,elements:pn(Se,Ze,pt,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&Se.shiftKey&&Se.key===M.tW.ARROW_LEFT},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData,Vt=Se.app;return(0,o.jsx)(se.V,{hidden:!fr(0,Ve,0,Vt),type:"button",icon:p.xs,onClick:function(){return pt(null)},title:"".concat((0,I.t)("labels.alignLeft")," — ").concat((0,Z.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,I.t)("labels.alignLeft"),visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}}),(0,E.z)({name:"alignRight",trackEvent:{category:"element"},predicate:fr,perform:function(Se,Ze,Ve,pt){return{appState:Ze,elements:pn(Se,Ze,pt,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&Se.shiftKey&&Se.key===M.tW.ARROW_RIGHT},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData,Vt=Se.app;return(0,o.jsx)(se.V,{hidden:!fr(0,Ve,0,Vt),type:"button",icon:p.mh,onClick:function(){return pt(null)},title:"".concat((0,I.t)("labels.alignRight")," — ").concat((0,Z.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,I.t)("labels.alignRight"),visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}}),(0,E.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},predicate:fr,perform:function(Se,Ze,Ve,pt){return{appState:Ze,elements:pn(Se,Ze,pt,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData,Vt=Se.app;return(0,o.jsx)(se.V,{hidden:!fr(0,Ve,0,Vt),type:"button",icon:p.ST,onClick:function(){return pt(null)},title:(0,I.t)("labels.centerVertically"),"aria-label":(0,I.t)("labels.centerVertically"),visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}}),(0,E.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},predicate:fr,perform:function(Se,Ze,Ve,pt){return{appState:Ze,elements:pn(Se,Ze,pt,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData,Vt=Se.app;return(0,o.jsx)(se.V,{hidden:!fr(0,Ve,0,Vt),type:"button",icon:p.gK,onClick:function(){return pt(null)},title:(0,I.t)("labels.centerHorizontally"),"aria-label":(0,I.t)("labels.centerHorizontally"),visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}});function Nt(Se,Ze){var Ve=typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(!Ve){if(Array.isArray(Se)||(Ve=function(ln,Zn){if(ln){if(typeof ln=="string")return Ft(ln,Zn);var qn=Object.prototype.toString.call(ln).slice(8,-1);if(qn==="Object"&&ln.constructor&&(qn=ln.constructor.name),qn==="Map"||qn==="Set")return Array.from(ln);if(qn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qn))return Ft(ln,Zn)}}(Se))||Ze){Ve&&(Se=Ve);var pt=0,Vt=function(){};return{s:Vt,n:function(){return pt>=Se.length?{done:!0}:{done:!1,value:Se[pt++]}},e:function(ln){throw ln},f:Vt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cn,Mn=!0,nn=!1;return{s:function(){Ve=Ve.call(Se)},n:function(){var ln=Ve.next();return Mn=ln.done,ln},e:function(ln){nn=!0,cn=ln},f:function(){try{Mn||Ve.return==null||Ve.return()}finally{if(nn)throw cn}}}}function Ft(Se,Ze){(Ze==null||Ze>Se.length)&&(Ze=Se.length);for(var Ve=0,pt=new Array(Ze);Ve<Ze;Ve++)pt[Ve]=Se[Ve];return pt}var qt=function(Se,Ze){var Ve=Ze.scene.getSelectedElements(Se);return Ve.length>1&&!Ve.some(function(pt){return pt.type==="frame"})},kn=function(Se,Ze,Ve,pt){var Vt=function(Mn,nn){var ln,Zn=nn.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],qn=(0,v.Z)(Zn,4),hr=qn[0],br=qn[1],Mr=qn[2],Or=qn[3],Er=(0,Bn.v2)(Mn),Cr=(0,S.AI)(Mn).map(function(Co){return[Co,(0,Bn.v2)(Co)]}).sort(function(Co,Oo){return Co[1][br]-Oo[1][br]}),no=0,yo=Nt(Cr);try{for(yo.s();!(ln=yo.n()).done;)no+=ln.value[1][Or]}catch(Co){yo.e(Co)}finally{yo.f()}var jo=(Er[Or]-no)/(Cr.length-1);if(jo<0){var ei=Cr.findIndex(function(Co){return Co[1][hr]===Er[hr]}),vi=Cr.findIndex(function(Co){return Co[1][Mr]===Er[Mr]}),Gr=(Cr[vi][1][br]-Cr[ei][1][br])/(Cr.length-1),Ir=Cr[ei][1][br];return Cr.flatMap(function(Co,Oo){var di=(0,v.Z)(Co,2),ri=di[0],ni=di[1],bi={x:0,y:0};return Oo!==ei&&Oo!==vi&&(Ir+=Gr,bi[nn.axis]=Ir-ni[br]),ri.map(function(ji){return(0,b.BE)(ji,{x:ji.x+bi.x,y:ji.y+bi.y})})})}var uo=Er[hr];return Cr.flatMap(function(Co){var Oo=(0,v.Z)(Co,2),di=Oo[0],ri=Oo[1],ni={x:0,y:0};return ni[nn.axis]=uo-ri[hr],uo+=jo,uo+=ri[Or],di.map(function(bi){return(0,b.BE)(bi,{x:bi.x+ni.x,y:bi.y+ni.y})})})}(Ve.scene.getSelectedElements(Ze),pt),cn=(0,Z.xn)(Vt);return(0,Ue.Tq)(Se.map(function(Mn){return cn.get(Mn.id)||Mn}),Ze,Ve)},$n=((0,E.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(Se,Ze,Ve,pt){return{appState:Ze,elements:kn(Se,Ze,pt,{axis:"x"}),commitToHistory:!0}},keyTest:function(Se){return!Se[M.tW.CTRL_OR_CMD]&&Se.altKey&&Se.code===M.aU.H},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData,Vt=Se.app;return(0,o.jsx)(se.V,{hidden:!qt(Ve,Vt),type:"button",icon:p.uD,onClick:function(){return pt(null)},title:"".concat((0,I.t)("labels.distributeHorizontally")," — ").concat((0,Z.uY)("Alt+H")),"aria-label":(0,I.t)("labels.distributeHorizontally"),visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}}),(0,E.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(Se,Ze,Ve,pt){return{appState:Ze,elements:kn(Se,Ze,pt,{axis:"y"}),commitToHistory:!0}},keyTest:function(Se){return!Se[M.tW.CTRL_OR_CMD]&&Se.altKey&&Se.code===M.aU.V},PanelComponent:function(Se){var Ze=Se.elements,Ve=Se.appState,pt=Se.updateData,Vt=Se.app;return(0,o.jsx)(se.V,{hidden:!qt(Ve,Vt),type:"button",icon:p.W5,onClick:function(){return pt(null)},title:"".concat((0,I.t)("labels.distributeVertically")," — ").concat((0,Z.uY)("Alt+V")),"aria-label":(0,I.t)("labels.distributeVertically"),visible:(0,a.N)((0,W.Lm)(Ze),Ve)})}}),e(4381)),Hn=(0,E.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(Se,Ze,Ve,pt){return{elements:(0,Ue.Tq)(ir(Se,Ze,"horizontal"),Ze,pt),appState:Ze,commitToHistory:!0}},keyTest:function(Se){return Se.shiftKey&&Se.code===M.aU.H},contextItemLabel:"labels.flipHorizontal"}),Qn=(0,E.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(Se,Ze,Ve,pt){return{elements:(0,Ue.Tq)(ir(Se,Ze,"vertical"),Ze,pt),appState:Ze,commitToHistory:!0}},keyTest:function(Se){return Se.shiftKey&&Se.code===M.aU.V&&!Se[M.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical"}),ir=function(Se,Ze,Ve){var pt=(0,a.eD)((0,W.Lm)(Se),Ze,{includeBoundTextElement:!0,includeElementsInFrames:!0}),Vt=Fn(pt,Ze,Ve),cn=(0,Z.xn)(Vt);return Se.map(function(Mn){return cn.get(Mn.id)||Mn})},Fn=function(Se,Ze,Ve){var pt=(0,Bn.v2)(Se),Vt=pt.minX,cn=pt.minY,Mn=pt.maxX,nn=pt.maxY;return(0,$n.LM)({originalElements:(0,Z.xn)(Se)},Se,"nw",!0,Ve==="horizontal"?Mn:Vt,Ve==="horizontal"?cn:nn),((0,ue.N1)(Ze)?ue.el:ue.H)(Se),Se},yr=e(5047);function lr(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function Gn(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?lr(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):lr(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}var Xn=(0,E.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(Se){return!Se.gridSize}},perform:function(Se,Ze){return{appState:Gn(Gn({},Ze),{},{gridSize:this.checked(Ze)?null:r.k,objectsSnapModeEnabled:!1}),commitToHistory:!1}},checked:function(Se){return Se.gridSize!==null},predicate:function(Se,Ze,Ve){return Ve.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(Se){return Se[M.tW.CTRL_OR_CMD]&&Se.code===M.aU.QUOTE}});function er(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function pr(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?er(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):er(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}var vr=(0,E.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(Se){return!Se.zenModeEnabled}},perform:function(Se,Ze){return{appState:pr(pr({},Ze),{},{zenModeEnabled:!this.checked(Ze)}),commitToHistory:!1}},checked:function(Se){return Se.zenModeEnabled},predicate:function(Se,Ze,Ve){return Ve.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(Se){return!Se[M.tW.CTRL_OR_CMD]&&Se.altKey&&Se.code===M.aU.Z}});function xr(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function $r(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?xr(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):xr(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}var io=(0,E.z)({name:"objectsSnapMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(Se){return!Se.objectsSnapModeEnabled}},perform:function(Se,Ze){return{appState:$r($r({},Ze),{},{objectsSnapModeEnabled:!this.checked(Ze),gridSize:null}),commitToHistory:!1}},checked:function(Se){return Se.objectsSnapModeEnabled},predicate:function(Se,Ze,Ve){return Ve.objectsSnapModeEnabled===void 0},contextItemLabel:"buttons.objectsSnapMode",keyTest:function(Se){return!Se[M.tW.CTRL_OR_CMD]&&Se.altKey&&Se.code===M.aU.S}}),Eo=e(7080),Ro=e(7392),Bo=e(5992),Do=e(9672);function bo(Se,Ze){var Ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Se);Ze&&(pt=pt.filter(function(Vt){return Object.getOwnPropertyDescriptor(Se,Vt).enumerable})),Ve.push.apply(Ve,pt)}return Ve}function Zo(Se){for(var Ze=1;Ze<arguments.length;Ze++){var Ve=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?bo(Object(Ve),!0).forEach(function(pt){(0,N.Z)(Se,pt,Ve[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(Ve)):bo(Object(Ve)).forEach(function(pt){Object.defineProperty(Se,pt,Object.getOwnPropertyDescriptor(Ve,pt))})}return Se}var rt=(0,E.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(Se,Ze,Ve,pt){var Vt=pt.scene.getSelectedElements(Ze);return!(Vt.length!==1||!(0,T.bt)(Vt[0]))},perform:function(Se,Ze,Ve,pt){var Vt,cn=pt.scene.getSelectedElements({selectedElementIds:Ze.selectedElementIds,includeBoundTextElement:!0})[0],Mn=((Vt=Ze.editingLinearElement)===null||Vt===void 0?void 0:Vt.elementId)===cn.id?null:new O._(cn,pt.scene);return{appState:Zo(Zo({},Ze),{},{editingLinearElement:Mn}),commitToHistory:!1}},contextItemLabel:function(Se,Ze,Ve){var pt,Vt=Ve.scene.getSelectedElements({selectedElementIds:Ze.selectedElementIds,includeBoundTextElement:!0})[0];return((pt=Ze.editingLinearElement)===null||pt===void 0?void 0:pt.elementId)===Vt.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},2767:function(te,t,e){e.d(t,{N:function(){return w},z:function(){return v}});var w=[],v=function(d){return w=w.concat(d),d}},2529:function(te,t,e){e.d(t,{C:function(){return T}});var w=e(9937),v=e(8227),d=e(9827),b={toggleTheme:[(0,d.uY)("Shift+Alt+D")],saveScene:[(0,d.uY)("CtrlOrCmd+S")],loadScene:[(0,d.uY)("CtrlOrCmd+O")],clearCanvas:[(0,d.uY)("CtrlOrCmd+Delete")],imageExport:[(0,d.uY)("CtrlOrCmd+Shift+E")],cut:[(0,d.uY)("CtrlOrCmd+X")],copy:[(0,d.uY)("CtrlOrCmd+C")],paste:[(0,d.uY)("CtrlOrCmd+V")],copyStyles:[(0,d.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,d.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,d.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,d.uY)("Delete")],duplicateSelection:[(0,d.uY)("CtrlOrCmd+D"),(0,d.uY)("Alt+".concat((0,v.t)("helpDialog.drag")))],sendBackward:[(0,d.uY)("CtrlOrCmd+[")],bringForward:[(0,d.uY)("CtrlOrCmd+]")],sendToBack:[w.Um?(0,d.uY)("CtrlOrCmd+Alt+["):(0,d.uY)("CtrlOrCmd+Shift+[")],bringToFront:[w.Um?(0,d.uY)("CtrlOrCmd+Alt+]"):(0,d.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,d.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,d.uY)("CtrlOrCmd+G")],ungroup:[(0,d.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,d.uY)("CtrlOrCmd+'")],zenMode:[(0,d.uY)("Alt+Z")],objectsSnapMode:[(0,d.uY)("Alt+S")],stats:[(0,d.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,d.uY)("Shift+H")],flipVertical:[(0,d.uY)("Shift+V")],viewMode:[(0,d.uY)("Alt+R")],hyperlink:[(0,d.uY)("CtrlOrCmd+K")],toggleElementLock:[(0,d.uY)("CtrlOrCmd+Shift+L")]},T=function(S){var a=b[S];return a&&a.length>0?a[0]:""}},3646:function(te,t,e){e.d(t,{L:function(){return w}});var w=function(v,d,b,T){try{if(typeof window>"u"||{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_WORKER_ID||![].includes(v))return;window.sa_event&&window.sa_event(d,{category:v,label:b,value:T})}catch(S){console.error("error during analytics",S)}}},6853:function(te,t,e){e.d(t,{EN:function(){return _},eS:function(){return F},im:function(){return S},l$:function(){return h},s:function(){return Z}});var w=e(9240),v=e(9937),d=e(8227),b=e(9827),T=v.ZB.includes(devicePixelRatio)?devicePixelRatio:1,S=function(){return{showWelcomeScreen:!1,theme:v.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:v.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:v.HN.fillStyle,currentItemFontFamily:v.rk,currentItemFontSize:v.n5,currentItemOpacity:v.HN.opacity,currentItemRoughness:v.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:v.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:v.HN.strokeStyle,currentItemStrokeWidth:v.HN.strokeWidth,currentItemTextAlign:v.Hg,cursorButton:"up",activeEmbeddable:null,draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:v.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:T,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,d.t)("labels.untitled"),"-").concat((0,b.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:w.HO.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1}},a={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1}},c=function(x,G){for(var le={},he=0,ve=Object.keys(x);he<ve.length;he++){var fe=ve[he],X=a[fe];if(X!=null&&X[G]){var q=x[fe];le[fe]=q}}return le},Z=function(x){return c(x,"export")},F=function(x){return c(x,"server")},_=function(x){return x.activeTool.type==="eraser"},h=function(x){return x.activeTool.type==="hand"}},901:function(te,t,e){e.d(t,{dz:function(){return q},i$:function(){return he},ps:function(){return I}});var w=e(1930),v=e(7169),d=e(2577),b=e(9240),T=e(9937),S=e(7651),a=e(4643);function c(E,p){var r=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!r){if(Array.isArray(E)||(r=function(N,W){if(N){if(typeof N=="string")return Z(N,W);var O=Object.prototype.toString.call(N).slice(8,-1);if(O==="Object"&&N.constructor&&(O=N.constructor.name),O==="Map"||O==="Set")return Array.from(N);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return Z(N,W)}}(E))||p){r&&(E=r);var o=0,g=function(){};return{s:g,n:function(){return o>=E.length?{done:!0}:{done:!1,value:E[o++]}},e:function(N){throw N},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,u=!0,k=!1;return{s:function(){r=r.call(E)},n:function(){var N=r.next();return u=N.done,N},e:function(N){k=!0,s=N},f:function(){try{u||r.return==null||r.return()}finally{if(k)throw s}}}}function Z(E,p){(p==null||p>E.length)&&(p=E.length);for(var r=0,o=new Array(p);r<p;r++)o[r]=E[r];return o}function F(E,p){var r=Object.keys(E);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(E);p&&(o=o.filter(function(g){return Object.getOwnPropertyDescriptor(E,g).enumerable})),r.push.apply(r,o)}return r}function _(E){for(var p=1;p<arguments.length;p++){var r=arguments[p]!=null?arguments[p]:{};p%2?F(Object(r),!0).forEach(function(o){(0,v.Z)(E,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(o){Object.defineProperty(E,o,Object.getOwnPropertyDescriptor(r,o))})}return E}var h=32,x=12,G=256,le="NOT_SPREADSHEET",he="VALID_SPREADSHEET",ve=function(E){var p=/^([-+]?)[$€£¥₩]?([-+]?)([\d.,]+)[%]?$/.exec(E);return p?parseFloat("".concat((p[1]||p[2])+p[3]).replace(/,/g,"")):null},fe=function(E,p){return E.slice(1).every(function(r){return ve(r[p])!==null})},X=function(E){var p=E[0].length;if(p>2)return{type:le,reason:"More than 2 columns"};if(p===1){if(!fe(E,0))return{type:le,reason:"Value is not numeric"};var r=ve(E[0][0])===null,o=(r?E.slice(1):E).map(function(L){return ve(L[0])});return o.length<2?{type:le,reason:"Less than two rows"}:{type:he,spreadsheet:{title:r?E[0][0]:null,labels:null,values:o}}}var g=fe(E,0),s=fe(E,1);if(!g&&!s)return{type:le,reason:"Value is not numeric"};var u=s?[0,1]:[1,0],k=(0,d.Z)(u,2),N=k[0],W=k[1],O=ve(E[0][W])===null,j=O?E.slice(1):E;return j.length<2?{type:le,reason:"Less than 2 rows"}:{type:he,spreadsheet:{title:O?E[0][W]:null,labels:j.map(function(L){return L[N]}),values:j.map(function(L){return ve(L[W])})}}},q=function(E){var p=E.trim().split(`
`).map(function(s){return s.trim().split("	")});if(p.length&&p[0].length!==2&&(p=E.trim().split(`
`).map(function(s){return s.trim().split(",")})),p.length===0)return{type:le,reason:"No values"};var r=p[0].length;if(!p.every(function(s){return s.length===r}))return{type:le,reason:"All rows don't have same number of columns"};var o=X(p);if(o.type!==he){var g=X(function(s){for(var u=[],k=0;k<s[0].length;k++){for(var N=[],W=0;W<s.length;W++)N.push(s[W][k]);u.push(N)}return u}(p));if(g.type===he)return g}return o},U=(0,b.sF)(b.C2),R={fillStyle:"hachure",fontFamily:T.rk,fontSize:T.n5,opacity:100,roughness:1,strokeColor:b.HO.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:T.oX.MIDDLE,locked:!1},B=function(E){return{chartWidth:44*E.values.length+x,chartHeight:280}},M=function(E,p,r,o,g,s){var u=B(E),k=u.chartWidth,N=E.title?(0,S.VL)(_(_({backgroundColor:g,groupIds:[o]},R),{},{text:E.title,x:p+k/2,y:r-G-24-T.n5,roundness:null,textAlign:"center"})):null;return[].concat((0,w.Z)([]),(0,w.Z)(N?[N]:[]),(0,w.Z)(function(W,O,j,L,V){var ie;return((ie=W.labels)===null||ie===void 0?void 0:ie.map(function(se,ue){return(0,S.VL)(_(_({groupIds:[L],backgroundColor:V},R),{},{text:se.length>8?"".concat(se.slice(0,5),"..."):se,x:O+44*ue+24,y:j+6,width:h,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(E,p,r,o,g)),(0,w.Z)(function(W,O,j,L,V){var ie=(0,S.VL)(_(_({groupIds:[L],backgroundColor:V},R),{},{x:O-x,y:j-x,text:"0",textAlign:"right"}));return[ie,(0,S.VL)(_(_({groupIds:[L],backgroundColor:V},R),{},{x:O-x,y:j-G-ie.height/2,text:Math.max.apply(Math,(0,w.Z)(W.values)).toLocaleString(),textAlign:"right"}))]}(E,p,r,o,g)),(0,w.Z)(function(W,O,j,L,V){var ie=B(W),se=ie.chartWidth,ue=ie.chartHeight;return[(0,S.y8)(_(_({backgroundColor:V,groupIds:[L]},R),{},{type:"line",x:O,y:j,startArrowhead:null,endArrowhead:null,width:se,points:[[0,0],[se,0]]})),(0,S.y8)(_(_({backgroundColor:V,groupIds:[L]},R),{},{type:"line",x:O,y:j,startArrowhead:null,endArrowhead:null,height:ue,points:[[0,0],[0,-ue]]})),(0,S.y8)(_(_({backgroundColor:V,groupIds:[L]},R),{},{type:"line",x:O,y:j-G-x,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:se,opacity:50,points:[[0,0],[se,0]]}))]}(E,p,r,o,g)))},I=function(E,p,r,o){return E==="line"?function(g,s,u){var k,N=Math.max.apply(Math,(0,w.Z)(g.values)),W=(0,a.kb)(),O=U[Math.floor(Math.random()*U.length)],j=0,L=[],V=c(g.values);try{for(V.s();!(k=V.n()).done;){var ie=k.value,se=44*j,ue=-ie/N*G;L.push([se,ue]),j++}}catch(Ae){V.e(Ae)}finally{V.f()}var pe=Math.max.apply(Math,(0,w.Z)(L.map(function(Ae){return Ae[0]}))),Q=Math.max.apply(Math,(0,w.Z)(L.map(function(Ae){return Ae[1]}))),ee=Math.min.apply(Math,(0,w.Z)(L.map(function(Ae){return Ae[0]}))),me=Math.min.apply(Math,(0,w.Z)(L.map(function(Ae){return Ae[1]}))),Te=(0,S.y8)(_(_({backgroundColor:O,groupIds:[W]},R),{},{type:"line",x:s+x+16,y:u-x,startArrowhead:null,endArrowhead:null,height:Q-me,width:pe-ee,strokeWidth:2,points:L})),Ue=g.values.map(function(Ae,Oe){var Ie=44*Oe+6,Re=-Ae/N*G+6;return(0,S.Up)(_(_({backgroundColor:O,groupIds:[W]},R),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:s+Ie+16,y:u+Re-24,width:x,height:x}))}),qe=g.values.map(function(Ae,Oe){var Ie=44*Oe+6,Re=Ae/N*G+6+x;return(0,S.y8)(_(_({backgroundColor:O,groupIds:[W]},R),{},{type:"line",x:s+Ie+16+6,y:u-Re,startArrowhead:null,endArrowhead:null,height:Re,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Re]]}))});return[].concat((0,w.Z)(M(g,s,u,W,O)),[Te],(0,w.Z)(qe),(0,w.Z)(Ue))}(p,r,o):function(g,s,u){var k=Math.max.apply(Math,(0,w.Z)(g.values)),N=(0,a.kb)(),W=U[Math.floor(Math.random()*U.length)],O=g.values.map(function(j,L){var V=j/k*G;return(0,S.Up)(_(_({backgroundColor:W,groupIds:[N]},R),{},{type:"rectangle",x:s+44*L+x,y:u-V-x,width:h,height:V}))});return[].concat((0,w.Z)(O),(0,w.Z)(M(g,s,u,N,W)))}(p,r,o)}},957:function(te,t,e){e.d(t,{G:function(){return w},l:function(){return v}});var w=function(d){var b=Math.abs(function(T){var S=0;if(T.length===0)return S;for(var a=0;a<T.length;a++)S=(S<<5)-S+T.charCodeAt(a);return S}(d));return"hsl(".concat(b%37*10,", ").concat(100,"%, ").concat(83,"%)")},v=function(d){var b,T=d==null||(b=d.trim())===null||b===void 0?void 0:b.codePointAt(0);return(T?String.fromCodePoint(T):"?").toUpperCase()}},4694:function(te,t,e){e.d(t,{OO:function(){return X},Se:function(){return I},dd:function(){return o},mQ:function(){return p},uR:function(){return r},vQ:function(){return U},vt:function(){return ve},wx:function(){return he}});var w=e(7169),v=e(8950),d=e(2577),b=e(2975),T=e.n(b),S=e(901),a=e(9937),c=e(4183),Z=e(5742),F=e(583),_=e(4682),h=e(9827),x=e(8227);function G(s,u){var k=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!k){if(Array.isArray(s)||(k=function(V,ie){if(V){if(typeof V=="string")return le(V,ie);var se=Object.prototype.toString.call(V).slice(8,-1);if(se==="Object"&&V.constructor&&(se=V.constructor.name),se==="Map"||se==="Set")return Array.from(V);if(se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return le(V,ie)}}(s))||u){k&&(s=k);var N=0,W=function(){};return{s:W,n:function(){return N>=s.length?{done:!0}:{done:!1,value:s[N++]}},e:function(V){throw V},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,j=!0,L=!1;return{s:function(){k=k.call(s)},n:function(){var V=k.next();return j=V.done,V},e:function(V){L=!0,O=V},f:function(){try{j||k.return==null||k.return()}finally{if(L)throw O}}}}function le(s,u){(u==null||u>s.length)&&(u=s.length);for(var k=0,N=new Array(u);k<u;k++)N[k]=s[k];return N}var he="clipboard"in navigator&&"writeText"in navigator.clipboard,ve="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,fe=function(s){return!(![a.r8.excalidraw,a.r8.excalidrawClipboard,a.r8.excalidrawClipboardWithAPI].includes(s?.type)||!Array.isArray(s.elements))},X=function(s){var u=s.types,k=s.files;u||k||console.warn("createPasteEvent: no types or files provided");var N=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(u)for(var W=0,O=Object.entries(u);W<O.length;W++){var j=(0,d.Z)(O[W],2),L=j[0],V=j[1];try{var ie,se;if((ie=N.clipboardData)===null||ie===void 0||ie.setData(L,V),((se=N.clipboardData)===null||se===void 0?void 0:se.getData(L))!==V)throw new Error('Failed to set "'.concat(L,'" as clipboardData item'))}catch(Ue){throw new Error(Ue.message)}}if(k){var ue,pe=-1,Q=G(k);try{for(Q.s();!(ue=Q.n()).done;){var ee=ue.value;pe++;try{var me,Te;if((me=N.clipboardData)===null||me===void 0||me.items.add(ee),((Te=N.clipboardData)===null||Te===void 0?void 0:Te.files[pe])!==ee)throw new Error('Failed to set file "'.concat(ee.name,'" as clipboardData item'))}catch(Ue){throw new Error(Ue.message)}}}catch(Ue){Q.e(Ue)}finally{Q.f()}}return N},q=function(s){var u=s.elements,k=s.files,N=new Set(u.filter(function(L){return L.type==="frame"})),W=!1,O=u.reduce(function(L,V){return(0,c.wi)(V)&&(W=!0,k&&k[V.fileId]&&(L[V.fileId]=k[V.fileId])),L},{});W&&!k&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var j={type:a.r8.excalidrawClipboard,elements:u.map(function(L){if((0,_.$Z)(L)&&!N.has((0,_.$Z)(L))){var V=(0,Z.OL)(L);return(0,F.DR)(V,{frameId:null}),V}return L}),files:k?O:void 0};return JSON.stringify(j)},U=function(){var s=(0,v.Z)(T().mark(function u(k,N,W){return T().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,o(q({elements:k,files:N}),W);case 2:case"end":return O.stop()}},u)}));return function(u,k,N){return s.apply(this,arguments)}}(),R=function(s){var u=(0,S.dz)(s);return u.type===S.i$?{spreadsheet:u.spreadsheet}:null};function B(s){var u,k=[],N=G(s.childNodes);try{for(N.s();!(u=N.n()).done;){var W=u.value;if(W.nodeType===3){var O,j=(O=W.textContent)===null||O===void 0?void 0:O.trim();j&&k.push({type:"text",value:j})}else if(W instanceof HTMLImageElement){var L=W.getAttribute("src");L&&L.startsWith("http")&&k.push({type:"imageUrl",value:L})}else k=k.concat(B(W))}}catch(V){N.e(V)}finally{N.f()}return k}var M=function(s){var u,k=(u=s.clipboardData)===null||u===void 0?void 0:u.getData("text/html");if(!k)return null;try{var N=B(new DOMParser().parseFromString(k,"text/html").body);if(N.length)return{type:"mixedContent",value:N}}catch(W){console.error("error in parseHTMLFromPaste: ".concat(W.message))}return null},I=function(){var s=(0,v.Z)(T().mark(function u(){var k,N,W,O,j,L,V,ie,se,ue,pe,Q;return T().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(k={},ee.prev=1,(N=navigator.clipboard)===null||N===void 0||!N.readText){ee.next=7;break}return ee.next=5,(W=navigator.clipboard)===null||W===void 0?void 0:W.readText();case 5:return ee.t0=ee.sent,ee.abrupt("return",{"text/plain":ee.t0});case 7:ee.next=16;break;case 9:if(ee.prev=9,ee.t1=ee.catch(1),(O=navigator.clipboard)===null||O===void 0||!O.read){ee.next=15;break}console.warn("navigator.clipboard.readText() failed (".concat(ee.t1.message,"). Failling back to navigator.clipboard.read()")),ee.next=16;break;case 15:throw ee.t1;case 16:return ee.prev=16,ee.next=19,(L=navigator.clipboard)===null||L===void 0?void 0:L.read();case 19:j=ee.sent,ee.next=28;break;case 22:if(ee.prev=22,ee.t2=ee.catch(16),ee.t2.name!=="DataError"){ee.next=27;break}return console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(ee.t2.message)),ee.abrupt("return",k);case 27:throw ee.t2;case 28:V=G(j),ee.prev=29,V.s();case 31:if((ie=V.n()).done){ee.next=63;break}se=ie.value,ue=G(se.types),ee.prev=34,ue.s();case 36:if((pe=ue.n()).done){ee.next=53;break}if(Q=pe.value,(0,h.XF)(a.wL,Q)){ee.next=40;break}return ee.abrupt("continue",51);case 40:return ee.prev=40,ee.next=43,se.getType(Q);case 43:return ee.next=45,ee.sent.text();case 45:k[Q]=ee.sent,ee.next=51;break;case 48:ee.prev=48,ee.t3=ee.catch(40),console.warn("Cannot retrieve ".concat(Q," from clipboardItem: ").concat(ee.t3.message));case 51:ee.next=36;break;case 53:ee.next=58;break;case 55:ee.prev=55,ee.t4=ee.catch(34),ue.e(ee.t4);case 58:return ee.prev=58,ue.f(),ee.finish(58);case 61:ee.next=31;break;case 63:ee.next=68;break;case 65:ee.prev=65,ee.t5=ee.catch(29),V.e(ee.t5);case 68:return ee.prev=68,V.f(),ee.finish(68);case 71:if(Object.keys(k).length!==0){ee.next=74;break}return console.warn("No clipboard data found from clipboard.read()."),ee.abrupt("return",k);case 74:return ee.abrupt("return",k);case 75:case"end":return ee.stop()}},u,null,[[1,9],[16,22],[29,65,68,71],[34,55,58,61],[40,48]])}));return function(){return s.apply(this,arguments)}}(),E=function(){var s=(0,v.Z)(T().mark(function u(k){var N,W,O,j,L,V=arguments;return T().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(N=V.length>1&&V[1]!==void 0&&V[1],ie.prev=1,!(O=!N&&k&&M(k))){ie.next=7;break}if(!O.value.every(function(se){return se.type==="text"})){ie.next=6;break}return ie.abrupt("return",{type:"text",value:((j=k.clipboardData)===null||j===void 0?void 0:j.getData("text/plain"))||O.value.map(function(se){return se.value}).join(`
`).trim()});case 6:return ie.abrupt("return",O);case 7:return L=(W=k.clipboardData)===null||W===void 0?void 0:W.getData("text/plain"),ie.abrupt("return",{type:"text",value:(L||"").trim()});case 11:return ie.prev=11,ie.t0=ie.catch(1),ie.abrupt("return",{type:"text",value:""});case 14:case"end":return ie.stop()}},u,null,[[1,11]])}));return function(u){return s.apply(this,arguments)}}(),p=function(){var s=(0,v.Z)(T().mark(function u(k){var N,W,O,j,L,V=arguments;return T().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return N=V.length>1&&V[1]!==void 0&&V[1],ie.next=3,E(k,N);case 3:if((W=ie.sent).type!=="mixedContent"){ie.next=6;break}return ie.abrupt("return",{mixedContent:W.value});case 6:if(ie.prev=6,!(O=!N&&R(W.value))){ie.next=10;break}return ie.abrupt("return",O);case 10:ie.next=15;break;case 12:ie.prev=12,ie.t0=ie.catch(6),console.error(ie.t0);case 15:if(ie.prev=15,j=JSON.parse(W.value),L=j.type===a.r8.excalidrawClipboardWithAPI,!fe(j)){ie.next=20;break}return ie.abrupt("return",{elements:j.elements,files:j.files,text:N?JSON.stringify(j.elements,null,2):void 0,programmaticAPI:L});case 20:ie.next=24;break;case 22:ie.prev=22,ie.t1=ie.catch(15);case 24:return ie.abrupt("return",{text:W.value});case 25:case"end":return ie.stop()}},u,null,[[6,12],[15,22]])}));return function(u){return s.apply(this,arguments)}}(),r=function(){var s=(0,v.Z)(T().mark(function u(k){return T().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,navigator.clipboard.write([new window.ClipboardItem((0,w.Z)({},a.LO.png,k))]);case 3:case 21:N.next=24;break;case 5:if(N.prev=5,N.t0=N.catch(0),!(0,h.y8)(k)){N.next=23;break}return N.t1=navigator.clipboard,N.t2=window.ClipboardItem,N.t3=w.Z,N.t4={},N.t5=a.LO.png,N.next=15,k;case 15:return N.t6=N.sent,N.t7=(0,N.t3)(N.t4,N.t5,N.t6),N.t8=new N.t2(N.t7),N.t9=[N.t8],N.next=21,N.t1.write.call(N.t1,N.t9);case 23:throw N.t0;case 24:case"end":return N.stop()}},u,null,[[0,5]])}));return function(u){return s.apply(this,arguments)}}(),o=function(){var s=(0,v.Z)(T().mark(function u(k,N){var W,O;return T().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!he){j.next=10;break}return j.prev=1,j.next=4,navigator.clipboard.writeText(k||"");case 4:return j.abrupt("return");case 7:j.prev=7,j.t0=j.catch(1),console.error(j.t0);case 10:if(j.prev=10,!N){j.next=16;break}if((W=N.clipboardData)===null||W===void 0||W.setData("text/plain",k||""),((O=N.clipboardData)===null||O===void 0?void 0:O.getData("text/plain"))===k){j.next=15;break}throw new Error("Failed to setData on clipboardEvent");case 15:return j.abrupt("return");case 16:j.next=21;break;case 18:j.prev=18,j.t1=j.catch(10),console.error(j.t1);case 21:if(g(k)){j.next=23;break}throw new Error((0,x.t)("errors.copyToSystemClipboardFailed"));case 23:case"end":return j.stop()}},u,null,[[1,7],[10,18]])}));return function(u,k){return s.apply(this,arguments)}}(),g=function(s){s||(s=" ");var u=document.documentElement.getAttribute("dir")==="rtl",k=document.createElement("textarea");k.style.border="0",k.style.padding="0",k.style.margin="0",k.style.position="absolute",k.style[u?"right":"left"]="-9999px";var N=window.pageYOffset||document.documentElement.scrollTop;k.style.top="".concat(N,"px"),k.style.fontSize="12pt",k.setAttribute("readonly",""),k.value=s,document.body.appendChild(k);var W=!1;try{k.select(),k.setSelectionRange(0,k.value.length),W=document.execCommand("copy")}catch(O){console.error(O)}return k.remove(),W}},9240:function(te,t,e){e.d(t,{C2:function(){return c},HO:function(){return x},Lx:function(){return S},SF:function(){return X},Wk:function(){return fe},_T:function(){return F},ay:function(){return ve},dC:function(){return a},eq:function(){return he},fY:function(){return le},sF:function(){return q},vq:function(){return U},z8:function(){return Z}});var w=e(7169),v=e(5284);function d(R,B){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(R);B&&(I=I.filter(function(E){return Object.getOwnPropertyDescriptor(R,E).enumerable})),M.push.apply(M,I)}return M}function b(R){for(var B=1;B<arguments.length;B++){var M=arguments[B]!=null?arguments[B]:{};B%2?d(Object(M),!0).forEach(function(I){(0,w.Z)(R,I,M[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):d(Object(M)).forEach(function(I){Object.defineProperty(R,I,Object.getOwnPropertyDescriptor(M,I))})}return R}var T,S=5,a=5,c=4,Z=4,F=1,_=[0,2,4,6,8],h=function(R,B){return B.map(function(M){return v[R][M]})},x={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:h("gray",_),red:h("red",_),pink:h("pink",_),grape:h("grape",_),violet:h("violet",_),blue:h("blue",_),cyan:h("cyan",_),teal:h("teal",_),green:h("green",_),yellow:h("yellow",_),orange:h("orange",_),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},G=(T=x,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"].reduce(function(R,B){return B in T&&(R[B]=T[B]),R},{})),le=[x.black,x.red[Z],x.green[Z],x.blue[Z],x.yellow[Z]],he=[x.transparent,x.red[F],x.green[F],x.blue[F],x.yellow[F]],ve=[x.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],fe=b({transparent:x.transparent,white:x.white,gray:x.gray,black:x.black,bronze:x.bronze},G),X=b({transparent:x.transparent,white:x.white,gray:x.gray,black:x.black,bronze:x.bronze},G),q=function(R){return[x.cyan[R],x.blue[R],x.violet[R],x.grape[R],x.pink[R],x.green[R],x.teal[R],x.yellow[R],x.orange[R],x.red[R]]},U=function(R,B,M){return"#".concat(((1<<24)+(R<<16)+(B<<8)+M).toString(16).slice(1))}},8973:function(te,t,e){e.d(t,{o:function(){return F},w:function(){return Z}});var w=e(2577),v=e(3607),d=e(5463),b=e(8227),T=e(453),S=e(8242),a=e(6887),c=e(1020),Z=(0,v.cn)(null),F=function(){var _=(0,v.KO)(Z,T.yE),h=(0,w.Z)(_,2),x=h[0],G=h[1],le=(0,S.eh)();return x&&x==="clearCanvas"?(0,c.jsx)(a.Z,{onConfirm:function(){le.executeAction(d.mo),G(null)},onCancel:function(){return G(null)},title:(0,b.t)("clearCanvasDialog.title"),children:(0,c.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,b.t)("alerts.clearReset")]})}):null}},8242:function(te,t,e){var vs,Fa;e.d(t,{ZP:function(){return ns},qD:function(){return Ps},hY:function(){return ms},Fy:function(){return ts},eh:function(){return Rs},gF:function(){return Ls},J0:function(){return Is},bd:function(){return Ds},n9:function(){return As}});var w=e(6655),v=e(2577),d=e(1930),b=e(8950),T=e(8821),S=e(5169),a=e(3173),c=e(2248),Z=e(7245),F=e(2312),_=e(7169),h=e(2975),x=e.n(h),G=e(9787),le=e.n(G),he=e(5156),ve=e(9845),fe=e(45),X=e(5605),q=e(5463),U=e(8935),R=e(1512),B=e(8227),M=e(5491),I=e(583),E=e(9645),p=e(9827),r=e(9937),o=e(1020);function g(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}function s(i){for(var C=1;C<arguments.length;C++){var K=arguments[C]!=null?arguments[C]:{};C%2?g(Object(K),!0).forEach(function(oe){(0,_.Z)(i,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(K)):g(Object(K)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(K,oe))})}return i}var u=function(i,C,K){var oe=!1;if(!(C.multiElement||C.resizingElement||C.editingElement||C.draggingElement)){var we=K();if(we===null)return{commitToHistory:oe};var de=(0,p.xn)(i),$=we.elements,ne=(0,p.xn)($),Pe=i.filter(function(Fe){return!ne.has(Fe.id)}),Be=$.map(function(Fe){return(0,I.BE)(de.get(Fe.id)||Fe,Fe)}).concat(Pe.map(function(Fe){return(0,I.BE)(Fe,{isDeleted:!0})}));return(0,E.$q)(Be,Pe),{elements:Be,appState:s(s({},C),we.appState),commitToHistory:oe,syncHistory:!0}}return{commitToHistory:oe}},k=e(3646),N=function(i,C,K,oe,we,de){if(i.trackEvent)try{(0,w.Z)(i.trackEvent)==="object"&&(!i.trackEvent.predicate||i.trackEvent.predicate(K,oe,de))&&(0,k.L)(i.trackEvent.category,i.trackEvent.action||i.name,"".concat(C," (").concat(we.device.editor.isMobile?"mobile":"desktop",")"))}catch($){console.error("error while logging action:",$)}},W=function(){function i(C,K,oe,we){var de=this;(0,T.Z)(this,i),this.actions={},this.renderAction=function($,ne){var Pe=de.app.props.UIOptions.canvasActions;if(de.actions[$]&&"PanelComponent"in de.actions[$]&&(!($ in Pe)||Pe[$])){var Be=de.actions[$],Fe=Be.PanelComponent;Fe.displayName="PanelComponent";var it=de.getElementsIncludingDeleted(),st=de.getAppState();return(0,o.jsx)(Fe,{elements:de.getElementsIncludingDeleted(),appState:de.getAppState(),updateData:function(vt){N(Be,"ui",st,it,de.app,vt),de.updater(Be.perform(de.getElementsIncludingDeleted(),de.getAppState(),vt,de.app))},appProps:de.app.props,app:de.app,data:ne})}return null},this.isActionEnabled=function($){var ne=de.getElementsIncludingDeleted(),Pe=de.getAppState();return!$.predicate||$.predicate(ne,Pe,de.app.props,de.app)},this.updater=function($){if(!$||!("then"in $))return C($);$.then(function(ne){return C(ne)})},this.getAppState=K,this.getElementsIncludingDeleted=oe,this.app=we}return(0,S.Z)(i,[{key:"registerAction",value:function(C){this.actions[C.name]=C}},{key:"registerAll",value:function(C){var K=this;C.forEach(function(oe){return K.registerAction(oe)})}},{key:"handleKeyDown",value:function(C){var K=this,oe=this.app.props.UIOptions.canvasActions,we=Object.values(this.actions).sort(function(Pe,Be){return(Be.keyPriority||0)-(Pe.keyPriority||0)}).filter(function(Pe){return(!(Pe.name in oe)||oe[Pe.name])&&Pe.keyTest&&Pe.keyTest(C,K.getAppState(),K.getElementsIncludingDeleted(),K.app)});if(we.length!==1)return we.length>1&&console.warn("Canceling as multiple actions match this shortcut",we),!1;var de=we[0];if(this.getAppState().viewModeEnabled&&de.viewMode!==!0)return!1;var $=this.getElementsIncludingDeleted(),ne=this.getAppState();return N(de,"keyboard",ne,$,this.app,null),C.preventDefault(),C.stopPropagation(),this.updater(we[0].perform($,ne,null,this.app)),!0}},{key:"executeAction",value:function(C){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,we=this.getElementsIncludingDeleted(),de=this.getAppState();N(C,K,de,we,this.app,oe),this.updater(C.perform(we,de,oe,this.app))}}]),i}(),O=e(2767),j=e(6853),L=e(4694),V=e(2435),ie=e(9326),se=e(7994),ue=e(7651),pe=e(7422),Q=e(5742),ee=e(4183),me=function(i){var C=Array.from(i.values());return{x:Ue(C,function(K){return K.x})/C.length,y:Ue(C,function(K){return K.y})/C.length}},Te=function(i){var C=(0,v.Z)(i,2),K=C[0],oe=C[1];return Math.hypot(K.x-oe.x,K.y-oe.y)},Ue=function(i,C){return i.reduce(function(K,oe){return K+C(oe)},0)},qe=e(9215);function Ae(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}function Oe(i){for(var C=1;C<arguments.length;C++){var K=arguments[C]!=null?arguments[C]:{};C%2?Ae(Object(K),!0).forEach(function(oe){(0,_.Z)(i,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(K)):Ae(Object(K)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(K,oe))})}return i}var Ie=function(i){return{selectedElementIds:i.selectedElementIds,selectedGroupIds:i.selectedGroupIds,viewBackgroundColor:i.viewBackgroundColor,editingLinearElement:i.editingLinearElement,editingGroupId:i.editingGroupId,name:i.name}},Re=function(){function i(){var C=this;(0,T.Z)(this,i),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(K,oe){return C.dehydrateHistoryEntry({appState:Ie(K),elements:oe.reduce(function(we,de){if((0,ee.bt)(de)&&K.multiElement&&K.multiElement.id===de.id){if(K.multiElement&&K.multiElement.id===de.id&&de.points.length<2)return we;we.push(Oe(Oe({},de),{},{points:de.lastCommittedPoint!==de.points[de.points.length-1]?de.points.slice(0,-1):de.points}))}else we.push(de);return we},[])})}}return(0,S.Z)(i,[{key:"hydrateHistoryEntry",value:function(C){var K=this,oe=C.appState,we=C.elements;return{appState:JSON.parse(oe),elements:we.map(function(de){var $,ne=($=K.elementCache.get(de.id))===null||$===void 0?void 0:$.get(de.versionNonce);if(!ne)throw new Error("Element not found: ".concat(de.id,":").concat(de.versionNonce));return ne})}}},{key:"dehydrateHistoryEntry",value:function(C){var K=this,oe=C.appState,we=C.elements;return{appState:JSON.stringify(oe),elements:we.map(function(de){K.elementCache.has(de.id)||K.elementCache.set(de.id,new Map);var $=K.elementCache.get(de.id);return $.has(de.versionNonce)||$.set(de.versionNonce,(0,Q.OL)(de)),{id:de.id,versionNonce:de.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var C=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(K){return C.hydrateHistoryEntry(K)}),redoStack:this.redoStack.map(function(K){return C.hydrateHistoryEntry(K)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(C){var K,oe=this.lastEntry;if(!oe||C.elements.length!==oe.elements.length)return!0;for(var we=C.elements.length-1;we>-1;we--){var de=C.elements[we],$=oe.elements[we];if(!de||!$||de.id!==$.id||de.versionNonce!==$.versionNonce)return!0}for(K in C.appState){var ne,Pe;if(!(K==="editingLinearElement"&&((ne=C.appState[K])===null||ne===void 0?void 0:ne.elementId)===((Pe=oe.appState[K])===null||Pe===void 0?void 0:Pe.elementId))&&K!=="selectedElementIds"&&K!=="selectedGroupIds"&&C.appState[K]!==oe.appState[K])return!0}return!1}},{key:"pushEntry",value:function(C,K){var oe=this.generateEntry(C,K),we=this.hydrateHistoryEntry(oe);if(we){if(!this.shouldCreateEntry(we))return;this.stateHistory.push(oe),this.lastEntry=we,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var C=this.redoStack.pop();return C!==void 0?(this.stateHistory.push(C),this.hydrateHistoryEntry(C)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var C=this.stateHistory.pop(),K=this.stateHistory[this.stateHistory.length-1];return C!==void 0?(this.redoStack.push(C),this.hydrateHistoryEntry(K)):null}},{key:"setCurrentState",value:function(C,K){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(C,K))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(C,K){this.recording&&(this.pushEntry(C,K),this.recording=!1)}}]),i}(),ke=e(7935),xe=e(2361),ye=e(4105),P=e(457),l=e(4116),f=[{icon:U.zu,value:"selection",key:M.tW.V,numericKey:M.tW[1],fillable:!0},{icon:U.OW,value:"rectangle",key:M.tW.R,numericKey:M.tW[2],fillable:!0},{icon:U.nb,value:"diamond",key:M.tW.D,numericKey:M.tW[3],fillable:!0},{icon:U.Re,value:"ellipse",key:M.tW.O,numericKey:M.tW[4],fillable:!0},{icon:U.e0,value:"arrow",key:M.tW.A,numericKey:M.tW[5],fillable:!0},{icon:U.zb,value:"line",key:M.tW.L,numericKey:M.tW[6],fillable:!0},{icon:U.Pm,value:"freedraw",key:[M.tW.P,M.tW.X],numericKey:M.tW[7],fillable:!1},{icon:U.VL,value:"text",key:M.tW.T,numericKey:M.tW[8],fillable:!1},{icon:U.XB,value:"image",key:null,numericKey:M.tW[9],fillable:!1},{icon:U.$q,value:"eraser",key:M.tW.E,numericKey:M.tW[0],fillable:!1}],D=e(761),H=e(3204),J=e(3379),re=e.n(J),ae=e(7795),ge=e.n(ae),_e=e(569),ze=e.n(_e),Je=e(3565),et=e.n(Je),Ke=e(9216),tt=e.n(Ke),ut=e(4589),ht=e.n(ut),He=e(6578),Ee={};Ee.styleTagTransform=ht(),Ee.setAttributes=et(),Ee.insert=ze().bind(null,"head"),Ee.domAPI=ge(),Ee.insertStyleElement=tt(),re()(He.Z,Ee),He.Z&&He.Z.locals&&He.Z.locals;var Le=e(2529),Qe="separator",ct=le().memo(function(i){var C=i.actionManager,K=i.items,oe=i.top,we=i.left,de=i.onClose,$=Ls(),ne=Ds(),Pe=K.reduce(function(Be,Fe){return!Fe||Fe!==Qe&&Fe.predicate&&!Fe.predicate(ne,$,C.app.props,C.app)||Be.push(Fe),Be},[]);return(0,o.jsx)(H.J,{onCloseRequest:function(){de()},top:oe,left:we,fitInViewport:!0,offsetLeft:$.offsetLeft,offsetTop:$.offsetTop,viewportWidth:$.width,viewportHeight:$.height,children:(0,o.jsx)("ul",{className:"context-menu",onContextMenu:function(Be){return Be.preventDefault()},children:Pe.map(function(Be,Fe){var it;if(Be===Qe)return Pe[Fe-1]&&Pe[Fe-1]!==Qe?(0,o.jsx)("hr",{className:"context-menu-item-separator"},Fe):null;var st=Be.name,vt="";return Be.contextItemLabel&&(vt=typeof Be.contextItemLabel=="function"?(0,B.t)(Be.contextItemLabel(ne,$,C.app)):(0,B.t)(Be.contextItemLabel)),(0,o.jsx)("li",{"data-testid":st,onClick:function(){de(function(){C.executeAction(Be,"contextMenu")})},children:(0,o.jsxs)("button",{className:(0,fe.Z)("context-menu-item",{dangerous:st==="deleteSelectedElements",checkmark:(it=Be.checked)===null||it===void 0?void 0:it.call(Be,$)}),children:[(0,o.jsx)("div",{className:"context-menu-item__label",children:vt}),(0,o.jsx)("kbd",{className:"context-menu-item__shortcut",children:st?(0,Le.C)(st):""})]})},Fe)})})})}),bt=e(2726),wt=e(2540),zt=e(1648),Mt=e(8925),Zt=e(4761),sn=e(6086),rn={};rn.styleTagTransform=ht(),rn.setAttributes=et(),rn.insert=ze().bind(null,"head"),rn.domAPI=ge(),rn.insertStyleElement=tt(),re()(sn.Z,rn),sn.Z&&sn.Z.locals&&sn.Z.locals;var Xt=e(7104);function on(i,C){var K=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!K){if(Array.isArray(i)||(K=function(Pe,Be){if(Pe){if(typeof Pe=="string")return jn(Pe,Be);var Fe=Object.prototype.toString.call(Pe).slice(8,-1);if(Fe==="Object"&&Pe.constructor&&(Fe=Pe.constructor.name),Fe==="Map"||Fe==="Set")return Array.from(Pe);if(Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return jn(Pe,Be)}}(i))||C){K&&(i=K);var oe=0,we=function(){};return{s:we,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Pe){throw Pe},f:we}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,$=!0,ne=!1;return{s:function(){K=K.call(i)},n:function(){var Pe=K.next();return $=Pe.done,Pe},e:function(Pe){ne=!0,de=Pe},f:function(){try{$||K.return==null||K.return()}finally{if(ne)throw de}}}}function jn(i,C){(C==null||C>i.length)&&(C=i.length);for(var K=0,oe=new Array(C);K<C;K++)oe[K]=i[K];return oe}var It=function(i){var C,K=i.appState,oe=i.elements,we=i.renderAction,de=(0,ye.Zs)((0,ue.Lm)(oe),K),$=!1;de.length===2&&((0,ee.Xo)(de[0])||(0,ee.Xo)(de[1]))&&($=!0);var ne,Pe=!!K.editingElement,Be=ts(),Fe=document.documentElement.getAttribute("dir")==="rtl",it=(0,ye.$b)(K.activeTool.type)&&!(0,p.Qm)(K.currentItemBackgroundColor)||de.some(function(Qt){return(0,ye.$b)(Qt.type)&&!(0,p.Qm)(Qt.backgroundColor)}),st=(0,ye.$b)(K.activeTool.type)||de.some(function(Qt){return(0,ye.$b)(Qt.type)}),vt=de.length===1||$,jt=((C=de[0])===null||C===void 0?void 0:C.type)||null,Lt=on(de);try{for(Lt.s();!(ne=Lt.n()).done;)if(ne.value.type!==jt){jt=null;break}}catch(Qt){Lt.e(Qt)}finally{Lt.f()}return(0,o.jsxs)("div",{className:"panelColumn",children:[(0,o.jsx)("div",{children:((0,zt.PD)(K.activeTool.type)&&K.activeTool.type!=="image"&&jt!=="image"&&jt!=="frame"||de.some(function(Qt){return(0,zt.PD)(Qt.type)}))&&we("changeStrokeColor")}),st&&(0,o.jsx)("div",{children:we("changeBackgroundColor")}),it&&we("changeFillStyle"),((0,ye.Zd)(K.activeTool.type)||de.some(function(Qt){return(0,ye.Zd)(Qt.type)}))&&we("changeStrokeWidth"),(K.activeTool.type==="freedraw"||de.some(function(Qt){return Qt.type==="freedraw"}))&&we("changeStrokeShape"),((0,ye.M9)(K.activeTool.type)||de.some(function(Qt){return(0,ye.M9)(Qt.type)}))&&(0,o.jsxs)(o.Fragment,{children:[we("changeStrokeStyle"),we("changeSloppiness")]}),((0,ye.sh)(K.activeTool.type)||de.some(function(Qt){return(0,ye.sh)(Qt.type)}))&&(0,o.jsx)(o.Fragment,{children:we("changeRoundness")}),(K.activeTool.type==="text"||de.some(ee.iB))&&(0,o.jsxs)(o.Fragment,{children:[we("changeFontSize"),we("changeFontFamily"),(K.activeTool.type==="text"||(0,Zt.aV)(de))&&we("changeTextAlign")]}),(0,Zt.cn)(de)&&we("changeVerticalAlign"),((0,ye.Un)(K.activeTool.type)||de.some(function(Qt){return(0,ye.Un)(Qt.type)}))&&(0,o.jsx)(o.Fragment,{children:we("changeArrowhead")}),we("changeOpacity"),(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,B.t)("labels.layers")}),(0,o.jsxs)("div",{className:"buttonList",children:[we("sendToBack"),we("sendBackward"),we("bringToFront"),we("bringForward")]})]}),de.length>1&&!$&&(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,B.t)("labels.align")}),(0,o.jsxs)("div",{className:"buttonList",children:[Fe?(0,o.jsxs)(o.Fragment,{children:[we("alignRight"),we("alignHorizontallyCentered"),we("alignLeft")]}):(0,o.jsxs)(o.Fragment,{children:[we("alignLeft"),we("alignHorizontallyCentered"),we("alignRight")]}),de.length>2&&we("distributeHorizontally"),(0,o.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,o.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[we("alignTop"),we("alignVerticallyCentered"),we("alignBottom"),de.length>2&&we("distributeVertically")]})]})]}),!Pe&&de.length>0&&(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,B.t)("labels.actions")}),(0,o.jsxs)("div",{className:"buttonList",children:[!Be.editor.isMobile&&we("duplicateSelection"),!Be.editor.isMobile&&we("deleteSelectedElements"),we("group"),we("ungroup"),vt&&we("hyperlink")]})]})]})},kt=function(i){var C=i.activeTool,K=i.appState,oe=i.app,we=i.UIOptions,de=(0,G.useState)(!1),$=(0,v.Z)(de,2),ne=$[0],Pe=$[1],Be=C.type==="frame",Fe=C.type==="laser",it=C.type==="embeddable";return(0,o.jsxs)(o.Fragment,{children:[f.map(function(st,vt){var jt,Lt=st.value,Qt=st.icon,vn=st.key,$t=st.numericKey,Ut=st.fillable;if(((jt=we.tools)===null||jt===void 0?void 0:jt[Lt])===!1)return null;var tn=(0,B.t)("toolBar.".concat(Lt)),xn=vn&&(0,p.Oo)(typeof vn=="string"?vn:vn[0]),Dn=xn?"".concat(xn," ").concat((0,B.t)("helpDialog.or")," ").concat($t):"".concat($t);return(0,o.jsx)(R.V,{className:(0,fe.Z)("Shape",{fillable:Ut}),type:"radio",icon:Qt,checked:C.type===Lt,name:"editor-current-shape",title:"".concat((0,p.Oo)(tn)," — ").concat(Dn),keyBindingLabel:$t||xn,"aria-label":(0,p.Oo)(tn),"aria-keyshortcuts":Dn,"data-testid":"toolbar-".concat(Lt),onPointerDown:function(En){var yn=En.pointerType;K.penDetected||yn!=="pen"||oe.togglePenMode(!0)},onChange:function(En){var yn=En.pointerType;K.activeTool.type!==Lt&&(0,k.L)("toolbar",Lt,"ui"),Lt==="image"?oe.setActiveTool({type:Lt,insertOnCanvasDirectly:yn!=="mouse"}):oe.setActiveTool({type:Lt})}},Lt)}),(0,o.jsx)("div",{className:"App-toolbar__divider"}),(0,o.jsxs)(Xt.Z,{open:ne,children:[(0,o.jsx)(Xt.Z.Trigger,{className:(0,fe.Z)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":Be||it||Fe&&!oe.props.isCollaborating}),onToggle:function(){return Pe(!ne)},title:(0,B.t)("toolBar.extraTools"),children:U.dg}),(0,o.jsxs)(Xt.Z.Content,{onClickOutside:function(){return Pe(!1)},onSelect:function(){return Pe(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,o.jsx)(Xt.Z.Item,{onSelect:function(){return oe.setActiveTool({type:"frame"})},icon:U.zl,shortcut:M.tW.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:Be,children:(0,B.t)("toolBar.frame")}),(0,o.jsx)(Xt.Z.Item,{onSelect:function(){return oe.setActiveTool({type:"embeddable"})},icon:U.FL,"data-testid":"toolbar-embeddable",selected:it,children:(0,B.t)("toolBar.embeddable")}),(0,o.jsx)(Xt.Z.Item,{onSelect:function(){return oe.setActiveTool({type:"laser"})},icon:U.d,"data-testid":"toolbar-laser",selected:Fe,shortcut:M.tW.K.toLocaleUpperCase(),children:(0,B.t)("toolBar.laser")}),(0,o.jsx)(Xt.Z.Item,{onSelect:function(){return oe.setOpenDialog("mermaid")},icon:U.II,"data-testid":"toolbar-embeddable",children:(0,B.t)("toolBar.mermaidToExcalidraw")})]})]})]})},Ht=function(i){var C=i.renderAction;return i.zoom,(0,o.jsx)(wt.Z.Col,{gap:1,className:"zoom-actions",children:(0,o.jsxs)(wt.Z.Row,{align:"center",children:[C("zoomOut"),C("resetZoom"),C("zoomIn")]})})},At=function(i){var C=i.renderAction,K=i.className;return(0,o.jsxs)("div",{className:"undo-redo-buttons ".concat(K),children:[(0,o.jsx)("div",{className:"undo-button-container",children:(0,o.jsx)(Mt.u,{label:(0,B.t)("buttons.undo"),children:C("undo")})}),(0,o.jsx)("div",{className:"redo-button-container",children:(0,o.jsxs)(Mt.u,{label:(0,B.t)("buttons.redo"),children:[" ",C("redo")]})})]})},Wt=function(i){var C=i.actionManager,K=i.showExitZenModeBtn;return(0,o.jsx)("button",{className:(0,fe.Z)("disable-zen-mode",{"disable-zen-mode--visible":K}),onClick:function(){return C.executeAction(q.JN)},children:(0,B.t)("buttons.exitZenMode")})},Kt=function(i){var C=i.renderAction,K=i.className;return(0,o.jsx)("div",{className:"finalize-button ".concat(K),children:C("finalize",{size:"small"})})},an=e(1300),bn=function(i){var C=i.children,K=i.onClose,oe=(0,G.useState)(!!C),we=(0,v.Z)(oe,2),de=we[0],$=we[1],ne=Is().container,Pe=le().useCallback(function(){$(!1),K&&K(),ne?.focus()},[K,ne]);return(0,o.jsx)(o.Fragment,{children:de&&(0,o.jsx)(an.V,{size:"small",onCloseRequest:Pe,title:(0,B.t)("errorDialog.title"),children:(0,o.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:C})})})},hn=e(4406),An=e(5796),Yn=e(6548),tr=e(507),Sn=e(6217),Bt={};Bt.styleTagTransform=ht(),Bt.setAttributes=et(),Bt.insert=ze().bind(null,"head"),Bt.domAPI=ge(),Bt.insertStyleElement=tt(),re()(Sn.Z,Bt),Sn.Z&&Sn.Z.locals&&Sn.Z.locals;var dn=function(i){var C=i.onChange,K=i.value,oe=i.choices,we=i.name;return(0,o.jsx)("div",{className:"RadioGroup",children:oe.map(function(de){return(0,o.jsxs)("div",{className:(0,fe.Z)("RadioGroup__choice",{active:de.value===K}),children:[(0,o.jsx)("input",{name:we,type:"radio",checked:de.value===K,onChange:function(){return C(de.value)}}),de.label]},de.label)})})},un=e(7802),Bn={};Bn.styleTagTransform=ht(),Bn.setAttributes=et(),Bn.insert=ze().bind(null,"head"),Bn.domAPI=ge(),Bn.insertStyleElement=tt(),re()(un.Z,Bn),un.Z&&un.Z.locals&&un.Z.locals;var Jn=function(i){var C=i.title,K=i.name,oe=i.checked,we=i.onChange,de=i.disabled,$=de!==void 0&&de;return(0,o.jsx)("div",{className:(0,fe.Z)("Switch",{toggled:oe,disabled:$}),children:(0,o.jsx)("input",{name:K,id:K,title:C,type:"checkbox",checked:oe,disabled:$,onChange:function(){return we(!oe)},onKeyDown:function(ne){ne.key===" "&&we(!oe)}})})},cr=e(9706),kr={};kr.styleTagTransform=ht(),kr.setAttributes=et(),kr.insert=ze().bind(null,"head"),kr.domAPI=ge(),kr.insertStyleElement=tt(),re()(cr.Z,kr),cr.Z&&cr.Z.locals&&cr.Z.locals;var fr=e(8960),pn={};pn.styleTagTransform=ht(),pn.setAttributes=et(),pn.insert=ze().bind(null,"head"),pn.domAPI=ge(),pn.insertStyleElement=tt(),re()(fr.Z,pn),fr.Z&&fr.Z.locals&&fr.Z.locals;var Nt=(0,G.forwardRef)(function(i,C){var K=i.children,oe=i.startIcon,we=i.onClick,de=i.label,$=i.variant,ne=$===void 0?"filled":$,Pe=i.color,Be=Pe===void 0?"primary":Pe,Fe=i.size,it=Fe===void 0?"medium":Fe,st=i.fullWidth,vt=i.className;return(0,o.jsxs)("button",{className:(0,fe.Z)("ExcButton","ExcButton--color-".concat(Be),"ExcButton--variant-".concat(ne),"ExcButton--size-".concat(it),{"ExcButton--fullWidth":st},vt),onClick:we,type:"button","aria-label":de,ref:C,children:[oe&&(0,o.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:oe}),ne!=="icon"&&(K??de)]})});function Ft(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}function qt(i){for(var C=1;C<arguments.length;C++){var K=arguments[C]!=null?arguments[C]:{};C%2?Ft(Object(K),!0).forEach(function(oe){(0,_.Z)(i,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(K)):Ft(Object(K)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(K,oe))})}return i}var kn="filter"in document.createElement("canvas").getContext("2d"),$n=function(){return(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:(0,B.t)("canvasError.cannotShowPreview")}),(0,o.jsx)("p",{children:(0,o.jsx)("span",{children:(0,B.t)("canvasError.canvasTooBig")})}),(0,o.jsxs)("em",{children:["(",(0,B.t)("canvasError.canvasTooBigTip"),")"]})]})},Hn=function(i){var C=i.appStateSnapshot,K=i.elementsSnapshot,oe=i.files,we=i.actionManager,de=i.onExportImage,$=(0,ye.N)(K,C),ne=ms(),Pe=(0,G.useState)(C.name),Be=(0,v.Z)(Pe,2),Fe=Be[0],it=Be[1],st=(0,G.useState)($),vt=(0,v.Z)(st,2),jt=vt[0],Lt=vt[1],Qt=(0,G.useState)(C.exportBackground),vn=(0,v.Z)(Qt,2),$t=vn[0],Ut=vn[1],tn=(0,G.useState)(C.exportWithDarkMode),xn=(0,v.Z)(tn,2),Dn=xn[0],En=xn[1],yn=(0,G.useState)(C.exportEmbedScene),Un=(0,v.Z)(yn,2),gr=Un[0],_r=Un[1],zr=(0,G.useState)(C.exportScale),Qr=(0,v.Z)(zr,2),ao=Qr[0],Rr=Qr[1],Nr=(0,G.useRef)(null),Fr=(0,G.useState)(null),Ur=(0,v.Z)(Fr,2),ho=Ur[0],So=Ur[1],_o=(0,V.HD)(K,C,jt),To=_o.exportedElements,vo=_o.exportingFrame;return(0,G.useEffect)(function(){var oo=Nr.current;if(oo){var Lo=oo.offsetWidth,Ko=oo.offsetHeight;Lo&&(0,tr.NL)({elements:To,appState:qt(qt({},C),{},{name:Fe,exportBackground:$t,exportWithDarkMode:Dn,exportScale:ao,exportEmbedScene:gr}),files:oe,exportPadding:r.qy,maxWidthOrHeight:Math.max(Lo,Ko),exportingFrame:vo}).then(function(Xo){return So(null),(0,An._c)(Xo).then(function(){oo.replaceChildren(Xo)})}).catch(function(Xo){console.error(Xo),So(Xo)})}},[C,oe,To,vo,Fe,$t,Dn,ao,gr]),(0,o.jsxs)("div",{className:"ImageExportModal",children:[(0,o.jsx)("h3",{children:(0,B.t)("imageExportDialog.header")}),(0,o.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,o.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:Nr,children:ho&&(0,o.jsx)($n,{})}),(0,o.jsx)("div",{className:"ImageExportModal__preview__filename",children:!Yn.kr&&(0,o.jsx)("input",{type:"text",className:"TextInput",value:Fe,style:{width:"30ch"},disabled:ne.name!==void 0||C.viewModeEnabled,onChange:function(oo){it(oo.target.value),we.executeAction(hn.zX,"ui",oo.target.value)}})})]}),(0,o.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,o.jsx)("h3",{children:(0,B.t)("imageExportDialog.header")}),$&&(0,o.jsx)(Qn,{label:(0,B.t)("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,o.jsx)(Jn,{name:"exportOnlySelected",checked:jt,onChange:function(oo){Lt(oo)}})}),(0,o.jsx)(Qn,{label:(0,B.t)("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,o.jsx)(Jn,{name:"exportBackgroundSwitch",checked:$t,onChange:function(oo){Ut(oo),we.executeAction(hn.XA,"ui",oo)}})}),kn&&(0,o.jsx)(Qn,{label:(0,B.t)("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,o.jsx)(Jn,{name:"exportDarkModeSwitch",checked:Dn,onChange:function(oo){En(oo),we.executeAction(hn.bJ,"ui",oo)}})}),(0,o.jsx)(Qn,{label:(0,B.t)("imageExportDialog.label.embedScene"),tooltip:(0,B.t)("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,o.jsx)(Jn,{name:"exportEmbedSwitch",checked:gr,onChange:function(oo){_r(oo),we.executeAction(hn.Du,"ui",oo)}})}),(0,o.jsx)(Qn,{label:(0,B.t)("imageExportDialog.label.scale"),name:"exportScale",children:(0,o.jsx)(dn,{name:"exportScale",value:ao,onChange:function(oo){Rr(oo),we.executeAction(hn.sK,"ui",oo)},choices:r.ZB.map(function(oo){return{value:oo,label:"".concat(oo,"×")}})})}),(0,o.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,o.jsx)(Nt,{className:"ImageExportModal__settings__buttons__button",label:(0,B.t)("imageExportDialog.title.exportToPng"),onClick:function(){return de(r.I_.png,To,{exportingFrame:vo})},startIcon:U.aL,children:(0,B.t)("imageExportDialog.button.exportToPng")}),(0,o.jsx)(Nt,{className:"ImageExportModal__settings__buttons__button",label:(0,B.t)("imageExportDialog.title.exportToSvg"),onClick:function(){return de(r.I_.svg,To,{exportingFrame:vo})},startIcon:U.aL,children:(0,B.t)("imageExportDialog.button.exportToSvg")}),(L.vt||r.vU)&&(0,o.jsx)(Nt,{className:"ImageExportModal__settings__buttons__button",label:(0,B.t)("imageExportDialog.title.copyPngToClipboard"),onClick:function(){return de(r.I_.clipboard,To,{exportingFrame:vo})},startIcon:U.UI,children:(0,B.t)("imageExportDialog.button.copyPngToClipboard")})]})]})]})},Qn=function(i){var C=i.label,K=i.children,oe=i.tooltip,we=i.name;return(0,o.jsxs)("div",{className:"ImageExportModal__settings__setting",title:C,children:[(0,o.jsxs)("label",{htmlFor:we,className:"ImageExportModal__settings__setting__label",children:[C,oe&&(0,o.jsx)(Mt.u,{label:oe,long:!0,children:U.mv})]}),(0,o.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:K})]})},ir=function(i){var C=i.elements,K=i.appState,oe=i.files,we=i.actionManager,de=i.onExportImage,$=i.onCloseRequest,ne=(0,G.useState)(function(){return{appStateSnapshot:(0,p.xU)(K),elementsSnapshot:(0,p.xU)(C)}}),Pe=(0,v.Z)(ne,1)[0],Be=Pe.appStateSnapshot,Fe=Pe.elementsSnapshot;return(0,o.jsx)(an.V,{onCloseRequest:$,size:"wide",title:!1,children:(0,o.jsx)(Hn,{elementsSnapshot:Fe,appStateSnapshot:Be,files:oe,actionManager:we,onExportImage:de})})},Fn=e(3195),yr={};yr.styleTagTransform=ht(),yr.setAttributes=et(),yr.insert=ze().bind(null,"head"),yr.domAPI=ge(),yr.insertStyleElement=tt(),re()(Fn.Z,yr),Fn.Z&&Fn.Z.locals&&Fn.Z.locals;var lr=function(i){var C=i.children,K=i.side,oe=i.className;return(0,o.jsx)("div",{className:(0,fe.Z)("FixedSideContainer","FixedSideContainer_side_".concat(K),oe),children:C})},Gn=e(1587),Xn={};Xn.styleTagTransform=ht(),Xn.setAttributes=et(),Xn.insert=ze().bind(null,"head"),Xn.domAPI=ge(),Xn.insertStyleElement=tt(),re()(Gn.Z,Xn),Gn.Z&&Gn.Z.locals&&Gn.Z.locals;var er=function(i){var C=function(K){var oe=K.appState,we=K.isMobile,de=K.device,$=K.app,ne=oe.activeTool,Pe=oe.isResizing,Be=oe.isRotating,Fe=oe.lastPointerDownWith,it=oe.multiElement!==null;if(oe.openSidebar&&!de.editor.canFitSidebar)return null;if((0,j.EN)(oe))return(0,B.t)("hints.eraserRevert");if(ne.type==="arrow"||ne.type==="line")return it?(0,B.t)("hints.linearElementMulti"):(0,B.t)("hints.linearElement");if(ne.type==="freedraw")return(0,B.t)("hints.freeDraw");if(ne.type==="text")return(0,B.t)("hints.text");if(ne.type==="embeddable")return(0,B.t)("hints.embeddable");if(oe.activeTool.type==="image"&&oe.pendingImageElementId)return(0,B.t)("hints.placeImage");var st=$.scene.getSelectedElements(oe);if(Pe&&Fe==="mouse"&&st.length===1){var vt=st[0];return(0,ee.bt)(vt)&&vt.points.length===2?(0,B.t)("hints.lockAngle"):(0,ee.pC)(vt)?(0,B.t)("hints.resizeImage"):(0,B.t)("hints.resize")}if(Be&&Fe==="mouse")return(0,B.t)("hints.rotate");if(st.length===1&&(0,ee.iB)(st[0]))return(0,B.t)("hints.text_selected");if(oe.editingElement&&(0,ee.iB)(oe.editingElement))return(0,B.t)("hints.text_editing");if(ne.type==="selection"){var jt;if(((jt=oe.draggingElement)===null||jt===void 0?void 0:jt.type)==="selection"&&!st.length&&!oe.editingElement&&!oe.editingLinearElement)return(0,B.t)("hints.deepBoxSelect");if(oe.gridSize&&oe.draggingElement)return(0,B.t)("hints.disableSnapping");if(!st.length&&!we)return(0,B.t)("hints.canvasPanning");if(st.length===1){if((0,ee.bt)(st[0]))return oe.editingLinearElement?oe.editingLinearElement.selectedPointsIndices?(0,B.t)("hints.lineEditor_pointSelected"):(0,B.t)("hints.lineEditor_nothingSelected"):(0,B.t)("hints.lineEditor_info");if(!oe.draggingElement&&(0,ee.mG)(st[0]))return(0,B.t)("hints.bindTextToElement")}}return null}({appState:i.appState,isMobile:i.isMobile,device:i.device,app:i.app});return C?(C=(0,p.uY)(C),(0,o.jsx)("div",{className:"HintViewer",children:(0,o.jsx)("span",{children:C})})):null},pr=e(1404),vr=e(7165),xr=(e(3041),{CHECKED:U.FC,UNCHECKED:U._C}),$r=function(i){return(0,o.jsxs)("label",{className:(0,fe.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":i.isMobile}),title:"".concat(i.title," — Q"),children:[(0,o.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:i.name,onChange:i.onChange,checked:i.checked,"aria-label":i.title,"data-testid":"toolbar-lock"}),(0,o.jsx)("div",{className:"ToolIcon__icon",children:i.checked?xr.CHECKED:xr.UNCHECKED})]})},io=["heading","children"];function Eo(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}function Ro(i){for(var C=1;C<arguments.length;C++){var K=arguments[C]!=null?arguments[C]:{};C%2?Eo(Object(K),!0).forEach(function(oe){(0,_.Z)(i,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(K)):Eo(Object(K)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(K,oe))})}return i}var Bo=function(i){var C=i.heading,K=i.children,oe=(0,bt.Z)(i,io),we=Is().id,de=(0,o.jsx)("h2",{className:"visually-hidden",id:"".concat(we,"-").concat(C,"-title"),children:(0,B.t)("headings.".concat(C))});return(0,o.jsx)("section",Ro(Ro({},oe),{},{"aria-labelledby":"".concat(we,"-").concat(C,"-title"),children:typeof K=="function"?K(de):(0,o.jsxs)(o.Fragment,{children:[de,K]})}))},Do=e(4726),bo=function(i){return i.penDetected?(0,o.jsxs)("label",{className:(0,fe.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":i.isMobile}),title:"".concat(i.title),children:[(0,o.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:i.name,onChange:i.onChange,checked:i.checked,"aria-label":i.title}),(0,o.jsx)("div",{className:"ToolIcon__icon",children:U.tb})]}):null},Zo=e(4949),rt=e(2681),Se={};Se.styleTagTransform=ht(),Se.setAttributes=et(),Se.insert=ze().bind(null,"head"),Se.domAPI=ge(),Se.insertStyleElement=tt(),re()(rt.Z,Se),rt.Z&&rt.Z.locals&&rt.Z.locals;var Ze=function(i){var C,K=(0,Zo.KP)(i.elements),oe=(0,ye.Zs)(i.elements,i.appState),we=(0,Zo.KP)(oe);return(0,o.jsx)("div",{className:"Stats",children:(0,o.jsxs)(pr.W,{padding:2,children:[(0,o.jsx)("div",{className:"close",onClick:i.onClose,children:U.Tw}),(0,o.jsx)("h3",{children:(0,B.t)("stats.title")}),(0,o.jsx)("table",{children:(0,o.jsxs)("tbody",{children:[(0,o.jsx)("tr",{children:(0,o.jsx)("th",{colSpan:2,children:(0,B.t)("stats.scene")})}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,B.t)("stats.elements")}),(0,o.jsx)("td",{children:i.elements.length})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,B.t)("stats.width")}),(0,o.jsx)("td",{children:Math.round(K[2])-Math.round(K[0])})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,B.t)("stats.height")}),(0,o.jsx)("td",{children:Math.round(K[3])-Math.round(K[1])})]}),oe.length===1&&(0,o.jsx)("tr",{children:(0,o.jsx)("th",{colSpan:2,children:(0,B.t)("stats.element")})}),oe.length>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("tr",{children:(0,o.jsx)("th",{colSpan:2,children:(0,B.t)("stats.selected")})}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,B.t)("stats.elements")}),(0,o.jsx)("td",{children:oe.length})]})]}),oe.length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"x"}),(0,o.jsx)("td",{children:Math.round(we[0])})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"y"}),(0,o.jsx)("td",{children:Math.round(we[1])})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,B.t)("stats.width")}),(0,o.jsx)("td",{children:Math.round(we[2]-we[0])})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,B.t)("stats.height")}),(0,o.jsx)("td",{children:Math.round(we[3]-we[1])})]})]}),oe.length===1&&(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,B.t)("stats.angle")}),(0,o.jsx)("td",{children:"".concat(Math.round(180*oe[0].angle/Math.PI),"°")})]}),(C=i.renderCustomStats)===null||C===void 0?void 0:C.call(i,i.elements,i.appState)]})})]})})},Ve=function(i){return(0,o.jsx)(R.V,{className:(0,fe.Z)("Shape",{fillable:!1}),type:"radio",icon:U.Hk,name:"editor-current-shape",checked:i.checked,title:"".concat(i.title," — H"),keyBindingLabel:i.isMobile?void 0:M.tW.H.toLocaleUpperCase(),"aria-label":"".concat(i.title," — H"),"aria-keyshortcuts":M.tW.H,"data-testid":"toolbar-hand",onChange:function(){var C;return(C=i.onChange)===null||C===void 0?void 0:C.call(i)}})},pt=e(4572);function Vt(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}var cn=function(i){var C=i.appState,K=i.elements,oe=i.actionManager,we=i.setAppState,de=i.onLockToggle,$=i.onHandToolToggle,ne=i.onPenModeToggle,Pe=i.renderTopRightUI,Be=i.renderCustomStats,Fe=i.renderSidebars,it=i.device,st=i.renderWelcomeScreen,vt=i.UIOptions,jt=i.app,Lt=(0,pt.R6)(),Qt=Lt.WelcomeScreenCenterTunnel,vn=Lt.MainMenuTunnel,$t=Lt.DefaultSidebarTriggerTunnel;return(0,o.jsxs)(o.Fragment,{children:[Fe(),!C.viewModeEnabled&&(0,o.jsxs)(lr,{side:"top",className:"App-top-bar",children:[st&&(0,o.jsx)(Qt.Out,{}),(0,o.jsx)(Bo,{heading:"shapes",children:function(Ut){return(0,o.jsx)(wt.Z.Col,{gap:4,align:"center",children:(0,o.jsxs)(wt.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,o.jsxs)(pr.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[Ut,(0,o.jsx)(wt.Z.Row,{gap:1,children:(0,o.jsx)(kt,{appState:C,activeTool:C.activeTool,UIOptions:vt,app:jt})})]}),Pe&&Pe(!0,C),(0,o.jsxs)("div",{className:"mobile-misc-tools-container",children:[!C.viewModeEnabled&&(0,o.jsx)($t.Out,{}),(0,o.jsx)(bo,{checked:C.penMode,onChange:function(){return ne(null)},title:(0,B.t)("toolBar.penMode"),isMobile:!0,penDetected:C.penDetected}),(0,o.jsx)($r,{checked:C.activeTool.locked,onChange:de,title:(0,B.t)("toolBar.lock"),isMobile:!0}),(0,o.jsx)(Ve,{checked:(0,j.l$)(C),onChange:function(){return $()},title:(0,B.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,o.jsx)(er,{appState:C,isMobile:!0,device:it,app:jt})]}),!C.openMenu&&C.showStats&&(0,o.jsx)(Ze,{appState:C,setAppState:we,elements:K,onClose:function(){oe.executeAction(q.u0)},renderCustomStats:Be}),(0,o.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Do.nn+2*Do.WM,marginLeft:Do.nn+2*Do.WM,marginRight:Do.nn+2*Do.WM},children:(0,o.jsxs)(pr.W,{padding:0,children:[C.openMenu==="shape"&&!C.viewModeEnabled&&(0,ue.RT)(C,K)?(0,o.jsx)(Bo,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,o.jsx)(It,{appState:C,elements:K,renderAction:oe.renderAction})}):null,(0,o.jsxs)("footer",{className:"App-toolbar",children:[C.viewModeEnabled?(0,o.jsx)("div",{className:"App-toolbar-content",children:(0,o.jsx)(vn.Out,{})}):(0,o.jsxs)("div",{className:"App-toolbar-content",children:[(0,o.jsx)(vn.Out,{}),oe.renderAction("toggleEditMenu"),oe.renderAction("undo"),oe.renderAction("redo"),oe.renderAction(C.multiElement?"finalize":"duplicateSelection"),oe.renderAction("deleteSelectedElements")]}),C.scrolledOutside&&!C.openMenu&&!C.openSidebar&&(0,o.jsx)("button",{className:"scroll-back-to-content",onClick:function(){we(function(Ut){return function(tn){for(var xn=1;xn<arguments.length;xn++){var Dn=arguments[xn]!=null?arguments[xn]:{};xn%2?Vt(Object(Dn),!0).forEach(function(En){(0,_.Z)(tn,En,Dn[En])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(Dn)):Vt(Object(Dn)).forEach(function(En){Object.defineProperty(tn,En,Object.getOwnPropertyDescriptor(Dn,En))})}return tn}({},(0,ye.W)(K,Ut))})},children:(0,B.t)("buttons.scrollBackToContent")})]})]})})]})},Mn=e(5284),nn=e(901),ln=e(3668),Zn=e(8461),qn={};qn.styleTagTransform=ht(),qn.setAttributes=et(),qn.insert=ze().bind(null,"head"),qn.domAPI=ge(),qn.insertStyleElement=tt(),re()(Zn.Z,qn),Zn.Z&&Zn.Z.locals&&Zn.Z.locals;var hr=function(i){var C=(0,G.useRef)(null),K=(0,G.useState)(null),oe=(0,v.Z)(K,2),we=oe[0],de=oe[1];return(0,G.useLayoutEffect)(function(){if(i.spreadsheet){var $,ne=(0,nn.ps)(i.chartType,i.spreadsheet,0,0);de(ne);var Pe=C.current;return(0,b.Z)(x().mark(function Be(){var Fe;return x().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.next=2,(0,ln.$D)(ne,{exportBackground:!1,viewBackgroundColor:Mn.white},null);case 2:$=it.sent,(Fe=$.querySelector(".style-fonts"))===null||Fe===void 0||Fe.remove(),Pe.replaceChildren(),Pe.appendChild($),i.selected&&Pe.parentNode.focus();case 7:case"end":return it.stop()}},Be)}))(),function(){Pe.replaceChildren()}}},[i.spreadsheet,i.chartType,i.selected]),(0,o.jsx)("button",{className:"ChartPreview",onClick:function(){we&&i.onClick(i.chartType,we)},children:(0,o.jsx)("div",{ref:C})})},br=function(i){var C=i.setAppState,K=i.appState,oe=i.onClose,we=Ps().onInsertElements,de=le().useCallback(function(){oe&&oe()},[oe]),$=function(ne,Pe){we(Pe),(0,k.L)("magic","chart",ne),C({currentChartType:ne,pasteDialog:{shown:!1,data:null}})};return(0,o.jsx)(an.V,{size:"small",onCloseRequest:de,title:(0,B.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)(hr,{chartType:"bar",spreadsheet:K.pasteDialog.data,selected:K.currentChartType==="bar",onClick:$}),(0,o.jsx)(hr,{chartType:"line",spreadsheet:K.pasteDialog.data,selected:K.currentChartType==="line",onClick:$})]})})},Mr=e(2978),Or={};Or.styleTagTransform=ht(),Or.setAttributes=et(),Or.insert=ze().bind(null,"head"),Or.domAPI=ge(),Or.insertStyleElement=tt(),re()(Mr.Z,Or),Mr.Z&&Mr.Z.locals&&Mr.Z.locals;function Er(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}var Cr=x().mark(Gr);function no(i,C){var K=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!K){if(Array.isArray(i)||(K=function(Pe,Be){if(Pe){if(typeof Pe=="string")return yo(Pe,Be);var Fe=Object.prototype.toString.call(Pe).slice(8,-1);if(Fe==="Object"&&Pe.constructor&&(Fe=Pe.constructor.name),Fe==="Map"||Fe==="Set")return Array.from(Pe);if(Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return yo(Pe,Be)}}(i))||C){K&&(i=K);var oe=0,we=function(){};return{s:we,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Pe){throw Pe},f:we}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,$=!0,ne=!1;return{s:function(){K=K.call(i)},n:function(){var Pe=K.next();return $=Pe.done,Pe},e:function(Pe){ne=!0,de=Pe},f:function(){try{$||K.return==null||K.return()}finally{if(ne)throw de}}}}function yo(i,C){(C==null||C>i.length)&&(C=i.length);for(var K=0,oe=new Array(C);K<C;K++)oe[K]=i[K];return oe}var jo=function(){return(0,o.jsxs)("div",{className:"HelpDialog__header",children:[(0,o.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,B.t)("helpDialog.documentation"),(0,o.jsx)("div",{className:"HelpDialog__link-icon",children:U.h0})]}),(0,o.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,B.t)("helpDialog.blog"),(0,o.jsx)("div",{className:"HelpDialog__link-icon",children:U.h0})]}),(0,o.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,B.t)("helpDialog.github"),(0,o.jsx)("div",{className:"HelpDialog__link-icon",children:U.h0})]})]})},ei=function(i){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{children:i.title}),(0,o.jsx)("div",{className:"HelpDialog__islands-container",children:i.children})]})},vi=function(i){return(0,o.jsxs)("div",{className:"HelpDialog__island ".concat(i.className),children:[(0,o.jsx)("h4",{className:"HelpDialog__island-title",children:i.caption}),(0,o.jsx)("div",{className:"HelpDialog__island-content",children:i.children})]})};function Gr(i,C){var K,oe,we,de;return x().wrap(function($){for(;;)switch($.prev=$.next){case 0:K=!0,oe=no(i),$.prev=2,oe.s();case 4:if((we=oe.n()).done){$.next=14;break}if(de=we.value,K){$.next=9;break}return $.next=9,C;case 9:return K=!1,$.next=12,de;case 12:$.next=4;break;case 14:$.next=19;break;case 16:$.prev=16,$.t0=$.catch(2),oe.e($.t0);case 19:return $.prev=19,oe.f(),$.finish(19);case 22:case"end":return $.stop()}},Cr,null,[[2,16,19,22]])}var Ir=function(i){var C=i.label,K=i.shortcuts,oe=i.isOr,we=oe===void 0||oe,de=K.map(function($){return($.endsWith("++")?[].concat((0,d.Z)($.slice(0,-2).split("+")),["+"]):$.split("+")).map(function(ne){return(0,o.jsx)(uo,{children:(Pe=ne,Pe.replace(/\b[a-z]\b/,function(Be){return Be.toUpperCase()}))},ne);var Pe})});return(0,o.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,o.jsx)("div",{children:C}),(0,o.jsx)("div",{className:"HelpDialog__key-container",children:(0,d.Z)(Gr(de,we?(0,B.t)("helpDialog.or"):null))})]})},uo=function(i){return(0,o.jsx)("kbd",function(C){for(var K=1;K<arguments.length;K++){var oe=arguments[K]!=null?arguments[K]:{};K%2?Er(Object(oe),!0).forEach(function(we){(0,_.Z)(C,we,oe[we])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(oe)):Er(Object(oe)).forEach(function(we){Object.defineProperty(C,we,Object.getOwnPropertyDescriptor(oe,we))})}return C}({className:"HelpDialog__key"},i))},Co=function(i){var C=i.onClose,K=le().useCallback(function(){C&&C()},[C]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(an.V,{onCloseRequest:K,title:(0,B.t)("helpDialog.title"),className:"HelpDialog",children:[(0,o.jsx)(jo,{}),(0,o.jsxs)(ei,{title:(0,B.t)("helpDialog.shortcuts"),children:[(0,o.jsxs)(vi,{className:"HelpDialog__island--tools",caption:(0,B.t)("helpDialog.tools"),children:[(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.hand"),shortcuts:[M.tW.H]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.selection"),shortcuts:[M.tW.V,M.tW[1]]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.rectangle"),shortcuts:[M.tW.R,M.tW[2]]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.diamond"),shortcuts:[M.tW.D,M.tW[3]]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.ellipse"),shortcuts:[M.tW.O,M.tW[4]]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.arrow"),shortcuts:[M.tW.A,M.tW[5]]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.line"),shortcuts:[M.tW.L,M.tW[6]]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.freedraw"),shortcuts:[M.tW.P,M.tW[7]]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.text"),shortcuts:[M.tW.T,M.tW[8]]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.image"),shortcuts:[M.tW[9]]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.eraser"),shortcuts:[M.tW.E,M.tW[0]]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.frame"),shortcuts:[M.tW.F]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.laser"),shortcuts:[M.tW.K]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.eyeDropper"),shortcuts:[M.tW.I,"Shift+S","Shift+G"]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,p.uY)("CtrlOrCmd+Enter")]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.editText"),shortcuts:[(0,p.uY)("Enter")]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.textNewLine"),shortcuts:[(0,p.uY)("Enter"),(0,p.uY)("Shift+Enter")]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.textFinish"),shortcuts:[(0,p.uY)("Esc"),(0,p.uY)("CtrlOrCmd+Enter")]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,B.t)("helpDialog.click"),(0,B.t)("helpDialog.click"),(0,B.t)("helpDialog.click")],isOr:!1}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.curvedLine"),shortcuts:["L",(0,B.t)("helpDialog.click"),(0,B.t)("helpDialog.click"),(0,B.t)("helpDialog.click")],isOr:!1}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.lock"),shortcuts:[M.tW.Q]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.preventBinding"),shortcuts:[(0,p.uY)("CtrlOrCmd")]}),(0,o.jsx)(Ir,{label:(0,B.t)("toolBar.link"),shortcuts:[(0,p.uY)("CtrlOrCmd+K")]})]}),(0,o.jsxs)(vi,{className:"HelpDialog__island--view",caption:(0,B.t)("helpDialog.view"),children:[(0,o.jsx)(Ir,{label:(0,B.t)("buttons.zoomIn"),shortcuts:[(0,p.uY)("CtrlOrCmd++")]}),(0,o.jsx)(Ir,{label:(0,B.t)("buttons.zoomOut"),shortcuts:[(0,p.uY)("CtrlOrCmd+-")]}),(0,o.jsx)(Ir,{label:(0,B.t)("buttons.resetZoom"),shortcuts:[(0,p.uY)("CtrlOrCmd+0")]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,o.jsx)(Ir,{label:(0,B.t)("buttons.zenMode"),shortcuts:[(0,p.uY)("Alt+Z")]}),(0,o.jsx)(Ir,{label:(0,B.t)("buttons.objectsSnapMode"),shortcuts:[(0,p.uY)("Alt+S")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.showGrid"),shortcuts:[(0,p.uY)("CtrlOrCmd+'")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.viewMode"),shortcuts:[(0,p.uY)("Alt+R")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.toggleTheme"),shortcuts:[(0,p.uY)("Alt+Shift+D")]}),(0,o.jsx)(Ir,{label:(0,B.t)("stats.title"),shortcuts:[(0,p.uY)("Alt+/")]})]}),(0,o.jsxs)(vi,{className:"HelpDialog__island--editor",caption:(0,B.t)("helpDialog.editor"),children:[(0,o.jsx)(Ir,{label:(0,B.t)("labels.moveCanvas"),shortcuts:[(0,p.uY)("Space+".concat((0,B.t)("helpDialog.drag"))),(0,p.uY)("Wheel+".concat((0,B.t)("helpDialog.drag")))],isOr:!0}),(0,o.jsx)(Ir,{label:(0,B.t)("buttons.clearReset"),shortcuts:[(0,p.uY)("CtrlOrCmd+Delete")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.delete"),shortcuts:[(0,p.uY)("Delete")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.cut"),shortcuts:[(0,p.uY)("CtrlOrCmd+X")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.copy"),shortcuts:[(0,p.uY)("CtrlOrCmd+C")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.paste"),shortcuts:[(0,p.uY)("CtrlOrCmd+V")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.pasteAsPlaintext"),shortcuts:[(0,p.uY)("CtrlOrCmd+Shift+V")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.selectAll"),shortcuts:[(0,p.uY)("CtrlOrCmd+A")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.multiSelect"),shortcuts:[(0,p.uY)("Shift+".concat((0,B.t)("helpDialog.click")))]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.deepSelect"),shortcuts:[(0,p.uY)("CtrlOrCmd+".concat((0,B.t)("helpDialog.click")))]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,p.uY)("CtrlOrCmd+".concat((0,B.t)("helpDialog.drag")))]}),(L.vt||r.vU)&&(0,o.jsx)(Ir,{label:(0,B.t)("labels.copyAsPng"),shortcuts:[(0,p.uY)("Shift+Alt+C")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.copyStyles"),shortcuts:[(0,p.uY)("CtrlOrCmd+Alt+C")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.pasteStyles"),shortcuts:[(0,p.uY)("CtrlOrCmd+Alt+V")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.sendToBack"),shortcuts:[r.Um?(0,p.uY)("CtrlOrCmd+Alt+["):(0,p.uY)("CtrlOrCmd+Shift+[")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.bringToFront"),shortcuts:[r.Um?(0,p.uY)("CtrlOrCmd+Alt+]"):(0,p.uY)("CtrlOrCmd+Shift+]")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.sendBackward"),shortcuts:[(0,p.uY)("CtrlOrCmd+[")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.bringForward"),shortcuts:[(0,p.uY)("CtrlOrCmd+]")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.alignTop"),shortcuts:[(0,p.uY)("CtrlOrCmd+Shift+Up")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.alignBottom"),shortcuts:[(0,p.uY)("CtrlOrCmd+Shift+Down")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.alignLeft"),shortcuts:[(0,p.uY)("CtrlOrCmd+Shift+Left")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.alignRight"),shortcuts:[(0,p.uY)("CtrlOrCmd+Shift+Right")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.duplicateSelection"),shortcuts:[(0,p.uY)("CtrlOrCmd+D"),(0,p.uY)("Alt+".concat((0,B.t)("helpDialog.drag")))]}),(0,o.jsx)(Ir,{label:(0,B.t)("helpDialog.toggleElementLock"),shortcuts:[(0,p.uY)("CtrlOrCmd+Shift+L")]}),(0,o.jsx)(Ir,{label:(0,B.t)("buttons.undo"),shortcuts:[(0,p.uY)("CtrlOrCmd+Z")]}),(0,o.jsx)(Ir,{label:(0,B.t)("buttons.redo"),shortcuts:r.ED?[(0,p.uY)("CtrlOrCmd+Y"),(0,p.uY)("CtrlOrCmd+Shift+Z")]:[(0,p.uY)("CtrlOrCmd+Shift+Z")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.group"),shortcuts:[(0,p.uY)("CtrlOrCmd+G")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.ungroup"),shortcuts:[(0,p.uY)("CtrlOrCmd+Shift+G")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.flipHorizontal"),shortcuts:[(0,p.uY)("Shift+H")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.flipVertical"),shortcuts:[(0,p.uY)("Shift+V")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.showStroke"),shortcuts:[(0,p.uY)("S")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.showBackground"),shortcuts:[(0,p.uY)("G")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.decreaseFontSize"),shortcuts:[(0,p.uY)("CtrlOrCmd+Shift+<")]}),(0,o.jsx)(Ir,{label:(0,B.t)("labels.increaseFontSize"),shortcuts:[(0,p.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},Oo=e(4704),di=e(4241),ri={};ri.styleTagTransform=ht(),ri.setAttributes=et(),ri.insert=ze().bind(null,"head"),ri.domAPI=ge(),ri.insertStyleElement=tt(),re()(di.Z,ri),di.Z&&di.Z.locals&&di.Z.locals;var ni=function(i){var C,K=i.children,oe=i.color;return(0,o.jsx)("div",{className:"Card",style:(C={},(0,_.Z)(C,"--card-color",oe==="primary"?"var(--color-primary)":Mn[oe][7]),(0,_.Z)(C,"--card-color-darker",oe==="primary"?"var(--color-primary-darker)":Mn[oe][8]),(0,_.Z)(C,"--card-color-darkest",oe==="primary"?"var(--color-primary-darkest)":Mn[oe][9]),C),children:K})},bi=e(7955),ji={};ji.styleTagTransform=ht(),ji.setAttributes=et(),ji.insert=ze().bind(null,"head"),ji.domAPI=ge(),ji.insertStyleElement=tt(),re()(bi.Z,ji),bi.Z&&bi.Z.locals&&bi.Z.locals;var wa=function(i){var C=i.elements,K=i.appState,oe=i.setAppState,we=i.files,de=i.actionManager,$=i.exportOpts,ne=i.canvas,Pe=i.onCloseRequest,Be=$.onExportToBackend;return(0,o.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,o.jsxs)("div",{className:"ExportDialog-cards",children:[$.saveFileToDisk&&(0,o.jsxs)(ni,{color:"lime",children:[(0,o.jsx)("div",{className:"Card-icon",children:U.TP}),(0,o.jsx)("h2",{children:(0,B.t)("exportDialog.disk_title")}),(0,o.jsxs)("div",{className:"Card-details",children:[(0,B.t)("exportDialog.disk_details"),!Yn.kr&&de.renderAction("changeProjectName")]}),(0,o.jsx)(R.V,{className:"Card-button",type:"button",title:(0,B.t)("exportDialog.disk_button"),"aria-label":(0,B.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){de.executeAction(hn.mM,"ui")}})]}),Be&&(0,o.jsxs)(ni,{color:"pink",children:[(0,o.jsx)("div",{className:"Card-icon",children:U.xP}),(0,o.jsx)("h2",{children:(0,B.t)("exportDialog.link_title")}),(0,o.jsx)("div",{className:"Card-details",children:(0,B.t)("exportDialog.link_details")}),(0,o.jsx)(R.V,{className:"Card-button",type:"button",title:(0,B.t)("exportDialog.link_button"),"aria-label":(0,B.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:(0,b.Z)(x().mark(function Fe(){return x().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.prev=0,(0,k.L)("export","link","ui (".concat((0,p.$h)(),")")),it.next=4,Be(C,K,we,ne);case 4:Pe(),it.next=10;break;case 7:it.prev=7,it.t0=it.catch(0),oe({errorMessage:it.t0.message});case 10:case"end":return it.stop()}},Fe,null,[[0,7]])}))})]}),$.renderCustomUI&&$.renderCustomUI(C,K,we,ne)]})})},ka=function(i){var C=i.elements,K=i.appState,oe=i.files,we=i.actionManager,de=i.exportOpts,$=i.canvas,ne=i.setAppState,Pe=le().useCallback(function(){ne({openDialog:null})},[ne]);return(0,o.jsx)(o.Fragment,{children:K.openDialog==="jsonExport"&&(0,o.jsx)(an.V,{onCloseRequest:Pe,title:(0,B.t)("buttons.export"),children:(0,o.jsx)(wa,{elements:C,appState:K,setAppState:ne,files:oe,actionManager:we,onCloseRequest:Pe,exportOpts:de,canvas:$})})})},ki=e(7080),Ea=function(i){return(0,o.jsx)("button",{className:"help-icon",onClick:i.onClick,type:"button",title:"".concat((0,B.t)("helpDialog.title")," — ?"),"aria-label":(0,B.t)("helpDialog.title"),children:U.by})},Ma=function(i){var C=i.appState,K=i.actionManager,oe=i.showExitZenModeBtn,we=i.renderWelcomeScreen,de=(0,pt.R6)(),$=de.FooterCenterTunnel,ne=de.WelcomeScreenHelpHintTunnel,Pe=ts(),Be=!C.viewModeEnabled&&C.multiElement&&Pe.isTouchScreen;return(0,o.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,o.jsx)("div",{className:(0,fe.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":C.zenModeEnabled}),children:(0,o.jsx)(wt.Z.Col,{gap:2,children:(0,o.jsxs)(Bo,{heading:"canvasActions",children:[(0,o.jsx)(Ht,{renderAction:K.renderAction,zoom:C.zoom}),!C.viewModeEnabled&&(0,o.jsx)(At,{renderAction:K.renderAction,className:(0,fe.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":C.zenModeEnabled})}),Be&&(0,o.jsx)(Kt,{renderAction:K.renderAction,className:(0,fe.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":C.zenModeEnabled})})]})})}),(0,o.jsx)($.Out,{}),(0,o.jsx)("div",{className:(0,fe.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":C.zenModeEnabled}),children:(0,o.jsxs)("div",{style:{position:"relative"},children:[we&&(0,o.jsx)(ne.Out,{}),(0,o.jsx)(Ea,{onClick:function(){return K.executeAction(q.jY)}})]})}),(0,o.jsx)(Wt,{actionManager:K,showExitZenModeBtn:oe})]})},qa=Ma;Ma.displayName="Footer";var zi=e(5902),ra=e(453),Ai=e(3607),Ni=e(7021),Xa=e(8973),Aa=e(6922),oa=e(7827),Ji=function(i){var C=i.title,K=i.children,oe=i.actionLabel,we=i.onClick;return(0,o.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,o.jsx)("h4",{children:C}),(0,o.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:K}),(0,o.jsx)(Nt,{variant:"outlined",color:"muted",label:oe,size:"large",fullWidth:!0,onClick:we})]})},Ki=Object.assign(function(i){var C=i.children;return(0,o.jsx)("div",{className:"OverwriteConfirm__Actions",children:C})},{ExportToImage:function(){var i=(0,B.QT)().t,C=Rs(),K=As();return(0,o.jsx)(Ji,{title:i("overwriteConfirm.action.exportToImage.title"),actionLabel:i("overwriteConfirm.action.exportToImage.button"),onClick:function(){C.executeAction(hn.Du,"ui",!0),K({openDialog:"imageExport"})},children:i("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var i=(0,B.QT)().t,C=Rs();return(0,o.jsx)(Ji,{title:i("overwriteConfirm.action.saveToDisk.title"),actionLabel:i("overwriteConfirm.action.saveToDisk.button"),onClick:function(){C.executeAction(q.mM,"ui")},children:i("overwriteConfirm.action.saveToDisk.description")})}}),ca=e(9439),ia={};ia.styleTagTransform=ht(),ia.setAttributes=et(),ia.insert=ze().bind(null,"head"),ia.domAPI=ge(),ia.insertStyleElement=tt(),re()(ca.Z,ia),ca.Z&&ca.Z.locals&&ca.Z.locals;function ma(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}function ga(i){for(var C=1;C<arguments.length;C++){var K=arguments[C]!=null?arguments[C]:{};C%2?ma(Object(K),!0).forEach(function(oe){(0,_.Z)(i,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(K)):ma(Object(K)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(K,oe))})}return i}var Ta=Object.assign((0,Aa.$)("OverwriteConfirmDialog",function(i){var C=i.children,K=(0,pt.R6)().OverwriteConfirmDialogTunnel,oe=(0,Ai.KO)(oa.K,ra.yE),we=(0,v.Z)(oe,2),de=we[0],$=we[1];return de.active?(0,o.jsx)(K.In,{children:(0,o.jsx)(an.V,{onCloseRequest:function(){de.onClose(),$(function(ne){return ga(ga({},ne),{},{active:!1})})},title:!1,size:916,children:(0,o.jsxs)("div",{className:"OverwriteConfirm",children:[(0,o.jsx)("h3",{children:de.title}),(0,o.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(de.color),children:[(0,o.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:U.UT}),(0,o.jsx)("div",{children:de.description}),(0,o.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,o.jsx)(Nt,{color:de.color,size:"large",label:de.actionLabel,onClick:function(){de.onConfirm(),$(function(ne){return ga(ga({},ne),{},{active:!1})})}})]}),(0,o.jsx)(Ki,{children:C})]})})}):null}),{Actions:Ki,Action:Ji}),Ka=e(100),Pa=e(1925),Ra=e(8924),$i=e(1434),mi={};mi.styleTagTransform=ht(),mi.setAttributes=et(),mi.insert=ze().bind(null,"head"),mi.domAPI=ge(),mi.insertStyleElement=tt(),re()($i.Z,mi),$i.Z&&$i.Z.locals&&$i.Z.locals;var Qi=e(9144),Ri={};Ri.styleTagTransform=ht(),Ri.setAttributes=et(),Ri.insert=ze().bind(null,"head"),Ri.domAPI=ge(),Ri.insertStyleElement=tt(),re()(Qi.Z,Ri),Qi.Z&&Qi.Z.locals&&Qi.Z.locals;var Sa=e(2921),yl=function(i){return(0,o.jsxs)("label",{className:(0,fe.Z)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":i.isMobile}),title:"".concat(i.title),children:[(0,o.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:i.name,onChange:i.onChange,checked:i.checked,"aria-label":i.title,"data-testid":"toolbar-LaserPointer"}),(0,o.jsx)("div",{className:"ToolIcon__icon",children:U.d})]})},xl=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],Nl=["canvas","appState"],Za=["canvas","appState"];function aa(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}function yi(i,C){var K=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!K){if(Array.isArray(i)||(K=function(Pe,Be){if(Pe){if(typeof Pe=="string")return Vi(Pe,Be);var Fe=Object.prototype.toString.call(Pe).slice(8,-1);if(Fe==="Object"&&Pe.constructor&&(Fe=Pe.constructor.name),Fe==="Map"||Fe==="Set")return Array.from(Pe);if(Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return Vi(Pe,Be)}}(i))||C){K&&(i=K);var oe=0,we=function(){};return{s:we,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Pe){throw Pe},f:we}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,$=!0,ne=!1;return{s:function(){K=K.call(i)},n:function(){var Pe=K.next();return $=Pe.done,Pe},e:function(Pe){ne=!0,de=Pe},f:function(){try{$||K.return==null||K.return()}finally{if(ne)throw de}}}}function Vi(i,C){(C==null||C>i.length)&&(C=i.length);for(var K=0,oe=new Array(C);K<C;K++)oe[K]=i[K];return oe}var ua=function(i){var C=i.UIOptions;return(0,o.jsxs)(Ni.Z,{__fallback:!0,children:[(0,o.jsx)(Ni.Z.DefaultItems.LoadScene,{}),(0,o.jsx)(Ni.Z.DefaultItems.SaveToActiveFile,{}),C.canvasActions.export&&(0,o.jsx)(Ni.Z.DefaultItems.Export,{}),C.canvasActions.saveAsImage&&(0,o.jsx)(Ni.Z.DefaultItems.SaveAsImage,{}),(0,o.jsx)(Ni.Z.DefaultItems.Help,{}),(0,o.jsx)(Ni.Z.DefaultItems.ClearCanvas,{}),(0,o.jsx)(Ni.Z.Separator,{}),(0,o.jsx)(Ni.Z.Group,{title:"Excalidraw links",children:(0,o.jsx)(Ni.Z.DefaultItems.Socials,{})}),(0,o.jsx)(Ni.Z.Separator,{}),(0,o.jsx)(Ni.Z.DefaultItems.ToggleTheme,{}),(0,o.jsx)(Ni.Z.DefaultItems.ChangeCanvasBackground,{})]})},Bl=function(){return(0,o.jsxs)(Ta,{__fallback:!0,children:[(0,o.jsx)(Ta.Actions.SaveToDisk,{}),(0,o.jsx)(Ta.Actions.ExportToImage,{})]})},za=function(i){var C,K,oe=i.actionManager,we=i.appState,de=i.files,$=i.setAppState,ne=i.elements,Pe=i.canvas,Be=i.onLockToggle,Fe=i.onHandToolToggle,it=i.onPenModeToggle,st=i.showExitZenModeBtn,vt=i.renderTopRightUI,jt=i.renderCustomStats,Lt=i.UIOptions,Qt=i.onExportImage,vn=i.renderWelcomeScreen,$t=i.children,Ut=i.app,tn=i.isCollaborating,xn=ts(),Dn=(0,pt.ZC)(),En=(0,Ai.KO)(Ra.$,ra.yE),yn=(0,v.Z)(En,2),Un=yn[0],gr=yn[1],_r=function(){return Lt.canvasActions.export?(0,o.jsx)(ka,{elements:ne,appState:we,files:de,actionManager:oe,exportOpts:Lt.canvasActions.export,canvas:Pe,setAppState:$}):null},zr=function(){return Lt.canvasActions.saveAsImage&&we.openDialog==="imageExport"?(0,o.jsx)(ir,{elements:ne,appState:we,files:de,actionManager:oe,onExportImage:Qt,onCloseRequest:function(){return $({openDialog:null})}}):null},Qr=function(){return(0,o.jsx)(Pa.O,{__fallback:!0,onDock:function(Nr){(0,k.L)("sidebar","toggleDock (".concat(Nr?"dock":"undock",")"),"(".concat(xn.editor.isMobile?"mobile":"desktop",")"))}})},ao=(0,Ai.Dv)(zi.t6,ra.yE),Rr=(0,o.jsxs)(o.Fragment,{children:[$t,(0,o.jsx)(ua,{UIOptions:Lt}),(0,o.jsx)(Pa.O.Trigger,{__fallback:!0,icon:U.Vq,title:(0,p.Oo)((0,B.t)("toolBar.library")),onToggle:function(Nr){Nr&&(0,k.L)("sidebar","".concat(r.Cc.name," (open)"),"button (".concat(xn.editor.isMobile?"mobile":"desktop",")"))},tab:r.Cc.defaultTab,children:(0,B.t)("toolBar.library")}),(0,o.jsx)(Bl,{}),we.isLoading&&(0,o.jsx)(vr.z,{delay:250}),we.errorMessage&&(0,o.jsx)(bn,{onClose:function(){return $({errorMessage:null})},children:we.errorMessage}),Un&&!xn.editor.isMobile&&(0,o.jsx)(Ra.p,{colorPickerType:Un.colorPickerType,onCancel:function(){gr(null)},onChange:function(Nr,Fr,Ur,ho){var So=ho.altKey;if(Nr==="elementBackground"||Nr==="elementStroke")if(Ur.length){var _o,To,vo=yi(Ur);try{for(vo.s();!(To=vo.n()).done;){var oo=To.value;(0,I.DR)(oo,(0,_.Z)({},So&&Un.swapPreviewOnAlt?Nr==="elementBackground"?"strokeColor":"backgroundColor":Nr==="elementBackground"?"backgroundColor":"strokeColor",Fr),!1),Sa.R.delete(oo)}}catch(Lo){vo.e(Lo)}finally{vo.f()}(_o=P.Z.getScene(Ur[0]))===null||_o===void 0||_o.informMutation()}else $(Nr==="elementBackground"?{currentItemBackgroundColor:Fr}:{currentItemStrokeColor:Fr})},onSelect:function(Nr,Fr){var Ur;gr(function(ho){return ho!=null&&ho.keepOpenOnAlt&&Fr.altKey?ho:null}),Un==null||(Ur=Un.onSelect)===null||Ur===void 0||Ur.call(Un,Nr,Fr)}}),we.openDialog==="help"&&(0,o.jsx)(Co,{onClose:function(){$({openDialog:null})}}),(0,o.jsx)(Xa.o,{}),(0,o.jsx)(Dn.OverwriteConfirmDialogTunnel.Out,{}),zr(),_r(),we.pasteDialog.shown&&(0,o.jsx)(br,{setAppState:$,appState:we,onClose:function(){return $({pasteDialog:{shown:!1,data:null}})}}),xn.editor.isMobile&&(0,o.jsx)(cn,{app:Ut,appState:we,elements:ne,actionManager:oe,renderJSONExportDialog:_r,renderImageExportDialog:zr,setAppState:$,onLockToggle:Be,onHandToolToggle:Fe,onPenModeToggle:it,renderTopRightUI:vt,renderCustomStats:jt,renderSidebars:Qr,device:xn,renderWelcomeScreen:vn,UIOptions:Lt}),!xn.editor.isMobile&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"layer-ui__wrapper",style:we.openSidebar&&ao&&xn.editor.canFitSidebar?{width:"calc(100% - ".concat(r.EE,"px)")}:{},children:[vn&&(0,o.jsx)(Dn.WelcomeScreenCenterTunnel.Out,{}),(K=(0,ue.RT)(we,ne),(0,o.jsx)(lr,{side:"top",children:(0,o.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,o.jsxs)(wt.Z.Col,{gap:6,className:(0,fe.Z)("App-menu_top__left"),children:[(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)(Dn.MainMenuTunnel.Out,{}),vn&&(0,o.jsx)(Dn.WelcomeScreenMenuHintTunnel.Out,{})]}),K&&(0,o.jsx)(Bo,{heading:"selectedShapeActions",className:(0,fe.Z)("selected-shape-actions zen-mode-transition",{"transition-left":we.zenModeEnabled}),children:(0,o.jsx)(pr.W,{className:r.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(we.height-166,"px")},children:(0,o.jsx)(It,{appState:we,elements:ne,renderAction:oe.renderAction})})})]}),!we.viewModeEnabled&&(0,o.jsx)(Bo,{heading:"shapes",className:"shapes-section",children:function(Nr){return(0,o.jsxs)("div",{style:{position:"relative"},children:[vn&&(0,o.jsx)(Dn.WelcomeScreenToolbarHintTunnel.Out,{}),(0,o.jsx)(wt.Z.Col,{gap:4,align:"start",children:(0,o.jsxs)(wt.Z.Row,{gap:1,className:(0,fe.Z)("App-toolbar-container",{"zen-mode":we.zenModeEnabled}),children:[(0,o.jsxs)(pr.W,{padding:1,className:(0,fe.Z)("App-toolbar",{"zen-mode":we.zenModeEnabled}),children:[(0,o.jsx)(er,{appState:we,isMobile:xn.editor.isMobile,device:xn,app:Ut}),Nr,(0,o.jsxs)(wt.Z.Row,{gap:1,children:[(0,o.jsx)(bo,{zenModeEnabled:we.zenModeEnabled,checked:we.penMode,onChange:function(){return it(null)},title:(0,B.t)("toolBar.penMode"),penDetected:we.penDetected}),(0,o.jsx)($r,{checked:we.activeTool.locked,onChange:Be,title:(0,B.t)("toolBar.lock")}),(0,o.jsx)("div",{className:"App-toolbar__divider"}),(0,o.jsx)(Ve,{checked:(0,j.l$)(we),onChange:function(){return Fe()},title:(0,B.t)("toolBar.hand"),isMobile:!0}),(0,o.jsx)(kt,{appState:we,activeTool:we.activeTool,UIOptions:Lt,app:Ut})]})]}),tn&&(0,o.jsx)(pr.W,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,o.jsx)(yl,{title:(0,B.t)("toolBar.laser"),checked:we.activeTool.type==="laser",onChange:function(){return Ut.setActiveTool({type:"laser"})},isMobile:!0})})]})})]})}}),(0,o.jsxs)("div",{className:(0,fe.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":we.zenModeEnabled}),children:[(0,o.jsx)(Oo.Z,{collaborators:we.collaborators}),vt?.(xn.editor.isMobile,we),!we.viewModeEnabled&&(!ao||((C=we.openSidebar)===null||C===void 0?void 0:C.name)!==r.Cc.name)&&(0,o.jsx)(Dn.DefaultSidebarTriggerTunnel.Out,{})]})]})})),(0,o.jsx)(qa,{appState:we,actionManager:oe,showExitZenModeBtn:st,renderWelcomeScreen:vn}),we.showStats&&(0,o.jsx)(Ze,{appState:we,setAppState:$,elements:ne,onClose:function(){oe.executeAction(ki.u)},renderCustomStats:jt}),we.scrolledOutside&&(0,o.jsx)("button",{className:"scroll-back-to-content",onClick:function(){$(function(Nr){return function(Fr){for(var Ur=1;Ur<arguments.length;Ur++){var ho=arguments[Ur]!=null?arguments[Ur]:{};Ur%2?aa(Object(ho),!0).forEach(function(So){(0,_.Z)(Fr,So,ho[So])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fr,Object.getOwnPropertyDescriptors(ho)):aa(Object(ho)).forEach(function(So){Object.defineProperty(Fr,So,Object.getOwnPropertyDescriptor(ho,So))})}return Fr}({},(0,ye.W)(ne,Nr))})},children:(0,B.t)("buttons.scrollBackToContent")})]}),Qr()]})]});return(0,o.jsx)(Ka.k.Provider,{value:we,children:(0,o.jsx)(Ai.zt,{scope:Dn.jotaiScope,children:(0,o.jsx)(pt.A3.Provider,{value:Dn,children:Rr})})})},Ja=function(i){return i.suggestedBindings,i.startBoundElement,i.cursorButton,i.scrollX,i.scrollY,(0,bt.Z)(i,xl)},ea=function(i,C){if(i.children!==C.children)return!1;i.canvas;var K=i.appState,oe=(0,bt.Z)(i,Nl),we=(C.canvas,C.appState),de=(0,bt.Z)(C,Za);return(0,p.w8)(Ja(K),Ja(we),{selectedElementIds:p.w8,selectedGroupIds:p.w8})&&(0,p.w8)(oe,de)},ja=le().memo(za,ea),Bi=e(9650),Wi={};Wi.styleTagTransform=ht(),Wi.setAttributes=et(),Wi.insert=ze().bind(null,"head"),Wi.domAPI=ge(),Wi.insertStyleElement=tt(),re()(Bi.Z,Wi),Bi.Z&&Bi.Z.locals&&Bi.Z.locals;var wl=function(i){var C=i.message,K=i.onClose,oe=i.closable,we=oe!==void 0&&oe,de=i.duration,$=de===void 0?5e3:de,ne=(0,G.useRef)(0),Pe=$!==1/0,Be=(0,G.useCallback)(function(){Pe&&(ne.current=window.setTimeout(function(){return K()},$))},[K,$,Pe]);(0,G.useEffect)(function(){if(Pe)return Be(),function(){return clearTimeout(ne.current)}},[Be,C,$,Pe]);var Fe=Pe?function(){return clearTimeout(ne?.current)}:void 0,it=Pe?Be:void 0;return(0,o.jsxs)("div",{className:"Toast",onMouseEnter:Fe,onMouseLeave:it,children:[(0,o.jsx)("p",{className:"Toast__message",children:C}),we&&(0,o.jsx)(R.V,{icon:U.Tw,"aria-label":"close",type:"icon",onClick:K,className:"close"})]})};function be(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}function De(i){for(var C=1;C<arguments.length;C++){var K=arguments[C]!=null?arguments[C]:{};C%2?be(Object(K),!0).forEach(function(oe){(0,_.Z)(i,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(K)):be(Object(K)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(K,oe))})}return i}var nt=(0,O.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(i){return!i.viewModeEnabled}},perform:function(i,C){return{appState:De(De({},C),{},{viewModeEnabled:!this.checked(C)}),commitToHistory:!1}},checked:function(i){return i.viewModeEnabled},predicate:function(i,C,K){return K.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(i){return!i[M.tW.CTRL_OR_CMD]&&i.altKey&&i.code===M.aU.R}}),dt=e(4178),xt=e(200),Pt=e.n(xt),en=e(3528),Cn=e(5992),Wn=e(8020),Ot=e(4048),Gt=e(9672);function Tt(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}var mn=(0,S.Z)(function i(C){var K=this,oe=C.scene,we=C.onSceneUpdated;(0,T.Z)(this,i),this.onFontsLoaded=function(de){if(de.every(function(ne){var Pe="".concat(ne.family,"-").concat(ne.style,"-").concat(ne.weight);return!!i.loadedFontFaces.has(Pe)||(i.loadedFontFaces.add(Pe),!1)}))return!1;var $=!1;K.scene.mapElements(function(ne){return(0,ue.iB)(ne)&&!(0,ee.Xh)(ne)?(Sa.R.delete(ne),$=!0,(0,I.BE)(ne,function(Pe){for(var Be=1;Be<arguments.length;Be++){var Fe=arguments[Be]!=null?arguments[Be]:{};Be%2?Tt(Object(Fe),!0).forEach(function(it){(0,_.Z)(Pe,it,Fe[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(Fe)):Tt(Object(Fe)).forEach(function(it){Object.defineProperty(Pe,it,Object.getOwnPropertyDescriptor(Fe,it))})}return Pe}({},(0,ue.JZ)(ne)))):ne}),$&&K.onSceneUpdated()},this.loadFontsForElements=function(){var de=(0,b.Z)(x().mark(function $(ne){var Pe;return x().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.next=2,Promise.all((0,d.Z)(new Set(ne.filter(function(Fe){return(0,ue.iB)(Fe)}).map(function(Fe){return Fe.fontFamily}))).map(function(Fe){var it,st,vt,jt,Lt=(0,p.mO)({fontFamily:Fe,fontSize:16});if((it=document.fonts)===null||it===void 0||(st=it.check)===null||st===void 0||!st.call(it,Lt))return(vt=document.fonts)===null||vt===void 0||(jt=vt.load)===null||jt===void 0?void 0:jt.call(vt,Lt)}));case 2:Pe=Be.sent,K.onFontsLoaded(Pe.flat().filter(Boolean));case 4:case"end":return Be.stop()}},$)}));return function($){return de.apply(this,arguments)}}(),this.scene=oe,this.onSceneUpdated=we});mn.loadedFontFaces=new Set;var Jt=e(4682),On=e(6264),In=e(5047),gn=e(7652);function nr(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}function ur(i){for(var C=1;C<arguments.length;C++){var K=arguments[C]!=null?arguments[C]:{};C%2?nr(Object(K),!0).forEach(function(oe){(0,_.Z)(i,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(K)):nr(Object(K)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(K,oe))})}return i}var dr=function(i,C){var K=C.scene.getSelectedElements(i);return K.length===1&&K[0].type==="frame"},jr=(0,O.z)({name:"selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(i,C,K,oe){var we=oe.scene.getSelectedElements(C)[0];if(we&&we.type==="frame"){var de=(0,Jt.zD)((0,ue.Lm)(i),we.id).filter(function($){return!($.type==="text"&&$.containerId)});return{elements:i,appState:ur(ur({},C),{},{selectedElementIds:de.reduce(function($,ne){return $[ne.id]=!0,$},{})}),commitToHistory:!1}}return{elements:i,appState:C,commitToHistory:!1}},contextItemLabel:"labels.selectAllElementsInFrame",predicate:function(i,C,K,oe){return dr(C,oe)}}),Vr=(0,O.z)({name:"removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(i,C,K,oe){var we=oe.scene.getSelectedElements(C)[0];return we&&we.type==="frame"?{elements:(0,Jt.yZ)(i,we,C),appState:ur(ur({},C),{},{selectedElementIds:(0,_.Z)({},we.id,!0)}),commitToHistory:!0}:{elements:i,appState:C,commitToHistory:!1}},contextItemLabel:"labels.removeAllElementsFromFrame",predicate:function(i,C,K,oe){return dr(C,oe)}}),qr=((0,O.z)({name:"updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(i,C){return{elements:i,appState:ur(ur({},C),{},{frameRendering:ur(ur({},C.frameRendering),{},{enabled:!C.frameRendering.enabled})}),commitToHistory:!1}},contextItemLabel:"labels.updateFrameRendering",checked:function(i){return i.frameRendering.enabled}}),(0,O.z)({name:"setFrameAsActiveTool",trackEvent:{category:"toolbar"},perform:function(i,C,K,oe){var we=(0,p.Om)(C,{type:"frame"});return(0,gn.Uk)(oe.interactiveCanvas,ur(ur({},C),{},{activeTool:we})),{elements:i,appState:ur(ur({},C),{},{activeTool:(0,p.Om)(C,{type:"frame"})}),commitToHistory:!1}},keyTest:function(i){return!i[M.tW.CTRL_OR_CMD]&&!i.shiftKey&&!i.altKey&&i.key.toLocaleLowerCase()===M.tW.F}}),e(6006)),Wr=e(3506);function Yr(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}function Tr(i){for(var C=1;C<arguments.length;C++){var K=arguments[C]!=null?arguments[C]:{};C%2?Yr(Object(K),!0).forEach(function(oe){(0,_.Z)(i,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(K)):Yr(Object(K)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(K,oe))})}return i}function Br(i,C){var K=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!K){if(Array.isArray(i)||(K=function(Pe,Be){if(Pe){if(typeof Pe=="string")return ro(Pe,Be);var Fe=Object.prototype.toString.call(Pe).slice(8,-1);if(Fe==="Object"&&Pe.constructor&&(Fe=Pe.constructor.name),Fe==="Map"||Fe==="Set")return Array.from(Pe);if(Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return ro(Pe,Be)}}(i))||C){K&&(i=K);var oe=0,we=function(){};return{s:we,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Pe){throw Pe},f:we}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,$=!0,ne=!1;return{s:function(){K=K.call(i)},n:function(){var Pe=K.next();return $=Pe.done,Pe},e:function(Pe){ne=!0,de=Pe},f:function(){try{$||K.return==null||K.return()}finally{if(ne)throw de}}}}function ro(i,C){(C==null||C>i.length)&&(C=i.length);for(var K=0,oe=new Array(C);K<C;K++)oe[K]=i[K];return oe}var so=function(i){return 8/i},fo=(0,S.Z)(function i(){(0,T.Z)(this,i)});fo.referenceSnapPoints=null,fo.visibleGaps=null,fo.setReferenceSnapPoints=function(i){fo.referenceSnapPoints=i},fo.getReferenceSnapPoints=function(){return fo.referenceSnapPoints},fo.setVisibleGaps=function(i){fo.visibleGaps=i},fo.getVisibleGaps=function(){return fo.visibleGaps},fo.destroy=function(){fo.referenceSnapPoints=null,fo.visibleGaps=null};var Mo=function(i){var C=i.event,K=i.appState,oe=i.selectedElements;return C?K.objectsSnapModeEnabled&&!C[M.tW.CTRL_OR_CMD]||!K.objectsSnapModeEnabled&&C[M.tW.CTRL_OR_CMD]&&K.gridSize===null:(oe.length!==1||oe[0].type!=="arrow")&&K.objectsSnapModeEnabled},Zi=function(i){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{omitCenter:!1,boundingBoxCorners:!1},K=C.omitCenter,oe=C.boundingBoxCorners,we=C.dragOffset,de=[];if(i.length===1){var $=i[0],ne=(0,Zo.qf)($),Pe=(0,v.Z)(ne,6),Be=Pe[0],Fe=Pe[1],it=Pe[2],st=Pe[3],vt=Pe[4],jt=Pe[5];we&&(Be+=we.x,it+=we.x,vt+=we.x,Fe+=we.y,st+=we.y,jt+=we.y);var Lt=(it-Be)/2,Qt=(st-Fe)/2;if($.type!=="diamond"&&$.type!=="ellipse"||oe){var vn=(0,xe.xj)([Be,Fe],[vt,jt],$.angle),$t=(0,xe.xj)([it,Fe],[vt,jt],$.angle),Ut=(0,xe.xj)([Be,st],[vt,jt],$.angle),tn=(0,xe.xj)([it,st],[vt,jt],$.angle),xn=[vt,jt];de=K?[vn,$t,Ut,tn]:[vn,$t,Ut,tn,xn]}else{var Dn=(0,xe.xj)([Be,Fe+Qt],[vt,jt],$.angle),En=(0,xe.xj)([Be+Lt,Fe],[vt,jt],$.angle),yn=(0,xe.xj)([it,Fe+Qt],[vt,jt],$.angle),Un=(0,xe.xj)([Be+Lt,st],[vt,jt],$.angle),gr=[vt,jt];de=K?[Dn,En,yn,Un]:[Dn,En,yn,Un,gr]}}else if(i.length>1){var _r=(0,Zo.hC)(i,we??{x:0,y:0}),zr=(0,v.Z)(_r,4),Qr=zr[0],ao=zr[1],Rr=zr[2],Nr=zr[3],Fr=Rr-Qr,Ur=Nr-ao,ho=[Qr,ao],So=[Rr,ao],_o=[Qr,Nr],To=[Rr,Nr],vo=[Qr+Fr/2,ao+Ur/2];de=K?[ho,So,_o,To]:[ho,So,_o,To,vo]}return de.map(function(oo){return[lt(oo[0]),lt(oo[1])]})},Ao=function(i,C,K){var oe=C.filter(function(we){return(0,ee.He)(we)}).map(function(we){return we.id});return(0,On.CF)(i,C,K).filter(function(we){return!(we.frameId&&oe.includes(we.frameId))})},at=function(i,C,K){var oe=Ao(i,C,K),we=(0,qe.AI)(oe).filter(function(Ur){return!(Ur.length===1&&(0,ee.Xh)(Ur[0]))}).map(function(Ur){return(0,Zo.KP)(Ur).map(function(ho){return lt(ho)})}),de=we.sort(function(Ur,ho){return Ur[0]-ho[0]}),$=[],ne=0;e:for(var Pe=0;Pe<de.length;Pe++)for(var Be=de[Pe],Fe=Pe+1;Fe<de.length;Fe++){if(++ne>99999)break e;var it=de[Fe],st=(0,v.Z)(Be,4),vt=st[1],jt=st[2],Lt=st[3],Qt=(0,v.Z)(it,4),vn=Qt[0],$t=Qt[1],Ut=Qt[3];jt<vn&&(0,xe.ep)([vt,Lt],[$t,Ut])&&$.push({startBounds:Be,endBounds:it,startSide:[[jt,vt],[jt,Lt]],endSide:[[vn,$t],[vn,Ut]],length:vn-jt,overlap:(0,xe.mW)([vt,Lt],[$t,Ut])})}var tn=we.sort(function(Ur,ho){return Ur[1]-ho[1]}),xn=[];ne=0;e:for(var Dn=0;Dn<tn.length;Dn++)for(var En=tn[Dn],yn=Dn+1;yn<tn.length;yn++){if(++ne>99999)break e;var Un=tn[yn],gr=(0,v.Z)(En,4),_r=gr[0],zr=gr[2],Qr=gr[3],ao=(0,v.Z)(Un,3),Rr=ao[0],Nr=ao[1],Fr=ao[2];Qr<Nr&&(0,xe.ep)([_r,zr],[Rr,Fr])&&xn.push({startBounds:En,endBounds:Un,startSide:[[_r,Qr],[zr,Qr]],endSide:[[Rr,Nr],[Fr,Nr]],length:Nr-Qr,overlap:(0,xe.mW)([_r,zr],[Rr,Fr])})}return{horizontalGaps:$,verticalGaps:xn}},Me=function(i,C,K,oe,we,de,$){if(!Mo({appState:K,event:oe,selectedElements:i}))return[];if(i.length===0)return[];var ne=fo.getVisibleGaps();if(ne){var Pe,Be=ne.horizontalGaps,Fe=ne.verticalGaps,it=(0,Zo.hC)(i,C).map(function(Xo){return lt(Xo)}),st=(0,v.Z)(it,4),vt=st[0],jt=st[1],Lt=st[2],Qt=st[3],vn=(vt+Lt)/2,$t=(jt+Qt)/2,Ut=Br(Be);try{for(Ut.s();!(Pe=Ut.n()).done;){var tn=Pe.value;if((0,xe.ep)([jt,Qt],tn.overlap)){var xn=tn.startSide[0][0]+tn.length/2,Dn=lt(xn-vn);if(tn.length>Lt-vt&&Math.abs(Dn)<=$.x){Math.abs(Dn)<$.x&&(we.length=0),$.x=Math.abs(Dn);var En={type:"gap",direction:"center_horizontal",gap:tn,offset:Dn};we.push(En)}else{var yn=vt-(0,v.Z)(tn.endBounds,3)[2],Un=lt(tn.length-yn);if(Math.abs(Un)<=$.x){Math.abs(Un)<$.x&&(we.length=0),$.x=Math.abs(Un);var gr={type:"gap",direction:"side_right",gap:tn,offset:Un};we.push(gr)}else{var _r=(0,v.Z)(tn.startBounds,3)[0],zr=lt(_r-Lt-tn.length);if(Math.abs(zr)<=$.x){Math.abs(zr)<$.x&&(we.length=0),$.x=Math.abs(zr);var Qr={type:"gap",direction:"side_left",gap:tn,offset:zr};we.push(Qr)}}}}}}catch(Xo){Ut.e(Xo)}finally{Ut.f()}var ao,Rr=Br(Fe);try{for(Rr.s();!(ao=Rr.n()).done;){var Nr=ao.value;if((0,xe.ep)([vt,Lt],Nr.overlap)){var Fr=Nr.startSide[0][1]+Nr.length/2,Ur=lt(Fr-$t);if(Nr.length>Qt-jt&&Math.abs(Ur)<=$.y){Math.abs(Ur)<$.y&&(de.length=0),$.y=Math.abs(Ur);var ho={type:"gap",direction:"center_vertical",gap:Nr,offset:Ur};de.push(ho)}else{var So=(0,v.Z)(Nr.startBounds,3)[1],_o=lt(So-Qt-Nr.length);if(Math.abs(_o)<=$.y){Math.abs(_o)<$.y&&(de.length=0),$.y=Math.abs(_o);var To={type:"gap",direction:"side_top",gap:Nr,offset:_o};de.push(To)}else{var vo=(0,v.Z)(Nr.endBounds,4)[3],oo=lt(jt-vo),Lo=Nr.length-oo;if(Math.abs(Lo)<=$.y){Math.abs(Lo)<$.y&&(de.length=0),$.y=Math.abs(Lo);var Ko={type:"gap",direction:"side_bottom",gap:Nr,offset:Lo};de.push(Ko)}}}}}}catch(Xo){Rr.e(Xo)}finally{Rr.f()}}},Ye=function(i,C,K){var oe=Ao(i,C,K);return(0,qe.AI)(oe).filter(function(we){return!(we.length===1&&(0,ee.Xh)(we[0]))}).flatMap(function(we){return Zi(we)})},Xe=function(i,C,K,oe,we,de,$){if(!Mo({appState:K,event:oe,selectedElements:i})||i.length===0&&C.length===0)return[];var ne=fo.getReferenceSnapPoints();if(ne){var Pe,Be=Br(C);try{for(Be.s();!(Pe=Be.n()).done;){var Fe,it=Pe.value,st=Br(ne);try{for(st.s();!(Fe=st.n()).done;){var vt=Fe.value,jt=vt[0]-it[0],Lt=vt[1]-it[1];Math.abs(jt)<=$.x&&(Math.abs(jt)<$.x&&(we.length=0),we.push({type:"point",points:[it,vt],offset:jt}),$.x=Math.abs(jt)),Math.abs(Lt)<=$.y&&(Math.abs(Lt)<$.y&&(de.length=0),de.push({type:"point",points:[it,vt],offset:Lt}),$.y=Math.abs(Lt))}}catch(Qt){st.e(Qt)}finally{st.f()}}}catch(Qt){Be.e(Qt)}finally{Be.f()}}},lt=function(i){return Math.round(i*Math.pow(10,6))/Math.pow(10,6)},gt=function(i){var C,K=new Map,oe=Br(i);try{for(oe.s();!(C=oe.n()).done;){var we=C.value,de=we.join(",");K.has(de)||K.set(de,we)}}catch($){oe.e($)}finally{oe.f()}return Array.from(K.values())},Ct=function(i,C){var K={},oe={};if(i.length>0){var we,de=Br(i);try{for(de.s();!(we=de.n()).done;){var $=we.value;if($.type==="point"){var ne,Pe=lt($.points[0][0]);K[Pe]||(K[Pe]=[]),(ne=K[Pe]).push.apply(ne,(0,d.Z)($.points.map(function(jt){return[lt(jt[0]),lt(jt[1])]})))}}}catch(jt){de.e(jt)}finally{de.f()}}if(C.length>0){var Be,Fe=Br(C);try{for(Fe.s();!(Be=Fe.n()).done;){var it=Be.value;if(it.type==="point"){var st,vt=lt(it.points[0][1]);oe[vt]||(oe[vt]=[]),(st=oe[vt]).push.apply(st,(0,d.Z)(it.points.map(function(jt){return[lt(jt[0]),lt(jt[1])]})))}}}catch(jt){Fe.e(jt)}finally{Fe.f()}}return Object.entries(K).map(function(jt){var Lt=(0,v.Z)(jt,2),Qt=Lt[0],vn=Lt[1];return{type:"points",points:gt(vn.map(function($t){return[Number(Qt),$t[1]]}).sort(function($t,Ut){return $t[1]-Ut[1]}))}}).concat(Object.entries(oe).map(function(jt){var Lt=(0,v.Z)(jt,2),Qt=Lt[0],vn=Lt[1];return{type:"points",points:gt(vn.map(function($t){return[$t[0],Number(Qt)]}).sort(function($t,Ut){return $t[0]-Ut[0]}))}}))},_t=function(i,C,K){var oe,we=(0,Zo.hC)(i,C),de=(0,v.Z)(we,4),$=de[0],ne=de[1],Pe=de[2],Be=de[3],Fe=[],it=Br(K);try{for(it.s();!(oe=it.n()).done;){var st=oe.value,vt=(0,v.Z)(st.gap.startBounds,4),jt=vt[0],Lt=vt[1],Qt=vt[2],vn=vt[3],$t=(0,v.Z)(st.gap.endBounds,4),Ut=$t[0],tn=$t[1],xn=$t[2],Dn=$t[3],En=(0,xe.mW)([ne,Be],st.gap.overlap),yn=(0,xe.mW)([$,Pe],st.gap.overlap);switch(st.direction){case"center_horizontal":if(En){var Un=(En[0]+En[1])/2;Fe.push({type:"gap",direction:"horizontal",points:[[st.gap.startSide[0][0],Un],[$,Un]]},{type:"gap",direction:"horizontal",points:[[Pe,Un],[st.gap.endSide[0][0],Un]]})}break;case"center_vertical":if(yn){var gr=(yn[0]+yn[1])/2;Fe.push({type:"gap",direction:"vertical",points:[[gr,st.gap.startSide[0][1]],[gr,ne]]},{type:"gap",direction:"vertical",points:[[gr,Be],[gr,st.gap.endSide[0][1]]]})}break;case"side_right":if(En){var _r=(En[0]+En[1])/2;Fe.push({type:"gap",direction:"horizontal",points:[[Qt,_r],[Ut,_r]]},{type:"gap",direction:"horizontal",points:[[xn,_r],[$,_r]]})}break;case"side_left":if(En){var zr=(En[0]+En[1])/2;Fe.push({type:"gap",direction:"horizontal",points:[[Pe,zr],[jt,zr]]},{type:"gap",direction:"horizontal",points:[[Qt,zr],[Ut,zr]]})}break;case"side_top":if(yn){var Qr=(yn[0]+yn[1])/2;Fe.push({type:"gap",direction:"vertical",points:[[Qr,Be],[Qr,Lt]]},{type:"gap",direction:"vertical",points:[[Qr,vn],[Qr,tn]]})}break;case"side_bottom":if(yn){var ao=(yn[0]+yn[1])/2;Fe.push({type:"gap",direction:"vertical",points:[[ao,vn],[ao,tn]]},{type:"gap",direction:"vertical",points:[[ao,Dn],[ao,ne]]})}}}}catch(Rr){it.e(Rr)}finally{it.f()}return function(Rr){var Nr,Fr=new Map,Ur=Br(Rr);try{for(Ur.s();!(Nr=Ur.n()).done;){var ho=Nr.value,So=ho.points.flat().map(function(_o){return[lt(_o)]}).join(",");Fr.has(So)||Fr.set(So,ho)}}catch(_o){Ur.e(_o)}finally{Ur.f()}return Array.from(Fr.values())}(Fe.map(function(Rr){return Tr(Tr({},Rr),{},{points:Rr.points.map(function(Nr){return[lt(Nr[0]),lt(Nr[1])]})})}))},Dt=function(i,C,K,oe,we,de){var $,ne,Pe,Be;if(!Mo({event:oe,selectedElements:i,appState:K})||i.length===0||i.length===1&&!function(zr,Qr){var ao=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.01;return Math.abs(zr-Qr)<=ao}(i[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var Fe=(0,Zo.KP)(C),it=(0,v.Z)(Fe,4),st=it[0],vt=it[1],jt=it[2],Lt=it[3];de&&(de.includes("e")?jt+=we.x:de.includes("w")&&(st+=we.x),de.includes("n")?vt+=we.y:de.includes("s")&&(Lt+=we.y));var Qt=[];if(de)switch(de){case"e":Qt.push([jt,vt],[jt,Lt]);break;case"w":Qt.push([st,vt],[st,Lt]);break;case"n":Qt.push([st,vt],[jt,vt]);break;case"s":Qt.push([st,Lt],[jt,Lt]);break;case"ne":Qt.push([jt,vt]);break;case"nw":Qt.push([st,vt]);break;case"se":Qt.push([jt,Lt]);break;case"sw":Qt.push([st,Lt])}var vn=so(K.zoom.value),$t={x:vn,y:vn},Ut=[],tn=[];Xe(C,Qt,K,oe,Ut,tn,$t);var xn={x:($=(ne=Ut[0])===null||ne===void 0?void 0:ne.offset)!==null&&$!==void 0?$:0,y:(Pe=(Be=tn[0])===null||Be===void 0?void 0:Be.offset)!==null&&Pe!==void 0?Pe:0};$t.x=0,$t.y=0,Ut.length=0,tn.length=0;var Dn=(0,Zo.KP)(i).map(function(zr){return lt(zr)}),En=(0,v.Z)(Dn,4),yn=En[0],Un=En[1],gr=En[2],_r=En[3];return Xe(i,[[yn,Un],[yn,_r],[gr,Un],[gr,_r]],K,oe,Ut,tn,$t),{snapOffset:xn,snapLines:Ct(Ut,tn)}},wn=e(7392),Pn=e(9247),fn=function(){return(0,o.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,o.jsx)("p",{children:(0,o.jsx)(Pn.Z,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(i){return(0,o.jsx)("span",{style:{fontWeight:600},children:i})}})}),(0,o.jsx)("p",{children:(0,o.jsx)(Pn.Z,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(i){return(0,o.jsx)("span",{style:{fontWeight:600},children:i})}})}),(0,o.jsx)("p",{children:(0,o.jsx)(Pn.Z,{i18nKey:"errors.brave_measure_text_error.line3",link:function(i){return(0,o.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:i})}})}),(0,o.jsx)("p",{children:(0,o.jsx)(Pn.Z,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(i){return(0,o.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:i})},discordLink:function(i){return(0,o.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[i,"."]})}})})]})},_n=e(6199),zn=e(7766),Nn=function(i){var C=(0,G.useRef)(!1);return(0,G.useEffect)(function(){var K;if(C.current){var oe={},we={},de={},$={},ne={};i.appState.collaborators.forEach(function(Be,Fe){if(Be.selectedElementIds)for(var it=0,st=Object.keys(Be.selectedElementIds);it<st.length;it++){var vt=st[it];vt in de||(de[vt]=[]),de[vt].push(Fe)}Be.pointer&&(Be.username&&($[Fe]=Be.username),Be.userState&&(ne[Fe]=Be.userState),we[Fe]=(0,p._i)({sceneX:Be.pointer.x,sceneY:Be.pointer.y},i.appState),oe[Fe]=Be.button)});var Pe=((K=i.containerRef)===null||K===void 0?void 0:K.current)&&getComputedStyle(i.containerRef.current).getPropertyValue("--color-selection")||"#6965db";(0,zn.tp)({canvas:i.canvas,elements:i.elements,visibleElements:i.visibleElements,selectedElements:i.selectedElements,scale:window.devicePixelRatio,appState:i.appState,renderConfig:{remotePointerViewportCoords:we,remotePointerButton:oe,remoteSelectedElementIds:de,remotePointerUsernames:$,remotePointerUserStates:ne,selectionColor:Pe,renderScrollbars:!1},callback:i.renderInteractiveSceneCallback},(0,p.G9)())}else C.current=!0}),(0,o.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:i.appState.width,height:i.appState.height,cursor:i.appState.viewModeEnabled?r.oc.GRAB:r.oc.AUTO},width:i.appState.width*i.scale,height:i.appState.height*i.scale,ref:i.handleCanvasRef,onContextMenu:i.onContextMenu,onPointerMove:i.onPointerMove,onPointerUp:i.onPointerUp,onPointerCancel:i.onPointerCancel,onTouchMove:i.onTouchMove,onPointerDown:i.onPointerDown,onDoubleClick:i.appState.viewModeEnabled?void 0:i.onDoubleClick,children:(0,B.t)("labels.drawingCanvas")})},Rn=function(i){return{zoom:i.zoom,scrollX:i.scrollX,scrollY:i.scrollY,width:i.width,height:i.height,viewModeEnabled:i.viewModeEnabled,editingGroupId:i.editingGroupId,editingLinearElement:i.editingLinearElement,selectedElementIds:i.selectedElementIds,frameToHighlight:i.frameToHighlight,offsetLeft:i.offsetLeft,offsetTop:i.offsetTop,theme:i.theme,pendingImageElementId:i.pendingImageElementId,selectionElement:i.selectionElement,selectedGroupIds:i.selectedGroupIds,selectedLinearElement:i.selectedLinearElement,multiElement:i.multiElement,isBindingEnabled:i.isBindingEnabled,suggestedBindings:i.suggestedBindings,isRotating:i.isRotating,elementsToHighlight:i.elementsToHighlight,openSidebar:i.openSidebar,showHyperlinkPopup:i.showHyperlinkPopup,collaborators:i.collaborators,activeEmbeddable:i.activeEmbeddable,snapLines:i.snapLines,zenModeEnabled:i.zenModeEnabled}},Tn=function(i,C){return i.selectionNonce===C.selectionNonce&&i.versionNonce===C.versionNonce&&i.scale===C.scale&&i.elements===C.elements&&i.visibleElements===C.visibleElements&&i.selectedElements===C.selectedElements&&(0,p.w8)(Rn(i.appState),Rn(C.appState))},Vn=le().memo(Nn,Tn),sr=function(i){var C=(0,G.useRef)(null),K=(0,G.useRef)(!1);return(0,G.useEffect)(function(){var oe=C.current;if(oe){var we=i.canvas;K.current||(K.current=!0,oe.replaceChildren(we),we.classList.add("excalidraw__canvas","static"));var de="".concat(i.appState.width,"px"),$="".concat(i.appState.height,"px");we.style.width!==de&&(we.style.width=de),we.style.height!==$&&(we.style.height=$);var ne=i.appState.width*i.scale,Pe=i.appState.height*i.scale;we.width!==ne&&(we.width=ne),we.height!==Pe&&(we.height=Pe),(0,zn.AW)({canvas:we,rc:i.rc,scale:i.scale,elements:i.elements,visibleElements:i.visibleElements,appState:i.appState,renderConfig:i.renderConfig},(0,p.G9)())}}),(0,o.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:C})},mr=function(i){return{zoom:i.zoom,scrollX:i.scrollX,scrollY:i.scrollY,width:i.width,height:i.height,viewModeEnabled:i.viewModeEnabled,offsetLeft:i.offsetLeft,offsetTop:i.offsetTop,theme:i.theme,pendingImageElementId:i.pendingImageElementId,shouldCacheIgnoreZoom:i.shouldCacheIgnoreZoom,viewBackgroundColor:i.viewBackgroundColor,exportScale:i.exportScale,selectedElementsAreBeingDragged:i.selectedElementsAreBeingDragged,gridSize:i.gridSize,frameRendering:i.frameRendering,selectedElementIds:i.selectedElementIds,frameToHighlight:i.frameToHighlight,editingGroupId:i.editingGroupId}},or=function(i,C){return i.versionNonce===C.versionNonce&&i.scale===C.scale&&i.elements===C.elements&&i.visibleElements===C.visibleElements&&(0,p.w8)(mr(i.appState),mr(C.appState))&&(0,p.w8)(i.renderConfig,C.renderConfig)},ar=le().memo(sr,or),Pr=function(){function i(C){var K=this;(0,T.Z)(this,i),this.getRenderableElements=(0,p.HP)(function(oe){var we=oe.zoom,de=oe.offsetLeft,$=oe.offsetTop,ne=oe.scrollX,Pe=oe.scrollY,Be=oe.height,Fe=oe.width,it=oe.editingElement,st=oe.pendingImageElementId,vt=(oe.versionNonce,function(Lt){var Qt=Lt.editingElement,vn=Lt.elements,$t=Lt.pendingImageElementId;return vn.filter(function(Ut){return!((0,ee.pC)(Ut)&&$t===Ut.id||Qt&&Qt.type==="text"&&Ut.id===Qt.id)})}({elements:K.scene.getNonDeletedElements(),editingElement:it,pendingImageElementId:st})),jt=function(Lt){var Qt=Lt.elements,vn=Lt.zoom,$t=Lt.offsetLeft,Ut=Lt.offsetTop,tn=Lt.scrollX,xn=Lt.scrollY,Dn=Lt.height,En=Lt.width;return Qt.filter(function(yn){return(0,ke.PZ)(yn,En,Dn,{zoom:vn,offsetLeft:$t,offsetTop:Ut,scrollX:tn,scrollY:xn})})}({elements:vt,zoom:we,offsetLeft:de,offsetTop:$,scrollX:ne,scrollY:Pe,height:Be,width:Fe});return{canvasElements:vt,visibleElements:jt}}),this.scene=C}return(0,S.Z)(i,[{key:"destroy",value:function(){(0,zn.n_)(),this.getRenderableElements.clear()}}]),i}(),Hr=e(8806),Dr=e(4864),Lr=e(8531),Xr=e(5830),Jr={};Jr.styleTagTransform=ht(),Jr.setAttributes=et(),Jr.insert=ze().bind(null,"head"),Jr.domAPI=ge(),Jr.insertStyleElement=tt(),re()(Xr.Z,Jr),Xr.Z&&Xr.Z.locals&&Xr.Z.locals;var co="mermaid-to-excalidraw",po=function(i){var C=i.error;return(0,o.jsxs)("div",{"data-testid":"mermaid-error",className:"mermaid-error",children:["Error! ",(0,o.jsx)("p",{children:C})]})},xo=function(){var i=(0,G.useState)({loaded:!1,api:null}),C=(0,v.Z)(i,2),K=C[0],oe=C[1],we=(0,G.useState)(""),de=(0,v.Z)(we,2),$=de[0],ne=de[1],Pe=(0,G.useDeferredValue)($.trim()),Be=(0,G.useState)(null),Fe=(0,v.Z)(Be,2),it=Fe[0],st=Fe[1],vt=(0,G.useRef)(null),jt=(0,G.useRef)({elements:[],files:null}),Lt=Ps(),Qt=function(){var $t=vt.current;if($t){var Ut=$t.parentElement;Ut&&(Ut.style.background="",st(null),$t.replaceChildren())}};(0,G.useEffect)(function(){var $t=function(){var Ut=(0,b.Z)(x().mark(function tn(){var xn;return x().wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:return Dn.next=2,e.e(4736).then(e.bind(e,1049));case 2:xn=Dn.sent,oe({loaded:!0,api:xn});case 4:case"end":return Dn.stop()}},tn)}));return function(){return Ut.apply(this,arguments)}}();$t()},[]),(0,G.useEffect)(function(){var $t=function(){try{var Ut=localStorage.getItem(co);if(Ut)return Ut}catch(tn){console.error(tn)}return null}()||`flowchart TD
 A[Christmas] -->|Get money| B(Go shopping)
 B --> C{Let me think}
 C -->|One| D[Laptop]
 C -->|Two| E[iPhone]
 C -->|Three| F[Car]`;ne($t)},[]),(0,G.useEffect)(function(){var $t=function(){var Ut=(0,b.Z)(x().mark(function tn(){var xn,Dn,En,yn,Un,gr;return x().wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:if(xn=vt.current,Dn=xn?.parentElement,K.loaded&&xn&&Dn&&K.api){_r.next=4;break}return _r.abrupt("return");case 4:if(Pe){_r.next=7;break}return Qt(),_r.abrupt("return");case 7:return _r.prev=7,_r.next=10,K.api.parseMermaidToExcalidraw(Pe,{fontSize:r.n5});case 10:return En=_r.sent,yn=En.elements,Un=En.files,st(null),jt.current={elements:(0,Dr.wc)(yn,{regenerateIds:!0}),files:Un},_r.next=17,(0,Dr.NL)({elements:jt.current.elements,files:jt.current.files,exportPadding:r.qy,maxWidthOrHeight:Math.max(Dn.offsetWidth,Dn.offsetHeight)*window.devicePixelRatio});case 17:return gr=_r.sent,_r.next=20,(0,An._c)(gr);case 20:Dn.style.background="var(--default-bg-color)",xn.replaceChildren(gr),_r.next=28;break;case 24:_r.prev=24,_r.t0=_r.catch(7),Dn.style.background="var(--default-bg-color)",Pe&&st(_r.t0.message);case 28:case"end":return _r.stop()}},tn,null,[[7,24]])}));return function(){return Ut.apply(this,arguments)}}();$t()},[Pe,K]);var vn=function(){Lt.setOpenDialog(null),function($t){try{localStorage.setItem(co,$t)}catch(Ut){console.error(Ut)}}($)};return(0,o.jsx)(an.V,{className:"dialog-mermaid",onCloseRequest:vn,size:1200,title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"dialog-mermaid-title",children:(0,B.t)("mermaid.title")}),(0,o.jsxs)("span",{className:"dialog-mermaid-desc",children:[(0,o.jsx)(Pn.Z,{i18nKey:"mermaid.description",flowchartLink:function($t){return(0,o.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:$t})},sequenceLink:function($t){return(0,o.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:$t})}}),(0,o.jsx)("br",{})]})]}),children:(0,o.jsxs)("div",{className:"dialog-mermaid-body",children:[(0,o.jsxs)("div",{className:"dialog-mermaid-panels",children:[(0,o.jsxs)("div",{className:"dialog-mermaid-panels-text",children:[(0,o.jsx)("label",{children:(0,B.t)("mermaid.syntax")}),(0,o.jsx)("textarea",{onChange:function($t){return ne($t.target.value)},value:$})]}),(0,o.jsxs)("div",{className:"dialog-mermaid-panels-preview",children:[(0,o.jsx)("label",{children:(0,B.t)("mermaid.preview")}),(0,o.jsxs)("div",{className:"dialog-mermaid-panels-preview-wrapper",children:[it&&(0,o.jsx)(po,{error:it}),K.loaded?(0,o.jsx)("div",{ref:vt,style:{opacity:it?"0.15":1},className:"dialog-mermaid-panels-preview-canvas-container"}):(0,o.jsx)(Lr.Z,{size:"2rem"})]})]})]}),(0,o.jsx)("div",{className:"dialog-mermaid-buttons",children:(0,o.jsxs)(Hr.z,{className:"dialog-mermaid-insert",onSelect:function(){var $t=jt.current,Ut=$t.elements,tn=$t.files;Lt.addElementsFromPasteOrLibrary({elements:Ut,files:tn,position:"center",fitToContent:!0}),vn()},children:[(0,B.t)("mermaid.button"),(0,o.jsx)("span",{children:U.LZ})]})})]})})},Ho=e(7930),gi={};gi.styleTagTransform=ht(),gi.setAttributes=et(),gi.insert=ze().bind(null,"head"),gi.domAPI=ge(),gi.insertStyleElement=tt(),re()(Ho.Z,gi),Ho.Z&&Ho.Z.locals&&Ho.Z.locals;var Si=function(i){var C=i.manager,K=(0,G.useRef)(null);return(0,G.useEffect)(function(){return K.current&&C.start(K.current),function(){C.stop()}},[C]),(0,o.jsx)("div",{className:"LaserToolOverlay",children:(0,o.jsx)("svg",{ref:K,className:"LaserToolOverlayCanvas"})})},_i,da,ta,li;function hi([i,C,K],[oe,we,de]){return[i+oe,C+we,K+de]}function xi([i,C,K],[oe,we,de]){return[i-oe,C-we,K-de]}function oi([i,C,K],oe){return[i*oe,C*oe,K*oe]}function si([i,C,K]){return[i/Math.sqrt(i**2+C**2),C/Math.sqrt(i**2+C**2),K]}function Ti([i,C,K],oe){return[Math.cos(oe)*i-Math.sin(oe)*C,Math.sin(oe)*i+Math.cos(oe)*C,K]}function Rt(i,C,K){return Math.atan2(K[1]-i[1],K[0]-i[0])-Math.atan2(C[1]-i[1],C[0]-i[0])}function Yi(i){return Math.atan2(Math.sin(i),Math.cos(i))}function Gi([i,C]){return Math.sqrt(i**2+C**2)}function Pi([i,C],[K,oe]){return Math.sqrt((K-i)**2+(oe-C)**2)}_i={},da="LaserPointer",ta=()=>ul,Object.defineProperty(_i,da,{get:ta,set:li,enumerable:!0,configurable:!0});function Yo(i,C,K){const oe=Pi(C,K);if(oe===0)return Pi(i,C);const we=((de,$,ne)=>Math.max($,Math.min(ne,de)))(((i[0]-C[0])*(K[0]-C[0])+(i[1]-C[1])*(K[1]-C[1]))/oe**2,0,1);return Pi([C[0]+we*(K[0]-C[0]),C[1]+we*(K[1]-C[1]),i[2]],i)}function Na(i,C){if(C===0||i.length<=2)return i;const K=i[0],oe=i[i.length-1],[we,de]=i.reduce(([$,ne],Pe,Be)=>{const Fe=Yo(Pe,K,oe);return Fe>$?[Fe,Be]:[$,ne]},[0,-1]);if(we>=C){const $=i[de];return[...Na([K,...i.slice(1,de),$],C).slice(0,-1),$,...Na([$,...i.slice(de,-1),oe],C).slice(1)]}return[K,oe]}const z=class z{constructor(C){this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},z.defaults,C)}get lastPoint(){return this.tailPoints[this.tailPoints.length-1]??this.stablePoints[this.stablePoints.length-1]}addPoint(C){const K=this.originalPoints[this.originalPoints.length-1];if(!K||K[0]!==C[0]||K[1]!==C[1]){if(this.originalPoints.push(C),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(C);var oe,we,de;this.options.streamline>0&&(oe=this.lastPoint,we=C,de=1-this.options.streamline,C=hi(oe,oi(xi(we,oe),de))),this.tailPoints.push(C),function($){if($.length<2)return 0;let ne=0;for(let Pe=1;Pe<=$.length-1;Pe++)ne+=Pi($[Pe-1],$[Pe]);return ne+=Pi($[$.length-2],$[$.length-1]),ne}(this.tailPoints)>z.constants.maxTailLength&&this.stabilizeTail()}}close(){this.stabilizeTail()}stabilizeTail(){if(this.options.simplify>0&&this.options.simplifyPhase=="tail")throw new Error("Not implemented yet");this.stablePoints.push(...this.tailPoints),this.tailPoints=[]}getSize(C,K,oe,we,de){return(C??this.options.size)*this.options.sizeMapping({pressure:K,runningLength:de,currentIndex:oe,totalLength:we})}getStrokeOutline(C){if(this.isFresh)return[];let K=[...this.stablePoints,...this.tailPoints];this.options.simplify>0&&this.options.simplifyPhase==="input"&&(K=Na(K,this.options.simplify));const oe=K.length;if(oe===0)return[];if(oe===1){const En=K[0],yn=[];for(let Un=0;Un<=2*Math.PI;Un+=Math.PI/16)yn.push(hi(En,oi(Ti([1,0,0],Un),this.getSize(C,En[2],0,oe,0))));return yn.push(hi(En,oi([1,0,0],this.getSize(C,En[2],0,oe,0)))),yn}if(oe===2){const En=K[0],yn=K[1],Un=[],gr=Rt(En,[En[0],En[1]-100,En[2]],yn);for(let _r=gr;_r<=Math.PI+gr;_r+=Math.PI/16)Un.push(hi(En,oi(Ti([1,0,0],_r),this.getSize(C,En[2],0,oe,0))));for(let _r=Math.PI+gr;_r<=2*Math.PI+gr;_r+=Math.PI/16)Un.push(hi(yn,oi(Ti([1,0,0],_r),this.getSize(C,yn[2],0,oe,0))));return Un.push(Un[0]),Un}const we=[],de=[];let $=0,ne=0,Pe=0,Be=0;for(let En=1;En<oe-1;En++){const yn=K[En-1],Un=K[En],gr=K[En+1];let _r=Un[2];const zr=Pi(yn,Un);Be+=zr,$=ne+.2*(zr-ne);const Qr=this.getSize(C,_r,En,oe,Be);if(Qr===0){Pe=En+1;continue}const ao=si(xi(yn,Un)),Rr=si(xi(gr,Un)),Nr=Ti(ao,Math.PI/2),Fr=Ti(ao,-Math.PI/2),Ur=Ti(Rr,Math.PI/2),ho=Ti(Rr,-Math.PI/2),So=hi(Un,oi(Nr,Qr)),_o=hi(Un,oi(Fr,Qr)),To=hi(Un,oi(Ur,Qr)),vo=hi(Un,oi(ho,Qr)),oo=hi(Nr,ho),Lo=hi(Fr,Ur),Ko=hi(Un,oi(Gi(oo)===0?ao:si(oo),Qr)),Xo=hi(Un,oi(Gi(Lo)===0?Rr:si(Lo),Qr)),zo=Yi(Rt(Un,yn,gr)),to=z.constants.cornerDetectionMaxAngle/180*Math.PI*z.constants.cornerDetectionVariance($);if(Math.abs(zo)<to){const qo=Math.abs(Yi(Math.PI-zo));if(qo===0)continue;if(zo<0){de.push(_o,Xo);for(let Po=0;Po<=qo;Po+=qo/4)we.push(hi(Un,Ti(oi(Nr,Qr),Po)));for(let Po=qo;Po>=0;Po-=qo/4)de.push(hi(Un,Ti(oi(Nr,Qr),Po)));de.push(Xo,To)}else{we.push(So,Ko);for(let Po=0;Po<=qo;Po+=qo/4)de.push(hi(Un,Ti(oi(Nr,-Qr),-Po)));for(let Po=qo;Po>=0;Po-=qo/4)we.push(hi(Un,Ti(oi(Nr,-Qr),-Po)));we.push(Ko,vo)}}else we.push(Ko),de.push(Xo);ne=$}const Fe=K[Pe],it=K[Pe+1],st=K[oe-2],vt=K[oe-1];if(Pe>=oe-2)return[];const jt=si(xi(it,Fe)),Lt=si(xi(st,vt)),Qt=Ti(jt,-Math.PI/2),vn=Ti(Lt,Math.PI/2),$t=this.getSize(C,Fe[2],0,oe,0),Ut=[],tn=this.getSize(C,st[2],oe-2,oe,Be),xn=[];for(let En=0;En<=Math.PI;En+=Math.PI/16)Ut.unshift(hi(Fe,Ti(oi(Qt,$t),-En)));Ut.unshift(hi(Fe,oi(Qt,-$t)));for(let En=0;En<=Math.PI;En+=Math.PI/16)xn.push(hi(vt,Ti(oi(vn,-tn),-En)));const Dn=[...Ut,...we,...xn.reverse(),...de.reverse()];return Ut.length>0&&Dn.push(Ut[0]),this.options.simplify>0&&this.options.simplifyPhase==="output"?Na(Dn,this.options.simplify):Dn}};vs=new WeakMap,Fa=new WeakMap,Kc(z,vs,(()=>{z.defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",sizeMapping:()=>1}})()),Kc(z,Fa,(()=>{z.constants={cornerDetectionMaxAngle:120,cornerDetectionVariance:C=>C>35?.5:1,maxTailLength:50}})());let ul=z;var es=e(957);function Ba(i,C){var K=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!K){if(Array.isArray(i)||(K=function(Pe,Be){if(Pe){if(typeof Pe=="string")return Wl(Pe,Be);var Fe=Object.prototype.toString.call(Pe).slice(8,-1);if(Fe==="Object"&&Pe.constructor&&(Fe=Pe.constructor.name),Fe==="Map"||Fe==="Set")return Array.from(Pe);if(Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return Wl(Pe,Be)}}(i))||C){K&&(i=K);var oe=0,we=function(){};return{s:we,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Pe){throw Pe},f:we}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,$=!0,ne=!1;return{s:function(){K=K.call(i)},n:function(){var Pe=K.next();return $=Pe.done,Pe},e:function(Pe){ne=!0,de=Pe},f:function(){try{$||K.return==null||K.return()}finally{if(ne)throw de}}}}function Wl(i,C){(C==null||C>i.length)&&(C=i.length);for(var K=0,oe=new Array(C);K<C;K++)oe[K]=i[K];return oe}var kl=1e3,El=function(i,C){return(i+C)/2};function Wa(i){return 1-Math.pow(1-i,3)}function va(){return{currentPath:void 0,finishedPaths:[],lastPoint:[-1e4,-1e4],svg:document.createElementNS("http://www.w3.org/2000/svg","path")}}function la(){return ul.constants.cornerDetectionMaxAngle=70,new ul({simplify:0,streamline:.4,sizeMapping:function(i){var C=Math.max(0,1-(performance.now()-i.pressure)/1e3),K=(50-Math.min(50,i.totalLength-i.currentIndex))/50;return Math.min(Wa(K),Wa(C))}})}var Fi=function(){function i(C){(0,T.Z)(this,i),this.app=C,this.collaboratorsState=new Map,this.isDrawing=!1,this.isRunning=!1,this.ownState=va()}return(0,S.Z)(i,[{key:"destroy",value:function(){this.stop(),this.isDrawing=!1,this.ownState=va(),this.collaboratorsState=new Map}},{key:"startPath",value:function(C,K){this.ownState.currentPath=la(),this.ownState.currentPath.addPoint([C,K,performance.now()]),this.updatePath(this.ownState)}},{key:"addPointToPath",value:function(C,K){var oe;this.ownState.currentPath&&((oe=this.ownState.currentPath)===null||oe===void 0||oe.addPoint([C,K,performance.now()]),this.updatePath(this.ownState))}},{key:"endPath",value:function(){this.ownState.currentPath&&(this.ownState.currentPath.close(),this.ownState.finishedPaths.push(this.ownState.currentPath),this.updatePath(this.ownState))}},{key:"updatePath",value:function(C){this.isDrawing=!0,this.isRunning||this.start()}},{key:"start",value:function(C){C&&(this.container=C,this.container.appendChild(this.ownState.svg)),this.stop(),this.isRunning=!0,this.loop()}},{key:"stop",value:function(){this.isRunning=!1,this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=void 0}},{key:"loop",value:function(){this.rafId=requestAnimationFrame(this.loop.bind(this)),this.updateCollabolatorsState(),this.isDrawing?this.update():this.isRunning=!1}},{key:"draw",value:function(C){var K=this;return function(oe){var we=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],de=oe.length;if(de<4)return"";for(var $=oe[0],ne=oe[1],Pe=oe[2],Be="M".concat($[0].toFixed(2),",").concat($[1].toFixed(2)," Q").concat(ne[0].toFixed(2),",").concat(ne[1].toFixed(2)," ").concat(El(ne[0],Pe[0]).toFixed(2),",").concat(El(ne[1],Pe[1]).toFixed(2)," T"),Fe=2,it=de-1;Fe<it;Fe++)$=oe[Fe],ne=oe[Fe+1],Be+="".concat(El($[0],ne[0]).toFixed(2),",").concat(El($[1],ne[1]).toFixed(2)," ");return we&&(Be+="Z"),Be}(C.getStrokeOutline(C.options.size/this.app.state.zoom.value).map(function(oe){var we=(0,v.Z)(oe,2),de=we[0],$=we[1],ne=(0,p._i)({sceneX:de,sceneY:$},K.app.state);return[ne.x,ne.y]}),!0)}},{key:"updateCollabolatorsState",value:function(){if(this.container&&this.app.state.collaborators.size){var C,K=Ba(this.app.state.collaborators.entries());try{for(K.s();!(C=K.n()).done;){var oe=(0,v.Z)(C.value,2),we=oe[0],de=oe[1];if(!this.collaboratorsState.has(we)){var $=va();this.container.appendChild($.svg),this.collaboratorsState.set(we,$),this.updatePath($)}var ne=this.collaboratorsState.get(we);de.pointer&&de.pointer.tool==="laser"&&(de.button==="down"&&ne.currentPath===void 0&&(ne.lastPoint=[de.pointer.x,de.pointer.y],ne.currentPath=la(),ne.currentPath.addPoint([de.pointer.x,de.pointer.y,performance.now()]),this.updatePath(ne)),de.button==="down"&&ne.currentPath!==void 0&&(de.pointer.x===ne.lastPoint[0]&&de.pointer.y===ne.lastPoint[1]||(ne.lastPoint=[de.pointer.x,de.pointer.y],ne.currentPath.addPoint([de.pointer.x,de.pointer.y,performance.now()]),this.updatePath(ne))),de.button==="up"&&ne.currentPath!==void 0&&(ne.lastPoint=[de.pointer.x,de.pointer.y],ne.currentPath.addPoint([de.pointer.x,de.pointer.y,performance.now()]),ne.currentPath.close(),ne.finishedPaths.push(ne.currentPath),ne.currentPath=void 0,this.updatePath(ne)))}}catch(Pe){K.e(Pe)}finally{K.f()}}}},{key:"update",value:function(){var C=this;if(this.container){var K,oe=!1,we=Ba(this.collaboratorsState.entries());try{for(we.s();!(K=we.n()).done;){var de=(0,v.Z)(K.value,2),$=de[0],ne=de[1];if(this.app.state.collaborators.has($)){ne.finishedPaths=ne.finishedPaths.filter(function(Fe){var it=Fe.originalPoints[Fe.originalPoints.length-1];return!(it&&it[2]<performance.now()-kl)});var Pe=ne.finishedPaths.map(function(Fe){return C.draw(Fe)}).join(" ");ne.currentPath&&(Pe+=" ".concat(this.draw(ne.currentPath))),Pe.trim()&&(oe=!0),ne.svg.setAttribute("d",Pe),ne.svg.setAttribute("fill",(0,es.G)($))}else ne.svg.remove(),this.collaboratorsState.delete($)}}catch(Fe){we.e(Fe)}finally{we.f()}this.ownState.finishedPaths=this.ownState.finishedPaths.filter(function(Fe){var it=Fe.originalPoints[Fe.originalPoints.length-1];return!(it&&it[2]<performance.now()-kl)});var Be=this.ownState.finishedPaths.map(function(Fe){return C.draw(Fe)}).join(" ");this.ownState.currentPath&&(Be+=" ".concat(this.draw(this.ownState.currentPath))),(Be=Be.trim())&&(oe=!0),this.ownState.svg.setAttribute("d",Be),this.ownState.svg.setAttribute("fill","red"),oe||(this.isDrawing=!1)}}}]),i}(),Oi=function(){function i(C){var K;(0,T.Z)(this,i),this.subscribers=[],this.updateOnChangeOnly=(K=C?.updateOnChangeOnly)!==null&&K!==void 0&&K,this.value=C?.initialState}return(0,S.Z)(i,[{key:"on",value:function(){for(var C,K=this,oe=arguments.length,we=new Array(oe),de=0;de<oe;de++)we[de]=arguments[de];var $=we.flat().filter(function(ne){return typeof ne=="function"});return(C=this.subscribers).push.apply(C,(0,d.Z)($)),function(){return K.off($)}}},{key:"off",value:function(){for(var C=arguments.length,K=new Array(C),oe=0;oe<C;oe++)K[oe]=arguments[oe];var we=K.flat();this.subscribers=this.subscribers.filter(function(de){return!we.includes(de)})}},{key:"trigger",value:function(){for(var C=arguments.length,K=new Array(C),oe=0;oe<C;oe++)K[oe]=arguments[oe];return this.updateOnChangeOnly&&this.value===K?[]:(this.value=K,this.subscribers.map(function(we){return we.apply(void 0,K)}))}},{key:"destroy",value:function(){this.subscribers=[],this.value=void 0}}]),i}();function fa(i,C){var K=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!K){if(Array.isArray(i)||(K=function(Pe,Be){if(Pe){if(typeof Pe=="string")return Qa(Pe,Be);var Fe=Object.prototype.toString.call(Pe).slice(8,-1);if(Fe==="Object"&&Pe.constructor&&(Fe=Pe.constructor.name),Fe==="Map"||Fe==="Set")return Array.from(Pe);if(Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return Qa(Pe,Be)}}(i))||C){K&&(i=K);var oe=0,we=function(){};return{s:we,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Pe){throw Pe},f:we}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,$=!0,ne=!1;return{s:function(){K=K.call(i)},n:function(){var Pe=K.next();return $=Pe.done,Pe},e:function(Pe){ne=!0,de=Pe},f:function(){try{$||K.return==null||K.return()}finally{if(ne)throw de}}}}function Qa(i,C){(C==null||C>i.length)&&(C=i.length);for(var K=0,oe=new Array(C);K<C;K++)oe[K]=i[K];return oe}function Sl(i){var C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var K,oe=(0,F.Z)(i);if(C){var we=(0,F.Z)(this).constructor;K=Reflect.construct(oe,arguments,we)}else K=oe.apply(this,arguments);return(0,Z.Z)(this,K)}}function wr(i,C){var K=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);C&&(oe=oe.filter(function(we){return Object.getOwnPropertyDescriptor(i,we).enumerable})),K.push.apply(K,oe)}return K}function Sr(i){for(var C=1;C<arguments.length;C++){var K=arguments[C]!=null?arguments[C]:{};C%2?wr(Object(K),!0).forEach(function(oe){(0,_.Z)(i,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(K)):wr(Object(K)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(K,oe))})}return i}var el=le().createContext(null),tl=le().createContext(null),nl={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},Pl=le().createContext(nl);Pl.displayName="DeviceContext";var rl=le().createContext({container:null,id:null});rl.displayName="ExcalidrawContainerContext";var fs=le().createContext([]);fs.displayName="ExcalidrawElementsContext";var ps=le().createContext(Sr(Sr({},(0,j.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));ps.displayName="ExcalidrawAppStateContext";var Oa=le().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});Oa.displayName="ExcalidrawSetAppStateContext";var hs=le().createContext(null);hs.displayName="ExcalidrawActionManagerContext";var Ps=function(){return(0,G.useContext)(el)},ms=function(){return(0,G.useContext)(tl)},ts=function(){return(0,G.useContext)(Pl)},Is=function(){return(0,G.useContext)(rl)},Ds=function(){return(0,G.useContext)(fs)},Ls=function(){return(0,G.useContext)(ps)},As=function(){return(0,G.useContext)(Oa)},Rs=function(){return(0,G.useContext)(hs)},Il=typeof window<"u"&&"ResizeObserver"in window,ol=!1,$a=0,il=!1,Dl=!1,gs=!1,pa={horizontal:null,vertical:null},Ia=0,Ha=!1,_a=new Map,Zs=!1,zs=0,dl=!1,Go=null,Qo={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},Ns=function(i){(0,c.Z)(de,i);var C,K,oe,we=Sl(de);function de($){var ne;(0,T.Z)(this,de),ne=we.call(this,$),Nc.call((0,a.Z)(ne));var Pe,Be=(0,j.im)(),Fe=$.excalidrawAPI,it=$.viewModeEnabled,st=it!==void 0&&it,vt=$.zenModeEnabled,jt=vt!==void 0&&vt,Lt=$.gridModeEnabled,Qt=Lt!==void 0&&Lt,vn=$.objectsSnapModeEnabled,$t=vn!==void 0&&vn,Ut=$.theme,tn=Ut===void 0?Be.theme:Ut,xn=$.name,Dn=xn===void 0?Be.name:xn;if(ne.state=Sr(Sr(Sr({},Be),{},{theme:tn,isLoading:!0},ne.getCanvasOffsets()),{},{viewModeEnabled:st,zenModeEnabled:jt,objectsSnapModeEnabled:$t,gridSize:Qt?r.k:null,name:Dn,width:window.innerWidth,height:window.innerHeight}),ne.id=(0,X.x0)(),ne.library=new ie.ZP((0,a.Z)(ne)),ne.scene=new P.Z,ne.canvas=document.createElement("canvas"),ne.rc=ve.Z.canvas(ne.canvas),ne.renderer=new Pr(ne.scene),Fe){var En={updateScene:ne.updateScene,updateLibrary:ne.library.updateLibrary,addFiles:ne.addFiles,resetScene:ne.resetScene,getSceneElementsIncludingDeleted:ne.getSceneElementsIncludingDeleted,history:{clear:ne.resetHistory},scrollToContent:ne.scrollToContent,getSceneElements:ne.getSceneElements,getAppState:function(){return ne.state},getFiles:function(){return ne.files},refresh:ne.refresh,setToast:ne.setToast,id:ne.id,setActiveTool:ne.setActiveTool,setCursor:ne.setCursor,resetCursor:ne.resetCursor,updateFrameRendering:ne.updateFrameRendering,toggleSidebar:ne.toggleSidebar,onChange:function(yn){return ne.onChangeEmitter.on(yn)},onPointerDown:function(yn){return ne.onPointerDownEmitter.on(yn)},onPointerUp:function(yn){return ne.onPointerUpEmitter.on(yn)}};typeof Fe=="function"?Fe(En):console.error("excalidrawAPI should be a function!")}return ne.excalidrawContainerValue={container:ne.excalidrawContainerRef.current,id:ne.id},ne.fonts=new mn({scene:ne.scene,onSceneUpdated:ne.onSceneUpdated}),ne.history=new Re,ne.actionManager=new W(ne.syncActionResult,function(){return ne.state},function(){return ne.scene.getElementsIncludingDeleted()},(0,a.Z)(ne)),ne.actionManager.registerAll(O.N),ne.actionManager.registerAction((Pe=ne.history,{name:"undo",trackEvent:{category:"history"},perform:function(yn,Un){return u(yn,Un,function(){return Pe.undoOnce()})},keyTest:function(yn){return yn[M.tW.CTRL_OR_CMD]&&yn.key.toLowerCase()===M.tW.Z&&!yn.shiftKey},PanelComponent:function(yn){var Un=yn.updateData,gr=yn.data;return(0,o.jsx)(R.V,{type:"button",icon:U.UE,"aria-label":(0,B.t)("buttons.undo"),onClick:Un,size:gr?.size||"medium"})},commitToHistory:function(){return!1}})),ne.actionManager.registerAction(function(yn){return{name:"redo",trackEvent:{category:"history"},perform:function(Un,gr){return u(Un,gr,function(){return yn.redoOnce()})},keyTest:function(Un){return Un[M.tW.CTRL_OR_CMD]&&Un.shiftKey&&Un.key.toLowerCase()===M.tW.Z||r.ED&&Un.ctrlKey&&!Un.shiftKey&&Un.key===M.tW.Y},PanelComponent:function(Un){var gr=Un.updateData,_r=Un.data;return(0,o.jsx)(R.V,{type:"button",icon:U.zG,"aria-label":(0,B.t)("buttons.redo"),onClick:gr,size:_r?.size||"medium"})},commitToHistory:function(){return!1}}}(ne.history)),ne}return(0,S.Z)(de,[{key:"onWindowMessage",value:function($){if($.origin==="https://player.vimeo.com"||$.origin==="https://www.youtube.com"){var ne=null;try{ne=JSON.parse($.data)}catch{}if(ne)switch($.origin){case"https://player.vimeo.com":if(ne.method==="paused"){var Pe,Be=null,Fe=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!Fe)break;var it,st=fa(Fe);try{for(st.s();!(it=st.n()).done;){var vt=it.value;vt.contentWindow===$.source&&(Be=vt.contentWindow)}}catch(Qt){st.e(Qt)}finally{st.f()}(Pe=Be)===null||Pe===void 0||Pe.postMessage(JSON.stringify({method:ne.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if(ne.event==="infoDelivery"&&ne.info&&ne.id&&typeof ne.info.playerState=="number"){var jt=ne.id,Lt=ne.info.playerState;Object.values(r.vf).includes(Lt)&&_a.set(jt,Lt)}}}}},{key:"updateEmbeddableRef",value:function($,ne){ne&&this.iFrameRefs.set($,ne)}},{key:"getHTMLIFrameElement",value:function($){return this.iFrameRefs.get($)}},{key:"handleEmbeddableCenterClick",value:function($){var ne,Pe,Be,Fe,it=this;if(((ne=this.state.activeEmbeddable)===null||ne===void 0?void 0:ne.element)!==$||((Pe=this.state.activeEmbeddable)===null||Pe===void 0?void 0:Pe.state)!=="active"){setTimeout(function(){it.setState({activeEmbeddable:{element:$,state:"active"},selectedElementIds:(0,_.Z)({},$.id,!0),draggingElement:null,selectionElement:null})},100);var st=this.getHTMLIFrameElement($.id);if(st!=null&&st.contentWindow){if(st.src.includes("youtube")){var vt=_a.get($.id);switch(vt||(_a.set($.id,r.vf.UNSTARTED),st.contentWindow.postMessage(JSON.stringify({event:"listening",id:$.id}),"*")),vt){case r.vf.PLAYING:case r.vf.BUFFERING:(Be=st.contentWindow)===null||Be===void 0||Be.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:(Fe=st.contentWindow)===null||Fe===void 0||Fe.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}st.src.includes("player.vimeo.com")&&st.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isEmbeddableCenter",value:function($,ne,Pe,Be){var Fe,it;return $&&!ne.altKey&&!ne.shiftKey&&!ne.metaKey&&!ne.ctrlKey&&(((Fe=this.state.activeEmbeddable)===null||Fe===void 0?void 0:Fe.element)!==$||((it=this.state.activeEmbeddable)===null||it===void 0?void 0:it.state)==="hover"||!this.state.activeEmbeddable)&&Pe>=$.x+$.width/3&&Pe<=$.x+2*$.width/3&&Be>=$.y+$.height/3&&Be<=$.y+2*$.height/3}},{key:"renderEmbeddables",value:function(){var $=this,ne=this.state.zoom.value,Pe=this.state.width,Be=this.state.height,Fe=this.scene.getNonDeletedElements().filter(function(it){return(0,ee.gs)(it)&&!!it.validated});return(0,o.jsx)(o.Fragment,{children:Fe.map(function(it){var st,vt,jt,Lt,Qt,vn,$t,Ut,tn,xn=(0,p._i)({sceneX:it.x,sceneY:it.y},$.state),Dn=xn.x,En=xn.y,yn=(0,D.LM)((0,Wn.ye)(it.link||"")),Un=(0,ke.PZ)(it,Pe,Be,$.state),gr=((st=$.state.activeEmbeddable)===null||st===void 0?void 0:st.element)===it&&((vt=$.state.activeEmbeddable)===null||vt===void 0?void 0:vt.state)==="active",_r=((jt=$.state.activeEmbeddable)===null||jt===void 0?void 0:jt.element)===it&&((Lt=$.state.activeEmbeddable)===null||Lt===void 0?void 0:Lt.state)==="hover";return(0,o.jsx)("div",{className:(0,fe.Z)("excalidraw__embeddable-container",{"is-hovered":_r}),style:(0,_.Z)({transform:Un?"translate(".concat(Dn-$.state.offsetLeft,"px, ").concat(En-$.state.offsetTop,"px) scale(").concat(ne,")"):"none",display:Un?"block":"none",opacity:it.opacity/100},"--embeddable-radius","".concat((0,xe.yW)(Math.min(it.width,it.height),it),"px")),children:(0,o.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:Un?"".concat(it.width,"px"):0,height:Un?"".concat(it.height,"px"):0,transform:Un?"rotate(".concat(it.angle,"rad)"):"none",pointerEvents:gr?r.XI.enabled:r.XI.disabled},children:[_r&&(0,o.jsx)("div",{className:"excalidraw__embeddable-hint",children:(0,B.t)("buttons.embeddableInteractionButton")}),(0,o.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(it.strokeWidth,"px")},children:(Qt=(vn=($t=$.props).renderEmbeddable)===null||vn===void 0?void 0:vn.call($t,it,$.state))!==null&&Qt!==void 0?Qt:(0,o.jsx)("iframe",{ref:function(zr){return $.updateEmbeddableRef(it.id,zr)},className:"excalidraw__embeddable",srcDoc:yn?.type==="document"?yn.srcdoc($.state.theme):void 0,src:yn?.type!=="document"?(Ut=yn?.link)!==null&&Ut!==void 0?Ut:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"".concat(yn!=null&&(tn=yn.sandbox)!==null&&tn!==void 0&&tn.allowSameOrigin?"allow-same-origin":""," allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads")})})]})},it.id)})})}},{key:"render",value:function(){var $,ne,Pe,Be=this,Fe=this.scene.getSelectedElements(this.state),it=this.props,st=it.renderTopRightUI,vt=it.renderCustomStats,jt=this.scene.getVersionNonce(),Lt=this.renderer.getRenderableElements({versionNonce:jt,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingElement:this.state.editingElement,pendingImageElementId:this.state.pendingImageElementId}),Qt=Lt.canvasElements,vn=Lt.visibleElements,$t=!(this.state.editingElement&&(0,ee.bt)(this.state.editingElement))&&(this.state.selectionElement||this.state.draggingElement||this.state.resizingElement||this.state.activeTool.type==="laser"&&this.state.cursorButton==="down"||this.state.editingElement&&!(0,ue.iB)(this.state.editingElement));return(0,o.jsx)("div",{className:(0,fe.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.editor.isMobile}),style:(0,_.Z)({},"--ui-pointerEvents",$t?r.XI.disabled:r.XI.enabled),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,o.jsx)(el.Provider,{value:this,children:(0,o.jsx)(tl.Provider,{value:this.props,children:(0,o.jsx)(rl.Provider,{value:this.excalidrawContainerValue,children:(0,o.jsx)(Pl.Provider,{value:this.device,children:(0,o.jsx)(Oa.Provider,{value:this.setAppState,children:(0,o.jsx)(ps.Provider,{value:this.state,children:(0,o.jsxs)(fs.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,o.jsxs)(hs.Provider,{value:this.actionManager,children:[(0,o.jsxs)(ja,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:(0,B.G3)().code,renderTopRightUI:st,renderCustomStats:vt,showExitZenModeBtn:(($=this.props)===null||$===void 0?void 0:$.zenModeEnabled)===void 0&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,children:[this.props.children,this.state.openDialog==="mermaid"&&(0,o.jsx)(xo,{})]}),(0,o.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,o.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,o.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,o.jsx)(Si,{manager:this.laserPathManager}),Fe.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,o.jsx)(Cn.nW,{element:Fe[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast},Fe[0].id),this.state.toast!==null&&(0,o.jsx)(wl,{message:this.state.toast.message,onClose:function(){return Be.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,o.jsx)(ct,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function(Ut){Be.setState({contextMenu:null},function(){Be.focusContainer(),Ut?.()})}}),(0,o.jsx)(ar,{canvas:this.canvas,rc:this.rc,elements:Qt,visibleElements:vn,versionNonce:jt,selectionNonce:(ne=this.state.selectionElement)===null||ne===void 0?void 0:ne.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!0}}),(0,o.jsx)(Vn,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elements:Qt,visibleElements:vn,selectedElements:Fe,versionNonce:jt,selectionNonce:(Pe=this.state.selectionElement)===null||Pe===void 0?void 0:Pe.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"componentDidMount",value:(oe=(0,b.Z)(x().mark(function $(){var ne,Pe=this;return x().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,r.Vi.TEST==="production"&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return Pe.state}},setState:{configurable:!0,value:function(){return Pe.setState.apply(Pe,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),(0,p.h2)()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),Il&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver(function(){Pe.refreshEditorBreakpoints(),Pe.updateDOMRect()}),(ne=this.resizeObserver)===null||ne===void 0||ne.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,r.jP)()&&!(0,Zt.eB)()&&this.setState({errorMessage:(0,o.jsx)(fn,{})});case 11:case"end":return Be.stop()}},$,this)})),function(){return oe.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var $;this.renderer.destroy(),this.scene=new P.Z,this.renderer=new Pr(this.scene),this.files={},this.imageCache.clear(),($=this.resizeObserver)===null||$===void 0||$.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),this.library.destroy(),this.laserPathManager.destroy(),this.onChangeEmitter.destroy(),Sa.R.destroy(),fo.destroy(),clearTimeout(Ia),ye.N.clearCache(),qe.bO.clearCache(),Ia=0}},{key:"removeEventListeners",value:function(){var $,ne,Pe,Be;document.removeEventListener(r.Ks.POINTER_UP,this.removePointer),document.removeEventListener(r.Ks.COPY,this.onCopy),document.removeEventListener(r.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(r.Ks.CUT,this.onCut),($=this.excalidrawContainerRef.current)===null||$===void 0||$.removeEventListener(r.Ks.WHEEL,this.onWheel),(ne=this.nearestScrollableContainer)===null||ne===void 0||ne.removeEventListener(r.Ks.SCROLL,this.onScroll),document.removeEventListener(r.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(r.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(r.Ks.KEYUP,this.onKeyUp),window.removeEventListener(r.Ks.RESIZE,this.onResize,!1),window.removeEventListener(r.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(r.Ks.BLUR,this.onBlur,!1),(Pe=this.excalidrawContainerRef.current)===null||Pe===void 0||Pe.removeEventListener(r.Ks.DRAG_OVER,this.disableEvent,!1),(Be=this.excalidrawContainerRef.current)===null||Be===void 0||Be.removeEventListener(r.Ks.DROP,this.disableEvent,!1),document.removeEventListener(r.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(r.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(r.Ks.GESTURE_END,this.onGestureEnd,!1),window.removeEventListener(r.Ks.MESSAGE,this.onWindowMessage,!1)}},{key:"addEventListeners",value:function(){var $,ne,Pe,Be,Fe,it=this;this.removeEventListeners(),window.addEventListener(r.Ks.MESSAGE,this.onWindowMessage,!1),document.addEventListener(r.Ks.POINTER_UP,this.removePointer),document.addEventListener(r.Ks.COPY,this.onCopy),($=this.excalidrawContainerRef.current)===null||$===void 0||$.addEventListener(r.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(r.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(r.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(r.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(ne=document.fonts)===null||ne===void 0||(Pe=ne.addEventListener)===null||Pe===void 0||Pe.call(ne,"loadingdone",function(st){var vt=st.fontfaces;it.fonts.onFontsLoaded(vt)}),document.addEventListener(r.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(r.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(r.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(r.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(r.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,p.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(r.Ks.SCROLL,this.onScroll)),window.addEventListener(r.Ks.RESIZE,this.onResize,!1),window.addEventListener(r.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(r.Ks.BLUR,this.onBlur,!1),(Be=this.excalidrawContainerRef.current)===null||Be===void 0||Be.addEventListener(r.Ks.DRAG_OVER,this.disableEvent,!1),(Fe=this.excalidrawContainerRef.current)===null||Fe===void 0||Fe.addEventListener(r.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function($,ne){var Pe,Be,Fe,it,st=this;this.updateEmbeddables(),this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),$.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),(ne.scrollX!==this.state.scrollX||ne.scrollY!==this.state.scrollY)&&((Fe=this.props)===null||Fe===void 0||(it=Fe.onScrollChange)===null||it===void 0||it.call(Fe,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,j.EN)(this.state)&&this.setState({activeTool:(0,p.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&ne.theme!==this.state.theme&&(0,gn.OF)(this.interactiveCanvas,this.state.theme),ne.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),$.langCode!==this.props.langCode&&this.updateLanguage(),$.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),ne.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),$.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),$.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),$.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?r.k:null}),this.props.name&&$.name!==this.props.name&&this.setState({name:this.props.name}),(Pe=this.excalidrawContainerRef.current)===null||Pe===void 0||Pe.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){st.state.editingLinearElement&&st.actionManager.executeAction(q.pL)}),(Be=this.state.editingElement)!==null&&Be!==void 0&&Be.isDeleted&&this.setState({editingElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var vt,jt,Lt=ne.multiElement;ne.activeTool!==this.state.activeTool&&Lt!=null&&(0,E.N1)(this.state)&&(0,ee.Mn)(Lt,!1)&&(0,E.R)(Lt,this.state,this.scene,(0,p.AK)(pe._.getPointAtIndexGlobalCoordinates(Lt,-1))),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||((vt=(jt=this.props).onChange)===null||vt===void 0||vt.call(jt,this.scene.getElementsIncludingDeleted(),this.state,this.files),this.onChangeEmitter.trigger(this.scene.getElementsIncludingDeleted(),this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:(K=(0,b.Z)(x().mark(function $(ne,Pe){var Be,Fe,it,st,vt,jt,Lt,Qt,vn,$t,Ut,tn,xn,Dn,En;return x().wrap(function(yn){for(;;)switch(yn.prev=yn.next){case 0:if(Be=Pe.isPlainPaste,Fe=Pe.sceneX,it=Pe.sceneY,Be||!ne.some(function(Un){return Un.type==="imageUrl"})||!this.isToolSupported("image")){yn.next=35;break}return st=ne.filter(function(Un){return Un.type==="imageUrl"}).map(function(Un){return Un.value}),yn.next=5,Promise.all(st.map(function(){var Un=(0,b.Z)(x().mark(function gr(_r){return x().wrap(function(zr){for(;;)switch(zr.prev=zr.next){case 0:return zr.prev=0,zr.next=3,(0,An._p)(_r);case 3:return zr.t0=zr.sent,zr.abrupt("return",{file:zr.t0});case 7:return zr.prev=7,zr.t1=zr.catch(0),zr.abrupt("return",{errorMessage:zr.t1.message});case 10:case"end":return zr.stop()}},gr,null,[[0,7]])}));return function(gr){return Un.apply(this,arguments)}}()));case 5:vt=yn.sent,jt=it,Lt=!1,Qt={},vn=fa(vt),yn.prev=10,vn.s();case 12:if(($t=vn.n()).done){yn.next=22;break}if(!(Ut=$t.value).file){yn.next=20;break}return tn=this.createImageElement({sceneX:Fe,sceneY:jt}),yn.next=18,this.insertImageElement(tn,Ut.file);case 18:(xn=yn.sent)&&(Lt||(Lt=!0,jt-=xn.height/2),(0,I.DR)(xn,{y:jt},!1),jt=tn.y+tn.height+25,Qt[tn.id]=!0);case 20:yn.next=12;break;case 22:yn.next=27;break;case 24:yn.prev=24,yn.t0=yn.catch(10),vn.e(yn.t0);case 27:return yn.prev=27,vn.f(),yn.finish(27);case 30:this.setState({selectedElementIds:(0,On.Oh)(Qt,this.state)}),Dn=vt.find(function(Un){return!!Un.errorMessage}),Dn&&Dn.errorMessage&&this.setState({errorMessage:Dn.errorMessage}),yn.next=37;break;case 35:(En=ne.filter(function(Un){return Un.type==="text"})).length&&this.addTextFromPaste(En.map(function(Un){return Un.value}).join(`

`),Be);case 37:case"end":return yn.stop()}},$,this,[[10,24,27,30]])})),function($,ne){return K.apply(this,arguments)})},{key:"addTextFromPaste",value:function($){var ne=this,Pe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Be=(0,p.dE)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),Fe=Be.x,it=Be.y,st={x:Fe,y:it,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:$,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:r.hs,locked:!1},vt=10,jt=it,Lt=Pe?[$]:$.split(`
`),Qt=Lt.reduce(function($t,Ut,tn){var xn=Ut.trim(),Dn=(0,Zt.PT)(st.fontFamily);if(xn.length){var En=ne.getTopLayerFrameAtSceneCoords({x:Fe,y:jt}),yn=(0,ue.VL)(Sr(Sr({},st),{},{x:Fe,y:jt,text:xn,lineHeight:Dn,frameId:En?En.id:null}));$t.push(yn),jt+=yn.height+vt}else{var Un;!((Un=Lt[tn-1])===null||Un===void 0)&&Un.trim()&&(jt+=(0,Zt.Rg)(st.fontSize,Dn)+vt)}return $t},[]);if(Qt.length!==0){var vn=Qt[0].frameId;vn?this.scene.insertElementsAtIndex(Qt,this.scene.getElementIndex(vn)):this.scene.replaceAllElements([].concat((0,d.Z)(this.scene.getElementsIncludingDeleted()),(0,d.Z)(Qt))),this.setState({selectedElementIds:(0,On.Oh)(Object.fromEntries(Qt.map(function($t){return[$t.id,!0]})),this.state)}),!Pe&&Qt.length>1&&dl===!1&&!this.device.editor.isMobile&&(this.setToast({message:(0,B.t)("toast.pasteAsSingleElement",{shortcut:(0,p.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),dl=!0),this.history.resumeRecording()}}},{key:"handleTextWysiwyg",value:function($,ne){var Pe=this,Be=ne.isExistingElement,Fe=Be!==void 0&&Be,it=function(st,vt,jt){Pe.scene.replaceAllElements((0,d.Z)(Pe.scene.getElementsIncludingDeleted().map(function(Lt){return Lt.id===$.id&&(0,ue.iB)(Lt)?(0,ue.N_)(Lt,{text:st,isDeleted:jt,originalText:vt}):Lt})))};(0,ue.b_)({id:$.id,canvas:this.canvas,getViewportCoords:function(st,vt){var jt=(0,p._i)({sceneX:st,sceneY:vt},Pe.state),Lt=jt.x,Qt=jt.y;return[Lt-Pe.state.offsetLeft,Qt-Pe.state.offsetTop]},onChange:(0,p.tH)(function(st){it(st,st,!1),(0,ue.qP)($)&&(0,E.Ww)($)}),onSubmit:(0,p.tH)(function(st){var vt=st.text,jt=st.viaKeyboard,Lt=st.originalText,Qt=!vt.trim();if(it(vt,Lt,Qt),!Qt&&jt){var vn=$.containerId?$.containerId:$.id;Pe.setState(function($t){return{selectedElementIds:(0,On.Oh)(Sr(Sr({},$t.selectedElementIds),{},(0,_.Z)({},vn,!0)),$t)}})}Qt&&(0,E.$q)(Pe.scene.getNonDeletedElements(),[$]),Qt&&!Fe||Pe.history.resumeRecording(),Pe.setState({draggingElement:null,editingElement:null}),Pe.state.activeTool.locked&&(0,gn.Uk)(Pe.interactiveCanvas,Pe.state),Pe.focusContainer()}),element:$,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),it($.text,$.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,On.Oh)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function($,ne){var Pe=this.getElementAtPosition($,ne,{includeBoundTextElement:!0});return Pe&&(0,ue.iB)(Pe)&&!Pe.isDeleted?Pe:null}},{key:"getElementAtPosition",value:function($,ne,Pe){var Be=this.getElementsAtPosition($,ne,Pe?.includeBoundTextElement,Pe?.includeLockedElements);if(Be.length>1){if(Pe!=null&&Pe.preferSelected){for(var Fe=Be.length-1;Fe>-1;Fe--)if(this.state.selectedElementIds[Be[Fe].id])return Be[Fe]}var it=Be[Be.length-1];return(0,ue.wB)(it,this.state,this.frameNameBoundsCache,$,ne)?Be[Be.length-2]:it}return Be.length===1?Be[0]:null}},{key:"getElementsAtPosition",value:function($,ne){var Pe=this,Be=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Fe=arguments.length>3&&arguments[3]!==void 0&&arguments[3],it=Be&&Fe?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(st){return(Fe||!st.locked)&&(Be||!((0,ue.iB)(st)&&st.containerId))});return(0,ye.CJ)(it,function(st){return(0,ue.wX)(st,Pe.state,Pe.frameNameBoundsCache,$,ne)}).filter(function(st){var vt=(0,Jt.$Z)(st);return!(vt&&Pe.state.frameRendering.enabled&&Pe.state.frameRendering.clip)||(0,Jt.Dn)({x:$,y:ne},vt)})}},{key:"handleHoverSelectedLinearElement",value:function($,ne,Pe){var Be=pe._.getElement($.elementId),Fe=(0,Zt.WJ)(Be);if(Be)if(this.state.selectedLinearElement){var it=-1,st=null;(0,en.Qu)(Be,this.state,this.frameNameBoundsCache,[ne,Pe])?(it=pe._.getPointIndexUnderCursor(Be,this.state.zoom,ne,Pe),st=pe._.getSegmentMidpointHitCoords($,{x:ne,y:Pe},this.state),it>=0||st?(0,gn.KJ)(this.interactiveCanvas,r.oc.POINTER):(0,gn.KJ)(this.interactiveCanvas,r.oc.MOVE)):((0,Ot.oY)([Be],this.state)&&(0,ue.wB)(Be,this.state,this.frameNameBoundsCache,ne,Pe)||Fe&&(0,ue.wX)(Fe,this.state,this.frameNameBoundsCache,ne,Pe))&&(0,gn.KJ)(this.interactiveCanvas,r.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==it&&this.setState({selectedLinearElement:Sr(Sr({},this.state.selectedLinearElement),{},{hoverPointIndex:it})}),pe._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,st)||this.setState({selectedLinearElement:Sr(Sr({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:st})})}else(0,gn.KJ)(this.interactiveCanvas,r.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function($){Go!==null&&Go($)}},{key:"updateGestureOnPointerDown",value:function($){Qo.pointers.set($.pointerId,{x:$.clientX,y:$.clientY}),Qo.pointers.size===2&&(Qo.lastCenter=me(Qo.pointers),Qo.initialScale=this.state.zoom.value,Qo.initialDistance=Te(Array.from(Qo.pointers.values())))}},{key:"initialPointerDownState",value:function($){var ne=(0,p.dE)($,this.state),Pe=this.scene.getSelectedElements(this.state),Be=(0,ue.KP)(Pe),Fe=(0,v.Z)(Be,4),it=Fe[0],st=Fe[1],vt=Fe[2],jt=Fe[3];return{origin:ne,withCmdOrCtrl:$[M.tW.CTRL_OR_CMD],originInGrid:(0,p.AK)((0,xe.wC)(ne.x,ne.y,$[M.tW.CTRL_OR_CMD]?null:this.state.gridSize)),scrollbars:(0,ye._4)(pa,$.clientX-this.state.offsetLeft,$.clientY-this.state.offsetTop),lastCoords:Sr({},ne),originalElements:this.scene.getNonDeletedElements().reduce(function(Lt,Qt){return Lt.set(Qt.id,(0,Q.OL)(Qt)),Lt},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(vt+it)/2,y:(jt+st)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(ne,Pe)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function($,ne){var Pe=this;if(!ne.scrollbars.isOverEither||this.state.multiElement)return!1;gs=!0,ne.lastCoords.x=$.clientX,ne.lastCoords.y=$.clientY;var Be=(0,p.$9)(function(it){it.target instanceof HTMLElement&&Pe.handlePointerMoveOverScrollbars(it,ne)}),Fe=(0,p.tH)(function(){gs=!1,(0,gn.Uk)(Pe.interactiveCanvas,Pe.state),Go=null,Pe.setState({cursorButton:"up"}),Pe.savePointer($.clientX,$.clientY,"up"),window.removeEventListener(r.Ks.POINTER_MOVE,Be),window.removeEventListener(r.Ks.POINTER_UP,Fe),Be.flush()});return Go=Fe,window.addEventListener(r.Ks.POINTER_MOVE,Be),window.addEventListener(r.Ks.POINTER_UP,Fe),!0}},{key:"isASelectedElement",value:function($){return $!=null&&this.state.selectedElementIds[$.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function($,ne){if(ne.length<2)return!1;var Pe=10/this.state.zoom.value,Be=(0,ue.KP)(ne),Fe=(0,v.Z)(Be,4),it=Fe[0],st=Fe[1],vt=Fe[2],jt=Fe[3];return $.x>it-Pe&&$.x<vt+Pe&&$.y>st-Pe&&$.y<jt+Pe}},{key:"getCurrentItemRoundness",value:function($){return this.state.currentItemRoundness==="round"?{type:(0,ee.QI)($)?r.a6.ADAPTIVE_RADIUS:r.a6.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function($,ne){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!Mo({event:$,appState:this.state,selectedElements:ne})||!Pe&&fo.getReferenceSnapPoints()||fo.setReferenceSnapPoints(Ye(this.scene.getNonDeletedElements(),ne,this.state))}},{key:"maybeCacheVisibleGaps",value:function($,ne){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!Mo({event:$,appState:this.state,selectedElements:ne})||!Pe&&fo.getVisibleGaps()||fo.setVisibleGaps(at(this.scene.getNonDeletedElements(),ne,this.state))}},{key:"onKeyDownFromPointerDownHandler",value:function($){var ne=this;return(0,p.tH)(function(Pe){ne.maybeHandleResize($,Pe)||ne.maybeDragNewGenericElement($,Pe)})}},{key:"onKeyUpFromPointerDownHandler",value:function($){var ne=this;return(0,p.tH)(function(Pe){Pe.key===M.tW.ALT&&Pe.preventDefault(),ne.maybeHandleResize($,Pe)||ne.maybeDragNewGenericElement($,Pe)})}},{key:"onPointerMoveFromPointerDownHandler",value:function($){var ne=this;return(0,p.$9)(function(Pe){var Be;if($.drag.offset===null&&($.drag.offset=(0,p.AK)((0,ue.$V)(ne.scene.getSelectedElements(ne.state),$.origin.x,$.origin.y))),Pe.target instanceof HTMLElement&&!ne.handlePointerMoveOverScrollbars(Pe,$)){var Fe=(0,p.dE)(Pe,ne.state);if((0,j.EN)(ne.state))ne.handleEraser(Pe,$,Fe);else{ne.state.activeTool.type==="laser"&&ne.laserPathManager.addPointToPath(Fe.x,Fe.y);var it=(0,xe.wC)(Fe.x,Fe.y,Pe[M.tW.CTRL_OR_CMD]?null:ne.state.gridSize),st=(0,v.Z)(it,2),vt=st[0],jt=st[1];if($.drag.hasOccurred||ne.state.activeTool.type!=="arrow"&&ne.state.activeTool.type!=="line"||!((0,xe.LW)(Fe.x,Fe.y,$.origin.x,$.origin.y)<r.f)){if($.resize.isResizing&&($.lastCoords.x=Fe.x,$.lastCoords.y=Fe.y,ne.maybeHandleResize($,Pe)))return!0;if(ne.state.selectedLinearElement){var Lt=ne.state.editingLinearElement||ne.state.selectedLinearElement;if(pe._.shouldAddMidpoint(ne.state.selectedLinearElement,Fe,ne.state)){var Qt=pe._.addMidpoint(ne.state.selectedLinearElement,Fe,ne.state,!Pe[M.tW.CTRL_OR_CMD]);return Qt?void(0,he.flushSync)(function(){ne.state.selectedLinearElement&&ne.setState({selectedLinearElement:Sr(Sr({},ne.state.selectedLinearElement),{},{pointerDownState:Qt.pointerDownState,selectedPointsIndices:Qt.selectedPointsIndices})}),ne.state.editingLinearElement&&ne.setState({editingLinearElement:Sr(Sr({},ne.state.editingLinearElement),{},{pointerDownState:Qt.pointerDownState,selectedPointsIndices:Qt.selectedPointsIndices})})}):void 0}if(Lt.pointerDownState.segmentMidpoint.value!==null&&!Lt.pointerDownState.segmentMidpoint.added)return;var vn=pe._.handlePointDragging(Pe,ne.state,Fe.x,Fe.y,function(wo,ci){ne.maybeSuggestBindingsForLinearElementAtCoords(wo,ci)},Lt);if(vn)return $.lastCoords.x=Fe.x,$.lastCoords.y=Fe.y,$.drag.hasOccurred=!0,ne.state.editingLinearElement&&!ne.state.editingLinearElement.isDragging&&ne.setState({editingLinearElement:Sr(Sr({},ne.state.editingLinearElement),{},{isDragging:!0})}),void(ne.state.selectedLinearElement.isDragging||ne.setState({selectedLinearElement:Sr(Sr({},ne.state.selectedLinearElement),{},{isDragging:!0})}))}var $t=$.hit.allHitElements.some(function(wo){return ne.isASelectedElement(wo)}),Ut=ne.state.editingLinearElement&&Pe.shiftKey&&ne.state.editingLinearElement.elementId===((Be=$.hit.element)===null||Be===void 0?void 0:Be.id);if(($t||$.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!Ut){var tn,xn=ne.scene.getSelectedElements(ne.state);if(xn.every(function(wo){return wo.locked}))return;var Dn=xn.find(function(wo){return(0,ee.He)(wo)}),En=ne.getTopLayerFrameAtSceneCoords(Fe);if(ne.setState({frameToHighlight:En&&!Dn?En:null}),$.drag.hasOccurred=!0,ne.setState({selectedElementsAreBeingDragged:!0}),xn.length>0&&!$.withCmdOrCtrl&&!ne.state.editingElement&&((tn=ne.state.activeEmbeddable)===null||tn===void 0?void 0:tn.state)!=="active"){var yn={x:Fe.x-$.origin.x,y:Fe.y-$.origin.y},Un=(0,d.Z)($.originalElements.values()),gr=Pe.shiftKey;if(gr){var _r=Math.abs(yn.x),zr=Math.abs(yn.y),Qr=gr&&_r>zr;gr&&_r<zr&&(yn.x=0),Qr&&(yn.y=0)}ne.maybeCacheVisibleGaps(Pe,xn),ne.maybeCacheReferenceSnapPoints(Pe,xn);var ao=function(wo,ci,Xi,fl){var Ll,rs,Hl,al;if(!Mo({appState:Xi,event:fl,selectedElements:wo})||wo.length===0)return{snapOffset:{x:0,y:0},snapLines:[]};ci.x=lt(ci.x),ci.y=lt(ci.y);var ba=[],ll=[],Da=so(Xi.zoom.value),os={x:Da,y:Da},pl=Zi(wo,{dragOffset:ci});Xe(wo,pl,Xi,fl,ba,ll,os),Me(wo,ci,Xi,fl,ba,ll,os);var is={x:(Ll=(rs=ba[0])===null||rs===void 0?void 0:rs.offset)!==null&&Ll!==void 0?Ll:0,y:(Hl=(al=ll[0])===null||al===void 0?void 0:al.offset)!==null&&Hl!==void 0?Hl:0};os.x=0,os.y=0,ba.length=0,ll.length=0;var Bs={x:lt(ci.x+is.x),y:lt(ci.y+is.y)};Xe(wo,Zi(wo,{dragOffset:Bs}),Xi,fl,ba,ll,os),Me(wo,Bs,Xi,fl,ba,ll,os);var tc=Ct(ba,ll),Bc=_t(wo,Bs,[].concat(ba,ll).filter(function(Rd){return Rd.type==="gap"}));return{snapOffset:is,snapLines:[].concat(tc,Bc)}}((0,ye.eD)(Un,ne.state),yn,ne.state,Pe),Rr=ao.snapOffset,Nr=ao.snapLines;if(ne.setState({snapLines:Nr}),!ne.state.editingFrame&&(0,ue.o8)($,xn,yn,ne.state,ne.scene,Rr,Pe[M.tW.CTRL_OR_CMD]?null:ne.state.gridSize),ne.maybeSuggestBindingForAll(xn),Pe.altKey&&!$.hit.hasBeenDuplicated){$.hit.hasBeenDuplicated=!0;var Fr,Ur=[],ho=[],So=new Map,_o=new Map,To=$.hit.element,vo=new Set(ne.scene.getSelectedElements({selectedElementIds:ne.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map(function(wo){return wo.id})),oo=fa(ne.scene.getElementsIncludingDeleted());try{for(oo.s();!(Fr=oo.n()).done;){var Lo=Fr.value;if(vo.has(Lo.id)||Lo.id===To?.id&&$.hit.wasAddedToSelection){var Ko=(0,ue.Sy)(ne.state.editingGroupId,So,Lo),Xo=$.originalElements.get(Lo.id);(0,I.DR)(Ko,{x:Xo.x,y:Xo.y}),$.originalElements.set(Ko.id,Ko),Ur.push(Ko),ho.push(Lo),_o.set(Lo.id,Ko.id)}else Ur.push(Lo)}}catch(wo){oo.e(wo)}finally{oo.f()}var zo=[].concat(Ur,ho);(0,Zt.P7)(Ur,ho,_o),(0,E.ek)(zo,ho,_o,"duplicatesServeAsOld"),(0,Jt.xr)(zo,ho,_o),ne.scene.replaceAllElements(zo),ne.maybeCacheVisibleGaps(Pe,xn,!0),ne.maybeCacheReferenceSnapPoints(Pe,xn,!0)}return}}var to=ne.state.draggingElement;if(to){if(to.type==="freedraw"){var qo=to.points,Po=Fe.x-to.x,$o=Fe.y-to.y,qi=qo.length>0&&qo[qo.length-1];if(!(qi&&qi[0]===Po&&qi[1]===$o)){var mo=to.simulatePressure?to.pressures:[].concat((0,d.Z)(to.pressures),[Pe.pressure]);(0,I.DR)(to,{points:[].concat((0,d.Z)(qo),[[Po,$o]]),pressures:mo})}}else if((0,ee.bt)(to)){$.drag.hasOccurred=!0,ne.setState({selectedElementsAreBeingDragged:!0});var eo=to.points,ko=vt-to.x,ti=jt-to.y;if((0,M.Ge)(Pe)&&eo.length===2){var ai=(0,ue.o4)(to.x,to.y,Fe.x,Fe.y);ko=ai.width,ti=ai.height}eo.length===1?(0,I.DR)(to,{points:[].concat((0,d.Z)(eo),[[ko,ti]])}):eo.length===2&&(0,I.DR)(to,{points:[].concat((0,d.Z)(eo.slice(0,-1)),[[ko,ti]])}),(0,ee.Mn)(to,!1)&&ne.maybeSuggestBindingsForLinearElementAtCoords(to,[Fe],ne.state.startBoundElement)}else $.lastCoords.x=Fe.x,$.lastCoords.y=Fe.y,ne.maybeDragNewGenericElement($,Pe);if(ne.state.activeTool.type==="selection"){$.boxSelection.hasOccurred=!0;var fi=ne.scene.getNonDeletedElements();if(ne.state.editingLinearElement)pe._.handleBoxSelection(Pe,ne.state,ne.setState.bind(ne));else{var Ei=!0;!Pe.shiftKey&&(0,ye.N)(fi,ne.state)&&($.withCmdOrCtrl&&$.hit.element?ne.setState(function(wo){return(0,qe.bO)(Sr(Sr({},wo),{},{selectedElementIds:(0,_.Z)({},$.hit.element.id,!0)}),ne.scene.getNonDeletedElements(),wo,ne)}):Ei=!1);var No=(0,ye.Yp)(fi,to);ne.setState(function(wo){var ci=Sr(Sr({},Ei&&wo.selectedElementIds),No.reduce(function(Xi,fl){return Xi[fl.id]=!0,Xi},{}));return $.hit.element&&(No.length?delete ci[$.hit.element.id]:ci[$.hit.element.id]=!0),wo=Ei?wo:Sr(Sr({},wo),{},{selectedGroupIds:{},editingGroupId:null}),Sr(Sr({},(0,qe.bO)({editingGroupId:wo.editingGroupId,selectedElementIds:ci},ne.scene.getNonDeletedElements(),wo,ne)),{},{selectedLinearElement:No.length===1&&(0,ee.bt)(No[0])?new pe._(No[0],ne.scene):null,showHyperlinkPopup:!(No.length!==1||!No[0].link&&!(0,ee.gs)(No[0]))&&"info"})})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function($,ne){if(ne.scrollbars.isOverHorizontal){var Pe=$.clientX,Be=Pe-ne.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-Be/this.state.zoom.value}),ne.lastCoords.x=Pe,!0}if(ne.scrollbars.isOverVertical){var Fe=$.clientY,it=Fe-ne.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-it/this.state.zoom.value}),ne.lastCoords.y=Fe,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function($){var ne=this;return(0,p.tH)(function(Pe){var Be;$.eventListeners.onMove&&$.eventListeners.onMove.flush();var Fe,it,st=ne.state,vt=st.draggingElement,jt=st.resizingElement,Lt=st.multiElement,Qt=st.activeTool,vn=st.isResizing,$t=st.isRotating;if(ne.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",editingElement:Lt||(0,ue.iB)(ne.state.editingElement)?ne.state.editingElement:null,snapLines:[],originSnapOffset:null}),fo.setReferenceSnapPoints(null),fo.setVisibleGaps(null),ne.savePointer(Pe.clientX,Pe.clientY,"up"),ne.setState({selectedElementsAreBeingDragged:!1}),ne.state.editingLinearElement)if($.boxSelection.hasOccurred||((Fe=$.hit)===null||Fe===void 0||(it=Fe.element)===null||it===void 0?void 0:it.id)===ne.state.editingLinearElement.elementId){var Ut=pe._.handlePointerUp(Pe,ne.state.editingLinearElement,ne.state);Ut!==ne.state.editingLinearElement&&ne.setState({editingLinearElement:Ut,suggestedBindings:[]})}else ne.actionManager.executeAction(q.pL);else if(ne.state.selectedLinearElement){var tn,xn;if(((tn=$.hit)===null||tn===void 0||(xn=tn.element)===null||xn===void 0?void 0:xn.id)!==ne.state.selectedLinearElement.elementId)ne.scene.getSelectedElements(ne.state).length>1&&ne.setState({selectedLinearElement:null});else{var Dn=pe._.handlePointerUp(Pe,ne.state.selectedLinearElement,ne.state),En=Dn.startBindingElement,yn=Dn.endBindingElement,Un=ne.scene.getElement(Dn.elementId);(0,ee.Mn)(Un)&&(0,E.HG)(Un,En,yn),Dn!==ne.state.selectedLinearElement&&ne.setState({selectedLinearElement:Sr(Sr({},Dn),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(Go=null,window.removeEventListener(r.Ks.POINTER_MOVE,$.eventListeners.onMove),window.removeEventListener(r.Ks.POINTER_UP,$.eventListeners.onUp),window.removeEventListener(r.Ks.KEYDOWN,$.eventListeners.onKeyDown),window.removeEventListener(r.Ks.KEYUP,$.eventListeners.onKeyUp),ne.state.pendingImageElementId&&ne.setState({pendingImageElementId:null}),ne.onPointerUpEmitter.trigger(ne.state.activeTool,$,Pe),vt?.type==="freedraw"){var gr=(0,p.dE)(Pe,ne.state),_r=vt.points,zr=gr.x-vt.x,Qr=gr.y-vt.y;zr===_r[0][0]&&Qr===_r[0][1]&&(Qr+=1e-4,zr+=1e-4);var ao=vt.simulatePressure?[]:[].concat((0,d.Z)(vt.pressures),[Pe.pressure]);return(0,I.DR)(vt,{points:[].concat((0,d.Z)(_r),[[zr,Qr]]),pressures:ao,lastCommittedPoint:[zr,Qr]}),void ne.actionManager.executeAction(q.pL)}if((0,ee.pC)(vt)){var Rr=vt;try{ne.initializeImageDimensions(Rr),ne.setState({selectedElementIds:(0,On.Oh)((0,_.Z)({},Rr.id,!0),ne.state)},function(){ne.actionManager.executeAction(q.pL)})}catch(eo){console.error(eo),ne.scene.replaceAllElements(ne.scene.getElementsIncludingDeleted().filter(function(ko){return ko.id!==Rr.id})),ne.actionManager.executeAction(q.pL)}}else if((0,ee.bt)(vt)){vt.points.length>1&&ne.history.resumeRecording();var Nr=(0,p.dE)(Pe,ne.state);$.drag.hasOccurred||!vt||Lt?$.drag.hasOccurred&&!Lt&&((0,E.N1)(ne.state)&&(0,ee.Mn)(vt,!1)&&(0,E.R)(vt,ne.state,ne.scene,Nr),ne.setState({suggestedBindings:[],startBoundElement:null}),Qt.locked?ne.setState(function(eo){return{draggingElement:null}}):((0,gn.z8)(ne.interactiveCanvas),ne.setState(function(eo){return{draggingElement:null,activeTool:(0,p.Om)(ne.state,{type:"selection"}),selectedElementIds:(0,On.Oh)(Sr(Sr({},eo.selectedElementIds),{},(0,_.Z)({},vt.id,!0)),eo),selectedLinearElement:new pe._(vt,ne.scene)}}))):((0,I.DR)(vt,{points:[].concat((0,d.Z)(vt.points),[[Nr.x-vt.x,Nr.y-vt.y]])}),ne.setState({multiElement:vt,editingElement:ne.state.draggingElement}))}else{if(Qt.type!=="selection"&&vt&&(0,ue.QD)(vt))return ne.scene.replaceAllElements(ne.scene.getElementsIncludingDeleted().filter(function(eo){return eo.id!==vt.id})),void ne.setState({draggingElement:null});if(vt){if($.drag.hasOccurred){var Fr=(0,p.dE)(Pe,ne.state);if(ne.state.selectedLinearElement&&ne.state.selectedLinearElement.isDragging){var Ur=ne.scene.getElement(ne.state.selectedLinearElement.elementId);if(Ur!=null&&Ur.frameId){var ho=(0,Jt.$Z)(Ur);ho&&Ur&&((0,Jt.cO)(Ur,ho)||((0,I.DR)(Ur,{groupIds:[]}),ne.scene.replaceAllElements((0,Jt.lz)(ne.scene.getElementsIncludingDeleted(),[Ur],ne.state))))}}else{var So=ne.getTopLayerFrameAtSceneCoords(Fr),_o=ne.scene.getSelectedElements(ne.state),To=ne.scene.getElementsIncludingDeleted(),vo=function(eo){if(eo.length>0){var ko,ti=fa(eo);try{for(ti.s();!(ko=ti.n()).done;){var ai=ko.value,fi=ai.groupIds.indexOf(ne.state.editingGroupId);(0,I.DR)(ai,{groupIds:ai.groupIds.slice(0,fi)},!1)}}catch(Ei){ti.e(Ei)}finally{ti.f()}To.forEach(function(Ei){Ei.groupIds.length&&(0,qe.Fb)(To,Ei.groupIds[Ei.groupIds.length-1]).length<2&&(0,I.DR)(Ei,{groupIds:[]},!1)}),ne.setState({editingGroupId:null})}};if(So&&!ne.state.selectedElementIds[So.id]){var oo=_o.filter(function(eo){return eo.frameId!==So.id&&(0,Jt.Qs)(eo,To,ne.state)});ne.state.editingGroupId&&vo(oo),To=(0,Jt.A_)(To,oo,So)}else if(!So&&ne.state.editingGroupId){var Lo=_o.filter(function(eo){return eo.frameId&&!(0,Jt.Qs)(eo,To,ne.state)});vo(Lo)}To=(0,Jt.Tq)(To,ne.state,ne),ne.scene.replaceAllElements(To)}}if(vt.type==="frame"){var Ko=(0,Jt.fj)(ne.scene.getElementsIncludingDeleted(),vt);ne.scene.replaceAllElements((0,Jt.A_)(ne.scene.getElementsIncludingDeleted(),Ko,vt))}(0,I.DR)(vt,(0,ue.Qp)(vt))}if(jt&&ne.history.resumeRecording(),jt&&(0,ue.QD)(jt)&&ne.scene.replaceAllElements(ne.scene.getElementsIncludingDeleted().filter(function(eo){return eo.id!==jt.id})),$.resize.isResizing){var Xo,zo=(0,Jt.Tq)(ne.scene.getElementsIncludingDeleted(),ne.state,ne),to=ne.scene.getSelectedElements(ne.state).filter(function(eo){return eo.type==="frame"}),qo=fa(to);try{for(qo.s();!(Xo=qo.n()).done;){var Po=Xo.value;zo=(0,Jt.pr)(zo,(0,Jt.ni)(ne.scene.getElementsIncludingDeleted(),Po,ne.state),Po,ne.state)}}catch(eo){qo.e(eo)}finally{qo.f()}ne.scene.replaceAllElements(zo)}var $o=$.hit.element;if(((Be=ne.state.selectedLinearElement)===null||Be===void 0?void 0:Be.elementId)!==$o?.id&&(0,ee.bt)($o)&&ne.scene.getSelectedElements(ne.state).length===1&&ne.setState({selectedLinearElement:new pe._($o,ne.scene)}),(0,j.EN)(ne.state)){if((0,xe.LW)(ne.lastPointerDownEvent.clientX,ne.lastPointerDownEvent.clientY,ne.lastPointerUpEvent.clientX,ne.lastPointerUpEvent.clientY)===0){var qi=(0,p.dE)({clientX:ne.lastPointerUpEvent.clientX,clientY:ne.lastPointerUpEvent.clientY},ne.state);ne.getElementsAtPosition(qi.x,qi.y).forEach(function(eo){return $.elementIdsToErase[eo.id]={erase:!0,opacity:eo.opacity}})}ne.eraseElements($)}else{var mo;Object.keys($.elementIdsToErase).length&&ne.restoreReadyToEraseElements($),$o&&!$.drag.hasOccurred&&!$.hit.wasAddedToSelection&&(!ne.state.editingLinearElement||!$.boxSelection.hasOccurred)&&(Pe.shiftKey&&!ne.state.editingLinearElement?ne.state.selectedElementIds[$o.id]?(0,qe.zq)(ne.state,$o)?ne.setState(function(eo){var ko,ti=Sr({},eo.selectedElementIds),ai=fa($o.groupIds.flatMap(function(fi){return(0,qe.Fb)(ne.scene.getNonDeletedElements(),fi)}));try{for(ai.s();!(ko=ai.n()).done;)delete ti[ko.value.id]}catch(fi){ai.e(fi)}finally{ai.f()}return{selectedGroupIds:Sr(Sr({},eo.selectedElementIds),$o.groupIds.map(function(fi){return(0,_.Z)({},fi,!1)}).reduce(function(fi,Ei){return Sr(Sr({},fi),Ei)},{})),selectedElementIds:(0,On.Oh)(ti,eo)}}):(mo=ne.state.selectedLinearElement)!==null&&mo!==void 0&&mo.isDragging||ne.setState(function(eo){var ko=Sr({},eo.selectedElementIds);delete ko[$o.id];var ti=(0,ye.eD)(ne.scene.getNonDeletedElements(),{selectedElementIds:ko});return Sr(Sr({},(0,qe.bO)({editingGroupId:eo.editingGroupId,selectedElementIds:ko},ne.scene.getNonDeletedElements(),eo,ne)),{},{selectedLinearElement:ti.length===1&&(0,ee.bt)(ti[0])?new pe._(ti[0],ne.scene):eo.selectedLinearElement})}):$o.frameId&&ne.state.selectedElementIds[$o.frameId]?ne.setState(function(eo){var ko,ti,ai=Sr(Sr({},eo.selectedElementIds),{},(0,_.Z)({},$o.id,!0));return delete ai[$o.frameId],((ko=(ti=ne.scene.getElement($o.frameId))===null||ti===void 0?void 0:ti.groupIds)!==null&&ko!==void 0?ko:[]).flatMap(function(fi){return(0,qe.Fb)(ne.scene.getNonDeletedElements(),fi)}).forEach(function(fi){delete ai[fi.id]}),Sr(Sr({},(0,qe.bO)({editingGroupId:eo.editingGroupId,selectedElementIds:ai},ne.scene.getNonDeletedElements(),eo,ne)),{},{showHyperlinkPopup:!(!$o.link&&!(0,ee.gs)($o))&&"info"})}):ne.setState(function(eo){return{selectedElementIds:(0,On.Oh)(Sr(Sr({},eo.selectedElementIds),{},(0,_.Z)({},$o.id,!0)),eo)}}):ne.setState(function(eo){var ko;return Sr(Sr({},(0,qe.bO)({editingGroupId:eo.editingGroupId,selectedElementIds:(0,_.Z)({},$o.id,!0)},ne.scene.getNonDeletedElements(),eo,ne)),{},{selectedLinearElement:(0,ee.bt)($o)&&((ko=eo.selectedLinearElement)===null||ko===void 0?void 0:ko.elementId)!==$o.id?new pe._($o,ne.scene):eo.selectedLinearElement})})),$.drag.hasOccurred||ne.state.isResizing||!($o&&(0,ue.wB)($o,ne.state,ne.frameNameBoundsCache,$.origin.x,$.origin.y)||!$o&&$.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Qt.locked&&Qt.type!=="freedraw"&&vt&&vt.type!=="selection"&&ne.setState(function(eo){return{selectedElementIds:(0,On.Oh)(Sr(Sr({},eo.selectedElementIds),{},(0,_.Z)({},vt.id,!0)),eo),showHyperlinkPopup:(0,ee.gs)(vt)&&!vt.link?"editor":eo.showHyperlinkPopup}}),(Qt.type!=="selection"||(0,ye.N)(ne.scene.getNonDeletedElements(),ne.state))&&ne.history.resumeRecording(),($.drag.hasOccurred||vn||$t)&&((0,E.N1)(ne.state)?E.el:E.H)(ne.scene.getSelectedElements(ne.state)),Qt.type!=="laser"?(Qt.locked||Qt.type==="freedraw"?ne.setState({draggingElement:null,suggestedBindings:[]}):((0,gn.z8)(ne.interactiveCanvas),ne.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,p.Om)(ne.state,{type:"selection"})})),$o&&ne.lastPointerUpEvent&&ne.lastPointerDownEvent&&ne.lastPointerUpEvent.timeStamp-ne.lastPointerDownEvent.timeStamp<300&&Qo.pointers.size<=1&&(0,ee.gs)($o)&&ne.isEmbeddableCenter($o,ne.lastPointerUpEvent,$.origin.x,$.origin.y)&&ne.handleEmbeddableCenterClick($o)):ne.laserPathManager.endPath()):ne.state.editingLinearElement?ne.setState({editingLinearElement:null}):ne.setState({selectedElementIds:(0,On.Oh)({},ne.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}}})}},{key:"maybeSuggestBindingForAll",value:function($){if(!($.length>50)){var ne=(0,E.ZB)($);this.setState({suggestedBindings:ne})}}},{key:"clearSelection",value:function($){this.setState(function(ne){return{selectedElementIds:(0,On.Oh)({},ne),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:ne.editingGroupId&&$!=null&&(0,qe.Nd)($,ne.editingGroupId)?ne.editingGroupId:null}}),this.setState({selectedElementIds:(0,On.Oh)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function($,ne,Pe,Be){if(Be){var Fe=Be.x+Be.width/2,it=Be.y+Be.height/2,st=(0,Zt.TP)(Be,Pe);if(st&&(Fe=st.x,it=st.y),Math.hypot($-Fe,ne-it)<r.wZ){var vt=(0,p._i)({sceneX:Fe,sceneY:it},Pe);return{viewportX:vt.x,viewportY:vt.y,elementCenterX:Fe,elementCenterY:it}}}}},{key:"getCanvasOffsets",value:function(){var $;if(($=this.excalidrawContainerRef)!==null&&$!==void 0&&$.current){var ne=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:ne.left,offsetTop:ne.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(C=(0,b.Z)(x().mark(function $(){var ne,Pe=this;return x().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return ne=B.Mj.find(function(Fe){return Fe.code===Pe.props.langCode})||B.Fp,Be.next=3,(0,B.m0)(ne);case 3:this.setAppState({});case 4:case"end":return Be.stop()}},$,this)})),function(){return C.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){ol=!1}}]),de}(le().Component);Ns.defaultProps={UIOptions:r.cW};var Nc=function(){var i=this;this.interactiveCanvas=null,this.unmounted=!1,this.device=nl,this.excalidrawContainerRef=le().createRef(),this.files={},this.imageCache=new Map,this.iFrameRefs=new Map,this.lastPointerDownEvent=null,this.lastPointerUpEvent=null,this.lastViewportPosition={x:0,y:0},this.laserPathManager=new Fi(this),this.onChangeEmitter=new Oi,this.onPointerDownEmitter=new Oi,this.onPointerUpEmitter=new Oi,this.updateEmbeddables=function(){var C=new Map,K=!1;i.scene.getNonDeletedElements().filter(function(oe){if((0,ee.gs)(oe)&&(C.set(oe.id,!0),oe.validated==null)){K=!0;var we=(0,D.xm)(oe.link,i.props.validateEmbeddable);(0,I.DR)(oe,{validated:we},!1),Sa.R.delete(oe)}return!1}),K&&i.scene.informMutation(),i.iFrameRefs.forEach(function(oe,we){C.has(we)||i.iFrameRefs.delete(we)})},this.getFrameNameDOMId=function(C){return"".concat(i.id,"-frame-name-").concat(C.id)},this.frameNameBoundsCache={get:function(C){var K=i.frameNameBoundsCache._cache.get(C.id);if(!K||K.zoom!==i.state.zoom.value||K.versionNonce!==C.versionNonce){var oe=document.getElementById(i.getFrameNameDOMId(C));if(oe){var we=oe.getBoundingClientRect(),de=(0,p.dE)({clientX:we.x,clientY:we.y},i.state),$=(0,p.dE)({clientX:we.right,clientY:we.bottom},i.state);return K={x:de.x,y:de.y,width:$.x-de.x,height:$.y-de.y,angle:0,zoom:i.state.zoom.value,versionNonce:C.versionNonce},i.frameNameBoundsCache._cache.set(C.id,K),K}return null}return K},_cache:new Map},this.renderFrameNames=function(){if(!i.state.frameRendering.enabled||!i.state.frameRendering.name)return null;var C=i.state.theme==="dark";return i.scene.getNonDeletedFrames().map(function(K,oe){if(!(0,ke.PZ)(K,i.canvas.width/window.devicePixelRatio,i.canvas.height/window.devicePixelRatio,{offsetLeft:i.state.offsetLeft,offsetTop:i.state.offsetTop,scrollX:i.state.scrollX,scrollY:i.state.scrollY,zoom:i.state.zoom}))return null;var we,de=(0,p._i)({sceneX:K.x,sceneY:K.y},i.state),$=de.x,ne=de.y,Pe=function(){var Fe;((Fe=K.name)===null||Fe===void 0?void 0:Fe.trim())===""&&(0,I.DR)(K,{name:null}),i.setState({editingFrame:null})};if(K.id===i.state.editingFrame){var Be=K.name==null?"Frame ".concat(oe+1):K.name;we=(0,o.jsx)("input",{autoFocus:!0,value:Be,onChange:function(Fe){(0,I.DR)(K,{name:Fe.target.value})},onBlur:function(){return Pe()},onKeyDown:function(Fe){Fe.key!==M.tW.ESCAPE&&Fe.key!==M.tW.ENTER||Pe()},style:{background:i.state.viewBackgroundColor,filter:C?r.ZF:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:"translate(-".concat(6,"px, ").concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(document.body.clientWidth-$-6,"px")},size:Be.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else we=K.name==null||K.name.trim()===""?"Frame ".concat(oe+1):K.name.trim();return(0,o.jsx)("div",{id:i.getFrameNameDOMId(K),style:{position:"absolute",bottom:"".concat(i.state.height+r.iG.nameOffsetY-ne+i.state.offsetTop,"px"),left:"".concat($-i.state.offsetLeft,"px"),zIndex:2,fontSize:r.iG.nameFontSize,color:C?r.iG.nameColorDarkTheme:r.iG.nameColorLightTheme,lineHeight:r.iG.nameLineHeight,width:"max-content",maxWidth:"".concat(K.width,"px"),overflow:K.id===i.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:r.oc.MOVE,pointerEvents:i.state.viewModeEnabled?r.XI.disabled:r.XI.enabled},onPointerDown:function(Fe){return i.handleCanvasPointerDown(Fe)},onWheel:function(Fe){return i.handleWheel(Fe)},onContextMenu:i.handleCanvasContextMenu,onDoubleClick:function(){i.setState({editingFrame:K.id})},children:we},K.id)})},this.focusContainer=function(){var C;(C=i.excalidrawContainerRef.current)===null||C===void 0||C.focus()},this.getSceneElementsIncludingDeleted=function(){return i.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return i.scene.getNonDeletedElements()},this.onInsertElements=function(C){i.addElementsFromPasteOrLibrary({elements:C,position:"center",files:null})},this.onExportImage=function(){var C=(0,b.Z)(x().mark(function K(oe,we,de){var $;return x().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return(0,k.L)("export",oe,"ui"),ne.next=3,(0,V.p1)(oe,we,i.state,i.files,{exportBackground:i.state.exportBackground,name:i.state.name,viewBackgroundColor:i.state.viewBackgroundColor,exportingFrame:de.exportingFrame}).catch(p.FG).catch(function(Pe){console.error(Pe),i.setState({errorMessage:Pe.message})});case 3:$=ne.sent,i.state.exportEmbedScene&&$&&(0,An.g8)($)&&i.setState({fileHandle:$});case 5:case"end":return ne.stop()}},K)}));return function(K,oe,we){return C.apply(this,arguments)}}(),this.openEyeDropper=function(C){var K=C.type;ra.e_.set(Ra.$,{swapPreviewOnAlt:!0,colorPickerType:K==="stroke"?"elementStroke":"elementBackground",onSelect:function(oe,we){var de=K==="background"&&we.altKey||K==="stroke"&&!we.altKey;i.scene.getSelectedElements(i.state).length&&i.state.activeTool.type==="selection"?i.updateScene({elements:i.scene.getElementsIncludingDeleted().map(function($){return i.state.selectedElementIds[$.id]?(0,I.BE)($,(0,_.Z)({},de?"strokeColor":"backgroundColor",oe)):$})}):de?i.syncActionResult({appState:Sr(Sr({},i.state),{},{currentItemStrokeColor:oe}),commitToHistory:!0}):i.syncActionResult({appState:Sr(Sr({},i.state),{},{currentItemBackgroundColor:oe}),commitToHistory:!0})},keepOpenOnAlt:!1})},this.syncActionResult=(0,p.tH)(function(C){if(!i.unmounted&&C!==!1){var K=null;if(C.elements&&(C.elements.forEach(function(Ut){var tn;((tn=i.state.editingElement)===null||tn===void 0?void 0:tn.id)===Ut.id&&i.state.editingElement!==Ut&&(0,ue.qP)(Ut)&&(K=Ut)}),i.scene.replaceAllElements(C.elements),C.commitToHistory&&i.history.resumeRecording()),C.files&&(i.files=C.replaceFiles?C.files:Sr(Sr({},i.files),C.files),i.addNewImagesToImageCache()),C.appState||K||i.state.contextMenu){var oe,we,de,$,ne,Pe,Be,Fe,it,st;C.commitToHistory&&i.history.resumeRecording();var vt=(C==null||(oe=C.appState)===null||oe===void 0?void 0:oe.viewModeEnabled)||!1,jt=(C==null||(we=C.appState)===null||we===void 0?void 0:we.zenModeEnabled)||!1,Lt=(C==null||(de=C.appState)===null||de===void 0?void 0:de.gridSize)||null,Qt=(C==null||($=C.appState)===null||$===void 0?void 0:$.theme)||i.props.theme||r.C6.LIGHT,vn=(ne=C==null||(Pe=C.appState)===null||Pe===void 0?void 0:Pe.name)!==null&&ne!==void 0?ne:i.state.name,$t=(Be=C==null||(Fe=C.appState)===null||Fe===void 0?void 0:Fe.errorMessage)!==null&&Be!==void 0?Be:i.state.errorMessage;i.props.viewModeEnabled!==void 0&&(vt=i.props.viewModeEnabled),i.props.zenModeEnabled!==void 0&&(jt=i.props.zenModeEnabled),i.props.gridModeEnabled!==void 0&&(Lt=i.props.gridModeEnabled?r.k:null),i.props.name!==void 0&&(vn=i.props.name),(st=K=K||((it=C.appState)===null||it===void 0?void 0:it.editingElement)||null)!==null&&st!==void 0&&st.isDeleted&&(K=null),i.setState(function(Ut){return Object.assign(C.appState||{},{contextMenu:null,editingElement:K,viewModeEnabled:vt,zenModeEnabled:jt,gridSize:Lt,theme:Qt,name:vn,errorMessage:$t})},function(){C.syncHistory&&i.history.setCurrentState(i.state,i.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,p.tH)(function(){il=!1,i.setState({isBindingEnabled:!0})}),this.onUnload=function(){i.onBlur()},this.disableEvent=function(C){C.preventDefault()},this.resetHistory=function(){i.history.clear()},this.resetScene=(0,p.tH)(function(C){i.scene.replaceAllElements([]),i.setState(function(K){return Sr(Sr({},(0,j.im)()),{},{isLoading:(C==null||!C.resetLoadingState)&&K.isLoading,theme:i.state.theme})}),i.resetHistory()}),this.initializeScene=(0,b.Z)(x().mark(function C(){var K,oe,we,de,$;return x().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var Pe=(0,b.Z)(x().mark(function Be(Fe){var it,st;return x().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(Fe.files.length){vt.next=2;break}return vt.abrupt("return");case 2:return it=Fe.files[0],vt.next=5,it.getFile();case 5:st=vt.sent,i.loadFileToCanvas(new File([st],st.name||"",{type:st.type}),it);case 7:case"end":return vt.stop()}},Be)}));return function(Be){return Pe.apply(this,arguments)}}()),i.props.theme&&i.setState({theme:i.props.theme}),i.state.isLoading||i.setState({isLoading:!0}),we=null,ne.prev=4,ne.next=7,i.props.initialData;case 7:if(ne.t0=ne.sent,ne.t0){ne.next=10;break}ne.t0=null;case 10:we=ne.t0,(de=we)!==null&&de!==void 0&&de.libraryItems&&i.library.updateLibrary({libraryItems:we.libraryItems,merge:!0}).catch(function(Pe){console.error(Pe)}),ne.next=18;break;case 14:ne.prev=14,ne.t1=ne.catch(4),console.error(ne.t1),we={appState:{errorMessage:ne.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:($=(0,se.nu)(we,null,null,{repairBindings:!0})).appState=Sr(Sr({},$.appState),{},{theme:i.props.theme||$.appState.theme,openSidebar:((K=$.appState)===null||K===void 0?void 0:K.openSidebar)||i.state.openSidebar,activeTool:$.appState.activeTool.type==="image"?Sr(Sr({},$.appState.activeTool),{},{type:"selection"}):$.appState.activeTool,isLoading:!1,toast:i.state.toast}),(oe=we)!==null&&oe!==void 0&&oe.scrollToContent&&($.appState=Sr(Sr({},$.appState),(0,ye.W)($.elements,Sr(Sr({},$.appState),{},{width:i.state.width,height:i.state.height,offsetTop:i.state.offsetTop,offsetLeft:i.state.offsetLeft})))),i.fonts.loadFontsForElements($.elements),i.resetHistory(),i.syncActionResult(Sr(Sr({},$),{},{commitToHistory:!0}));case 24:case"end":return ne.stop()}},C,null,[[4,14]])})),this.isMobileBreakpoint=function(C,K){return C<r.kV||K<r.Yx&&C<r.sS},this.refreshViewportBreakpoints=function(){if(i.excalidrawContainerRef.current){var C=document.body,K=C.clientWidth,oe=C.clientHeight,we=i.device.viewport,de=(0,p.v4)(we,{isLandscape:K>oe,isMobile:i.isMobileBreakpoint(K,oe)});return we!==de&&(i.device=Sr(Sr({},i.device),{},{viewport:de}),!0)}},this.refreshEditorBreakpoints=function(){var C=i.excalidrawContainerRef.current;if(C){var K=C.getBoundingClientRect(),oe=K.width,we=K.height,de=i.props.UIOptions.dockedSidebarBreakpoint!=null?i.props.UIOptions.dockedSidebarBreakpoint:r.sk,$=i.device.editor,ne=(0,p.v4)($,{isMobile:i.isMobileBreakpoint(oe,we),canFitSidebar:oe>de});return $!==ne&&(i.device=Sr(Sr({},i.device),{},{editor:ne}),!0)}},this.onResize=(0,p.tH)(function(){i.scene.getElementsIncludingDeleted().forEach(function(C){return Sa.R.delete(C)}),i.refreshViewportBreakpoints(),i.updateDOMRect(),Il||i.refreshEditorBreakpoints(),i.setState({})}),this.renderInteractiveSceneCallback=function(C){var K=C.atLeastOneVisibleElement,oe=C.scrollBars,we=C.elements;oe&&(pa=oe);var de=!(0,ue.iB)(i.state.editingElement)&&!K&&we.length>0;i.state.scrolledOutside!==de&&i.setState({scrolledOutside:de}),i.scheduleImageRefresh()},this.onScroll=(0,p.Ds)(function(){var C=i.getCanvasOffsets(),K=C.offsetTop,oe=C.offsetLeft;i.setState(function(we){return we.offsetLeft===oe&&we.offsetTop===K?null:{offsetTop:K,offsetLeft:oe}})},r.HM),this.onCut=(0,p.tH)(function(C){var K;!((K=i.excalidrawContainerRef.current)===null||K===void 0)&&K.contains(document.activeElement)&&!(0,p.s)(C.target)&&(i.actionManager.executeAction(q.ZM,"keyboard",C),C.preventDefault(),C.stopPropagation())}),this.onCopy=(0,p.tH)(function(C){var K;!((K=i.excalidrawContainerRef.current)===null||K===void 0)&&K.contains(document.activeElement)&&!(0,p.s)(C.target)&&(i.actionManager.executeAction(q.uN,"keyboard",C),C.preventDefault(),C.stopPropagation())}),this.onTouchStart=function(C){if(r.Dt||C.preventDefault(),!ol)return ol=!0,clearTimeout($a),void($a=window.setTimeout(Ns.resetTapTwice,r.Gj));if(ol&&C.touches.length===1){var K=C.touches[0];i.handleCanvasDoubleClick({clientX:K.clientX,clientY:K.clientY}),ol=!1,clearTimeout($a)}r.Dt&&C.preventDefault(),C.touches.length===2&&i.setState({selectedElementIds:(0,On.Oh)({},i.state),activeEmbeddable:null})},this.onTouchEnd=function(C){i.resetContextMenuTimer(),C.touches.length>0?i.setState({previousSelectedElementIds:{},selectedElementIds:(0,On.Oh)(i.state.previousSelectedElementIds,i.state)}):Qo.pointers.clear()},this.pasteFromClipboard=(0,p.tH)(function(){var C=(0,b.Z)(x().mark(function K(oe){var we,de,$,ne,Pe,Be,Fe,it,st,vt,jt,Lt,Qt,vn,$t,Ut,tn;return x().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:if($=!!Zs,ne=document.activeElement,Pe=(we=i.excalidrawContainerRef.current)===null||we===void 0?void 0:we.contains(ne),!oe||Pe){xn.next=5;break}return xn.abrupt("return");case 5:if(Be=document.elementFromPoint(i.lastViewportPosition.x,i.lastViewportPosition.y),!oe||Be instanceof HTMLCanvasElement&&!(0,p.s)(ne)){xn.next=8;break}return xn.abrupt("return");case 8:return Fe=(0,p.dE)({clientX:i.lastViewportPosition.x,clientY:i.lastViewportPosition.y},i.state),it=Fe.x,st=Fe.y,vt=oe==null||(de=oe.clipboardData)===null||de===void 0?void 0:de.files[0],xn.next=12,(0,L.mQ)(oe,$);case 12:if(jt=xn.sent,vt||$){xn.next=19;break}if(!jt.mixedContent){xn.next=18;break}return xn.abrupt("return",i.addElementsFromMixedContentPaste(jt.mixedContent,{isPlainPaste:$,sceneX:it,sceneY:st}));case 18:jt.text&&(Lt=jt.text.trim()).startsWith("<svg")&&Lt.endsWith("</svg>")&&(vt=(0,An.Pn)(Lt));case 19:if(!(0,An.Wr)(vt)||jt.spreadsheet){xn.next=28;break}if(i.isToolSupported("image")){xn.next=23;break}return i.setState({errorMessage:(0,B.t)("errors.imageToolNotSupported")}),xn.abrupt("return");case 23:return Qt=i.createImageElement({sceneX:it,sceneY:st}),i.insertImageElement(Qt,vt),i.initializeImageDimensions(Qt),i.setState({selectedElementIds:(0,On.Oh)((0,_.Z)({},Qt.id,!0),i.state)}),xn.abrupt("return");case 28:if(!i.props.onPaste){xn.next=40;break}return xn.prev=29,xn.next=32,i.props.onPaste(jt,oe);case 32:if(xn.t0=xn.sent,xn.t0!==!1){xn.next=35;break}return xn.abrupt("return");case 35:xn.next=40;break;case 37:xn.prev=37,xn.t1=xn.catch(29),console.error(xn.t1);case 40:if(!jt.errorMessage){xn.next=44;break}i.setState({errorMessage:jt.errorMessage}),xn.next=60;break;case 44:if(!jt.spreadsheet||$){xn.next=48;break}i.setState({pasteDialog:{data:jt.spreadsheet,shown:!0}}),xn.next=60;break;case 48:if(!jt.elements){xn.next=53;break}vn=jt.programmaticAPI?(0,_n.w)(jt.elements):jt.elements,i.addElementsFromPasteOrLibrary({elements:vn,files:jt.files||null,position:"cursor",retainSeed:$}),xn.next=60;break;case 53:if(!jt.text){xn.next=60;break}if(Ut=(0,D.eX)(jt.text),$||!(0,D.xm)(Ut,i.props.validateEmbeddable)||!/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(Ut)&&(($t=(0,D.LM)(Ut))===null||$t===void 0?void 0:$t.type)!=="video"){xn.next=59;break}return(tn=i.insertEmbeddableElement({sceneX:it,sceneY:st,link:(0,Wn.$u)(Ut)}))&&i.setState({selectedElementIds:(0,_.Z)({},tn.id,!0)}),xn.abrupt("return");case 59:i.addTextFromPaste(jt.text,$);case 60:i.setActiveTool({type:"selection"}),oe?.preventDefault();case 62:case"end":return xn.stop()}},K,null,[[29,37]])}));return function(K){return C.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(C){var K=(0,se.ET)(C.elements,null,void 0),oe=(0,ue.KP)(K),we=(0,v.Z)(oe,4),de=we[0],$=we[1],ne=we[2],Pe=we[3],Be=(0,p.TE)(de,ne)/2,Fe=(0,p.TE)($,Pe)/2,it=(0,w.Z)(C.position)==="object"?C.position.clientX:C.position==="cursor"?i.lastViewportPosition.x:i.state.width/2+i.state.offsetLeft,st=(0,w.Z)(C.position)==="object"?C.position.clientY:C.position==="cursor"?i.lastViewportPosition.y:i.state.height/2+i.state.offsetTop,vt=(0,p.dE)({clientX:it,clientY:st},i.state),jt=vt.x-Be,Lt=vt.y-Fe,Qt=(0,xe.wC)(jt,Lt,i.state.gridSize),vn=(0,v.Z)(Qt,2),$t=vn[0],Ut=vn[1],tn=(0,Q._N)(K.map(function(En){return(0,I.BE)(En,{x:En.x+$t-de,y:En.y+Ut-$})}),{randomizeSeed:!C.retainSeed}),xn=[].concat((0,d.Z)(i.scene.getElementsIncludingDeleted()),(0,d.Z)(tn));i.scene.replaceAllElements(xn),tn.forEach(function(En){if((0,ue.iB)(En)&&(0,ee.Xh)(En)){var yn=(0,Zt.tl)(En);(0,ue.oN)(En,yn)}}),C.files&&(i.files=Sr(Sr({},i.files),C.files)),i.history.resumeRecording();var Dn=(0,On.aI)(tn);i.setState(Sr(Sr({},i.state),{},{openSidebar:i.state.openSidebar&&i.device.editor.canFitSidebar&&ra.e_.get(zi.t6)?i.state.openSidebar:null},(0,qe.bO)({editingGroupId:null,selectedElementIds:Dn.reduce(function(En,yn){return(0,ee.Xh)(yn)||(En[yn.id]=!0),En},{})},i.scene.getNonDeletedElements(),i.state,i)),function(){C.files&&i.addNewImagesToImageCache()}),i.setActiveTool({type:"selection"}),C.fitToContent&&i.scrollToContent(tn,{fitToContent:!0})},this.setAppState=function(C,K){i.setState(C,K)},this.removePointer=function(C){Ia&&i.resetContextMenuTimer(),Qo.pointers.delete(C.pointerId)},this.toggleLock=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";i.state.activeTool.locked||(0,k.L)("toolbar","toggleLock","".concat(C," (").concat(i.device.editor.isMobile?"mobile":"desktop",")")),i.setState(function(K){return{activeTool:Sr(Sr(Sr({},K.activeTool),(0,p.Om)(i.state,K.activeTool.locked?{type:"selection"}:K.activeTool)),{},{locked:!K.activeTool.locked})}})},this.updateFrameRendering=function(C){i.setState(function(K){var oe,we,de,$,ne=typeof C=="function"?C(K.frameRendering):C;return{frameRendering:{enabled:(oe=ne?.enabled)!==null&&oe!==void 0?oe:K.frameRendering.enabled,clip:(we=ne?.clip)!==null&&we!==void 0?we:K.frameRendering.clip,name:(de=ne?.name)!==null&&de!==void 0?de:K.frameRendering.name,outline:($=ne?.outline)!==null&&$!==void 0?$:K.frameRendering.outline}}})},this.togglePenMode=function(C){i.setState(function(K){return{penMode:C??!K.penMode,penDetected:!0}})},this.onHandToolToggle=function(){i.actionManager.executeAction(qr.eF)},this.zoomCanvas=function(C){i.setState(Sr({},(0,l.E)({viewportX:i.state.width/2+i.state.offsetLeft,viewportY:i.state.height/2+i.state.offsetTop,nextZoom:(0,ye.j)(C)},i.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var C,K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.scene.getNonDeletedElements(),oe=arguments.length>1?arguments[1]:void 0;(C=i.cancelInProgresAnimation)===null||C===void 0||C.call(i);var we=Array.isArray(K)?K:[K],de=i.state.zoom,$=i.state.scrollX,ne=i.state.scrollY;if(oe!=null&&oe.fitToContent||oe!=null&&oe.fitToViewport){var Pe=(0,qr.JB)({targetElements:we,appState:i.state,fitToViewport:!(oe==null||!oe.fitToViewport),viewportZoomFactor:oe?.viewportZoomFactor}),Be=Pe.appState;de=Be.zoom,$=Be.scrollX,ne=Be.scrollY}else{var Fe=(0,ye.W)(we,i.state);$=Fe.scrollX,ne=Fe.scrollY}if(oe!=null&&oe.animate){var it,st=i.state.scrollX,vt=i.state.scrollY,jt=i.state.zoom.value,Lt=(0,p.B4)({fromValues:{scrollX:st,scrollY:vt,zoom:jt},toValues:{scrollX:$,scrollY:ne,zoom:de.value},interpolateValue:function(Qt,vn,$t,Ut){if(Ut==="zoom")return Qt*Math.pow(vn/Qt,(0,p.Vv)($t))},onStep:function(Qt){var vn=Qt.scrollX,$t=Qt.scrollY,Ut=Qt.zoom;i.setState({scrollX:vn,scrollY:$t,zoom:{value:Ut}})},onStart:function(){i.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){i.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){i.setState({shouldCacheIgnoreZoom:!1})},duration:(it=oe?.duration)!==null&&it!==void 0?it:500});i.cancelInProgresAnimation=function(){Lt(),i.cancelInProgresAnimation=null}}else i.setState({scrollX:$,scrollY:ne,zoom:de})},this.translateCanvas=function(C){var K;(K=i.cancelInProgresAnimation)===null||K===void 0||K.call(i),i.setState(C)},this.setToast=function(C){i.setState({toast:C})},this.restoreFileFromShare=(0,b.Z)(x().mark(function C(){var K,oe,we,de;return x().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.prev=0,$.next=3,caches.open("web-share-target");case 3:return K=$.sent,$.next=6,K.match("shared-file");case 6:if(!(oe=$.sent)){$.next=16;break}return $.next=10,oe.blob();case 10:return we=$.sent,de=new File([we],we.name||"",{type:we.type}),i.loadFileToCanvas(de,null),$.next=15,K.delete("shared-file");case 15:window.history.replaceState(null,r.iC,window.location.pathname);case 16:$.next=21;break;case 18:$.prev=18,$.t0=$.catch(0),i.setState({errorMessage:$.t0.message});case 21:case"end":return $.stop()}},C,null,[[0,18]])})),this.addFiles=(0,p.tH)(function(C){var K=C.reduce(function(oe,we){return oe.set(we.id,we),oe},new Map);i.files=Sr(Sr({},i.files),Object.fromEntries(K)),i.scene.getNonDeletedElements().forEach(function(oe){(0,ee.wi)(oe)&&K.has(oe.fileId)&&(i.imageCache.delete(oe.fileId),Sa.R.delete(oe))}),i.scene.informMutation(),i.addNewImagesToImageCache()}),this.updateScene=(0,p.tH)(function(C){C.commitToHistory&&i.history.resumeRecording(),C.appState&&i.setState(C.appState),C.elements&&i.scene.replaceAllElements(C.elements),C.collaborators&&i.setState({collaborators:C.collaborators})}),this.onSceneUpdated=function(){i.setState({})},this.toggleSidebar=function(C){var K,oe,we=C.name,de=C.tab,$=C.force;return $===void 0?K=((oe=i.state.openSidebar)===null||oe===void 0?void 0:oe.name)===we?null:we:K=$?we:null,i.setState({openSidebar:K?{name:K,tab:de}:null}),!!K},this.updateCurrentCursorPosition=(0,p.tH)(function(C){i.lastViewportPosition.x=C.clientX,i.lastViewportPosition.y=C.clientY}),this.onKeyDown=(0,p.tH)(function(C){if("Proxy"in window&&(!C.shiftKey&&/^[A-Z]$/.test(C.key)||C.shiftKey&&/^[a-z]$/.test(C.key))&&(C=new Proxy(C,{get:function($t,Ut){var tn=$t[Ut];return typeof tn=="function"?tn.bind($t):Ut==="key"?C.shiftKey?$t.key.toUpperCase():$t.key.toLowerCase():tn}})),C[M.tW.CTRL_OR_CMD]&&C.key.toLowerCase()===M.tW.V&&(Zs=C.shiftKey,clearTimeout(zs),zs=window.setTimeout(function(){Zs=!1},100)),!C[M.tW.CTRL_OR_CMD]||!(0,p.s)(C.target)||C.code!==M.aU.MINUS&&C.code!==M.aU.EQUAL){if(!((0,p.s)(C.target)&&C.key!==M.tW.ESCAPE||(0,M.Wl)(C.key)&&(0,p._Z)(C.target)))if(C.key!==M.tW.QUESTION_MARK){if(C.key.toLowerCase()===M.tW.E&&C.shiftKey&&C[M.tW.CTRL_OR_CMD])return C.preventDefault(),void i.setState({openDialog:"imageExport"});if(C.key===M.tW.PAGE_UP||C.key===M.tW.PAGE_DOWN){var K=(C.shiftKey?i.state.width:i.state.height)/i.state.zoom.value;C.key===M.tW.PAGE_DOWN&&(K=-K),C.shiftKey?i.translateCanvas(function($t){return{scrollX:$t.scrollX+K}}):i.translateCanvas(function($t){return{scrollY:$t.scrollY+K}})}if(!i.actionManager.handleKeyDown(C)&&!i.state.viewModeEnabled){if(C[M.tW.CTRL_OR_CMD]&&i.state.isBindingEnabled&&i.setState({isBindingEnabled:!1}),(0,M.Wl)(C.key)){var oe=i.state.gridSize&&(C.shiftKey?r.$e:i.state.gridSize)||(C.shiftKey?r.Iw:r.$e),we=0,de=0;C.key===M.tW.ARROW_LEFT?we=-oe:C.key===M.tW.ARROW_RIGHT?we=oe:C.key===M.tW.ARROW_UP?de=-oe:C.key===M.tW.ARROW_DOWN&&(de=oe);var $=i.scene.getSelectedElements({selectedElementIds:i.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});$.forEach(function($t){(0,I.DR)($t,{x:$t.x+we,y:$t.y+de}),(0,E.Ww)($t,{simultaneouslyUpdated:$})}),i.maybeSuggestBindingForAll($),C.preventDefault()}else if(C.key===M.tW.ENTER){var ne=i.scene.getSelectedElements(i.state);if(ne.length===1){var Pe=ne[0];if(C[M.tW.CTRL_OR_CMD])(0,ee.bt)(Pe)&&(i.state.editingLinearElement&&i.state.editingLinearElement.elementId===ne[0].id||(i.history.resumeRecording(),i.setState({editingLinearElement:new pe._(Pe,i.scene)})));else{if((0,ue.iB)(Pe)||(0,Zt.Zr)(Pe)){var Be;(0,ue.iB)(Pe)||(Be=Pe);var Fe=(0,Zt.TP)(Pe,i.state),it=Fe.x,st=Fe.y;return i.startTextEditing({sceneX:it,sceneY:st,container:Be}),void C.preventDefault()}(0,ee.He)(Pe)&&i.setState({editingFrame:Pe.id})}}}else if(!C.ctrlKey&&!C.altKey&&!C.metaKey&&i.state.draggingElement===null){var vt=function($t){var Ut=f.find(function(tn,xn){return tn.numericKey!=null&&$t===tn.numericKey.toString()||tn.key&&(typeof tn.key=="string"?tn.key===$t:tn.key.includes($t))});return Ut?.value||null}(C.key);vt?(i.state.activeTool.type!==vt&&(0,k.L)("toolbar",vt,"keyboard (".concat(i.device.editor.isMobile?"mobile":"desktop",")")),i.setActiveTool({type:vt}),C.stopPropagation()):C.key===M.tW.Q&&(i.toggleLock("keyboard"),C.stopPropagation())}if(C.key===M.tW.SPACE&&Qo.pointers.size===0&&(il=!0,(0,gn.KJ)(i.interactiveCanvas,r.oc.GRAB),C.preventDefault()),!(C.key!==M.tW.G&&C.key!==M.tW.S||C.altKey||C[M.tW.CTRL_OR_CMD])){var jt=i.scene.getSelectedElements(i.state);if(i.state.activeTool.type==="selection"&&!jt.length)return;C.key===M.tW.G&&((0,ye.$b)(i.state.activeTool.type)||jt.some(function($t){return(0,ye.$b)($t.type)}))&&(i.setState({openPopup:"elementBackground"}),C.stopPropagation()),C.key===M.tW.S&&(i.setState({openPopup:"elementStroke"}),C.stopPropagation())}if(C.key!==M.tW.K||C.altKey||C[M.tW.CTRL_OR_CMD]){!C[M.tW.CTRL_OR_CMD]||C.key!==M.tW.BACKSPACE&&C.key!==M.tW.DELETE||ra.e_.set(Xa.w,"clearCanvas");var Lt=C.key.toLocaleLowerCase(),Qt=Lt===M.tW.S&&C.shiftKey,vn=C.key===M.tW.I||Lt===M.tW.G&&C.shiftKey;(Qt||vn)&&i.openEyeDropper({type:Qt?"stroke":"background"})}else i.state.activeTool.type==="laser"?i.setActiveTool({type:"selection"}):i.setActiveTool({type:"laser"})}}else i.setState({openDialog:"help"})}else C.preventDefault()}),this.onWheel=(0,p.tH)(function(C){C.target instanceof HTMLCanvasElement||!C.ctrlKey||C.preventDefault()}),this.onKeyUp=(0,p.tH)(function(C){if(C.key===M.tW.SPACE&&(i.state.viewModeEnabled?(0,gn.KJ)(i.interactiveCanvas,r.oc.GRAB):i.state.activeTool.type==="selection"?(0,gn.z8)(i.interactiveCanvas):((0,gn.Uk)(i.interactiveCanvas,i.state),i.setState({selectedElementIds:(0,On.Oh)({},i.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),il=!1),C[M.tW.CTRL_OR_CMD]||i.state.isBindingEnabled||i.setState({isBindingEnabled:!0}),(0,M.Wl)(C.key)){var K=i.scene.getSelectedElements(i.state);(0,E.N1)(i.state)?(0,E.el)(K):(0,E.H)(K),i.setState({suggestedBindings:[]})}}),this.isToolSupported=function(C){var K;return((K=i.props.UIOptions.tools)===null||K===void 0?void 0:K[C])!==!1},this.setActiveTool=function(C){if(i.isToolSupported(C.type)){var K,oe=(0,p.Om)(i.state,C);oe.type==="hand"?(0,gn.KJ)(i.interactiveCanvas,r.oc.GRAB):il||(0,gn.Uk)(i.interactiveCanvas,i.state),(0,p.wO)(document.activeElement)&&i.focusContainer(),(0,ee.dt)(oe.type)||i.setState({suggestedBindings:[]}),oe.type==="image"&&i.onImageAction({insertOnCanvasDirectly:(K=C.type==="image"&&C.insertOnCanvasDirectly)!==null&&K!==void 0&&K}),i.setState(function(we){var de={snapLines:we.snapLines.length?[]:we.snapLines,originSnapOffset:null,activeEmbeddable:null};return oe.type!=="selection"?Sr(Sr({},we),{},{activeTool:oe,selectedElementIds:(0,On.Oh)({},we),selectedGroupIds:(0,On.Oh)({},we),editingGroupId:null,multiElement:null},de):Sr(Sr({},we),{},{activeTool:oe},de)})}else console.warn('"'.concat(C.type,'" tool is disabled via "UIOptions.canvasActions.tools.').concat(C.type,'"'))},this.setOpenDialog=function(C){i.setState({openDialog:C})},this.setCursor=function(C){(0,gn.KJ)(i.interactiveCanvas,C)},this.resetCursor=function(){(0,gn.z8)(i.interactiveCanvas)},this.isTouchScreenMultiTouchGesture=function(){return Qo.pointers.size>=2},this.onGestureStart=(0,p.tH)(function(C){C.preventDefault(),i.isTouchScreenMultiTouchGesture()&&i.setState({selectedElementIds:(0,On.Oh)({},i.state),activeEmbeddable:null}),Qo.initialScale=i.state.zoom.value}),this.onGestureChange=(0,p.tH)(function(C){if(C.preventDefault(),!i.isTouchScreenMultiTouchGesture()){var K=Qo.initialScale;K&&i.setState(function(oe){return Sr({},(0,l.E)({viewportX:i.lastViewportPosition.x,viewportY:i.lastViewportPosition.y,nextZoom:(0,ye.j)(K*C.scale)},oe))})}}),this.onGestureEnd=(0,p.tH)(function(C){C.preventDefault(),i.isTouchScreenMultiTouchGesture()&&i.setState({previousSelectedElementIds:{},selectedElementIds:(0,On.Oh)(i.state.previousSelectedElementIds,i.state)}),Qo.initialScale=null}),this.startTextEditing=function(C){var K,oe,we,de,$=C.sceneX,ne=C.sceneY,Pe=C.insertAtParentCenter,Be=Pe===void 0||Pe,Fe=C.container,it=!1,st=Be&&i.getTextWysiwygSnappedToCenterPosition($,ne,i.state,Fe);Fe&&st&&((0,Zt.WJ)(Fe)||(it=!0));var vt=null,jt=i.scene.getSelectedElements(i.state),Lt=((K=vt=jt.length===1?(0,ue.iB)(jt[0])?jt[0]:Fe?(0,Zt.WJ)(jt[0]):i.getTextElementAtPosition($,ne):i.getTextElementAtPosition($,ne))===null||K===void 0?void 0:K.fontFamily)||i.state.currentItemFontFamily,Qt=((oe=vt)===null||oe===void 0?void 0:oe.lineHeight)||(0,Zt.PT)(Lt),vn=i.state.currentItemFontSize;if(!vt&&it&&Fe&&!(0,ee.Yv)(Fe)){var $t={fontSize:vn,fontFamily:Lt},Ut=(0,Zt.AT)((0,p.mO)($t),Qt),tn=(0,Zt.w_)(vn,Qt),xn=Math.max(Fe.height,tn),Dn=Math.max(Fe.width,Ut);(0,I.DR)(Fe,{height:xn,width:Dn}),$=Fe.x+Dn/2,ne=Fe.y+xn/2,st&&(st=i.getTextWysiwygSnappedToCenterPosition($,ne,i.state,Fe))}var En=i.getTopLayerFrameAtSceneCoords({x:$,y:ne}),yn=vt||(0,ue.VL)({x:st?st.elementCenterX:$,y:st?st.elementCenterY:ne,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity,text:"",fontSize:vn,fontFamily:Lt,textAlign:st?"center":i.state.currentItemTextAlign,verticalAlign:st?r.oX.MIDDLE:r.hs,containerId:it?Fe?.id:void 0,groupIds:(we=Fe?.groupIds)!==null&&we!==void 0?we:[],lineHeight:Qt,angle:(de=Fe?.angle)!==null&&de!==void 0?de:0,frameId:En?En.id:null});if(!vt&&it&&Fe&&(0,I.DR)(Fe,{boundElements:(Fe.boundElements||[]).concat({type:"text",id:yn.id})}),i.setState({editingElement:yn}),!vt)if(Fe&&it){var Un=i.scene.getElementIndex(Fe.id);i.scene.insertElementAtIndex(yn,Un+1)}else i.scene.addNewElement(yn);i.setState({editingElement:yn}),i.handleTextWysiwyg(yn,{isExistingElement:!!vt})},this.handleCanvasDoubleClick=function(C){if(!i.state.multiElement&&i.state.activeTool.type==="selection"){var K=i.scene.getSelectedElements(i.state);if(K.length===1&&(0,ee.bt)(K[0])){if(C[M.tW.CTRL_OR_CMD]&&(!i.state.editingLinearElement||i.state.editingLinearElement.elementId!==K[0].id))return i.history.resumeRecording(),void i.setState({editingLinearElement:new pe._(K[0],i.scene)});if(i.state.editingLinearElement&&i.state.editingLinearElement.elementId===K[0].id)return}(0,gn.z8)(i.interactiveCanvas);var oe=(0,p.dE)(C,i.state),we=oe.x,de=oe.y;if((0,qe.iJ)(i.state).length>0){var $=i.getElementAtPosition(we,de),ne=$&&(0,qe.YS)($,i.state.selectedGroupIds);if(ne)return void i.setState(function(it){return Sr(Sr({},it),(0,qe.bO)({editingGroupId:ne,selectedElementIds:(0,_.Z)({},$.id,!0)},i.scene.getNonDeletedElements(),it,i))})}if((0,gn.z8)(i.interactiveCanvas),!C[M.tW.CTRL_OR_CMD]&&!i.state.viewModeEnabled){var Pe=i.getElementAtPosition(we,de);if((0,ee.gs)(Pe))return void i.setState({activeEmbeddable:{element:Pe,state:"active"}});var Be=(0,Zt.OW)(i.scene.getNonDeletedElements(),i.state,we,de);if(Be&&((0,ee.Xo)(Be)||!(0,p.Qm)(Be.backgroundColor)||(0,en.Qu)(Be,i.state,i.frameNameBoundsCache,[we,de]))){var Fe=(0,Zt.TP)(Be,i.state);we=Fe.x,de=Fe.y}i.startTextEditing({sceneX:we,sceneY:de,insertAtParentCenter:!C.altKey,container:Be})}}},this.getElementLinkAtPosition=function(C,K){var oe=i.scene.getNonDeletedElements().slice().reverse(),we=1/0;return oe.find(function(de,$){return K&&de.id===K.id&&(we=$),de.link&&$<=we&&(0,Cn.Ni)(de,i.state,[C.x,C.y],i.device.editor.isMobile)})},this.redirectToLink=function(C,K){var oe=(0,xe.LW)(i.lastPointerDownEvent.clientX,i.lastPointerDownEvent.clientY,i.lastPointerUpEvent.clientX,i.lastPointerUpEvent.clientY);if(!(!i.hitLinkElement||K&&oe>r.f||!K&&oe!==0)){var we=(0,p.dE)(i.lastPointerDownEvent,i.state),de=(0,Cn.Ni)(i.hitLinkElement,i.state,[we.x,we.y],i.device.editor.isMobile),$=(0,p.dE)(i.lastPointerUpEvent,i.state),ne=(0,Cn.Ni)(i.hitLinkElement,i.state,[$.x,$.y],i.device.editor.isMobile);if(de&&ne){var Pe,Be,Fe=i.hitLinkElement.link;if(Fe&&(Fe=(0,Wn.$u)(Fe),i.props.onLinkOpen&&(Be=(0,p.ag)(r.Ks.EXCALIDRAW_LINK,C.nativeEvent),i.props.onLinkOpen(Sr(Sr({},i.hitLinkElement),{},{link:Fe}),Be)),(Pe=Be)===null||Pe===void 0||!Pe.defaultPrevented)){var it=(0,Wn.q$)(Fe)?"_self":"_blank",st=window.open(void 0,it);st&&(st.opener=null,st.location=Fe)}}}},this.getTopLayerFrameAtSceneCoords=function(C){var K=i.scene.getNonDeletedFrames().filter(function(oe){return(0,Jt.Dn)(C,oe)});return K.length?K[K.length-1]:null},this.handleCanvasPointerMove=function(C){i.savePointer(C.clientX,C.clientY,i.state.cursorButton),Qo.pointers.has(C.pointerId)&&Qo.pointers.set(C.pointerId,{x:C.clientX,y:C.clientY});var K=Qo.initialScale;if(Qo.pointers.size===2&&Qo.lastCenter&&K&&Qo.initialDistance){var oe=me(Qo.pointers),we=oe.x-Qo.lastCenter.x,de=oe.y-Qo.lastCenter.y;Qo.lastCenter=oe;var $=Te(Array.from(Qo.pointers.values())),ne=i.state.activeTool.type==="freedraw"&&i.state.penMode?1:$/Qo.initialDistance,Pe=ne?(0,ye.j)(K*ne):i.state.zoom.value;i.setState(function(Xo){var zo=(0,l.E)({viewportX:oe.x,viewportY:oe.y,nextZoom:Pe},Xo);i.translateCanvas({zoom:zo.zoom,scrollX:zo.scrollX+we/Pe,scrollY:zo.scrollY+de/Pe,shouldCacheIgnoreZoom:!0})}),i.resetShouldCacheIgnoreZoomDebounced()}else Qo.lastCenter=Qo.initialDistance=Qo.initialScale=null;if(!(il||Dl||gs||(0,j.l$)(i.state))){var Be=(0,ye._4)(pa,C.clientX-i.state.offsetLeft,C.clientY-i.state.offsetTop).isOverEither;i.state.draggingElement||i.state.multiElement||(Be?(0,gn.z8)(i.interactiveCanvas):(0,gn.Uk)(i.interactiveCanvas,i.state));var Fe,it=(0,p.dE)(C,i.state),st=it.x,vt=it.y;if(i.state.draggingElement||(Fe=i.state.activeTool.type)!=="rectangle"&&Fe!=="ellipse"&&Fe!=="diamond"&&Fe!=="frame"&&Fe!=="image")i.state.draggingElement||i.setState({snapLines:[]});else{var jt=function(Xo,zo,to,qo){if(!Mo({event:qo,selectedElements:[],appState:zo}))return{originOffset:{x:0,y:0},snapLines:[]};var Po,$o=(0,On.CF)(Xo,[],zo),qi=so(zo.zoom.value),mo={x:qi,y:qi},eo=[],ko=[],ti=Br($o);try{for(ti.s();!(Po=ti.n()).done;){var ai,fi=Po.value,Ei=Br(Zi([fi]));try{for(Ei.s();!(ai=Ei.n()).done;){var No=ai.value,wo=No[0]-to.x;Math.abs(wo)<=Math.abs(mo.x)&&(Math.abs(wo)<Math.abs(mo.x)&&(ko.length=0),ko.push({type:"pointer",points:[No,[No[0],to.y]],direction:"vertical"}),mo.x=wo);var ci=No[1]-to.y;Math.abs(ci)<=Math.abs(mo.y)&&(Math.abs(ci)<Math.abs(mo.y)&&(eo.length=0),eo.push({type:"pointer",points:[No,[to.x,No[1]]],direction:"horizontal"}),mo.y=ci)}}catch(Xi){Ei.e(Xi)}finally{Ei.f()}}}catch(Xi){ti.e(Xi)}finally{ti.f()}return{originOffset:{x:ko.length>0?ko[0].points[0][0]-to.x:0,y:eo.length>0?eo[0].points[0][1]-to.y:0},snapLines:[].concat(ko,eo)}}(i.scene.getNonDeletedElements(),i.state,{x:st,y:vt},C),Lt=jt.originOffset,Qt=jt.snapLines;i.setState({snapLines:Qt,originSnapOffset:Lt})}if(i.state.editingLinearElement&&!i.state.editingLinearElement.isDragging){var vn=pe._.handlePointerMove(C,st,vt,i.state);vn&&vn!==i.state.editingLinearElement&&(0,he.flushSync)(function(){i.setState({editingLinearElement:vn})}),vn?.lastUncommittedPoint!=null?i.maybeSuggestBindingAtCursor(it):(0,he.flushSync)(function(){i.setState({suggestedBindings:[]})})}if((0,ee.Lx)(i.state.activeTool.type)){var $t=i.state.draggingElement;(0,ee.Mn)($t,!1)?i.maybeSuggestBindingsForLinearElementAtCoords($t,[it],i.state.startBoundElement):i.maybeSuggestBindingAtCursor(it)}if(i.state.multiElement){var Ut=i.state.multiElement,tn=Ut.x,xn=Ut.y,Dn=Ut.points,En=Ut.lastCommittedPoint,yn=Dn[Dn.length-1];if((0,gn.Uk)(i.interactiveCanvas,i.state),yn===En)(0,xe.LW)(st-tn,vt-xn,yn[0],yn[1])>=r.qx?(0,I.DR)(Ut,{points:[].concat((0,d.Z)(Dn),[[st-tn,vt-xn]])}):(0,gn.KJ)(i.interactiveCanvas,r.oc.POINTER);else if(Dn.length>2&&En&&(0,xe.LW)(st-tn,vt-xn,En[0],En[1])<r.qx)(0,gn.KJ)(i.interactiveCanvas,r.oc.POINTER),(0,I.DR)(Ut,{points:Dn.slice(0,-1)});else{var Un,gr=(0,xe.wC)(st,vt,C[M.tW.CTRL_OR_CMD]?null:i.state.gridSize),_r=(0,v.Z)(gr,2),zr=_r[0],Qr=_r[1],ao=(Un=Ut?.lastCommittedPoint)!==null&&Un!==void 0?Un:[0,0],Rr=(0,v.Z)(ao,2),Nr=Rr[0],Fr=Rr[1],Ur=zr-tn-Nr,ho=Qr-xn-Fr;if((0,M.Ge)(C)){var So=(0,ue.o4)(Nr+tn,Fr+xn,zr,Qr);Ur=So.width,ho=So.height}(0,xe.g6)(Dn,i.state.zoom.value)&&(0,gn.KJ)(i.interactiveCanvas,r.oc.POINTER),(0,I.DR)(Ut,{points:[].concat((0,d.Z)(Dn.slice(0,-1)),[[Nr+Ur,Fr+ho]])})}}else if(!(C.buttons||i.state.activeTool.type!=="selection"&&i.state.activeTool.type!=="text"&&i.state.activeTool.type!=="eraser")){var _o=i.scene.getNonDeletedElements(),To=i.scene.getSelectedElements(i.state);if(To.length!==1||Be||i.state.editingLinearElement){if(To.length>1&&!Be){var vo=(0,ue.n2)((0,ue.KP)(To),st,vt,i.state.zoom,C.pointerType);if(vo)return void(0,gn.KJ)(i.interactiveCanvas,(0,ue.Un)({transformHandleType:vo}))}}else{var oo=(0,ue.jt)(_o,i.state,st,vt,i.state.zoom,C.pointerType);if(oo&&oo.transformHandleType)return void(0,gn.KJ)(i.interactiveCanvas,(0,ue.Un)(oo))}var Lo=i.getElementAtPosition(it.x,it.y);if(i.hitLinkElement=i.getElementLinkAtPosition(it,Lo),!(0,j.EN)(i.state))if(i.hitLinkElement&&!i.state.selectedElementIds[i.hitLinkElement.id])(0,gn.KJ)(i.interactiveCanvas,r.oc.POINTER),(0,Cn.Pp)(i.hitLinkElement,i.state);else if((0,Cn.lV)(),Lo&&(Lo.link||(0,ee.gs)(Lo))&&i.state.selectedElementIds[Lo.id]&&!i.state.contextMenu&&!i.state.showHyperlinkPopup)i.setState({showHyperlinkPopup:"info"});else if(i.state.activeTool.type==="text")(0,gn.KJ)(i.interactiveCanvas,(0,ue.iB)(Lo)?r.oc.TEXT:r.oc.CROSSHAIR);else if(i.state.viewModeEnabled)(0,gn.KJ)(i.interactiveCanvas,r.oc.GRAB);else if(Be)(0,gn.KJ)(i.interactiveCanvas,r.oc.AUTO);else if(i.state.selectedLinearElement)i.handleHoverSelectedLinearElement(i.state.selectedLinearElement,st,vt);else if(C[M.tW.CTRL_OR_CMD])(0,gn.KJ)(i.interactiveCanvas,r.oc.AUTO);else{var Ko;(Lo||i.isHittingCommonBoundingBoxOfSelectedElements(it,To))&&(Lo==null||!Lo.locked)&&(Lo&&(0,ee.gs)(Lo)&&i.isEmbeddableCenter(Lo,C,st,vt)?((0,gn.KJ)(i.interactiveCanvas,r.oc.POINTER),i.setState({activeEmbeddable:{element:Lo,state:"hover"}})):((0,gn.KJ)(i.interactiveCanvas,r.oc.MOVE),((Ko=i.state.activeEmbeddable)===null||Ko===void 0?void 0:Ko.state)==="hover"&&i.setState({activeEmbeddable:null})))}}}},this.handleEraser=function(C,K,oe){for(var we=function(jt){jt.forEach(function(Lt){Lt.locked||(de.push(Lt.id),C.altKey?K.elementIdsToErase[Lt.id]&&K.elementIdsToErase[Lt.id].erase&&(K.elementIdsToErase[Lt.id].erase=!1):K.elementIdsToErase[Lt.id]||(K.elementIdsToErase[Lt.id]={erase:!0,opacity:Lt.opacity}))})},de=[],$=(0,xe.LW)(K.lastCoords.x,K.lastCoords.y,oe.x,oe.y),ne=10/i.state.zoom.value,Pe=Sr({},K.lastCoords),Be=0;Be<=$&&(we(i.getElementsAtPosition(Pe.x,Pe.y)),Be!==$);){var Fe=(Be=Math.min(Be+ne,$))/$,it=(1-Fe)*Pe.x+Fe*oe.x,st=(1-Fe)*Pe.y+Fe*oe.y;Pe.x=it,Pe.y=st}var vt=i.scene.getElementsIncludingDeleted().map(function(jt){var Lt=(0,ee.Xh)(jt)&&de.includes(jt.containerId)?jt.containerId:jt.id;if(de.includes(Lt)){if(!C.altKey)return(0,I.BE)(jt,{opacity:r.xY});if(K.elementIdsToErase[Lt]&&K.elementIdsToErase[Lt].erase===!1)return(0,I.BE)(jt,{opacity:K.elementIdsToErase[Lt].opacity})}return jt});i.scene.replaceAllElements(vt),K.lastCoords.x=oe.x,K.lastCoords.y=oe.y},this.handleTouchMove=function(C){Ha=!0},this.handleCanvasPointerDown=function(C){var K,oe;if(i.state.contextMenu&&i.setState({contextMenu:null}),i.state.snapLines&&i.setAppState({snapLines:[]}),i.updateGestureOnPointerDown(C),C.pointerType==="touch"&&i.state.draggingElement&&i.state.draggingElement.type==="freedraw"){var we=i.state.draggingElement;i.updateScene(Sr(Sr({},we.points.length<10?{elements:i.scene.getElementsIncludingDeleted().filter(function(Qt){return Qt.id!==we.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,On.Oh)(Object.keys(i.state.selectedElementIds).filter(function(Qt){return Qt!==we.id}).reduce(function(Qt,vn){return Qt[vn]=i.state.selectedElementIds[vn],Qt},{}),i.state)}}))}else{var de=document.getSelection();if(de!=null&&de.anchorNode&&de.removeAllRanges(),i.maybeOpenContextMenuAfterPointerDownOnTouchDevices(C),i.maybeCleanupAfterMissingPointerUp(C),i.state.penDetected||C.pointerType!=="pen"||i.setState(function(Qt){return{penMode:!0,penDetected:!0}}),!i.device.isTouchScreen&&["pen","touch"].includes(C.pointerType)&&(i.device=(0,p.v4)(i.device,{isTouchScreen:!0})),!(Dl||(i.lastPointerDownEvent=C,i.handleCanvasPanUsingWheelOrSpaceDrag(C)||(i.setState({lastPointerDownWith:C.pointerType,cursorButton:"down"}),i.savePointer(C.clientX,C.clientY,"down"),C.button!==r.Oh.MAIN&&C.button!==r.Oh.TOUCH||Qo.pointers.size>1)))){var $=i.initialPointerDownState(C);if(i.setState({selectedElementsAreBeingDragged:!1}),!i.handleDraggingScrollBar(C,$)&&(i.clearSelectionIfNotUsingSelection(),i.updateBindingEnabledOnPointerMove(C),!i.handleSelectionOnPointerDown(C,$)&&(!i.state.penMode||C.pointerType!=="touch"||i.state.activeTool.type==="selection"||i.state.activeTool.type==="text"||i.state.activeTool.type==="image")))if(i.state.activeTool.type!=="text"){if(i.state.activeTool.type==="arrow"||i.state.activeTool.type==="line")i.handleLinearElementOnPointerDown(C,i.state.activeTool.type,$);else if(i.state.activeTool.type==="image"){(0,gn.KJ)(i.interactiveCanvas,r.oc.CROSSHAIR);var ne=i.state.pendingImageElementId&&i.scene.getElement(i.state.pendingImageElementId);if(!ne)return;i.setState({draggingElement:ne,editingElement:ne,pendingImageElementId:null,multiElement:null});var Pe=(0,p.dE)(C,i.state),Be=Pe.x,Fe=Pe.y,it=i.getTopLayerFrameAtSceneCoords({x:Be,y:Fe});(0,I.DR)(ne,{x:Be,y:Fe,frameId:it?it.id:null})}else i.state.activeTool.type==="freedraw"?i.handleFreeDrawElementOnPointerDown(C,i.state.activeTool.type,$):i.state.activeTool.type==="custom"?(0,gn.Uk)(i.interactiveCanvas,i.state):i.state.activeTool.type==="frame"?i.createFrameElementOnPointerDown($):i.state.activeTool.type==="laser"?i.laserPathManager.startPath($.lastCoords.x,$.lastCoords.y):i.state.activeTool.type!=="eraser"&&i.state.activeTool.type!=="hand"&&i.createGenericElementOnPointerDown(i.state.activeTool.type,$);(K=i.props)===null||K===void 0||(oe=K.onPointerDown)===null||oe===void 0||oe.call(K,i.state.activeTool,$),i.onPointerDownEmitter.trigger(i.state.activeTool,$,C);var st=i.onPointerMoveFromPointerDownHandler($),vt=i.onPointerUpFromPointerDownHandler($),jt=i.onKeyDownFromPointerDownHandler($),Lt=i.onKeyUpFromPointerDownHandler($);Go=vt,i.state.viewModeEnabled&&i.state.activeTool.type!=="laser"||(window.addEventListener(r.Ks.POINTER_MOVE,st),window.addEventListener(r.Ks.POINTER_UP,vt),window.addEventListener(r.Ks.KEYDOWN,jt),window.addEventListener(r.Ks.KEYUP,Lt),$.eventListeners.onMove=st,$.eventListeners.onUp=vt,$.eventListeners.onKeyUp=Lt,$.eventListeners.onKeyDown=jt)}else i.handleTextOnPointerDown(C,$)}}},this.handleCanvasPointerUp=function(C){var K,oe;i.removePointer(C),i.lastPointerUpEvent=C;var we=(0,p.dE)({clientX:C.clientX,clientY:C.clientY},i.state),de=C.timeStamp-((K=(oe=i.lastPointerDownEvent)===null||oe===void 0?void 0:oe.timeStamp)!==null&&K!==void 0?K:0);if(i.device.editor.isMobile&&de<300){var $=i.getElementAtPosition(we.x,we.y);if((0,ee.gs)($)&&i.isEmbeddableCenter($,C,we.x,we.y))return void i.handleEmbeddableCenterClick($)}if(i.device.isTouchScreen){var ne=i.getElementAtPosition(we.x,we.y);i.hitLinkElement=i.getElementLinkAtPosition(we,ne)}i.hitLinkElement&&!i.state.selectedElementIds[i.hitLinkElement.id]?de<300&&i.hitLinkElement.type==="embeddable"&&!(0,Cn.wq)(i.hitLinkElement,i.state,[we.x,we.y])?i.handleEmbeddableCenterClick(i.hitLinkElement):i.redirectToLink(C,i.device.isTouchScreen):i.state.viewModeEnabled&&i.setState({activeEmbeddable:null,selectedElementIds:{}})},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(C){C.pointerType==="touch"&&(Ha=!1,Ia?Ha=!0:Ia=window.setTimeout(function(){Ia=0,Ha||i.handleCanvasContextMenu(C)},r.nM))},this.resetContextMenuTimer=function(){clearTimeout(Ia),Ia=0,Ha=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(C){if(!(Qo.pointers.size<=1&&(C.button===r.Oh.WHEEL||C.button===r.Oh.MAIN&&il||(0,j.l$)(i.state)||i.state.viewModeEnabled))||(0,ue.iB)(i.state.editingElement))return!1;Dl=!0,C.preventDefault();var K=!1,oe=/Linux/.test(window.navigator.platform);(0,gn.KJ)(i.interactiveCanvas,r.oc.GRABBING);var we=C.clientX,de=C.clientY,$=(0,p.$9)(function(Pe){var Be=we-Pe.clientX,Fe=de-Pe.clientY;if(we=Pe.clientX,de=Pe.clientY,oe&&!K&&(Math.abs(Be)>1||Math.abs(Fe)>1)){K=!0;var it=function st(vt){document.body.removeEventListener(r.Ks.PASTE,st),vt.stopPropagation()};document.body.addEventListener(r.Ks.PASTE,it),window.addEventListener(r.Ks.POINTER_UP,function st(){setTimeout(function(){document.body.removeEventListener(r.Ks.PASTE,it),window.removeEventListener(r.Ks.POINTER_UP,st)},100)})}i.translateCanvas({scrollX:i.state.scrollX-Be/i.state.zoom.value,scrollY:i.state.scrollY-Fe/i.state.zoom.value})}),ne=(0,p.tH)(Go=function(){Go=null,Dl=!1,il||(i.state.viewModeEnabled?(0,gn.KJ)(i.interactiveCanvas,r.oc.GRAB):(0,gn.Uk)(i.interactiveCanvas,i.state)),i.setState({cursorButton:"up"}),i.savePointer(C.clientX,C.clientY,"up"),window.removeEventListener(r.Ks.POINTER_MOVE,$),window.removeEventListener(r.Ks.POINTER_UP,ne),window.removeEventListener(r.Ks.BLUR,ne),$.flush()});return window.addEventListener(r.Ks.BLUR,ne),window.addEventListener(r.Ks.POINTER_MOVE,$,{passive:!0}),window.addEventListener(r.Ks.POINTER_UP,ne),!0},this.clearSelectionIfNotUsingSelection=function(){i.state.activeTool.type!=="selection"&&i.setState({selectedElementIds:(0,On.Oh)({},i.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})},this.handleSelectionOnPointerDown=function(C,K){if(i.state.activeTool.type==="selection"){var oe=i.scene.getNonDeletedElements(),we=i.scene.getSelectedElements(i.state);if(we.length!==1||i.state.editingLinearElement)we.length>1&&(K.resize.handleType=(0,ue.n2)((0,ue.KP)(we),K.origin.x,K.origin.y,i.state.zoom,C.pointerType));else{var de=(0,ue.jt)(oe,i.state,K.origin.x,K.origin.y,i.state.zoom,C.pointerType);de!=null&&(i.setState({resizingElement:de.element}),K.resize.handleType=de.transformHandleType)}if(K.resize.handleType)K.resize.isResizing=!0,K.resize.offset=(0,p.AK)((0,ue.xx)(K.resize.handleType,we,K.origin.x,K.origin.y)),we.length===1&&(0,ee.bt)(we[0])&&we[0].points.length===2&&(K.resize.arrowDirection=(0,ue.T)(K.resize.handleType,we[0]));else{var $;if(i.state.selectedLinearElement){var ne=i.state.editingLinearElement||i.state.selectedLinearElement,Pe=pe._.handlePointerDown(C,i.state,i.history,K.origin,ne);if(Pe.hitElement&&(K.hit.element=Pe.hitElement),Pe.linearElementEditor&&(i.setState({selectedLinearElement:Pe.linearElementEditor}),i.state.editingLinearElement&&i.setState({editingLinearElement:Pe.linearElementEditor})),Pe.didAddPoint)return!0}if(K.hit.element=($=K.hit.element)!==null&&$!==void 0?$:i.getElementAtPosition(K.origin.x,K.origin.y),K.hit.element&&i.getElementLinkAtPosition({x:K.origin.x,y:K.origin.y},K.hit.element))return!1;K.hit.allHitElements=i.getElementsAtPosition(K.origin.x,K.origin.y);var Be=K.hit.element,Fe=K.hit.allHitElements.some(function(it){return i.isASelectedElement(it)});if(Be!==null&&Fe||C.shiftKey||K.hit.hasHitCommonBoundingBoxOfSelectedElements||i.clearSelection(Be),i.state.editingLinearElement)i.setState({selectedElementIds:(0,On.Oh)((0,_.Z)({},i.state.editingLinearElement.elementId,!0),i.state)});else if(Be!=null){if(C[M.tW.CTRL_OR_CMD])return i.state.selectedElementIds[Be.id]||(K.hit.wasAddedToSelection=!0),i.setState(function(it){return Sr(Sr({},(0,qe.iE)(it,Be)),{},{previousSelectedElementIds:i.state.selectedElementIds})}),!1;i.state.selectedElementIds[Be.id]||(i.state.editingGroupId&&!(0,qe.Nd)(Be,i.state.editingGroupId)&&i.setState({selectedElementIds:(0,On.Oh)({},i.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),Fe||K.hit.hasHitCommonBoundingBoxOfSelectedElements||(i.setState(function(it){var st=Sr(Sr({},it.selectedElementIds),{},(0,_.Z)({},Be.id,!0)),vt=[];if(Object.keys(it.selectedElementIds).forEach(function(Qt){var vn=i.scene.getElement(Qt);vn&&vt.push(vn)}),Be.type==="frame")(0,Jt.zD)(vt,Be.id).forEach(function(Qt){delete st[Qt.id]});else if(Be.frameId)st[Be.frameId]&&delete st[Be.id];else{var jt=Be.groupIds,Lt=new Set(jt.flatMap(function(Qt){return(0,qe.Fb)(i.scene.getNonDeletedElements(),Qt)}).filter(function(Qt){return Qt.type==="frame"}).map(function(Qt){return Qt.id}));Lt.size>0&&vt.forEach(function(Qt){Qt.frameId&&Lt.has(Qt.frameId)&&(delete st[Qt.id],Qt.groupIds.flatMap(function(vn){return(0,qe.Fb)(i.scene.getNonDeletedElements(),vn)}).forEach(function(vn){delete st[vn.id]}))})}return Sr(Sr({},(0,qe.bO)({editingGroupId:it.editingGroupId,selectedElementIds:st},i.scene.getNonDeletedElements(),it,i)),{},{showHyperlinkPopup:!(!Be.link&&!(0,ee.gs)(Be))&&"info"})}),K.hit.wasAddedToSelection=!0))}i.setState({previousSelectedElementIds:i.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(C,K){if(!(0,ue.iB)(i.state.editingElement)){var oe=K.origin.x,we=K.origin.y,de=i.getElementAtPosition(oe,we,{includeBoundTextElement:!0}),$=(0,Zt.OW)(i.scene.getNonDeletedElements(),i.state,oe,we);(0,ee.Xo)(de)&&($=de,oe=de.x+de.width/2,we=de.y+de.height/2),i.startTextEditing({sceneX:oe,sceneY:we,insertAtParentCenter:!C.altKey,container:$}),(0,gn.z8)(i.interactiveCanvas),i.state.activeTool.locked||i.setState({activeTool:(0,p.Om)(i.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(C,K,oe){var we=(0,xe.wC)(oe.origin.x,oe.origin.y,null),de=(0,v.Z)(we,2),$=de[0],ne=de[1],Pe=i.getTopLayerFrameAtSceneCoords({x:$,y:ne}),Be=(0,Q.KE)({type:K,x:$,y:ne,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity,roundness:null,simulatePressure:C.pressure===.5,locked:!1,frameId:Pe?Pe.id:null});i.setState(function(st){var vt=Sr({},st.selectedElementIds);return delete vt[Be.id],{selectedElementIds:(0,On.Oh)(vt,st)}});var Fe=Be.simulatePressure?Be.pressures:[].concat((0,d.Z)(Be.pressures),[C.pressure]);(0,I.DR)(Be,{points:[[0,0]],pressures:Fe});var it=(0,E.Y9)(oe.origin,i.scene);i.scene.addNewElement(Be),i.setState({draggingElement:Be,editingElement:Be,startBoundElement:it,suggestedBindings:[]})},this.insertEmbeddableElement=function(C){var K,oe=C.sceneX,we=C.sceneY,de=C.link,$=(0,xe.wC)(oe,we,(K=i.lastPointerDownEvent)!==null&&K!==void 0&&K[M.tW.CTRL_OR_CMD]?null:i.state.gridSize),ne=(0,v.Z)($,2),Pe=ne[0],Be=ne[1],Fe=(0,D.LM)(de);if(Fe){Fe.warning&&i.setToast({message:Fe.warning,closable:!0});var it=(0,Q.M)({type:"embeddable",x:Pe,y:Be,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,roundness:i.getCurrentItemRoundness("embeddable"),opacity:i.state.currentItemOpacity,locked:!1,width:Fe.aspectRatio.w,height:Fe.aspectRatio.h,link:de,validated:null});return i.scene.replaceAllElements([].concat((0,d.Z)(i.scene.getElementsIncludingDeleted()),[it])),it}},this.createImageElement=function(C){var K,oe=C.sceneX,we=C.sceneY,de=C.addToFrameUnderCursor,$=de===void 0||de,ne=(0,xe.wC)(oe,we,(K=i.lastPointerDownEvent)!==null&&K!==void 0&&K[M.tW.CTRL_OR_CMD]?null:i.state.gridSize),Pe=(0,v.Z)(ne,2),Be=Pe[0],Fe=Pe[1],it=$?i.getTopLayerFrameAtSceneCoords({x:Be,y:Fe}):null;return(0,ue.vw)({type:"image",x:Be,y:Fe,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,roundness:null,opacity:i.state.currentItemOpacity,locked:!1,frameId:it?it.id:null})},this.handleLinearElementOnPointerDown=function(C,K,oe){if(i.state.multiElement){var we=i.state.multiElement;if(we.type==="line"&&(0,xe.g6)(we.points,i.state.zoom.value))return(0,I.DR)(we,{lastCommittedPoint:we.points[we.points.length-1]}),void i.actionManager.executeAction(q.pL);var de=we.x,$=we.y,ne=we.lastCommittedPoint;if(we.points.length>1&&ne&&(0,xe.LW)(oe.origin.x-de,oe.origin.y-$,ne[0],ne[1])<r.qx)return void i.actionManager.executeAction(q.pL);i.setState(function(Dn){return{selectedElementIds:(0,On.Oh)(Sr(Sr({},Dn.selectedElementIds),{},(0,_.Z)({},we.id,!0)),Dn)}}),(0,I.DR)(we,{lastCommittedPoint:we.points[we.points.length-1]}),(0,gn.KJ)(i.interactiveCanvas,r.oc.POINTER)}else{var Pe=(0,xe.wC)(oe.origin.x,oe.origin.y,C[M.tW.CTRL_OR_CMD]?null:i.state.gridSize),Be=(0,v.Z)(Pe,2),Fe=Be[0],it=Be[1],st=i.getTopLayerFrameAtSceneCoords({x:Fe,y:it}),vt=i.state,jt=vt.currentItemStartArrowhead,Lt=vt.currentItemEndArrowhead,Qt=K==="arrow"?[jt,Lt]:[null,null],vn=(0,v.Z)(Qt,2),$t=vn[0],Ut=vn[1],tn=(0,ue.y8)({type:K,x:Fe,y:it,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity,roundness:i.state.currentItemRoundness==="round"?{type:r.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:$t,endArrowhead:Ut,locked:!1,frameId:st?st.id:null});i.setState(function(Dn){var En=Sr({},Dn.selectedElementIds);return delete En[tn.id],{selectedElementIds:(0,On.Oh)(En,Dn)}}),(0,I.DR)(tn,{points:[].concat((0,d.Z)(tn.points),[[0,0]])});var xn=(0,E.Y9)(oe.origin,i.scene);i.scene.addNewElement(tn),i.setState({draggingElement:tn,editingElement:tn,startBoundElement:xn,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(C,K){var oe,we,de=(0,xe.wC)(K.origin.x,K.origin.y,(oe=i.lastPointerDownEvent)!==null&&oe!==void 0&&oe[M.tW.CTRL_OR_CMD]?null:i.state.gridSize),$=(0,v.Z)(de,2),ne=$[0],Pe=$[1],Be=i.getTopLayerFrameAtSceneCoords({x:ne,y:Pe}),Fe={x:ne,y:Pe,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity,roundness:i.getCurrentItemRoundness(C),locked:!1,frameId:Be?Be.id:null};(we=C==="embeddable"?(0,Q.M)(Sr({type:"embeddable",validated:null},Fe)):(0,ue.Up)(Sr({type:C},Fe))).type==="selection"?i.setState({selectionElement:we,draggingElement:we}):(i.scene.addNewElement(we),i.setState({multiElement:null,draggingElement:we,editingElement:we}))},this.createFrameElementOnPointerDown=function(C){var K,oe=(0,xe.wC)(C.origin.x,C.origin.y,(K=i.lastPointerDownEvent)!==null&&K!==void 0&&K[M.tW.CTRL_OR_CMD]?null:i.state.gridSize),we=(0,v.Z)(oe,2),de=we[0],$=we[1],ne=(0,Q.M3)(Sr({x:de,y:$,opacity:i.state.currentItemOpacity,locked:!1},r.iG));i.scene.replaceAllElements([].concat((0,d.Z)(i.scene.getElementsIncludingDeleted()),[ne])),i.setState({multiElement:null,draggingElement:ne,editingElement:ne})},this.restoreReadyToEraseElements=function(C){var K=i.scene.getElementsIncludingDeleted().map(function(oe){return C.elementIdsToErase[oe.id]&&C.elementIdsToErase[oe.id].erase?(0,I.BE)(oe,{opacity:C.elementIdsToErase[oe.id].opacity}):(0,ee.Xh)(oe)&&C.elementIdsToErase[oe.containerId]&&C.elementIdsToErase[oe.containerId].erase?(0,I.BE)(oe,{opacity:C.elementIdsToErase[oe.containerId].opacity}):oe.frameId&&C.elementIdsToErase[oe.frameId]&&C.elementIdsToErase[oe.frameId].erase?(0,I.BE)(oe,{opacity:C.elementIdsToErase[oe.frameId].opacity}):oe});i.scene.replaceAllElements(K)},this.eraseElements=function(C){var K=i.scene.getElementsIncludingDeleted().map(function(oe){return C.elementIdsToErase[oe.id]&&C.elementIdsToErase[oe.id].erase||(0,ee.Xh)(oe)&&C.elementIdsToErase[oe.containerId]&&C.elementIdsToErase[oe.containerId].erase||oe.frameId&&C.elementIdsToErase[oe.frameId]&&C.elementIdsToErase[oe.frameId].erase?(0,I.BE)(oe,{isDeleted:!0}):oe});i.history.resumeRecording(),i.scene.replaceAllElements(K)},this.initializeImage=function(){var C=(0,b.Z)(x().mark(function K(oe){var we,de,$,ne,Pe,Be,Fe,it,st,vt,jt,Lt,Qt,vn,$t;return x().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:if(ne=oe.imageFile,Pe=oe.imageElement,Be=oe.showCursorImagePreview,Fe=Be!==void 0&&Be,(0,An.Wr)(ne)){Ut.next=3;break}throw new Error((0,B.t)("errors.unsupportedFileType"));case 3:if(it=ne.type,(0,gn.KJ)(i.interactiveCanvas,"wait"),it!==r.LO.svg){Ut.next=23;break}return Ut.prev=6,Ut.t0=An.Pn,Ut.t1=dt.bp,Ut.next=11,ne.text();case 11:return Ut.t2=Ut.sent,Ut.next=14,(0,Ut.t1)(Ut.t2);case 14:Ut.t3=Ut.sent,Ut.t4=ne.name,ne=(0,Ut.t0)(Ut.t3,Ut.t4),Ut.next=23;break;case 19:throw Ut.prev=19,Ut.t5=Ut.catch(6),console.warn(Ut.t5),new Error((0,B.t)("errors.svgImageInsertError"));case 23:return Ut.next=25,((we=(de=i.props).generateIdForFile)===null||we===void 0?void 0:we.call(de,ne))||(0,An.tW)(ne);case 25:if(st=Ut.sent){Ut.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,B.t)("errors.imageInsertError"));case 29:if((vt=i.files[st])!=null&&vt.dataURL){Ut.next=42;break}return Ut.prev=31,Ut.next=34,(0,An.Tu)(ne,{maxWidthOrHeight:r.h6});case 34:ne=Ut.sent,Ut.next=40;break;case 37:Ut.prev=37,Ut.t6=Ut.catch(31),console.error("error trying to resing image file on insertion",Ut.t6);case 40:if(!(ne.size>r.$n)){Ut.next=42;break}throw new Error((0,B.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(r.$n/1024/1024),"MB")}));case 42:if(Fe&&(Lt=(jt=i.files[st])===null||jt===void 0?void 0:jt.dataURL,Qt=Lt&&(0,An.KG)(Lt),i.setImagePreviewCursor(Qt||ne)),Ut.t7=($=i.files[st])===null||$===void 0?void 0:$.dataURL,Ut.t7){Ut.next=48;break}return Ut.next=47,(0,An.Sf)(ne);case 47:Ut.t7=Ut.sent;case 48:return vn=Ut.t7,$t=(0,I.DR)(Pe,{fileId:st},!1),Ut.abrupt("return",new Promise(function(){var tn=(0,b.Z)(x().mark(function xn(Dn,En){var yn,Un;return x().wrap(function(gr){for(;;)switch(gr.prev=gr.next){case 0:if(gr.prev=0,i.files=Sr(Sr({},i.files),{},(0,_.Z)({},st,{mimeType:it,id:st,dataURL:vn,created:Date.now(),lastRetrieved:Date.now()})),Un=i.imageCache.get(st)){gr.next=7;break}return i.addNewImagesToImageCache(),gr.next=7,i.updateImageCache([$t]);case 7:if(!(Un?.image instanceof Promise)){gr.next=10;break}return gr.next=10,Un.image;case 10:i.state.pendingImageElementId!==$t.id&&((yn=i.state.draggingElement)===null||yn===void 0?void 0:yn.id)!==$t.id&&i.initializeImageDimensions($t,!0),Dn($t),gr.next=18;break;case 14:gr.prev=14,gr.t0=gr.catch(0),console.error(gr.t0),En(new Error((0,B.t)("errors.imageInsertError")));case 18:return gr.prev=18,Fe||(0,gn.z8)(i.interactiveCanvas),gr.finish(18);case 21:case"end":return gr.stop()}},xn,null,[[0,14,18,21]])}));return function(xn,Dn){return tn.apply(this,arguments)}}()));case 51:case"end":return Ut.stop()}},K,null,[[6,19],[31,37]])}));return function(K){return C.apply(this,arguments)}}(),this.insertImageElement=function(){var C=(0,b.Z)(x().mark(function K(oe,we,de){return x().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(i.isToolSupported("image")){$.next=3;break}return i.setState({errorMessage:(0,B.t)("errors.imageToolNotSupported")}),$.abrupt("return");case 3:return i.scene.addNewElement(oe),$.prev=4,$.next=7,i.initializeImage({imageFile:we,imageElement:oe,showCursorImagePreview:de});case 7:return $.abrupt("return",$.sent);case 10:return $.prev=10,$.t0=$.catch(4),(0,I.DR)(oe,{isDeleted:!0}),i.actionManager.executeAction(q.pL),i.setState({errorMessage:$.t0.message||(0,B.t)("errors.imageInsertError")}),$.abrupt("return",null);case 16:case"end":return $.stop()}},K,null,[[4,10]])}));return function(K,oe,we){return C.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var C=(0,b.Z)(x().mark(function K(oe){var we,de,$,ne,Pe,Be,Fe;return x().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return we=96,it.next=3,(0,An.Tu)(oe,{maxWidthOrHeight:we});case 3:return de=it.sent,it.next=6,(0,An.Sf)(de);case 6:if($=it.sent,oe.type!==r.LO.svg){it.next=20;break}return it.next=10,(0,dt.PK)($);case 10:ne=it.sent,Pe=Math.min(ne.height,we),(Be=Pe*(ne.width/ne.height))>we&&(Pe=(Be=we)*(ne.height/ne.width)),(Fe=document.createElement("canvas")).height=Pe,Fe.width=Be,Fe.getContext("2d").drawImage(ne,0,0,Be,Pe),$=Fe.toDataURL(r.LO.svg);case 20:i.state.pendingImageElementId&&(0,gn.KJ)(i.interactiveCanvas,"url(".concat($,") 4 4, auto"));case 21:case"end":return it.stop()}},K)}));return function(K){return C.apply(this,arguments)}}(),this.onImageAction=function(){var C=(0,b.Z)(x().mark(function K(oe){var we,de,$,ne,Pe,Be,Fe,it;return x().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return we=oe.insertOnCanvasDirectly,st.prev=1,de=i.state.width/2+i.state.offsetLeft,$=i.state.height/2+i.state.offsetTop,ne=(0,p.dE)({clientX:de,clientY:$},i.state),Pe=ne.x,Be=ne.y,st.next=7,(0,Yn.I$)({description:"Image",extensions:Object.keys(r.KL)});case 7:Fe=st.sent,it=i.createImageElement({sceneX:Pe,sceneY:Be,addToFrameUnderCursor:!1}),we?(i.insertImageElement(it,Fe),i.initializeImageDimensions(it),i.setState({selectedElementIds:(0,On.Oh)((0,_.Z)({},it.id,!0),i.state)},function(){i.actionManager.executeAction(q.pL)})):i.setState({pendingImageElementId:it.id},function(){i.insertImageElement(it,Fe,!0)}),st.next=16;break;case 12:st.prev=12,st.t0=st.catch(1),st.t0.name!=="AbortError"?console.error(st.t0):console.warn(st.t0),i.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,p.Om)(i.state,{type:"selection"})},function(){i.actionManager.executeAction(q.pL)});case 16:case"end":return st.stop()}},K,null,[[1,12]])}));return function(K){return C.apply(this,arguments)}}(),this.initializeImageDimensions=function(C){var K,oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],we=(0,ee.wi)(C)&&((K=i.imageCache.get(C.fileId))===null||K===void 0?void 0:K.image);if(!we||we instanceof Promise){if(C.width<r.f/i.state.zoom.value&&C.height<r.f/i.state.zoom.value){var de=100/i.state.zoom.value;(0,I.DR)(C,{x:C.x-de/2,y:C.y-de/2,width:de,height:de})}}else if(oe||C.width<r.f/i.state.zoom.value&&C.height<r.f/i.state.zoom.value){var $=Math.max(i.state.height-120,160),ne=Math.min($,Math.floor(.5*i.state.height)/i.state.zoom.value),Pe=Math.min(we.naturalHeight,ne),Be=Pe*(we.naturalWidth/we.naturalHeight),Fe=C.x+C.width/2-Be/2,it=C.y+C.height/2-Pe/2;(0,I.DR)(C,{x:Fe,y:it,width:Be,height:Pe})}},this.updateImageCache=function(){var C=(0,b.Z)(x().mark(function K(oe){var we,de,$,ne,Pe,Be,Fe,it=arguments;return x().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return we=it.length>1&&it[1]!==void 0?it[1]:i.files,st.next=3,(0,dt.Xx)({imageCache:i.imageCache,fileIds:oe.map(function(vt){return vt.fileId}),files:we});case 3:if(de=st.sent,$=de.updatedFiles,ne=de.erroredFiles,$.size||ne.size){Pe=fa(oe);try{for(Pe.s();!(Be=Pe.n()).done;)Fe=Be.value,$.has(Fe.fileId)&&Sa.R.delete(Fe)}catch(vt){Pe.e(vt)}finally{Pe.f()}}return ne.size&&i.scene.replaceAllElements(i.scene.getElementsIncludingDeleted().map(function(vt){return(0,ee.wi)(vt)&&ne.has(vt.fileId)?(0,I.BE)(vt,{status:"error"}):vt})),st.abrupt("return",{updatedFiles:$,erroredFiles:ne});case 9:case"end":return st.stop()}},K)}));return function(K){return C.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,b.Z)(x().mark(function C(){var K,oe,we,de,$=arguments;return x().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(K=$.length>0&&$[0]!==void 0?$[0]:(0,dt.oA)(i.scene.getNonDeletedElements()),oe=$.length>1&&$[1]!==void 0?$[1]:i.files,!(we=K.filter(function(Pe){return!Pe.isDeleted&&!i.imageCache.has(Pe.fileId)})).length){ne.next=9;break}return ne.next=6,i.updateImageCache(we,oe);case 6:de=ne.sent,de.updatedFiles.size&&i.scene.informMutation();case 9:case"end":return ne.stop()}},C)})),this.scheduleImageRefresh=Pt()(function(){i.addNewImagesToImageCache()},r.LL),this.updateBindingEnabledOnPointerMove=function(C){var K=(0,E.cz)(C);i.state.isBindingEnabled!==K&&i.setState({isBindingEnabled:K})},this.maybeSuggestBindingAtCursor=function(C){var K=(0,E.Y9)(C,i.scene);i.setState({suggestedBindings:K!=null?[K]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(C,K,oe){if(K.length){var we=K.reduce(function(de,$){var ne=(0,E.Y9)($,i.scene);return ne==null||(0,E.DK)(C,oe?.id,ne)||de.push(ne),de},[]);i.setState({suggestedBindings:we})}},this.handleInteractiveCanvasRef=function(C){var K,oe,we;C!==null?(i.interactiveCanvas=C,i.interactiveCanvas.addEventListener(r.Ks.WHEEL,i.handleWheel),i.interactiveCanvas.addEventListener(r.Ks.TOUCH_START,i.onTouchStart),i.interactiveCanvas.addEventListener(r.Ks.TOUCH_END,i.onTouchEnd)):((K=i.interactiveCanvas)===null||K===void 0||K.removeEventListener(r.Ks.WHEEL,i.handleWheel),(oe=i.interactiveCanvas)===null||oe===void 0||oe.removeEventListener(r.Ks.TOUCH_START,i.onTouchStart),(we=i.interactiveCanvas)===null||we===void 0||we.removeEventListener(r.Ks.TOUCH_END,i.onTouchEnd))},this.handleAppOnDrop=function(){var C=(0,b.Z)(x().mark(function K(oe){var we,de,$,ne,Pe,Be,Fe,it,st,vt,jt,Lt,Qt,vn,$t,Ut;return x().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:return tn.next=2,(0,An.bv)(oe);case 2:if($=tn.sent,ne=$.file,Pe=$.fileHandle,Be=(0,p.dE)(oe,i.state),Fe=Be.x,it=Be.y,tn.prev=6,!(0,An.Wr)(ne)||!i.isToolSupported("image")){tn.next=26;break}if(ne?.type!==r.LO.png&&ne?.type!==r.LO.svg){tn.next=21;break}return tn.prev=9,tn.next=12,(0,V.cT)(ne,i.state,i.scene.getElementsIncludingDeleted(),Pe);case 12:return st=tn.sent,i.syncActionResult(Sr(Sr({},st),{},{appState:Sr(Sr({},st.appState||i.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),tn.abrupt("return");case 17:if(tn.prev=17,tn.t0=tn.catch(9),tn.t0.name==="EncodingError"){tn.next=21;break}throw tn.t0;case 21:return vt=i.createImageElement({sceneX:Fe,sceneY:it}),i.insertImageElement(vt,ne),i.initializeImageDimensions(vt),i.setState({selectedElementIds:(0,On.Oh)((0,_.Z)({},vt.id,!0),i.state)}),tn.abrupt("return");case 26:tn.next=31;break;case 28:return tn.prev=28,tn.t1=tn.catch(6),tn.abrupt("return",i.setState({isLoading:!1,errorMessage:tn.t1.message}));case 31:if(!(jt=oe.dataTransfer.getData(r.LO.excalidrawlib))||typeof jt!="string"){tn.next=35;break}try{Lt=(0,An.wf)(jt),i.addElementsFromPasteOrLibrary({elements:(0,ie.WV)(Lt),position:oe,files:null})}catch(xn){i.setState({errorMessage:xn.message})}return tn.abrupt("return");case 35:if(!ne){tn.next=38;break}return tn.next=38,i.loadFileToCanvas(ne,Pe);case 38:(we=oe.dataTransfer)!==null&&we!==void 0&&(de=we.types)!==null&&de!==void 0&&de.includes("text/plain")&&($t=(Qt=oe.dataTransfer)===null||Qt===void 0?void 0:Qt.getData("text"))&&(0,D.xm)($t,i.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test($t)||((vn=(0,D.LM)($t))===null||vn===void 0?void 0:vn.type)==="video")&&(Ut=i.insertEmbeddableElement({sceneX:Fe,sceneY:it,link:(0,Wn.$u)($t)}))&&i.setState({selectedElementIds:(0,_.Z)({},Ut.id,!0)});case 39:case"end":return tn.stop()}},K,null,[[6,28],[9,17]])}));return function(K){return C.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var C=(0,b.Z)(x().mark(function K(oe,we){var de;return x().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,An.gY)(oe);case 2:return oe=$.sent,$.prev=3,$.next=6,(0,An.ZY)(oe,i.state,i.scene.getElementsIncludingDeleted(),we);case 6:if((de=$.sent).type!==r.LO.excalidraw){$.next=12;break}i.setState({isLoading:!0}),i.syncActionResult(Sr(Sr({},de.data),{},{appState:Sr(Sr({},de.data.appState||i.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),$.next=15;break;case 12:if(de.type!==r.LO.excalidrawlib){$.next=15;break}return $.next=15,i.library.updateLibrary({libraryItems:oe,merge:!0,openLibraryMenu:!0}).catch(function(ne){console.error(ne),i.setState({errorMessage:(0,B.t)("errors.importLibraryError")})});case 15:$.next=23;break;case 17:if($.prev=17,$.t0=$.catch(3),!($.t0 instanceof Wr.jk&&$.t0.code==="IMAGE_NOT_CONTAINS_SCENE_DATA")||i.isToolSupported("image")){$.next=22;break}return i.setState({isLoading:!1,errorMessage:(0,B.t)("errors.imageToolNotSupported")}),$.abrupt("return");case 22:i.setState({isLoading:!1,errorMessage:$.t0.message});case 23:case"end":return $.stop()}},K,null,[[3,17]])}));return function(K,oe){return C.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(C){if(C.preventDefault(),!("pointerType"in C.nativeEvent&&C.nativeEvent.pointerType==="touch"||"pointerType"in C.nativeEvent&&C.nativeEvent.pointerType==="pen"&&C.button!==r.Oh.SECONDARY)||i.state.activeTool.type==="selection"){var K=(0,p.dE)(C,i.state),oe=K.x,we=K.y,de=i.getElementAtPosition(oe,we,{preferSelected:!0,includeLockedElements:!0}),$=i.scene.getSelectedElements(i.state),ne=i.isHittingCommonBoundingBoxOfSelectedElements({x:oe,y:we},$),Pe=de||ne?"element":"canvas",Be=i.excalidrawContainerRef.current.getBoundingClientRect(),Fe=Be.top,it=Be.left,st=C.clientX-it,vt=C.clientY-Fe;(0,k.L)("contextMenu","openContextMenu",Pe),i.setState(Sr(Sr({},de&&!i.state.selectedElementIds[de.id]?Sr(Sr(Sr({},i.state),(0,qe.bO)({editingGroupId:i.state.editingGroupId,selectedElementIds:(0,_.Z)({},de.id,!0)},i.scene.getNonDeletedElements(),i.state,i)),{},{selectedLinearElement:(0,ee.bt)(de)?new pe._(de,i.scene):null}):i.state),{},{showHyperlinkPopup:!1}),function(){i.setState({contextMenu:{top:vt,left:st,items:i.getContextMenuItems(Pe)}})})}},this.maybeDragNewGenericElement=function(C,K){var oe=i.state.draggingElement,we=C.lastCoords;if(oe)if(oe.type==="selection"&&i.state.activeTool.type!=="eraser")(0,ue.EJ)(oe,i.state.activeTool.type,C.origin.x,C.origin.y,we.x,we.y,(0,p.TE)(C.origin.x,we.x),(0,p.TE)(C.origin.y,we.y),(0,M.E0)(K),(0,M.OA)(K));else{var de,$,ne,Pe,Be,Fe=(0,xe.wC)(we.x,we.y,K[M.tW.CTRL_OR_CMD]?null:i.state.gridSize),it=(0,v.Z)(Fe,2),st=it[0],vt=it[1],jt=(0,ee.wi)(oe)&&((de=i.imageCache.get(oe.fileId))===null||de===void 0?void 0:de.image),Lt=!jt||jt instanceof Promise?null:jt.width/jt.height;i.maybeCacheReferenceSnapPoints(K,[oe]);var Qt=function(Ut,tn,xn,Dn,En){var yn,Un,gr,_r;if(!Mo({event:xn,selectedElements:[Ut],appState:tn}))return{snapOffset:{x:0,y:0},snapLines:[]};var zr=[[Dn.x+En.x,Dn.y+En.y]],Qr=so(tn.zoom.value),ao={x:Qr,y:Qr},Rr=[],Nr=[];Xe([Ut],zr,tn,xn,Rr,Nr,ao);var Fr={x:(yn=(Un=Rr[0])===null||Un===void 0?void 0:Un.offset)!==null&&yn!==void 0?yn:0,y:(gr=(_r=Nr[0])===null||_r===void 0?void 0:_r.offset)!==null&&gr!==void 0?gr:0};ao.x=0,ao.y=0,Rr.length=0,Nr.length=0;var Ur=Zi([Ut],{boundingBoxCorners:!0,omitCenter:!0});return Xe([Ut],Ur,tn,xn,Rr,Nr,ao),{snapOffset:Fr,snapLines:Ct(Rr,Nr)}}(oe,i.state,K,{x:C.originInGrid.x+(($=(ne=i.state.originSnapOffset)===null||ne===void 0?void 0:ne.x)!==null&&$!==void 0?$:0),y:C.originInGrid.y+((Pe=(Be=i.state.originSnapOffset)===null||Be===void 0?void 0:Be.y)!==null&&Pe!==void 0?Pe:0)},{x:st-C.originInGrid.x,y:vt-C.originInGrid.y}),vn=Qt.snapOffset,$t=Qt.snapLines;st+=vn.x,vt+=vn.y,i.setState({snapLines:$t}),(0,ue.EJ)(oe,i.state.activeTool.type,C.originInGrid.x,C.originInGrid.y,st,vt,(0,p.TE)(C.originInGrid.x,st),(0,p.TE)(C.originInGrid.y,vt),(0,ee.pC)(oe)?!(0,M.E0)(K):(0,M.E0)(K),(0,M.OA)(K),Lt,i.state.originSnapOffset),i.maybeSuggestBindingForAll([oe]),i.state.activeTool.type==="frame"&&i.setState({elementsToHighlight:(0,Jt.ni)(i.scene.getNonDeletedElements(),oe,i.state)})}},this.maybeHandleResize=function(C,K){var oe=i.scene.getSelectedElements(i.state),we=oe.filter(function(Dn){return Dn.type==="frame"}),de=C.resize.handleType;if(we.length>0&&de==="rotation")return!1;i.setState({isResizing:de&&de!=="rotation",isRotating:de==="rotation",activeEmbeddable:null});var $=C.lastCoords,ne=(0,xe.wC)($.x-C.resize.offset.x,$.y-C.resize.offset.y,K[M.tW.CTRL_OR_CMD]?null:i.state.gridSize),Pe=(0,v.Z)(ne,2),Be=Pe[0],Fe=Pe[1],it=new Map;if(we.forEach(function(Dn){(0,Jt.zD)(i.scene.getNonDeletedElements(),Dn.id).forEach(function(En){it.set(Dn.id+En.id,{x:En.x-Dn.x,y:En.y-Dn.y})})}),!i.state.selectedElementsAreBeingDragged){var st=(0,xe.wC)($.x,$.y,K[M.tW.CTRL_OR_CMD]?null:i.state.gridSize),vt=(0,v.Z)(st,2),jt=vt[0],Lt=vt[1],Qt={x:jt-C.originInGrid.x,y:Lt-C.originInGrid.y},vn=(0,d.Z)(C.originalElements.values());i.maybeCacheReferenceSnapPoints(K,oe);var $t=Dt(oe,(0,ye.eD)(vn,i.state),i.state,K,Qt,de),Ut=$t.snapOffset,tn=$t.snapLines;Be+=Ut.x,Fe+=Ut.y,i.setState({snapLines:tn})}if((0,ue.vY)(C,de,oe,C.resize.arrowDirection,(0,M.Ge)(K),(0,M.OA)(K),oe.length===1&&(0,ee.pC)(oe[0])?!(0,M.E0)(K):(0,M.E0)(K),Be,Fe,C.resize.center.x,C.resize.center.y,i.state)){i.maybeSuggestBindingForAll(oe);var xn=new Set;return we.forEach(function(Dn){var En=(0,Jt.zD)(i.scene.getNonDeletedElements(),Dn.id);de&&(de.includes("w")&&En.forEach(function(yn){var Un,gr;(0,I.DR)(yn,{x:Dn.x+(((Un=it.get(Dn.id+yn.id))===null||Un===void 0?void 0:Un.x)||0),y:Dn.y+(((gr=it.get(Dn.id+yn.id))===null||gr===void 0?void 0:gr.y)||0)})}),de.includes("n")&&En.forEach(function(yn){var Un,gr;(0,I.DR)(yn,{x:Dn.x+(((Un=it.get(Dn.id+yn.id))===null||Un===void 0?void 0:Un.x)||0),y:Dn.y+(((gr=it.get(Dn.id+yn.id))===null||gr===void 0?void 0:gr.y)||0)})})),(0,Jt.ni)(i.scene.getNonDeletedElements(),Dn,i.state).forEach(function(yn){return xn.add(yn)})}),i.setState({elementsToHighlight:(0,d.Z)(xn)}),!0}return!1},this.getContextMenuItems=function(C){var K=[];return K.push(q.jK,q.FA),C==="canvas"?i.state.viewModeEnabled?[].concat(K,[q.Pb,q.JN,nt,q.u0]):[In.yQ,Qe,q.jK,q.FA,q.zp,Qe,q.Yy,Gt.U,Qe,q.Pb,q.pm,q.JN,nt,q.u0]:(K.push(q.zp),i.state.viewModeEnabled?[q.uN].concat(K):[q.ZM,q.uN,In.yQ,jr,Vr,Qe].concat(K,[Qe,q.pw,q.W3,Qe,q.EQ,q.y7,q.vD,wn.JQ,q.s,Qe,q.FL,Qe,q.V,q.yA,q.zi,q.BZ,Qe,q.jl,q.kt,Qe,q.Qs,q.nz,q.xF,q.$h,Qe,q.X9]))},this.handleWheel=(0,p.tH)(function(C){if(C.preventDefault(),!Dl){var K=C.deltaX,oe=C.deltaY;if(C.metaKey||C.ctrlKey){var we=Math.sign(oe),de=100*r.V4,$=Math.abs(oe),ne=oe;$>de&&(ne=de*we);var Pe=i.state.zoom.value-ne/100;return Pe+=Math.log10(Math.max(1,i.state.zoom.value))*-we*Math.min(1,$/20),i.translateCanvas(function(Be){return Sr(Sr({},(0,l.E)({viewportX:i.lastViewportPosition.x,viewportY:i.lastViewportPosition.y,nextZoom:(0,ye.j)(Pe)},Be)),{},{shouldCacheIgnoreZoom:!0})}),void i.resetShouldCacheIgnoreZoomDebounced()}C.shiftKey?i.translateCanvas(function(Be){var Fe=Be.zoom;return{scrollX:Be.scrollX-(oe||K)/Fe.value}}):i.translateCanvas(function(Be){var Fe=Be.zoom,it=Be.scrollX,st=Be.scrollY;return{scrollX:it-K/Fe.value,scrollY:st-oe/Fe.value}})}}),this.savePointer=function(C,K,oe){var we,de;if(C&&K){var $=(0,p.dE)({clientX:C,clientY:K},i.state),ne=$.x,Pe=$.y,Be={x:ne,y:Pe,tool:i.state.activeTool.type==="laser"?"laser":"pointer"};(we=(de=i.props).onPointerUpdate)===null||we===void 0||we.call(de,{pointer:Be,button:oe,pointersMap:Qo.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,p.Ds)(function(){i.unmounted||i.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(C){var K;if((K=i.excalidrawContainerRef)!==null&&K!==void 0&&K.current){var oe=i.excalidrawContainerRef.current.getBoundingClientRect(),we=oe.width,de=oe.height,$=oe.left,ne=oe.top,Pe=i.state,Be=Pe.width,Fe=Pe.height,it=Pe.offsetTop,st=Pe.offsetLeft;if(we===Be&&de===Fe&&$===st&&ne===it)return void(C&&C());i.setState({width:we,height:de,offsetLeft:$,offsetTop:ne},function(){C&&C()})}},this.refresh=function(){i.setState(Sr({},i.getCanvasOffsets()))}};r.Vi.TEST==="production"&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var i;return(i=this.app)===null||i===void 0?void 0:i.scene.getElementsIncludingDeleted()},set:function(i){var C;return(C=this.app)===null||C===void 0?void 0:C.scene.replaceAllElements(i)}}}));var ns=Ns},8806:function(te,t,e){e.d(t,{z:function(){return B}});var w=e(7169),v=e(2726),d=e(45),b=e(9827),T=e(3379),S=e.n(T),a=e(7795),c=e.n(a),Z=e(569),F=e.n(Z),_=e(3565),h=e.n(_),x=e(9216),G=e.n(x),le=e(4589),he=e.n(le),ve=e(3137),fe={};fe.styleTagTransform=he(),fe.setAttributes=h(),fe.insert=F().bind(null,"head"),fe.domAPI=c(),fe.insertStyleElement=G(),S()(ve.Z,fe),ve.Z&&ve.Z.locals&&ve.Z.locals;var X=e(1020),q=["type","onSelect","selected","children","className"];function U(M,I){var E=Object.keys(M);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(M);I&&(p=p.filter(function(r){return Object.getOwnPropertyDescriptor(M,r).enumerable})),E.push.apply(E,p)}return E}function R(M){for(var I=1;I<arguments.length;I++){var E=arguments[I]!=null?arguments[I]:{};I%2?U(Object(E),!0).forEach(function(p){(0,w.Z)(M,p,E[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(E)):U(Object(E)).forEach(function(p){Object.defineProperty(M,p,Object.getOwnPropertyDescriptor(E,p))})}return M}var B=function(M){var I=M.type,E=I===void 0?"button":I,p=M.onSelect,r=M.selected,o=M.children,g=M.className,s=g===void 0?"":g,u=(0,v.Z)(M,q);return(0,X.jsx)("button",R(R({onClick:(0,b.Mj)(u.onClick,function(k){p()}),type:E,className:(0,d.Z)("excalidraw-button",s,{selected:r})},u),{},{children:o}))}},6238:function(te,t,e){e.d(t,{o:function(){return fe}});var w=e(45),v=e(8935),d=e(3379),b=e.n(d),T=e(7795),S=e.n(T),a=e(569),c=e.n(a),Z=e(3565),F=e.n(Z),_=e(9216),h=e.n(_),x=e(4589),G=e.n(x),le=e(6029),he={};he.styleTagTransform=G(),he.setAttributes=F(),he.insert=c().bind(null,"head"),he.domAPI=S(),he.insertStyleElement=h(),b()(le.Z,he),le.Z&&le.Z.locals&&le.Z.locals;var ve=e(1020),fe=function(X){var q=X.children,U=X.checked,R=X.onChange,B=X.className;return(0,ve.jsxs)("div",{className:(0,w.Z)("Checkbox",B,{"is-checked":U}),onClick:function(M){R(!U,M),M.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,ve.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":U,children:v.eQ}),(0,ve.jsx)("div",{className:"Checkbox-label",children:q})]})}},193:function(te,t,e){e.d(t,{z:function(){return at},L:function(){return Mo}});var w=e(2577),v=e(9827),d=e(45),b=e(9240),T=e(1020),S=function(Me){var Ye,Xe=Me.onChange,lt=Me.type,gt=Me.activeColor,Ct=Me.topPicks;return lt==="elementStroke"&&(Ye=b.fY),lt==="elementBackground"&&(Ye=b.eq),lt==="canvasBackground"&&(Ye=b.ay),Ct&&(Ye=Ct),Ye?(0,T.jsx)("div",{className:"color-picker__top-picks",children:Ye.map(function(_t){return(0,T.jsx)("button",{className:(0,d.Z)("color-picker__button",{active:_t===gt,"is-transparent":_t==="transparent"||!_t}),style:{"--swatch-color":_t},type:"button",title:_t,onClick:function(){return Xe(_t)},"data-testid":"color-top-pick-".concat(_t),children:(0,T.jsx)("div",{className:"color-picker__button-outline"})},_t)})}):(console.error("Invalid type for TopPicks"),null)},a=e(9787),c=e.n(a),Z=e(8227),F=e(3607),_=e(1930),h=function(Me){for(var Ye=Me.palette,Xe=Me.color,lt=0,gt=Object.entries(Ye);lt<gt.length;lt++){var Ct=(0,w.Z)(gt[lt],2),_t=Ct[0],Dt=Ct[1];if(Array.isArray(Dt)){var wn=Dt.indexOf(Xe);if(wn>-1)return{colorName:_t,shade:wn}}else if(Dt===Xe)return{colorName:_t,shade:null}}return null},x=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),G=function(Me){var Ye=Me.color,Xe=Me.palette;return!Object.values(Xe).flat().includes(Ye)},le=(0,F.cn)(null),he=function(Me,Ye,Xe){return(299*Me+587*Ye+114*Xe)/1e3>=160?"black":"white"},ve=function(Me,Ye){if(Ye){var Xe=new Option().style;if(Xe.color=Me,Xe.color){var lt=Xe.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),gt=parseInt(lt[0]),Ct=parseInt(lt[1]),_t=parseInt(lt[2]);return he(gt,Ct,_t)}}if(Me==="transparent")return"black";var Dt=parseInt(Me.substring(1,3),16),wn=parseInt(Me.substring(3,5),16),Pn=parseInt(Me.substring(5,7),16);return he(Dt,wn,Pn)},fe=function(Me){var Ye=Me.color,Xe=Me.keyLabel,lt=Me.isCustomColor,gt=lt!==void 0&&lt,Ct=Me.isShade,_t=Ct!==void 0&&Ct;return(0,T.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:ve(Ye,gt)},children:[_t&&"⇧",Xe]})},X=function(Me){var Ye=Me.hex,Xe=Me.onChange,lt=Me.palette,gt=h({color:Ye||"transparent",palette:lt}),Ct=(0,F.KO)(le),_t=(0,w.Z)(Ct,2),Dt=_t[0],wn=_t[1],Pn=(0,a.useRef)(null);if((0,a.useEffect)(function(){Pn.current&&Dt==="shades"&&Pn.current.focus()},[gt,Dt]),gt){var fn=gt.colorName,_n=gt.shade,zn=lt[fn];if(Array.isArray(zn))return(0,T.jsx)("div",{className:"color-picker-content--default shades",children:zn.map(function(Nn,Rn){return(0,T.jsxs)("button",{ref:Rn===_n&&Dt==="shades"?Pn:void 0,tabIndex:-1,type:"button",className:(0,d.Z)("color-picker__button color-picker__button--large",{active:Rn===_n}),"aria-label":"Shade",title:"".concat(fn," - ").concat(Rn+1),style:Nn?{"--swatch-color":Nn}:void 0,onClick:function(){Xe(Nn),wn("shades")},children:[(0,T.jsx)("div",{className:"color-picker__button-outline"}),(0,T.jsx)(fe,{color:Nn,keyLabel:Rn+1,isShade:!0})]},Rn)})})}return(0,T.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,T.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,T.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:(0,Z.t)("colorPicker.noShades")})]})},q=function(Me){var Ye=Me.palette,Xe=Me.color,lt=Me.onChange,gt=(Me.label,Me.activeShade),Ct=h({color:Xe||"transparent",palette:Ye}),_t=(0,F.KO)(le),Dt=(0,w.Z)(_t,2),wn=Dt[0],Pn=Dt[1],fn=(0,a.useRef)(null);return(0,a.useEffect)(function(){fn.current&&wn==="baseColors"&&fn.current.focus()},[Ct?.colorName,wn]),(0,T.jsx)("div",{className:"color-picker-content--default",children:Object.entries(Ye).map(function(_n,zn){var Nn=(0,w.Z)(_n,2),Rn=Nn[0],Tn=Nn[1],Vn=(Array.isArray(Tn)?Tn[gt]:Tn)||"transparent",sr=x[zn],mr=(0,Z.t)("colors.".concat(Rn.replace(/\d+/,"")),null,"");return(0,T.jsxs)("button",{ref:Ct?.colorName===Rn?fn:void 0,tabIndex:-1,type:"button",className:(0,d.Z)("color-picker__button color-picker__button--large",{active:Ct?.colorName===Rn,"is-transparent":Vn==="transparent"||!Vn}),onClick:function(){lt(Vn),Pn("baseColors")},title:"".concat(mr).concat(Vn.startsWith("#")?" ".concat(Vn):""," — ").concat(sr),"aria-label":"".concat(mr," — ").concat(sr),style:{"--swatch-color":Vn},"data-testid":"color-".concat(Rn),children:[(0,T.jsx)("div",{className:"color-picker__button-outline"}),(0,T.jsx)(fe,{color:Vn,keyLabel:sr})]},Rn)})})},U=function(Me){var Ye=Me.colors,Xe=Me.color,lt=Me.onChange,gt=Me.label,Ct=(0,F.KO)(le),_t=(0,w.Z)(Ct,2),Dt=_t[0],wn=_t[1],Pn=(0,a.useRef)(null);return(0,a.useEffect)(function(){Pn.current&&Pn.current.focus()},[Xe,Dt]),(0,T.jsx)("div",{className:"color-picker-content--default",children:Ye.map(function(fn,_n){return(0,T.jsxs)("button",{ref:Xe===fn?Pn:void 0,tabIndex:-1,type:"button",className:(0,d.Z)("color-picker__button color-picker__button--large",{active:Xe===fn,"is-transparent":fn==="transparent"||!fn}),onClick:function(){lt(fn),wn("custom")},title:fn,"aria-label":gt,style:{"--swatch-color":fn},children:[(0,T.jsx)("div",{className:"color-picker__button-outline"}),(0,T.jsx)(fe,{color:fn,keyLabel:_n+1,isCustomColor:!0})]},_n)})})},R=e(5491),B=function(Me,Ye,Xe){var lt,gt=Math.ceil(Xe/b.dC);switch(Ye=(lt=Ye)!==null&&lt!==void 0?lt:-1,Me){case"ArrowLeft":var Ct=Ye-1;return Ct<0?Xe-1:Ct;case"ArrowRight":return(Ye+1)%Xe;case"ArrowDown":var _t=Ye+b.dC;return _t>=Xe?Ye%b.dC:_t;case"ArrowUp":var Dt=Ye-b.dC,wn=Dt<0?b.dC*gt+Dt:Dt;return wn>=Xe?void 0:wn}},M=function(Me){var Ye=Me.event,Xe=Me.activeColorPickerSection,lt=Me.palette,gt=Me.color,Ct=Me.onChange,_t=Me.customColors,Dt=Me.setActiveColorPickerSection,wn=Me.activeShade,Pn=Me.onEyeDropperToggle,fn=Me.onEscape;if(Ye[R.tW.CTRL_OR_CMD])return!1;if(Ye.key===R.tW.ESCAPE)return fn(Ye),!0;if(Ye.key===R.tW.ALT)return Pn(!0),!0;if(Ye.key===R.tW.I)return Pn(),!0;var _n=h({color:gt,palette:lt});if(Ye.key===R.tW.TAB){var zn={custom:!!_t.length,baseColors:!0,shades:_n?.shade!=null,hex:!0},Nn=Object.entries(zn).reduce(function(Jr,co){var po=(0,w.Z)(co,2),xo=po[0];return po[1]&&Jr.push(xo),Jr},[]),Rn=Nn.indexOf(Xe),Tn=Ye.shiftKey?-1:1,Vn=Nn[Rn+Tn>Nn.length-1?0:Rn+Tn<0?Nn.length-1:Rn+Tn];return Vn&&Dt(Vn),Vn==="custom"?Ct(_t[0]):Vn==="baseColors"&&(Object.entries(lt).find(function(Jr){var co=(0,w.Z)(Jr,2),po=co[0],xo=co[1];return Array.isArray(xo)?xo.includes(gt):xo===gt?po:null})||Ct(b.HO.black)),Ye.preventDefault(),Ye.stopPropagation(),!0}if(function(Jr){var co=Jr.e,po=Jr.colorObj,xo=Jr.onChange,Ho=Jr.palette,gi=Jr.customColors,Si=Jr.setActiveColorPickerSection,_i=Jr.activeShade;if(po?.shade!=null&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(co.code)&&co.shiftKey){var da=Number(co.code.slice(-1))-1;return xo(Ho[po.colorName][da]),Si("shades"),!0}if(["1","2","3","4","5"].includes(co.key)&&gi[Number(co.key)-1])return xo(gi[Number(co.key)-1]),Si("custom"),!0;if(x.includes(co.key)){var ta=x.indexOf(co.key),li=Ho[Object.keys(Ho)[ta]];return xo(Array.isArray(li)?li[_i]:li),Si("baseColors"),!0}return!1}({e:Ye,colorObj:_n,onChange:Ct,palette:lt,customColors:_t,setActiveColorPickerSection:Dt,activeShade:wn}))return!0;if(Xe==="shades"&&_n){var sr=_n.shade,mr=B(Ye.key,sr,b.dC);if(mr!==void 0)return Ct(lt[_n.colorName][mr]),!0}if(Xe==="baseColors"&&_n){var or=_n.colorName,ar=Object.keys(lt),Pr=ar.indexOf(or),Hr=B(Ye.key,Pr,ar.length);if(Hr!==void 0){var Dr=lt[ar[Hr]];return Ct(Array.isArray(Dr)?Dr[wn]:Dr),!0}}if(Xe==="custom"){var Lr=_t.indexOf(gt),Xr=B(Ye.key,Lr,_t.length);if(Xr!==void 0)return Ct(_t[Xr]),!0}return!1},I=function(Me){var Ye=Me.children;return(0,T.jsx)("div",{className:"color-picker__heading",children:Ye})},E=e(9937),p=function(Me){var Ye,Xe=Me.color,lt=Me.onChange,gt=Me.label,Ct=Me.type,_t=Me.elements,Dt=Me.palette;Me.updateData;var wn=Me.children,Pn=Me.onEyeDropperToggle,fn=Me.onEscape,_n=c().useState(function(){return Ct==="canvasBackground"?[]:function(Dr,Lr,Xr){var Jr={elementBackground:"backgroundColor",elementStroke:"strokeColor"},co=Dr.filter(function(xo){if(xo.isDeleted)return!1;var Ho=xo[Jr[Lr]];return G({color:Ho,palette:Xr})}),po=new Map;return co.forEach(function(xo){var Ho=xo[Jr[Lr]];po.has(Ho)?po.set(Ho,po.get(Ho)+1):po.set(Ho,1)}),(0,_.Z)(po.entries()).sort(function(xo,Ho){return Ho[1]-xo[1]}).map(function(xo){return xo[0]}).slice(0,b.Lx)}(_t,Ct,Dt)}),zn=(0,w.Z)(_n,1)[0],Nn=(0,F.KO)(le),Rn=(0,w.Z)(Nn,2),Tn=Rn[0],Vn=Rn[1],sr=h({color:Xe,palette:Dt});(0,a.useEffect)(function(){if(!Tn){var Dr=G({color:Xe,palette:Dt}),Lr=Dr&&!zn.includes(Xe);Vn(Lr?"hex":Dr?"custom":sr?.shade!=null?"shades":"baseColors")}},[Tn,Xe,Dt,Vn,sr,zn]);var mr=(0,a.useState)((Ye=sr?.shade)!==null&&Ye!==void 0?Ye:Ct==="elementBackground"?b._T:b.z8),or=(0,w.Z)(mr,2),ar=or[0],Pr=or[1];(0,a.useEffect)(function(){sr?.shade!=null&&Pr(sr.shade);var Dr=function(Lr){Lr.key===R.tW.ALT&&Pn(!1)};return document.addEventListener(E.Ks.KEYUP,Dr,{capture:!0}),function(){document.removeEventListener(E.Ks.KEYUP,Dr,{capture:!0})}},[sr,Pn]);var Hr=c().useRef(null);return(0,T.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":(0,Z.t)("labels.colorPicker"),children:(0,T.jsxs)("div",{ref:Hr,onKeyDown:function(Dr){M({event:Dr,activeColorPickerSection:Tn,palette:Dt,color:Xe,onChange:lt,onEyeDropperToggle:Pn,customColors:zn,setActiveColorPickerSection:Vn,activeShade:ar,onEscape:fn})&&(Dr.preventDefault(),Dr.stopPropagation())},className:"color-picker-content",tabIndex:-1,children:[!!zn.length&&(0,T.jsxs)("div",{children:[(0,T.jsx)(I,{children:(0,Z.t)("colorPicker.mostUsedCustomColors")}),(0,T.jsx)(U,{colors:zn,color:Xe,label:(0,Z.t)("colorPicker.mostUsedCustomColors"),onChange:lt})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)(I,{children:(0,Z.t)("colorPicker.colors")}),(0,T.jsx)(q,{color:Xe,label:gt,palette:Dt,onChange:lt,activeShade:ar})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)(I,{children:(0,Z.t)("colorPicker.shades")}),(0,T.jsx)(X,{hex:Xe,onChange:lt,palette:Dt})]}),wn]})})},r=e(11),o=e(7217),g=e(9335),s=e(1267),u=e(3119),k=e(3060);const N="dismissableLayer.update",W="dismissableLayer.pointerDownOutside",O="dismissableLayer.focusOutside";let j;const L=(0,a.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),V=(0,a.forwardRef)((Me,Ye)=>{var Xe;const{disableOutsidePointerEvents:lt=!1,onEscapeKeyDown:gt,onPointerDownOutside:Ct,onFocusOutside:_t,onInteractOutside:Dt,onDismiss:wn,...Pn}=Me,fn=(0,a.useContext)(L),[_n,zn]=(0,a.useState)(null),Nn=(Xe=_n?.ownerDocument)!==null&&Xe!==void 0?Xe:globalThis?.document,[,Rn]=(0,a.useState)({}),Tn=(0,g.e)(Ye,Lr=>zn(Lr)),Vn=Array.from(fn.layers),[sr]=[...fn.layersWithOutsidePointerEventsDisabled].slice(-1),mr=Vn.indexOf(sr),or=_n?Vn.indexOf(_n):-1,ar=fn.layersWithOutsidePointerEventsDisabled.size>0,Pr=or>=mr,Hr=function(Lr,Xr=globalThis?.document){const Jr=(0,k.W)(Lr),co=(0,a.useRef)(!1),po=(0,a.useRef)(()=>{});return(0,a.useEffect)(()=>{const xo=gi=>{if(gi.target&&!co.current){let Si=function(){se(W,Jr,_i,{discrete:!0})};const _i={originalEvent:gi};gi.pointerType==="touch"?(Xr.removeEventListener("click",po.current),po.current=Si,Xr.addEventListener("click",po.current,{once:!0})):Si()}co.current=!1},Ho=window.setTimeout(()=>{Xr.addEventListener("pointerdown",xo)},0);return()=>{window.clearTimeout(Ho),Xr.removeEventListener("pointerdown",xo),Xr.removeEventListener("click",po.current)}},[Xr,Jr]),{onPointerDownCapture:()=>co.current=!0}}(Lr=>{const Xr=Lr.target,Jr=[...fn.branches].some(co=>co.contains(Xr));Pr&&!Jr&&(Ct?.(Lr),Dt?.(Lr),Lr.defaultPrevented||wn==null||wn())},Nn),Dr=function(Lr,Xr=globalThis?.document){const Jr=(0,k.W)(Lr),co=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{const po=xo=>{xo.target&&!co.current&&se(O,Jr,{originalEvent:xo},{discrete:!1})};return Xr.addEventListener("focusin",po),()=>Xr.removeEventListener("focusin",po)},[Xr,Jr]),{onFocusCapture:()=>co.current=!0,onBlurCapture:()=>co.current=!1}}(Lr=>{const Xr=Lr.target;[...fn.branches].some(Jr=>Jr.contains(Xr))||(_t?.(Lr),Dt?.(Lr),Lr.defaultPrevented||wn==null||wn())},Nn);return function(Lr,Xr=globalThis?.document){const Jr=(0,k.W)(Lr);(0,a.useEffect)(()=>{const co=po=>{po.key==="Escape"&&Jr(po)};return Xr.addEventListener("keydown",co),()=>Xr.removeEventListener("keydown",co)},[Jr,Xr])}(Lr=>{or===fn.layers.size-1&&(gt?.(Lr),!Lr.defaultPrevented&&wn&&(Lr.preventDefault(),wn()))},Nn),(0,a.useEffect)(()=>{if(_n)return lt&&(fn.layersWithOutsidePointerEventsDisabled.size===0&&(j=Nn.body.style.pointerEvents,Nn.body.style.pointerEvents="none"),fn.layersWithOutsidePointerEventsDisabled.add(_n)),fn.layers.add(_n),ie(),()=>{lt&&fn.layersWithOutsidePointerEventsDisabled.size===1&&(Nn.body.style.pointerEvents=j)}},[_n,Nn,lt,fn]),(0,a.useEffect)(()=>()=>{_n&&(fn.layers.delete(_n),fn.layersWithOutsidePointerEventsDisabled.delete(_n),ie())},[_n,fn]),(0,a.useEffect)(()=>{const Lr=()=>Rn({});return document.addEventListener(N,Lr),()=>document.removeEventListener(N,Lr)},[]),(0,a.createElement)(u.WV.div,(0,r.Z)({},Pn,{ref:Tn,style:{pointerEvents:ar?Pr?"auto":"none":void 0,...Me.style},onFocusCapture:(0,o.M)(Me.onFocusCapture,Dr.onFocusCapture),onBlurCapture:(0,o.M)(Me.onBlurCapture,Dr.onBlurCapture),onPointerDownCapture:(0,o.M)(Me.onPointerDownCapture,Hr.onPointerDownCapture)}))});function ie(){const Me=new CustomEvent(N);document.dispatchEvent(Me)}function se(Me,Ye,Xe,{discrete:lt}){const gt=Xe.originalEvent.target,Ct=new CustomEvent(Me,{bubbles:!1,cancelable:!0,detail:Xe});Ye&&gt.addEventListener(Me,Ye,{once:!0}),lt?(0,u.jH)(gt,Ct):gt.dispatchEvent(Ct)}let ue=0;function pe(){(0,a.useEffect)(()=>{var Me,Ye;const Xe=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(Me=Xe[0])!==null&&Me!==void 0?Me:Q()),document.body.insertAdjacentElement("beforeend",(Ye=Xe[1])!==null&&Ye!==void 0?Ye:Q()),ue++,()=>{ue===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(lt=>lt.remove()),ue--}},[])}function Q(){const Me=document.createElement("span");return Me.setAttribute("data-radix-focus-guard",""),Me.tabIndex=0,Me.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",Me}const ee="focusScope.autoFocusOnMount",me="focusScope.autoFocusOnUnmount",Te={bubbles:!1,cancelable:!0},Ue=(0,a.forwardRef)((Me,Ye)=>{const{loop:Xe=!1,trapped:lt=!1,onMountAutoFocus:gt,onUnmountAutoFocus:Ct,..._t}=Me,[Dt,wn]=(0,a.useState)(null),Pn=(0,k.W)(gt),fn=(0,k.W)(Ct),_n=(0,a.useRef)(null),zn=(0,g.e)(Ye,Tn=>wn(Tn)),Nn=(0,a.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,a.useEffect)(()=>{if(lt){let Tn=function(sr){if(Nn.paused||!Dt)return;const mr=sr.target;Dt.contains(mr)?_n.current=mr:Ie(_n.current,{select:!0})},Vn=function(sr){!Nn.paused&&Dt&&(Dt.contains(sr.relatedTarget)||Ie(_n.current,{select:!0}))};return document.addEventListener("focusin",Tn),document.addEventListener("focusout",Vn),()=>{document.removeEventListener("focusin",Tn),document.removeEventListener("focusout",Vn)}}},[lt,Dt,Nn.paused]),(0,a.useEffect)(()=>{if(Dt){Re.add(Nn);const Vn=document.activeElement;if(!Dt.contains(Vn)){const sr=new CustomEvent(ee,Te);Dt.addEventListener(ee,Pn),Dt.dispatchEvent(sr),sr.defaultPrevented||(function(mr,{select:or=!1}={}){const ar=document.activeElement;for(const Pr of mr)if(Ie(Pr,{select:or}),document.activeElement!==ar)return}((Tn=qe(Dt),Tn.filter(mr=>mr.tagName!=="A")),{select:!0}),document.activeElement===Vn&&Ie(Dt))}return()=>{Dt.removeEventListener(ee,Pn),setTimeout(()=>{const sr=new CustomEvent(me,Te);Dt.addEventListener(me,fn),Dt.dispatchEvent(sr),sr.defaultPrevented||Ie(Vn??document.body,{select:!0}),Dt.removeEventListener(me,fn),Re.remove(Nn)},0)}}var Tn},[Dt,Pn,fn,Nn]);const Rn=(0,a.useCallback)(Tn=>{if(!Xe&&!lt||Nn.paused)return;const Vn=Tn.key==="Tab"&&!Tn.altKey&&!Tn.ctrlKey&&!Tn.metaKey,sr=document.activeElement;if(Vn&&sr){const mr=Tn.currentTarget,[or,ar]=function(Pr){const Hr=qe(Pr),Dr=Ae(Hr,Pr),Lr=Ae(Hr.reverse(),Pr);return[Dr,Lr]}(mr);or&&ar?Tn.shiftKey||sr!==ar?Tn.shiftKey&&sr===or&&(Tn.preventDefault(),Xe&&Ie(ar,{select:!0})):(Tn.preventDefault(),Xe&&Ie(or,{select:!0})):sr===mr&&Tn.preventDefault()}},[Xe,lt,Nn.paused]);return(0,a.createElement)(u.WV.div,(0,r.Z)({tabIndex:-1},_t,{ref:zn,onKeyDown:Rn}))});function qe(Me){const Ye=[],Xe=document.createTreeWalker(Me,NodeFilter.SHOW_ELEMENT,{acceptNode:lt=>{const gt=lt.tagName==="INPUT"&&lt.type==="hidden";return lt.disabled||lt.hidden||gt?NodeFilter.FILTER_SKIP:lt.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;Xe.nextNode();)Ye.push(Xe.currentNode);return Ye}function Ae(Me,Ye){for(const Xe of Me)if(!Oe(Xe,{upTo:Ye}))return Xe}function Oe(Me,{upTo:Ye}){if(getComputedStyle(Me).visibility==="hidden")return!0;for(;Me;){if(Ye!==void 0&&Me===Ye)return!1;if(getComputedStyle(Me).display==="none")return!0;Me=Me.parentElement}return!1}function Ie(Me,{select:Ye=!1}={}){if(Me&&Me.focus){const Xe=document.activeElement;Me.focus({preventScroll:!0}),Me!==Xe&&function(lt){return lt instanceof HTMLInputElement&&"select"in lt}(Me)&&Ye&&Me.select()}}const Re=function(){let Me=[];return{add(Ye){const Xe=Me[0];Ye!==Xe&&Xe?.pause(),Me=ke(Me,Ye),Me.unshift(Ye)},remove(Ye){var Xe;Me=ke(Me,Ye),(Xe=Me[0])===null||Xe===void 0||Xe.resume()}}}();function ke(Me,Ye){const Xe=[...Me],lt=Xe.indexOf(Ye);return lt!==-1&&Xe.splice(lt,1),Xe}var xe=e(5622);function ye(Me){return Me.split("-")[0]}function P(Me){return Me.split("-")[1]}function l(Me){return["top","bottom"].includes(ye(Me))?"x":"y"}function f(Me){return Me==="y"?"height":"width"}function D(Me,Ye,Xe){let{reference:lt,floating:gt}=Me;const Ct=lt.x+lt.width/2-gt.width/2,_t=lt.y+lt.height/2-gt.height/2,Dt=l(Ye),wn=f(Dt),Pn=lt[wn]/2-gt[wn]/2,fn=Dt==="x";let _n;switch(ye(Ye)){case"top":_n={x:Ct,y:lt.y-gt.height};break;case"bottom":_n={x:Ct,y:lt.y+lt.height};break;case"right":_n={x:lt.x+lt.width,y:_t};break;case"left":_n={x:lt.x-gt.width,y:_t};break;default:_n={x:lt.x,y:lt.y}}switch(P(Ye)){case"start":_n[Dt]-=Pn*(Xe&&fn?-1:1);break;case"end":_n[Dt]+=Pn*(Xe&&fn?-1:1)}return _n}function H(Me){return typeof Me!="number"?function(Ye){return{top:0,right:0,bottom:0,left:0,...Ye}}(Me):{top:Me,right:Me,bottom:Me,left:Me}}function J(Me){return{...Me,top:Me.y,left:Me.x,right:Me.x+Me.width,bottom:Me.y+Me.height}}async function re(Me,Ye){var Xe;Ye===void 0&&(Ye={});const{x:lt,y:gt,platform:Ct,rects:_t,elements:Dt,strategy:wn}=Me,{boundary:Pn="clippingAncestors",rootBoundary:fn="viewport",elementContext:_n="floating",altBoundary:zn=!1,padding:Nn=0}=Ye,Rn=H(Nn),Tn=Dt[zn?_n==="floating"?"reference":"floating":_n],Vn=J(await Ct.getClippingRect({element:(Xe=await(Ct.isElement==null?void 0:Ct.isElement(Tn)))==null||Xe?Tn:Tn.contextElement||await(Ct.getDocumentElement==null?void 0:Ct.getDocumentElement(Dt.floating)),boundary:Pn,rootBoundary:fn,strategy:wn})),sr=J(Ct.convertOffsetParentRelativeRectToViewportRelativeRect?await Ct.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_n==="floating"?{..._t.floating,x:lt,y:gt}:_t.reference,offsetParent:await(Ct.getOffsetParent==null?void 0:Ct.getOffsetParent(Dt.floating)),strategy:wn}):_t[_n]);return{top:Vn.top-sr.top+Rn.top,bottom:sr.bottom-Vn.bottom+Rn.bottom,left:Vn.left-sr.left+Rn.left,right:sr.right-Vn.right+Rn.right}}const ae=Math.min,ge=Math.max;function _e(Me,Ye,Xe){return ge(Me,ae(Ye,Xe))}const ze=Me=>({name:"arrow",options:Me,async fn(Ye){const{element:Xe,padding:lt=0}=Me??{},{x:gt,y:Ct,placement:_t,rects:Dt,platform:wn}=Ye;if(Xe==null)return{};const Pn=H(lt),fn={x:gt,y:Ct},_n=l(_t),zn=P(_t),Nn=f(_n),Rn=await wn.getDimensions(Xe),Tn=_n==="y"?"top":"left",Vn=_n==="y"?"bottom":"right",sr=Dt.reference[Nn]+Dt.reference[_n]-fn[_n]-Dt.floating[Nn],mr=fn[_n]-Dt.reference[_n],or=await(wn.getOffsetParent==null?void 0:wn.getOffsetParent(Xe));let ar=or?_n==="y"?or.clientHeight||0:or.clientWidth||0:0;ar===0&&(ar=Dt.floating[Nn]);const Pr=sr/2-mr/2,Hr=Pn[Tn],Dr=ar-Rn[Nn]-Pn[Vn],Lr=ar/2-Rn[Nn]/2+Pr,Xr=_e(Hr,Lr,Dr),Jr=(zn==="start"?Pn[Tn]:Pn[Vn])>0&&Lr!==Xr&&Dt.reference[Nn]<=Dt.floating[Nn];return{[_n]:fn[_n]-(Jr?Lr<Hr?Hr-Lr:Dr-Lr:0),data:{[_n]:Xr,centerOffset:Lr-Xr}}}}),Je={left:"right",right:"left",bottom:"top",top:"bottom"};function et(Me){return Me.replace(/left|right|bottom|top/g,Ye=>Je[Ye])}function Ke(Me,Ye,Xe){Xe===void 0&&(Xe=!1);const lt=P(Me),gt=l(Me),Ct=f(gt);let _t=gt==="x"?lt===(Xe?"end":"start")?"right":"left":lt==="start"?"bottom":"top";return Ye.reference[Ct]>Ye.floating[Ct]&&(_t=et(_t)),{main:_t,cross:et(_t)}}const tt={start:"end",end:"start"};function ut(Me){return Me.replace(/start|end/g,Ye=>tt[Ye])}const ht=["top","right","bottom","left"],He=(ht.reduce((Me,Ye)=>Me.concat(Ye,Ye+"-start",Ye+"-end"),[]),function(Me){return Me===void 0&&(Me={}),{name:"flip",options:Me,async fn(Ye){var Xe;const{placement:lt,middlewareData:gt,rects:Ct,initialPlacement:_t,platform:Dt,elements:wn}=Ye,{mainAxis:Pn=!0,crossAxis:fn=!0,fallbackPlacements:_n,fallbackStrategy:zn="bestFit",flipAlignment:Nn=!0,...Rn}=Me,Tn=ye(lt),Vn=_n||(Tn!==_t&&Nn?function(Lr){const Xr=et(Lr);return[ut(Lr),Xr,ut(Xr)]}(_t):[et(_t)]),sr=[_t,...Vn],mr=await re(Ye,Rn),or=[];let ar=((Xe=gt.flip)==null?void 0:Xe.overflows)||[];if(Pn&&or.push(mr[Tn]),fn){const{main:Lr,cross:Xr}=Ke(lt,Ct,await(Dt.isRTL==null?void 0:Dt.isRTL(wn.floating)));or.push(mr[Lr],mr[Xr])}if(ar=[...ar,{placement:lt,overflows:or}],!or.every(Lr=>Lr<=0)){var Pr,Hr;const Lr=((Pr=(Hr=gt.flip)==null?void 0:Hr.index)!=null?Pr:0)+1,Xr=sr[Lr];if(Xr)return{data:{index:Lr,overflows:ar},reset:{placement:Xr}};let Jr="bottom";switch(zn){case"bestFit":{var Dr;const co=(Dr=ar.map(po=>[po,po.overflows.filter(xo=>xo>0).reduce((xo,Ho)=>xo+Ho,0)]).sort((po,xo)=>po[1]-xo[1])[0])==null?void 0:Dr[0].placement;co&&(Jr=co);break}case"initialPlacement":Jr=_t}if(lt!==Jr)return{reset:{placement:Jr}}}return{}}}});function Ee(Me,Ye){return{top:Me.top-Ye.height,right:Me.right-Ye.width,bottom:Me.bottom-Ye.height,left:Me.left-Ye.width}}function Le(Me){return ht.some(Ye=>Me[Ye]>=0)}const Qe=function(Me){let{strategy:Ye="referenceHidden",...Xe}=Me===void 0?{}:Me;return{name:"hide",async fn(lt){const{rects:gt}=lt;switch(Ye){case"referenceHidden":{const Ct=Ee(await re(lt,{...Xe,elementContext:"reference"}),gt.reference);return{data:{referenceHiddenOffsets:Ct,referenceHidden:Le(Ct)}}}case"escaped":{const Ct=Ee(await re(lt,{...Xe,altBoundary:!0}),gt.floating);return{data:{escapedOffsets:Ct,escaped:Le(Ct)}}}default:return{}}}}},ct=function(Me){return Me===void 0&&(Me=0),{name:"offset",options:Me,async fn(Ye){const{x:Xe,y:lt}=Ye,gt=await async function(Ct,_t){const{placement:Dt,platform:wn,elements:Pn}=Ct,fn=await(wn.isRTL==null?void 0:wn.isRTL(Pn.floating)),_n=ye(Dt),zn=P(Dt),Nn=l(Dt)==="x",Rn=["left","top"].includes(_n)?-1:1,Tn=fn&&Nn?-1:1,Vn=typeof _t=="function"?_t(Ct):_t;let{mainAxis:sr,crossAxis:mr,alignmentAxis:or}=typeof Vn=="number"?{mainAxis:Vn,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Vn};return zn&&typeof or=="number"&&(mr=zn==="end"?-1*or:or),Nn?{x:mr*Tn,y:sr*Rn}:{x:sr*Rn,y:mr*Tn}}(Ye,Me);return{x:Xe+gt.x,y:lt+gt.y,data:gt}}}};function bt(Me){return Me==="x"?"y":"x"}const wt=function(Me){return Me===void 0&&(Me={}),{name:"shift",options:Me,async fn(Ye){const{x:Xe,y:lt,placement:gt}=Ye,{mainAxis:Ct=!0,crossAxis:_t=!1,limiter:Dt={fn:Vn=>{let{x:sr,y:mr}=Vn;return{x:sr,y:mr}}},...wn}=Me,Pn={x:Xe,y:lt},fn=await re(Ye,wn),_n=l(ye(gt)),zn=bt(_n);let Nn=Pn[_n],Rn=Pn[zn];if(Ct){const Vn=_n==="y"?"bottom":"right";Nn=_e(Nn+fn[_n==="y"?"top":"left"],Nn,Nn-fn[Vn])}if(_t){const Vn=zn==="y"?"bottom":"right";Rn=_e(Rn+fn[zn==="y"?"top":"left"],Rn,Rn-fn[Vn])}const Tn=Dt.fn({...Ye,[_n]:Nn,[zn]:Rn});return{...Tn,data:{x:Tn.x-Xe,y:Tn.y-lt}}}}},zt=function(Me){return Me===void 0&&(Me={}),{options:Me,fn(Ye){const{x:Xe,y:lt,placement:gt,rects:Ct,middlewareData:_t}=Ye,{offset:Dt=0,mainAxis:wn=!0,crossAxis:Pn=!0}=Me,fn={x:Xe,y:lt},_n=l(gt),zn=bt(_n);let Nn=fn[_n],Rn=fn[zn];const Tn=typeof Dt=="function"?Dt({...Ct,placement:gt}):Dt,Vn=typeof Tn=="number"?{mainAxis:Tn,crossAxis:0}:{mainAxis:0,crossAxis:0,...Tn};if(wn){const Pr=_n==="y"?"height":"width",Hr=Ct.reference[_n]-Ct.floating[Pr]+Vn.mainAxis,Dr=Ct.reference[_n]+Ct.reference[Pr]-Vn.mainAxis;Nn<Hr?Nn=Hr:Nn>Dr&&(Nn=Dr)}if(Pn){var sr,mr,or,ar;const Pr=_n==="y"?"width":"height",Hr=["top","left"].includes(ye(gt)),Dr=Ct.reference[zn]-Ct.floating[Pr]+(Hr&&(sr=(mr=_t.offset)==null?void 0:mr[zn])!=null?sr:0)+(Hr?0:Vn.crossAxis),Lr=Ct.reference[zn]+Ct.reference[Pr]+(Hr?0:(or=(ar=_t.offset)==null?void 0:ar[zn])!=null?or:0)-(Hr?Vn.crossAxis:0);Rn<Dr?Rn=Dr:Rn>Lr&&(Rn=Lr)}return{[_n]:Nn,[zn]:Rn}}}},Mt=function(Me){return Me===void 0&&(Me={}),{name:"size",options:Me,async fn(Ye){const{placement:Xe,rects:lt,platform:gt,elements:Ct}=Ye,{apply:_t,...Dt}=Me,wn=await re(Ye,Dt),Pn=ye(Xe),fn=P(Xe);let _n,zn;Pn==="top"||Pn==="bottom"?(_n=Pn,zn=fn===(await(gt.isRTL==null?void 0:gt.isRTL(Ct.floating))?"start":"end")?"left":"right"):(zn=Pn,_n=fn==="end"?"top":"bottom");const Nn=ge(wn.left,0),Rn=ge(wn.right,0),Tn=ge(wn.top,0),Vn=ge(wn.bottom,0),sr={availableHeight:lt.floating.height-(["left","right"].includes(Xe)?2*(Tn!==0||Vn!==0?Tn+Vn:ge(wn.top,wn.bottom)):wn[_n]),availableWidth:lt.floating.width-(["top","bottom"].includes(Xe)?2*(Nn!==0||Rn!==0?Nn+Rn:ge(wn.left,wn.right)):wn[zn])},mr=await gt.getDimensions(Ct.floating);_t?.({...Ye,...sr});const or=await gt.getDimensions(Ct.floating);return mr.width!==or.width||mr.height!==or.height?{reset:{rects:!0}}:{}}}};function Zt(Me){return Me&&Me.document&&Me.location&&Me.alert&&Me.setInterval}function sn(Me){if(Me==null)return window;if(!Zt(Me)){const Ye=Me.ownerDocument;return Ye&&Ye.defaultView||window}return Me}function rn(Me){return sn(Me).getComputedStyle(Me)}function Xt(Me){return Zt(Me)?"":Me?(Me.nodeName||"").toLowerCase():""}function on(){const Me=navigator.userAgentData;return Me!=null&&Me.brands?Me.brands.map(Ye=>Ye.brand+"/"+Ye.version).join(" "):navigator.userAgent}function jn(Me){return Me instanceof sn(Me).HTMLElement}function It(Me){return Me instanceof sn(Me).Element}function kt(Me){return typeof ShadowRoot<"u"&&(Me instanceof sn(Me).ShadowRoot||Me instanceof ShadowRoot)}function Ht(Me){const{overflow:Ye,overflowX:Xe,overflowY:lt}=rn(Me);return/auto|scroll|overlay|hidden/.test(Ye+lt+Xe)}function At(Me){return["table","td","th"].includes(Xt(Me))}function Wt(Me){const Ye=/firefox/i.test(on()),Xe=rn(Me);return Xe.transform!=="none"||Xe.perspective!=="none"||Xe.contain==="paint"||["transform","perspective"].includes(Xe.willChange)||Ye&&Xe.willChange==="filter"||Ye&&!!Xe.filter&&Xe.filter!=="none"}function Kt(){return!/^((?!chrome|android).)*safari/i.test(on())}const an=Math.min,bn=Math.max,hn=Math.round;function An(Me,Ye,Xe){var lt,gt,Ct,_t;Ye===void 0&&(Ye=!1),Xe===void 0&&(Xe=!1);const Dt=Me.getBoundingClientRect();let wn=1,Pn=1;Ye&&jn(Me)&&(wn=Me.offsetWidth>0&&hn(Dt.width)/Me.offsetWidth||1,Pn=Me.offsetHeight>0&&hn(Dt.height)/Me.offsetHeight||1);const fn=It(Me)?sn(Me):window,_n=!Kt()&&Xe,zn=(Dt.left+(_n&&(lt=(gt=fn.visualViewport)==null?void 0:gt.offsetLeft)!=null?lt:0))/wn,Nn=(Dt.top+(_n&&(Ct=(_t=fn.visualViewport)==null?void 0:_t.offsetTop)!=null?Ct:0))/Pn,Rn=Dt.width/wn,Tn=Dt.height/Pn;return{width:Rn,height:Tn,top:Nn,right:zn+Rn,bottom:Nn+Tn,left:zn,x:zn,y:Nn}}function Yn(Me){return(Ye=Me,(Ye instanceof sn(Ye).Node?Me.ownerDocument:Me.document)||window.document).documentElement;var Ye}function tr(Me){return It(Me)?{scrollLeft:Me.scrollLeft,scrollTop:Me.scrollTop}:{scrollLeft:Me.pageXOffset,scrollTop:Me.pageYOffset}}function Sn(Me){return An(Yn(Me)).left+tr(Me).scrollLeft}function Bt(Me,Ye,Xe){const lt=jn(Ye),gt=Yn(Ye),Ct=An(Me,lt&&function(wn){const Pn=An(wn);return hn(Pn.width)!==wn.offsetWidth||hn(Pn.height)!==wn.offsetHeight}(Ye),Xe==="fixed");let _t={scrollLeft:0,scrollTop:0};const Dt={x:0,y:0};if(lt||!lt&&Xe!=="fixed")if((Xt(Ye)!=="body"||Ht(gt))&&(_t=tr(Ye)),jn(Ye)){const wn=An(Ye,!0);Dt.x=wn.x+Ye.clientLeft,Dt.y=wn.y+Ye.clientTop}else gt&&(Dt.x=Sn(gt));return{x:Ct.left+_t.scrollLeft-Dt.x,y:Ct.top+_t.scrollTop-Dt.y,width:Ct.width,height:Ct.height}}function dn(Me){return Xt(Me)==="html"?Me:Me.assignedSlot||Me.parentNode||(kt(Me)?Me.host:null)||Yn(Me)}function un(Me){return jn(Me)&&getComputedStyle(Me).position!=="fixed"?Me.offsetParent:null}function Bn(Me){const Ye=sn(Me);let Xe=un(Me);for(;Xe&&At(Xe)&&getComputedStyle(Xe).position==="static";)Xe=un(Xe);return Xe&&(Xt(Xe)==="html"||Xt(Xe)==="body"&&getComputedStyle(Xe).position==="static"&&!Wt(Xe))?Ye:Xe||function(lt){let gt=dn(lt);for(kt(gt)&&(gt=gt.host);jn(gt)&&!["html","body"].includes(Xt(gt));){if(Wt(gt))return gt;gt=gt.parentNode}return null}(Me)||Ye}function Jn(Me){if(jn(Me))return{width:Me.offsetWidth,height:Me.offsetHeight};const Ye=An(Me);return{width:Ye.width,height:Ye.height}}function cr(Me){const Ye=dn(Me);return["html","body","#document"].includes(Xt(Ye))?Me.ownerDocument.body:jn(Ye)&&Ht(Ye)?Ye:cr(Ye)}function kr(Me,Ye){var Xe;Ye===void 0&&(Ye=[]);const lt=cr(Me),gt=lt===((Xe=Me.ownerDocument)==null?void 0:Xe.body),Ct=sn(lt),_t=gt?[Ct].concat(Ct.visualViewport||[],Ht(lt)?lt:[]):lt,Dt=Ye.concat(_t);return gt?Dt:Dt.concat(kr(_t))}function fr(Me,Ye,Xe){return Ye==="viewport"?J(function(lt,gt){const Ct=sn(lt),_t=Yn(lt),Dt=Ct.visualViewport;let wn=_t.clientWidth,Pn=_t.clientHeight,fn=0,_n=0;if(Dt){wn=Dt.width,Pn=Dt.height;const zn=Kt();(zn||!zn&&gt==="fixed")&&(fn=Dt.offsetLeft,_n=Dt.offsetTop)}return{width:wn,height:Pn,x:fn,y:_n}}(Me,Xe)):It(Ye)?function(lt,gt){const Ct=An(lt,!1,gt==="fixed"),_t=Ct.top+lt.clientTop,Dt=Ct.left+lt.clientLeft;return{top:_t,left:Dt,x:Dt,y:_t,right:Dt+lt.clientWidth,bottom:_t+lt.clientHeight,width:lt.clientWidth,height:lt.clientHeight}}(Ye,Xe):J(function(lt){var gt;const Ct=Yn(lt),_t=tr(lt),Dt=(gt=lt.ownerDocument)==null?void 0:gt.body,wn=bn(Ct.scrollWidth,Ct.clientWidth,Dt?Dt.scrollWidth:0,Dt?Dt.clientWidth:0),Pn=bn(Ct.scrollHeight,Ct.clientHeight,Dt?Dt.scrollHeight:0,Dt?Dt.clientHeight:0);let fn=-_t.scrollLeft+Sn(lt);const _n=-_t.scrollTop;return rn(Dt||Ct).direction==="rtl"&&(fn+=bn(Ct.clientWidth,Dt?Dt.clientWidth:0)-wn),{width:wn,height:Pn,x:fn,y:_n}}(Yn(Me)))}function pn(Me){const Ye=kr(Me),Xe=["absolute","fixed"].includes(rn(Me).position)&&jn(Me)?Bn(Me):Me;return It(Xe)?Ye.filter(lt=>It(lt)&&function(gt,Ct){const _t=Ct.getRootNode==null?void 0:Ct.getRootNode();if(gt.contains(Ct))return!0;if(_t&&kt(_t)){let Dt=Ct;do{if(Dt&&gt===Dt)return!0;Dt=Dt.parentNode||Dt.host}while(Dt)}return!1}(lt,Xe)&&Xt(lt)!=="body"):[]}const Nt={getClippingRect:function(Me){let{element:Ye,boundary:Xe,rootBoundary:lt,strategy:gt}=Me;const Ct=[...Xe==="clippingAncestors"?pn(Ye):[].concat(Xe),lt],_t=Ct[0],Dt=Ct.reduce((wn,Pn)=>{const fn=fr(Ye,Pn,gt);return wn.top=bn(fn.top,wn.top),wn.right=an(fn.right,wn.right),wn.bottom=an(fn.bottom,wn.bottom),wn.left=bn(fn.left,wn.left),wn},fr(Ye,_t,gt));return{width:Dt.right-Dt.left,height:Dt.bottom-Dt.top,x:Dt.left,y:Dt.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(Me){let{rect:Ye,offsetParent:Xe,strategy:lt}=Me;const gt=jn(Xe),Ct=Yn(Xe);if(Xe===Ct)return Ye;let _t={scrollLeft:0,scrollTop:0};const Dt={x:0,y:0};if((gt||!gt&&lt!=="fixed")&&((Xt(Xe)!=="body"||Ht(Ct))&&(_t=tr(Xe)),jn(Xe))){const wn=An(Xe,!0);Dt.x=wn.x+Xe.clientLeft,Dt.y=wn.y+Xe.clientTop}return{...Ye,x:Ye.x-_t.scrollLeft+Dt.x,y:Ye.y-_t.scrollTop+Dt.y}},isElement:It,getDimensions:Jn,getOffsetParent:Bn,getDocumentElement:Yn,getElementRects:Me=>{let{reference:Ye,floating:Xe,strategy:lt}=Me;return{reference:Bt(Ye,Bn(Xe),lt),floating:{...Jn(Xe),x:0,y:0}}},getClientRects:Me=>Array.from(Me.getClientRects()),isRTL:Me=>rn(Me).direction==="rtl"};function Ft(Me,Ye,Xe,lt){lt===void 0&&(lt={});const{ancestorScroll:gt=!0,ancestorResize:Ct=!0,elementResize:_t=!0,animationFrame:Dt=!1}=lt,wn=gt&&!Dt,Pn=Ct&&!Dt,fn=wn||Pn?[...It(Me)?kr(Me):[],...kr(Ye)]:[];fn.forEach(Rn=>{wn&&Rn.addEventListener("scroll",Xe,{passive:!0}),Pn&&Rn.addEventListener("resize",Xe)});let _n,zn=null;if(_t){let Rn=!0;zn=new ResizeObserver(()=>{Rn||Xe(),Rn=!1}),It(Me)&&!Dt&&zn.observe(Me),zn.observe(Ye)}let Nn=Dt?An(Me):null;return Dt&&function Rn(){const Tn=An(Me);!Nn||Tn.x===Nn.x&&Tn.y===Nn.y&&Tn.width===Nn.width&&Tn.height===Nn.height||Xe(),Nn=Tn,_n=requestAnimationFrame(Rn)}(),Xe(),()=>{var Rn;fn.forEach(Tn=>{wn&&Tn.removeEventListener("scroll",Xe),Pn&&Tn.removeEventListener("resize",Xe)}),(Rn=zn)==null||Rn.disconnect(),zn=null,Dt&&cancelAnimationFrame(_n)}}const qt=(Me,Ye,Xe)=>(async(lt,gt,Ct)=>{const{placement:_t="bottom",strategy:Dt="absolute",middleware:wn=[],platform:Pn}=Ct,fn=await(Pn.isRTL==null?void 0:Pn.isRTL(gt));let _n=await Pn.getElementRects({reference:lt,floating:gt,strategy:Dt}),{x:zn,y:Nn}=D(_n,_t,fn),Rn=_t,Tn={},Vn=0;for(let sr=0;sr<wn.length;sr++){const{name:mr,fn:or}=wn[sr],{x:ar,y:Pr,data:Hr,reset:Dr}=await or({x:zn,y:Nn,initialPlacement:_t,placement:Rn,strategy:Dt,middlewareData:Tn,rects:_n,platform:Pn,elements:{reference:lt,floating:gt}});zn=ar??zn,Nn=Pr??Nn,Tn={...Tn,[mr]:{...Tn[mr],...Hr}},Dr&&Vn<=50&&(Vn++,typeof Dr=="object"&&(Dr.placement&&(Rn=Dr.placement),Dr.rects&&(_n=Dr.rects===!0?await Pn.getElementRects({reference:lt,floating:gt,strategy:Dt}):Dr.rects),{x:zn,y:Nn}=D(_n,Rn,fn)),sr=-1)}return{x:zn,y:Nn,placement:Rn,strategy:Dt,middlewareData:Tn}})(Me,Ye,{platform:Nt,...Xe});var kn=e(5156),$n=e.n(kn),Hn=typeof document<"u"?a.useLayoutEffect:a.useEffect;function Qn(Me,Ye){if(Me===Ye)return!0;if(typeof Me!=typeof Ye)return!1;if(typeof Me=="function"&&Me.toString()===Ye.toString())return!0;let Xe,lt,gt;if(Me&&Ye&&typeof Me=="object"){if(Array.isArray(Me)){if(Xe=Me.length,Xe!=Ye.length)return!1;for(lt=Xe;lt--!=0;)if(!Qn(Me[lt],Ye[lt]))return!1;return!0}if(gt=Object.keys(Me),Xe=gt.length,Xe!==Object.keys(Ye).length)return!1;for(lt=Xe;lt--!=0;)if(!Object.prototype.hasOwnProperty.call(Ye,gt[lt]))return!1;for(lt=Xe;lt--!=0;){const Ct=gt[lt];if((Ct!=="_owner"||!Me.$$typeof)&&!Qn(Me[Ct],Ye[Ct]))return!1}return!0}return Me!=Me&&Ye!=Ye}function ir(Me){let{middleware:Ye,placement:Xe="bottom",strategy:lt="absolute",whileElementsMounted:gt}=Me===void 0?{}:Me;const Ct=a.useRef(null),_t=a.useRef(null),Dt=function(or){const ar=a.useRef(or);return Hn(()=>{ar.current=or}),ar}(gt),wn=a.useRef(null),[Pn,fn]=a.useState({x:null,y:null,strategy:lt,placement:Xe,middlewareData:{}}),[_n,zn]=a.useState(Ye);Qn(_n?.map(or=>{let{options:ar}=or;return ar}),Ye?.map(or=>{let{options:ar}=or;return ar}))||zn(Ye);const Nn=a.useCallback(()=>{Ct.current&&_t.current&&qt(Ct.current,_t.current,{middleware:_n,placement:Xe,strategy:lt}).then(or=>{Rn.current&&kn.flushSync(()=>{fn(or)})})},[_n,Xe,lt]);Hn(()=>{Rn.current&&Nn()},[Nn]);const Rn=a.useRef(!1);Hn(()=>(Rn.current=!0,()=>{Rn.current=!1}),[]);const Tn=a.useCallback(()=>{if(typeof wn.current=="function"&&(wn.current(),wn.current=null),Ct.current&&_t.current)if(Dt.current){const or=Dt.current(Ct.current,_t.current,Nn);wn.current=or}else Nn()},[Nn,Dt]),Vn=a.useCallback(or=>{Ct.current=or,Tn()},[Tn]),sr=a.useCallback(or=>{_t.current=or,Tn()},[Tn]),mr=a.useMemo(()=>({reference:Ct,floating:_t}),[]);return a.useMemo(()=>({...Pn,update:Nn,refs:mr,reference:Vn,floating:sr}),[Pn,Nn,mr,Vn,sr])}const Fn=Me=>{const{element:Ye,padding:Xe}=Me;return{name:"arrow",options:Me,fn(lt){return gt=Ye,Object.prototype.hasOwnProperty.call(gt,"current")?Ye.current!=null?ze({element:Ye.current,padding:Xe}).fn(lt):{}:Ye?ze({element:Ye,padding:Xe}).fn(lt):{};var gt}}},yr=(0,a.forwardRef)((Me,Ye)=>{const{children:Xe,width:lt=10,height:gt=5,...Ct}=Me;return(0,a.createElement)(u.WV.svg,(0,r.Z)({},Ct,{ref:Ye,width:lt,height:gt,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),Me.asChild?Xe:(0,a.createElement)("polygon",{points:"0,0 30,0 15,10"}))}),lr=yr;var Gn=e(3348);const Xn="Popper",[er,pr]=(0,s.b)(Xn),[vr,xr]=er(Xn),$r=Me=>{const{__scopePopper:Ye,children:Xe}=Me,[lt,gt]=(0,a.useState)(null);return(0,a.createElement)(vr,{scope:Ye,anchor:lt,onAnchorChange:gt},Xe)},io="PopperAnchor",Eo=(0,a.forwardRef)((Me,Ye)=>{const{__scopePopper:Xe,virtualRef:lt,...gt}=Me,Ct=xr(io,Xe),_t=(0,a.useRef)(null),Dt=(0,g.e)(Ye,_t);return(0,a.useEffect)(()=>{Ct.onAnchorChange(lt?.current||_t.current)}),lt?null:(0,a.createElement)(u.WV.div,(0,r.Z)({},gt,{ref:Dt}))}),Ro="PopperContent",[Bo,Do]=er(Ro),[bo,Zo]=er(Ro,{hasParent:!1,positionUpdateFns:new Set}),rt=(0,a.forwardRef)((Me,Ye)=>{var Xe,lt,gt,Ct,_t,Dt,wn,Pn;const{__scopePopper:fn,side:_n="bottom",sideOffset:zn=0,align:Nn="center",alignOffset:Rn=0,arrowPadding:Tn=0,collisionBoundary:Vn=[],collisionPadding:sr=0,sticky:mr="partial",hideWhenDetached:or=!1,avoidCollisions:ar=!0,onPlaced:Pr,...Hr}=Me,Dr=xr(Ro,fn),[Lr,Xr]=(0,a.useState)(null),Jr=(0,g.e)(Ye,Oi=>Xr(Oi)),[co,po]=(0,a.useState)(null),xo=function(Oi){const[fa,Qa]=(0,a.useState)(void 0);return(0,Gn.b)(()=>{if(Oi){Qa({width:Oi.offsetWidth,height:Oi.offsetHeight});const Sl=new ResizeObserver(wr=>{if(!Array.isArray(wr)||!wr.length)return;const Sr=wr[0];let el,tl;if("borderBoxSize"in Sr){const nl=Sr.borderBoxSize,Pl=Array.isArray(nl)?nl[0]:nl;el=Pl.inlineSize,tl=Pl.blockSize}else el=Oi.offsetWidth,tl=Oi.offsetHeight;Qa({width:el,height:tl})});return Sl.observe(Oi,{box:"border-box"}),()=>Sl.unobserve(Oi)}Qa(void 0)},[Oi]),fa}(co),Ho=(Xe=xo?.width)!==null&&Xe!==void 0?Xe:0,gi=(lt=xo?.height)!==null&&lt!==void 0?lt:0,Si=_n+(Nn!=="center"?"-"+Nn:""),_i=typeof sr=="number"?sr:{top:0,right:0,bottom:0,left:0,...sr},da=Array.isArray(Vn)?Vn:[Vn],ta=da.length>0,li={padding:_i,boundary:da.filter(Vt),altBoundary:ta},{reference:hi,floating:xi,strategy:oi,x:si,y:Ti,placement:Rt,middlewareData:Yi,update:Gi}=ir({strategy:"fixed",placement:Si,whileElementsMounted:Ft,middleware:[cn(),ct({mainAxis:zn+gi,alignmentAxis:Rn}),ar?wt({mainAxis:!0,crossAxis:!1,limiter:mr==="partial"?zt():void 0,...li}):void 0,co?Fn({element:co,padding:Tn}):void 0,ar?He({...li}):void 0,Mt({...li,apply:({elements:Oi,availableWidth:fa,availableHeight:Qa})=>{Oi.floating.style.setProperty("--radix-popper-available-width",`${fa}px`),Oi.floating.style.setProperty("--radix-popper-available-height",`${Qa}px`)}}),Mn({arrowWidth:Ho,arrowHeight:gi}),or?Qe({strategy:"referenceHidden"}):void 0].filter(pt)});(0,Gn.b)(()=>{hi(Dr.anchor)},[hi,Dr.anchor]);const Pi=si!==null&&Ti!==null,[Yo,Na]=nn(Rt),ul=(0,k.W)(Pr);(0,Gn.b)(()=>{Pi&&ul?.()},[Pi,ul]);const es=(gt=Yi.arrow)===null||gt===void 0?void 0:gt.x,Ba=(Ct=Yi.arrow)===null||Ct===void 0?void 0:Ct.y,Wl=((_t=Yi.arrow)===null||_t===void 0?void 0:_t.centerOffset)!==0,[kl,El]=(0,a.useState)();(0,Gn.b)(()=>{Lr&&El(window.getComputedStyle(Lr).zIndex)},[Lr]);const{hasParent:Wa,positionUpdateFns:va}=Zo(Ro,fn),la=!Wa;(0,a.useLayoutEffect)(()=>{if(!la)return va.add(Gi),()=>{va.delete(Gi)}},[la,va,Gi]),(0,Gn.b)(()=>{la&&Pi&&Array.from(va).reverse().forEach(Oi=>requestAnimationFrame(Oi))},[la,Pi,va]);const Fi={"data-side":Yo,"data-align":Na,...Hr,ref:Jr,style:{...Hr.style,animation:Pi?void 0:"none",opacity:(Dt=Yi.hide)!==null&&Dt!==void 0&&Dt.referenceHidden?0:void 0}};return(0,a.createElement)("div",{ref:xi,"data-radix-popper-content-wrapper":"",style:{position:oi,left:0,top:0,transform:Pi?`translate3d(${Math.round(si)}px, ${Math.round(Ti)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:kl,"--radix-popper-transform-origin":[(wn=Yi.transformOrigin)===null||wn===void 0?void 0:wn.x,(Pn=Yi.transformOrigin)===null||Pn===void 0?void 0:Pn.y].join(" ")},dir:Me.dir},(0,a.createElement)(Bo,{scope:fn,placedSide:Yo,onArrowChange:po,arrowX:es,arrowY:Ba,shouldHideArrow:Wl},la?(0,a.createElement)(bo,{scope:fn,hasParent:!0,positionUpdateFns:va},(0,a.createElement)(u.WV.div,Fi)):(0,a.createElement)(u.WV.div,Fi)))}),Se="PopperArrow",Ze={top:"bottom",right:"left",bottom:"top",left:"right"},Ve=(0,a.forwardRef)(function(Me,Ye){const{__scopePopper:Xe,...lt}=Me,gt=Do(Se,Xe),Ct=Ze[gt.placedSide];return(0,a.createElement)("span",{ref:gt.onArrowChange,style:{position:"absolute",left:gt.arrowX,top:gt.arrowY,[Ct]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[gt.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[gt.placedSide],visibility:gt.shouldHideArrow?"hidden":void 0}},(0,a.createElement)(lr,(0,r.Z)({},lt,{ref:Ye,style:{...lt.style,display:"block"}})))});function pt(Me){return Me!==void 0}function Vt(Me){return Me!==null}const cn=()=>({name:"anchorCssProperties",fn(Me){const{rects:Ye,elements:Xe}=Me,{width:lt,height:gt}=Ye.reference;return Xe.floating.style.setProperty("--radix-popper-anchor-width",`${lt}px`),Xe.floating.style.setProperty("--radix-popper-anchor-height",`${gt}px`),{}}}),Mn=Me=>({name:"transformOrigin",options:Me,fn(Ye){var Xe,lt,gt,Ct,_t;const{placement:Dt,rects:wn,middlewareData:Pn}=Ye,fn=((Xe=Pn.arrow)===null||Xe===void 0?void 0:Xe.centerOffset)!==0,_n=fn?0:Me.arrowWidth,zn=fn?0:Me.arrowHeight,[Nn,Rn]=nn(Dt),Tn={start:"0%",center:"50%",end:"100%"}[Rn],Vn=((lt=(gt=Pn.arrow)===null||gt===void 0?void 0:gt.x)!==null&&lt!==void 0?lt:0)+_n/2,sr=((Ct=(_t=Pn.arrow)===null||_t===void 0?void 0:_t.y)!==null&&Ct!==void 0?Ct:0)+zn/2;let mr="",or="";return Nn==="bottom"?(mr=fn?Tn:`${Vn}px`,or=-zn+"px"):Nn==="top"?(mr=fn?Tn:`${Vn}px`,or=`${wn.floating.height+zn}px`):Nn==="right"?(mr=-zn+"px",or=fn?Tn:`${sr}px`):Nn==="left"&&(mr=`${wn.floating.width+zn}px`,or=fn?Tn:`${sr}px`),{data:{x:mr,y:or}}}});function nn(Me){const[Ye,Xe="center"]=Me.split("-");return[Ye,Xe]}const ln=$r,Zn=Eo,qn=rt,hr=Ve,br=(0,a.forwardRef)((Me,Ye)=>{var Xe;const{container:lt=globalThis==null||(Xe=globalThis.document)===null||Xe===void 0?void 0:Xe.body,...gt}=Me;return lt?$n().createPortal((0,a.createElement)(u.WV.div,(0,r.Z)({},gt,{ref:Ye})),lt):null});var Mr=e(1483),Or=e(4801),Er=e(2673),Cr=function(Me){return typeof document>"u"?null:(Array.isArray(Me)?Me[0]:Me).ownerDocument.body},no=new WeakMap,yo=new WeakMap,jo={},ei=0,vi=function(Me){return Me&&(Me.host||vi(Me.parentNode))},Gr=function(Me,Ye,Xe,lt){var gt=function(_n,zn){return zn.map(function(Nn){if(_n.contains(Nn))return Nn;var Rn=vi(Nn);return Rn&&_n.contains(Rn)?Rn:(console.error("aria-hidden",Nn,"in not contained inside",_n,". Doing nothing"),null)}).filter(function(Nn){return!!Nn})}(Ye,Array.isArray(Me)?Me:[Me]);jo[Xe]||(jo[Xe]=new WeakMap);var Ct=jo[Xe],_t=[],Dt=new Set,wn=new Set(gt),Pn=function(_n){_n&&!Dt.has(_n)&&(Dt.add(_n),Pn(_n.parentNode))};gt.forEach(Pn);var fn=function(_n){_n&&!wn.has(_n)&&Array.prototype.forEach.call(_n.children,function(zn){if(Dt.has(zn))fn(zn);else{var Nn=zn.getAttribute(lt),Rn=Nn!==null&&Nn!=="false",Tn=(no.get(zn)||0)+1,Vn=(Ct.get(zn)||0)+1;no.set(zn,Tn),Ct.set(zn,Vn),_t.push(zn),Tn===1&&Rn&&yo.set(zn,!0),Vn===1&&zn.setAttribute(Xe,"true"),Rn||zn.setAttribute(lt,"true")}})};return fn(Ye),Dt.clear(),ei++,function(){_t.forEach(function(_n){var zn=no.get(_n)-1,Nn=Ct.get(_n)-1;no.set(_n,zn),Ct.set(_n,Nn),zn||(yo.has(_n)||_n.removeAttribute(lt),yo.delete(_n)),Nn||_n.removeAttribute(Xe)}),--ei||(no=new WeakMap,no=new WeakMap,yo=new WeakMap,jo={})}},Ir=function(Me,Ye,Xe){Xe===void 0&&(Xe="data-aria-hidden");var lt=Array.from(Array.isArray(Me)?Me:[Me]),gt=Ye||Cr(Me);return gt?(lt.push.apply(lt,Array.from(gt.querySelectorAll("[aria-live]"))),Gr(lt,gt,Xe,"aria-hidden")):function(){return null}},uo=function(){return uo=Object.assign||function(Me){for(var Ye,Xe=1,lt=arguments.length;Xe<lt;Xe++)for(var gt in Ye=arguments[Xe])Object.prototype.hasOwnProperty.call(Ye,gt)&&(Me[gt]=Ye[gt]);return Me},uo.apply(this,arguments)};function Co(Me,Ye){var Xe={};for(var lt in Me)Object.prototype.hasOwnProperty.call(Me,lt)&&Ye.indexOf(lt)<0&&(Xe[lt]=Me[lt]);if(Me!=null&&typeof Object.getOwnPropertySymbols=="function"){var gt=0;for(lt=Object.getOwnPropertySymbols(Me);gt<lt.length;gt++)Ye.indexOf(lt[gt])<0&&Object.prototype.propertyIsEnumerable.call(Me,lt[gt])&&(Xe[lt[gt]]=Me[lt[gt]])}return Xe}var Oo="right-scroll-bar-position",di="width-before-scroll-bar";function ri(Me,Ye){return Xe=null,lt=function(Ct){return Me.forEach(function(_t){return function(Dt,wn){return typeof Dt=="function"?Dt(wn):Dt&&(Dt.current=wn),Dt}(_t,Ct)})},(gt=(0,a.useState)(function(){return{value:Xe,callback:lt,facade:{get current(){return gt.value},set current(Ct){var _t=gt.value;_t!==Ct&&(gt.value=Ct,gt.callback(Ct,_t))}}}})[0]).callback=lt,gt.facade;var Xe,lt,gt}function ni(Me){return Me}function bi(Me,Ye){Ye===void 0&&(Ye=ni);var Xe=[],lt=!1,gt={read:function(){if(lt)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return Xe.length?Xe[Xe.length-1]:Me},useMedium:function(Ct){var _t=Ye(Ct,lt);return Xe.push(_t),function(){Xe=Xe.filter(function(Dt){return Dt!==_t})}},assignSyncMedium:function(Ct){for(lt=!0;Xe.length;){var _t=Xe;Xe=[],_t.forEach(Ct)}Xe={push:function(Dt){return Ct(Dt)},filter:function(){return Xe}}},assignMedium:function(Ct){lt=!0;var _t=[];if(Xe.length){var Dt=Xe;Xe=[],Dt.forEach(Ct),_t=Xe}var wn=function(){var fn=_t;_t=[],fn.forEach(Ct)},Pn=function(){return Promise.resolve().then(wn)};Pn(),Xe={push:function(fn){_t.push(fn),Pn()},filter:function(fn){return _t=_t.filter(fn),Xe}}}};return gt}var ji=function(Me){Me===void 0&&(Me={});var Ye=bi(null);return Ye.options=uo({async:!0,ssr:!1},Me),Ye}(),wa=function(){},ka=a.forwardRef(function(Me,Ye){var Xe=a.useRef(null),lt=a.useState({onScrollCapture:wa,onWheelCapture:wa,onTouchMoveCapture:wa}),gt=lt[0],Ct=lt[1],_t=Me.forwardProps,Dt=Me.children,wn=Me.className,Pn=Me.removeScrollBar,fn=Me.enabled,_n=Me.shards,zn=Me.sideCar,Nn=Me.noIsolation,Rn=Me.inert,Tn=Me.allowPinchZoom,Vn=Me.as,sr=Vn===void 0?"div":Vn,mr=Co(Me,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),or=zn,ar=ri([Xe,Ye]),Pr=uo(uo({},mr),gt);return a.createElement(a.Fragment,null,fn&&a.createElement(or,{sideCar:ji,removeScrollBar:Pn,shards:_n,noIsolation:Nn,inert:Rn,setCallbacks:Ct,allowPinchZoom:!!Tn,lockRef:Xe}),_t?a.cloneElement(a.Children.only(Dt),uo(uo({},Pr),{ref:ar})):a.createElement(sr,uo({},Pr,{className:wn,ref:ar}),Dt))});ka.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ka.classNames={fullWidth:di,zeroRight:Oo};var ki=function(Me){var Ye=Me.sideCar,Xe=Co(Me,["sideCar"]);if(!Ye)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var lt=Ye.read();if(!lt)throw new Error("Sidecar medium not found");return a.createElement(lt,uo({},Xe))};ki.isSideCarExport=!0;function Ea(){if(!document)return null;var Me=document.createElement("style");Me.type="text/css";var Ye=e.nc;return Ye&&Me.setAttribute("nonce",Ye),Me}var Ma=function(){var Me=0,Ye=null;return{add:function(Xe){var lt,gt;Me==0&&(Ye=Ea())&&(gt=Xe,(lt=Ye).styleSheet?lt.styleSheet.cssText=gt:lt.appendChild(document.createTextNode(gt)),function(Ct){(document.head||document.getElementsByTagName("head")[0]).appendChild(Ct)}(Ye)),Me++},remove:function(){!--Me&&Ye&&(Ye.parentNode&&Ye.parentNode.removeChild(Ye),Ye=null)}}},qa=function(){var Me,Ye=(Me=Ma(),function(Xe,lt){a.useEffect(function(){return Me.add(Xe),function(){Me.remove()}},[Xe&&lt])});return function(Xe){var lt=Xe.styles,gt=Xe.dynamic;return Ye(lt,gt),null}},zi={left:0,top:0,right:0,gap:0},ra=function(Me){return parseInt(Me||"",10)||0},Ai=function(Me){if(Me===void 0&&(Me="margin"),typeof window>"u")return zi;var Ye=function(gt){var Ct=window.getComputedStyle(document.body),_t=Ct[gt==="padding"?"paddingLeft":"marginLeft"],Dt=Ct[gt==="padding"?"paddingTop":"marginTop"],wn=Ct[gt==="padding"?"paddingRight":"marginRight"];return[ra(_t),ra(Dt),ra(wn)]}(Me),Xe=document.documentElement.clientWidth,lt=window.innerWidth;return{left:Ye[0],top:Ye[1],right:Ye[2],gap:Math.max(0,lt-Xe+Ye[2]-Ye[0])}},Ni=qa(),Xa=function(Me,Ye,Xe,lt){var gt=Me.left,Ct=Me.top,_t=Me.right,Dt=Me.gap;return Xe===void 0&&(Xe="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(lt,`;
   padding-right: `).concat(Dt,"px ").concat(lt,`;
  }
  body {
    overflow: hidden `).concat(lt,`;
    overscroll-behavior: contain;
    `).concat([Ye&&"position: relative ".concat(lt,";"),Xe==="margin"&&`
    padding-left: `.concat(gt,`px;
    padding-top: `).concat(Ct,`px;
    padding-right: `).concat(_t,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(Dt,"px ").concat(lt,`;
    `),Xe==="padding"&&"padding-right: ".concat(Dt,"px ").concat(lt,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oo,` {
    right: `).concat(Dt,"px ").concat(lt,`;
  }
  
  .`).concat(di,` {
    margin-right: `).concat(Dt,"px ").concat(lt,`;
  }
  
  .`).concat(Oo," .").concat(Oo,` {
    right: 0 `).concat(lt,`;
  }
  
  .`).concat(di," .").concat(di,` {
    margin-right: 0 `).concat(lt,`;
  }
  
  body {
    `).concat("--removed-body-scroll-bar-size",": ").concat(Dt,`px;
  }
`)},Aa=function(Me){var Ye=Me.noRelative,Xe=Me.noImportant,lt=Me.gapMode,gt=lt===void 0?"margin":lt,Ct=a.useMemo(function(){return Ai(gt)},[gt]);return a.createElement(Ni,{styles:Xa(Ct,!Ye,gt,Xe?"":"!important")})},oa=!1;if(typeof window<"u")try{var Ji=Object.defineProperty({},"passive",{get:function(){return oa=!0,!0}});window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{oa=!1}var Ki=!!oa&&{passive:!1},ca=function(Me,Ye){var Xe=window.getComputedStyle(Me);return Xe[Ye]!=="hidden"&&!(Xe.overflowY===Xe.overflowX&&!function(lt){return lt.tagName==="TEXTAREA"}(Me)&&Xe[Ye]==="visible")},ia=function(Me,Ye){var Xe=Ye;do{if(typeof ShadowRoot<"u"&&Xe instanceof ShadowRoot&&(Xe=Xe.host),ma(Me,Xe)){var lt=ga(Me,Xe);if(lt[1]>lt[2])return!0}Xe=Xe.parentNode}while(Xe&&Xe!==document.body);return!1},ma=function(Me,Ye){return Me==="v"?function(Xe){return ca(Xe,"overflowY")}(Ye):function(Xe){return ca(Xe,"overflowX")}(Ye)},ga=function(Me,Ye){return Me==="v"?[(Xe=Ye).scrollTop,Xe.scrollHeight,Xe.clientHeight]:function(lt){return[lt.scrollLeft,lt.scrollWidth,lt.clientWidth]}(Ye);var Xe},Ta=function(Me){return"changedTouches"in Me?[Me.changedTouches[0].clientX,Me.changedTouches[0].clientY]:[0,0]},Ka=function(Me){return[Me.deltaX,Me.deltaY]},Pa=function(Me){return Me&&"current"in Me?Me.current:Me},Ra=function(Me){return`
  .block-interactivity-`.concat(Me,` {pointer-events: none;}
  .allow-interactivity-`).concat(Me,` {pointer-events: all;}
`)},$i=0,mi=[],Qi,Ri=(Qi=function(Me){var Ye=a.useRef([]),Xe=a.useRef([0,0]),lt=a.useRef(),gt=a.useState($i++)[0],Ct=a.useState(function(){return qa()})[0],_t=a.useRef(Me);a.useEffect(function(){_t.current=Me},[Me]),a.useEffect(function(){if(Me.inert){document.body.classList.add("block-interactivity-".concat(gt));var Tn=function(Vn,sr,mr){for(var or,ar=0,Pr=sr.length;ar<Pr;ar++)!or&&ar in sr||(or||(or=Array.prototype.slice.call(sr,0,ar)),or[ar]=sr[ar]);return Vn.concat(or||Array.prototype.slice.call(sr))}([Me.lockRef.current],(Me.shards||[]).map(Pa)).filter(Boolean);return Tn.forEach(function(Vn){return Vn.classList.add("allow-interactivity-".concat(gt))}),function(){document.body.classList.remove("block-interactivity-".concat(gt)),Tn.forEach(function(Vn){return Vn.classList.remove("allow-interactivity-".concat(gt))})}}},[Me.inert,Me.lockRef.current,Me.shards]);var Dt=a.useCallback(function(Tn,Vn){if("touches"in Tn&&Tn.touches.length===2)return!_t.current.allowPinchZoom;var sr,mr=Ta(Tn),or=Xe.current,ar="deltaX"in Tn?Tn.deltaX:or[0]-mr[0],Pr="deltaY"in Tn?Tn.deltaY:or[1]-mr[1],Hr=Tn.target,Dr=Math.abs(ar)>Math.abs(Pr)?"h":"v";if("touches"in Tn&&Dr==="h"&&Hr.type==="range")return!1;var Lr=ia(Dr,Hr);if(!Lr)return!0;if(Lr?sr=Dr:(sr=Dr==="v"?"h":"v",Lr=ia(Dr,Hr)),!Lr)return!1;if(!lt.current&&"changedTouches"in Tn&&(ar||Pr)&&(lt.current=sr),!sr)return!0;var Xr=lt.current||sr;return function(Jr,co,po,xo,Ho){var gi=function(Rt,Yi){return Rt==="h"&&Yi==="rtl"?-1:1}(Jr,window.getComputedStyle(co).direction),Si=gi*xo,_i=po.target,da=co.contains(_i),ta=!1,li=Si>0,hi=0,xi=0;do{var oi=ga(Jr,_i),si=oi[0],Ti=oi[1]-oi[2]-gi*si;(si||Ti)&&ma(Jr,_i)&&(hi+=Ti,xi+=si),_i=_i.parentNode}while(!da&&_i!==document.body||da&&(co.contains(_i)||co===_i));return(li&&hi===0||!li&&xi===0)&&(ta=!0),ta}(Xr,Vn,Tn,Xr==="h"?ar:Pr)},[]),wn=a.useCallback(function(Tn){var Vn=Tn;if(mi.length&&mi[mi.length-1]===Ct){var sr="deltaY"in Vn?Ka(Vn):Ta(Vn),mr=Ye.current.filter(function(ar){return ar.name===Vn.type&&ar.target===Vn.target&&function(Pr,Hr){return Pr[0]===Hr[0]&&Pr[1]===Hr[1]}(ar.delta,sr)})[0];if(mr&&mr.should)Vn.cancelable&&Vn.preventDefault();else if(!mr){var or=(_t.current.shards||[]).map(Pa).filter(Boolean).filter(function(ar){return ar.contains(Vn.target)});(or.length>0?Dt(Vn,or[0]):!_t.current.noIsolation)&&Vn.cancelable&&Vn.preventDefault()}}},[]),Pn=a.useCallback(function(Tn,Vn,sr,mr){var or={name:Tn,delta:Vn,target:sr,should:mr};Ye.current.push(or),setTimeout(function(){Ye.current=Ye.current.filter(function(ar){return ar!==or})},1)},[]),fn=a.useCallback(function(Tn){Xe.current=Ta(Tn),lt.current=void 0},[]),_n=a.useCallback(function(Tn){Pn(Tn.type,Ka(Tn),Tn.target,Dt(Tn,Me.lockRef.current))},[]),zn=a.useCallback(function(Tn){Pn(Tn.type,Ta(Tn),Tn.target,Dt(Tn,Me.lockRef.current))},[]);a.useEffect(function(){return mi.push(Ct),Me.setCallbacks({onScrollCapture:_n,onWheelCapture:_n,onTouchMoveCapture:zn}),document.addEventListener("wheel",wn,Ki),document.addEventListener("touchmove",wn,Ki),document.addEventListener("touchstart",fn,Ki),function(){mi=mi.filter(function(Tn){return Tn!==Ct}),document.removeEventListener("wheel",wn,Ki),document.removeEventListener("touchmove",wn,Ki),document.removeEventListener("touchstart",fn,Ki)}},[]);var Nn=Me.removeScrollBar,Rn=Me.inert;return a.createElement(a.Fragment,null,Rn?a.createElement(Ct,{styles:Ra(gt)}):null,Nn?a.createElement(Aa,{gapMode:"margin"}):null)},ji.useMedium(Qi),ki),Sa=a.forwardRef(function(Me,Ye){return a.createElement(ka,uo({},Me,{ref:Ye,sideCar:Ri}))});Sa.classNames=ka.classNames;var yl=Sa;const xl="Popover",[Nl,Za]=(0,s.b)(xl,[pr]),aa=pr(),[yi,Vi]=Nl(xl),ua=Me=>{const{__scopePopover:Ye,children:Xe,open:lt,defaultOpen:gt,onOpenChange:Ct,modal:_t=!1}=Me,Dt=aa(Ye),wn=(0,a.useRef)(null),[Pn,fn]=(0,a.useState)(!1),[_n=!1,zn]=(0,Er.T)({prop:lt,defaultProp:gt,onChange:Ct});return(0,a.createElement)(ln,Dt,(0,a.createElement)(yi,{scope:Ye,contentId:(0,xe.M)(),triggerRef:wn,open:_n,onOpenChange:zn,onOpenToggle:(0,a.useCallback)(()=>zn(Nn=>!Nn),[zn]),hasCustomAnchor:Pn,onCustomAnchorAdd:(0,a.useCallback)(()=>fn(!0),[]),onCustomAnchorRemove:(0,a.useCallback)(()=>fn(!1),[]),modal:_t},Xe))},Bl="PopoverTrigger",za=(0,a.forwardRef)((Me,Ye)=>{const{__scopePopover:Xe,...lt}=Me,gt=Vi(Bl,Xe),Ct=aa(Xe),_t=(0,g.e)(Ye,gt.triggerRef),Dt=(0,a.createElement)(u.WV.button,(0,r.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":gt.open,"aria-controls":gt.contentId,"data-state":xt(gt.open)},lt,{ref:_t,onClick:(0,o.M)(Me.onClick,gt.onOpenToggle)}));return gt.hasCustomAnchor?Dt:(0,a.createElement)(Zn,(0,r.Z)({asChild:!0},Ct),Dt)}),Ja="PopoverPortal",[ea,ja]=Nl(Ja,{forceMount:void 0}),Bi=Me=>{const{__scopePopover:Ye,forceMount:Xe,children:lt,container:gt}=Me,Ct=Vi(Ja,Ye);return(0,a.createElement)(ea,{scope:Ye,forceMount:Xe},(0,a.createElement)(Mr.z,{present:Xe||Ct.open},(0,a.createElement)(br,{asChild:!0,container:gt},lt)))},Wi="PopoverContent",wl=(0,a.forwardRef)((Me,Ye)=>{const Xe=ja(Wi,Me.__scopePopover),{forceMount:lt=Xe.forceMount,...gt}=Me,Ct=Vi(Wi,Me.__scopePopover);return(0,a.createElement)(Mr.z,{present:lt||Ct.open},Ct.modal?(0,a.createElement)(be,(0,r.Z)({},gt,{ref:Ye})):(0,a.createElement)(De,(0,r.Z)({},gt,{ref:Ye})))}),be=(0,a.forwardRef)((Me,Ye)=>{const Xe=Vi(Wi,Me.__scopePopover),lt=(0,a.useRef)(null),gt=(0,g.e)(Ye,lt),Ct=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{const _t=lt.current;if(_t)return Ir(_t)},[]),(0,a.createElement)(yl,{as:Or.g7,allowPinchZoom:!0},(0,a.createElement)(nt,(0,r.Z)({},Me,{ref:gt,trapFocus:Xe.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.M)(Me.onCloseAutoFocus,_t=>{var Dt;_t.preventDefault(),Ct.current||(Dt=Xe.triggerRef.current)===null||Dt===void 0||Dt.focus()}),onPointerDownOutside:(0,o.M)(Me.onPointerDownOutside,_t=>{const Dt=_t.detail.originalEvent,wn=Dt.button===0&&Dt.ctrlKey===!0,Pn=Dt.button===2||wn;Ct.current=Pn},{checkForDefaultPrevented:!1}),onFocusOutside:(0,o.M)(Me.onFocusOutside,_t=>_t.preventDefault(),{checkForDefaultPrevented:!1})})))}),De=(0,a.forwardRef)((Me,Ye)=>{const Xe=Vi(Wi,Me.__scopePopover),lt=(0,a.useRef)(!1);return(0,a.createElement)(nt,(0,r.Z)({},Me,{ref:Ye,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:gt=>{var Ct,_t;(Ct=Me.onCloseAutoFocus)===null||Ct===void 0||Ct.call(Me,gt),gt.defaultPrevented||(lt.current||(_t=Xe.triggerRef.current)===null||_t===void 0||_t.focus(),gt.preventDefault()),lt.current=!1},onInteractOutside:gt=>{var Ct,_t;(Ct=Me.onInteractOutside)===null||Ct===void 0||Ct.call(Me,gt),gt.defaultPrevented||(lt.current=!0);const Dt=gt.target;!((_t=Xe.triggerRef.current)===null||_t===void 0)&&_t.contains(Dt)&&gt.preventDefault()}}))}),nt=(0,a.forwardRef)((Me,Ye)=>{const{__scopePopover:Xe,trapFocus:lt,onOpenAutoFocus:gt,onCloseAutoFocus:Ct,disableOutsidePointerEvents:_t,onEscapeKeyDown:Dt,onPointerDownOutside:wn,onFocusOutside:Pn,onInteractOutside:fn,..._n}=Me,zn=Vi(Wi,Xe),Nn=aa(Xe);return pe(),(0,a.createElement)(Ue,{asChild:!0,loop:!0,trapped:lt,onMountAutoFocus:gt,onUnmountAutoFocus:Ct},(0,a.createElement)(V,{asChild:!0,disableOutsidePointerEvents:_t,onInteractOutside:fn,onEscapeKeyDown:Dt,onPointerDownOutside:wn,onFocusOutside:Pn,onDismiss:()=>zn.onOpenChange(!1)},(0,a.createElement)(qn,(0,r.Z)({"data-state":xt(zn.open),role:"dialog",id:zn.contentId},Nn,_n,{ref:Ye,style:{..._n.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))}),dt=(0,a.forwardRef)((Me,Ye)=>{const{__scopePopover:Xe,...lt}=Me,gt=aa(Xe);return(0,a.createElement)(hr,(0,r.Z)({},gt,lt,{ref:Ye}))});function xt(Me){return Me?"open":"closed"}const Pt=ua,en=za,Cn=Bi,Wn=wl,Ot=dt;var Gt=e(8242),Tt=e(453),mn=e(8935),Jt=e(8924),On=function(Me){var Ye=Me.color,Xe=Me.onChange,lt=Me.label,gt=Me.colorPickerType,Ct=(0,Gt.Fy)(),_t=(0,a.useState)(Ye),Dt=(0,w.Z)(_t,2),wn=Dt[0],Pn=Dt[1],fn=(0,F.KO)(le),_n=(0,w.Z)(fn,2),zn=_n[0],Nn=_n[1];(0,a.useEffect)(function(){Pn(Ye)},[Ye]);var Rn=(0,a.useCallback)(function(Pr){var Hr=Pr.toLowerCase(),Dr=Mo(Hr);Dr&&Xe(Dr),Pn(Hr)},[Xe]),Tn=(0,a.useRef)(null),Vn=(0,a.useRef)(null);(0,a.useEffect)(function(){Tn.current&&Tn.current.focus()},[zn]);var sr=(0,F.KO)(Jt.$,Tt.yE),mr=(0,w.Z)(sr,2),or=mr[0],ar=mr[1];return(0,a.useEffect)(function(){return function(){ar(null)}},[ar]),(0,T.jsxs)("div",{className:"color-picker__input-label",children:[(0,T.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,T.jsx)("input",{ref:zn==="hex"?Tn:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":lt,onChange:function(Pr){Rn(Pr.target.value)},value:(wn||"").replace(/^#/,""),onBlur:function(){Pn(Ye)},tabIndex:-1,onFocus:function(){return Nn("hex")},onKeyDown:function(Pr){var Hr;Pr.key!==R.tW.TAB&&(Pr.key===R.tW.ESCAPE&&((Hr=Vn.current)===null||Hr===void 0||Hr.focus()),Pr.stopPropagation())}}),!Ct.editor.isMobile&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,T.jsx)("div",{ref:Vn,className:(0,d.Z)("excalidraw-eye-dropper-trigger",{selected:or}),onClick:function(){return ar(function(Pr){return Pr?null:{keepOpenOnAlt:!1,onSelect:function(Hr){return Xe(Hr)},colorPickerType:gt}})},title:"".concat((0,Z.t)("labels.eyeDropper")," — ").concat(R.tW.I.toLocaleUpperCase()," or ").concat((0,v.uY)("Alt")," "),children:mn.$W})]})]})},In=e(3379),gn=e.n(In),nr=e(7795),ur=e.n(nr),dr=e(569),jr=e.n(dr),Vr=e(3565),qr=e.n(Vr),Wr=e(9216),Yr=e.n(Wr),Tr=e(4589),Br=e.n(Tr),ro=e(4269),so={};so.styleTagTransform=Br(),so.setAttributes=qr(),so.insert=jr().bind(null,"head"),so.domAPI=ur(),so.insertStyleElement=Yr(),gn()(ro.Z,so),ro.Z&&ro.Z.locals&&ro.Z.locals;var fo=function(Me){var Ye=new Option().style;return Ye.color=Me,!!Ye.color},Mo=function(Me){return(0,v.Qm)(Me)?Me:fo("#".concat(Me))?"#".concat(Me):fo(Me)?Me:null},Zi=function(Me){var Ye=Me.type,Xe=Me.color,lt=Me.onChange,gt=Me.label,Ct=Me.elements,_t=Me.palette,Dt=_t===void 0?b.HO:_t,wn=Me.updateData,Pn=(0,F.KO)(le),fn=(0,w.Z)(Pn,2)[1],_n=(0,F.KO)(Jt.$,Tt.yE),zn=(0,w.Z)(_n,2),Nn=zn[0],Rn=zn[1],Tn=(0,Gt.J0)().container,Vn=(0,Gt.Fy)(),sr=(0,T.jsxs)("div",{children:[(0,T.jsx)(I,{children:(0,Z.t)("colorPicker.hexCode")}),(0,T.jsx)(On,{color:Xe,label:gt,onChange:function(ar){lt(ar)},colorPickerType:Ye})]}),mr=(0,a.useRef)(null),or=function(){var ar,Pr;(ar=mr.current)===null||ar===void 0||(Pr=ar.querySelector(".color-picker-content"))===null||Pr===void 0||Pr.focus()};return(0,T.jsx)(Cn,{container:Tn,children:(0,T.jsxs)(Wn,{ref:mr,className:"focus-visible-none","data-prevent-outside-click":!0,onFocusOutside:function(ar){or(),ar.preventDefault()},onPointerDownOutside:function(ar){Nn&&ar.preventDefault()},onCloseAutoFocus:function(ar){ar.stopPropagation(),ar.preventDefault(),Tn&&!(0,v.y1)(document.activeElement)&&Tn.focus(),wn({openPopup:null}),fn(null)},side:Vn.editor.isMobile&&!Vn.viewport.isLandscape?"bottom":"right",align:Vn.editor.isMobile&&!Vn.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-layerUI)",backgroundColor:"var(--popup-bg-color)",maxWidth:"208px",maxHeight:window.innerHeight,padding:"12px",borderRadius:"8px",boxSizing:"border-box",overflowY:"auto",boxShadow:"0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702)"},children:[Dt?(0,T.jsx)(p,{palette:Dt,color:Xe,onChange:function(ar){lt(ar)},onEyeDropperToggle:function(ar){Rn(function(Pr){return ar?((Pr=Pr||{keepOpenOnAlt:!0,onSelect:lt,colorPickerType:Ye}).keepOpenOnAlt=!0,Pr):ar===!1||Pr?null:{keepOpenOnAlt:!1,onSelect:lt,colorPickerType:Ye}})},onEscape:function(ar){Nn?Rn(null):(0,v.s)(ar.target)?or():wn({openPopup:null})},label:gt,type:Ye,elements:Ct,updateData:wn,children:sr}):sr,(0,T.jsx)(Ot,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})},Ao=function(Me){var Ye=Me.label,Xe=Me.color,lt=Me.type;return(0,T.jsx)(en,{type:"button",className:(0,d.Z)("color-picker__button active-color",{"is-transparent":Xe==="transparent"||!Xe}),"aria-label":Ye,style:Xe?{"--swatch-color":Xe}:void 0,title:lt==="elementStroke"?(0,Z.t)("labels.showStroke"):(0,Z.t)("labels.showBackground"),children:(0,T.jsx)("div",{className:"color-picker__button-outline"})})},at=function(Me){var Ye=Me.type,Xe=Me.color,lt=Me.onChange,gt=Me.label,Ct=Me.elements,_t=Me.palette,Dt=_t===void 0?b.HO:_t,wn=Me.topPicks,Pn=Me.updateData,fn=Me.appState;return(0,T.jsx)("div",{children:(0,T.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,T.jsx)(S,{activeColor:Xe,onChange:lt,type:Ye,topPicks:wn}),(0,T.jsx)("div",{style:{width:1,height:"100%",backgroundColor:"var(--default-border-color)",margin:"0 auto"}}),(0,T.jsxs)(Pt,{open:fn.openPopup===Ye,onOpenChange:function(_n){Pn({openPopup:_n?Ye:null})},children:[(0,T.jsx)(Ao,{color:Xe,label:gt,type:Ye}),fn.openPopup===Ye&&(0,T.jsx)(Zi,{type:Ye,color:Xe,onChange:lt,label:gt,elements:Ct,palette:Dt,updateData:Pn})]})]})})}},6887:function(te,t,e){e.d(t,{Z:function(){return r}});var w=e(7169),v=e(2726),d=e(8227),b=e(1300),T=e(3379),S=e.n(T),a=e(7795),c=e.n(a),Z=e(569),F=e.n(Z),_=e(3565),h=e.n(_),x=e(9216),G=e.n(x),le=e(4589),he=e.n(le),ve=e(9393),fe={};fe.styleTagTransform=he(),fe.setAttributes=h(),fe.insert=F().bind(null,"head"),fe.domAPI=c(),fe.insertStyleElement=G(),S()(ve.Z,fe),ve.Z&&ve.Z.locals&&ve.Z.locals;var X=e(4932),q=e(3607),U=e(3116),R=e(8242),B=e(453),M=e(1020),I=["onConfirm","onCancel","children","confirmText","cancelText","className"];function E(o,g){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);g&&(u=u.filter(function(k){return Object.getOwnPropertyDescriptor(o,k).enumerable})),s.push.apply(s,u)}return s}function p(o){for(var g=1;g<arguments.length;g++){var s=arguments[g]!=null?arguments[g]:{};g%2?E(Object(s),!0).forEach(function(u){(0,w.Z)(o,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):E(Object(s)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(s,u))})}return o}var r=function(o){var g=o.onConfirm,s=o.onCancel,u=o.children,k=o.confirmText,N=k===void 0?(0,d.t)("buttons.confirm"):k,W=o.cancelText,O=W===void 0?(0,d.t)("buttons.cancel"):W,j=o.className,L=j===void 0?"":j,V=(0,v.Z)(o,I),ie=(0,R.n9)(),se=(0,q.b9)(U.uh,B.yE),ue=(0,R.J0)().container;return(0,M.jsxs)(b.V,p(p({onCloseRequest:s,size:"small"},V),{},{className:"confirm-dialog ".concat(L),children:[u,(0,M.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,M.jsx)(X.Z,{label:O,onClick:function(){ie({openMenu:null}),se(!1),s(),ue?.focus()}}),(0,M.jsx)(X.Z,{label:N,onClick:function(){ie({openMenu:null}),se(!1),g(),ue?.focus()},actionType:"danger"})]})]}))}},1925:function(te,t,e){e.d(t,{O:function(){return U}});var w=e(2726),v=e(7169),d=e(45),b=e(9937),T=e(4572),S=e(100),a=e(8227),c=e(9827),Z=e(8242),F=e(6922),_=e(3116),h=e(5902),x=e(1020),G=e(9787),le=["children"],he=["children","className","onDock","docked"];function ve(R,B){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(R);B&&(I=I.filter(function(E){return Object.getOwnPropertyDescriptor(R,E).enumerable})),M.push.apply(M,I)}return M}function fe(R){for(var B=1;B<arguments.length;B++){var M=arguments[B]!=null?arguments[B]:{};B%2?ve(Object(M),!0).forEach(function(I){(0,v.Z)(R,I,M[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):ve(Object(M)).forEach(function(I){Object.defineProperty(R,I,Object.getOwnPropertyDescriptor(M,I))})}return R}var X=(0,F.$)("DefaultSidebarTrigger",function(R){var B=(0,T.R6)().DefaultSidebarTriggerTunnel;return(0,x.jsx)(B.In,{children:(0,x.jsx)(h.YE.Trigger,fe(fe({},R),{},{className:"default-sidebar-trigger",name:b.Cc.name}))})});X.displayName="DefaultSidebarTrigger";var q=function(R){var B=R.children,M=(0,w.Z)(R,le),I=(0,T.R6)().DefaultSidebarTabTriggersTunnel;return(0,x.jsx)(I.In,{children:(0,x.jsx)(h.YE.TabTriggers,fe(fe({},M),{},{children:B}))})};q.displayName="DefaultTabTriggers";var U=Object.assign((0,F.$)("DefaultSidebar",function(R){var B=R.children,M=R.className,I=R.onDock,E=R.docked,p=(0,w.Z)(R,he),r=(0,S.I)(),o=(0,Z.n9)(),g=(0,T.R6)().DefaultSidebarTabTriggersTunnel;return(0,G.createElement)(h.YE,fe(fe({},p),{},{name:"default",key:"default",className:(0,d.Z)("default-sidebar",M),docked:E??r.defaultSidebarDockedPreference,onDock:I===!1||!I&&E!=null?void 0:(0,c.Mj)(I,function(s){o({defaultSidebarDockedPreference:s})})}),(0,x.jsxs)(h.YE.Tabs,{children:[(0,x.jsxs)(h.YE.Header,{children:[p.__fallback&&(0,x.jsx)("div",{style:{color:"var(--color-primary)",fontSize:"1.2em",fontWeight:"bold",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"1em"},children:(0,a.t)("toolBar.library")}),(0,x.jsx)(g.Out,{})]}),(0,x.jsx)(h.YE.Tab,{tab:b.tf,children:(0,x.jsx)(_.rY,{})}),B]}))}),{Trigger:X,TabTriggers:q})},1300:function(te,t,e){e.d(t,{V:function(){return N}});var w=e(2577),v=e(45),d=e(9787),b=e(8227),T=e(8242),S=e(5491),a=e(3379),c=e.n(a),Z=e(7795),F=e.n(Z),_=e(569),h=e.n(_),x=e(3565),G=e.n(x),le=e(9216),he=e.n(le),ve=e(4589),fe=e.n(ve),X=e(9482),q={};q.styleTagTransform=fe(),q.setAttributes=G(),q.insert=h().bind(null,"head"),q.domAPI=F(),q.insertStyleElement=he(),c()(X.Z,q),X.Z&&X.Z.locals&&X.Z.locals;var U=e(8935),R=e(1404),B=e(6843),M={};M.styleTagTransform=fe(),M.setAttributes=G(),M.insert=h().bind(null,"head"),M.domAPI=F(),M.insertStyleElement=he(),c()(B.Z,M),B.Z&&B.Z.locals&&B.Z.locals;var I=e(5156),E=e(334),p=e(1020),r=function(W){var O=W.closeOnClickOutside,j=O===void 0||O,L=(0,E.F)({className:"excalidraw-modal-container"});return L?(0,I.createPortal)((0,p.jsxs)("div",{className:(0,v.Z)("Modal",W.className),role:"dialog","aria-modal":"true",onKeyDown:function(V){V.key===S.tW.ESCAPE&&(V.nativeEvent.stopImmediatePropagation(),V.stopPropagation(),W.onCloseRequest())},"aria-labelledby":W.labelledBy,"data-prevent-outside-click":!0,children:[(0,p.jsx)("div",{className:"Modal__background",onClick:j?W.onCloseRequest:void 0}),(0,p.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(W.maxWidth,"px")},tabIndex:0,children:W.children})]}),L):null},o=e(9827),g=e(3607),s=e(3116),u=e(453);function k(W){if(W&&typeof W=="number")return W;switch(W){case"small":return 550;case"wide":return 1024;default:return 800}}var N=function(W){var O=function(){var Te=(0,d.useState)(null),Ue=(0,w.Z)(Te,2),qe=Ue[0],Ae=Ue[1];return[qe,(0,d.useCallback)(function(Oe){return Ae(Oe)},[])]}(),j=(0,w.Z)(O,2),L=j[0],V=j[1],ie=(0,d.useState)(document.activeElement),se=(0,w.Z)(ie,1)[0],ue=(0,T.J0)().id,pe=(0,T.Fy)().viewport.isMobile;(0,d.useEffect)(function(){if(L){var Te=(0,o.xp)(L);Te.length>0&&W.autofocus!==!1&&(Te[1]||Te[0]).focus();var Ue=function(qe){if(qe.key===S.tW.TAB){var Ae=(0,o.xp)(L),Oe=document.activeElement,Ie=Ae.findIndex(function(Re){return Re===Oe});Ie===0&&qe.shiftKey?(Ae[Ae.length-1].focus(),qe.preventDefault()):Ie!==Ae.length-1||qe.shiftKey||(Ae[0].focus(),qe.preventDefault())}};return L.addEventListener("keydown",Ue),function(){return L.removeEventListener("keydown",Ue)}}},[L,W.autofocus]);var Q=(0,T.n9)(),ee=(0,g.b9)(s.uh,u.yE),me=function(){Q({openMenu:null}),ee(!1),se.focus(),W.onCloseRequest()};return(0,p.jsx)(r,{className:(0,v.Z)("Dialog",W.className,{"Dialog--fullscreen":pe}),labelledBy:"dialog-title",maxWidth:k(W.size),onCloseRequest:me,closeOnClickOutside:W.closeOnClickOutside,children:(0,p.jsxs)(R.W,{ref:V,children:[W.title&&(0,p.jsx)("h2",{id:"".concat(ue,"-dialog-title"),className:"Dialog__title",children:(0,p.jsx)("span",{className:"Dialog__titleContent",children:W.title})}),(0,p.jsx)("button",{className:"Dialog__close",onClick:me,title:(0,b.t)("buttons.close"),"aria-label":(0,b.t)("buttons.close"),children:pe?U.op:U.Tw}),(0,p.jsx)("div",{className:"Dialog__content",children:W.children})]})})}},4932:function(te,t,e){e.d(t,{Z:function(){return B}});var w=e(7169),v=e(2726),d=e(45),b=e(3379),T=e.n(b),S=e(7795),a=e.n(S),c=e(569),Z=e.n(c),F=e(3565),_=e.n(F),h=e(9216),x=e.n(h),G=e(4589),le=e.n(G),he=e(6148),ve={};ve.styleTagTransform=le(),ve.setAttributes=_(),ve.insert=Z().bind(null,"head"),ve.domAPI=a(),ve.insertStyleElement=x(),T()(he.Z,ve),he.Z&&he.Z.locals&&he.Z.locals;var fe=e(8531),X=e(1020),q=["label","onClick","className","children","actionType","type","isLoading"];function U(M,I){var E=Object.keys(M);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(M);I&&(p=p.filter(function(r){return Object.getOwnPropertyDescriptor(M,r).enumerable})),E.push.apply(E,p)}return E}function R(M){for(var I=1;I<arguments.length;I++){var E=arguments[I]!=null?arguments[I]:{};I%2?U(Object(E),!0).forEach(function(p){(0,w.Z)(M,p,E[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(E)):U(Object(E)).forEach(function(p){Object.defineProperty(M,p,Object.getOwnPropertyDescriptor(E,p))})}return M}var B=function(M){var I=M.label,E=M.onClick,p=M.className,r=M.children,o=M.actionType,g=M.type,s=g===void 0?"button":g,u=M.isLoading,k=(0,v.Z)(M,q),N=o?"Dialog__action-button--".concat(o):"";return(0,X.jsxs)("button",R(R({className:(0,d.Z)("Dialog__action-button",N,p),type:s,"aria-label":I,onClick:E},k),{},{children:[r&&(0,X.jsx)("div",{style:u?{visibility:"hidden"}:{},children:r}),(0,X.jsx)("div",{style:u?{visibility:"hidden"}:{},children:I}),u&&(0,X.jsx)("div",{style:{position:"absolute",inset:0},children:(0,X.jsx)(fe.Z,{})})]}))}},8924:function(te,t,e){e.d(t,{p:function(){return r},$:function(){return p}});var w=e(3607),v=e(9787),d=e(5156),b=e(9240),T=e(9937),S=e(100),a=e(334),c=e(1901),Z=e(5491),F=e(4105),_=e(8242),h=e(3379),x=e.n(h),G=e(7795),le=e.n(G),he=e(569),ve=e.n(he),fe=e(3565),X=e.n(fe),q=e(9216),U=e.n(q),R=e(4589),B=e.n(R),M=e(7522),I={};I.styleTagTransform=B(),I.setAttributes=X(),I.insert=ve().bind(null,"head"),I.domAPI=le(),I.insertStyleElement=U(),x()(M.Z,I),M.Z&&M.Z.locals&&M.Z.locals;var E=e(1020),p=(0,w.cn)(null),r=function(o){var g=o.onCancel,s=o.onChange,u=o.onSelect,k=o.colorPickerType,N=(0,a.F)({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),W=(0,S.I)(),O=(0,_.bd)(),j=(0,_.qD)(),L=(0,F.eD)(O,W),V=function(ue){var pe=(0,v.useRef)(ue);return Object.assign(pe.current,ue),pe.current}({app:j,onCancel:g,onChange:s,onSelect:u,selectedElements:L}),ie=(0,_.J0)().container;(0,v.useEffect)(function(){var ue=se.current;if(ue&&j.canvas&&N){var pe=!1,Q=j.canvas.getContext("2d"),ee=function(Oe){var Ie=Oe.clientX,Re=Oe.clientY,ke=Q.getImageData((Ie-W.offsetLeft)*window.devicePixelRatio,(Re-W.offsetTop)*window.devicePixelRatio,1,1).data;return(0,b.vq)(ke[0],ke[1],ke[2])},me=function(Oe){var Ie=Oe.clientX,Re=Oe.clientY,ke=Oe.altKey;ue.style.top="".concat(Re+20,"px"),ue.style.left="".concat(Ie+20,"px");var xe=ee({clientX:Ie,clientY:Re});pe&&V.onChange(k,xe,V.selectedElements,{altKey:ke}),ue.style.background=xe},Te=function(){V.onCancel()},Ue=function(Oe){pe=!0,Oe.stopImmediatePropagation()},qe=function(Oe){pe=!1,ie?.focus(),Oe.stopImmediatePropagation(),Oe.preventDefault(),function(Ie,Re){V.onSelect(Ie,Re)}(ee(Oe),Oe)},Ae=function(Oe){Oe.key===Z.tW.ESCAPE&&(Oe.preventDefault(),Oe.stopImmediatePropagation(),Te())};return N.tabIndex=-1,N.focus(),me({clientX:V.app.lastViewportPosition.x,clientY:V.app.lastViewportPosition.y,altKey:!1}),N.addEventListener(T.Ks.KEYDOWN,Ae),N.addEventListener(T.Ks.POINTER_DOWN,Ue),N.addEventListener(T.Ks.POINTER_UP,qe),window.addEventListener("pointermove",me,{passive:!0}),window.addEventListener(T.Ks.BLUR,Te),function(){pe=!1,N.removeEventListener(T.Ks.KEYDOWN,Ae),N.removeEventListener(T.Ks.POINTER_DOWN,Ue),N.removeEventListener(T.Ks.POINTER_UP,qe),window.removeEventListener("pointermove",me),window.removeEventListener(T.Ks.BLUR,Te)}}},[V,j.canvas,N,k,ie,W.offsetLeft,W.offsetTop]);var se=(0,v.useRef)(null);return(0,c.O)(se,function(){g()},function(ue){return!!ue.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")}),N?(0,d.createPortal)((0,E.jsx)("div",{ref:se,className:"excalidraw-eye-dropper-preview"}),N):null}},1404:function(te,t,e){e.d(t,{W:function(){return R}});var w=e(7169),v=e(3379),d=e.n(v),b=e(7795),T=e.n(b),S=e(569),a=e.n(S),c=e(3565),Z=e.n(c),F=e(9216),_=e.n(F),h=e(4589),x=e.n(h),G=e(7369),le={};le.styleTagTransform=x(),le.setAttributes=Z(),le.insert=a().bind(null,"head"),le.domAPI=T(),le.insertStyleElement=_(),d()(G.Z,le),G.Z&&G.Z.locals&&G.Z.locals;var he=e(9787),ve=e.n(he),fe=e(45),X=e(1020);function q(B,M){var I=Object.keys(B);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(B);M&&(E=E.filter(function(p){return Object.getOwnPropertyDescriptor(B,p).enumerable})),I.push.apply(I,E)}return I}function U(B){for(var M=1;M<arguments.length;M++){var I=arguments[M]!=null?arguments[M]:{};M%2?q(Object(I),!0).forEach(function(E){(0,w.Z)(B,E,I[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(I)):q(Object(I)).forEach(function(E){Object.defineProperty(B,E,Object.getOwnPropertyDescriptor(I,E))})}return B}var R=ve().forwardRef(function(B,M){var I=B.children,E=B.padding,p=B.className,r=B.style;return(0,X.jsx)("div",{className:(0,fe.Z)("Island",p),style:U({"--padding":E},r),ref:M,children:I})})},3116:function(te,t,e){e.d(t,{rY:function(){return It},uh:function(){return Xt}});var w=e(6655),v=e(1930),d=e(8950),b=e(2577),T=e(2975),S=e.n(T),a=e(9787),c=e.n(a),Z=e(9326),F=e(8227),_=e(4643),h=e(7169),x=e(4419),G=e(9827),le=e(2540),he=e(9937),ve=e(8531),fe=e(5742),X=e(1020),q=function(kt){var Ht=kt.theme,At=kt.id,Wt=kt.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,X.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(Wt,"&useHash=true&token=").concat(At,"&theme=").concat(Ht,"&version=").concat(he.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,F.t)("labels.libraries")})},U=e(45),R=function(kt){var Ht=kt.libraryReturnUrl,At=kt.theme,Wt=kt.id,Kt=kt.style,an=kt.children,bn=kt.className;return(0,X.jsxs)("div",{className:(0,U.Z)("library-menu-control-buttons",bn),style:Kt,children:[(0,X.jsx)(q,{id:Wt,libraryReturnUrl:Ht,theme:At}),an]})},B=e(9247),M=e(453),I=e(8242),E=e(8935),p=e(1512),r=e(6548),o=e(3607),g=e(6887),s=e(5284),u=e(1300),k=e(507),N=e(5796),W=e(4932),O=e(3379),j=e.n(O),L=e(7795),V=e.n(L),ie=e(569),se=e.n(ie),ue=e(3565),pe=e.n(ue),Q=e(9216),ee=e.n(Q),me=e(4589),Te=e.n(me),Ue=e(7589),qe={};qe.styleTagTransform=Te(),qe.setAttributes=pe(),qe.insert=se().bind(null,"head"),qe.domAPI=V(),qe.insertStyleElement=ee(),j()(Ue.Z,qe),Ue.Z&&Ue.Z.locals&&Ue.Z.locals;function Ae(kt,Ht){var At=Object.keys(kt);if(Object.getOwnPropertySymbols){var Wt=Object.getOwnPropertySymbols(kt);Ht&&(Wt=Wt.filter(function(Kt){return Object.getOwnPropertyDescriptor(kt,Kt).enumerable})),At.push.apply(At,Wt)}return At}function Oe(kt){for(var Ht=1;Ht<arguments.length;Ht++){var At=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?Ae(Object(At),!0).forEach(function(Wt){(0,h.Z)(kt,Wt,At[Wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kt,Object.getOwnPropertyDescriptors(At)):Ae(Object(At)).forEach(function(Wt){Object.defineProperty(kt,Wt,Object.getOwnPropertyDescriptor(At,Wt))})}return kt}function Ie(kt,Ht){var At=typeof Symbol<"u"&&kt[Symbol.iterator]||kt["@@iterator"];if(!At){if(Array.isArray(kt)||(At=function(An,Yn){if(An){if(typeof An=="string")return Re(An,Yn);var tr=Object.prototype.toString.call(An).slice(8,-1);if(tr==="Object"&&An.constructor&&(tr=An.constructor.name),tr==="Map"||tr==="Set")return Array.from(An);if(tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr))return Re(An,Yn)}}(kt))||Ht){At&&(kt=At);var Wt=0,Kt=function(){};return{s:Kt,n:function(){return Wt>=kt.length?{done:!0}:{done:!1,value:kt[Wt++]}},e:function(An){throw An},f:Kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var an,bn=!0,hn=!1;return{s:function(){At=At.call(kt)},n:function(){var An=At.next();return bn=An.done,An},e:function(An){hn=!0,an=An},f:function(){try{bn||At.return==null||At.return()}finally{if(hn)throw an}}}}function Re(kt,Ht){(Ht==null||Ht>kt.length)&&(Ht=kt.length);for(var At=0,Wt=new Array(Ht);At<Ht;At++)Wt[At]=kt[At];return Wt}var ke="publish-library-data",xe=function(){var kt=(0,d.Z)(S().mark(function Ht(At){var Wt,Kt,an,bn,hn,An,Yn,tr,Sn,Bt,dn,un,Bn,Jn,cr,kr,fr;return S().wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:Wt=6,Kt=128,an=Math.round(Kt/16),bn=Math.max(Math.round(Kt/64),2),hn=(0,G.yo)(At,Wt),(An=document.createElement("canvas")).width=hn[0].length*Kt+(hn[0].length+1)*(2*an)-2*an,An.height=hn.length*Kt+(hn.length+1)*(2*an)-2*an,(Yn=An.getContext("2d")).fillStyle=s.white,Yn.fillRect(0,0,An.width,An.height),tr=Ie(At.entries()),pn.prev=12,tr.s();case 14:if((Sn=tr.n()).done){pn.next=28;break}return Bt=(0,b.Z)(Sn.value,2),dn=Bt[0],un=Bt[1],pn.next=18,(0,k.NL)({elements:un.elements,files:null,maxWidthOrHeight:Kt});case 18:Bn=pn.sent,Jn=Bn.width,cr=Bn.height,kr=Math.floor(dn/Wt)*(Kt+2*an),fr=dn%Wt*(Kt+2*an),Yn.drawImage(Bn,fr+(Kt-Jn)/2+an,kr+(Kt-cr)/2+an),Yn.lineWidth=bn,Yn.strokeStyle=s.gray[4],Yn.strokeRect(fr+an/2,kr+an/2,Kt+an,Kt+an);case 26:pn.next=14;break;case 28:pn.next=33;break;case 30:pn.prev=30,pn.t0=pn.catch(12),tr.e(pn.t0);case 33:return pn.prev=33,tr.f(),pn.finish(33);case 36:return pn.t1=N.Tu,pn.t2=File,pn.next=40,(0,N._c)(An);case 40:return pn.t3=pn.sent,pn.t4=[pn.t3],pn.t5={type:he.LO.png},pn.t6=new pn.t2(pn.t4,"preview",pn.t5),pn.t7={outputType:he.LO.jpg,maxWidthOrHeight:5e3},pn.next=47,(0,pn.t1)(pn.t6,pn.t7);case 47:return pn.abrupt("return",pn.sent);case 48:case"end":return pn.stop()}},Ht,null,[[12,30,33,36]])}));return function(Ht){return kt.apply(this,arguments)}}(),ye=function(kt){var Ht=kt.libItem,At=kt.appState,Wt=kt.index,Kt=kt.onChange,an=kt.onRemove,bn=(0,a.useRef)(null),hn=(0,a.useRef)(null);return(0,a.useEffect)(function(){var An=bn.current;An&&(0,d.Z)(S().mark(function Yn(){var tr;return S().wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return Sn.next=2,(0,k.$D)({elements:Ht.elements,appState:Oe(Oe({},At),{},{viewBackgroundColor:s.white,exportBackground:!0}),files:null});case 2:tr=Sn.sent,An.innerHTML=tr.outerHTML;case 4:case"end":return Sn.stop()}},Yn)}))()},[Ht.elements,At]),(0,X.jsxs)("div",{className:"single-library-item",children:[Ht.status==="published"&&(0,X.jsx)("span",{className:"single-library-item-status",children:(0,F.t)("labels.statusPublished")}),(0,X.jsx)("div",{ref:bn,className:"single-library-item__svg"}),(0,X.jsx)(p.V,{"aria-label":(0,F.t)("buttons.remove"),type:"button",icon:E.Tw,className:"single-library-item--remove",onClick:an.bind(null,Ht.id),title:(0,F.t)("buttons.remove")}),(0,X.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,X.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,X.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,X.jsx)("span",{style:{fontWeight:500,color:s.gray[6]},children:(0,F.t)("publishDialog.itemName")}),(0,X.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,X.jsx)("input",{type:"text",ref:hn,style:{width:"80%",padding:"0.2rem"},defaultValue:Ht.name,placeholder:"Item name",onChange:function(An){Kt(An.target.value,Wt)}})]}),(0,X.jsx)("span",{className:"error",children:Ht.error})]})]})},P=function(kt){var Ht=kt.onClose,At=kt.libraryItems,Wt=kt.appState,Kt=kt.onSuccess,an=kt.onError,bn=kt.updateItemsInStorage,hn=kt.onRemove,An=(0,a.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),Yn=(0,b.Z)(An,2),tr=Yn[0],Sn=Yn[1],Bt=(0,a.useState)(!1),dn=(0,b.Z)(Bt,2),un=dn[0],Bn=dn[1];(0,a.useEffect)(function(){var Hn=function(){try{var Qn=localStorage.getItem(ke);if(Qn)return JSON.parse(Qn)}catch(ir){console.error(ir)}return null}();Hn&&Sn(Hn)},[]);var Jn=(0,a.useState)(At.slice()),cr=(0,b.Z)(Jn,2),kr=cr[0],fr=cr[1];(0,a.useEffect)(function(){fr(At.slice())},[At]);var pn,Nt=function(Hn){Sn(Oe(Oe({},tr),{},(0,h.Z)({},Hn.target.name,Hn.target.value)))},Ft=function(){var Hn=(0,d.Z)(S().mark(function Qn(ir){var Fn,yr,lr,Gn,Xn,er,pr;return S().wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:if(ir.preventDefault(),Bn(!0),Fn=[],yr=!1,kr.forEach(function(xr){var $r="";xr.name||($r=(0,F.t)("publishDialog.errors.required"),yr=!0),Fn.push(Oe(Oe({},xr),{},{error:$r}))}),!yr){vr.next=9;break}return fr(Fn),Bn(!1),vr.abrupt("return");case 9:return vr.next=11,xe(kr);case 11:lr=vr.sent,Gn={type:he.r8.excalidrawLibrary,version:he.Kr.excalidrawLibrary,source:he.pb,libraryItems:kr},Xn=JSON.stringify(Gn,null,2),er=new Blob([Xn],{type:"application/json"}),(pr=new FormData).append("excalidrawLib",er),pr.append("previewImage",lr),pr.append("previewImageType",lr.type),pr.append("title",tr.name),pr.append("authorName",tr.authorName),pr.append("githubHandle",tr.githubHandle),pr.append("name",tr.name),pr.append("description",tr.description),pr.append("twitterHandle",tr.twitterHandle),pr.append("website",tr.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:pr}).then(function(xr){return xr.ok?xr.json().then(function($r){var io=$r.url;localStorage.removeItem(ke),Kt({url:io,authorName:tr.authorName,items:kr})}):xr.json().catch(function(){throw new Error(xr.statusText||"something went wrong")}).then(function($r){throw new Error($r.message||xr.statusText||"something went wrong")})},function(xr){console.error(xr),an(xr),Bn(!1)}).catch(function(xr){console.error(xr),an(xr),Bn(!1)});case 27:case"end":return vr.stop()}},Qn)}));return function(Qn){return Hn.apply(this,arguments)}}(),qt=(0,a.useCallback)(function(){bn(kr),function(Hn){try{localStorage.setItem(ke,JSON.stringify(Hn))}catch(Qn){console.error(Qn)}}(tr),Ht()},[kr,Ht,bn,tr]),kn=!!At.length,$n=At.some(function(Hn){return Hn.status==="published"});return(0,X.jsx)(u.V,{onCloseRequest:qt,title:(0,F.t)("publishDialog.title"),className:"publish-library",children:kn?(0,X.jsxs)("form",{onSubmit:Ft,children:[(0,X.jsx)("div",{className:"publish-library-note",children:(0,X.jsx)(B.Z,{i18nKey:"publishDialog.noteDescription",link:function(Hn){return(0,X.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:Hn})}})}),(0,X.jsx)("span",{className:"publish-library-note",children:(0,X.jsx)(B.Z,{i18nKey:"publishDialog.noteGuidelines",link:function(Hn){return(0,X.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:Hn})}})}),(0,X.jsx)("div",{className:"publish-library-note",children:(0,F.t)("publishDialog.noteItems")}),$n&&(0,X.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,F.t)("publishDialog.republishWarning")}),(pn=[],kr.forEach(function(Hn,Qn){pn.push((0,X.jsx)("div",{className:"single-library-item-wrapper",children:(0,X.jsx)(ye,{libItem:Hn,appState:Wt,index:Qn,onChange:function(ir,Fn){var yr=kr.slice();yr[Fn].name=ir,fr(yr)},onRemove:hn})},Qn))}),(0,X.jsx)("div",{className:"selected-library-items",children:pn})),(0,X.jsxs)("div",{className:"publish-library__fields",children:[(0,X.jsxs)("label",{children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("span",{children:(0,F.t)("publishDialog.libraryName")}),(0,X.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,X.jsx)("input",{type:"text",name:"name",required:!0,value:tr.name,onChange:Nt,placeholder:(0,F.t)("publishDialog.placeholder.libraryName")})]}),(0,X.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("span",{children:(0,F.t)("publishDialog.libraryDesc")}),(0,X.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,X.jsx)("textarea",{name:"description",rows:4,required:!0,value:tr.description,onChange:Nt,placeholder:(0,F.t)("publishDialog.placeholder.libraryDesc")})]}),(0,X.jsxs)("label",{children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("span",{children:(0,F.t)("publishDialog.authorName")}),(0,X.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,X.jsx)("input",{type:"text",name:"authorName",required:!0,value:tr.authorName,onChange:Nt,placeholder:(0,F.t)("publishDialog.placeholder.authorName")})]}),(0,X.jsxs)("label",{children:[(0,X.jsx)("span",{children:(0,F.t)("publishDialog.githubUsername")}),(0,X.jsx)("input",{type:"text",name:"githubHandle",value:tr.githubHandle,onChange:Nt,placeholder:(0,F.t)("publishDialog.placeholder.githubHandle")})]}),(0,X.jsxs)("label",{children:[(0,X.jsx)("span",{children:(0,F.t)("publishDialog.twitterUsername")}),(0,X.jsx)("input",{type:"text",name:"twitterHandle",value:tr.twitterHandle,onChange:Nt,placeholder:(0,F.t)("publishDialog.placeholder.twitterHandle")})]}),(0,X.jsxs)("label",{children:[(0,X.jsx)("span",{children:(0,F.t)("publishDialog.website")}),(0,X.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,F.t)("publishDialog.errors.website"),value:tr.website,onChange:Nt,placeholder:(0,F.t)("publishDialog.placeholder.website")})]}),(0,X.jsx)("span",{className:"publish-library-note",children:(0,X.jsx)(B.Z,{i18nKey:"publishDialog.noteLicense",link:function(Hn){return(0,X.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:Hn})}})})]}),(0,X.jsxs)("div",{className:"publish-library__buttons",children:[(0,X.jsx)(W.Z,{label:(0,F.t)("buttons.cancel"),onClick:qt,"data-testid":"cancel-clear-canvas-button"}),(0,X.jsx)(W.Z,{type:"submit",label:(0,F.t)("buttons.submit"),actionType:"primary",isLoading:un})]})]}):(0,X.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,F.t)("publishDialog.atleastOneLibItem")})})},l=e(7104),f=e(100),D=e(5832),H=function(kt,Ht){return kt.filter(function(At){return Ht.includes(At.id)})},J=function(kt){var Ht,At,Wt=kt.setAppState,Kt=kt.selectedItems,an=kt.library,bn=kt.onRemoveFromLibrary,hn=kt.resetLibrary,An=kt.onSelectItems,Yn=kt.appState,tr=kt.className,Sn=(0,o.KO)(Z.rF,M.yE),Bt=(0,b.Z)(Sn,1)[0],dn=(0,o.KO)(Xt,M.yE),un=(0,b.Z)(dn,2),Bn=un[0],Jn=un[1],cr=(0,a.useState)(!1),kr=(0,b.Z)(cr,2),fr=kr[0],pn=kr[1],Nt=!!Kt.length,Ft=Nt?Bt.libraryItems.filter(function(pr){return Kt.includes(pr.id)}):Bt.libraryItems,qt=Nt?(0,F.t)("buttons.remove"):(0,F.t)("buttons.resetLibrary"),kn=(0,a.useState)(!1),$n=(0,b.Z)(kn,2),Hn=$n[0],Qn=$n[1],ir=(0,a.useState)(null),Fn=(0,b.Z)(ir,2),yr=Fn[0],lr=Fn[1],Gn=(0,a.useCallback)(function(){return(0,X.jsxs)(u.V,{onCloseRequest:function(){return lr(null)},title:(0,F.t)("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,X.jsx)("p",{children:(0,X.jsx)(B.Z,{i18nKey:"publishSuccessDialog.content",authorName:yr.authorName,link:function(pr){return(0,X.jsx)("a",{href:yr?.url,target:"_blank",rel:"noopener noreferrer",children:pr})}})}),(0,X.jsx)(p.V,{type:"button",title:(0,F.t)("buttons.close"),"aria-label":(0,F.t)("buttons.close"),label:(0,F.t)("buttons.close"),onClick:function(){return lr(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[lr,yr]),Xn=function(){var pr=(0,d.Z)(S().mark(function vr(){return S().wrap(function(xr){for(;;)switch(xr.prev=xr.next){case 0:return xr.prev=0,xr.next=3,an.updateLibrary({libraryItems:(0,r.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:xr.next=11;break;case 5:if(xr.prev=5,xr.t0=xr.catch(0),(xr.t0===null||xr.t0===void 0?void 0:xr.t0.name)!=="AbortError"){xr.next=10;break}return console.warn(xr.t0),xr.abrupt("return");case 10:Wt({errorMessage:(0,F.t)("errors.importLibraryError")});case 11:case"end":return xr.stop()}},vr,null,[[0,5]])}));return function(){return pr.apply(this,arguments)}}(),er=function(){var pr=(0,d.Z)(S().mark(function vr(){var xr;return S().wrap(function($r){for(;;)switch($r.prev=$r.next){case 0:if(!Nt){$r.next=4;break}$r.t0=Ft,$r.next=7;break;case 4:return $r.next=6,an.getLatestLibrary();case 6:$r.t0=$r.sent;case 7:xr=$r.t0,(0,x.t1)(xr).catch(G.FG).catch(function(io){Wt({errorMessage:io.message})});case 9:case"end":return $r.stop()}},vr)}));return function(){return pr.apply(this,arguments)}}();return(0,X.jsxs)("div",{className:(0,U.Z)("library-menu-dropdown-container",tr),children:[(0,X.jsxs)(l.Z,{open:Bn,children:[(0,X.jsx)(l.Z.Trigger,{onToggle:function(){return Jn(!Bn)},children:E.YA}),(0,X.jsxs)(l.Z.Content,{onClickOutside:function(){return Jn(!1)},onSelect:function(){return Jn(!1)},className:"library-menu",children:[!Nt&&(0,X.jsx)(l.Z.Item,{onSelect:Xn,icon:E.Tl,"data-testid":"lib-dropdown--load",children:(0,F.t)("buttons.load")}),!!Ft.length&&(0,X.jsx)(l.Z.Item,{onSelect:er,icon:E.Hy,"data-testid":"lib-dropdown--export",children:(0,F.t)("buttons.export")}),!!Ft.length&&(0,X.jsx)(l.Z.Item,{onSelect:function(){return pn(!0)},icon:E.XH,children:qt}),Nt&&(0,X.jsx)(l.Z.Item,{icon:E.Nw,onSelect:function(){return Qn(!0)},"data-testid":"lib-dropdown--remove",children:(0,F.t)("buttons.publishLibrary")})]})]}),Kt.length>0&&(0,X.jsx)("div",{className:"library-actions-counter",children:Kt.length}),fr&&(Ht=Kt.length?(0,F.t)("alerts.removeItemsFromsLibrary",{count:Kt.length}):(0,F.t)("alerts.resetLibrary"),At=Kt.length?(0,F.t)("confirmDialog.removeItemsFromLib"):(0,F.t)("confirmDialog.resetLibrary"),(0,X.jsx)(g.Z,{onConfirm:function(){Kt.length?bn():hn(),pn(!1)},onCancel:function(){pn(!1)},title:At,children:(0,X.jsx)("p",{children:Ht})})),Hn&&(0,X.jsx)(P,{onClose:function(){return Qn(!1)},libraryItems:H(Bt.libraryItems,Kt),appState:Yn,onSuccess:function(pr){return function(vr,xr){Qn(!1),lr({url:vr.url,authorName:vr.authorName});var $r=xr.slice();$r.forEach(function(io){Kt.includes(io.id)&&(io.status="published")}),an.setLibrary($r)}(pr,Bt.libraryItems)},onError:function(pr){return window.alert(pr)},updateItemsInStorage:function(){return an.setLibrary(Bt.libraryItems)},onRemove:function(pr){return An(Kt.filter(function(vr){return vr!==pr}))}}),yr&&Gn()]})},re=function(kt){var Ht=kt.selectedItems,At=kt.onSelectItems,Wt=kt.className,Kt=(0,I.qD)().library,an=(0,D.yT)(),bn=an.clearLibraryCache,hn=an.deleteItemsFromLibraryCache,An=(0,f.I)(),Yn=(0,I.n9)(),tr=(0,o.KO)(Z.rF,M.yE),Sn=(0,b.Z)(tr,1)[0],Bt=function(){var dn=(0,d.Z)(S().mark(function un(Bn){var Jn;return S().wrap(function(cr){for(;;)switch(cr.prev=cr.next){case 0:Jn=Bn.filter(function(kr){return!Ht.includes(kr.id)}),Kt.setLibrary(Jn).catch(function(){Yn({errorMessage:(0,F.t)("alerts.errorRemovingFromLibrary")})}),hn(Ht),At([]);case 4:case"end":return cr.stop()}},un)}));return function(un){return dn.apply(this,arguments)}}();return(0,X.jsx)(J,{appState:An,setAppState:Yn,selectedItems:Ht,onSelectItems:At,library:Kt,onRemoveFromLibrary:function(){return Bt(Sn.libraryItems)},resetLibrary:function(){Kt.resetLibrary(),bn()},className:Wt})},ae=e(5644),ge={};ge.styleTagTransform=Te(),ge.setAttributes=pe(),ge.insert=se().bind(null,"head"),ge.domAPI=V(),ge.insertStyleElement=ee(),j()(ae.Z,ge),ae.Z&&ae.Z.locals&&ae.Z.locals;var _e=e(6238),ze=(0,a.memo)(function(kt){var Ht=kt.id,At=kt.elements,Wt=kt.isPending,Kt=kt.onClick,an=kt.selected,bn=kt.onToggle,hn=kt.onDrag,An=kt.svgCache,Yn=(0,a.useRef)(null),tr=(0,D.mF)(Ht,At,An);(0,a.useEffect)(function(){var cr=Yn.current;if(cr)return tr&&(cr.innerHTML=tr.outerHTML),function(){cr.innerHTML=""}},[tr]);var Sn=(0,a.useState)(!1),Bt=(0,b.Z)(Sn,2),dn=Bt[0],un=Bt[1],Bn=(0,I.Fy)().editor.isMobile,Jn=Wt&&(0,X.jsx)("div",{className:"library-unit__adder",children:E.pO});return(0,X.jsxs)("div",{className:(0,U.Z)("library-unit",{"library-unit__active":At,"library-unit--hover":At&&dn,"library-unit--selected":an,"library-unit--skeleton":!tr}),onMouseEnter:function(){return un(!0)},onMouseLeave:function(){return un(!1)},children:[(0,X.jsx)("div",{className:(0,U.Z)("library-unit__dragger",{"library-unit__pulse":!!Wt}),ref:Yn,draggable:!!At,onClick:At||Wt?function(cr){Ht&&cr.shiftKey?bn(Ht,cr):Kt(Ht)}:void 0,onDragStart:function(cr){Ht?(un(!1),hn(Ht,cr)):cr.preventDefault()}}),Jn,Ht&&At&&(dn||Bn||an)&&(0,X.jsx)(_e.o,{checked:an,onChange:function(cr,kr){return bn(Ht,kr)},className:"library-unit__checkbox"})]})}),Je=function(){return(0,X.jsx)("div",{className:"library-unit library-unit--skeleton"})},et=c().useTransition||function(){return[!1,(0,a.useCallback)(function(kt){return kt()},[])]},Ke=function(kt){var Ht=kt.children;return(0,X.jsx)("div",{className:"library-menu-items-container__grid",children:Ht})},tt=(0,a.memo)(function(kt){var Ht=kt.items,At=kt.onItemSelectToggle,Wt=kt.onItemDrag,Kt=kt.isItemSelected,an=kt.onClick,bn=kt.svgCache,hn=kt.itemsRenderedPerBatch,An=et(),Yn=(0,b.Z)(An,2)[1],tr=(0,a.useState)(0),Sn=(0,b.Z)(tr,2),Bt=Sn[0],dn=Sn[1];return(0,a.useEffect)(function(){Bt<Ht.length&&Yn(function(){dn(Bt+hn)})},[Bt,Ht.length,Yn,hn]),(0,X.jsx)(X.Fragment,{children:Ht.map(function(un,Bn){var Jn;return Bn<Bt?(0,X.jsx)(ze,{elements:un?.elements,isPending:!(un!=null&&un.id||un==null||!un.elements),onClick:an,svgCache:bn,id:un?.id,selected:Kt(un.id),onToggle:At,onDrag:Wt},(Jn=un?.id)!==null&&Jn!==void 0?Jn:Bn):(0,X.jsx)(Je,{},Bn)})})}),ut=e(200),ht=e.n(ut),He=(0,o.cn)(0),Ee=e(6440),Le={};Le.styleTagTransform=Te(),Le.setAttributes=pe(),Le.insert=se().bind(null,"head"),Le.domAPI=V(),Le.insertStyleElement=ee(),j()(Ee.Z,Le),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;function Qe(kt,Ht){var At=Object.keys(kt);if(Object.getOwnPropertySymbols){var Wt=Object.getOwnPropertySymbols(kt);Ht&&(Wt=Wt.filter(function(Kt){return Object.getOwnPropertyDescriptor(kt,Kt).enumerable})),At.push.apply(At,Wt)}return At}function ct(kt){for(var Ht=1;Ht<arguments.length;Ht++){var At=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?Qe(Object(At),!0).forEach(function(Wt){(0,h.Z)(kt,Wt,At[Wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kt,Object.getOwnPropertyDescriptors(At)):Qe(Object(At)).forEach(function(Wt){Object.defineProperty(kt,Wt,Object.getOwnPropertyDescriptor(At,Wt))})}return kt}function bt(kt){var Ht=kt.isLoading,At=kt.libraryItems,Wt=kt.onAddToLibrary,Kt=kt.onInsertLibraryItems,an=kt.pendingElements,bn=kt.theme,hn=kt.id,An=kt.libraryReturnUrl,Yn=kt.onSelectItems,tr=kt.selectedItems,Sn=(0,a.useRef)(null),Bt=function(Fn){var yr=(0,o.KO)(He),lr=(0,b.Z)(yr,2),Gn=lr[0],Xn=lr[1];return(0,a.useEffect)(function(){var er=Fn.current;if(er){var pr=ht()(function(){var vr=er.scrollTop;Xn(vr)},200);return er.addEventListener("scroll",pr),function(){pr.cancel(),er.removeEventListener("scroll",pr)}}},[Fn,Xn]),Gn}(Sn);(0,a.useEffect)(function(){var Fn;Bt>0&&((Fn=Sn.current)===null||Fn===void 0||Fn.scrollTo(0,Bt))},[]);var dn=(0,D.yT)().svgCache,un=(0,a.useMemo)(function(){return At.filter(function(Fn){return Fn.status!=="published"})},[At]),Bn=(0,a.useMemo)(function(){return At.filter(function(Fn){return Fn.status==="published"})},[At]),Jn=!At.length&&!an.length,cr=!an.length&&!un.length&&!Bn.length,kr=(0,a.useState)(null),fr=(0,b.Z)(kr,2),pn=fr[0],Nt=fr[1],Ft=(0,a.useCallback)(function(Fn,yr){var lr=!tr.includes(Fn),Gn=[].concat((0,v.Z)(un),(0,v.Z)(Bn));if(lr){if(yr.shiftKey&&pn){var Xn=Gn.findIndex(function(xr){return xr.id===pn}),er=Gn.findIndex(function(xr){return xr.id===Fn});if(Xn===-1||er===-1)return void Yn([].concat((0,v.Z)(tr),[Fn]));var pr=(0,G.xn)(tr),vr=Gn.reduce(function(xr,$r,io){return(io>=Xn&&io<=er||pr.has($r.id))&&xr.push($r.id),xr},[]);Yn(vr)}else Yn([].concat((0,v.Z)(tr),[Fn]));Nt(Fn)}else Nt(null),Yn(tr.filter(function(xr){return xr!==Fn}))},[pn,Yn,Bn,tr,un]),qt=(0,a.useCallback)(function(Fn){return(tr.includes(Fn)?At.filter(function(yr){return tr.includes(yr.id)}):At.filter(function(yr){return yr.id===Fn})).map(function(yr){return ct(ct({},yr),{},{elements:(0,fe._N)(yr.elements,{randomizeSeed:!0})})})},[At,tr]),kn=(0,a.useCallback)(function(Fn,yr){yr.dataTransfer.setData(he.LO.excalidrawlib,(0,x.NI)(qt(Fn)))},[qt]),$n=(0,a.useCallback)(function(Fn){return!!Fn&&tr.includes(Fn)},[tr]),Hn=(0,a.useCallback)(function(){Wt(an)},[an,Wt]),Qn=(0,a.useCallback)(function(Fn){Fn&&Kt(qt(Fn))},[qt,Kt]),ir=dn.size>=At.length?64:17;return(0,X.jsxs)("div",{className:"library-menu-items-container",style:an.length||un.length||Bn.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!cr&&(0,X.jsx)(re,{selectedItems:tr,onSelectItems:Yn,className:"library-menu-dropdown-container--in-heading"}),(0,X.jsxs)(le.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:Bn.length>0?1:"0 1 auto",marginBottom:0},ref:Sn,children:[(0,X.jsxs)(X.Fragment,{children:[!cr&&(0,X.jsx)("div",{className:"library-menu-items-container__header",children:(0,F.t)("labels.personalLib")}),Ht&&(0,X.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,X.jsx)(ve.Z,{})}),an.length||un.length?(0,X.jsxs)(Ke,{children:[an.length>0&&(0,X.jsx)(tt,{itemsRenderedPerBatch:ir,items:[{id:null,elements:an}],onItemSelectToggle:Ft,onItemDrag:kn,onClick:Hn,isItemSelected:$n,svgCache:dn}),(0,X.jsx)(tt,{itemsRenderedPerBatch:ir,items:un,onItemSelectToggle:Ft,onItemDrag:kn,onClick:Qn,isItemSelected:$n,svgCache:dn})]}):(0,X.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,X.jsx)("div",{className:"library-menu-items__no-items__label",children:(0,F.t)("library.noItems")}),(0,X.jsx)("div",{className:"library-menu-items__no-items__hint",children:Bn.length>0?(0,F.t)("library.hint_emptyPrivateLibrary"):(0,F.t)("library.hint_emptyLibrary")})]})]}),(0,X.jsxs)(X.Fragment,{children:[(Bn.length>0||an.length>0||un.length>0)&&(0,X.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,F.t)("labels.excalidrawLib")}),Bn.length>0?(0,X.jsx)(Ke,{children:(0,X.jsx)(tt,{itemsRenderedPerBatch:ir,items:Bn,onItemSelectToggle:Ft,onItemDrag:kn,onClick:Qn,isItemSelected:$n,svgCache:dn})}):un.length>0?(0,X.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,F.t)("library.noItems")}):null]}),Jn&&(0,X.jsx)(R,{style:{padding:"16px 0",width:"100%"},id:hn,libraryReturnUrl:An,theme:bn,children:(0,X.jsx)(re,{selectedItems:tr,onSelectItems:Yn})})]})]})}var wt=e(3646),zt=e(4105),Mt=e(8923),Zt={};Zt.styleTagTransform=Te(),Zt.setAttributes=pe(),Zt.insert=se().bind(null,"head"),Zt.domAPI=V(),Zt.insertStyleElement=ee(),j()(Mt.Z,Zt),Mt.Z&&Mt.Z.locals&&Mt.Z.locals;function sn(kt,Ht){var At=typeof Symbol<"u"&&kt[Symbol.iterator]||kt["@@iterator"];if(!At){if(Array.isArray(kt)||(At=function(An,Yn){if(An){if(typeof An=="string")return rn(An,Yn);var tr=Object.prototype.toString.call(An).slice(8,-1);if(tr==="Object"&&An.constructor&&(tr=An.constructor.name),tr==="Map"||tr==="Set")return Array.from(An);if(tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr))return rn(An,Yn)}}(kt))||Ht){At&&(kt=At);var Wt=0,Kt=function(){};return{s:Kt,n:function(){return Wt>=kt.length?{done:!0}:{done:!1,value:kt[Wt++]}},e:function(An){throw An},f:Kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var an,bn=!0,hn=!1;return{s:function(){At=At.call(kt)},n:function(){var An=At.next();return bn=An.done,An},e:function(An){hn=!0,an=An},f:function(){try{bn||At.return==null||At.return()}finally{if(hn)throw an}}}}function rn(kt,Ht){(Ht==null||Ht>kt.length)&&(Ht=kt.length);for(var At=0,Wt=new Array(Ht);At<Ht;At++)Wt[At]=kt[At];return Wt}var Xt=(0,o.cn)(!1),on=function(kt){var Ht=kt.children;return(0,X.jsx)("div",{className:"layer-ui__library",children:Ht})},jn=function(kt){var Ht=kt.onInsertLibraryItems,At=kt.pendingElements,Wt=kt.onAddToLibrary,Kt=kt.setAppState,an=kt.libraryReturnUrl,bn=kt.library,hn=kt.id,An=kt.theme,Yn=kt.selectedItems,tr=kt.onSelectItems,Sn=(0,o.KO)(Z.rF,M.yE),Bt=(0,b.Z)(Sn,1)[0],dn=(0,a.useCallback)(function(Jn){var cr=function(){var kr=(0,d.Z)(S().mark(function fr(pn,Nt){var Ft,qt,kn,$n,Hn;return S().wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:(0,wt.L)("element","addToLibrary","ui"),Ft=sn(he.PR),Qn.prev=2,kn=function(){var ir=qt.value;if(pn.some(function(Fn){return Fn.type===ir}))return{v:Kt({errorMessage:(0,F.t)("errors.libraryElementTypeError.".concat(ir))})}},Ft.s();case 5:if((qt=Ft.n()).done){Qn.next=11;break}if($n=kn(),(0,w.Z)($n)!=="object"){Qn.next=9;break}return Qn.abrupt("return",$n.v);case 9:Qn.next=5;break;case 11:Qn.next=16;break;case 13:Qn.prev=13,Qn.t0=Qn.catch(2),Ft.e(Qn.t0);case 16:return Qn.prev=16,Ft.f(),Qn.finish(16);case 19:Hn=[{status:"unpublished",elements:pn,id:(0,_.kb)(),created:Date.now()}].concat((0,v.Z)(Nt)),Wt(),bn.setLibrary(Hn).catch(function(){Kt({errorMessage:(0,F.t)("alerts.errorAddingToLibrary")})});case 22:case"end":return Qn.stop()}},fr,null,[[2,13,16,19]])}));return function(fr,pn){return kr.apply(this,arguments)}}();cr(Jn,Bt.libraryItems)},[Wt,bn,Kt,Bt.libraryItems]),un=(0,a.useMemo)(function(){return Bt.libraryItems},[Bt]);if(Bt.status==="loading"&&!Bt.isInitialized)return(0,X.jsx)(on,{children:(0,X.jsx)("div",{className:"layer-ui__library-message",children:(0,X.jsxs)("div",{children:[(0,X.jsx)(ve.Z,{size:"2em"}),(0,X.jsx)("span",{children:(0,F.t)("labels.libraryLoadingMessage")})]})})});var Bn=Bt.libraryItems.length>0||At.length>0;return(0,X.jsxs)(on,{children:[(0,X.jsx)(bt,{isLoading:Bt.status==="loading",libraryItems:un,onAddToLibrary:dn,onInsertLibraryItems:Ht,pendingElements:At,id:hn,libraryReturnUrl:an,theme:An,onSelectItems:tr,selectedItems:Yn}),Bn&&(0,X.jsx)(R,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:hn,libraryReturnUrl:an,theme:An})]})},It=function(){var kt=(0,I.qD)(),Ht=kt.library,At=kt.id,Wt=kt.onInsertElements,Kt=(0,I.hY)(),an=(0,f.I)(),bn=(0,I.n9)(),hn=(0,I.bd)(),An=(0,a.useState)([]),Yn=(0,b.Z)(An,2),tr=Yn[0],Sn=Yn[1],Bt=(0,a.useMemo)(function(){return Ht},[Ht]),dn=function(Jn,cr){var kr=function(){return(0,zt.eD)(cr,Jn,{includeBoundTextElement:!0,includeElementsInFrames:!0})},fr=(0,a.useRef)(kr()),pn=(0,a.useRef)(Jn),Nt=(0,a.useRef)(cr);return(0,G.w8)(Jn.selectedElementIds,pn.current.selectedElementIds)&&(0,G.w8)(cr,Nt.current)||(fr.current=kr(),pn.current=Jn,Nt.current=cr),fr.current}(an,hn),un=(0,a.useCallback)(function(Jn){Wt((0,Z.WV)(Jn))},[Wt]),Bn=(0,a.useCallback)(function(){bn({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})},[bn]);return(0,X.jsx)(jn,{pendingElements:dn,onInsertLibraryItems:un,onAddToLibrary:Bn,setAppState:bn,libraryReturnUrl:Kt.libraryReturnUrl,library:Bt,id:At,theme:an.theme,selectedItems:tr,onSelectItems:Sn})}},7165:function(te,t,e){e.d(t,{z:function(){return c}});var w=e(2577),v=e(8227),d=e(9787),b=e(8531),T=e(45),S=e(9937),a=e(1020),c=function(Z){var F=Z.delay,_=Z.theme,h=(0,d.useState)(!!F),x=(0,w.Z)(h,2),G=x[0],le=x[1];return(0,d.useEffect)(function(){if(F){var he=setTimeout(function(){le(!1)},F);return function(){return clearTimeout(he)}}},[F]),G?null:(0,a.jsxs)("div",{className:(0,T.Z)("LoadingMessage",{"LoadingMessage--dark":_===S.C6.DARK}),children:[(0,a.jsx)("div",{children:(0,a.jsx)(b.Z,{})}),(0,a.jsx)("div",{className:"LoadingMessage-text",children:(0,v.t)("labels.loadingScene")})]})}},7827:function(te,t,e){e.d(t,{K:function(){return S},_:function(){return a}});var w=e(8950),v=e(2975),d=e.n(v),b=e(3607),T=e(453),S=(0,b.cn)({active:!1});function a(Z){return c.apply(this,arguments)}function c(){return(c=(0,w.Z)(d().mark(function Z(F){var _,h,x,G;return d().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return _=F.title,h=F.description,x=F.actionLabel,G=F.color,le.abrupt("return",new Promise(function(he){T.e_.set(S,{active:!0,onConfirm:function(){return he(!0)},onClose:function(){return he(!1)},onReject:function(){return he(!1)},title:_,description:h,actionLabel:x,color:G})}));case 2:case"end":return le.stop()}},Z)}))).apply(this,arguments)}},3204:function(te,t,e){e.d(t,{J:function(){return q}});var w=e(9787),v=e(3379),d=e.n(v),b=e(7795),T=e.n(b),S=e(569),a=e.n(S),c=e(3565),Z=e.n(c),F=e(9216),_=e.n(F),h=e(4589),x=e.n(h),G=e(9935),le={};le.styleTagTransform=x(),le.setAttributes=Z(),le.insert=a().bind(null,"head"),le.domAPI=T(),le.insertStyleElement=_(),d()(G.Z,le),G.Z&&G.Z.locals&&G.Z.locals;var he=e(5156),ve=e(9827),fe=e(5491),X=e(1020),q=function(U){var R=U.children,B=U.left,M=U.top,I=U.onCloseRequest,E=U.fitInViewport,p=E!==void 0&&E,r=U.offsetLeft,o=r===void 0?0:r,g=U.offsetTop,s=g===void 0?0:g,u=U.viewportWidth,k=u===void 0?window.innerWidth:u,N=U.viewportHeight,W=N===void 0?window.innerHeight:N,O=(0,w.useRef)(null);(0,w.useEffect)(function(){var L=O.current;if(L){L.contains(document.activeElement)||L.focus();var V=function(ie){if(ie.key===fe.tW.TAB){var se=(0,ve.xp)(L),ue=document.activeElement,pe=se.findIndex(function(Te){return Te===ue});if(ue===L){var Q;ie.shiftKey?(Q=se[se.length-1])===null||Q===void 0||Q.focus():se[0].focus(),ie.preventDefault(),ie.stopImmediatePropagation()}else if(pe===0&&ie.shiftKey){var ee;(ee=se[se.length-1])===null||ee===void 0||ee.focus(),ie.preventDefault(),ie.stopImmediatePropagation()}else if(pe===se.length-1&&!ie.shiftKey){var me;(me=se[0])===null||me===void 0||me.focus(),ie.preventDefault(),ie.stopImmediatePropagation()}}};return L.addEventListener("keydown",V),function(){return L.removeEventListener("keydown",V)}}},[]);var j=(0,w.useRef)(null);return(0,w.useLayoutEffect)(function(){if(p&&O.current&&M!=null&&B!=null){var L,V,ie=O.current,se=ie.getBoundingClientRect(),ue=se.width,pe=se.height;if(((L=j.current)===null||L===void 0?void 0:L.top)===M&&((V=j.current)===null||V===void 0?void 0:V.left)===B)return;j.current={top:M,left:B},ue>=k?(ie.style.width="".concat(k,"px"),ie.style.left="0px",ie.style.overflowX="scroll"):ie.style.left="".concat(B+ue-o>k?k-ue-10:B,"px"),pe>=W?(ie.style.height="".concat(W-20,"px"),ie.style.top="10px",ie.style.overflowY="scroll"):ie.style.top="".concat(M+pe-s>W?W-pe:M,"px")}},[M,B,p,k,W,o,s]),(0,w.useEffect)(function(){if(I){var L=function(V){var ie;(ie=O.current)!==null&&ie!==void 0&&ie.contains(V.target)||(0,he.unstable_batchedUpdates)(function(){return I(V)})};return document.addEventListener("pointerdown",L,!1),function(){return document.removeEventListener("pointerdown",L,!1)}}},[I]),(0,X.jsx)("div",{className:"popover",ref:O,tabIndex:-1,children:R})}},5902:function(te,t,e){e.d(t,{YE:function(){return pn},t6:function(){return kr}});var w=e(2577),v=e(7169),d=e(2726),b=e(9787),T=e.n(b),S=e(1404),a=e(3607),c=e(453),Z=T().createContext({}),F=e(45),_=e(8227),h=e(8242),x=e(8935),G=e(8925),le=e(8806),he=e(1020),ve=function(Nt){var Ft=Nt.children,qt=Nt.className,kn=(0,h.Fy)(),$n=(0,b.useContext)(Z),Hn=!(!kn.editor.canFitSidebar||!$n.shouldRenderDockButton);return(0,he.jsxs)("div",{className:(0,F.Z)("sidebar__header",qt),"data-testid":"sidebar-header",children:[Ft,(0,he.jsxs)("div",{className:"sidebar__header__buttons",children:[Hn&&(0,he.jsx)(G.u,{label:(0,_.t)("labels.sidebarLock"),children:(0,he.jsx)(le.z,{onSelect:function(){var Qn;return(Qn=$n.onDock)===null||Qn===void 0?void 0:Qn.call($n,!$n.docked)},selected:!!$n.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":(0,_.t)("labels.sidebarLock"),children:x.qQ})}),(0,he.jsx)(le.z,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:$n.onCloseRequest,"aria-label":(0,_.t)("buttons.close"),children:x.Tw})]})]})};ve.displayName="SidebarHeader";var fe=e(9827),X=e(5491),q=e(9937),U=e(100),R=e(3379),B=e.n(R),M=e(7795),I=e.n(M),E=e(569),p=e.n(E),r=e(3565),o=e.n(r),g=e(9216),s=e.n(g),u=e(4589),k=e.n(u),N=e(7051),W={};W.styleTagTransform=k(),W.setAttributes=o(),W.insert=p().bind(null,"head"),W.domAPI=I(),W.insertStyleElement=s(),B()(N.Z,W),N.Z&&N.Z.locals&&N.Z.locals;var O=function(Nt){var Ft,qt=Nt.name,kn=Nt.tab,$n=Nt.icon,Hn=Nt.title,Qn=Nt.children,ir=Nt.onToggle,Fn=Nt.className,yr=Nt.style,lr=(0,h.n9)(),Gn=(0,U.I)();return(0,he.jsxs)("label",{title:Hn,children:[(0,he.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(Xn){var er;(er=document.querySelector(".layer-ui__wrapper"))===null||er===void 0||er.classList.remove("animate");var pr=Xn.target.checked;lr({openSidebar:pr?{name:qt,tab:kn}:null}),ir?.(pr)},checked:((Ft=Gn.openSidebar)===null||Ft===void 0?void 0:Ft.name)===qt,"aria-label":Hn,"aria-keyshortcuts":"0"}),(0,he.jsxs)("div",{className:(0,F.Z)("sidebar-trigger",Fn),style:yr,children:[$n&&(0,he.jsx)("div",{children:$n}),Qn&&(0,he.jsx)("div",{className:"sidebar-trigger__label",children:Qn})]})]})};O.displayName="SidebarTrigger";var j=e(11),L=e(7217),V=e(1267),ie=e(9335),se=e(4801),ue=e(5622),pe=e(3119),Q=e(3060),ee=e(2673);const me=(0,b.createContext)(void 0);function Te(Nt){const Ft=(0,b.useContext)(me);return Nt||Ft||"ltr"}const Ue="rovingFocusGroup.onEntryFocus",qe={bubbles:!1,cancelable:!0},Ae="RovingFocusGroup",[Oe,Ie,Re]=function(Nt){const Ft=Nt+"CollectionProvider",[qt,kn]=(0,V.b)(Ft),[$n,Hn]=qt(Ft,{collectionRef:{current:null},itemMap:new Map}),Qn=Xn=>{const{scope:er,children:pr}=Xn,vr=T().useRef(null),xr=T().useRef(new Map).current;return T().createElement($n,{scope:er,itemMap:xr,collectionRef:vr},pr)},ir=Nt+"CollectionSlot",Fn=T().forwardRef((Xn,er)=>{const{scope:pr,children:vr}=Xn,xr=Hn(ir,pr),$r=(0,ie.e)(er,xr.collectionRef);return T().createElement(se.g7,{ref:$r},vr)}),yr=Nt+"CollectionItemSlot",lr="data-radix-collection-item",Gn=T().forwardRef((Xn,er)=>{const{scope:pr,children:vr,...xr}=Xn,$r=T().useRef(null),io=(0,ie.e)(er,$r),Eo=Hn(yr,pr);return T().useEffect(()=>(Eo.itemMap.set($r,{ref:$r,...xr}),()=>{Eo.itemMap.delete($r)})),T().createElement(se.g7,{[lr]:"",ref:io},vr)});return[{Provider:Qn,Slot:Fn,ItemSlot:Gn},function(Xn){const er=Hn(Nt+"CollectionConsumer",Xn);return T().useCallback(()=>{const pr=er.collectionRef.current;if(!pr)return[];const vr=Array.from(pr.querySelectorAll(`[${lr}]`));return Array.from(er.itemMap.values()).sort((xr,$r)=>vr.indexOf(xr.ref.current)-vr.indexOf($r.ref.current))},[er.collectionRef,er.itemMap])},kn]}(Ae),[ke,xe]=(0,V.b)(Ae,[Re]),[ye,P]=ke(Ae),l=(0,b.forwardRef)((Nt,Ft)=>(0,b.createElement)(Oe.Provider,{scope:Nt.__scopeRovingFocusGroup},(0,b.createElement)(Oe.Slot,{scope:Nt.__scopeRovingFocusGroup},(0,b.createElement)(f,(0,j.Z)({},Nt,{ref:Ft}))))),f=(0,b.forwardRef)((Nt,Ft)=>{const{__scopeRovingFocusGroup:qt,orientation:kn,loop:$n=!1,dir:Hn,currentTabStopId:Qn,defaultCurrentTabStopId:ir,onCurrentTabStopIdChange:Fn,onEntryFocus:yr,...lr}=Nt,Gn=(0,b.useRef)(null),Xn=(0,ie.e)(Ft,Gn),er=Te(Hn),[pr=null,vr]=(0,ee.T)({prop:Qn,defaultProp:ir,onChange:Fn}),[xr,$r]=(0,b.useState)(!1),io=(0,Q.W)(yr),Eo=Ie(qt),Ro=(0,b.useRef)(!1),[Bo,Do]=(0,b.useState)(0);return(0,b.useEffect)(()=>{const bo=Gn.current;if(bo)return bo.addEventListener(Ue,io),()=>bo.removeEventListener(Ue,io)},[io]),(0,b.createElement)(ye,{scope:qt,orientation:kn,dir:er,loop:$n,currentTabStopId:pr,onItemFocus:(0,b.useCallback)(bo=>vr(bo),[vr]),onItemShiftTab:(0,b.useCallback)(()=>$r(!0),[]),onFocusableItemAdd:(0,b.useCallback)(()=>Do(bo=>bo+1),[]),onFocusableItemRemove:(0,b.useCallback)(()=>Do(bo=>bo-1),[])},(0,b.createElement)(pe.WV.div,(0,j.Z)({tabIndex:xr||Bo===0?-1:0,"data-orientation":kn},lr,{ref:Xn,style:{outline:"none",...Nt.style},onMouseDown:(0,L.M)(Nt.onMouseDown,()=>{Ro.current=!0}),onFocus:(0,L.M)(Nt.onFocus,bo=>{const Zo=!Ro.current;if(bo.target===bo.currentTarget&&Zo&&!xr){const rt=new CustomEvent(Ue,qe);if(bo.currentTarget.dispatchEvent(rt),!rt.defaultPrevented){const Se=Eo().filter(Ze=>Ze.focusable);re([Se.find(Ze=>Ze.active),Se.find(Ze=>Ze.id===pr),...Se].filter(Boolean).map(Ze=>Ze.ref.current))}}Ro.current=!1}),onBlur:(0,L.M)(Nt.onBlur,()=>$r(!1))})))}),D="RovingFocusGroupItem",H=(0,b.forwardRef)((Nt,Ft)=>{const{__scopeRovingFocusGroup:qt,focusable:kn=!0,active:$n=!1,tabStopId:Hn,...Qn}=Nt,ir=(0,ue.M)(),Fn=Hn||ir,yr=P(D,qt),lr=yr.currentTabStopId===Fn,Gn=Ie(qt),{onFocusableItemAdd:Xn,onFocusableItemRemove:er}=yr;return(0,b.useEffect)(()=>{if(kn)return Xn(),()=>er()},[kn,Xn,er]),(0,b.createElement)(Oe.ItemSlot,{scope:qt,id:Fn,focusable:kn,active:$n},(0,b.createElement)(pe.WV.span,(0,j.Z)({tabIndex:lr?0:-1,"data-orientation":yr.orientation},Qn,{ref:Ft,onMouseDown:(0,L.M)(Nt.onMouseDown,pr=>{kn?yr.onItemFocus(Fn):pr.preventDefault()}),onFocus:(0,L.M)(Nt.onFocus,()=>yr.onItemFocus(Fn)),onKeyDown:(0,L.M)(Nt.onKeyDown,pr=>{if(pr.key==="Tab"&&pr.shiftKey)return void yr.onItemShiftTab();if(pr.target!==pr.currentTarget)return;const vr=function(io,Eo,Ro){const Bo=function(Do,bo){return bo!=="rtl"?Do:Do==="ArrowLeft"?"ArrowRight":Do==="ArrowRight"?"ArrowLeft":Do}(io.key,Ro);return Eo==="vertical"&&["ArrowLeft","ArrowRight"].includes(Bo)||Eo==="horizontal"&&["ArrowUp","ArrowDown"].includes(Bo)?void 0:J[Bo]}(pr,yr.orientation,yr.dir);if(vr!==void 0){pr.preventDefault();let io=Gn().filter(Eo=>Eo.focusable).map(Eo=>Eo.ref.current);if(vr==="last")io.reverse();else if(vr==="prev"||vr==="next"){vr==="prev"&&io.reverse();const Eo=io.indexOf(pr.currentTarget);io=yr.loop?($r=Eo+1,(xr=io).map((Ro,Bo)=>xr[($r+Bo)%xr.length])):io.slice(Eo+1)}setTimeout(()=>re(io))}var xr,$r})})))}),J={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function re(Nt){const Ft=document.activeElement;for(const qt of Nt)if(qt===Ft||(qt.focus(),document.activeElement!==Ft))return}const ae=l,ge=H;var _e=e(1483);const ze="Tabs",[Je,et]=(0,V.b)(ze,[xe]),Ke=xe(),[tt,ut]=Je(ze),ht=(0,b.forwardRef)((Nt,Ft)=>{const{__scopeTabs:qt,value:kn,onValueChange:$n,defaultValue:Hn,orientation:Qn="horizontal",dir:ir,activationMode:Fn="automatic",...yr}=Nt,lr=Te(ir),[Gn,Xn]=(0,ee.T)({prop:kn,onChange:$n,defaultProp:Hn});return(0,b.createElement)(tt,{scope:qt,baseId:(0,ue.M)(),value:Gn,onValueChange:Xn,orientation:Qn,dir:lr,activationMode:Fn},(0,b.createElement)(pe.WV.div,(0,j.Z)({dir:lr,"data-orientation":Qn},yr,{ref:Ft})))}),He="TabsList",Ee=(0,b.forwardRef)((Nt,Ft)=>{const{__scopeTabs:qt,loop:kn=!0,...$n}=Nt,Hn=ut(He,qt),Qn=Ke(qt);return(0,b.createElement)(ae,(0,j.Z)({asChild:!0},Qn,{orientation:Hn.orientation,dir:Hn.dir,loop:kn}),(0,b.createElement)(pe.WV.div,(0,j.Z)({role:"tablist","aria-orientation":Hn.orientation},$n,{ref:Ft})))}),Le="TabsTrigger",Qe=(0,b.forwardRef)((Nt,Ft)=>{const{__scopeTabs:qt,value:kn,disabled:$n=!1,...Hn}=Nt,Qn=ut(Le,qt),ir=Ke(qt),Fn=wt(Qn.baseId,kn),yr=zt(Qn.baseId,kn),lr=kn===Qn.value;return(0,b.createElement)(ge,(0,j.Z)({asChild:!0},ir,{focusable:!$n,active:lr}),(0,b.createElement)(pe.WV.button,(0,j.Z)({type:"button",role:"tab","aria-selected":lr,"aria-controls":yr,"data-state":lr?"active":"inactive","data-disabled":$n?"":void 0,disabled:$n,id:Fn},Hn,{ref:Ft,onMouseDown:(0,L.M)(Nt.onMouseDown,Gn=>{$n||Gn.button!==0||Gn.ctrlKey!==!1?Gn.preventDefault():Qn.onValueChange(kn)}),onKeyDown:(0,L.M)(Nt.onKeyDown,Gn=>{[" ","Enter"].includes(Gn.key)&&Qn.onValueChange(kn)}),onFocus:(0,L.M)(Nt.onFocus,()=>{const Gn=Qn.activationMode!=="manual";lr||$n||!Gn||Qn.onValueChange(kn)})})))}),ct="TabsContent",bt=(0,b.forwardRef)((Nt,Ft)=>{const{__scopeTabs:qt,value:kn,forceMount:$n,children:Hn,...Qn}=Nt,ir=ut(ct,qt),Fn=wt(ir.baseId,kn),yr=zt(ir.baseId,kn),lr=kn===ir.value,Gn=(0,b.useRef)(lr);return(0,b.useEffect)(()=>{const Xn=requestAnimationFrame(()=>Gn.current=!1);return()=>cancelAnimationFrame(Xn)},[]),(0,b.createElement)(_e.z,{present:$n||lr},({present:Xn})=>(0,b.createElement)(pe.WV.div,(0,j.Z)({"data-state":lr?"active":"inactive","data-orientation":ir.orientation,role:"tabpanel","aria-labelledby":Fn,hidden:!Xn,id:yr,tabIndex:0},Qn,{ref:Ft,style:{...Nt.style,animationDuration:Gn.current?"0s":void 0}}),Xn&&Hn))});function wt(Nt,Ft){return`${Nt}-trigger-${Ft}`}function zt(Nt,Ft){return`${Nt}-content-${Ft}`}const Mt=ht,Zt=Ee,sn=Qe,rn=bt;var Xt=["children"];function on(Nt,Ft){var qt=Object.keys(Nt);if(Object.getOwnPropertySymbols){var kn=Object.getOwnPropertySymbols(Nt);Ft&&(kn=kn.filter(function($n){return Object.getOwnPropertyDescriptor(Nt,$n).enumerable})),qt.push.apply(qt,kn)}return qt}function jn(Nt){for(var Ft=1;Ft<arguments.length;Ft++){var qt=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?on(Object(qt),!0).forEach(function(kn){(0,v.Z)(Nt,kn,qt[kn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(qt)):on(Object(qt)).forEach(function(kn){Object.defineProperty(Nt,kn,Object.getOwnPropertyDescriptor(qt,kn))})}return Nt}var It=function(Nt){var Ft=Nt.children,qt=(0,d.Z)(Nt,Xt);return(0,he.jsx)(Zt,jn(jn({className:"sidebar-triggers"},qt),{},{children:Ft}))};It.displayName="SidebarTabTriggers";var kt=["children","tab","onSelect"];function Ht(Nt,Ft){var qt=Object.keys(Nt);if(Object.getOwnPropertySymbols){var kn=Object.getOwnPropertySymbols(Nt);Ft&&(kn=kn.filter(function($n){return Object.getOwnPropertyDescriptor(Nt,$n).enumerable})),qt.push.apply(qt,kn)}return qt}function At(Nt){for(var Ft=1;Ft<arguments.length;Ft++){var qt=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Ht(Object(qt),!0).forEach(function(kn){(0,v.Z)(Nt,kn,qt[kn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(qt)):Ht(Object(qt)).forEach(function(kn){Object.defineProperty(Nt,kn,Object.getOwnPropertyDescriptor(qt,kn))})}return Nt}var Wt=function(Nt){var Ft=Nt.children,qt=Nt.tab,kn=Nt.onSelect,$n=(0,d.Z)(Nt,kt);return(0,he.jsx)(sn,{value:qt,asChild:!0,onSelect:kn,children:(0,he.jsx)("button",At(At({type:"button",className:"excalidraw-button sidebar-tab-trigger"},$n),{},{children:Ft}))})};Wt.displayName="SidebarTabTrigger";var Kt=["children"];function an(Nt,Ft){var qt=Object.keys(Nt);if(Object.getOwnPropertySymbols){var kn=Object.getOwnPropertySymbols(Nt);Ft&&(kn=kn.filter(function($n){return Object.getOwnPropertyDescriptor(Nt,$n).enumerable})),qt.push.apply(qt,kn)}return qt}function bn(Nt){for(var Ft=1;Ft<arguments.length;Ft++){var qt=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?an(Object(qt),!0).forEach(function(kn){(0,v.Z)(Nt,kn,qt[kn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(qt)):an(Object(qt)).forEach(function(kn){Object.defineProperty(Nt,kn,Object.getOwnPropertyDescriptor(qt,kn))})}return Nt}var hn=function(Nt){var Ft=Nt.children,qt=(0,d.Z)(Nt,Kt),kn=(0,U.I)(),$n=(0,h.n9)();if(!kn.openSidebar)return null;var Hn=kn.openSidebar.name;return(0,he.jsx)(Mt,bn(bn({className:"sidebar-tabs-root",value:kn.openSidebar.tab,onValueChange:function(Qn){return $n(function(ir){return bn(bn({},ir),{},{openSidebar:bn(bn({},ir.openSidebar),{},{name:Hn,tab:Qn})})})}},qt),{},{children:Ft}))};hn.displayName="SidebarTabs";var An=["tab","children"];function Yn(Nt,Ft){var qt=Object.keys(Nt);if(Object.getOwnPropertySymbols){var kn=Object.getOwnPropertySymbols(Nt);Ft&&(kn=kn.filter(function($n){return Object.getOwnPropertyDescriptor(Nt,$n).enumerable})),qt.push.apply(qt,kn)}return qt}function tr(Nt){for(var Ft=1;Ft<arguments.length;Ft++){var qt=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Yn(Object(qt),!0).forEach(function(kn){(0,v.Z)(Nt,kn,qt[kn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(qt)):Yn(Object(qt)).forEach(function(kn){Object.defineProperty(Nt,kn,Object.getOwnPropertyDescriptor(qt,kn))})}return Nt}var Sn=function(Nt){var Ft=Nt.tab,qt=Nt.children,kn=(0,d.Z)(Nt,An);return(0,he.jsx)(rn,tr(tr({},kn),{},{value:Ft,children:qt}))};Sn.displayName="SidebarTab";var Bt=e(1901),dn=e(8208),un={};un.styleTagTransform=k(),un.setAttributes=o(),un.insert=p().bind(null,"head"),un.domAPI=I(),un.insertStyleElement=s(),B()(dn.Z,un),dn.Z&&dn.Z.locals&&dn.Z.locals;var Bn=["name","children","onDock","docked","className"];function Jn(Nt,Ft){var qt=Object.keys(Nt);if(Object.getOwnPropertySymbols){var kn=Object.getOwnPropertySymbols(Nt);Ft&&(kn=kn.filter(function($n){return Object.getOwnPropertyDescriptor(Nt,$n).enumerable})),qt.push.apply(qt,kn)}return qt}function cr(Nt){for(var Ft=1;Ft<arguments.length;Ft++){var qt=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Jn(Object(qt),!0).forEach(function(kn){(0,v.Z)(Nt,kn,qt[kn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(qt)):Jn(Object(qt)).forEach(function(kn){Object.defineProperty(Nt,kn,Object.getOwnPropertyDescriptor(qt,kn))})}return Nt}var kr=(0,a.cn)(!1),fr=(0,b.forwardRef)(function(Nt,Ft){Nt.name;var qt=Nt.children,kn=Nt.onDock,$n=Nt.docked,Hn=Nt.className,Qn=(0,d.Z)(Nt,Bn),ir=(0,h.n9)(),Fn=(0,a.b9)(kr,c.yE);(0,b.useLayoutEffect)(function(){return Fn(!!$n),function(){Fn(!1)}},[Fn,$n]);var yr=(0,b.useRef)({});yr.current.onCloseRequest=function(){ir({openSidebar:null})},yr.current.onDock=function(er){return kn?.(er)},yr.current=(0,fe.v4)(yr.current,{docked:$n,shouldRenderDockButton:!!kn&&$n!=null});var lr=(0,b.useRef)(null);(0,b.useImperativeHandle)(Ft,function(){return lr.current});var Gn=(0,h.Fy)(),Xn=(0,b.useCallback)(function(){document.querySelector(".Dialog")||ir({openSidebar:null})},[ir]);return(0,Bt.O)(lr,(0,b.useCallback)(function(er){er.target.closest(".sidebar-trigger")||$n&&Gn.editor.canFitSidebar||Xn()},[Xn,$n,Gn.editor.canFitSidebar])),(0,b.useEffect)(function(){var er=function(pr){pr.key!==X.tW.ESCAPE||$n&&Gn.editor.canFitSidebar||Xn()};return document.addEventListener(q.Ks.KEYDOWN,er),function(){document.removeEventListener(q.Ks.KEYDOWN,er)}},[Xn,$n,Gn.editor.canFitSidebar]),(0,he.jsx)(S.W,cr(cr({},Qn),{},{className:(0,F.Z)("sidebar",{"sidebar--docked":$n},Hn),ref:lr,children:(0,he.jsx)(Z.Provider,{value:yr.current,children:qt})}))});fr.displayName="SidebarInner";var pn=Object.assign((0,b.forwardRef)(function(Nt,Ft){var qt,kn=(0,U.I)(),$n=Nt.onStateChange,Hn=(0,b.useRef)(kn.openSidebar);(0,b.useEffect)(function(){var lr,Gn,Xn,er,pr;(!kn.openSidebar&&(Hn==null||(lr=Hn.current)===null||lr===void 0?void 0:lr.name)===Nt.name||((Gn=kn.openSidebar)===null||Gn===void 0?void 0:Gn.name)===Nt.name&&(Hn==null||(Xn=Hn.current)===null||Xn===void 0?void 0:Xn.name)!==Nt.name||((er=Hn.current)===null||er===void 0?void 0:er.name)===Nt.name)&&kn.openSidebar!==Hn.current&&$n?.(((pr=kn.openSidebar)===null||pr===void 0?void 0:pr.name)!==Nt.name?null:kn.openSidebar),Hn.current=kn.openSidebar},[kn.openSidebar,$n,Nt.name]);var Qn=(0,b.useState)(!1),ir=(0,w.Z)(Qn,2),Fn=ir[0],yr=ir[1];return(0,b.useLayoutEffect)(function(){return yr(!0),function(){return yr(!1)}},[]),Fn&&((qt=kn.openSidebar)===null||qt===void 0?void 0:qt.name)===Nt.name?(0,b.createElement)(fr,cr(cr({},Nt),{},{ref:Ft,key:Nt.name})):null}),{Header:ve,TabTriggers:It,TabTrigger:Wt,Tabs:hn,Tab:Sn,Trigger:O});pn.displayName="Sidebar"},8531:function(te,t,e){e.d(t,{Z:function(){return X}});var w=e(7169),v=e(9787),d=e.n(v),b=e(3379),T=e.n(b),S=e(7795),a=e.n(S),c=e(569),Z=e.n(c),F=e(3565),_=e.n(F),h=e(9216),x=e.n(h),G=e(4589),le=e.n(G),he=e(5892),ve={};ve.styleTagTransform=le(),ve.setAttributes=_(),ve.insert=Z().bind(null,"head"),ve.domAPI=a(),ve.insertStyleElement=x(),T()(he.Z,ve),he.Z&&he.Z.locals&&he.Z.locals;var fe=e(1020),X=function(q){var U=q.size,R=U===void 0?"1em":U,B=q.circleWidth,M=B===void 0?8:B,I=q.synchronized,E=I!==void 0&&I,p=-d().useRef(Date.now()).current%1600;return(0,fe.jsx)("div",{className:"Spinner",children:(0,fe.jsx)("svg",{viewBox:"0 0 100 100",style:(0,w.Z)({width:R,height:R},"--spinner-delay",E?"".concat(p,"ms"):0),children:(0,fe.jsx)("circle",{cx:"50",cy:"50",r:50-M/2,strokeWidth:M,fill:"none",strokeMiterlimit:"10"})})})}},2540:function(te,t,e){e.d(t,{Z:function(){return U}});var w=e(7169),v=e(3379),d=e.n(v),b=e(7795),T=e.n(b),S=e(569),a=e.n(S),c=e(3565),Z=e.n(c),F=e(9216),_=e.n(F),h=e(4589),x=e.n(h),G=e(3874),le={};le.styleTagTransform=x(),le.setAttributes=Z(),le.insert=a().bind(null,"head"),le.domAPI=T(),le.insertStyleElement=_(),d()(G.Z,le),G.Z&&G.Z.locals&&G.Z.locals;var he=e(9787),ve=e(45),fe=e(1020);function X(R,B){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(R);B&&(I=I.filter(function(E){return Object.getOwnPropertyDescriptor(R,E).enumerable})),M.push.apply(M,I)}return M}function q(R){for(var B=1;B<arguments.length;B++){var M=arguments[B]!=null?arguments[B]:{};B%2?X(Object(M),!0).forEach(function(I){(0,w.Z)(R,I,M[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):X(Object(M)).forEach(function(I){Object.defineProperty(R,I,Object.getOwnPropertyDescriptor(M,I))})}return R}var U={Row:(0,he.forwardRef)(function(R,B){var M=R.children,I=R.gap,E=R.align,p=R.justifyContent,r=R.className,o=R.style;return(0,fe.jsx)("div",{className:(0,ve.Z)("Stack Stack_horizontal",r),style:q({"--gap":I,alignItems:E,justifyContent:p},o),ref:B,children:M})}),Col:(0,he.forwardRef)(function(R,B){var M=R.children,I=R.gap,E=R.align,p=R.justifyContent,r=R.className,o=R.style;return(0,fe.jsx)("div",{className:(0,ve.Z)("Stack Stack_vertical",r),style:q({"--gap":I,justifyItems:E,justifyContent:p},o),ref:B,children:M})})}},1512:function(te,t,e){e.d(t,{V:function(){return h}});var w=e(8950),v=e(2577),d=e(2975),b=e.n(d),T=(e(3041),e(9787)),S=e.n(T),a=e(45),c=e(8242),Z=e(3506),F=e(8531),_=e(1020),h=S().forwardRef(function(x,G){var le=(0,c.J0)().id,he=S().useRef(null);S().useImperativeHandle(G,function(){return he.current});var ve="ToolIcon_size_".concat(x.size),fe=(0,T.useState)(!1),X=(0,v.Z)(fe,2),q=X[0],U=X[1],R=(0,T.useRef)(!0),B=function(){var E=(0,w.Z)(b().mark(function p(r){var o,g;return b().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(g="onClick"in x&&((o=x.onClick)===null||o===void 0?void 0:o.call(x,r)))||!("then"in g)){s.next=18;break}return s.prev=2,U(!0),s.next=6,g;case 6:s.next=15;break;case 8:if(s.prev=8,s.t0=s.catch(2),s.t0 instanceof Z._L){s.next=14;break}throw s.t0;case 14:console.warn(s.t0);case 15:return s.prev=15,R.current&&U(!1),s.finish(15);case 18:case"end":return s.stop()}},p,null,[[2,8,15,18]])}));return function(p){return E.apply(this,arguments)}}();(0,T.useEffect)(function(){return R.current=!0,function(){R.current=!1}},[]);var M=(0,T.useRef)(null);if(x.type==="button"||x.type==="icon"||x.type==="submit"){var I=x.type==="icon"?"button":x.type;return(0,_.jsxs)("button",{className:(0,a.Z)("ToolIcon_type_button",ve,x.className,x.visible&&!x.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!x.hidden,"ToolIcon--selected":x.selected,"ToolIcon--plain":x.type==="icon"}),style:x.style,"data-testid":x["data-testid"],hidden:x.hidden,title:x.title,"aria-label":x["aria-label"],type:I,onClick:B,ref:he,disabled:q||x.isLoading,children:[(x.icon||x.label)&&(0,_.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[x.icon||x.label,x.keyBindingLabel&&(0,_.jsx)("span",{className:"ToolIcon__keybinding",children:x.keyBindingLabel}),x.isLoading&&(0,_.jsx)(F.Z,{})]}),x.showAriaLabel&&(0,_.jsxs)("div",{className:"ToolIcon__label",children:[x["aria-label"]," ",q&&(0,_.jsx)(F.Z,{})]}),x.children]})}return(0,_.jsxs)("label",{className:(0,a.Z)("ToolIcon",x.className),title:x.title,onPointerDown:function(E){var p;M.current=E.pointerType||null,(p=x.onPointerDown)===null||p===void 0||p.call(x,{pointerType:E.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){M.current=null})},children:[(0,_.jsx)("input",{className:"ToolIcon_type_radio ".concat(ve),type:"radio",name:x.name,"aria-label":x["aria-label"],"aria-keyshortcuts":x["aria-keyshortcuts"],"data-testid":x["data-testid"],id:"".concat(le,"-").concat(x.id),onChange:function(){var E;(E=x.onChange)===null||E===void 0||E.call(x,{pointerType:M.current})},checked:x.checked,ref:he}),(0,_.jsxs)("div",{className:"ToolIcon__icon",children:[x.icon,x.keyBindingLabel&&(0,_.jsx)("span",{className:"ToolIcon__keybinding",children:x.keyBindingLabel})]})]})});h.defaultProps={visible:!0,className:"",size:"medium"},h.displayName="ToolButton"},8925:function(te,t,e){e.d(t,{u:function(){return X},bK:function(){return ve},Js:function(){return fe}});var w=e(3379),v=e.n(w),d=e(7795),b=e.n(d),T=e(569),S=e.n(T),a=e(3565),c=e.n(a),Z=e(9216),F=e.n(Z),_=e(4589),h=e.n(_),x=e(6626),G={};G.styleTagTransform=h(),G.setAttributes=c(),G.insert=S().bind(null,"head"),G.domAPI=b(),G.insertStyleElement=F(),v()(x.Z,G),x.Z&&x.Z.locals&&x.Z.locals;var le=e(9787),he=e(1020),ve=function(){var q=document.querySelector(".excalidraw-tooltip");if(q)return q;var U=document.createElement("div");return document.body.appendChild(U),U.classList.add("excalidraw-tooltip"),U},fe=function(q,U){var R,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",M=q.getBoundingClientRect(),I=window.innerWidth,E=window.innerHeight,p=5,r=U.left+U.width/2-M.width/2;r<0?r=p:r+M.width>=I&&(r=I-M.width-p),B==="bottom"?(R=U.top+U.height+p)+M.height>=E&&(R=U.top-M.height-p):(R=U.top-M.height-p)<0&&(R=U.top+U.height+p),Object.assign(q.style,{top:"".concat(R,"px"),left:"".concat(r,"px")})},X=function(q){var U=q.children,R=q.label,B=q.long,M=B!==void 0&&B,I=q.style;return(0,le.useEffect)(function(){return function(){return ve().classList.remove("excalidraw-tooltip--visible")}},[]),(0,he.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(E){return function(p,r,o,g){r.classList.add("excalidraw-tooltip--visible"),r.style.minWidth=g?"50ch":"10ch",r.style.maxWidth=g?"50ch":"15ch",r.textContent=o;var s=p.getBoundingClientRect();fe(r,s)}(E.currentTarget,ve(),R,M)},onPointerLeave:function(){return ve().classList.remove("excalidraw-tooltip--visible")},style:I,children:U})}},9247:function(te,t,e){var w=e(2726),v=e(1930),d=e(9787),b=e.n(d),T=e(8227),S=["i18nKey","children"],a=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,c=/{{([\w-]+)}}/,Z=/<([\w-]+)>/,F=/<\/([\w-]+)>/;t.Z=function(_){var h=_.i18nKey,x=(_.children,(0,w.Z)(_,S)),G=(0,T.QT)().t;return b().createElement.apply(b(),[b().Fragment,{}].concat((0,v.Z)(function(le,he){var ve=[{name:"",children:[]}];return le.split(a).filter(Boolean).forEach(function(fe){var X=fe.match(Z),q=fe.match(F),U=fe.match(c);if(X!==null){var R=X[1];he.hasOwnProperty(R)?ve.push({name:R,children:[]}):console.warn("Trans: missed to pass in prop ".concat(R," for interpolating ").concat(le))}else if(q!==null)if(q[1]===ve[ve.length-1].name){var B=ve.pop(),M=b().createElement.apply(b(),[b().Fragment,{}].concat((0,v.Z)(B.children))),I=he[B.name];typeof I=="function"&&ve[ve.length-1].children.push(I(M))}else console.warn("Trans: unexpected end tag ".concat(fe," for interpolating ").concat(le));else if(U!==null){var E=U[1];he.hasOwnProperty(E)?ve[ve.length-1].children.push(he[E]):console.warn("Trans: key ".concat(E," not in props for interpolating ").concat(le))}else ve[ve.length-1].children.push(fe)}),ve.length!==1&&console.warn("Trans: stack not empty for interpolating ".concat(le)),ve[0].children}(G(h),x))))}},4704:function(te,t,e){e.d(t,{Z:function(){return R}});var w=e(2577),v=e(3379),d=e.n(v),b=e(7795),T=e.n(b),S=e(569),a=e.n(S),c=e(3565),Z=e.n(c),F=e(9216),_=e.n(F),h=e(4589),x=e.n(h),G=e(6359),le={};le.styleTagTransform=x(),le.setAttributes=Z(),le.insert=a().bind(null,"head"),le.domAPI=T(),le.insertStyleElement=_(),d()(G.Z,le),G.Z&&G.Z.locals&&G.Z.locals;var he=e(9787),ve=e.n(he),fe=e(45),X=e(8925),q=e(8242),U=e(1020),R=function(B){var M=B.className,I=B.mobile,E=B.collaborators,p=(0,q.eh)(),r=new Map;E.forEach(function(g,s){r.set(g.id||s,g)});var o=r.size>0&&Array.from(r).filter(function(g){var s=(0,w.Z)(g,2),u=(s[0],s[1]);return Object.keys(u).length!==0}).map(function(g){var s=(0,w.Z)(g,2),u=s[0],k=s[1],N=p.renderAction("goToCollaborator",[u,k]);return I?(0,U.jsx)(X.u,{label:k.username||"Unknown user",children:N},u):(0,U.jsx)(ve().Fragment,{children:N},u)});return(0,U.jsx)("div",{className:(0,fe.Z)("UserList",M,{UserList_mobile:I}),children:o})}},7104:function(te,t,e){e.d(t,{Z:function(){return Q}});var w=e(7169),v=e(2726),d=e(45),b=e(8242),T=e(1020),S=["className","children","onToggle","title"];function a(ee,me){var Te=Object.keys(ee);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(ee);me&&(Ue=Ue.filter(function(qe){return Object.getOwnPropertyDescriptor(ee,qe).enumerable})),Te.push.apply(Te,Ue)}return Te}function c(ee){for(var me=1;me<arguments.length;me++){var Te=arguments[me]!=null?arguments[me]:{};me%2?a(Object(Te),!0).forEach(function(Ue){(0,w.Z)(ee,Ue,Te[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Te)):a(Object(Te)).forEach(function(Ue){Object.defineProperty(ee,Ue,Object.getOwnPropertyDescriptor(Te,Ue))})}return ee}var Z=function(ee){var me=ee.className,Te=me===void 0?"":me,Ue=ee.children,qe=ee.onToggle,Ae=ee.title,Oe=(0,v.Z)(ee,S),Ie=(0,b.Fy)(),Re=(0,d.Z)("dropdown-menu-button ".concat(Te),"zen-mode-transition",{"dropdown-menu-button--mobile":Ie.editor.isMobile}).trim();return(0,T.jsx)("button",c(c({"data-prevent-outside-click":!0,className:Re,onClick:qe,type:"button","data-testid":"dropdown-menu-button",title:Ae},Oe),{},{children:Ue}))},F=Z;Z.displayName="DropdownMenuTrigger";var _=e(5735),h=function(){return(0,T.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},x=h;h.displayName="DropdownMenuSeparator";var G=function(ee){var me=ee.children,Te=ee.className,Ue=Te===void 0?"":Te,qe=ee.style,Ae=ee.title;return(0,T.jsxs)("div",{className:"dropdown-menu-group ".concat(Ue),style:qe,children:[Ae&&(0,T.jsx)("p",{className:"dropdown-menu-group-title",children:Ae}),me]})},le=G;G.displayName="DropdownMenuGroup";var he=e(1404),ve=e(2540),fe=e(9787),X=e.n(fe),q=e(7009),U=e(1901),R=function(ee){var me=ee.children,Te=ee.onClickOutside,Ue=ee.className,qe=Ue===void 0?"":Ue,Ae=ee.onSelect,Oe=ee.style,Ie=(0,b.Fy)(),Re=(0,fe.useRef)(null);(0,U.O)(Re,function(){Te?.()});var ke=(0,d.Z)("dropdown-menu ".concat(qe),{"dropdown-menu--mobile":Ie.editor.isMobile}).trim();return(0,T.jsx)(q.N7.Provider,{value:{onSelect:Ae},children:(0,T.jsx)("div",{ref:Re,className:ke,style:Oe,"data-testid":"dropdown-menu",children:Ie.editor.isMobile?(0,T.jsx)(ve.Z.Col,{className:"dropdown-menu-container",children:me}):(0,T.jsx)(he.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:me})})})};R.displayName="DropdownMenuContent";var B=R,M=e(3858),I=["children","className","selected"];function E(ee,me){var Te=Object.keys(ee);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(ee);me&&(Ue=Ue.filter(function(qe){return Object.getOwnPropertyDescriptor(ee,qe).enumerable})),Te.push.apply(Te,Ue)}return Te}function p(ee){for(var me=1;me<arguments.length;me++){var Te=arguments[me]!=null?arguments[me]:{};me%2?E(Object(Te),!0).forEach(function(Ue){(0,w.Z)(ee,Ue,Te[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Te)):E(Object(Te)).forEach(function(Ue){Object.defineProperty(ee,Ue,Object.getOwnPropertyDescriptor(Te,Ue))})}return ee}var r=function(ee){var me=ee.children,Te=ee.className,Ue=Te===void 0?"":Te,qe=ee.selected,Ae=(0,v.Z)(ee,I);return(0,T.jsx)("div",p(p({},Ae),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(Ue," ").concat(qe?"dropdown-menu-item--selected":"").trim(),children:me}))},o=e(3379),g=e.n(o),s=e(7795),u=e.n(s),k=e(569),N=e.n(k),W=e(3565),O=e.n(W),j=e(9216),L=e.n(j),V=e(4589),ie=e.n(V),se=e(7399),ue={};ue.styleTagTransform=ie(),ue.setAttributes=O(),ue.insert=N().bind(null,"head"),ue.domAPI=u(),ue.insertStyleElement=L(),g()(se.Z,ue),se.Z&&se.Z.locals&&se.Z.locals;var pe=function(ee){var me=ee.children,Te=ee.open,Ue=function(Ae){return X().Children.toArray(Ae).find(function(Oe){return X().isValidElement(Oe)&&typeof Oe.type!="string"&&Oe?.type.displayName&&Oe.type.displayName==="DropdownMenuTrigger"})||null}(me),qe=function(Ae){return X().Children.toArray(Ae).find(function(Oe){return X().isValidElement(Oe)&&typeof Oe.type!="string"&&Oe?.type.displayName&&Oe.type.displayName==="DropdownMenuContent"})||null}(me);return(0,T.jsxs)(T.Fragment,{children:[Ue,Te&&qe]})};pe.Trigger=F,pe.Content=B,pe.Item=_.Z,pe.ItemLink=M.Z,pe.ItemCustom=r,pe.Group=le,pe.Separator=x;var Q=pe;pe.displayName="DropdownMenu"},5735:function(te,t,e){var w=e(7169),v=e(2726),d=e(7009),b=e(6732),T=e(1020),S=["icon","onSelect","children","shortcut","className","selected"];function a(F,_){var h=Object.keys(F);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(F);_&&(x=x.filter(function(G){return Object.getOwnPropertyDescriptor(F,G).enumerable})),h.push.apply(h,x)}return h}function c(F){for(var _=1;_<arguments.length;_++){var h=arguments[_]!=null?arguments[_]:{};_%2?a(Object(h),!0).forEach(function(x){(0,w.Z)(F,x,h[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(h)):a(Object(h)).forEach(function(x){Object.defineProperty(F,x,Object.getOwnPropertyDescriptor(h,x))})}return F}var Z=function(F){var _,h=F.icon,x=F.onSelect,G=F.children,le=F.shortcut,he=F.className,ve=F.selected,fe=(0,v.Z)(F,S),X=(0,d.qZ)(fe.onClick,x);return(0,T.jsx)("button",c(c({},fe),{},{onClick:X,type:"button",className:(0,d.n)(he,ve),title:(_=fe.title)!==null&&_!==void 0?_:fe["aria-label"],children:(0,T.jsx)(b.Z,{icon:h,shortcut:le,children:G})}))};t.Z=Z,Z.displayName="DropdownMenuItem"},6732:function(te,t,e){var w=e(8242),v=e(1020);t.Z=function(d){var b=d.icon,T=d.shortcut,S=d.children,a=(0,w.Fy)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"dropdown-menu-item__icon",children:b}),(0,v.jsx)("div",{className:"dropdown-menu-item__text",children:S}),T&&!a.editor.isMobile&&(0,v.jsx)("div",{className:"dropdown-menu-item__shortcut",children:T})]})}},3858:function(te,t,e){var w=e(7169),v=e(2726),d=e(6732),b=e(7009),T=e(1020),S=["icon","shortcut","href","children","onSelect","className","selected"];function a(F,_){var h=Object.keys(F);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(F);_&&(x=x.filter(function(G){return Object.getOwnPropertyDescriptor(F,G).enumerable})),h.push.apply(h,x)}return h}function c(F){for(var _=1;_<arguments.length;_++){var h=arguments[_]!=null?arguments[_]:{};_%2?a(Object(h),!0).forEach(function(x){(0,w.Z)(F,x,h[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(h)):a(Object(h)).forEach(function(x){Object.defineProperty(F,x,Object.getOwnPropertyDescriptor(h,x))})}return F}var Z=function(F){var _,h=F.icon,x=F.shortcut,G=F.href,le=F.children,he=F.onSelect,ve=F.className,fe=ve===void 0?"":ve,X=F.selected,q=(0,v.Z)(F,S),U=(0,b.qZ)(q.onClick,he);return(0,T.jsx)("a",c(c({},q),{},{href:G,target:"_blank",rel:"noreferrer",className:(0,b.n)(fe,X),title:(_=q.title)!==null&&_!==void 0?_:q["aria-label"],onClick:U,children:(0,T.jsx)(d.Z,{icon:h,shortcut:x,children:le})}))};t.Z=Z,Z.displayName="DropdownMenuItemLink"},7009:function(te,t,e){e.d(t,{N7:function(){return T},n:function(){return S},qZ:function(){return a}});var w=e(9787),v=e.n(w),d=e(9937),b=e(9827),T=v().createContext({}),S=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Z=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"dropdown-menu-item dropdown-menu-item-base ".concat(c," ").concat(Z?"dropdown-menu-item--selected":"").trim()},a=function(c,Z){var F=(0,w.useContext)(T);return(0,b.Mj)(c,function(_){var h,x=new CustomEvent(d.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});Z?.(x),x.defaultPrevented||(h=F.onSelect)===null||h===void 0||h.call(F,x)})}},6922:function(te,t,e){e.d(t,{$:function(){return c}});var w=e(7169),v=e(2577),d=e(3607),b=e(9787),T=e(4572),S=e(1020);function a(Z,F){var _=Object.keys(Z);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(Z);F&&(h=h.filter(function(x){return Object.getOwnPropertyDescriptor(Z,x).enumerable})),_.push.apply(_,h)}return _}var c=function(Z,F){var _=(0,d.cn)(0),h=function(x){var G=(0,T.R6)().jotaiScope,le=(0,d.KO)(_,G),he=(0,v.Z)(le,2)[1],ve=(0,b.useRef)({preferHost:!1,counter:0});return(0,b.useLayoutEffect)(function(){var fe=ve.current;return he(function(X){var q=X+1;return fe.counter=q,q}),function(){he(function(X){var q=X-1;return fe.counter=q,q||(fe.preferHost=!1),q})}},[he]),x.__fallback||(ve.current.preferHost=!0),!ve.current.counter&&x.__fallback&&ve.current.preferHost||ve.current.counter>1&&x.__fallback?null:(0,S.jsx)(F,function(fe){for(var X=1;X<arguments.length;X++){var q=arguments[X]!=null?arguments[X]:{};X%2?a(Object(q),!0).forEach(function(U){(0,w.Z)(fe,U,q[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(q)):a(Object(q)).forEach(function(U){Object.defineProperty(fe,U,Object.getOwnPropertyDescriptor(q,U))})}return fe}({},x))};return h.displayName=Z,h}},8935:function(te,t,e){e.d(t,{$W:function(){return Hn},$c:function(){return l},$q:function(){return W},BF:function(){return Qe},Ct:function(){return _e},D7:function(){return Ue},DG:function(){return xe},DJ:function(){return M},DS:function(){return At},EO:function(){return cr},ET:function(){return Te},FC:function(){return U},FL:function(){return V},Gc:function(){return re},HL:function(){return ze},Hk:function(){return Nt},Hy:function(){return Q},II:function(){return Fn},IN:function(){return ae},J8:function(){return ye},LZ:function(){return yr},NA:function(){return ie},NW:function(){return ue},Nw:function(){return pn},OA:function(){return Sn},OW:function(){return E},P7:function(){return fr},Pm:function(){return u},RJ:function(){return ct},RY:function(){return pe},Re:function(){return r},ST:function(){return ut},Sd:function(){return O},TP:function(){return P},Tl:function(){return ke},Tw:function(){return Ee},UE:function(){return f},UI:function(){return qt},UT:function(){return $n},VL:function(){return k},Vl:function(){return H},Vq:function(){return he},W2:function(){return kt},W5:function(){return tt},Wl:function(){return sn},X7:function(){return Mt},XB:function(){return N},XH:function(){return L},YA:function(){return fe},ZA:function(){return Zt},Zm:function(){return qe},_C:function(){return q},_U:function(){return B},a0:function(){return wt},a1:function(){return Ie},a5:function(){return Xt},aA:function(){return kr},aL:function(){return Ft},aT:function(){return on},bf:function(){return jn},by:function(){return ee},d:function(){return lr},dg:function(){return Qn},e0:function(){return o},eQ:function(){return Ae},fr:function(){return Wt},gK:function(){return ht},h0:function(){return me},il:function(){return Kt},j8:function(){return hn},jn:function(){return He},kL:function(){return se},kM:function(){return It},lF:function(){return bt},m:function(){return bn},m9:function(){return rn},mh:function(){return et},mv:function(){return kn},nb:function(){return p},np:function(){return zt},nq:function(){return Yn},o3:function(){return Bn},oQ:function(){return R},oT:function(){return Jn},op:function(){return Le},pO:function(){return ve},po:function(){return Re},pw:function(){return ge},q0:function(){return An},qQ:function(){return X},rr:function(){return un},t5:function(){return J},tW:function(){return tr},tb:function(){return s},tn:function(){return an},uD:function(){return Ke},vo:function(){return Bt},wr:function(){return Ht},xL:function(){return j},xP:function(){return Oe},xs:function(){return Je},z6:function(){return dn},zG:function(){return D},zb:function(){return g},zl:function(){return ir},zu:function(){return I}});var w=e(7169),v=e(2726),d=e(9787),b=e.n(d),T=e(5284),S=e(45),a=e(9937),c=e(1020),Z=["width","height","mirror","style"];function F(Gn,Xn){var er=Object.keys(Gn);if(Object.getOwnPropertySymbols){var pr=Object.getOwnPropertySymbols(Gn);Xn&&(pr=pr.filter(function(vr){return Object.getOwnPropertyDescriptor(Gn,vr).enumerable})),er.push.apply(er,pr)}return er}function _(Gn){for(var Xn=1;Xn<arguments.length;Xn++){var er=arguments[Xn]!=null?arguments[Xn]:{};Xn%2?F(Object(er),!0).forEach(function(pr){(0,w.Z)(Gn,pr,er[pr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Gn,Object.getOwnPropertyDescriptors(er)):F(Object(er)).forEach(function(pr){Object.defineProperty(Gn,pr,Object.getOwnPropertyDescriptor(er,pr))})}return Gn}var h=function(Gn){return Gn===a.C6.LIGHT?T.white:"#1e1e1e"},x=function(Gn){var Xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,er=typeof Xn=="number"?{width:Xn}:Xn,pr=er.width,vr=pr===void 0?512:pr,xr=er.height,$r=xr===void 0?vr:xr,io=er.mirror,Eo=er.style,Ro=(0,v.Z)(er,Z);return(0,c.jsx)("svg",_(_({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(vr," ").concat($r),className:(0,S.Z)({"rtl-mirror":io}),style:Eo},Ro),{},{children:typeof Gn=="string"?(0,c.jsx)("path",{fill:"currentColor",d:Gn}):Gn}))},G={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},le={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},he=(x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,c.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,c.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,c.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),G),x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,c.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,c.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,c.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,c.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),G)),ve=x((0,c.jsxs)("svg",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,c.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),G),fe=x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,c.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,c.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),G),X=x((0,c.jsxs)("svg",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,c.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,c.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),G),q=x((0,c.jsxs)("g",{children:[(0,c.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,c.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,c.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,c.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),le),U=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,c.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,c.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),le),R=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),B=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),M=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),I=(x((0,c.jsx)("g",{fill:"currentColor",children:(0,c.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),x((0,c.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,c.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),E=x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),G),p=x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),G),r=x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),G),o=x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,c.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,c.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),G),g=x((0,c.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),le),s=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,c.jsx)("path",{d:"M16 7h4"}),(0,c.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),G),u=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,c.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),le),k=x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,c.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,c.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,c.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,c.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),G),N=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M12.5 6.667h.01"}),(0,c.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,c.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,c.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),le),W=x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,c.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),G),O=x((0,c.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),le),j=x((0,c.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),le),L=x((0,c.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),le),V=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,c.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),le),ie=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,c.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),le),se=x((0,c.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),le),ue=x((0,c.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,c.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),le),pe=x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,c.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,c.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),G),Q=x((0,c.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),le),ee=x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,c.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,c.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),G),me=x((0,c.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),le),Te=x((0,c.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),le),Ue=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,c.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),le),qe=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),G),Ae=x((0,c.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Oe=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,c.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),le),Ie=x("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Re=x("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),ke=x((0,c.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),le),xe=(x("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),x("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),ye=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M15 8h.01"}),(0,c.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,c.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,c.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,c.jsx)("path",{d:"M19 16v6"}),(0,c.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),G),P=x("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),l=(x("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),x("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),x("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),f=(x("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),x((0,c.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),le)),D=x((0,c.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),le),H=x("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),J=(x((0,c.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),le),x("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,c.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),x((0,c.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le)),re=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,c.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),ae=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),ge=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",children:[(0,c.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,c.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,c.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),_e=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),ze=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),Je=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),et=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),Ke=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),tt=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),ut=x((0,c.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),le),ht=x((0,c.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),le),He=x((0,c.jsxs)("g",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,c.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,c.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,c.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),G),Ee=(x("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),x("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,c.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le)),Le=x("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Qe=(x("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),x("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),x("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),b().memo(function(Gn){var Xn=Gn.theme;return x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,c.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,c.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,c.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,c.jsxs)("g",{fill:h(Xn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,c.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),ct=b().memo(function(Gn){var Xn=Gn.theme;return x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,c.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,c.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,c.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,c.jsxs)("g",{fill:h(Xn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,c.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,c.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),bt=x((0,c.jsx)("g",{strokeWidth:1.25,children:(0,c.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),le),wt=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,c.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,c.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,c.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),le),zt=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("g",{clipPath:"url(#a)",children:[(0,c.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,c.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,c.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,c.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,c.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),Mt=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",children:(0,c.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),_(_({},le),{},{fill:"currentColor"})),Zt=x((0,c.jsx)(c.Fragment,{children:(0,c.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),le),sn=x((0,c.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),le),rn=x((0,c.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),le),Xt=x((0,c.jsxs)("g",{strokeWidth:"2",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M5 12h2"}),(0,c.jsx)("path",{d:"M17 12h2"}),(0,c.jsx)("path",{d:"M11 12h2"})]}),G),on=x((0,c.jsxs)("g",{strokeWidth:"2",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M4 12v.01"}),(0,c.jsx)("path",{d:"M8 12v.01"}),(0,c.jsx)("path",{d:"M12 12v.01"}),(0,c.jsx)("path",{d:"M16 12v.01"}),(0,c.jsx)("path",{d:"M20 12v.01"})]}),G),jn=x((0,c.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),le),It=x((0,c.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),le),kt=x((0,c.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),le),Ht=x((0,c.jsxs)("svg",{strokeWidth:"1.5",children:[(0,c.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,c.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,c.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,c.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,c.jsx)("path",{d:"M16.6667 10V10.01"}),(0,c.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,c.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,c.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,c.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,c.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,c.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,c.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),le),At=x((0,c.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,c.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,c.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,c.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,c.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,c.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,c.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,c.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,c.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,c.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,c.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,c.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),G),Wt=x((0,c.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Kt=b().memo(function(Gn){var Xn=Gn.flip,er=Xn!==void 0&&Xn;return x((0,c.jsxs)("g",{transform:er?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,c.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,c.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),an=b().memo(function(Gn){var Xn=Gn.flip,er=Xn!==void 0&&Xn;return x((0,c.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:er?"translate(40, 0) scale(-1, 1)":"",children:[(0,c.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,c.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),bn=b().memo(function(Gn){var Xn=Gn.flip,er=Xn!==void 0&&Xn;return x((0,c.jsx)("g",{transform:er?"translate(40, 0) scale(-1, 1)":"",children:(0,c.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),hn=b().memo(function(Gn){var Xn=Gn.flip,er=Xn!==void 0&&Xn;return x((0,c.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:er?"translate(40, 0) scale(-1, 1)":"",children:[(0,c.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,c.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),An=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",children:(0,c.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),Yn=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",children:(0,c.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),tr=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",children:(0,c.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),Sn=x((0,c.jsx)(c.Fragment,{children:(0,c.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),le),Bt=x((0,c.jsx)(c.Fragment,{children:(0,c.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,c.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),le),dn=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,c.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,c.jsx)("defs",{children:(0,c.jsx)("clipPath",{id:"a",children:(0,c.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),le),un=x((0,c.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,c.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,c.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),G),Bn=x((0,c.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,c.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,c.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),G),Jn=x((0,c.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,c.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,c.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),G),cr=b().memo(function(Gn){return Gn.theme,x((0,c.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,c.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),G)}),kr=b().memo(function(Gn){return Gn.theme,x((0,c.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,c.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),G)}),fr=b().memo(function(Gn){return Gn.theme,x((0,c.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,c.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,c.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),G)}),pn=x((0,c.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),Nt=(x((0,c.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),x((0,c.jsxs)("g",{strokeWidth:1.25,children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,c.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,c.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,c.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),G)),Ft=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,c.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,c.jsx)("path",{d:"M12 4l0 12"})]}),G),qt=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,c.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),G),kn=x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,c.jsx)("path",{d:"M12 17l0 .01"}),(0,c.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),G),$n=(x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M7 4v16l13 -8z"})]}),G),x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),G),x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),G),x((0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,c.jsx)("path",{d:"M12 9v4"}),(0,c.jsx)("path",{d:"M12 17h.01"})]}),G)),Hn=x((0,c.jsxs)("g",{strokeWidth:1.25,children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M11 7l6 6"}),(0,c.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),G),Qn=x((0,c.jsxs)("g",{strokeWidth:1.5,children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,c.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,c.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),G),ir=x((0,c.jsxs)("g",{strokeWidth:1.5,children:[(0,c.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,c.jsx)("path",{d:"M4 7l16 0"}),(0,c.jsx)("path",{d:"M4 17l16 0"}),(0,c.jsx)("path",{d:"M7 4l0 16"}),(0,c.jsx)("path",{d:"M17 4l0 16"})]}),G),Fn=x((0,c.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),yr=x((0,c.jsxs)("g",{strokeWidth:"1.25",children:[(0,c.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,c.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,c.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),le),lr=x((0,c.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,c.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,c.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20)},7021:function(te,t,e){e.d(t,{Z:function(){return qe}});var w={};e.r(w),e.d(w,{ChangeCanvasBackground:function(){return se},ClearCanvas:function(){return V},Export:function(){return ue},Help:function(){return L},LiveCollaborationTrigger:function(){return Q},LoadScene:function(){return W},SaveAsImage:function(){return j},SaveToActiveFile:function(){return O},Socials:function(){return pe},ToggleTheme:function(){return ie}});var v=e(8242),d=e(7104),b=e(8950),T=e(2975),S=e.n(T),a=e(2529),c=e(8227),Z=e(8935),F=e(5735),_=e(3858),h=e(5463),x=e(3379),G=e.n(x),le=e(7795),he=e.n(le),ve=e(569),fe=e.n(ve),X=e(3565),q=e.n(X),U=e(9216),R=e.n(U),B=e(4589),M=e.n(B),I=e(4343),E={};E.styleTagTransform=M(),E.setAttributes=q(),E.insert=fe().bind(null,"head"),E.domAPI=he(),E.insertStyleElement=R(),G()(I.Z,E),I.Z&&I.Z.locals&&I.Z.locals;var p=e(45),r=e(3607),o=e(8973),g=e(453),s=e(100),u=e(7827),k=e(9247),N=e(1020),W=function(){var Ae=(0,c.QT)().t,Oe=(0,v.eh)(),Ie=(0,v.bd)();if(!Oe.isActionEnabled(h._d))return null;var Re=function(){var ke=(0,b.Z)(S().mark(function xe(){return S().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(ye.t0=!Ie.length,ye.t0){ye.next=5;break}return ye.next=4,(0,u._)({title:Ae("overwriteConfirm.modal.loadFromFile.title"),actionLabel:Ae("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,N.jsx)(k.Z,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(P){return(0,N.jsx)("strong",{children:P})},br:function(){return(0,N.jsx)("br",{})}})});case 4:ye.t0=ye.sent;case 5:if(!ye.t0){ye.next=7;break}Oe.executeAction(h._d);case 7:case"end":return ye.stop()}},xe)}));return function(){return ke.apply(this,arguments)}}();return(0,N.jsx)(F.Z,{icon:Z.Tl,onSelect:Re,"data-testid":"load-button",shortcut:(0,a.C)("loadScene"),"aria-label":Ae("buttons.load"),children:Ae("buttons.load")})};W.displayName="LoadScene";var O=function(){var Ae=(0,c.QT)().t,Oe=(0,v.eh)();return Oe.isActionEnabled(h.ns)?(0,N.jsx)(F.Z,{shortcut:(0,a.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return Oe.executeAction(h.ns)},icon:Z.a1,"aria-label":"".concat(Ae("buttons.save")),children:"".concat(Ae("buttons.save"))}):null};O.displayName="SaveToActiveFile";var j=function(){var Ae=(0,v.n9)(),Oe=(0,c.QT)().t;return(0,N.jsx)(F.Z,{icon:Z.J8,"data-testid":"image-export-button",onSelect:function(){return Ae({openDialog:"imageExport"})},shortcut:(0,a.C)("imageExport"),"aria-label":Oe("buttons.exportImage"),children:Oe("buttons.exportImage")})};j.displayName="SaveAsImage";var L=function(){var Ae=(0,c.QT)().t,Oe=(0,v.eh)();return(0,N.jsx)(F.Z,{"data-testid":"help-menu-item",icon:Z.by,onSelect:function(){return Oe.executeAction(h.jY)},shortcut:"?","aria-label":Ae("helpDialog.title"),children:Ae("helpDialog.title")})};L.displayName="Help";var V=function(){var Ae=(0,c.QT)().t,Oe=(0,r.b9)(o.w,g.yE);return(0,v.eh)().isActionEnabled(h.mo)?(0,N.jsx)(F.Z,{icon:Z.XH,onSelect:function(){return Oe("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":Ae("buttons.clearReset"),children:Ae("buttons.clearReset")}):null};V.displayName="ClearCanvas";var ie=function(){var Ae=(0,c.QT)().t,Oe=(0,s.I)(),Ie=(0,v.eh)();return Ie.isActionEnabled(h.Zp)?(0,N.jsx)(F.Z,{onSelect:function(Re){return Re.preventDefault(),Ie.executeAction(h.Zp)},icon:Oe.theme==="dark"?Z.NW:Z.kL,"data-testid":"toggle-dark-mode",shortcut:(0,a.C)("toggleTheme"),"aria-label":Oe.theme==="dark"?Ae("buttons.lightMode"):Ae("buttons.darkMode"),children:Oe.theme==="dark"?Ae("buttons.lightMode"):Ae("buttons.darkMode")}):null};ie.displayName="ToggleTheme";var se=function(){var Ae=(0,c.QT)().t,Oe=(0,s.I)(),Ie=(0,v.eh)(),Re=(0,v.hY)();return Oe.viewModeEnabled||!Re.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,N.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,N.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:Ae("labels.canvasBackground")}),(0,N.jsx)("div",{style:{padding:"0 0.625rem"},children:Ie.renderAction("changeViewBackgroundColor")})]})};se.displayName="ChangeCanvasBackground";var ue=function(){var Ae=(0,c.QT)().t,Oe=(0,v.n9)();return(0,N.jsx)(F.Z,{icon:Z.Hy,onSelect:function(){Oe({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":Ae("buttons.export"),children:Ae("buttons.export")})};ue.displayName="Export";var pe=function(){return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(_.Z,{icon:Z.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,N.jsx)(_.Z,{icon:Z.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,N.jsx)(_.Z,{icon:Z.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};pe.displayName="Socials";var Q=function(Ae){var Oe=Ae.onSelect,Ie=Ae.isCollaborating,Re=(0,c.QT)().t;return(0,N.jsx)(F.Z,{"data-testid":"collab-button",icon:Z.jn,className:(0,p.Z)({"active-collab":Ie}),onSelect:Oe,children:Re("labels.liveCollaboration")})};Q.displayName="LiveCollaborationTrigger";var ee=e(4704),me=e(6922),Te=e(9827),Ue=e(4572),qe=Object.assign((0,me.$)("MainMenu",function(Ae){var Oe=Ae.children,Ie=Ae.onSelect,Re=(0,Ue.R6)().MainMenuTunnel,ke=(0,v.Fy)(),xe=(0,s.I)(),ye=(0,v.n9)(),P=ke.editor.isMobile?void 0:function(){return ye({openMenu:null})};return(0,N.jsx)(Re.In,{children:(0,N.jsxs)(d.Z,{open:xe.openMenu==="canvas",children:[(0,N.jsx)(d.Z.Trigger,{onToggle:function(){ye({openMenu:xe.openMenu==="canvas"?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:Z.RY}),(0,N.jsxs)(d.Z.Content,{onClickOutside:P,onSelect:(0,Te.Mj)(Ie,function(){ye({openMenu:null})}),children:[Oe,ke.editor.isMobile&&xe.collaborators.size>0&&(0,N.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,N.jsx)("legend",{children:(0,c.t)("labels.collaborators")}),(0,N.jsx)(ee.Z,{mobile:!0,collaborators:xe.collaborators})]})]})]})})}),{Trigger:d.Z.Trigger,Item:d.Z.Item,ItemLink:d.Z.ItemLink,ItemCustom:d.Z.ItemCustom,Group:d.Z.Group,Separator:d.Z.Separator,DefaultItems:w})},9937:function(te,t,e){e.d(t,{wL:function(){return Ae},iC:function(){return E},vL:function(){return wt},bY:function(){return bt},gK:function(){return ct},$C:function(){return L},oc:function(){return k},_9:function(){return rn},HN:function(){return kt},qy:function(){return ht},rk:function(){return ee},n5:function(){return Q},h6:function(){return He},Rx:function(){return sn},Cc:function(){return At},Hg:function(){return me},cW:function(){return ge},hs:function(){return Te},f:function(){return p},xY:function(){return Zt},Iw:function(){return o},$e:function(){return g},Vi:function(){return j},Ks:function(){return X},r8:function(){return Re},I_:function(){return Ie},ZB:function(){return ut},pb:function(){return ke},ut:function(){return V},iG:function(){return se},k:function(){return Ue},sA:function(){return H},KL:function(){return qe},LL:function(){return xe},PR:function(){return Wt},tf:function(){return Ht},EE:function(){return Ke},qx:function(){return r},$n:function(){return Ee},zK:function(){return tt},LO:function(){return Oe},CP:function(){return pe},Zj:function(){return D},Yx:function(){return Je},sS:function(){return ze},kV:function(){return _e},sk:function(){return et},Oh:function(){return N},XI:function(){return W},WR:function(){return on},$h:function(){return jn},a6:function(){return Xt},HM:function(){return l},ay:function(){return u},dg:function(){return It},hR:function(){return Le},Gj:function(){return ye},I8:function(){return Mt},wZ:function(){return s},C6:function(){return ie},ZF:function(){return J},nM:function(){return P},ah:function(){return ae},UO:function(){return re},Kr:function(){return Qe},oX:function(){return zt},_D:function(){return ue},vf:function(){return O},V4:function(){return f},Dt:function(){return R},jP:function(){return I},Um:function(){return q},vU:function(){return B},G6:function(){return M},ED:function(){return U}});var w=e(7169),v=e(3379),d=e.n(v),b=e(7795),T=e.n(b),S=e(569),a=e.n(S),c=e(3565),Z=e.n(c),F=e(9216),_=e.n(F),h=e(4589),x=e.n(h),G=e(6464),le={};le.styleTagTransform=x(),le.setAttributes=Z(),le.insert=a().bind(null,"head"),le.domAPI=T(),le.insertStyleElement=_(),d()(G.Z,le);var he=G.Z&&G.Z.locals?G.Z.locals:void 0,ve=e(9240);function fe(Kt,an){var bn=Object.keys(Kt);if(Object.getOwnPropertySymbols){var hn=Object.getOwnPropertySymbols(Kt);an&&(hn=hn.filter(function(An){return Object.getOwnPropertyDescriptor(Kt,An).enumerable})),bn.push.apply(bn,hn)}return bn}var X,q=/Mac|iPod|iPhone|iPad/.test(navigator.platform),U=/^Win/.test(navigator.platform),R=/\b(android)\b/i.test(navigator.userAgent),B="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,M=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,I=function(){var Kt,an;return((Kt=navigator.brave)===null||Kt===void 0||(an=Kt.isBrave)===null||an===void 0?void 0:an.name)==="isBrave"},E="Excalidraw",p=10,r=8,o=5,g=1,s=30,u=Math.PI/12,k={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},N={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1},W={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"};(function(Kt){Kt.COPY="copy",Kt.PASTE="paste",Kt.CUT="cut",Kt.KEYDOWN="keydown",Kt.KEYUP="keyup",Kt.MOUSE_MOVE="mousemove",Kt.RESIZE="resize",Kt.UNLOAD="unload",Kt.FOCUS="focus",Kt.BLUR="blur",Kt.DRAG_OVER="dragover",Kt.DROP="drop",Kt.GESTURE_END="gestureend",Kt.BEFORE_UNLOAD="beforeunload",Kt.GESTURE_START="gesturestart",Kt.GESTURE_CHANGE="gesturechange",Kt.POINTER_MOVE="pointermove",Kt.POINTER_DOWN="pointerdown",Kt.POINTER_UP="pointerup",Kt.STATE_CHANGE="statechange",Kt.WHEEL="wheel",Kt.TOUCH_START="touchstart",Kt.TOUCH_END="touchend",Kt.HASHCHANGE="hashchange",Kt.VISIBILITY_CHANGE="visibilitychange",Kt.SCROLL="scroll",Kt.EXCALIDRAW_LINK="excalidraw-link",Kt.MENU_ITEM_SELECT="menu.itemSelect",Kt.MESSAGE="message"})(X||(X={}));var O={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},j={TEST:"test",DEVELOPMENT:"development"},L={SHAPE_ACTIONS_MENU:"App-menu__left"},V={Virgil:1,Helvetica:2,Cascadia:3,Assistant:4},ie={LIGHT:"light",DARK:"dark"},se={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},ue="Segoe UI Emoji",pe=1,Q=20,ee=V.Virgil,me="left",Te="top",Ue=20,qe={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},Ae=["text/plain","text/html"],Oe=function(Kt){for(var an=1;an<arguments.length;an++){var bn=arguments[an]!=null?arguments[an]:{};an%2?fe(Object(bn),!0).forEach(function(hn){(0,w.Z)(Kt,hn,bn[hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Kt,Object.getOwnPropertyDescriptors(bn)):fe(Object(bn)).forEach(function(hn){Object.defineProperty(Kt,hn,Object.getOwnPropertyDescriptor(bn,hn))})}return Kt}({json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},qe),Ie={png:"png",svg:"svg",clipboard:"clipboard"},Re={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},ke=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,xe=500,ye=300,P=500,l=100,f=.1,D=.1,H=300,J=he.themeFilter,re={addLibrary:"addLibrary"},ae={addLibrary:"addLibrary"},ge={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},_e=730,ze=1e3,Je=500,et=1229,Ke=parseInt(he.rightSidebarWidth),tt=2,ut=[1,2,3],ht=10,He=1440,Ee=2097152,Le="http://www.w3.org/2000/svg",Qe={excalidraw:2,excalidrawLibrary:2},ct=5,bt=.7,wt=11,zt={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Mt={LEFT:"left",CENTER:"center",RIGHT:"right"},Zt=20,sn=.25,rn=32,Xt={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},on="__precedingElement__",jn={architect:0,artist:1,cartoonist:2},It={thin:1,bold:2,extraBold:4},kt={strokeColor:ve.HO.black,backgroundColor:ve.HO.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:jn.artist,opacity:100,locked:!1},Ht="library",At={name:"default",defaultTab:Ht},Wt=new Set(["embeddable","image"])},4572:function(te,t,e){e.d(t,{A3:function(){return x},ZC:function(){return le},R6:function(){return G}});var w=e(9787),v=e.n(w);const d=he=>{let ve;const fe=new Set,X=(R,B)=>{const M=typeof R=="function"?R(ve):R;if(!Object.is(M,ve)){const I=ve;ve=B??typeof M!="object"?M:Object.assign({},ve,M),fe.forEach(E=>E(ve,I))}},q=()=>ve,U={setState:X,getState:q,subscribe:R=>(fe.add(R),()=>fe.delete(R)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),fe.clear()}};return ve=he(X,q,U),U},b=he=>he?d(he):d;var T=e(5668);const{useSyncExternalStoreWithSelector:S}=T,a=he=>{typeof he!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const ve=typeof he=="function"?b(he):he,fe=(X,q)=>function(U,R=U.getState,B){const M=S(U.subscribe,U.getState,U.getServerState||U.getState,R,B);return(0,w.useDebugValue)(M),M}(ve,X,q);return Object.assign(fe,ve),fe},c=he=>he?a(he):a;var Z,F;const _=typeof window<"u"&&((Z=window.document)!=null&&Z.createElement||((F=window.navigator)==null?void 0:F.product)==="ReactNative")?v().useLayoutEffect:v().useEffect;function h(){const he=c(ve=>({current:new Array,version:0,set:ve}));return{In:({children:ve})=>{const fe=he(q=>q.set),X=he(q=>q.version);return _(()=>{fe(q=>({version:q.version+1}))},[]),_(()=>(fe(({current:q})=>({current:[...q,ve]})),()=>fe(({current:q})=>({current:q.filter(U=>U!==ve)}))),[ve,X]),null},Out:()=>{const ve=he(fe=>fe.current);return v().createElement(v().Fragment,null,ve)}}}var x=v().createContext(null),G=function(){return v().useContext(x)},le=function(){return v().useMemo(function(){return{MainMenuTunnel:h(),WelcomeScreenMenuHintTunnel:h(),WelcomeScreenToolbarHintTunnel:h(),WelcomeScreenHelpHintTunnel:h(),WelcomeScreenCenterTunnel:h(),FooterCenterTunnel:h(),DefaultSidebarTriggerTunnel:h(),DefaultSidebarTabTriggersTunnel:h(),OverwriteConfirmDialogTunnel:h(),jotaiScope:Symbol()}},[])}},100:function(te,t,e){e.d(t,{I:function(){return b},k:function(){return d}});var w=e(9787),v=e.n(w),d=v().createContext(null),b=function(){return v().useContext(d)}},7652:function(te,t,e){e.d(t,{KJ:function(){return _},OF:function(){return h},Uk:function(){return x},z8:function(){return F}});var w,v,d=e(9937),b=e(5284),T=e(6853),S='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',a='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',c="data:".concat(d.LO.svg,",").concat(encodeURIComponent("".concat(S).concat(a,"</svg>"))),Z="data:".concat(d.LO.svg,",").concat(encodeURIComponent("".concat(S).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(a,"</svg>"))),F=function(G){G&&(G.style.cursor="")},_=function(G,le){G&&(G.style.cursor=le)},h=function(G,le){w&&w.theme===le||function(){var he=le===d.C6.DARK;(w=document.createElement("canvas")).theme=le,w.height=20,w.width=20;var ve=w.getContext("2d");ve.lineWidth=1,ve.beginPath(),ve.arc(w.width/2,w.height/2,5,0,2*Math.PI),ve.fillStyle=he?b.black:b.white,ve.fill(),ve.strokeStyle=he?b.white:b.black,ve.stroke(),v=w.toDataURL(d.LO.svg)}(),_(G,"url(".concat(v,") ").concat(10," ").concat(10,", auto"))},x=function(G,le){if(G)if(le.activeTool.type==="selection")F(G);else if((0,T.l$)(le))G.style.cursor=d.oc.GRAB;else if((0,T.EN)(le))h(G,le.theme);else if(le.activeTool.type==="laser"){var he=le.theme===d.C6.LIGHT?c:Z;G.style.cursor="url(".concat(he,"), auto")}else["image","custom"].includes(le.activeTool.type)?le.activeTool.type!=="image"&&(G.style.cursor=d.oc.AUTO):G.style.cursor=d.oc.CROSSHAIR}},5796:function(te,t,e){e.d(t,{DQ:function(){return R},KG:function(){return u},Pn:function(){return N},Qk:function(){return U},Sf:function(){return s},Tu:function(){return k},Wr:function(){return M},ZY:function(){return I},_c:function(){return o},_p:function(){return W},bv:function(){return O},cT:function(){return E},g8:function(){return B},gY:function(){return ie},lV:function(){return r},tW:function(){return g},vZ:function(){return se},wf:function(){return p}});var w=e(1930),v=e(2577),d=e(7169),b=e(8950),T=e(2975),S=e.n(T),a=e(5605),c=e(6853),Z=e(9937),F=e(7651),_=e(3506),h=e(8227),x=e(4105),G=e(9827),le=e(6548),he=e(4419),ve=e(7994);function fe(ue,pe){var Q=Object.keys(ue);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(ue);pe&&(ee=ee.filter(function(me){return Object.getOwnPropertyDescriptor(ue,me).enumerable})),Q.push.apply(Q,ee)}return Q}function X(ue){for(var pe=1;pe<arguments.length;pe++){var Q=arguments[pe]!=null?arguments[pe]:{};pe%2?fe(Object(Q),!0).forEach(function(ee){(0,d.Z)(ue,ee,Q[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(Q)):fe(Object(Q)).forEach(function(ee){Object.defineProperty(ue,ee,Object.getOwnPropertyDescriptor(Q,ee))})}return ue}var q=function(){var ue=(0,b.Z)(S().mark(function pe(Q){var ee;return S().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(Q.type!==Z.LO.png){me.next=18;break}return me.prev=1,me.next=4,Promise.resolve().then(e.bind(e,250));case 4:return me.next=6,me.sent.decodePngMetadata(Q);case 6:return me.abrupt("return",me.sent);case 9:if(me.prev=9,me.t0=me.catch(1),me.t0.message!=="INVALID"){me.next=15;break}throw new _.jk((0,h.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 15:throw new _.jk((0,h.t)("alerts.cannotRestoreFromImage"));case 16:me.next=43;break;case 18:if(!("text"in Blob)){me.next=24;break}return me.next=21,Q.text();case 21:ee=me.sent,me.next=27;break;case 24:return me.next=26,new Promise(function(Te){var Ue=new FileReader;Ue.readAsText(Q,"utf8"),Ue.onloadend=function(){Ue.readyState===FileReader.DONE&&Te(Ue.result)}});case 26:ee=me.sent;case 27:if(Q.type!==Z.LO.svg){me.next=43;break}return me.prev=28,me.next=31,Promise.resolve().then(e.bind(e,250));case 31:return me.next=33,me.sent.decodeSvgMetadata({svg:ee});case 33:return me.abrupt("return",me.sent);case 36:if(me.prev=36,me.t1=me.catch(28),me.t1.message!=="INVALID"){me.next=42;break}throw new _.jk((0,h.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 42:throw new _.jk((0,h.t)("alerts.cannotRestoreFromImage"));case 43:return me.abrupt("return",ee);case 44:case"end":return me.stop()}},pe,null,[[1,9],[28,36]])}));return function(pe){return ue.apply(this,arguments)}}(),U=function(ue){var pe;return ue&&((pe=ue.name.match(/\.(json|excalidraw|png|svg)$/))===null||pe===void 0?void 0:pe[1])||null},R=function(ue){return ue==="png"||ue==="svg"},B=function(ue){var pe=U(ue);return pe==="png"||pe==="svg"},M=function(ue){var pe=(ue||{}).type;return!!pe&&Object.values(Z.KL).includes(pe)},I=function(){var ue=(0,b.Z)(S().mark(function pe(Q,ee,me,Te){var Ue,qe;return S().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,q(Q);case 2:Ue=Ae.sent,Ae.prev=3,Ae.prev=4,qe=JSON.parse(Ue),Ae.next=13;break;case 8:if(Ae.prev=8,Ae.t0=Ae.catch(4),!M(Q)){Ae.next=12;break}throw new _.jk((0,h.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 12:throw Ae.t0;case 13:if(!(0,he.dS)(qe)){Ae.next=17;break}return Ae.abrupt("return",{type:Z.LO.excalidraw,data:(0,ve.nu)({elements:(0,F._M)(qe.elements||[]),appState:X(X({theme:ee?.theme,fileHandle:Te||Q.handle||null},(0,c.s)(qe.appState||{})),ee?(0,x.W)(qe.elements||[],ee):{}),files:qe.files},ee,me,{repairBindings:!0,refreshDimensions:!1})});case 17:if(!(0,he.HT)(qe)){Ae.next=19;break}return Ae.abrupt("return",{type:Z.LO.excalidrawlib,data:qe});case 19:case 26:throw new Error((0,h.t)("alerts.couldNotLoadInvalidFile"));case 22:if(Ae.prev=22,Ae.t1=Ae.catch(3),!(Ae.t1 instanceof _.jk)){Ae.next=26;break}throw Ae.t1;case 27:case"end":return Ae.stop()}},pe,null,[[3,22],[4,8]])}));return function(pe,Q,ee,me){return ue.apply(this,arguments)}}(),E=function(){var ue=(0,b.Z)(S().mark(function pe(Q,ee,me,Te){var Ue;return S().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return qe.next=2,I(Q,ee,me,Te);case 2:if((Ue=qe.sent).type===Z.LO.excalidraw){qe.next=5;break}throw new Error((0,h.t)("alerts.couldNotLoadInvalidFile"));case 5:return qe.abrupt("return",Ue.data);case 6:case"end":return qe.stop()}},pe)}));return function(pe,Q,ee,me){return ue.apply(this,arguments)}}(),p=function(ue){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",Q=JSON.parse(ue);if(!(0,he.HT)(Q))throw new Error("Invalid library");var ee=Q.libraryItems||Q.library;return(0,ve.wJ)(ee,pe)},r=function(){var ue=(0,b.Z)(S().mark(function pe(Q){var ee,me=arguments;return S().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return ee=me.length>1&&me[1]!==void 0?me[1]:"unpublished",Te.t0=p,Te.next=4,q(Q);case 4:return Te.t1=Te.sent,Te.t2=ee,Te.abrupt("return",(0,Te.t0)(Te.t1,Te.t2));case 7:case"end":return Te.stop()}},pe)}));return function(pe){return ue.apply(this,arguments)}}(),o=function(){var ue=(0,b.Z)(S().mark(function pe(Q){return S().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.abrupt("return",new Promise(function(){var me=(0,b.Z)(S().mark(function Te(Ue,qe){return S().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(Ae.prev=0,!(0,G.y8)(Q)){Ae.next=5;break}return Ae.next=4,Q;case 4:Q=Ae.sent;case 5:Q.toBlob(function(Oe){if(!Oe)return qe(new _.lp((0,h.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));Ue(Oe)}),Ae.next=11;break;case 8:Ae.prev=8,Ae.t0=Ae.catch(0),qe(Ae.t0);case 11:case"end":return Ae.stop()}},Te,null,[[0,8]])}));return function(Te,Ue){return me.apply(this,arguments)}}()));case 1:case"end":return ee.stop()}},pe)}));return function(pe){return ue.apply(this,arguments)}}(),g=function(){var ue=(0,b.Z)(S().mark(function pe(Q){var ee;return S().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.prev=0,me.t0=window.crypto.subtle,me.next=4,se(Q);case 4:return me.t1=me.sent,me.next=7,me.t0.digest.call(me.t0,"SHA-1",me.t1);case 7:return ee=me.sent,me.abrupt("return",(0,G.G3)(new Uint8Array(ee)));case 11:return me.prev=11,me.t2=me.catch(0),console.error(me.t2),me.abrupt("return",(0,a.x0)(40));case 15:case"end":return me.stop()}},pe,null,[[0,11]])}));return function(pe){return ue.apply(this,arguments)}}(),s=function(){var ue=(0,b.Z)(S().mark(function pe(Q){return S().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.abrupt("return",new Promise(function(me,Te){var Ue=new FileReader;Ue.onload=function(){var qe=Ue.result;me(qe)},Ue.onerror=function(qe){return Te(qe)},Ue.readAsDataURL(Q)}));case 1:case"end":return ee.stop()}},pe)}));return function(pe){return ue.apply(this,arguments)}}(),u=function(ue){for(var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Q=ue.indexOf(","),ee=atob(ue.slice(Q+1)),me=ue.slice(0,Q).split(":")[1].split(";")[0],Te=new ArrayBuffer(ee.length),Ue=new Uint8Array(Te),qe=0;qe<ee.length;qe++)Ue[qe]=ee.charCodeAt(qe);return new File([Te],pe,{type:me})},k=function(){var ue=(0,b.Z)(S().mark(function pe(Q,ee){var me,Te,Ue,qe,Ae,Oe;return S().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(Q.type!==Z.LO.svg){Ie.next=2;break}return Ie.abrupt("return",Q);case 2:return Ie.next=4,Promise.all([e.e(4736).then(e.t.bind(e,4881,23)).then(function(Re){return Re.default}),e.e(4736).then(e.bind(e,5446)).then(function(Re){return Re.default})]);case 4:if(me=Ie.sent,Te=(0,v.Z)(me,2),Ue=Te[0],qe=Te[1],Ae=qe({pica:Ue({features:["js","wasm"]})}),ee.outputType&&(Oe=ee.outputType,Ae._create_blob=function(Re){return this.pica.toBlob(Re.out_canvas,Oe,.8).then(function(ke){return Re.out_blob=ke,Re})}),M(Q)){Ie.next=12;break}throw new Error((0,h.t)("errors.unsupportedFileType"));case 12:return Ie.t0=File,Ie.next=15,Ae.toBlob(Q,{max:ee.maxWidthOrHeight});case 15:return Ie.t1=Ie.sent,Ie.t2=[Ie.t1],Ie.t3=Q.name,Ie.t4={type:ee.outputType||Q.type},Ie.abrupt("return",new Ie.t0(Ie.t2,Ie.t3,Ie.t4));case 20:case"end":return Ie.stop()}},pe)}));return function(pe,Q){return ue.apply(this,arguments)}}(),N=function(ue){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(ue)],pe,{type:Z.LO.svg})},W=function(){var ue=(0,b.Z)(S().mark(function pe(Q){var ee,me,Te,Ue,qe=arguments;return S().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return ee=qe.length>1&&qe[1]!==void 0?qe[1]:"",Ae.prev=1,Ae.next=4,fetch(Q);case 4:me=Ae.sent,Ae.next=10;break;case 7:throw Ae.prev=7,Ae.t0=Ae.catch(1),new Error((0,h.t)("errors.failedToFetchImage"));case 10:if(me.ok){Ae.next=12;break}throw new Error((0,h.t)("errors.failedToFetchImage"));case 12:return Ae.next=14,me.blob();case 14:if(!(Te=Ae.sent).type||!M(Te)){Ae.next=18;break}return Ue=ee||Te.name||"",Ae.abrupt("return",new File([Te],Ue,{type:Te.type}));case 18:throw new Error((0,h.t)("errors.unsupportedFileType"));case 19:case"end":return Ae.stop()}},pe,null,[[1,7]])}));return function(pe){return ue.apply(this,arguments)}}(),O=function(){var ue=(0,b.Z)(S().mark(function pe(Q){var ee,me;return S().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return ee=Q.dataTransfer.files.item(0),Te.next=3,j(Q);case 3:if(me=Te.sent,!ee){Te.next=10;break}return Te.next=7,ie(ee);case 7:Te.t0=Te.sent,Te.next=11;break;case 10:Te.t0=null;case 11:return Te.t1=Te.t0,Te.t2=me,Te.abrupt("return",{file:Te.t1,fileHandle:Te.t2});case 14:case"end":return Te.stop()}},pe)}));return function(pe){return ue.apply(this,arguments)}}(),j=function(){var ue=(0,b.Z)(S().mark(function pe(Q){var ee,me;return S().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(!le.kr){Te.next=16;break}return Te.prev=1,ee=Q.dataTransfer.items[0],Te.next=5,ee.getAsFileSystemHandle();case 5:if(Te.t0=Te.sent,Te.t0){Te.next=8;break}Te.t0=null;case 8:return me=Te.t0,Te.abrupt("return",me);case 12:return Te.prev=12,Te.t1=Te.catch(1),console.warn(Te.t1.name,Te.t1.message),Te.abrupt("return",null);case 16:return Te.abrupt("return",null);case 17:case"end":return Te.stop()}},pe,null,[[1,12]])}));return function(pe){return ue.apply(this,arguments)}}(),L=function(ue){var pe=null,Q="".concat((0,w.Z)(new Uint8Array(ue).slice(0,8)).join(" ")," "),ee="255 216 255 ",me="71 73 70 56 57 97 ";return Q==="137 80 78 71 13 10 26 10 "?pe=Z.LO.png:Q.startsWith(ee)?pe=Z.LO.jpg:Q.startsWith(me)&&(pe=Z.LO.gif),pe},V=function(ue,pe,Q){return new File([ue],Q||"",{type:pe})},ie=function(){var ue=(0,b.Z)(S().mark(function pe(Q){var ee,me,Te,Ue,qe,Ae,Oe,Ie;return S().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(Q.type){Re.next=28;break}if((ee=Q)===null||ee===void 0||(me=ee.name)===null||me===void 0||!me.endsWith(".excalidrawlib")){Re.next=11;break}return Re.t0=V,Re.next=5,se(Q);case 5:Re.t1=Re.sent,Re.t2=Z.LO.excalidrawlib,Re.t3=Q.name,Q=(0,Re.t0)(Re.t1,Re.t2,Re.t3),Re.next=26;break;case 11:if((Te=Q)===null||Te===void 0||(Ue=Te.name)===null||Ue===void 0||!Ue.endsWith(".excalidraw")){Re.next=21;break}return Re.t4=V,Re.next=15,se(Q);case 15:Re.t5=Re.sent,Re.t6=Z.LO.excalidraw,Re.t7=Q.name,Q=(0,Re.t4)(Re.t5,Re.t6,Re.t7),Re.next=26;break;case 21:return Re.next=23,se(Q);case 23:qe=Re.sent,(Ae=L(qe))&&(Q=V(qe,Ae,Q.name));case 26:Re.next=34;break;case 28:if(!M(Q)){Re.next=34;break}return Re.next=31,se(Q);case 31:Oe=Re.sent,(Ie=L(Oe))&&Ie!==Q.type&&(Q=V(Oe,Ie,Q.name));case 34:return Re.abrupt("return",Q);case 35:case"end":return Re.stop()}},pe)}));return function(pe){return ue.apply(this,arguments)}}(),se=function(ue){return"arrayBuffer"in ue?ue.arrayBuffer():new Promise(function(pe,Q){var ee=new FileReader;ee.onload=function(me){var Te;if((Te=me.target)===null||Te===void 0||!Te.result)return Q(new Error("Couldn't convert blob to ArrayBuffer"));pe(me.target.result)},ee.readAsArrayBuffer(ue)})}},6548:function(te,t,e){e.d(t,{I$:function(){return h},NL:function(){return x},kr:function(){return b}});var w=e(1930),v=e(8950),d=e(2975),b=function(){return typeof self>"u"?!1:!("top"in self&&self!==top)&&"showOpenFilePicker"in self?"showOpenFilePicker":!1}(),T=b?e.e(4736).then(e.bind(e,7464)):e.e(4736).then(e.bind(e,3948));function S(){return S=(0,v.Z)(d.mark(function G(){var le,he=arguments;return d.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,T;case 2:return ve.abrupt("return",(le=ve.sent).default.apply(le,he));case 3:case"end":return ve.stop()}},G)})),S.apply(this,arguments)}b?e.e(4736).then(e.bind(e,4036)):e.e(4736).then(e.bind(e,7693));var a=b?e.e(4736).then(e.bind(e,357)):e.e(4736).then(e.bind(e,341));function c(){return c=(0,v.Z)(d.mark(function G(){var le,he=arguments;return d.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,a;case 2:return ve.abrupt("return",(le=ve.sent).default.apply(le,he));case 3:case"end":return ve.stop()}},G)})),c.apply(this,arguments)}var Z=e(9937),F=e(3506),_=e(9827),h=function(G){var le,he,ve,fe=(le=G.extensions)===null||le===void 0?void 0:le.reduce(function(q,U){return q.push(Z.LO[U]),q},[]),X=(he=G.extensions)===null||he===void 0?void 0:he.reduce(function(q,U){return U==="jpg"?q.concat(".jpg",".jpeg"):q.concat(".".concat(U))},[]);return function(){return S.apply(this,arguments)}({description:G.description,extensions:X,mimeTypes:fe,multiple:(ve=G.multiple)!==null&&ve!==void 0&&ve,legacySetup:function(q,U,R){var B=(0,_.Ds)(U,500),M=function(){I(),document.addEventListener(Z.Ks.KEYUP,B),document.addEventListener(Z.Ks.POINTER_UP,B),B()},I=function(){var p;if((p=R.files)!==null&&p!==void 0&&p.length){var r=G.multiple?(0,w.Z)(R.files):R.files[0];q(r)}};requestAnimationFrame(function(){window.addEventListener(Z.Ks.FOCUS,M)});var E=window.setInterval(function(){I()},500);return function(p){clearInterval(E),B.cancel(),window.removeEventListener(Z.Ks.FOCUS,M),document.removeEventListener(Z.Ks.KEYUP,B),document.removeEventListener(Z.Ks.POINTER_UP,B),p&&(console.warn("Opening the file was canceled (legacy-fs)."),p(new F._L))}}})},x=function(G,le){return function(){return c.apply(this,arguments)}(G,{fileName:"".concat(le.name,".").concat(le.extension),description:le.description,extensions:[".".concat(le.extension)]},le.fileHandle)}},250:function(te,t,e){e.r(t),e.d(t,{decodePngMetadata:function(){return U},decodeSvgMetadata:function(){return B},encodePngMetadata:function(){return q},encodeSvgMetadata:function(){return R},getTEXtChunk:function(){return X}});var w=e(8950),v=e(2975),d=e.n(v),b=e(2983),T=e.n(b),S=e(1194),a=e(3434),c=e.n(a),Z=e(2744),F=e(9937),_=e(5796),h=function(M){return new Promise(function(I,E){var p=typeof M=="string"?new Blob([new TextEncoder().encode(M)]):new Blob([M instanceof Uint8Array?M:new Uint8Array(M)]),r=new FileReader;r.onload=function(o){if(!o.target||typeof o.target.result!="string")return E(new Error("couldn't convert to byte string"));I(o.target.result)},r.readAsBinaryString(p)})},x=function(M){for(var I=new ArrayBuffer(M.length),E=new Uint8Array(I),p=0,r=M.length;p<r;p++)E[p]=M.charCodeAt(p);return I},G=function(M){return new TextDecoder("utf-8").decode(x(M))},le=function(){var M=(0,w.Z)(d().mark(function I(E){var p=arguments;return d().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(p.length>1&&p[1]!==void 0&&p[1])){r.next=5;break}r.t0=window.btoa(E),r.next=10;break;case 5:return r.t1=window,r.next=8,h(E);case 8:r.t2=r.sent,r.t0=r.t1.btoa.call(r.t1,r.t2);case 10:return r.abrupt("return",r.t0);case 11:case"end":return r.stop()}},I)}));return function(I){return M.apply(this,arguments)}}(),he=function(){var M=(0,w.Z)(d().mark(function I(E){var p,r=arguments;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return p=r.length>1&&r[1]!==void 0&&r[1],o.abrupt("return",p?window.atob(E):G(window.atob(E)));case 2:case"end":return o.stop()}},I)}));return function(I){return M.apply(this,arguments)}}(),ve=function(){var M=(0,w.Z)(d().mark(function I(E){var p,r;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(p=E.text,E.compress===!1){o.next=11;break}return o.prev=2,o.next=5,h((0,Z.deflate)(p));case 5:r=o.sent,o.next=11;break;case 8:o.prev=8,o.t0=o.catch(2),console.error("encode: cannot deflate",o.t0);case 11:if(o.t1=!!r,o.t2=r,o.t2){o.next=17;break}return o.next=16,h(p);case 16:o.t2=o.sent;case 17:return o.t3=o.t2,o.abrupt("return",{version:"1",encoding:"bstring",compressed:o.t1,encoded:o.t3});case 19:case"end":return o.stop()}},I,null,[[2,8]])}));return function(I){return M.apply(this,arguments)}}(),fe=function(){var M=(0,w.Z)(d().mark(function I(E){var p;return d().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=E.encoding,r.next=r.t0==="bstring"?3:12;break;case 3:if(!E.compressed){r.next=7;break}r.t1=E.encoded,r.next=10;break;case 7:return r.next=9,G(E.encoded);case 9:r.t1=r.sent;case 10:return p=r.t1,r.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(E.encoding,'"'));case 13:if(!E.compressed){r.next=15;break}return r.abrupt("return",(0,Z.inflate)(new Uint8Array(x(p)),{to:"string"}));case 15:return r.abrupt("return",p);case 16:case"end":return r.stop()}},I)}));return function(I){return M.apply(this,arguments)}}(),X=function(){var M=(0,w.Z)(d().mark(function I(E){var p,r;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=T(),o.t1=Uint8Array,o.next=4,(0,_.vZ)(E);case 4:if(o.t2=o.sent,o.t3=new o.t1(o.t2),p=(0,o.t0)(o.t3),!(r=p.find(function(g){return g.name==="tEXt"}))){o.next=10;break}return o.abrupt("return",S.decode(r.data));case 10:return o.abrupt("return",null);case 11:case"end":return o.stop()}},I)}));return function(I){return M.apply(this,arguments)}}(),q=function(){var M=(0,w.Z)(d().mark(function I(E){var p,r,o,g;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p=E.blob,r=E.metadata,s.t0=T(),s.t1=Uint8Array,s.next=5,(0,_.vZ)(p);case 5:return s.t2=s.sent,s.t3=new s.t1(s.t2),o=(0,s.t0)(s.t3),s.t4=S,s.t5=F.LO.excalidraw,s.t6=JSON,s.next=13,ve({text:r,compress:!0});case 13:return s.t7=s.sent,s.t8=s.t6.stringify.call(s.t6,s.t7),g=s.t4.encode.call(s.t4,s.t5,s.t8),o.splice(-1,0,g),s.abrupt("return",new Blob([c()(o)],{type:F.LO.png}));case 18:case"end":return s.stop()}},I)}));return function(I){return M.apply(this,arguments)}}(),U=function(){var M=(0,w.Z)(d().mark(function I(E){var p,r;return d().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,X(E);case 2:if(((p=o.sent)==null?void 0:p.keyword)!==F.LO.excalidraw){o.next=19;break}if(o.prev=4,"encoded"in(r=JSON.parse(p.text))){o.next=10;break}if(!("type"in r)||r.type!==F.r8.excalidraw){o.next=9;break}return o.abrupt("return",p.text);case 9:throw new Error("FAILED");case 10:return o.next=12,fe(r);case 12:return o.abrupt("return",o.sent);case 15:throw o.prev=15,o.t0=o.catch(4),console.error(o.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return o.stop()}},I,null,[[4,15]])}));return function(I){return M.apply(this,arguments)}}(),R=function(){var M=(0,w.Z)(d().mark(function I(E){var p,r,o;return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return p=E.text,g.t0=le,g.t1=JSON,g.next=5,ve({text:p});case 5:return g.t2=g.sent,g.t3=g.t1.stringify.call(g.t1,g.t2),g.next=9,(0,g.t0)(g.t3,!0);case 9:return r=g.sent,o="",o+="<!-- payload-type:".concat(F.LO.excalidraw," -->"),o+="<!-- payload-version:2 -->",o+="<!-- payload-start -->",o+=r,o+="<!-- payload-end -->",g.abrupt("return",o);case 17:case"end":return g.stop()}},I)}));return function(I){return M.apply(this,arguments)}}(),B=function(){var M=(0,w.Z)(d().mark(function I(E){var p,r,o,g,s,u,k;return d().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(!(p=E.svg).includes("payload-type:".concat(F.LO.excalidraw))){N.next=26;break}if(r=p.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){N.next=5;break}throw new Error("INVALID");case 5:return o=p.match(/<!-- payload-version:(\d+) -->/),g=o?.[1]||"1",s=g!=="1",N.prev=8,N.next=11,he(r[1],s);case 11:if(u=N.sent,"encoded"in(k=JSON.parse(u))){N.next=17;break}if(!("type"in k)||k.type!==F.r8.excalidraw){N.next=16;break}return N.abrupt("return",u);case 16:throw new Error("FAILED");case 17:return N.next=19,fe(k);case 19:return N.abrupt("return",N.sent);case 22:throw N.prev=22,N.t0=N.catch(8),console.error(N.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return N.stop()}},I,null,[[8,22]])}));return function(I){return M.apply(this,arguments)}}()},2435:function(te,t,e){e.d(t,{HD:function(){return le},Um:function(){return G.Um},cT:function(){return h.cT},n8:function(){return G.n8},p1:function(){return he}});var w=e(8950),v=e(2975),d=e.n(v),b=e(4694),T=e(9937),S=e(7651),a=e(8227),c=e(6013),Z=e(4105),F=e(3668),_=e(9827),h=e(5796),x=e(6548),G=e(4419),le=function(ve,fe,X){var q=fe.selectedElementIds;ve=(0,S.Lm)(ve);var U=X&&(0,Z.N)(ve,{selectedElementIds:q}),R=null,B=U?(0,Z.eD)(ve,{selectedElementIds:q},{includeBoundTextElement:!0}):ve;return U&&(B.length===1&&(0,S.He)(B[0])?(R=B[0],B=(0,c.Xs)({elements:ve,bounds:R,type:"overlap"})):B.length>1&&(B=(0,Z.eD)(ve,{selectedElementIds:q},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:R,exportedElements:(0,_.xU)(B)}},he=function(){var ve=(0,w.Z)(d().mark(function fe(X,q,U,R,B){var M,I,E,p,r,o,g,s,u,k,N,W,O;return d().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(M=B.exportBackground,I=B.exportPadding,E=I===void 0?T.qy:I,p=B.viewBackgroundColor,r=B.name,o=B.fileHandle,g=o===void 0?null:o,s=B.exportingFrame,u=s===void 0?null:s,q.length!==0){j.next=3;break}throw new Error((0,a.t)("alerts.cannotExportEmptyCanvas"));case 3:if(X!=="svg"&&X!=="clipboard-svg"){j.next=17;break}return j.next=6,(0,F.$D)(q,{exportBackground:M,exportWithDarkMode:U.exportWithDarkMode,viewBackgroundColor:p,exportPadding:E,exportScale:U.exportScale,exportEmbedScene:U.exportEmbedScene&&X==="svg"},R,{exportingFrame:u});case 6:if(k=j.sent,X!=="svg"){j.next=13;break}return j.next=10,(0,x.NL)(new Blob([k.outerHTML],{type:T.LO.svg}),{description:"Export to SVG",name:r,extension:U.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:g});case 10:return j.abrupt("return",j.sent);case 13:if(X!=="clipboard-svg"){j.next=17;break}return j.next=16,(0,b.dd)(k.outerHTML);case 16:return j.abrupt("return");case 17:if(N=(0,F.NL)(q,U,R,{exportBackground:M,viewBackgroundColor:p,exportPadding:E,exportingFrame:u}),X!=="png"){j.next=33;break}return j.next=21,(0,h._c)(N);case 21:if(W=j.sent,!U.exportEmbedScene){j.next=28;break}return j.next=25,Promise.resolve().then(e.bind(e,250));case 25:return j.next=27,j.sent.encodePngMetadata({blob:W,metadata:(0,G.I_)(q,U,R,"local")});case 27:W=j.sent;case 28:return j.next=30,(0,x.NL)(W,{description:"Export to PNG",name:r,extension:"png",fileHandle:g});case 30:return j.abrupt("return",j.sent);case 33:if(X!=="clipboard"){j.next=52;break}return j.prev=34,O=(0,h._c)(N),j.next=38,(0,b.uR)(O);case 38:j.next=50;break;case 40:if(j.prev=40,j.t0=j.catch(34),console.warn(j.t0),j.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){j.next=45;break}throw j.t0;case 45:if(!T.vU||j.t0.name!=="TypeError"){j.next=49;break}throw new Error("".concat((0,a.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,a.t)("hints.firefox_clipboard_write")));case 49:throw new Error((0,a.t)("alerts.couldNotCopyToClipboard"));case 50:j.next=53;break;case 52:throw new Error("Unsupported export type");case 53:case"end":return j.stop()}},fe,null,[[34,40]])}));return function(fe,X,q,U,R){return ve.apply(this,arguments)}}()},4419:function(te,t,e){e.d(t,{HT:function(){return ve},I_:function(){return x},NI:function(){return fe},Um:function(){return G},dS:function(){return he},n8:function(){return le},t1:function(){return X}});var w=e(6655),v=e(8950),d=e(2975),b=e.n(d),T=e(6548),S=e(6853),a=e(9937),c=e(7651),Z=e(5796);function F(q,U){var R=typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(!R){if(Array.isArray(q)||(R=function(r,o){if(r){if(typeof r=="string")return _(r,o);var g=Object.prototype.toString.call(r).slice(8,-1);if(g==="Object"&&r.constructor&&(g=r.constructor.name),g==="Map"||g==="Set")return Array.from(r);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return _(r,o)}}(q))||U){R&&(q=R);var B=0,M=function(){};return{s:M,n:function(){return B>=q.length?{done:!0}:{done:!1,value:q[B++]}},e:function(r){throw r},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I,E=!0,p=!1;return{s:function(){R=R.call(q)},n:function(){var r=R.next();return E=r.done,r},e:function(r){p=!0,I=r},f:function(){try{E||R.return==null||R.return()}finally{if(p)throw I}}}}function _(q,U){(U==null||U>q.length)&&(U=q.length);for(var R=0,B=new Array(U);R<U;R++)B[R]=q[R];return B}var h=function(q,U){var R,B={},M=F(q);try{for(M.s();!(R=M.n()).done;){var I=R.value;!I.isDeleted&&"fileId"in I&&I.fileId&&U[I.fileId]&&(B[I.fileId]=U[I.fileId])}}catch(E){M.e(E)}finally{M.f()}return B},x=function(q,U,R,B){var M={type:a.r8.excalidraw,version:a.Kr.excalidraw,source:a.pb,elements:B==="local"?(0,c._M)(q):(0,c.BQ)(q),appState:B==="local"?(0,S.s)(U):(0,S.eS)(U),files:B==="local"?h(q,R):void 0};return JSON.stringify(M,null,2)},G=function(){var q=(0,v.Z)(b().mark(function U(R,B,M){var I,E,p;return b().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return I=x(R,B,M,"local"),E=new Blob([I],{type:a.LO.excalidraw}),r.next=4,(0,T.NL)(E,{name:B.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,Z.g8)(B.fileHandle)?null:B.fileHandle});case 4:return p=r.sent,r.abrupt("return",{fileHandle:p});case 6:case"end":return r.stop()}},U)}));return function(U,R,B){return q.apply(this,arguments)}}(),le=function(){var q=(0,v.Z)(b().mark(function U(R,B){var M;return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,T.I$)({description:"Excalidraw files"});case 2:return M=I.sent,I.t0=Z.cT,I.next=6,(0,Z.gY)(M);case 6:return I.t1=I.sent,I.t2=R,I.t3=B,I.t4=M.handle,I.abrupt("return",(0,I.t0)(I.t1,I.t2,I.t3,I.t4));case 11:case"end":return I.stop()}},U)}));return function(U,R){return q.apply(this,arguments)}}(),he=function(q){return q?.type===a.r8.excalidraw&&(!q.elements||Array.isArray(q.elements)&&(!q.appState||(0,w.Z)(q.appState)==="object"))},ve=function(q){return(0,w.Z)(q)==="object"&&q&&q.type===a.r8.excalidrawLibrary&&(q.version===1||q.version===2)},fe=function(q){var U={type:a.r8.excalidrawLibrary,version:a.Kr.excalidrawLibrary,source:a.pb,libraryItems:q};return JSON.stringify(U,null,2)},X=function(){var q=(0,v.Z)(b().mark(function U(R){var B;return b().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return B=fe(R),M.next=3,(0,T.NL)(new Blob([B],{type:a.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return M.stop()}},U)}));return function(U){return q.apply(this,arguments)}}()},9326:function(te,t,e){e.d(t,{Di:function(){return o},WV:function(){return r},rF:function(){return B},xS:function(){return g},zh:function(){return E}});var w=e(7169),v=e(8950),d=e(5169),b=e(8821),T=e(1930),S=e(2975),a=e.n(S),c=e(5796),Z=e(7994),F=e(3607),_=e(453),h=e(4949),x=e(3506),G=e(8227),le=e(9787),he=e(9937),ve=e(5832),fe=e(9827);function X(s,u){var k=Object.keys(s);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(s);u&&(N=N.filter(function(W){return Object.getOwnPropertyDescriptor(s,W).enumerable})),k.push.apply(k,N)}return k}function q(s){for(var u=1;u<arguments.length;u++){var k=arguments[u]!=null?arguments[u]:{};u%2?X(Object(k),!0).forEach(function(N){(0,w.Z)(s,N,k[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(k)):X(Object(k)).forEach(function(N){Object.defineProperty(s,N,Object.getOwnPropertyDescriptor(k,N))})}return s}function U(s,u){var k=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!k){if(Array.isArray(s)||(k=function(V,ie){if(V){if(typeof V=="string")return R(V,ie);var se=Object.prototype.toString.call(V).slice(8,-1);if(se==="Object"&&V.constructor&&(se=V.constructor.name),se==="Map"||se==="Set")return Array.from(V);if(se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return R(V,ie)}}(s))||u){k&&(s=k);var N=0,W=function(){};return{s:W,n:function(){return N>=s.length?{done:!0}:{done:!1,value:s[N++]}},e:function(V){throw V},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,j=!0,L=!1;return{s:function(){k=k.call(s)},n:function(){var V=k.next();return j=V.done,V},e:function(V){L=!0,O=V},f:function(){try{j||k.return==null||k.return()}finally{if(L)throw O}}}}function R(s,u){(u==null||u>s.length)&&(u=s.length);for(var k=0,N=new Array(u);k<u;k++)N[k]=s[k];return N}var B=(0,F.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),M=function(s){return(0,fe.xU)(s)},I=function(s,u){return!s.find(function(k){return k.elements.length===u.elements.length&&k.elements.every(function(N,W){return N.id===u.elements[W].id&&N.versionNonce===u.elements[W].versionNonce})})},E=function(s,u){var k,N=[],W=U(u);try{for(W.s();!(k=W.n()).done;){var O=k.value;I(s,O)&&N.push(O)}}catch(j){W.e(j)}finally{W.f()}return[].concat(N,(0,T.Z)(s))},p=(0,d.Z)(function s(u){var k=this;(0,b.Z)(this,s),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return k.updateQueue[k.updateQueue.length-1]},this.notifyListeners=function(){if(k.updateQueue.length>0)_.e_.set(B,{status:"loading",libraryItems:k.lastLibraryItems,isInitialized:k.isInitialized});else{k.isInitialized=!0,_.e_.set(B,{status:"loaded",libraryItems:k.lastLibraryItems,isInitialized:k.isInitialized});try{var N,W;(N=(W=k.app.props).onLibraryChange)===null||N===void 0||N.call(W,M(k.lastLibraryItems))}catch(O){console.error(O)}}},this.destroy=function(){k.isInitialized=!1,k.updateQueue=[],k.lastLibraryItems=[],_.e_.set(ve.YX,new Map)},this.resetLibrary=function(){return k.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var N=(0,v.Z)(a().mark(function W(O){var j;return a().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,k.getLastUpdateTask()||k.lastLibraryItems;case 3:j=L.sent,k.updateQueue.length>0?O(k.getLatestLibrary()):O(M(j)),L.next=10;break;case 7:return L.prev=7,L.t0=L.catch(0),L.abrupt("return",O(k.lastLibraryItems));case 10:case"end":return L.stop()}},W,null,[[0,7]])}));return function(W){return N.apply(this,arguments)}}())},this.updateLibrary=function(){var N=(0,v.Z)(a().mark(function W(O){var j,L,V,ie,se,ue,pe,Q,ee;return a().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return j=O.libraryItems,L=O.prompt,V=L!==void 0&&L,ie=O.merge,se=ie!==void 0&&ie,ue=O.openLibraryMenu,pe=ue!==void 0&&ue,Q=O.defaultStatus,ee=Q===void 0?"unpublished":Q,pe&&k.app.setState({openSidebar:{name:he.Cc.name,tab:he.tf}}),me.abrupt("return",k.setLibrary(function(){return new Promise(function(){var Te=(0,v.Z)(a().mark(function Ue(qe,Ae){var Oe,Ie;return a().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.prev=0,Re.next=3,typeof j!="function"||j instanceof Blob?j:j(k.lastLibraryItems);case 3:if(!((Oe=Re.sent)instanceof Blob)){Re.next=10;break}return Re.next=7,(0,c.lV)(Oe,ee);case 7:Ie=Re.sent,Re.next=11;break;case 10:Ie=(0,Z.wJ)(Oe,ee);case 11:!V||window.confirm((0,G.t)("alerts.confirmAddLibrary",{numShapes:Ie.length}))?(V&&k.app.focusContainer(),qe(se?E(k.lastLibraryItems,Ie):Ie)):Ae(new x._L),Re.next=17;break;case 14:Re.prev=14,Re.t0=Re.catch(0),Ae(Re.t0);case 17:case"end":return Re.stop()}},Ue,null,[[0,14]])}));return function(Ue,qe){return Te.apply(this,arguments)}}())}));case 3:case"end":return me.stop()}},W)}));return function(W){return N.apply(this,arguments)}}(),this.setLibrary=function(N){var W=new Promise(function(){var O=(0,v.Z)(a().mark(function j(L,V){return a().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.prev=0,ie.next=3,k.getLastUpdateTask();case 3:return typeof N=="function"&&(N=N(k.lastLibraryItems)),ie.t0=M,ie.next=7,N;case 7:ie.t1=ie.sent,k.lastLibraryItems=(0,ie.t0)(ie.t1),L(k.lastLibraryItems),ie.next=15;break;case 12:ie.prev=12,ie.t2=ie.catch(0),V(ie.t2);case 15:case"end":return ie.stop()}},j,null,[[0,12]])}));return function(j,L){return O.apply(this,arguments)}}()).catch(function(O){if(O.name==="AbortError")return console.warn("Library update aborted by user"),k.lastLibraryItems;throw O}).finally(function(){k.updateQueue=k.updateQueue.filter(function(O){return O!==W}),k.notifyListeners()});return k.updateQueue.push(W),k.notifyListeners(),W},this.app=u});t.ZP=p;var r=function(s){var u,k=Math.ceil(Math.sqrt(s.length)),N=[],W=0,O=0,j=0,L=0,V=0,ie=0,se=0,ue=U(s);try{var pe=function(){var Q=u.value;V&&V%k==0&&(O+=j+50,W=0,ie=0,se++),ie===0&&(j=function(Ie){return s.slice(Ie*k,Ie*k+k).reduce(function(Re,ke){var xe=(0,h.v2)(ke.elements).height;return Math.max(Re,xe)},0)}(se)),L=function(Ie){var Re,ke=0,xe=0,ye=0,P=U(s);try{for(P.s();!(Re=P.n()).done;){var l=Re.value;if(ke%k==0&&(xe=0),xe===Ie){var f=(0,h.v2)(l.elements).width;ye=Math.max(ye,f)}ke++,xe++}}catch(D){P.e(D)}finally{P.f()}return ye}(ie);var ee=(0,h.v2)(Q.elements),me=ee.minX,Te=ee.minY,Ue=ee.width,qe=ee.height,Ae=(L-Ue)/2,Oe=(j-qe)/2;N.push.apply(N,(0,T.Z)(Q.elements.map(function(Ie){return q(q({},Ie),{},{x:Ie.x+W+Ae-me,y:Ie.y+O+Oe-Te})}))),W+=L+50,V++,ie++};for(ue.s();!(u=ue.n()).done;)pe()}catch(Q){ue.e(Q)}finally{ue.f()}return N},o=function(){var s=new URLSearchParams(window.location.hash.slice(1)).get(he.ah.addLibrary)||new URLSearchParams(window.location.search).get(he.UO.addLibrary),u=s?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return s?{libraryUrl:s,idToken:u}:null},g=function(s){var u=s.excalidrawAPI,k=s.getInitialLibraryItems,N=(0,le.useRef)(k);(0,le.useEffect)(function(){if(u){var W=function(){var L=(0,v.Z)(a().mark(function V(ie){var se,ue,pe,Q,ee,me;return a().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return se=ie.libraryUrl,ue=ie.idToken,pe=new Promise(function(){var Ue=(0,v.Z)(a().mark(function qe(Ae,Oe){var Ie,Re;return a().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.prev=0,ke.next=3,fetch(decodeURIComponent(se));case 3:return Ie=ke.sent,ke.next=6,Ie.blob();case 6:Re=ke.sent,Ae(Re),ke.next=13;break;case 10:ke.prev=10,ke.t0=ke.catch(0),Oe(ke.t0);case 13:case"end":return ke.stop()}},qe,null,[[0,10]])}));return function(qe,Ae){return Ue.apply(this,arguments)}}()),Q=ue!==u.id,Te.next=5,Q&&document.hidden?new Promise(function(Ue){window.addEventListener("focus",function(){return Ue()},{once:!0})}):null;case 5:return Te.prev=5,Te.next=8,u.updateLibrary({libraryItems:pe,prompt:Q,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:Te.next=13;break;case 10:throw Te.prev=10,Te.t0=Te.catch(5),Te.t0;case 13:return Te.prev=13,window.location.hash.includes(he.ah.addLibrary)?((ee=new URLSearchParams(window.location.hash.slice(1))).delete(he.ah.addLibrary),window.history.replaceState({},he.iC,"#".concat(ee.toString()))):window.location.search.includes(he.UO.addLibrary)&&((me=new URLSearchParams(window.location.search)).delete(he.UO.addLibrary),window.history.replaceState({},he.iC,"?".concat(me.toString()))),Te.finish(13);case 16:case"end":return Te.stop()}},V,null,[[5,10,13,16]])}));return function(V){return L.apply(this,arguments)}}(),O=function(L){L.preventDefault();var V=o();V&&(L.stopImmediatePropagation(),window.history.replaceState({},"",L.oldURL),W(V))};N.current&&u.updateLibrary({libraryItems:N.current()});var j=o();return j&&W(j),window.addEventListener(he.Ks.HASHCHANGE,O),function(){window.removeEventListener(he.Ks.HASHCHANGE,O)}}},[u])}},7994:function(te,t,e){e.d(t,{ET:function(){return M},lY:function(){return p},nu:function(){return r},wJ:function(){return g}});var w=e(2577),v=e(7169),d=e(7651),b=e(4183),T=e(4643),S=e(9937),a=e(6853),c=e(7422),Z=e(583),F=e(9827),_=e(4761),h=e(8020);function x(s,u){var k=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!k){if(Array.isArray(s)||(k=function(V,ie){if(V){if(typeof V=="string")return G(V,ie);var se=Object.prototype.toString.call(V).slice(8,-1);if(se==="Object"&&V.constructor&&(se=V.constructor.name),se==="Map"||se==="Set")return Array.from(V);if(se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return G(V,ie)}}(s))||u){k&&(s=k);var N=0,W=function(){};return{s:W,n:function(){return N>=s.length?{done:!0}:{done:!1,value:s[N++]}},e:function(V){throw V},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,j=!0,L=!1;return{s:function(){k=k.call(s)},n:function(){var V=k.next();return j=V.done,V},e:function(V){L=!0,O=V},f:function(){try{j||k.return==null||k.return()}finally{if(L)throw O}}}}function G(s,u){(u==null||u>s.length)&&(u=s.length);for(var k=0,N=new Array(u);k<u;k++)N[k]=s[k];return N}function le(s,u){var k=Object.keys(s);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(s);u&&(N=N.filter(function(W){return Object.getOwnPropertyDescriptor(s,W).enumerable})),k.push.apply(k,N)}return k}function he(s){for(var u=1;u<arguments.length;u++){var k=arguments[u]!=null?arguments[u]:{};u%2?le(Object(k),!0).forEach(function(N){(0,v.Z)(s,N,k[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(k)):le(Object(k)).forEach(function(N){Object.defineProperty(s,N,Object.getOwnPropertyDescriptor(k,N))})}return s}var ve={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1},fe=function(s){return Object.keys(S.ut).includes(s)?S.ut[s]:S.rk},X=function(s){return s?he(he({},s),{},{focus:s.focus||0}):null},q=function(s,u){var k,N,W,O,j,L,V,ie,se,ue,pe,Q,ee,me,Te={type:u.type||s.type,version:s.version||1,versionNonce:(k=s.versionNonce)!==null&&k!==void 0?k:0,isDeleted:(N=s.isDeleted)!==null&&N!==void 0&&N,id:s.id||(0,T.kb)(),fillStyle:s.fillStyle||S.HN.fillStyle,strokeWidth:s.strokeWidth||S.HN.strokeWidth,strokeStyle:(W=s.strokeStyle)!==null&&W!==void 0?W:S.HN.strokeStyle,roughness:(O=s.roughness)!==null&&O!==void 0?O:S.HN.roughness,opacity:s.opacity==null?S.HN.opacity:s.opacity,angle:s.angle||0,x:(j=(L=u.x)!==null&&L!==void 0?L:s.x)!==null&&j!==void 0?j:0,y:(V=(ie=u.y)!==null&&ie!==void 0?ie:s.y)!==null&&V!==void 0?V:0,strokeColor:s.strokeColor||S.HN.strokeColor,backgroundColor:s.backgroundColor||S.HN.backgroundColor,width:s.width||0,height:s.height||0,seed:(se=s.seed)!==null&&se!==void 0?se:1,groupIds:(ue=s.groupIds)!==null&&ue!==void 0?ue:[],frameId:(pe=s.frameId)!==null&&pe!==void 0?pe:null,roundness:s.roundness?s.roundness:s.strokeSharpness==="round"?{type:(0,b.QI)(s.type)?S.a6.LEGACY:S.a6.PROPORTIONAL_RADIUS}:null,boundElements:s.boundElementIds?s.boundElementIds.map(function(Ue){return{type:"arrow",id:Ue}}):(Q=s.boundElements)!==null&&Q!==void 0?Q:[],updated:(ee=s.updated)!==null&&ee!==void 0?ee:(0,F.C3)(),link:s.link?(0,h.$u)(s.link):null,locked:(me=s.locked)!==null&&me!==void 0&&me};return"customData"in s&&(Te.customData=s.customData),S.WR in s&&(Te[S.WR]=s[S.WR]),he(he(he({},Te),(0,d.Qp)(Te)),u)},U=function(s,u){if(s.boundElements){var k=s.boundElements.slice(),N=new Set;s.boundElements=k.reduce(function(W,O){var j=u.get(O.id);if(j&&!N.has(O.id)){if(N.add(O.id),j.isDeleted)return W;W.push(O),(0,b.iB)(j)&&!j.containerId&&(j.containerId=s.id)}return W},[])}},R=function(s,u){var k=s.containerId?u.get(s.containerId):null;if(k){if(!s.isDeleted&&k.boundElements&&!k.boundElements.find(function(W){return W.id===s.id})){var N=(k.boundElements||(k.boundElements=[])).slice();N.push({type:"text",id:s.id}),k.boundElements=N}}else s.containerId=null},B=function(s,u){s.frameId&&(u.get(s.frameId)||(s.frameId=null))},M=function(s,u,k){var N=new Set,W=u?(0,F.xn)(u):null,O=(s||[]).reduce(function(se,ue){if(ue.type!=="selection"&&!(0,d.QD)(ue)){var pe=function(ee){var me,Te,Ue=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(ee.type){case"text":var qe=ee.fontSize,Ae=ee.fontFamily;if("font"in ee){var Oe=ee.font.split(" "),Ie=(0,w.Z)(Oe,2),Re=Ie[0],ke=Ie[1];qe=parseFloat(Re),Ae=fe(ke)}var xe=typeof ee.text=="string"&&ee.text||"",ye=ee.lineHeight||(ee.height?(0,_.$2)(ee):(0,_.PT)(ee.fontFamily)),P=(0,_.R8)(ee.text,(0,F.mO)(ee),ye);return ee=q(ee,{fontSize:qe,fontFamily:Ae,text:xe,textAlign:ee.textAlign||S.Hg,verticalAlign:ee.verticalAlign||S.hs,containerId:(me=ee.containerId)!==null&&me!==void 0?me:null,originalText:ee.originalText||xe,lineHeight:ye,baseline:P}),xe||ee.isDeleted||(ee=he(he({},ee),{},{originalText:xe,isDeleted:!0}),ee=(0,Z.ZP)(ee)),Ue&&(ee=he(he({},ee),(0,d.JZ)(ee))),ee;case"freedraw":return q(ee,{points:ee.points,lastCommittedPoint:null,simulatePressure:ee.simulatePressure,pressures:ee.pressures});case"image":return q(ee,{status:ee.status||"pending",fileId:ee.fileId,scale:ee.scale||[1,1]});case"line":case"draw":case"arrow":var l=ee,f=l.startArrowhead,D=f===void 0?null:f,H=l.endArrowhead,J=H===void 0?ee.type==="arrow"?"arrow":null:H,re=ee.x,ae=ee.y,ge=!Array.isArray(ee.points)||ee.points.length<2?[[0,0],[ee.width,ee.height]]:ee.points;if(ge[0][0]!==0||ge[0][1]!==0){var _e=c._.getNormalizedPoints(ee);ge=_e.points,re=_e.x,ae=_e.y}return q(ee,{type:ee.type==="draw"?"line":ee.type,startBinding:X(ee.startBinding),endBinding:X(ee.endBinding),lastCommittedPoint:null,startArrowhead:D,endArrowhead:J,points:ge,x:re,y:ae});case"ellipse":case"rectangle":case"diamond":return q(ee,{});case"embeddable":return q(ee,{validated:null});case"frame":return q(ee,{name:(Te=ee.name)!==null&&Te!==void 0?Te:null})}return null}(ue,k?.refreshDimensions);if(pe){var Q=W?.get(ue.id);Q&&Q.version>pe.version&&(pe=(0,Z.ZP)(pe,Q.version)),N.has(pe.id)&&(pe=he(he({},pe),{},{id:(0,T.kb)()})),N.add(pe.id),se.push(pe)}}return se},[]);if(k==null||!k.repairBindings)return O;var j,L=(0,F.xn)(O),V=x(O);try{for(V.s();!(j=V.n()).done;){var ie=j.value;ie.frameId&&B(ie,L),(0,b.iB)(ie)&&ie.containerId?R(ie,L):ie.boundElements&&U(ie,L)}}catch(se){V.e(se)}finally{V.f()}return O},I=function(s,u,k){var N=u[s];return N!==void 0?N:k[s]},E={isSidebarDocked:function(s,u){var k;return["defaultSidebarDockedPreference",(k=s.isSidebarDocked)!==null&&k!==void 0?k:I("defaultSidebarDockedPreference",s,u)]}},p=function(s,u){var k,N,W,O;s=s||{};for(var j=(0,a.im)(),L={},V=0,ie=Object.keys(E);V<ie.length;V++){var se=ie[V];if(se in s){var ue=E[se](s,j),pe=(0,w.Z)(ue,2),Q=pe[0],ee=pe[1];L[Q]=ee}}for(var me=0,Te=Object.entries(j);me<Te.length;me++){var Ue=(0,w.Z)(Te[me],2),qe=Ue[0],Ae=Ue[1],Oe=s[qe],Ie=u?u[qe]:void 0;L[qe]=Oe!==void 0?Oe:Ie!==void 0?Ie:Ae}return he(he({},L),{},{cursorButton:u?.cursorButton||"up",penDetected:(k=u?.penDetected)!==null&&k!==void 0?k:!!s.penMode&&(N=s.penDetected)!==null&&N!==void 0&&N,activeTool:he(he({},(0,F.Om)(j,L.activeTool.type&&ve[L.activeTool.type]?L.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(W=L.activeTool.locked)!==null&&W!==void 0&&W}),zoom:typeof s.zoom=="number"?{value:s.zoom}:(O=s.zoom)!==null&&O!==void 0&&O.value?s.zoom:j.zoom,openSidebar:typeof s.openSidebar=="string"?{name:S.Cc.name}:L.openSidebar})},r=function(s,u,k,N){return{elements:M(s?.elements,k,N),appState:p(s?.appState,u||null),files:s?.files||{}}},o=function(s){var u=M((0,d.Lm)(s.elements),null);return u.length?he(he({},s),{},{elements:u}):null},g=function(){var s,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],k=arguments.length>1?arguments[1]:void 0,N=[],W=x(u);try{for(W.s();!(s=W.n()).done;){var O=s.value;if(Array.isArray(O)){var j=o({status:k,elements:O,id:(0,T.kb)(),created:Date.now()});j&&N.push(j)}else{var L=O,V=o(he(he({},L),{},{id:L.id||(0,T.kb)(),status:L.status||k,created:L.created||Date.now()}));V&&N.push(V)}}}catch(ie){W.e(ie)}finally{W.f()}return N}},6199:function(te,t,e){e.d(t,{w:function(){return B}});var w=e(2577),v=e(5169),d=e(8821),b=e(7169),T=e(9937),S=e(7651),a=e(9645),c=e(5742),Z=e(4761),F=e(9827),_=e(5999),h=e(4643);function x(M,I){var E=typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!E){if(Array.isArray(M)||(E=function(u,k){if(u){if(typeof u=="string")return G(u,k);var N=Object.prototype.toString.call(u).slice(8,-1);if(N==="Object"&&u.constructor&&(N=u.constructor.name),N==="Map"||N==="Set")return Array.from(u);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return G(u,k)}}(M))||I){E&&(M=E);var p=0,r=function(){};return{s:r,n:function(){return p>=M.length?{done:!0}:{done:!1,value:M[p++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,g=!0,s=!1;return{s:function(){E=E.call(M)},n:function(){var u=E.next();return g=u.done,u},e:function(u){s=!0,o=u},f:function(){try{g||E.return==null||E.return()}finally{if(s)throw o}}}}function G(M,I){(I==null||I>M.length)&&(I=M.length);for(var E=0,p=new Array(I);E<I;E++)p[E]=M[E];return p}function le(M,I){var E=Object.keys(M);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(M);I&&(p=p.filter(function(r){return Object.getOwnPropertyDescriptor(M,r).enumerable})),E.push.apply(E,p)}return E}function he(M){for(var I=1;I<arguments.length;I++){var E=arguments[I]!=null?arguments[I]:{};I%2?le(Object(E),!0).forEach(function(p){(0,b.Z)(M,p,E[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(E)):le(Object(E)).forEach(function(p){Object.defineProperty(M,p,Object.getOwnPropertyDescriptor(E,p))})}return M}var ve=100,fe=0,X=100,q=function(M,I){var E=(0,c.VL)(he(he({x:0,y:0,textAlign:T.I8.CENTER,verticalAlign:T.oX.MIDDLE},I),{},{containerId:M.id,strokeColor:I.strokeColor||M.strokeColor}));return Object.assign(M,{boundElements:(M.boundElements||[]).concat({type:"text",id:E.id})}),(0,S.oN)(E,M),[M,E]},U=function(M,I,E,p){var r,o;if(Object.assign(M,{startBinding:M?.startBinding||null,endBinding:M.endBinding||null}),I){var g,s,u,k=(g=I?.width)!==null&&g!==void 0?g:X,N=(s=I?.height)!==null&&s!==void 0?s:X;I.id&&((u=p.getElement(I.id))||console.error("No element for start binding with id ".concat(I.id," found")));var W=I.x||M.x-k,O=I.y||M.y-N/2,j=u?u.type:I.type;if(j){if(j==="text"){var L="";u&&u.type==="text"?L=u.text:I.type==="text"&&(L=I.text),L||console.error("No text found for start binding text element for ".concat(M.id)),r=(0,c.VL)(he(he(he({x:W,y:O,type:"text"},u),I),{},{text:L})),Object.assign(r,{x:I.x||M.x-r.width,y:I.y||M.y-r.height/2})}else switch(j){case"rectangle":case"ellipse":case"diamond":r=(0,S.Up)(he(he(he({x:W,y:O,width:k,height:N},u),I),{},{type:j}));break;default:(0,F.vE)(M,'Unhandled element start type "'.concat(I.type,'"'),!0)}(0,a.UZ)(M,r,"start")}}if(E){var V,ie,se,ue=(V=E?.height)!==null&&V!==void 0?V:X,pe=(ie=E?.width)!==null&&ie!==void 0?ie:X;E.id&&((se=p.getElement(E.id))||console.error("No element for end binding with id ".concat(E.id," found")));var Q=E.x||M.x+M.width,ee=E.y||M.y-ue/2,me=se?se.type:E.type;if(me){if(me==="text"){var Te="";se&&se.type==="text"?Te=se.text:E.type==="text"&&(Te=E.text),Te||console.error("No text found for end binding text element for ".concat(M.id)),o=(0,c.VL)(he(he(he({x:Q,y:ee,type:"text"},se),E),{},{text:Te})),Object.assign(o,{y:E.y||M.y-o.height/2})}else switch(me){case"rectangle":case"ellipse":case"diamond":o=(0,S.Up)(he(he(he({x:Q,y:ee,width:pe,height:ue},se),E),{},{type:me}));break;default:(0,F.vE)(M,'Unhandled element end type "'.concat(me,'"'),!0)}(0,a.UZ)(M,o,"end")}}var Ue=M.points.length-1,qe=.5,Ae=(0,F.xU)(M.points);return M.points[Ue][0]>M.points[Ue-1][0]&&(Ae[0][0]=qe,Ae[Ue][0]-=qe),M.points[Ue][0]<M.points[Ue-1][0]&&(Ae[0][0]=-.5,Ae[Ue][0]+=qe),M.points[Ue][1]>M.points[Ue-1][1]&&(Ae[0][1]=qe,Ae[Ue][1]-=qe),M.points[Ue][1]<M.points[Ue-1][1]&&(Ae[0][1]=-.5,Ae[Ue][1]+=qe),Object.assign(M,{points:Ae}),{linearElement:M,startBoundElement:r,endBoundElement:o}},R=(0,v.Z)(function M(){var I=this;(0,d.Z)(this,M),this.excalidrawElements=new Map,this.add=function(E){E&&I.excalidrawElements.set(E.id,E)},this.getElements=function(){return Array.from(I.excalidrawElements.values())},this.getElement=function(E){return I.excalidrawElements.get(E)}}),B=function(M,I){if(!M)return[];var E,p=(0,F.xU)(M),r=new R,o=new Map,g=new Map,s=x(p);try{for(s.s();!(E=s.n()).done;){var u=E.value,k=void 0,N=u.id;switch(I?.regenerateIds!==!1&&Object.assign(u,{id:(0,h.kb)()}),u.type){case"rectangle":case"ellipse":case"diamond":var W,O,j=u!=null&&(W=u.label)!==null&&W!==void 0&&W.text&&u.width===void 0?0:u?.width||X,L=u!=null&&(O=u.label)!==null&&O!==void 0&&O.text&&u.height===void 0?0:u?.height||X;k=(0,S.Up)(he(he({},u),{},{width:j,height:L}));break;case"line":var V=u.width||ve,ie=u.height||fe;k=(0,S.y8)(he({width:V,height:ie,points:[[0,0],[V,ie]]},u));break;case"arrow":var se=u.width||ve,ue=u.height||fe;k=(0,S.y8)(he({width:se,height:ue,endArrowhead:"arrow",points:[[0,0],[se,ue]]},u)),Object.assign(k,(0,_.k)(k.points));break;case"text":var pe,Q=u?.fontFamily||T.rk,ee=u?.fontSize||T.n5,me=u?.lineHeight||(0,Z.PT)(Q),Te=(pe=u.text)!==null&&pe!==void 0?pe:"",Ue=(0,Z.bG)(Te),qe=(0,Z.X1)(Ue,(0,F.mO)({fontFamily:Q,fontSize:ee}),me);k=(0,c.VL)(he({width:qe.width,height:qe.height,fontFamily:Q,fontSize:ee},u));break;case"image":k=(0,c.vw)(he({width:u?.width||X,height:u?.height||X},u));break;case"frame":k=(0,c.M3)(he({x:0,y:0},u));break;case"freedraw":case"embeddable":k=u;break;default:k=u,(0,F.vE)(u,'Unhandled element type "'.concat(u.type,'"'),!0)}r.getElement(k.id)?console.error("Duplicate id found for ".concat(k.id)):(r.add(k),o.set(k.id,u),N&&g.set(N,k.id))}}catch(wt){s.e(wt)}finally{s.f()}var Ae,Oe=x(o);try{for(Oe.s();!(Ae=Oe.n()).done;){var Ie=(0,w.Z)(Ae.value,2),Re=Ie[0],ke=Ie[1],xe=r.getElement(Re);switch(ke.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var ye;if((ye=ke.label)!==null&&ye!==void 0&&ye.text){var P=q(xe,ke?.label),l=(0,w.Z)(P,2),f=l[0],D=l[1];if(r.add(f),r.add(D),f.type==="arrow"){var H=ke.type==="arrow"?ke?.start:void 0,J=ke.type==="arrow"?ke?.end:void 0;if(H&&H.id){var re=g.get(H.id);re&&Object.assign(H,{id:re})}if(J&&J.id){var ae=g.get(J.id);ae&&Object.assign(J,{id:ae})}var ge=U(f,H,J,r),_e=ge.linearElement,ze=ge.startBoundElement,Je=ge.endBoundElement;f=_e,r.add(_e),r.add(ze),r.add(Je)}}else if(ke.type==="arrow"){var et=ke.start,Ke=ke.end;if(et&&et.id){var tt=g.get(et.id);Object.assign(et,{id:tt})}if(Ke&&Ke.id){var ut=g.get(Ke.id);Object.assign(Ke,{id:ut})}var ht=U(xe,et,Ke,r),He=ht.linearElement,Ee=ht.startBoundElement,Le=ht.endBoundElement;r.add(He),r.add(Ee),r.add(Le)}}}}catch(wt){Oe.e(wt)}finally{Oe.f()}var Qe,ct=x(o);try{var bt=function(){var wt=(0,w.Z)(Qe.value,2),zt=wt[0],Mt=wt[1];if(Mt.type!=="frame")return"continue";var Zt=r.getElement(zt);if(!Zt)throw new Error("Excalidraw element with id ".concat(zt," doesn't exist"));var sn=[];Mt.children.forEach(function(Wt){var Kt,an=g.get(Wt);if(!an)throw new Error("Element with ".concat(Wt," wasn't mapped correctly"));var bn=r.getElement(an);if(!bn)throw new Error("Frame element with id ".concat(an," doesn't exist"));Object.assign(bn,{frameId:Zt.id}),bn==null||(Kt=bn.boundElements)===null||Kt===void 0||Kt.forEach(function(hn){var An=r.getElement(hn.id);if(!An)throw new Error("Bound element with id ".concat(hn.id," doesn't exist"));Object.assign(An,{frameId:Zt.id}),sn.push(An)}),sn.push(bn)});var rn=(0,S.KP)(sn),Xt=(0,w.Z)(rn,4),on=Xt[0],jn=Xt[1],It=Xt[2],kt=Xt[3];on-=10,jn-=10,It+=10,kt+=10;var Ht=Math.max(Zt?.width,It-on),At=Math.max(Zt?.height,kt-jn);Object.assign(Zt,{x:on,y:jn,width:Ht,height:At})};for(ct.s();!(Qe=ct.n()).done;)bt()}catch(wt){ct.e(wt)}finally{ct.f()}return r.getElements()}},8020:function(te,t,e){e.d(t,{$u:function(){return d},q$:function(){return b},tO:function(){return v},ye:function(){return T}});var w=e(5779),v=function(S){return S.replace(/"/g,"&quot;")},d=function(S){return(S=S.trim())?(0,w.N)(v(S)):S},b=function(S){return!!(S!=null&&S.includes(location.origin)||S!=null&&S.startsWith("/"))},T=function(S){if((S=d(S)).startsWith("/"))return"".concat(location.origin).concat(S);try{new URL(S)}catch{return"about:blank"}return S}},5992:function(te,t,e){e.d(t,{rj:function(){return ue},nW:function(){return ee},nz:function(){return Te},sw:function(){return qe},lV:function(){return xe},Ni:function(){return Oe},wq:function(){return Ae},Pp:function(){return Re}});var w=e(7169),v=e(2577),d=e(9827),b=e(761),T=e(583),S=e(2767),a=e(1512),c=e(8935),Z=e(8227),F=e(9787),_=e(45),h=e(5491),x=e(9660),G=e(2361),le=e(9937),he=e(8925),ve=e(4105),fe=e(3528),X=e(7651),q=e(8020),U=e(3379),R=e.n(U),B=e(7795),M=e.n(B),I=e(569),E=e.n(I),p=e(3565),r=e.n(p),o=e(9216),g=e.n(o),s=e(4589),u=e.n(s),k=e(5260),N={};N.styleTagTransform=u(),N.setAttributes=r(),N.insert=E().bind(null,"head"),N.domAPI=M(),N.insertStyleElement=g(),R()(k.Z,N),k.Z&&k.Z.locals&&k.Z.locals;var W=e(3646),O=e(8242),j=e(4183),L=e(2921),V=e(1020);function ie(P,l){var f=Object.keys(P);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(P);l&&(D=D.filter(function(H){return Object.getOwnPropertyDescriptor(P,H).enumerable})),f.push.apply(f,D)}return f}function se(P){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?ie(Object(f),!0).forEach(function(D){(0,w.Z)(P,D,f[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(f)):ie(Object(f)).forEach(function(D){Object.defineProperty(P,D,Object.getOwnPropertyDescriptor(f,D))})}return P}var ue=document.createElement("img");ue.src="data:".concat(le.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var pe=!1,Q=new Map,ee=function(P){var l=P.element,f=P.setAppState,D=P.onLinkOpen,H=P.setToast,J=(0,O.gF)(),re=(0,O.hY)(),ae=l.link||"",ge=(0,F.useState)(ae),_e=(0,v.Z)(ge,2),ze=_e[0],Je=_e[1],et=(0,F.useRef)(null),Ke=J.showHyperlinkPopup==="editor",tt=(0,F.useCallback)(function(){if(et.current){var Le=(0,q.$u)(et.current.value)||null;if(!l.link&&Le&&(0,W.L)("hyperlink","create"),(0,j.gs)(l)){var Qe;if(((Qe=J.activeEmbeddable)===null||Qe===void 0?void 0:Qe.element)===l&&f({activeEmbeddable:null}),!Le)return void(0,T.DR)(l,{validated:!1,link:null});if((0,b.xm)(Le,re.validateEmbeddable)){var ct=l.width,bt=l.height,wt=(0,b.LM)(Le);wt!=null&&wt.warning&&H({message:wt.warning,closable:!0});var zt=wt?wt.aspectRatio.w/wt.aspectRatio.h:1,Mt=Q.get(l.id)!==l.link;(0,T.DR)(l,se(se({},Mt?{width:wt?.type==="video"?ct>bt?ct:bt*zt:ct,height:wt?.type==="video"&&ct>bt?ct/zt:bt}:{}),{},{validated:!0,link:Le})),L.R.delete(l),Q.has(l.id)&&Q.delete(l.id)}else Le&&H({message:(0,Z.t)("toast.unableToEmbed"),closable:!0}),l.link&&Q.set(l.id,l.link),(0,T.DR)(l,{validated:!1,link:Le}),L.R.delete(l)}else(0,T.DR)(l,{link:Le})}},[l,H,re.validateEmbeddable,J.activeEmbeddable,f]);(0,F.useLayoutEffect)(function(){return function(){tt()}},[tt]),(0,F.useEffect)(function(){var Le=null,Qe=function(ct){Ke||(Le&&clearTimeout(Le),ye(l,J,[ct.clientX,ct.clientY])&&(Le=window.setTimeout(function(){f({showHyperlinkPopup:!1})},500)))};return window.addEventListener(le.Ks.POINTER_MOVE,Qe,!1),function(){window.removeEventListener(le.Ks.POINTER_MOVE,Qe,!1),Le&&clearTimeout(Le)}},[J,l,Ke,f]);var ut=(0,F.useCallback)(function(){(0,W.L)("hyperlink","delete"),(0,T.DR)(l,{link:null}),Ke&&(et.current.value=""),f({showHyperlinkPopup:!1})},[f,l,Ke]),ht=me(l,J),He=ht.x,Ee=ht.y;return J.draggingElement||J.resizingElement||J.isRotating||J.openMenu||J.viewModeEnabled?null:(0,V.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(Ee,"px"),left:"".concat(He,"px"),width:320,padding:5},onClick:function(){l.link||Ke||f({showHyperlinkPopup:"editor"})},children:[Ke?(0,V.jsx)("input",{className:(0,_.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:et,value:ze,onChange:function(Le){return Je(Le.target.value)},autoFocus:!0,onKeyDown:function(Le){Le.stopPropagation(),Le[h.tW.CTRL_OR_CMD]&&Le.key===h.tW.K&&Le.preventDefault(),Le.key!==h.tW.ENTER&&Le.key!==h.tW.ESCAPE||(tt(),f({showHyperlinkPopup:"info"}))}}):l.link?(0,V.jsx)("a",{href:(0,q.$u)(l.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,q.q$)(l.link)?"_self":"_blank",onClick:function(Le){if(l.link&&D){var Qe=(0,d.ag)(le.Ks.EXCALIDRAW_LINK,Le.nativeEvent);D(se(se({},l),{},{link:(0,q.$u)(l.link)}),Qe),Qe.defaultPrevented&&Le.preventDefault()}},rel:"noopener noreferrer",children:l.link}):(0,V.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:(0,Z.t)("labels.link.empty")}),(0,V.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!Ke&&(0,V.jsx)(a.V,{type:"button",title:(0,Z.t)("buttons.edit"),"aria-label":(0,Z.t)("buttons.edit"),label:(0,Z.t)("buttons.edit"),onClick:function(){(0,W.L)("hyperlink","edit","popup-ui"),f({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:c.Pm}),ae&&!(0,j.gs)(l)&&(0,V.jsx)(a.V,{type:"button",title:(0,Z.t)("buttons.remove"),"aria-label":(0,Z.t)("buttons.remove"),label:(0,Z.t)("buttons.remove"),onClick:ut,className:"excalidraw-hyperlinkContainer--remove",icon:c.XH})]})]})},me=function(P,l){var f=(0,X.qf)(P),D=(0,v.Z)(f,2),H=D[0],J=D[1],re=(0,d._i)({sceneX:H+P.width/2,sceneY:J},l),ae=re.x,ge=re.y;return{x:ae-l.offsetLeft-160,y:ge-l.offsetTop-85}},Te=(0,S.z)({name:"hyperlink",perform:function(P,l){return l.showHyperlinkPopup!=="editor"&&{elements:P,appState:se(se({},l),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(P){return P[h.tW.CTRL_OR_CMD]&&P.key===h.tW.K},contextItemLabel:function(P,l){return Ue(P,l)},predicate:function(P,l){return(0,ve.eD)(P,l).length===1},PanelComponent:function(P){var l=P.elements,f=P.appState,D=P.updateData,H=(0,ve.eD)(l,f);return(0,V.jsx)(a.V,{type:"button",icon:c.xP,"aria-label":(0,Z.t)(Ue(l,f)),title:"".concat((0,j.gs)(l[0])?(0,Z.t)("labels.link.labelEmbed"):(0,Z.t)("labels.link.label")," - ").concat((0,d.uY)("CtrlOrCmd+K")),onClick:function(){return D(null)},selected:H.length===1&&!!H[0].link})}}),Ue=function(P,l){var f=(0,ve.eD)(P,l);return f[0].link?(0,j.gs)(f[0])?"labels.link.editEmbed":"labels.link.edit":(0,j.gs)(f[0])?"labels.link.createEmbed":"labels.link.create"},qe=function(P,l,f){var D=(0,v.Z)(P,4),H=D[0],J=D[1],re=D[2],ae=D[3],ge=x.Dn,_e=ge/f.zoom.value,ze=ge/f.zoom.value,Je=ge/f.zoom.value,et=(H+re)/2,Ke=(J+ae)/2,tt=(ge-8)/(2*f.zoom.value),ut=4/f.zoom.value,ht=re+ut-tt,He=J-ut-Je+tt,Ee=(0,G.U1)(ht+_e/2,He+ze/2,et,Ke,l),Le=(0,v.Z)(Ee,2);return[Le[0]-_e/2,Le[1]-ze/2,_e,ze]},Ae=function(P,l,f){var D=(0,v.Z)(f,2),H=D[0],J=D[1],re=4/l.zoom.value,ae=(0,X.qf)(P),ge=(0,v.Z)(ae,4),_e=ge[0],ze=ge[1],Je=ge[2],et=ge[3],Ke=qe([_e,ze,Je,et],P.angle,l),tt=(0,v.Z)(Ke,4),ut=tt[0],ht=tt[1],He=tt[2],Ee=tt[3];return H>ut-re&&H<ut+re+He&&J>ht-re&&J<ht+Ee+re},Oe=function(P,l,f,D){var H=(0,v.Z)(f,2),J=H[0],re=H[1];if(!P.link||l.selectedElementIds[P.id])return!1;var ae=4/l.zoom.value;return!(D||!l.viewModeEnabled||!(0,fe.pX)(P,[J,re],ae,null))||Ae(P,l,[J,re])},Ie=null,Re=function(P,l){Ie&&clearTimeout(Ie),Ie=window.setTimeout(function(){return ke(P,l)},le.sA)},ke=function(P,l){if(P.link){var f=(0,he.bK)();f.classList.add("excalidraw-tooltip--visible"),f.style.maxWidth="20rem",f.textContent=P.link;var D=(0,X.qf)(P),H=(0,v.Z)(D,4),J=H[0],re=H[1],ae=H[2],ge=H[3],_e=qe([J,re,ae,ge],P.angle,l),ze=(0,v.Z)(_e,4),Je=ze[0],et=ze[1],Ke=ze[2],tt=ze[3],ut=(0,d._i)({sceneX:Je,sceneY:et},l);(0,he.Js)(f,{left:ut.x,top:ut.y,width:Ke,height:tt},"top"),(0,W.L)("hyperlink","tooltip","link-icon"),pe=!0}},xe=function(){Ie&&clearTimeout(Ie),pe&&(pe=!1,(0,he.bK)().classList.remove("excalidraw-tooltip--visible"))},ye=function(P,l,f){var D=(0,v.Z)(f,2),H=D[0],J=D[1],re=(0,d.dE)({clientX:H,clientY:J},l),ae=re.x,ge=re.y,_e=15/l.zoom.value;if((0,fe.pX)(P,[ae,ge],_e,null))return!1;var ze=(0,X.qf)(P),Je=(0,v.Z)(ze,3),et=Je[0],Ke=Je[1],tt=Je[2];if(ae>=et&&ae<=tt&&ge>=Ke-85&&ge<=Ke)return!1;var ut=me(P,l),ht=ut.x,He=ut.y;return!(H>=ht-_e&&H<=ht+320+10+_e&&J>=He-_e&&J<=He+_e+10+42)}},9645:function(te,t,e){e.d(t,{$q:function(){return se},DK:function(){return B},H:function(){return M},HG:function(){return he},N1:function(){return G},R:function(){return q},UZ:function(){return U},Ww:function(){return r},Y9:function(){return E},ZB:function(){return k},cz:function(){return x},ek:function(){return V},el:function(){return fe}});var w=e(7169),v=e(2577),d=e(4105),b=e(4183),T=e(3528),S=e(583),a=e(457),c=e(7422),Z=e(9827),F=e(5491),_=e(4761);function h(Q,ee){var me=Object.keys(Q);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(Q);ee&&(Te=Te.filter(function(Ue){return Object.getOwnPropertyDescriptor(Q,Ue).enumerable})),me.push.apply(me,Te)}return me}var x=function(Q){return!Q[F.tW.CTRL_OR_CMD]},G=function(Q){return Q.isBindingEnabled},le=function(Q,ee){var me=[];return ee.forEach(function(Te){var Ue=Q.getNonDeletedElement(Te);Ue!=null&&me.push(Ue)}),me},he=function(Q,ee,me){var Te=new Set,Ue=new Set;ve(Q,ee,me,"start",Te,Ue),ve(Q,me,ee,"end",Te,Ue);var qe=Array.from(Ue).filter(function(Ae){return!Te.has(Ae)});le(a.Z.getScene(Q),qe).forEach(function(Ae){var Oe;(0,S.DR)(Ae,{boundElements:(Oe=Ae.boundElements)===null||Oe===void 0?void 0:Oe.filter(function(Ie){return Ie.type!=="arrow"||Ie.id!==Q.id})})})},ve=function(Q,ee,me,Te,Ue,qe){if(ee!=="keep")if(ee!=null)me!=null&&(me==="keep"?R(Q,ee,Te):Te!=="start"&&me.id===ee.id)||(U(Q,ee,Te),Ue.add(ee.id));else{var Ae=I(Q,Te);Ae!=null&&qe.add(Ae)}},fe=function(Q){Q.forEach(function(ee){(0,b.Mn)(ee)?he(ee,W(ee,"start"),W(ee,"end")):(0,b.f0)(ee)&&X(ee)})},X=function(Q){j(Q).forEach(function(ee){var me=(0,v.Z)(ee,2),Te=me[0],Ue=me[1];return he(Te,Ue==="end"?"keep":Q,Ue==="start"?"keep":Q)})},q=function(Q,ee,me,Te){ee.startBoundElement!=null&&U(Q,ee.startBoundElement,"start");var Ue=E(Te,me);Ue==null||R(Q,Ue,"end")||U(Q,Ue,"end")},U=function(Q,ee,me){(0,S.DR)(Q,(0,w.Z)({},me==="start"?"startBinding":"endBinding",function(Te){for(var Ue=1;Ue<arguments.length;Ue++){var qe=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?h(Object(qe),!0).forEach(function(Ae){(0,w.Z)(Te,Ae,qe[Ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(qe)):h(Object(qe)).forEach(function(Ae){Object.defineProperty(Te,Ae,Object.getOwnPropertyDescriptor(qe,Ae))})}return Te}({elementId:ee.id},p(Q,ee,me)))),(0,Z.xn)(ee.boundElements||[]).has(Q.id)||(0,S.DR)(ee,{boundElements:(ee.boundElements||[]).concat({id:Q.id,type:"arrow"})})},R=function(Q,ee,me){var Te=Q[me==="start"?"endBinding":"startBinding"];return B(Q,Te?.elementId,ee)},B=function(Q,ee,me){return ee===me.id&&Q.points.length<3},M=function(Q){Q.forEach(function(ee){(0,b.Mn)(ee)&&he(ee,null,null)})},I=function(Q,ee){var me=ee==="start"?"startBinding":"endBinding",Te=Q[me];return Te==null?null:((0,S.DR)(Q,(0,w.Z)({},me,null)),Te.elementId)},E=function(Q,ee){return(0,d.QG)(ee.getNonDeletedElements(),function(me){return(0,b.f0)(me,!1)&&(0,T.uu)(me,Q)})},p=function(Q,ee,me){var Te=me==="start"?-1:1,Ue=Te===-1?0:Q.points.length-1,qe=Ue-Te,Ae=c._.getPointAtIndexGlobalCoordinates(Q,Ue),Oe=c._.getPointAtIndexGlobalCoordinates(Q,qe);return{focus:(0,T.T_)(ee,Oe,Ae),gap:Math.max(1,(0,T.oT)(ee,Ae))}},r=function(Q,ee){var me,Te=((me=Q.boundElements)!==null&&me!==void 0?me:[]).filter(function(Ie){return Ie.type==="arrow"});if(Te.length!==0){var Ue=ee??{},qe=Ue.newSize,Ae=Ue.simultaneouslyUpdated,Oe=g(Ae);le(a.Z.getScene(Q),Te.map(function(Ie){return Ie.id})).forEach(function(Ie){if((0,b.bt)(Ie)){var Re=Q;if(o(Ie,Re)){var ke=u(Re,Ie.startBinding,qe),xe=u(Re,Ie.endBinding,qe);Oe.has(Ie.id)?(0,S.DR)(Ie,{startBinding:ke,endBinding:xe}):(s(Ie,"start",ke,Q),s(Ie,"end",xe,Q),(0,_.WJ)(Ie)&&(0,_.RB)(Ie,!1))}}})}},o=function(Q,ee){var me,Te;return((me=Q.startBinding)===null||me===void 0?void 0:me.elementId)===ee.id||((Te=Q.endBinding)===null||Te===void 0?void 0:Te.elementId)===ee.id},g=function(Q){return new Set((Q||[]).map(function(ee){return ee.id}))},s=function(Q,ee,me,Te){if(!(me==null||me.elementId!==Te.id&&Q.points.length>2)){var Ue=a.Z.getScene(Q).getElement(me.elementId);if(Ue!=null){var qe,Ae=ee==="start"?-1:1,Oe=Ae===-1?0:Q.points.length-1,Ie=Oe-Ae,Re=c._.getPointAtIndexGlobalCoordinates(Q,Ie),ke=(0,T.j_)(Ue,me.focus,Re);if(me.gap===0)qe=ke;else{var xe=(0,T.MZ)(Ue,Re,ke,me.gap);qe=xe.length===0?ke:xe[0]}c._.movePoints(Q,[{index:Oe,point:c._.pointFromAbsoluteCoords(Q,qe)}],(0,w.Z)({},ee==="start"?"startBinding":"endBinding",me))}}},u=function(Q,ee,me){if(ee==null||me==null)return ee;var Te=ee.gap,Ue=ee.focus,qe=ee.elementId,Ae=me.width,Oe=me.height,Ie=Q.width,Re=Q.height;return{elementId:qe,gap:Math.max(1,Math.min((0,T.fb)(Q,Ae,Oe),Te*(Ae<Oe?Ae/Ie:Oe/Re))),focus:Ue}},k=function(Q){var ee=new Set(Q.map(function(me){return me.id}));return Q.flatMap(function(me){return(0,b.Mn)(me,!1)?N(me).filter(function(Te){return!ee.has(Te.id)}):(0,b.f0)(me,!1)?j(me).filter(function(Te){return!ee.has(Te[0].id)}):[]})},N=function(Q){return[W(Q,"start"),W(Q,"end")].filter(function(ee){return ee!=null})},W=function(Q,ee){return E(O(Q,ee),a.Z.getScene(Q))},O=function(Q,ee){var me=ee==="start"?0:-1;return(0,Z.AK)(c._.getPointAtIndexGlobalCoordinates(Q,me))},j=function(Q){return a.Z.getScene(Q).getNonDeletedElements().map(function(ee){if(!(0,b.Mn)(ee,!1))return null;var me=L(ee,"start",Q),Te=L(ee,"end",Q);return me||Te?[ee,me&&Te?"both":me?"start":"end",Q]:null}).filter(function(ee){return ee!=null})},L=function(Q,ee,me){return Q[ee==="start"?"startBinding":"endBinding"]==null&&!R(Q,me,ee)&&(0,T.uu)(me,O(Q,ee))},V=function(Q,ee,me,Te){var Ue=new Set,qe=new Set,Ae=Te==="duplicatesServeAsOld";ee.forEach(function(Oe){var Ie=Oe.boundElements;if(Ie!=null&&Ie.length>0&&(Ie.forEach(function(xe){Ae&&!me.has(xe.id)&&Ue.add(xe.id)}),qe.add(me.get(Oe.id))),(0,b.Mn)(Oe)){if(Oe.startBinding!=null){var Re=Oe.startBinding.elementId;Ae&&!me.has(Re)&&qe.add(Re)}if(Oe.endBinding!=null){var ke=Oe.endBinding.elementId;Ae&&!me.has(ke)&&qe.add(ke)}Oe.startBinding==null&&Oe.endBinding==null||Ue.add(me.get(Oe.id))}}),Q.filter(function(Oe){var Ie=Oe.id;return Ue.has(Ie)}).forEach(function(Oe){var Ie=Oe.startBinding,Re=Oe.endBinding;(0,S.DR)(Oe,{startBinding:ie(Ie,me),endBinding:ie(Re,me)})}),Q.filter(function(Oe){var Ie=Oe.id;return qe.has(Ie)}).forEach(function(Oe){var Ie=Oe.boundElements;Ie!=null&&Ie.length>0&&(0,S.DR)(Oe,{boundElements:Ie.map(function(Re){return me.has(Re.id)?{id:me.get(Re.id),type:Re.type}:Re})})})},ie=function(Q,ee){var me;if(Q==null)return null;var Te=Q.elementId;return{focus:Q.focus,gap:Q.gap,elementId:(me=ee.get(Te))!==null&&me!==void 0?me:Te}},se=function(Q,ee){var me=new Set(ee.map(function(Ue){return Ue.id})),Te=new Set;ee.forEach(function(Ue){var qe;(0,b.f0)(Ue)?(qe=Ue.boundElements)===null||qe===void 0||qe.forEach(function(Ae){me.has(Ae.id)||Te.add(Ae.id)}):(0,b.Mn)(Ue)&&(Ue.startBinding&&Te.add(Ue.startBinding.elementId),Ue.endBinding&&Te.add(Ue.endBinding.elementId))}),Q.filter(function(Ue){var qe=Ue.id;return Te.has(qe)}).forEach(function(Ue){(0,b.f0)(Ue)?(0,S.DR)(Ue,{boundElements:pe(Ue.boundElements,me)}):(0,b.Mn)(Ue)&&(0,S.DR)(Ue,{startBinding:ue(Ue.startBinding,me),endBinding:ue(Ue.endBinding,me)})})},ue=function(Q,ee){return Q==null||ee.has(Q.elementId)?null:Q},pe=function(Q,ee){return Q?Q.filter(function(me){return!ee.has(me.id)}):null}},4949:function(te,t,e){e.d(t,{CM:function(){return U},GJ:function(){return fe},IX:function(){return M},KP:function(){return g},M$:function(){return X},Pi:function(){return o},UC:function(){return q},Ut:function(){return k},Y5:function(){return p},hC:function(){return s},os:function(){return N},qf:function(){return ve},v2:function(){return W},wC:function(){return u}});var w=e(1930),v=e(2577),d=e(8821),b=e(5169),T=e(2361),S=e(9845),a=e(6049),c=e(4183),Z=e(5999),F=e(4761),_=e(7422),h=e(2921),x=e(457);function G(O,j){var L=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!L){if(Array.isArray(O)||(L=function(Q,ee){if(Q){if(typeof Q=="string")return le(Q,ee);var me=Object.prototype.toString.call(Q).slice(8,-1);if(me==="Object"&&Q.constructor&&(me=Q.constructor.name),me==="Map"||me==="Set")return Array.from(Q);if(me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me))return le(Q,ee)}}(O))||j){L&&(O=L);var V=0,ie=function(){};return{s:ie,n:function(){return V>=O.length?{done:!0}:{done:!1,value:O[V++]}},e:function(Q){throw Q},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,ue=!0,pe=!1;return{s:function(){L=L.call(O)},n:function(){var Q=L.next();return ue=Q.done,Q},e:function(Q){pe=!0,se=Q},f:function(){try{ue||L.return==null||L.return()}finally{if(pe)throw se}}}}function le(O,j){(j==null||j>O.length)&&(j=O.length);for(var L=0,V=new Array(j);L<j;L++)V[L]=O[L];return V}var he=function(){function O(){(0,d.Z)(this,O)}return(0,b.Z)(O,null,[{key:"getBounds",value:function(j){var L=O.boundsCache.get(j);if(L!=null&&L.version&&L.version===j.version&&!(0,c.Xh)(j))return L.bounds;var V=O.calculateBounds(j);return x.Z.getScene(j)&&O.boundsCache.set(j,{version:j.version,bounds:V}),V}},{key:"calculateBounds",value:function(j){var L,V=ve(j),ie=(0,v.Z)(V,6),se=ie[0],ue=ie[1],pe=ie[2],Q=ie[3],ee=ie[4],me=ie[5];if((0,c.F9)(j)){var Te=I(j.points.map(function(Ht){var At=(0,v.Z)(Ht,2),Wt=At[0],Kt=At[1];return(0,T.U1)(Wt,Kt,ee-j.x,me-j.y,j.angle)})),Ue=(0,v.Z)(Te,4),qe=Ue[0],Ae=Ue[1],Oe=Ue[2],Ie=Ue[3];return[qe+j.x,Ae+j.y,Oe+j.x,Ie+j.y]}if((0,c.bt)(j))L=r(j,ee,me);else if(j.type==="diamond"){var Re=(0,T.U1)(ee,ue,ee,me,j.angle),ke=(0,v.Z)(Re,2),xe=ke[0],ye=ke[1],P=(0,T.U1)(ee,Q,ee,me,j.angle),l=(0,v.Z)(P,2),f=l[0],D=l[1],H=(0,T.U1)(se,me,ee,me,j.angle),J=(0,v.Z)(H,2),re=J[0],ae=J[1],ge=(0,T.U1)(pe,me,ee,me,j.angle),_e=(0,v.Z)(ge,2),ze=_e[0],Je=_e[1];L=[Math.min(xe,f,re,ze),Math.min(ye,D,ae,Je),Math.max(xe,f,re,ze),Math.max(ye,D,ae,Je)]}else if(j.type==="ellipse"){var et=(pe-se)/2,Ke=(Q-ue)/2,tt=Math.cos(j.angle),ut=Math.sin(j.angle),ht=Math.hypot(et*tt,Ke*ut),He=Math.hypot(Ke*tt,et*ut);L=[ee-ht,me-He,ee+ht,me+He]}else{var Ee=(0,T.U1)(se,ue,ee,me,j.angle),Le=(0,v.Z)(Ee,2),Qe=Le[0],ct=Le[1],bt=(0,T.U1)(se,Q,ee,me,j.angle),wt=(0,v.Z)(bt,2),zt=wt[0],Mt=wt[1],Zt=(0,T.U1)(pe,Q,ee,me,j.angle),sn=(0,v.Z)(Zt,2),rn=sn[0],Xt=sn[1],on=(0,T.U1)(pe,ue,ee,me,j.angle),jn=(0,v.Z)(on,2),It=jn[0],kt=jn[1];L=[Math.min(Qe,zt,rn,It),Math.min(ct,Mt,Xt,kt),Math.max(Qe,zt,rn,It),Math.max(ct,Mt,Xt,kt)]}return L}}]),O}();he.boundsCache=new WeakMap;var ve=function(O){var j=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,c.F9)(O))return E(O);if((0,c.bt)(O))return _._.getElementAbsoluteCoords(O,j);if((0,c.iB)(O)){var L=(0,F.tl)(O);if((0,c.Yv)(L)){var V=_._.getBoundTextElementPosition(L,O);return[V.x,V.y,V.x+O.width,V.y+O.height,V.x+O.width/2,V.y+O.height/2]}}return[O.x,O.y,O.x+O.width,O.y+O.height,O.x+O.width/2,O.y+O.height/2]},fe=function(O){var j=ve(O),L=(0,v.Z)(j,6),V=L[0],ie=L[1],se=L[2],ue=L[3],pe=L[4],Q=L[5],ee=[pe,Q];if((0,c.bt)(O)||(0,c.F9)(O)){for(var me=[],Te=0;Te<O.points.length-1;)me.push([(0,T.xj)([O.points[Te][0]+O.x,O.points[Te][1]+O.y],ee,O.angle),(0,T.xj)([O.points[Te+1][0]+O.x,O.points[Te+1][1]+O.y],ee,O.angle)]),Te++;return me}var Ue=[[V,ie],[se,ie],[V,ue],[se,ue],[pe,ie],[pe,ue],[V,Q],[se,Q]].map(function(l){return(0,T.xj)(l,ee,O.angle)}),qe=(0,v.Z)(Ue,8),Ae=qe[0],Oe=qe[1],Ie=qe[2],Re=qe[3],ke=qe[4],xe=qe[5],ye=qe[6],P=qe[7];return O.type==="diamond"?[[ke,ye],[ke,P],[xe,ye],[xe,P]]:O.type==="ellipse"?[[ke,ye],[ke,P],[xe,ye],[xe,P],[ke,ye],[ke,P],[xe,ye],[xe,P]]:[[Ae,Oe],[Ie,Re],[Ae,Ie],[Oe,Re],[Ae,P],[Ie,P],[Oe,ye],[Re,ye]]},X=function(O){return[O.x,O.y,O.x+O.width,O.y+O.height,O.x+O.width/2,O.y+O.height/2]},q=function(O){var j=Math.floor(O.width/2)+1,L=O.width,V=Math.floor(O.height/2)+1;return[j,0,L,V,j,O.height,0,V]},U=function(O){var j,L=G(O.sets);try{for(L.s();!(j=L.n()).done;){var V=j.value;if(V.type==="path")return V.ops}}catch(ie){L.e(ie)}finally{L.f()}return O.sets[0].ops},R=function(O,j,L,V,ie){var se=1-O;return Math.pow(se,3)*j+3*Math.pow(se,2)*O*L+3*se*Math.pow(O,2)*V+Math.pow(O,3)*ie},B=function(O,j,L,V){var ie=j-O,se=L-j,ue=3*ie-6*se+3*(V-L),pe=6*se-6*ie,Q=3*ie,ee=pe*pe-4*ue*Q;if(!(ee>=0))return!1;var me=null,Te=null,Ue=1/0,qe=1/0;return ue===0?Ue=qe=-Q/pe:(Ue=(-pe+Math.sqrt(ee))/(2*ue),qe=(-pe-Math.sqrt(ee))/(2*ue)),Ue>=0&&Ue<=1&&(me=R(Ue,O,j,L,V)),qe>=0&&qe<=1&&(Te=R(qe,O,j,L,V)),[me,Te]},M=function(O,j){var L=[0,0],V=O.reduce(function(ie,se){var ue=se.op,pe=se.data;if(ue==="move")L=pe;else if(ue==="bcurveTo"){var Q=[pe[0],pe[1]],ee=[pe[2],pe[3]],me=[pe[4],pe[5]],Te=j?j.apply(void 0,Q):Q,Ue=j?j.apply(void 0,ee):ee,qe=j?j.apply(void 0,me):me,Ae=j?j.apply(void 0,(0,w.Z)(L)):L;L=me;var Oe=function(P,l,f,D){var H=B(P[0],l[0],f[0],D[0]),J=B(P[1],l[1],f[1],D[1]),re=Math.min(P[0],D[0]),ae=Math.max(P[0],D[0]);if(H){var ge=H.filter(function(et){return et!==null});re=Math.min.apply(Math,[re].concat((0,w.Z)(ge))),ae=Math.max.apply(Math,[ae].concat((0,w.Z)(ge)))}var _e=Math.min(P[1],D[1]),ze=Math.max(P[1],D[1]);if(J){var Je=J.filter(function(et){return et!==null});_e=Math.min.apply(Math,[_e].concat((0,w.Z)(Je))),ze=Math.max.apply(Math,[ze].concat((0,w.Z)(Je)))}return[re,_e,ae,ze]}(Ae,Te,Ue,qe),Ie=(0,v.Z)(Oe,4),Re=Ie[0],ke=Ie[1],xe=Ie[2],ye=Ie[3];ie.minX=Math.min(ie.minX,Re),ie.minY=Math.min(ie.minY,ke),ie.maxX=Math.max(ie.maxX,xe),ie.maxY=Math.max(ie.maxY,ye)}return ie},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[V.minX,V.minY,V.maxX,V.maxY]},I=function(O){var j,L=1/0,V=1/0,ie=-1/0,se=-1/0,ue=G(O);try{for(ue.s();!(j=ue.n()).done;){var pe=(0,v.Z)(j.value,2),Q=pe[0],ee=pe[1];L=Math.min(L,Q),V=Math.min(V,ee),ie=Math.max(ie,Q),se=Math.max(se,ee)}}catch(me){ue.e(me)}finally{ue.f()}return[L,V,ie,se]},E=function(O){var j=I(O.points),L=(0,v.Z)(j,4),V=L[0],ie=L[1],se=L[2],ue=L[3],pe=V+O.x,Q=ie+O.y,ee=se+O.x,me=ue+O.y;return[pe,Q,ee,me,(pe+ee)/2,(Q+me)/2]},p=function(O,j,L,V){var ie=U(j[0]);if(ie.length<1)return null;var se=L==="start"?1:ie.length-1,ue=ie[se].data,pe=[ue[4],ue[5]],Q=[ue[2],ue[3]],ee=[ue[0],ue[1]],me=ie[se-1],Te=[0,0];me.op==="move"?Te=me.data:me.op==="bcurveTo"&&(Te=[me.data[4],me.data[5]]);var Ue=function(Xt,on){return Math.pow(1-Xt,3)*pe[on]+3*Xt*Math.pow(1-Xt,2)*Q[on]+3*Math.pow(Xt,2)*(1-Xt)*ee[on]+Te[on]*Math.pow(Xt,3)},qe=L==="start"?Te:pe,Ae=(0,v.Z)(qe,2),Oe=Ae[0],Ie=Ae[1],Re=[Ue(.3,0),Ue(.3,1)],ke=Re[0],xe=Re[1],ye=Math.hypot(Oe-ke,Ie-xe),P=(Oe-ke)/ye,l=(Ie-xe)/ye,f={arrow:30,bar:15,dot:15,triangle:15}[V],D=0;if(V==="arrow"){var H=(0,v.Z)(O.points[O.points.length-1],2),J=H[0],re=H[1],ae=O.points.length>1?O.points[O.points.length-2]:[0,0],ge=(0,v.Z)(ae,2),_e=ge[0],ze=ge[1];D=Math.hypot(J-_e,re-ze)}else for(var Je=0;Je<O.points.length;Je++){var et=O.points[Je-1]||[0,0],Ke=(0,v.Z)(et,2),tt=Ke[0],ut=Ke[1],ht=(0,v.Z)(O.points[Je],2),He=ht[0],Ee=ht[1];D+=Math.hypot(He-tt,Ee-ut)}var Le=Math.min(f,D/2),Qe=Oe-P*Le,ct=Ie-l*Le;if(V==="dot")return[Oe,Ie,Math.hypot(ct-Ie,Qe-Oe)+O.strokeWidth];var bt={arrow:20,bar:90,triangle:25}[V],wt=(0,T.U1)(Qe,ct,Oe,Ie,-bt*Math.PI/180),zt=(0,v.Z)(wt,2),Mt=zt[0],Zt=zt[1],sn=(0,T.U1)(Qe,ct,Oe,Ie,bt*Math.PI/180),rn=(0,v.Z)(sn,2);return[Oe,Ie,Mt,Zt,rn[0],rn[1]]},r=function(O,j,L){var V;if(O.points.length<2){var ie=(0,v.Z)(O.points[0],2),se=ie[0],ue=ie[1],pe=(0,T.U1)(O.x+se,O.y+ue,j,L,O.angle),Q=(0,v.Z)(pe,2),ee=Q[0],me=Q[1],Te=[ee,me,ee,me],Ue=(0,F.WJ)(O);if(Ue){var qe=_._.getMinMaxXYWithBoundText(O,[ee,me,ee,me],Ue);Te=[qe[0],qe[1],qe[2],qe[3]]}return Te}var Ae=(V=h.R.get(O))===null||V===void 0?void 0:V[0],Oe=Ae??function(P){var l=S.Z.generator(),f=(0,a.Z)(P);return l[P.roundness?"curve":f.fill?"polygon":"linearPath"](P.points,f)}(O),Ie=U(Oe),Re=M(Ie,function(P,l){return(0,T.U1)(O.x+P,O.y+l,j,L,O.angle)}),ke=[Re[0],Re[1],Re[2],Re[3]],xe=(0,F.WJ)(O);if(xe){var ye=_._.getMinMaxXYWithBoundText(O,ke,xe);ke=[ye[0],ye[1],ye[2],ye[3]]}return ke},o=function(O){return he.getBounds(O)},g=function(O){if(!O.length)return[0,0,0,0];var j=1/0,L=-1/0,V=1/0,ie=-1/0;return O.forEach(function(se){var ue=o(se),pe=(0,v.Z)(ue,4),Q=pe[0],ee=pe[1],me=pe[2],Te=pe[3];j=Math.min(j,Q),V=Math.min(V,ee),L=Math.max(L,me),ie=Math.max(ie,Te)}),[j,V,L,ie]},s=function(O,j){var L=g(O),V=(0,v.Z)(L,4),ie=V[0],se=V[1],ue=V[2],pe=V[3];return[ie+j.x,se+j.y,ue+j.x,pe+j.y]},u=function(O,j,L,V){if(!(0,c.bt)(O)&&!(0,c.F9)(O))return[O.x,O.y,O.x+j,O.y+L];var ie,se=(0,Z.z)(0,j,(0,Z.z)(1,L,O.points,V),V);if((0,c.F9)(O))ie=I(se);else{var ue=S.Z.generator(),pe=O.roundness?ue.curve(se,(0,a.Z)(O)):ue.linearPath(se,(0,a.Z)(O)),Q=U(pe);ie=M(Q)}var ee=ie,me=(0,v.Z)(ee,4),Te=me[0],Ue=me[1],qe=me[2],Ae=me[3];return[Te+O.x,Ue+O.y,qe+O.x,Ae+O.y]},k=function(O,j){var L=S.Z.generator(),V=O.roundness==null?L.linearPath(j,(0,a.Z)(O)):L.curve(j,(0,a.Z)(O)),ie=U(V),se=M(ie),ue=(0,v.Z)(se,4),pe=ue[0],Q=ue[1],ee=ue[2],me=ue[3];return[pe+O.x,Q+O.y,ee+O.x,me+O.y]},N=function(O,j){if(!O.length)return[0,0,0,0];var L=1/0,V=O[0];return O.forEach(function(ie){var se=o(ie),ue=(0,v.Z)(se,4),pe=ue[0],Q=ue[1],ee=ue[2],me=ue[3],Te=(0,T.LW)((pe+ee)/2,(Q+me)/2,j.x,j.y);Te<L&&(L=Te,V=ie)}),o(V)},W=function(O){var j=g(O),L=(0,v.Z)(j,4),V=L[0],ie=L[1],se=L[2],ue=L[3];return{minX:V,minY:ie,maxX:se,maxY:ue,width:se-V,height:ue-ie,midX:(V+se)/2,midY:(ie+ue)/2}}},3528:function(te,t,e){e.d(t,{uu:function(){return pe},T_:function(){return J},j_:function(){return re},oT:function(){return me},wX:function(){return L},MZ:function(){return ae},wB:function(){return V},Qu:function(){return ie},pX:function(){return ue},fb:function(){return Q}});var w=e(2577),v=function(Ee,Le){return[0,0,0,0,Le,Ee,1,0]},d=function(Ee,Le){return[0,0,0,0,Le,Ee,0,0]},b=function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Qe=[0,0,0,0,0,0,0,0];if(Le<0||Le>7)throw new Error("Expected `index` between 0 and 7, got `".concat(Le,"`"));return Ee!==0&&(Qe[Le]=Ee),Qe},T=function(Ee){return[Ee[0],Ee[1],Ee[2],Ee[3],-Ee[4],-Ee[5],-Ee[6],-Ee[7]]},S=function(Ee,Le){return G(Le)?[Ee[0]-Le,Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],Ee[6],Ee[7]]:[Ee[0]-Le[0],Ee[1]-Le[1],Ee[2]-Le[2],Ee[3]-Le[3],Ee[4]-Le[4],Ee[5]-Le[5],Ee[6]-Le[6],Ee[7]-Le[7]]},a=function(Ee,Le){return G(Le)?[Ee[0]*Le,Ee[1]*Le,Ee[2]*Le,Ee[3]*Le,Ee[4]*Le,Ee[5]*Le,Ee[6]*Le,Ee[7]*Le]:[c(Ee,Le),Le[1]*Ee[0]+Le[0]*Ee[1]-Le[4]*Ee[2]+Le[5]*Ee[3]+Le[2]*Ee[4]-Le[3]*Ee[5]-Le[7]*Ee[6]-Le[6]*Ee[7],Le[2]*Ee[0]+Le[0]*Ee[2]-Le[6]*Ee[3]+Le[3]*Ee[6],Le[3]*Ee[0]+Le[6]*Ee[2]+Le[0]*Ee[3]-Le[2]*Ee[6],Le[4]*Ee[0]+Le[2]*Ee[1]-Le[1]*Ee[2]+Le[7]*Ee[3]+Le[0]*Ee[4]+Le[6]*Ee[5]-Le[5]*Ee[6]+Le[3]*Ee[7],Le[5]*Ee[0]-Le[3]*Ee[1]+Le[7]*Ee[2]+Le[1]*Ee[3]-Le[6]*Ee[4]+Le[0]*Ee[5]+Le[4]*Ee[6]+Le[2]*Ee[7],Le[6]*Ee[0]+Le[3]*Ee[2]-Le[2]*Ee[3]+Le[0]*Ee[6],Le[7]*Ee[0]+Le[6]*Ee[1]+Le[5]*Ee[2]+Le[4]*Ee[3]+Le[3]*Ee[4]+Le[2]*Ee[5]+Le[1]*Ee[6]+Le[0]*Ee[7]]},c=function(Ee,Le){return Le[0]*Ee[0]+Le[2]*Ee[2]+Le[3]*Ee[3]-Le[6]*Ee[6]},Z=function(Ee,Le){return[F(Ee,Le),Ee[1]*Le[7]+Ee[4]*Le[5]-Ee[5]*Le[4]+Ee[7]*Le[1],Ee[2]*Le[7]-Ee[4]*Le[6]+Ee[6]*Le[4]+Ee[7]*Le[2],Ee[3]*Le[7]+Ee[5]*Le[6]-Ee[6]*Le[5]+Ee[7]*Le[3],Ee[4]*Le[7]+Ee[7]*Le[4],Ee[5]*Le[7]+Ee[7]*Le[5],Ee[6]*Le[7]+Ee[7]*Le[6],Ee[7]*Le[7]]},F=function(Ee,Le){return Ee[0]*Le[7]+Ee[1]*Le[6]+Ee[2]*Le[5]+Ee[3]*Le[4]+Ee[4]*Le[3]+Ee[5]*Le[2]+Ee[6]*Le[1]+Ee[7]*Le[0]},_=function(Ee){return Math.sqrt(Math.abs(Ee[0]*Ee[0]-Ee[2]*Ee[2]-Ee[3]*Ee[3]+Ee[6]*Ee[6]))},h=function(Ee){var Le=_(Ee);if(Le===0||Le===1)return Ee;var Qe=Ee[6]<0?-1:1;return a(Ee,Qe/Le)},x=function(Ee){var Le=function(Qe){return Math.sqrt(Math.abs(Qe[7]*Qe[7]-Qe[5]*Qe[5]-Qe[4]*Qe[4]+Qe[1]*Qe[1]))}(Ee);return Le===0||Le===1?Ee:a(Ee,1/Le)},G=function(Ee){return typeof Ee=="number"},le=(b(1,1),b(1,2),b(1,3),b(1,4),b(1,5),b(1,6),b(1,7),function(Ee,Le,Qe){return h([0,Qe,Ee,Le,0,0,0,0])}),he=function(Ee,Le){return h(Z(Le,Ee))},ve=function(Ee,Le){return Qe=Ee,[(ct=Le)[0]*Qe[0]+ct[2]*Qe[2]+ct[3]*Qe[3]-ct[6]*Qe[6],ct[1]*Qe[0]+ct[0]*Qe[1]-ct[4]*Qe[2]+ct[5]*Qe[3]+ct[2]*Qe[4]-ct[3]*Qe[5]-ct[7]*Qe[6]-ct[6]*Qe[7],ct[2]*Qe[0]+ct[0]*Qe[2]-ct[6]*Qe[3]+ct[3]*Qe[6],ct[3]*Qe[0]+ct[6]*Qe[2]+ct[0]*Qe[3]-ct[2]*Qe[6],ct[4]*Qe[0]+ct[7]*Qe[3]+ct[0]*Qe[4]+ct[3]*Qe[7],ct[5]*Qe[0]+ct[7]*Qe[2]+ct[0]*Qe[5]+ct[2]*Qe[7],ct[6]*Qe[0]+ct[0]*Qe[6],ct[7]*Qe[0]+ct[0]*Qe[7]];var Qe,ct},fe=function(Ee){var Le=(0,w.Z)(Ee,2),Qe=Le[0];return[0,0,0,0,Le[1],Qe,1,0]},X=function(Ee){return[Ee[5],Ee[4]]},q=function(Ee){return[0,0,0,0,Math.abs(Ee[4]),Math.abs(Ee[5]),1,0]},U=function(Ee,Le){return h((Qe=Ee,[(ct=Le)[0]*Qe[0],ct[1]*Qe[0]+ct[0]*Qe[1],ct[2]*Qe[0]+ct[0]*Qe[2],ct[3]*Qe[0]+ct[0]*Qe[3],ct[4]*Qe[0]+ct[2]*Qe[1]-ct[1]*Qe[2]+ct[0]*Qe[4],ct[5]*Qe[0]-ct[3]*Qe[1]+ct[1]*Qe[3]+ct[0]*Qe[5],ct[6]*Qe[0]+ct[3]*Qe[2]-ct[2]*Qe[3]+ct[0]*Qe[6],ct[7]*Qe[0]+ct[6]*Qe[1]+ct[5]*Qe[2]+ct[4]*Qe[3]+ct[3]*Qe[4]+ct[2]*Qe[5]+ct[1]*Qe[6]]));var Qe,ct},R=function(Ee,Le){return _(Z(Ee,Le))},B=function(Ee,Le){return F(Ee,Le)},M=function(Ee){return[0,0,0,0,Ee[4],Ee[5],0,0]},I=function(Ee,Le){return Qe=a(Ee,Math.sin(Le/2)),ct=Math.cos(Le/2),G(ct)?[Qe[0]+ct,Qe[1],Qe[2],Qe[3],Qe[4],Qe[5],Qe[6],Qe[7]]:[Qe[0]+ct[0],Qe[1]+ct[1],Qe[2]+ct[2],Qe[3]+ct[3],Qe[4]+ct[4],Qe[5]+ct[5],Qe[6]+ct[6],Qe[7]+ct[7]];var Qe,ct},E=function(Ee,Le){return h(a(a(Ee,Le),T(Ee)))},p=e(2361),r=e(1493),o=e(4949),g=e(4183),s=e(7651),u=e(9827),k=e(4048),N=e(4761),W=e(2921);function O(Ee,Le){var Qe=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!Qe){if(Array.isArray(Ee)||(Qe=function(Zt,sn){if(Zt){if(typeof Zt=="string")return j(Zt,sn);var rn=Object.prototype.toString.call(Zt).slice(8,-1);if(rn==="Object"&&Zt.constructor&&(rn=Zt.constructor.name),rn==="Map"||rn==="Set")return Array.from(Zt);if(rn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rn))return j(Zt,sn)}}(Ee))||Le){Qe&&(Ee=Qe);var ct=0,bt=function(){};return{s:bt,n:function(){return ct>=Ee.length?{done:!0}:{done:!1,value:Ee[ct++]}},e:function(Zt){throw Zt},f:bt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wt,zt=!0,Mt=!1;return{s:function(){Qe=Qe.call(Ee)},n:function(){var Zt=Qe.next();return zt=Zt.done,Zt},e:function(Zt){Mt=!0,wt=Zt},f:function(){try{zt||Qe.return==null||Qe.return()}finally{if(Mt)throw wt}}}}function j(Ee,Le){(Le==null||Le>Ee.length)&&(Le=Ee.length);for(var Qe=0,ct=new Array(Le);Qe<Le;Qe++)ct[Qe]=Ee[Qe];return ct}var L=function Ee(Le,Qe,ct,bt,wt){var zt=10/Qe.zoom.value,Mt=[bt,wt];if(se(Qe,Le)&&(0,k.oY)([Le],Qe))return ue(Le,Mt,zt,ct);var Zt=(0,N.WJ)(Le);return Zt&&Ee(Zt,Qe,ct,bt,wt)?!0:ie(Le,Qe,ct,Mt)},V=function(Ee,Le,Qe,ct,bt){var wt=10/Le.zoom.value,zt=(0,N.WJ)(Ee);return(!zt||!L(zt,Le,Qe,ct,bt))&&!ie(Ee,Le,Qe,[ct,bt])&&ue(Ee,[ct,bt],wt,Qe)},ie=function(Ee,Le,Qe,ct){var bt=10/Le.zoom.value,wt=(0,s.iB)(Ee)?Te:function(zt){if(zt.type==="arrow")return!1;if(zt.type==="freedraw")return!0;var Mt=!(0,u.Qm)(zt.backgroundColor)||(0,g.Xo)(zt)||(0,g.gs)(zt);return zt.type==="line"?Mt&&(0,p.g6)(zt.points):Mt||(0,g.pC)(zt)}(Ee)?Ue:qe;return ee({element:Ee,point:ct,threshold:bt,check:wt,frameNameBoundsCache:Qe})},se=function(Ee,Le){return Ee.selectedElementIds[Le.id]},ue=function(Ee,Le,Qe,ct){var bt=(0,w.Z)(Le,2),wt=bt[0],zt=bt[1];if(Ee.type==="frame")return ee({element:Ee,point:[wt,zt],threshold:Qe,check:Ue,frameNameBoundsCache:ct});var Mt=(0,o.qf)(Ee),Zt=(0,w.Z)(Mt,4),sn=Zt[0],rn=Zt[1],Xt=Zt[2],on=Zt[3],jn=(sn+Xt)/2,It=(rn+on)/2,kt=(0,p.U1)(wt,zt,jn,It,-Ee.angle),Ht=(0,w.Z)(kt,2),At=Ht[0],Wt=Ht[1];return At>sn-Qe&&At<Xt+Qe&&Wt>rn-Qe&&Wt<on+Qe},pe=function(Ee,Le){var Qe=Le.x,ct=Le.y,bt=Q(Ee,Ee.width,Ee.height);return ee({element:Ee,point:[Qe,ct],threshold:bt,check:Ae,frameNameBoundsCache:null})},Q=function(Ee,Le,Qe){var ct=(Ee.type==="diamond"?1/Math.sqrt(2):1)*Math.min(Le,Qe);return Math.max(16,Math.min(.25*ct,32))},ee=function(Ee){switch(Ee.element.type){case"rectangle":case"embeddable":case"image":case"text":case"diamond":case"ellipse":var Le=me(Ee.element,Ee.point);return Ee.check(Le,Ee.threshold);case"freedraw":return!!Ee.check(Oe(Ee.element,Ee.point),Ee.threshold)&&ye(Ee.element,Ee.point,Ee.threshold);case"arrow":case"line":return P(Ee);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1;case"frame":var Qe;if(Ee.check(me(Ee.element,Ee.point),Ee.threshold))return!0;var ct=(Qe=Ee.frameNameBoundsCache)===null||Qe===void 0?void 0:Qe.get(Ee.element);return!!ct&&Ee.check(Ie(ct,Ee.point),Ee.threshold)}},me=function(Ee,Le){switch(Ee.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return Oe(Ee,Le);case"diamond":return Re(Ee,Le);case"ellipse":return ke(Ee,Le)}},Te=function(Ee,Le){return Ee<0},Ue=function(Ee,Le){return Ee<Le},qe=function(Ee,Le){return Math.abs(Ee)<Le},Ae=function(Ee,Le){return 0<=Ee&&Ee<Le},Oe=function(Ee,Le){var Qe=l(Ee,Le),ct=(0,w.Z)(Qe,4),bt=ct[1],wt=ct[2],zt=ct[3];return Math.max(B(bt,le(0,1,-zt)),B(bt,le(1,0,-wt)))},Ie=function(Ee,Le){var Qe=f(Le,Ee),ct=(0,w.Z)(Qe,4),bt=ct[1],wt=ct[2],zt=ct[3];return Math.max(B(bt,le(0,1,-zt)),B(bt,le(1,0,-wt)))},Re=function(Ee,Le){var Qe=l(Ee,Le),ct=(0,w.Z)(Qe,4),bt=ct[1],wt=ct[2],zt=ct[3],Mt=le(zt,wt,-zt*wt);return B(bt,Mt)},ke=function(Ee,Le){var Qe,ct=xe(Ee,Le),bt=(0,w.Z)(ct,2),wt=bt[0],zt=bt[1];return Qe=zt,-Math.sign(Qe[1])*B(wt,zt)},xe=function(Ee,Le){var Qe=l(Ee,Le),ct=(0,w.Z)(Qe,4),bt=ct[1],wt=ct[2],zt=ct[3],Mt=X(bt),Zt=(0,w.Z)(Mt,2),sn=Zt[0],rn=Zt[1],Xt=.707,on=.707,jn=wt,It=zt;[0,1,2,3].forEach(function(At){var Wt=jn*Xt,Kt=It*on,an=(jn*jn-It*It)*Math.pow(Xt,3)/jn,bn=(It*It-jn*jn)*Math.pow(on,3)/It,hn=Wt-an,An=Kt-bn,Yn=sn-an,tr=rn-bn,Sn=Math.hypot(An,hn),Bt=Math.hypot(tr,Yn);Xt=Math.min(1,Math.max(0,(Yn*Sn/Bt+an)/jn)),on=Math.min(1,Math.max(0,(tr*Sn/Bt+bn)/It));var dn=Math.hypot(on,Xt);Xt/=dn,on/=dn});var kt,Ht=v(jn*Xt,It*on);return[bt,ve(he(bt,kt=Ht),kt)]},ye=function(Ee,Le,Qe){var ct,bt;if(Ee.angle===0)ct=Le[0]-Ee.x,bt=Le[1]-Ee.y;else{var wt=(0,o.qf)(Ee),zt=(0,w.Z)(wt,4),Mt=zt[0],Zt=zt[1],sn=zt[2],rn=zt[3],Xt=(0,p.xj)(Le,[Mt+(sn-Mt)/2,Zt+(rn-Zt)/2],-Ee.angle);ct=Xt[0]-Ee.x,bt=Xt[1]-Ee.y}var on,jn=(0,w.Z)(Ee.points,2),It=jn[0],kt=jn[1];if((0,p.LW)(It[0],It[1],ct,bt)<Qe||(0,p.LW)(kt[0],kt[1],ct,bt)<Qe)return!0;for(var Ht=0;Ht<Ee.points.length;Ht++){var At=[kt[0]-It[0],kt[1]-It[1]],Wt=Math.hypot(At[1],At[0]),Kt=[At[0]/Wt,At[1]/Wt],an=[ct-It[0],bt-It[1]],bn=(an[0]*Kt[0]+an[1]*Kt[1])/Math.hypot(Kt[1],Kt[0]);on=[It[0]+Kt[0]*bn,It[1]+Kt[1]*bn];var hn=(0,p.LW)(on[0],on[1],It[0],It[1]),An=(0,p.LW)(on[0],on[1],kt[0],kt[1]);if(on=An<hn&&hn>Wt?kt:hn<An&&An>Wt?It:on,Math.hypot(bt-on[1],ct-on[0])<Qe)return!0;It=kt,kt=Ee.points[Ht+1]}var Yn=W.R.get(Ee);return!(!Yn||!Yn.sets.length)&&(Ee.fillStyle==="solid"?ht(Yn,ct,bt,"round"):He(Yn,ct,bt,Qe))},P=function(Ee){var Le=Ee.element,Qe=Ee.threshold;if(!W.R.get(Le))return!1;var ct=l(Ee.element,Ee.point),bt=(0,w.Z)(ct,4),wt=bt[0],zt=bt[1],Mt=bt[2],Zt=bt[3],sn=le(0,1,-Zt),rn=le(1,0,-Mt);if(!Ue(B(zt,sn),Qe)||!Ue(B(zt,rn),Qe))return!1;var Xt=X(wt),on=(0,w.Z)(Xt,2),jn=on[0],It=on[1],kt=W.R.get(Le);return kt?Ee.check===Ue&&kt.some(function(Ht){return ht(Ht,jn,It,Le.roundness?"round":"sharp")})?!0:kt.some(function(Ht){return He(Ht,jn,It,Qe)}):!1},l=function(Ee,Le){var Qe=fe(Le),ct=(0,o.qf)(Ee),bt=(0,w.Z)(ct,4),wt=bt[0],zt=bt[1],Mt=bt[2],Zt=bt[3],sn=H(wt,zt,Mt,Zt),rn=I(sn,Ee.angle),Xt=E(rn,Qe),on=S(Xt,M(sn)),jn=q(on),It=d(Ee.x,Ee.y);return[S(Xt,It),jn,(Mt-wt)/2,(Zt-zt)/2]},f=function(Ee,Le){var Qe=fe(Ee),ct=(0,o.M$)(Le),bt=(0,w.Z)(ct,4),wt=bt[0],zt=bt[1],Mt=bt[2],Zt=bt[3],sn=H(wt,zt,Mt,Zt),rn=I(sn,Le.angle),Xt=E(rn,Qe),on=S(Xt,M(sn)),jn=q(on),It=d(Le.x,Le.y);return[S(Xt,It),jn,(Mt-wt)/2,(Zt-zt)/2]},D=function(Ee){var Le=(0,o.qf)(Ee),Qe=(0,w.Z)(Le,4),ct=Qe[0],bt=Qe[1],wt=Qe[2],zt=Qe[3],Mt=H(ct,bt,wt,zt),Zt=I(Mt,Ee.angle),sn=T(function(rn){return[1,0,0,0,-.5*rn[5],.5*rn[4],0,0]}(M(Mt)));return a(sn,Zt)},H=function(Ee,Le,Qe,ct){return v((Ee+Qe)/2,(Le+ct)/2)},J=function(Ee,Le,Qe){var ct,bt=D(Ee),wt=E(bt,fe(Le)),zt=E(bt,fe(Qe)),Mt=he(wt,zt),Zt=Ee.height/Ee.width,sn=Ee.width/2,rn=Ee.height/2,Xt=Mt[2],on=Mt[3],jn=Mt[1],It=Math.abs(on),kt=Math.abs(Xt);switch(Ee.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":ct=jn/(sn*(kt+Zt*It));break;case"diamond":ct=It<kt?jn/(kt*sn):jn/(It*rn);break;case"ellipse":ct=jn/(sn*Math.sqrt(Math.pow(Xt,2)+Math.pow(Zt,2)*Math.pow(on,2)))}return ct||0},re=function(Ee,Le,Qe){if(Le===0){var ct=(0,o.qf)(Ee),bt=(0,w.Z)(ct,4),wt=bt[0],zt=bt[1],Mt=bt[2],Zt=bt[3],sn=H(wt,zt,Mt,Zt);return X(sn)}var rn,Xt=D(Ee),on=E(Xt,fe(Qe)),jn=T(Xt);switch(Ee.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":rn=ut(Ee,Le,on);break;case"ellipse":rn=tt(Ee,Le,on)}return X(E(jn,rn))},ae=function(Ee,Le,Qe){var ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,bt=D(Ee),wt=E(bt,fe(Le)),zt=E(bt,fe(Qe)),Mt=he(wt,zt),Zt=T(bt),sn=ge(Ee,Mt,wt,ct);return sn.map(function(rn){return X(E(Zt,rn))})},ge=function(Ee,Le,Qe){var ct,bt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(Ee.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":var wt=_e(Ee);ct=wt.flatMap(function(Mt,Zt){var sn=[Mt,wt[(Zt+1)%4]];return ze(Le,Je(sn,bt))}).concat(wt.flatMap(function(Mt){return Ke(Mt,bt,Le)}));break;case"ellipse":ct=et(Ee,bt,Le)}if(ct.length<2)return[];var zt=ct.sort(function(Mt,Zt){return R(Mt,Qe)-R(Zt,Qe)});return[zt[0],zt[zt.length-1]]},_e=function(Ee){var Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Qe=Le*Ee.width/2,ct=Le*Ee.height/2;switch(Ee.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return[v(Qe,ct),v(Qe,-ct),v(-Qe,-ct),v(-Qe,ct)];case"diamond":return[v(0,ct),v(Qe,0),v(0,-ct),v(-Qe,0)]}},ze=function(Ee,Le){var Qe=(0,w.Z)(Le,2),ct=Qe[0],bt=Qe[1];return B(ct,Ee)*B(bt,Ee)>=0?[]:[U(Ee,he(ct,bt))]},Je=function(Ee,Le){var Qe=(0,w.Z)(Ee,2),ct=Qe[0],bt=Qe[1],wt=function(zt,Mt){var Zt=.5*Mt;return[1,0,0,0,Zt*zt[4],Zt*zt[5],0,0]}(function(zt,Mt){return x([0,0,0,0,Mt[4]-zt[4],Mt[5]-zt[5],0,0])}(ct,bt),Le);return[E(wt,ct),E(wt,bt)]},et=function(Ee,Le,Qe){var ct=Ee.width/2+Le,bt=Ee.height/2+Le,wt=Qe[2],zt=Qe[3],Mt=Qe[1],Zt=ct*ct*wt*wt+bt*bt*zt*zt,sn=Zt-Mt*Mt;if(Zt===0||sn<=0)return[];var rn=Math.sqrt(sn),Xt=-ct*ct*wt*Mt,on=-bt*bt*zt*Mt;return[v((Xt+ct*bt*zt*rn)/Zt,(on-ct*bt*wt*rn)/Zt),v((Xt-ct*bt*zt*rn)/Zt,(on+ct*bt*wt*rn)/Zt)]},Ke=function(Ee,Le,Qe){if(Le===0)return B(Qe,Ee)===0?[Ee]:[];var ct=Qe[2],bt=Qe[3],wt=Qe[1],zt=X(Ee),Mt=(0,w.Z)(zt,2),Zt=Mt[0],sn=Mt[1],rn=ct*ct+bt*bt,Xt=Le*Le*rn-Math.pow(ct*Zt+bt*sn+wt,2);if(rn===0||Xt<=0)return[];var on=Math.sqrt(Xt),jn=Zt*bt*bt-sn*ct*bt-ct*wt,It=sn*ct*ct-Zt*ct*bt-bt*wt;return[v((jn+bt*on)/rn,(It-ct*on)/rn),v((jn-bt*on)/rn,(It+ct*on)/rn)]},tt=function(Ee,Le,Qe){var ct=Math.abs(Le),bt=Ee.width*ct/2,wt=Ee.height*ct/2,zt=Math.sign(Le),Mt=X(Qe),Zt=(0,w.Z)(Mt,2),sn=Zt[0],rn=Zt[1],Xt=rn===0?1e-4:rn,on=Math.pow(sn,2)*Math.pow(wt,2)+Math.pow(Xt,2)*Math.pow(bt,2),jn=(-sn*Math.pow(wt,2)+zt*Xt*Math.sqrt(Math.max(0,on-Math.pow(bt,2)*Math.pow(wt,2))))/on,It=(-jn*sn-1)/Xt;It===0&&(It=.01*(Object.is(It,-0)?-1:1));var kt=-Math.pow(bt,2)*jn/(Math.pow(It,2)*Math.pow(wt,2)+Math.pow(jn,2)*Math.pow(bt,2));return v(kt,(-jn*kt-1)/It)},ut=function(Ee,Le,Qe){var ct=Math.abs(Le),bt=Math.sign(Le),wt=_e(Ee,ct),zt=0,Mt=null;return wt.forEach(function(Zt){var sn=bt*he(Qe,Zt)[1];sn>zt&&(zt=sn,Mt=Zt)}),Mt},ht=function(Ee,Le,Qe,ct){var bt,wt=[],zt=!1,Mt=O((0,o.CM)(Ee));try{for(Mt.s();!(bt=Mt.n()).done;){var Zt=bt.value;Zt.op==="move"?(zt=!zt)&&wt.push([Zt.data[0],Zt.data[1]]):Zt.op==="bcurveTo"?zt&&(wt.push([Zt.data[0],Zt.data[1]]),wt.push([Zt.data[2],Zt.data[3]]),wt.push([Zt.data[4],Zt.data[5]])):Zt.op==="lineTo"&&zt&&wt.push([Zt.data[0],Zt.data[1]])}}catch(rn){Mt.e(rn)}finally{Mt.f()}if(wt.length>=4){if(ct==="sharp")return(0,p.c9)(wt,Le,Qe);var sn=(0,r.sU)(wt,10,5);return(0,p.c9)(sn,Le,Qe)}return!1},He=function(Ee,Le,Qe,ct){var bt=(0,o.CM)(Ee),wt=[0,0];return bt.some(function(zt,Mt){var Zt=zt.op,sn=zt.data;if(Zt==="move")wt=sn;else{if(Zt==="bcurveTo"){var rn=[sn[0],sn[1]],Xt=[sn[2],sn[3]],on=[sn[4],sn[5]],jn=wt;wt=on;var It=function(kt,Ht,At,Wt,Kt,an){for(var bn=(0,w.Z)(Kt,2),hn=bn[0],An=bn[1],Yn=function(dn,un){return Math.pow(1-dn,3)*Wt[un]+3*dn*Math.pow(1-dn,2)*At[un]+3*Math.pow(dn,2)*(1-dn)*Ht[un]+kt[un]*Math.pow(dn,3)},tr=0;tr<=1;){var Sn=Yn(tr,0),Bt=Yn(tr,1);if(Math.sqrt(Math.pow(Sn-hn,2)+Math.pow(Bt-An,2))<an)return!0;tr+=.01}return!1}(jn,rn,Xt,on,[Le,Qe],ct);return It}if(Zt==="lineTo")return ht(Ee,Le,Qe,"sharp");Zt==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},761:function(te,t,e){e.d(t,{LM:function(){return g},eX:function(){return N},g0:function(){return u},uU:function(){return s},xm:function(){return W}});var w=e(7169),v=e(2577),d=e(2767),b=e(9937),T=e(8227),S=e(9827),a=e(7652),c=e(5742),Z=e(4761),F=e(4183),_=e(8020);function h(O,j){var L=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!L){if(Array.isArray(O)||(L=function(Q,ee){if(Q){if(typeof Q=="string")return x(Q,ee);var me=Object.prototype.toString.call(Q).slice(8,-1);if(me==="Object"&&Q.constructor&&(me=Q.constructor.name),me==="Map"||me==="Set")return Array.from(Q);if(me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me))return x(Q,ee)}}(O))||j){L&&(O=L);var V=0,ie=function(){};return{s:ie,n:function(){return V>=O.length?{done:!0}:{done:!1,value:O[V++]}},e:function(Q){throw Q},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,ue=!0,pe=!1;return{s:function(){L=L.call(O)},n:function(){var Q=L.next();return ue=Q.done,Q},e:function(Q){pe=!0,se=Q},f:function(){try{ue||L.return==null||L.return()}finally{if(pe)throw se}}}}function x(O,j){(j==null||j>O.length)&&(j=O.length);for(var L=0,V=new Array(j);L<j;L++)V[L]=O[L];return V}function G(O,j){var L=Object.keys(O);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(O);j&&(V=V.filter(function(ie){return Object.getOwnPropertyDescriptor(O,ie).enumerable})),L.push.apply(L,V)}return L}function le(O){for(var j=1;j<arguments.length;j++){var L=arguments[j]!=null?arguments[j]:{};j%2?G(Object(L),!0).forEach(function(V){(0,w.Z)(O,V,L[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(L)):G(Object(L)).forEach(function(V){Object.defineProperty(O,V,Object.getOwnPropertyDescriptor(L,V))})}return O}var he=new Map,ve=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,fe=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}\.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,X=/^https:\/\/(?:www\.)?figma\.com/,q=/^https:\/\/gist\.github\.com\/([\w_-]+)\/([\w_-]+)/,U=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist\.github\.com\/.*?)\.js["']/i,R=/(?:https?:\/\/)?(?:(?:w){3}\.)?(?:twitter|x)\.com\/[^/]+\/status\/(\d+)/,B=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:twitter|x)\.com\/[^"']*)/i,M=/^https:\/\/(?:www\.)?val\.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,I=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,E=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,p=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com"]),r=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com"]),o=function(O){return"<html><body>".concat(O,"</body></html>")},g=function(O){if(!O)return null;if(he.has(O))return he.get(O);var j=O,L=r.has(k(O,r)||""),V="generic",ie={w:560,h:840},se=O.match(ve);if(se!=null&&se[2]){var ue=se[3]?"&start=".concat(se[3]):"",pe=O.includes("shorts");switch(V="video",se[1]){case"embed/":case"watch?v=":case"shorts/":default:O="https://www.youtube.com/embed/".concat(se[2],"?enablejsapi=1").concat(ue);break;case"playlist?list=":case"embed/videoseries?list=":O="https://www.youtube.com/embed/videoseries?list=".concat(se[2],"&enablejsapi=1").concat(ue)}return ie=pe?{w:315,h:560}:{w:560,h:315},he.set(j,{link:O,aspectRatio:ie,type:V,sandbox:{allowSameOrigin:L}}),{link:O,aspectRatio:ie,type:V,sandbox:{allowSameOrigin:L}}}var Q=O.match(fe);if(Q!=null&&Q[1]){var ee=Q?.[1],me=/^\d+$/.test(ee)?void 0:(0,T.t)("toast.unrecognizedLinkFormat");return V="video",O="https://player.vimeo.com/video/".concat(ee,"?api=1"),ie={w:560,h:315},he.set(j,{link:O,aspectRatio:ie,type:V,sandbox:{allowSameOrigin:L}}),{link:O,aspectRatio:ie,type:V,warning:me,sandbox:{allowSameOrigin:L}}}if(O.match(X))return V="generic",O="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(O)),ie={w:550,h:550},he.set(j,{link:O,aspectRatio:ie,type:V,sandbox:{allowSameOrigin:L}}),{link:O,aspectRatio:ie,type:V,sandbox:{allowSameOrigin:L}};var Te=O.match(M);if(Te)return O=Te[1]==="embed"?Te[0]:Te[0].replace("/v","/embed"),he.set(j,{link:O,aspectRatio:ie,type:V,sandbox:{allowSameOrigin:L}}),{link:O,aspectRatio:ie,type:V,sandbox:{allowSameOrigin:L}};if(R.test(O)){var Ue=O.match(R)[1],qe=(0,_.tO)("https://twitter.com/x/status/".concat(Ue)),Ae={type:"document",srcdoc:function(P){return o('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(P,'"><a href="').concat(qe,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},aspectRatio:{w:480,h:480},sandbox:{allowSameOrigin:L}};return he.set(j,Ae),Ae}if(q.test(O)){var Oe=O.match(q),Ie=(0,v.Z)(Oe,3),Re=Ie[1],ke=Ie[2],xe=(0,_.tO)("https://gist.github.com/".concat(Re,"/").concat(ke)),ye={type:"document",srcdoc:function(){return o(`
          <script src="`.concat(xe,`.js"><\/script>
          <style type="text/css">
            * { margin: 0px; }
            table, .gist { height: 100%; }
            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
          </style>
        `))},aspectRatio:{w:550,h:720},sandbox:{allowSameOrigin:L}};return he.set(O,ye),ye}return he.set(O,{link:O,aspectRatio:ie,type:V,sandbox:{allowSameOrigin:L}}),{link:O,aspectRatio:ie,type:V,sandbox:{allowSameOrigin:L}}},s=function(O){if((0,F.gs)(O))return!0;if(O.type==="text"){var j=(0,Z.tl)(O);if(j&&(0,F.gs)(j))return!0}return!1},u=function(O){var j,L=O.link&&O?.link!==""?O.link:"Empty Web-Embed",V=Math.max(Math.min(O.width/2,O.width/L.length),O.width/30),ie=b.ut.Helvetica,se=(0,S.mO)({fontSize:V,fontFamily:ie});return(0,c.VL)({x:O.x+O.width/2,y:O.y+O.height/2,strokeColor:O.strokeColor!=="transparent"?O.strokeColor:"black",backgroundColor:"transparent",fontFamily:ie,fontSize:V,text:(0,Z.lD)(L,se,O.width-20),textAlign:"center",verticalAlign:b.oX.MIDDLE,angle:(j=O.angle)!==null&&j!==void 0?j:0})},k=((0,d.z)({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},perform:function(O,j,L,V){var ie=(0,S.Om)(j,{type:"embeddable"});return(0,a.Uk)(V.canvas,le(le({},j),{},{activeTool:ie})),{elements:O,appState:le(le({},j),{},{activeTool:(0,S.Om)(j,{type:"embeddable"})}),commitToHistory:!1}}}),function(O,j){try{var L=new URL(O).hostname.replace(/^www\./,"");if(j instanceof Set){if(p.has(L))return L;var V=L.replace(/^([^.]+)/,"*");return p.has(V)?V:null}var ie=j.replace(/^www\./,"");if(L===ie)return ie}catch{}return null}),N=function(O){var j=O.match(B);if(j&&j.length===2)return j[1];var L=O.match(U);if(L&&L.length===2)return L[1];if(E.test(O))return"https://giphy.com/embed/".concat(E.exec(O)[1]);var V=O.match(I);return V&&V.length===2?V[1]:O},W=function(O,j){if(!O)return!1;if(j!=null)if(typeof j=="function"){var L=j(O);if(typeof L=="boolean")return L}else{if(typeof j=="boolean")return j;if(j instanceof RegExp)return j.test(O);if(Array.isArray(j)){var V,ie=h(j);try{for(ie.s();!(V=ie.n()).done;){var se=V.value;if(se instanceof RegExp){if(O.match(se))return!0}else if(k(O,se))return!0}}catch(ue){ie.e(ue)}finally{ie.f()}return!1}}return!!k(O,p)}},4178:function(te,t,e){e.d(t,{PK:function(){return _},Xx:function(){return h},bp:function(){return G},oA:function(){return x}});var w=e(2577),v=e(7169),d=e(8950),b=e(2975),T=e.n(b),S=e(9937),a=e(8227),c=e(4183);function Z(le,he){var ve=Object.keys(le);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(le);he&&(fe=fe.filter(function(X){return Object.getOwnPropertyDescriptor(le,X).enumerable})),ve.push.apply(ve,fe)}return ve}function F(le){for(var he=1;he<arguments.length;he++){var ve=arguments[he]!=null?arguments[he]:{};he%2?Z(Object(ve),!0).forEach(function(fe){(0,v.Z)(le,fe,ve[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(ve)):Z(Object(ve)).forEach(function(fe){Object.defineProperty(le,fe,Object.getOwnPropertyDescriptor(ve,fe))})}return le}var _=function(le){return new Promise(function(he,ve){var fe=new Image;fe.onload=function(){he(fe)},fe.onerror=function(X){ve(X)},fe.src=le})},h=function(){var le=(0,d.Z)(T().mark(function he(ve){var fe,X,q,U,R;return T().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return fe=ve.fileIds,X=ve.files,q=ve.imageCache,U=new Map,R=new Map,B.next=5,Promise.all(fe.reduce(function(M,I){var E=X[I];return E&&!U.has(I)?(U.set(I,!0),M.concat((0,d.Z)(T().mark(function p(){var r,o,g;return T().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,E.mimeType!==S.LO.binary){s.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return r=_(E.dataURL),o={image:r,mimeType:E.mimeType},q.set(I,o),s.next=8,r;case 8:g=s.sent,q.set(I,F(F({},o),{},{image:g})),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(0),R.set(I,!0);case 15:case"end":return s.stop()}},p,null,[[0,12]])}))())):M},[]));case 5:return B.abrupt("return",{imageCache:q,updatedFiles:U,erroredFiles:R});case 6:case"end":return B.stop()}},he)}));return function(he){return le.apply(this,arguments)}}(),x=function(le){return le.filter(function(he){return(0,c.wi)(he)})},G=function(){var le=(0,d.Z)(T().mark(function he(ve){var fe,X,q,U,R,B,M;return T().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(fe=new DOMParser().parseFromString(ve,S.LO.svg),X=fe.querySelector("svg"),!fe.querySelector("parsererror")&&((E=X)==null?void 0:E.nodeName.toLowerCase())==="svg"){I.next=7;break}throw new Error((0,a.t)("errors.invalidSVGString"));case 7:return X.hasAttribute("xmlns")||X.setAttribute("xmlns",S.hR),X.hasAttribute("width")&&X.hasAttribute("height")||(q=X.getAttribute("viewBox"),U=X.getAttribute("width")||"50",R=X.getAttribute("height")||"50",q&&(B=q.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(M=(0,w.Z)(B,3),U=M[1],R=M[2]),X.setAttribute("width",U),X.setAttribute("height",R)),I.abrupt("return",X.outerHTML);case 10:case"end":return I.stop()}var E},he)}));return function(he){return le.apply(this,arguments)}}()},7651:function(te,t,e){e.d(t,{ox:function(){return S.ox},BQ:function(){return L},_M:function(){return V},EJ:function(){return E},o8:function(){return R},Sy:function(){return b.Sy},Y5:function(){return T.Y5},os:function(){return T.os},KP:function(){return T.KP},Un:function(){return le},UC:function(){return T.UC},$V:function(){return I},qf:function(){return T.qf},Pi:function(){return T.Pi},jt:function(){return h},o4:function(){return v.o4},Lm:function(){return N},Xf:function(){return W},Qp:function(){return v.Qp},T:function(){return he.T},xx:function(){return he.xx},Uo:function(){return u},n2:function(){return x},PC:function(){return S.PC},kK:function(){return S.kK},n_:function(){return k},wX:function(){return a.wX},r2:function(){return d.r2},He:function(){return d.He},wB:function(){return a.wB},QD:function(){return v.QD},qP:function(){return O},iB:function(){return d.iB},Up:function(){return b.Up},vw:function(){return b.vw},y8:function(){return b.y8},VL:function(){return b.VL},oN:function(){return X.oN},JZ:function(){return b.JZ},RT:function(){return o},b_:function(){return p.b_},vY:function(){return he.vY},N_:function(){return b.N_}});var w=e(7169),v=e(7935),d=e(4183),b=e(5742),T=e(4949),S=e(4048),a=e(3528),c=e(2577),Z=e(2726),F=["rotation"],_=function(ie,se,ue){return se>=ie[0]&&se<=ie[0]+ie[2]&&ue>=ie[1]&&ue<=ie[1]+ie[3]},h=function(ie,se,ue,pe,Q,ee){return ie.reduce(function(me,Te){if(me)return me;var Ue=function(qe,Ae,Oe,Ie,Re,ke){if(!Ae.selectedElementIds[qe.id])return!1;var xe=(0,S.PC)(qe,Re,ke),ye=xe.rotation,P=(0,Z.Z)(xe,F);if(ye&&_(ye,Oe,Ie))return"rotation";var l=Object.keys(P).filter(function(f){var D=P[f];return!!D&&_(D,Oe,Ie)});return l.length>0&&l[0]}(Te,se,ue,pe,Q,ee);return Ue?{element:Te,transformHandleType:Ue}:null},null)},x=function(ie,se,ue,pe,Q){var ee=(0,c.Z)(ie,4),me=ee[0],Te=ee[1],Ue=ee[2],qe=ee[3],Ae=(0,S.kK)([me,Te,Ue,qe,(me+Ue)/2,(Te+qe)/2],0,pe,Q,S.ox);return Object.keys(Ae).find(function(Oe){var Ie=Ae[Oe];return Ie&&_(Ie,se,ue)})||!1},G=["ns","nesw","ew","nwse"],le=function(ie){var se=ie.element,ue=ie.transformHandleType,pe=se&&Math.sign(se.height)*Math.sign(se.width)==-1,Q=null;switch(ue){case"n":case"s":Q="ns";break;case"w":case"e":Q="ew";break;case"nw":case"se":Q=pe?"nesw":"nwse";break;case"ne":case"sw":Q=pe?"nwse":"nesw";break;case"rotation":return"grab"}return Q&&se&&(Q=function(ee,me){var Te=G.indexOf(ee);if(Te>=0){var Ue=Math.round(me/(Math.PI/4));ee=G[(Te+Ue)%G.length]}return ee}(Q,se.angle)),Q?"".concat(Q,"-resize"):""},he=e(4381),ve=e(9645),fe=e(583),X=e(4761),q=e(9215),U=e(2361),R=function(ie,se,ue,pe,Q,ee,me){var Te=new Set(se),Ue=se.filter(function(Oe){return(0,d.He)(Oe)}).map(function(Oe){return Oe.id});Ue.length>0&&Q.getNonDeletedElements().filter(function(Oe){return!(0,d.Xh)(Oe)}).filter(function(Oe){return Oe.frameId!==null}).filter(function(Oe){return Ue.includes(Oe.frameId)}).forEach(function(Oe){return Te.add(Oe)});var qe=(0,T.KP)(Array.from(Te).map(function(Oe){var Ie;return(Ie=ie.originalElements.get(Oe.id))!==null&&Ie!==void 0?Ie:Oe})),Ae=B(qe,ue,ee,me);Te.forEach(function(Oe){if(M(ie,Oe,Ae),!(0,d.Yv)(Oe)&&(!Oe.groupIds.length||pe.editingGroupId&&!(0,q.zq)(pe,Oe))){var Ie=(0,X.WJ)(Oe);Ie&&M(ie,Ie,Ae)}(0,ve.Ww)(Oe,{simultaneouslyUpdated:Array.from(Te)})})},B=function(ie,se,ue,pe){var Q=(0,c.Z)(ie,2),ee=Q[0],me=Q[1],Te=ee+se.x+ue.x,Ue=me+se.y+ue.y;if(ue.x===0||ue.y===0){var qe=(0,U.wC)(ee+se.x,me+se.y,pe),Ae=(0,c.Z)(qe,2),Oe=Ae[0],Ie=Ae[1];ue.x===0&&(Te=Oe),ue.y===0&&(Ue=Ie)}return{x:Te-ee,y:Ue-me}},M=function(ie,se,ue){var pe,Q=(pe=ie.originalElements.get(se.id))!==null&&pe!==void 0?pe:se,ee=Q.x+ue.x,me=Q.y+ue.y;(0,fe.DR)(se,{x:ee,y:me})},I=function(ie,se,ue){var pe=(0,T.KP)(ie),Q=(0,c.Z)(pe,2);return[se-Q[0],ue-Q[1]]},E=function(ie,se,ue,pe,Q,ee,me,Te,Ue,qe,Ae){var Oe=arguments.length>11&&arguments[11]!==void 0?arguments[11]:null;if(Ue&&ie.type!=="selection")if(Ae)Te=me/Ae;else{if(Math.abs(ee-pe)>Math.abs(Q-ue)){var Ie=(0,v.uK)(se,Te,Q<ue?-me:me);me=Ie.width,Te=Ie.height}else{var Re=(0,v.uK)(se,me,ee<pe?-Te:Te);me=Re.width,Te=Re.height}Te<0&&(Te=-Te)}var ke,xe,ye=Q<ue?ue-me:ue,P=ee<pe?pe-Te:pe;qe&&(ye=ue-(me+=me)/2,P=pe-(Te+=Te)/2),me!==0&&Te!==0&&(0,fe.DR)(ie,{x:ye+((ke=Oe?.x)!==null&&ke!==void 0?ke:0),y:P+((xe=Oe?.y)!==null&&xe!==void 0?xe:0),width:me,height:Te})},p=e(3474),r=e(4105),o=function(ie,se){return!!(!ie.viewModeEnabled&&(ie.activeTool.type!=="custom"&&(ie.editingElement||ie.activeTool.type!=="selection"&&ie.activeTool.type!=="eraser"&&ie.activeTool.type!=="hand"&&ie.activeTool.type!=="laser")||(0,r.eD)(se,ie).length))};function g(ie,se){var ue=Object.keys(ie);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(ie);se&&(pe=pe.filter(function(Q){return Object.getOwnPropertyDescriptor(ie,Q).enumerable})),ue.push.apply(ue,pe)}return ue}function s(ie){for(var se=1;se<arguments.length;se++){var ue=arguments[se]!=null?arguments[se]:{};se%2?g(Object(ue),!0).forEach(function(pe){(0,w.Z)(ie,pe,ue[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(ue)):g(Object(ue)).forEach(function(pe){Object.defineProperty(ie,pe,Object.getOwnPropertyDescriptor(ue,pe))})}return ie}var u=function(ie){return ie.reduce(function(se,ue){return se+ue.version},0)},k=function(ie){return ie.filter(function(se){return!se.isDeleted&&!(0,v.QD)(se)})},N=function(ie){return ie.filter(function(se){return!se.isDeleted})},W=function(ie){return ie.filter(function(se){return!se.isDeleted})},O=function(ie){return!ie.isDeleted},j=function(ie){return N(ie).map(function(se){return(0,d.dt)(se.type)?s(s({},se),{},{lastCommittedPoint:null}):se})},L=function(ie){return j(ie)},V=function(ie){return j(ie)}},7422:function(te,t,e){e.d(t,{_:function(){return B}});var w=e(1930),v=e(7169),d=e(2577),b=e(8821),T=e(5169),S=e(2361),a=e(7651),c=e(4949),Z=e(583),F=e(457),_=e(9645),h=e(9827),x=e(4183),G=e(5491),le=e(4761),he=e(9937),ve=e(2921);function fe(I,E){var p=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(!p){if(Array.isArray(I)||(p=function(k,N){if(k){if(typeof k=="string")return X(k,N);var W=Object.prototype.toString.call(k).slice(8,-1);if(W==="Object"&&k.constructor&&(W=k.constructor.name),W==="Map"||W==="Set")return Array.from(k);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return X(k,N)}}(I))||E){p&&(I=p);var r=0,o=function(){};return{s:o,n:function(){return r>=I.length?{done:!0}:{done:!1,value:I[r++]}},e:function(k){throw k},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,s=!0,u=!1;return{s:function(){p=p.call(I)},n:function(){var k=p.next();return s=k.done,k},e:function(k){u=!0,g=k},f:function(){try{s||p.return==null||p.return()}finally{if(u)throw g}}}}function X(I,E){(E==null||E>I.length)&&(E=I.length);for(var p=0,r=new Array(E);p<E;p++)r[p]=I[p];return r}function q(I,E){var p=Object.keys(I);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(I);E&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(I,o).enumerable})),p.push.apply(p,r)}return p}function U(I){for(var E=1;E<arguments.length;E++){var p=arguments[E]!=null?arguments[E]:{};E%2?q(Object(p),!0).forEach(function(r){(0,v.Z)(I,r,p[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(p)):q(Object(p)).forEach(function(r){Object.defineProperty(I,r,Object.getOwnPropertyDescriptor(p,r))})}return I}var R={version:null,points:[],zoom:null},B=function(){function I(E,p){(0,b.Z)(this,I),this.elementId=E.id,F.Z.mapElementToScene(this.elementId,p),I.normalizePoints(E),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,T.Z)(I,null,[{key:"getElement",value:function(E){var p,r=(p=F.Z.getScene(E))===null||p===void 0?void 0:p.getNonDeletedElement(E);return r||null}},{key:"handleBoxSelection",value:function(E,p,r){var o;if(!p.editingLinearElement||((o=p.draggingElement)===null||o===void 0?void 0:o.type)!=="selection")return!1;var g=p.editingLinearElement,s=g.selectedPointsIndices,u=g.elementId,k=I.getElement(u);if(!k)return!1;var N=(0,a.qf)(p.draggingElement),W=(0,d.Z)(N,4),O=W[0],j=W[1],L=W[2],V=W[3],ie=I.getPointsGlobalCoordinates(k).reduce(function(se,ue,pe){return(ue[0]>=O&&ue[0]<=L&&ue[1]>=j&&ue[1]<=V||E.shiftKey&&s!=null&&s.includes(pe))&&se.push(pe),se},[]);r({editingLinearElement:U(U({},g),{},{selectedPointsIndices:ie.length?ie:null})})}},{key:"handlePointDragging",value:function(E,p,r,o,g,s){if(!s)return!1;var u=s.selectedPointsIndices,k=s.elementId,N=I.getElement(k);if(!N)return!1;var W=N.points[s.pointerDownState.lastClickedPoint];if(u&&W){if((0,G.Ge)(E)&&u.length===1&&N.points.length>1){var O=u[0],j=N.points[O===0?1:O-1],L=I._getShiftLockedDelta(N,j,[r,o],E[G.tW.CTRL_OR_CMD]?null:p.gridSize),V=(0,d.Z)(L,2),ie=V[0],se=V[1];I.movePoints(N,[{index:O,point:[ie+j[0],se+j[1]],isDragging:O===s.pointerDownState.lastClickedPoint}])}else{var ue=I.createPointAt(N,r-s.pointerOffset.x,o-s.pointerOffset.y,E[G.tW.CTRL_OR_CMD]?null:p.gridSize),pe=ue[0]-W[0],Q=ue[1]-W[1];I.movePoints(N,u.map(function(Te){return{index:Te,point:Te===s.pointerDownState.lastClickedPoint?I.createPointAt(N,r-s.pointerOffset.x,o-s.pointerOffset.y,E[G.tW.CTRL_OR_CMD]?null:p.gridSize):[N.points[Te][0]+pe,N.points[Te][1]+Q],isDragging:Te===s.pointerDownState.lastClickedPoint}}))}if((0,le.WJ)(N)&&(0,le.RB)(N,!1),(0,x.Mn)(N,!1)){var ee=[];u[0]===0&&ee.push((0,h.AK)(I.getPointGlobalCoordinates(N,N.points[0])));var me=u[u.length-1];me===N.points.length-1&&ee.push((0,h.AK)(I.getPointGlobalCoordinates(N,N.points[me]))),ee.length&&g(N,ee)}return!0}return!1}},{key:"handlePointerUp",value:function(E,p,r){var o,g=p.elementId,s=p.selectedPointsIndices,u=p.isDragging,k=p.pointerDownState,N=I.getElement(g);if(!N)return p;var W={};if(u&&s){var O,j=fe(s);try{for(j.s();!(O=j.n()).done;){var L=O.value;if(L===0||L===N.points.length-1){(0,S.g6)(N.points,r.zoom.value)&&I.movePoints(N,[{index:L,point:L===0?N.points[N.points.length-1]:N.points[0]}]);var V=(0,_.N1)(r)?(0,_.Y9)((0,h.AK)(I.getPointAtIndexGlobalCoordinates(N,L)),F.Z.getScene(N)):null;W[L===0?"startBindingElement":"endBindingElement"]=V}}}catch(ie){j.e(ie)}finally{j.f()}}return U(U(U({},p),W),{},{selectedPointsIndices:u||E.shiftKey?!u&&E.shiftKey&&(o=k.prevSelectedPointsIndices)!==null&&o!==void 0&&o.includes(k.lastClickedPoint)?s&&s.filter(function(ie){return ie!==k.lastClickedPoint}):s:s!=null&&s.includes(k.lastClickedPoint)?[k.lastClickedPoint]:s,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(E,p,r,o){var g=(0,S.LW)(p[0],p[1],r[0],r[1]);return E.points.length>2&&E.roundness&&(g=(0,S.eH)(E,r)),g*o.value<4*I.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(E,p,r,o){var g=(0,S.H5)(p,r);if(E.points.length>2&&E.roundness){var s=(0,S.yB)(E,E.points[o]);if(s){var u=(0,S.lk)(E,E.points[o],.5),k=(0,S.N_)(s[0],s[1],s[2],s[3],u),N=(0,d.Z)(k,2),W=N[0],O=N[1];g=I.getPointGlobalCoordinates(E,[W,O])}}return g}},{key:"getSegmentMidPointIndex",value:function(E,p,r){var o=I.getElement(E.elementId);if(!o)return-1;for(var g=I.getEditorMidPoints(o,p),s=0;s<g.length;){if(I.arePointsEqual(r,g[s]))return s+1;s++}return-1}},{key:"handlePointerDown",value:function(E,p,r,o,g){var s,u={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!g)return u;var k=g.elementId,N=I.getElement(k);if(!N)return u;var W=I.getSegmentMidpointHitCoords(g,o,p),O=null;if(W&&(O=I.getSegmentMidPointIndex(g,p,W)),E.altKey&&p.editingLinearElement)return g.lastUncommittedPoint==null&&((0,Z.DR)(N,{points:[].concat((0,w.Z)(N.points),[I.createPointAt(N,o.x,o.y,E[G.tW.CTRL_OR_CMD]?null:p.gridSize)])}),u.didAddPoint=!0),r.resumeRecording(),u.linearElementEditor=U(U({},g),{},{pointerDownState:{prevSelectedPointsIndices:g.selectedPointsIndices,lastClickedPoint:-1,origin:{x:o.x,y:o.y},segmentMidpoint:{value:W,index:O,added:!1}},selectedPointsIndices:[N.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,_.Y9)(o,F.Z.getScene(N))}),u.didAddPoint=!0,u;var j=I.getPointIndexUnderCursor(N,p.zoom,o.x,o.y);if(j>=0||W)u.hitElement=N;else{var L=g.startBindingElement,V=g.endBindingElement;(0,_.N1)(p)&&(0,x.Mn)(N)&&(0,_.HG)(N,L,V)}var ie=(0,a.qf)(N),se=(0,d.Z)(ie,4),ue=se[0],pe=se[1],Q=(ue+se[2])/2,ee=(pe+se[3])/2,me=j>-1&&(0,S.U1)(N.x+N.points[j][0],N.y+N.points[j][1],Q,ee,N.angle),Te=j>-1||E.shiftKey?E.shiftKey||(s=g.selectedPointsIndices)!==null&&s!==void 0&&s.includes(j)?M([].concat((0,w.Z)(g.selectedPointsIndices||[]),[j])):[j]:null;return u.linearElementEditor=U(U({},g),{},{pointerDownState:{prevSelectedPointsIndices:g.selectedPointsIndices,lastClickedPoint:j,origin:{x:o.x,y:o.y},segmentMidpoint:{value:W,index:O,added:!1}},selectedPointsIndices:Te,pointerOffset:me?{x:o.x-me[0],y:o.y-me[1]}:{x:0,y:0}}),u}},{key:"arePointsEqual",value:function(E,p){return!E&&!p||!(!E||!p)&&(0,S.Jj)(E,p)}},{key:"handlePointerMove",value:function(E,p,r,o){if(!o.editingLinearElement)return null;var g=o.editingLinearElement,s=g.elementId,u=g.lastUncommittedPoint,k=I.getElement(s);if(!k)return o.editingLinearElement;var N,W=k.points,O=W[W.length-1];if(!E.altKey)return O===u&&I.deletePoints(k,[W.length-1]),U(U({},o.editingLinearElement),{},{lastUncommittedPoint:null});if((0,G.Ge)(E)&&W.length>=2){var j=W[W.length-2],L=I._getShiftLockedDelta(k,j,[p,r],E[G.tW.CTRL_OR_CMD]?null:o.gridSize),V=(0,d.Z)(L,2),ie=V[0],se=V[1];N=[ie+j[0],se+j[1]]}else N=I.createPointAt(k,p-o.editingLinearElement.pointerOffset.x,r-o.editingLinearElement.pointerOffset.y,E[G.tW.CTRL_OR_CMD]?null:o.gridSize);return O===u?I.movePoints(k,[{index:k.points.length-1,point:N}]):I.addPoints(k,o,[{point:N}]),U(U({},o.editingLinearElement),{},{lastUncommittedPoint:k.points[k.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(E,p){var r=(0,a.qf)(E),o=(0,d.Z)(r,4),g=o[0],s=o[1],u=(g+o[2])/2,k=(s+o[3])/2,N=E.x,W=E.y,O=(0,S.U1)(N+p[0],W+p[1],u,k,E.angle),j=(0,d.Z)(O,2);return[N=j[0],W=j[1]]}},{key:"getPointsGlobalCoordinates",value:function(E){var p=(0,a.qf)(E),r=(0,d.Z)(p,4),o=r[0],g=r[1],s=r[2],u=r[3],k=(o+s)/2,N=(g+u)/2;return E.points.map(function(W){var O=E.x,j=E.y,L=(0,S.U1)(O+W[0],j+W[1],k,N,E.angle),V=(0,d.Z)(L,2);return[O=V[0],j=V[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(E,p){var r=p<0?E.points.length+p:p,o=(0,a.qf)(E),g=(0,d.Z)(o,4),s=g[0],u=g[1],k=(s+g[2])/2,N=(u+g[3])/2,W=E.points[r],O=E.x,j=E.y;return W?(0,S.U1)(O+W[0],j+W[1],k,N,E.angle):(0,S.U1)(O,j,k,N,E.angle)}},{key:"pointFromAbsoluteCoords",value:function(E,p){var r=(0,a.qf)(E),o=(0,d.Z)(r,4),g=o[0],s=o[1],u=(g+o[2])/2,k=(s+o[3])/2,N=(0,S.U1)(p[0],p[1],u,k,-E.angle),W=(0,d.Z)(N,2),O=W[0],j=W[1];return[O-E.x,j-E.y]}},{key:"getPointIndexUnderCursor",value:function(E,p,r,o){for(var g=I.getPointsGlobalCoordinates(E),s=g.length;--s>-1;){var u=g[s];if((0,S.LW)(r,o,u[0],u[1])*p.value<I.POINT_HANDLE_SIZE+1)return s}return-1}},{key:"createPointAt",value:function(E,p,r,o){var g=(0,S.wC)(p,r,o),s=(0,a.qf)(E),u=(0,d.Z)(s,4),k=u[0],N=u[1],W=(k+u[2])/2,O=(N+u[3])/2,j=(0,S.U1)(g[0],g[1],W,O,-E.angle),L=(0,d.Z)(j,2),V=L[0],ie=L[1];return[V-E.x,ie-E.y]}},{key:"getNormalizedPoints",value:function(E){var p=E.points,r=p[0][0],o=p[0][1];return{points:p.map(function(g,s){return[g[0]-r,g[1]-o]}),x:E.x+r,y:E.y+o}}},{key:"normalizePoints",value:function(E){(0,Z.DR)(E,I.getNormalizedPoints(E))}},{key:"duplicateSelectedPoints",value:function(E){if(!E.editingLinearElement)return!1;var p=E.editingLinearElement,r=p.selectedPointsIndices,o=p.elementId,g=I.getElement(o);if(!g||r===null)return!1;var s=g.points,u=[],k=!1,N=-1,W=s.reduce(function(j,L,V){if(++N,j.push(L),r.includes(V)){var ie=s[V+1];ie||(k=!0),j.push(ie?[(L[0]+ie[0])/2,(L[1]+ie[1])/2]:[L[0],L[1]]),u.push(N+1),++N}return j},[]);if((0,Z.DR)(g,{points:W}),k){var O=g.points[g.points.length-1];I.movePoints(g,[{index:g.points.length-1,point:[O[0]+30,O[1]+30]}])}return{appState:U(U({},E),{},{editingLinearElement:U(U({},E.editingLinearElement),{},{selectedPointsIndices:u})})}}},{key:"deletePoints",value:function(E,p){var r=0,o=0;if(p.includes(0)){var g=E.points.find(function(u,k){return!p.includes(k)});g&&(r=g[0],o=g[1])}var s=E.points.reduce(function(u,k,N){return p.includes(N)||u.push(u.length?[k[0]-r,k[1]-o]:[0,0]),u},[]);I._updatePoints(E,s,r,o)}},{key:"addPoints",value:function(E,p,r){var o=[].concat((0,w.Z)(E.points),(0,w.Z)(r.map(function(g){return g.point})));I._updatePoints(E,o,0,0)}},{key:"movePoints",value:function(E,p,r){var o=E.points,g=0,s=0,u=p.find(function(N){return N.index===0});u&&(g=u.point[0]+o[u.index][0],s=u.point[1]+o[u.index][1]);var k=o.map(function(N,W){var O=p.find(function(V){return V.index===W});if(O){if(u)return N;var j=O.point[0]-o[O.index][0],L=O.point[1]-o[O.index][1];return[N[0]+j,N[1]+L]}return g||s?[N[0]-g,N[1]-s]:N});I._updatePoints(E,k,g,s,r)}},{key:"shouldAddMidpoint",value:function(E,p,r){if(!I.getElement(E.elementId))return!1;var o=E.pointerDownState.segmentMidpoint;if(o.added||o.value===null||o.index===null||E.pointerDownState.origin===null)return!1;var g=E.pointerDownState.origin,s=(0,S.LW)(g.x,g.y,p.x,p.y);return!(!r.editingLinearElement&&s<he.f/r.zoom.value)}},{key:"addMidpoint",value:function(E,p,r,o){var g=I.getElement(E.elementId);if(g){var s=E.pointerDownState.segmentMidpoint,u={pointerDownState:E.pointerDownState,selectedPointsIndices:E.selectedPointsIndices},k=I.createPointAt(g,p.x,p.y,o?r.gridSize:null),N=[].concat((0,w.Z)(g.points.slice(0,s.index)),[k],(0,w.Z)(g.points.slice(s.index)));return(0,Z.DR)(g,{points:N}),u.pointerDownState=U(U({},E.pointerDownState),{},{segmentMidpoint:U(U({},E.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:s.index}),u.selectedPointsIndices=[s.index],u}}},{key:"_updatePoints",value:function(E,p,r,o,g){var s=(0,c.Ut)(E,p),u=(0,c.Ut)(E,E.points),k=(s[0]+s[2])/2,N=(s[1]+s[3])/2,W=(u[0]+u[2])/2-k,O=(u[1]+u[3])/2-N,j=(0,S.U1)(r,o,W,O,E.angle);(0,Z.DR)(E,U(U({},g),{},{points:p,x:E.x+j[0],y:E.y+j[1]}))}},{key:"_getShiftLockedDelta",value:function(E,p,r,o){var g=I.getPointGlobalCoordinates(E,p),s=(0,S.wC)(r[0],r[1],o),u=(0,d.Z)(s,2),k=u[0],N=u[1],W=(0,a.o4)(g[0],g[1],k,N),O=W.width,j=W.height;return(0,S.xj)([O,j],[0,0],-E.angle)}}]),I}();B.POINT_HANDLE_SIZE=10,B.getEditorMidPoints=function(I,E){var p=(0,le.WJ)(I);return!E.editingLinearElement&&I.points.length>2&&!p?[]:(R.version===I.version&&R.zoom===E.zoom.value||B.updateEditorMidPointsCache(I,E),R.points)},B.updateEditorMidPointsCache=function(I,E){for(var p=B.getPointsGlobalCoordinates(I),r=0,o=[];r<p.length-1;)if(B.isSegmentTooShort(I,I.points[r],I.points[r+1],E.zoom))o.push(null),r++;else{var g=B.getSegmentMidPoint(I,p[r],p[r+1],r+1);o.push(g),r++}R.points=o,R.version=I.version,R.zoom=E.zoom.value},B.getSegmentMidpointHitCoords=function(I,E,p){var r=I.elementId,o=B.getElement(r);if(!o||B.getPointIndexUnderCursor(o,p.zoom,E.x,E.y)>=0||B.getPointsGlobalCoordinates(o).length>=3&&!p.editingLinearElement)return null;var g=B.POINT_HANDLE_SIZE/p.zoom.value,s=I.segmentMidPointHoveredCoords;if(s&&(0,S.LW)(s[0],s[1],E.x,E.y)<=g)return s;for(var u=0,k=B.getEditorMidPoints(o,p);u<k.length;){if(k[u]!==null&&(0,S.LW)(k[u][0],k[u][1],E.x,E.y)<=g)return k[u];u++}return null},B.getBoundTextElementPosition=function(I,E){var p=B.getPointsGlobalCoordinates(I);p.length<2&&(0,Z.DR)(E,{isDeleted:!0});var r=0,o=0;if(I.points.length%2==1){var g=Math.floor(I.points.length/2),s=B.getPointGlobalCoordinates(I,I.points[g]);r=s[0]-E.width/2,o=s[1]-E.height/2}else{var u=I.points.length/2-1,k=R.points[u];I.points.length===2&&(k=(0,S.H5)(p[0],p[1])),k&&R.version===I.version||(k=B.getSegmentMidPoint(I,p[u],p[u+1],u+1)),r=k[0]-E.width/2,o=k[1]-E.height/2}return{x:r,y:o}},B.getMinMaxXYWithBoundText=function(I,E,p){var r=(0,d.Z)(E,4),o=r[0],g=r[1],s=r[2],u=r[3],k=(o+s)/2,N=(g+u)/2,W=B.getBoundTextElementPosition(I,p),O=W.x,j=W.y,L=O+p.width,V=j+p.height,ie=(0,S.xj)([o,g],[k,N],I.angle),se=(0,S.xj)([s,g],[k,N],I.angle),ue=(0,S.xj)([O,j],[k,N],-I.angle),pe=(0,S.xj)([L,j],[k,N],-I.angle),Q=(0,S.xj)([O,V],[k,N],-I.angle),ee=(0,S.xj)([L,V],[k,N],-I.angle);return ie[0]<se[0]&&ie[1]>=se[1]?(o=Math.min(o,Q[0]),s=Math.max(s,Math.max(pe[0],ee[0])),g=Math.min(g,ue[1]),u=Math.max(u,ee[1])):ie[0]>=se[0]&&ie[1]>se[1]?(o=Math.min(o,ee[0]),s=Math.max(s,Math.max(ue[0],pe[0])),g=Math.min(g,Q[1]),u=Math.max(u,pe[1])):ie[0]>=se[0]?(o=Math.min(o,pe[0]),s=Math.max(s,Q[0]),g=Math.min(g,ee[1]),u=Math.max(u,ue[1])):ie[1]<=se[1]&&(o=Math.min(o,Math.min(pe[0],ue[0])),s=Math.max(s,ee[0]),g=Math.min(g,pe[1]),u=Math.max(u,Q[1])),[o,g,s,u,k,N]},B.getElementAbsoluteCoords=function(I){var E,p,r,o,g,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(I.points.length<2||!ve.R.get(I)){var u=I.points.reduce(function(Ue,qe){var Ae=(0,d.Z)(qe,2),Oe=Ae[0],Ie=Ae[1];return Ue.minY=Math.min(Ue.minY,Ie),Ue.minX=Math.min(Ue.minX,Oe),Ue.maxX=Math.max(Ue.maxX,Oe),Ue.maxY=Math.max(Ue.maxY,Ie),Ue},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),k=u.minX,N=u.minY,W=u.maxX,O=u.maxY;p=k+I.x,r=N+I.y,o=W+I.x,g=O+I.y}else{var j=ve.R.generateElementShape(I),L=(0,c.CM)(j[0]),V=(0,c.IX)(L),ie=(0,d.Z)(V,4),se=ie[0],ue=ie[1],pe=ie[2],Q=ie[3];p=se+I.x,r=ue+I.y,o=pe+I.x,g=Q+I.y}var ee=(p+o)/2,me=(r+g)/2;if(E=[p,r,o,g,ee,me],!s)return E;var Te=(0,le.WJ)(I);return Te&&(E=B.getMinMaxXYWithBoundText(I,[p,r,o,g],Te)),E};var M=function(I){var E=(0,w.Z)(new Set(I.filter(function(p){return p!==null&&p!==-1})));return(E=E.sort(function(p,r){return p-r})).length?E:null}},583:function(te,t,e){e.d(t,{BE:function(){return _},DR:function(){return F},ZP:function(){return h}});var w=e(6655),v=e(7169),d=e(457),b=e(5999),T=e(4643),S=e(9827),a=e(2921);function c(x,G){var le=Object.keys(x);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(x);G&&(he=he.filter(function(ve){return Object.getOwnPropertyDescriptor(x,ve).enumerable})),le.push.apply(le,he)}return le}function Z(x){for(var G=1;G<arguments.length;G++){var le=arguments[G]!=null?arguments[G]:{};G%2?c(Object(le),!0).forEach(function(he){(0,v.Z)(x,he,le[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(le)):c(Object(le)).forEach(function(he){Object.defineProperty(x,he,Object.getOwnPropertyDescriptor(le,he))})}return x}var F=function(x,G){var le,he=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ve=!1,fe=G,X=fe.points,q=fe.fileId;for(var U in X!==void 0&&(G=Z(Z({},(0,b.k)(X)),G)),G){var R=G[U];if(R!==void 0){if(x[U]===R&&((0,w.Z)(R)!=="object"||R===null||U==="groupIds"||U==="scale"))continue;if(U==="scale"){var B=x[U],M=R;if(B[0]===M[0]&&B[1]===M[1])continue}else if(U==="points"){var I=x[U],E=R;if(I.length===E.length){for(var p=!1,r=I.length;--r;){var o=I[r],g=E[r];if(o[0]!==g[0]||o[1]!==g[1]){p=!0;break}}if(!p)continue}}x[U]=R,ve=!0}}return ve&&(G.height===void 0&&G.width===void 0&&q===void 0&&X===void 0||a.R.delete(x),x.version++,x.versionNonce=(0,T.LU)(),x.updated=(0,S.C3)(),he&&((le=d.Z.getScene(x))===null||le===void 0||le.informMutation())),x},_=function(x,G){var le=!1;for(var he in G){var ve=G[he];if(ve!==void 0){if(x[he]===ve&&((0,w.Z)(ve)!=="object"||ve===null))continue;le=!0}}return le?Z(Z(Z({},x),G),{},{updated:(0,S.C3)(),version:x.version+1,versionNonce:(0,T.LU)()}):x},h=function(x,G){return x.version=(G??x.version)+1,x.versionNonce=(0,T.LU)(),x.updated=(0,S.C3)(),x}},5742:function(te,t,e){e.d(t,{JZ:function(){return E},KE:function(){return r},M:function(){return U},M3:function(){return R},N_:function(){return p},OL:function(){return u},Sy:function(){return N},Up:function(){return q},VL:function(){return M},_N:function(){return W},vw:function(){return g},y8:function(){return o}});var w=e(6655),v=e(2577),d=e(7169),b=e(2726),T=e(9827),S=e(4643),a=e(583),c=e(9215),Z=e(7651),F=e(2361),_=e(4949),h=e(4761),x=e(9937),G=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","roundness","boundElements","link","locked"];function le(O,j){var L=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!L){if(Array.isArray(O)||(L=function(Q,ee){if(Q){if(typeof Q=="string")return he(Q,ee);var me=Object.prototype.toString.call(Q).slice(8,-1);if(me==="Object"&&Q.constructor&&(me=Q.constructor.name),me==="Map"||me==="Set")return Array.from(Q);if(me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me))return he(Q,ee)}}(O))||j){L&&(O=L);var V=0,ie=function(){};return{s:ie,n:function(){return V>=O.length?{done:!0}:{done:!1,value:O[V++]}},e:function(Q){throw Q},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,ue=!0,pe=!1;return{s:function(){L=L.call(O)},n:function(){var Q=L.next();return ue=Q.done,Q},e:function(Q){pe=!0,se=Q},f:function(){try{ue||L.return==null||L.return()}finally{if(pe)throw se}}}}function he(O,j){(j==null||j>O.length)&&(j=O.length);for(var L=0,V=new Array(j);L<j;L++)V[L]=O[L];return V}function ve(O,j){var L=Object.keys(O);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(O);j&&(V=V.filter(function(ie){return Object.getOwnPropertyDescriptor(O,ie).enumerable})),L.push.apply(L,V)}return L}function fe(O){for(var j=1;j<arguments.length;j++){var L=arguments[j]!=null?arguments[j]:{};j%2?ve(Object(L),!0).forEach(function(V){(0,d.Z)(O,V,L[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(L)):ve(Object(L)).forEach(function(V){Object.defineProperty(O,V,Object.getOwnPropertyDescriptor(L,V))})}return O}var X=function(O,j){var L,V,ie=j.x,se=j.y,ue=j.strokeColor,pe=ue===void 0?x.HN.strokeColor:ue,Q=j.backgroundColor,ee=Q===void 0?x.HN.backgroundColor:Q,me=j.fillStyle,Te=me===void 0?x.HN.fillStyle:me,Ue=j.strokeWidth,qe=Ue===void 0?x.HN.strokeWidth:Ue,Ae=j.strokeStyle,Oe=Ae===void 0?x.HN.strokeStyle:Ae,Ie=j.roughness,Re=Ie===void 0?x.HN.roughness:Ie,ke=j.opacity,xe=ke===void 0?x.HN.opacity:ke,ye=j.width,P=ye===void 0?0:ye,l=j.height,f=l===void 0?0:l,D=j.angle,H=D===void 0?0:D,J=j.groupIds,re=J===void 0?[]:J,ae=j.frameId,ge=ae===void 0?null:ae,_e=j.roundness,ze=_e===void 0?null:_e,Je=j.boundElements,et=Je===void 0?null:Je,Ke=j.link,tt=Ke===void 0?null:Ke,ut=j.locked,ht=ut===void 0?x.HN.locked:ut,He=(0,b.Z)(j,G);return{id:He.id||(0,S.kb)(),type:O,x:ie,y:se,width:P,height:f,angle:H,strokeColor:pe,backgroundColor:ee,fillStyle:Te,strokeWidth:qe,strokeStyle:Oe,roughness:Re,opacity:xe,groupIds:re,frameId:ge,roundness:ze,seed:(L=He.seed)!==null&&L!==void 0?L:(0,S.LU)(),version:He.version||1,versionNonce:(V=He.versionNonce)!==null&&V!==void 0?V:0,isDeleted:!1,boundElements:et,updated:(0,T.C3)(),link:tt,locked:ht,customData:He.customData}},q=function(O){return X(O.type,O)},U=function(O){return fe(fe({},X("embeddable",O)),{},{validated:O.validated})},R=function(O){return(0,a.BE)(fe(fe({},X("frame",O)),{},{type:"frame",name:O?.name||null}),{})},B=function(O,j){return{x:O.textAlign==="center"?j.width/2:O.textAlign==="right"?j.width:0,y:O.verticalAlign==="middle"?j.height/2:0}},M=function(O){var j=O.fontFamily||x.rk,L=O.fontSize||x.n5,V=O.lineHeight||(0,h.PT)(j),ie=(0,h.bG)(O.text),se=(0,h.X1)(ie,(0,T.mO)({fontFamily:j,fontSize:L}),V),ue=O.textAlign||x.Hg,pe=O.verticalAlign||x.hs,Q=B({textAlign:ue,verticalAlign:pe},se);return(0,a.BE)(fe(fe({},X("text",O)),{},{text:ie,fontSize:L,fontFamily:j,textAlign:ue,verticalAlign:pe,x:O.x-Q.x,y:O.y-Q.y,width:se.width,height:se.height,baseline:se.baseline,containerId:O.containerId||null,originalText:ie,lineHeight:V}),{})},I=function(O,j){var L,V,ie=(0,h.X1)(j,(0,T.mO)(O),O.lineHeight),se=ie.width,ue=ie.height,pe=ie.baseline,Q=O.textAlign,ee=O.verticalAlign;if(Q!=="center"||ee!==x.oX.MIDDLE||O.containerId){var me=(0,Z.qf)(O),Te=(0,v.Z)(me,4),Ue=Te[0],qe=Te[1],Ae=Te[2],Oe=Te[3],Ie=(0,_.wC)(O,se,ue,!1),Re=(0,v.Z)(Ie,4),ke=(Ue-Re[0])/2,xe=(qe-Re[1])/2,ye=(Ae-Re[2])/2,P=(Oe-Re[3])/2,l=(0,F.yq)({s:!0,e:Q==="center"||Q==="left",w:Q==="center"||Q==="right"},O.x,O.y,O.angle,ke,xe,ye,P),f=(0,v.Z)(l,2);L=f[0],V=f[1]}else{var D=(0,h.X1)(O.text,(0,T.mO)(O),O.lineHeight),H=B(O,{width:se-D.width,height:ue-D.height});L=O.x-H.x,V=O.y-H.y}return{width:se,height:ue,baseline:pe,x:Number.isFinite(L)?L:O.x,y:Number.isFinite(V)?V:O.y}},E=function(O){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O.text;if(!O.isDeleted){var L=(0,h.tl)(O);L&&(j=(0,h.lD)(j,(0,T.mO)(O),(0,h.iZ)(L)));var V=I(O,j);return fe({text:j},V)}},p=function(O,j){j.text;var L=j.isDeleted,V=j.originalText;return(0,a.BE)(O,fe({originalText:V,isDeleted:L??O.isDeleted},E(O,V)))},r=function(O){return fe(fe({},X(O.type,O)),{},{points:O.points||[],pressures:[],simulatePressure:O.simulatePressure,lastCommittedPoint:null})},o=function(O){return fe(fe({},X(O.type,O)),{},{points:O.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:O.startArrowhead||null,endArrowhead:O.endArrowhead||null})},g=function(O){var j,L,V;return fe(fe({},X("image",O)),{},{strokeColor:"transparent",status:(j=O.status)!==null&&j!==void 0?j:"pending",fileId:(L=O.fileId)!==null&&L!==void 0?L:null,scale:(V=O.scale)!==null&&V!==void 0?V:[1,1]})},s=function O(j){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(j==null||(0,w.Z)(j)!=="object")return j;var V=Object.prototype.toString.call(j);if(V==="[object Object]"){var ie=typeof j.constructor=="function"?Object.create(Object.getPrototypeOf(j)):{};for(var se in j)if(j.hasOwnProperty(se)){if(L===0&&(se==="shape"||se==="canvas"))continue;ie[se]=O(j[se],L+1)}return ie}if(Array.isArray(j)){for(var ue=j.length,pe=new Array(ue);ue--;)pe[ue]=O(j[ue],L+1);return pe}return j},u=function(O){return s(O)},k=function(O){if((0,T.h2)()&&O){var j,L,V="".concat(O,"_copy");return(j=window.h)!==null&&j!==void 0&&(L=j.app)!==null&&L!==void 0&&L.getSceneElementsIncludingDeleted().find(function(ie){return ie.id===V})&&(V+="_copy"),V}return(0,S.kb)()},N=function(O,j,L,V){var ie=u(L);return ie.id=k(ie.id),ie.boundElements=null,ie.updated=(0,T.C3)(),ie.seed=(0,S.LU)(),ie.groupIds=(0,c.Qy)(ie.groupIds,O,function(se){return j.has(se)||j.set(se,k(se)),j.get(se)}),V&&(ie=Object.assign(ie,V)),ie},W=function(O,j){var L,V=[],ie=(0,T.xn)(O),se=new Map,ue=function(Ae){if(se.has(Ae))return se.get(Ae);if(ie.has(Ae)){var Oe=k(Ae);return se.set(Ae,Oe),Oe}return null},pe=new Map,Q=le(O);try{for(Q.s();!(L=Q.n()).done;){var ee=L.value,me=s(ee);if(me.id=ue(ee.id),j!=null&&j.randomizeSeed&&(me.seed=(0,S.LU)(),(0,a.ZP)(me)),me.groupIds&&(me.groupIds=me.groupIds.map(function(Ae){return pe.has(Ae)||pe.set(Ae,k(Ae)),pe.get(Ae)})),"containerId"in me&&me.containerId){var Te=ue(me.containerId);me.containerId=Te}if("boundElements"in me&&me.boundElements&&(me.boundElements=me.boundElements.reduce(function(Ae,Oe){var Ie=ue(Oe.id);return Ie&&Ae.push(fe(fe({},Oe),{},{id:Ie})),Ae},[])),"endBinding"in me&&me.endBinding){var Ue=ue(me.endBinding.elementId);me.endBinding=Ue?fe(fe({},me.endBinding),{},{elementId:Ue}):null}if("startBinding"in me&&me.startBinding){var qe=ue(me.startBinding.elementId);me.startBinding=qe?fe(fe({},me.startBinding),{},{elementId:qe}):null}me.frameId&&(me.frameId=ue(me.frameId)),V.push(me)}}catch(Ae){Q.e(Ae)}finally{Q.f()}return V}},4381:function(te,t,e){e.d(t,{LM:function(){return r},T:function(){return s},vY:function(){return R},xx:function(){return g}});var w=e(2726),v=e(1930),d=e(7169),b=e(2577),T=e(9937),S=e(5999),a=e(2361),c=e(4949),Z=e(4183),F=e(583),_=e(9827),h=e(9645),x=e(457),G=e(4761),le=e(7422),he=["boundTextFontSize"];function ve(u,k){var N=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!N){if(Array.isArray(u)||(N=function(ie,se){if(ie){if(typeof ie=="string")return fe(ie,se);var ue=Object.prototype.toString.call(ie).slice(8,-1);if(ue==="Object"&&ie.constructor&&(ue=ie.constructor.name),ue==="Map"||ue==="Set")return Array.from(ie);if(ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return fe(ie,se)}}(u))||k){N&&(u=N);var W=0,O=function(){};return{s:O,n:function(){return W>=u.length?{done:!0}:{done:!1,value:u[W++]}},e:function(ie){throw ie},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,L=!0,V=!1;return{s:function(){N=N.call(u)},n:function(){var ie=N.next();return L=ie.done,ie},e:function(ie){V=!0,j=ie},f:function(){try{L||N.return==null||N.return()}finally{if(V)throw j}}}}function fe(u,k){(k==null||k>u.length)&&(k=u.length);for(var N=0,W=new Array(k);N<k;N++)W[N]=u[N];return W}function X(u,k){var N=Object.keys(u);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(u);k&&(W=W.filter(function(O){return Object.getOwnPropertyDescriptor(u,O).enumerable})),N.push.apply(N,W)}return N}function q(u){for(var k=1;k<arguments.length;k++){var N=arguments[k]!=null?arguments[k]:{};k%2?X(Object(N),!0).forEach(function(W){(0,d.Z)(u,W,N[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(N)):X(Object(N)).forEach(function(W){Object.defineProperty(u,W,Object.getOwnPropertyDescriptor(N,W))})}return u}var U=function(u){return u<0?u+2*Math.PI:u>=2*Math.PI?u-2*Math.PI:u},R=function(u,k,N,W,O,j,L,V,ie,se,ue,pe){if(N.length===1){var Q=(0,b.Z)(N,1)[0];return k==="rotation"?(B(Q,V,ie,O,u.originalElements),(0,h.Ww)(Q)):!(0,Z.iB)(Q)||k!=="nw"&&k!=="ne"&&k!=="sw"&&k!=="se"?k&&p(u.originalElements,L,Q,k,j,V,ie):(E(Q,k,j,V,ie),(0,h.Ww)(Q)),!0}if(N.length>1){if(k==="rotation")return o(u,N,V,ie,O,se,ue),!0;if(k==="nw"||k==="ne"||k==="sw"||k==="se")return r(u,N,k,j,V,ie),!0}return!1},B=function(u,k,N,W,O){var j,L=(0,c.qf)(u),V=(0,b.Z)(L,4),ie=V[0],se=V[1],ue=(ie+V[2])/2,pe=(se+V[3])/2;(0,Z.He)(u)?j=0:(j=5*Math.PI/2+Math.atan2(N-pe,k-ue),W&&(j+=T.ay/2,j-=j%T.ay),j=U(j));var Q=(0,G.xB)(u);if((0,F.DR)(u,{angle:j}),Q){var ee,me=(ee=x.Z.getScene(u))===null||ee===void 0?void 0:ee.getElement(Q);me&&!(0,Z.Yv)(u)&&(0,F.DR)(me,{angle:j})}},M=function(u,k,N,W){return(0,Z.bt)(u)||(0,Z.F9)(u)?{points:(0,S.z)(0,k,(0,S.z)(1,N,u.points,W),W)}:{}},I=function(u,k,N){var W=u.width;if((0,Z.Xh)(u)){var O=(0,G.tl)(u);O&&(W=(0,G.iZ)(O))}var j=u.fontSize*(k/W);if(j<T.CP)return null;var L=(0,G.X1)(u.text,(0,_.mO)({fontSize:j,fontFamily:u.fontFamily}),u.lineHeight);return{size:j,baseline:L.baseline+(N-L.height)}},E=function(u,k,N,W,O){var j,L=(0,c.qf)(u),V=(0,b.Z)(L,4),ie=V[0],se=V[1],ue=V[2],pe=V[3],Q=(ie+ue)/2,ee=(se+pe)/2,me=(0,a.U1)(W,O,Q,ee,-u.angle),Te=(0,b.Z)(me,2),Ue=Te[0],qe=Te[1];switch(k){case"se":j=Math.max((Ue-ie)/(ue-ie),(qe-se)/(pe-se));break;case"nw":j=Math.max((ue-Ue)/(ue-ie),(pe-qe)/(pe-se));break;case"ne":j=Math.max((Ue-ie)/(ue-ie),(pe-qe)/(pe-se));break;case"sw":j=Math.max((ue-Ue)/(ue-ie),(qe-se)/(pe-se))}if(j>0){var Ae=u.width*j,Oe=u.height*j,Ie=I(u,Ae,Oe);if(Ie===null)return;var Re=(0,c.wC)(u,Ae,Oe,!1),ke=(0,b.Z)(Re,4),xe=(ie-ke[0])/2,ye=(se-ke[1])/2,P=(ue-ke[2])/2,l=(pe-ke[3])/2,f=(0,a.yq)(function(re,ae){return{n:/^(n|ne|nw)$/.test(re)||ae&&/^(s|se|sw)$/.test(re),s:/^(s|se|sw)$/.test(re)||ae&&/^(n|ne|nw)$/.test(re),w:/^(w|nw|sw)$/.test(re)||ae&&/^(e|ne|se)$/.test(re),e:/^(e|ne|se)$/.test(re)||ae&&/^(w|nw|sw)$/.test(re)}}(k,N),u.x,u.y,u.angle,xe,ye,P,l),D=(0,b.Z)(f,2),H=D[0],J=D[1];(0,F.DR)(u,{fontSize:Ie.size,width:Ae,height:Oe,baseline:Ie.baseline,x:H,y:J})}},p=function(u,k,N,W,O,j,L){var V=u.get(N.id),ie=(0,c.wC)(V,V.width,V.height,!0),se=(0,b.Z)(ie,4),ue=[se[0],se[1]],pe=[se[2],se[3]],Q=(0,a.H5)(ue,pe),ee=(0,a.xj)([j,L],Q,-V.angle),me=(0,c.wC)(N,N.width,N.height,!0),Te=(0,b.Z)(me,4),Ue=Te[0],qe=Te[1],Ae=Te[2]-Ue,Oe=Te[3]-qe,Ie=(pe[0]-ue[0])/Ae,Re=(pe[1]-ue[1])/Oe,ke={},xe=(0,G.WJ)(N);W.includes("e")&&(Ie=(ee[0]-ue[0])/Ae),W.includes("s")&&(Re=(ee[1]-ue[1])/Oe),W.includes("w")&&(Ie=(pe[0]-ee[0])/Ae),W.includes("n")&&(Re=(pe[1]-ee[1])/Oe);var ye=V.width,P=V.height,l=N.width*Ie,f=N.height*Re;if(O&&(l=2*l-ye,f=2*f-P),k){var D=Math.abs(l)/ye,H=Math.abs(f)/P;if(W.length===1&&(f*=D,l*=H),W.length===2){var J=Math.max(D,H);l=ye*J*Math.sign(l),f=P*J*Math.sign(f)}}if(xe){var re=u.get(xe.id);if(re&&(ke={fontSize:re.fontSize,baseline:re.baseline}),k){var ae=q(q({},N),{},{width:l,height:f}),ge=I(xe,(0,G.iZ)(ae),(0,G.D9)(ae,xe));if(ge===null)return;ke={fontSize:ge.size,baseline:ge.baseline}}else{var _e=(0,G.AT)((0,_.mO)(xe),xe.lineHeight),ze=(0,G.w_)(xe.fontSize,xe.lineHeight);l=Math.max(l,_e),f=Math.max(f,ze)}}var Je=(0,c.wC)(V,l,f,!0),et=(0,b.Z)(Je,4),Ke=et[0],tt=et[1],ut=et[2],ht=et[3],He=ut-Ke,Ee=ht-tt,Le=[].concat(ue);if(["n","w","nw"].includes(W)&&(Le=[pe[0]-Math.abs(He),pe[1]-Math.abs(Ee)]),W==="ne"){var Qe=[ue[0],pe[1]];Le=[Qe[0],Qe[1]-Math.abs(Ee)]}if(W==="sw"){var ct=[pe[0],ue[1]];Le=[ct[0]-Math.abs(He),ct[1]]}k&&(["s","n"].includes(W)&&(Le[0]=Q[0]-He/2),["e","w"].includes(W)&&(Le[1]=Q[1]-Ee/2));var bt=f<0;l<0&&(W.includes("e")&&(Le[0]-=Math.abs(He)),W.includes("w")&&(Le[0]+=Math.abs(He))),bt&&(W.includes("s")&&(Le[1]-=Math.abs(Ee)),W.includes("n")&&(Le[1]+=Math.abs(Ee))),O&&(Le[0]=Q[0]-Math.abs(He)/2,Le[1]=Q[1]-Math.abs(Ee)/2);var wt=V.angle,zt=(0,a.xj)(Le,Q,wt),Mt=[Le[0]+Math.abs(He)/2,Le[1]+Math.abs(Ee)/2],Zt=(0,a.xj)(Mt,Q,wt);Le=(0,a.xj)(zt,Zt,-wt);var sn=(0,v.Z)(Le),rn=V.x-Ke,Xt=V.y-tt;sn[0]+=rn,sn[1]+=Xt;var on,jn,It=sn[0],kt=sn[1];((0,Z.bt)(N)||(0,Z.F9)(N))&&(on=(0,S.z)(1,f,V.points,!0),jn=(0,S.z)(0,l,on,!0));var Ht={width:Math.abs(l),height:Math.abs(f),x:It,y:kt,points:jn};if("scale"in N&&"scale"in V&&(0,F.DR)(N,{scale:[(Math.sign(ut-V.x)||V.scale[0])*V.scale[0],(Math.sign(ht-V.y)||V.scale[1])*V.scale[1]]}),(0,Z.Yv)(N)&&xe&&k){var At=Ht.width/N.width*xe.fontSize;if(At<T.CP)return;ke.fontSize=At}Ht.width!==0&&Ht.height!==0&&Number.isFinite(Ht.x)&&Number.isFinite(Ht.y)&&((0,F.DR)(N,Ht),(0,h.Ww)(N,{newSize:{width:Ht.width,height:Ht.height}}),xe&&ke!=null&&(0,F.DR)(xe,{fontSize:ke.fontSize,baseline:ke.baseline}),(0,G.RB)(N,W,k))},r=function(u,k,N,W,O,j){var L,V=k.reduce(function(At,Wt){var Kt=u.originalElements.get(Wt.id);return Kt&&At.push({orig:Kt,latest:Wt}),At},[]),ie=V.reduce(function(At,Wt){var Kt,an=Wt.orig;if(!(0,Z.bt)(an))return At;var bn=(0,G.xB)(an);if(!bn)return At;var hn=(Kt=u.originalElements.get(bn))!==null&&Kt!==void 0?Kt:null;if(!(0,Z.Xh)(hn))return At;var An=le._.getBoundTextElementPosition(an,hn);return[].concat((0,v.Z)(At),[q(q({},hn),An)])},[]),se=(0,c.v2)(V.map(function(At){return At.orig}).concat(ie)),ue=se.minX,pe=se.minY,Q=se.maxX,ee=se.maxY,me=se.midX,Te=se.midY,Ue=N,qe=W?[me,Te]:{ne:[ue,ee],se:[ue,pe],sw:[Q,pe],nw:[Q,ee]}[Ue],Ae=(0,b.Z)(qe,2),Oe=Ae[0],Ie=Ae[1],Re=Math.max(Math.abs(O-Oe)/(Q-ue)||0,Math.abs(j-Ie)/(ee-pe)||0)*(W?2:1);if(Re!==0){var ke,xe={ne:[O>=Oe,j<=Ie],se:[O>=Oe,j>=Ie],sw:[O<=Oe,j>=Ie],nw:[O<=Oe,j<=Ie]}[Ue].map(function(At){return At?1:-1}),ye=(0,b.Z)(xe,2),P=ye[0],l=ye[1],f=P<0,D=l<0,H=[],J=ve(V);try{for(J.s();!(ke=J.n()).done;){var re,ae=ke.value,ge=ae.orig,_e=ae.latest;if(!(0,Z.iB)(ge)||!(0,Z.Xh)(ge)){var ze=ge.width*Re,Je=ge.height*Re,et=U(ge.angle*P*l),Ke=(0,Z.bt)(ge)||(0,Z.F9)(ge),tt=ge.x-Oe,ut=ge.y-Ie,ht=Oe+P*(tt*Re+(f&&!Ke?ze:0)),He=Ie+l*(ut*Re+(D&&!Ke?Je:0)),Ee=M(ge,ze*P,Je*l,!1),Le=q({x:ht,y:He,width:ze,height:Je,angle:et},Ee);if((0,Z.pC)(ge)&&V.length===1&&(Le.scale=[ge.scale[0]*P,ge.scale[1]*l]),(0,Z.bt)(ge)&&(f||D)&&function(){var At=(0,c.Ut)(ge,ge.points),Wt=(0,c.Ut)(q(q({},ge),{},{x:ht,y:He}),Ee.points),Kt=[ge.x,ge.y],an=[ht,He],bn=function(hn){var An=hn==="x"?0:1;return(Wt[An+2]-an[An]-(Kt[An]-At[An])*Re+(At[An+2]-Kt[An])*Re-(an[An]-Wt[An]))/2};f&&(Le.x-=bn("x")),D&&(Le.y-=bn("y"))}(),(0,Z.iB)(ge)){var Qe=I(ge,ze,Je);if(!Qe)return;Le.fontSize=Qe.size,Le.baseline=Qe.baseline}var ct=u.originalElements.get((re=(0,G.xB)(ge))!==null&&re!==void 0?re:"");if(ct){var bt=ct.fontSize*Re;if(bt<T.CP)return;Le.boundTextFontSize=bt}H.push({element:_e,update:Le})}}}catch(At){J.e(At)}finally{J.f()}for(var wt=H.map(function(At){return At.element}),zt=0,Mt=H;zt<Mt.length;zt++){var Zt=Mt[zt],sn=Zt.element,rn=Zt.update,Xt=rn.boundTextFontSize,on=(0,w.Z)(rn,he),jn=on.width,It=on.height,kt=on.angle;(0,F.DR)(sn,on,!1),(0,h.Ww)(sn,{simultaneouslyUpdated:wt,newSize:{width:jn,height:It}});var Ht=(0,G.WJ)(sn);Ht&&Xt&&((0,F.DR)(Ht,{fontSize:Xt,angle:(0,Z.bt)(sn)?void 0:kt},!1),(0,G.RB)(sn,N,!0))}(L=x.Z.getScene(H[0].element))===null||L===void 0||L.informMutation()}},o=function(u,k,N,W,O,j,L){var V,ie=5*Math.PI/2+Math.atan2(W-L,N-j);O&&(ie+=T.ay/2,ie-=ie%T.ay),k.filter(function(se){return se.type!=="frame"}).forEach(function(se){var ue,pe,Q=(0,c.qf)(se),ee=(0,b.Z)(Q,4),me=ee[0],Te=ee[1],Ue=(me+ee[2])/2,qe=(Te+ee[3])/2,Ae=(ue=(pe=u.originalElements.get(se.id))===null||pe===void 0?void 0:pe.angle)!==null&&ue!==void 0?ue:se.angle,Oe=(0,a.U1)(Ue,qe,j,L,ie+Ae-se.angle),Ie=(0,b.Z)(Oe,2),Re=Ie[0],ke=Ie[1];(0,F.DR)(se,{x:se.x+(Re-Ue),y:se.y+(ke-qe),angle:U(ie+Ae)},!1),(0,h.Ww)(se,{simultaneouslyUpdated:k});var xe=(0,G.WJ)(se);xe&&!(0,Z.Yv)(se)&&(0,F.DR)(xe,{x:xe.x+(Re-Ue),y:xe.y+(ke-qe),angle:U(ie+Ae)},!1)}),(V=x.Z.getScene(k[0]))===null||V===void 0||V.informMutation()},g=function(u,k,N,W){var O=k.length===1?(0,c.qf)(k[0]):(0,c.KP)(k),j=(0,b.Z)(O,4),L=j[0],V=j[1],ie=j[2],se=j[3],ue=(L+ie)/2,pe=(V+se)/2,Q=k.length===1?k[0].angle:0,ee=(0,a.U1)(N,W,ue,pe,-Q),me=(0,b.Z)(ee,2);switch(N=me[0],W=me[1],u){case"n":return(0,a.U1)(N-(L+ie)/2,W-V,0,0,Q);case"s":return(0,a.U1)(N-(L+ie)/2,W-se,0,0,Q);case"w":return(0,a.U1)(N-L,W-(V+se)/2,0,0,Q);case"e":return(0,a.U1)(N-ie,W-(V+se)/2,0,0,Q);case"nw":return(0,a.U1)(N-L,W-V,0,0,Q);case"ne":return(0,a.U1)(N-ie,W-V,0,0,Q);case"sw":return(0,a.U1)(N-L,W-se,0,0,Q);case"se":return(0,a.U1)(N-ie,W-se,0,0,Q);default:return[0,0]}},s=function(u,k){var N=(0,b.Z)(k.points,2),W=(0,b.Z)(N[1],2),O=W[0],j=W[1];return u==="nw"&&(O<0||j<0)||u==="ne"&&O>=0||u==="sw"&&O<=0||u==="se"&&(O>0||j>0)?"end":"origin"}},7935:function(te,t,e){e.d(t,{PZ:function(){return a},QD:function(){return S},Qp:function(){return F},o4:function(){return Z},uK:function(){return c}});var w=e(2577),v=(e(583),e(4183)),d=e(9937),b=e(4949),T=e(9827),S=function(_){return(0,v.bt)(_)||(0,v.F9)(_)?_.points.length<2:_.width===0&&_.height===0},a=function(_,h,x,G){var le=(0,b.Pi)(_),he=(0,w.Z)(le,4),ve=he[0],fe=he[1],X=he[2],q=he[3],U=(0,T.dE)({clientX:G.offsetLeft,clientY:G.offsetTop},G),R=(0,T.dE)({clientX:G.offsetLeft+h,clientY:G.offsetTop+x},G);return U.x<=X&&U.y<=q&&R.x>=ve&&R.y>=fe},c=function(_,h,x){var G=Math.abs(h),le=Math.abs(x);if(_==="line"||_==="arrow"||_==="freedraw"){var he=Math.round(Math.atan(le/G)/d.ay)*d.ay;he===0?x=0:he===Math.PI/2?h=0:x=G*Math.tan(he)*Math.sign(x)||x}else _!=="selection"&&(x=G*Math.sign(x));return{width:h,height:x}},Z=function(_,h,x,G){var le=x-_,he=G-h,ve=Math.round(Math.atan(he/le)/d.ay)*d.ay;if(ve===0)he=0;else if(ve===Math.PI/2)le=0;else{var fe=Math.tan(ve),X=h-fe*_,q=-1/fe,U=G-q*x;le=(-1*U- -1*X)/(-1*fe- -1*q)-_,he=(X*q-U*fe)/(-1*fe- -1*q)-h}return{width:le,height:he}},F=function(_){var h={width:_.width,height:_.height,x:_.x,y:_.y};if(_.width<0){var x=Math.abs(_.width);h.width=x,h.x=_.x-x}if(_.height<0){var G=Math.abs(_.height);h.height=G,h.y=_.y-G}return h}},4761:function(te,t,e){e.d(t,{$2:function(){return p},AT:function(){return O},D9:function(){return Oe},FE:function(){return M},H_:function(){return pe},NS:function(){return qe},OW:function(){return me},P7:function(){return R},PT:function(){return ke},R8:function(){return E},RB:function(){return B},Rg:function(){return r},TP:function(){return se},WJ:function(){return V},X1:function(){return I},Zr:function(){return Ue},aV:function(){return ee},bG:function(){return X},cn:function(){return Q},cw:function(){return ue},eB:function(){return Ie},iZ:function(){return Ae},lD:function(){return k},mY:function(){return s},oN:function(){return U},tl:function(){return ie},w_:function(){return o},xB:function(){return L}});var w,v=e(2577),d=e(1930),b=e(7169),T=e(9827),S=e(583),a=e(9937),c=e(457),Z=e(7651),F=e(4183),_=e(7422),h=e(4105),x=e(3528),G=e(3474);function le(xe,ye){var P=Object.keys(xe);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(xe);ye&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(xe,f).enumerable})),P.push.apply(P,l)}return P}function he(xe){for(var ye=1;ye<arguments.length;ye++){var P=arguments[ye]!=null?arguments[ye]:{};ye%2?le(Object(P),!0).forEach(function(l){(0,b.Z)(xe,l,P[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(P)):le(Object(P)).forEach(function(l){Object.defineProperty(xe,l,Object.getOwnPropertyDescriptor(P,l))})}return xe}var ve,fe,X=function(xe){return xe.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},q=function(xe){return X(xe).split(`
`)},U=function(xe,ye){var P=void 0,l={x:xe.x,y:xe.y,text:xe.text,width:xe.width,height:xe.height,baseline:xe.baseline};l.text=xe.text,ye&&(P=Ae(ye,xe),l.text=k(xe.originalText,(0,T.mO)(xe),P));var f=I(l.text,(0,T.mO)(xe),xe.lineHeight);if(l.width=f.width,l.height=f.height,l.baseline=f.baseline,ye){var D=Oe(ye,xe),H=Ae(ye);if(!(0,F.Yv)(ye)&&f.height>D){var J=qe(f.height,ye.type);(0,S.DR)(ye,{height:J}),(0,G.h_)(ye.id,J)}if(f.width>H){var re=qe(f.width,ye.type);(0,S.DR)(ye,{width:re})}var ae=he(he({},xe),l),ge=M(ye,ae),_e=ge.x,ze=ge.y;l.x=_e,l.y=ze}(0,S.DR)(xe,l)},R=function(xe,ye,P){var l=(0,T.xn)(xe);ye.forEach(function(f){var D=P.get(f.id),H=L(f);if(H){var J=P.get(H);if(J){var re=l.get(D);re&&(0,S.DR)(re,{boundElements:(f.boundElements||[]).filter(function(ge){return ge.id!==J&&ge.id!==H}).concat({type:"text",id:J})});var ae=l.get(J);ae&&(0,Z.iB)(ae)&&(0,S.DR)(ae,{containerId:re?D:null})}}})},B=function(xe,ye){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2],l=L(xe);if(l){(0,G.kT)(xe.id);var f=c.Z.getScene(xe).getElement(l);if(f&&f.text){if(!xe)return;var D=(f=c.Z.getScene(xe).getElement(l)).text,H=f.height,J=f.width,re=Ae(xe),ae=Oe(xe,f),ge=xe.height,_e=f.baseline;if(P||ye!=="n"&&ye!=="s"){D&&(D=k(f.originalText,(0,T.mO)(f),re));var ze=I(D,(0,T.mO)(f),f.lineHeight);H=ze.height,J=ze.width,_e=ze.baseline}if(H>ae){var Je=(ge=qe(H,xe.type))-xe.height,et=(0,F.Yv)(xe)||ye!=="ne"&&ye!=="nw"&&ye!=="n"?xe.y:xe.y-Je;(0,S.DR)(xe,{height:ge,y:et})}(0,S.DR)(f,{text:D,width:J,height:H,baseline:_e}),(0,F.Yv)(xe)||(0,S.DR)(f,M(xe,f))}}},M=function(xe,ye){if((0,F.Yv)(xe))return _._.getBoundTextElementPosition(xe,ye);var P,l=ue(xe),f=Oe(xe,ye),D=Ae(xe);return P=ye.verticalAlign===a.oX.TOP?l.y:ye.verticalAlign===a.oX.BOTTOM?l.y+(f-ye.height):l.y+(f/2-ye.height/2),{x:ye.textAlign===a.I8.LEFT?l.x:ye.textAlign===a.I8.RIGHT?l.x+(D-ye.width):l.x+(D/2-ye.width/2),y:P}},I=function(xe,ye,P){xe=xe.split(`
`).map(function(D){return D||" "}).join(`
`);var l=parseFloat(ye),f=u(xe,l,P);return{width:s(xe,ye),height:f,baseline:E(xe,ye,P)}},E=function(xe,ye,P,l){var f=document.createElement("div");f.style.position="absolute",f.style.whiteSpace="pre",f.style.font=ye,f.style.minHeight="1em",l&&(f.style.overflow="hidden",f.style.wordBreak="break-word",f.style.whiteSpace="pre-wrap"),f.style.lineHeight=String(P),f.innerText=xe,document.body.appendChild(f);var D=document.createElement("span");D.style.display="inline-block",D.style.overflow="hidden",D.style.width="1px",D.style.height="1px",f.appendChild(D);var H=D.offsetTop+D.offsetHeight,J=f.offsetHeight;if(a.G6){var re=u(xe,parseFloat(ye),P),ae=parseFloat(ye),ge=u(xe,Math.round(ae),P);re>J&&(H+=re-ge),J>re&&(H-=ge-re)}return document.body.removeChild(f),H},p=function(xe){var ye=q(xe.text).length;return xe.height/ye/xe.fontSize},r=function(xe,ye){return xe*ye},o=function(xe,ye){return r(xe,ye)+2*a.gK},g=function(xe,ye){ve||(ve=document.createElement("canvas"));var P=ve.getContext("2d");P.font=ye;var l=P.measureText(xe).width;return(0,T.h2)()?10*l:l},s=function(xe,ye){var P=q(xe),l=0;return P.forEach(function(f){l=Math.max(l,g(f,ye))}),l},u=function(xe,ye,P){var l=q(xe).length;return r(ye,P)*l},k=function(xe,ye,P){if(!Number.isFinite(P)||P<0)return xe;var l=[],f=xe.split(`
`),D=g(" ",ye),H="",J=0,re=function(ge){ge.trim()&&l.push(ge)},ae=function(){H="",J=0};return f.forEach(function(ge){if(s(ge,ye)<=P)l.push(ge);else{var _e=function(ht){var He=ht.split("-");return He.length>1&&He.forEach(function(Ee,Le){Le!==He.length-1&&(He[Le]=Ee+="-")}),He.join(" ").split(" ")}(ge);ae();for(var ze=0;ze<_e.length;){var Je=g(_e[ze],ye);if(Je===P)re(_e[ze]),ze++;else if(Je>P){for(re(H),ae();_e[ze].length>0;){var et=String.fromCodePoint(_e[ze].codePointAt(0)),Ke=N.calculate(et,ye);J+=Ke,_e[ze]=_e[ze].slice(et.length),J>=P?(re(H),H=et,J=Ke):H+=et}J+D>=P?(re(H),ae()):H.endsWith("-")||(H+=" ",J+=D),ze++}else for(;J<P&&ze<_e.length;){var tt=_e[ze];if((J=g(H+tt,ye))>P){re(H),ae();break}ze++;var ut=!tt.endsWith("-");if(H+=tt,ut&&(H+=" "),J+D>=P){ut?l.push(H.slice(0,-1)):l.push(H),ae();break}}}H.slice(-1)===" "&&(H=H.slice(0,-1),re(H))}}),l.join(`
`)},N=(fe={},{calculate:function(xe,ye){var P=xe.charCodeAt(0);if(fe[ye]||(fe[ye]=[]),!fe[ye][P]){var l=g(xe,ye);fe[ye][P]=l}return fe[ye][P]},getCache:function(xe){return fe[xe]}}),W="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),O=function(xe,ye){var P=j(xe);return P===0?I(W.split("").join(`
`),xe,ye).width+2*a.gK:P+2*a.gK},j=function(xe){var ye=N.getCache(xe);if(!ye)return 0;var P=ye.filter(function(l){return l!==void 0});return Math.max.apply(Math,(0,d.Z)(P))},L=function(xe){var ye,P,l;return xe!=null&&(ye=xe.boundElements)!==null&&ye!==void 0&&ye.length&&(xe==null||(P=xe.boundElements)===null||P===void 0||(l=P.filter(function(f){return f.type==="text"})[0])===null||l===void 0?void 0:l.id)||null},V=function(xe){if(!xe)return null;var ye,P=L(xe);return P&&((ye=c.Z.getScene(xe))===null||ye===void 0?void 0:ye.getElement(P))||null},ie=function(xe){return xe&&xe.containerId&&((ye=c.Z.getScene(xe))===null||ye===void 0?void 0:ye.getElement(xe.containerId))||null;var ye},se=function(xe,ye){if(!(0,F.Yv)(xe))return{x:xe.x+xe.width/2,y:xe.y+xe.height/2};var P=_._.getPointsGlobalCoordinates(xe);if(P.length%2==1){var l=Math.floor(xe.points.length/2),f=_._.getPointGlobalCoordinates(xe,xe.points[l]);return{x:f[0],y:f[1]}}var D=xe.points.length/2-1,H=_._.getEditorMidPoints(xe,ye)[D];return H||(H=_._.getSegmentMidPoint(xe,P[D],P[D+1],D+1)),{x:H[0],y:H[1]}},ue=function(xe){var ye=a.gK,P=a.gK;return xe.type==="ellipse"&&(ye+=xe.width/2*(1-Math.sqrt(2)/2),P+=xe.height/2*(1-Math.sqrt(2)/2)),xe.type==="diamond"&&(ye+=xe.width/4,P+=xe.height/4),{x:xe.x+ye,y:xe.y+P}},pe=function(xe){var ye=ie(xe);return!ye||(0,F.Yv)(ye)?xe.angle:ye.angle},Q=function(xe){return xe.some(function(ye){if((0,F.Xh)(ye)){var P=ie(ye);return!(0,Z.iB)(ye)||!(0,F.Yv)(P)}return!1})},ee=function(xe){return xe.some(function(ye){if((0,F.Xh)(ye)){var P=ie(ye);return!(0,Z.iB)(ye)||!(0,F.Yv)(P)}return(0,Z.iB)(ye)})},me=function(xe,ye,P,l){var f=(0,h.eD)(xe,ye);if(f.length===1)return(0,F.mG)(f[0],!1)?f[0]:null;for(var D=null,H=xe.length-1;H>=0;--H)if(!xe[H].isDeleted){var J=(0,Z.qf)(xe[H]),re=(0,v.Z)(J,4),ae=re[0],ge=re[1],_e=re[2],ze=re[3];if((0,F.Yv)(xe[H])&&(0,x.Qu)(xe[H],ye,null,[P,l])){D=xe[H];break}if(ae<P&&P<_e&&ge<l&&l<ze){D=xe[H];break}}return(0,F.mG)(D,!1)?D:null},Te=new Set(["rectangle","ellipse","diamond","arrow"]),Ue=function(xe){return Te.has(xe.type)},qe=function(xe,ye){xe=Math.ceil(xe);var P=2*a.gK;return ye==="ellipse"?Math.round((xe+P)/Math.sqrt(2)*2):ye==="arrow"?xe+8*P:ye==="diamond"?2*(xe+P):xe+P},Ae=function(xe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V(xe),P=xe.width;if((0,F.Yv)(xe)){var l,f=((l=ye?.fontSize)!==null&&l!==void 0?l:a.n5)*a.vL;return Math.max(a.bY*P,f)}return xe.type==="ellipse"?Math.round(P/2*Math.sqrt(2))-2*a.gK:xe.type==="diamond"?Math.round(P/2)-2*a.gK:P-2*a.gK},Oe=function(xe,ye){var P=xe.height;return(0,F.Yv)(xe)?P-8*a.gK*2<=0?ye.height:P:xe.type==="ellipse"?Math.round(P/2*Math.sqrt(2))-2*a.gK:xe.type==="diamond"?Math.round(P/2)-2*a.gK:P-2*a.gK},Ie=function(){return s(W,(0,T.mO)({fontSize:a.n5,fontFamily:a.rk}))>0},Re=(w={},(0,b.Z)(w,a.ut.Virgil,1.25),(0,b.Z)(w,a.ut.Helvetica,1.15),(0,b.Z)(w,a.ut.Cascadia,1.2),w),ke=function(xe){return xe in Re?Re[xe]:Re[a.rk]}},3474:function(te,t,e){e.d(t,{b_:function(){return M},eR:function(){return B},h_:function(){return U},kT:function(){return R}});var w=e(8950),v=e(7169),d=e(2577),b=e(2975),T=e.n(b),S=e(5491),a=e(9827),c=e(457),Z=e(4183),F=e(9937),_=e(583),h=e(4761),x=e(3361),G=e(6006),le=e(7422),he=e(4694);function ve(I,E){var p=Object.keys(I);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(I);E&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(I,o).enumerable})),p.push.apply(p,r)}return p}function fe(I){for(var E=1;E<arguments.length;E++){var p=arguments[E]!=null?arguments[E]:{};E%2?ve(Object(p),!0).forEach(function(r){(0,v.Z)(I,r,p[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(p)):ve(Object(p)).forEach(function(r){Object.defineProperty(I,r,Object.getOwnPropertyDescriptor(p,r))})}return I}var X=function(I,E,p,r,o,g){var s=r.zoom,u=180*p/Math.PI,k=I*(s.value-1)/2,N=E*(s.value-1)/2;return I>o&&s.value!==1&&(k=o*(s.value-1)/2),E>g&&s.value!==1&&(N=g*(s.value-1)/2),"translate(".concat(k,"px, ").concat(N,"px) scale(").concat(s.value,") rotate(").concat(u,"deg)")},q={},U=function(I,E){var p=q[I]||(q[I]={height:E});return p.height=E,p},R=function(I){q[I]&&delete q[I]},B=function(I){var E,p;return(E=(p=q[I])===null||p===void 0?void 0:p.height)!==null&&E!==void 0?E:null},M=function(I){var E=I.id,p=I.onChange,r=I.onSubmit,o=I.getViewportCoords,g=I.element,s=I.canvas,u=I.excalidrawContainer,k=I.app,N=function(){var Ie,Re=k.state,ke=(Ie=c.Z.getScene(g))===null||Ie===void 0?void 0:Ie.getElement(E);if(ke){var xe=ke.textAlign,ye=ke.verticalAlign;if(ke&&(0,Z.iB)(ke)){var P=ke.x,l=ke.y,f=(0,h.tl)(ke),D=ke.width,H=ke.height,J=ke.width,re=ke.height;if(f&&ke.containerId){if((0,Z.Yv)(f)){var ae=le._.getBoundTextElementPosition(f,ke);P=ae.x,l=ae.y}var ge,_e=function(bt,wt){if(!wt.style.fontFamily||!wt.style.fontSize)return!1;var zt=wt.style.fontFamily.replace(/"/g,"");return(0,a.$g)({fontFamily:bt.fontFamily})!==zt||"".concat(bt.fontSize,"px")!==wt.style.fontSize}(ke,W);if(_e?ge=U(f.id,f.height):(ge=q[f.id])||(ge=U(f.id,f.height)),D=(0,h.iZ)(f),H=(0,h.D9)(f,ke),!(0,Z.Yv)(f)&&re>H){var ze=(0,h.NS)(re,f.type);return void(0,_.DR)(f,{height:ze})}if(!(0,Z.Yv)(f)&&f.height>ge.height&&re<H){var Je=(0,h.NS)(re,f.type);(0,_.DR)(f,{height:Je})}else l=(0,h.FE)(f,ke).y}var et=o(P,l),Ke=(0,d.Z)(et,2),tt=Ke[0],ut=Ke[1],ht=W.selectionStart,He=W.selectionEnd,Ee=W.value.length;if(ht===He&&He!==Ee){var Le=Ee-He;W.selectionStart=W.value.length-Le,W.selectionEnd=W.value.length-Le}f?J+=.5:(D=(Re.width-8-tt)/Re.zoom.value,J=Math.min(J,D));var Qe=ke.lineHeight;F.G6&&(Qe=(0,h.$2)(fe(fe({},ke),{},{fontSize:Math.round(ke.fontSize)})));var ct=(Re.height-ut)/Re.zoom.value;Object.assign(W.style,{font:(0,a.mO)(ke),lineHeight:Qe,width:"".concat(J,"px"),height:"".concat(re,"px"),left:"".concat(tt,"px"),top:"".concat(ut,"px"),transform:X(J,re,(0,h.H_)(ke),Re,D,ct),textAlign:xe,verticalAlign:ye,color:ke.strokeColor,opacity:ke.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(ct,"px")}),W.scrollTop=0,(0,a.h2)()&&(W.style.fontFamily=(0,a.$g)(ke)),(0,_.DR)(ke,{x:P,y:l})}}},W=document.createElement("textarea");W.dir="auto",W.tabIndex=0,W.dataset.type="wysiwyg",W.wrap="off",W.classList.add("excalidraw-wysiwyg");var O="pre",j="normal";(0,Z.Xh)(g)&&(O="pre-wrap",j="break-word"),Object.assign(W.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:j,whiteSpace:O,overflowWrap:"break-word",boxSizing:"content-box"}),W.value=g.originalText,N(),p&&(W.onpaste=function(){var Ie=(0,w.Z)(T().mark(function Re(ke){var xe,ye,P,l,f,D;return T().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,he.mQ)(ke,!0);case 2:if((xe=H.sent).text){H.next=5;break}return H.abrupt("return");case 5:if(ye=(0,h.bG)(xe.text)){H.next=8;break}return H.abrupt("return");case 8:P=(0,h.tl)(g),l=(0,a.mO)({fontSize:k.state.currentItemFontSize,fontFamily:k.state.currentItemFontFamily}),P&&(f=(0,h.lD)("".concat(W.value).concat(ye),l,(0,h.iZ)(P)),D=(0,h.mY)(f,l),W.style.width="".concat(D,"px"));case 11:case"end":return H.stop()}},Re)}));return function(Re){return Ie.apply(this,arguments)}}(),W.oninput=function(){p((0,h.bG)(W.value))}),W.onkeydown=function(Ie){if(!Ie.shiftKey&&G.Lo.keyTest(Ie))Ie.preventDefault(),k.actionManager.executeAction(G.Lo),N();else if(!Ie.shiftKey&&G.CZ.keyTest(Ie))Ie.preventDefault(),k.actionManager.executeAction(G.CZ),N();else if(x.Tu.keyTest(Ie))k.actionManager.executeAction(x.Tu);else if(x.Zq.keyTest(Ie))k.actionManager.executeAction(x.Zq);else if(Ie.key===S.tW.ESCAPE)Ie.preventDefault(),Q=!0,ee();else if(Ie.key===S.tW.ENTER&&Ie[S.tW.CTRL_OR_CMD]){if(Ie.preventDefault(),Ie.isComposing||Ie.keyCode===229)return;Q=!0,ee()}else if(Ie.key===S.tW.TAB||Ie[S.tW.CTRL_OR_CMD]&&(Ie.code===S.aU.BRACKET_LEFT||Ie.code===S.aU.BRACKET_RIGHT)){if(Ie.preventDefault(),Ie.isComposing)return;Ie.shiftKey||Ie.code===S.aU.BRACKET_LEFT?se():ie(),W.dispatchEvent(new Event("input"))}};var L=" ".repeat(4),V=new RegExp("^ {1,".concat(4,"}")),ie=function(){var Ie=W.selectionStart,Re=W.selectionEnd,ke=ue(),xe=W.value;ke.forEach(function(ye){var P=xe.slice(0,ye),l=xe.slice(ye);xe="".concat(P).concat(L).concat(l)}),W.value=xe,W.selectionStart=Ie+4,W.selectionEnd=Re+4*ke.length},se=function(){var Ie=W.selectionStart,Re=W.selectionEnd,ke=ue(),xe=[],ye=W.value;ke.forEach(function(P){var l=ye.slice(P,P+4).match(V);if(l){var f=ye.slice(0,P),D=ye.slice(P+l[0].length);ye="".concat(f).concat(D),xe.push(P)}}),W.value=ye,xe.length&&(Ie>xe[xe.length-1]?W.selectionStart=Math.max(Ie-4,xe[xe.length-1]):W.selectionStart=Ie,W.selectionEnd=Math.max(W.selectionStart,Re-4*xe.length))},ue=function(){var Ie=W.selectionStart,Re=W.selectionEnd,ke=W.value,xe=ke.slice(0,Ie).match(/[^\n]*$/)[0].length;return Ie-=xe,ke.slice(Ie,Re).split(`
`).reduce(function(ye,P,l,f){return ye.concat(l?ye[l-1]+f[l-1].length+1:Ie)},[]).reverse()},pe=function(Ie){Ie.preventDefault(),Ie.stopPropagation()},Q=!1,ee=function(){var Ie;me();var Re=(Ie=c.Z.getScene(g))===null||Ie===void 0?void 0:Ie.getElement(g.id);if(Re){var ke=W.value,xe=(0,h.tl)(Re);if(xe){if(ke=Re.text,W.value.trim()){var ye=(0,h.xB)(xe);ye&&ye===g.id?(0,Z.Yv)(xe)&&(0,_.ZP)(xe):(0,_.DR)(xe,{boundElements:(xe.boundElements||[]).concat({type:"text",id:g.id})})}else{var P;(0,_.DR)(xe,{boundElements:(P=xe.boundElements)===null||P===void 0?void 0:P.filter(function(l){return!(0,Z.iB)(l)})})}(0,h.oN)(Re,xe)}r({text:ke,viaKeyboard:Q,originalText:W.value})}},me=function(){Ae||(Ae=!0,W.onblur=null,W.oninput=null,W.onkeydown=null,Oe&&Oe.disconnect(),window.removeEventListener("resize",N),window.removeEventListener("wheel",pe,!0),window.removeEventListener("pointerdown",Ue),window.removeEventListener("pointerup",Te),window.removeEventListener("blur",ee),window.removeEventListener("beforeunload",ee),qe(),W.remove())},Te=function Ie(Re){window.removeEventListener("pointerup",Ie);var ke=Re?.target,xe=ke instanceof HTMLElement&&ke.classList.contains("active-color");setTimeout(function(){if(W.onblur=ee,xe){var ye=new MutationObserver(function(P,l){P.find(function(f){var D;return f.removedNodes.length>0&&((D=f.removedNodes[0].dataset)===null||D===void 0?void 0:D.radixPopperContentWrapper)!==void 0})&&(setTimeout(function(){W.focus()}),l.disconnect())});ye.observe(document.querySelector(".excalidraw-container"),{childList:!0})}xe||W.focus()})},Ue=function(Ie){var Re=Ie.target instanceof HTMLElement&&Ie.target.classList.contains("active-color");((Ie.target instanceof HTMLElement||Ie.target instanceof SVGElement)&&Ie.target.closest(".".concat(F.$C.SHAPE_ACTIONS_MENU))&&!(0,a.s)(Ie.target)||Re)&&(W.onblur=null,window.addEventListener("pointerup",Te),window.addEventListener("blur",ee))},qe=c.Z.getScene(g).addCallback(function(){var Ie;N(),!((Ie=document.activeElement)===null||Ie===void 0||!Ie.closest(".color-picker-content"))||W.focus()}),Ae=!1;W.select(),Te();var Oe=null;s&&"ResizeObserver"in window?(Oe=new window.ResizeObserver(function(){N()})).observe(s):window.addEventListener("resize",N),window.addEventListener("pointerdown",Ue),window.addEventListener("wheel",pe,{passive:!1,capture:!0}),window.addEventListener("beforeunload",ee),u?.querySelector(".excalidraw-textEditorContainer").appendChild(W)}},4048:function(te,t,e){e.d(t,{Fn:function(){return Z},PC:function(){return le},kK:function(){return G},oY:function(){return he},ox:function(){return c}});var w=e(2577),v=e(4949),d=e(2361),b=e(7651),T=e(4183),S=e(7766),a={mouse:8,pen:16,touch:28},c={e:!0,s:!0,n:!0,w:!0},Z={e:!0,s:!0,n:!0,w:!0,rotation:!0},F={e:!0,s:!0,n:!0,w:!0},_={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},h={e:!0,s:!0,n:!0,w:!0},x=function(ve,fe,X,q,U,R,B){var M=(0,d.U1)(ve+X/2,fe+q/2,U,R,B),I=(0,w.Z)(M,2);return[I[0]-X/2,I[1]-q/2,X,q]},G=function(ve,fe,X,q){var U=(0,w.Z)(ve,6),R=U[0],B=U[1],M=U[2],I=U[3],E=U[4],p=U[5],r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,g=a[q],s=g/X.value,u=g/X.value,k=g/X.value,N=g/X.value,W=M-R,O=I-B,j=o/X.value,L=(g-2*S.Lu)/(2*X.value),V={nw:r.nw?void 0:x(R-j-k+L,B-j-N+L,s,u,E,p,fe),ne:r.ne?void 0:x(M+j-L,B-j-N+L,s,u,E,p,fe),sw:r.sw?void 0:x(R-j-k+L,I+j-L,s,u,E,p,fe),se:r.se?void 0:x(M+j-L,I+j-L,s,u,E,p,fe),rotation:r.rotation?void 0:x(R+W/2-s/2,B-j-N+L-16/X.value,s,u,E,p,fe)},ie=5*a.mouse/X.value;return Math.abs(W)>ie&&(r.n||(V.n=x(R+W/2-s/2,B-j-N+L,s,u,E,p,fe)),r.s||(V.s=x(R+W/2-s/2,I+j-L,s,u,E,p,fe))),Math.abs(O)>ie&&(r.w||(V.w=x(R-j-k+L,B+O/2-u/2,s,u,E,p,fe)),r.e||(V.e=x(M+j-L,B+O/2-u/2,s,u,E,p,fe))),V},le=function(ve,fe){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(ve.locked)return{};var q={};if(ve.type==="freedraw"||(0,T.bt)(ve)){if(ve.points.length===2){var U=(0,w.Z)(ve.points,2),R=U[1];R[0]===0||R[1]===0?q=h:R[0]>0&&R[1]<0?q=_:R[0]>0&&R[1]>0?q=h:R[0]<0&&R[1]>0?q=_:R[0]<0&&R[1]<0&&(q=h)}}else(0,b.iB)(ve)?q=F:(0,T.He)(ve)&&(q={rotation:!0});var B=(0,T.bt)(ve)?S.Lu+8:S.Lu;return G((0,v.qf)(ve,!0),ve.angle,fe,X,q,B)},he=function(ve,fe){if(fe.editingLinearElement)return!1;if(ve.length>1)return!0;var X=ve[0];return!(0,T.bt)(X)||X.points.length>2}},4183:function(te,t,e){e.d(t,{F9:function(){return c},He:function(){return a},Lx:function(){return G},Mn:function(){return x},QI:function(){return q},UQ:function(){return B},Xh:function(){return X},Xo:function(){return fe},Yv:function(){return _},bt:function(){return F},dt:function(){return h},eK:function(){return R},f0:function(){return le},gs:function(){return T},iB:function(){return S},mG:function(){return he},pC:function(){return b},r2:function(){return ve},wi:function(){return d}});var w=e(9937),v=e(9827),d=function(M){return!!M&&M.type==="image"&&!!M.fileId},b=function(M){return!!M&&M.type==="image"},T=function(M){return!!M&&M.type==="embeddable"},S=function(M){return M!=null&&M.type==="text"},a=function(M){return M!=null&&M.type==="frame"},c=function(M){return M!=null&&Z(M.type)},Z=function(M){return M==="freedraw"},F=function(M){return M!=null&&h(M.type)},_=function(M){return M!=null&&M.type==="arrow"},h=function(M){return M==="arrow"||M==="line"},x=function(M){var I=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return M!=null&&(!M.locked||I===!0)&&G(M.type)},G=function(M){return M==="arrow"},le=function(M){var I=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(M==null||M.locked&&I!==!0||M.type!=="rectangle"&&M.type!=="diamond"&&M.type!=="ellipse"&&M.type!=="image"&&M.type!=="embeddable"&&M.type!=="frame"&&(M.type!=="text"||M.containerId))},he=function(M){var I=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return M!=null&&(!M.locked||I===!0)&&(M.type==="rectangle"||M.type==="diamond"||M.type==="ellipse"||_(M))},ve=function(M){var I=M?.type;if(!I)return!1;switch(I){case"text":case"diamond":case"rectangle":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"image":case"selection":return!0;default:return(0,v.vE)(I,null),!1}},fe=function(M){var I;return he(M)&&!((I=M.boundElements)===null||I===void 0||!I.some(function(E){return E.type==="text"}))},X=function(M){return M!==null&&"containerId"in M&&M.containerId!==null&&S(M)},q=function(M){return M==="rectangle"||M==="embeddable"},U=function(M){return M==="line"||M==="arrow"||M==="diamond"},R=function(M,I){return!(M!==w.a6.ADAPTIVE_RADIUS&&M!==w.a6.LEGACY||!q(I.type))||!(M!==w.a6.PROPORTIONAL_RADIUS||!U(I.type))},B=function(M){return U(M.type)?{type:w.a6.PROPORTIONAL_RADIUS}:q(M.type)?{type:w.a6.ADAPTIVE_RADIUS}:null}},3506:function(te,t,e){e.d(t,{_L:function(){return h},lp:function(){return _},jk:function(){return x}});var w=e(5169),v=e(8821),d=e(2248),b=e(7245),T=e(2312),S=e(5901);function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(G,le,he){return c=a()?Reflect.construct.bind():function(ve,fe,X){var q=[null];q.push.apply(q,fe);var U=new(Function.bind.apply(ve,q));return X&&(0,S.Z)(U,X.prototype),U},c.apply(null,arguments)}function Z(G){var le=typeof Map=="function"?new Map:void 0;return Z=function(he){if(he===null||(ve=he,Function.toString.call(ve).indexOf("[native code]")===-1))return he;var ve;if(typeof he!="function")throw new TypeError("Super expression must either be null or a function");if(le!==void 0){if(le.has(he))return le.get(he);le.set(he,fe)}function fe(){return c(he,arguments,(0,T.Z)(this).constructor)}return fe.prototype=Object.create(he.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),(0,S.Z)(fe,he)},Z(G)}function F(G){var le=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ve=(0,T.Z)(G);if(le){var fe=(0,T.Z)(this).constructor;he=Reflect.construct(ve,arguments,fe)}else he=ve.apply(this,arguments);return(0,b.Z)(this,he)}}var _=function(G){(0,d.Z)(he,G);var le=F(he);function he(){var ve,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,v.Z)(this,he),(ve=le.call(this)).name=X,ve.message=fe,ve}return(0,w.Z)(he)}(Z(Error)),h=function(G){(0,d.Z)(he,G);var le=F(he);function he(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,v.Z)(this,he),le.call(this,ve,"AbortError")}return(0,w.Z)(he)}(Z(DOMException)),x=function(G){(0,d.Z)(he,G);var le=F(he);function he(){var ve,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Image Scene Data Error",X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"IMAGE_SCENE_DATA_ERROR";return(0,v.Z)(this,he),(ve=le.call(this,fe)).name="EncodingError",ve.code=X,ve}return(0,w.Z)(he)}(Z(Error))},4682:function(te,t,e){e.d(t,{$Z:function(){return r},A_:function(){return o},Dn:function(){return U},Qs:function(){return O},SH:function(){return R},Tq:function(){return k},_h:function(){return I},cH:function(){return W},cO:function(){return q},fj:function(){return p},lz:function(){return g},ni:function(){return E},pr:function(){return u},wO:function(){return M},xr:function(){return le},yZ:function(){return s},zD:function(){return B}});var w=e(1930),v=e(2577),d=e(7651),b=e(2361),T=e(4761),S=e(9827),a=e(583),c=e(4105),Z=e(9215),F=e(457),_=e(4949),h=e(507);function x(j,L){var V=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!V){if(Array.isArray(j)||(V=function(ee,me){if(ee){if(typeof ee=="string")return G(ee,me);var Te=Object.prototype.toString.call(ee).slice(8,-1);if(Te==="Object"&&ee.constructor&&(Te=ee.constructor.name),Te==="Map"||Te==="Set")return Array.from(ee);if(Te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Te))return G(ee,me)}}(j))||L){V&&(j=V);var ie=0,se=function(){};return{s:se,n:function(){return ie>=j.length?{done:!0}:{done:!1,value:j[ie++]}},e:function(ee){throw ee},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ue,pe=!0,Q=!1;return{s:function(){V=V.call(j)},n:function(){var ee=V.next();return pe=ee.done,ee},e:function(ee){Q=!0,ue=ee},f:function(){try{pe||V.return==null||V.return()}finally{if(Q)throw ue}}}}function G(j,L){(L==null||L>j.length)&&(L=j.length);for(var V=0,ie=new Array(L);V<L;V++)ie[V]=j[V];return ie}var le=function(j,L,V){var ie,se=(0,S.xn)(j),ue=x(L);try{for(ue.s();!(ie=ue.n()).done;){var pe=ie.value;if(pe.frameId){var Q=V.get(pe.id),ee=V.get(pe.frameId);if(Q){var me=se.get(Q);me&&(0,a.DR)(me,{frameId:ee??pe.frameId},!1)}}}}catch(Te){ue.e(Te)}finally{ue.f()}};function he(j,L){var V=(0,_.GJ)(L),ie=(0,_.GJ)(j);return V.some(function(se){return ie.some(function(ue){return(0,h.y8)(se,ue)})})}var ve=function(j,L){return N((0,c.Yp)(j,L,!1)).filter(function(V){return V.type!=="frame"&&!V.frameId||V.frameId===L.id})},fe=function(j,L,V){return(0,c.Yp)(j,L).some(function(ie){return ie.id===V.id})},X=function(j,L){var V=(0,d.qf)(L),ie=(0,v.Z)(V,4),se=ie[0],ue=ie[1],pe=ie[2],Q=ie[3],ee=(0,d.KP)(j),me=(0,v.Z)(ee,4),Te=me[0],Ue=me[1],qe=me[2],Ae=me[3];return se<=Te&&ue<=Ue&&pe>=qe&&Q>=Ae},q=function(j,L){return X([j],L)||he(j,L)||fe([L],j,L)},U=function(j,L){var V=(0,d.qf)(L),ie=(0,v.Z)(V,4),se=ie[0],ue=ie[1],pe=ie[2],Q=ie[3];return(0,b.Ni)([se,ue],[j.x,j.y],[pe,Q])},R=function(j){var L,V=new Map,ie=x(j);try{for(ie.s();!(L=ie.n()).done;){var se=L.value,ue=(0,d.He)(se)?se.id:se.frameId;ue&&!V.has(ue)&&V.set(ue,B(j,ue))}}catch(pe){ie.e(pe)}finally{ie.f()}return V},B=function(j,L){return j.filter(function(V){return V.frameId===L})},M=function(j){return j.filter(function(L){return(0,d.He)(L)})},I=function(j){var L=(0,S.xn)(M(j));return j.filter(function(V){return L.has(V.id)||!V.frameId||!L.has(V.frameId)})},E=function(j,L,V){var ie,se=B(j,L.id),ue=new Set(se),pe=new Set([].concat((0,w.Z)(ve(j,L)),(0,w.Z)(se.filter(function(ut){return fe(j,ut,L)})))),Q=se.filter(function(ut){return!pe.has(ut)}),ee=new Set(Array.from(pe).flatMap(function(ut){return ut.groupIds})),me=x(Q);try{for(me.s();!(ie=me.n()).done;){var Te=ie.value;if(he(Te,L)){if(Te.groupIds.length>0){var Ue,qe=x(Te.groupIds);try{for(qe.s();!(Ue=qe.n()).done;){var Ae=Ue.value;ee.add(Ae)}}catch(ut){qe.e(ut)}finally{qe.f()}}}else Te.groupIds.length===0&&ue.delete(Te)}}catch(ut){me.e(ut)}finally{me.f()}var Oe,Ie=x(Q);try{for(Ie.s();!(Oe=Ie.n()).done;){var Re=Oe.value;if(Re.groupIds.length>0){var ke,xe=!0,ye=x(Re.groupIds);try{for(ye.s();!(ke=ye.n()).done;){var P=ke.value;ee.has(P)&&(xe=!1)}}catch(ut){ye.e(ut)}finally{ye.f()}xe&&ue.delete(Re)}}}catch(ut){Ie.e(ut)}finally{Ie.f()}var l,f=Array.from(pe).filter(function(ut){return ut.groupIds.length===0}),D=x(f);try{for(D.s();!(l=D.n()).done;){var H=l.value;ue.add(H)}}catch(ut){D.e(ut)}finally{D.f()}for(var J=Array.from(pe).filter(function(ut){return ut.groupIds.length>0}),re=(0,Z.yR)(J,V),ae=0,ge=Object.entries(re);ae<ge.length;ae++){var _e=(0,v.Z)(ge[ae],2),ze=_e[0];if(_e[1]){var Je=(0,Z.Fb)(j,ze);if(X(Je,L)){var et,Ke=x(Je);try{for(Ke.s();!(et=Ke.n()).done;){var tt=et.value;ue.add(tt)}}catch(ut){Ke.e(ut)}finally{Ke.f()}}}}return(0,w.Z)(ue).filter(function(ut){return!((0,d.iB)(ut)&&ut.containerId)})},p=function(j,L){return N(j,ve(j,L))},r=function(j,L){var V;return j.frameId?L?L.get(j.frameId)||null:((V=F.Z.getScene(j))===null||V===void 0?void 0:V.getElement(j.frameId))||null:null},o=function(j,L,V){var ie,se=j.reduce(function(Oe,Ie,Re){return Ie.frameId===V.id&&Oe.currTargetFrameChildrenMap.set(Ie.id,!0),Oe},{currTargetFrameChildrenMap:new Map}),ue=se.currTargetFrameChildrenMap,pe=new Set(L.map(function(Oe){return Oe.id})),Q=[],ee=x(N(j,L));try{for(ee.s();!(ie=ee.n()).done;){var me=ie.value;ue.has(me.id)||Q.push(me);var Te=(0,T.WJ)(me);!Te||pe.has(Te.id)||ue.has(Te.id)||Q.push(Te)}}catch(Oe){ee.e(Oe)}finally{ee.f()}for(var Ue=0,qe=Q;Ue<qe.length;Ue++){var Ae=qe[Ue];(0,a.DR)(Ae,{frameId:V.id},!1)}return j.slice()},g=function(j,L,V){var ie,se=new Map,ue=new Map,pe=x(L);try{for(pe.s();!(ie=pe.n()).done;){var Q=ie.value;if(Q.frameId){se.set(Q.id,Q);var ee=ue.get(Q.frameId)||[];ee.push(Q);var me=(0,T.WJ)(Q);me&&(se.set(me.id,me),ee.push(me)),ue.set(Q.frameId,ee)}}}catch(Ae){pe.e(Ae)}finally{pe.f()}var Te,Ue=x(se);try{for(Ue.s();!(Te=Ue.n()).done;){var qe=(0,v.Z)(Te.value,2)[1];(0,a.DR)(qe,{frameId:null},!1)}}catch(Ae){Ue.e(Ae)}finally{Ue.f()}return j.slice()},s=function(j,L,V){var ie=B(j,L.id);return g(j,ie)},u=function(j,L,V,ie){return o(s(j,V),L,V)},k=function(j,L,V){var ie=V.scene.getSelectedElements({selectedElementIds:L.selectedElementIds,elements:j}),se=new Set(ie);if(L.editingGroupId){var ue,pe=x(ie);try{for(pe.s();!(ue=pe.n()).done;){var Q=ue.value;Q.groupIds.length===0?se.add(Q):Q.groupIds.flatMap(function(me){return(0,Z.Fb)(j,me)}).forEach(function(me){return se.add(me)})}}catch(me){pe.e(me)}finally{pe.f()}}var ee=new Set;return se.forEach(function(me){!me.frameId||(0,d.He)(me)||O(me,j,L)||ee.add(me)}),ee.size>0?g(j,(0,w.Z)(ee)):j},N=function(j,L){var V,ie=new Set,se=x(L||j);try{for(se.s();!(V=se.n()).done;){var ue=V.value,pe=ue.groupIds[ue.groupIds.length-1];pe&&ie.add(pe)}}catch(Ue){se.e(Ue)}finally{se.f()}var Q,ee=new Set,me=x(ie);try{for(me.s();!(Q=me.n()).done;){var Te=Q.value;(0,Z.Fb)(j,Te).some(function(Ue){return(0,d.He)(Ue)})&&ee.add(Te)}}catch(Ue){me.e(Ue)}finally{me.f()}return(L||j).filter(function(Ue){return!ee.has(Ue.groupIds[Ue.groupIds.length-1])})},W=function(j,L){var V=(0,d.iB)(j)&&(0,T.tl)(j)||j;return L.selectedElementIds[V.id]&&L.selectedElementsAreBeingDragged?L.frameToHighlight:r(V)},O=function(j,L,V){var ie=W(j,V),se=(0,d.iB)(j)&&(0,T.tl)(j)||j;if(ie){if(!V.selectedElementIds[j.id]||!V.selectedElementsAreBeingDragged)return!0;if(se.groupIds.length===0)return q(se,ie);var ue=new Set(se.groupIds.flatMap(function(Ae){return(0,Z.Fb)(L,Ae)}));if(V.editingGroupId&&V.selectedElementsAreBeingDragged){var pe=new Set((0,c.eD)(L,V));if(V.frameToHighlight!==null)return!0;pe.forEach(function(Ae){ue.delete(Ae)})}var Q,ee=x(ue);try{for(ee.s();!(Q=ee.n()).done;){var me=Q.value;if((0,d.He)(me))return!1}}catch(Ae){ee.e(Ae)}finally{ee.f()}var Te,Ue=x(ue);try{for(Ue.s();!(Te=Ue.n()).done;){var qe=Te.value;if(q(qe,ie))return!0}}catch(Ae){Ue.e(Ae)}finally{Ue.f()}}return!1}},9215:function(te,t,e){e.d(t,{AI:function(){return M},F$:function(){return _},Fb:function(){return X},Nd:function(){return fe},Qy:function(){return U},S_:function(){return R},YS:function(){return q},bO:function(){return h},h6:function(){return B},iE:function(){return ve},iJ:function(){return le},yO:function(){return G},yR:function(){return he},zq:function(){return x}});var w=e(1930),v=e(2577),d=e(7169),b=e(4105),T=e(4761),S=e(6264);function a(I,E){var p=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(!p){if(Array.isArray(I)||(p=function(k,N){if(k){if(typeof k=="string")return c(k,N);var W=Object.prototype.toString.call(k).slice(8,-1);if(W==="Object"&&k.constructor&&(W=k.constructor.name),W==="Map"||W==="Set")return Array.from(k);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return c(k,N)}}(I))||E){p&&(I=p);var r=0,o=function(){};return{s:o,n:function(){return r>=I.length?{done:!0}:{done:!1,value:I[r++]}},e:function(k){throw k},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,s=!0,u=!1;return{s:function(){p=p.call(I)},n:function(){var k=p.next();return s=k.done,k},e:function(k){u=!0,g=k},f:function(){try{s||p.return==null||p.return()}finally{if(u)throw g}}}}function c(I,E){(E==null||E>I.length)&&(E=I.length);for(var p=0,r=new Array(E);p<E;p++)r[p]=I[p];return r}function Z(I,E){var p=Object.keys(I);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(I);E&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(I,o).enumerable})),p.push.apply(p,r)}return p}function F(I){for(var E=1;E<arguments.length;E++){var p=arguments[E]!=null?arguments[E]:{};E%2?Z(Object(p),!0).forEach(function(r){(0,d.Z)(I,r,p[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(p)):Z(Object(p)).forEach(function(r){Object.defineProperty(I,r,Object.getOwnPropertyDescriptor(p,r))})}return I}var _=function(I,E,p){var r=p.reduce(function(o,g){return g.groupIds.includes(I)&&(o[g.id]=!0),o},{});return Object.keys(r).length<2?E.selectedGroupIds[I]||E.editingGroupId===I?{selectedElementIds:E.selectedElementIds,selectedGroupIds:F(F({},E.selectedGroupIds),{},(0,d.Z)({},I,!1)),editingGroupId:null}:E:{editingGroupId:E.editingGroupId,selectedGroupIds:F(F({},E.selectedGroupIds),{},(0,d.Z)({},I,!0)),selectedElementIds:F(F({},E.selectedElementIds),r)}},h=function(){var I=null,E=null,p=null,r=function(o,g,s,u){var k=u?u.scene.getSelectedElements({selectedElementIds:o.selectedElementIds,elements:g}):(0,b.eD)(g,o);return k.length?function(N,W,O,j){var L;if(p!==void 0&&W===E&&N===I&&O.editingGroupId===((L=p)===null||L===void 0?void 0:L.editingGroupId))return p;var V,ie={},se=a(N);try{for(se.s();!(V=se.n()).done;){var ue=V.value.groupIds;if(O.editingGroupId){var pe=ue.indexOf(O.editingGroupId);pe>-1&&(ue=ue.slice(0,pe))}if(ue.length>0){var Q=ue[ue.length-1];ie[Q]=!0}}}catch(Ae){se.e(Ae)}finally{se.f()}for(var ee={},me=W.reduce(function(Ae,Oe){var Ie=Oe.groupIds.find(function(Re){return ie[Re]});return Ie&&(Ae[Oe.id]=!0,Array.isArray(ee[Ie])?ee[Ie].push(Oe.id):ee[Ie]=[Oe.id]),Ae},{}),Te=0,Ue=Object.keys(ee);Te<Ue.length;Te++){var qe=Ue[Te];ee[qe].length<2&&ie[qe]&&(ie[qe]=!1)}return E=W,I=N,p={editingGroupId:O.editingGroupId,selectedGroupIds:ie,selectedElementIds:(0,S.Oh)(F(F({},O.selectedElementIds),me),j)}}(k,g,o,s):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:(0,S.Oh)(o.selectedElementIds,s)}};return r.clearCache=function(){E=null,I=null,p=null},r}(),x=function(I,E){return G(I,E)!=null},G=function(I,E){return E.groupIds.filter(function(p){return p!==I.editingGroupId}).find(function(p){return I.selectedGroupIds[p]})},le=function(I){return Object.entries(I.selectedGroupIds).filter(function(E){var p=(0,v.Z)(E,2);return p[0],p[1]}).map(function(E){var p=(0,v.Z)(E,2),r=p[0];return p[1],r})},he=function(I,E){var p,r=F(F({},E),{},{selectedGroupIds:{}}),o=a(I);try{for(o.s();!(p=o.n()).done;){var g=p.value.groupIds;if(E.editingGroupId){var s=g.indexOf(E.editingGroupId);s>-1&&(g=g.slice(0,s))}if(g.length>0){var u=g[g.length-1];r=F(F({},r),_(u,r,I))}}}catch(k){o.e(k)}finally{o.f()}return r.selectedGroupIds},ve=function(I,E){return F(F({},I),{},{editingGroupId:E.groupIds.length?E.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,d.Z)({},E.id,!0)})},fe=function(I,E){return I.groupIds.includes(E)},X=function(I,E){return I.filter(function(p){return fe(p,E)})},q=function(I,E){return I.groupIds.find(function(p){return E[p]})},U=function(I,E,p){for(var r=(0,w.Z)(I),o=E?I.indexOf(E):-1,g=o>-1?o:I.length,s=0;s<g;s++)r[s]=p(r[s]);return r},R=function(I,E,p){var r=(0,w.Z)(I),o=p?r.indexOf(p):-1,g=o>-1?o:r.length;return r.splice(g,0,E),r},B=function(I,E){return I.filter(function(p){return!E[p]})},M=function(I){var E=new Map;return I.forEach(function(p){var r=p.groupIds.length===0?p.id:p.groupIds[p.groupIds.length-1],o=E.get(r)||[],g=(0,T.WJ)(p);g&&o.push(g),E.set(r,[].concat((0,w.Z)(o),[p]))}),Array.from(E.values())}},334:function(te,t,e){e.d(t,{F:function(){return S}});var w=e(1930),v=e(2577),d=e(9787),b=e(8242),T=e(100),S=function(a){var c=(0,d.useState)(null),Z=(0,v.Z)(c,2),F=Z[0],_=Z[1],h=(0,b.Fy)(),x=(0,T.I)().theme,G=(0,b.J0)().container;return(0,d.useLayoutEffect)(function(){var le,he;F&&(F.className="",(le=F.classList).add.apply(le,["excalidraw"].concat((0,w.Z)((a==null||(he=a.className)===null||he===void 0?void 0:he.split(/\s+/))||[]))),F.classList.toggle("excalidraw--mobile",h.editor.isMobile),F.classList.toggle("theme--dark",x==="dark"))},[F,x,h.editor.isMobile,a?.className]),(0,d.useLayoutEffect)(function(){var le=a!=null&&a.parentSelector?G?.querySelector(a.parentSelector):document.body;if(le){var he=document.createElement("div");return le.appendChild(he),_(he),function(){le.removeChild(he)}}},[G,a?.parentSelector]),F}},5832:function(te,t,e){e.d(t,{YX:function(){return F},mF:function(){return h},yT:function(){return x}});var w=e(2577),v=e(8950),d=e(2975),b=e.n(d),T=e(3607),S=e(9787),a=e(9240),c=e(453),Z=e(507),F=(0,T.cn)(new Map),_=function(){var G=(0,v.Z)(b().mark(function le(he){return b().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,(0,Z.$D)({elements:he,appState:{exportBackground:!1,viewBackgroundColor:a.HO.white},files:null,renderEmbeddables:!1});case 2:return ve.abrupt("return",ve.sent);case 3:case"end":return ve.stop()}},le)}));return function(le){return G.apply(this,arguments)}}(),h=function(G,le,he){var ve=(0,S.useState)(),fe=(0,w.Z)(ve,2),X=fe[0],q=fe[1];return(0,S.useEffect)(function(){if(le)if(G){var U=he.get(G);U?q(U):(0,v.Z)(b().mark(function R(){var B,M;return b().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,_(le);case 2:M=I.sent,(B=M.querySelector(".style-fonts"))===null||B===void 0||B.remove(),M&&(he.set(G,M),q(M));case 5:case"end":return I.stop()}},R)}))()}else(0,v.Z)(b().mark(function R(){var B;return b().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,_(le);case 2:B=M.sent,q(B);case 4:case"end":return M.stop()}},R)}))()},[G,le,he,q]),X},x=function(){var G=(0,T.KO)(F,c.yE),le=(0,w.Z)(G,1)[0];return{clearLibraryCache:function(){return le.clear()},deleteItemsFromLibraryCache:function(he){he.forEach(function(ve){return le.delete(ve)})},svgCache:le}}},1901:function(te,t,e){e.d(t,{O:function(){return d}});var w=e(9787),v=e(9937);function d(b,T,S){(0,w.useEffect)(function(){function a(c){var Z=c;if(b.current){var F=S?.(Z,b.current);if(F!==!0){if(F===!1)return T(Z);!b.current.contains(Z.target)&&document.documentElement.contains(Z.target)&&(Z.target.closest("[data-radix-portal]")||Z.target===document.documentElement&&document.body.style.pointerEvents==="none"||Z.target.closest("[data-prevent-outside-click]")||T(Z))}}}return document.addEventListener(v.Ks.POINTER_DOWN,a),document.addEventListener(v.Ks.TOUCH_START,a),function(){document.removeEventListener(v.Ks.POINTER_DOWN,a),document.removeEventListener(v.Ks.TOUCH_START,a)}},[b,T,S])}},8227:function(te,t,e){e.d(t,{Fp:function(){return Z},G3:function(){return le},Mj:function(){return F},QT:function(){return X},m0:function(){return G},t:function(){return ve}});var w=e(8950),v=e(1930),d=e(2975),b=e.n(d),T=e(1463),S=e(4451),a=e(453),c=e(3607),Z={code:"en",label:"English"},F=[Z].concat((0,v.Z)([{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"cs-CZ",label:"Česky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"Қазақ тілі"},{code:"ko-KR",label:"한국어"},{code:"ku-TR",label:"Kurdî"},{code:"lt-LT",label:"Lietuvių"},{code:"lv-LV",label:"Latviešu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenščina"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"},{code:"vi-VN",label:"Tiếng Việt"},{code:"mr-IN",label:"मराठी"}].filter(function(q){return S[q.code]>=85}).sort(function(q,U){return q.label>U.label?1:-1}))),_="__test__",h=Z,x={},G=function(){var q=(0,w.Z)(b().mark(function U(R){return b().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(h=R,document.documentElement.dir=h.rtl?"rtl":"ltr",document.documentElement.lang=h.code,!R.code.startsWith(_)){B.next=7;break}x={},B.next=17;break;case 7:return B.prev=7,B.next=10,e(940)("./".concat(h.code,".json"));case 10:x=B.sent,B.next=17;break;case 13:B.prev=13,B.t0=B.catch(7),console.error("Failed to load language ".concat(R.code,":"),B.t0.message),x=T;case 17:a.e_.set(fe,R.code);case 18:case"end":return B.stop()}},U,null,[[7,13]])}));return function(U){return q.apply(this,arguments)}}(),le=function(){return h},he=function(q,U){for(var R=0;R<U.length;++R){var B=U[R];if(q[B]===void 0)return;q=q[B]}if(typeof q=="string")return q},ve=function(q,U,R){if(h.code.startsWith(_)){var B=U?"".concat(q,"(").concat(JSON.stringify(U).slice(1,-1),")"):q;return"‪[[".concat(B,"]]‬")}var M=q.split("."),I=he(x,M)||he(T,M)||R;if(I===void 0){var E="Can't find translation for ".concat(q);return console.warn(E),""}if(U)for(var p in U)I=I.replace("{{".concat(p,"}}"),String(U[p]));return I},fe=(0,c.cn)(Z.code),X=function(){var q=(0,c.Dv)(fe,a.yE);return{t:ve,langCode:q}}},453:function(te,t,e){e.d(t,{e_:function(){return d},yE:function(){return v}});var w=e(3607),v=(e(9787),Symbol()),d=(0,w.Vv)()},5491:function(te,t,e){e.d(t,{E0:function(){return S},Ge:function(){return a},OA:function(){return T},Wl:function(){return b},aU:function(){return v},tW:function(){return d}});var w=e(9937),v={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR",S:"KeyS"},d={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:w.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},b=function(c){return c===d.ARROW_LEFT||c===d.ARROW_RIGHT||c===d.ARROW_DOWN||c===d.ARROW_UP},T=function(c){return c.altKey},S=function(c){return c.shiftKey},a=function(c){return c.shiftKey}},2361:function(te,t,e){e.d(t,{EK:function(){return B},H5:function(){return Z},Jj:function(){return R},LW:function(){return c},N_:function(){return fe},Ni:function(){return h},U1:function(){return T},Xt:function(){return E},c9:function(){return _},eH:function(){return q},ep:function(){return M},g6:function(){return F},lk:function(){return U},mW:function(){return I},wC:function(){return le},xj:function(){return S},yB:function(){return ve},yW:function(){return he},yq:function(){return a}});var w=e(2577),v=e(9937),d=e(4949),b=e(2921),T=function(p,r,o,g,s){return[(p-o)*Math.cos(s)-(r-g)*Math.sin(s)+o,(p-o)*Math.sin(s)+(r-g)*Math.cos(s)+g]},S=function(p,r,o){return T(p[0],p[1],r[0],r[1],o)},a=function(p,r,o,g,s,u,k,N){var W=Math.cos(g),O=Math.sin(g);return p.e&&p.w?r+=s+k:p.e?(r+=s*(1+W),o+=s*O,r+=k*(1-W),o+=k*-O):p.w&&(r+=s*(1-W),o+=s*-O,r+=k*(1+W),o+=k*O),p.n&&p.s?o+=u+N:p.n?(r+=u*O,o+=u*(1-W),r+=N*-O,o+=N*(1+W)):p.s&&(r+=u*-O,o+=u*(1+W),r+=N*O,o+=N*(1-W)),[r,o]},c=function(p,r,o,g){var s=o-p,u=g-r;return Math.hypot(s,u)},Z=function(p,r){return[(p[0]+r[0])/2,(p[1]+r[1])/2]},F=function(p){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(p.length>=3){var o=[p[0],p[p.length-1]],g=o[0],s=o[1],u=c(g[0],g[1],s[0],s[1]);return u<=v.qx/r}return!1},_=function(p,r,o){var g=p.length;if(g<3)return!1;for(var s=[Number.MAX_SAFE_INTEGER,o],u=[r,o],k=0,N=0;N<g;N++){var W=p[N],O=p[(N+1)%g];if(G(W,O,u,s)){if(x(W,u,O)===0)return h(W,u,O);k++}}return k%2==1},h=function(p,r,o){return r[0]<=Math.max(p[0],o[0])&&r[0]>=Math.min(p[0],o[0])&&r[1]<=Math.max(p[1],o[1])&&r[1]>=Math.min(p[1],o[1])},x=function(p,r,o){var g=(r[1]-p[1])*(o[0]-r[0])-(r[0]-p[0])*(o[1]-r[1]);return g===0?0:g>0?1:2},G=function(p,r,o,g){var s=x(p,r,o),u=x(p,r,g),k=x(o,g,p),N=x(o,g,r);return s!==u&&k!==N||!(s!==0||!h(p,o,r))||!(u!==0||!h(p,g,r))||!(k!==0||!h(o,p,g))||!(N!==0||!h(o,r,g))},le=function(p,r,o){return o?[Math.round(p/o)*o,Math.round(r/o)*o]:[p,r]},he=function(p,r){var o,g,s;if(((o=r.roundness)===null||o===void 0?void 0:o.type)===v.a6.PROPORTIONAL_RADIUS||((g=r.roundness)===null||g===void 0?void 0:g.type)===v.a6.LEGACY)return p*v.Rx;if(((s=r.roundness)===null||s===void 0?void 0:s.type)===v.a6.ADAPTIVE_RADIUS){var u,k,N=(u=(k=r.roundness)===null||k===void 0?void 0:k.value)!==null&&u!==void 0?u:v._9;return p<=N/v.Rx?p*v.Rx:N}return 0},ve=function(p,r){var o=b.R.generateElementShape(p);if(!o)return null;for(var g=(0,d.CM)(o[0]),s=[0,0],u=0,k=1/0,N=null;u<g.length;){var W=g[u],O=W.op,j=W.data;if(O==="move"&&(s=j),O==="bcurveTo"){var L=s,V=[j[0],j[1]],ie=[j[2],j[3]],se=[j[4],j[5]],ue=c(se[0],se[1],r[0],r[1]);ue<k&&(k=ue,N=[L,V,ie,se]),s=se}u++}return N},fe=function(p,r,o,g,s){var u=function(k,N){return Math.pow(1-k,3)*g[N]+3*k*Math.pow(1-k,2)*o[N]+3*Math.pow(k,2)*(1-k)*r[N]+p[N]*Math.pow(k,3)};return[u(s,0),u(s,1)]},X=function(p,r){var o=[];o[0]=0;for(var g=function(k,N){var W=ve(k,N);if(!W)return[];for(var O=[],j=1;j>0;){var L=fe(W[0],W[1],W[2],W[3],j);O.push([L[0],L[1]]),j-=.05}return O.length&&R(O.at(-1),N)&&O.push([N[0],N[1]]),O}(p,r),s=0,u=0;s<g.length-1;)u+=c(g[s][0],g[s][1],g[s+1][0],g[s+1][1]),o.push(u),s++;return o},q=function(p,r){return X(p,r).at(-1)},U=function(p,r,o){for(var g=X(p,r),s=g.length-1,u=o*g.at(-1),k=0,N=s,W=0;k<N;)g[W=Math.floor(k+(N-k)/2)]<u?k=W+1:N=W;return g[W]>u&&W--,g[W]===u?W/s:1-(W+(u-g[W])/(g[W+1]-g[W]))/s},R=function(p,r){return p[0]===r[0]&&p[1]===r[1]},B=function(p){return Math.round(p/Math.PI*1e4)%5e3==0},M=function(p,r){var o=(0,w.Z)(p,2),g=o[0],s=o[1],u=(0,w.Z)(r,2),k=u[0],N=u[1];return g<=k?s>=k:g>=k&&N>=g},I=function(p,r){var o=Math.max(p[0],r[0]),g=Math.min(p[1],r[1]);return o<=g?[o,g]:null},E=function(p,r,o){return p>=r&&p<=o}},4864:function(te,t,e){e.d(t,{zx:function(){return Ee.z},Or:function(){return kt.O},Eb:function(){return Sn},ut:function(){return k.ut},$_:function(){return ue},vO:function(){return Mt},LO:function(){return k.LO},lb:function(){return pe.Z},YE:function(){return It.YE},C6:function(){return k.C6},B4:function(){return He},ZP:function(){return on.ZP},wc:function(){return At.w},Fp:function(){return h.Fp},sQ:function(){return Kt.sQ},Xs:function(){return Kt.Xs},Fl:function(){return rn.Fl},NL:function(){return rn.NL},i1:function(){return rn.i1},$D:function(){return rn.$D},KP:function(){return Wt.KP},N7:function(){return rn.N7},Lm:function(){return Zt.Lm},Uo:function(){return Zt.Uo},Ne:function(){return Kt.Ne},QD:function(){return Zt.QD},bt:function(){return Xt.bt},Mj:function(){return h.Mj},cT:function(){return rn.cT},lV:function(){return rn.lV},ZY:function(){return rn.ZY},zh:function(){return rn.zh},DR:function(){return on.DR},BE:function(){return on.BE},$u:function(){return Ht.$u},Di:function(){return jn.Di},nu:function(){return sn.nu},lY:function(){return sn.lY},ET:function(){return sn.ET},wJ:function(){return sn.wJ},_i:function(){return he._i},I_:function(){return rn.I_},NI:function(){return rn.NI},Fy:function(){return le.Fy},xS:function(){return jn.xS},QT:function(){return h.QT},dE:function(){return he.dE}});var w=e(6479),v=e.n(w),d=e(9713),b=e.n(d),T=e(9787),S=e.n(T),a=e(8950),c=e(2577),Z=e(2975),F=e.n(Z),_=e(7165),h=e(8227),x=e(1020),G=function(Bt){var dn=(0,T.useState)(!0),un=(0,c.Z)(dn,2),Bn=un[0],Jn=un[1];return(0,T.useEffect)(function(){var cr=function(){var fr=(0,a.Z)(F().mark(function pn(){return F().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.next=2,(0,h.m0)(kr);case 2:Jn(!1);case 3:case"end":return Nt.stop()}},pn)}));return function(){return fr.apply(this,arguments)}}(),kr=h.Mj.find(function(fr){return fr.code===Bt.langCode})||h.Fp;cr()},[Bt.langCode]),Bn?(0,x.jsx)(_.z,{theme:Bt.theme}):Bt.children},le=e(8242),he=e(9827),ve=e(3379),fe=e.n(ve),X=e(7795),q=e.n(X),U=e(569),R=e.n(U),B=e(3565),M=e.n(B),I=e(9216),E=e.n(I),p=e(4589),r=e.n(p),o=e(9915),g={};g.styleTagTransform=r(),g.setAttributes=M(),g.insert=R().bind(null,"head"),g.domAPI=q(),g.insertStyleElement=E(),fe()(o.Z,g),o.Z&&o.Z.locals&&o.Z.locals;var s=e(9310),u={};u.styleTagTransform=r(),u.setAttributes=M(),u.insert=R().bind(null,"head"),u.domAPI=q(),u.insertStyleElement=E(),fe()(s.Z,u),s.Z&&s.Z.locals&&s.Z.locals;var k=e(9937),N=e(3607),W=e(453),O=e(45),j=e(4572),L=e(8793),V={};V.styleTagTransform=r(),V.setAttributes=M(),V.insert=R().bind(null,"head"),V.domAPI=q(),V.insertStyleElement=E(),fe()(L.Z,V),L.Z&&L.Z.locals&&L.Z.locals;var ie=e(100),se=function(Bt){var dn=Bt.children,un=(0,j.R6)().FooterCenterTunnel,Bn=(0,ie.I)();return(0,x.jsx)(un.In,{children:(0,x.jsx)("div",{className:(0,O.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Bn.zenModeEnabled}),children:dn})})},ue=se;se.displayName="FooterCenter";var pe=e(7021),Q=e(7169),ee=e(2726),me=e(5463),Te=e(2529),Ue=e(8935),qe=e(5744),Ae={};Ae.styleTagTransform=r(),Ae.setAttributes=M(),Ae.insert=R().bind(null,"head"),Ae.domAPI=q(),Ae.insertStyleElement=E(),fe()(qe.Z,Ae),qe.Z&&qe.Z.locals&&qe.Z.locals;var Oe=function(){return(0,x.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,x.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})})},Ie=function(){return(0,x.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,x.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,x.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,x.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,x.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]})},Re=function(Bt){var dn=Bt.style,un=Bt.size,Bn=un===void 0?"small":un,Jn=Bt.withText;return(0,x.jsxs)("div",{className:"ExcalidrawLogo is-".concat(Bn),style:dn,children:[(0,x.jsx)(Oe,{}),Jn&&(0,x.jsx)(Ie,{})]})},ke=["onSelect","children","icon","shortcut","className"],xe=["children","href","icon","shortcut","className"];function ye(Bt,dn){var un=Object.keys(Bt);if(Object.getOwnPropertySymbols){var Bn=Object.getOwnPropertySymbols(Bt);dn&&(Bn=Bn.filter(function(Jn){return Object.getOwnPropertyDescriptor(Bt,Jn).enumerable})),un.push.apply(un,Bn)}return un}function P(Bt){for(var dn=1;dn<arguments.length;dn++){var un=arguments[dn]!=null?arguments[dn]:{};dn%2?ye(Object(un),!0).forEach(function(Bn){(0,Q.Z)(Bt,Bn,un[Bn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Bt,Object.getOwnPropertyDescriptors(un)):ye(Object(un)).forEach(function(Bn){Object.defineProperty(Bt,Bn,Object.getOwnPropertyDescriptor(un,Bn))})}return Bt}var l=function(Bt){var dn=Bt.icon,un=Bt.shortcut,Bn=Bt.children,Jn=(0,le.Fy)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"welcome-screen-menu-item__icon",children:dn}),(0,x.jsx)("div",{className:"welcome-screen-menu-item__text",children:Bn}),un&&!Jn.editor.isMobile&&(0,x.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:un})]})};l.displayName="WelcomeScreenMenuItemContent";var f=function(Bt){var dn=Bt.onSelect,un=Bt.children,Bn=Bt.icon,Jn=Bt.shortcut,cr=Bt.className,kr=cr===void 0?"":cr,fr=(0,ee.Z)(Bt,ke);return(0,x.jsx)("button",P(P({},fr),{},{type:"button",className:"welcome-screen-menu-item ".concat(kr),onClick:dn,children:(0,x.jsx)(l,{icon:Bn,shortcut:Jn,children:un})}))};f.displayName="WelcomeScreenMenuItem";var D=function(Bt){var dn=Bt.children,un=Bt.href,Bn=Bt.icon,Jn=Bt.shortcut,cr=Bt.className,kr=cr===void 0?"":cr,fr=(0,ee.Z)(Bt,xe);return(0,x.jsx)("a",P(P({},fr),{},{className:"welcome-screen-menu-item ".concat(kr),href:un,target:"_blank",rel:"noreferrer",children:(0,x.jsx)(l,{icon:Bn,shortcut:Jn,children:dn})}))};D.displayName="WelcomeScreenMenuItemLink";var H=function(Bt){var dn=Bt.children,un=(0,j.R6)().WelcomeScreenCenterTunnel;return(0,x.jsx)(un.In,{children:(0,x.jsx)("div",{className:"welcome-screen-center",children:dn||(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(J,{}),(0,x.jsx)(re,{children:(0,h.t)("welcomeScreen.defaults.center_heading")}),(0,x.jsxs)(ae,{children:[(0,x.jsx)(_e,{}),(0,x.jsx)(ge,{})]})]})})})};H.displayName="Center";var J=function(Bt){var dn=Bt.children;return(0,x.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:dn||(0,x.jsx)(Re,{withText:!0})})};J.displayName="Logo";var re=function(Bt){var dn=Bt.children;return(0,x.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:dn})};re.displayName="Heading";var ae=function(Bt){var dn=Bt.children;return(0,x.jsx)("div",{className:"welcome-screen-menu",children:dn})};ae.displayName="Menu";var ge=function(){var Bt=(0,le.eh)();return(0,x.jsx)(f,{onSelect:function(){return Bt.executeAction(me.jY)},shortcut:"?",icon:Ue.by,children:(0,h.t)("helpDialog.title")})};ge.displayName="MenuItemHelp";var _e=function(){var Bt=(0,ie.I)(),dn=(0,le.eh)();return Bt.viewModeEnabled?null:(0,x.jsx)(f,{onSelect:function(){return dn.executeAction(me._d)},shortcut:(0,Te.C)("loadScene"),icon:Ue.Tl,children:(0,h.t)("buttons.load")})};_e.displayName="MenuItemLoadScene";var ze=function(Bt){var dn=Bt.onSelect,un=(0,h.QT)().t;return(0,x.jsx)(f,{shortcut:null,onSelect:dn,icon:Ue.jn,children:un("labels.liveCollaboration")})};ze.displayName="MenuItemLiveCollaborationTrigger",H.Logo=J,H.Heading=re,H.Menu=ae,H.MenuItem=f,H.MenuItemLink=D,H.MenuItemHelp=ge,H.MenuItemLoadScene=_e,H.MenuItemLiveCollaborationTrigger=ze;var Je=function(Bt){var dn=Bt.children,un=(0,j.R6)().WelcomeScreenMenuHintTunnel;return(0,x.jsx)(un.In,{children:(0,x.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[Ue.oQ,(0,x.jsx)("div",{className:"welcome-screen-decor-hint__label",children:dn||(0,h.t)("welcomeScreen.defaults.menuHint")})]})})};Je.displayName="MenuHint";var et=function(Bt){var dn=Bt.children,un=(0,j.R6)().WelcomeScreenToolbarHintTunnel;return(0,x.jsx)(un.In,{children:(0,x.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,x.jsx)("div",{className:"welcome-screen-decor-hint__label",children:dn||(0,h.t)("welcomeScreen.defaults.toolbarHint")}),Ue.DJ]})})};et.displayName="ToolbarHint";var Ke=function(Bt){var dn=Bt.children,un=(0,j.R6)().WelcomeScreenHelpHintTunnel;return(0,x.jsx)(un.In,{children:(0,x.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,x.jsx)("div",{children:dn||(0,h.t)("welcomeScreen.defaults.helpHint")}),Ue._U]})})};Ke.displayName="HelpHint";var tt=e(1569),ut={};ut.styleTagTransform=r(),ut.setAttributes=M(),ut.insert=R().bind(null,"head"),ut.domAPI=q(),ut.insertStyleElement=E(),fe()(tt.Z,ut),tt.Z&&tt.Z.locals&&tt.Z.locals;var ht=function(Bt){return(0,x.jsx)(x.Fragment,{children:Bt.children||(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(H,{}),(0,x.jsx)(Je,{}),(0,x.jsx)(et,{}),(0,x.jsx)(Ke,{})]})})};ht.displayName="WelcomeScreen",ht.Center=H,ht.Hints={MenuHint:Je,ToolbarHint:et,HelpHint:Ke};var He=ht,Ee=e(8806),Le=e(3397),Qe={};Qe.styleTagTransform=r(),Qe.setAttributes=M(),Qe.insert=R().bind(null,"head"),Qe.domAPI=q(),Qe.insertStyleElement=E(),fe()(Le.Z,Qe),Le.Z&&Le.Z.locals&&Le.Z.locals;var ct=["isCollaborating","onSelect"];function bt(Bt,dn){var un=Object.keys(Bt);if(Object.getOwnPropertySymbols){var Bn=Object.getOwnPropertySymbols(Bt);dn&&(Bn=Bn.filter(function(Jn){return Object.getOwnPropertyDescriptor(Bt,Jn).enumerable})),un.push.apply(un,Bn)}return un}function wt(Bt){for(var dn=1;dn<arguments.length;dn++){var un=arguments[dn]!=null?arguments[dn]:{};dn%2?bt(Object(un),!0).forEach(function(Bn){(0,Q.Z)(Bt,Bn,un[Bn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Bt,Object.getOwnPropertyDescriptors(un)):bt(Object(un)).forEach(function(Bn){Object.defineProperty(Bt,Bn,Object.getOwnPropertyDescriptor(un,Bn))})}return Bt}var zt=function(Bt){var dn=Bt.isCollaborating,un=Bt.onSelect,Bn=(0,ee.Z)(Bt,ct),Jn=(0,ie.I)();return(0,x.jsxs)(Ee.z,wt(wt({},Bn),{},{className:(0,O.Z)("collab-button",{active:dn}),type:"button",onSelect:un,style:{position:"relative"},title:(0,h.t)("labels.liveCollaboration"),children:[Ue.jn,Jn.collaborators.size>0&&(0,x.jsx)("div",{className:"CollabButton-collaborators",children:Jn.collaborators.size})]}))},Mt=zt;zt.displayName="LiveCollaborationTrigger";var Zt=e(7651),sn=e(7994),rn=e(507),Xt=e(4183),on=e(583),jn=e(9326),It=e(5902),kt=e(1925),Ht=e(8020),At=e(6199),Wt=e(4949),Kt=e(6013),an=["initialData","UIOptions"],bn=["initialData","UIOptions"];function hn(Bt,dn){var un=Object.keys(Bt);if(Object.getOwnPropertySymbols){var Bn=Object.getOwnPropertySymbols(Bt);dn&&(Bn=Bn.filter(function(Jn){return Object.getOwnPropertyDescriptor(Bt,Jn).enumerable})),un.push.apply(un,Bn)}return un}function An(Bt){for(var dn=1;dn<arguments.length;dn++){var un=arguments[dn]!=null?arguments[dn]:{};dn%2?hn(Object(un),!0).forEach(function(Bn){b()(Bt,Bn,un[Bn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Bt,Object.getOwnPropertyDescriptors(un)):hn(Object(un)).forEach(function(Bn){Object.defineProperty(Bt,Bn,Object.getOwnPropertyDescriptor(un,Bn))})}return Bt}var Yn=function(Bt){var dn,un,Bn,Jn,cr,kr,fr=Bt.onChange,pn=Bt.initialData,Nt=Bt.excalidrawAPI,Ft=Bt.isCollaborating,qt=Ft!==void 0&&Ft,kn=Bt.onPointerUpdate,$n=Bt.renderTopRightUI,Hn=Bt.langCode,Qn=Hn===void 0?h.Fp.code:Hn,ir=Bt.viewModeEnabled,Fn=Bt.zenModeEnabled,yr=Bt.gridModeEnabled,lr=Bt.libraryReturnUrl,Gn=Bt.theme,Xn=Bt.name,er=Bt.renderCustomStats,pr=Bt.onPaste,vr=Bt.detectScroll,xr=vr===void 0||vr,$r=Bt.handleKeyboardGlobally,io=$r!==void 0&&$r,Eo=Bt.onLibraryChange,Ro=Bt.autoFocus,Bo=Ro!==void 0&&Ro,Do=Bt.generateIdForFile,bo=Bt.onLinkOpen,Zo=Bt.onPointerDown,rt=Bt.onScrollChange,Se=Bt.children,Ze=Bt.validateEmbeddable,Ve=Bt.renderEmbeddable,pt=(dn=Bt.UIOptions)===null||dn===void 0?void 0:dn.canvasActions,Vt=An(An({},Bt.UIOptions),{},{canvasActions:An(An({},k.cW.canvasActions),pt),tools:{image:(un=(Bn=Bt.UIOptions)===null||Bn===void 0||(Jn=Bn.tools)===null||Jn===void 0?void 0:Jn.image)===null||un===void 0||un}});return pt!=null&&pt.export&&(Vt.canvasActions.export.saveFileToDisk=(cr=(kr=pt.export)===null||kr===void 0?void 0:kr.saveFileToDisk)!==null&&cr!==void 0?cr:k.cW.canvasActions.export.saveFileToDisk),Vt.canvasActions.toggleTheme===null&&Gn===void 0&&(Vt.canvasActions.toggleTheme=!0),(0,T.useEffect)(function(){var cn=function(Mn){typeof Mn.scale=="number"&&Mn.scale!==1&&Mn.preventDefault()};return document.addEventListener("touchmove",cn,{passive:!1}),function(){document.removeEventListener("touchmove",cn)}},[]),(0,x.jsx)(N.zt,{unstable_createStore:function(){return W.e_},scope:W.yE,children:(0,x.jsx)(G,{langCode:Qn,theme:Gn,children:(0,x.jsx)(le.ZP,{onChange:fr,initialData:pn,excalidrawAPI:Nt,isCollaborating:qt,onPointerUpdate:kn,renderTopRightUI:$n,langCode:Qn,viewModeEnabled:ir,zenModeEnabled:Fn,gridModeEnabled:yr,libraryReturnUrl:lr,theme:Gn,name:Xn,renderCustomStats:er,UIOptions:Vt,onPaste:pr,detectScroll:xr,handleKeyboardGlobally:io,onLibraryChange:Eo,autoFocus:Bo,generateIdForFile:Do,onLinkOpen:bo,onPointerDown:Zo,onScrollChange:rt,validateEmbeddable:Ze,renderEmbeddable:Ve,children:Se})})})},tr=function(Bt,dn){if(Bt.children!==dn.children)return!1;Bt.initialData;var un=Bt.UIOptions,Bn=un===void 0?{}:un,Jn=v()(Bt,an),cr=(dn.initialData,dn.UIOptions),kr=cr===void 0?{}:cr,fr=v()(dn,bn),pn=Object.keys(Bn),Nt=Object.keys(kr);return pn.length===Nt.length&&pn.every(function(Ft){return Ft==="canvasActions"?Object.keys(Bn.canvasActions).every(function(qt){var kn,$n,Hn,Qn;return qt==="export"&&Bn!=null&&(kn=Bn.canvasActions)!==null&&kn!==void 0&&kn.export&&kr!=null&&($n=kr.canvasActions)!==null&&$n!==void 0&&$n.export?Bn.canvasActions.export.saveFileToDisk===kr.canvasActions.export.saveFileToDisk:(Bn==null||(Hn=Bn.canvasActions)===null||Hn===void 0?void 0:Hn[qt])===(kr==null||(Qn=kr.canvasActions)===null||Qn===void 0?void 0:Qn[qt])}):Bn[Ft]===kr[Ft]})&&(0,he.w8)(Jn,fr)},Sn=S().memo(Yn,tr);Sn.displayName="Excalidraw"},507:function(te,t,e){e.d(t,{y8:function(){return fe},Fl:function(){return I},NL:function(){return M},i1:function(){return p},$D:function(){return E},N7:function(){return q.N7},cT:function(){return X.cT},lV:function(){return X.lV},ZY:function(){return X.ZY},zh:function(){return U.zh},I_:function(){return F.I_},NI:function(){return F.NI}});var w=e(8950),v=e(7169),d=e(2975),b=e.n(d),T=e(3668),S=e(6853),a=e(7994),c=e(9937),Z=e(250),F=e(4419),_=e(4694);function h(r){return[Math.min(r[0][0],r[1][0]),Math.min(r[0][1],r[1][1]),Math.max(r[0][0],r[1][0]),Math.max(r[0][1],r[1][1])]}function x(r,o){return r[0]*o[1]-o[0]*r[1]}function G(r,o){return[r[0]-o[0],r[1]-o[1]]}function le(r,o){var g=x(G(r[1],r[0]),G(o,r[0]));return Math.abs(g)<1e-6}function he(r,o){return x(G(r[1],r[0]),G(o,r[0]))<0}function ve(r,o){return le(r,o[0])||le(r,o[1])||(he(r,o[0])?!he(r,o[1]):he(r,o[1]))}function fe(r,o){return function(g,s){return g[0]<=s[2]&&g[2]>=s[0]&&g[1]<=s[3]&&g[3]>=s[1]}(h(r),h(o))&&ve(r,o)&&ve(o,r)}e(6013);var X=e(5796),q=e(9660),U=e(9326);function R(r,o){var g=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);o&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),g.push.apply(g,s)}return g}function B(r){for(var o=1;o<arguments.length;o++){var g=arguments[o]!=null?arguments[o]:{};o%2?R(Object(g),!0).forEach(function(s){(0,v.Z)(r,s,g[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(g)):R(Object(g)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(g,s))})}return r}var M=function(r){var o=r.elements,g=r.appState,s=r.files,u=r.maxWidthOrHeight,k=r.getDimensions,N=r.exportPadding,W=r.exportingFrame,O=(0,a.nu)({elements:o,appState:g},null,null),j=O.elements,L=O.appState,V=L.exportBackground,ie=L.viewBackgroundColor;return(0,T.NL)(j,B(B({},L),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),s||{},{exportBackground:V,exportPadding:N,viewBackgroundColor:ie,exportingFrame:W},function(se,ue){var pe,Q=document.createElement("canvas");if(u){var ee;typeof k=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var me=Math.max(se,ue),Te=u<me?u/me:(ee=g?.exportScale)!==null&&ee!==void 0?ee:1;return Q.width=se*Te,Q.height=ue*Te,{canvas:Q,scale:Te}}var Ue=k?.(se,ue)||{width:se,height:ue};return Q.width=Ue.width,Q.height=Ue.height,{canvas:Q,scale:(pe=Ue.scale)!==null&&pe!==void 0?pe:1}})},I=function(){var r=(0,w.Z)(b().mark(function o(g){var s,u,k,N,W,O;return b().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return k=(u=g).mimeType,N=k===void 0?c.LO.png:k,W=u.quality,N===c.LO.png&&typeof W=="number"&&console.warn('"quality" will be ignored for "'.concat(c.LO.png,'" mimeType')),N==="image/jpg"&&(N=c.LO.jpg),N!==c.LO.jpg||(s=g.appState)!==null&&s!==void 0&&s.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(c.LO.jpg,'" mimeType')),g=B(B({},g),{},{appState:B(B({},g.appState),{},{exportBackground:!0})})),j.next=6,M(g);case 6:return O=j.sent,W=W||(/image\/jpe?g/.test(N)?.92:.8),j.abrupt("return",new Promise(function(L,V){O.toBlob(function(){var ie=(0,w.Z)(b().mark(function se(ue){var pe;return b().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(ue){Q.next=2;break}return Q.abrupt("return",V(new Error("couldn't export to blob")));case 2:if(!ue||N!==c.LO.png||(pe=g.appState)===null||pe===void 0||!pe.exportEmbedScene){Q.next=6;break}return Q.next=5,(0,Z.encodePngMetadata)({blob:ue,metadata:(0,F.I_)(g.elements,g.appState,g.files||{},"local")});case 5:ue=Q.sent;case 6:L(ue);case 7:case"end":return Q.stop()}},se)}));return function(se){return ie.apply(this,arguments)}}(),N,W)}));case 9:case"end":return j.stop()}},o)}));return function(o){return r.apply(this,arguments)}}(),E=function(){var r=(0,w.Z)(b().mark(function o(g){var s,u,k,N,W,O,j,L,V,ie,se,ue;return b().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return s=g.elements,u=g.appState,k=u===void 0?(0,S.im)():u,N=g.files,W=N===void 0?{}:N,O=g.exportPadding,j=g.renderEmbeddables,L=g.exportingFrame,V=(0,a.nu)({elements:s,appState:k},null,null),ie=V.elements,se=V.appState,ue=B(B({},se),{},{exportPadding:O}),pe.abrupt("return",(0,T.$D)(ie,ue,W,{exportingFrame:L,renderEmbeddables:j}));case 4:case"end":return pe.stop()}},o)}));return function(o){return r.apply(this,arguments)}}(),p=function(){var r=(0,w.Z)(b().mark(function o(g){var s;return b().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(g.type!=="svg"){u.next=8;break}return u.next=3,E(g);case 3:return s=u.sent,u.next=6,(0,_.dd)(s.outerHTML);case 6:case 11:case 16:u.next=19;break;case 8:if(g.type!=="png"){u.next=13;break}return u.next=11,(0,_.uR)(I(g));case 13:if(g.type!=="json"){u.next=18;break}return u.next=16,(0,_.vQ)(g.elements,g.files);case 18:throw new Error("Invalid export type");case 19:case"end":return u.stop()}},o)}));return function(o){return r.apply(this,arguments)}}()},6013:function(te,t,e){e.d(t,{Ne:function(){return Z},Xs:function(){return _},sQ:function(){return F}});var w=e(2577),v=e(4183),d=e(2361),b=e(4949);function T(h,x){var G=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!G){if(Array.isArray(h)||(G=function(q,U){if(q){if(typeof q=="string")return S(q,U);var R=Object.prototype.toString.call(q).slice(8,-1);if(R==="Object"&&q.constructor&&(R=q.constructor.name),R==="Map"||R==="Set")return Array.from(q);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return S(q,U)}}(h))||x){G&&(h=G);var le=0,he=function(){};return{s:he,n:function(){return le>=h.length?{done:!0}:{done:!1,value:h[le++]}},e:function(q){throw q},f:he}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ve,fe=!0,X=!1;return{s:function(){G=G.call(h)},n:function(){var q=G.next();return fe=q.done,q},e:function(q){X=!0,ve=q},f:function(){try{fe||G.return==null||G.return()}finally{if(X)throw ve}}}}function S(h,x){(x==null||x>h.length)&&(x=h.length);for(var G=0,le=new Array(x);G<x;G++)le[G]=h[G];return le}var a=function(h){var x=h.reduce(function(G,le){var he=(0,w.Z)(le,2),ve=he[0],fe=he[1];return G.minY=Math.min(G.minY,fe),G.minX=Math.min(G.minX,ve),G.maxX=Math.max(G.maxX,ve),G.maxY=Math.max(G.maxY,fe),G},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return x.cx=(x.maxX+x.minX)/2,x.cy=(x.maxY+x.minY)/2,x},c=function(h){var x=function(R){return(0,v.bt)(R)||(0,v.F9)(R)?R.points:function(B){return B.type==="diamond"?[[B.width/2,0],[B.width,B.height/2],[B.width/2,B.height],[0,B.height/2]]:[[0,0],[0+B.width,0],[0+B.width,B.height],[0,B.height]]}(R)}(h),G=a(x),le=[G.cx,G.cy],he=x.map(function(R){return(0,d.xj)([R[0],R[1]],le,h.angle)}),ve=a(he),fe=ve.minX,X=ve.minY,q=ve.maxX,U=ve.maxY;return[fe+h.x,X+h.y,q+h.x,U+h.y]},Z=function(h,x){var G=arguments.length>2&&arguments[2]!==void 0&&arguments[2],le=c(h),he=x[0]<=le[0]&&x[2]>=le[2]&&x[1]<=le[1]&&x[3]>=le[3];return G?!!he||le[0]<=x[0]&&le[2]>=x[2]&&le[1]<=x[1]&&le[3]>=x[3]:he},F=function(h,x){var G=c(h);return((0,d.Xt)(G[0],x[0],x[2])||(0,d.Xt)(x[0],G[0],G[2]))&&((0,d.Xt)(G[1],x[1],x[3])||(0,d.Xt)(x[1],G[1],G[3]))},_=function(h){var x=h.elements,G=h.bounds,le=h.type,he=h.errorMargin,ve=he===void 0?0:he;(0,v.r2)(G)&&(G=(0,b.Pi)(G));var fe,X=[G[0]-ve,G[1]-ve,G[2]+ve,G[3]+ve],q=new Set,U=T(x);try{for(U.s();!(fe=U.n()).done;){var R=fe.value;if(!q.has(R.id)&&(le==="overlap"?F(R,X):le==="inside"?Z(R,X):Z(R,X,!0))){if(q.add(R.id),R.boundElements){var B,M=T(R.boundElements);try{for(M.s();!(B=M.n()).done;){var I=B.value;q.add(I.id)}}catch(p){M.e(p)}finally{M.f()}}var E;(0,v.iB)(R)&&R.containerId&&q.add(R.containerId),(0,v.Yv)(R)&&(R.startBinding&&q.add(R.startBinding.elementId),R.endBinding&&q.add((E=R.endBinding)===null||E===void 0?void 0:E.elementId))}}}catch(p){U.e(p)}finally{U.f()}return x.filter(function(p){return q.has(p.id)})}},5999:function(te,t,e){e.d(t,{k:function(){return v},z:function(){return d}});var w=e(1930),v=function(b){var T=b.map(function(a){return a[0]}),S=b.map(function(a){return a[1]});return{width:Math.max.apply(Math,(0,w.Z)(T))-Math.min.apply(Math,(0,w.Z)(T)),height:Math.max.apply(Math,(0,w.Z)(S))-Math.min.apply(Math,(0,w.Z)(S))}},d=function(b,T,S,a){var c=S.map(function(he){return he[b]}),Z=Math.max.apply(Math,(0,w.Z)(c)),F=Math.min.apply(Math,(0,w.Z)(c)),_=Z-F,h=_===0?1:T/_,x=1/0,G=S.map(function(he){var ve=he[b]*h,fe=(0,w.Z)(he);return fe[b]=ve,ve<x&&(x=ve),fe});if(!a||G.length===2)return G;var le=F-x;return G.map(function(he){return he.map(function(ve,fe){return fe===b?ve+le:ve})})}},4643:function(te,t,e){e.d(t,{LU:function(){return S},kb:function(){return a}});var w=e(8152),v=e(5605),d=e(9827),b=new w.k(Date.now()),T=0,S=function(){return Math.floor(b.next()*Math.pow(2,31))},a=function(){return(0,d.h2)()?"id".concat(T++):(0,v.x0)()}},9660:function(te,t,e){e.d(t,{Dn:function(){return se},Xx:function(){return ee},Lc:function(){return ke},N7:function(){return xe},lw:function(){return qe},Rg:function(){return Ie},uI:function(){return Ue}});var w=e(7169),v=e(2577),d=e(4183),b=e(4949),T=e(9827),S=e(2361),a=e(9845),c=e(6853),Z=e(9937);function F(l,f,D,H=J=>J){return l*H(.5-f*(.5-D))}function _(l,f){return[l[0]+f[0],l[1]+f[1]]}function h(l,f){return[l[0]-f[0],l[1]-f[1]]}function x(l,f){return[l[0]*f,l[1]*f]}function G(l){return[l[1],-l[0]]}function le(l,f){return l[0]*f[0]+l[1]*f[1]}function he(l,f){return l[0]===f[0]&&l[1]===f[1]}function ve(l,f){return function(D){return D[0]*D[0]+D[1]*D[1]}(h(l,f))}function fe(l){return function(f,D){return[f[0]/D,f[1]/D]}(l,function(f){return Math.hypot(f[0],f[1])}(l))}function X(l,f){return Math.hypot(l[1]-f[1],l[0]-f[0])}function q(l,f,D){let H=Math.sin(D),J=Math.cos(D),re=l[0]-f[0],ae=l[1]-f[1],ge=re*H+ae*J;return[re*J-ae*H+f[0],ge+f[1]]}function U(l,f,D){return _(l,x(h(f,l),D))}function R(l,f,D){return _(l,x(f,D))}var{min:B,PI:M}=Math,I=M+1e-4;function E(l,f={}){return function(D,H={}){let{size:J=16,smoothing:re=.5,thinning:ae=.5,simulatePressure:ge=!0,easing:_e=Wt=>Wt,start:ze={},end:Je={},last:et=!1}=H,{cap:Ke=!0,easing:tt=Wt=>Wt*(2-Wt)}=ze,{cap:ut=!0,easing:ht=Wt=>--Wt*Wt*Wt+1}=Je;if(D.length===0||J<=0)return[];let He,Ee=D[D.length-1].runningLength,Le=ze.taper===!1?0:ze.taper===!0?Math.max(J,Ee):ze.taper,Qe=Je.taper===!1?0:Je.taper===!0?Math.max(J,Ee):Je.taper,ct=Math.pow(J*re,2),bt=[],wt=[],zt=D.slice(0,10).reduce((Wt,Kt)=>{let an=Kt.pressure;if(ge){let bn=B(1,Kt.distance/J),hn=B(1,1-bn);an=B(1,Wt+.275*bn*(hn-Wt))}return(Wt+an)/2},D[0].pressure),Mt=F(J,ae,D[D.length-1].pressure,_e),Zt=D[0].vector,sn=D[0].point,rn=sn,Xt=sn,on=rn,jn=!1;for(let Wt=0;Wt<D.length;Wt++){let{pressure:Kt}=D[Wt],{point:an,vector:bn,distance:hn,runningLength:An}=D[Wt];if(Wt<D.length-1&&Ee-An<3)continue;if(ae){if(ge){let Bn=B(1,hn/J),Jn=B(1,1-Bn);Kt=B(1,zt+.275*Bn*(Jn-zt))}Mt=F(J,ae,Kt,_e)}else Mt=J/2;He===void 0&&(He=Mt);let Yn=An<Le?tt(An/Le):1,tr=Ee-An<Qe?ht((Ee-An)/Qe):1;Mt=Math.max(.01,Mt*Math.min(Yn,tr));let Sn=(Wt<D.length-1?D[Wt+1]:D[Wt]).vector,Bt=Wt<D.length-1?le(bn,Sn):1,dn=Bt!==null&&Bt<0;if(le(bn,Zt)<0&&!jn||dn){let Bn=x(G(Zt),Mt);for(let Jn=.07692307692307693,cr=0;cr<=1;cr+=Jn)Xt=q(h(an,Bn),an,I*cr),bt.push(Xt),on=q(_(an,Bn),an,I*-cr),wt.push(on);sn=Xt,rn=on,dn&&(jn=!0);continue}if(jn=!1,Wt===D.length-1){let Bn=x(G(bn),Mt);bt.push(h(an,Bn)),wt.push(_(an,Bn));continue}let un=x(G(U(Sn,bn,Bt)),Mt);Xt=h(an,un),(Wt<=1||ve(sn,Xt)>ct)&&(bt.push(Xt),sn=Xt),on=_(an,un),(Wt<=1||ve(rn,on)>ct)&&(wt.push(on),rn=on),zt=Kt,Zt=bn}let It=D[0].point.slice(0,2),kt=D.length>1?D[D.length-1].point.slice(0,2):_(D[0].point,[1,1]),Ht=[],At=[];if(D.length===1){if(!Le&&!Qe||et){let Wt=R(It,fe(G(h(It,kt))),-(He||Mt)),Kt=[];for(let an=.07692307692307693,bn=an;bn<=1;bn+=an)Kt.push(q(Wt,It,2*I*bn));return Kt}}else{if(!(Le||Qe&&D.length===1))if(Ke)for(let Kt=.07692307692307693,an=Kt;an<=1;an+=Kt){let bn=q(wt[0],It,I*an);Ht.push(bn)}else{let Kt=h(bt[0],wt[0]),an=x(Kt,.5),bn=x(Kt,.51);Ht.push(h(It,an),h(It,bn),_(It,bn),_(It,an))}let Wt=G(function(Kt){return[-Kt[0],-Kt[1]]}(D[D.length-1].vector));if(Qe||Le&&D.length===1)At.push(kt);else if(ut){let Kt=R(kt,Wt,Mt);for(let an=.034482758620689655,bn=an;bn<1;bn+=an)At.push(q(Kt,kt,3*I*bn))}else At.push(_(kt,x(Wt,Mt)),_(kt,x(Wt,.99*Mt)),h(kt,x(Wt,.99*Mt)),h(kt,x(Wt,Mt)))}return bt.concat(At,wt.reverse(),Ht)}(function(D,H={}){var J;let{streamline:re=.5,size:ae=16,last:ge=!1}=H;if(D.length===0)return[];let _e=.15+.85*(1-re),ze=Array.isArray(D[0])?D:D.map(({x:ht,y:He,pressure:Ee=.5})=>[ht,He,Ee]);if(ze.length===2){let ht=ze[1];ze=ze.slice(0,-1);for(let He=1;He<5;He++)ze.push(U(ze[0],ht,He/4))}ze.length===1&&(ze=[...ze,[..._(ze[0],[1,1]),...ze[0].slice(2)]]);let Je=[{point:[ze[0][0],ze[0][1]],pressure:ze[0][2]>=0?ze[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],et=!1,Ke=0,tt=Je[0],ut=ze.length-1;for(let ht=1;ht<ze.length;ht++){let He=ge&&ht===ut?ze[ht].slice(0,2):U(tt.point,ze[ht],_e);if(he(tt.point,He))continue;let Ee=X(He,tt.point);if(Ke+=Ee,ht<ut&&!et){if(Ke<ae)continue;et=!0}tt={point:He,pressure:ze[ht][2]>=0?ze[ht][2]:.5,vector:fe(h(tt.point,He)),distance:Ee,runningLength:Ke},Je.push(tt)}return Je[0].vector=((J=Je[1])==null?void 0:J.vector)||[0,0],Je}(l,f),f)}var p=e(4761),r=e(7422),o=e(761),g=e(4682),s=e(8020),u=e(2921);function k(l,f){var D=Object.keys(l);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(l);f&&(H=H.filter(function(J){return Object.getOwnPropertyDescriptor(l,J).enumerable})),D.push.apply(D,H)}return D}function N(l){for(var f=1;f<arguments.length;f++){var D=arguments[f]!=null?arguments[f]:{};f%2?k(Object(D),!0).forEach(function(H){(0,w.Z)(l,H,D[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(D)):k(Object(D)).forEach(function(H){Object.defineProperty(l,H,Object.getOwnPropertyDescriptor(D,H))})}return l}var W="invert(100%) hue-rotate(180deg) saturate(1.25)",O=(0,c.im)(),j=function(l,f){return(0,d.wi)(l)&&!f.imageCache.has(l.fileId)},L=function(l,f,D){var H;return D.theme==="dark"&&(0,d.wi)(l)&&!j(l,f)&&((H=f.imageCache.get(l.fileId))===null||H===void 0?void 0:H.mimeType)!==Z.LO.svg},V=function(l){return l.type==="freedraw"?12*l.strokeWidth:20},ie=function(l,f,D,H){var J,re,ae=document.createElement("canvas"),ge=ae.getContext("2d"),_e=V(l),ze=function(ct,bt){var wt=16777216,zt=32767,Mt=V(ct),Zt=(0,b.qf)(ct),sn=(0,v.Z)(Zt,4),rn=sn[0],Xt=sn[1],on=sn[2],jn=sn[3],It=(0,d.bt)(ct)||(0,d.F9)(ct)?(0,T.TE)(rn,on):ct.width,kt=(0,d.bt)(ct)||(0,d.F9)(ct)?(0,T.TE)(Xt,jn):ct.height,Ht=It*window.devicePixelRatio+2*Mt,At=kt*window.devicePixelRatio+2*Mt,Wt=bt.value;return(Ht*Wt>zt||At*Wt>zt)&&(Wt=Math.min(zt/Ht,zt/At)),Ht*At*Wt*Wt>wt&&(Wt=Math.sqrt(wt/(Ht*At))),{width:Ht=Math.floor(Ht*Wt),height:At=Math.floor(At*Wt),scale:Wt}}(l,f),Je=ze.width,et=ze.height,Ke=ze.scale;ae.width=Je,ae.height=et;var tt=0,ut=0;if((0,d.bt)(l)||(0,d.F9)(l)){var ht=(0,b.qf)(l),He=(0,v.Z)(ht,2),Ee=He[0],Le=He[1];tt=l.x>Ee?(0,T.TE)(l.x,Ee)*window.devicePixelRatio*Ke:0,ut=l.y>Le?(0,T.TE)(l.y,Le)*window.devicePixelRatio*Ke:0,ge.translate(tt,ut)}ge.save(),ge.translate(_e*Ke,_e*Ke),ge.scale(window.devicePixelRatio*Ke,window.devicePixelRatio*Ke);var Qe=a.Z.canvas(ae);return L(l,D,H)&&(ge.filter=W),Q(l,Qe,ge,D,H),ge.restore(),{element:l,canvas:ae,theme:H.theme,scale:Ke,zoomValue:f.value,canvasOffsetX:tt,canvasOffsetY:ut,boundTextElementVersion:((J=(0,p.WJ)(l))===null||J===void 0?void 0:J.version)||null,containingFrameOpacity:((re=(0,g.$Z)(l))===null||re===void 0?void 0:re.opacity)||100}},se=14,ue=document.createElement("img");ue.src="data:".concat(Z.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var pe=document.createElement("img");pe.src="data:".concat(Z.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var Q=function(l,f,D,H,J){var re,ae;switch(D.globalAlpha=((re=(ae=(0,g.$Z)(l))===null||ae===void 0?void 0:ae.opacity)!==null&&re!==void 0?re:100)*l.opacity/1e4,l.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":D.lineJoin="round",D.lineCap="round",f.draw(u.R.get(l));break;case"arrow":case"line":D.lineJoin="round",D.lineCap="round",u.R.get(l).forEach(function(Le){f.draw(Le)});break;case"freedraw":D.save(),D.fillStyle=l.strokeColor;var ge=function(Le){return Re.get(Le)}(l),_e=u.R.get(l);_e&&f.draw(_e),D.fillStyle=l.strokeColor,D.fill(ge),D.restore();break;case"image":var ze,Je=(0,d.wi)(l)?(ze=H.imageCache.get(l.fileId))===null||ze===void 0?void 0:ze.image:void 0;Je==null||Je instanceof Promise?function(Le,Qe,ct){Qe.fillStyle="#E7E7E7",Qe.fillRect(0,0,Le.width,Le.height);var bt=Math.min(Le.width,Le.height),wt=Math.min(bt,Math.min(.4*bt,100));Qe.drawImage(Le.status==="error"?pe:ue,Le.width/2-wt/2,Le.height/2-wt/2,wt,wt)}(l,D,J.zoom.value):D.drawImage(Je,0,0,l.width,l.height);break;default:if(!(0,d.iB)(l))throw new Error("Unimplemented type ".concat(l.type));var et=(0,T.dZ)(l.text),Ke=et&&!D.canvas.isConnected;Ke&&document.body.appendChild(D.canvas),D.canvas.setAttribute("dir",et?"rtl":"ltr"),D.save(),D.font=(0,T.mO)(l),D.fillStyle=l.strokeColor,D.textAlign=l.textAlign;for(var tt=l.text.replace(/\r\n?/g,`
`).split(`
`),ut=l.textAlign==="center"?l.width/2:l.textAlign==="right"?l.width:0,ht=(0,p.Rg)(l.fontSize,l.lineHeight),He=l.height-l.baseline,Ee=0;Ee<tt.length;Ee++)D.fillText(tt[Ee],ut,(Ee+1)*ht-He);D.restore(),Ke&&D.canvas.remove()}D.globalAlpha=1},ee=new WeakMap,me=function(l,f,D){var H,J,re=f?D.zoom:O.zoom,ae=ee.get(l),ge=ae&&ae.zoomValue!==re.value&&!(D!=null&&D.shouldCacheIgnoreZoom),_e=((H=(0,p.WJ)(l))===null||H===void 0?void 0:H.version)||null,ze=((J=(0,g.$Z)(l))===null||J===void 0?void 0:J.opacity)||100;if(!ae||ge||ae.theme!==D.theme||ae.boundTextElementVersion!==_e||ae.containingFrameOpacity!==ze){var Je=ie(l,re,f,D);return ee.set(l,Je),Je}return ae},Te=function(l,f,D,H){var J=l.element,re=V(J),ae=l.scale,ge=(0,b.qf)(J),_e=(0,v.Z)(ge,4),ze=_e[0],Je=_e[1],et=_e[2],Ke=_e[3];(0,d.F9)(J)&&(ze=Math.floor(ze),et=Math.ceil(et),Je=Math.floor(Je),Ke=Math.ceil(Ke));var tt=((ze+et)/2+H.scrollX)*window.devicePixelRatio,ut=((Je+Ke)/2+H.scrollY)*window.devicePixelRatio;f.save(),f.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var ht=(0,p.WJ)(J);if((0,d.Yv)(J)&&ht){var He=document.createElement("canvas"),Ee=He.getContext("2d"),Le=Math.max((0,T.TE)(ze,et),(0,T.TE)(Je,Ke));He.width=Le*window.devicePixelRatio*ae+re*l.scale*10,He.height=Le*window.devicePixelRatio*ae+re*l.scale*10;var Qe=(He.width-l.canvas.width)/2,ct=(He.height-l.canvas.height)/2;Ee.translate(He.width/2,He.height/2),Ee.rotate(J.angle),Ee.drawImage(l.canvas,-l.canvas.width/2,-l.canvas.height/2,l.canvas.width,l.canvas.height);var bt=(0,b.qf)(ht),wt=(0,v.Z)(bt,6),zt=wt[4],Mt=wt[5];Ee.rotate(-J.angle);var Zt=He.width/2-(zt-ze)*window.devicePixelRatio*ae-Qe-re*ae,sn=He.height/2-(Mt-Je)*window.devicePixelRatio*ae-ct-re*ae;Ee.translate(-Zt,-sn),Ee.clearRect(-(ht.width/2+Z.gK)*window.devicePixelRatio*ae,-(ht.height/2+Z.gK)*window.devicePixelRatio*ae,(ht.width+2*Z.gK)*window.devicePixelRatio*ae,(ht.height+2*Z.gK)*window.devicePixelRatio*ae),f.translate(tt,ut),f.drawImage(He,-(et-ze)/2*window.devicePixelRatio-Qe/ae-re,-(Ke-Je)/2*window.devicePixelRatio-ct/ae-re,He.width/ae,He.height/ae)}else if(f.translate(tt,ut),f.rotate(J.angle),"scale"in l.element&&!j(J,D)&&f.scale(l.element.scale[0],l.element.scale[1]),f.translate(-tt,-ut),f.drawImage(l.canvas,(ze+H.scrollX)*window.devicePixelRatio-re*l.scale/l.scale,(Je+H.scrollY)*window.devicePixelRatio-re*l.scale/l.scale,l.canvas.width/l.scale,l.canvas.height/l.scale),{}.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,d.Xo)(J)){var rn=(0,p.WJ)(J),Xt=(0,p.cw)(J);f.strokeStyle="#c92a2a",f.lineWidth=3,f.strokeRect((Xt.x+H.scrollX)*window.devicePixelRatio,(Xt.y+H.scrollY)*window.devicePixelRatio,(0,p.iZ)(J)*window.devicePixelRatio,(0,p.D9)(J,rn)*window.devicePixelRatio)}f.restore()},Ue=function(l,f,D){f.save(),f.translate(l.x+D.scrollX,l.y+D.scrollY),f.fillStyle="rgba(0, 0, 200, 0.04)";var H=.5/D.zoom.value;f.fillRect(H,H,l.width,l.height),f.lineWidth=1/D.zoom.value,f.strokeStyle=" rgb(105, 101, 219)",f.strokeRect(H,H,l.width,l.height),f.restore()},qe=function(l,f,D,H,J){switch(l.type){case"frame":J.frameRendering.enabled&&J.frameRendering.outline&&(D.save(),D.translate(l.x+J.scrollX,l.y+J.scrollY),D.fillStyle="rgba(0, 0, 200, 0.04)",D.lineWidth=Z.iG.strokeWidth/J.zoom.value,D.strokeStyle=Z.iG.strokeColor,Z.iG.radius&&D.roundRect?(D.beginPath(),D.roundRect(0,0,l.width,l.height,Z.iG.radius/J.zoom.value),D.stroke(),D.closePath()):D.strokeRect(0,0,l.width,l.height),D.restore());break;case"freedraw":if(u.R.generateElementShape(l),H.isExporting){var re=(0,b.qf)(l),ae=(0,v.Z)(re,4),ge=ae[0],_e=ae[1],ze=ae[2],Je=ae[3],et=(ge+ze)/2+J.scrollX,Ke=(_e+Je)/2+J.scrollY,tt=(ze-ge)/2-(l.x-ge),ut=(Je-_e)/2-(l.y-_e);D.save(),D.translate(et,Ke),D.rotate(l.angle),D.translate(-tt,-ut),Q(l,f,D,H,J),D.restore()}else{var ht=me(l,H,J);Te(ht,D,H,J)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"embeddable":if(u.R.generateElementShape(l,H.isExporting),H.isExporting){var He=(0,b.qf)(l),Ee=(0,v.Z)(He,4),Le=Ee[0],Qe=Ee[1],ct=Ee[2],bt=Ee[3],wt=(Le+ct)/2+J.scrollX,zt=(Qe+bt)/2+J.scrollY,Mt=(ct-Le)/2-(l.x-Le),Zt=(bt-Qe)/2-(l.y-Qe);if((0,d.iB)(l)){var sn=(0,p.tl)(l);if((0,d.Yv)(sn)){var rn=r._.getBoundTextElementPosition(sn,l);Mt=(ct-Le)/2-(rn.x-Le),Zt=(bt-Qe)/2-(rn.y-Qe)}}D.save(),D.translate(wt,zt),L(l,H,J)&&(D.filter="none");var Xt=(0,p.WJ)(l);if((0,d.Yv)(l)&&Xt){var on=document.createElement("canvas"),jn=on.getContext("2d"),It=Math.max((0,T.TE)(Le,ct),(0,T.TE)(Qe,bt)),kt=V(l);on.width=It*J.exportScale+10*kt*J.exportScale,on.height=It*J.exportScale+10*kt*J.exportScale,jn.translate(on.width/2,on.height/2),jn.scale(J.exportScale,J.exportScale),Mt=l.width/2-(l.x-Le),Zt=l.height/2-(l.y-Qe),jn.rotate(l.angle);var Ht=a.Z.canvas(on);jn.translate(-Mt,-Zt),Q(l,Ht,jn,H,J),jn.translate(Mt,Zt),jn.rotate(-l.angle);var At=(0,b.qf)(Xt),Wt=(0,v.Z)(At,6),Kt=(Le+ct)/2-Wt[4],an=(Qe+bt)/2-Wt[5];jn.translate(-Kt,-an),jn.clearRect(-Xt.width/2,-Xt.height/2,Xt.width,Xt.height),D.scale(1/J.exportScale,1/J.exportScale),D.drawImage(on,-on.width/2,-on.height/2,on.width,on.height)}else D.rotate(l.angle),l.type==="image"&&D.scale(l.scale[0],l.scale[1]),D.translate(-Mt,-Zt),Q(l,f,D,H,J);D.restore()}else{var bn=me(l,H,J),hn=D.imageSmoothingEnabled;J!=null&&J.shouldCacheIgnoreZoom||l.angle&&!(0,S.EK)(l.angle)||(D.imageSmoothingEnabled=!1),Te(bn,D,H,J),D.imageSmoothingEnabled=hn}break;default:throw new Error("Unimplemented type ".concat(l.type))}},Ae=function(l,f,D){if(D===void 0)return l.draw(f);var H={sets:f.sets,shape:f.shape,options:N(N({},f.options),{},{fixedDecimalPlaceDigits:D})};return l.draw(H)},Oe=function(l,f,D,H){if(!H.enabled||!H.clip)return null;var J=(0,g.$Z)(l);if(J){var re=f.ownerDocument.createElementNS(Z.hR,"g");return re.setAttributeNS(Z.hR,"clip-path","url(#".concat(J.id,")")),D.forEach(function(ae){return re.appendChild(ae)}),re}return null},Ie=function l(f,D,H,J,re,ae,ge){var _e,ze,Je=re,et=ae,Ke=(0,b.qf)(f),tt=(0,v.Z)(Ke,4),ut=tt[0],ht=tt[1],He=tt[2],Ee=tt[3],Le=(He-ut)/2-(f.x-ut),Qe=(Ee-ht)/2-(f.y-ht);if((0,d.iB)(f)){var ct=(0,p.tl)(f);if((0,d.Yv)(ct)){var bt=(0,b.qf)(ct),wt=(0,v.Z)(bt,4),zt=wt[0],Mt=wt[1],Zt=wt[2],sn=wt[3],rn=r._.getBoundTextElementPosition(ct,f);Le=(Zt-zt)/2-(rn.x-zt),Qe=(sn-Mt)/2-(rn.y-Mt),re=re+rn.x-f.x,ae=ae+rn.y-f.y}}var Xt=180*f.angle/Math.PI,on=H;if(f.link){var jn=H.ownerDocument.createElementNS(Z.hR,"a");jn.setAttribute("href",(0,s.$u)(f.link)),on.appendChild(jn),on=jn}var It=function(rt,Se){(0,T.h2)()&&rt.setAttribute("data-id",Se.id),on.appendChild(rt)},kt=((_e=(ze=(0,g.$Z)(f))===null||ze===void 0?void 0:ze.opacity)!==null&&_e!==void 0?_e:100)*f.opacity/1e4;switch(f.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var Ht=u.R.generateElementShape(f),At=Ae(D,Ht,Z.zK);kt!==1&&(At.setAttribute("stroke-opacity","".concat(kt)),At.setAttribute("fill-opacity","".concat(kt))),At.setAttribute("stroke-linecap","round"),At.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Xt," ").concat(Le," ").concat(Qe,")")),It(Oe(f,on,[At],ge.frameRendering)||At,f);break;case"embeddable":var Wt=u.R.generateElementShape(f,!0),Kt=Ae(D,Wt,Z.zK),an=f.opacity/100;an!==1&&(Kt.setAttribute("stroke-opacity","".concat(an)),Kt.setAttribute("fill-opacity","".concat(an))),Kt.setAttribute("stroke-linecap","round"),Kt.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Xt," ").concat(Le," ").concat(Qe,")")),It(Kt,f);var bn=(0,o.g0)(f);l(bn,D,on,J,bn.x+Je-f.x,bn.y+et-f.y,ge);var hn=Ae(D,Wt,Z.zK);for(hn.setAttribute("stroke-linecap","round"),hn.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Xt," ").concat(Le," ").concat(Qe,")"));hn.firstChild;)hn.removeChild(hn.firstChild);var An=(0,S.yW)(Math.min(f.width,f.height),f),Yn=(0,o.LM)((0,s.ye)(f.link||""));if(ge.renderEmbeddables===!1||Yn?.type==="document"){var tr=H.ownerDocument.createElementNS(Z.hR,"a");tr.setAttribute("href",(0,s.$u)(f.link||"")),tr.setAttribute("target","_blank"),tr.setAttribute("rel","noopener noreferrer"),tr.style.borderRadius="".concat(An,"px"),hn.appendChild(tr)}else{var Sn,Bt=H.ownerDocument.createElementNS(Z.hR,"foreignObject");Bt.style.width="".concat(f.width,"px"),Bt.style.height="".concat(f.height,"px"),Bt.style.border="none";var dn=Bt.ownerDocument.createElementNS(Z.hR,"div");dn.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),dn.style.width="100%",dn.style.height="100%";var un=dn.ownerDocument.createElement("iframe");un.src=(Sn=Yn?.link)!==null&&Sn!==void 0?Sn:"",un.style.width="100%",un.style.height="100%",un.style.border="none",un.style.borderRadius="".concat(An,"px"),un.style.top="0",un.style.left="0",un.allowFullscreen=!0,dn.appendChild(un),Bt.appendChild(dn),hn.appendChild(Bt)}It(hn,f);break;case"line":case"arrow":var Bn=(0,p.WJ)(f),Jn=H.ownerDocument.createElementNS(Z.hR,"mask");if(Bn){Jn.setAttribute("id","mask-".concat(f.id));var cr=H.ownerDocument.createElementNS(Z.hR,"rect");re=re||0,ae=ae||0,cr.setAttribute("x","0"),cr.setAttribute("y","0"),cr.setAttribute("fill","#fff"),cr.setAttribute("width","".concat(f.width+100+re)),cr.setAttribute("height","".concat(f.height+100+ae)),Jn.appendChild(cr);var kr=H.ownerDocument.createElementNS(Z.hR,"rect"),fr=r._.getBoundTextElementPosition(f,Bn),pn=re+fr.x-f.x,Nt=ae+fr.y-f.y;kr.setAttribute("x",pn.toString()),kr.setAttribute("y",Nt.toString()),kr.setAttribute("fill","#000"),kr.setAttribute("width","".concat(Bn.width)),kr.setAttribute("height","".concat(Bn.height)),kr.setAttribute("opacity","1"),Jn.appendChild(kr)}var Ft=H.ownerDocument.createElementNS(Z.hR,"g");Bn&&Ft.setAttribute("mask","url(#mask-".concat(f.id,")")),Ft.setAttribute("stroke-linecap","round"),u.R.generateElementShape(f).forEach(function(rt){var Se=Ae(D,rt,Z.zK);kt!==1&&(Se.setAttribute("stroke-opacity","".concat(kt)),Se.setAttribute("fill-opacity","".concat(kt))),Se.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Xt," ").concat(Le," ").concat(Qe,")")),f.type==="line"&&(0,S.g6)(f.points)&&f.backgroundColor!=="transparent"&&Se.setAttribute("fill-rule","evenodd"),Ft.appendChild(Se)});var qt=Oe(f,on,[Ft,Jn],ge.frameRendering);qt?(It(qt,f),on.appendChild(qt)):(It(Ft,f),on.append(Jn));break;case"freedraw":var kn=u.R.generateElementShape(f),$n=kn?Ae(D,kn,Z.zK):H.ownerDocument.createElementNS(Z.hR,"g");kt!==1&&($n.setAttribute("stroke-opacity","".concat(kt)),$n.setAttribute("fill-opacity","".concat(kt))),$n.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Xt," ").concat(Le," ").concat(Qe,")")),$n.setAttribute("stroke","none");var Hn=H.ownerDocument.createElementNS(Z.hR,"path");Hn.setAttribute("fill",f.strokeColor),Hn.setAttribute("d",xe(f)),$n.appendChild(Hn),It(Oe(f,on,[$n],ge.frameRendering)||$n,f);break;case"image":var Qn=Math.round(f.width),ir=Math.round(f.height),Fn=(0,d.wi)(f)&&J[f.fileId];if(Fn){var yr="image-".concat(Fn.id),lr=H.querySelector("#".concat(yr));if(!lr){(lr=H.ownerDocument.createElementNS(Z.hR,"symbol")).id=yr;var Gn=H.ownerDocument.createElementNS(Z.hR,"image");Gn.setAttribute("width","100%"),Gn.setAttribute("height","100%"),Gn.setAttribute("href",Fn.dataURL),lr.appendChild(Gn),on.prepend(lr)}var Xn=H.ownerDocument.createElementNS(Z.hR,"use");if(Xn.setAttribute("href","#".concat(yr)),ge.exportWithDarkMode&&Fn.mimeType!==Z.LO.svg&&Xn.setAttribute("filter",W),Xn.setAttribute("width","".concat(Qn)),Xn.setAttribute("height","".concat(ir)),Xn.setAttribute("opacity","".concat(kt)),f.scale[0]!==1||f.scale[1]!==1){var er=f.scale[0]!==1?-Qn:0,pr=f.scale[1]!==1?-ir:0;Xn.setAttribute("transform","scale(".concat(f.scale[0],", ").concat(f.scale[1],") translate(").concat(er," ").concat(pr,")"))}var vr=H.ownerDocument.createElementNS(Z.hR,"g");vr.appendChild(Xn),vr.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Xt," ").concat(Le," ").concat(Qe,")")),It(Oe(f,on,[vr],ge.frameRendering)||vr,f)}break;case"frame":if(ge.frameRendering.enabled&&ge.frameRendering.outline){var xr=document.createElementNS(Z.hR,"rect");xr.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Xt," ").concat(Le," ").concat(Qe,")")),xr.setAttribute("width","".concat(f.width,"px")),xr.setAttribute("height","".concat(f.height,"px")),xr.setAttribute("rx",Z.iG.radius.toString()),xr.setAttribute("ry",Z.iG.radius.toString()),xr.setAttribute("fill","none"),xr.setAttribute("stroke",Z.iG.strokeColor),xr.setAttribute("stroke-width",Z.iG.strokeWidth.toString()),It(xr,f)}break;default:if(!(0,d.iB)(f))throw new Error("Unimplemented type ".concat(f.type));var $r=H.ownerDocument.createElementNS(Z.hR,"g");kt!==1&&($r.setAttribute("stroke-opacity","".concat(kt)),$r.setAttribute("fill-opacity","".concat(kt))),$r.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Xt," ").concat(Le," ").concat(Qe,")"));for(var io=f.text.replace(/\r\n?/g,`
`).split(`
`),Eo=(0,p.Rg)(f.fontSize,f.lineHeight),Ro=f.textAlign==="center"?f.width/2:f.textAlign==="right"?f.width:0,Bo=(0,T.dZ)(f.text)?"rtl":"ltr",Do=f.textAlign==="center"?"middle":f.textAlign==="right"||Bo==="rtl"?"end":"start",bo=0;bo<io.length;bo++){var Zo=H.ownerDocument.createElementNS(Z.hR,"text");Zo.textContent=io[bo],Zo.setAttribute("x","".concat(Ro)),Zo.setAttribute("y","".concat(bo*Eo)),Zo.setAttribute("font-family",(0,T.$g)(f)),Zo.setAttribute("font-size","".concat(f.fontSize,"px")),Zo.setAttribute("fill",f.strokeColor),Zo.setAttribute("text-anchor",Do),Zo.setAttribute("style","white-space: pre;"),Zo.setAttribute("direction",Bo),Zo.setAttribute("dominant-baseline","text-before-edge"),$r.appendChild(Zo)}It(Oe(f,on,[$r],ge.frameRendering)||$r,f)}},Re=new WeakMap([]);function ke(l){var f=xe(l),D=new Path2D(f);return Re.set(l,D),D}function xe(l){return function(f){if(!f.length)return"";var D=f.length-1;return f.reduce(function(H,J,re,ae){return re===D?H.push(J,ye(J,ae[0]),"L",ae[0],"Z"):H.push(J,ye(J,ae[re+1])),H},["M",f[0],"Q"]).join(" ").replace(P,"$1")}(E(l.simulatePressure?l.points:l.points.length?l.points.map(function(f,D){var H=(0,v.Z)(f,2);return[H[0],H[1],l.pressures[D]]}):[[0,0,.5]],{simulatePressure:l.simulatePressure,size:4.25*l.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(f){return Math.sin(f*Math.PI/2)},last:!!l.lastCommittedPoint}))}function ye(l,f){return[(l[0]+f[0])/2,(l[1]+f[1])/2]}var P=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},7766:function(te,t,e){e.d(t,{Lu:function(){return k},n_:function(){return Ue},tp:function(){return ee},M_:function(){return P},AW:function(){return Te}});var w,v=e(1930),d=e(2577),b=e(5284),T=e(7651),S=function(l,f,D,H,J,re,ae){l.beginPath(),l.moveTo(f+re,D),l.lineTo(f+H-re,D),l.quadraticCurveTo(f+H,D,f+H,D+re),l.lineTo(f+H,D+J-re),l.quadraticCurveTo(f+H,D+J,f+H-re,D+J),l.lineTo(f+re,D+J),l.quadraticCurveTo(f,D+J,f,D+J-re),l.lineTo(f,D+re),l.quadraticCurveTo(f,D,f+re,D),l.closePath(),l.fill(),ae&&(l.strokeStyle=ae),l.stroke()},a=e(4726),c=e(9660),Z=e(957),F=e(7422),_=e(9215),h=e(3528),x=e(4048),G=e(9827);(function(l){l.ACTIVE="active",l.AWAY="away",l.IDLE="idle"})(w||(w={}));var le=e(9937),he=e(5992);function ve(l,f){var D=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!D){if(Array.isArray(l)||(D=function(_e,ze){if(_e){if(typeof _e=="string")return fe(_e,ze);var Je=Object.prototype.toString.call(_e).slice(8,-1);if(Je==="Object"&&_e.constructor&&(Je=_e.constructor.name),Je==="Map"||Je==="Set")return Array.from(_e);if(Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je))return fe(_e,ze)}}(l))||f){D&&(l=D);var H=0,J=function(){};return{s:J,n:function(){return H>=l.length?{done:!0}:{done:!1,value:l[H++]}},e:function(_e){throw _e},f:J}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,ae=!0,ge=!1;return{s:function(){D=D.call(l)},n:function(){var _e=D.next();return ae=_e.done,_e},e:function(_e){ge=!0,re=_e},f:function(){try{ae||D.return==null||D.return()}finally{if(ge)throw re}}}}function fe(l,f){(f==null||f>l.length)&&(f=l.length);for(var D=0,H=new Array(f);D<f;D++)H[D]=l[D];return H}var X=function(l,f,D){if(!D.zenModeEnabled){var H=l.points[0],J=l.points[l.points.length-1];R(H,J,f)}var re,ae=ve(l.points);try{for(ae.s();!(re=ae.n()).done;){var ge=re.value;U(ge,D,f)}}catch(_e){ae.e(_e)}finally{ae.f()}},q=function(l,f,D){U(l.points[0],D,f),D.zenModeEnabled||R(l.points[0],l.points[1],f)},U=function(l,f,D){var H=(0,d.Z)(l,2),J=H[0],re=H[1];D.save();var ae=(f.zenModeEnabled?3:2)/f.zoom.value;D.beginPath(),D.moveTo(J-ae,re-ae),D.lineTo(J+ae,re+ae),D.moveTo(J+ae,re-ae),D.lineTo(J-ae,re+ae),D.stroke(),D.restore()},R=function(l,f,D){D.beginPath(),D.lineTo.apply(D,(0,v.Z)(l)),D.lineTo.apply(D,(0,v.Z)(f)),D.stroke()},B=function(l,f,D,H,J){var re=8/H.zoom.value,ae=re/2,ge=re/4;if(D==="horizontal"){var _e=[(l[0]+f[0])/2,l[1]];H.zenModeEnabled||R([l[0],l[1]-re],[l[0],l[1]+re],J),R([_e[0]-ge,_e[1]-ae],[_e[0]-ge,_e[1]+ae],J),R([_e[0]+ge,_e[1]-ae],[_e[0]+ge,_e[1]+ae],J),H.zenModeEnabled||(R([f[0],f[1]-re],[f[0],f[1]+re],J),R(l,f,J))}else{var ze=[l[0],(l[1]+f[1])/2];H.zenModeEnabled||R([l[0]-re,l[1]],[l[0]+re,l[1]],J),R([ze[0]-ae,ze[1]-ge],[ze[0]+ae,ze[1]-ge],J),R([ze[0]-ae,ze[1]+ge],[ze[0]+ae,ze[1]+ge],J),H.zenModeEnabled||(R([f[0]-re,f[1]],[f[0]+re,f[1]],J),R(l,f,J))}},M=e(4183),I=e(761),E=e(4682),p=e(6655);function r(l,f){var D=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!D){if(Array.isArray(l)||(D=function(_e,ze){if(_e){if(typeof _e=="string")return o(_e,ze);var Je=Object.prototype.toString.call(_e).slice(8,-1);if(Je==="Object"&&_e.constructor&&(Je=_e.constructor.name),Je==="Map"||Je==="Set")return Array.from(_e);if(Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je))return o(_e,ze)}}(l))||f){D&&(l=D);var H=0,J=function(){};return{s:J,n:function(){return H>=l.length?{done:!0}:{done:!1,value:l[H++]}},e:function(_e){throw _e},f:J}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,ae=!0,ge=!1;return{s:function(){D=D.call(l)},n:function(){var _e=D.next();return ae=_e.done,_e},e:function(_e){ge=!0,re=_e},f:function(){try{ae||D.return==null||D.return()}finally{if(ge)throw re}}}}function o(l,f){(f==null||f>l.length)&&(f=l.length);for(var D=0,H=new Array(f);D<f;D++)H[D]=l[D];return H}function g(l,f){var D=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!D){if(Array.isArray(l)||(D=function(_e,ze){if(_e){if(typeof _e=="string")return s(_e,ze);var Je=Object.prototype.toString.call(_e).slice(8,-1);if(Je==="Object"&&_e.constructor&&(Je=_e.constructor.name),Je==="Map"||Je==="Set")return Array.from(_e);if(Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je))return s(_e,ze)}}(l))||f){D&&(l=D);var H=0,J=function(){};return{s:J,n:function(){return H>=l.length?{done:!0}:{done:!1,value:l[H++]}},e:function(_e){throw _e},f:J}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,ae=!0,ge=!1;return{s:function(){D=D.call(l)},n:function(){var _e=D.next();return ae=_e.done,_e},e:function(_e){ge=!0,re=_e},f:function(){try{ae||D.return==null||D.return()}finally{if(ge)throw re}}}}function s(l,f){(f==null||f>l.length)&&(f=l.length);for(var D=0,H=new Array(f);D<f;D++)H[D]=l[D];return H}(function(){var l,f,D,H,J,re;(f=(l=Path2D.prototype).roundRect)!==null&&f!==void 0||(l.roundRect=ae),globalThis.CanvasRenderingContext2D&&((H=(D=globalThis.CanvasRenderingContext2D.prototype).roundRect)!==null&&H!==void 0||(D.roundRect=ae)),globalThis.OffscreenCanvasRenderingContext2D&&((re=(J=globalThis.OffscreenCanvasRenderingContext2D.prototype).roundRect)!==null&&re!==void 0||(J.roundRect=ae));function ae(_e,ze,Je,et,Ke){if([_e,ze,Je,et].every(function(wt){return Number.isFinite(wt)})){var tt,ut,ht,He;if((Ke=function(wt){var zt=(0,p.Z)(wt);return zt==="undefined"||wt===null?[0]:zt==="function"?[NaN]:zt==="object"?typeof wt[Symbol.iterator]=="function"?(0,v.Z)(wt).map(function(Mt){var Zt=(0,p.Z)(Mt);return Zt==="undefined"||Mt===null?0:Zt==="function"?NaN:Zt==="object"?Qe(Mt):ct(Mt)}):[Qe(wt)]:[ct(wt)]}(Ke)).length===4)tt=bt(Ke[0]),ut=bt(Ke[1]),ht=bt(Ke[2]),He=bt(Ke[3]);else if(Ke.length===3)tt=bt(Ke[0]),ut=bt(Ke[1]),He=bt(Ke[1]),ht=bt(Ke[2]);else if(Ke.length===2)tt=bt(Ke[0]),ht=bt(Ke[0]),ut=bt(Ke[1]),He=bt(Ke[1]);else{if(Ke.length!==1)throw new RangeError("".concat(ge(this)," ").concat(Ke.length," is not a valid size for radii sequence."));tt=bt(Ke[0]),ut=bt(Ke[0]),ht=bt(Ke[0]),He=bt(Ke[0])}var Ee=[tt,ut,ht,He],Le=Ee.find(function(wt){var zt=wt.x,Mt=wt.y;return zt<0||Mt<0});if(Le?.x<0?Le.x:Le?.y,!Ee.some(function(wt){var zt=wt.x,Mt=wt.y;return!Number.isFinite(zt)||!Number.isFinite(Mt)})){if(Le)throw new RangeError("".concat(ge(this)," Radius value ").concat(Le," is negative."));(function(wt){var zt=(0,d.Z)(wt,4),Mt=zt[0],Zt=zt[1],sn=zt[2],rn=zt[3],Xt=[Math.abs(Je)/(Mt.x+Zt.x),Math.abs(et)/(Zt.y+sn.y),Math.abs(Je)/(sn.x+rn.x),Math.abs(et)/(Mt.y+rn.y)],on=Math.min.apply(Math,Xt);if(on<=1){var jn,It=r(wt);try{for(It.s();!(jn=It.n()).done;){var kt=jn.value;kt.x*=on,kt.y*=on}}catch(Ht){It.e(Ht)}finally{It.f()}}})(Ee),Je<0&&et<0?(this.moveTo(_e-tt.x,ze),this.ellipse(_e+Je+ut.x,ze-ut.y,ut.x,ut.y,0,1.5*-Math.PI,-Math.PI),this.ellipse(_e+Je+ht.x,ze+et+ht.y,ht.x,ht.y,0,-Math.PI,-Math.PI/2),this.ellipse(_e-He.x,ze+et+He.y,He.x,He.y,0,-Math.PI/2,0),this.ellipse(_e-tt.x,ze-tt.y,tt.x,tt.y,0,0,-Math.PI/2)):Je<0?(this.moveTo(_e-tt.x,ze),this.ellipse(_e+Je+ut.x,ze+ut.y,ut.x,ut.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(_e+Je+ht.x,ze+et-ht.y,ht.x,ht.y,0,-Math.PI,1.5*-Math.PI,1),this.ellipse(_e-He.x,ze+et-He.y,He.x,He.y,0,Math.PI/2,0,1),this.ellipse(_e-tt.x,ze+tt.y,tt.x,tt.y,0,0,-Math.PI/2,1)):et<0?(this.moveTo(_e+tt.x,ze),this.ellipse(_e+Je-ut.x,ze-ut.y,ut.x,ut.y,0,Math.PI/2,0,1),this.ellipse(_e+Je-ht.x,ze+et+ht.y,ht.x,ht.y,0,0,-Math.PI/2,1),this.ellipse(_e+He.x,ze+et+He.y,He.x,He.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(_e+tt.x,ze-tt.y,tt.x,tt.y,0,-Math.PI,1.5*-Math.PI,1)):(this.moveTo(_e+tt.x,ze),this.ellipse(_e+Je-ut.x,ze+ut.y,ut.x,ut.y,0,-Math.PI/2,0),this.ellipse(_e+Je-ht.x,ze+et-ht.y,ht.x,ht.y,0,0,Math.PI/2),this.ellipse(_e+He.x,ze+et-He.y,He.x,He.y,0,Math.PI/2,Math.PI),this.ellipse(_e+tt.x,ze+tt.y,tt.x,tt.y,0,Math.PI,1.5*Math.PI)),this.closePath(),this.moveTo(_e,ze)}}function Qe(wt){return{x:wt.x,y:wt.y,z:wt.z,w:wt.w}}function ct(wt){return+wt}function bt(wt){var zt,Mt,Zt=ct(wt);return Number.isFinite(Zt)?{x:Zt,y:Zt}:Object(wt)===wt?{x:ct((zt=wt.x)!==null&&zt!==void 0?zt:0),y:ct((Mt=wt.y)!==null&&Mt!==void 0?Mt:0)}:{x:NaN,y:NaN}}}function ge(_e){return"Failed to execute 'roundRect' on '".concat(function(ze){return Object(ze)===ze&&ze instanceof Path2D?"Path2D":ze instanceof globalThis?.CanvasRenderingContext2D?"CanvasRenderingContext2D":ze instanceof globalThis?.OffscreenCanvasRenderingContext2D?"OffscreenCanvasRenderingContext2D":ze?.constructor.name||ze}(_e),"':")}})();var u,k=2,N=function(l,f,D,H,J,re,ae,ge){var _e=arguments.length>8&&arguments[8]!==void 0&&arguments[8],ze=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0;l.save(),l.translate(re,ae),l.rotate(ge),_e&&l.fillRect(f-re,D-ae,H,J),ze&&l.roundRect?(l.beginPath(),l.roundRect(f-re,D-ae,H,J,ze),l.stroke(),l.closePath()):l.strokeRect(f-re,D-ae,H,J),l.restore()},W=function(l,f,D,H){var J=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];l.beginPath(),l.arc(f,D,H,0,2*Math.PI),l.fill(),J&&l.stroke()},O=function(l,f,D,H,J){var re=arguments.length>5&&arguments[5]!==void 0&&arguments[5];l.strokeStyle="#5e5ad8",l.setLineDash([]),l.fillStyle="rgba(255, 255, 255, 0.9)",J?l.fillStyle="rgba(134, 131, 226, 0.9)":re&&(l.fillStyle="rgba(177, 151, 252, 0.7)"),W(l,D[0],D[1],H/f.zoom.value,!re)},j=function(l,f,D){if(f.selectedLinearElement){l.save(),l.translate(f.scrollX,f.scrollY),l.lineWidth=1/f.zoom.value;var H=F._.getPointsGlobalCoordinates(D),J=F._.POINT_HANDLE_SIZE,re=f.editingLinearElement?J:J/2;H.forEach(function(ae,ge){var _e,ze,Je=!((_e=f.editingLinearElement)===null||_e===void 0||(ze=_e.selectedPointsIndices)===null||ze===void 0||!ze.includes(ge));O(l,f,ae,re,Je)}),F._.getEditorMidPoints(D,f).filter(function(ae){return ae!==null}).forEach(function(ae){var ge;f!=null&&(ge=f.selectedLinearElement)!==null&&ge!==void 0&&ge.segmentMidPointHoveredCoords&&F._.arePointsEqual(ae,f.selectedLinearElement.segmentMidPointHoveredCoords)?f.editingLinearElement?(O(l,f,ae,re,!1),L(ae,l,f)):(L(ae,l,f),O(l,f,ae,re,!1)):(f.editingLinearElement||H.length===2)&&O(l,f,ae,J/2,!1,!0)}),l.restore()}},L=function(l,f,D){f.fillStyle="rgba(105, 101, 219, 0.4)",W(f,l[0],l[1],F._.POINT_HANDLE_SIZE/D.zoom.value,!1)},V=function(l,f,D,H){f.translate(l.x+H.scrollX,l.y+H.scrollY),f.beginPath(),f.roundRect?f.roundRect(0,0,l.width,l.height,le.iG.radius/H.zoom.value):f.rect(0,0,l.width,l.height),f.clip(),f.translate(-(l.x+H.scrollX),-(l.y+H.scrollY))},ie=function(l,f){return[l.width/f,l.height/f]},se=function(l){var f=l.canvas,D=l.scale,H=l.normalizedWidth,J=l.normalizedHeight,re=l.theme,ae=l.isExporting,ge=l.viewBackgroundColor,_e=f.getContext("2d");return _e.setTransform(1,0,0,1,0,0),_e.scale(D,D),ae&&re==="dark"&&(_e.filter=le.ZF),typeof ge=="string"?((ge==="transparent"||ge.length===5||ge.length===9||/(hsla|rgba)\(/.test(ge))&&_e.clearRect(0,0,H,J),_e.save(),_e.fillStyle=ge,_e.fillRect(0,0,H,J),_e.restore()):_e.clearRect(0,0,H,J),_e},ue=function(l){var f,D=l.canvas,H=l.elements,J=l.visibleElements,re=l.selectedElements,ae=l.scale,ge=l.appState,_e=l.renderConfig;if(D===null)return{atLeastOneVisibleElement:!1,elements:H};var ze=ie(D,ae),Je=(0,d.Z)(ze,2),et=Je[0],Ke=Je[1],tt=se({canvas:D,scale:ae,normalizedWidth:et,normalizedHeight:Ke});tt.save(),tt.scale(ge.zoom.value,ge.zoom.value);var ut=void 0;if(J.forEach(function(Ft){var qt;((qt=ge.editingLinearElement)===null||qt===void 0?void 0:qt.elementId)===Ft.id&&Ft&&(ut=Ft)}),ut&&j(tt,ge,ut),ge.selectionElement)try{(0,c.uI)(ge.selectionElement,tt,ge)}catch(Ft){console.error(Ft)}ge.isBindingEnabled&&ge.suggestedBindings.filter(function(Ft){return Ft!=null}).forEach(function(Ft){Oe(tt,ge,Ft)}),ge.frameToHighlight&&Re(tt,ge,ge.frameToHighlight),ge.elementsToHighlight&&ke(tt,ge,ge.elementsToHighlight);var ht,He=re.some(function(Ft){return(0,M.He)(Ft)});if(re.length===1&&((f=ge.editingLinearElement)===null||f===void 0?void 0:f.elementId)===re[0].id&&j(tt,ge,re[0]),ge.selectedLinearElement&&ge.selectedLinearElement.hoverPointIndex>=0&&function(Ft,qt){var kn,$n,Hn=qt.selectedLinearElement,Qn=Hn.elementId,ir=Hn.hoverPointIndex;if((kn=qt.editingLinearElement)===null||kn===void 0||($n=kn.selectedPointsIndices)===null||$n===void 0||!$n.includes(ir)){var Fn=F._.getElement(Qn);if(Fn){var yr=F._.getPointAtIndexGlobalCoordinates(Fn,ir);Ft.save(),Ft.translate(qt.scrollX,qt.scrollY),L(yr,Ft,qt),Ft.restore()}}}(tt,ge),!ge.multiElement&&!ge.editingLinearElement){var Ee,Le=(0,x.oY)(re,ge);re.length===1&&(0,M.bt)(re[0])&&((Ee=ge.selectedLinearElement)===null||Ee===void 0?void 0:Ee.elementId)===re[0].id&&!re[0].locked&&j(tt,ge,re[0]);var Qe=_e.selectionColor||b.black;if(Le){var ct,bt=re.reduce(function(Ft,qt){return Ft[qt.id]=!0,Ft},{}),wt=H.reduce(function(Ft,qt){var kn=[];if(bt[qt.id]&&!(0,_.zq)(ge,qt)&&kn.push(Qe),_e.remoteSelectedElementIds[qt.id]&&kn.push.apply(kn,(0,v.Z)(_e.remoteSelectedElementIds[qt.id].map(function(er){return(0,Z.G)(er)}))),kn.length){var $n,Hn=(0,T.qf)(qt,!0),Qn=(0,d.Z)(Hn,6),ir=Qn[0],Fn=Qn[1],yr=Qn[2],lr=Qn[3],Gn=Qn[4],Xn=Qn[5];Ft.push({angle:qt.angle,elementX1:ir,elementY1:Fn,elementX2:yr,elementY2:lr,selectionColors:kn,dashed:!!_e.remoteSelectedElementIds[qt.id],cx:Gn,cy:Xn,activeEmbeddable:(($n=ge.activeEmbeddable)===null||$n===void 0?void 0:$n.element)===qt&&ge.activeEmbeddable.state==="active"})}return Ft},[]),zt=function(Ft){var qt=(0,_.Fb)(H,Ft),kn=(0,T.KP)(qt),$n=(0,d.Z)(kn,4),Hn=$n[0],Qn=$n[1],ir=$n[2],Fn=$n[3];wt.push({angle:0,elementX1:Hn,elementX2:ir,elementY1:Qn,elementY2:Fn,selectionColors:[b.black],dashed:!0,cx:Hn+(ir-Hn)/2,cy:Qn+(Fn-Qn)/2,activeEmbeddable:!1})},Mt=g((0,_.iJ)(ge));try{for(Mt.s();!(ct=Mt.n()).done;)zt(ct.value)}catch(Ft){Mt.e(Ft)}finally{Mt.f()}ge.editingGroupId&&zt(ge.editingGroupId),wt.forEach(function(Ft){return Ae(tt,ge,Ft)})}if(tt.save(),tt.translate(ge.scrollX,ge.scrollY),re.length===1){tt.fillStyle=b.white;var Zt=(0,T.PC)(re[0],ge.zoom,"mouse");!ge.viewModeEnabled&&Le&&qe(tt,_e,ge,Zt,re[0].angle)}else if(re.length>1&&!ge.isRotating){var sn=2*k/ge.zoom.value;tt.fillStyle=b.white;var rn=(0,T.KP)(re),Xt=(0,d.Z)(rn,4),on=Xt[0],jn=Xt[1],It=Xt[2],kt=Xt[3],Ht=tt.getLineDash();tt.setLineDash([2/ge.zoom.value]);var At=tt.lineWidth;tt.lineWidth=1/ge.zoom.value,tt.strokeStyle=Qe,N(tt,on-sn,jn-sn,It-on+2*sn,kt-jn+2*sn,(on+It)/2,(jn+kt)/2,0),tt.lineWidth=At,tt.setLineDash(Ht);var Wt=(0,T.kK)([on,jn,It,kt,(on+It)/2,(jn+kt)/2],0,ge.zoom,"mouse",He?x.Fn:T.ox);re.some(function(Ft){return!Ft.locked})&&qe(tt,_e,ge,Wt,0)}tt.restore()}for(var Kt in function(Ft,qt){if(qt.snapLines.length){var kn=qt.theme==="light"||qt.zenModeEnabled?"#ff6b6b":"#ff0000",$n=(qt.zenModeEnabled?1.5:1)/qt.zoom.value;Ft.save(),Ft.translate(qt.scrollX,qt.scrollY);var Hn,Qn=ve(qt.snapLines);try{for(Qn.s();!(Hn=Qn.n()).done;){var ir=Hn.value;ir.type==="pointer"?(Ft.lineWidth=$n,Ft.strokeStyle=kn,q(ir,Ft,qt)):ir.type==="gap"?(Ft.lineWidth=$n,Ft.strokeStyle=kn,B(ir.points[0],ir.points[1],ir.direction,qt,Ft)):ir.type==="points"&&(Ft.lineWidth=$n,Ft.strokeStyle=kn,X(ir,Ft,qt))}}catch(Fn){Qn.e(Fn)}finally{Qn.f()}Ft.restore()}}(tt,ge),tt.restore(),_e.remotePointerViewportCoords){var an=_e.remotePointerViewportCoords[Kt],bn=an.x,hn=an.y;bn-=ge.offsetLeft,hn-=ge.offsetTop;var An=bn<0||bn>et-11||hn<0||hn>Ke-14;bn=Math.max(bn,0),bn=Math.min(bn,et-11),hn=Math.max(hn,0),hn=Math.min(hn,Ke-14);var Yn=(0,Z.G)(Kt);tt.save(),tt.strokeStyle=Yn,tt.fillStyle=Yn;var tr=_e.remotePointerUserStates[Kt],Sn=An||tr===w.IDLE||tr===w.AWAY;Sn&&(tt.globalAlpha=.3),_e.remotePointerButton&&_e.remotePointerButton[Kt]==="down"&&(tt.beginPath(),tt.arc(bn,hn,15,0,2*Math.PI,!1),tt.lineWidth=3,tt.strokeStyle="#ffffff88",tt.stroke(),tt.closePath(),tt.beginPath(),tt.arc(bn,hn,15,0,2*Math.PI,!1),tt.lineWidth=1,tt.strokeStyle=Yn,tt.stroke(),tt.closePath()),tt.fillStyle=b.white,tt.strokeStyle=b.white,tt.lineWidth=6,tt.lineJoin="round",tt.beginPath(),tt.moveTo(bn,hn),tt.lineTo(bn+0,hn+14),tt.lineTo(bn+4,hn+9),tt.lineTo(bn+11,hn+8),tt.closePath(),tt.stroke(),tt.fill(),tt.fillStyle=Yn,tt.strokeStyle=Yn,tt.lineWidth=2,tt.lineJoin="round",tt.beginPath(),Sn?(tt.moveTo(bn-1,hn-1),tt.lineTo(bn-1,hn+15),tt.lineTo(bn+5,hn+10),tt.lineTo(bn+12,hn+9),tt.closePath(),tt.fill()):(tt.moveTo(bn,hn),tt.lineTo(bn+0,hn+14),tt.lineTo(bn+4,hn+9),tt.lineTo(bn+11,hn+8),tt.closePath(),tt.fill(),tt.stroke());var Bt=_e.remotePointerUsernames[Kt]||"";if(!An&&Bt){tt.font="600 12px sans-serif";var dn=bn+5.5,un=hn+14+2,Bn=tt.measureText(Bt),Jn=Bn.actualBoundingBoxDescent+Bn.actualBoundingBoxAscent,cr=Math.max(Jn,12),kr=dn-1,fr=un-1,pn=Bn.width+2+10+2,Nt=cr+2+6+2;tt.roundRect?(tt.beginPath(),tt.roundRect(kr,fr,pn,Nt,8),tt.fillStyle=Yn,tt.fill(),tt.strokeStyle=b.white,tt.stroke()):S(tt,kr,fr,pn,Nt,8,b.white),tt.fillStyle=b.black,tt.fillText(Bt,dn+5+1,un+3+Bn.actualBoundingBoxAscent+Math.floor((cr-Jn)/2)+2)}tt.restore(),tt.closePath()}return _e.renderScrollbars&&(ht=(0,a.tJ)(H,et,Ke,ge),tt.save(),tt.fillStyle=a.w1,tt.strokeStyle="rgba(255,255,255,0.8)",[ht.horizontal,ht.vertical].forEach(function(Ft){Ft&&S(tt,Ft.x,Ft.y,Ft.width,Ft.height,a.nn/2)}),tt.restore()),{scrollBars:ht,atLeastOneVisibleElement:J.length>0,elements:H}},pe=function(l){var f=l.canvas,D=l.rc,H=l.elements,J=l.visibleElements,re=l.scale,ae=l.appState,ge=l.renderConfig;if(f!==null){var _e=ge.renderGrid,ze=_e===void 0||_e,Je=ge.isExporting,et=ie(f,re),Ke=(0,d.Z)(et,2),tt=Ke[0],ut=Ke[1],ht=se({canvas:f,scale:re,normalizedWidth:tt,normalizedHeight:ut,theme:ae.theme,isExporting:Je,viewBackgroundColor:ae.viewBackgroundColor});ht.scale(ae.zoom.value,ae.zoom.value),ze&&ae.gridSize&&function(Ee,Le,Qe,ct,bt,wt,zt){var Mt;(function(At){At.Bold="#cccccc",At.Regular="#e5e5e5"})(Mt||(Mt={}));var Zt=-Math.round(bt.value/Le)*Le+Qe%Le,sn=-Math.round(bt.value/Le)*Le+ct%Le,rn=Math.min(1/bt.value,1),Xt=1/bt.value,on=[3*rn,Xt+(rn+Xt)];Ee.save(),Ee.lineWidth=rn;for(var jn=Zt;jn<Zt+wt+2*Le;jn+=Le){var It=Math.round(jn-Qe)%(5*Le)==0;Ee.beginPath(),Ee.setLineDash(It?[]:on),Ee.strokeStyle=It?Mt.Bold:Mt.Regular,Ee.moveTo(jn,sn-Le),Ee.lineTo(jn,sn+zt+2*Le),Ee.stroke()}for(var kt=sn;kt<sn+zt+2*Le;kt+=Le){var Ht=Math.round(kt-ct)%(5*Le)==0;Ee.beginPath(),Ee.setLineDash(Ht?[]:on),Ee.strokeStyle=Ht?Mt.Bold:Mt.Regular,Ee.moveTo(Zt-Le,kt),Ee.lineTo(Zt+wt+2*Le,kt),Ee.stroke()}Ee.restore()}(ht,ae.gridSize,ae.scrollX,ae.scrollY,ae.zoom,tt/ae.zoom.value,ut/ae.zoom.value);var He=new Set;J.forEach(function(Ee){Ee.groupIds.length>0&&ae.frameToHighlight&&ae.selectedElementIds[Ee.id]&&((0,E.cO)(Ee,ae.frameToHighlight)||Ee.groupIds.find(function(Le){return He.has(Le)}))&&Ee.groupIds.forEach(function(Le){return He.add(Le)})}),J.filter(function(Ee){return!(0,I.uU)(Ee)}).forEach(function(Ee){try{var Le;if((Ee.frameId||!((Le=ae.frameToHighlight)===null||Le===void 0)&&Le.id)&&ae.frameRendering.enabled&&ae.frameRendering.clip){ht.save();var Qe=(0,E.cH)(Ee,ae);Qe&&(0,E.Qs)(Ee,H,ae)&&V(Qe,ht,0,ae),(0,c.lw)(Ee,D,ht,ge,ae),ht.restore()}else(0,c.lw)(Ee,D,ht,ge,ae);Je||ye(Ee,ht,ae)}catch(ct){console.error(ct)}}),J.filter(function(Ee){return(0,I.uU)(Ee)}).forEach(function(Ee){try{var Le,Qe=function(){if((0,c.lw)(Ee,D,ht,ge,ae),(0,M.gs)(Ee)&&(Je||!Ee.validated)&&Ee.width&&Ee.height){var bt=(0,I.g0)(Ee);(0,c.lw)(bt,D,ht,ge,ae)}Je||ye(Ee,ht,ae)};if((Ee.frameId||!((Le=ae.frameToHighlight)===null||Le===void 0)&&Le.id)&&ae.frameRendering.enabled&&ae.frameRendering.clip){ht.save();var ct=(0,E.cH)(Ee,ae);ct&&(0,E.Qs)(Ee,H,ae)&&V(ct,ht,0,ae),Qe(),ht.restore()}else Qe()}catch(bt){console.error(bt)}})}},Q=(0,G.hR)(function(l){var f,D=ue(l);(f=l.callback)===null||f===void 0||f.call(l,D)},{trailing:!0}),ee=function(l,f){if(!f){var D=ue(l);return l.callback(D),D}Q(l)},me=(0,G.hR)(function(l){pe(l)},{trailing:!0}),Te=function(l,f){f?me(l):pe(l)},Ue=function(){Q.cancel(),me.cancel()},qe=function(l,f,D,H,J){Object.keys(H).forEach(function(re){var ae=H[re];if(ae!==void 0){var ge=(0,d.Z)(ae,4),_e=ge[0],ze=ge[1],Je=ge[2],et=ge[3];l.save(),l.lineWidth=1/D.zoom.value,f.selectionColor&&(l.strokeStyle=f.selectionColor),re==="rotation"?W(l,_e+Je/2,ze+et/2,Je/2):l.roundRect?(l.beginPath(),l.roundRect(_e,ze,Je,et,2/D.zoom.value),l.fill(),l.stroke()):N(l,_e,ze,Je,et,_e+Je/2,ze+et/2,J,!0),l.restore()}})},Ae=function(l,f,D){var H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*k,J=D.angle,re=D.elementX1,ae=D.elementY1,ge=D.elementX2,_e=D.elementY2,ze=D.selectionColors,Je=D.cx,et=D.cy,Ke=D.dashed,tt=D.activeEmbeddable,ut=ge-re,ht=_e-ae,He=H/f.zoom.value,Ee=8/f.zoom.value,Le=4/f.zoom.value;l.save(),l.translate(f.scrollX,f.scrollY),l.lineWidth=(tt?4:1)/f.zoom.value;for(var Qe=ze.length,ct=0;ct<Qe;++ct)l.strokeStyle=ze[ct],Ke&&l.setLineDash([Ee,Le+(Ee+Le)*(Qe-1)]),l.lineDashOffset=(Ee+Le)*ct,N(l,re-He,ae-He,ut+2*He,ht+2*He,Je,et,J);l.restore()},Oe=function(l,f,D){var H=Array.isArray(D)?xe:Ie;l.save(),l.translate(f.scrollX,f.scrollY),H(l,D),l.restore()},Ie=function(l,f){var D=(0,T.qf)(f),H=(0,d.Z)(D,4),J=H[0],re=H[1],ae=H[2]-J,ge=H[3]-re,_e=(0,h.fb)(f,ae,ge);l.strokeStyle="rgba(0,0,0,.05)",l.lineWidth=_e-4;var ze=2+_e/2;switch(f.type){case"rectangle":case"text":case"image":case"embeddable":case"frame":N(l,J-ze,re-ze,ae+2*ze,ge+2*ze,J+ae/2,re+ge/2,f.angle);break;case"diamond":var Je=Math.hypot(ae,ge);(function(et,Ke,tt,ut,ht,He){et.save(),et.translate(ut,ht),et.rotate(He),et.beginPath(),et.moveTo(0,tt/2),et.lineTo(Ke/2,0),et.lineTo(0,-tt/2),et.lineTo(-Ke/2,0),et.closePath(),et.stroke(),et.restore()})(l,ae+2*(ze*Je/ge),ge+2*(ze*Je/ae),J+ae/2,re+ge/2,f.angle);break;case"ellipse":(function(et,Ke,tt,ut,ht,He){et.beginPath(),et.ellipse(ut,ht,Ke/2,tt/2,He,0,2*Math.PI),et.stroke()})(l,ae+2*ze,ge+2*ze,J+ae/2,re+ge/2,f.angle)}},Re=function(l,f,D){var H=(0,T.qf)(D),J=(0,d.Z)(H,4),re=J[0],ae=J[1],ge=J[2]-re,_e=J[3]-ae;l.strokeStyle="rgb(0,118,255)",l.lineWidth=le.iG.strokeWidth/f.zoom.value,l.save(),l.translate(f.scrollX,f.scrollY),N(l,re,ae,ge,_e,re+ge/2,ae+_e/2,D.angle,!1,le.iG.radius/f.zoom.value),l.restore()},ke=function(l,f,D){var H=D.filter(function(ae){return ae.groupIds.length===0}),J=D.filter(function(ae){return ae.groupIds.length>0}),re=function(ae){var ge=(0,T.KP)(ae),_e=(0,d.Z)(ge,4),ze=_e[0],Je=_e[1],et=_e[2],Ke=_e[3];return{angle:0,elementX1:ze,elementX2:et,elementY1:Je,elementY2:Ke,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:ze+(et-ze)/2,cy:Je+(Ke-Je)/2,activeEmbeddable:!1}};Object.entries((0,_.yR)(J,f)).filter(function(ae){var ge=(0,d.Z)(ae,2);return ge[0],ge[1]}).map(function(ae){var ge=(0,d.Z)(ae,2),_e=ge[0];return ge[1],_e}).map(function(ae){return function(ge){var _e=(0,_.Fb)(D,ge);return re(_e)}(ae)}).concat(H.map(function(ae){return re([ae])})).forEach(function(ae){return Ae(l,f,ae)})},xe=function(l,f){var D=(0,d.Z)(f,3),H=D[0],J=D[1],re=D[2],ae=(0,h.fb)(re,re.width,re.height);l.strokeStyle="rgba(0,0,0,0)",l.fillStyle="rgba(0,0,0,.05)",(J==="both"?[0,-1]:J==="start"?[0]:[-1]).forEach(function(ge){var _e=F._.getPointAtIndexGlobalCoordinates(H,ge),ze=(0,d.Z)(_e,2),Je=ze[0],et=ze[1];W(l,Je,et,ae)})},ye=function(l,f,D){if(l.link&&!D.selectedElementIds[l.id]){var H=(0,T.qf)(l),J=(0,d.Z)(H,4),re=J[0],ae=J[1],ge=J[2],_e=J[3],ze=(0,he.sw)([re,ae,ge,_e],l.angle,D),Je=(0,d.Z)(ze,4),et=Je[0],Ke=Je[1],tt=Je[2],ut=Je[3],ht=et+tt/2,He=Ke+ut/2;if(f.save(),f.translate(D.scrollX+ht,D.scrollY+He),f.rotate(l.angle),u&&u.zoom===D.zoom.value)f.drawImage(u,et-ht,Ke-He,tt,ut);else{(u=document.createElement("canvas")).zoom=D.zoom.value,u.width=tt*window.devicePixelRatio*D.zoom.value,u.height=ut*window.devicePixelRatio*D.zoom.value;var Ee=u.getContext("2d");Ee.scale(window.devicePixelRatio*D.zoom.value,window.devicePixelRatio*D.zoom.value),Ee.fillStyle="#fff",Ee.fillRect(0,0,tt,ut),Ee.drawImage(he.rj,0,0,tt,ut),Ee.restore(),f.drawImage(u,et-ht,Ke-He,tt,ut)}f.restore()}},P=function(l,f,D,H,J){var re=J.offsetX,ae=re===void 0?0:re,ge=J.offsetY,_e=ge===void 0?0:ge,ze=J.exportWithDarkMode,Je=J.renderEmbeddables,et=J.frameRendering;if(D){var Ke={exportWithDarkMode:ze,renderEmbeddables:Je,frameRendering:et};l.filter(function(tt){return!(0,I.uU)(tt)}).forEach(function(tt){if(!tt.isDeleted)try{(0,c.Rg)(tt,f,D,H,tt.x+ae,tt.y+_e,Ke)}catch(ut){console.error(ut)}}),l.filter(function(tt){return(0,M.gs)(tt)}).forEach(function(tt){if(!tt.isDeleted)try{(0,c.Rg)(tt,f,D,H,tt.x+ae,tt.y+_e,Ke)}catch(ut){console.error(ut)}})}}},457:function(te,t,e){var w=e(1930),v=e(8821),d=e(5169),b=e(7651),T=e(4183),S=e(6264),a=e(4643),c=function(F){return typeof F=="string"},Z=function(){function F(){var _=this;(0,v.Z)(this,F),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap=new Map,this.selectedElementsCache={selectedElementIds:null,elements:null,cache:new Map},this.addNewElement=function(h){h.frameId?_.insertElementAtIndex(h,_.getElementIndex(h.frameId)):_.replaceAllElements([].concat((0,w.Z)(_.elements),[h]))}}return(0,d.Z)(F,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(_){var h=function(he){for(var ve="",fe=0,X=["includeBoundTextElement","includeElementsInFrames"];fe<X.length;fe++){var q=X[fe];ve+="".concat(q,":").concat(he[q]?"1":"0")}return ve}(_),x=_?.elements||this.nonDeletedElements;if(this.selectedElementsCache.elements===x&&this.selectedElementsCache.selectedElementIds===_.selectedElementIds){var G=this.selectedElementsCache.cache.get(h);if(G)return G}else _?.elements==null&&this.selectedElementsCache.cache.clear();var le=(0,S.eD)(x,{selectedElementIds:_.selectedElementIds},_);return _?.elements==null&&(this.selectedElementsCache.selectedElementIds=_.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(h,le)),le}},{key:"getNonDeletedFrames",value:function(){return this.nonDeletedFrames}},{key:"getElement",value:function(_){return this.elementsMap.get(_)||null}},{key:"getVersionNonce",value:function(){return this.versionNonce}},{key:"getNonDeletedElement",value:function(_){var h=this.getElement(_);return h&&(0,b.qP)(h)?h:null}},{key:"mapElements",value:function(_){var h=!1,x=this.elements.map(function(G){var le=_(G);return le!==G&&(h=!0),le});return h&&this.replaceAllElements(x),h}},{key:"replaceAllElements",value:function(_){var h=this;this.elements=_;var x=[];this.elementsMap.clear(),_.forEach(function(G){(0,T.He)(G)&&x.push(G),h.elementsMap.set(G.id,G),F.mapElementToScene(G,h)}),this.nonDeletedElements=(0,b.Lm)(this.elements),this.frames=x,this.nonDeletedFrames=(0,b.Xf)(this.frames),this.informMutation()}},{key:"informMutation",value:function(){this.versionNonce=(0,a.LU)();for(var _=0,h=Array.from(this.callbacks);_<h.length;_++)(0,h[_])()}},{key:"addCallback",value:function(_){var h=this;if(this.callbacks.has(_))throw new Error;return this.callbacks.add(_),function(){if(!h.callbacks.has(_))throw new Error;h.callbacks.delete(_)}}},{key:"destroy",value:function(){var _=this;this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),F.sceneMapById.forEach(function(h,x){h===_&&F.sceneMapById.delete(x)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(_,h){if(!Number.isFinite(h)||h<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var x=[].concat((0,w.Z)(this.elements.slice(0,h)),[_],(0,w.Z)(this.elements.slice(h)));this.replaceAllElements(x)}},{key:"insertElementsAtIndex",value:function(_,h){if(!Number.isFinite(h)||h<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var x=[].concat((0,w.Z)(this.elements.slice(0,h)),(0,w.Z)(_),(0,w.Z)(this.elements.slice(h)));this.replaceAllElements(x)}},{key:"getElementIndex",value:function(_){return this.elements.findIndex(function(h){return h.id===_})}}],[{key:"mapElementToScene",value:function(_,h){var x=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(c(_)){if(!x)return;this.sceneMapById.set(_,h)}else this.sceneMapByElement.set(_,h),x||this.sceneMapById.set(_.id,h)}},{key:"getScene",value:function(_){return c(_)?this.sceneMapById.get(_)||null:this.sceneMapByElement.get(_)||null}}]),F}();Z.sceneMapByElement=new WeakMap,Z.sceneMapById=new Map,t.Z=Z},6049:function(te,t,e){e.d(t,{Z:function(){return ve},i:function(){return X}});var w=e(1930),v=e(2577),d=e(7169),b=e(7651),T=e(2361),S=e(9660),a=e(9827),c=e(1493),Z=e(9937),F=e(4183),_=e(1648);function h(q,U){var R=Object.keys(q);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(q);U&&(B=B.filter(function(M){return Object.getOwnPropertyDescriptor(q,M).enumerable})),R.push.apply(R,B)}return R}function x(q){for(var U=1;U<arguments.length;U++){var R=arguments[U]!=null?arguments[U]:{};U%2?h(Object(R),!0).forEach(function(B){(0,d.Z)(q,B,R[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(R)):h(Object(R)).forEach(function(B){Object.defineProperty(q,B,Object.getOwnPropertyDescriptor(R,B))})}return q}var G=function(q){return[8,8+q]},le=function(q){return[1.5,6+q]};function he(q){var U=q.roughness,R=Math.max(q.width,q.height),B=Math.min(q.width,q.height);return B>=20&&R>=50||B>=15&&q.roundness&&(0,_.sh)(q.type)||(0,F.bt)(q)&&R>=50?U:Math.min(U/(R<10?3:2),2.5)}var ve=function(q){var U=arguments.length>1&&arguments[1]!==void 0&&arguments[1],R={seed:q.seed,strokeLineDash:q.strokeStyle==="dashed"?G(q.strokeWidth):q.strokeStyle==="dotted"?le(q.strokeWidth):void 0,disableMultiStroke:q.strokeStyle!=="solid",strokeWidth:q.strokeStyle!=="solid"?q.strokeWidth+.5:q.strokeWidth,fillWeight:q.strokeWidth/2,hachureGap:4*q.strokeWidth,roughness:he(q),stroke:q.strokeColor,preserveVertices:U||q.roughness<Z.$h.cartoonist};switch(q.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":return R.fillStyle=q.fillStyle,R.fill=(0,a.Qm)(q.backgroundColor)?void 0:q.backgroundColor,q.type==="ellipse"&&(R.curveFitting=1),R;case"line":case"freedraw":return(0,T.g6)(q.points)&&(R.fillStyle=q.fillStyle,R.fill=q.backgroundColor==="transparent"?void 0:q.backgroundColor),R;case"arrow":return R;default:throw new Error("Unimplemented type ".concat(q.type))}},fe=function(q,U){return q.type==="embeddable"&&(U||!q.validated)&&(0,a.Qm)(q.backgroundColor)&&(0,a.Qm)(q.strokeColor)?x(x({},q),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):q},X=function(q,U){var R=arguments.length>2&&arguments[2]!==void 0&&arguments[2];switch(q.type){case"rectangle":case"embeddable":var B;if(q.roundness){var M=q.width,I=q.height,E=(0,T.yW)(Math.min(M,I),q);B=U.path("M ".concat(E," 0 L ").concat(M-E," 0 Q ").concat(M," 0, ").concat(M," ").concat(E," L ").concat(M," ").concat(I-E," Q ").concat(M," ").concat(I,", ").concat(M-E," ").concat(I," L ").concat(E," ").concat(I," Q 0 ").concat(I,", 0 ").concat(I-E," L 0 ").concat(E," Q 0 0, ").concat(E," 0"),ve(fe(q,R),!0))}else B=U.rectangle(0,0,q.width,q.height,ve(fe(q,R),!1));return B;case"diamond":var p,r=(0,b.UC)(q),o=(0,v.Z)(r,8),g=o[0],s=o[1],u=o[2],k=o[3],N=o[4],W=o[5],O=o[6],j=o[7];if(q.roundness){var L=(0,T.yW)(Math.abs(g-O),q),V=(0,T.yW)(Math.abs(k-s),q);p=U.path("M ".concat(g+L," ").concat(s+V," L ").concat(u-L," ").concat(k-V,`
            C `).concat(u," ").concat(k,", ").concat(u," ").concat(k,", ").concat(u-L," ").concat(k+V,`
            L `).concat(N+L," ").concat(W-V,`
            C `).concat(N," ").concat(W,", ").concat(N," ").concat(W,", ").concat(N-L," ").concat(W-V,`
            L `).concat(O+L," ").concat(j+V,`
            C `).concat(O," ").concat(j,", ").concat(O," ").concat(j,", ").concat(O+L," ").concat(j-V,`
            L `).concat(g-L," ").concat(s+V,`
            C `).concat(g," ").concat(s,", ").concat(g," ").concat(s,", ").concat(g+L," ").concat(s+V),ve(q,!0))}else p=U.polygon([[g,s],[u,k],[N,W],[O,j]],ve(q));return p;case"ellipse":var ie=U.ellipse(q.width/2,q.height/2,q.width,q.height,ve(q));return ie;case"line":case"arrow":var se,ue=ve(q),pe=q.points.length?q.points:[[0,0]];if(se=q.roundness?[U.curve(pe,ue)]:ue.fill?[U.polygon(pe,ue)]:[U.linearPath(pe,ue)],q.type==="arrow"){var Q=q.startArrowhead,ee=Q===void 0?null:Q,me=q.endArrowhead,Te=me===void 0?"arrow":me,Ue=function(ye,P,l,f){var D=(0,b.Y5)(ye,P,l,f);if(D===null)return[];if(f==="dot"){var H=(0,v.Z)(D,3),J=H[0],re=H[1],ae=H[2];return[U.circle(J,re,ae,x(x({},ue),{},{fill:ye.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(f==="triangle"){var ge=(0,v.Z)(D,6),_e=ge[0],ze=ge[1],Je=ge[2],et=ge[3],Ke=ge[4],tt=ge[5];return delete ue.strokeLineDash,[U.polygon([[_e,ze],[Je,et],[Ke,tt],[_e,ze]],x(x({},ue),{},{fill:ye.strokeColor,fillStyle:"solid"}))]}var ut=(0,v.Z)(D,6),ht=ut[0],He=ut[1],Ee=ut[2],Le=ut[3],Qe=ut[4],ct=ut[5];if(ye.strokeStyle==="dotted"){var bt=le(ye.strokeWidth-1);ue.strokeLineDash=[bt[0],bt[1]-1]}else delete ue.strokeLineDash;return[U.line(Ee,Le,ht,He,ue),U.line(Qe,ct,ht,He,ue)]};if(ee!==null){var qe,Ae=Ue(q,se,"start",ee);(qe=se).push.apply(qe,(0,w.Z)(Ae))}if(Te!==null){var Oe,Ie=Ue(q,se,"end",Te);(Oe=se).push.apply(Oe,(0,w.Z)(Ie))}}return se;case"freedraw":var Re;if((0,S.Lc)(q),(0,T.g6)(q.points)){var ke=(0,c.og)(q.points,.75);Re=U.curve(ke,x(x({},ve(q)),{},{stroke:"none"}))}else Re=null;return Re;case"frame":case"text":case"image":var xe=null;return xe;default:return(0,a.vE)(q,"generateElementShape(): Unimplemented type ".concat(q?.type)),null}}},2921:function(te,t,e){e.d(t,{R:function(){return S}});var w=e(5169),v=e(8821),d=e(8128),b=e(9660),T=e(6049),S=(0,w.Z)(function a(){(0,v.Z)(this,a)});S.rg=new d.V,S.cache=new WeakMap,S.get=function(a){return S.cache.get(a)},S.set=function(a,c){return S.cache.set(a,c)},S.delete=function(a){return S.cache.delete(a)},S.destroy=function(){S.cache=new WeakMap},S.generateElementShape=function(a){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Z=c?void 0:S.get(a);if(Z!==void 0)return Z;b.Xx.delete(a);var F=(0,T.i)(a,S.rg,c);return S.cache.set(a,F),F}},1648:function(te,t,e){e.d(t,{$b:function(){return v},CJ:function(){return Z},M9:function(){return T},PD:function(){return d},QG:function(){return c},Un:function(){return a},Zd:function(){return b},sh:function(){return S}});var w=e(4183),v=function(F){return F==="rectangle"||F==="embeddable"||F==="ellipse"||F==="diamond"||F==="line"||F==="freedraw"},d=function(F){return F!=="image"&&F!=="frame"},b=function(F){return F==="rectangle"||F==="embeddable"||F==="ellipse"||F==="diamond"||F==="freedraw"||F==="arrow"||F==="line"},T=function(F){return F==="rectangle"||F==="embeddable"||F==="ellipse"||F==="diamond"||F==="arrow"||F==="line"},S=function(F){return F==="rectangle"||F==="embeddable"||F==="arrow"||F==="line"||F==="diamond"},a=function(F){return F==="arrow"},c=function(F,_){for(var h=null,x=F.length-1;x>=0;--x){var G=F[x];if(!G.isDeleted&&_(G)){h=G;break}}return h},Z=function(F,_){var h=[];return F.filter(function(x){return!(x.isDeleted||!_(x))&&(!(0,w.gs)(x)||(h.push(x),!1))}).concat(h)}},3668:function(te,t,e){e.d(t,{$D:function(){return r},Cg:function(){return g},NL:function(){return p}});var w=e(7169),v=e(2577),d=e(8950),b=e(2975),T=e.n(b),S=e(9845),a=e(4949),c=e(7766),Z=e(9827),F=e(9937),_=e(6853),h=e(4419),x=e(4178),G=e(6013),le=e(4682),he=e(7651),ve=e(583),fe=e(457);function X(s,u){var k=Object.keys(s);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(s);u&&(N=N.filter(function(W){return Object.getOwnPropertyDescriptor(s,W).enumerable})),k.push.apply(k,N)}return k}function q(s){for(var u=1;u<arguments.length;u++){var k=arguments[u]!=null?arguments[u]:{};u%2?X(Object(k),!0).forEach(function(N){(0,w.Z)(s,N,k[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(k)):X(Object(k)).forEach(function(N){Object.defineProperty(s,N,Object.getOwnPropertyDescriptor(k,N))})}return s}function U(s,u){var k=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!k){if(Array.isArray(s)||(k=function(V,ie){if(V){if(typeof V=="string")return R(V,ie);var se=Object.prototype.toString.call(V).slice(8,-1);if(se==="Object"&&V.constructor&&(se=V.constructor.name),se==="Map"||se==="Set")return Array.from(V);if(se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return R(V,ie)}}(s))||u){k&&(s=k);var N=0,W=function(){};return{s:W,n:function(){return N>=s.length?{done:!0}:{done:!1,value:s[N++]}},e:function(V){throw V},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,j=!0,L=!1;return{s:function(){k=k.call(s)},n:function(){var V=k.next();return j=V.done,V},e:function(V){L=!0,O=V},f:function(){try{j||k.return==null||k.return()}finally{if(L)throw O}}}}function R(s,u){(u==null||u>s.length)&&(u=s.length);for(var k=0,N=new Array(u);k<u;k++)N[k]=s[k];return N}var B=function(s){var u=new fe.Z;return u.replaceAllElements((0,Z.xU)(s),!1),u},M=function(s,u){if(s.width<=u)return s;var k=document.createElement("canvas").getContext("2d");k.font=(0,Z.mO)({fontFamily:s.fontFamily,fontSize:s.fontSize});var N=s.text;if(k.measureText(N).width>u)for(var W=N.length;W>0;W--){var O="".concat(N.slice(0,W),"...");if(k.measureText(O).width<=u){N=O;break}}return(0,ve.BE)(s,{text:N,width:u})},I=function(s,u){return u=u||(0,_.im)().frameRendering,{enabled:!!s||u.enabled,outline:!s&&u.outline,name:!s&&u.name,clip:!!s||u.clip}},E=function(s){var u=s.elements,k=s.exportingFrame,N=s.frameRendering,W=s.exportWithDarkMode;return k?(0,G.Xs)({elements:u,bounds:k,type:"overlap"}):N.enabled&&N.name?function(O,j){var L,V=[],ie=0,se=U(O);try{for(se.s();!(L=se.n()).done;){var ue=L.value;if((0,he.He)(ue)){ie++;var pe=(0,he.VL)({x:ue.x,y:ue.y-F.iG.nameOffsetY,fontFamily:F.ut.Assistant,fontSize:F.iG.nameFontSize,lineHeight:F.iG.nameLineHeight,strokeColor:j.exportWithDarkMode?F.iG.nameColorDarkTheme:F.iG.nameColorLightTheme,text:ue.name||"Frame ".concat(ie)});pe.y-=pe.height,pe=M(pe,ue.width),V.push(pe)}V.push(ue)}}catch(Q){se.e(Q)}finally{se.f()}return V}(u,{exportWithDarkMode:W}):u},p=function(){var s=(0,d.Z)(T().mark(function u(k,N,W,O){var j,L,V,ie,se,ue,pe,Q,ee,me,Te,Ue,qe,Ae,Oe,Ie,Re,ke,xe,ye,P,l,f,D=arguments;return T().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return L=O.exportBackground,V=O.exportPadding,ie=V===void 0?F.qy:V,se=O.viewBackgroundColor,ue=O.exportingFrame,pe=D.length>4&&D[4]!==void 0?D[4]:function(J,re){var ae=document.createElement("canvas");return ae.width=J*N.exportScale,ae.height=re*N.exportScale,{canvas:ae,scale:N.exportScale}},Q=B(k),k=Q.getNonDeletedElements(),ee=I(ue??null,(j=N.frameRendering)!==null&&j!==void 0?j:null),me=E({elements:k,exportingFrame:ue,exportWithDarkMode:N.exportWithDarkMode,frameRendering:ee}),ue&&(ie=0),Te=o(ue?[ue]:(0,le._h)(me),ie),Ue=(0,v.Z)(Te,4),qe=Ue[0],Ae=Ue[1],Oe=Ue[2],Ie=Ue[3],Re=pe(Oe,Ie),ke=Re.canvas,xe=Re.scale,ye=xe===void 0?1:xe,P=(0,_.im)(),H.next=12,(0,x.Xx)({imageCache:new Map,fileIds:(0,x.oA)(me).map(function(J){return J.fileId}),files:W});case 12:return l=H.sent,f=l.imageCache,(0,c.AW)({canvas:ke,rc:S.Z.canvas(ke),elements:me,visibleElements:me,scale:ye,appState:q(q({},N),{},{frameRendering:ee,viewBackgroundColor:L?se:null,scrollX:-qe+ie,scrollY:-Ae+ie,zoom:P.zoom,shouldCacheIgnoreZoom:!1,theme:N.exportWithDarkMode?"dark":"light"}),renderConfig:{imageCache:f,renderGrid:!1,isExporting:!0}}),Q.destroy(),H.abrupt("return",ke);case 17:case"end":return H.stop()}},u)}));return function(u,k,N,W){return s.apply(this,arguments)}}(),r=function(){var s=(0,d.Z)(T().mark(function u(k,N,W,O){var j,L,V,ie,se,ue,pe,Q,ee,me,Te,Ue,qe,Ae,Oe,Ie,Re,ke,xe,ye,P,l,f,D,H,J,re,ae,ge,_e,ze,Je,et,Ke,tt,ut,ht,He,Ee,Le,Qe,ct,bt;return T().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:if(ie=B(k),k=ie.getNonDeletedElements(),se=I((j=O?.exportingFrame)!==null&&j!==void 0?j:null,(L=N.frameRendering)!==null&&L!==void 0?L:null),ue=N.exportPadding,pe=ue===void 0?F.qy:ue,Q=N.exportWithDarkMode,ee=Q!==void 0&&Q,me=N.viewBackgroundColor,Te=N.exportScale,Ue=Te===void 0?1:Te,qe=N.exportEmbedScene,Ae=(O||{}).exportingFrame,Ie=E({elements:k,exportingFrame:Oe=Ae===void 0?null:Ae,exportWithDarkMode:ee,frameRendering:se}),Oe&&(pe=0),Re="",!qe){wt.next=20;break}return wt.prev=9,wt.next=12,Promise.resolve().then(e.bind(e,250));case 12:return wt.next=14,wt.sent.encodeSvgMetadata({text:(0,h.I_)(k,N,W||{},"local")});case 14:Re=wt.sent,wt.next=20;break;case 17:wt.prev=17,wt.t0=wt.catch(9),console.error(wt.t0);case 20:ke=o(Oe?[Oe]:(0,le._h)(Ie),pe),xe=(0,v.Z)(ke,4),ye=xe[0],P=xe[1],l=xe[2],f=xe[3],(D=document.createElementNS(F.hR,"svg")).setAttribute("version","1.1"),D.setAttribute("xmlns",F.hR),D.setAttribute("viewBox","0 0 ".concat(l," ").concat(f)),D.setAttribute("width","".concat(l*Ue)),D.setAttribute("height","".concat(f*Ue)),ee&&D.setAttribute("filter",F.ZF),H="https://excalidraw.com/",H=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat({}.PKG_VERSION),(J=H)!==null&&J!==void 0&&J.startsWith("/")&&(H=H.replace("/","".concat(window.location.origin,"/"))),H="".concat(H,"/dist/excalidraw-assets/"),re=-ye+pe,ae=-P+pe,ge=(0,le.wO)(k),_e="",ze=U(ge);try{for(ze.s();!(Je=ze.n()).done;)et=Je.value,Ke=(0,a.qf)(et),tt=(0,v.Z)(Ke,4),ut=tt[0],ht=tt[1],He=tt[2],Ee=tt[3],Le=(He-ut)/2-(et.x-ut),Qe=(Ee-ht)/2-(et.y-ht),_e+="<clipPath id=".concat(et.id,`>
            <rect transform="translate(`).concat(et.x+re," ").concat(et.y+ae,") rotate(").concat(et.angle," ").concat(Le," ").concat(Qe,`)"
          width="`).concat(et.width,`"
          height="`).concat(et.height,`"
          >
          </rect>
        </clipPath>`)}catch(zt){ze.e(zt)}finally{ze.f()}return D.innerHTML=`
  `.concat("<!-- svg-source:excalidraw -->",`
  `).concat(Re,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(H,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(H,`Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("`).concat(H,`Assistant-Regular.woff2");
      }
    </style>
    `).concat(_e,`
  </defs>
  `),N.exportBackground&&me&&((ct=D.ownerDocument.createElementNS(F.hR,"rect")).setAttribute("x","0"),ct.setAttribute("y","0"),ct.setAttribute("width","".concat(l)),ct.setAttribute("height","".concat(f)),ct.setAttribute("fill",me),D.appendChild(ct)),bt=S.Z.svg(D),(0,c.M_)(Ie,bt,D,W||{},{offsetX:re,offsetY:ae,exportWithDarkMode:ee,renderEmbeddables:(V=O?.renderEmbeddables)!==null&&V!==void 0&&V,frameRendering:se}),ie.destroy(),wt.abrupt("return",D);case 42:case"end":return wt.stop()}},u,null,[[9,17]])}));return function(u,k,N,W){return s.apply(this,arguments)}}(),o=function(s,u){var k=(0,a.KP)(s),N=(0,v.Z)(k,4),W=N[0],O=N[1],j=N[2],L=N[3];return[W,O,(0,Z.TE)(W,j)+2*u,(0,Z.TE)(O,L)+2*u]},g=function(s,u,k){var N=o(s,u).map(function(O){return Math.trunc(O*k)}),W=(0,v.Z)(N,4);return[W[2],W[3]]}},4105:function(te,t,e){e.d(t,{$b:function(){return b.$b},CJ:function(){return b.CJ},M9:function(){return b.M9},N:function(){return v.N},PR:function(){return v.PR},QG:function(){return b.QG},Un:function(){return b.Un},W:function(){return d.W},Yp:function(){return v.Yp},Zd:function(){return b.Zd},Zs:function(){return v.Zs},_4:function(){return w._4},eD:function(){return v.eD},j:function(){return T.j},sh:function(){return b.sh}});var w=e(4726),v=e(6264),d=e(2382),b=e(1648),T=e(4116)},2382:function(te,t,e){e.d(t,{W:function(){return T},s:function(){return b}});var w=e(2577),v=e(7651),d=e(9827),b=function(S){var a=S.scenePoint,c=S.viewportDimensions,Z=S.zoom;return{scrollX:c.width/2/Z.value-a.x,scrollY:c.height/2/Z.value-a.y}},T=function(S,a){if(!(S=(0,v.n_)(S)).length)return{scrollX:0,scrollY:0};var c=(0,v.KP)(S),Z=(0,w.Z)(c,4),F=Z[0],_=Z[1],h=Z[2],x=Z[3];if(function(he,ve){var fe=(0,w.Z)(ve,4),X=fe[0],q=fe[1],U=fe[2],R=fe[3],B=(0,d._i)({sceneX:X,sceneY:q},he),M=B.x,I=B.y,E=(0,d._i)({sceneX:U,sceneY:R},he),p=E.x,r=E.y;return p-M>he.width||r-I>he.height}(a,[F,_,h,x])){var G=(0,v.os)(S,(0,d.dE)({clientX:a.scrollX,clientY:a.scrollY},a)),le=(0,w.Z)(G,4);F=le[0],_=le[1],h=le[2],x=le[3]}return b({scenePoint:{x:(F+h)/2,y:(_+x)/2},viewportDimensions:{width:a.width,height:a.height},zoom:a.zoom})}},4726:function(te,t,e){e.d(t,{WM:function(){return T},_4:function(){return Z},nn:function(){return S},tJ:function(){return c},w1:function(){return a}});var w=e(2577),v=e(7651),d=e(9827),b=e(8227),T=4,S=6,a="rgba(0,0,0,0.3)",c=function(F,_,h,x){if(F.length===0)return{horizontal:null,vertical:null};var G=(0,v.KP)(F),le=(0,w.Z)(G,4),he=le[0],ve=le[1],fe=le[2],X=le[3],q=_/x.zoom.value,U=h/x.zoom.value,R=_-q,B=h-U,M={top:parseInt((0,d.IH)("sat"))||0,bottom:parseInt((0,d.IH)("sab"))||0,left:parseInt((0,d.IH)("sal"))||0,right:parseInt((0,d.IH)("sar"))||0},I=(0,b.G3)().rtl,E=-x.scrollX+R/2+M.left,p=-x.scrollY+B/2+M.top,r=E+q-M.right,o=p+U-M.bottom,g=Math.min(he,E),s=Math.min(ve,p),u=Math.max(fe,r),k=Math.max(X,o);return{horizontal:E===g&&r===u?null:{x:Math.max(M.left,T)+(E-g)/(u-g)*_,y:h-S-Math.max(T,M.bottom),width:(r-E)/(u-g)*_-Math.max(2*T,M.left+M.right),height:S},vertical:p===s&&o===k?null:{x:I?Math.max(M.left,T):_-S-Math.max(M.right,T),y:(p-s)/(k-s)*h+Math.max(M.top,T),width:S,height:(o-p)/(k-s)*h-Math.max(2*T,M.top+M.bottom)}}},Z=function(F,_,h){var x=[F.horizontal,F.vertical].map(function(ve){return ve!=null&&ve.x<=_&&_<=ve.x+ve.width&&ve.y<=h&&h<=ve.y+ve.height}),G=(0,w.Z)(x,2),le=G[0],he=G[1];return{isOverEither:le||he,isOverHorizontal:le,isOverVertical:he}}},6264:function(te,t,e){e.d(t,{CF:function(){return x},N:function(){return G},Oh:function(){return fe},PR:function(){return le},Yp:function(){return h},Zs:function(){return ve},aI:function(){return _},eD:function(){return he}});var w,v,d,b,T=e(2577),S=e(7651),a=e(4183),c=e(4682),Z=e(9827),F=e(7935),_=function(X){var q=new Set;return X.forEach(function(U){U.type==="frame"&&q.add(U.id)}),X.filter(function(U){return!U.frameId||!q.has(U.frameId)})},h=function(X,q){var U=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],R=(0,S.qf)(q),B=(0,T.Z)(R,4),M=B[0],I=B[1],E=B[2],p=B[3],r=X.filter(function(o){var g=(0,S.Pi)(o),s=(0,T.Z)(g,4),u=s[0],k=s[1],N=s[2],W=s[3],O=(0,c.$Z)(o);if(O){var j=(0,S.Pi)(O),L=(0,T.Z)(j,4),V=L[0],ie=L[1],se=L[2],ue=L[3];u=Math.max(V,u),k=Math.max(ie,k),N=Math.min(se,N),W=Math.min(ue,W)}return o.locked===!1&&o.type!=="selection"&&!(0,a.Xh)(o)&&M<=u&&I<=k&&E>=N&&p>=W});return r=(r=U?_(r):r).filter(function(o){var g=(0,c.$Z)(o);return!g||(0,c.cO)(o,g)})},x=function(X,q,U){var R=new Set(q.map(function(B){return B.id}));return X.filter(function(B){var M=(0,F.PZ)(B,U.width,U.height,U);return!R.has(B.id)&&M})},G=(w=null,v=null,d=null,(b=function(X,q){return d!=null&&X===w&&q.selectedElementIds===v||(d=X.some(function(U){return q.selectedElementIds[U.id]}),w=X,v=q.selectedElementIds),d}).clearCache=function(){w=null,v=null,d=null},b),le=function(X,q,U){var R=Array.from(new Set(he(X,q).map(function(B){return U(B)})));return R.length===1?R[0]:null},he=function(X,q,U){var R=X.filter(function(M){return q.selectedElementIds[M.id]||U!=null&&U.includeBoundTextElement&&(0,a.Xh)(M)&&q.selectedElementIds[M?.containerId]?M:null});if(U!=null&&U.includeElementsInFrames){var B=[];return R.forEach(function(M){M.type==="frame"&&(0,c.zD)(X,M.id).forEach(function(I){return B.push(I)}),B.push(M)}),B}return R},ve=function(X,q){return q.editingElement?[q.editingElement]:he(X,q,{includeBoundTextElement:!0})},fe=function(X,q){return(0,Z.w8)(q.selectedElementIds,X)?q.selectedElementIds:X}},4116:function(te,t,e){e.d(t,{E:function(){return d},j:function(){return v}});var w=e(9937),v=function(b){return Math.max(w.Zj,Math.min(b,30))},d=function(b,T){var S=b.viewportX,a=b.viewportY,c=b.nextZoom,Z=S-T.offsetLeft,F=a-T.offsetTop,_=T.zoom.value;return{scrollX:T.scrollX+(Z-Z/_)+-(Z-Z/c),scrollY:T.scrollY+(F-F/_)+-(F-F/c),zoom:{value:c}}}},9827:function(te,t,e){e.d(t,{$9:function(){return ue},$g:function(){return q},$h:function(){return Ie},AK:function(){return O},B4:function(){return E},C3:function(){return me},Ds:function(){return R},FG:function(){return j},Fc:function(){return G},G3:function(){return ee},G9:function(){return f},HP:function(){return l},I4:function(){return Ue},IH:function(){return k},Ip:function(){return pe},Mj:function(){return ye},Om:function(){return o},Oo:function(){return le},Qm:function(){return ie},TE:function(){return r},Vv:function(){return M},XF:function(){return D},_Z:function(){return ve},_i:function(){return u},ag:function(){return Ae},cx:function(){return L},dE:function(){return s},dZ:function(){return W},h2:function(){return qe},hR:function(){return B},mO:function(){return U},qr:function(){return V},qz:function(){return Q},s:function(){return X},tH:function(){return se},uY:function(){return g},v4:function(){return Oe},vE:function(){return P},w8:function(){return xe},wO:function(){return he},xU:function(){return H},xn:function(){return Te},xp:function(){return ke},y1:function(){return fe},y8:function(){return Re},yo:function(){return p}});var w=e(6655),v=e(7169),d=e(1930),b=e(2577),T=e(9240),S=e(9937),a=e(5156),c=e(9787),Z=e.n(c);function F(J,re){var ae=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(!ae){if(Array.isArray(J)||(ae=function(Ke,tt){if(Ke){if(typeof Ke=="string")return _(Ke,tt);var ut=Object.prototype.toString.call(Ke).slice(8,-1);if(ut==="Object"&&Ke.constructor&&(ut=Ke.constructor.name),ut==="Map"||ut==="Set")return Array.from(Ke);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return _(Ke,tt)}}(J))||re){ae&&(J=ae);var ge=0,_e=function(){};return{s:_e,n:function(){return ge>=J.length?{done:!0}:{done:!1,value:J[ge++]}},e:function(Ke){throw Ke},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ze,Je=!0,et=!1;return{s:function(){ae=ae.call(J)},n:function(){var Ke=ae.next();return Je=Ke.done,Ke},e:function(Ke){et=!0,ze=Ke},f:function(){try{Je||ae.return==null||ae.return()}finally{if(et)throw ze}}}}function _(J,re){(re==null||re>J.length)&&(re=J.length);for(var ae=0,ge=new Array(re);ae<re;ae++)ge[ae]=J[ae];return ge}function h(J,re){var ae=Object.keys(J);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(J);re&&(ge=ge.filter(function(_e){return Object.getOwnPropertyDescriptor(J,_e).enumerable})),ae.push.apply(ae,ge)}return ae}function x(J){for(var re=1;re<arguments.length;re++){var ae=arguments[re]!=null?arguments[re]:{};re%2?h(Object(ae),!0).forEach(function(ge){(0,v.Z)(J,ge,ae[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(ae)):h(Object(ae)).forEach(function(ge){Object.defineProperty(J,ge,Object.getOwnPropertyDescriptor(ae,ge))})}return J}var G=function(){var J=new Date,re=J.getFullYear(),ae="".concat(J.getMonth()+1).padStart(2,"0"),ge="".concat(J.getDate()).padStart(2,"0"),_e="".concat(J.getHours()).padStart(2,"0"),ze="".concat(J.getMinutes()).padStart(2,"0");return"".concat(re,"-").concat(ae,"-").concat(ge,"-").concat(_e).concat(ze)},le=function(J){return J.charAt(0).toUpperCase()+J.slice(1)},he=function(J){return J instanceof HTMLElement&&J.className.includes("ToolIcon")},ve=function(J){return J instanceof HTMLElement&&J.dataset.type==="wysiwyg"||J instanceof HTMLBRElement||J instanceof HTMLInputElement||J instanceof HTMLTextAreaElement||J instanceof HTMLSelectElement},fe=function(J){return ve(J)||J instanceof Element&&!!J.closest("label, button")},X=function(J){return J instanceof HTMLElement&&J.dataset.type==="wysiwyg"||J instanceof HTMLBRElement||J instanceof HTMLTextAreaElement||J instanceof HTMLInputElement&&(J.type==="text"||J.type==="number")},q=function(J){for(var re=J.fontFamily,ae=0,ge=Object.entries(S.ut);ae<ge.length;ae++){var _e=(0,b.Z)(ge[ae],2),ze=_e[0];if(_e[1]===re)return"".concat(ze,", ").concat(S._D)}return S._D},U=function(J){var re=J.fontSize,ae=J.fontFamily;return"".concat(re,"px ").concat(q({fontFamily:ae}))},R=function(J,re){var ae=0,ge=null,_e=function(){for(var ze=arguments.length,Je=new Array(ze),et=0;et<ze;et++)Je[et]=arguments[et];ge=Je,clearTimeout(ae),ae=window.setTimeout(function(){ge=null,J.apply(void 0,Je)},re)};return _e.flush=function(){if(clearTimeout(ae),ge){var ze=ge;ge=null,J.apply(void 0,(0,d.Z)(ze))}},_e.cancel=function(){ge=null,clearTimeout(ae)},_e},B=function(J,re){var ae=null,ge=null,_e=null,ze=function et(Ke){ae=window.requestAnimationFrame(function(){ae=null,J.apply(void 0,(0,d.Z)(Ke)),ge=null,_e&&(ge=_e,_e=null,et(ge))})},Je=function(){for(var et=arguments.length,Ke=new Array(et),tt=0;tt<et;tt++)Ke[tt]=arguments[tt];ge=Ke,ae===null?ze(ge):re!=null&&re.trailing&&(_e=Ke)};return Je.flush=function(){ae!==null&&(cancelAnimationFrame(ae),ae=null),ge&&(J.apply(void 0,(0,d.Z)(_e||ge)),ge=_e=null)},Je.cancel=function(){ge=_e=null,ae!==null&&(cancelAnimationFrame(ae),ae=null)},Je},M=function(J){return 1-Math.pow(1-J,4)},I=function(J,re,ae){return(re-J)*M(ae)+J},E=function(J){var re,ae=J.fromValues,ge=J.toValues,_e=J.onStep,ze=J.duration,Je=ze===void 0?250:ze,et=J.interpolateValue,Ke=J.onStart,tt=J.onEnd,ut=J.onCancel,ht=!1,He=0;return He=window.requestAnimationFrame(function Ee(Le){if(!ht){re===void 0&&(re=Le,Ke?.());var Qe=Math.min(Le-re,Je),ct=M(Qe/Je),bt={};if(Object.keys(ae).forEach(function(Mt){var Zt=Mt,sn=(ge[Zt]-ae[Zt])*ct+ae[Zt];bt[Zt]=sn}),_e(bt),Qe<Je){var wt=Qe/Je,zt={};Object.keys(ae).forEach(function(Mt){var Zt,sn=Mt,rn=ae[sn],Xt=ge[sn];(Zt=et?et(rn,Xt,wt,sn):I(rn,Xt,wt))==null&&(Zt=I(rn,Xt,wt)),zt[sn]=Zt}),_e(zt),He=window.requestAnimationFrame(Ee)}else _e(ge),tt?.()}}),function(){ut?.(),ht=!0,window.cancelAnimationFrame(He)}},p=function(J,re){if(!J.length||re<1)return[];for(var ae=0,ge=0,_e=Array(Math.ceil(J.length/re));ae<J.length;)_e[ge++]=J.slice(ae,ae+=re);return _e},r=function(J,re){return Math.abs(J-re)},o=function(J,re){var ae,ge;return re.type==="custom"?x(x({},J.activeTool),{},{type:"custom",customType:re.customType,locked:(ge=re.locked)!==null&&ge!==void 0?ge:J.activeTool.locked}):x(x({},J.activeTool),{},{lastActiveTool:re.lastActiveToolBeforeEraser===void 0?J.activeTool.lastActiveTool:re.lastActiveToolBeforeEraser,type:re.type,customType:null,locked:(ae=re.locked)!==null&&ae!==void 0?ae:J.activeTool.locked})},g=function(J){return J=J.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),S.Um?J.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):J.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},s=function(J,re){var ae=J.clientX,ge=J.clientY,_e=re.zoom,ze=re.offsetLeft,Je=re.offsetTop,et=re.scrollX,Ke=re.scrollY;return{x:(ae-ze)/_e.value-et,y:(ge-Je)/_e.value-Ke}},u=function(J,re){var ae=J.sceneX,ge=J.sceneY,_e=re.zoom,ze=re.offsetLeft,Je=re.offsetTop,et=re.scrollX,Ke=re.scrollY;return{x:(ae+et)*_e.value+ze,y:(ge+Ke)*_e.value+Je}},k=function(J){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(J))},N=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),W=function(J){return N.test(J)},O=function(J){var re=(0,b.Z)(J,2);return{x:re[0],y:re[1]}},j=function(J){if(J?.name!=="AbortError")throw J;console.warn(J)},L=function(J,re){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;ae<0&&(ae=J.length+ae);for(var ge=(ae=Math.min(J.length,Math.max(ae,0)))-1;++ge<J.length;)if(re(J[ge],ge,J))return ge;return-1},V=function(J,re){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length-1;ae<0&&(ae=J.length+ae);for(var ge=(ae=Math.min(J.length-1,Math.max(ae,0)))+1;--ge>-1;)if(re(J[ge],ge,J))return ge;return-1},ie=function(J){var re=J.length===5&&J.substr(4,1)==="0",ae=J.length===9&&J.substr(7,2)==="00";return re||ae||J===T.HO.transparent},se=function(J){return function(re){(0,a.unstable_batchedUpdates)(J,re)}},ue=function(J){return B(function(re){(0,a.unstable_batchedUpdates)(J,re)})},pe=function(J){for(var re=J.parentElement;re;){if(re===document.body)return document;var ae=window.getComputedStyle(re).overflowY;if(re.scrollHeight>re.clientHeight&&(ae==="auto"||ae==="scroll"||ae==="overlay"))return re;re=re.parentElement}return document},Q=function(J){for(var re=J.parentElement;re;){if(re.tabIndex>-1)return void re.focus();re=re.parentElement}},ee=function(J){return Array.from(J).map(function(re){return"0".concat(re.toString(16)).slice(-2)}).join("")},me=function(){return Date.now()},Te=function(J){return J.reduce(function(re,ae){return re.set(typeof ae=="string"?ae:ae.id,ae),re},new Map)},Ue=function(J){return J.reduce(function(re,ae,ge){return re.set(ae.id,[ae,ge]),re},new Map)},qe=function(){return!1},Ae=function(J,re){return new CustomEvent(J,{detail:{nativeEvent:re},cancelable:!0})},Oe=function(J,re){var ae=!1;for(var ge in re){var _e=re[ge];if(_e!==void 0){if(J[ge]===_e&&((0,w.Z)(_e)!=="object"||_e===null))continue;ae=!0}}return ae?x(x({},J),re):J},Ie=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},Re=function(J){return!!J&&(0,w.Z)(J)==="object"&&"then"in J&&"catch"in J&&"finally"in J},ke=function(J){var re=J?.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return re?Array.from(re).filter(function(ae){return ae.tabIndex>-1&&!ae.disabled}):[]},xe=function(J,re,ae){var ge=arguments.length>3&&arguments[3]!==void 0&&arguments[3],_e=Object.keys(J),ze=Object.keys(re);return _e.length===ze.length&&_e.every(function(Je){var et=ae?.[Je],Ke=et?et(J[Je],re[Je]):J[Je]===re[Je];return!Ke&&ge&&console.info("%cisShallowEqual: ".concat(Je," not equal ->"),"color: #8B4000",J[Je],re[Je]),Ke})},ye=function(J,re){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=ae.checkForDefaultPrevented,_e=ge===void 0||ge;return function(ze){if(J?.(ze),!_e||!ze.defaultPrevented)return re?.(ze)}},P=function(J,re,ae){if(!re)return J;if(ae)return console.error(re),J;throw new Error(re)},l=function(J){var re,ae,ge=function(_e){var ze=Object.entries(_e);if(re){var Je,et=!0,Ke=F(ze);try{for(Ke.s();!(Je=Ke.n()).done;){var tt=(0,b.Z)(Je.value,2),ut=tt[0],ht=tt[1];if(re.get(ut)!==ht){et=!1;break}}}catch(Ee){Ke.e(Ee)}finally{Ke.f()}if(et)return ae}var He=J(_e);return re=new Map(ze),ae=He,He};return ge.clear=function(){re=void 0,ae=void 0},ge},f=function(){var J;try{var re=Z().version.split(".");J=Number(re[0])>17}catch{J=!1}var ae=!1;return function(){return window.EXCALIDRAW_THROTTLE_RENDER===!0&&(!!J||(ae||(ae=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),D=function(J,re){return J instanceof Set||J instanceof Map?J.has(re):"includes"in J?J.includes(re):J.hasOwnProperty(re)},H=function(J){return JSON.parse(JSON.stringify(J))}},3041:function(te,t,e){var w=e(3379),v=e.n(w),d=e(7795),b=e.n(d),T=e(569),S=e.n(T),a=e(3565),c=e.n(a),Z=e(9216),F=e.n(Z),_=e(4589),h=e.n(_),x=e(2044),G={};G.styleTagTransform=h(),G.setAttributes=c(),G.insert=S().bind(null,"head"),G.domAPI=b(),G.insertStyleElement=F(),v()(x.Z,G),x.Z&&x.Z.locals&&x.Z.locals},3379:function(te){var t=[];function e(d){for(var b=-1,T=0;T<t.length;T++)if(t[T].identifier===d){b=T;break}return b}function w(d,b){for(var T={},S=[],a=0;a<d.length;a++){var c=d[a],Z=b.base?c[0]+b.base:c[0],F=T[Z]||0,_="".concat(Z," ").concat(F);T[Z]=F+1;var h=e(_),x={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(h!==-1)t[h].references++,t[h].updater(x);else{var G=v(x,b);b.byIndex=a,t.splice(a,0,{identifier:_,updater:G,references:1})}S.push(_)}return S}function v(d,b){var T=b.domAPI(b);return T.update(d),function(S){if(S){if(S.css===d.css&&S.media===d.media&&S.sourceMap===d.sourceMap&&S.supports===d.supports&&S.layer===d.layer)return;T.update(d=S)}else T.remove()}}te.exports=function(d,b){var T=w(d=d||[],b=b||{});return function(S){S=S||[];for(var a=0;a<T.length;a++){var c=e(T[a]);t[c].references--}for(var Z=w(S,b),F=0;F<T.length;F++){var _=e(T[F]);t[_].references===0&&(t[_].updater(),t.splice(_,1))}T=Z}}},569:function(te){var t={};te.exports=function(e,w){var v=function(d){if(t[d]===void 0){var b=document.querySelector(d);if(window.HTMLIFrameElement&&b instanceof window.HTMLIFrameElement)try{b=b.contentDocument.head}catch{b=null}t[d]=b}return t[d]}(e);if(!v)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");v.appendChild(w)}},9216:function(te){te.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:function(te,t,e){te.exports=function(w){var v=e.nc;v&&w.setAttribute("nonce",v)}},7795:function(te){te.exports=function(t){if(typeof document>"u")return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(w){(function(v,d,b){var T="";b.supports&&(T+="@supports (".concat(b.supports,") {")),b.media&&(T+="@media ".concat(b.media," {"));var S=b.layer!==void 0;S&&(T+="@layer".concat(b.layer.length>0?" ".concat(b.layer):""," {")),T+=b.css,S&&(T+="}"),b.media&&(T+="}"),b.supports&&(T+="}");var a=b.sourceMap;a&&typeof btoa<"u"&&(T+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),d.styleTagTransform(T,v,d.options)})(e,t,w)},remove:function(){(function(w){if(w.parentNode===null)return!1;w.parentNode.removeChild(w)})(e)}}}},4589:function(te){te.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},9669:function(te){te.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(te){te.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(te){te.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(te,t,e){te.exports=e.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(te,t,e){te.exports=e.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(te,t,e){te.exports=e.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(te,t,e){te.exports=e.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(te,t,e){te.exports=e.p+"excalidraw-assets/Cascadia.woff2"},3940:function(te,t,e){te.exports=e.p+"excalidraw-assets/Virgil.woff2"},9787:function(te){te.exports=A},5156:function(te){te.exports=Ce},1020:function(te){te.exports=ce},9649:function(te,t,e){var w=e(8114).default;function v(){te.exports=v=function(){return d},te.exports.__esModule=!0,te.exports.default=te.exports;var d={},b=Object.prototype,T=b.hasOwnProperty,S=Object.defineProperty||function(s,u,k){s[u]=k.value},a=typeof Symbol=="function"?Symbol:{},c=a.iterator||"@@iterator",Z=a.asyncIterator||"@@asyncIterator",F=a.toStringTag||"@@toStringTag";function _(s,u,k){return Object.defineProperty(s,u,{value:k,enumerable:!0,configurable:!0,writable:!0}),s[u]}try{_({},"")}catch{_=function(s,u,k){return s[u]=k}}function h(s,u,k,N){var W=u&&u.prototype instanceof le?u:le,O=Object.create(W.prototype),j=new r(N||[]);return S(O,"_invoke",{value:M(s,k,j)}),O}function x(s,u,k){try{return{type:"normal",arg:s.call(u,k)}}catch(N){return{type:"throw",arg:N}}}d.wrap=h;var G={};function le(){}function he(){}function ve(){}var fe={};_(fe,c,function(){return this});var X=Object.getPrototypeOf,q=X&&X(X(o([])));q&&q!==b&&T.call(q,c)&&(fe=q);var U=ve.prototype=le.prototype=Object.create(fe);function R(s){["next","throw","return"].forEach(function(u){_(s,u,function(k){return this._invoke(u,k)})})}function B(s,u){function k(W,O,j,L){var V=x(s[W],s,O);if(V.type!=="throw"){var ie=V.arg,se=ie.value;return se&&w(se)=="object"&&T.call(se,"__await")?u.resolve(se.__await).then(function(ue){k("next",ue,j,L)},function(ue){k("throw",ue,j,L)}):u.resolve(se).then(function(ue){ie.value=ue,j(ie)},function(ue){return k("throw",ue,j,L)})}L(V.arg)}var N;S(this,"_invoke",{value:function(W,O){function j(){return new u(function(L,V){k(W,O,L,V)})}return N=N?N.then(j,j):j()}})}function M(s,u,k){var N="suspendedStart";return function(W,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(W==="throw")throw O;return g()}for(k.method=W,k.arg=O;;){var j=k.delegate;if(j){var L=I(j,k);if(L){if(L===G)continue;return L}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(N==="suspendedStart")throw N="completed",k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);N="executing";var V=x(s,u,k);if(V.type==="normal"){if(N=k.done?"completed":"suspendedYield",V.arg===G)continue;return{value:V.arg,done:k.done}}V.type==="throw"&&(N="completed",k.method="throw",k.arg=V.arg)}}}function I(s,u){var k=u.method,N=s.iterator[k];if(N===void 0)return u.delegate=null,k==="throw"&&s.iterator.return&&(u.method="return",u.arg=void 0,I(s,u),u.method==="throw")||k!=="return"&&(u.method="throw",u.arg=new TypeError("The iterator does not provide a '"+k+"' method")),G;var W=x(N,s.iterator,u.arg);if(W.type==="throw")return u.method="throw",u.arg=W.arg,u.delegate=null,G;var O=W.arg;return O?O.done?(u[s.resultName]=O.value,u.next=s.nextLoc,u.method!=="return"&&(u.method="next",u.arg=void 0),u.delegate=null,G):O:(u.method="throw",u.arg=new TypeError("iterator result is not an object"),u.delegate=null,G)}function E(s){var u={tryLoc:s[0]};1 in s&&(u.catchLoc=s[1]),2 in s&&(u.finallyLoc=s[2],u.afterLoc=s[3]),this.tryEntries.push(u)}function p(s){var u=s.completion||{};u.type="normal",delete u.arg,s.completion=u}function r(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(E,this),this.reset(!0)}function o(s){if(s){var u=s[c];if(u)return u.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var k=-1,N=function W(){for(;++k<s.length;)if(T.call(s,k))return W.value=s[k],W.done=!1,W;return W.value=void 0,W.done=!0,W};return N.next=N}}return{next:g}}function g(){return{value:void 0,done:!0}}return he.prototype=ve,S(U,"constructor",{value:ve,configurable:!0}),S(ve,"constructor",{value:he,configurable:!0}),he.displayName=_(ve,F,"GeneratorFunction"),d.isGeneratorFunction=function(s){var u=typeof s=="function"&&s.constructor;return!!u&&(u===he||(u.displayName||u.name)==="GeneratorFunction")},d.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,ve):(s.__proto__=ve,_(s,F,"GeneratorFunction")),s.prototype=Object.create(U),s},d.awrap=function(s){return{__await:s}},R(B.prototype),_(B.prototype,Z,function(){return this}),d.AsyncIterator=B,d.async=function(s,u,k,N,W){W===void 0&&(W=Promise);var O=new B(h(s,u,k,N),W);return d.isGeneratorFunction(u)?O:O.next().then(function(j){return j.done?j.value:O.next()})},R(U),_(U,F,"Generator"),_(U,c,function(){return this}),_(U,"toString",function(){return"[object Generator]"}),d.keys=function(s){var u=Object(s),k=[];for(var N in u)k.push(N);return k.reverse(),function W(){for(;k.length;){var O=k.pop();if(O in u)return W.value=O,W.done=!1,W}return W.done=!0,W}},d.values=o,r.prototype={constructor:r,reset:function(s){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(p),!s)for(var u in this)u.charAt(0)==="t"&&T.call(this,u)&&!isNaN(+u.slice(1))&&(this[u]=void 0)},stop:function(){this.done=!0;var s=this.tryEntries[0].completion;if(s.type==="throw")throw s.arg;return this.rval},dispatchException:function(s){if(this.done)throw s;var u=this;function k(V,ie){return O.type="throw",O.arg=s,u.next=V,ie&&(u.method="next",u.arg=void 0),!!ie}for(var N=this.tryEntries.length-1;N>=0;--N){var W=this.tryEntries[N],O=W.completion;if(W.tryLoc==="root")return k("end");if(W.tryLoc<=this.prev){var j=T.call(W,"catchLoc"),L=T.call(W,"finallyLoc");if(j&&L){if(this.prev<W.catchLoc)return k(W.catchLoc,!0);if(this.prev<W.finallyLoc)return k(W.finallyLoc)}else if(j){if(this.prev<W.catchLoc)return k(W.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return k(W.finallyLoc)}}}},abrupt:function(s,u){for(var k=this.tryEntries.length-1;k>=0;--k){var N=this.tryEntries[k];if(N.tryLoc<=this.prev&&T.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var W=N;break}}W&&(s==="break"||s==="continue")&&W.tryLoc<=u&&u<=W.finallyLoc&&(W=null);var O=W?W.completion:{};return O.type=s,O.arg=u,W?(this.method="next",this.next=W.finallyLoc,G):this.complete(O)},complete:function(s,u){if(s.type==="throw")throw s.arg;return s.type==="break"||s.type==="continue"?this.next=s.arg:s.type==="return"?(this.rval=this.arg=s.arg,this.method="return",this.next="end"):s.type==="normal"&&u&&(this.next=u),G},finish:function(s){for(var u=this.tryEntries.length-1;u>=0;--u){var k=this.tryEntries[u];if(k.finallyLoc===s)return this.complete(k.completion,k.afterLoc),p(k),G}},catch:function(s){for(var u=this.tryEntries.length-1;u>=0;--u){var k=this.tryEntries[u];if(k.tryLoc===s){var N=k.completion;if(N.type==="throw"){var W=N.arg;p(k)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(s,u,k){return this.delegate={iterator:o(s),resultName:u,nextLoc:k},this.method==="next"&&(this.arg=void 0),G}},d}te.exports=v,te.exports.__esModule=!0,te.exports.default=te.exports},8114:function(te){function t(e){return te.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},te.exports.__esModule=!0,te.exports.default=te.exports,t(e)}te.exports=t,te.exports.__esModule=!0,te.exports.default=te.exports},2975:function(te,t,e){var w=e(9649)();te.exports=w;try{regeneratorRuntime=w}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=w:Function("r","regeneratorRuntime = r")(w)}},7017:function(te,t,e){function w(v,d){(d==null||d>v.length)&&(d=v.length);for(var b=0,T=new Array(d);b<d;b++)T[b]=v[b];return T}e.d(t,{Z:function(){return w}})},3173:function(te,t,e){function w(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}e.d(t,{Z:function(){return w}})},8950:function(te,t,e){function w(d,b,T,S,a,c,Z){try{var F=d[c](Z),_=F.value}catch(h){return void T(h)}F.done?b(_):Promise.resolve(_).then(S,a)}function v(d){return function(){var b=this,T=arguments;return new Promise(function(S,a){var c=d.apply(b,T);function Z(_){w(c,S,a,Z,F,"next",_)}function F(_){w(c,S,a,Z,F,"throw",_)}Z(void 0)})}}e.d(t,{Z:function(){return v}})},8821:function(te,t,e){function w(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")}e.d(t,{Z:function(){return w}})},5169:function(te,t,e){e.d(t,{Z:function(){return d}});var w=e(3525);function v(b,T){for(var S=0;S<T.length;S++){var a=T[S];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(b,(0,w.Z)(a.key),a)}}function d(b,T,S){return T&&v(b.prototype,T),S&&v(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b}},7169:function(te,t,e){e.d(t,{Z:function(){return v}});var w=e(3525);function v(d,b,T){return(b=(0,w.Z)(b))in d?Object.defineProperty(d,b,{value:T,enumerable:!0,configurable:!0,writable:!0}):d[b]=T,d}},11:function(te,t,e){function w(){return w=Object.assign?Object.assign.bind():function(v){for(var d=1;d<arguments.length;d++){var b=arguments[d];for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(v[T]=b[T])}return v},w.apply(this,arguments)}e.d(t,{Z:function(){return w}})},2312:function(te,t,e){function w(v){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},w(v)}e.d(t,{Z:function(){return w}})},2248:function(te,t,e){e.d(t,{Z:function(){return v}});var w=e(5901);function v(d,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),b&&(0,w.Z)(d,b)}},2726:function(te,t,e){function w(v,d){if(v==null)return{};var b,T,S=function(c,Z){if(c==null)return{};var F,_,h={},x=Object.keys(c);for(_=0;_<x.length;_++)F=x[_],Z.indexOf(F)>=0||(h[F]=c[F]);return h}(v,d);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(v);for(T=0;T<a.length;T++)b=a[T],d.indexOf(b)>=0||Object.prototype.propertyIsEnumerable.call(v,b)&&(S[b]=v[b])}return S}e.d(t,{Z:function(){return w}})},7245:function(te,t,e){e.d(t,{Z:function(){return d}});var w=e(6655),v=e(3173);function d(b,T){if(T&&((0,w.Z)(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,v.Z)(b)}},5901:function(te,t,e){function w(v,d){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,T){return b.__proto__=T,b},w(v,d)}e.d(t,{Z:function(){return w}})},2577:function(te,t,e){e.d(t,{Z:function(){return v}});var w=e(9139);function v(d,b){return function(T){if(Array.isArray(T))return T}(d)||function(T,S){var a=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(a!=null){var c,Z,F,_,h=[],x=!0,G=!1;try{if(F=(a=a.call(T)).next,S===0){if(Object(a)!==a)return;x=!1}else for(;!(x=(c=F.call(a)).done)&&(h.push(c.value),h.length!==S);x=!0);}catch(le){G=!0,Z=le}finally{try{if(!x&&a.return!=null&&(_=a.return(),Object(_)!==_))return}finally{if(G)throw Z}}return h}}(d,b)||(0,w.Z)(d,b)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(te,t,e){e.d(t,{Z:function(){return d}});var w=e(7017),v=e(9139);function d(b){return function(T){if(Array.isArray(T))return(0,w.Z)(T)}(b)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(b)||(0,v.Z)(b)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},3525:function(te,t,e){e.d(t,{Z:function(){return v}});var w=e(6655);function v(d){var b=function(T,S){if((0,w.Z)(T)!=="object"||T===null)return T;var a=T[Symbol.toPrimitive];if(a!==void 0){var c=a.call(T,S);if((0,w.Z)(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(T)}(d,"string");return(0,w.Z)(b)==="symbol"?b:String(b)}},6655:function(te,t,e){function w(v){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},w(v)}e.d(t,{Z:function(){return w}})},9139:function(te,t,e){e.d(t,{Z:function(){return v}});var w=e(7017);function v(d,b){if(d){if(typeof d=="string")return(0,w.Z)(d,b);var T=Object.prototype.toString.call(d).slice(8,-1);return T==="Object"&&d.constructor&&(T=d.constructor.name),T==="Map"||T==="Set"?Array.from(d):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?(0,w.Z)(d,b):void 0}}},3607:function(te,t,e){e.d(t,{zt:function(){return q},cn:function(){return U},Vv:function(){return he},KO:function(){return M},Dv:function(){return R},b9:function(){return B}});var w=e(9787);let v=0;const d=Symbol(),b=I=>!!I[d],T=I=>!I[d].c,S=I=>{var E;const{b:p,c:r}=I[d];r&&(r(),(E=Z.get(p))==null||E())},a=(I,E)=>{const p=I[d].o,r=E[d].o;return p===r||I===r||b(p)&&a(p,E)},c=(I,E)=>{const p={b:I,o:E,c:null},r=new Promise(o=>{p.c=()=>{p.c=null,o()},E.finally(p.c)});return r[d]=p,r},Z=new WeakMap,F=I=>"init"in I,_="r",h="w",x="c",G="s",le=I=>{const E=new WeakMap,p=new WeakMap,r=new Map;let o,g;if(o=new Set,g=new Set,I)for(const[ke,xe]of I){const ye={v:xe,r:0,y:!0,d:new Map};Object.freeze(ye),F(ke)||console.warn("Found initial value for derived atom which can cause unexpected behavior",ke),E.set(ke,ye)}const s=new WeakMap,u=new WeakMap,k=ke=>{let xe=u.get(ke);return xe||(xe=new Map,u.set(ke,xe)),xe},N=(ke,xe)=>{if(ke){const ye=k(ke);let P=ye.get(xe);return P||(P=N(ke.p,xe),P&&"p"in P&&T(P.p)&&(P=void 0),P&&ye.set(xe,P)),P}return E.get(xe)},W=(ke,xe,ye)=>{if(Object.freeze(ye),ke)k(ke).set(xe,ye);else{const P=E.get(xe);E.set(xe,ye),r.has(xe)||r.set(xe,P)}},O=(ke,xe=new Map,ye)=>{if(!ye)return xe;const P=new Map;let l=!1;return ye.forEach(f=>{var D;const H=((D=N(ke,f))==null?void 0:D.r)||0;P.set(f,H),xe.get(f)!==H&&(l=!0)}),xe.size!==P.size||l?P:xe},j=(ke,xe,ye,P,l)=>{const f=N(ke,xe);if(f){if(l&&(!("p"in f)||!a(f.p,l)))return f;"p"in f&&S(f.p)}const D={v:ye,r:f?.r||0,y:!0,d:O(ke,f?.d,P)};let H=!f?.y;return f&&"v"in f&&Object.is(f.v,ye)?D.d===f.d||D.d.size===f.d.size&&Array.from(D.d.keys()).every(J=>f.d.has(J))||(H=!0,Promise.resolve().then(()=>{Ae(ke)})):(H=!0,++D.r,D.d.has(xe)&&(D.d=new Map(D.d).set(xe,D.r))),f&&!H?f:(W(ke,xe,D),D)},L=(ke,xe,ye,P,l)=>{const f=N(ke,xe);if(f){if(l&&(!("p"in f)||!a(f.p,l)))return f;"p"in f&&S(f.p)}const D={e:ye,r:(f?.r||0)+1,y:!0,d:O(ke,f?.d,P)};return W(ke,xe,D),D},V=(ke,xe,ye,P)=>{const l=N(ke,xe);if(l&&"p"in l){if(a(l.p,ye)&&!T(l.p))return l.y?l:{...l,y:!0};S(l.p)}((D,H,J)=>{let re=s.get(H);re||(re=new Map,s.set(H,re)),J.then(()=>{re.get(D)===J&&(re.delete(D),re.size||s.delete(H))}),re.set(D,J)})(ke,xe,ye);const f={p:ye,r:(l?.r||0)+1,y:!0,d:O(ke,l?.d,P)};return W(ke,xe,f),f},ie=(ke,xe,ye,P)=>{if(ye instanceof Promise){const l=c(ye,ye.then(f=>{j(ke,xe,f,P,l)}).catch(f=>{if(f instanceof Promise)return b(f)?f.then(()=>{se(ke,xe,!0)}):f;L(ke,xe,f,P,l)}));return V(ke,xe,l,P)}return j(ke,xe,ye,P)},se=(ke,xe,ye)=>{if(!ye){const l=N(ke,xe);if(l){if(l.y&&"p"in l&&!T(l.p))return l;if(l.d.forEach((f,D)=>{if(D!==xe)if(p.has(D)){const H=N(ke,D);H&&!H.y&&se(ke,D)}else se(ke,D)}),Array.from(l.d).every(([f,D])=>{const H=N(ke,f);return H&&!("p"in H)&&H.r===D}))return l.y?l:{...l,y:!0}}}const P=new Set;try{const l=xe.read(f=>{P.add(f);const D=f===xe?N(ke,f):se(ke,f);if(D){if("e"in D)throw D.e;if("p"in D)throw D.p;return D.v}if(F(f))return f.init;throw new Error("no atom init")});return ie(ke,xe,l,P)}catch(l){if(l instanceof Promise){const f=b(l)&&T(l)?(D=>c(D[d].b,D[d].o))(l):c(l,l);return V(ke,xe,f,P)}return L(ke,xe,l,P)}},ue=(ke,xe)=>se(xe,ke),pe=(ke,xe)=>!xe.l.size&&(!xe.t.size||xe.t.size===1&&xe.t.has(ke)),Q=(ke,xe)=>{p.get(xe)?.t.forEach(P=>{P!==xe&&(((l,f)=>{const D=N(l,f);if(D){const H={...D,y:!1};W(l,f,H)}else console.warn("[Bug] could not invalidate non existing atom",f)})(ke,P),Q(ke,P))})},ee=(ke,xe,ye)=>{let P=!0;const l=(D,H)=>{const J=se(ke,D);if("e"in J)throw J.e;if("p"in J){if(H?.unstable_promise)return J.p.then(()=>{const re=N(ke,D);return re&&"p"in re&&re.p===J.p?new Promise(ae=>setTimeout(ae)).then(()=>l(D,H)):l(D,H)});throw console.info("Reading pending atom state in write operation. We throw a promise for now.",D),J.p}if("v"in J)return J.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",D),new Error("no value found")},f=xe.write(l,(D,H)=>{let J;if(D===xe){if(!F(D))throw new Error("atom not writable");(re=>{const ae=new Set,ge=s.get(re);return ge&&(s.delete(re),ge.forEach((_e,ze)=>{S(_e),ae.add(ze)})),ae})(D).forEach(re=>{re!==ke&&ie(re,D,H)}),N(ke,D)!==ie(ke,D,H)&&Q(ke,D)}else J=ee(ke,D,H);return P||Ae(ke),J},ye);return P=!1,f},me=(ke,xe,ye)=>{const P=ee(ye,ke,xe);return Ae(ye),P},Te=(ke,xe,ye)=>{const P={t:new Set(ye&&[ye]),l:new Set};if(p.set(xe,P),g.add(xe),se(void 0,xe).d.forEach((l,f)=>{const D=p.get(f);D?D.t.add(xe):f!==xe&&Te(ke,f,xe)}),(l=>!!l.write)(xe)&&xe.onMount){const l=D=>me(xe,D,ke),f=xe.onMount(l);ke=void 0,f&&(P.u=f)}return P},Ue=(ke,xe)=>{var ye;const P=(ye=p.get(xe))==null?void 0:ye.u;P&&P(),p.delete(xe),g.delete(xe);const l=N(ke,xe);l?("p"in l&&S(l.p),l.d.forEach((f,D)=>{if(D!==xe){const H=p.get(D);H&&(H.t.delete(xe),pe(D,H)&&Ue(ke,D))}})):console.warn("[Bug] could not find atom state to unmount",xe)},qe=(ke,xe,ye,P)=>{const l=new Set(ye.d.keys());P?.forEach((f,D)=>{if(l.has(D))return void l.delete(D);const H=p.get(D);H&&(H.t.delete(xe),pe(D,H)&&Ue(ke,D))}),l.forEach(f=>{const D=p.get(f);D?D.t.add(xe):p.has(xe)&&Te(ke,f,xe)})},Ae=ke=>{if(ke)k(ke).forEach((xe,ye)=>{xe!==E.get(ye)&&p.get(ye)?.l.forEach(l=>l(ke))});else{for(;r.size;){const xe=Array.from(r);r.clear(),xe.forEach(([ye,P])=>{const l=N(void 0,ye);if(l&&l.d!==P?.d&&qe(void 0,ye,l,P?.d),P&&!P.y&&l?.y)return;p.get(ye)?.l.forEach(D=>D())})}o.forEach(xe=>xe())}},Oe=(ke,xe)=>{xe&&(ye=>{k(ye).forEach((P,l)=>{const f=E.get(l);(!f||P.r>f.r||P.y!==f.y||P.r===f.r&&P.d!==f.d)&&(E.set(l,P),P.d!==f?.d&&qe(ye,l,P,f?.d))})})(xe),Ae(void 0)},Ie=(ke,xe,ye)=>{const P=((f,D)=>{let H=p.get(D);return H||(H=Te(f,D)),H})(ye,ke),l=P.l;return l.add(xe),()=>{l.delete(xe),((f,D)=>{const H=p.get(D);H&&pe(D,H)&&Ue(f,D)})(ye,ke)}},Re=(ke,xe)=>{for(const[ye,P]of ke)F(ye)&&(ie(xe,ye,P),Q(xe,ye));Ae(xe)};return{[_]:ue,[h]:me,[x]:Oe,[G]:Ie,h:Re,n:ke=>(o.add(ke),()=>{o.delete(ke)}),l:()=>g.values(),a:ke=>E.get(ke),m:ke=>p.get(ke)}},he=I=>{const E=le(I),p=r=>new Promise((o,g)=>{const s=E.r(r);"e"in s?g(s.e):o("p"in s?s.p.then(()=>p(r)):s.v)});return{get:r=>{const o=E.r(r);if("e"in o)throw o.e;if(!("p"in o))return o.v},asyncGet:p,set:(r,o)=>E.w(r,o),sub:(r,o)=>E.s(r,o),SECRET_INTERNAL_store:E}},ve=(I,E)=>({s:E?E(I).SECRET_INTERNAL_store:le(I)}),fe=new Map,X=I=>(fe.has(I)||fe.set(I,(0,w.createContext)(ve())),fe.get(I)),q=({children:I,initialValues:E,scope:p,unstable_createStore:r,unstable_enableVersionedWrite:o})=>{const[g,s]=(0,w.useState)({});(0,w.useEffect)(()=>{const N=u.current;N.w&&(N.s.c(null,g),delete g.p,N.v=g)},[g]);const u=(0,w.useRef)();if(!u.current){const N=ve(E,r);if(o){let W=0;N.w=O=>{s(j=>{const L=W?j:{p:j};return O(L),L})},N.v=g,N.r=O=>{++W,O(),--W}}u.current=N}const k=X(p);return(0,w.createElement)(k.Provider,{value:u.current},I)};function U(I,E){return function(p,r){const o="atom"+ ++v,g={toString:()=>o};return typeof p=="function"?g.read=p:(g.init=p,g.read=s=>s(g),g.write=(s,u,k)=>u(g,typeof k=="function"?k(s(g)):k)),r&&(g.write=r),g}(I,E)}function R(I,E){const p=X(E),r=(0,w.useContext)(p),{s:o,v:g}=r,s=j=>{const L=o.r(I,j);if(!L.y)throw new Error("should not be invalidated");if("e"in L)throw L.e;if("p"in L)throw L.p;if("v"in L)return L.v;throw new Error("no atom value")},[[u,k,N],W]=(0,w.useReducer)((j,L)=>{const V=s(L);return Object.is(j[1],V)&&j[2]===I?j:[L,V,I]},g,j=>[j,s(j),I]);let O=k;return N!==I&&(W(u),O=s(u)),(0,w.useEffect)(()=>{const{v:j}=r;j&&o.c(I,j);const L=o.s(I,W,j);return W(j),L},[o,I,r]),(0,w.useEffect)(()=>{o.c(I,u)}),(0,w.useDebugValue)(O),O}function B(I,E){const p=X(E),{s:r,w:o}=(0,w.useContext)(p);return(0,w.useCallback)(g=>{if(!("write"in I))throw new Error("not writable atom");const s=u=>r.w(I,g,u);return o?o(s):s()},[r,o,I])}function M(I,E){return"scope"in I&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),E=I.scope),[R(I,E),B(I,E)]}},5605:function(te,t,e){e.d(t,{x0:function(){return w}});let w=(v=21)=>crypto.getRandomValues(new Uint8Array(v)).reduce((d,b)=>d+=(b&=63)<36?b.toString(36):b<62?(b-26).toString(36).toUpperCase():b>62?"-":"_","")},5284:function(te){te.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(te){te.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","editEmbed":"Edit link & embed","create":"Create link","createEmbed":"Create link & embed","label":"Link","labelEmbed":"Link & embed","empty":"No link is set"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open","selectAllElementsInFrame":"Select all elements in frame","removeAllElementsFromFrame":"Remove all elements from frame","eyeDropper":"Pick color from canvas"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","copyToClipboard":"Copy to clipboard","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","objectsSnapMode":"Snap to objects","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","embed":"Toggle embedding","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm","embeddableInteractionButton":"Click to interact"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","failedToFetchImage":"Failed to fetch image.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","imageToolNotSupported":"Images are disabled.","brave_measure_text_error":{"line1":"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.","line2":"This could result in breaking the <bold>Text Elements</bold> in your drawings.","line3":"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.","line4":"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},"libraryElementTypeError":{"embeddable":"Embeddable elements cannot be added to the library.","image":"Support for adding images to the library coming soon!"},"asyncPasteFailedOnRead":"Couldn't paste (couldn't read from system clipboard).","asyncPasteFailedOnParse":"Couldn't paste.","copyToSystemClipboardFailed":"Couldn't copy to clipboard."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","frame":"Frame tool","embeddable":"Web Embed","laser":"Laser pointer","hand":"Hand (panning tool)","extraTools":"More tools","mermaidToExcalidraw":"Mermaid to Excalidraw"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","embeddable":"Click-drag to create a website embed","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page.","disableSnapping":"Hold CtrlOrCmd to disable snapping"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain":"Encountered an error. Try <button>reloading the page</button>.","clearCanvasMessage":"If reloading doesn't work, try <button>clearing the canvas</button>.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry":"The error with identifier {{eventId}} was tracked on our system.","openIssueMessage":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.","noteGuidelines":"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.","noteLicense":"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.","noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"imageExportDialog":{"header":"Export image","label":{"withBackground":"Background","onlySelected":"Only selected","darkMode":"Dark mode","embedScene":"Embed scene","scale":"Scale","padding":"Padding"},"tooltip":{"embedScene":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size."},"title":{"exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyPngToClipboard":"Copy PNG to clipboard"},"button":{"exportToPng":"PNG","exportToSvg":"SVG","copyPngToClipboard":"Copy to clipboard"}},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor","unableToEmbed":"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted","unrecognizedLinkFormat":"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site"},"colors":{"transparent":"Transparent","black":"Black","white":"White","red":"Red","pink":"Pink","grape":"Grape","violet":"Violet","gray":"Gray","blue":"Blue","cyan":"Cyan","teal":"Teal","green":"Green","yellow":"Yellow","orange":"Orange","bronze":"Bronze"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}},"colorPicker":{"mostUsedCustomColors":"Most used custom colors","colors":"Colors","shades":"Shades","hexCode":"Hex code","noShades":"No shades available for this color"},"overwriteConfirm":{"action":{"exportToImage":{"title":"Export as image","button":"Export as image","description":"Export the scene data as an image from which you can import later."},"saveToDisk":{"title":"Save to disk","button":"Save to disk","description":"Export the scene data to a file from which you can import later."},"excalidrawPlus":{"title":"Excalidraw+","button":"Export to Excalidraw+","description":"Save the scene to your Excalidraw+ workspace."}},"modal":{"loadFromFile":{"title":"Load from file","button":"Load from file","description":"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},"shareableLink":{"title":"Load from link","button":"Replace my content","description":"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},"mermaid":{"title":"Mermaid to Excalidraw","button":"Insert","description":"Currently only <flowchartLink>Flowcharts</flowchartLink> and <sequenceLink>Sequence Diagrams</sequenceLink> are supported. The other types will be rendered as image in Excalidraw.","syntax":"Mermaid Syntax","preview":"Preview"}}`)},4451:function(te){te.exports=JSON.parse('{"ar-SA":99,"az-AZ":18,"bg-BG":75,"bn-BD":55,"ca-ES":81,"cs-CZ":91,"da-DK":31,"de-DE":100,"el-GR":85,"en":100,"es-ES":96,"eu-ES":99,"fa-IR":87,"fi-FI":81,"fr-FR":98,"gl-ES":90,"he-IL":81,"hi-IN":75,"hu-HU":70,"id-ID":96,"it-IT":99,"ja-JP":95,"kaa":34,"kab-KAB":80,"kk-KZ":20,"km-KH":87,"ko-KR":100,"ku-TR":92,"lt-LT":51,"lv-LV":82,"mr-IN":92,"my-MM":37,"nb-NO":99,"nl-NL":79,"nn-NO":71,"oc-FR":79,"pa-IN":82,"pl-PL":100,"pt-BR":96,"pt-PT":88,"ro-RO":98,"ru-RU":94,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":85,"th-TH":46,"tr-TR":91,"uk-UA":99,"vi-VN":51,"zh-CN":99,"zh-HK":24,"zh-TW":100}')}},Et={};function ft(te){var t=Et[te];if(t!==void 0)return t.exports;var e=Et[te]={id:te,exports:{}};return yt[te].call(e.exports,e,e.exports,ft),e.exports}ft.m=yt,ft.n=function(te){var t=te&&te.__esModule?function(){return te.default}:function(){return te};return ft.d(t,{a:t}),t},Ge=Object.getPrototypeOf?function(te){return Object.getPrototypeOf(te)}:function(te){return te.__proto__},ft.t=function(te,t){if(1&t&&(te=this(te)),8&t||typeof te=="object"&&te&&(4&t&&te.__esModule||16&t&&typeof te.then=="function"))return te;var e=Object.create(null);ft.r(e);var w={};Ne=Ne||[null,Ge({}),Ge([]),Ge(Ge)];for(var v=2&t&&te;typeof v=="object"&&!~Ne.indexOf(v);v=Ge(v))Object.getOwnPropertyNames(v).forEach(function(d){w[d]=function(){return te[d]}});return w.default=function(){return te},ft.d(e,w),e},ft.d=function(te,t){for(var e in t)ft.o(t,e)&&!ft.o(te,e)&&Object.defineProperty(te,e,{enumerable:!0,get:t[e]})},ft.f={},ft.e=function(te){return Promise.all(Object.keys(ft.f).reduce(function(t,e){return ft.f[e](te,t),t},[]))},ft.u=function(te){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",663:"locales/kaa-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4568:"locales/az-AZ-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6566:"locales/km-KH-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[te]+"-"+{22:"2224f237cc93465f126f",537:"9a390d3cc7a7a6226b63",663:"4d0a4868835d0334a549",1204:"2cb067da0fb518e73564",1302:"4921d4298abfa256fe6f",1477:"3ba296b6fcf2a2197a7c",1513:"4cbc2dbda5a5df636ee1",1628:"42fb0378311f3ade2627",1690:"644a5eaa1311f70cb697",1790:"a94944ac6fa9756d2fac",2091:"db7c644ccbeb85d54a47",2312:"a7bc2a673875b2e655e1",2359:"798d785698d467e76fcf",2404:"2fa1854af68381c61913",2943:"d11c7966c3c2f95756e0",3024:"2cf913fe2f491c5d7075",3031:"bafa8865ed7002bb249e",3082:"d82053ab52357510811b",3162:"165c5c2760688033b2cc",3397:"ad1359c30c334d05eee0",3421:"5a3fa7cacfa83c411d89",3512:"64c8902f10425e1b2e81",3674:"35c1f168f53af24b657a",3682:"d16a471290ba26a6c66a",3721:"370215dc506c58ee3217",3808:"6542dd92ab54a2c1c48e",3885:"aa607835ad9408789c5f",4e3:"9c1c2a9fa9d6b5a58223",4568:"08a6de50238dbb21926c",4680:"069c304b5011429be615",4736:"677e88ca78c86bddf13d",4977:"fc9b16e9dc2be2660439",5089:"3c32b962880e225d3416",5130:"a6b2c18f7e85cfd11599",5330:"76b039039b043cc4280c",5395:"6f3d80656622a222b4e2",6071:"efb839ef0456f5c72e6e",6239:"ab410570df07304cb0ca",6265:"ea03835d73f9b921f7c4",6566:"cbe8e2e8d26d30a3175c",6768:"f7f9363e42ee2e3a7c67",6844:"c2387972637d47f15765",7368:"0419027d32efac73d518",7429:"9ad9e5ae95c4c66297b1",7759:"82753e98dced302ac187",7920:"d9bf1e4e2d1f8650c680",8081:"671a4afcfce7b0a7660b",8124:"e1f4ed9d2d074f778304",8340:"9b7e91a51b90ee551cad",8534:"cfab3adbd37dd273c61e",8750:"27b59d7e026675f929c4",8759:"7afb66536ee40d852fa2",9551:"0d400ba2836cc0752cd6",9828:"4947c9dace32cc3c6eef"}[te]+".js"},ft.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ft.o=function(te,t){return Object.prototype.hasOwnProperty.call(te,t)},$e={},mt="ExcalidrawLib:",ft.l=function(te,t,e,w){if($e[te])$e[te].push(t);else{var v,d;if(e!==void 0)for(var b=document.getElementsByTagName("script"),T=0;T<b.length;T++){var S=b[T];if(S.getAttribute("src")==te||S.getAttribute("data-webpack")==mt+e){v=S;break}}v||(d=!0,(v=document.createElement("script")).charset="utf-8",v.timeout=120,ft.nc&&v.setAttribute("nonce",ft.nc),v.setAttribute("data-webpack",mt+e),v.src=te),$e[te]=[t];var a=function(Z,F){v.onerror=v.onload=null,clearTimeout(c);var _=$e[te];if(delete $e[te],v.parentNode&&v.parentNode.removeChild(v),_&&_.forEach(function(h){return h(F)}),Z)return Z(F)},c=setTimeout(a.bind(null,void 0,{type:"timeout",target:v}),12e4);v.onerror=a.bind(null,v.onerror),v.onload=a.bind(null,v.onload),d&&document.head.appendChild(v)}},ft.r=function(te){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(te,"__esModule",{value:!0})},ft.p="",function(){ft.b=document.baseURI||self.location.href;var te={2848:0};ft.f.j=function(w,v){var d=ft.o(te,w)?te[w]:void 0;if(d!==0)if(d)v.push(d[2]);else{var b=new Promise(function(a,c){d=te[w]=[a,c]});v.push(d[2]=b);var T=ft.p+ft.u(w),S=new Error;ft.l(T,function(a){if(ft.o(te,w)&&((d=te[w])!==0&&(te[w]=void 0),d)){var c=a&&(a.type==="load"?"missing":a.type),Z=a&&a.target&&a.target.src;S.message="Loading chunk "+w+` failed.
(`+c+": "+Z+")",S.name="ChunkLoadError",S.type=c,S.request=Z,d[1](S)}},"chunk-"+w,w)}};var t=function(w,v){var d,b,T=v[0],S=v[1],a=v[2],c=0;if(T.some(function(Z){return te[Z]!==0})){for(d in S)ft.o(S,d)&&(ft.m[d]=S[d]);a&&a(ft)}for(w&&w(v);c<T.length;c++)b=T[c],ft.o(te,b)&&te[b]&&te[b][0](),te[b]=0},e=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}(),ft.nc=void 0;var We={};return function(){ft.r(We),ft.d(We,{Button:function(){return x.zx},DefaultSidebar:function(){return x.Or},Excalidraw:function(){return x.Eb},FONT_FAMILY:function(){return x.ut},Footer:function(){return x.$_},LiveCollaborationTrigger:function(){return x.vO},MIME_TYPES:function(){return x.LO},MainMenu:function(){return x.lb},Sidebar:function(){return x.YE},THEME:function(){return x.C6},WelcomeScreen:function(){return x.B4},bumpVersion:function(){return x.ZP},convertToExcalidrawElements:function(){return x.wc},defaultLang:function(){return x.Fp},elementPartiallyOverlapsWithOrContainsBBox:function(){return x.sQ},elementsOverlappingBBox:function(){return x.Xs},exportToBlob:function(){return x.Fl},exportToCanvas:function(){return x.NL},exportToClipboard:function(){return x.i1},exportToSvg:function(){return x.$D},getCommonBounds:function(){return x.KP},getFreeDrawSvgPath:function(){return x.N7},getNonDeletedElements:function(){return x.Lm},getSceneVersion:function(){return x.Uo},isElementInsideBBox:function(){return x.Ne},isInvisiblySmallElement:function(){return x.QD},isLinearElement:function(){return x.bt},languages:function(){return x.Mj},loadFromBlob:function(){return x.cT},loadLibraryFromBlob:function(){return x.lV},loadSceneOrLibraryFromBlob:function(){return x.ZY},mergeLibraryItems:function(){return x.zh},mutateElement:function(){return x.DR},newElementWith:function(){return x.BE},normalizeLink:function(){return x.$u},parseLibraryTokensFromUrl:function(){return x.Di},restore:function(){return x.nu},restoreAppState:function(){return x.lY},restoreElements:function(){return x.ET},restoreLibraryItems:function(){return x.wJ},sceneCoordsToViewportCoords:function(){return x._i},serializeAsJSON:function(){return x.I_},serializeLibraryAsJSON:function(){return x.NI},useDevice:function(){return x.Fy},useHandleLibrary:function(){return x.xS},useI18n:function(){return x.QT},viewportCoordsToSceneCoords:function(){return x.dE}}),ft(9937).Vi.TEST!=="production"&&(ft.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.17.6","/dist/"));var te=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(G){if((G=Math.trunc(G)||0)<0&&(G+=this.length),!(G<0||G>=this.length))return this[G]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(){this.innerHTML="",this.append.apply(this,arguments)})},t=ft(3379),e=ft.n(t),w=ft(7795),v=ft.n(w),d=ft(569),b=ft.n(d),T=ft(3565),S=ft.n(T),a=ft(9216),c=ft.n(a),Z=ft(4589),F=ft.n(Z),_=ft(4295),h={};h.styleTagTransform=F(),h.setAttributes=S(),h.insert=b().bind(null,"head"),h.domAPI=v(),h.insertStyleElement=c(),e()(_.Z,h),_.Z&&_.Z.locals&&_.Z.locals;var x=ft(4864);te()}(),We}()})}(Np)),Np.exports}var Up={exports:{}},Kp;function iw(){return Kp||(Kp=1,function(n,m){(function(A,ce){n.exports=ce(gd(),Ym())})(self,function(A,ce){return function(){var Ce,Ne,Ge,$e,mt={5779:function(We,te){te.N=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,e=/&#(\w+)(^\w|;)?/g,w=/&(newline|tab);/gi,v=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,d=/^.+(:|&colon;)/gim,b=[".","/"];te.N=function(T){var S,a=(S=T||"",S.replace(e,function(F,_){return String.fromCharCode(_)})).replace(w,"").replace(v,"").trim();if(!a)return"about:blank";if(function(F){return b.indexOf(F[0])>-1}(a))return a;var c=a.match(d);if(!c)return a;var Z=c[0];return t.test(Z)?"about:blank":a}},7217:function(We,te,t){function e(w,v,{checkForDefaultPrevented:d=!0}={}){return function(b){if(w?.(b),d===!1||!b.defaultPrevented)return v?.(b)}}t.d(te,{M:function(){return e}})},9335:function(We,te,t){t.d(te,{F:function(){return w},e:function(){return v}});var e=t(9787);function w(...d){return b=>d.forEach(T=>function(S,a){typeof S=="function"?S(a):S!=null&&(S.current=a)}(T,b))}function v(...d){return(0,e.useCallback)(w(...d),d)}},1267:function(We,te,t){t.d(te,{b:function(){return w}});var e=t(9787);function w(d,b=[]){let T=[];const S=()=>{const a=T.map(c=>(0,e.createContext)(c));return function(c){const Z=c?.[d]||a;return(0,e.useMemo)(()=>({[`__scope${d}`]:{...c,[d]:Z}}),[c,Z])}};return S.scopeName=d,[function(a,c){const Z=(0,e.createContext)(c),F=T.length;function _(h){const{scope:x,children:G,...le}=h,he=x?.[d][F]||Z,ve=(0,e.useMemo)(()=>le,Object.values(le));return(0,e.createElement)(he.Provider,{value:ve},G)}return T=[...T,c],_.displayName=a+"Provider",[_,function(h,x){const G=x?.[d][F]||Z,le=(0,e.useContext)(G);if(le)return le;if(c!==void 0)return c;throw new Error(`\`${h}\` must be used within \`${a}\``)}]},v(S,...b)]}function v(...d){const b=d[0];if(d.length===1)return b;const T=()=>{const S=d.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){const c=S.reduce((Z,{useScope:F,scopeName:_})=>({...Z,...F(a)[`__scope${_}`]}),{});return(0,e.useMemo)(()=>({[`__scope${b.scopeName}`]:c}),[c])}};return T.scopeName=b.scopeName,T}},5622:function(We,te,t){t.d(te,{M:function(){return b}});var e=t(9787),w=t(3348);const v=e.useId||(()=>{});let d=0;function b(T){const[S,a]=e.useState(v());return(0,w.b)(()=>{T||a(c=>c??String(d++))},[T]),T||(S?`radix-${S}`:"")}},1483:function(We,te,t){t.d(te,{z:function(){return b}});var e=t(9787),w=t(5156),v=t(9335),d=t(3348);const b=S=>{const{present:a,children:c}=S,Z=function(h){const[x,G]=(0,e.useState)(),le=(0,e.useRef)({}),he=(0,e.useRef)(h),ve=(0,e.useRef)("none"),fe=h?"mounted":"unmounted",[X,q]=function(U,R){return(0,e.useReducer)((B,M)=>R[B][M]??B,U)}(fe,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,e.useEffect)(()=>{const U=T(le.current);ve.current=X==="mounted"?U:"none"},[X]),(0,d.b)(()=>{const U=le.current,R=he.current;if(R!==h){const B=ve.current,M=T(U);h?q("MOUNT"):M==="none"||U?.display==="none"?q("UNMOUNT"):q(R&&B!==M?"ANIMATION_OUT":"UNMOUNT"),he.current=h}},[h,q]),(0,d.b)(()=>{if(x){const U=B=>{const M=T(le.current).includes(B.animationName);B.target===x&&M&&(0,w.flushSync)(()=>q("ANIMATION_END"))},R=B=>{B.target===x&&(ve.current=T(le.current))};return x.addEventListener("animationstart",R),x.addEventListener("animationcancel",U),x.addEventListener("animationend",U),()=>{x.removeEventListener("animationstart",R),x.removeEventListener("animationcancel",U),x.removeEventListener("animationend",U)}}q("ANIMATION_END")},[x,q]),{isPresent:["mounted","unmountSuspended"].includes(X),ref:(0,e.useCallback)(U=>{U&&(le.current=getComputedStyle(U)),G(U)},[])}}(a),F=typeof c=="function"?c({present:Z.isPresent}):e.Children.only(c),_=(0,v.e)(Z.ref,F.ref);return typeof c=="function"||Z.isPresent?(0,e.cloneElement)(F,{ref:_}):null};function T(S){return S?.animationName||"none"}b.displayName="Presence"},3119:function(We,te,t){t.d(te,{WV:function(){return b},jH:function(){return T}});var e=t(11),w=t(9787),v=t(5156),d=t(4801);const b=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((S,a)=>{const c=(0,w.forwardRef)((Z,F)=>{const{asChild:_,...h}=Z,x=_?d.g7:a;return(0,w.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,w.createElement)(x,(0,e.Z)({},h,{ref:F}))});return c.displayName=`Primitive.${a}`,{...S,[a]:c}},{});function T(S,a){S&&(0,v.flushSync)(()=>S.dispatchEvent(a))}},4801:function(We,te,t){t.d(te,{g7:function(){return d}});var e=t(11),w=t(9787),v=t(9335);const d=(0,w.forwardRef)((c,Z)=>{const{children:F,..._}=c,h=w.Children.toArray(F),x=h.find(S);if(x){const G=x.props.children,le=h.map(he=>he===x?w.Children.count(G)>1?w.Children.only(null):(0,w.isValidElement)(G)?G.props.children:null:he);return(0,w.createElement)(b,(0,e.Z)({},_,{ref:Z}),(0,w.isValidElement)(G)?(0,w.cloneElement)(G,void 0,le):null)}return(0,w.createElement)(b,(0,e.Z)({},_,{ref:Z}),F)});d.displayName="Slot";const b=(0,w.forwardRef)((c,Z)=>{const{children:F,..._}=c;return(0,w.isValidElement)(F)?(0,w.cloneElement)(F,{...a(_,F.props),ref:(0,v.F)(Z,F.ref)}):w.Children.count(F)>1?w.Children.only(null):null});b.displayName="SlotClone";const T=({children:c})=>(0,w.createElement)(w.Fragment,null,c);function S(c){return(0,w.isValidElement)(c)&&c.type===T}function a(c,Z){const F={...Z};for(const _ in Z){const h=c[_],x=Z[_];/^on[A-Z]/.test(_)?h&&x?F[_]=(...G)=>{x(...G),h(...G)}:h&&(F[_]=h):_==="style"?F[_]={...h,...x}:_==="className"&&(F[_]=[h,x].filter(Boolean).join(" "))}return{...c,...F}}},3060:function(We,te,t){t.d(te,{W:function(){return w}});var e=t(9787);function w(v){const d=(0,e.useRef)(v);return(0,e.useEffect)(()=>{d.current=v}),(0,e.useMemo)(()=>(...b)=>{var T;return(T=d.current)===null||T===void 0?void 0:T.call(d,...b)},[])}},2673:function(We,te,t){t.d(te,{T:function(){return v}});var e=t(9787),w=t(3060);function v({prop:d,defaultProp:b,onChange:T=()=>{}}){const[S,a]=function({defaultProp:_,onChange:h}){const x=(0,e.useState)(_),[G]=x,le=(0,e.useRef)(G),he=(0,w.W)(h);return(0,e.useEffect)(()=>{le.current!==G&&(he(G),le.current=G)},[G,le,he]),x}({defaultProp:b,onChange:T}),c=d!==void 0,Z=c?d:S,F=(0,w.W)(T);return[Z,(0,e.useCallback)(_=>{if(c){const h=_,x=typeof _=="function"?h(d):_;x!==d&&F(x)}else a(_)},[c,d,a,F])]}},3348:function(We,te,t){t.d(te,{b:function(){return w}});var e=t(9787);const w=globalThis?.document?e.useLayoutEffect:()=>{}},45:function(We,te,t){function e(v){var d,b,T="";if(typeof v=="string"||typeof v=="number")T+=v;else if(typeof v=="object")if(Array.isArray(v))for(d=0;d<v.length;d++)v[d]&&(b=e(v[d]))&&(T&&(T+=" "),T+=b);else for(d in v)v[d]&&(T&&(T+=" "),T+=d);return T}function w(){for(var v,d,b=0,T="";b<arguments.length;)(v=arguments[b++])&&(d=e(v))&&(T&&(T+=" "),T+=d);return T}t.d(te,{Z:function(){return w}})},6233:function(We,te){var t;t=function(e){e.version="0.3.0";var w=function(){for(var b=0,T=new Array(256),S=0;S!=256;++S)b=1&(b=1&(b=1&(b=1&(b=1&(b=1&(b=1&(b=1&(b=S)?-306674912^b>>>1:b>>>1)?-306674912^b>>>1:b>>>1)?-306674912^b>>>1:b>>>1)?-306674912^b>>>1:b>>>1)?-306674912^b>>>1:b>>>1)?-306674912^b>>>1:b>>>1)?-306674912^b>>>1:b>>>1)?-306674912^b>>>1:b>>>1,T[S]=b;return typeof Int32Array<"u"?new Int32Array(T):T}(),v=typeof Fu<"u";function d(b){for(var T=-1,S=0,a=b.length-7;S<a;)T=(T=(T=(T=(T=(T=(T=(T=T>>>8^w[255&(T^b[S++])])>>>8^w[255&(T^b[S++])])>>>8^w[255&(T^b[S++])])>>>8^w[255&(T^b[S++])])>>>8^w[255&(T^b[S++])])>>>8^w[255&(T^b[S++])])>>>8^w[255&(T^b[S++])])>>>8^w[255&(T^b[S++])];for(;S<a+7;)T=T>>>8^w[255&(T^b[S++])];return-1^T}e.table=w,e.bstr=function(b){if(b.length>32768&&v)return d(new Fu(b));for(var T=-1,S=b.length-1,a=0;a<S;)T=w[255&(T^b.charCodeAt(a++))]^T>>>8,T=w[255&(T^b.charCodeAt(a++))]^T>>>8;return a===S&&(T=T>>>8^w[255&(T^b.charCodeAt(a))]),-1^T},e.buf=function(b){if(b.length>1e4)return d(b);for(var T=-1,S=0,a=b.length-3;S<a;)T=(T=(T=(T=T>>>8^w[255&(T^b[S++])])>>>8^w[255&(T^b[S++])])>>>8^w[255&(T^b[S++])])>>>8^w[255&(T^b[S++])];for(;S<a+3;)T=T>>>8^w[255&(T^b[S++])];return-1^T},e.str=function(b){for(var T,S,a=-1,c=0,Z=b.length;c<Z;)(T=b.charCodeAt(c++))<128?a=a>>>8^w[255&(a^T)]:T<2048?a=(a=a>>>8^w[255&(a^(192|T>>6&31))])>>>8^w[255&(a^(128|63&T))]:T>=55296&&T<57344?(T=64+(1023&T),S=1023&b.charCodeAt(c++),a=(a=(a=(a=a>>>8^w[255&(a^(240|T>>8&7))])>>>8^w[255&(a^(128|T>>2&63))])>>>8^w[255&(a^(128|S>>6&15|3&T))])>>>8^w[255&(a^(128|63&S))]):a=(a=(a=a>>>8^w[255&(a^(224|T>>12&15))])>>>8^w[255&(a^(128|T>>6&63))])>>>8^w[255&(a^(128|63&T))];return-1^a}},t(typeof DO_NOT_EXPORT_CRC>"u"?te:{})},200:function(We,te,t){var e="Expected a function",w=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,b=/^0o[0-7]+$/i,T=parseInt,S=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,a=typeof self=="object"&&self&&self.Object===Object&&self,c=S||a||Function("return this")(),Z=Object.prototype.toString,F=Math.max,_=Math.min,h=function(){return c.Date.now()};function x(he,ve,fe){var X,q,U,R,B,M,I=0,E=!1,p=!1,r=!0;if(typeof he!="function")throw new TypeError(e);function o(W){var O=X,j=q;return X=q=void 0,I=W,R=he.apply(j,O)}function g(W){return I=W,B=setTimeout(u,ve),E?o(W):R}function s(W){var O=W-M;return M===void 0||O>=ve||O<0||p&&W-I>=U}function u(){var W=h();if(s(W))return k(W);B=setTimeout(u,function(O){var j=ve-(O-M);return p?_(j,U-(O-I)):j}(W))}function k(W){return B=void 0,r&&X?o(W):(X=q=void 0,R)}function N(){var W=h(),O=s(W);if(X=arguments,q=this,M=W,O){if(B===void 0)return g(M);if(p)return B=setTimeout(u,ve),o(M)}return B===void 0&&(B=setTimeout(u,ve)),R}return ve=le(ve)||0,G(fe)&&(E=!!fe.leading,U=(p="maxWait"in fe)?F(le(fe.maxWait)||0,ve):U,r="trailing"in fe?!!fe.trailing:r),N.cancel=function(){B!==void 0&&clearTimeout(B),I=0,X=M=q=B=void 0},N.flush=function(){return B===void 0?R:k(h())},N}function G(he){var ve=typeof he;return!!he&&(ve=="object"||ve=="function")}function le(he){if(typeof he=="number")return he;if(function(X){return typeof X=="symbol"||function(q){return!!q&&typeof q=="object"}(X)&&Z.call(X)=="[object Symbol]"}(he))return NaN;if(G(he)){var ve=typeof he.valueOf=="function"?he.valueOf():he;he=G(ve)?ve+"":ve}if(typeof he!="string")return he===0?he:+he;he=he.replace(w,"");var fe=d.test(he);return fe||b.test(he)?T(he.slice(2),fe?2:8):v.test(he)?NaN:+he}We.exports=function(he,ve,fe){var X=!0,q=!0;if(typeof he!="function")throw new TypeError(e);return G(fe)&&(X="leading"in fe?!!fe.leading:X,q="trailing"in fe?!!fe.trailing:q),x(he,ve,{leading:X,maxWait:ve,trailing:q})}},2744:function(We,te,t){var e={};(0,t(9187).assign)(e,t(4395),t(578),t(2684)),We.exports=e},4395:function(We,te,t){var e=t(6193),w=t(9187),v=t(8592),d=t(5604),b=t(249),T=Object.prototype.toString;function S(c){if(!(this instanceof S))return new S(c);this.options=w.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},c||{});var Z=this.options;Z.raw&&Z.windowBits>0?Z.windowBits=-Z.windowBits:Z.gzip&&Z.windowBits>0&&Z.windowBits<16&&(Z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var F=e.deflateInit2(this.strm,Z.level,Z.method,Z.windowBits,Z.memLevel,Z.strategy);if(F!==0)throw new Error(d[F]);if(Z.header&&e.deflateSetHeader(this.strm,Z.header),Z.dictionary){var _;if(_=typeof Z.dictionary=="string"?v.string2buf(Z.dictionary):T.call(Z.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Z.dictionary):Z.dictionary,(F=e.deflateSetDictionary(this.strm,_))!==0)throw new Error(d[F]);this._dict_set=!0}}function a(c,Z){var F=new S(Z);if(F.push(c,!0),F.err)throw F.msg||d[F.err];return F.result}S.prototype.push=function(c,Z){var F,_,h=this.strm,x=this.options.chunkSize;if(this.ended)return!1;_=Z===~~Z?Z:Z===!0?4:0,typeof c=="string"?h.input=v.string2buf(c):T.call(c)==="[object ArrayBuffer]"?h.input=new Uint8Array(c):h.input=c,h.next_in=0,h.avail_in=h.input.length;do{if(h.avail_out===0&&(h.output=new w.Buf8(x),h.next_out=0,h.avail_out=x),(F=e.deflate(h,_))!==1&&F!==0)return this.onEnd(F),this.ended=!0,!1;h.avail_out!==0&&(h.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(w.shrinkBuf(h.output,h.next_out))):this.onData(w.shrinkBuf(h.output,h.next_out)))}while((h.avail_in>0||h.avail_out===0)&&F!==1);return _===4?(F=e.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===0):_!==2||(this.onEnd(0),h.avail_out=0,!0)},S.prototype.onData=function(c){this.chunks.push(c)},S.prototype.onEnd=function(c){c===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},te.Deflate=S,te.deflate=a,te.deflateRaw=function(c,Z){return(Z=Z||{}).raw=!0,a(c,Z)},te.gzip=function(c,Z){return(Z=Z||{}).gzip=!0,a(c,Z)}},578:function(We,te,t){var e=t(7823),w=t(9187),v=t(8592),d=t(2684),b=t(5604),T=t(249),S=t(9968),a=Object.prototype.toString;function c(F){if(!(this instanceof c))return new c(F);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},F||{});var _=this.options;_.raw&&_.windowBits>=0&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(_.windowBits>=0&&_.windowBits<16)||F&&F.windowBits||(_.windowBits+=32),_.windowBits>15&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var h=e.inflateInit2(this.strm,_.windowBits);if(h!==d.Z_OK)throw new Error(b[h]);if(this.header=new S,e.inflateGetHeader(this.strm,this.header),_.dictionary&&(typeof _.dictionary=="string"?_.dictionary=v.string2buf(_.dictionary):a.call(_.dictionary)==="[object ArrayBuffer]"&&(_.dictionary=new Uint8Array(_.dictionary)),_.raw&&(h=e.inflateSetDictionary(this.strm,_.dictionary))!==d.Z_OK))throw new Error(b[h])}function Z(F,_){var h=new c(_);if(h.push(F,!0),h.err)throw h.msg||b[h.err];return h.result}c.prototype.push=function(F,_){var h,x,G,le,he,ve=this.strm,fe=this.options.chunkSize,X=this.options.dictionary,q=!1;if(this.ended)return!1;x=_===~~_?_:_===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof F=="string"?ve.input=v.binstring2buf(F):a.call(F)==="[object ArrayBuffer]"?ve.input=new Uint8Array(F):ve.input=F,ve.next_in=0,ve.avail_in=ve.input.length;do{if(ve.avail_out===0&&(ve.output=new w.Buf8(fe),ve.next_out=0,ve.avail_out=fe),(h=e.inflate(ve,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&X&&(h=e.inflateSetDictionary(this.strm,X)),h===d.Z_BUF_ERROR&&q===!0&&(h=d.Z_OK,q=!1),h!==d.Z_STREAM_END&&h!==d.Z_OK)return this.onEnd(h),this.ended=!0,!1;ve.next_out&&(ve.avail_out!==0&&h!==d.Z_STREAM_END&&(ve.avail_in!==0||x!==d.Z_FINISH&&x!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(G=v.utf8border(ve.output,ve.next_out),le=ve.next_out-G,he=v.buf2string(ve.output,G),ve.next_out=le,ve.avail_out=fe-le,le&&w.arraySet(ve.output,ve.output,G,le,0),this.onData(he)):this.onData(w.shrinkBuf(ve.output,ve.next_out)))),ve.avail_in===0&&ve.avail_out===0&&(q=!0)}while((ve.avail_in>0||ve.avail_out===0)&&h!==d.Z_STREAM_END);return h===d.Z_STREAM_END&&(x=d.Z_FINISH),x===d.Z_FINISH?(h=e.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===d.Z_OK):x!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),ve.avail_out=0,!0)},c.prototype.onData=function(F){this.chunks.push(F)},c.prototype.onEnd=function(F){F===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},te.Inflate=c,te.inflate=Z,te.inflateRaw=function(F,_){return(_=_||{}).raw=!0,Z(F,_)},te.ungzip=Z},9187:function(We,te){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(d,b){return Object.prototype.hasOwnProperty.call(d,b)}te.assign=function(d){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var T=b.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var S in T)e(T,S)&&(d[S]=T[S])}}return d},te.shrinkBuf=function(d,b){return d.length===b?d:d.subarray?d.subarray(0,b):(d.length=b,d)};var w={arraySet:function(d,b,T,S,a){if(b.subarray&&d.subarray)d.set(b.subarray(T,T+S),a);else for(var c=0;c<S;c++)d[a+c]=b[T+c]},flattenChunks:function(d){var b,T,S,a,c,Z;for(S=0,b=0,T=d.length;b<T;b++)S+=d[b].length;for(Z=new Uint8Array(S),a=0,b=0,T=d.length;b<T;b++)c=d[b],Z.set(c,a),a+=c.length;return Z}},v={arraySet:function(d,b,T,S,a){for(var c=0;c<S;c++)d[a+c]=b[T+c]},flattenChunks:function(d){return[].concat.apply([],d)}};te.setTyped=function(d){d?(te.Buf8=Uint8Array,te.Buf16=Uint16Array,te.Buf32=Int32Array,te.assign(te,w)):(te.Buf8=Array,te.Buf16=Array,te.Buf32=Array,te.assign(te,v))},te.setTyped(t)},8592:function(We,te,t){var e=t(9187),w=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var d=new e.Buf8(256),b=0;b<256;b++)d[b]=b>=252?6:b>=248?5:b>=240?4:b>=224?3:b>=192?2:1;function T(S,a){if(a<65534&&(S.subarray&&v||!S.subarray&&w))return String.fromCharCode.apply(null,e.shrinkBuf(S,a));for(var c="",Z=0;Z<a;Z++)c+=String.fromCharCode(S[Z]);return c}d[254]=d[254]=1,te.string2buf=function(S){var a,c,Z,F,_,h=S.length,x=0;for(F=0;F<h;F++)(64512&(c=S.charCodeAt(F)))==55296&&F+1<h&&(64512&(Z=S.charCodeAt(F+1)))==56320&&(c=65536+(c-55296<<10)+(Z-56320),F++),x+=c<128?1:c<2048?2:c<65536?3:4;for(a=new e.Buf8(x),_=0,F=0;_<x;F++)(64512&(c=S.charCodeAt(F)))==55296&&F+1<h&&(64512&(Z=S.charCodeAt(F+1)))==56320&&(c=65536+(c-55296<<10)+(Z-56320),F++),c<128?a[_++]=c:c<2048?(a[_++]=192|c>>>6,a[_++]=128|63&c):c<65536?(a[_++]=224|c>>>12,a[_++]=128|c>>>6&63,a[_++]=128|63&c):(a[_++]=240|c>>>18,a[_++]=128|c>>>12&63,a[_++]=128|c>>>6&63,a[_++]=128|63&c);return a},te.buf2binstring=function(S){return T(S,S.length)},te.binstring2buf=function(S){for(var a=new e.Buf8(S.length),c=0,Z=a.length;c<Z;c++)a[c]=S.charCodeAt(c);return a},te.buf2string=function(S,a){var c,Z,F,_,h=a||S.length,x=new Array(2*h);for(Z=0,c=0;c<h;)if((F=S[c++])<128)x[Z++]=F;else if((_=d[F])>4)x[Z++]=65533,c+=_-1;else{for(F&=_===2?31:_===3?15:7;_>1&&c<h;)F=F<<6|63&S[c++],_--;_>1?x[Z++]=65533:F<65536?x[Z++]=F:(F-=65536,x[Z++]=55296|F>>10&1023,x[Z++]=56320|1023&F)}return T(x,Z)},te.utf8border=function(S,a){var c;for((a=a||S.length)>S.length&&(a=S.length),c=a-1;c>=0&&(192&S[c])==128;)c--;return c<0||c===0?a:c+d[S[c]]>a?c:a}},3693:function(We){We.exports=function(te,t,e,w){for(var v=65535&te|0,d=te>>>16&65535|0,b=0;e!==0;){e-=b=e>2e3?2e3:e;do d=d+(v=v+t[w++]|0)|0;while(--b);v%=65521,d%=65521}return v|d<<16|0}},2684:function(We){We.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(We){var te=function(){for(var t,e=[],w=0;w<256;w++){t=w;for(var v=0;v<8;v++)t=1&t?3988292384^t>>>1:t>>>1;e[w]=t}return e}();We.exports=function(t,e,w,v){var d=te,b=v+w;t^=-1;for(var T=v;T<b;T++)t=t>>>8^d[255&(t^e[T])];return-1^t}},6193:function(We,te,t){var e,w=t(9187),v=t(8676),d=t(3693),b=t(8464),T=t(5604),S=-2,a=258,c=262,Z=103,F=113,_=666;function h(r,o){return r.msg=T[o],o}function x(r){return(r<<1)-(r>4?9:0)}function G(r){for(var o=r.length;--o>=0;)r[o]=0}function le(r){var o=r.state,g=o.pending;g>r.avail_out&&(g=r.avail_out),g!==0&&(w.arraySet(r.output,o.pending_buf,o.pending_out,g,r.next_out),r.next_out+=g,o.pending_out+=g,r.total_out+=g,r.avail_out-=g,o.pending-=g,o.pending===0&&(o.pending_out=0))}function he(r,o){v._tr_flush_block(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,o),r.block_start=r.strstart,le(r.strm)}function ve(r,o){r.pending_buf[r.pending++]=o}function fe(r,o){r.pending_buf[r.pending++]=o>>>8&255,r.pending_buf[r.pending++]=255&o}function X(r,o){var g,s,u=r.max_chain_length,k=r.strstart,N=r.prev_length,W=r.nice_match,O=r.strstart>r.w_size-c?r.strstart-(r.w_size-c):0,j=r.window,L=r.w_mask,V=r.prev,ie=r.strstart+a,se=j[k+N-1],ue=j[k+N];r.prev_length>=r.good_match&&(u>>=2),W>r.lookahead&&(W=r.lookahead);do if(j[(g=o)+N]===ue&&j[g+N-1]===se&&j[g]===j[k]&&j[++g]===j[k+1]){k+=2,g++;do;while(j[++k]===j[++g]&&j[++k]===j[++g]&&j[++k]===j[++g]&&j[++k]===j[++g]&&j[++k]===j[++g]&&j[++k]===j[++g]&&j[++k]===j[++g]&&j[++k]===j[++g]&&k<ie);if(s=a-(ie-k),k=ie-a,s>N){if(r.match_start=o,N=s,s>=W)break;se=j[k+N-1],ue=j[k+N]}}while((o=V[o&L])>O&&--u!=0);return N<=r.lookahead?N:r.lookahead}function q(r){var o,g,s,u,k,N,W,O,j,L,V=r.w_size;do{if(u=r.window_size-r.lookahead-r.strstart,r.strstart>=V+(V-c)){w.arraySet(r.window,r.window,V,V,0),r.match_start-=V,r.strstart-=V,r.block_start-=V,o=g=r.hash_size;do s=r.head[--o],r.head[o]=s>=V?s-V:0;while(--g);o=g=V;do s=r.prev[--o],r.prev[o]=s>=V?s-V:0;while(--g);u+=V}if(r.strm.avail_in===0)break;if(N=r.strm,W=r.window,O=r.strstart+r.lookahead,j=u,L=void 0,(L=N.avail_in)>j&&(L=j),g=L===0?0:(N.avail_in-=L,w.arraySet(W,N.input,N.next_in,L,O),N.state.wrap===1?N.adler=d(N.adler,W,L,O):N.state.wrap===2&&(N.adler=b(N.adler,W,L,O)),N.next_in+=L,N.total_in+=L,L),r.lookahead+=g,r.lookahead+r.insert>=3)for(k=r.strstart-r.insert,r.ins_h=r.window[k],r.ins_h=(r.ins_h<<r.hash_shift^r.window[k+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[k+3-1])&r.hash_mask,r.prev[k&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=k,k++,r.insert--,!(r.lookahead+r.insert<3)););}while(r.lookahead<c&&r.strm.avail_in!==0)}function U(r,o){for(var g,s;;){if(r.lookahead<c){if(q(r),r.lookahead<c&&o===0)return 1;if(r.lookahead===0)break}if(g=0,r.lookahead>=3&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,g=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),g!==0&&r.strstart-g<=r.w_size-c&&(r.match_length=X(r,g)),r.match_length>=3)if(s=v._tr_tally(r,r.strstart-r.match_start,r.match_length-3),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=3){r.match_length--;do r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,g=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!=0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else s=v._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(s&&(he(r,!1),r.strm.avail_out===0))return 1}return r.insert=r.strstart<2?r.strstart:2,o===4?(he(r,!0),r.strm.avail_out===0?3:4):r.last_lit&&(he(r,!1),r.strm.avail_out===0)?1:2}function R(r,o){for(var g,s,u;;){if(r.lookahead<c){if(q(r),r.lookahead<c&&o===0)return 1;if(r.lookahead===0)break}if(g=0,r.lookahead>=3&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,g=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=2,g!==0&&r.prev_length<r.max_lazy_match&&r.strstart-g<=r.w_size-c&&(r.match_length=X(r,g),r.match_length<=5&&(r.strategy===1||r.match_length===3&&r.strstart-r.match_start>4096)&&(r.match_length=2)),r.prev_length>=3&&r.match_length<=r.prev_length){u=r.strstart+r.lookahead-3,s=v._tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-3),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=u&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,g=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!=0);if(r.match_available=0,r.match_length=2,r.strstart++,s&&(he(r,!1),r.strm.avail_out===0))return 1}else if(r.match_available){if((s=v._tr_tally(r,0,r.window[r.strstart-1]))&&he(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return 1}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(s=v._tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<2?r.strstart:2,o===4?(he(r,!0),r.strm.avail_out===0?3:4):r.last_lit&&(he(r,!1),r.strm.avail_out===0)?1:2}function B(r,o,g,s,u){this.good_length=r,this.max_lazy=o,this.nice_length=g,this.max_chain=s,this.func=u}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(1146),this.dyn_dtree=new w.Buf16(122),this.bl_tree=new w.Buf16(78),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(16),this.heap=new w.Buf16(573),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(573),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function I(r){var o;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=2,(o=r.state).pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap?42:F,r.adler=o.wrap===2?0:1,o.last_flush=0,v._tr_init(o),0):h(r,S)}function E(r){var o,g=I(r);return g===0&&((o=r.state).window_size=2*o.w_size,G(o.head),o.max_lazy_match=e[o.level].max_lazy,o.good_match=e[o.level].good_length,o.nice_match=e[o.level].nice_length,o.max_chain_length=e[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=2,o.match_available=0,o.ins_h=0),g}function p(r,o,g,s,u,k){if(!r)return S;var N=1;if(o===-1&&(o=6),s<0?(N=0,s=-s):s>15&&(N=2,s-=16),u<1||u>9||g!==8||s<8||s>15||o<0||o>9||k<0||k>4)return h(r,S);s===8&&(s=9);var W=new M;return r.state=W,W.strm=r,W.wrap=N,W.gzhead=null,W.w_bits=s,W.w_size=1<<W.w_bits,W.w_mask=W.w_size-1,W.hash_bits=u+7,W.hash_size=1<<W.hash_bits,W.hash_mask=W.hash_size-1,W.hash_shift=~~((W.hash_bits+3-1)/3),W.window=new w.Buf8(2*W.w_size),W.head=new w.Buf16(W.hash_size),W.prev=new w.Buf16(W.w_size),W.lit_bufsize=1<<u+6,W.pending_buf_size=4*W.lit_bufsize,W.pending_buf=new w.Buf8(W.pending_buf_size),W.d_buf=1*W.lit_bufsize,W.l_buf=3*W.lit_bufsize,W.level=o,W.strategy=k,W.method=g,E(r)}e=[new B(0,0,0,0,function(r,o){var g=65535;for(g>r.pending_buf_size-5&&(g=r.pending_buf_size-5);;){if(r.lookahead<=1){if(q(r),r.lookahead===0&&o===0)return 1;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var s=r.block_start+g;if((r.strstart===0||r.strstart>=s)&&(r.lookahead=r.strstart-s,r.strstart=s,he(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-c&&(he(r,!1),r.strm.avail_out===0))return 1}return r.insert=0,o===4?(he(r,!0),r.strm.avail_out===0?3:4):(r.strstart>r.block_start&&(he(r,!1),r.strm.avail_out),1)}),new B(4,4,8,4,U),new B(4,5,16,8,U),new B(4,6,32,32,U),new B(4,4,16,16,R),new B(8,16,32,32,R),new B(8,16,128,128,R),new B(8,32,128,256,R),new B(32,128,258,1024,R),new B(32,258,258,4096,R)],te.deflateInit=function(r,o){return p(r,o,8,15,8,0)},te.deflateInit2=p,te.deflateReset=E,te.deflateResetKeep=I,te.deflateSetHeader=function(r,o){return r&&r.state?r.state.wrap!==2?S:(r.state.gzhead=o,0):S},te.deflate=function(r,o){var g,s,u,k;if(!r||!r.state||o>5||o<0)return r?h(r,S):S;if(s=r.state,!r.output||!r.input&&r.avail_in!==0||s.status===_&&o!==4)return h(r,r.avail_out===0?-5:S);if(s.strm=r,g=s.last_flush,s.last_flush=o,s.status===42)if(s.wrap===2)r.adler=0,ve(s,31),ve(s,139),ve(s,8),s.gzhead?(ve(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),ve(s,255&s.gzhead.time),ve(s,s.gzhead.time>>8&255),ve(s,s.gzhead.time>>16&255),ve(s,s.gzhead.time>>24&255),ve(s,s.level===9?2:s.strategy>=2||s.level<2?4:0),ve(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(ve(s,255&s.gzhead.extra.length),ve(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(r.adler=b(r.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(ve(s,0),ve(s,0),ve(s,0),ve(s,0),ve(s,0),ve(s,s.level===9?2:s.strategy>=2||s.level<2?4:0),ve(s,3),s.status=F);else{var N=8+(s.w_bits-8<<4)<<8;N|=(s.strategy>=2||s.level<2?0:s.level<6?1:s.level===6?2:3)<<6,s.strstart!==0&&(N|=32),N+=31-N%31,s.status=F,fe(s,N),s.strstart!==0&&(fe(s,r.adler>>>16),fe(s,65535&r.adler)),r.adler=1}if(s.status===69)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(r.adler=b(r.adler,s.pending_buf,s.pending-u,u)),le(r),u=s.pending,s.pending!==s.pending_buf_size));)ve(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(r.adler=b(r.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(s.status===73)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(r.adler=b(r.adler,s.pending_buf,s.pending-u,u)),le(r),u=s.pending,s.pending===s.pending_buf_size)){k=1;break}k=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,ve(s,k)}while(k!==0);s.gzhead.hcrc&&s.pending>u&&(r.adler=b(r.adler,s.pending_buf,s.pending-u,u)),k===0&&(s.gzindex=0,s.status=91)}else s.status=91;if(s.status===91)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(r.adler=b(r.adler,s.pending_buf,s.pending-u,u)),le(r),u=s.pending,s.pending===s.pending_buf_size)){k=1;break}k=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,ve(s,k)}while(k!==0);s.gzhead.hcrc&&s.pending>u&&(r.adler=b(r.adler,s.pending_buf,s.pending-u,u)),k===0&&(s.status=Z)}else s.status=Z;if(s.status===Z&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&le(r),s.pending+2<=s.pending_buf_size&&(ve(s,255&r.adler),ve(s,r.adler>>8&255),r.adler=0,s.status=F)):s.status=F),s.pending!==0){if(le(r),r.avail_out===0)return s.last_flush=-1,0}else if(r.avail_in===0&&x(o)<=x(g)&&o!==4)return h(r,-5);if(s.status===_&&r.avail_in!==0)return h(r,-5);if(r.avail_in!==0||s.lookahead!==0||o!==0&&s.status!==_){var W=s.strategy===2?function(O,j){for(var L;;){if(O.lookahead===0&&(q(O),O.lookahead===0)){if(j===0)return 1;break}if(O.match_length=0,L=v._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++,L&&(he(O,!1),O.strm.avail_out===0))return 1}return O.insert=0,j===4?(he(O,!0),O.strm.avail_out===0?3:4):O.last_lit&&(he(O,!1),O.strm.avail_out===0)?1:2}(s,o):s.strategy===3?function(O,j){for(var L,V,ie,se,ue=O.window;;){if(O.lookahead<=a){if(q(O),O.lookahead<=a&&j===0)return 1;if(O.lookahead===0)break}if(O.match_length=0,O.lookahead>=3&&O.strstart>0&&(V=ue[ie=O.strstart-1])===ue[++ie]&&V===ue[++ie]&&V===ue[++ie]){se=O.strstart+a;do;while(V===ue[++ie]&&V===ue[++ie]&&V===ue[++ie]&&V===ue[++ie]&&V===ue[++ie]&&V===ue[++ie]&&V===ue[++ie]&&V===ue[++ie]&&ie<se);O.match_length=a-(se-ie),O.match_length>O.lookahead&&(O.match_length=O.lookahead)}if(O.match_length>=3?(L=v._tr_tally(O,1,O.match_length-3),O.lookahead-=O.match_length,O.strstart+=O.match_length,O.match_length=0):(L=v._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++),L&&(he(O,!1),O.strm.avail_out===0))return 1}return O.insert=0,j===4?(he(O,!0),O.strm.avail_out===0?3:4):O.last_lit&&(he(O,!1),O.strm.avail_out===0)?1:2}(s,o):e[s.level].func(s,o);if(W!==3&&W!==4||(s.status=_),W===1||W===3)return r.avail_out===0&&(s.last_flush=-1),0;if(W===2&&(o===1?v._tr_align(s):o!==5&&(v._tr_stored_block(s,0,0,!1),o===3&&(G(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),le(r),r.avail_out===0))return s.last_flush=-1,0}return o!==4?0:s.wrap<=0?1:(s.wrap===2?(ve(s,255&r.adler),ve(s,r.adler>>8&255),ve(s,r.adler>>16&255),ve(s,r.adler>>24&255),ve(s,255&r.total_in),ve(s,r.total_in>>8&255),ve(s,r.total_in>>16&255),ve(s,r.total_in>>24&255)):(fe(s,r.adler>>>16),fe(s,65535&r.adler)),le(r),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?0:1)},te.deflateEnd=function(r){var o;return r&&r.state?(o=r.state.status)!==42&&o!==69&&o!==73&&o!==91&&o!==Z&&o!==F&&o!==_?h(r,S):(r.state=null,o===F?h(r,-3):0):S},te.deflateSetDictionary=function(r,o){var g,s,u,k,N,W,O,j,L=o.length;if(!r||!r.state||(k=(g=r.state).wrap)===2||k===1&&g.status!==42||g.lookahead)return S;for(k===1&&(r.adler=d(r.adler,o,L,0)),g.wrap=0,L>=g.w_size&&(k===0&&(G(g.head),g.strstart=0,g.block_start=0,g.insert=0),j=new w.Buf8(g.w_size),w.arraySet(j,o,L-g.w_size,g.w_size,0),o=j,L=g.w_size),N=r.avail_in,W=r.next_in,O=r.input,r.avail_in=L,r.next_in=0,r.input=o,q(g);g.lookahead>=3;){s=g.strstart,u=g.lookahead-2;do g.ins_h=(g.ins_h<<g.hash_shift^g.window[s+3-1])&g.hash_mask,g.prev[s&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=s,s++;while(--u);g.strstart=s,g.lookahead=2,q(g)}return g.strstart+=g.lookahead,g.block_start=g.strstart,g.insert=g.lookahead,g.lookahead=0,g.match_length=g.prev_length=2,g.match_available=0,r.next_in=W,r.input=O,r.avail_in=N,g.wrap=k,0},te.deflateInfo="pako deflate (from Nodeca project)"},9968:function(We){We.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(We){We.exports=function(te,t){var e,w,v,d,b,T,S,a,c,Z,F,_,h,x,G,le,he,ve,fe,X,q,U,R,B,M;e=te.state,w=te.next_in,B=te.input,v=w+(te.avail_in-5),d=te.next_out,M=te.output,b=d-(t-te.avail_out),T=d+(te.avail_out-257),S=e.dmax,a=e.wsize,c=e.whave,Z=e.wnext,F=e.window,_=e.hold,h=e.bits,x=e.lencode,G=e.distcode,le=(1<<e.lenbits)-1,he=(1<<e.distbits)-1;e:do{h<15&&(_+=B[w++]<<h,h+=8,_+=B[w++]<<h,h+=8),ve=x[_&le];t:for(;;){if(_>>>=fe=ve>>>24,h-=fe,(fe=ve>>>16&255)===0)M[d++]=65535&ve;else{if(!(16&fe)){if((64&fe)==0){ve=x[(65535&ve)+(_&(1<<fe)-1)];continue t}if(32&fe){e.mode=12;break e}te.msg="invalid literal/length code",e.mode=30;break e}X=65535&ve,(fe&=15)&&(h<fe&&(_+=B[w++]<<h,h+=8),X+=_&(1<<fe)-1,_>>>=fe,h-=fe),h<15&&(_+=B[w++]<<h,h+=8,_+=B[w++]<<h,h+=8),ve=G[_&he];n:for(;;){if(_>>>=fe=ve>>>24,h-=fe,!(16&(fe=ve>>>16&255))){if((64&fe)==0){ve=G[(65535&ve)+(_&(1<<fe)-1)];continue n}te.msg="invalid distance code",e.mode=30;break e}if(q=65535&ve,h<(fe&=15)&&(_+=B[w++]<<h,(h+=8)<fe&&(_+=B[w++]<<h,h+=8)),(q+=_&(1<<fe)-1)>S){te.msg="invalid distance too far back",e.mode=30;break e}if(_>>>=fe,h-=fe,q>(fe=d-b)){if((fe=q-fe)>c&&e.sane){te.msg="invalid distance too far back",e.mode=30;break e}if(U=0,R=F,Z===0){if(U+=a-fe,fe<X){X-=fe;do M[d++]=F[U++];while(--fe);U=d-q,R=M}}else if(Z<fe){if(U+=a+Z-fe,(fe-=Z)<X){X-=fe;do M[d++]=F[U++];while(--fe);if(U=0,Z<X){X-=fe=Z;do M[d++]=F[U++];while(--fe);U=d-q,R=M}}}else if(U+=Z-fe,fe<X){X-=fe;do M[d++]=F[U++];while(--fe);U=d-q,R=M}for(;X>2;)M[d++]=R[U++],M[d++]=R[U++],M[d++]=R[U++],X-=3;X&&(M[d++]=R[U++],X>1&&(M[d++]=R[U++]))}else{U=d-q;do M[d++]=M[U++],M[d++]=M[U++],M[d++]=M[U++],X-=3;while(X>2);X&&(M[d++]=M[U++],X>1&&(M[d++]=M[U++]))}break}}break}}while(w<v&&d<T);w-=X=h>>3,_&=(1<<(h-=X<<3))-1,te.next_in=w,te.next_out=d,te.avail_in=w<v?v-w+5:5-(w-v),te.avail_out=d<T?T-d+257:257-(d-T),e.hold=_,e.bits=h}},7823:function(We,te,t){var e=t(9187),w=t(3693),v=t(8464),d=t(9365),b=t(6446),T=-2,S=12,a=30;function c(X){return(X>>>24&255)+(X>>>8&65280)+((65280&X)<<8)+((255&X)<<24)}function Z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function F(X){var q;return X&&X.state?(q=X.state,X.total_in=X.total_out=q.total=0,X.msg="",q.wrap&&(X.adler=1&q.wrap),q.mode=1,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new e.Buf32(852),q.distcode=q.distdyn=new e.Buf32(592),q.sane=1,q.back=-1,0):T}function _(X){var q;return X&&X.state?((q=X.state).wsize=0,q.whave=0,q.wnext=0,F(X)):T}function h(X,q){var U,R;return X&&X.state?(R=X.state,q<0?(U=0,q=-q):(U=1+(q>>4),q<48&&(q&=15)),q&&(q<8||q>15)?T:(R.window!==null&&R.wbits!==q&&(R.window=null),R.wrap=U,R.wbits=q,_(X))):T}function x(X,q){var U,R;return X?(R=new Z,X.state=R,R.window=null,(U=h(X,q))!==0&&(X.state=null),U):T}var G,le,he=!0;function ve(X){if(he){var q;for(G=new e.Buf32(512),le=new e.Buf32(32),q=0;q<144;)X.lens[q++]=8;for(;q<256;)X.lens[q++]=9;for(;q<280;)X.lens[q++]=7;for(;q<288;)X.lens[q++]=8;for(b(1,X.lens,0,288,G,0,X.work,{bits:9}),q=0;q<32;)X.lens[q++]=5;b(2,X.lens,0,32,le,0,X.work,{bits:5}),he=!1}X.lencode=G,X.lenbits=9,X.distcode=le,X.distbits=5}function fe(X,q,U,R){var B,M=X.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new e.Buf8(M.wsize)),R>=M.wsize?(e.arraySet(M.window,q,U-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):((B=M.wsize-M.wnext)>R&&(B=R),e.arraySet(M.window,q,U-R,B,M.wnext),(R-=B)?(e.arraySet(M.window,q,U-R,R,0),M.wnext=R,M.whave=M.wsize):(M.wnext+=B,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=B))),0}te.inflateReset=_,te.inflateReset2=h,te.inflateResetKeep=F,te.inflateInit=function(X){return x(X,15)},te.inflateInit2=x,te.inflate=function(X,q){var U,R,B,M,I,E,p,r,o,g,s,u,k,N,W,O,j,L,V,ie,se,ue,pe,Q,ee=0,me=new e.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!X||!X.state||!X.output||!X.input&&X.avail_in!==0)return T;(U=X.state).mode===S&&(U.mode=13),I=X.next_out,B=X.output,p=X.avail_out,M=X.next_in,R=X.input,E=X.avail_in,r=U.hold,o=U.bits,g=E,s=p,ue=0;e:for(;;)switch(U.mode){case 1:if(U.wrap===0){U.mode=13;break}for(;o<16;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}if(2&U.wrap&&r===35615){U.check=0,me[0]=255&r,me[1]=r>>>8&255,U.check=v(U.check,me,2,0),r=0,o=0,U.mode=2;break}if(U.flags=0,U.head&&(U.head.done=!1),!(1&U.wrap)||(((255&r)<<8)+(r>>8))%31){X.msg="incorrect header check",U.mode=a;break}if((15&r)!=8){X.msg="unknown compression method",U.mode=a;break}if(o-=4,se=8+(15&(r>>>=4)),U.wbits===0)U.wbits=se;else if(se>U.wbits){X.msg="invalid window size",U.mode=a;break}U.dmax=1<<se,X.adler=U.check=1,U.mode=512&r?10:S,r=0,o=0;break;case 2:for(;o<16;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}if(U.flags=r,(255&U.flags)!=8){X.msg="unknown compression method",U.mode=a;break}if(57344&U.flags){X.msg="unknown header flags set",U.mode=a;break}U.head&&(U.head.text=r>>8&1),512&U.flags&&(me[0]=255&r,me[1]=r>>>8&255,U.check=v(U.check,me,2,0)),r=0,o=0,U.mode=3;case 3:for(;o<32;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}U.head&&(U.head.time=r),512&U.flags&&(me[0]=255&r,me[1]=r>>>8&255,me[2]=r>>>16&255,me[3]=r>>>24&255,U.check=v(U.check,me,4,0)),r=0,o=0,U.mode=4;case 4:for(;o<16;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}U.head&&(U.head.xflags=255&r,U.head.os=r>>8),512&U.flags&&(me[0]=255&r,me[1]=r>>>8&255,U.check=v(U.check,me,2,0)),r=0,o=0,U.mode=5;case 5:if(1024&U.flags){for(;o<16;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}U.length=r,U.head&&(U.head.extra_len=r),512&U.flags&&(me[0]=255&r,me[1]=r>>>8&255,U.check=v(U.check,me,2,0)),r=0,o=0}else U.head&&(U.head.extra=null);U.mode=6;case 6:if(1024&U.flags&&((u=U.length)>E&&(u=E),u&&(U.head&&(se=U.head.extra_len-U.length,U.head.extra||(U.head.extra=new Array(U.head.extra_len)),e.arraySet(U.head.extra,R,M,u,se)),512&U.flags&&(U.check=v(U.check,R,u,M)),E-=u,M+=u,U.length-=u),U.length))break e;U.length=0,U.mode=7;case 7:if(2048&U.flags){if(E===0)break e;u=0;do se=R[M+u++],U.head&&se&&U.length<65536&&(U.head.name+=String.fromCharCode(se));while(se&&u<E);if(512&U.flags&&(U.check=v(U.check,R,u,M)),E-=u,M+=u,se)break e}else U.head&&(U.head.name=null);U.length=0,U.mode=8;case 8:if(4096&U.flags){if(E===0)break e;u=0;do se=R[M+u++],U.head&&se&&U.length<65536&&(U.head.comment+=String.fromCharCode(se));while(se&&u<E);if(512&U.flags&&(U.check=v(U.check,R,u,M)),E-=u,M+=u,se)break e}else U.head&&(U.head.comment=null);U.mode=9;case 9:if(512&U.flags){for(;o<16;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}if(r!==(65535&U.check)){X.msg="header crc mismatch",U.mode=a;break}r=0,o=0}U.head&&(U.head.hcrc=U.flags>>9&1,U.head.done=!0),X.adler=U.check=0,U.mode=S;break;case 10:for(;o<32;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}X.adler=U.check=c(r),r=0,o=0,U.mode=11;case 11:if(U.havedict===0)return X.next_out=I,X.avail_out=p,X.next_in=M,X.avail_in=E,U.hold=r,U.bits=o,2;X.adler=U.check=1,U.mode=S;case S:if(q===5||q===6)break e;case 13:if(U.last){r>>>=7&o,o-=7&o,U.mode=27;break}for(;o<3;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}switch(U.last=1&r,o-=1,3&(r>>>=1)){case 0:U.mode=14;break;case 1:if(ve(U),U.mode=20,q===6){r>>>=2,o-=2;break e}break;case 2:U.mode=17;break;case 3:X.msg="invalid block type",U.mode=a}r>>>=2,o-=2;break;case 14:for(r>>>=7&o,o-=7&o;o<32;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}if((65535&r)!=(r>>>16^65535)){X.msg="invalid stored block lengths",U.mode=a;break}if(U.length=65535&r,r=0,o=0,U.mode=15,q===6)break e;case 15:U.mode=16;case 16:if(u=U.length){if(u>E&&(u=E),u>p&&(u=p),u===0)break e;e.arraySet(B,R,M,u,I),E-=u,M+=u,p-=u,I+=u,U.length-=u;break}U.mode=S;break;case 17:for(;o<14;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}if(U.nlen=257+(31&r),r>>>=5,o-=5,U.ndist=1+(31&r),r>>>=5,o-=5,U.ncode=4+(15&r),r>>>=4,o-=4,U.nlen>286||U.ndist>30){X.msg="too many length or distance symbols",U.mode=a;break}U.have=0,U.mode=18;case 18:for(;U.have<U.ncode;){for(;o<3;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}U.lens[Te[U.have++]]=7&r,r>>>=3,o-=3}for(;U.have<19;)U.lens[Te[U.have++]]=0;if(U.lencode=U.lendyn,U.lenbits=7,pe={bits:U.lenbits},ue=b(0,U.lens,0,19,U.lencode,0,U.work,pe),U.lenbits=pe.bits,ue){X.msg="invalid code lengths set",U.mode=a;break}U.have=0,U.mode=19;case 19:for(;U.have<U.nlen+U.ndist;){for(;O=(ee=U.lencode[r&(1<<U.lenbits)-1])>>>16&255,j=65535&ee,!((W=ee>>>24)<=o);){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}if(j<16)r>>>=W,o-=W,U.lens[U.have++]=j;else{if(j===16){for(Q=W+2;o<Q;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}if(r>>>=W,o-=W,U.have===0){X.msg="invalid bit length repeat",U.mode=a;break}se=U.lens[U.have-1],u=3+(3&r),r>>>=2,o-=2}else if(j===17){for(Q=W+3;o<Q;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}o-=W,se=0,u=3+(7&(r>>>=W)),r>>>=3,o-=3}else{for(Q=W+7;o<Q;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}o-=W,se=0,u=11+(127&(r>>>=W)),r>>>=7,o-=7}if(U.have+u>U.nlen+U.ndist){X.msg="invalid bit length repeat",U.mode=a;break}for(;u--;)U.lens[U.have++]=se}}if(U.mode===a)break;if(U.lens[256]===0){X.msg="invalid code -- missing end-of-block",U.mode=a;break}if(U.lenbits=9,pe={bits:U.lenbits},ue=b(1,U.lens,0,U.nlen,U.lencode,0,U.work,pe),U.lenbits=pe.bits,ue){X.msg="invalid literal/lengths set",U.mode=a;break}if(U.distbits=6,U.distcode=U.distdyn,pe={bits:U.distbits},ue=b(2,U.lens,U.nlen,U.ndist,U.distcode,0,U.work,pe),U.distbits=pe.bits,ue){X.msg="invalid distances set",U.mode=a;break}if(U.mode=20,q===6)break e;case 20:U.mode=21;case 21:if(E>=6&&p>=258){X.next_out=I,X.avail_out=p,X.next_in=M,X.avail_in=E,U.hold=r,U.bits=o,d(X,s),I=X.next_out,B=X.output,p=X.avail_out,M=X.next_in,R=X.input,E=X.avail_in,r=U.hold,o=U.bits,U.mode===S&&(U.back=-1);break}for(U.back=0;O=(ee=U.lencode[r&(1<<U.lenbits)-1])>>>16&255,j=65535&ee,!((W=ee>>>24)<=o);){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}if(O&&(240&O)==0){for(L=W,V=O,ie=j;O=(ee=U.lencode[ie+((r&(1<<L+V)-1)>>L)])>>>16&255,j=65535&ee,!(L+(W=ee>>>24)<=o);){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}r>>>=L,o-=L,U.back+=L}if(r>>>=W,o-=W,U.back+=W,U.length=j,O===0){U.mode=26;break}if(32&O){U.back=-1,U.mode=S;break}if(64&O){X.msg="invalid literal/length code",U.mode=a;break}U.extra=15&O,U.mode=22;case 22:if(U.extra){for(Q=U.extra;o<Q;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}U.length+=r&(1<<U.extra)-1,r>>>=U.extra,o-=U.extra,U.back+=U.extra}U.was=U.length,U.mode=23;case 23:for(;O=(ee=U.distcode[r&(1<<U.distbits)-1])>>>16&255,j=65535&ee,!((W=ee>>>24)<=o);){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}if((240&O)==0){for(L=W,V=O,ie=j;O=(ee=U.distcode[ie+((r&(1<<L+V)-1)>>L)])>>>16&255,j=65535&ee,!(L+(W=ee>>>24)<=o);){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}r>>>=L,o-=L,U.back+=L}if(r>>>=W,o-=W,U.back+=W,64&O){X.msg="invalid distance code",U.mode=a;break}U.offset=j,U.extra=15&O,U.mode=24;case 24:if(U.extra){for(Q=U.extra;o<Q;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}U.offset+=r&(1<<U.extra)-1,r>>>=U.extra,o-=U.extra,U.back+=U.extra}if(U.offset>U.dmax){X.msg="invalid distance too far back",U.mode=a;break}U.mode=25;case 25:if(p===0)break e;if(u=s-p,U.offset>u){if((u=U.offset-u)>U.whave&&U.sane){X.msg="invalid distance too far back",U.mode=a;break}u>U.wnext?(u-=U.wnext,k=U.wsize-u):k=U.wnext-u,u>U.length&&(u=U.length),N=U.window}else N=B,k=I-U.offset,u=U.length;u>p&&(u=p),p-=u,U.length-=u;do B[I++]=N[k++];while(--u);U.length===0&&(U.mode=21);break;case 26:if(p===0)break e;B[I++]=U.length,p--,U.mode=21;break;case 27:if(U.wrap){for(;o<32;){if(E===0)break e;E--,r|=R[M++]<<o,o+=8}if(s-=p,X.total_out+=s,U.total+=s,s&&(X.adler=U.check=U.flags?v(U.check,B,s,I-s):w(U.check,B,s,I-s)),s=p,(U.flags?r:c(r))!==U.check){X.msg="incorrect data check",U.mode=a;break}r=0,o=0}U.mode=28;case 28:if(U.wrap&&U.flags){for(;o<32;){if(E===0)break e;E--,r+=R[M++]<<o,o+=8}if(r!==(4294967295&U.total)){X.msg="incorrect length check",U.mode=a;break}r=0,o=0}U.mode=29;case 29:ue=1;break e;case a:ue=-3;break e;case 31:return-4;default:return T}return X.next_out=I,X.avail_out=p,X.next_in=M,X.avail_in=E,U.hold=r,U.bits=o,(U.wsize||s!==X.avail_out&&U.mode<a&&(U.mode<27||q!==4))&&fe(X,X.output,X.next_out,s-X.avail_out)?(U.mode=31,-4):(g-=X.avail_in,s-=X.avail_out,X.total_in+=g,X.total_out+=s,U.total+=s,U.wrap&&s&&(X.adler=U.check=U.flags?v(U.check,B,s,X.next_out-s):w(U.check,B,s,X.next_out-s)),X.data_type=U.bits+(U.last?64:0)+(U.mode===S?128:0)+(U.mode===20||U.mode===15?256:0),(g===0&&s===0||q===4)&&ue===0&&(ue=-5),ue)},te.inflateEnd=function(X){if(!X||!X.state)return T;var q=X.state;return q.window&&(q.window=null),X.state=null,0},te.inflateGetHeader=function(X,q){var U;return X&&X.state?(2&(U=X.state).wrap)==0?T:(U.head=q,q.done=!1,0):T},te.inflateSetDictionary=function(X,q){var U,R=q.length;return X&&X.state?(U=X.state).wrap!==0&&U.mode!==11?T:U.mode===11&&w(1,q,R,0)!==U.check?-3:fe(X,q,R,R)?(U.mode=31,-4):(U.havedict=1,0):T},te.inflateInfo="pako inflate (from Nodeca project)"},6446:function(We,te,t){var e=t(9187),w=15,v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];We.exports=function(S,a,c,Z,F,_,h,x){var G,le,he,ve,fe,X,q,U,R,B=x.bits,M=0,I=0,E=0,p=0,r=0,o=0,g=0,s=0,u=0,k=0,N=null,W=0,O=new e.Buf16(16),j=new e.Buf16(16),L=null,V=0;for(M=0;M<=w;M++)O[M]=0;for(I=0;I<Z;I++)O[a[c+I]]++;for(r=B,p=w;p>=1&&O[p]===0;p--);if(r>p&&(r=p),p===0)return F[_++]=20971520,F[_++]=20971520,x.bits=1,0;for(E=1;E<p&&O[E]===0;E++);for(r<E&&(r=E),s=1,M=1;M<=w;M++)if(s<<=1,(s-=O[M])<0)return-1;if(s>0&&(S===0||p!==1))return-1;for(j[1]=0,M=1;M<w;M++)j[M+1]=j[M]+O[M];for(I=0;I<Z;I++)a[c+I]!==0&&(h[j[a[c+I]]++]=I);if(S===0?(N=L=h,X=19):S===1?(N=v,W-=257,L=d,V-=257,X=256):(N=b,L=T,X=-1),k=0,I=0,M=E,fe=_,o=r,g=0,he=-1,ve=(u=1<<r)-1,S===1&&u>852||S===2&&u>592)return 1;for(;;){q=M-g,h[I]<X?(U=0,R=h[I]):h[I]>X?(U=L[V+h[I]],R=N[W+h[I]]):(U=96,R=0),G=1<<M-g,E=le=1<<o;do F[fe+(k>>g)+(le-=G)]=q<<24|U<<16|R|0;while(le!==0);for(G=1<<M-1;k&G;)G>>=1;if(G!==0?(k&=G-1,k+=G):k=0,I++,--O[M]==0){if(M===p)break;M=a[c+h[I]]}if(M>r&&(k&ve)!==he){for(g===0&&(g=r),fe+=E,s=1<<(o=M-g);o+g<p&&!((s-=O[o+g])<=0);)o++,s<<=1;if(u+=1<<o,S===1&&u>852||S===2&&u>592)return 1;F[he=k&ve]=r<<24|o<<16|fe-_|0}}return k!==0&&(F[fe+k]=M-g<<24|4194304|0),x.bits=r,0}},5604:function(We){We.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(We,te,t){var e=t(9187);function w(j){for(var L=j.length;--L>=0;)j[L]=0}var v=256,d=286,b=30,T=15,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(576);w(F);var _=new Array(60);w(_);var h=new Array(512);w(h);var x=new Array(256);w(x);var G=new Array(29);w(G);var le,he,ve,fe=new Array(b);function X(j,L,V,ie,se){this.static_tree=j,this.extra_bits=L,this.extra_base=V,this.elems=ie,this.max_length=se,this.has_stree=j&&j.length}function q(j,L){this.dyn_tree=j,this.max_code=0,this.stat_desc=L}function U(j){return j<256?h[j]:h[256+(j>>>7)]}function R(j,L){j.pending_buf[j.pending++]=255&L,j.pending_buf[j.pending++]=L>>>8&255}function B(j,L,V){j.bi_valid>16-V?(j.bi_buf|=L<<j.bi_valid&65535,R(j,j.bi_buf),j.bi_buf=L>>16-j.bi_valid,j.bi_valid+=V-16):(j.bi_buf|=L<<j.bi_valid&65535,j.bi_valid+=V)}function M(j,L,V){B(j,V[2*L],V[2*L+1])}function I(j,L){var V=0;do V|=1&j,j>>>=1,V<<=1;while(--L>0);return V>>>1}function E(j,L,V){var ie,se,ue=new Array(16),pe=0;for(ie=1;ie<=T;ie++)ue[ie]=pe=pe+V[ie-1]<<1;for(se=0;se<=L;se++){var Q=j[2*se+1];Q!==0&&(j[2*se]=I(ue[Q]++,Q))}}function p(j){var L;for(L=0;L<d;L++)j.dyn_ltree[2*L]=0;for(L=0;L<b;L++)j.dyn_dtree[2*L]=0;for(L=0;L<19;L++)j.bl_tree[2*L]=0;j.dyn_ltree[512]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function r(j){j.bi_valid>8?R(j,j.bi_buf):j.bi_valid>0&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function o(j,L,V,ie){var se=2*L,ue=2*V;return j[se]<j[ue]||j[se]===j[ue]&&ie[L]<=ie[V]}function g(j,L,V){for(var ie=j.heap[V],se=V<<1;se<=j.heap_len&&(se<j.heap_len&&o(L,j.heap[se+1],j.heap[se],j.depth)&&se++,!o(L,ie,j.heap[se],j.depth));)j.heap[V]=j.heap[se],V=se,se<<=1;j.heap[V]=ie}function s(j,L,V){var ie,se,ue,pe,Q=0;if(j.last_lit!==0)do ie=j.pending_buf[j.d_buf+2*Q]<<8|j.pending_buf[j.d_buf+2*Q+1],se=j.pending_buf[j.l_buf+Q],Q++,ie===0?M(j,se,L):(M(j,(ue=x[se])+v+1,L),(pe=S[ue])!==0&&B(j,se-=G[ue],pe),M(j,ue=U(--ie),V),(pe=a[ue])!==0&&B(j,ie-=fe[ue],pe));while(Q<j.last_lit);M(j,256,L)}function u(j,L){var V,ie,se,ue=L.dyn_tree,pe=L.stat_desc.static_tree,Q=L.stat_desc.has_stree,ee=L.stat_desc.elems,me=-1;for(j.heap_len=0,j.heap_max=573,V=0;V<ee;V++)ue[2*V]!==0?(j.heap[++j.heap_len]=me=V,j.depth[V]=0):ue[2*V+1]=0;for(;j.heap_len<2;)ue[2*(se=j.heap[++j.heap_len]=me<2?++me:0)]=1,j.depth[se]=0,j.opt_len--,Q&&(j.static_len-=pe[2*se+1]);for(L.max_code=me,V=j.heap_len>>1;V>=1;V--)g(j,ue,V);se=ee;do V=j.heap[1],j.heap[1]=j.heap[j.heap_len--],g(j,ue,1),ie=j.heap[1],j.heap[--j.heap_max]=V,j.heap[--j.heap_max]=ie,ue[2*se]=ue[2*V]+ue[2*ie],j.depth[se]=(j.depth[V]>=j.depth[ie]?j.depth[V]:j.depth[ie])+1,ue[2*V+1]=ue[2*ie+1]=se,j.heap[1]=se++,g(j,ue,1);while(j.heap_len>=2);j.heap[--j.heap_max]=j.heap[1],function(Te,Ue){var qe,Ae,Oe,Ie,Re,ke,xe=Ue.dyn_tree,ye=Ue.max_code,P=Ue.stat_desc.static_tree,l=Ue.stat_desc.has_stree,f=Ue.stat_desc.extra_bits,D=Ue.stat_desc.extra_base,H=Ue.stat_desc.max_length,J=0;for(Ie=0;Ie<=T;Ie++)Te.bl_count[Ie]=0;for(xe[2*Te.heap[Te.heap_max]+1]=0,qe=Te.heap_max+1;qe<573;qe++)(Ie=xe[2*xe[2*(Ae=Te.heap[qe])+1]+1]+1)>H&&(Ie=H,J++),xe[2*Ae+1]=Ie,Ae>ye||(Te.bl_count[Ie]++,Re=0,Ae>=D&&(Re=f[Ae-D]),ke=xe[2*Ae],Te.opt_len+=ke*(Ie+Re),l&&(Te.static_len+=ke*(P[2*Ae+1]+Re)));if(J!==0){do{for(Ie=H-1;Te.bl_count[Ie]===0;)Ie--;Te.bl_count[Ie]--,Te.bl_count[Ie+1]+=2,Te.bl_count[H]--,J-=2}while(J>0);for(Ie=H;Ie!==0;Ie--)for(Ae=Te.bl_count[Ie];Ae!==0;)(Oe=Te.heap[--qe])>ye||(xe[2*Oe+1]!==Ie&&(Te.opt_len+=(Ie-xe[2*Oe+1])*xe[2*Oe],xe[2*Oe+1]=Ie),Ae--)}}(j,L),E(ue,me,j.bl_count)}function k(j,L,V){var ie,se,ue=-1,pe=L[1],Q=0,ee=7,me=4;for(pe===0&&(ee=138,me=3),L[2*(V+1)+1]=65535,ie=0;ie<=V;ie++)se=pe,pe=L[2*(ie+1)+1],++Q<ee&&se===pe||(Q<me?j.bl_tree[2*se]+=Q:se!==0?(se!==ue&&j.bl_tree[2*se]++,j.bl_tree[32]++):Q<=10?j.bl_tree[34]++:j.bl_tree[36]++,Q=0,ue=se,pe===0?(ee=138,me=3):se===pe?(ee=6,me=3):(ee=7,me=4))}function N(j,L,V){var ie,se,ue=-1,pe=L[1],Q=0,ee=7,me=4;for(pe===0&&(ee=138,me=3),ie=0;ie<=V;ie++)if(se=pe,pe=L[2*(ie+1)+1],!(++Q<ee&&se===pe)){if(Q<me)do M(j,se,j.bl_tree);while(--Q!=0);else se!==0?(se!==ue&&(M(j,se,j.bl_tree),Q--),M(j,16,j.bl_tree),B(j,Q-3,2)):Q<=10?(M(j,17,j.bl_tree),B(j,Q-3,3)):(M(j,18,j.bl_tree),B(j,Q-11,7));Q=0,ue=se,pe===0?(ee=138,me=3):se===pe?(ee=6,me=3):(ee=7,me=4)}}w(fe);var W=!1;function O(j,L,V,ie){B(j,0+(ie?1:0),3),function(se,ue,pe,Q){r(se),R(se,pe),R(se,~pe),e.arraySet(se.pending_buf,se.window,ue,pe,se.pending),se.pending+=pe}(j,L,V)}te._tr_init=function(j){W||(function(){var L,V,ie,se,ue,pe=new Array(16);for(ie=0,se=0;se<28;se++)for(G[se]=ie,L=0;L<1<<S[se];L++)x[ie++]=se;for(x[ie-1]=se,ue=0,se=0;se<16;se++)for(fe[se]=ue,L=0;L<1<<a[se];L++)h[ue++]=se;for(ue>>=7;se<b;se++)for(fe[se]=ue<<7,L=0;L<1<<a[se]-7;L++)h[256+ue++]=se;for(V=0;V<=T;V++)pe[V]=0;for(L=0;L<=143;)F[2*L+1]=8,L++,pe[8]++;for(;L<=255;)F[2*L+1]=9,L++,pe[9]++;for(;L<=279;)F[2*L+1]=7,L++,pe[7]++;for(;L<=287;)F[2*L+1]=8,L++,pe[8]++;for(E(F,287,pe),L=0;L<b;L++)_[2*L+1]=5,_[2*L]=I(L,5);le=new X(F,S,257,d,T),he=new X(_,a,0,b,T),ve=new X(new Array(0),c,0,19,7)}(),W=!0),j.l_desc=new q(j.dyn_ltree,le),j.d_desc=new q(j.dyn_dtree,he),j.bl_desc=new q(j.bl_tree,ve),j.bi_buf=0,j.bi_valid=0,p(j)},te._tr_stored_block=O,te._tr_flush_block=function(j,L,V,ie){var se,ue,pe=0;j.level>0?(j.strm.data_type===2&&(j.strm.data_type=function(Q){var ee,me=4093624447;for(ee=0;ee<=31;ee++,me>>>=1)if(1&me&&Q.dyn_ltree[2*ee]!==0)return 0;if(Q.dyn_ltree[18]!==0||Q.dyn_ltree[20]!==0||Q.dyn_ltree[26]!==0)return 1;for(ee=32;ee<v;ee++)if(Q.dyn_ltree[2*ee]!==0)return 1;return 0}(j)),u(j,j.l_desc),u(j,j.d_desc),pe=function(Q){var ee;for(k(Q,Q.dyn_ltree,Q.l_desc.max_code),k(Q,Q.dyn_dtree,Q.d_desc.max_code),u(Q,Q.bl_desc),ee=18;ee>=3&&Q.bl_tree[2*Z[ee]+1]===0;ee--);return Q.opt_len+=3*(ee+1)+5+5+4,ee}(j),se=j.opt_len+3+7>>>3,(ue=j.static_len+3+7>>>3)<=se&&(se=ue)):se=ue=V+5,V+4<=se&&L!==-1?O(j,L,V,ie):j.strategy===4||ue===se?(B(j,2+(ie?1:0),3),s(j,F,_)):(B(j,4+(ie?1:0),3),function(Q,ee,me,Te){var Ue;for(B(Q,ee-257,5),B(Q,me-1,5),B(Q,Te-4,4),Ue=0;Ue<Te;Ue++)B(Q,Q.bl_tree[2*Z[Ue]+1],3);N(Q,Q.dyn_ltree,ee-1),N(Q,Q.dyn_dtree,me-1)}(j,j.l_desc.max_code+1,j.d_desc.max_code+1,pe+1),s(j,j.dyn_ltree,j.dyn_dtree)),p(j),ie&&r(j)},te._tr_tally=function(j,L,V){return j.pending_buf[j.d_buf+2*j.last_lit]=L>>>8&255,j.pending_buf[j.d_buf+2*j.last_lit+1]=255&L,j.pending_buf[j.l_buf+j.last_lit]=255&V,j.last_lit++,L===0?j.dyn_ltree[2*V]++:(j.matches++,L--,j.dyn_ltree[2*(x[V]+v+1)]++,j.dyn_dtree[2*U(L)]++),j.last_lit===j.lit_bufsize-1},te._tr_align=function(j){B(j,2,3),M(j,256,F),function(L){L.bi_valid===16?(R(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):L.bi_valid>=8&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(j)}},249:function(We){We.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(We){We.exports=function(te){te.data&&te.name&&(te=te.data);for(var t=!0,e="",w="",v=0;v<te.length;v++){var d=te[v];if(t)d?w+=String.fromCharCode(d):t=!1;else{if(!d)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");e+=String.fromCharCode(d)}}return{keyword:w,text:e}}},9686:function(We){We.exports=function(te,t){if(te=String(te),t=String(t),!/^[\x00-\xFF]+$/.test(te)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(te.length>=80)throw new Error('Keyword "'+te+'" is longer than the 79-character limit imposed by the PNG specification');for(var e,w=te.length+t.length+1,v=new Uint8Array(w),d=0,b=0;b<te.length;b++){if(!(e=te.charCodeAt(b)))throw new Error("0x00 character is not permitted in tEXt keywords");v[d++]=e}v[d++]=0;for(var T=0;T<t.length;T++){if(!(e=t.charCodeAt(T)))throw new Error("0x00 character is not permitted in tEXt content");v[d++]=e}return{name:"tEXt",data:v}}},1194:function(We,te,t){te.encode=t(9686),te.decode=t(9066)},3434:function(We,te,t){var e=t(5714),w=t(6233);We.exports=function(T){var S,a=8,c=a;for(S=0;S<T.length;S++)a+=T[S].data.length,a+=12;var Z=new Uint8Array(a);for(Z[0]=137,Z[1]=80,Z[2]=78,Z[3]=71,Z[4]=13,Z[5]=10,Z[6]=26,Z[7]=10,S=0;S<T.length;S++){var F=T[S],_=F.name,h=F.data,x=h.length,G=[_.charCodeAt(0),_.charCodeAt(1),_.charCodeAt(2),_.charCodeAt(3)];b[0]=x,Z[c++]=v[3],Z[c++]=v[2],Z[c++]=v[1],Z[c++]=v[0],Z[c++]=G[0],Z[c++]=G[1],Z[c++]=G[2],Z[c++]=G[3];for(var le=0;le<x;)Z[c++]=h[le++];var he=G.concat(e(h)),ve=w.buf(he);d[0]=ve,Z[c++]=v[3],Z[c++]=v[2],Z[c++]=v[1],Z[c++]=v[0]}return Z};var v=new Uint8Array(4),d=new Int32Array(v.buffer),b=new Uint32Array(v.buffer)},2983:function(We,te,t){var e=t(6233);We.exports=function(b){if(b[0]!==137)throw new Error("Invalid .png file header");if(b[1]!==80)throw new Error("Invalid .png file header");if(b[2]!==78)throw new Error("Invalid .png file header");if(b[3]!==71)throw new Error("Invalid .png file header");if(b[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(b[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(b[6]!==26)throw new Error("Invalid .png file header");if(b[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var T=!1,S=[],a=8;a<b.length;){w[3]=b[a++],w[2]=b[a++],w[1]=b[a++],w[0]=b[a++];var c=d[0]+4,Z=new Uint8Array(c);Z[0]=b[a++],Z[1]=b[a++],Z[2]=b[a++],Z[3]=b[a++];var F=String.fromCharCode(Z[0])+String.fromCharCode(Z[1])+String.fromCharCode(Z[2])+String.fromCharCode(Z[3]);if(!S.length&&F!=="IHDR")throw new Error("IHDR header missing");if(F==="IEND"){T=!0,S.push({name:F,data:new Uint8Array(0)});break}for(var _=4;_<c;_++)Z[_]=b[a++];w[3]=b[a++],w[2]=b[a++],w[1]=b[a++],w[0]=b[a++];var h=v[0];if(e.buf(Z)!==h)throw new Error("CRC values for "+F+" header do not match, PNG file is likely corrupted");var x=new Uint8Array(Z.buffer.slice(4));S.push({name:F,data:x})}if(!T)throw new Error(".png file ended prematurely: no IEND header was found");return S};var w=new Uint8Array(4),v=new Int32Array(w.buffer),d=new Uint32Array(w.buffer)},1493:function(We,te,t){function e(a,c){return Math.pow(a[0]-c[0],2)+Math.pow(a[1]-c[1],2)}function w(a,c,Z){const F=e(c,Z);if(F===0)return e(a,c);let _=((a[0]-c[0])*(Z[0]-c[0])+(a[1]-c[1])*(Z[1]-c[1]))/F;return _=Math.max(0,Math.min(1,_)),e(a,v(c,Z,_))}function v(a,c,Z){return[a[0]+(c[0]-a[0])*Z,a[1]+(c[1]-a[1])*Z]}function d(a,c,Z,F){const _=F||[];if(function(G,le){const he=G[le+0],ve=G[le+1],fe=G[le+2],X=G[le+3];let q=3*ve[0]-2*he[0]-X[0];q*=q;let U=3*ve[1]-2*he[1]-X[1];U*=U;let R=3*fe[0]-2*X[0]-he[0];R*=R;let B=3*fe[1]-2*X[1]-he[1];return B*=B,q<R&&(q=R),U<B&&(U=B),q+U}(a,c)<Z){const G=a[c+0];_.length?(h=_[_.length-1],x=G,Math.sqrt(e(h,x))>1&&_.push(G)):_.push(G),_.push(a[c+3])}else{const G=a[c+0],le=a[c+1],he=a[c+2],ve=a[c+3],fe=v(G,le,.5),X=v(le,he,.5),q=v(he,ve,.5),U=v(fe,X,.5),R=v(X,q,.5),B=v(U,R,.5);d([G,fe,U,B],0,Z,_),d([B,R,q,ve],0,Z,_)}var h,x;return _}function b(a,c){return T(a,0,a.length,c)}function T(a,c,Z,F,_){const h=_||[],x=a[c],G=a[Z-1];let le=0,he=1;for(let ve=c+1;ve<Z-1;++ve){const fe=w(a[ve],x,G);fe>le&&(le=fe,he=ve)}return Math.sqrt(le)>F?(T(a,c,he+1,F,h),T(a,he,Z,F,h)):(h.length||h.push(x),h.push(G)),h}function S(a,c=.15,Z){const F=[],_=(a.length-1)/3;for(let h=0;h<_;h++)d(a,3*h,c,F);return Z&&Z>0?T(F,0,F.length,Z):F}t.d(te,{og:function(){return b},sU:function(){return S}})},6094:function(We,te,t){var e=t(9787),w=Symbol.for("react.element"),v=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,b=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T={key:!0,ref:!0,__self:!0,__source:!0};function S(a,c,Z){var F,_={},h=null,x=null;for(F in Z!==void 0&&(h=""+Z),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(x=c.ref),c)d.call(c,F)&&!T.hasOwnProperty(F)&&(_[F]=c[F]);if(a&&a.defaultProps)for(F in c=a.defaultProps)_[F]===void 0&&(_[F]=c[F]);return{$$typeof:w,type:a,key:h,ref:x,props:_,_owner:b.current}}te.Fragment=v,te.jsx=S,te.jsxs=S},4512:function(We,te,t){We.exports=t(6094)},8128:function(We,te,t){function e(ye,P,l){if(ye&&ye.length){const[f,D]=P,H=Math.PI/180*l,J=Math.cos(H),re=Math.sin(H);for(const ae of ye){const[ge,_e]=ae;ae[0]=(ge-f)*J-(_e-D)*re+f,ae[1]=(ge-f)*re+(_e-D)*J+D}}}function w(ye,P){return ye[0]===P[0]&&ye[1]===P[1]}function v(ye,P,l,f=1){const D=l,H=Math.max(P,.1),J=ye[0]&&ye[0][0]&&typeof ye[0][0]=="number"?[ye]:ye,re=[0,0];if(D)for(const ge of J)e(ge,re,D);const ae=function(ge,_e,ze){const Je=[];for(const He of ge){const Ee=[...He];w(Ee[0],Ee[Ee.length-1])||Ee.push([Ee[0][0],Ee[0][1]]),Ee.length>2&&Je.push(Ee)}const et=[];_e=Math.max(_e,.1);const Ke=[];for(const He of Je)for(let Ee=0;Ee<He.length-1;Ee++){const Le=He[Ee],Qe=He[Ee+1];if(Le[1]!==Qe[1]){const ct=Math.min(Le[1],Qe[1]);Ke.push({ymin:ct,ymax:Math.max(Le[1],Qe[1]),x:ct===Le[1]?Le[0]:Qe[0],islope:(Qe[0]-Le[0])/(Qe[1]-Le[1])})}}if(Ke.sort((He,Ee)=>He.ymin<Ee.ymin?-1:He.ymin>Ee.ymin?1:He.x<Ee.x?-1:He.x>Ee.x?1:He.ymax===Ee.ymax?0:(He.ymax-Ee.ymax)/Math.abs(He.ymax-Ee.ymax)),!Ke.length)return et;let tt=[],ut=Ke[0].ymin,ht=0;for(;tt.length||Ke.length;){if(Ke.length){let He=-1;for(let Ee=0;Ee<Ke.length&&!(Ke[Ee].ymin>ut);Ee++)He=Ee;Ke.splice(0,He+1).forEach(Ee=>{tt.push({s:ut,edge:Ee})})}if(tt=tt.filter(He=>!(He.edge.ymax<=ut)),tt.sort((He,Ee)=>He.edge.x===Ee.edge.x?0:(He.edge.x-Ee.edge.x)/Math.abs(He.edge.x-Ee.edge.x)),(ze!==1||ht%_e==0)&&tt.length>1)for(let He=0;He<tt.length;He+=2){const Ee=He+1;if(Ee>=tt.length)break;const Le=tt[He].edge,Qe=tt[Ee].edge;et.push([[Math.round(Le.x),ut],[Math.round(Qe.x),ut]])}ut+=ze,tt.forEach(He=>{He.edge.x=He.edge.x+ze*He.edge.islope}),ht++}return et}(J,H,f);if(D){for(const ge of J)e(ge,re,-D);(function(ge,_e,ze){const Je=[];ge.forEach(et=>Je.push(...et)),e(Je,_e,ze)})(ae,re,-D)}return ae}function d(ye,P){var l;const f=P.hachureAngle+90;let D=P.hachureGap;D<0&&(D=4*P.strokeWidth),D=Math.max(D,.1);let H=1;return P.roughness>=1&&(((l=P.randomizer)===null||l===void 0?void 0:l.next())||Math.random())>.7&&(H=D),v(ye,D,f,H||1)}t.d(te,{V:function(){return xe}});class b{constructor(P){this.helper=P}fillPolygons(P,l){return this._fillPolygons(P,l)}_fillPolygons(P,l){const f=d(P,l);return{type:"fillSketch",ops:this.renderLines(f,l)}}renderLines(P,l){const f=[];for(const D of P)f.push(...this.helper.doubleLineOps(D[0][0],D[0][1],D[1][0],D[1][1],l));return f}}function T(ye){const P=ye[0],l=ye[1];return Math.sqrt(Math.pow(P[0]-l[0],2)+Math.pow(P[1]-l[1],2))}class S extends b{fillPolygons(P,l){let f=l.hachureGap;f<0&&(f=4*l.strokeWidth),f=Math.max(f,.1);const D=d(P,Object.assign({},l,{hachureGap:f})),H=Math.PI/180*l.hachureAngle,J=[],re=.5*f*Math.cos(H),ae=.5*f*Math.sin(H);for(const[ge,_e]of D)T([ge,_e])&&J.push([[ge[0]-re,ge[1]+ae],[..._e]],[[ge[0]+re,ge[1]-ae],[..._e]]);return{type:"fillSketch",ops:this.renderLines(J,l)}}}class a extends b{fillPolygons(P,l){const f=this._fillPolygons(P,l),D=Object.assign({},l,{hachureAngle:l.hachureAngle+90}),H=this._fillPolygons(P,D);return f.ops=f.ops.concat(H.ops),f}}class c{constructor(P){this.helper=P}fillPolygons(P,l){const f=d(P,l=Object.assign({},l,{hachureAngle:0}));return this.dotsOnLines(f,l)}dotsOnLines(P,l){const f=[];let D=l.hachureGap;D<0&&(D=4*l.strokeWidth),D=Math.max(D,.1);let H=l.fillWeight;H<0&&(H=l.strokeWidth/2);const J=D/4;for(const re of P){const ae=T(re),ge=ae/D,_e=Math.ceil(ge)-1,ze=ae-_e*D,Je=(re[0][0]+re[1][0])/2-D/4,et=Math.min(re[0][1],re[1][1]);for(let Ke=0;Ke<_e;Ke++){const tt=et+ze+Ke*D,ut=Je-J+2*Math.random()*J,ht=tt-J+2*Math.random()*J,He=this.helper.ellipse(ut,ht,H,H,l);f.push(...He.ops)}}return{type:"fillSketch",ops:f}}}class Z{constructor(P){this.helper=P}fillPolygons(P,l){const f=d(P,l);return{type:"fillSketch",ops:this.dashedLine(f,l)}}dashedLine(P,l){const f=l.dashOffset<0?l.hachureGap<0?4*l.strokeWidth:l.hachureGap:l.dashOffset,D=l.dashGap<0?l.hachureGap<0?4*l.strokeWidth:l.hachureGap:l.dashGap,H=[];return P.forEach(J=>{const re=T(J),ae=Math.floor(re/(f+D)),ge=(re+D-ae*(f+D))/2;let _e=J[0],ze=J[1];_e[0]>ze[0]&&(_e=J[1],ze=J[0]);const Je=Math.atan((ze[1]-_e[1])/(ze[0]-_e[0]));for(let et=0;et<ae;et++){const Ke=et*(f+D),tt=Ke+f,ut=[_e[0]+Ke*Math.cos(Je)+ge*Math.cos(Je),_e[1]+Ke*Math.sin(Je)+ge*Math.sin(Je)],ht=[_e[0]+tt*Math.cos(Je)+ge*Math.cos(Je),_e[1]+tt*Math.sin(Je)+ge*Math.sin(Je)];H.push(...this.helper.doubleLineOps(ut[0],ut[1],ht[0],ht[1],l))}}),H}}class F{constructor(P){this.helper=P}fillPolygons(P,l){const f=l.hachureGap<0?4*l.strokeWidth:l.hachureGap,D=l.zigzagOffset<0?f:l.zigzagOffset,H=d(P,l=Object.assign({},l,{hachureGap:f+D}));return{type:"fillSketch",ops:this.zigzagLines(H,D,l)}}zigzagLines(P,l,f){const D=[];return P.forEach(H=>{const J=T(H),re=Math.round(J/(2*l));let ae=H[0],ge=H[1];ae[0]>ge[0]&&(ae=H[1],ge=H[0]);const _e=Math.atan((ge[1]-ae[1])/(ge[0]-ae[0]));for(let ze=0;ze<re;ze++){const Je=2*ze*l,et=2*(ze+1)*l,Ke=Math.sqrt(2*Math.pow(l,2)),tt=[ae[0]+Je*Math.cos(_e),ae[1]+Je*Math.sin(_e)],ut=[ae[0]+et*Math.cos(_e),ae[1]+et*Math.sin(_e)],ht=[tt[0]+Ke*Math.cos(_e+Math.PI/4),tt[1]+Ke*Math.sin(_e+Math.PI/4)];D.push(...this.helper.doubleLineOps(tt[0],tt[1],ht[0],ht[1],f),...this.helper.doubleLineOps(ht[0],ht[1],ut[0],ut[1],f))}}),D}}const _={};var h=t(8152);const x={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function G(ye,P){return ye.type===P}function le(ye){const P=[],l=function(J){const re=new Array;for(;J!=="";)if(J.match(/^([ \t\r\n,]+)/))J=J.substr(RegExp.$1.length);else if(J.match(/^([aAcChHlLmMqQsStTvVzZ])/))re[re.length]={type:0,text:RegExp.$1},J=J.substr(RegExp.$1.length);else{if(!J.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];re[re.length]={type:1,text:`${parseFloat(RegExp.$1)}`},J=J.substr(RegExp.$1.length)}return re[re.length]={type:2,text:""},re}(ye);let f="BOD",D=0,H=l[D];for(;!G(H,2);){let J=0;const re=[];if(f==="BOD"){if(H.text!=="M"&&H.text!=="m")return le("M0,0"+ye);D++,J=x[H.text],f=H.text}else G(H,1)?J=x[f]:(D++,J=x[H.text],f=H.text);if(!(D+J<l.length))throw new Error("Path data ended short");for(let ae=D;ae<D+J;ae++){const ge=l[ae];if(!G(ge,1))throw new Error("Param not a number: "+f+","+ge.text);re[re.length]=+ge.text}if(typeof x[f]!="number")throw new Error("Bad segment: "+f);{const ae={key:f,data:re};P.push(ae),D+=J,H=l[D],f==="M"&&(f="L"),f==="m"&&(f="l")}}return P}function he(ye){let P=0,l=0,f=0,D=0;const H=[];for(const{key:J,data:re}of ye)switch(J){case"M":H.push({key:"M",data:[...re]}),[P,l]=re,[f,D]=re;break;case"m":P+=re[0],l+=re[1],H.push({key:"M",data:[P,l]}),f=P,D=l;break;case"L":H.push({key:"L",data:[...re]}),[P,l]=re;break;case"l":P+=re[0],l+=re[1],H.push({key:"L",data:[P,l]});break;case"C":H.push({key:"C",data:[...re]}),P=re[4],l=re[5];break;case"c":{const ae=re.map((ge,_e)=>_e%2?ge+l:ge+P);H.push({key:"C",data:ae}),P=ae[4],l=ae[5];break}case"Q":H.push({key:"Q",data:[...re]}),P=re[2],l=re[3];break;case"q":{const ae=re.map((ge,_e)=>_e%2?ge+l:ge+P);H.push({key:"Q",data:ae}),P=ae[2],l=ae[3];break}case"A":H.push({key:"A",data:[...re]}),P=re[5],l=re[6];break;case"a":P+=re[5],l+=re[6],H.push({key:"A",data:[re[0],re[1],re[2],re[3],re[4],P,l]});break;case"H":H.push({key:"H",data:[...re]}),P=re[0];break;case"h":P+=re[0],H.push({key:"H",data:[P]});break;case"V":H.push({key:"V",data:[...re]}),l=re[0];break;case"v":l+=re[0],H.push({key:"V",data:[l]});break;case"S":H.push({key:"S",data:[...re]}),P=re[2],l=re[3];break;case"s":{const ae=re.map((ge,_e)=>_e%2?ge+l:ge+P);H.push({key:"S",data:ae}),P=ae[2],l=ae[3];break}case"T":H.push({key:"T",data:[...re]}),P=re[0],l=re[1];break;case"t":P+=re[0],l+=re[1],H.push({key:"T",data:[P,l]});break;case"Z":case"z":H.push({key:"Z",data:[]}),P=f,l=D}return H}function ve(ye){const P=[];let l="",f=0,D=0,H=0,J=0,re=0,ae=0;for(const{key:ge,data:_e}of ye){switch(ge){case"M":P.push({key:"M",data:[..._e]}),[f,D]=_e,[H,J]=_e;break;case"C":P.push({key:"C",data:[..._e]}),f=_e[4],D=_e[5],re=_e[2],ae=_e[3];break;case"L":P.push({key:"L",data:[..._e]}),[f,D]=_e;break;case"H":f=_e[0],P.push({key:"L",data:[f,D]});break;case"V":D=_e[0],P.push({key:"L",data:[f,D]});break;case"S":{let ze=0,Je=0;l==="C"||l==="S"?(ze=f+(f-re),Je=D+(D-ae)):(ze=f,Je=D),P.push({key:"C",data:[ze,Je,..._e]}),re=_e[0],ae=_e[1],f=_e[2],D=_e[3];break}case"T":{const[ze,Je]=_e;let et=0,Ke=0;l==="Q"||l==="T"?(et=f+(f-re),Ke=D+(D-ae)):(et=f,Ke=D);const tt=f+2*(et-f)/3,ut=D+2*(Ke-D)/3,ht=ze+2*(et-ze)/3,He=Je+2*(Ke-Je)/3;P.push({key:"C",data:[tt,ut,ht,He,ze,Je]}),re=et,ae=Ke,f=ze,D=Je;break}case"Q":{const[ze,Je,et,Ke]=_e,tt=f+2*(ze-f)/3,ut=D+2*(Je-D)/3,ht=et+2*(ze-et)/3,He=Ke+2*(Je-Ke)/3;P.push({key:"C",data:[tt,ut,ht,He,et,Ke]}),re=ze,ae=Je,f=et,D=Ke;break}case"A":{const ze=Math.abs(_e[0]),Je=Math.abs(_e[1]),et=_e[2],Ke=_e[3],tt=_e[4],ut=_e[5],ht=_e[6];ze===0||Je===0?(P.push({key:"C",data:[f,D,ut,ht,ut,ht]}),f=ut,D=ht):(f!==ut||D!==ht)&&(X(f,D,ut,ht,ze,Je,et,Ke,tt).forEach(function(He){P.push({key:"C",data:He})}),f=ut,D=ht);break}case"Z":P.push({key:"Z",data:[]}),f=H,D=J}l=ge}return P}function fe(ye,P,l){return[ye*Math.cos(l)-P*Math.sin(l),ye*Math.sin(l)+P*Math.cos(l)]}function X(ye,P,l,f,D,H,J,re,ae,ge){const _e=(ze=J,Math.PI*ze/180);var ze;let Je=[],et=0,Ke=0,tt=0,ut=0;if(ge)[et,Ke,tt,ut]=ge;else{[ye,P]=fe(ye,P,-_e),[l,f]=fe(l,f,-_e);const rn=(ye-l)/2,Xt=(P-f)/2;let on=rn*rn/(D*D)+Xt*Xt/(H*H);on>1&&(on=Math.sqrt(on),D*=on,H*=on);const jn=D*D,It=H*H,kt=jn*It-jn*Xt*Xt-It*rn*rn,Ht=jn*Xt*Xt+It*rn*rn,At=(re===ae?-1:1)*Math.sqrt(Math.abs(kt/Ht));tt=At*D*Xt/H+(ye+l)/2,ut=At*-H*rn/D+(P+f)/2,et=Math.asin(parseFloat(((P-ut)/H).toFixed(9))),Ke=Math.asin(parseFloat(((f-ut)/H).toFixed(9))),ye<tt&&(et=Math.PI-et),l<tt&&(Ke=Math.PI-Ke),et<0&&(et=2*Math.PI+et),Ke<0&&(Ke=2*Math.PI+Ke),ae&&et>Ke&&(et-=2*Math.PI),!ae&&Ke>et&&(Ke-=2*Math.PI)}let ht=Ke-et;if(Math.abs(ht)>120*Math.PI/180){const rn=Ke,Xt=l,on=f;Ke=ae&&Ke>et?et+120*Math.PI/180*1:et+120*Math.PI/180*-1,Je=X(l=tt+D*Math.cos(Ke),f=ut+H*Math.sin(Ke),Xt,on,D,H,J,0,ae,[Ke,rn,tt,ut])}ht=Ke-et;const He=Math.cos(et),Ee=Math.sin(et),Le=Math.cos(Ke),Qe=Math.sin(Ke),ct=Math.tan(ht/4),bt=4/3*D*ct,wt=4/3*H*ct,zt=[ye,P],Mt=[ye+bt*Ee,P-wt*He],Zt=[l+bt*Qe,f-wt*Le],sn=[l,f];if(Mt[0]=2*zt[0]-Mt[0],Mt[1]=2*zt[1]-Mt[1],ge)return[Mt,Zt,sn].concat(Je);{Je=[Mt,Zt,sn].concat(Je);const rn=[];for(let Xt=0;Xt<Je.length;Xt+=3){const on=fe(Je[Xt][0],Je[Xt][1],_e),jn=fe(Je[Xt+1][0],Je[Xt+1][1],_e),It=fe(Je[Xt+2][0],Je[Xt+2][1],_e);rn.push([on[0],on[1],jn[0],jn[1],It[0],It[1]])}return rn}}const q={randOffset:function(ye,P){return k(ye,P)},randOffsetWithRange:function(ye,P,l){return u(ye,P,l)},ellipse:function(ye,P,l,f,D){const H=I(l,f,D);return E(ye,P,D,H).opset},doubleLineOps:function(ye,P,l,f,D){return N(ye,P,l,f,D,!0)}};function U(ye,P,l,f,D){return{type:"path",ops:N(ye,P,l,f,D)}}function R(ye,P,l){const f=(ye||[]).length;if(f>2){const D=[];for(let H=0;H<f-1;H++)D.push(...N(ye[H][0],ye[H][1],ye[H+1][0],ye[H+1][1],l));return P&&D.push(...N(ye[f-1][0],ye[f-1][1],ye[0][0],ye[0][1],l)),{type:"path",ops:D}}return f===2?U(ye[0][0],ye[0][1],ye[1][0],ye[1][1],l):{type:"path",ops:[]}}function B(ye,P,l,f,D){return function(H,J){return R(H,!0,J)}([[ye,P],[ye+l,P],[ye+l,P+f],[ye,P+f]],D)}function M(ye,P){let l=O(ye,1*(1+.2*P.roughness),P);if(!P.disableMultiStroke){const f=O(ye,1.5*(1+.22*P.roughness),function(D){const H=Object.assign({},D);return H.randomizer=void 0,D.seed&&(H.seed=D.seed+1),H}(P));l=l.concat(f)}return{type:"path",ops:l}}function I(ye,P,l){const f=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(ye/2,2)+Math.pow(P/2,2))/2)),D=Math.ceil(Math.max(l.curveStepCount,l.curveStepCount/Math.sqrt(200)*f)),H=2*Math.PI/D;let J=Math.abs(ye/2),re=Math.abs(P/2);const ae=1-l.curveFitting;return J+=k(J*ae,l),re+=k(re*ae,l),{increment:H,rx:J,ry:re}}function E(ye,P,l,f){const[D,H]=L(f.increment,ye,P,f.rx,f.ry,1,f.increment*u(.1,u(.4,1,l),l),l);let J=j(D,null,l);if(!l.disableMultiStroke&&l.roughness!==0){const[re]=L(f.increment,ye,P,f.rx,f.ry,1.5,0,l),ae=j(re,null,l);J=J.concat(ae)}return{estimatedPoints:H,opset:{type:"path",ops:J}}}function p(ye,P,l,f,D,H,J,re,ae){const ge=ye,_e=P;let ze=Math.abs(l/2),Je=Math.abs(f/2);ze+=k(.01*ze,ae),Je+=k(.01*Je,ae);let et=D,Ke=H;for(;et<0;)et+=2*Math.PI,Ke+=2*Math.PI;Ke-et>2*Math.PI&&(et=0,Ke=2*Math.PI);const tt=2*Math.PI/ae.curveStepCount,ut=Math.min(tt/2,(Ke-et)/2),ht=V(ut,ge,_e,ze,Je,et,Ke,1,ae);if(!ae.disableMultiStroke){const He=V(ut,ge,_e,ze,Je,et,Ke,1.5,ae);ht.push(...He)}return J&&(re?ht.push(...N(ge,_e,ge+ze*Math.cos(et),_e+Je*Math.sin(et),ae),...N(ge,_e,ge+ze*Math.cos(Ke),_e+Je*Math.sin(Ke),ae)):ht.push({op:"lineTo",data:[ge,_e]},{op:"lineTo",data:[ge+ze*Math.cos(et),_e+Je*Math.sin(et)]})),{type:"path",ops:ht}}function r(ye,P){const l=ve(he(le(ye))),f=[];let D=[0,0],H=[0,0];for(const{key:J,data:re}of l)switch(J){case"M":H=[re[0],re[1]],D=[re[0],re[1]];break;case"L":f.push(...N(H[0],H[1],re[0],re[1],P)),H=[re[0],re[1]];break;case"C":{const[ae,ge,_e,ze,Je,et]=re;f.push(...ie(ae,ge,_e,ze,Je,et,H,P)),H=[Je,et];break}case"Z":f.push(...N(H[0],H[1],D[0],D[1],P)),H=[D[0],D[1]]}return{type:"path",ops:f}}function o(ye,P){const l=[];for(const f of ye)if(f.length){const D=P.maxRandomnessOffset||0,H=f.length;if(H>2){l.push({op:"move",data:[f[0][0]+k(D,P),f[0][1]+k(D,P)]});for(let J=1;J<H;J++)l.push({op:"lineTo",data:[f[J][0]+k(D,P),f[J][1]+k(D,P)]})}}return{type:"fillPath",ops:l}}function g(ye,P){return function(l,f){let D=l.fillStyle||"hachure";if(!_[D])switch(D){case"zigzag":_[D]||(_[D]=new S(f));break;case"cross-hatch":_[D]||(_[D]=new a(f));break;case"dots":_[D]||(_[D]=new c(f));break;case"dashed":_[D]||(_[D]=new Z(f));break;case"zigzag-line":_[D]||(_[D]=new F(f));break;default:D="hachure",_[D]||(_[D]=new b(f))}return _[D]}(P,q).fillPolygons(ye,P)}function s(ye){return ye.randomizer||(ye.randomizer=new h.k(ye.seed||0)),ye.randomizer.next()}function u(ye,P,l,f=1){return l.roughness*f*(s(l)*(P-ye)+ye)}function k(ye,P,l=1){return u(-ye,ye,P,l)}function N(ye,P,l,f,D,H=!1){const J=H?D.disableMultiStrokeFill:D.disableMultiStroke,re=W(ye,P,l,f,D,!0,!1);if(J)return re;const ae=W(ye,P,l,f,D,!0,!0);return re.concat(ae)}function W(ye,P,l,f,D,H,J){const re=Math.pow(ye-l,2)+Math.pow(P-f,2),ae=Math.sqrt(re);let ge=1;ge=ae<200?1:ae>500?.4:-.0016668*ae+1.233334;let _e=D.maxRandomnessOffset||0;_e*_e*100>re&&(_e=ae/10);const ze=_e/2,Je=.2+.2*s(D);let et=D.bowing*D.maxRandomnessOffset*(f-P)/200,Ke=D.bowing*D.maxRandomnessOffset*(ye-l)/200;et=k(et,D,ge),Ke=k(Ke,D,ge);const tt=[],ut=()=>k(ze,D,ge),ht=()=>k(_e,D,ge),He=D.preserveVertices;return J?tt.push({op:"move",data:[ye+(He?0:ut()),P+(He?0:ut())]}):tt.push({op:"move",data:[ye+(He?0:k(_e,D,ge)),P+(He?0:k(_e,D,ge))]}),J?tt.push({op:"bcurveTo",data:[et+ye+(l-ye)*Je+ut(),Ke+P+(f-P)*Je+ut(),et+ye+2*(l-ye)*Je+ut(),Ke+P+2*(f-P)*Je+ut(),l+(He?0:ut()),f+(He?0:ut())]}):tt.push({op:"bcurveTo",data:[et+ye+(l-ye)*Je+ht(),Ke+P+(f-P)*Je+ht(),et+ye+2*(l-ye)*Je+ht(),Ke+P+2*(f-P)*Je+ht(),l+(He?0:ht()),f+(He?0:ht())]}),tt}function O(ye,P,l){const f=[];f.push([ye[0][0]+k(P,l),ye[0][1]+k(P,l)]),f.push([ye[0][0]+k(P,l),ye[0][1]+k(P,l)]);for(let D=1;D<ye.length;D++)f.push([ye[D][0]+k(P,l),ye[D][1]+k(P,l)]),D===ye.length-1&&f.push([ye[D][0]+k(P,l),ye[D][1]+k(P,l)]);return j(f,null,l)}function j(ye,P,l){const f=ye.length,D=[];if(f>3){const H=[],J=1-l.curveTightness;D.push({op:"move",data:[ye[1][0],ye[1][1]]});for(let re=1;re+2<f;re++){const ae=ye[re];H[0]=[ae[0],ae[1]],H[1]=[ae[0]+(J*ye[re+1][0]-J*ye[re-1][0])/6,ae[1]+(J*ye[re+1][1]-J*ye[re-1][1])/6],H[2]=[ye[re+1][0]+(J*ye[re][0]-J*ye[re+2][0])/6,ye[re+1][1]+(J*ye[re][1]-J*ye[re+2][1])/6],H[3]=[ye[re+1][0],ye[re+1][1]],D.push({op:"bcurveTo",data:[H[1][0],H[1][1],H[2][0],H[2][1],H[3][0],H[3][1]]})}}else f===3?(D.push({op:"move",data:[ye[1][0],ye[1][1]]}),D.push({op:"bcurveTo",data:[ye[1][0],ye[1][1],ye[2][0],ye[2][1],ye[2][0],ye[2][1]]})):f===2&&D.push(...N(ye[0][0],ye[0][1],ye[1][0],ye[1][1],l));return D}function L(ye,P,l,f,D,H,J,re){const ae=[],ge=[];if(re.roughness===0){ye/=4,ge.push([P+f*Math.cos(-ye),l+D*Math.sin(-ye)]);for(let _e=0;_e<=2*Math.PI;_e+=ye){const ze=[P+f*Math.cos(_e),l+D*Math.sin(_e)];ae.push(ze),ge.push(ze)}ge.push([P+f*Math.cos(0),l+D*Math.sin(0)]),ge.push([P+f*Math.cos(ye),l+D*Math.sin(ye)])}else{const _e=k(.5,re)-Math.PI/2;ge.push([k(H,re)+P+.9*f*Math.cos(_e-ye),k(H,re)+l+.9*D*Math.sin(_e-ye)]);const ze=2*Math.PI+_e-.01;for(let Je=_e;Je<ze;Je+=ye){const et=[k(H,re)+P+f*Math.cos(Je),k(H,re)+l+D*Math.sin(Je)];ae.push(et),ge.push(et)}ge.push([k(H,re)+P+f*Math.cos(_e+2*Math.PI+.5*J),k(H,re)+l+D*Math.sin(_e+2*Math.PI+.5*J)]),ge.push([k(H,re)+P+.98*f*Math.cos(_e+J),k(H,re)+l+.98*D*Math.sin(_e+J)]),ge.push([k(H,re)+P+.9*f*Math.cos(_e+.5*J),k(H,re)+l+.9*D*Math.sin(_e+.5*J)])}return[ge,ae]}function V(ye,P,l,f,D,H,J,re,ae){const ge=H+k(.1,ae),_e=[];_e.push([k(re,ae)+P+.9*f*Math.cos(ge-ye),k(re,ae)+l+.9*D*Math.sin(ge-ye)]);for(let ze=ge;ze<=J;ze+=ye)_e.push([k(re,ae)+P+f*Math.cos(ze),k(re,ae)+l+D*Math.sin(ze)]);return _e.push([P+f*Math.cos(J),l+D*Math.sin(J)]),_e.push([P+f*Math.cos(J),l+D*Math.sin(J)]),j(_e,null,ae)}function ie(ye,P,l,f,D,H,J,re){const ae=[],ge=[re.maxRandomnessOffset||1,(re.maxRandomnessOffset||1)+.3];let _e=[0,0];const ze=re.disableMultiStroke?1:2,Je=re.preserveVertices;for(let et=0;et<ze;et++)et===0?ae.push({op:"move",data:[J[0],J[1]]}):ae.push({op:"move",data:[J[0]+(Je?0:k(ge[0],re)),J[1]+(Je?0:k(ge[0],re))]}),_e=Je?[D,H]:[D+k(ge[et],re),H+k(ge[et],re)],ae.push({op:"bcurveTo",data:[ye+k(ge[et],re),P+k(ge[et],re),l+k(ge[et],re),f+k(ge[et],re),_e[0],_e[1]]});return ae}function se(ye){return[...ye]}function ue(ye,P){return Math.pow(ye[0]-P[0],2)+Math.pow(ye[1]-P[1],2)}function pe(ye,P,l){const f=ue(P,l);if(f===0)return ue(ye,P);let D=((ye[0]-P[0])*(l[0]-P[0])+(ye[1]-P[1])*(l[1]-P[1]))/f;return D=Math.max(0,Math.min(1,D)),ue(ye,Q(P,l,D))}function Q(ye,P,l){return[ye[0]+(P[0]-ye[0])*l,ye[1]+(P[1]-ye[1])*l]}function ee(ye,P,l,f){const D=f||[];if(function(re,ae){const ge=re[ae+0],_e=re[ae+1],ze=re[ae+2],Je=re[ae+3];let et=3*_e[0]-2*ge[0]-Je[0];et*=et;let Ke=3*_e[1]-2*ge[1]-Je[1];Ke*=Ke;let tt=3*ze[0]-2*Je[0]-ge[0];tt*=tt;let ut=3*ze[1]-2*Je[1]-ge[1];return ut*=ut,et<tt&&(et=tt),Ke<ut&&(Ke=ut),et+Ke}(ye,P)<l){const re=ye[P+0];D.length?(H=D[D.length-1],J=re,Math.sqrt(ue(H,J))>1&&D.push(re)):D.push(re),D.push(ye[P+3])}else{const re=ye[P+0],ae=ye[P+1],ge=ye[P+2],_e=ye[P+3],ze=Q(re,ae,.5),Je=Q(ae,ge,.5),et=Q(ge,_e,.5),Ke=Q(ze,Je,.5),tt=Q(Je,et,.5),ut=Q(Ke,tt,.5);ee([re,ze,Ke,ut],0,l,D),ee([ut,tt,et,_e],0,l,D)}var H,J;return D}function me(ye,P,l,f,D){const H=D||[],J=ye[P],re=ye[l-1];let ae=0,ge=1;for(let _e=P+1;_e<l-1;++_e){const ze=pe(ye[_e],J,re);ze>ae&&(ae=ze,ge=_e)}return Math.sqrt(ae)>f?(me(ye,P,ge+1,f,H),me(ye,ge,l,f,H)):(H.length||H.push(J),H.push(re)),H}function Te(ye,P){return Math.pow(ye[0]-P[0],2)+Math.pow(ye[1]-P[1],2)}function Ue(ye,P,l){const f=Te(P,l);if(f===0)return Te(ye,P);let D=((ye[0]-P[0])*(l[0]-P[0])+(ye[1]-P[1])*(l[1]-P[1]))/f;return D=Math.max(0,Math.min(1,D)),Te(ye,qe(P,l,D))}function qe(ye,P,l){return[ye[0]+(P[0]-ye[0])*l,ye[1]+(P[1]-ye[1])*l]}function Ae(ye,P,l,f){const D=f||[];if(function(re,ae){const ge=re[ae+0],_e=re[ae+1],ze=re[ae+2],Je=re[ae+3];let et=3*_e[0]-2*ge[0]-Je[0];et*=et;let Ke=3*_e[1]-2*ge[1]-Je[1];Ke*=Ke;let tt=3*ze[0]-2*Je[0]-ge[0];tt*=tt;let ut=3*ze[1]-2*Je[1]-ge[1];return ut*=ut,et<tt&&(et=tt),Ke<ut&&(Ke=ut),et+Ke}(ye,P)<l){const re=ye[P+0];D.length?(H=D[D.length-1],J=re,Math.sqrt(Te(H,J))>1&&D.push(re)):D.push(re),D.push(ye[P+3])}else{const re=ye[P+0],ae=ye[P+1],ge=ye[P+2],_e=ye[P+3],ze=qe(re,ae,.5),Je=qe(ae,ge,.5),et=qe(ge,_e,.5),Ke=qe(ze,Je,.5),tt=qe(Je,et,.5),ut=qe(Ke,tt,.5);Ae([re,ze,Ke,ut],0,l,D),Ae([ut,tt,et,_e],0,l,D)}var H,J;return D}function Oe(ye,P){return Ie(ye,0,ye.length,P)}function Ie(ye,P,l,f,D){const H=D||[],J=ye[P],re=ye[l-1];let ae=0,ge=1;for(let _e=P+1;_e<l-1;++_e){const ze=Ue(ye[_e],J,re);ze>ae&&(ae=ze,ge=_e)}return Math.sqrt(ae)>f?(Ie(ye,P,ge+1,f,H),Ie(ye,ge,l,f,H)):(H.length||H.push(J),H.push(re)),H}function Re(ye,P,l){const f=ve(he(le(ye))),D=[];let H=[],J=[0,0],re=[];const ae=()=>{re.length>=4&&H.push(...function(ze,Je=.15,et){const Ke=[],tt=(ze.length-1)/3;for(let ut=0;ut<tt;ut++)Ae(ze,3*ut,Je,Ke);return et&&et>0?Ie(Ke,0,Ke.length,et):Ke}(re,P)),re=[]},ge=()=>{ae(),H.length&&(D.push(H),H=[])};for(const{key:ze,data:Je}of f)switch(ze){case"M":ge(),J=[Je[0],Je[1]],H.push(J);break;case"L":ae(),H.push([Je[0],Je[1]]);break;case"C":if(!re.length){const et=H.length?H[H.length-1]:J;re.push([et[0],et[1]])}re.push([Je[0],Je[1]]),re.push([Je[2],Je[3]]),re.push([Je[4],Je[5]]);break;case"Z":ae(),H.push([J[0],J[1]])}if(ge(),!l)return D;const _e=[];for(const ze of D){const Je=Oe(ze,l);Je.length&&_e.push(Je)}return _e}const ke="none";class xe{constructor(P){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=P||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,h.W)()}_o(P){return P?Object.assign({},this.defaultOptions,P):this.defaultOptions}_d(P,l,f){return{shape:P,sets:l||[],options:f||this.defaultOptions}}line(P,l,f,D,H){const J=this._o(H);return this._d("line",[U(P,l,f,D,J)],J)}rectangle(P,l,f,D,H){const J=this._o(H),re=[],ae=B(P,l,f,D,J);if(J.fill){const ge=[[P,l],[P+f,l],[P+f,l+D],[P,l+D]];J.fillStyle==="solid"?re.push(o([ge],J)):re.push(g([ge],J))}return J.stroke!==ke&&re.push(ae),this._d("rectangle",re,J)}ellipse(P,l,f,D,H){const J=this._o(H),re=[],ae=I(f,D,J),ge=E(P,l,J,ae);if(J.fill)if(J.fillStyle==="solid"){const _e=E(P,l,J,ae).opset;_e.type="fillPath",re.push(_e)}else re.push(g([ge.estimatedPoints],J));return J.stroke!==ke&&re.push(ge.opset),this._d("ellipse",re,J)}circle(P,l,f,D){const H=this.ellipse(P,l,f,f,D);return H.shape="circle",H}linearPath(P,l){const f=this._o(l);return this._d("linearPath",[R(P,!1,f)],f)}arc(P,l,f,D,H,J,re=!1,ae){const ge=this._o(ae),_e=[],ze=p(P,l,f,D,H,J,re,!0,ge);if(re&&ge.fill)if(ge.fillStyle==="solid"){const Je=Object.assign({},ge);Je.disableMultiStroke=!0;const et=p(P,l,f,D,H,J,!0,!1,Je);et.type="fillPath",_e.push(et)}else _e.push(function(Je,et,Ke,tt,ut,ht,He){const Ee=Je,Le=et;let Qe=Math.abs(Ke/2),ct=Math.abs(tt/2);Qe+=k(.01*Qe,He),ct+=k(.01*ct,He);let bt=ut,wt=ht;for(;bt<0;)bt+=2*Math.PI,wt+=2*Math.PI;wt-bt>2*Math.PI&&(bt=0,wt=2*Math.PI);const zt=(wt-bt)/He.curveStepCount,Mt=[];for(let Zt=bt;Zt<=wt;Zt+=zt)Mt.push([Ee+Qe*Math.cos(Zt),Le+ct*Math.sin(Zt)]);return Mt.push([Ee+Qe*Math.cos(wt),Le+ct*Math.sin(wt)]),Mt.push([Ee,Le]),g([Mt],He)}(P,l,f,D,H,J,ge));return ge.stroke!==ke&&_e.push(ze),this._d("arc",_e,ge)}curve(P,l){const f=this._o(l),D=[],H=M(P,f);if(f.fill&&f.fill!==ke&&P.length>=3)if(f.fillStyle==="solid"){const J=M(P,Object.assign(Object.assign({},f),{disableMultiStroke:!0,roughness:f.roughness?f.roughness+f.fillShapeRoughnessGain:0}));D.push({type:"fillPath",ops:this._mergedShape(J.ops)})}else{const J=function(ae,ge=0){const _e=ae.length;if(_e<3)throw new Error("A curve must have at least three points.");const ze=[];if(_e===3)ze.push(se(ae[0]),se(ae[1]),se(ae[2]),se(ae[2]));else{const Je=[];Je.push(ae[0],ae[0]);for(let tt=1;tt<ae.length;tt++)Je.push(ae[tt]),tt===ae.length-1&&Je.push(ae[tt]);const et=[],Ke=1-ge;ze.push(se(Je[0]));for(let tt=1;tt+2<Je.length;tt++){const ut=Je[tt];et[0]=[ut[0],ut[1]],et[1]=[ut[0]+(Ke*Je[tt+1][0]-Ke*Je[tt-1][0])/6,ut[1]+(Ke*Je[tt+1][1]-Ke*Je[tt-1][1])/6],et[2]=[Je[tt+1][0]+(Ke*Je[tt][0]-Ke*Je[tt+2][0])/6,Je[tt+1][1]+(Ke*Je[tt][1]-Ke*Je[tt+2][1])/6],et[3]=[Je[tt+1][0],Je[tt+1][1]],ze.push(et[1],et[2],et[3])}}return ze}(P),re=function(ae,ge=.15,_e){const ze=[],Je=(ae.length-1)/3;for(let et=0;et<Je;et++)ee(ae,3*et,ge,ze);return _e&&_e>0?me(ze,0,ze.length,_e):ze}(J,10,(1+f.roughness)/2);D.push(g([re],f))}return f.stroke!==ke&&D.push(H),this._d("curve",D,f)}polygon(P,l){const f=this._o(l),D=[],H=R(P,!0,f);return f.fill&&(f.fillStyle==="solid"?D.push(o([P],f)):D.push(g([P],f))),f.stroke!==ke&&D.push(H),this._d("polygon",D,f)}path(P,l){const f=this._o(l),D=[];if(!P)return this._d("path",D,f);P=(P||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const H=f.fill&&f.fill!=="transparent"&&f.fill!==ke,J=f.stroke!==ke,re=!!(f.simplification&&f.simplification<1),ae=Re(P,1,re?4-4*(f.simplification||1):(1+f.roughness)/2),ge=r(P,f);if(H)if(f.fillStyle==="solid")if(ae.length===1){const _e=r(P,Object.assign(Object.assign({},f),{disableMultiStroke:!0,roughness:f.roughness?f.roughness+f.fillShapeRoughnessGain:0}));D.push({type:"fillPath",ops:this._mergedShape(_e.ops)})}else D.push(o(ae,f));else D.push(g(ae,f));return J&&(re?ae.forEach(_e=>{D.push(R(_e,!1,f))}):D.push(ge)),this._d("path",D,f)}opsToPath(P,l){let f="";for(const D of P.ops){const H=typeof l=="number"&&l>=0?D.data.map(J=>+J.toFixed(l)):D.data;switch(D.op){case"move":f+=`M${H[0]} ${H[1]} `;break;case"bcurveTo":f+=`C${H[0]} ${H[1]}, ${H[2]} ${H[3]}, ${H[4]} ${H[5]} `;break;case"lineTo":f+=`L${H[0]} ${H[1]} `}}return f.trim()}toPaths(P){const l=P.sets||[],f=P.options||this.defaultOptions,D=[];for(const H of l){let J=null;switch(H.type){case"path":J={d:this.opsToPath(H),stroke:f.stroke,strokeWidth:f.strokeWidth,fill:ke};break;case"fillPath":J={d:this.opsToPath(H),stroke:ke,strokeWidth:0,fill:f.fill||ke};break;case"fillSketch":J=this.fillSketch(H,f)}J&&D.push(J)}return D}fillSketch(P,l){let f=l.fillWeight;return f<0&&(f=l.strokeWidth/2),{d:this.opsToPath(P),stroke:l.fill||ke,strokeWidth:f,fill:ke}}_mergedShape(P){return P.filter((l,f)=>f===0||l.op!=="move")}}},8152:function(We,te,t){function e(){return Math.floor(Math.random()*2147483648)}t.d(te,{W:function(){return e},k:function(){return w}});class w{constructor(d){this.seed=d}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},9845:function(We,te,t){t.d(te,{Z:function(){return b}});var e=t(8128);class w{constructor(S,a){this.canvas=S,this.ctx=this.canvas.getContext("2d"),this.gen=new e.V(a)}draw(S){const a=S.sets||[],c=S.options||this.getDefaultOptions(),Z=this.ctx,F=S.options.fixedDecimalPlaceDigits;for(const _ of a)switch(_.type){case"path":Z.save(),Z.strokeStyle=c.stroke==="none"?"transparent":c.stroke,Z.lineWidth=c.strokeWidth,c.strokeLineDash&&Z.setLineDash(c.strokeLineDash),c.strokeLineDashOffset&&(Z.lineDashOffset=c.strokeLineDashOffset),this._drawToContext(Z,_,F),Z.restore();break;case"fillPath":{Z.save(),Z.fillStyle=c.fill||"";const h=S.shape==="curve"||S.shape==="polygon"||S.shape==="path"?"evenodd":"nonzero";this._drawToContext(Z,_,F,h),Z.restore();break}case"fillSketch":this.fillSketch(Z,_,c)}}fillSketch(S,a,c){let Z=c.fillWeight;Z<0&&(Z=c.strokeWidth/2),S.save(),c.fillLineDash&&S.setLineDash(c.fillLineDash),c.fillLineDashOffset&&(S.lineDashOffset=c.fillLineDashOffset),S.strokeStyle=c.fill||"",S.lineWidth=Z,this._drawToContext(S,a,c.fixedDecimalPlaceDigits),S.restore()}_drawToContext(S,a,c,Z="nonzero"){S.beginPath();for(const F of a.ops){const _=typeof c=="number"&&c>=0?F.data.map(h=>+h.toFixed(c)):F.data;switch(F.op){case"move":S.moveTo(_[0],_[1]);break;case"bcurveTo":S.bezierCurveTo(_[0],_[1],_[2],_[3],_[4],_[5]);break;case"lineTo":S.lineTo(_[0],_[1])}}a.type==="fillPath"?S.fill(Z):S.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(S,a,c,Z,F){const _=this.gen.line(S,a,c,Z,F);return this.draw(_),_}rectangle(S,a,c,Z,F){const _=this.gen.rectangle(S,a,c,Z,F);return this.draw(_),_}ellipse(S,a,c,Z,F){const _=this.gen.ellipse(S,a,c,Z,F);return this.draw(_),_}circle(S,a,c,Z){const F=this.gen.circle(S,a,c,Z);return this.draw(F),F}linearPath(S,a){const c=this.gen.linearPath(S,a);return this.draw(c),c}polygon(S,a){const c=this.gen.polygon(S,a);return this.draw(c),c}arc(S,a,c,Z,F,_,h=!1,x){const G=this.gen.arc(S,a,c,Z,F,_,h,x);return this.draw(G),G}curve(S,a){const c=this.gen.curve(S,a);return this.draw(c),c}path(S,a){const c=this.gen.path(S,a);return this.draw(c),c}}const v="http://www.w3.org/2000/svg";class d{constructor(S,a){this.svg=S,this.gen=new e.V(a)}draw(S){const a=S.sets||[],c=S.options||this.getDefaultOptions(),Z=this.svg.ownerDocument||window.document,F=Z.createElementNS(v,"g"),_=S.options.fixedDecimalPlaceDigits;for(const h of a){let x=null;switch(h.type){case"path":x=Z.createElementNS(v,"path"),x.setAttribute("d",this.opsToPath(h,_)),x.setAttribute("stroke",c.stroke),x.setAttribute("stroke-width",c.strokeWidth+""),x.setAttribute("fill","none"),c.strokeLineDash&&x.setAttribute("stroke-dasharray",c.strokeLineDash.join(" ").trim()),c.strokeLineDashOffset&&x.setAttribute("stroke-dashoffset",`${c.strokeLineDashOffset}`);break;case"fillPath":x=Z.createElementNS(v,"path"),x.setAttribute("d",this.opsToPath(h,_)),x.setAttribute("stroke","none"),x.setAttribute("stroke-width","0"),x.setAttribute("fill",c.fill||""),S.shape!=="curve"&&S.shape!=="polygon"||x.setAttribute("fill-rule","evenodd");break;case"fillSketch":x=this.fillSketch(Z,h,c)}x&&F.appendChild(x)}return F}fillSketch(S,a,c){let Z=c.fillWeight;Z<0&&(Z=c.strokeWidth/2);const F=S.createElementNS(v,"path");return F.setAttribute("d",this.opsToPath(a,c.fixedDecimalPlaceDigits)),F.setAttribute("stroke",c.fill||""),F.setAttribute("stroke-width",Z+""),F.setAttribute("fill","none"),c.fillLineDash&&F.setAttribute("stroke-dasharray",c.fillLineDash.join(" ").trim()),c.fillLineDashOffset&&F.setAttribute("stroke-dashoffset",`${c.fillLineDashOffset}`),F}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(S,a){return this.gen.opsToPath(S,a)}line(S,a,c,Z,F){const _=this.gen.line(S,a,c,Z,F);return this.draw(_)}rectangle(S,a,c,Z,F){const _=this.gen.rectangle(S,a,c,Z,F);return this.draw(_)}ellipse(S,a,c,Z,F){const _=this.gen.ellipse(S,a,c,Z,F);return this.draw(_)}circle(S,a,c,Z){const F=this.gen.circle(S,a,c,Z);return this.draw(F)}linearPath(S,a){const c=this.gen.linearPath(S,a);return this.draw(c)}polygon(S,a){const c=this.gen.polygon(S,a);return this.draw(c)}arc(S,a,c,Z,F,_,h=!1,x){const G=this.gen.arc(S,a,c,Z,F,_,h,x);return this.draw(G)}curve(S,a){const c=this.gen.curve(S,a);return this.draw(c)}path(S,a){const c=this.gen.path(S,a);return this.draw(c)}}var b={canvas:(T,S)=>new w(T,S),svg:(T,S)=>new d(T,S),generator:T=>new e.V(T),newSeed:()=>e.V.newSeed()}},5714:function(We){We.exports=function(te,t,e){var w=[],v=te.length;if(v===0)return w;var d=t<0?Math.max(0,t+v):t||0;for(e!==void 0&&(v=e<0?e+v:e);v-- >d;)w[v-d]=te[v];return w}},2173:function(We,te,t){var e=t(9787),w=typeof Object.is=="function"?Object.is:function(c,Z){return c===Z&&(c!==0||1/c==1/Z)||c!=c&&Z!=Z},v=e.useState,d=e.useEffect,b=e.useLayoutEffect,T=e.useDebugValue;function S(c){var Z=c.getSnapshot;c=c.value;try{var F=Z();return!w(c,F)}catch{return!0}}var a=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(c,Z){return Z()}:function(c,Z){var F=Z(),_=v({inst:{value:F,getSnapshot:Z}}),h=_[0].inst,x=_[1];return b(function(){h.value=F,h.getSnapshot=Z,S(h)&&x({inst:h})},[c,F,Z]),d(function(){return S(h)&&x({inst:h}),c(function(){S(h)&&x({inst:h})})},[c]),T(F),F};te.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:a},5917:function(We,te,t){var e=t(9787),w=t(1374),v=typeof Object.is=="function"?Object.is:function(c,Z){return c===Z&&(c!==0||1/c==1/Z)||c!=c&&Z!=Z},d=w.useSyncExternalStore,b=e.useRef,T=e.useEffect,S=e.useMemo,a=e.useDebugValue;te.useSyncExternalStoreWithSelector=function(c,Z,F,_,h){var x=b(null);if(x.current===null){var G={hasValue:!1,value:null};x.current=G}else G=x.current;x=S(function(){function he(U){if(!X){if(X=!0,ve=U,U=_(U),h!==void 0&&G.hasValue){var R=G.value;if(h(R,U))return fe=R}return fe=U}if(R=fe,v(ve,U))return R;var B=_(U);return h!==void 0&&h(R,B)?R:(ve=U,fe=B)}var ve,fe,X=!1,q=F===void 0?null:F;return[function(){return he(Z())},q===null?void 0:function(){return he(q())}]},[Z,F,_,h]);var le=d(c,x[0],x[1]);return T(function(){G.hasValue=!0,G.value=le},[le]),a(le),le}},1374:function(We,te,t){We.exports=t(2173)},5668:function(We,te,t){We.exports=t(5917)},940:function(We,te,t){var e={"./ar-SA.json":[7822,2091],"./az-AZ.json":[9753,4568],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[2264,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kaa.json":[7941,663],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./km-KH.json":[5845,6566],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[6773,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[125,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[976,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[3458,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function w(v){if(!t.o(e,v))return Promise.resolve().then(function(){var T=new Error("Cannot find module '"+v+"'");throw T.code="MODULE_NOT_FOUND",T});var d=e[v],b=d[0];return Promise.all(d.slice(1).map(t.e)).then(function(){return t.t(b,19)})}w.keys=function(){return Object.keys(e)},w.id=940,We.exports=w},9713:function(We){We.exports=function(te,t,e){return t in te?Object.defineProperty(te,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):te[t]=e,te}},6479:function(We,te,t){var e=t(7316);We.exports=function(w,v){if(w==null)return{};var d,b,T=e(w,v);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(w);for(b=0;b<S.length;b++)d=S[b],v.indexOf(d)>=0||Object.prototype.propertyIsEnumerable.call(w,d)&&(T[d]=w[d])}return T}},7316:function(We){We.exports=function(te,t){if(te==null)return{};var e,w,v={},d=Object.keys(te);for(w=0;w<d.length;w++)e=d[w],t.indexOf(e)>=0||(v[e]=te[e]);return v}},4295:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v),b=t(1667),T=t.n(b),S=new URL(t(3940),t.b),a=new URL(t(3147),t.b),c=new URL(t(8303),t.b),Z=new URL(t(1273),t.b),F=new URL(t(9577),t.b),_=new URL(t(9729),t.b),h=d()(w()),x=T()(S),G=T()(a),le=T()(c),he=T()(Z),ve=T()(F),fe=T()(_);h.push([We.id,'@font-face{font-family:"Virgil";src:url('+x+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+G+');font-display:swap}@font-face{font-family:"Assistant";src:url('+le+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+he+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+ve+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+fe+");font-display:swap;font-weight:700}",""]),te.Z=h},6086:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px var(--color-surface-lowest)}.zoom-button,.undo-redo-buttons button{border-radius:0 !important;background-color:var(--color-surface-low) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),te.Z=d},3729:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:.75rem;font-weight:800;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),te.Z=d},3137:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v),b=t(1667),T=t.n(b),S=new URL(t(7984),t.b),a=new URL(t(1639),t.b),c=d()(w()),Z=T()(S),F=T()(a);c.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+Z+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+F+");--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-on-primary-container))}",""]),te.Z=c},4241:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),te.Z=d},6029:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),te.Z=d},4269:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v),b=t(1667),T=t.n(b),S=new URL(t(9669),t.b),a=d()(w()),c=T()(S);a.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .focus-visible-none:focus-visible{outline:none !important}.excalidraw .color-picker__heading{padding:0 .5rem;font-size:.75rem;text-align:left}.excalidraw .color-picker-container{display:grid;grid-template-columns:1fr 20px 1.625rem;padding:.25rem 0px;align-items:center}.excalidraw--mobile.excalidraw .color-picker-container{max-width:175px}.excalidraw .color-picker__top-picks{display:flex;justify-content:space-between}.excalidraw .color-picker__button{--radius: 0.25rem;padding:0;margin:0;width:1.35rem;height:1.35rem;border:1px solid var(--color-gray-30);border-radius:var(--radius);-webkit-filter:var(--theme-filter);filter:var(--theme-filter);background-color:var(--swatch-color);background-position:left center;position:relative;font-family:inherit;box-sizing:border-box}.excalidraw .color-picker__button:hover::after{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-gray-30);border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button.active .color-picker__button-outline{position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-primary-darkest);z-index:1;border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button:focus-visible{outline:none}.excalidraw .color-picker__button:focus-visible::after{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:3px solid var(--focus-highlight-color);border-radius:calc(var(--radius) + 1px)}.excalidraw .color-picker__button:focus-visible.active .color-picker__button-outline{display:none}.excalidraw .color-picker__button--large{--radius: 0.5rem;width:1.875rem;height:1.875rem}.excalidraw .color-picker__button.is-transparent{background-image:url('+c+")}.excalidraw .color-picker__button--no-focus-visible{border:0}.excalidraw .color-picker__button--no-focus-visible::after{display:none}.excalidraw .color-picker__button--no-focus-visible:focus-visible{outline:none !important}.excalidraw .color-picker__button.active-color{border-radius:calc(var(--radius) + 1px);width:1.625rem;height:1.625rem}.excalidraw .color-picker__button__hotkey-label{position:absolute;right:4px;bottom:4px;-webkit-filter:none;filter:none;font-size:11px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content{display:flex;flex-direction:column;gap:.75rem;outline:none}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, 1.875rem);grid-gap:.25rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+c+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-label{display:grid;grid-template-columns:auto 1fr auto auto;gap:8px;align-items:center;border:1px solid var(--default-border-color);border-radius:8px;padding:0 12px;margin:8px;box-sizing:border-box}.excalidraw .color-picker__input-label:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-hash{padding:0 .25rem}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;font-family:inherit;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),te.Z=a},9393:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),te.Z=d},6578:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;font-family:inherit;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),te.Z=d},9482:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}.excalidraw .Dialog__close{color:var(--color-gray-40);margin:0;position:absolute;top:.75rem;right:.5rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Dialog__close:hover{color:var(--color-gray-60)}.excalidraw .Dialog__close:active{color:var(--color-gray-40)}.excalidraw .Dialog__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Dialog__close{top:1.25rem;right:1.25rem}",""]),te.Z=d},6148:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),te.Z=d},5744:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw .ExcalidrawLogo{--logo-icon--xs: 2rem;--logo-text--xs: 1.5rem;--logo-icon--small: 2.5rem;--logo-text--small: 1.75rem;--logo-icon--normal: 3rem;--logo-text--normal: 2.2rem;--logo-icon--large: 90px;--logo-text--large: 65px;display:flex;align-items:center}.excalidraw .ExcalidrawLogo svg{flex:0 0 auto}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-icon{width:auto;color:var(--color-logo-icon)}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-text{margin-left:.75rem;width:auto;color:var(--color-logo-text)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-icon{height:var(--logo-icon--xs)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-text{height:var(--logo-text--xs)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-icon{height:var(--logo-icon--small)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-text{height:var(--logo-text--small)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-icon{height:var(--logo-icon--normal)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-text{height:var(--logo-text--normal)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-icon{height:var(--logo-icon--large)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-text{height:var(--logo-text--large)}",""]),te.Z=d},7955:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v),b=t(1667),T=t.n(b),S=new URL(t(9669),t.b),a=d()(w()),c=T()(S);a.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+c+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),te.Z=a},7522:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw .excalidraw-eye-dropper-container,.excalidraw .excalidraw-eye-dropper-backdrop{position:absolute;width:100%;height:100%;z-index:var(--zIndex-eyeDropperBackdrop);touch-action:none}.excalidraw .excalidraw-eye-dropper-container{pointer-events:none}.excalidraw .excalidraw-eye-dropper-backdrop{pointer-events:all}.excalidraw .excalidraw-eye-dropper-preview{pointer-events:none;width:3rem;height:3rem;position:fixed;z-index:var(--zIndex-eyeDropperPreview);border-radius:1rem;border:1px solid var(--default-border-color);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .excalidraw-eye-dropper-trigger{width:1.25rem;height:1.25rem;cursor:pointer;padding:4px;margin-right:-4px;margin-left:-2px;border-radius:.5rem;color:var(--icon-fill-color)}.excalidraw .excalidraw-eye-dropper-trigger:hover{background:var(--button-hover-bg)}.excalidraw .excalidraw-eye-dropper-trigger.selected{color:var(--color-primary);background:var(--color-primary-light)}",""]),te.Z=d},8960:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExcButton{--text-color: transparent;--border-color: transparent;--back-color: transparent;color:var(--text-color);background-color:var(--back-color);border-color:var(--border-color);display:flex;justify-content:center;align-items:center;flex-shrink:0;flex-wrap:nowrap;border-radius:.5rem;border-width:1px;border-style:solid;font-family:"Assistant";-webkit-user-select:none;user-select:none;transition:all 150ms ease-out}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled{--text-color: var(--color-surface-lowest);--back-color: var(--color-primary)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:hover{--back-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:active{--back-color: var(--color-brand-active)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon{--text-color: var(--color-primary);--border-color: var(--color-border-outline);--back-color: transparent}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:hover{--text-color: var(--color-brand-hover);--border-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:active{--text-color: var(--color-brand-active);--border-color: var(--color-brand-active)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled{--text-color: var(--color-danger-text);--back-color: var(--color-danger-dark)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:hover{--back-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:active{--back-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon{--text-color: var(--color-danger);--border-color: var(--color-danger);--back-color: transparent}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:hover{--text-color: var(--color-danger-darkest);--border-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:active{--text-color: var(--color-danger-darker);--border-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled{--text-color: var(--island-bg-color);--back-color: var(--color-gray-50)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:hover{--back-color: var(--color-gray-60)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:active{--back-color: var(--color-gray-80)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon{--text-color: var(--color-muted-background);--border-color: var(--color-muted);--back-color: var(--island-bg-color)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:hover{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:active{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled{--text-color: black;--back-color: var(--color-warning-dark)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:hover{--back-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:active{--back-color: var(--color-warning-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon{--text-color: var(--color-warning-dark);--border-color: var(--color-warning-dark);--back-color: var(--input-bg-color)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:hover{--text-color: var(--color-warning-darker);--border-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:active{--text-color: var(--color-warning-darkest);--border-color: var(--color-warning-darkest)}.excalidraw .ExcButton--size-large{font-weight:600;font-size:.875rem;min-height:3rem;padding:.5rem 1.5rem;gap:.75rem;letter-spacing:.4px}.excalidraw .ExcButton--size-medium{font-weight:600;font-size:.75rem;min-height:2.5rem;padding:.5rem 1rem;gap:.5rem;letter-spacing:normal}.excalidraw .ExcButton--variant-icon{padding:.5rem .75rem;width:3rem}.excalidraw .ExcButton--fullWidth{width:100%}.excalidraw .ExcButton__icon{width:1.25rem;height:1.25rem}',""]),te.Z=d},3195:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),te.Z=d},2978:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{--background: var(--color-surface-mid);display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;background-color:var(--background);padding:.625rem 1rem;border:1px solid var(--background);border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw.theme--dark.excalidraw .HelpDialog__btn{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .HelpDialog__btn:hover{--background: #363541}.excalidraw .HelpDialog__btn:hover{--background: var(--color-surface-high);text-decoration:none}.excalidraw .HelpDialog__btn:active{border-color:var(--color-primary)}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),te.Z=d},1587:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),te.Z=d},9478:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),te.Z=d},9706:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v),b=t(1667),T=t.n(b),S=new URL(t(9669),t.b),a=d()(w()),c=T()(S);a.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--ImageExportModal-preview-border: #d6d6d6}.excalidraw.theme--dark{--ImageExportModal-preview-border: #5c5c5c}.excalidraw .ImageExportModal{display:flex;flex-direction:row;justify-content:space-between}.excalidraw .ImageExportModal h3{font-family:"Assistant";font-style:normal;font-weight:700;font-size:1.313rem;line-height:130%;padding:0;margin:0}.excalidraw--mobile.excalidraw .ImageExportModal h3{display:none}.excalidraw .ImageExportModal>h3{display:none}.excalidraw--mobile.excalidraw .ImageExportModal>h3{display:block}.excalidraw--mobile.excalidraw .ImageExportModal{flex-direction:column;height:calc(100vh - 5rem)}.excalidraw .ImageExportModal__preview{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;height:360px;width:55%;margin-right:1.5rem}.excalidraw--mobile.excalidraw .ImageExportModal__preview{max-width:unset;margin-right:unset;width:100%;height:unset;flex-grow:1}.excalidraw .ImageExportModal__preview__filename>input{margin-top:1rem}.excalidraw .ImageExportModal__preview__canvas{box-sizing:border-box;width:100%;height:100%;display:flex;flex-grow:1;justify-content:center;align-items:center;background:url('+c+') left center;border:1px solid var(--ImageExportModal-preview-border);border-radius:12px;overflow:hidden;padding:1rem}.excalidraw .ImageExportModal__preview__canvas>canvas{max-width:calc(100% - 2rem);max-height:calc(100% - 2rem);-webkit-filter:none !important;filter:none !important}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas>canvas{max-height:100%}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas{margin-top:24px;max-width:unset}.excalidraw .ImageExportModal__settings{display:flex;flex-direction:column;flex-wrap:wrap;gap:18px}.excalidraw--mobile.excalidraw .ImageExportModal__settings{margin-left:unset;margin-top:1rem;flex-direction:row;gap:6px 34px;align-content:flex-start}.excalidraw .ImageExportModal__settings__setting{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.excalidraw--mobile.excalidraw .ImageExportModal__settings__setting{flex-direction:column;align-items:start;justify-content:unset;height:52px}.excalidraw .ImageExportModal__settings__setting__label{display:flex;flex-direction:row;align-items:center;font-family:"Assistant";font-weight:600;font-size:1rem;line-height:150%}.excalidraw .ImageExportModal__settings__setting__label svg{width:20px;height:20px;margin-left:10px}.excalidraw .ImageExportModal__settings__setting__content{display:flex;height:100%;align-items:center}.excalidraw .ImageExportModal__settings__buttons{flex-grow:1;flex-wrap:wrap;display:flex;flex-direction:row;gap:11px;align-items:flex-end;align-content:flex-end}.excalidraw--mobile.excalidraw .ImageExportModal__settings__buttons{padding-top:32px;flex-basis:100%;justify-content:center}',""]),te.Z=a},7369:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),te.Z=d},7930:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw .LaserToolOverlay{pointer-events:none;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:2}.excalidraw .LaserToolOverlay .LaserToolOverlayCanvas{image-rendering:auto;overflow:visible;position:absolute;top:0;left:0}",""]),te.Z=d},1434:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{padding:10px;position:absolute;bottom:0;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s;font-family:var(--ui-font);font-size:.75rem;font-weight:500;line-height:1;border-radius:var(--border-radius-lg);border:1px solid var(--default-border-color);background-color:var(--island-bg-color);color:var(--text-primary-color)}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:1rem}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:1rem}.excalidraw .layer-ui__wrapper .disable-zen-mode:hover{background-color:var(--button-hover-bg)}.excalidraw .layer-ui__wrapper .disable-zen-mode:active{border-color:var(--color-primary)}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s;pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left>*,.excalidraw .layer-ui__wrapper .footer-center>*,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),te.Z=d},8923:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,'.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-control-buttons{display:flex;align-items:center;justify-content:center;gap:.625rem;position:relative}.excalidraw .library-menu-control-buttons--at-bottom::before{content:"";width:calc(100% - 1.5rem);height:1px;position:absolute;top:-1px;background:var(--sidebar-border-color)}.excalidraw .library-menu-browse-button{flex:1;height:var(--lg-button-size);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-brand-hover)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-brand-active)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw.excalidraw--mobile .library-menu-browse-button{height:var(--default-button-size)}.excalidraw .layer-ui__library .dropdown-menu{width:auto;top:initial;right:0;left:initial;bottom:100%;margin-bottom:.625rem}.excalidraw .layer-ui__library .dropdown-menu .dropdown-menu-container{width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}.excalidraw .layer-ui__library .library-menu-dropdown-container{position:relative}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading{padding:0;position:absolute;top:1rem;right:.75rem;z-index:1}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading .dropdown-menu{top:100%}',""]),te.Z=d},6440:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{width:100%;display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;position:relative}.excalidraw .library-menu-items-container>div{padding-left:.75rem;padding-right:.75rem}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) 0;flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem;width:100%;padding-right:4rem;box-sizing:border-box}.excalidraw .library-menu-items-container__header--excal{margin-top:2rem}.excalidraw .library-menu-items-container__grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}.excalidraw .library-menu-items-private-library-container{min-height:3.75rem;width:100%}",""]),te.Z=d},5644:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit svg{pointer-events:none}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit--skeleton{opacity:.5;background:linear-gradient(-45deg, var(--color-gray-10), var(--color-gray-20), var(--color-gray-10));background-size:200% 200%;-webkit-animation:library-unit__skeleton-opacity-animation .2s linear;animation:library-unit__skeleton-opacity-animation .2s linear}.excalidraw.theme--dark .library-unit--skeleton{background-image:linear-gradient(-45deg, var(--color-gray-100), var(--color-gray-80), var(--color-gray-100))}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@-webkit-keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}@keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}",""]),te.Z=d},5830:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v),b=t(1667),T=t.n(b),S=new URL(t(9669),t.b),a=d()(w()),c=T()(S);a.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dialog-mermaid-title{margin-bottom:5px;margin-top:2px}.excalidraw .dialog-mermaid-desc{font-size:15px;font-style:italic;font-weight:500}.excalidraw .dialog-mermaid .Modal__content .Island{box-shadow:none}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid{padding:1.25rem}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:100%;max-height:750px}@media screen and (max-width: 860px){.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:auto;max-height:100%}}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island{height:100%;display:flex;flex-direction:column;flex:1 1 auto}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island .Dialog__content{display:flex;flex:1 1 auto}.excalidraw .dialog-mermaid-body{width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto;height:100%;-webkit-column-gap:4rem;column-gap:4rem}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-body{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels{display:grid;width:100%;grid-template-columns:1fr 1fr;justify-content:space-between;gap:4rem;grid-row:1;grid-column:1/3}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels label{font-size:14px;font-style:normal;font-weight:600;margin-bottom:4px;margin-left:4px}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels label{margin-top:4px}}.excalidraw .dialog-mermaid-panels-text{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels-text textarea{width:20rem;height:100%;resize:none;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color);white-space:pre-wrap;padding:.85rem;box-sizing:border-box;width:100%;font-family:monospace}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-text textarea{width:auto;height:10rem}}.excalidraw .dialog-mermaid-panels-preview-wrapper{display:flex;align-items:center;justify-content:center;padding:.85rem;box-sizing:border-box;width:100%;height:200px;flex-grow:1;position:relative;background:url("+c+') left center;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-preview-wrapper{height:400px;width:auto}}.excalidraw .dialog-mermaid-panels-preview-wrapper canvas{max-width:100%;max-height:100%}.excalidraw .dialog-mermaid-panels-preview-canvas-container{display:flex;width:100%;height:100%;align-items:center;justify-content:center;flex-grow:1}.excalidraw .dialog-mermaid-panels-preview{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels .mermaid-error{color:red;font-weight:800;font-size:30px;word-break:break-word;overflow:auto;max-height:100%;height:100%;width:100%;text-align:center;position:absolute;z-index:10}.excalidraw .dialog-mermaid-panels .mermaid-error p{font-weight:500;font-family:Cascadia;text-align:left;white-space:pre-wrap;font-size:.875rem;padding:0 10px}.excalidraw .dialog-mermaid-buttons{grid-column:2}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{font-family:"Assistant";font-weight:600;height:2.5rem;margin-top:1em;margin-bottom:.3em;width:7.5rem;font-size:12px;color:#fff;background-color:var(--color-primary)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:hover{background-color:var(--color-primary-darker)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:active{background-color:var(--color-primary-darkest)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{width:100%}}.excalidraw.theme--dark.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{color:var(--color-gray-100)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert span{padding-left:.5rem;display:flex}',""]),te.Z=a},6843:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:var(--zIndex-modal)}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2);-webkit-animation:Modal__background__fade-in .125s linear forwards;animation:Modal__background__fade-in .125s linear forwards}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}@-webkit-keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Modal{padding:0}.excalidraw .Dialog--fullscreen .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0;max-width:100%;border:0;border-radius:0}",""]),te.Z=d},9439:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .OverwriteConfirm{display:flex;flex-direction:column;align-items:center;gap:.75rem;isolation:isolate}.excalidraw .OverwriteConfirm h3{margin:0;font-weight:700;font-size:1.3125rem;line-height:130%;align-self:flex-start;color:var(--text-primary-color)}.excalidraw .OverwriteConfirm__Description{box-sizing:border-box;display:flex;flex-direction:row;align-items:center;width:100%;gap:1rem;padding:2.5rem;background:var(--color-danger-background);border-radius:.5rem;font-family:"Assistant";font-style:normal;font-weight:400;font-size:1rem;line-height:150%;color:var(--color-danger-color)}.excalidraw--mobile.excalidraw .OverwriteConfirm__Description{flex-direction:column;text-align:center}.excalidraw .OverwriteConfirm__Description__spacer{flex-grow:1}.excalidraw .OverwriteConfirm__Description__icon{box-sizing:border-box;display:flex;align-items:center;justify-content:center;border-radius:2.5rem;background:var(--color-danger-icon-background);width:3.5rem;height:3.5rem;padding:.75rem}.excalidraw .OverwriteConfirm__Description__icon svg{color:var(--color-danger-icon-color);width:1.5rem;height:1.5rem}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning{background:var(--color-warning-background);color:var(--color-warning-color)}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon{background:var(--color-warning-icon-background);flex:0 0 auto}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon svg{color:var(--color-warning-icon-color)}.excalidraw .OverwriteConfirm__Actions{display:flex;flex-direction:row;align-items:stretch;justify-items:stretch;justify-content:center;gap:1.5rem}.excalidraw--mobile.excalidraw .OverwriteConfirm__Actions{flex-direction:column}.excalidraw .OverwriteConfirm__Actions__Action{display:flex;flex-direction:column;align-items:center;padding:1.5rem;gap:.75rem;flex-basis:50%;flex-grow:0}.excalidraw .OverwriteConfirm__Actions__Action__content{height:100%;font-size:.875rem;text-align:center}.excalidraw .OverwriteConfirm__Actions__Action h4{font-weight:700;font-size:1.125rem;line-height:130%;margin:0;color:var(--text-primary-color)}',""]),te.Z=d},8461:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),te.Z=d},9935:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),te.Z=d},532:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),te.Z=d},7589:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),te.Z=d},6217:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--RadioGroup-background: var(--island-bg-color);--RadioGroup-border: var(--color-surface-high);--RadioGroup-choice-color-off: var(--color-primary);--RadioGroup-choice-color-off-hover: var(--color-brand-hover);--RadioGroup-choice-background-off: var(--island-bg-color);--RadioGroup-choice-background-off-active: var(--color-surface-high);--RadioGroup-choice-color-on: var(--color-surface-lowest);--RadioGroup-choice-background-on: var(--color-primary);--RadioGroup-choice-background-on-hover: var(--color-brand-hover);--RadioGroup-choice-background-on-active: var(--color-brand-active)}.excalidraw .RadioGroup{box-sizing:border-box;display:flex;flex-direction:row;align-items:flex-start;padding:3px;border-radius:10px;background:var(--RadioGroup-background);border:1px solid var(--RadioGroup-border)}.excalidraw .RadioGroup__choice{position:relative;display:flex;align-items:center;justify-content:center;width:32px;height:24px;color:var(--RadioGroup-choice-color-off);background:var(--RadioGroup-choice-background-off);border-radius:8px;font-family:"Assistant";font-style:normal;font-weight:600;font-size:.75rem;line-height:100%;-webkit-user-select:none;user-select:none;letter-spacing:.4px;transition:all 75ms ease-out}.excalidraw .RadioGroup__choice:hover{color:var(--RadioGroup-choice-color-off-hover)}.excalidraw .RadioGroup__choice:active{background:var(--RadioGroup-choice-background-off-active)}.excalidraw .RadioGroup__choice.active{color:var(--RadioGroup-choice-color-on);background:var(--RadioGroup-choice-background-on)}.excalidraw .RadioGroup__choice.active:hover{background:var(--RadioGroup-choice-background-on-hover)}.excalidraw .RadioGroup__choice.active:active{background:var(--RadioGroup-choice-background-on-active)}.excalidraw .RadioGroup__choice input{z-index:1;position:absolute;width:100%;height:100%;margin:0;padding:0;border-radius:8px;-webkit-appearance:none;appearance:none;cursor:pointer}',""]),te.Z=d},8208:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;padding:0;box-sizing:border-box;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);pointer-events:var(--ui-pointerEvents);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color)}:root[dir=rtl] .excalidraw .sidebar{left:0;right:auto}.excalidraw .sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem .75rem;position:relative}.excalidraw .sidebar__header::after{content:"";width:calc(100% - 1.5rem);height:1px;background:var(--sidebar-border-color);position:absolute;bottom:-1px}.excalidraw .sidebar__header__buttons{gap:0;display:flex;align-items:center;margin-left:auto}.excalidraw .sidebar__header__buttons button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));--button-bg: transparent;border:0 !important;width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .sidebar__header__buttons button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar__header__buttons button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar__header__buttons button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar__header__buttons button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar__header__buttons button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .sidebar__header__buttons button:hover{background:var(--button-hover-bg, var(--island-bg-color))}.excalidraw .sidebar__header__buttons .sidebar__dock.selected svg{stroke:var(--color-primary);fill:var(--color-primary)}.excalidraw .sidebar-tabs-root{display:flex;flex-direction:column;flex:1 1 auto;padding:1rem 0}.excalidraw .sidebar-tabs-root [role=tabpanel]{flex:1;outline:none;flex:1 1 auto;display:flex;flex-direction:column;outline:none}.excalidraw .sidebar-tabs-root [role=tabpanel][data-state=inactive]{display:none !important}.excalidraw .sidebar-tabs-root [role=tablist]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit, minmax(0, 1fr))}.excalidraw .sidebar-tabs-root>.sidebar__header{padding-top:0;padding-bottom:1rem}.excalidraw .sidebar-tab-trigger{--button-width: auto;--button-bg: transparent;--button-hover-bg: transparent;--button-active-bg: var(--color-primary);--button-hover-color: var(--color-primary);--button-hover-border: var(--color-primary)}.excalidraw .sidebar-tab-trigger[data-state=active]{--button-bg: var(--color-primary);--button-hover-bg: var(--color-primary-darker);--button-hover-color: var(--color-icon-white);--button-border: var(--color-primary);color:var(--color-icon-white)}.excalidraw .default-sidebar{display:flex;flex-direction:column}.excalidraw .default-sidebar .sidebar-triggers{display:flex;gap:0;padding:2px;margin-top:-3px;margin-bottom:-3px;border:1px solid var(--sidebar-border-color);background:var(--default-bg-color);border-radius:.625rem}.excalidraw .default-sidebar .sidebar-triggers .sidebar-tab-trigger{height:var(--lg-button-size);width:var(--lg-button-size);border:none}',""]),te.Z=d},7051:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar-trigger{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.excalidraw .sidebar-trigger svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar-trigger:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar-trigger:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar-trigger.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .sidebar-trigger svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .default-sidebar-trigger .sidebar-trigger__label{display:block}.excalidraw.excalidraw--mobile .default-sidebar-trigger .sidebar-trigger__label{display:none}",""]),te.Z=d},5892:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-animation-delay:var(--spinner-delay);animation-delay:var(--spinner-delay);-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),te.Z=d},3874:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),te.Z=d},2681:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:var(--ui-pointerEvents)}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),te.Z=d},7802:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--Switch-disabled-color: var(--color-border-outline);--Switch-disabled-toggled-background: var(--color-border-outline-variant);--Switch-disabled-border: var(--color-border-outline-variant);--Switch-track-background: var(--island-bg-color);--Switch-thumb-background: var(--color-on-surface);--Switch-hover-background: var(--color-brand-hover);--Switch-active-background: var(--color-brand-active)}.excalidraw .Switch{position:relative;box-sizing:border-box;width:40px;height:20px;border-radius:12px;transition-property:background,border;transition-duration:150ms;transition-timing-function:ease-out;background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-color)}.excalidraw .Switch:hover{background:var(--Switch-track-background);border:1px solid var(--Switch-hover-background)}.excalidraw .Switch:active{border:1px solid var(--Switch-active-background)}.excalidraw .Switch.toggled{background:var(--color-primary);border:1px solid var(--color-primary)}.excalidraw .Switch.toggled:hover{background:var(--color-primary-darker);border:1px solid var(--color-primary-darker)}.excalidraw .Switch.disabled{background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-border)}.excalidraw .Switch.disabled.toggled{background:var(--Switch-disabled-toggled-background);border:1px solid var(--Switch-disabled-toggled-background)}.excalidraw .Switch:before{content:"";box-sizing:border-box;display:block;pointer-events:none;position:absolute;border-radius:100%;transition:all 150ms ease-out;width:10px;height:10px;top:4px;left:4px;background:var(--Switch-thumb-background)}.excalidraw .Switch:active:before{width:12px}.excalidraw .Switch.toggled:before{width:14px;height:14px;left:22px;top:2px;background:var(--Switch-track-background)}.excalidraw .Switch.toggled:active:before{width:16px;left:20px}.excalidraw .Switch.disabled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch.disabled.toggled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch input{width:100%;height:100%;margin:0;border-radius:12px;-webkit-appearance:none;appearance:none;cursor:pointer}.excalidraw .Switch input:disabled{cursor:unset}',""]),te.Z=d},6759:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),te.Z=d},9650:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),te.Z=d},2044:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-on-primary-container)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-surface-primary-container);--keybinding-color: var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--button-active-border)}.excalidraw .ToolIcon .ToolIcon__icon:active svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}@media screen and (max-width: 450px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.8rem;height:1.8rem}}@media screen and (max-width: 379px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.5rem;height:1.5rem}}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .App-toolbar-container .ToolIcon__LaserPointer .ToolIcon__icon{width:var(--default-button-size);height:var(--default-button-size)}",""]),te.Z=d},9144:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .25rem}.excalidraw--mobile.excalidraw .App-toolbar__divider{margin:0}.excalidraw .App-toolbar__extra-tools-trigger{box-shadow:none;border:0;background-color:rgba(0,0,0,0)}.excalidraw .App-toolbar__extra-tools-trigger:active{background-color:var(--button-hover-bg);box-shadow:0 0 0 1px var(--button-active-border, var(--color-primary-darkest)) inset}.excalidraw .App-toolbar__extra-tools-trigger--selected,.excalidraw .App-toolbar__extra-tools-trigger--selected:hover{background:var(--color-primary-light);color:var(--color-primary)}.excalidraw .App-toolbar__extra-tools-dropdown{margin-top:.375rem;right:0;min-width:11.875rem;z-index:1}",""]),te.Z=d},6626:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:fixed;z-index:var(--zIndex-popup);padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),te.Z=d},6359:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),te.Z=d},7399:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{left:0;width:100%;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:var(--island-bg-color);max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-on-surface);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item--selected{background:var(--color-primary-light);--icon-fill-color: var(--color-primary-darker)}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item:active{background-color:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));width:var(--lg-button-size);height:var(--lg-button-size);--background: var(--color-surface-mid);background-color:var(--background)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw.theme--dark.excalidraw .dropdown-menu-button{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .dropdown-menu-button:hover{--background: #363541}.excalidraw .dropdown-menu-button:hover{--background: var(--color-surface-high);background-color:var(--background);text-decoration:none}.excalidraw .dropdown-menu-button:active{border-color:var(--color-primary)}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),te.Z=d},8793:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start;-webkit-margin-end:.6rem;margin-inline-end:.6rem}.footer-center>*{pointer-events:var(--ui-pointerEvents)}",""]),te.Z=d},3397:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);box-shadow:0 0 0 1px var(--color-surface-lowest);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),te.Z=d},4343:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),te.Z=d},1569:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw .welcome-screen-decor a{--color: var(--color-primary);color:var(--color);text-decoration:none;margin-bottom:-6px}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:var(--ui-pointerEvents);color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:1px solid rgba(0,0,0,0);padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw .welcome-screen-menu-item:hover{text-decoration:none;background:var(--button-hover-bg)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item:hover{background-color:var(--color-surface-low)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),te.Z=d},9915:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),te.Z=d},9310:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v),b=t(1667),T=t.n(b),S=new URL(t(7984),t.b),a=new URL(t(1639),t.b),c=d()(w()),Z=T()(S),F=T()(a);c.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+Z+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+F+');--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}:root{--zIndex-canvas: 1;--zIndex-interactiveCanvas: 2;--zIndex-wysiwyg: 3;--zIndex-layerUI: 4;--zIndex-eyeDropperBackdrop: 5;--zIndex-eyeDropperPreview: 6;--zIndex-modal: 1000;--zIndex-popup: 1001;--zIndex-toast: 999999;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top)}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw canvas.interactive{z-index:var(--zIndex-interactiveCanvas)}.excalidraw__canvas-wrapper,.excalidraw__canvas.static{pointer-events:none}.excalidraw__canvas{position:absolute}.excalidraw__embeddable{width:100%;height:100%;border:0}.excalidraw__embeddable-container{position:absolute;z-index:2;-webkit-transform-origin:top left;transform-origin:top left;pointer-events:none}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 1px var(--color-brand-hover)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:var(--ui-pointerEvents)}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-toolbar-content .dropdown-menu--mobile{bottom:55px;top:auto}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .App-menu_top>*{pointer-events:var(--ui-pointerEvents)}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;font-family:inherit;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:var(--ui-pointerEvents);font-family:inherit}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--button-active-border)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .help-icon.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .help-icon:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{border-color:var(--color-brand-hover)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;border-color:var(--color-brand-hover)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw select::-webkit-scrollbar{width:10px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{width:2rem;height:2rem;border-radius:0}.excalidraw .mobile-misc-tools-container .default-sidebar-trigger{border:0}.excalidraw .App-toolbar--mobile{overflow:visible;max-width:98vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.excalidraw .main-menu-trigger{border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low)}.excalidraw .main-menu-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .App-menu__left{--button-border: transparent;--button-bg: var(--color-surface-mid)}.excalidraw.theme--dark.excalidraw .App-menu__left{--button-hover-bg: #363541;--button-bg: var(--color-surface-high)}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}.excalidraw__embeddable-container .excalidraw__embeddable-container__inner{overflow:hidden;display:flex;align-items:center;justify-content:center;border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable__outer{width:100%;height:100%}.excalidraw__embeddable-container .excalidraw__embeddable__outer>*{border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable-hint{position:absolute;z-index:1;background:rgba(0,0,0,.5);padding:1rem 1.6rem;border-radius:12px;color:#fff;font-weight:bold;letter-spacing:.6px;font-family:"Assistant"}',""]),te.Z=c},6464:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,"",""]),d.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},te.Z=d},5260:function(We,te,t){var e=t(8081),w=t.n(e),v=t(3645),d=t.n(v)()(w());d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),te.Z=d},3645:function(We){We.exports=function(te){var t=[];return t.toString=function(){return this.map(function(e){var w="",v=e[5]!==void 0;return e[4]&&(w+="@supports (".concat(e[4],") {")),e[2]&&(w+="@media ".concat(e[2]," {")),v&&(w+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),w+=te(e),v&&(w+="}"),e[2]&&(w+="}"),e[4]&&(w+="}"),w}).join("")},t.i=function(e,w,v,d,b){typeof e=="string"&&(e=[[null,e,void 0]]);var T={};if(v)for(var S=0;S<this.length;S++){var a=this[S][0];a!=null&&(T[a]=!0)}for(var c=0;c<e.length;c++){var Z=[].concat(e[c]);v&&T[Z[0]]||(b!==void 0&&(Z[5]===void 0||(Z[1]="@layer".concat(Z[5].length>0?" ".concat(Z[5]):""," {").concat(Z[1],"}")),Z[5]=b),w&&(Z[2]&&(Z[1]="@media ".concat(Z[2]," {").concat(Z[1],"}")),Z[2]=w),d&&(Z[4]?(Z[1]="@supports (".concat(Z[4],") {").concat(Z[1],"}"),Z[4]=d):Z[4]="".concat(d)),t.push(Z))}},t}},1667:function(We){We.exports=function(te,t){return t||(t={}),te&&(te=String(te.__esModule?te.default:te),/^['"].*['"]$/.test(te)&&(te=te.slice(1,-1)),t.hash&&(te+=t.hash),/["'() \t\n]|(%20)/.test(te)||t.needQuotes?'"'.concat(te.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):te)}},8081:function(We){We.exports=function(te){return te[1]}},7392:function(We,te,t){t.d(te,{JQ:function(){return ve},vD:function(){return le},y7:function(){return G}});var e=t(1930),w=t(7169),v=t(9937),d=t(7651),b=t(583),T=t(4761),S=t(3474),a=t(4183),c=t(9827),Z=t(2767);function F(fe,X){var q=typeof Symbol<"u"&&fe[Symbol.iterator]||fe["@@iterator"];if(!q){if(Array.isArray(fe)||(q=function(E,p){if(E){if(typeof E=="string")return _(E,p);var r=Object.prototype.toString.call(E).slice(8,-1);if(r==="Object"&&E.constructor&&(r=E.constructor.name),r==="Map"||r==="Set")return Array.from(E);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(E,p)}}(fe))||X){q&&(fe=q);var U=0,R=function(){};return{s:R,n:function(){return U>=fe.length?{done:!0}:{done:!1,value:fe[U++]}},e:function(E){throw E},f:R}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,M=!0,I=!1;return{s:function(){q=q.call(fe)},n:function(){var E=q.next();return M=E.done,E},e:function(E){I=!0,B=E},f:function(){try{M||q.return==null||q.return()}finally{if(I)throw B}}}}function _(fe,X){(X==null||X>fe.length)&&(X=fe.length);for(var q=0,U=new Array(X);q<X;q++)U[q]=fe[q];return U}function h(fe,X){var q=Object.keys(fe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(fe);X&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(fe,R).enumerable})),q.push.apply(q,U)}return q}function x(fe){for(var X=1;X<arguments.length;X++){var q=arguments[X]!=null?arguments[X]:{};X%2?h(Object(q),!0).forEach(function(U){(0,w.Z)(fe,U,q[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(q)):h(Object(q)).forEach(function(U){Object.defineProperty(fe,U,Object.getOwnPropertyDescriptor(q,U))})}return fe}var G=(0,Z.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(fe,X,q,U){return U.scene.getSelectedElements(X).some(function(R){return(0,a.Xo)(R)})},perform:function(fe,X,q,U){return U.scene.getSelectedElements(X).forEach(function(R){var B=(0,T.WJ)(R);if(B){var M,I=(0,T.X1)(B.originalText,(0,c.mO)(B),B.lineHeight),E=I.width,p=I.height,r=I.baseline,o=(0,S.eR)(R.id);(0,S.kT)(R.id);var g=(0,T.FE)(R,B),s=g.x,u=g.y;(0,b.DR)(B,{containerId:null,width:E,height:p,baseline:r,text:B.originalText,x:s,y:u}),(0,b.DR)(R,{boundElements:(M=R.boundElements)===null||M===void 0?void 0:M.filter(function(k){return k.id!==B.id}),height:o||R.height})}}),{elements:fe,appState:X,commitToHistory:!0}}}),le=(0,Z.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(fe,X,q,U){var R=U.scene.getSelectedElements(X);if(R.length===2){var B,M=(0,d.iB)(R[0])||(0,d.iB)(R[1]);if((0,a.mG)(R[0])?B=R[0]:(0,a.mG)(R[1])&&(B=R[1]),M&&B&&(0,T.WJ)(B)===null)return!0}return!1},perform:function(fe,X,q,U){var R,B,M=U.scene.getSelectedElements(X);(0,d.iB)(M[0])&&(0,a.mG)(M[1])?(R=M[0],B=M[1]):(R=M[1],B=M[0]),(0,b.DR)(R,{containerId:B.id,verticalAlign:v.oX.MIDDLE,textAlign:v.I8.CENTER}),(0,b.DR)(B,{boundElements:(B.boundElements||[]).concat({type:"text",id:R.id})});var I=B.height;return(0,T.oN)(R,B),(0,S.h_)(B.id,I),{elements:he(fe,B,R),appState:x(x({},X),{},{selectedElementIds:(0,w.Z)({},B.id,!0)}),commitToHistory:!0}}}),he=function(fe,X,q){var U=fe.slice(),R=U.findIndex(function(M){return M.id===q.id});U.splice(R,1);var B=U.findIndex(function(M){return M.id===X.id});return U.splice(B+1,0,q),U},ve=(0,Z.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(fe,X,q,U){var R=U.scene.getSelectedElements(X),B=R.every(function(M){return(0,d.iB)(M)});return R.length>0&&B},perform:function(fe,X,q,U){var R,B=U.scene.getSelectedElements(X),M=fe.slice(),I={},E=F(B);try{var p=function(){var r=R.value;if((0,d.iB)(r)){var o,g=(0,d.Up)({type:"rectangle",backgroundColor:X.currentItemBackgroundColor,boundElements:[].concat((0,e.Z)(r.boundElements||[]),[{id:r.id,type:"text"}]),angle:r.angle,fillStyle:X.currentItemFillStyle,strokeColor:X.currentItemStrokeColor,roughness:X.currentItemRoughness,strokeWidth:X.currentItemStrokeWidth,strokeStyle:X.currentItemStrokeStyle,roundness:X.currentItemRoundness==="round"?{type:(0,a.QI)("rectangle")?v.a6.ADAPTIVE_RADIUS:v.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:r.x-v.gK,y:r.y-v.gK,width:(0,T.NS)(r.width,"rectangle"),height:(0,T.NS)(r.height,"rectangle"),groupIds:r.groupIds,frameId:r.frameId});if((o=r.boundElements)!==null&&o!==void 0&&o.length){var s=r.boundElements.filter(function(u){return u.type==="arrow"}).map(function(u){return u.id});M.filter(function(u){return s.includes(u.id)}).forEach(function(u){var k,N,W=u.startBinding,O=u.endBinding;((k=W)===null||k===void 0?void 0:k.elementId)===r.id&&(W=x(x({},W),{},{elementId:g.id})),((N=O)===null||N===void 0?void 0:N.elementId)===r.id&&(O=x(x({},O),{},{elementId:g.id})),(W||O)&&(0,b.DR)(u,{startBinding:W,endBinding:O},!1)})}(0,b.DR)(r,{containerId:g.id,verticalAlign:v.oX.MIDDLE,boundElements:null,textAlign:v.I8.CENTER},!1),(0,T.oN)(r,g),M=function(u,k,N){var W=u.slice(),O=W.findIndex(function(L){return L.id===k.id});W.splice(O,1);var j=W.findIndex(function(L){return L.id===N.id});return W.splice(j,0,k),W}([].concat((0,e.Z)(M),[g]),g,r),I[g.id]=!0}};for(E.s();!(R=E.n()).done;)p()}catch(r){E.e(r)}finally{E.f()}return{elements:M,appState:x(x({},X),{},{selectedElementIds:I}),commitToHistory:!0}}})},6006:function(We,te,t){t.d(te,{CZ:function(){return M},JB:function(){return I},Lo:function(){return B},Zp:function(){return E},eF:function(){return p},mo:function(){return R}});var e=t(2577),w=t(7169),v=t(193),d=t(8935),b=t(1512),T=t(9937),S=t(7651),a=t(8227),c=t(5491),Z=t(4105),F=t(2382),_=t(4116),h=t(9827),x=t(2767),G=t(8925),le=t(583),he=t(6853),ve=t(9240),fe=t(7652),X=t(4512);function q(r,o){var g=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);o&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),g.push.apply(g,s)}return g}function U(r){for(var o=1;o<arguments.length;o++){var g=arguments[o]!=null?arguments[o]:{};o%2?q(Object(g),!0).forEach(function(s){(0,w.Z)(r,s,g[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(g)):q(Object(g)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(g,s))})}return r}(0,x.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(r,o,g,s){return!!s.props.UIOptions.canvasActions.changeViewBackgroundColor&&!o.viewModeEnabled},perform:function(r,o,g){return{appState:U(U({},o),g),commitToHistory:!!g.viewBackgroundColor}},PanelComponent:function(r){var o=r.elements,g=r.appState,s=r.updateData;return r.appProps,(0,X.jsx)(v.z,{palette:null,topPicks:ve.ay,label:(0,a.t)("labels.canvasBackground"),type:"canvasBackground",color:g.viewBackgroundColor,onChange:function(u){return s({viewBackgroundColor:u})},"data-testid":"canvas-background-picker",elements:o,appState:g,updateData:s})}});var R=(0,x.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(r,o,g,s){return!!s.props.UIOptions.canvasActions.clearCanvas&&!o.viewModeEnabled},perform:function(r,o,g,s){return s.imageCache.clear(),{elements:r.map(function(u){return(0,le.BE)(u,{isDeleted:!0})}),appState:U(U({},(0,he.im)()),{},{files:{},theme:o.theme,penMode:o.penMode,penDetected:o.penDetected,exportBackground:o.exportBackground,exportEmbedScene:o.exportEmbedScene,gridSize:o.gridSize,showStats:o.showStats,pasteDialog:o.pasteDialog,activeTool:o.activeTool.type==="image"?U(U({},o.activeTool),{},{type:"selection"}):o.activeTool}),commitToHistory:!0}}}),B=(0,x.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(r,o,g,s){return{appState:U(U({},o),(0,_.E)({viewportX:o.width/2+o.offsetLeft,viewportY:o.height/2+o.offsetTop,nextZoom:(0,Z.j)(o.zoom.value+T.V4)},o)),commitToHistory:!1}},PanelComponent:function(r){var o=r.updateData;return(0,X.jsx)(b.V,{type:"button",className:"zoom-in-button zoom-button",icon:d.Sd,title:"".concat((0,a.t)("buttons.zoomIn")," — ").concat((0,h.uY)("CtrlOrCmd++")),"aria-label":(0,a.t)("buttons.zoomIn"),onClick:function(){o(null)}})},keyTest:function(r){return(r.code===c.aU.EQUAL||r.code===c.aU.NUM_ADD)&&(r[c.tW.CTRL_OR_CMD]||r.shiftKey)}}),M=(0,x.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(r,o,g,s){return{appState:U(U({},o),(0,_.E)({viewportX:o.width/2+o.offsetLeft,viewportY:o.height/2+o.offsetTop,nextZoom:(0,Z.j)(o.zoom.value-T.V4)},o)),commitToHistory:!1}},PanelComponent:function(r){var o=r.updateData;return(0,X.jsx)(b.V,{type:"button",className:"zoom-out-button zoom-button",icon:d.xL,title:"".concat((0,a.t)("buttons.zoomOut")," — ").concat((0,h.uY)("CtrlOrCmd+-")),"aria-label":(0,a.t)("buttons.zoomOut"),onClick:function(){o(null)}})},keyTest:function(r){return(r.code===c.aU.MINUS||r.code===c.aU.NUM_SUBTRACT)&&(r[c.tW.CTRL_OR_CMD]||r.shiftKey)}}),I=((0,x.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(r,o,g,s){return{appState:U(U({},o),(0,_.E)({viewportX:o.width/2+o.offsetLeft,viewportY:o.height/2+o.offsetTop,nextZoom:(0,Z.j)(1)},o)),commitToHistory:!1}},PanelComponent:function(r){var o=r.updateData,g=r.appState;return(0,X.jsx)(G.u,{label:(0,a.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,X.jsxs)(b.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,a.t)("buttons.resetZoom"),"aria-label":(0,a.t)("buttons.resetZoom"),onClick:function(){o(null)},children:[(100*g.zoom.value).toFixed(0),"%"]})})},keyTest:function(r){return(r.code===c.aU.ZERO||r.code===c.aU.NUM_ZERO)&&(r[c.tW.CTRL_OR_CMD]||r.shiftKey)}}),function(r){var o,g,s,u=r.targetElements,k=r.appState,N=r.fitToViewport,W=N!==void 0&&N,O=r.viewportZoomFactor,j=O===void 0?.7:O,L=(0,S.KP)((0,S.Lm)(u)),V=(0,e.Z)(L,4),ie=V[0],se=V[1],ue=V[2],pe=V[3],Q=(ie+ue)/2,ee=(se+pe)/2;if(W){var me=ue-ie,Te=pe-se;o=Math.min(k.width/me,k.height/Te)*Math.min(1,Math.max(j,.1)),o=Math.min(Math.max(o,.1),30),g=k.width/2*(1/o)-Q,s=k.height/2*(1/o)-ee}else{o=function(qe,Ae){var Oe=(0,e.Z)(qe,4),Ie=Oe[0],Re=Oe[1],ke=Oe[2],xe=Oe[3],ye=ke-Ie,P=Ae.width/ye,l=xe-Re,f=Ae.height/l,D=Math.min(P,f),H=Math.floor(D/T.V4)*T.V4;return Math.min(Math.max(H,T.Zj),1)}(L,{width:k.width,height:k.height});var Ue=(0,F.s)({scenePoint:{x:Q,y:ee},viewportDimensions:{width:k.width,height:k.height},zoom:{value:o}});g=Ue.scrollX,s=Ue.scrollY}return{appState:U(U({},k),{},{scrollX:g,scrollY:s,zoom:{value:o}}),commitToHistory:!1}}),E=((0,x.z)({name:"zoomToFitSelectionInViewport",trackEvent:{category:"canvas"},perform:function(r,o,g,s){var u=s.scene.getSelectedElements(o);return I({targetElements:u.length?u:r,appState:o,fitToViewport:!1})},keyTest:function(r){return r.code===c.aU.TWO&&r.shiftKey&&!r.altKey&&!r[c.tW.CTRL_OR_CMD]}}),(0,x.z)({name:"zoomToFitSelection",trackEvent:{category:"canvas"},perform:function(r,o,g,s){var u=s.scene.getSelectedElements(o);return I({targetElements:u.length?u:r,appState:o,fitToViewport:!0})},keyTest:function(r){return r.code===c.aU.THREE&&r.shiftKey&&!r.altKey&&!r[c.tW.CTRL_OR_CMD]}}),(0,x.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(r,o){return I({targetElements:r,appState:o,fitToViewport:!1})},keyTest:function(r){return r.code===c.aU.ONE&&r.shiftKey&&!r.altKey&&!r[c.tW.CTRL_OR_CMD]}}),(0,x.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(r,o,g){return{appState:U(U({},o),{},{theme:g||(o.theme===T.C6.LIGHT?T.C6.DARK:T.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(r){return r.altKey&&r.shiftKey&&r.code===c.aU.D},predicate:function(r,o,g,s){return!!s.props.UIOptions.canvasActions.toggleTheme}})),p=((0,x.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(r,o){var g;return g=(0,he.EN)(o)?(0,h.Om)(o,U(U({},o.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,h.Om)(o,{type:"eraser",lastActiveToolBeforeEraser:o.activeTool}),{appState:U(U({},o),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:g}),commitToHistory:!0}},keyTest:function(r){return r.key===c.tW.E}}),(0,x.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(r,o,g,s){var u;return(0,he.l$)(o)?u=(0,h.Om)(o,U(U({},o.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(u=(0,h.Om)(o,{type:"hand",lastActiveToolBeforeEraser:o.activeTool}),(0,fe.KJ)(s.interactiveCanvas,T.oc.GRAB)),{appState:U(U({},o),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:u}),commitToHistory:!0}},keyTest:function(r){return!r.altKey&&!r[c.tW.CTRL_OR_CMD]&&r.key===c.tW.H}}))},5047:function(We,te,t){t.d(te,{FA:function(){return U},ZM:function(){return q},jK:function(){return R},uN:function(){return fe},yQ:function(){return X},zp:function(){return B}});var e=t(7169),w=t(8950),v=t(2975),d=t.n(v),b=t(5491),T=t(2767),S=t(4694),a=t(2448),c=t(2435),Z=t(7651),F=t(8227),_=t(9937);function h(M,I){var E=Object.keys(M);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(M);I&&(p=p.filter(function(r){return Object.getOwnPropertyDescriptor(M,r).enumerable})),E.push.apply(E,p)}return E}function x(M){for(var I=1;I<arguments.length;I++){var E=arguments[I]!=null?arguments[I]:{};I%2?h(Object(E),!0).forEach(function(p){(0,e.Z)(M,p,E[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(E)):h(Object(E)).forEach(function(p){Object.defineProperty(M,p,Object.getOwnPropertyDescriptor(E,p))})}return M}var G,le,he,ve,fe=(0,T.z)({name:"copy",trackEvent:{category:"element"},perform:(G=(0,w.Z)(d().mark(function M(I,E,p,r){var o;return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return o=r.scene.getSelectedElements({selectedElementIds:E.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),g.prev=1,g.next=4,(0,S.vQ)(o,r.files,p);case 4:g.next=9;break;case 6:return g.prev=6,g.t0=g.catch(1),g.abrupt("return",{commitToHistory:!1,appState:x(x({},E),{},{errorMessage:g.t0.message})});case 9:return g.abrupt("return",{commitToHistory:!1});case 10:case"end":return g.stop()}},M,null,[[1,6]])})),function(M,I,E,p){return G.apply(this,arguments)}),contextItemLabel:"labels.copy",keyTest:void 0}),X=(0,T.z)({name:"paste",trackEvent:{category:"element"},perform:(le=(0,w.Z)(d().mark(function M(I,E,p,r){var o;return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,(0,S.Se)();case 3:o=g.sent,g.next=14;break;case 6:if(g.prev=6,g.t0=g.catch(0),g.t0.name!=="AbortError"&&g.t0.name!=="NotAllowedError"){g.next=10;break}return g.abrupt("return",!1);case 10:if(console.error("actionPaste ".concat(g.t0.name,": ").concat(g.t0.message)),!_.vU){g.next=13;break}return g.abrupt("return",{commitToHistory:!1,appState:x(x({},E),{},{errorMessage:(0,F.t)("hints.firefox_clipboard_write")})});case 13:return g.abrupt("return",{commitToHistory:!1,appState:x(x({},E),{},{errorMessage:(0,F.t)("errors.asyncPasteFailedOnRead")})});case 14:g.prev=14,r.pasteFromClipboard((0,S.OO)({types:o})),g.next=22;break;case 18:return g.prev=18,g.t1=g.catch(14),console.error(g.t1),g.abrupt("return",{commitToHistory:!1,appState:x(x({},E),{},{errorMessage:(0,F.t)("errors.asyncPasteFailedOnParse")})});case 22:return g.abrupt("return",{commitToHistory:!1});case 23:case"end":return g.stop()}},M,null,[[0,6],[14,18]])})),function(M,I,E,p){return le.apply(this,arguments)}),contextItemLabel:"labels.paste",keyTest:void 0}),q=(0,T.z)({name:"cut",trackEvent:{category:"element"},perform:function(M,I,E,p){return fe.perform(M,I,E,p),a.X.perform(M,I)},contextItemLabel:"labels.cut",keyTest:function(M){return M[b.tW.CTRL_OR_CMD]&&M.key===b.tW.X}}),U=(0,T.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(he=(0,w.Z)(d().mark(function M(I,E,p,r){var o,g,s;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(r.canvas){u.next=2;break}return u.abrupt("return",{commitToHistory:!1});case 2:return o=(0,c.HD)(I,E,!0),g=o.exportedElements,s=o.exportingFrame,u.prev=3,u.next=6,(0,c.p1)("clipboard-svg",g,E,r.files,x(x({},E),{},{exportingFrame:s}));case 6:return u.abrupt("return",{commitToHistory:!1});case 9:return u.prev=9,u.t0=u.catch(3),console.error(u.t0),u.abrupt("return",{appState:x(x({},E),{},{errorMessage:u.t0.message}),commitToHistory:!1});case 13:case"end":return u.stop()}},M,null,[[3,9]])})),function(M,I,E,p){return he.apply(this,arguments)}),predicate:function(M){return S.wx&&M.length>0},contextItemLabel:"labels.copyAsSvg"}),R=(0,T.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(ve=(0,w.Z)(d().mark(function M(I,E,p,r){var o,g,s,u;return d().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(r.canvas){k.next=2;break}return k.abrupt("return",{commitToHistory:!1});case 2:return o=r.scene.getSelectedElements({selectedElementIds:E.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),g=(0,c.HD)(I,E,!0),s=g.exportedElements,u=g.exportingFrame,k.prev=4,k.next=7,(0,c.p1)("clipboard",s,E,r.files,x(x({},E),{},{exportingFrame:u}));case 7:return k.abrupt("return",{appState:x(x({},E),{},{toast:{message:(0,F.t)("toast.copyToClipboardAsPng",{exportSelection:o.length?(0,F.t)("toast.selection"):(0,F.t)("toast.canvas"),exportColorScheme:E.exportWithDarkMode?(0,F.t)("buttons.darkMode"):(0,F.t)("buttons.lightMode")})}}),commitToHistory:!1});case 10:return k.prev=10,k.t0=k.catch(4),console.error(k.t0),k.abrupt("return",{appState:x(x({},E),{},{errorMessage:k.t0.message}),commitToHistory:!1});case 14:case"end":return k.stop()}},M,null,[[4,10]])})),function(M,I,E,p){return ve.apply(this,arguments)}),predicate:function(M){return S.vt&&M.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(M){return M.code===b.aU.C&&M.altKey&&M.shiftKey}}),B=(0,T.z)({name:"copyText",trackEvent:{category:"element"},perform:function(M,I,E,p){var r=p.scene.getSelectedElements({selectedElementIds:I.selectedElementIds,includeBoundTextElement:!0}).reduce(function(o,g){return(0,Z.iB)(g)&&o.push(g.text),o},[]).join(`

`);return(0,S.dd)(r),{commitToHistory:!1}},predicate:function(M,I,E,p){return S.wx&&p.scene.getSelectedElements({selectedElementIds:I.selectedElementIds,includeBoundTextElement:!0}).some(Z.iB)},contextItemLabel:"labels.copyText"})},2448:function(We,te,t){t.d(te,{X:function(){return fe}});var e=t(7169),w=t(4105),v=t(5491),d=t(1512),b=t(8227),T=t(2767),S=t(7651),a=t(583),c=t(9215),Z=t(7422),F=t(9645),_=t(4183),h=t(9827),x=t(8935),G=t(4512);function le(X,q){var U=Object.keys(X);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(X);q&&(R=R.filter(function(B){return Object.getOwnPropertyDescriptor(X,B).enumerable})),U.push.apply(U,R)}return U}function he(X){for(var q=1;q<arguments.length;q++){var U=arguments[q]!=null?arguments[q]:{};q%2?le(Object(U),!0).forEach(function(R){(0,e.Z)(X,R,U[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(U)):le(Object(U)).forEach(function(R){Object.defineProperty(X,R,Object.getOwnPropertyDescriptor(U,R))})}return X}var ve=function(X,q){if(X.editingGroupId){var U=(0,c.Fb)((0,S.Lm)(q),X.editingGroupId);if(U.length)return he(he({},X),{},{selectedElementIds:(0,e.Z)({},U[0].id,!0)})}return X},fe=(0,T.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(X,q){if(q.editingLinearElement){var U=q.editingLinearElement,R=U.elementId,B=U.selectedPointsIndices,M=U.startBindingElement,I=U.endBindingElement,E=Z._.getElement(R);if(!E||B==null)return!1;if(E.points.length<2){var p=X.map(function(u){return u.id===E.id?(0,a.BE)(u,{isDeleted:!0}):u});return{elements:p,appState:he(he({},ve(q,p)),{},{editingLinearElement:null}),commitToHistory:!1}}var r={startBindingElement:B!=null&&B.includes(0)?null:M,endBindingElement:B!=null&&B.includes(E.points.length-1)?null:I};return Z._.deletePoints(E,B),{elements:X,appState:he(he({},q),{},{editingLinearElement:he(he(he({},q.editingLinearElement),r),{},{selectedPointsIndices:B?.[0]>0?[B[0]-1]:[0]})}),commitToHistory:!0}}var o=function(u,k){var N=new Set((0,w.eD)(u.filter(function(W){return W.type==="frame"}),k).map(function(W){return W.id}));return{elements:u.map(function(W){return k.selectedElementIds[W.id]||W.frameId&&N.has(W.frameId)||(0,_.Xh)(W)&&k.selectedElementIds[W.containerId]?(0,a.BE)(W,{isDeleted:!0}):W}),appState:he(he({},k),{},{selectedElementIds:{},selectedGroupIds:{}})}}(X,q),g=o.elements,s=o.appState;return(0,F.$q)(g,X.filter(function(u){var k=u.id;return q.selectedElementIds[k]})),{elements:g,appState:he(he({},s=ve(s,g)),{},{activeTool:(0,h.Om)(q,{type:"selection"}),multiElement:null,activeEmbeddable:null}),commitToHistory:(0,w.N)((0,S.Lm)(X),q)}},contextItemLabel:"labels.delete",keyTest:function(X,q,U){return(X.key===v.tW.BACKSPACE||X.key===v.tW.DELETE)&&!X[v.tW.CTRL_OR_CMD]},PanelComponent:function(X){var q=X.elements,U=X.appState,R=X.updateData;return(0,G.jsx)(d.V,{type:"button",icon:x.XH,title:(0,b.t)("labels.delete"),"aria-label":(0,b.t)("labels.delete"),onClick:function(){return R(null)},visible:(0,w.N)((0,S.Lm)(q),U)})}})},9672:function(We,te,t){t.d(te,{$:function(){return c},U:function(){return Z}});var e=t(7169),w=t(583),v=t(5491),d=t(9827),b=t(2767);function T(F,_){var h=Object.keys(F);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(F);_&&(x=x.filter(function(G){return Object.getOwnPropertyDescriptor(F,G).enumerable})),h.push.apply(h,x)}return h}function S(F){for(var _=1;_<arguments.length;_++){var h=arguments[_]!=null?arguments[_]:{};_%2?T(Object(h),!0).forEach(function(x){(0,e.Z)(F,x,h[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(h)):T(Object(h)).forEach(function(x){Object.defineProperty(F,x,Object.getOwnPropertyDescriptor(h,x))})}return F}var a=function(F){return F.every(function(_){return!_.locked})},c=(0,b.z)({name:"toggleElementLock",trackEvent:{category:"element"},predicate:function(F,_,h,x){return!x.scene.getSelectedElements(_).some(function(G){return G.locked&&G.frameId})},perform:function(F,_,h,x){var G=x.scene.getSelectedElements({selectedElementIds:_.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!G.length)return!1;var le=a(G),he=(0,d.xn)(G);return{elements:F.map(function(ve){return he.has(ve.id)?(0,w.BE)(ve,{locked:le}):ve}),appState:S(S({},_),{},{selectedLinearElement:le?null:_.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(F,_,h){var x=h.scene.getSelectedElements({selectedElementIds:_.selectedElementIds,includeBoundTextElement:!1});return x.length===1&&x[0].type!=="frame"?x[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":a(x)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(F,_,h,x){return F.key.toLocaleLowerCase()===v.tW.L&&F[v.tW.CTRL_OR_CMD]&&F.shiftKey&&x.scene.getSelectedElements({selectedElementIds:_.selectedElementIds,includeBoundTextElement:!1}).length>0}}),Z=(0,b.z)({name:"unlockAllElements",trackEvent:{category:"canvas"},viewMode:!1,predicate:function(F){return F.some(function(_){return _.locked})},perform:function(F,_){var h=F.filter(function(x){return x.locked});return{elements:F.map(function(x){return x.locked?(0,w.BE)(x,{locked:!1}):x}),appState:S(S({},_),{},{selectedElementIds:Object.fromEntries(h.map(function(x){return[x.id,!0]}))}),commitToHistory:!0}},contextItemLabel:"labels.elementLock.unlockAll"})},4406:function(We,te,t){t.d(te,{XA:function(){return Ie},Du:function(){return Re},sK:function(){return Oe},zX:function(){return Ae},bJ:function(){return P},_d:function(){return ye},mM:function(){return xe},ns:function(){return ke}});var e=t(8950),w=t(2577),v=t(7169),d=t(2975),b=t.n(d),T=t(8935),S=t(3379),a=t.n(S),c=t(7795),Z=t.n(c),F=t(569),_=t.n(F),h=t(3565),x=t.n(h),G=t(9216),le=t.n(G),he=t(4589),ve=t.n(he),fe=t(6759),X={};X.styleTagTransform=ve(),X.setAttributes=x(),X.insert=_().bind(null,"head"),X.domAPI=Z(),X.insertStyleElement=le(),a()(fe.Z,X),fe.Z&&fe.Z.locals&&fe.Z.locals;var q=t(9787),U=t(9827),R=t(532),B={};B.styleTagTransform=ve(),B.setAttributes=x(),B.insert=_().bind(null,"head"),B.domAPI=Z(),B.insertStyleElement=le(),a()(R.Z,B),R.Z&&R.Z.locals&&R.Z.locals;var M=t(8242),I=t(5491),E=t(4512),p=function(l){var f=(0,M.J0)().id,D=(0,q.useState)(l.value),H=(0,w.Z)(D,2),J=H[0],re=H[1];return(0,E.jsxs)("div",{className:"ProjectName",children:[(0,E.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(l.label).concat(l.isNameEditable?"":":")}),l.isNameEditable?(0,E.jsx)("input",{type:"text",className:"TextInput",onBlur:function(ae){l.ignoreFocus||(0,U.qz)(ae.target);var ge=ae.target.value;ge!==l.value&&l.onChange(ge)},onKeyDown:function(ae){if(ae.key===I.tW.ENTER){if(ae.preventDefault(),ae.nativeEvent.isComposing||ae.keyCode===229)return;ae.currentTarget.blur()}},id:"".concat(f,"-filename"),value:J,onChange:function(ae){return re(ae.target.value)}}):(0,E.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(f,"-filename"),children:l.value})]})},r=t(1512),o=t(8925),g=(t(3041),t(8227)),s=t(9937),u=function(l){var f=l.title||(l.value==="dark"?(0,g.t)("buttons.lightMode"):(0,g.t)("buttons.darkMode"));return(0,E.jsx)(r.V,{type:"icon",icon:l.value===s.C6.LIGHT?k.MOON:k.SUN,title:f,"aria-label":f,onClick:function(){return l.onChange(l.value===s.C6.DARK?s.C6.LIGHT:s.C6.DARK)},"data-testid":"toggle-dark-mode"})},k={SUN:(0,E.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,E.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,E.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,E.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},N=t(2435),W=t(5796);function O(l,f){var D=Object.keys(l);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(l);f&&(H=H.filter(function(J){return Object.getOwnPropertyDescriptor(l,J).enumerable})),D.push.apply(D,H)}return D}function j(l){for(var f=1;f<arguments.length;f++){var D=arguments[f]!=null?arguments[f]:{};f%2?O(Object(D),!0).forEach(function(H){(0,v.Z)(l,H,D[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(D)):O(Object(D)).forEach(function(H){Object.defineProperty(l,H,Object.getOwnPropertyDescriptor(D,H))})}return l}var L=function(){var l=(0,e.Z)(b().mark(function f(D,H,J){var re,ae,ge,_e,ze,Je,et,Ke,tt;return b().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(ae=(re=H).exportBackground,ge=re.viewBackgroundColor,_e=re.name,ze=re.fileHandle,Je=(0,W.Qk)(ze),ze&&(0,W.DQ)(Je)){ut.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return H=j(j({},H),{},{exportEmbedScene:!0}),et=(0,N.HD)(D,H,!1),Ke=et.exportedElements,tt=et.exportingFrame,ut.next=8,(0,N.p1)(Je,Ke,H,J,{exportBackground:ae,viewBackgroundColor:ge,name:_e,fileHandle:ze,exportingFrame:tt});case 8:return ut.abrupt("return",{fileHandle:ze});case 9:case"end":return ut.stop()}},f)}));return function(f,D,H){return l.apply(this,arguments)}}(),V=t(2767),ie=t(6238),se=t(3668),ue=t(4105),pe=t(7651),Q=t(6548);function ee(l,f){var D=Object.keys(l);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(l);f&&(H=H.filter(function(J){return Object.getOwnPropertyDescriptor(l,J).enumerable})),D.push.apply(D,H)}return D}function me(l){for(var f=1;f<arguments.length;f++){var D=arguments[f]!=null?arguments[f]:{};f%2?ee(Object(D),!0).forEach(function(H){(0,v.Z)(l,H,D[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(D)):ee(Object(D)).forEach(function(H){Object.defineProperty(l,H,Object.getOwnPropertyDescriptor(D,H))})}return l}var Te,Ue,qe,Ae=(0,V.z)({name:"changeProjectName",trackEvent:!1,perform:function(l,f,D){return{appState:me(me({},f),{},{name:D}),commitToHistory:!1}},PanelComponent:function(l){var f,D=l.appState,H=l.updateData,J=l.appProps,re=l.data;return(0,E.jsx)(p,{label:(0,g.t)("labels.fileTitle"),value:D.name||"Unnamed",onChange:function(ae){return H(ae)},isNameEditable:J.name===void 0&&!D.viewModeEnabled,ignoreFocus:(f=re?.ignoreFocus)!==null&&f!==void 0&&f})}}),Oe=(0,V.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(l,f,D){return{appState:me(me({},f),{},{exportScale:D}),commitToHistory:!1}},PanelComponent:function(l){var f=l.elements,D=l.appState,H=l.updateData,J=(0,pe.Lm)(f),re=(0,ue.N)(J,D)?(0,ue.eD)(J,D):J;return(0,E.jsx)(E.Fragment,{children:s.ZB.map(function(ae){var ge=(0,se.Cg)(re,s.qy,ae),_e=(0,w.Z)(ge,2),ze=_e[0],Je=_e[1],et="".concat((0,g.t)("imageExportDialog.label.scale")," ").concat(ae,"x (").concat(ze,"x").concat(Je,")");return(0,E.jsx)(r.V,{size:"small",type:"radio",icon:"".concat(ae,"x"),name:"export-canvas-scale",title:et,"aria-label":et,id:"export-canvas-scale",checked:ae===D.exportScale,onChange:function(){return H(ae)}},ae)})})}}),Ie=(0,V.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(l,f,D){return{appState:me(me({},f),{},{exportBackground:D}),commitToHistory:!1}},PanelComponent:function(l){var f=l.appState,D=l.updateData;return(0,E.jsx)(ie.o,{checked:f.exportBackground,onChange:function(H){return D(H)},children:(0,g.t)("imageExportDialog.label.withBackground")})}}),Re=(0,V.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(l,f,D){return{appState:me(me({},f),{},{exportEmbedScene:D}),commitToHistory:!1}},PanelComponent:function(l){var f=l.appState,D=l.updateData;return(0,E.jsxs)(ie.o,{checked:f.exportEmbedScene,onChange:function(H){return D(H)},children:[(0,g.t)("imageExportDialog.label.embedScene"),(0,E.jsx)(o.u,{label:(0,g.t)("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,E.jsx)("div",{className:"excalidraw-tooltip-icon",children:T.Vl})})]})}}),ke=(0,V.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(l,f,D,H){return!!H.props.UIOptions.canvasActions.saveToActiveFile&&!!f.fileHandle&&!f.viewModeEnabled},perform:(Te=(0,e.Z)(b().mark(function l(f,D,H,J){var re,ae,ge;return b().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(re=!!D.fileHandle,_e.prev=1,!(0,W.g8)(D.fileHandle)){_e.next=8;break}return _e.next=5,L(f,D,J.files);case 5:_e.t0=_e.sent,_e.next=11;break;case 8:return _e.next=10,(0,N.Um)(f,D,J.files);case 10:_e.t0=_e.sent;case 11:return ae=_e.t0,ge=ae.fileHandle,_e.abrupt("return",{commitToHistory:!1,appState:me(me({},D),{},{fileHandle:ge,toast:re?{message:ge!=null&&ge.name?(0,g.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(ge.name,'"')):(0,g.t)("toast.fileSaved")}:null})});case 16:return _e.prev=16,_e.t1=_e.catch(1),(_e.t1===null||_e.t1===void 0?void 0:_e.t1.name)!=="AbortError"?console.error(_e.t1):console.warn(_e.t1),_e.abrupt("return",{commitToHistory:!1});case 20:case"end":return _e.stop()}},l,null,[[1,16]])})),function(l,f,D,H){return Te.apply(this,arguments)}),keyTest:function(l){return l.key===I.tW.S&&l[I.tW.CTRL_OR_CMD]&&!l.shiftKey}}),xe=(0,V.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(Ue=(0,e.Z)(b().mark(function l(f,D,H,J){var re,ae;return b().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.prev=0,ge.next=3,(0,N.Um)(f,me(me({},D),{},{fileHandle:null}),J.files);case 3:return re=ge.sent,ae=re.fileHandle,ge.abrupt("return",{commitToHistory:!1,appState:me(me({},D),{},{openDialog:null,fileHandle:ae,toast:{message:(0,g.t)("toast.fileSaved")}})});case 8:return ge.prev=8,ge.t0=ge.catch(0),(ge.t0===null||ge.t0===void 0?void 0:ge.t0.name)!=="AbortError"?console.error(ge.t0):console.warn(ge.t0),ge.abrupt("return",{commitToHistory:!1});case 12:case"end":return ge.stop()}},l,null,[[0,8]])})),function(l,f,D,H){return Ue.apply(this,arguments)}),keyTest:function(l){return l.key===I.tW.S&&l.shiftKey&&l[I.tW.CTRL_OR_CMD]},PanelComponent:function(l){var f=l.updateData;return(0,E.jsx)(r.V,{type:"button",icon:T.po,title:(0,g.t)("buttons.saveAs"),"aria-label":(0,g.t)("buttons.saveAs"),showAriaLabel:(0,M.Fy)().editor.isMobile,hidden:!Q.kr,onClick:function(){return f(null)},"data-testid":"save-as-button"})}}),ye=(0,V.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(l,f,D,H){return!!H.props.UIOptions.canvasActions.loadScene&&!f.viewModeEnabled},perform:(qe=(0,e.Z)(b().mark(function l(f,D,H,J){var re,ae,ge,_e;return b().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return ze.prev=0,ze.next=3,(0,N.n8)(D,f);case 3:return re=ze.sent,ae=re.elements,ge=re.appState,_e=re.files,ze.abrupt("return",{elements:ae,appState:ge,files:_e,commitToHistory:!0});case 10:if(ze.prev=10,ze.t0=ze.catch(0),(ze.t0===null||ze.t0===void 0?void 0:ze.t0.name)!=="AbortError"){ze.next=15;break}return console.warn(ze.t0),ze.abrupt("return",!1);case 15:return ze.abrupt("return",{elements:f,appState:me(me({},D),{},{errorMessage:ze.t0.message}),files:J.files,commitToHistory:!1});case 16:case"end":return ze.stop()}},l,null,[[0,10]])})),function(l,f,D,H){return qe.apply(this,arguments)}),keyTest:function(l){return l[I.tW.CTRL_OR_CMD]&&l.key===I.tW.O}}),P=(0,V.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(l,f,D){return{appState:me(me({},f),{},{exportWithDarkMode:D}),commitToHistory:!1}},PanelComponent:function(l){var f=l.appState,D=l.updateData;return(0,E.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,E.jsx)(u,{value:f.exportWithDarkMode?s.C6.DARK:s.C6.LIGHT,onChange:function(H){D(H===s.C6.DARK)},title:(0,g.t)("imageExportDialog.label.darkMode")})})}})},3361:function(We,te,t){t.d(te,{Tu:function(){return Ue},Zq:function(){return qe}});var e=t(1930),w=t(7169),v=t(9240),d=t(3646),b=t(45),T=t(4512),S=function(Ae){return(0,T.jsx)("div",{className:"buttonList buttonListIcon",children:Ae.options.map(function(Oe){var Ie;return Ae.type==="button"?(0,T.jsx)("button",{onClick:function(Re){return Ae.onClick(Oe.value,Re)},className:(0,b.Z)({active:(Ie=Oe.active)!==null&&Ie!==void 0?Ie:Ae.value===Oe.value}),"data-testid":Oe.testId,title:Oe.text,children:Oe.icon},Oe.text):(0,T.jsxs)("label",{className:(0,b.Z)({active:Ae.value===Oe.value}),title:Oe.text,children:[(0,T.jsx)("input",{type:"radio",name:Ae.group,onChange:function(){return Ae.onChange(Oe.value)},checked:Ae.value===Oe.value,"data-testid":Oe.testId}),Oe.icon]},Oe.text)})})},a=t(193),c=t(2577),Z=t(9787),F=t.n(Z),_=t(3204),h=t(3379),x=t.n(h),G=t(7795),le=t.n(G),he=t(569),ve=t.n(he),fe=t(3565),X=t.n(fe),q=t(9216),U=t.n(q),R=t(4589),B=t.n(R),M=t(9478),I={};I.styleTagTransform=B(),I.setAttributes=X(),I.insert=ve().bind(null,"head"),I.domAPI=le(),I.insertStyleElement=U(),x()(M.Z,I),M.Z&&M.Z.locals&&M.Z.locals;var E=t(5491),p=t(8227);function r(Ae,Oe){var Ie=Object.keys(Ae);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(Ae);Oe&&(Re=Re.filter(function(ke){return Object.getOwnPropertyDescriptor(Ae,ke).enumerable})),Ie.push.apply(Ie,Re)}return Ie}function o(Ae){for(var Oe=1;Oe<arguments.length;Oe++){var Ie=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?r(Object(Ie),!0).forEach(function(Re){(0,w.Z)(Ae,Re,Ie[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(Ie)):r(Object(Ie)).forEach(function(Re){Object.defineProperty(Ae,Re,Object.getOwnPropertyDescriptor(Ie,Re))})}return Ae}function g(Ae){var Oe=Ae.options,Ie=Ae.value,Re=Ae.label,ke=Ae.onChange,xe=Ae.onClose,ye=F().useRef(),P=F().useRef(),l=F().useRef(null);return F().useEffect(function(){P.current?P.current.focus():l.current&&l.current.focus()},[]),(0,T.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":Re,onKeyDown:function(f){var D=Oe.find(function(ze){return ze.keyBinding===f.key.toLowerCase()});if(f.metaKey||f.altKey||f.ctrlKey||!D)if(f.key===E.tW.TAB)setTimeout(function(){P.current!==document.activeElement&&xe()},0);else if((0,E.Wl)(f.key)){var H=document.activeElement,J=(0,p.G3)().rtl,re=Array.prototype.indexOf.call(l.current.children,H);if(re!==-1){var ae=Oe.length,ge=re;switch(f.key){case(J?E.tW.ARROW_LEFT:E.tW.ARROW_RIGHT):case E.tW.ARROW_DOWN:ge=(re+1)%ae;break;case(J?E.tW.ARROW_RIGHT:E.tW.ARROW_LEFT):case E.tW.ARROW_UP:ge=(ae+re-1)%ae}l.current.children[ge].focus()}f.preventDefault()}else f.key!==E.tW.ESCAPE&&f.key!==E.tW.ENTER||(f.preventDefault(),xe());else{var _e=Oe.indexOf(D);l.current.children[_e].focus(),f.preventDefault()}f.nativeEvent.stopImmediatePropagation(),f.stopPropagation()},children:(0,T.jsx)("div",{className:"picker-content",ref:l,children:Oe.map(function(f,D){return(0,T.jsxs)("button",{className:(0,b.Z)("picker-option",{active:Ie===f.value}),onClick:function(H){H.currentTarget.focus(),ke(f.value)},title:"".concat(f.text," — ").concat(f.keyBinding.toUpperCase()),"aria-label":f.text||"none","aria-keyshortcuts":f.keyBinding,ref:function(H){H&&D===0&&(ye.current=H),H&&f.value===Ie&&(P.current=H)},onFocus:function(){ke(f.value)},children:[f.icon,(0,T.jsx)("span",{className:"picker-keybinding",children:f.keyBinding})]},f.text)})})})}function s(Ae){var Oe,Ie=Ae.value,Re=Ae.label,ke=Ae.options,xe=Ae.onChange,ye=Ae.group,P=ye===void 0?"":ye,l=F().useState(!1),f=(0,c.Z)(l,2),D=f[0],H=f[1],J=F().useRef(null),re=(0,p.G3)().rtl;return(0,T.jsxs)("div",{children:[(0,T.jsx)("button",{name:P,className:D?"active":"","aria-label":Re,onClick:function(){return H(!D)},ref:J,children:(Oe=ke.find(function(ae){return ae.value===Ie}))===null||Oe===void 0?void 0:Oe.icon}),(0,T.jsx)(F().Suspense,{fallback:"",children:D?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(_.J,o(o({onCloseRequest:function(ae){return ae.target!==J.current&&H(!1)}},re?{right:5.5}:{left:-5.5}),{},{children:(0,T.jsx)(g,{options:ke,value:Ie,label:Re,onChange:xe,onClose:function(){var ae;H(!1),(ae=J.current)===null||ae===void 0||ae.focus()}})})),(0,T.jsx)("div",{className:"picker-triangle"})]}):null})]})}var u=t(8935),k=t(9937),N=t(7651),W=t(583),O=t(4761),j=t(4183),L=t(4643),V=t(4105),ie=t(1648),se=t(9827),ue=t(2767);function pe(Ae,Oe){var Ie=Object.keys(Ae);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(Ae);Oe&&(Re=Re.filter(function(ke){return Object.getOwnPropertyDescriptor(Ae,ke).enumerable})),Ie.push.apply(Ie,Re)}return Ie}function Q(Ae){for(var Oe=1;Oe<arguments.length;Oe++){var Ie=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?pe(Object(Ie),!0).forEach(function(Re){(0,w.Z)(Ae,Re,Ie[Re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(Ie)):pe(Object(Ie)).forEach(function(Re){Object.defineProperty(Ae,Re,Object.getOwnPropertyDescriptor(Ie,Re))})}return Ae}var ee=function(Ae,Oe,Ie){var Re=arguments.length>3&&arguments[3]!==void 0&&arguments[3],ke=(0,se.xn)((0,V.eD)(Ae,Oe,{includeBoundTextElement:Re}));return Ae.map(function(xe){var ye;return ke.get(xe.id)||xe.id===((ye=Oe.editingElement)===null||ye===void 0?void 0:ye.id)?Ie(xe):xe})},me=function(Ae,Oe,Ie,Re,ke){var xe,ye=Oe.editingElement,P=(0,N.Lm)(Ae),l=null;return ye&&(l=Ie(ye)),l||(l=(0,V.N)(P,Oe)?(xe=(0,V.PR)(Re===!0?P:P.filter(function(f){return Re(f)}),Oe,Ie))!==null&&xe!==void 0?xe:typeof ke=="function"?ke(!0):ke:typeof ke=="function"?ke(!1):ke),l},Te=function(Ae,Oe,Ie,Re){var ke=new Set;return{elements:ee(Ae,Oe,function(xe){if((0,N.iB)(xe)){var ye=Ie(xe);ke.add(ye);var P=(0,W.BE)(xe,{fontSize:ye});return(0,N.oN)(P,(0,O.tl)(xe)),l=xe,f=P,P=(0,j.Xh)(f)?f:(0,W.DR)(f,{x:l.textAlign==="left"?l.x:l.x+(l.width-f.width)/(l.textAlign==="center"?2:1),y:l.y+(l.height-f.height)/2},!1)}var l,f;return xe},!0),appState:Q(Q({},Oe),{},{currentItemFontSize:ke.size===1?(0,e.Z)(ke)[0]:Re??Oe.currentItemFontSize}),commitToHistory:!0}},Ue=((0,ue.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(Ae,Oe,Ie){return Q(Q({},Ie.currentItemStrokeColor&&{elements:ee(Ae,Oe,function(Re){return(0,ie.PD)(Re.type)?(0,W.BE)(Re,{strokeColor:Ie.currentItemStrokeColor}):Re},!0)}),{},{appState:Q(Q({},Oe),Ie),commitToHistory:!!Ie.currentItemStrokeColor})},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData;return Ae.appProps,(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("h3",{"aria-hidden":"true",children:(0,p.t)("labels.stroke")}),(0,T.jsx)(a.z,{topPicks:v.fY,palette:v.Wk,type:"elementStroke",label:(0,p.t)("labels.stroke"),color:me(Oe,Ie,function(ke){return ke.strokeColor},!0,Ie.currentItemStrokeColor),onChange:function(ke){return Re({currentItemStrokeColor:ke})},elements:Oe,appState:Ie,updateData:Re})]})}}),(0,ue.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(Ae,Oe,Ie){return Q(Q({},Ie.currentItemBackgroundColor&&{elements:ee(Ae,Oe,function(Re){return(0,W.BE)(Re,{backgroundColor:Ie.currentItemBackgroundColor})})}),{},{appState:Q(Q({},Oe),Ie),commitToHistory:!!Ie.currentItemBackgroundColor})},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData;return Ae.appProps,(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("h3",{"aria-hidden":"true",children:(0,p.t)("labels.background")}),(0,T.jsx)(a.z,{topPicks:v.eq,palette:v.SF,type:"elementBackground",label:(0,p.t)("labels.background"),color:me(Oe,Ie,function(ke){return ke.backgroundColor},!0,Ie.currentItemBackgroundColor),onChange:function(ke){return Re({currentItemBackgroundColor:ke})},elements:Oe,appState:Ie,updateData:Re})]})}}),(0,ue.z)({name:"changeFillStyle",trackEvent:!1,perform:function(Ae,Oe,Ie,Re){return(0,d.L)("element","changeFillStyle","".concat(Ie," (").concat(Re.device.editor.isMobile?"mobile":"desktop",")")),{elements:ee(Ae,Oe,function(ke){return(0,W.BE)(ke,{fillStyle:Ie})}),appState:Q(Q({},Oe),{},{currentItemFillStyle:Ie}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData,ke=(0,V.eD)(Oe,Ie),xe=ke.length>0&&ke.every(function(ye){return ye.fillStyle==="zigzag"});return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,p.t)("labels.fill")}),(0,T.jsx)(S,{type:"button",options:[{value:"hachure",text:"".concat(xe?(0,p.t)("labels.zigzag"):(0,p.t)("labels.hachure")," (").concat((0,se.uY)("Alt-Click"),")"),icon:xe?u.lF:u.a0,active:!!xe||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:(0,p.t)("labels.crossHatch"),icon:u.np,testId:"fill-cross-hatch"},{value:"solid",text:(0,p.t)("labels.solid"),icon:u.X7,testId:"fill-solid"}],value:me(Oe,Ie,function(ye){return ye.fillStyle},function(ye){return ye.hasOwnProperty("fillStyle")},function(ye){return ye?null:Ie.currentItemFillStyle}),onClick:function(ye,P){var l=P.altKey&&ye==="hachure"&&ke.every(function(f){return f.fillStyle==="hachure"})?"zigzag":ye;Re(l)}})]})}}),(0,ue.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(Ae,Oe,Ie){return{elements:ee(Ae,Oe,function(Re){return(0,W.BE)(Re,{strokeWidth:Ie})}),appState:Q(Q({},Oe),{},{currentItemStrokeWidth:Ie}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,p.t)("labels.strokeWidth")}),(0,T.jsx)(S,{group:"stroke-width",options:[{value:k.dg.thin,text:(0,p.t)("labels.thin"),icon:u.ZA,testId:"strokeWidth-thin"},{value:k.dg.bold,text:(0,p.t)("labels.bold"),icon:u.Wl,testId:"strokeWidth-bold"},{value:k.dg.extraBold,text:(0,p.t)("labels.extraBold"),icon:u.m9,testId:"strokeWidth-extraBold"}],value:me(Oe,Ie,function(ke){return ke.strokeWidth},function(ke){return ke.hasOwnProperty("strokeWidth")},function(ke){return ke?null:Ie.currentItemStrokeWidth}),onChange:function(ke){return Re(ke)}})]})}}),(0,ue.z)({name:"changeSloppiness",trackEvent:!1,perform:function(Ae,Oe,Ie){return{elements:ee(Ae,Oe,function(Re){return(0,W.BE)(Re,{seed:(0,L.LU)(),roughness:Ie})}),appState:Q(Q({},Oe),{},{currentItemRoughness:Ie}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,p.t)("labels.sloppiness")}),(0,T.jsx)(S,{group:"sloppiness",options:[{value:0,text:(0,p.t)("labels.architect"),icon:u.bf},{value:1,text:(0,p.t)("labels.artist"),icon:u.kM},{value:2,text:(0,p.t)("labels.cartoonist"),icon:u.W2}],value:me(Oe,Ie,function(ke){return ke.roughness},function(ke){return ke.hasOwnProperty("roughness")},function(ke){return ke?null:Ie.currentItemRoughness}),onChange:function(ke){return Re(ke)}})]})}}),(0,ue.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(Ae,Oe,Ie){return{elements:ee(Ae,Oe,function(Re){return(0,W.BE)(Re,{strokeStyle:Ie})}),appState:Q(Q({},Oe),{},{currentItemStrokeStyle:Ie}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,p.t)("labels.strokeStyle")}),(0,T.jsx)(S,{group:"strokeStyle",options:[{value:"solid",text:(0,p.t)("labels.strokeStyle_solid"),icon:u.ZA},{value:"dashed",text:(0,p.t)("labels.strokeStyle_dashed"),icon:u.a5},{value:"dotted",text:(0,p.t)("labels.strokeStyle_dotted"),icon:u.aT}],value:me(Oe,Ie,function(ke){return ke.strokeStyle},function(ke){return ke.hasOwnProperty("strokeStyle")},function(ke){return ke?null:Ie.currentItemStrokeStyle}),onChange:function(ke){return Re(ke)}})]})}}),(0,ue.z)({name:"changeOpacity",trackEvent:!1,perform:function(Ae,Oe,Ie){return{elements:ee(Ae,Oe,function(Re){return(0,W.BE)(Re,{opacity:Ie})},!0),appState:Q(Q({},Oe),{},{currentItemOpacity:Ie}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe,Ie=Ae.elements,Re=Ae.appState,ke=Ae.updateData;return(0,T.jsxs)("label",{className:"control-label",children:[(0,p.t)("labels.opacity"),(0,T.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(xe){return ke(+xe.target.value)},value:(Oe=me(Ie,Re,function(xe){return xe.opacity},!0,Re.currentItemOpacity))!==null&&Oe!==void 0?Oe:void 0})]})}}),(0,ue.z)({name:"changeFontSize",trackEvent:!1,perform:function(Ae,Oe,Ie){return Te(Ae,Oe,function(){return Ie},Ie)},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,p.t)("labels.fontSize")}),(0,T.jsx)(S,{group:"font-size",options:[{value:16,text:(0,p.t)("labels.small"),icon:u.q0,testId:"fontSize-small"},{value:20,text:(0,p.t)("labels.medium"),icon:u.nq,testId:"fontSize-medium"},{value:28,text:(0,p.t)("labels.large"),icon:u.tW,testId:"fontSize-large"},{value:36,text:(0,p.t)("labels.veryLarge"),icon:u.OA,testId:"fontSize-veryLarge"}],value:me(Oe,Ie,function(ke){if((0,N.iB)(ke))return ke.fontSize;var xe=(0,O.WJ)(ke);return xe?xe.fontSize:null},function(ke){return(0,N.iB)(ke)||(0,O.WJ)(ke)!==null},function(ke){return ke?null:Ie.currentItemFontSize||k.n5}),onChange:function(ke){return Re(ke)}})]})}}),(0,ue.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(Ae,Oe,Ie){return Te(Ae,Oe,function(Re){return Math.round(1/1.1*Re.fontSize)})},keyTest:function(Ae){return Ae[E.tW.CTRL_OR_CMD]&&Ae.shiftKey&&(Ae.key===E.tW.CHEVRON_LEFT||Ae.key===E.tW.COMMA)}})),qe=(0,ue.z)({name:"increaseFontSize",trackEvent:!1,perform:function(Ae,Oe,Ie){return Te(Ae,Oe,function(Re){return Math.round(1.1*Re.fontSize)})},keyTest:function(Ae){return Ae[E.tW.CTRL_OR_CMD]&&Ae.shiftKey&&(Ae.key===E.tW.CHEVRON_RIGHT||Ae.key===E.tW.PERIOD)}});(0,ue.z)({name:"changeFontFamily",trackEvent:!1,perform:function(Ae,Oe,Ie){return{elements:ee(Ae,Oe,function(Re){if((0,N.iB)(Re)){var ke=(0,W.BE)(Re,{fontFamily:Ie,lineHeight:(0,O.PT)(Ie)});return(0,N.oN)(ke,(0,O.tl)(Re)),ke}return Re},!0),appState:Q(Q({},Oe),{},{currentItemFontFamily:Ie}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData,ke=[{value:k.ut.Virgil,text:(0,p.t)("labels.handDrawn"),icon:u.Pm,testId:"font-family-virgil"},{value:k.ut.Helvetica,text:(0,p.t)("labels.normal"),icon:u.vo,testId:"font-family-normal"},{value:k.ut.Cascadia,text:(0,p.t)("labels.code"),icon:u.z6,testId:"font-family-code"}];return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,p.t)("labels.fontFamily")}),(0,T.jsx)(S,{group:"font-family",options:ke,value:me(Oe,Ie,function(xe){if((0,N.iB)(xe))return xe.fontFamily;var ye=(0,O.WJ)(xe);return ye?ye.fontFamily:null},function(xe){return(0,N.iB)(xe)||(0,O.WJ)(xe)!==null},function(xe){return xe?null:Ie.currentItemFontFamily||k.rk}),onChange:function(xe){return Re(xe)}})]})}}),(0,ue.z)({name:"changeTextAlign",trackEvent:!1,perform:function(Ae,Oe,Ie){return{elements:ee(Ae,Oe,function(Re){if((0,N.iB)(Re)){var ke=(0,W.BE)(Re,{textAlign:Ie});return(0,N.oN)(ke,(0,O.tl)(Re)),ke}return Re},!0),appState:Q(Q({},Oe),{},{currentItemTextAlign:Ie}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,p.t)("labels.textAlign")}),(0,T.jsx)(S,{group:"text-align",options:[{value:"left",text:(0,p.t)("labels.left"),icon:u.rr,testId:"align-left"},{value:"center",text:(0,p.t)("labels.center"),icon:u.o3,testId:"align-horizontal-center"},{value:"right",text:(0,p.t)("labels.right"),icon:u.oT,testId:"align-right"}],value:me(Oe,Ie,function(ke){if((0,N.iB)(ke))return ke.textAlign;var xe=(0,O.WJ)(ke);return xe?xe.textAlign:null},function(ke){return(0,N.iB)(ke)||(0,O.WJ)(ke)!==null},function(ke){return ke?null:Ie.currentItemTextAlign}),onChange:function(ke){return Re(ke)}})]})}}),(0,ue.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(Ae,Oe,Ie){return{elements:ee(Ae,Oe,function(Re){if((0,N.iB)(Re)){var ke=(0,W.BE)(Re,{verticalAlign:Ie});return(0,N.oN)(ke,(0,O.tl)(Re)),ke}return Re},!0),appState:Q({},Oe),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData;return(0,T.jsx)("fieldset",{children:(0,T.jsx)(S,{group:"text-align",options:[{value:k.oX.TOP,text:(0,p.t)("labels.alignTop"),icon:(0,T.jsx)(u.EO,{theme:Ie.theme}),testId:"align-top"},{value:k.oX.MIDDLE,text:(0,p.t)("labels.centerVertically"),icon:(0,T.jsx)(u.P7,{theme:Ie.theme}),testId:"align-middle"},{value:k.oX.BOTTOM,text:(0,p.t)("labels.alignBottom"),icon:(0,T.jsx)(u.aA,{theme:Ie.theme}),testId:"align-bottom"}],value:me(Oe,Ie,function(ke){if((0,N.iB)(ke)&&ke.containerId)return ke.verticalAlign;var xe=(0,O.WJ)(ke);return xe?xe.verticalAlign:null},function(ke){return(0,N.iB)(ke)||(0,O.WJ)(ke)!==null},function(ke){return ke?null:k.oX.MIDDLE}),onChange:function(ke){return Re(ke)}})})}}),(0,ue.z)({name:"changeRoundness",trackEvent:!1,perform:function(Ae,Oe,Ie){return{elements:ee(Ae,Oe,function(Re){return(0,W.BE)(Re,{roundness:Ie==="round"?{type:(0,j.QI)(Re.type)?k.a6.ADAPTIVE_RADIUS:k.a6.PROPORTIONAL_RADIUS}:null})}),appState:Q(Q({},Oe),{},{currentItemRoundness:Ie}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData,ke=(0,V.Zs)((0,N.Lm)(Oe),Ie).some(function(xe){var ye;return((ye=xe.roundness)===null||ye===void 0?void 0:ye.type)===k.a6.LEGACY});return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,p.t)("labels.edges")}),(0,T.jsx)(S,{group:"edges",options:[{value:"sharp",text:(0,p.t)("labels.sharp"),icon:u.wr},{value:"round",text:(0,p.t)("labels.round"),icon:u.DS}],value:me(Oe,Ie,function(xe){return ke?null:xe.roundness?"round":"sharp"},function(xe){return xe.hasOwnProperty("roundness")},function(xe){return xe?null:Ie.currentItemRoundness}),onChange:function(xe){return Re(xe)}})]})}}),(0,ue.z)({name:"changeArrowhead",trackEvent:!1,perform:function(Ae,Oe,Ie){return{elements:ee(Ae,Oe,function(Re){if((0,j.bt)(Re)){var ke=Ie.position,xe=Ie.type;if(ke==="start")return(0,W.BE)(Re,{startArrowhead:xe});if(ke==="end")return(0,W.BE)(Re,{endArrowhead:xe})}return Re}),appState:Q(Q({},Oe),{},(0,w.Z)({},Ie.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",Ie.type)),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Ie=Ae.appState,Re=Ae.updateData,ke=(0,p.G3)().rtl;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,p.t)("labels.arrowheads")}),(0,T.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,T.jsx)(s,{label:"arrowhead_start",options:[{value:null,text:(0,p.t)("labels.arrowhead_none"),icon:u.fr,keyBinding:"q"},{value:"arrow",text:(0,p.t)("labels.arrowhead_arrow"),icon:(0,T.jsx)(u.il,{flip:!ke}),keyBinding:"w"},{value:"bar",text:(0,p.t)("labels.arrowhead_bar"),icon:(0,T.jsx)(u.m,{flip:!ke}),keyBinding:"e"},{value:"dot",text:(0,p.t)("labels.arrowhead_dot"),icon:(0,T.jsx)(u.tn,{flip:!ke}),keyBinding:"r"},{value:"triangle",text:(0,p.t)("labels.arrowhead_triangle"),icon:(0,T.jsx)(u.j8,{flip:!ke}),keyBinding:"t"}],value:me(Oe,Ie,function(xe){return(0,j.bt)(xe)&&(0,V.Un)(xe.type)?xe.startArrowhead:Ie.currentItemStartArrowhead},!0,Ie.currentItemStartArrowhead),onChange:function(xe){return Re({position:"start",type:xe})}}),(0,T.jsx)(s,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,p.t)("labels.arrowhead_none"),keyBinding:"q",icon:u.fr},{value:"arrow",text:(0,p.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,T.jsx)(u.il,{flip:ke})},{value:"bar",text:(0,p.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,T.jsx)(u.m,{flip:ke})},{value:"dot",text:(0,p.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,T.jsx)(u.tn,{flip:ke})},{value:"triangle",text:(0,p.t)("labels.arrowhead_triangle"),icon:(0,T.jsx)(u.j8,{flip:ke}),keyBinding:"t"}],value:me(Oe,Ie,function(xe){return(0,j.bt)(xe)&&(0,V.Un)(xe.type)?xe.endArrowhead:Ie.currentItemEndArrowhead},!0,Ie.currentItemEndArrowhead),onChange:function(xe){return Re({position:"end",type:xe})}})]})]})}})},7080:function(We,te,t){t.d(te,{u:function(){return T}});var e=t(7169),w=t(2767),v=t(5491);function d(S,a){var c=Object.keys(S);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(S);a&&(Z=Z.filter(function(F){return Object.getOwnPropertyDescriptor(S,F).enumerable})),c.push.apply(c,Z)}return c}function b(S){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?d(Object(c),!0).forEach(function(Z){(0,e.Z)(S,Z,c[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(c)):d(Object(c)).forEach(function(Z){Object.defineProperty(S,Z,Object.getOwnPropertyDescriptor(c,Z))})}return S}var T=(0,w.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(S,a){return{appState:b(b({},a),{},{showStats:!this.checked(a)}),commitToHistory:!1}},checked:function(S){return S.showStats},contextItemLabel:"stats.title",keyTest:function(S){return!S[v.tW.CTRL_OR_CMD]&&S.altKey&&S.code===v.aU.SLASH}})},5463:function(We,te,t){t.d(te,{FL:function(){return dn},vD:function(){return Eo.vD},yA:function(){return g},BZ:function(){return u},mo:function(){return ke.mo},uN:function(){return Fn.uN},jK:function(){return Fn.jK},FA:function(){return Fn.FA},pw:function(){return ae},ZM:function(){return Fn.ZM},X9:function(){return e.X},xF:function(){return Ie},pL:function(){return f},jl:function(){return $n},kt:function(){return Hn},EQ:function(){return Le},nz:function(){return Ro.nz},_d:function(){return D._d},W3:function(){return ge},mM:function(){return D.mM},ns:function(){return D.ns},Yy:function(){return V},V:function(){return o},zi:function(){return s},jY:function(){return Je},$h:function(){return Bo.$},Pb:function(){return Gn},Qs:function(){return Zo},pm:function(){return $r},u0:function(){return io.u},Zp:function(){return ke.Zp},JN:function(){return pr},y7:function(){return Eo.y7},s:function(){return Qe},zp:function(){return Fn.zp}});var e=t(2448),w=t(2577),v=t(1930),d=t(583),b=t(4183),T=t(9215),S=t(4105),a=t(457),c=t(9827);function Z(rt,Se){var Ze=typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(!Ze){if(Array.isArray(rt)||(Ze=function(nn,ln){if(nn){if(typeof nn=="string")return F(nn,ln);var Zn=Object.prototype.toString.call(nn).slice(8,-1);if(Zn==="Object"&&nn.constructor&&(Zn=nn.constructor.name),Zn==="Map"||Zn==="Set")return Array.from(nn);if(Zn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Zn))return F(nn,ln)}}(rt))||Se){Ze&&(rt=Ze);var Ve=0,pt=function(){};return{s:pt,n:function(){return Ve>=rt.length?{done:!0}:{done:!1,value:rt[Ve++]}},e:function(nn){throw nn},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,cn=!0,Mn=!1;return{s:function(){Ze=Ze.call(rt)},n:function(){var nn=Ze.next();return cn=nn.done,nn},e:function(nn){Mn=!0,Vt=nn},f:function(){try{cn||Ze.return==null||Ze.return()}finally{if(Mn)throw Vt}}}}function F(rt,Se){(Se==null||Se>rt.length)&&(Se=rt.length);for(var Ze=0,Ve=new Array(Se);Ze<Se;Ze++)Ve[Ze]=rt[Ze];return Ve}var _=function(rt,Se){return rt.frameId===Se||rt.id===Se},h=function(rt,Se,Ze){for(var Ve=[],pt=[],Vt=null,cn=-1,Mn=(0,c.xn)(Ze||(0,S.eD)(rt,Se,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++cn<rt.length;){var nn=rt[cn];Mn.get(nn.id)?(pt.length&&(Ve=Ve.concat(pt),pt=[]),Ve.push(cn),Vt=cn+1):nn.isDeleted&&Vt===cn?(Vt=cn+1,pt.push(cn)):pt=[]}return Ve},x=function(rt,Se,Ze){if("containerId"in rt&&rt.containerId){if(Ze!=="left")return Se.indexOf(rt);var Ve=a.Z.getScene(rt).getElement(rt.containerId);if(Ve)return Se.indexOf(Ve)}else{var pt,Vt,cn=(pt=rt.boundElements)===null||pt===void 0||(Vt=pt.find(function(nn){return nn.type!=="arrow"}))===null||Vt===void 0?void 0:Vt.id;if(cn){if(Ze==="left")return Se.indexOf(rt);var Mn=a.Z.getScene(rt).getElement(cn);if(Mn)return Se.indexOf(Mn)}}},G=function(rt,Se,Ze,Ve,pt){var Vt,cn,Mn,nn,ln,Zn=Se[Ze],qn=function(no){return!no.isDeleted&&(pt?no.frameId===pt:!rt.editingGroupId||no.groupIds.includes(rt.editingGroupId))},hr=Ve==="left"?(0,c.qr)(Se,function(no){return qn(no)},Math.max(0,Ze-1)):(0,c.cx)(Se,function(no){return qn(no)},Ze+1),br=Se[hr];if(!br)return-1;if(rt.editingGroupId){var Mr;if(Zn?.groupIds.join("")===br?.groupIds.join(""))return(Mr=x(br,Se,Ve))!==null&&Mr!==void 0?Mr:hr;if(br==null||!br.groupIds.includes(rt.editingGroupId))return-1}if(!pt&&(br.frameId||br.type==="frame")){var Or=(Vt=Se,cn=br.frameId||br.id,Mn=-1,nn=-1,Vt.forEach(function(no,yo){_(no,cn)&&(Mn===-1&&(Mn=yo),nn=yo)}),Mn===-1?[]:Vt.slice(Mn,nn+1));return Ve==="left"?Se.indexOf(Or[0]):Se.indexOf(Or[Or.length-1])}if(!br.groupIds.length)return(ln=x(br,Se,Ve))!==null&&ln!==void 0?ln:hr;var Er=rt.editingGroupId?br.groupIds[br.groupIds.indexOf(rt.editingGroupId)-1]:br.groupIds[br.groupIds.length-1],Cr=(0,T.Fb)(Se,Er);return Cr.length?Ve==="left"?Se.indexOf(Cr[0]):Se.indexOf(Cr[Cr.length-1]):hr},le=function(rt,Se){return Se.reduce(function(Ze,Ve){var pt=rt[Ve];return Ze[pt.id]=pt,Ze},{})},he=function(rt,Se,Ze){var Ve=h(rt,Se),pt=le(rt,Ve),Vt=function(Mn){var nn=0;return Mn.reduce(function(ln,Zn,qn){return qn>0&&Mn[qn-1]!==Zn-1&&(nn=++nn),(ln[nn]||(ln[nn]=[])).push(Zn),ln},[])}(Ve);Ze==="right"&&(Vt=Vt.reverse());var cn=new Set(Ve.filter(function(Mn){return rt[Mn].type==="frame"}).map(function(Mn){return rt[Mn].id}));return Vt.forEach(function(Mn,nn){var ln,Zn=Mn[0],qn=Mn[Mn.length-1],hr=Ze==="left"?Zn:qn,br=Mn.some(function(yo){var jo=rt[yo];return jo.frameId&&cn.has(jo.frameId)})?null:(ln=rt[hr])===null||ln===void 0?void 0:ln.frameId,Mr=G(Se,rt,hr,Ze,br);if(Mr!==-1&&hr!==Mr){var Or=Ze==="left"?rt.slice(0,Mr):rt.slice(0,Zn),Er=rt.slice(Zn,qn+1),Cr=Ze==="left"?rt.slice(Mr,Zn):rt.slice(qn+1,Mr+1),no=Ze==="left"?rt.slice(qn+1):rt.slice(Mr+1);rt=Ze==="left"?[].concat((0,v.Z)(Or),(0,v.Z)(Er),(0,v.Z)(Cr),(0,v.Z)(no)):[].concat((0,v.Z)(Or),(0,v.Z)(Cr),(0,v.Z)(Er),(0,v.Z)(no))}}),rt.map(function(Mn){return pt[Mn.id]?(0,d.ZP)(Mn):Mn})},ve=function(rt,Se,Ze,Ve,pt){var Vt,cn,Mn=h(rt,Se,pt),nn=le(rt,Mn),ln=[];if(Ze==="left"){if(Ve)Vt=(0,c.cx)(rt,function(Er){return _(Er,Ve)});else if(Se.editingGroupId){var Zn=(0,T.Fb)(rt,Se.editingGroupId);if(!Zn.length)return rt;Vt=rt.indexOf(Zn[0])}else Vt=0;cn=Mn[Mn.length-1]}else{if(Ve)cn=(0,c.qr)(rt,function(Er){return _(Er,Ve)});else if(Se.editingGroupId){var qn=(0,T.Fb)(rt,Se.editingGroupId);if(!qn.length)return rt;cn=rt.indexOf(qn[qn.length-1])}else cn=rt.length-1;Vt=Mn[0]}Vt===-1&&(Vt=0);for(var hr=Vt;hr<cn+1;hr++)Mn.includes(hr)||ln.push(rt[hr]);var br=Object.values(nn).map(function(Er){return(0,d.ZP)(Er)}),Mr=rt.slice(0,Vt),Or=rt.slice(cn+1);return Ze==="left"?[].concat((0,v.Z)(Mr),(0,v.Z)(br),ln,(0,v.Z)(Or)):[].concat((0,v.Z)(Mr),ln,(0,v.Z)(br),(0,v.Z)(Or))};function fe(rt,Se,Ze,Ve){var pt,Vt=(0,c.xn)((0,S.eD)(rt,Se,{includeBoundTextElement:!0,includeElementsInFrames:!0})),cn={regularElements:[],frameChildren:new Map},Mn=new Set,nn=Z(rt);try{for(nn.s();!(pt=nn.n()).done;){var ln=pt.value;Vt.has(ln.id)&&(0,b.He)(ln)&&Mn.add(ln.id)}}catch(no){nn.e(no)}finally{nn.f()}var Zn,qn=Z(rt);try{for(qn.s();!(Zn=qn.n()).done;){var hr=Zn.value;if(Vt.has(hr.id))if((0,b.He)(hr)||hr.frameId&&Mn.has(hr.frameId))cn.regularElements.push(hr);else if(hr.frameId){var br=cn.frameChildren.get(hr.frameId)||[];br.push(hr),cn.frameChildren.set(hr.frameId,br)}else cn.regularElements.push(hr)}}catch(no){qn.e(no)}finally{qn.f()}for(var Mr=rt,Or=0,Er=Array.from(cn.frameChildren.entries());Or<Er.length;Or++){var Cr=(0,w.Z)(Er[Or],2);Mr=Ve(rt,Se,Ze,Cr[0],Cr[1])}return Ve(Mr,Se,Ze,null,cn.regularElements)}var X=function(rt,Se){return he(rt,Se,"left")},q=function(rt,Se){return he(rt,Se,"right")},U=function(rt,Se){return fe(rt,Se,"left",ve)},R=function(rt,Se){return fe(rt,Se,"right",ve)},B=t(5491),M=t(8227),I=t(2767),E=t(8935),p=t(9937),r=t(4512),o=(0,I.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(rt,Se){return{elements:X(rt,Se),appState:Se,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&!rt.shiftKey&&rt.code===B.aU.BRACKET_LEFT},PanelComponent:function(rt){var Se=rt.updateData;return rt.appState,(0,r.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Se(null)},title:"".concat((0,M.t)("labels.sendBackward")," — ").concat((0,c.uY)("CtrlOrCmd+[")),children:E.Gc})}}),g=(0,I.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(rt,Se){return{elements:q(rt,Se),appState:Se,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&!rt.shiftKey&&rt.code===B.aU.BRACKET_RIGHT},PanelComponent:function(rt){var Se=rt.updateData;return rt.appState,(0,r.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Se(null)},title:"".concat((0,M.t)("labels.bringForward")," — ").concat((0,c.uY)("CtrlOrCmd+]")),children:E.t5})}}),s=(0,I.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(rt,Se){return{elements:U(rt,Se),appState:Se,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(rt){return p.Um?rt[B.tW.CTRL_OR_CMD]&&rt.altKey&&rt.code===B.aU.BRACKET_LEFT:rt[B.tW.CTRL_OR_CMD]&&rt.shiftKey&&rt.code===B.aU.BRACKET_LEFT},PanelComponent:function(rt){var Se=rt.updateData;return rt.appState,(0,r.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Se(null)},title:"".concat((0,M.t)("labels.sendToBack")," — ").concat(p.Um?(0,c.uY)("CtrlOrCmd+Alt+["):(0,c.uY)("CtrlOrCmd+Shift+[")),children:E.pw})}}),u=(0,I.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(rt,Se){return{elements:R(rt,Se),appState:Se,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(rt){return p.Um?rt[B.tW.CTRL_OR_CMD]&&rt.altKey&&rt.code===B.aU.BRACKET_RIGHT:rt[B.tW.CTRL_OR_CMD]&&rt.shiftKey&&rt.code===B.aU.BRACKET_RIGHT},PanelComponent:function(rt){var Se=rt.updateData;return rt.appState,(0,r.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(Ze){return Se(null)},title:"".concat((0,M.t)("labels.bringToFront")," — ").concat(p.Um?(0,c.uY)("CtrlOrCmd+Alt+]"):(0,c.uY)("CtrlOrCmd+Shift+]")),children:E.IN})}}),k=t(7169),N=t(7651),W=t(7422),O=t(6264);function j(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function L(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?j(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):j(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}var V=(0,I.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(rt,Se,Ze,Ve){if(Se.editingLinearElement)return!1;var pt=(0,O.aI)(rt.filter(function(Vt){return!(Vt.isDeleted||(0,N.iB)(Vt)&&Vt.containerId||Vt.locked)})).reduce(function(Vt,cn){return Vt[cn.id]=!0,Vt},{});return{appState:L(L(L({},Se),(0,T.bO)({editingGroupId:null,selectedElementIds:pt},(0,N.Lm)(rt),Se,Ve)),{},{selectedLinearElement:Object.keys(pt).length===1&&(0,b.bt)(rt[0])?new W._(rt[0],Ve.scene):null}),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&rt.key===B.tW.A}}),ie=t(1512),se=t(9645),ue=t(4761);function pe(rt,Se){var Ze=typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(!Ze){if(Array.isArray(rt)||(Ze=function(nn,ln){if(nn){if(typeof nn=="string")return Q(nn,ln);var Zn=Object.prototype.toString.call(nn).slice(8,-1);if(Zn==="Object"&&nn.constructor&&(Zn=nn.constructor.name),Zn==="Map"||Zn==="Set")return Array.from(nn);if(Zn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Zn))return Q(nn,ln)}}(rt))||Se){Ze&&(rt=Ze);var Ve=0,pt=function(){};return{s:pt,n:function(){return Ve>=rt.length?{done:!0}:{done:!1,value:rt[Ve++]}},e:function(nn){throw nn},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,cn=!0,Mn=!1;return{s:function(){Ze=Ze.call(rt)},n:function(){var nn=Ze.next();return cn=nn.done,nn},e:function(nn){Mn=!0,Vt=nn},f:function(){try{cn||Ze.return==null||Ze.return()}finally{if(Mn)throw Vt}}}}function Q(rt,Se){(Se==null||Se>rt.length)&&(Se=rt.length);for(var Ze=0,Ve=new Array(Se);Ze<Se;Ze++)Ve[Ze]=rt[Ze];return Ve}var ee=function(rt){var Se=rt.slice(),Ze=new Set,Ve=function Vt(cn){var Mn,nn,ln,Zn=(Mn=cn[0])===null||Mn===void 0||(nn=Mn.groupIds)===null||nn===void 0?void 0:nn.join(""),qn=[cn[0]],hr=[],br=pe(cn.slice(1));try{for(br.s();!(ln=br.n()).done;){var Mr,Or=ln.value;((Mr=Or.groupIds)===null||Mr===void 0?void 0:Mr.join(""))===Zn?qn.push(Or):hr.push(Or)}}catch(Er){br.e(Er)}finally{br.f()}return hr.length?[].concat(qn,(0,v.Z)(Vt(hr))):qn},pt=new Map;return Se.forEach(function(Vt,cn){var Mn;if(!pt.has(Vt.id))if((Mn=Vt.groupIds)!==null&&Mn!==void 0&&Mn.length){var nn,ln=Vt.groupIds[Vt.groupIds.length-1],Zn=Se.slice(cn).filter(function(br){var Mr,Or=br==null||(Mr=br.groupIds)===null||Mr===void 0?void 0:Mr.some(function(Er){return Er===ln});return Or&&pt.set(br.id,!0),Or}),qn=pe(Ve(Zn));try{for(qn.s();!(nn=qn.n()).done;){var hr=nn.value;Ze.add(hr)}}catch(br){qn.e(br)}finally{qn.f()}}else Ze.add(Vt)}),Ze.size!==rt.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),rt):(0,v.Z)(Ze)},me=function(rt){var Se=function(Ze){var Ve=(0,c.I4)(Ze),pt=Ze.slice(),Vt=new Set;return pt.forEach(function(cn,Mn){var nn;if(cn)if((nn=cn.boundElements)!==null&&nn!==void 0&&nn.length)Vt.add(cn),pt[Mn]=null,cn.boundElements.forEach(function(qn){var hr=Ve.get(qn.id);hr&&qn.type==="text"&&(Vt.add(hr[0]),pt[hr[1]]=null)});else if(cn.type==="text"&&cn.containerId){var ln,Zn=Ve.get(cn.containerId);Zn!=null&&(ln=Zn[0].boundElements)!==null&&ln!==void 0&&ln.find(function(qn){return qn.id===cn.id})||(Vt.add(cn),pt[Mn]=null)}else Vt.add(cn),pt[Mn]=null}),Vt.size!==Ze.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),Ze):(0,v.Z)(Vt)}(ee(rt));return Se},Te=t(4682);function Ue(rt,Se){var Ze=typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(!Ze){if(Array.isArray(rt)||(Ze=function(nn,ln){if(nn){if(typeof nn=="string")return qe(nn,ln);var Zn=Object.prototype.toString.call(nn).slice(8,-1);if(Zn==="Object"&&nn.constructor&&(Zn=nn.constructor.name),Zn==="Map"||Zn==="Set")return Array.from(nn);if(Zn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Zn))return qe(nn,ln)}}(rt))||Se){Ze&&(rt=Ze);var Ve=0,pt=function(){};return{s:pt,n:function(){return Ve>=rt.length?{done:!0}:{done:!1,value:rt[Ve++]}},e:function(nn){throw nn},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,cn=!0,Mn=!1;return{s:function(){Ze=Ze.call(rt)},n:function(){var nn=Ze.next();return cn=nn.done,nn},e:function(nn){Mn=!0,Vt=nn},f:function(){try{cn||Ze.return==null||Ze.return()}finally{if(Mn)throw Vt}}}}function qe(rt,Se){(Se==null||Se>rt.length)&&(Se=rt.length);for(var Ze=0,Ve=new Array(Se);Ze<Se;Ze++)Ve[Ze]=rt[Ze];return Ve}function Ae(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function Oe(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?Ae(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):Ae(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}var Ie=(0,I.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(rt,Se){if(Se.editingLinearElement){var Ze=W._.duplicateSelectedPoints(Se);return!!Ze&&{elements:rt,appState:Ze.appState,commitToHistory:!0}}return Oe(Oe({},Re(rt,Se)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&rt.key===B.tW.D},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData;return(0,r.jsx)(ie.V,{type:"button",icon:E.NA,title:"".concat((0,M.t)("labels.duplicateSelection")," — ").concat((0,c.uY)("CtrlOrCmd+D")),"aria-label":(0,M.t)("labels.duplicateSelection"),onClick:function(){return Ve(null)},visible:(0,S.N)((0,N.Lm)(Se),Ze)})}}),Re=function(rt,Se){for(var Ze=me(rt),Ve=new Map,pt=[],Vt=[],cn=new Map,Mn=function(Ir){var uo=(0,N.Sy)(Se.editingGroupId,Ve,Ir,{x:Ir.x+p.k/2,y:Ir.y+p.k/2});return cn.set(Ir.id,uo.id),Vt.push(Ir),pt.push(uo),uo},nn=(0,c.xn)((0,O.eD)(Ze,Se,{includeBoundTextElement:!0,includeElementsInFrames:!0})),ln=new Map,Zn=function(Ir){var uo,Co=Ue(Ir);try{for(Co.s();!(uo=Co.n()).done;){var Oo=uo.value;ln.set(Oo.id,!0)}}catch(di){Co.e(di)}finally{Co.f()}return Ir},qn=[],hr=-1;++hr<Ze.length;){var br=Ze[hr];if(!ln.get(br.id)){var Mr=(0,ue.WJ)(br),Or=(0,b.He)(br);if(nn.get(br.id)){if(br.groupIds.length||Mr||Or){var Er=(0,T.yO)(Se,br);if(Er){var Cr=(0,T.Fb)(Ze,Er).flatMap(function(Ir){return(0,b.He)(Ir)?[].concat((0,v.Z)((0,Te.zD)(rt,Ir.id)),[Ir]):[Ir]});qn.push.apply(qn,(0,v.Z)(Zn([].concat((0,v.Z)(Cr),(0,v.Z)(Cr.map(function(Ir){return Mn(Ir)}))))));continue}if(Mr){qn.push.apply(qn,(0,v.Z)(Zn([br,Mr,Mn(br),Mn(Mr)])));continue}if(Or){var no=(0,Te.zD)(Ze,br.id);qn.push.apply(qn,(0,v.Z)(Zn([].concat((0,v.Z)(no),[br],(0,v.Z)(no.map(function(Ir){return Mn(Ir)})),[Mn(br)]))));continue}}br.frameId&&nn.has(br.frameId)||qn.push.apply(qn,(0,v.Z)(Zn([br,Mn(br)])))}else qn.push.apply(qn,(0,v.Z)(Zn([br])))}}var yo=[],jo=new Map;for(hr=qn.length;--hr>=0;){var ei=qn[hr];jo.get(ei.id)||(jo.set(ei.id,!0),yo.push(ei))}var vi=yo.reverse();(0,ue.P7)(qn,Vt,cn),(0,se.ek)(qn,Vt,cn),(0,Te.xr)(vi,Vt,cn);var Gr=(0,O.aI)(pt);return{elements:vi,appState:Oe(Oe({},Se),(0,T.bO)({editingGroupId:Se.editingGroupId,selectedElementIds:Gr.reduce(function(Ir,uo){return(0,b.Xh)(uo)||(Ir[uo.id]=!0),Ir},{})},(0,N.Lm)(vi),Se,null))}},ke=(t(3361),t(6006)),xe=t(2361),ye=t(7652);function P(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function l(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?P(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):P(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}var f=(0,I.z)({name:"finalize",trackEvent:!1,perform:function(rt,Se,Ze,Ve){var pt,Vt=Ve.interactiveCanvas,cn=Ve.focusContainer,Mn=Ve.scene;if(Se.editingLinearElement){var nn=Se.editingLinearElement,ln=nn.elementId,Zn=nn.startBindingElement,qn=nn.endBindingElement,hr=W._.getElement(ln);if(hr)return(0,b.Mn)(hr)&&(0,se.HG)(hr,Zn,qn),{elements:hr.points.length<2||(0,N.QD)(hr)?rt.filter(function(Co){return Co.id!==hr.id}):void 0,appState:l(l({},Se),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var br=rt,Mr=Se.pendingImageElementId&&Mn.getElement(Se.pendingImageElementId);Mr&&(0,d.DR)(Mr,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&cn();var Or,Er=Se.multiElement?Se.multiElement:((pt=Se.editingElement)===null||pt===void 0?void 0:pt.type)==="freedraw"?Se.editingElement:null;if(Er){if(Er.type!=="freedraw"&&Se.lastPointerDownWith!=="touch"){var Cr=Er.points,no=Er.lastCommittedPoint;no&&Cr[Cr.length-1]===no||(0,d.DR)(Er,{points:Er.points.slice(0,-1)})}(0,N.QD)(Er)&&(br=br.filter(function(Co){return Co.id!==Er.id}));var yo=(0,xe.g6)(Er.points,Se.zoom.value);if((Er.type==="line"||Er.type==="freedraw")&&yo){var jo=Er.points,ei=jo[0];(0,d.DR)(Er,{points:jo.map(function(Co,Oo){return Oo===jo.length-1?[ei[0],ei[1]]:Co})})}if((0,b.Mn)(Er)&&!yo&&Er.points.length>1){var vi=W._.getPointAtIndexGlobalCoordinates(Er,-1),Gr=(0,w.Z)(vi,2),Ir=Gr[0],uo=Gr[1];(0,se.R)(Er,Se,a.Z.getScene(Er),{x:Ir,y:uo})}}return(Se.activeTool.locked||Se.activeTool.type==="freedraw")&&Er||(0,ye.z8)(Vt),Or=Se.activeTool.type==="eraser"?(0,c.Om)(Se,l(l({},Se.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,c.Om)(Se,{type:"selection"}),{elements:br,appState:l(l({},Se),{},{cursorButton:"up",activeTool:(Se.activeTool.locked||Se.activeTool.type==="freedraw")&&Er?Se.activeTool:Or,activeEmbeddable:null,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Er&&!Se.activeTool.locked&&Se.activeTool.type!=="freedraw"?l(l({},Se.selectedElementIds),{},(0,k.Z)({},Er.id,!0)):Se.selectedElementIds,selectedLinearElement:Er&&(0,b.bt)(Er)?new W._(Er,Mn):Se.selectedLinearElement,pendingImageElementId:null}),commitToHistory:Se.activeTool.type==="freedraw"}},keyTest:function(rt,Se){return rt.key===B.tW.ESCAPE&&(Se.editingLinearElement!==null||!Se.draggingElement&&Se.multiElement===null)||(rt.key===B.tW.ESCAPE||rt.key===B.tW.ENTER)&&Se.multiElement!==null},PanelComponent:function(rt){var Se=rt.appState,Ze=rt.updateData,Ve=rt.data;return(0,r.jsx)(ie.V,{type:"button",icon:E.$c,title:(0,M.t)("buttons.done"),"aria-label":(0,M.t)("buttons.done"),onClick:Ze,visible:Se.multiElement!=null,size:Ve?.size||"medium"})}}),D=t(4406);function H(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function J(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?H(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):H(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}var re="{}",ae=(0,I.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(rt,Se){var Ze=[],Ve=rt.find(function(Vt){return Se.selectedElementIds[Vt.id]});if(Ze.push(Ve),Ve&&(0,b.Xo)(Ve)){var pt=(0,ue.WJ)(Ve);Ze.push(pt)}return Ve&&(re=JSON.stringify(Ze)),{appState:J(J({},Se),{},{toast:{message:(0,M.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&rt.altKey&&rt.code===B.aU.C}}),ge=(0,I.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(rt,Se){var Ze=JSON.parse(re),Ve=Ze[0],pt=Ze[1];if(!(0,N.r2)(Ve))return{elements:rt,commitToHistory:!1};var Vt=(0,S.eD)(rt,Se,{includeBoundTextElement:!0}),cn=Vt.map(function(Mn){return Mn.id});return{elements:rt.map(function(Mn){if(cn.includes(Mn.id)){var nn,ln,Zn,qn,hr,br,Mr,Or=Ve;if((0,N.iB)(Mn)&&Mn.containerId&&(Or=pt),!Or)return Mn;var Er=(0,d.BE)(Mn,{backgroundColor:(nn=Or)===null||nn===void 0?void 0:nn.backgroundColor,strokeWidth:(ln=Or)===null||ln===void 0?void 0:ln.strokeWidth,strokeColor:(Zn=Or)===null||Zn===void 0?void 0:Zn.strokeColor,strokeStyle:(qn=Or)===null||qn===void 0?void 0:qn.strokeStyle,fillStyle:(hr=Or)===null||hr===void 0?void 0:hr.fillStyle,opacity:(br=Or)===null||br===void 0?void 0:br.opacity,roughness:(Mr=Or)===null||Mr===void 0?void 0:Mr.roughness,roundness:Or.roundness?(0,b.eK)(Or.roundness.type,Mn)?Or.roundness:(0,b.UQ)(Mn):null});if((0,N.iB)(Er)){var Cr=Or.fontSize||p.n5,no=Or.fontFamily||p.rk,yo=null;(Er=(0,d.BE)(Er,{fontSize:Cr,fontFamily:no,textAlign:Or.textAlign||p.Hg,lineHeight:Or.lineHeight||(0,ue.PT)(no)})).containerId&&(yo=Vt.find(function(jo){return(0,N.iB)(Er)&&jo.id===Er.containerId})||null),(0,N.oN)(Er,yo)}return Er.type==="arrow"&&(0,b.Yv)(Or)&&(Er=(0,d.BE)(Er,{startArrowhead:Or.startArrowhead,endArrowhead:Or.endArrowhead})),(0,b.He)(Mn)&&(Er=(0,d.BE)(Er,{roundness:null,backgroundColor:"transparent"})),Er}return Mn}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&rt.altKey&&rt.code===B.aU.V}});function _e(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function ze(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?_e(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):_e(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}(0,I.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(rt,Se){return{appState:ze(ze({},Se),{},{openMenu:Se.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(rt){var Se=rt.appState,Ze=rt.updateData;return(0,r.jsx)(ie.V,{type:"button",icon:E.RY,"aria-label":(0,M.t)("buttons.menu"),onClick:Ze,selected:Se.openMenu==="canvas"})}}),(0,I.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(rt,Se){return{appState:ze(ze({},Se),{},{openMenu:Se.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData;return(0,r.jsx)(ie.V,{visible:(0,N.RT)(Ze,(0,N.Lm)(Se)),type:"button",icon:E.DG,"aria-label":(0,M.t)("buttons.edit"),onClick:Ve,selected:Ze.openMenu==="shape"})}});var Je=(0,I.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(rt,Se,Ze,Ve){var pt=Ve.focusContainer;return Se.openDialog==="help"&&pt(),{appState:ze(ze({},Se),{},{openDialog:Se.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(rt){return rt.key===B.tW.QUESTION_MARK}}),et=t(6655),Ke=t(4643);function tt(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function ut(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?tt(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):tt(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}function ht(rt,Se){var Ze=typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(!Ze){if(Array.isArray(rt)||(Ze=function(nn,ln){if(nn){if(typeof nn=="string")return He(nn,ln);var Zn=Object.prototype.toString.call(nn).slice(8,-1);if(Zn==="Object"&&nn.constructor&&(Zn=nn.constructor.name),Zn==="Map"||Zn==="Set")return Array.from(nn);if(Zn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Zn))return He(nn,ln)}}(rt))||Se){Ze&&(rt=Ze);var Ve=0,pt=function(){};return{s:pt,n:function(){return Ve>=rt.length?{done:!0}:{done:!1,value:rt[Ve++]}},e:function(nn){throw nn},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,cn=!0,Mn=!1;return{s:function(){Ze=Ze.call(rt)},n:function(){var nn=Ze.next();return cn=nn.done,nn},e:function(nn){Mn=!0,Vt=nn},f:function(){try{cn||Ze.return==null||Ze.return()}finally{if(Mn)throw Vt}}}}function He(rt,Se){(Se==null||Se>rt.length)&&(Se=rt.length);for(var Ze=0,Ve=new Array(Se);Ze<Se;Ze++)Ve[Ze]=rt[Ze];return Ve}var Ee=function(rt,Se,Ze){var Ve=Ze.scene.getSelectedElements({selectedElementIds:Se.selectedElementIds,includeBoundTextElement:!0});return Ve.length>=2&&!function(pt){if(pt.length>=2){var Vt,cn=ht(pt[0].groupIds);try{var Mn=function(){var ln=Vt.value;if(pt.reduce(function(Zn,qn){return Zn&&(0,T.Nd)(qn,ln)},!0))return{v:!0}};for(cn.s();!(Vt=cn.n()).done;){var nn=Mn();if((0,et.Z)(nn)==="object")return nn.v}}catch(ln){cn.e(ln)}finally{cn.f()}}return!1}(Ve)},Le=(0,I.z)({name:"group",trackEvent:{category:"element"},perform:function(rt,Se,Ze,Ve){var pt=Ve.scene.getSelectedElements({selectedElementIds:Se.selectedElementIds,includeBoundTextElement:!0});if(pt.length<2)return{appState:Se,elements:rt,commitToHistory:!1};var Vt=(0,T.iJ)(Se);if(Vt.length===1){var cn=Vt[0],Mn=new Set((0,T.Fb)(rt,cn).map(function(Cr){return Cr.id})),nn=new Set(pt.map(function(Cr){return Cr.id}));if(new Set([].concat((0,v.Z)(Array.from(Mn)),(0,v.Z)(Array.from(nn)))).size===Mn.size)return{appState:Se,elements:rt,commitToHistory:!1}}var ln=(0,v.Z)(rt);new Set(pt.map(function(Cr){return Cr.frameId})).size>1&&(0,Te.SH)(pt).forEach(function(Cr,no){ln=(0,Te.lz)(ln,Cr,Se)});var Zn=(0,Ke.kb)(),qn=(0,c.xn)(pt);ln=ln.map(function(Cr){return qn.get(Cr.id)?(0,d.BE)(Cr,{groupIds:(0,T.S_)(Cr.groupIds,Zn,Se.editingGroupId)}):Cr});var hr=(0,T.Fb)(ln,Zn),br=hr[hr.length-1],Mr=ln.lastIndexOf(br),Or=ln.slice(Mr+1),Er=ln.slice(0,Mr).filter(function(Cr){return!(0,T.Nd)(Cr,Zn)});return ln=[].concat((0,v.Z)(Er),(0,v.Z)(hr),(0,v.Z)(Or)),{appState:ut(ut({},Se),(0,T.F$)(Zn,ut(ut({},Se),{},{selectedGroupIds:{}}),(0,N.Lm)(ln))),elements:ln,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(rt,Se,Ze,Ve){return Ee(0,Se,Ve)},keyTest:function(rt){return!rt.shiftKey&&rt[B.tW.CTRL_OR_CMD]&&rt.key===B.tW.G},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData,pt=rt.app;return(0,r.jsx)(ie.V,{hidden:!Ee(0,Ze,pt),type:"button",icon:(0,r.jsx)(E.BF,{theme:Ze.theme}),onClick:function(){return Ve(null)},title:"".concat((0,M.t)("labels.group")," — ").concat((0,c.uY)("CtrlOrCmd+G")),"aria-label":(0,M.t)("labels.group"),visible:(0,S.N)((0,N.Lm)(Se),Ze)})}}),Qe=(0,I.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(rt,Se,Ze,Ve){if((0,T.iJ)(Se).length===0)return{appState:Se,elements:rt,commitToHistory:!1};var pt=(0,v.Z)(rt),Vt=[];pt=pt.map(function(ln){(0,b.Xh)(ln)&&Vt.push(ln.id);var Zn=(0,T.h6)(ln.groupIds,Se.selectedGroupIds);return Zn.length===ln.groupIds.length?ln:(0,d.BE)(ln,{groupIds:Zn})});var cn=(0,T.bO)(Se,(0,N.Lm)(pt),Se,null),Mn=Ve.scene.getSelectedElements(Se),nn=new Set(Mn.filter(function(ln){return ln.frameId}).map(function(ln){return ln.frameId}));return(0,Te.wO)(rt).filter(function(ln){return nn.has(ln.id)}).forEach(function(ln){ln&&(pt=(0,Te.pr)(pt,(0,Te.ni)(pt,ln,Se),ln,Se))}),cn.selectedElementIds=Object.entries(cn.selectedElementIds).reduce(function(ln,Zn){var qn=(0,w.Z)(Zn,2),hr=qn[0];return qn[1]&&!Vt.includes(hr)&&(ln[hr]=!0),ln},{}),{appState:ut(ut({},Se),cn),elements:pt,commitToHistory:!0}},keyTest:function(rt){return rt.shiftKey&&rt[B.tW.CTRL_OR_CMD]&&rt.key===B.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(rt,Se){return(0,T.iJ)(Se).length>0},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData;return(0,r.jsx)(ie.V,{type:"button",hidden:(0,T.iJ)(Ze).length===0,icon:(0,r.jsx)(E.RJ,{theme:Ze.theme}),onClick:function(){return Ve(null)},title:"".concat((0,M.t)("labels.ungroup")," — ").concat((0,c.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,M.t)("labels.ungroup"),visible:(0,S.N)((0,N.Lm)(Se),Ze)})}}),ct=t(957),bt=t(3379),wt=t.n(bt),zt=t(7795),Mt=t.n(zt),Zt=t(569),sn=t.n(Zt),rn=t(3565),Xt=t.n(rn),on=t(9216),jn=t.n(on),It=t(4589),kt=t.n(It),Ht=t(3729),At={};At.styleTagTransform=kt(),At.setAttributes=Xt(),At.insert=sn().bind(null,"head"),At.domAPI=Mt(),At.insertStyleElement=jn(),wt()(Ht.Z,At),Ht.Z&&Ht.Z.locals&&Ht.Z.locals;var Wt=t(9787),Kt=function(rt){var Se=rt.color,Ze=rt.onClick,Ve=rt.name,pt=rt.src,Vt=(0,ct.l)(Ve),cn=(0,Wt.useState)(!1),Mn=(0,w.Z)(cn,2),nn=Mn[0],ln=Mn[1],Zn=!nn&&pt,qn=Zn?void 0:{background:Se};return(0,r.jsx)("div",{className:"Avatar",style:qn,onClick:Ze,children:Zn?(0,r.jsx)("img",{className:"Avatar-img",src:pt,alt:Vt,referrerPolicy:"no-referrer",onError:function(){return ln(!0)}}):Vt})},an=t(2382);function bn(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function hn(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?bn(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):bn(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}(0,I.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(rt,Se,Ze){var Ve=Ze;return Ve?{appState:hn(hn(hn({},Se),(0,an.s)({scenePoint:Ve,viewportDimensions:{width:Se.width,height:Se.height},zoom:Se.zoom})),{},{openMenu:Se.openMenu==="canvas"?null:Se.openMenu}),commitToHistory:!1}:{appState:Se,commitToHistory:!1}},PanelComponent:function(rt){var Se=rt.updateData,Ze=rt.data,Ve=(0,w.Z)(Ze,2),pt=Ve[0],Vt=Ve[1],cn=(0,ct.G)(pt);return(0,r.jsx)(Kt,{color:cn,onClick:function(){return Se(Vt.pointer)},name:Vt.username||"",src:Vt.avatarUrl})}});var An=t(5742);function Yn(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function tr(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?Yn(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):Yn(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}function Sn(rt,Se){var Ze=typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(!Ze){if(Array.isArray(rt)||(Ze=function(nn,ln){if(nn){if(typeof nn=="string")return Bt(nn,ln);var Zn=Object.prototype.toString.call(nn).slice(8,-1);if(Zn==="Object"&&nn.constructor&&(Zn=nn.constructor.name),Zn==="Map"||Zn==="Set")return Array.from(nn);if(Zn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Zn))return Bt(nn,ln)}}(rt))||Se){Ze&&(rt=Ze);var Ve=0,pt=function(){};return{s:pt,n:function(){return Ve>=rt.length?{done:!0}:{done:!1,value:rt[Ve++]}},e:function(nn){throw nn},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,cn=!0,Mn=!1;return{s:function(){Ze=Ze.call(rt)},n:function(){var nn=Ze.next();return cn=nn.done,nn},e:function(nn){Mn=!0,Vt=nn},f:function(){try{cn||Ze.return==null||Ze.return()}finally{if(Mn)throw Vt}}}}function Bt(rt,Se){(Se==null||Se>rt.length)&&(Se=rt.length);for(var Ze=0,Ve=new Array(Se);Ze<Se;Ze++)Ve[Ze]=rt[Ze];return Ve}var dn=(0,I.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(rt,Se,Ze,Ve){var pt,Vt=Ve.scene.getSelectedElements({selectedElementIds:Se.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),cn=Sn(p.PR);try{var Mn=function(){var ln=pt.value;if(Vt.some(function(Zn){return Zn.type===ln}))return{v:{commitToHistory:!1,appState:tr(tr({},Se),{},{errorMessage:(0,M.t)("errors.libraryElementTypeError.".concat(ln))})}}};for(cn.s();!(pt=cn.n()).done;){var nn=Mn();if((0,et.Z)(nn)==="object")return nn.v}}catch(ln){cn.e(ln)}finally{cn.f()}return Ve.library.getLatestLibrary().then(function(ln){return Ve.library.setLibrary([{id:(0,Ke.kb)(),status:"unpublished",elements:Vt.map(An.OL),created:Date.now()}].concat((0,v.Z)(ln)))}).then(function(){return{commitToHistory:!1,appState:tr(tr({},Se),{},{toast:{message:(0,M.t)("toast.addedToLibrary")}})}}).catch(function(ln){return{commitToHistory:!1,appState:tr(tr({},Se),{},{errorMessage:ln.message})}})},contextItemLabel:"labels.addToLibrary"}),un=t(4949);function Bn(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function Jn(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?Bn(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):Bn(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}var cr=function(rt,Se,Ze){var Ve=Ze.axis,pt=Ze.position,Vt=(0,un.v2)(rt),cn=Ve==="x"?["minX","maxX"]:["minY","maxY"],Mn=(0,w.Z)(cn,2),nn=Mn[0],ln=Mn[1],Zn={x:0,y:0};return Jn(Jn({},Zn),{},pt==="start"?(0,k.Z)({},Ve,Se[nn]-Vt[nn]):pt==="end"?(0,k.Z)({},Ve,Se[ln]-Vt[ln]):(0,k.Z)({},Ve,(Se[nn]+Se[ln])/2-(Vt[nn]+Vt[ln])/2))},kr=function(rt,Se,Ze,Ve){var pt=Ve.scene.getSelectedElements(Se);return pt.length>1&&!pt.some(function(Vt){return Vt.type==="frame"})},fr=function(rt,Se,Ze,Ve){var pt=function(cn,Mn){var nn=(0,T.AI)(cn),ln=(0,un.v2)(cn);return nn.flatMap(function(Zn){var qn=cr(Zn,ln,Mn);return Zn.map(function(hr){return(0,d.BE)(hr,{x:hr.x+qn.x,y:hr.y+qn.y})})})}(Ze.scene.getSelectedElements(Se),Ve),Vt=(0,c.xn)(pt);return(0,Te.Tq)(rt.map(function(cn){return Vt.get(cn.id)||cn}),Se,Ze)};(0,I.z)({name:"alignTop",trackEvent:{category:"element"},predicate:kr,perform:function(rt,Se,Ze,Ve){return{appState:Se,elements:fr(rt,Se,Ve,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&rt.shiftKey&&rt.key===B.tW.ARROW_UP},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData,pt=rt.app;return(0,r.jsx)(ie.V,{hidden:!kr(0,Ze,0,pt),type:"button",icon:E.Ct,onClick:function(){return Ve(null)},title:"".concat((0,M.t)("labels.alignTop")," — ").concat((0,c.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,M.t)("labels.alignTop"),visible:(0,S.N)((0,N.Lm)(Se),Ze)})}}),(0,I.z)({name:"alignBottom",trackEvent:{category:"element"},predicate:kr,perform:function(rt,Se,Ze,Ve){return{appState:Se,elements:fr(rt,Se,Ve,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&rt.shiftKey&&rt.key===B.tW.ARROW_DOWN},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData,pt=rt.app;return(0,r.jsx)(ie.V,{hidden:!kr(0,Ze,0,pt),type:"button",icon:E.HL,onClick:function(){return Ve(null)},title:"".concat((0,M.t)("labels.alignBottom")," — ").concat((0,c.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,M.t)("labels.alignBottom"),visible:(0,S.N)((0,N.Lm)(Se),Ze)})}}),(0,I.z)({name:"alignLeft",trackEvent:{category:"element"},predicate:kr,perform:function(rt,Se,Ze,Ve){return{appState:Se,elements:fr(rt,Se,Ve,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&rt.shiftKey&&rt.key===B.tW.ARROW_LEFT},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData,pt=rt.app;return(0,r.jsx)(ie.V,{hidden:!kr(0,Ze,0,pt),type:"button",icon:E.xs,onClick:function(){return Ve(null)},title:"".concat((0,M.t)("labels.alignLeft")," — ").concat((0,c.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,M.t)("labels.alignLeft"),visible:(0,S.N)((0,N.Lm)(Se),Ze)})}}),(0,I.z)({name:"alignRight",trackEvent:{category:"element"},predicate:kr,perform:function(rt,Se,Ze,Ve){return{appState:Se,elements:fr(rt,Se,Ve,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&rt.shiftKey&&rt.key===B.tW.ARROW_RIGHT},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData,pt=rt.app;return(0,r.jsx)(ie.V,{hidden:!kr(0,Ze,0,pt),type:"button",icon:E.mh,onClick:function(){return Ve(null)},title:"".concat((0,M.t)("labels.alignRight")," — ").concat((0,c.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,M.t)("labels.alignRight"),visible:(0,S.N)((0,N.Lm)(Se),Ze)})}}),(0,I.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},predicate:kr,perform:function(rt,Se,Ze,Ve){return{appState:Se,elements:fr(rt,Se,Ve,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData,pt=rt.app;return(0,r.jsx)(ie.V,{hidden:!kr(0,Ze,0,pt),type:"button",icon:E.ST,onClick:function(){return Ve(null)},title:(0,M.t)("labels.centerVertically"),"aria-label":(0,M.t)("labels.centerVertically"),visible:(0,S.N)((0,N.Lm)(Se),Ze)})}}),(0,I.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},predicate:kr,perform:function(rt,Se,Ze,Ve){return{appState:Se,elements:fr(rt,Se,Ve,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData,pt=rt.app;return(0,r.jsx)(ie.V,{hidden:!kr(0,Ze,0,pt),type:"button",icon:E.gK,onClick:function(){return Ve(null)},title:(0,M.t)("labels.centerHorizontally"),"aria-label":(0,M.t)("labels.centerHorizontally"),visible:(0,S.N)((0,N.Lm)(Se),Ze)})}});function pn(rt,Se){var Ze=typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(!Ze){if(Array.isArray(rt)||(Ze=function(nn,ln){if(nn){if(typeof nn=="string")return Nt(nn,ln);var Zn=Object.prototype.toString.call(nn).slice(8,-1);if(Zn==="Object"&&nn.constructor&&(Zn=nn.constructor.name),Zn==="Map"||Zn==="Set")return Array.from(nn);if(Zn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Zn))return Nt(nn,ln)}}(rt))||Se){Ze&&(rt=Ze);var Ve=0,pt=function(){};return{s:pt,n:function(){return Ve>=rt.length?{done:!0}:{done:!1,value:rt[Ve++]}},e:function(nn){throw nn},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,cn=!0,Mn=!1;return{s:function(){Ze=Ze.call(rt)},n:function(){var nn=Ze.next();return cn=nn.done,nn},e:function(nn){Mn=!0,Vt=nn},f:function(){try{cn||Ze.return==null||Ze.return()}finally{if(Mn)throw Vt}}}}function Nt(rt,Se){(Se==null||Se>rt.length)&&(Se=rt.length);for(var Ze=0,Ve=new Array(Se);Ze<Se;Ze++)Ve[Ze]=rt[Ze];return Ve}var Ft=function(rt,Se){var Ze=Se.scene.getSelectedElements(rt);return Ze.length>1&&!Ze.some(function(Ve){return Ve.type==="frame"})},qt=function(rt,Se,Ze,Ve){var pt=function(cn,Mn){var nn,ln=Mn.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],Zn=(0,w.Z)(ln,4),qn=Zn[0],hr=Zn[1],br=Zn[2],Mr=Zn[3],Or=(0,un.v2)(cn),Er=(0,T.AI)(cn).map(function(uo){return[uo,(0,un.v2)(uo)]}).sort(function(uo,Co){return uo[1][hr]-Co[1][hr]}),Cr=0,no=pn(Er);try{for(no.s();!(nn=no.n()).done;)Cr+=nn.value[1][Mr]}catch(uo){no.e(uo)}finally{no.f()}var yo=(Or[Mr]-Cr)/(Er.length-1);if(yo<0){var jo=Er.findIndex(function(uo){return uo[1][qn]===Or[qn]}),ei=Er.findIndex(function(uo){return uo[1][br]===Or[br]}),vi=(Er[ei][1][hr]-Er[jo][1][hr])/(Er.length-1),Gr=Er[jo][1][hr];return Er.flatMap(function(uo,Co){var Oo=(0,w.Z)(uo,2),di=Oo[0],ri=Oo[1],ni={x:0,y:0};return Co!==jo&&Co!==ei&&(Gr+=vi,ni[Mn.axis]=Gr-ri[hr]),di.map(function(bi){return(0,d.BE)(bi,{x:bi.x+ni.x,y:bi.y+ni.y})})})}var Ir=Or[qn];return Er.flatMap(function(uo){var Co=(0,w.Z)(uo,2),Oo=Co[0],di=Co[1],ri={x:0,y:0};return ri[Mn.axis]=Ir-di[qn],Ir+=yo,Ir+=di[Mr],Oo.map(function(ni){return(0,d.BE)(ni,{x:ni.x+ri.x,y:ni.y+ri.y})})})}(Ze.scene.getSelectedElements(Se),Ve),Vt=(0,c.xn)(pt);return(0,Te.Tq)(rt.map(function(cn){return Vt.get(cn.id)||cn}),Se,Ze)},kn=((0,I.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(rt,Se,Ze,Ve){return{appState:Se,elements:qt(rt,Se,Ve,{axis:"x"}),commitToHistory:!0}},keyTest:function(rt){return!rt[B.tW.CTRL_OR_CMD]&&rt.altKey&&rt.code===B.aU.H},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData,pt=rt.app;return(0,r.jsx)(ie.V,{hidden:!Ft(Ze,pt),type:"button",icon:E.uD,onClick:function(){return Ve(null)},title:"".concat((0,M.t)("labels.distributeHorizontally")," — ").concat((0,c.uY)("Alt+H")),"aria-label":(0,M.t)("labels.distributeHorizontally"),visible:(0,S.N)((0,N.Lm)(Se),Ze)})}}),(0,I.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(rt,Se,Ze,Ve){return{appState:Se,elements:qt(rt,Se,Ve,{axis:"y"}),commitToHistory:!0}},keyTest:function(rt){return!rt[B.tW.CTRL_OR_CMD]&&rt.altKey&&rt.code===B.aU.V},PanelComponent:function(rt){var Se=rt.elements,Ze=rt.appState,Ve=rt.updateData,pt=rt.app;return(0,r.jsx)(ie.V,{hidden:!Ft(Ze,pt),type:"button",icon:E.W5,onClick:function(){return Ve(null)},title:"".concat((0,M.t)("labels.distributeVertically")," — ").concat((0,c.uY)("Alt+V")),"aria-label":(0,M.t)("labels.distributeVertically"),visible:(0,S.N)((0,N.Lm)(Se),Ze)})}}),t(4381)),$n=(0,I.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(rt,Se,Ze,Ve){return{elements:(0,Te.Tq)(Qn(rt,Se,"horizontal"),Se,Ve),appState:Se,commitToHistory:!0}},keyTest:function(rt){return rt.shiftKey&&rt.code===B.aU.H},contextItemLabel:"labels.flipHorizontal"}),Hn=(0,I.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(rt,Se,Ze,Ve){return{elements:(0,Te.Tq)(Qn(rt,Se,"vertical"),Se,Ve),appState:Se,commitToHistory:!0}},keyTest:function(rt){return rt.shiftKey&&rt.code===B.aU.V&&!rt[B.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical"}),Qn=function(rt,Se,Ze){var Ve=(0,S.eD)((0,N.Lm)(rt),Se,{includeBoundTextElement:!0,includeElementsInFrames:!0}),pt=ir(Ve,Se,Ze),Vt=(0,c.xn)(pt);return rt.map(function(cn){return Vt.get(cn.id)||cn})},ir=function(rt,Se,Ze){var Ve=(0,un.v2)(rt),pt=Ve.minX,Vt=Ve.minY,cn=Ve.maxX,Mn=Ve.maxY;return(0,kn.LM)({originalElements:(0,c.xn)(rt)},rt,"nw",!0,Ze==="horizontal"?cn:pt,Ze==="horizontal"?Vt:Mn),((0,se.N1)(Se)?se.el:se.H)(rt),rt},Fn=t(5047);function yr(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function lr(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?yr(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):yr(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}var Gn=(0,I.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(rt){return!rt.gridSize}},perform:function(rt,Se){return{appState:lr(lr({},Se),{},{gridSize:this.checked(Se)?null:p.k,objectsSnapModeEnabled:!1}),commitToHistory:!1}},checked:function(rt){return rt.gridSize!==null},predicate:function(rt,Se,Ze){return Ze.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(rt){return rt[B.tW.CTRL_OR_CMD]&&rt.code===B.aU.QUOTE}});function Xn(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function er(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?Xn(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):Xn(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}var pr=(0,I.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(rt){return!rt.zenModeEnabled}},perform:function(rt,Se){return{appState:er(er({},Se),{},{zenModeEnabled:!this.checked(Se)}),commitToHistory:!1}},checked:function(rt){return rt.zenModeEnabled},predicate:function(rt,Se,Ze){return Ze.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(rt){return!rt[B.tW.CTRL_OR_CMD]&&rt.altKey&&rt.code===B.aU.Z}});function vr(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function xr(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?vr(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):vr(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}var $r=(0,I.z)({name:"objectsSnapMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(rt){return!rt.objectsSnapModeEnabled}},perform:function(rt,Se){return{appState:xr(xr({},Se),{},{objectsSnapModeEnabled:!this.checked(Se),gridSize:null}),commitToHistory:!1}},checked:function(rt){return rt.objectsSnapModeEnabled},predicate:function(rt,Se,Ze){return Ze.objectsSnapModeEnabled===void 0},contextItemLabel:"buttons.objectsSnapMode",keyTest:function(rt){return!rt[B.tW.CTRL_OR_CMD]&&rt.altKey&&rt.code===B.aU.S}}),io=t(7080),Eo=t(7392),Ro=t(5992),Bo=t(9672);function Do(rt,Se){var Ze=Object.keys(rt);if(Object.getOwnPropertySymbols){var Ve=Object.getOwnPropertySymbols(rt);Se&&(Ve=Ve.filter(function(pt){return Object.getOwnPropertyDescriptor(rt,pt).enumerable})),Ze.push.apply(Ze,Ve)}return Ze}function bo(rt){for(var Se=1;Se<arguments.length;Se++){var Ze=arguments[Se]!=null?arguments[Se]:{};Se%2?Do(Object(Ze),!0).forEach(function(Ve){(0,k.Z)(rt,Ve,Ze[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ze)):Do(Object(Ze)).forEach(function(Ve){Object.defineProperty(rt,Ve,Object.getOwnPropertyDescriptor(Ze,Ve))})}return rt}var Zo=(0,I.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(rt,Se,Ze,Ve){var pt=Ve.scene.getSelectedElements(Se);return!(pt.length!==1||!(0,b.bt)(pt[0]))},perform:function(rt,Se,Ze,Ve){var pt,Vt=Ve.scene.getSelectedElements({selectedElementIds:Se.selectedElementIds,includeBoundTextElement:!0})[0],cn=((pt=Se.editingLinearElement)===null||pt===void 0?void 0:pt.elementId)===Vt.id?null:new W._(Vt,Ve.scene);return{appState:bo(bo({},Se),{},{editingLinearElement:cn}),commitToHistory:!1}},contextItemLabel:function(rt,Se,Ze){var Ve,pt=Ze.scene.getSelectedElements({selectedElementIds:Se.selectedElementIds,includeBoundTextElement:!0})[0];return((Ve=Se.editingLinearElement)===null||Ve===void 0?void 0:Ve.elementId)===pt.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},2767:function(We,te,t){t.d(te,{N:function(){return e},z:function(){return w}});var e=[],w=function(v){return e=e.concat(v),v}},2529:function(We,te,t){t.d(te,{C:function(){return b}});var e=t(9937),w=t(8227),v=t(9827),d={toggleTheme:[(0,v.uY)("Shift+Alt+D")],saveScene:[(0,v.uY)("CtrlOrCmd+S")],loadScene:[(0,v.uY)("CtrlOrCmd+O")],clearCanvas:[(0,v.uY)("CtrlOrCmd+Delete")],imageExport:[(0,v.uY)("CtrlOrCmd+Shift+E")],cut:[(0,v.uY)("CtrlOrCmd+X")],copy:[(0,v.uY)("CtrlOrCmd+C")],paste:[(0,v.uY)("CtrlOrCmd+V")],copyStyles:[(0,v.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,v.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,v.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,v.uY)("Delete")],duplicateSelection:[(0,v.uY)("CtrlOrCmd+D"),(0,v.uY)("Alt+".concat((0,w.t)("helpDialog.drag")))],sendBackward:[(0,v.uY)("CtrlOrCmd+[")],bringForward:[(0,v.uY)("CtrlOrCmd+]")],sendToBack:[e.Um?(0,v.uY)("CtrlOrCmd+Alt+["):(0,v.uY)("CtrlOrCmd+Shift+[")],bringToFront:[e.Um?(0,v.uY)("CtrlOrCmd+Alt+]"):(0,v.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,v.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,v.uY)("CtrlOrCmd+G")],ungroup:[(0,v.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,v.uY)("CtrlOrCmd+'")],zenMode:[(0,v.uY)("Alt+Z")],objectsSnapMode:[(0,v.uY)("Alt+S")],stats:[(0,v.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,v.uY)("Shift+H")],flipVertical:[(0,v.uY)("Shift+V")],viewMode:[(0,v.uY)("Alt+R")],hyperlink:[(0,v.uY)("CtrlOrCmd+K")],toggleElementLock:[(0,v.uY)("CtrlOrCmd+Shift+L")]},b=function(T){var S=d[T];return S&&S.length>0?S[0]:""}},3646:function(We,te,t){t.d(te,{L:function(){return e}});var e=function(w,v,d,b){try{if(typeof window>"u"||{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_WORKER_ID||![].includes(w))return;window.sa_event&&window.sa_event(v,{category:w,label:d,value:b})}catch(T){console.error("error during analytics",T)}}},6853:function(We,te,t){t.d(te,{EN:function(){return F},eS:function(){return Z},im:function(){return T},l$:function(){return _},s:function(){return c}});var e=t(9240),w=t(9937),v=t(8227),d=t(9827),b=w.ZB.includes(devicePixelRatio)?devicePixelRatio:1,T=function(){return{showWelcomeScreen:!1,theme:w.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:w.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:w.HN.fillStyle,currentItemFontFamily:w.rk,currentItemFontSize:w.n5,currentItemOpacity:w.HN.opacity,currentItemRoughness:w.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:w.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:w.HN.strokeStyle,currentItemStrokeWidth:w.HN.strokeWidth,currentItemTextAlign:w.Hg,cursorButton:"up",activeEmbeddable:null,draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:w.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:b,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,v.t)("labels.untitled"),"-").concat((0,d.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:e.HO.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1}},S={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1}},a=function(h,x){for(var G={},le=0,he=Object.keys(h);le<he.length;le++){var ve=he[le],fe=S[ve];if(fe!=null&&fe[x]){var X=h[ve];G[ve]=X}}return G},c=function(h){return a(h,"export")},Z=function(h){return a(h,"server")},F=function(h){return h.activeTool.type==="eraser"},_=function(h){return h.activeTool.type==="hand"}},901:function(We,te,t){t.d(te,{dz:function(){return X},i$:function(){return le},ps:function(){return M}});var e=t(1930),w=t(7169),v=t(2577),d=t(9240),b=t(9937),T=t(7651),S=t(4643);function a(I,E){var p=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(!p){if(Array.isArray(I)||(p=function(k,N){if(k){if(typeof k=="string")return c(k,N);var W=Object.prototype.toString.call(k).slice(8,-1);if(W==="Object"&&k.constructor&&(W=k.constructor.name),W==="Map"||W==="Set")return Array.from(k);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return c(k,N)}}(I))||E){p&&(I=p);var r=0,o=function(){};return{s:o,n:function(){return r>=I.length?{done:!0}:{done:!1,value:I[r++]}},e:function(k){throw k},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,s=!0,u=!1;return{s:function(){p=p.call(I)},n:function(){var k=p.next();return s=k.done,k},e:function(k){u=!0,g=k},f:function(){try{s||p.return==null||p.return()}finally{if(u)throw g}}}}function c(I,E){(E==null||E>I.length)&&(E=I.length);for(var p=0,r=new Array(E);p<E;p++)r[p]=I[p];return r}function Z(I,E){var p=Object.keys(I);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(I);E&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(I,o).enumerable})),p.push.apply(p,r)}return p}function F(I){for(var E=1;E<arguments.length;E++){var p=arguments[E]!=null?arguments[E]:{};E%2?Z(Object(p),!0).forEach(function(r){(0,w.Z)(I,r,p[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(p)):Z(Object(p)).forEach(function(r){Object.defineProperty(I,r,Object.getOwnPropertyDescriptor(p,r))})}return I}var _=32,h=12,x=256,G="NOT_SPREADSHEET",le="VALID_SPREADSHEET",he=function(I){var E=/^([-+]?)[$€£¥₩]?([-+]?)([\d.,]+)[%]?$/.exec(I);return E?parseFloat("".concat((E[1]||E[2])+E[3]).replace(/,/g,"")):null},ve=function(I,E){return I.slice(1).every(function(p){return he(p[E])!==null})},fe=function(I){var E=I[0].length;if(E>2)return{type:G,reason:"More than 2 columns"};if(E===1){if(!ve(I,0))return{type:G,reason:"Value is not numeric"};var p=he(I[0][0])===null,r=(p?I.slice(1):I).map(function(j){return he(j[0])});return r.length<2?{type:G,reason:"Less than two rows"}:{type:le,spreadsheet:{title:p?I[0][0]:null,labels:null,values:r}}}var o=ve(I,0),g=ve(I,1);if(!o&&!g)return{type:G,reason:"Value is not numeric"};var s=g?[0,1]:[1,0],u=(0,v.Z)(s,2),k=u[0],N=u[1],W=he(I[0][N])===null,O=W?I.slice(1):I;return O.length<2?{type:G,reason:"Less than 2 rows"}:{type:le,spreadsheet:{title:W?I[0][N]:null,labels:O.map(function(j){return j[k]}),values:O.map(function(j){return he(j[N])})}}},X=function(I){var E=I.trim().split(`
`).map(function(g){return g.trim().split("	")});if(E.length&&E[0].length!==2&&(E=I.trim().split(`
`).map(function(g){return g.trim().split(",")})),E.length===0)return{type:G,reason:"No values"};var p=E[0].length;if(!E.every(function(g){return g.length===p}))return{type:G,reason:"All rows don't have same number of columns"};var r=fe(E);if(r.type!==le){var o=fe(function(g){for(var s=[],u=0;u<g[0].length;u++){for(var k=[],N=0;N<g.length;N++)k.push(g[N][u]);s.push(k)}return s}(E));if(o.type===le)return o}return r},q=(0,d.sF)(d.C2),U={fillStyle:"hachure",fontFamily:b.rk,fontSize:b.n5,opacity:100,roughness:1,strokeColor:d.HO.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:b.oX.MIDDLE,locked:!1},R=function(I){return{chartWidth:44*I.values.length+h,chartHeight:280}},B=function(I,E,p,r,o,g){var s=R(I),u=s.chartWidth,k=I.title?(0,T.VL)(F(F({backgroundColor:o,groupIds:[r]},U),{},{text:I.title,x:E+u/2,y:p-x-24-b.n5,roundness:null,textAlign:"center"})):null;return[].concat((0,e.Z)([]),(0,e.Z)(k?[k]:[]),(0,e.Z)(function(N,W,O,j,L){var V;return((V=N.labels)===null||V===void 0?void 0:V.map(function(ie,se){return(0,T.VL)(F(F({groupIds:[j],backgroundColor:L},U),{},{text:ie.length>8?"".concat(ie.slice(0,5),"..."):ie,x:W+44*se+24,y:O+6,width:_,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(I,E,p,r,o)),(0,e.Z)(function(N,W,O,j,L){var V=(0,T.VL)(F(F({groupIds:[j],backgroundColor:L},U),{},{x:W-h,y:O-h,text:"0",textAlign:"right"}));return[V,(0,T.VL)(F(F({groupIds:[j],backgroundColor:L},U),{},{x:W-h,y:O-x-V.height/2,text:Math.max.apply(Math,(0,e.Z)(N.values)).toLocaleString(),textAlign:"right"}))]}(I,E,p,r,o)),(0,e.Z)(function(N,W,O,j,L){var V=R(N),ie=V.chartWidth,se=V.chartHeight;return[(0,T.y8)(F(F({backgroundColor:L,groupIds:[j]},U),{},{type:"line",x:W,y:O,startArrowhead:null,endArrowhead:null,width:ie,points:[[0,0],[ie,0]]})),(0,T.y8)(F(F({backgroundColor:L,groupIds:[j]},U),{},{type:"line",x:W,y:O,startArrowhead:null,endArrowhead:null,height:se,points:[[0,0],[0,-se]]})),(0,T.y8)(F(F({backgroundColor:L,groupIds:[j]},U),{},{type:"line",x:W,y:O-x-h,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:ie,opacity:50,points:[[0,0],[ie,0]]}))]}(I,E,p,r,o)))},M=function(I,E,p,r){return I==="line"?function(o,g,s){var u,k=Math.max.apply(Math,(0,e.Z)(o.values)),N=(0,S.kb)(),W=q[Math.floor(Math.random()*q.length)],O=0,j=[],L=a(o.values);try{for(L.s();!(u=L.n()).done;){var V=u.value,ie=44*O,se=-V/k*x;j.push([ie,se]),O++}}catch(qe){L.e(qe)}finally{L.f()}var ue=Math.max.apply(Math,(0,e.Z)(j.map(function(qe){return qe[0]}))),pe=Math.max.apply(Math,(0,e.Z)(j.map(function(qe){return qe[1]}))),Q=Math.min.apply(Math,(0,e.Z)(j.map(function(qe){return qe[0]}))),ee=Math.min.apply(Math,(0,e.Z)(j.map(function(qe){return qe[1]}))),me=(0,T.y8)(F(F({backgroundColor:W,groupIds:[N]},U),{},{type:"line",x:g+h+16,y:s-h,startArrowhead:null,endArrowhead:null,height:pe-ee,width:ue-Q,strokeWidth:2,points:j})),Te=o.values.map(function(qe,Ae){var Oe=44*Ae+6,Ie=-qe/k*x+6;return(0,T.Up)(F(F({backgroundColor:W,groupIds:[N]},U),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:g+Oe+16,y:s+Ie-24,width:h,height:h}))}),Ue=o.values.map(function(qe,Ae){var Oe=44*Ae+6,Ie=qe/k*x+6+h;return(0,T.y8)(F(F({backgroundColor:W,groupIds:[N]},U),{},{type:"line",x:g+Oe+16+6,y:s-Ie,startArrowhead:null,endArrowhead:null,height:Ie,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Ie]]}))});return[].concat((0,e.Z)(B(o,g,s,N,W)),[me],(0,e.Z)(Ue),(0,e.Z)(Te))}(E,p,r):function(o,g,s){var u=Math.max.apply(Math,(0,e.Z)(o.values)),k=(0,S.kb)(),N=q[Math.floor(Math.random()*q.length)],W=o.values.map(function(O,j){var L=O/u*x;return(0,T.Up)(F(F({backgroundColor:N,groupIds:[k]},U),{},{type:"rectangle",x:g+44*j+h,y:s-L-h,width:_,height:L}))});return[].concat((0,e.Z)(W),(0,e.Z)(B(o,g,s,k,N)))}(E,p,r)}},957:function(We,te,t){t.d(te,{G:function(){return e},l:function(){return w}});var e=function(v){var d=Math.abs(function(b){var T=0;if(b.length===0)return T;for(var S=0;S<b.length;S++)T=(T<<5)-T+b.charCodeAt(S);return T}(v));return"hsl(".concat(d%37*10,", ").concat(100,"%, ").concat(83,"%)")},w=function(v){var d,b=v==null||(d=v.trim())===null||d===void 0?void 0:d.codePointAt(0);return(b?String.fromCodePoint(b):"?").toUpperCase()}},4694:function(We,te,t){t.d(te,{OO:function(){return fe},Se:function(){return M},dd:function(){return r},mQ:function(){return E},uR:function(){return p},vQ:function(){return q},vt:function(){return he},wx:function(){return le}});var e=t(7169),w=t(8950),v=t(2577),d=t(2975),b=t.n(d),T=t(901),S=t(9937),a=t(4183),c=t(5742),Z=t(583),F=t(4682),_=t(9827),h=t(8227);function x(g,s){var u=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!u){if(Array.isArray(g)||(u=function(L,V){if(L){if(typeof L=="string")return G(L,V);var ie=Object.prototype.toString.call(L).slice(8,-1);if(ie==="Object"&&L.constructor&&(ie=L.constructor.name),ie==="Map"||ie==="Set")return Array.from(L);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return G(L,V)}}(g))||s){u&&(g=u);var k=0,N=function(){};return{s:N,n:function(){return k>=g.length?{done:!0}:{done:!1,value:g[k++]}},e:function(L){throw L},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W,O=!0,j=!1;return{s:function(){u=u.call(g)},n:function(){var L=u.next();return O=L.done,L},e:function(L){j=!0,W=L},f:function(){try{O||u.return==null||u.return()}finally{if(j)throw W}}}}function G(g,s){(s==null||s>g.length)&&(s=g.length);for(var u=0,k=new Array(s);u<s;u++)k[u]=g[u];return k}var le="clipboard"in navigator&&"writeText"in navigator.clipboard,he="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,ve=function(g){return!(![S.r8.excalidraw,S.r8.excalidrawClipboard,S.r8.excalidrawClipboardWithAPI].includes(g?.type)||!Array.isArray(g.elements))},fe=function(g){var s=g.types,u=g.files;s||u||console.warn("createPasteEvent: no types or files provided");var k=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(s)for(var N=0,W=Object.entries(s);N<W.length;N++){var O=(0,v.Z)(W[N],2),j=O[0],L=O[1];try{var V,ie;if((V=k.clipboardData)===null||V===void 0||V.setData(j,L),((ie=k.clipboardData)===null||ie===void 0?void 0:ie.getData(j))!==L)throw new Error('Failed to set "'.concat(j,'" as clipboardData item'))}catch(Te){throw new Error(Te.message)}}if(u){var se,ue=-1,pe=x(u);try{for(pe.s();!(se=pe.n()).done;){var Q=se.value;ue++;try{var ee,me;if((ee=k.clipboardData)===null||ee===void 0||ee.items.add(Q),((me=k.clipboardData)===null||me===void 0?void 0:me.files[ue])!==Q)throw new Error('Failed to set file "'.concat(Q.name,'" as clipboardData item'))}catch(Te){throw new Error(Te.message)}}}catch(Te){pe.e(Te)}finally{pe.f()}}return k},X=function(g){var s=g.elements,u=g.files,k=new Set(s.filter(function(j){return j.type==="frame"})),N=!1,W=s.reduce(function(j,L){return(0,a.wi)(L)&&(N=!0,u&&u[L.fileId]&&(j[L.fileId]=u[L.fileId])),j},{});N&&!u&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var O={type:S.r8.excalidrawClipboard,elements:s.map(function(j){if((0,F.$Z)(j)&&!k.has((0,F.$Z)(j))){var L=(0,c.OL)(j);return(0,Z.DR)(L,{frameId:null}),L}return j}),files:u?W:void 0};return JSON.stringify(O)},q=function(){var g=(0,w.Z)(b().mark(function s(u,k,N){return b().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,r(X({elements:u,files:k}),N);case 2:case"end":return W.stop()}},s)}));return function(s,u,k){return g.apply(this,arguments)}}(),U=function(g){var s=(0,T.dz)(g);return s.type===T.i$?{spreadsheet:s.spreadsheet}:null};function R(g){var s,u=[],k=x(g.childNodes);try{for(k.s();!(s=k.n()).done;){var N=s.value;if(N.nodeType===3){var W,O=(W=N.textContent)===null||W===void 0?void 0:W.trim();O&&u.push({type:"text",value:O})}else if(N instanceof HTMLImageElement){var j=N.getAttribute("src");j&&j.startsWith("http")&&u.push({type:"imageUrl",value:j})}else u=u.concat(R(N))}}catch(L){k.e(L)}finally{k.f()}return u}var B=function(g){var s,u=(s=g.clipboardData)===null||s===void 0?void 0:s.getData("text/html");if(!u)return null;try{var k=R(new DOMParser().parseFromString(u,"text/html").body);if(k.length)return{type:"mixedContent",value:k}}catch(N){console.error("error in parseHTMLFromPaste: ".concat(N.message))}return null},M=function(){var g=(0,w.Z)(b().mark(function s(){var u,k,N,W,O,j,L,V,ie,se,ue,pe;return b().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(u={},Q.prev=1,(k=navigator.clipboard)===null||k===void 0||!k.readText){Q.next=7;break}return Q.next=5,(N=navigator.clipboard)===null||N===void 0?void 0:N.readText();case 5:return Q.t0=Q.sent,Q.abrupt("return",{"text/plain":Q.t0});case 7:Q.next=16;break;case 9:if(Q.prev=9,Q.t1=Q.catch(1),(W=navigator.clipboard)===null||W===void 0||!W.read){Q.next=15;break}console.warn("navigator.clipboard.readText() failed (".concat(Q.t1.message,"). Failling back to navigator.clipboard.read()")),Q.next=16;break;case 15:throw Q.t1;case 16:return Q.prev=16,Q.next=19,(j=navigator.clipboard)===null||j===void 0?void 0:j.read();case 19:O=Q.sent,Q.next=28;break;case 22:if(Q.prev=22,Q.t2=Q.catch(16),Q.t2.name!=="DataError"){Q.next=27;break}return console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(Q.t2.message)),Q.abrupt("return",u);case 27:throw Q.t2;case 28:L=x(O),Q.prev=29,L.s();case 31:if((V=L.n()).done){Q.next=63;break}ie=V.value,se=x(ie.types),Q.prev=34,se.s();case 36:if((ue=se.n()).done){Q.next=53;break}if(pe=ue.value,(0,_.XF)(S.wL,pe)){Q.next=40;break}return Q.abrupt("continue",51);case 40:return Q.prev=40,Q.next=43,ie.getType(pe);case 43:return Q.next=45,Q.sent.text();case 45:u[pe]=Q.sent,Q.next=51;break;case 48:Q.prev=48,Q.t3=Q.catch(40),console.warn("Cannot retrieve ".concat(pe," from clipboardItem: ").concat(Q.t3.message));case 51:Q.next=36;break;case 53:Q.next=58;break;case 55:Q.prev=55,Q.t4=Q.catch(34),se.e(Q.t4);case 58:return Q.prev=58,se.f(),Q.finish(58);case 61:Q.next=31;break;case 63:Q.next=68;break;case 65:Q.prev=65,Q.t5=Q.catch(29),L.e(Q.t5);case 68:return Q.prev=68,L.f(),Q.finish(68);case 71:if(Object.keys(u).length!==0){Q.next=74;break}return console.warn("No clipboard data found from clipboard.read()."),Q.abrupt("return",u);case 74:return Q.abrupt("return",u);case 75:case"end":return Q.stop()}},s,null,[[1,9],[16,22],[29,65,68,71],[34,55,58,61],[40,48]])}));return function(){return g.apply(this,arguments)}}(),I=function(){var g=(0,w.Z)(b().mark(function s(u){var k,N,W,O,j,L=arguments;return b().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(k=L.length>1&&L[1]!==void 0&&L[1],V.prev=1,!(W=!k&&u&&B(u))){V.next=7;break}if(!W.value.every(function(ie){return ie.type==="text"})){V.next=6;break}return V.abrupt("return",{type:"text",value:((O=u.clipboardData)===null||O===void 0?void 0:O.getData("text/plain"))||W.value.map(function(ie){return ie.value}).join(`
`).trim()});case 6:return V.abrupt("return",W);case 7:return j=(N=u.clipboardData)===null||N===void 0?void 0:N.getData("text/plain"),V.abrupt("return",{type:"text",value:(j||"").trim()});case 11:return V.prev=11,V.t0=V.catch(1),V.abrupt("return",{type:"text",value:""});case 14:case"end":return V.stop()}},s,null,[[1,11]])}));return function(s){return g.apply(this,arguments)}}(),E=function(){var g=(0,w.Z)(b().mark(function s(u){var k,N,W,O,j,L=arguments;return b().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return k=L.length>1&&L[1]!==void 0&&L[1],V.next=3,I(u,k);case 3:if((N=V.sent).type!=="mixedContent"){V.next=6;break}return V.abrupt("return",{mixedContent:N.value});case 6:if(V.prev=6,!(W=!k&&U(N.value))){V.next=10;break}return V.abrupt("return",W);case 10:V.next=15;break;case 12:V.prev=12,V.t0=V.catch(6),console.error(V.t0);case 15:if(V.prev=15,O=JSON.parse(N.value),j=O.type===S.r8.excalidrawClipboardWithAPI,!ve(O)){V.next=20;break}return V.abrupt("return",{elements:O.elements,files:O.files,text:k?JSON.stringify(O.elements,null,2):void 0,programmaticAPI:j});case 20:V.next=24;break;case 22:V.prev=22,V.t1=V.catch(15);case 24:return V.abrupt("return",{text:N.value});case 25:case"end":return V.stop()}},s,null,[[6,12],[15,22]])}));return function(s){return g.apply(this,arguments)}}(),p=function(){var g=(0,w.Z)(b().mark(function s(u){return b().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,k.next=3,navigator.clipboard.write([new window.ClipboardItem((0,e.Z)({},S.LO.png,u))]);case 3:case 21:k.next=24;break;case 5:if(k.prev=5,k.t0=k.catch(0),!(0,_.y8)(u)){k.next=23;break}return k.t1=navigator.clipboard,k.t2=window.ClipboardItem,k.t3=e.Z,k.t4={},k.t5=S.LO.png,k.next=15,u;case 15:return k.t6=k.sent,k.t7=(0,k.t3)(k.t4,k.t5,k.t6),k.t8=new k.t2(k.t7),k.t9=[k.t8],k.next=21,k.t1.write.call(k.t1,k.t9);case 23:throw k.t0;case 24:case"end":return k.stop()}},s,null,[[0,5]])}));return function(s){return g.apply(this,arguments)}}(),r=function(){var g=(0,w.Z)(b().mark(function s(u,k){var N,W;return b().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!le){O.next=10;break}return O.prev=1,O.next=4,navigator.clipboard.writeText(u||"");case 4:return O.abrupt("return");case 7:O.prev=7,O.t0=O.catch(1),console.error(O.t0);case 10:if(O.prev=10,!k){O.next=16;break}if((N=k.clipboardData)===null||N===void 0||N.setData("text/plain",u||""),((W=k.clipboardData)===null||W===void 0?void 0:W.getData("text/plain"))===u){O.next=15;break}throw new Error("Failed to setData on clipboardEvent");case 15:return O.abrupt("return");case 16:O.next=21;break;case 18:O.prev=18,O.t1=O.catch(10),console.error(O.t1);case 21:if(o(u)){O.next=23;break}throw new Error((0,h.t)("errors.copyToSystemClipboardFailed"));case 23:case"end":return O.stop()}},s,null,[[1,7],[10,18]])}));return function(s,u){return g.apply(this,arguments)}}(),o=function(g){g||(g=" ");var s=document.documentElement.getAttribute("dir")==="rtl",u=document.createElement("textarea");u.style.border="0",u.style.padding="0",u.style.margin="0",u.style.position="absolute",u.style[s?"right":"left"]="-9999px";var k=window.pageYOffset||document.documentElement.scrollTop;u.style.top="".concat(k,"px"),u.style.fontSize="12pt",u.setAttribute("readonly",""),u.value=g,document.body.appendChild(u);var N=!1;try{u.select(),u.setSelectionRange(0,u.value.length),N=document.execCommand("copy")}catch(W){console.error(W)}return u.remove(),N}},9240:function(We,te,t){t.d(te,{C2:function(){return a},HO:function(){return h},Lx:function(){return T},SF:function(){return fe},Wk:function(){return ve},_T:function(){return Z},ay:function(){return he},dC:function(){return S},eq:function(){return le},fY:function(){return G},sF:function(){return X},vq:function(){return q},z8:function(){return c}});var e=t(7169),w=t(5284);function v(U,R){var B=Object.keys(U);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(U);R&&(M=M.filter(function(I){return Object.getOwnPropertyDescriptor(U,I).enumerable})),B.push.apply(B,M)}return B}function d(U){for(var R=1;R<arguments.length;R++){var B=arguments[R]!=null?arguments[R]:{};R%2?v(Object(B),!0).forEach(function(M){(0,e.Z)(U,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(B)):v(Object(B)).forEach(function(M){Object.defineProperty(U,M,Object.getOwnPropertyDescriptor(B,M))})}return U}var b,T=5,S=5,a=4,c=4,Z=1,F=[0,2,4,6,8],_=function(U,R){return R.map(function(B){return w[U][B]})},h={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:_("gray",F),red:_("red",F),pink:_("pink",F),grape:_("grape",F),violet:_("violet",F),blue:_("blue",F),cyan:_("cyan",F),teal:_("teal",F),green:_("green",F),yellow:_("yellow",F),orange:_("orange",F),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},x=(b=h,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"].reduce(function(U,R){return R in b&&(U[R]=b[R]),U},{})),G=[h.black,h.red[c],h.green[c],h.blue[c],h.yellow[c]],le=[h.transparent,h.red[Z],h.green[Z],h.blue[Z],h.yellow[Z]],he=[h.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],ve=d({transparent:h.transparent,white:h.white,gray:h.gray,black:h.black,bronze:h.bronze},x),fe=d({transparent:h.transparent,white:h.white,gray:h.gray,black:h.black,bronze:h.bronze},x),X=function(U){return[h.cyan[U],h.blue[U],h.violet[U],h.grape[U],h.pink[U],h.green[U],h.teal[U],h.yellow[U],h.orange[U],h.red[U]]},q=function(U,R,B){return"#".concat(((1<<24)+(U<<16)+(R<<8)+B).toString(16).slice(1))}},8973:function(We,te,t){t.d(te,{o:function(){return Z},w:function(){return c}});var e=t(2577),w=t(3607),v=t(5463),d=t(8227),b=t(453),T=t(8242),S=t(6887),a=t(4512),c=(0,w.cn)(null),Z=function(){var F=(0,w.KO)(c,b.yE),_=(0,e.Z)(F,2),h=_[0],x=_[1],G=(0,T.eh)();return h&&h==="clearCanvas"?(0,a.jsx)(S.Z,{onConfirm:function(){G.executeAction(v.mo),x(null)},onCancel:function(){return x(null)},title:(0,d.t)("clearCanvasDialog.title"),children:(0,a.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,d.t)("alerts.clearReset")]})}):null}},8242:function(We,te,t){var ns,vs;t.d(te,{ZP:function(){return Nc},qD:function(){return hs},hY:function(){return Ps},Fy:function(){return ms},eh:function(){return As},gF:function(){return Ds},J0:function(){return ts},bd:function(){return Is},n9:function(){return Ls}});var e=t(6655),w=t(2577),v=t(1930),d=t(8950),b=t(8821),T=t(5169),S=t(3173),a=t(2248),c=t(7245),Z=t(2312),F=t(7169),_=t(2975),h=t.n(_),x=t(9787),G=t.n(x),le=t(5156),he=t(9845),ve=t(45),fe=t(5605),X=t(5463),q=t(8935),U=t(1512),R=t(8227),B=t(5491),M=t(583),I=t(9645),E=t(9827),p=t(9937),r=t(4512);function o(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}function g(z){for(var i=1;i<arguments.length;i++){var C=arguments[i]!=null?arguments[i]:{};i%2?o(Object(C),!0).forEach(function(K){(0,F.Z)(z,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(C)):o(Object(C)).forEach(function(K){Object.defineProperty(z,K,Object.getOwnPropertyDescriptor(C,K))})}return z}var s=function(z,i,C){var K=!1;if(!(i.multiElement||i.resizingElement||i.editingElement||i.draggingElement)){var oe=C();if(oe===null)return{commitToHistory:K};var we=(0,E.xn)(z),de=oe.elements,$=(0,E.xn)(de),ne=z.filter(function(Be){return!$.has(Be.id)}),Pe=de.map(function(Be){return(0,M.BE)(we.get(Be.id)||Be,Be)}).concat(ne.map(function(Be){return(0,M.BE)(Be,{isDeleted:!0})}));return(0,I.$q)(Pe,ne),{elements:Pe,appState:g(g({},i),oe.appState),commitToHistory:K,syncHistory:!0}}return{commitToHistory:K}},u=t(3646),k=function(z,i,C,K,oe,we){if(z.trackEvent)try{(0,e.Z)(z.trackEvent)==="object"&&(!z.trackEvent.predicate||z.trackEvent.predicate(C,K,we))&&(0,u.L)(z.trackEvent.category,z.trackEvent.action||z.name,"".concat(i," (").concat(oe.device.editor.isMobile?"mobile":"desktop",")"))}catch(de){console.error("error while logging action:",de)}},N=function(){function z(i,C,K,oe){var we=this;(0,b.Z)(this,z),this.actions={},this.renderAction=function(de,$){var ne=we.app.props.UIOptions.canvasActions;if(we.actions[de]&&"PanelComponent"in we.actions[de]&&(!(de in ne)||ne[de])){var Pe=we.actions[de],Be=Pe.PanelComponent;Be.displayName="PanelComponent";var Fe=we.getElementsIncludingDeleted(),it=we.getAppState();return(0,r.jsx)(Be,{elements:we.getElementsIncludingDeleted(),appState:we.getAppState(),updateData:function(st){k(Pe,"ui",it,Fe,we.app,st),we.updater(Pe.perform(we.getElementsIncludingDeleted(),we.getAppState(),st,we.app))},appProps:we.app.props,app:we.app,data:$})}return null},this.isActionEnabled=function(de){var $=we.getElementsIncludingDeleted(),ne=we.getAppState();return!de.predicate||de.predicate($,ne,we.app.props,we.app)},this.updater=function(de){if(!de||!("then"in de))return i(de);de.then(function($){return i($)})},this.getAppState=C,this.getElementsIncludingDeleted=K,this.app=oe}return(0,T.Z)(z,[{key:"registerAction",value:function(i){this.actions[i.name]=i}},{key:"registerAll",value:function(i){var C=this;i.forEach(function(K){return C.registerAction(K)})}},{key:"handleKeyDown",value:function(i){var C=this,K=this.app.props.UIOptions.canvasActions,oe=Object.values(this.actions).sort(function(ne,Pe){return(Pe.keyPriority||0)-(ne.keyPriority||0)}).filter(function(ne){return(!(ne.name in K)||K[ne.name])&&ne.keyTest&&ne.keyTest(i,C.getAppState(),C.getElementsIncludingDeleted(),C.app)});if(oe.length!==1)return oe.length>1&&console.warn("Canceling as multiple actions match this shortcut",oe),!1;var we=oe[0];if(this.getAppState().viewModeEnabled&&we.viewMode!==!0)return!1;var de=this.getElementsIncludingDeleted(),$=this.getAppState();return k(we,"keyboard",$,de,this.app,null),i.preventDefault(),i.stopPropagation(),this.updater(oe[0].perform(de,$,null,this.app)),!0}},{key:"executeAction",value:function(i){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,oe=this.getElementsIncludingDeleted(),we=this.getAppState();k(i,C,we,oe,this.app,K),this.updater(i.perform(oe,we,K,this.app))}}]),z}(),W=t(2767),O=t(6853),j=t(4694),L=t(2435),V=t(9326),ie=t(7994),se=t(7651),ue=t(7422),pe=t(5742),Q=t(4183),ee=function(z){var i=Array.from(z.values());return{x:Te(i,function(C){return C.x})/i.length,y:Te(i,function(C){return C.y})/i.length}},me=function(z){var i=(0,w.Z)(z,2),C=i[0],K=i[1];return Math.hypot(C.x-K.x,C.y-K.y)},Te=function(z,i){return z.reduce(function(C,K){return C+i(K)},0)},Ue=t(9215);function qe(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}function Ae(z){for(var i=1;i<arguments.length;i++){var C=arguments[i]!=null?arguments[i]:{};i%2?qe(Object(C),!0).forEach(function(K){(0,F.Z)(z,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(C)):qe(Object(C)).forEach(function(K){Object.defineProperty(z,K,Object.getOwnPropertyDescriptor(C,K))})}return z}var Oe=function(z){return{selectedElementIds:z.selectedElementIds,selectedGroupIds:z.selectedGroupIds,viewBackgroundColor:z.viewBackgroundColor,editingLinearElement:z.editingLinearElement,editingGroupId:z.editingGroupId,name:z.name}},Ie=function(){function z(){var i=this;(0,b.Z)(this,z),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(C,K){return i.dehydrateHistoryEntry({appState:Oe(C),elements:K.reduce(function(oe,we){if((0,Q.bt)(we)&&C.multiElement&&C.multiElement.id===we.id){if(C.multiElement&&C.multiElement.id===we.id&&we.points.length<2)return oe;oe.push(Ae(Ae({},we),{},{points:we.lastCommittedPoint!==we.points[we.points.length-1]?we.points.slice(0,-1):we.points}))}else oe.push(we);return oe},[])})}}return(0,T.Z)(z,[{key:"hydrateHistoryEntry",value:function(i){var C=this,K=i.appState,oe=i.elements;return{appState:JSON.parse(K),elements:oe.map(function(we){var de,$=(de=C.elementCache.get(we.id))===null||de===void 0?void 0:de.get(we.versionNonce);if(!$)throw new Error("Element not found: ".concat(we.id,":").concat(we.versionNonce));return $})}}},{key:"dehydrateHistoryEntry",value:function(i){var C=this,K=i.appState,oe=i.elements;return{appState:JSON.stringify(K),elements:oe.map(function(we){C.elementCache.has(we.id)||C.elementCache.set(we.id,new Map);var de=C.elementCache.get(we.id);return de.has(we.versionNonce)||de.set(we.versionNonce,(0,pe.OL)(we)),{id:we.id,versionNonce:we.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var i=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(C){return i.hydrateHistoryEntry(C)}),redoStack:this.redoStack.map(function(C){return i.hydrateHistoryEntry(C)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(i){var C,K=this.lastEntry;if(!K||i.elements.length!==K.elements.length)return!0;for(var oe=i.elements.length-1;oe>-1;oe--){var we=i.elements[oe],de=K.elements[oe];if(!we||!de||we.id!==de.id||we.versionNonce!==de.versionNonce)return!0}for(C in i.appState){var $,ne;if(!(C==="editingLinearElement"&&(($=i.appState[C])===null||$===void 0?void 0:$.elementId)===((ne=K.appState[C])===null||ne===void 0?void 0:ne.elementId))&&C!=="selectedElementIds"&&C!=="selectedGroupIds"&&i.appState[C]!==K.appState[C])return!0}return!1}},{key:"pushEntry",value:function(i,C){var K=this.generateEntry(i,C),oe=this.hydrateHistoryEntry(K);if(oe){if(!this.shouldCreateEntry(oe))return;this.stateHistory.push(K),this.lastEntry=oe,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var i=this.redoStack.pop();return i!==void 0?(this.stateHistory.push(i),this.hydrateHistoryEntry(i)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var i=this.stateHistory.pop(),C=this.stateHistory[this.stateHistory.length-1];return i!==void 0?(this.redoStack.push(i),this.hydrateHistoryEntry(C)):null}},{key:"setCurrentState",value:function(i,C){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(i,C))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(i,C){this.recording&&(this.pushEntry(i,C),this.recording=!1)}}]),z}(),Re=t(7935),ke=t(2361),xe=t(4105),ye=t(457),P=t(4116),l=[{icon:q.zu,value:"selection",key:B.tW.V,numericKey:B.tW[1],fillable:!0},{icon:q.OW,value:"rectangle",key:B.tW.R,numericKey:B.tW[2],fillable:!0},{icon:q.nb,value:"diamond",key:B.tW.D,numericKey:B.tW[3],fillable:!0},{icon:q.Re,value:"ellipse",key:B.tW.O,numericKey:B.tW[4],fillable:!0},{icon:q.e0,value:"arrow",key:B.tW.A,numericKey:B.tW[5],fillable:!0},{icon:q.zb,value:"line",key:B.tW.L,numericKey:B.tW[6],fillable:!0},{icon:q.Pm,value:"freedraw",key:[B.tW.P,B.tW.X],numericKey:B.tW[7],fillable:!1},{icon:q.VL,value:"text",key:B.tW.T,numericKey:B.tW[8],fillable:!1},{icon:q.XB,value:"image",key:null,numericKey:B.tW[9],fillable:!1},{icon:q.$q,value:"eraser",key:B.tW.E,numericKey:B.tW[0],fillable:!1}],f=t(761),D=t(3204),H=t(3379),J=t.n(H),re=t(7795),ae=t.n(re),ge=t(569),_e=t.n(ge),ze=t(3565),Je=t.n(ze),et=t(9216),Ke=t.n(et),tt=t(4589),ut=t.n(tt),ht=t(6578),He={};He.styleTagTransform=ut(),He.setAttributes=Je(),He.insert=_e().bind(null,"head"),He.domAPI=ae(),He.insertStyleElement=Ke(),J()(ht.Z,He),ht.Z&&ht.Z.locals&&ht.Z.locals;var Ee=t(2529),Le="separator",Qe=G().memo(function(z){var i=z.actionManager,C=z.items,K=z.top,oe=z.left,we=z.onClose,de=Ds(),$=Is(),ne=C.reduce(function(Pe,Be){return!Be||Be!==Le&&Be.predicate&&!Be.predicate($,de,i.app.props,i.app)||Pe.push(Be),Pe},[]);return(0,r.jsx)(D.J,{onCloseRequest:function(){we()},top:K,left:oe,fitInViewport:!0,offsetLeft:de.offsetLeft,offsetTop:de.offsetTop,viewportWidth:de.width,viewportHeight:de.height,children:(0,r.jsx)("ul",{className:"context-menu",onContextMenu:function(Pe){return Pe.preventDefault()},children:ne.map(function(Pe,Be){var Fe;if(Pe===Le)return ne[Be-1]&&ne[Be-1]!==Le?(0,r.jsx)("hr",{className:"context-menu-item-separator"},Be):null;var it=Pe.name,st="";return Pe.contextItemLabel&&(st=typeof Pe.contextItemLabel=="function"?(0,R.t)(Pe.contextItemLabel($,de,i.app)):(0,R.t)(Pe.contextItemLabel)),(0,r.jsx)("li",{"data-testid":it,onClick:function(){we(function(){i.executeAction(Pe,"contextMenu")})},children:(0,r.jsxs)("button",{className:(0,ve.Z)("context-menu-item",{dangerous:it==="deleteSelectedElements",checkmark:(Fe=Pe.checked)===null||Fe===void 0?void 0:Fe.call(Pe,de)}),children:[(0,r.jsx)("div",{className:"context-menu-item__label",children:st}),(0,r.jsx)("kbd",{className:"context-menu-item__shortcut",children:it?(0,Ee.C)(it):""})]})},Be)})})})}),ct=t(2726),bt=t(2540),wt=t(1648),zt=t(8925),Mt=t(4761),Zt=t(6086),sn={};sn.styleTagTransform=ut(),sn.setAttributes=Je(),sn.insert=_e().bind(null,"head"),sn.domAPI=ae(),sn.insertStyleElement=Ke(),J()(Zt.Z,sn),Zt.Z&&Zt.Z.locals&&Zt.Z.locals;var rn=t(7104);function Xt(z,i){var C=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!C){if(Array.isArray(z)||(C=function(ne,Pe){if(ne){if(typeof ne=="string")return on(ne,Pe);var Be=Object.prototype.toString.call(ne).slice(8,-1);if(Be==="Object"&&ne.constructor&&(Be=ne.constructor.name),Be==="Map"||Be==="Set")return Array.from(ne);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return on(ne,Pe)}}(z))||i){C&&(z=C);var K=0,oe=function(){};return{s:oe,n:function(){return K>=z.length?{done:!0}:{done:!1,value:z[K++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,de=!0,$=!1;return{s:function(){C=C.call(z)},n:function(){var ne=C.next();return de=ne.done,ne},e:function(ne){$=!0,we=ne},f:function(){try{de||C.return==null||C.return()}finally{if($)throw we}}}}function on(z,i){(i==null||i>z.length)&&(i=z.length);for(var C=0,K=new Array(i);C<i;C++)K[C]=z[C];return K}var jn=function(z){var i,C=z.appState,K=z.elements,oe=z.renderAction,we=(0,xe.Zs)((0,se.Lm)(K),C),de=!1;we.length===2&&((0,Q.Xo)(we[0])||(0,Q.Xo)(we[1]))&&(de=!0);var $,ne=!!C.editingElement,Pe=ms(),Be=document.documentElement.getAttribute("dir")==="rtl",Fe=(0,xe.$b)(C.activeTool.type)&&!(0,E.Qm)(C.currentItemBackgroundColor)||we.some(function(Lt){return(0,xe.$b)(Lt.type)&&!(0,E.Qm)(Lt.backgroundColor)}),it=(0,xe.$b)(C.activeTool.type)||we.some(function(Lt){return(0,xe.$b)(Lt.type)}),st=we.length===1||de,vt=((i=we[0])===null||i===void 0?void 0:i.type)||null,jt=Xt(we);try{for(jt.s();!($=jt.n()).done;)if($.value.type!==vt){vt=null;break}}catch(Lt){jt.e(Lt)}finally{jt.f()}return(0,r.jsxs)("div",{className:"panelColumn",children:[(0,r.jsx)("div",{children:((0,wt.PD)(C.activeTool.type)&&C.activeTool.type!=="image"&&vt!=="image"&&vt!=="frame"||we.some(function(Lt){return(0,wt.PD)(Lt.type)}))&&oe("changeStrokeColor")}),it&&(0,r.jsx)("div",{children:oe("changeBackgroundColor")}),Fe&&oe("changeFillStyle"),((0,xe.Zd)(C.activeTool.type)||we.some(function(Lt){return(0,xe.Zd)(Lt.type)}))&&oe("changeStrokeWidth"),(C.activeTool.type==="freedraw"||we.some(function(Lt){return Lt.type==="freedraw"}))&&oe("changeStrokeShape"),((0,xe.M9)(C.activeTool.type)||we.some(function(Lt){return(0,xe.M9)(Lt.type)}))&&(0,r.jsxs)(r.Fragment,{children:[oe("changeStrokeStyle"),oe("changeSloppiness")]}),((0,xe.sh)(C.activeTool.type)||we.some(function(Lt){return(0,xe.sh)(Lt.type)}))&&(0,r.jsx)(r.Fragment,{children:oe("changeRoundness")}),(C.activeTool.type==="text"||we.some(Q.iB))&&(0,r.jsxs)(r.Fragment,{children:[oe("changeFontSize"),oe("changeFontFamily"),(C.activeTool.type==="text"||(0,Mt.aV)(we))&&oe("changeTextAlign")]}),(0,Mt.cn)(we)&&oe("changeVerticalAlign"),((0,xe.Un)(C.activeTool.type)||we.some(function(Lt){return(0,xe.Un)(Lt.type)}))&&(0,r.jsx)(r.Fragment,{children:oe("changeArrowhead")}),oe("changeOpacity"),(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:(0,R.t)("labels.layers")}),(0,r.jsxs)("div",{className:"buttonList",children:[oe("sendToBack"),oe("sendBackward"),oe("bringToFront"),oe("bringForward")]})]}),we.length>1&&!de&&(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:(0,R.t)("labels.align")}),(0,r.jsxs)("div",{className:"buttonList",children:[Be?(0,r.jsxs)(r.Fragment,{children:[oe("alignRight"),oe("alignHorizontallyCentered"),oe("alignLeft")]}):(0,r.jsxs)(r.Fragment,{children:[oe("alignLeft"),oe("alignHorizontallyCentered"),oe("alignRight")]}),we.length>2&&oe("distributeHorizontally"),(0,r.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[oe("alignTop"),oe("alignVerticallyCentered"),oe("alignBottom"),we.length>2&&oe("distributeVertically")]})]})]}),!ne&&we.length>0&&(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:(0,R.t)("labels.actions")}),(0,r.jsxs)("div",{className:"buttonList",children:[!Pe.editor.isMobile&&oe("duplicateSelection"),!Pe.editor.isMobile&&oe("deleteSelectedElements"),oe("group"),oe("ungroup"),st&&oe("hyperlink")]})]})]})},It=function(z){var i=z.activeTool,C=z.appState,K=z.app,oe=z.UIOptions,we=(0,x.useState)(!1),de=(0,w.Z)(we,2),$=de[0],ne=de[1],Pe=i.type==="frame",Be=i.type==="laser",Fe=i.type==="embeddable";return(0,r.jsxs)(r.Fragment,{children:[l.map(function(it,st){var vt,jt=it.value,Lt=it.icon,Qt=it.key,vn=it.numericKey,$t=it.fillable;if(((vt=oe.tools)===null||vt===void 0?void 0:vt[jt])===!1)return null;var Ut=(0,R.t)("toolBar.".concat(jt)),tn=Qt&&(0,E.Oo)(typeof Qt=="string"?Qt:Qt[0]),xn=tn?"".concat(tn," ").concat((0,R.t)("helpDialog.or")," ").concat(vn):"".concat(vn);return(0,r.jsx)(U.V,{className:(0,ve.Z)("Shape",{fillable:$t}),type:"radio",icon:Lt,checked:i.type===jt,name:"editor-current-shape",title:"".concat((0,E.Oo)(Ut)," — ").concat(xn),keyBindingLabel:vn||tn,"aria-label":(0,E.Oo)(Ut),"aria-keyshortcuts":xn,"data-testid":"toolbar-".concat(jt),onPointerDown:function(Dn){var En=Dn.pointerType;C.penDetected||En!=="pen"||K.togglePenMode(!0)},onChange:function(Dn){var En=Dn.pointerType;C.activeTool.type!==jt&&(0,u.L)("toolbar",jt,"ui"),jt==="image"?K.setActiveTool({type:jt,insertOnCanvasDirectly:En!=="mouse"}):K.setActiveTool({type:jt})}},jt)}),(0,r.jsx)("div",{className:"App-toolbar__divider"}),(0,r.jsxs)(rn.Z,{open:$,children:[(0,r.jsx)(rn.Z.Trigger,{className:(0,ve.Z)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":Pe||Fe||Be&&!K.props.isCollaborating}),onToggle:function(){return ne(!$)},title:(0,R.t)("toolBar.extraTools"),children:q.dg}),(0,r.jsxs)(rn.Z.Content,{onClickOutside:function(){return ne(!1)},onSelect:function(){return ne(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,r.jsx)(rn.Z.Item,{onSelect:function(){return K.setActiveTool({type:"frame"})},icon:q.zl,shortcut:B.tW.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:Pe,children:(0,R.t)("toolBar.frame")}),(0,r.jsx)(rn.Z.Item,{onSelect:function(){return K.setActiveTool({type:"embeddable"})},icon:q.FL,"data-testid":"toolbar-embeddable",selected:Fe,children:(0,R.t)("toolBar.embeddable")}),(0,r.jsx)(rn.Z.Item,{onSelect:function(){return K.setActiveTool({type:"laser"})},icon:q.d,"data-testid":"toolbar-laser",selected:Be,shortcut:B.tW.K.toLocaleUpperCase(),children:(0,R.t)("toolBar.laser")}),(0,r.jsx)(rn.Z.Item,{onSelect:function(){return K.setOpenDialog("mermaid")},icon:q.II,"data-testid":"toolbar-embeddable",children:(0,R.t)("toolBar.mermaidToExcalidraw")})]})]})]})},kt=function(z){var i=z.renderAction;return z.zoom,(0,r.jsx)(bt.Z.Col,{gap:1,className:"zoom-actions",children:(0,r.jsxs)(bt.Z.Row,{align:"center",children:[i("zoomOut"),i("resetZoom"),i("zoomIn")]})})},Ht=function(z){var i=z.renderAction,C=z.className;return(0,r.jsxs)("div",{className:"undo-redo-buttons ".concat(C),children:[(0,r.jsx)("div",{className:"undo-button-container",children:(0,r.jsx)(zt.u,{label:(0,R.t)("buttons.undo"),children:i("undo")})}),(0,r.jsx)("div",{className:"redo-button-container",children:(0,r.jsxs)(zt.u,{label:(0,R.t)("buttons.redo"),children:[" ",i("redo")]})})]})},At=function(z){var i=z.actionManager,C=z.showExitZenModeBtn;return(0,r.jsx)("button",{className:(0,ve.Z)("disable-zen-mode",{"disable-zen-mode--visible":C}),onClick:function(){return i.executeAction(X.JN)},children:(0,R.t)("buttons.exitZenMode")})},Wt=function(z){var i=z.renderAction,C=z.className;return(0,r.jsx)("div",{className:"finalize-button ".concat(C),children:i("finalize",{size:"small"})})},Kt=t(1300),an=function(z){var i=z.children,C=z.onClose,K=(0,x.useState)(!!i),oe=(0,w.Z)(K,2),we=oe[0],de=oe[1],$=ts().container,ne=G().useCallback(function(){de(!1),C&&C(),$?.focus()},[C,$]);return(0,r.jsx)(r.Fragment,{children:we&&(0,r.jsx)(Kt.V,{size:"small",onCloseRequest:ne,title:(0,R.t)("errorDialog.title"),children:(0,r.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:i})})})},bn=t(4406),hn=t(5796),An=t(6548),Yn=t(507),tr=t(6217),Sn={};Sn.styleTagTransform=ut(),Sn.setAttributes=Je(),Sn.insert=_e().bind(null,"head"),Sn.domAPI=ae(),Sn.insertStyleElement=Ke(),J()(tr.Z,Sn),tr.Z&&tr.Z.locals&&tr.Z.locals;var Bt=function(z){var i=z.onChange,C=z.value,K=z.choices,oe=z.name;return(0,r.jsx)("div",{className:"RadioGroup",children:K.map(function(we){return(0,r.jsxs)("div",{className:(0,ve.Z)("RadioGroup__choice",{active:we.value===C}),children:[(0,r.jsx)("input",{name:oe,type:"radio",checked:we.value===C,onChange:function(){return i(we.value)}}),we.label]},we.label)})})},dn=t(7802),un={};un.styleTagTransform=ut(),un.setAttributes=Je(),un.insert=_e().bind(null,"head"),un.domAPI=ae(),un.insertStyleElement=Ke(),J()(dn.Z,un),dn.Z&&dn.Z.locals&&dn.Z.locals;var Bn=function(z){var i=z.title,C=z.name,K=z.checked,oe=z.onChange,we=z.disabled,de=we!==void 0&&we;return(0,r.jsx)("div",{className:(0,ve.Z)("Switch",{toggled:K,disabled:de}),children:(0,r.jsx)("input",{name:C,id:C,title:i,type:"checkbox",checked:K,disabled:de,onChange:function(){return oe(!K)},onKeyDown:function($){$.key===" "&&oe(!K)}})})},Jn=t(9706),cr={};cr.styleTagTransform=ut(),cr.setAttributes=Je(),cr.insert=_e().bind(null,"head"),cr.domAPI=ae(),cr.insertStyleElement=Ke(),J()(Jn.Z,cr),Jn.Z&&Jn.Z.locals&&Jn.Z.locals;var kr=t(8960),fr={};fr.styleTagTransform=ut(),fr.setAttributes=Je(),fr.insert=_e().bind(null,"head"),fr.domAPI=ae(),fr.insertStyleElement=Ke(),J()(kr.Z,fr),kr.Z&&kr.Z.locals&&kr.Z.locals;var pn=(0,x.forwardRef)(function(z,i){var C=z.children,K=z.startIcon,oe=z.onClick,we=z.label,de=z.variant,$=de===void 0?"filled":de,ne=z.color,Pe=ne===void 0?"primary":ne,Be=z.size,Fe=Be===void 0?"medium":Be,it=z.fullWidth,st=z.className;return(0,r.jsxs)("button",{className:(0,ve.Z)("ExcButton","ExcButton--color-".concat(Pe),"ExcButton--variant-".concat($),"ExcButton--size-".concat(Fe),{"ExcButton--fullWidth":it},st),onClick:oe,type:"button","aria-label":we,ref:i,children:[K&&(0,r.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:K}),$!=="icon"&&(C??we)]})});function Nt(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}function Ft(z){for(var i=1;i<arguments.length;i++){var C=arguments[i]!=null?arguments[i]:{};i%2?Nt(Object(C),!0).forEach(function(K){(0,F.Z)(z,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(C)):Nt(Object(C)).forEach(function(K){Object.defineProperty(z,K,Object.getOwnPropertyDescriptor(C,K))})}return z}var qt="filter"in document.createElement("canvas").getContext("2d"),kn=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:(0,R.t)("canvasError.cannotShowPreview")}),(0,r.jsx)("p",{children:(0,r.jsx)("span",{children:(0,R.t)("canvasError.canvasTooBig")})}),(0,r.jsxs)("em",{children:["(",(0,R.t)("canvasError.canvasTooBigTip"),")"]})]})},$n=function(z){var i=z.appStateSnapshot,C=z.elementsSnapshot,K=z.files,oe=z.actionManager,we=z.onExportImage,de=(0,xe.N)(C,i),$=Ps(),ne=(0,x.useState)(i.name),Pe=(0,w.Z)(ne,2),Be=Pe[0],Fe=Pe[1],it=(0,x.useState)(de),st=(0,w.Z)(it,2),vt=st[0],jt=st[1],Lt=(0,x.useState)(i.exportBackground),Qt=(0,w.Z)(Lt,2),vn=Qt[0],$t=Qt[1],Ut=(0,x.useState)(i.exportWithDarkMode),tn=(0,w.Z)(Ut,2),xn=tn[0],Dn=tn[1],En=(0,x.useState)(i.exportEmbedScene),yn=(0,w.Z)(En,2),Un=yn[0],gr=yn[1],_r=(0,x.useState)(i.exportScale),zr=(0,w.Z)(_r,2),Qr=zr[0],ao=zr[1],Rr=(0,x.useRef)(null),Nr=(0,x.useState)(null),Fr=(0,w.Z)(Nr,2),Ur=Fr[0],ho=Fr[1],So=(0,L.HD)(C,i,vt),_o=So.exportedElements,To=So.exportingFrame;return(0,x.useEffect)(function(){var vo=Rr.current;if(vo){var oo=vo.offsetWidth,Lo=vo.offsetHeight;oo&&(0,Yn.NL)({elements:_o,appState:Ft(Ft({},i),{},{name:Be,exportBackground:vn,exportWithDarkMode:xn,exportScale:Qr,exportEmbedScene:Un}),files:K,exportPadding:p.qy,maxWidthOrHeight:Math.max(oo,Lo),exportingFrame:To}).then(function(Ko){return ho(null),(0,hn._c)(Ko).then(function(){vo.replaceChildren(Ko)})}).catch(function(Ko){console.error(Ko),ho(Ko)})}},[i,K,_o,To,Be,vn,xn,Qr,Un]),(0,r.jsxs)("div",{className:"ImageExportModal",children:[(0,r.jsx)("h3",{children:(0,R.t)("imageExportDialog.header")}),(0,r.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,r.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:Rr,children:Ur&&(0,r.jsx)(kn,{})}),(0,r.jsx)("div",{className:"ImageExportModal__preview__filename",children:!An.kr&&(0,r.jsx)("input",{type:"text",className:"TextInput",value:Be,style:{width:"30ch"},disabled:$.name!==void 0||i.viewModeEnabled,onChange:function(vo){Fe(vo.target.value),oe.executeAction(bn.zX,"ui",vo.target.value)}})})]}),(0,r.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,r.jsx)("h3",{children:(0,R.t)("imageExportDialog.header")}),de&&(0,r.jsx)(Hn,{label:(0,R.t)("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,r.jsx)(Bn,{name:"exportOnlySelected",checked:vt,onChange:function(vo){jt(vo)}})}),(0,r.jsx)(Hn,{label:(0,R.t)("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,r.jsx)(Bn,{name:"exportBackgroundSwitch",checked:vn,onChange:function(vo){$t(vo),oe.executeAction(bn.XA,"ui",vo)}})}),qt&&(0,r.jsx)(Hn,{label:(0,R.t)("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,r.jsx)(Bn,{name:"exportDarkModeSwitch",checked:xn,onChange:function(vo){Dn(vo),oe.executeAction(bn.bJ,"ui",vo)}})}),(0,r.jsx)(Hn,{label:(0,R.t)("imageExportDialog.label.embedScene"),tooltip:(0,R.t)("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,r.jsx)(Bn,{name:"exportEmbedSwitch",checked:Un,onChange:function(vo){gr(vo),oe.executeAction(bn.Du,"ui",vo)}})}),(0,r.jsx)(Hn,{label:(0,R.t)("imageExportDialog.label.scale"),name:"exportScale",children:(0,r.jsx)(Bt,{name:"exportScale",value:Qr,onChange:function(vo){ao(vo),oe.executeAction(bn.sK,"ui",vo)},choices:p.ZB.map(function(vo){return{value:vo,label:"".concat(vo,"×")}})})}),(0,r.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,r.jsx)(pn,{className:"ImageExportModal__settings__buttons__button",label:(0,R.t)("imageExportDialog.title.exportToPng"),onClick:function(){return we(p.I_.png,_o,{exportingFrame:To})},startIcon:q.aL,children:(0,R.t)("imageExportDialog.button.exportToPng")}),(0,r.jsx)(pn,{className:"ImageExportModal__settings__buttons__button",label:(0,R.t)("imageExportDialog.title.exportToSvg"),onClick:function(){return we(p.I_.svg,_o,{exportingFrame:To})},startIcon:q.aL,children:(0,R.t)("imageExportDialog.button.exportToSvg")}),(j.vt||p.vU)&&(0,r.jsx)(pn,{className:"ImageExportModal__settings__buttons__button",label:(0,R.t)("imageExportDialog.title.copyPngToClipboard"),onClick:function(){return we(p.I_.clipboard,_o,{exportingFrame:To})},startIcon:q.UI,children:(0,R.t)("imageExportDialog.button.copyPngToClipboard")})]})]})]})},Hn=function(z){var i=z.label,C=z.children,K=z.tooltip,oe=z.name;return(0,r.jsxs)("div",{className:"ImageExportModal__settings__setting",title:i,children:[(0,r.jsxs)("label",{htmlFor:oe,className:"ImageExportModal__settings__setting__label",children:[i,K&&(0,r.jsx)(zt.u,{label:K,long:!0,children:q.mv})]}),(0,r.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:C})]})},Qn=function(z){var i=z.elements,C=z.appState,K=z.files,oe=z.actionManager,we=z.onExportImage,de=z.onCloseRequest,$=(0,x.useState)(function(){return{appStateSnapshot:(0,E.xU)(C),elementsSnapshot:(0,E.xU)(i)}}),ne=(0,w.Z)($,1)[0],Pe=ne.appStateSnapshot,Be=ne.elementsSnapshot;return(0,r.jsx)(Kt.V,{onCloseRequest:de,size:"wide",title:!1,children:(0,r.jsx)($n,{elementsSnapshot:Be,appStateSnapshot:Pe,files:K,actionManager:oe,onExportImage:we})})},ir=t(3195),Fn={};Fn.styleTagTransform=ut(),Fn.setAttributes=Je(),Fn.insert=_e().bind(null,"head"),Fn.domAPI=ae(),Fn.insertStyleElement=Ke(),J()(ir.Z,Fn),ir.Z&&ir.Z.locals&&ir.Z.locals;var yr=function(z){var i=z.children,C=z.side,K=z.className;return(0,r.jsx)("div",{className:(0,ve.Z)("FixedSideContainer","FixedSideContainer_side_".concat(C),K),children:i})},lr=t(1587),Gn={};Gn.styleTagTransform=ut(),Gn.setAttributes=Je(),Gn.insert=_e().bind(null,"head"),Gn.domAPI=ae(),Gn.insertStyleElement=Ke(),J()(lr.Z,Gn),lr.Z&&lr.Z.locals&&lr.Z.locals;var Xn=function(z){var i=function(C){var K=C.appState,oe=C.isMobile,we=C.device,de=C.app,$=K.activeTool,ne=K.isResizing,Pe=K.isRotating,Be=K.lastPointerDownWith,Fe=K.multiElement!==null;if(K.openSidebar&&!we.editor.canFitSidebar)return null;if((0,O.EN)(K))return(0,R.t)("hints.eraserRevert");if($.type==="arrow"||$.type==="line")return Fe?(0,R.t)("hints.linearElementMulti"):(0,R.t)("hints.linearElement");if($.type==="freedraw")return(0,R.t)("hints.freeDraw");if($.type==="text")return(0,R.t)("hints.text");if($.type==="embeddable")return(0,R.t)("hints.embeddable");if(K.activeTool.type==="image"&&K.pendingImageElementId)return(0,R.t)("hints.placeImage");var it=de.scene.getSelectedElements(K);if(ne&&Be==="mouse"&&it.length===1){var st=it[0];return(0,Q.bt)(st)&&st.points.length===2?(0,R.t)("hints.lockAngle"):(0,Q.pC)(st)?(0,R.t)("hints.resizeImage"):(0,R.t)("hints.resize")}if(Pe&&Be==="mouse")return(0,R.t)("hints.rotate");if(it.length===1&&(0,Q.iB)(it[0]))return(0,R.t)("hints.text_selected");if(K.editingElement&&(0,Q.iB)(K.editingElement))return(0,R.t)("hints.text_editing");if($.type==="selection"){var vt;if(((vt=K.draggingElement)===null||vt===void 0?void 0:vt.type)==="selection"&&!it.length&&!K.editingElement&&!K.editingLinearElement)return(0,R.t)("hints.deepBoxSelect");if(K.gridSize&&K.draggingElement)return(0,R.t)("hints.disableSnapping");if(!it.length&&!oe)return(0,R.t)("hints.canvasPanning");if(it.length===1){if((0,Q.bt)(it[0]))return K.editingLinearElement?K.editingLinearElement.selectedPointsIndices?(0,R.t)("hints.lineEditor_pointSelected"):(0,R.t)("hints.lineEditor_nothingSelected"):(0,R.t)("hints.lineEditor_info");if(!K.draggingElement&&(0,Q.mG)(it[0]))return(0,R.t)("hints.bindTextToElement")}}return null}({appState:z.appState,isMobile:z.isMobile,device:z.device,app:z.app});return i?(i=(0,E.uY)(i),(0,r.jsx)("div",{className:"HintViewer",children:(0,r.jsx)("span",{children:i})})):null},er=t(1404),pr=t(7165),vr=(t(3041),{CHECKED:q.FC,UNCHECKED:q._C}),xr=function(z){return(0,r.jsxs)("label",{className:(0,ve.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":z.isMobile}),title:"".concat(z.title," — Q"),children:[(0,r.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:z.name,onChange:z.onChange,checked:z.checked,"aria-label":z.title,"data-testid":"toolbar-lock"}),(0,r.jsx)("div",{className:"ToolIcon__icon",children:z.checked?vr.CHECKED:vr.UNCHECKED})]})},$r=["heading","children"];function io(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}function Eo(z){for(var i=1;i<arguments.length;i++){var C=arguments[i]!=null?arguments[i]:{};i%2?io(Object(C),!0).forEach(function(K){(0,F.Z)(z,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(C)):io(Object(C)).forEach(function(K){Object.defineProperty(z,K,Object.getOwnPropertyDescriptor(C,K))})}return z}var Ro=function(z){var i=z.heading,C=z.children,K=(0,ct.Z)(z,$r),oe=ts().id,we=(0,r.jsx)("h2",{className:"visually-hidden",id:"".concat(oe,"-").concat(i,"-title"),children:(0,R.t)("headings.".concat(i))});return(0,r.jsx)("section",Eo(Eo({},K),{},{"aria-labelledby":"".concat(oe,"-").concat(i,"-title"),children:typeof C=="function"?C(we):(0,r.jsxs)(r.Fragment,{children:[we,C]})}))},Bo=t(4726),Do=function(z){return z.penDetected?(0,r.jsxs)("label",{className:(0,ve.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":z.isMobile}),title:"".concat(z.title),children:[(0,r.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:z.name,onChange:z.onChange,checked:z.checked,"aria-label":z.title}),(0,r.jsx)("div",{className:"ToolIcon__icon",children:q.tb})]}):null},bo=t(4949),Zo=t(2681),rt={};rt.styleTagTransform=ut(),rt.setAttributes=Je(),rt.insert=_e().bind(null,"head"),rt.domAPI=ae(),rt.insertStyleElement=Ke(),J()(Zo.Z,rt),Zo.Z&&Zo.Z.locals&&Zo.Z.locals;var Se=function(z){var i,C=(0,bo.KP)(z.elements),K=(0,xe.Zs)(z.elements,z.appState),oe=(0,bo.KP)(K);return(0,r.jsx)("div",{className:"Stats",children:(0,r.jsxs)(er.W,{padding:2,children:[(0,r.jsx)("div",{className:"close",onClick:z.onClose,children:q.Tw}),(0,r.jsx)("h3",{children:(0,R.t)("stats.title")}),(0,r.jsx)("table",{children:(0,r.jsxs)("tbody",{children:[(0,r.jsx)("tr",{children:(0,r.jsx)("th",{colSpan:2,children:(0,R.t)("stats.scene")})}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,R.t)("stats.elements")}),(0,r.jsx)("td",{children:z.elements.length})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,R.t)("stats.width")}),(0,r.jsx)("td",{children:Math.round(C[2])-Math.round(C[0])})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,R.t)("stats.height")}),(0,r.jsx)("td",{children:Math.round(C[3])-Math.round(C[1])})]}),K.length===1&&(0,r.jsx)("tr",{children:(0,r.jsx)("th",{colSpan:2,children:(0,R.t)("stats.element")})}),K.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("tr",{children:(0,r.jsx)("th",{colSpan:2,children:(0,R.t)("stats.selected")})}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,R.t)("stats.elements")}),(0,r.jsx)("td",{children:K.length})]})]}),K.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"x"}),(0,r.jsx)("td",{children:Math.round(oe[0])})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"y"}),(0,r.jsx)("td",{children:Math.round(oe[1])})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,R.t)("stats.width")}),(0,r.jsx)("td",{children:Math.round(oe[2]-oe[0])})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,R.t)("stats.height")}),(0,r.jsx)("td",{children:Math.round(oe[3]-oe[1])})]})]}),K.length===1&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,R.t)("stats.angle")}),(0,r.jsx)("td",{children:"".concat(Math.round(180*K[0].angle/Math.PI),"°")})]}),(i=z.renderCustomStats)===null||i===void 0?void 0:i.call(z,z.elements,z.appState)]})})]})})},Ze=function(z){return(0,r.jsx)(U.V,{className:(0,ve.Z)("Shape",{fillable:!1}),type:"radio",icon:q.Hk,name:"editor-current-shape",checked:z.checked,title:"".concat(z.title," — H"),keyBindingLabel:z.isMobile?void 0:B.tW.H.toLocaleUpperCase(),"aria-label":"".concat(z.title," — H"),"aria-keyshortcuts":B.tW.H,"data-testid":"toolbar-hand",onChange:function(){var i;return(i=z.onChange)===null||i===void 0?void 0:i.call(z)}})},Ve=t(4572);function pt(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}var Vt=function(z){var i=z.appState,C=z.elements,K=z.actionManager,oe=z.setAppState,we=z.onLockToggle,de=z.onHandToolToggle,$=z.onPenModeToggle,ne=z.renderTopRightUI,Pe=z.renderCustomStats,Be=z.renderSidebars,Fe=z.device,it=z.renderWelcomeScreen,st=z.UIOptions,vt=z.app,jt=(0,Ve.R6)(),Lt=jt.WelcomeScreenCenterTunnel,Qt=jt.MainMenuTunnel,vn=jt.DefaultSidebarTriggerTunnel;return(0,r.jsxs)(r.Fragment,{children:[Be(),!i.viewModeEnabled&&(0,r.jsxs)(yr,{side:"top",className:"App-top-bar",children:[it&&(0,r.jsx)(Lt.Out,{}),(0,r.jsx)(Ro,{heading:"shapes",children:function($t){return(0,r.jsx)(bt.Z.Col,{gap:4,align:"center",children:(0,r.jsxs)(bt.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,r.jsxs)(er.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[$t,(0,r.jsx)(bt.Z.Row,{gap:1,children:(0,r.jsx)(It,{appState:i,activeTool:i.activeTool,UIOptions:st,app:vt})})]}),ne&&ne(!0,i),(0,r.jsxs)("div",{className:"mobile-misc-tools-container",children:[!i.viewModeEnabled&&(0,r.jsx)(vn.Out,{}),(0,r.jsx)(Do,{checked:i.penMode,onChange:function(){return $(null)},title:(0,R.t)("toolBar.penMode"),isMobile:!0,penDetected:i.penDetected}),(0,r.jsx)(xr,{checked:i.activeTool.locked,onChange:we,title:(0,R.t)("toolBar.lock"),isMobile:!0}),(0,r.jsx)(Ze,{checked:(0,O.l$)(i),onChange:function(){return de()},title:(0,R.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,r.jsx)(Xn,{appState:i,isMobile:!0,device:Fe,app:vt})]}),!i.openMenu&&i.showStats&&(0,r.jsx)(Se,{appState:i,setAppState:oe,elements:C,onClose:function(){K.executeAction(X.u0)},renderCustomStats:Pe}),(0,r.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Bo.nn+2*Bo.WM,marginLeft:Bo.nn+2*Bo.WM,marginRight:Bo.nn+2*Bo.WM},children:(0,r.jsxs)(er.W,{padding:0,children:[i.openMenu==="shape"&&!i.viewModeEnabled&&(0,se.RT)(i,C)?(0,r.jsx)(Ro,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,r.jsx)(jn,{appState:i,elements:C,renderAction:K.renderAction})}):null,(0,r.jsxs)("footer",{className:"App-toolbar",children:[i.viewModeEnabled?(0,r.jsx)("div",{className:"App-toolbar-content",children:(0,r.jsx)(Qt.Out,{})}):(0,r.jsxs)("div",{className:"App-toolbar-content",children:[(0,r.jsx)(Qt.Out,{}),K.renderAction("toggleEditMenu"),K.renderAction("undo"),K.renderAction("redo"),K.renderAction(i.multiElement?"finalize":"duplicateSelection"),K.renderAction("deleteSelectedElements")]}),i.scrolledOutside&&!i.openMenu&&!i.openSidebar&&(0,r.jsx)("button",{className:"scroll-back-to-content",onClick:function(){oe(function($t){return function(Ut){for(var tn=1;tn<arguments.length;tn++){var xn=arguments[tn]!=null?arguments[tn]:{};tn%2?pt(Object(xn),!0).forEach(function(Dn){(0,F.Z)(Ut,Dn,xn[Dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(xn)):pt(Object(xn)).forEach(function(Dn){Object.defineProperty(Ut,Dn,Object.getOwnPropertyDescriptor(xn,Dn))})}return Ut}({},(0,xe.W)(C,$t))})},children:(0,R.t)("buttons.scrollBackToContent")})]})]})})]})},cn=t(5284),Mn=t(901),nn=t(3668),ln=t(8461),Zn={};Zn.styleTagTransform=ut(),Zn.setAttributes=Je(),Zn.insert=_e().bind(null,"head"),Zn.domAPI=ae(),Zn.insertStyleElement=Ke(),J()(ln.Z,Zn),ln.Z&&ln.Z.locals&&ln.Z.locals;var qn=function(z){var i=(0,x.useRef)(null),C=(0,x.useState)(null),K=(0,w.Z)(C,2),oe=K[0],we=K[1];return(0,x.useLayoutEffect)(function(){if(z.spreadsheet){var de,$=(0,Mn.ps)(z.chartType,z.spreadsheet,0,0);we($);var ne=i.current;return(0,d.Z)(h().mark(function Pe(){var Be;return h().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return Fe.next=2,(0,nn.$D)($,{exportBackground:!1,viewBackgroundColor:cn.white},null);case 2:de=Fe.sent,(Be=de.querySelector(".style-fonts"))===null||Be===void 0||Be.remove(),ne.replaceChildren(),ne.appendChild(de),z.selected&&ne.parentNode.focus();case 7:case"end":return Fe.stop()}},Pe)}))(),function(){ne.replaceChildren()}}},[z.spreadsheet,z.chartType,z.selected]),(0,r.jsx)("button",{className:"ChartPreview",onClick:function(){oe&&z.onClick(z.chartType,oe)},children:(0,r.jsx)("div",{ref:i})})},hr=function(z){var i=z.setAppState,C=z.appState,K=z.onClose,oe=hs().onInsertElements,we=G().useCallback(function(){K&&K()},[K]),de=function($,ne){oe(ne),(0,u.L)("magic","chart",$),i({currentChartType:$,pasteDialog:{shown:!1,data:null}})};return(0,r.jsx)(Kt.V,{size:"small",onCloseRequest:we,title:(0,R.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(qn,{chartType:"bar",spreadsheet:C.pasteDialog.data,selected:C.currentChartType==="bar",onClick:de}),(0,r.jsx)(qn,{chartType:"line",spreadsheet:C.pasteDialog.data,selected:C.currentChartType==="line",onClick:de})]})})},br=t(2978),Mr={};Mr.styleTagTransform=ut(),Mr.setAttributes=Je(),Mr.insert=_e().bind(null,"head"),Mr.domAPI=ae(),Mr.insertStyleElement=Ke(),J()(br.Z,Mr),br.Z&&br.Z.locals&&br.Z.locals;function Or(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}var Er=h().mark(vi);function Cr(z,i){var C=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!C){if(Array.isArray(z)||(C=function(ne,Pe){if(ne){if(typeof ne=="string")return no(ne,Pe);var Be=Object.prototype.toString.call(ne).slice(8,-1);if(Be==="Object"&&ne.constructor&&(Be=ne.constructor.name),Be==="Map"||Be==="Set")return Array.from(ne);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return no(ne,Pe)}}(z))||i){C&&(z=C);var K=0,oe=function(){};return{s:oe,n:function(){return K>=z.length?{done:!0}:{done:!1,value:z[K++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,de=!0,$=!1;return{s:function(){C=C.call(z)},n:function(){var ne=C.next();return de=ne.done,ne},e:function(ne){$=!0,we=ne},f:function(){try{de||C.return==null||C.return()}finally{if($)throw we}}}}function no(z,i){(i==null||i>z.length)&&(i=z.length);for(var C=0,K=new Array(i);C<i;C++)K[C]=z[C];return K}var yo=function(){return(0,r.jsxs)("div",{className:"HelpDialog__header",children:[(0,r.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,R.t)("helpDialog.documentation"),(0,r.jsx)("div",{className:"HelpDialog__link-icon",children:q.h0})]}),(0,r.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,R.t)("helpDialog.blog"),(0,r.jsx)("div",{className:"HelpDialog__link-icon",children:q.h0})]}),(0,r.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,R.t)("helpDialog.github"),(0,r.jsx)("div",{className:"HelpDialog__link-icon",children:q.h0})]})]})},jo=function(z){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{children:z.title}),(0,r.jsx)("div",{className:"HelpDialog__islands-container",children:z.children})]})},ei=function(z){return(0,r.jsxs)("div",{className:"HelpDialog__island ".concat(z.className),children:[(0,r.jsx)("h4",{className:"HelpDialog__island-title",children:z.caption}),(0,r.jsx)("div",{className:"HelpDialog__island-content",children:z.children})]})};function vi(z,i){var C,K,oe,we;return h().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:C=!0,K=Cr(z),de.prev=2,K.s();case 4:if((oe=K.n()).done){de.next=14;break}if(we=oe.value,C){de.next=9;break}return de.next=9,i;case 9:return C=!1,de.next=12,we;case 12:de.next=4;break;case 14:de.next=19;break;case 16:de.prev=16,de.t0=de.catch(2),K.e(de.t0);case 19:return de.prev=19,K.f(),de.finish(19);case 22:case"end":return de.stop()}},Er,null,[[2,16,19,22]])}var Gr=function(z){var i=z.label,C=z.shortcuts,K=z.isOr,oe=K===void 0||K,we=C.map(function(de){return(de.endsWith("++")?[].concat((0,v.Z)(de.slice(0,-2).split("+")),["+"]):de.split("+")).map(function($){return(0,r.jsx)(Ir,{children:(ne=$,ne.replace(/\b[a-z]\b/,function(Pe){return Pe.toUpperCase()}))},$);var ne})});return(0,r.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,r.jsx)("div",{children:i}),(0,r.jsx)("div",{className:"HelpDialog__key-container",children:(0,v.Z)(vi(we,oe?(0,R.t)("helpDialog.or"):null))})]})},Ir=function(z){return(0,r.jsx)("kbd",function(i){for(var C=1;C<arguments.length;C++){var K=arguments[C]!=null?arguments[C]:{};C%2?Or(Object(K),!0).forEach(function(oe){(0,F.Z)(i,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(K)):Or(Object(K)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(K,oe))})}return i}({className:"HelpDialog__key"},z))},uo=function(z){var i=z.onClose,C=G().useCallback(function(){i&&i()},[i]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(Kt.V,{onCloseRequest:C,title:(0,R.t)("helpDialog.title"),className:"HelpDialog",children:[(0,r.jsx)(yo,{}),(0,r.jsxs)(jo,{title:(0,R.t)("helpDialog.shortcuts"),children:[(0,r.jsxs)(ei,{className:"HelpDialog__island--tools",caption:(0,R.t)("helpDialog.tools"),children:[(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.hand"),shortcuts:[B.tW.H]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.selection"),shortcuts:[B.tW.V,B.tW[1]]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.rectangle"),shortcuts:[B.tW.R,B.tW[2]]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.diamond"),shortcuts:[B.tW.D,B.tW[3]]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.ellipse"),shortcuts:[B.tW.O,B.tW[4]]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.arrow"),shortcuts:[B.tW.A,B.tW[5]]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.line"),shortcuts:[B.tW.L,B.tW[6]]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.freedraw"),shortcuts:[B.tW.P,B.tW[7]]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.text"),shortcuts:[B.tW.T,B.tW[8]]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.image"),shortcuts:[B.tW[9]]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.eraser"),shortcuts:[B.tW.E,B.tW[0]]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.frame"),shortcuts:[B.tW.F]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.laser"),shortcuts:[B.tW.K]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.eyeDropper"),shortcuts:[B.tW.I,"Shift+S","Shift+G"]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,E.uY)("CtrlOrCmd+Enter")]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.editText"),shortcuts:[(0,E.uY)("Enter")]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.textNewLine"),shortcuts:[(0,E.uY)("Enter"),(0,E.uY)("Shift+Enter")]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.textFinish"),shortcuts:[(0,E.uY)("Esc"),(0,E.uY)("CtrlOrCmd+Enter")]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,R.t)("helpDialog.click"),(0,R.t)("helpDialog.click"),(0,R.t)("helpDialog.click")],isOr:!1}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.curvedLine"),shortcuts:["L",(0,R.t)("helpDialog.click"),(0,R.t)("helpDialog.click"),(0,R.t)("helpDialog.click")],isOr:!1}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.lock"),shortcuts:[B.tW.Q]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.preventBinding"),shortcuts:[(0,E.uY)("CtrlOrCmd")]}),(0,r.jsx)(Gr,{label:(0,R.t)("toolBar.link"),shortcuts:[(0,E.uY)("CtrlOrCmd+K")]})]}),(0,r.jsxs)(ei,{className:"HelpDialog__island--view",caption:(0,R.t)("helpDialog.view"),children:[(0,r.jsx)(Gr,{label:(0,R.t)("buttons.zoomIn"),shortcuts:[(0,E.uY)("CtrlOrCmd++")]}),(0,r.jsx)(Gr,{label:(0,R.t)("buttons.zoomOut"),shortcuts:[(0,E.uY)("CtrlOrCmd+-")]}),(0,r.jsx)(Gr,{label:(0,R.t)("buttons.resetZoom"),shortcuts:[(0,E.uY)("CtrlOrCmd+0")]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,r.jsx)(Gr,{label:(0,R.t)("buttons.zenMode"),shortcuts:[(0,E.uY)("Alt+Z")]}),(0,r.jsx)(Gr,{label:(0,R.t)("buttons.objectsSnapMode"),shortcuts:[(0,E.uY)("Alt+S")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.showGrid"),shortcuts:[(0,E.uY)("CtrlOrCmd+'")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.viewMode"),shortcuts:[(0,E.uY)("Alt+R")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.toggleTheme"),shortcuts:[(0,E.uY)("Alt+Shift+D")]}),(0,r.jsx)(Gr,{label:(0,R.t)("stats.title"),shortcuts:[(0,E.uY)("Alt+/")]})]}),(0,r.jsxs)(ei,{className:"HelpDialog__island--editor",caption:(0,R.t)("helpDialog.editor"),children:[(0,r.jsx)(Gr,{label:(0,R.t)("labels.moveCanvas"),shortcuts:[(0,E.uY)("Space+".concat((0,R.t)("helpDialog.drag"))),(0,E.uY)("Wheel+".concat((0,R.t)("helpDialog.drag")))],isOr:!0}),(0,r.jsx)(Gr,{label:(0,R.t)("buttons.clearReset"),shortcuts:[(0,E.uY)("CtrlOrCmd+Delete")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.delete"),shortcuts:[(0,E.uY)("Delete")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.cut"),shortcuts:[(0,E.uY)("CtrlOrCmd+X")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.copy"),shortcuts:[(0,E.uY)("CtrlOrCmd+C")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.paste"),shortcuts:[(0,E.uY)("CtrlOrCmd+V")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.pasteAsPlaintext"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+V")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.selectAll"),shortcuts:[(0,E.uY)("CtrlOrCmd+A")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.multiSelect"),shortcuts:[(0,E.uY)("Shift+".concat((0,R.t)("helpDialog.click")))]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.deepSelect"),shortcuts:[(0,E.uY)("CtrlOrCmd+".concat((0,R.t)("helpDialog.click")))]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,E.uY)("CtrlOrCmd+".concat((0,R.t)("helpDialog.drag")))]}),(j.vt||p.vU)&&(0,r.jsx)(Gr,{label:(0,R.t)("labels.copyAsPng"),shortcuts:[(0,E.uY)("Shift+Alt+C")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.copyStyles"),shortcuts:[(0,E.uY)("CtrlOrCmd+Alt+C")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.pasteStyles"),shortcuts:[(0,E.uY)("CtrlOrCmd+Alt+V")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.sendToBack"),shortcuts:[p.Um?(0,E.uY)("CtrlOrCmd+Alt+["):(0,E.uY)("CtrlOrCmd+Shift+[")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.bringToFront"),shortcuts:[p.Um?(0,E.uY)("CtrlOrCmd+Alt+]"):(0,E.uY)("CtrlOrCmd+Shift+]")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.sendBackward"),shortcuts:[(0,E.uY)("CtrlOrCmd+[")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.bringForward"),shortcuts:[(0,E.uY)("CtrlOrCmd+]")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.alignTop"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+Up")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.alignBottom"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+Down")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.alignLeft"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+Left")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.alignRight"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+Right")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.duplicateSelection"),shortcuts:[(0,E.uY)("CtrlOrCmd+D"),(0,E.uY)("Alt+".concat((0,R.t)("helpDialog.drag")))]}),(0,r.jsx)(Gr,{label:(0,R.t)("helpDialog.toggleElementLock"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+L")]}),(0,r.jsx)(Gr,{label:(0,R.t)("buttons.undo"),shortcuts:[(0,E.uY)("CtrlOrCmd+Z")]}),(0,r.jsx)(Gr,{label:(0,R.t)("buttons.redo"),shortcuts:p.ED?[(0,E.uY)("CtrlOrCmd+Y"),(0,E.uY)("CtrlOrCmd+Shift+Z")]:[(0,E.uY)("CtrlOrCmd+Shift+Z")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.group"),shortcuts:[(0,E.uY)("CtrlOrCmd+G")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.ungroup"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+G")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.flipHorizontal"),shortcuts:[(0,E.uY)("Shift+H")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.flipVertical"),shortcuts:[(0,E.uY)("Shift+V")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.showStroke"),shortcuts:[(0,E.uY)("S")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.showBackground"),shortcuts:[(0,E.uY)("G")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.decreaseFontSize"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+<")]}),(0,r.jsx)(Gr,{label:(0,R.t)("labels.increaseFontSize"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},Co=t(4704),Oo=t(4241),di={};di.styleTagTransform=ut(),di.setAttributes=Je(),di.insert=_e().bind(null,"head"),di.domAPI=ae(),di.insertStyleElement=Ke(),J()(Oo.Z,di),Oo.Z&&Oo.Z.locals&&Oo.Z.locals;var ri=function(z){var i,C=z.children,K=z.color;return(0,r.jsx)("div",{className:"Card",style:(i={},(0,F.Z)(i,"--card-color",K==="primary"?"var(--color-primary)":cn[K][7]),(0,F.Z)(i,"--card-color-darker",K==="primary"?"var(--color-primary-darker)":cn[K][8]),(0,F.Z)(i,"--card-color-darkest",K==="primary"?"var(--color-primary-darkest)":cn[K][9]),i),children:C})},ni=t(7955),bi={};bi.styleTagTransform=ut(),bi.setAttributes=Je(),bi.insert=_e().bind(null,"head"),bi.domAPI=ae(),bi.insertStyleElement=Ke(),J()(ni.Z,bi),ni.Z&&ni.Z.locals&&ni.Z.locals;var ji=function(z){var i=z.elements,C=z.appState,K=z.setAppState,oe=z.files,we=z.actionManager,de=z.exportOpts,$=z.canvas,ne=z.onCloseRequest,Pe=de.onExportToBackend;return(0,r.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,r.jsxs)("div",{className:"ExportDialog-cards",children:[de.saveFileToDisk&&(0,r.jsxs)(ri,{color:"lime",children:[(0,r.jsx)("div",{className:"Card-icon",children:q.TP}),(0,r.jsx)("h2",{children:(0,R.t)("exportDialog.disk_title")}),(0,r.jsxs)("div",{className:"Card-details",children:[(0,R.t)("exportDialog.disk_details"),!An.kr&&we.renderAction("changeProjectName")]}),(0,r.jsx)(U.V,{className:"Card-button",type:"button",title:(0,R.t)("exportDialog.disk_button"),"aria-label":(0,R.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){we.executeAction(bn.mM,"ui")}})]}),Pe&&(0,r.jsxs)(ri,{color:"pink",children:[(0,r.jsx)("div",{className:"Card-icon",children:q.xP}),(0,r.jsx)("h2",{children:(0,R.t)("exportDialog.link_title")}),(0,r.jsx)("div",{className:"Card-details",children:(0,R.t)("exportDialog.link_details")}),(0,r.jsx)(U.V,{className:"Card-button",type:"button",title:(0,R.t)("exportDialog.link_button"),"aria-label":(0,R.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:(0,d.Z)(h().mark(function Be(){return h().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return Fe.prev=0,(0,u.L)("export","link","ui (".concat((0,E.$h)(),")")),Fe.next=4,Pe(i,C,oe,$);case 4:ne(),Fe.next=10;break;case 7:Fe.prev=7,Fe.t0=Fe.catch(0),K({errorMessage:Fe.t0.message});case 10:case"end":return Fe.stop()}},Be,null,[[0,7]])}))})]}),de.renderCustomUI&&de.renderCustomUI(i,C,oe,$)]})})},wa=function(z){var i=z.elements,C=z.appState,K=z.files,oe=z.actionManager,we=z.exportOpts,de=z.canvas,$=z.setAppState,ne=G().useCallback(function(){$({openDialog:null})},[$]);return(0,r.jsx)(r.Fragment,{children:C.openDialog==="jsonExport"&&(0,r.jsx)(Kt.V,{onCloseRequest:ne,title:(0,R.t)("buttons.export"),children:(0,r.jsx)(ji,{elements:i,appState:C,setAppState:$,files:K,actionManager:oe,onCloseRequest:ne,exportOpts:we,canvas:de})})})},ka=t(7080),ki=function(z){return(0,r.jsx)("button",{className:"help-icon",onClick:z.onClick,type:"button",title:"".concat((0,R.t)("helpDialog.title")," — ?"),"aria-label":(0,R.t)("helpDialog.title"),children:q.by})},Ea=function(z){var i=z.appState,C=z.actionManager,K=z.showExitZenModeBtn,oe=z.renderWelcomeScreen,we=(0,Ve.R6)(),de=we.FooterCenterTunnel,$=we.WelcomeScreenHelpHintTunnel,ne=ms(),Pe=!i.viewModeEnabled&&i.multiElement&&ne.isTouchScreen;return(0,r.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,r.jsx)("div",{className:(0,ve.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":i.zenModeEnabled}),children:(0,r.jsx)(bt.Z.Col,{gap:2,children:(0,r.jsxs)(Ro,{heading:"canvasActions",children:[(0,r.jsx)(kt,{renderAction:C.renderAction,zoom:i.zoom}),!i.viewModeEnabled&&(0,r.jsx)(Ht,{renderAction:C.renderAction,className:(0,ve.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":i.zenModeEnabled})}),Pe&&(0,r.jsx)(Wt,{renderAction:C.renderAction,className:(0,ve.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":i.zenModeEnabled})})]})})}),(0,r.jsx)(de.Out,{}),(0,r.jsx)("div",{className:(0,ve.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":i.zenModeEnabled}),children:(0,r.jsxs)("div",{style:{position:"relative"},children:[oe&&(0,r.jsx)($.Out,{}),(0,r.jsx)(ki,{onClick:function(){return C.executeAction(X.jY)}})]})}),(0,r.jsx)(At,{actionManager:C,showExitZenModeBtn:K})]})},Ma=Ea;Ea.displayName="Footer";var qa=t(5902),zi=t(453),ra=t(3607),Ai=t(7021),Ni=t(8973),Xa=t(6922),Aa=t(7827),oa=function(z){var i=z.title,C=z.children,K=z.actionLabel,oe=z.onClick;return(0,r.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,r.jsx)("h4",{children:i}),(0,r.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:C}),(0,r.jsx)(pn,{variant:"outlined",color:"muted",label:K,size:"large",fullWidth:!0,onClick:oe})]})},Ji=Object.assign(function(z){var i=z.children;return(0,r.jsx)("div",{className:"OverwriteConfirm__Actions",children:i})},{ExportToImage:function(){var z=(0,R.QT)().t,i=As(),C=Ls();return(0,r.jsx)(oa,{title:z("overwriteConfirm.action.exportToImage.title"),actionLabel:z("overwriteConfirm.action.exportToImage.button"),onClick:function(){i.executeAction(bn.Du,"ui",!0),C({openDialog:"imageExport"})},children:z("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var z=(0,R.QT)().t,i=As();return(0,r.jsx)(oa,{title:z("overwriteConfirm.action.saveToDisk.title"),actionLabel:z("overwriteConfirm.action.saveToDisk.button"),onClick:function(){i.executeAction(X.mM,"ui")},children:z("overwriteConfirm.action.saveToDisk.description")})}}),Ki=t(9439),ca={};ca.styleTagTransform=ut(),ca.setAttributes=Je(),ca.insert=_e().bind(null,"head"),ca.domAPI=ae(),ca.insertStyleElement=Ke(),J()(Ki.Z,ca),Ki.Z&&Ki.Z.locals&&Ki.Z.locals;function ia(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}function ma(z){for(var i=1;i<arguments.length;i++){var C=arguments[i]!=null?arguments[i]:{};i%2?ia(Object(C),!0).forEach(function(K){(0,F.Z)(z,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(C)):ia(Object(C)).forEach(function(K){Object.defineProperty(z,K,Object.getOwnPropertyDescriptor(C,K))})}return z}var ga=Object.assign((0,Xa.$)("OverwriteConfirmDialog",function(z){var i=z.children,C=(0,Ve.R6)().OverwriteConfirmDialogTunnel,K=(0,ra.KO)(Aa.K,zi.yE),oe=(0,w.Z)(K,2),we=oe[0],de=oe[1];return we.active?(0,r.jsx)(C.In,{children:(0,r.jsx)(Kt.V,{onCloseRequest:function(){we.onClose(),de(function($){return ma(ma({},$),{},{active:!1})})},title:!1,size:916,children:(0,r.jsxs)("div",{className:"OverwriteConfirm",children:[(0,r.jsx)("h3",{children:we.title}),(0,r.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(we.color),children:[(0,r.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:q.UT}),(0,r.jsx)("div",{children:we.description}),(0,r.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,r.jsx)(pn,{color:we.color,size:"large",label:we.actionLabel,onClick:function(){we.onConfirm(),de(function($){return ma(ma({},$),{},{active:!1})})}})]}),(0,r.jsx)(Ji,{children:i})]})})}):null}),{Actions:Ji,Action:oa}),Ta=t(100),Ka=t(1925),Pa=t(8924),Ra=t(1434),$i={};$i.styleTagTransform=ut(),$i.setAttributes=Je(),$i.insert=_e().bind(null,"head"),$i.domAPI=ae(),$i.insertStyleElement=Ke(),J()(Ra.Z,$i),Ra.Z&&Ra.Z.locals&&Ra.Z.locals;var mi=t(9144),Qi={};Qi.styleTagTransform=ut(),Qi.setAttributes=Je(),Qi.insert=_e().bind(null,"head"),Qi.domAPI=ae(),Qi.insertStyleElement=Ke(),J()(mi.Z,Qi),mi.Z&&mi.Z.locals&&mi.Z.locals;var Ri=t(2921),Sa=function(z){return(0,r.jsxs)("label",{className:(0,ve.Z)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":z.isMobile}),title:"".concat(z.title),children:[(0,r.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:z.name,onChange:z.onChange,checked:z.checked,"aria-label":z.title,"data-testid":"toolbar-LaserPointer"}),(0,r.jsx)("div",{className:"ToolIcon__icon",children:q.d})]})},yl=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],xl=["canvas","appState"],Nl=["canvas","appState"];function Za(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}function aa(z,i){var C=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!C){if(Array.isArray(z)||(C=function(ne,Pe){if(ne){if(typeof ne=="string")return yi(ne,Pe);var Be=Object.prototype.toString.call(ne).slice(8,-1);if(Be==="Object"&&ne.constructor&&(Be=ne.constructor.name),Be==="Map"||Be==="Set")return Array.from(ne);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return yi(ne,Pe)}}(z))||i){C&&(z=C);var K=0,oe=function(){};return{s:oe,n:function(){return K>=z.length?{done:!0}:{done:!1,value:z[K++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,de=!0,$=!1;return{s:function(){C=C.call(z)},n:function(){var ne=C.next();return de=ne.done,ne},e:function(ne){$=!0,we=ne},f:function(){try{de||C.return==null||C.return()}finally{if($)throw we}}}}function yi(z,i){(i==null||i>z.length)&&(i=z.length);for(var C=0,K=new Array(i);C<i;C++)K[C]=z[C];return K}var Vi=function(z){var i=z.UIOptions;return(0,r.jsxs)(Ai.Z,{__fallback:!0,children:[(0,r.jsx)(Ai.Z.DefaultItems.LoadScene,{}),(0,r.jsx)(Ai.Z.DefaultItems.SaveToActiveFile,{}),i.canvasActions.export&&(0,r.jsx)(Ai.Z.DefaultItems.Export,{}),i.canvasActions.saveAsImage&&(0,r.jsx)(Ai.Z.DefaultItems.SaveAsImage,{}),(0,r.jsx)(Ai.Z.DefaultItems.Help,{}),(0,r.jsx)(Ai.Z.DefaultItems.ClearCanvas,{}),(0,r.jsx)(Ai.Z.Separator,{}),(0,r.jsx)(Ai.Z.Group,{title:"Excalidraw links",children:(0,r.jsx)(Ai.Z.DefaultItems.Socials,{})}),(0,r.jsx)(Ai.Z.Separator,{}),(0,r.jsx)(Ai.Z.DefaultItems.ToggleTheme,{}),(0,r.jsx)(Ai.Z.DefaultItems.ChangeCanvasBackground,{})]})},ua=function(){return(0,r.jsxs)(ga,{__fallback:!0,children:[(0,r.jsx)(ga.Actions.SaveToDisk,{}),(0,r.jsx)(ga.Actions.ExportToImage,{})]})},Bl=function(z){var i,C,K=z.actionManager,oe=z.appState,we=z.files,de=z.setAppState,$=z.elements,ne=z.canvas,Pe=z.onLockToggle,Be=z.onHandToolToggle,Fe=z.onPenModeToggle,it=z.showExitZenModeBtn,st=z.renderTopRightUI,vt=z.renderCustomStats,jt=z.UIOptions,Lt=z.onExportImage,Qt=z.renderWelcomeScreen,vn=z.children,$t=z.app,Ut=z.isCollaborating,tn=ms(),xn=(0,Ve.ZC)(),Dn=(0,ra.KO)(Pa.$,zi.yE),En=(0,w.Z)(Dn,2),yn=En[0],Un=En[1],gr=function(){return jt.canvasActions.export?(0,r.jsx)(wa,{elements:$,appState:oe,files:we,actionManager:K,exportOpts:jt.canvasActions.export,canvas:ne,setAppState:de}):null},_r=function(){return jt.canvasActions.saveAsImage&&oe.openDialog==="imageExport"?(0,r.jsx)(Qn,{elements:$,appState:oe,files:we,actionManager:K,onExportImage:Lt,onCloseRequest:function(){return de({openDialog:null})}}):null},zr=function(){return(0,r.jsx)(Ka.O,{__fallback:!0,onDock:function(Rr){(0,u.L)("sidebar","toggleDock (".concat(Rr?"dock":"undock",")"),"(".concat(tn.editor.isMobile?"mobile":"desktop",")"))}})},Qr=(0,ra.Dv)(qa.t6,zi.yE),ao=(0,r.jsxs)(r.Fragment,{children:[vn,(0,r.jsx)(Vi,{UIOptions:jt}),(0,r.jsx)(Ka.O.Trigger,{__fallback:!0,icon:q.Vq,title:(0,E.Oo)((0,R.t)("toolBar.library")),onToggle:function(Rr){Rr&&(0,u.L)("sidebar","".concat(p.Cc.name," (open)"),"button (".concat(tn.editor.isMobile?"mobile":"desktop",")"))},tab:p.Cc.defaultTab,children:(0,R.t)("toolBar.library")}),(0,r.jsx)(ua,{}),oe.isLoading&&(0,r.jsx)(pr.z,{delay:250}),oe.errorMessage&&(0,r.jsx)(an,{onClose:function(){return de({errorMessage:null})},children:oe.errorMessage}),yn&&!tn.editor.isMobile&&(0,r.jsx)(Pa.p,{colorPickerType:yn.colorPickerType,onCancel:function(){Un(null)},onChange:function(Rr,Nr,Fr,Ur){var ho=Ur.altKey;if(Rr==="elementBackground"||Rr==="elementStroke")if(Fr.length){var So,_o,To=aa(Fr);try{for(To.s();!(_o=To.n()).done;){var vo=_o.value;(0,M.DR)(vo,(0,F.Z)({},ho&&yn.swapPreviewOnAlt?Rr==="elementBackground"?"strokeColor":"backgroundColor":Rr==="elementBackground"?"backgroundColor":"strokeColor",Nr),!1),Ri.R.delete(vo)}}catch(oo){To.e(oo)}finally{To.f()}(So=ye.Z.getScene(Fr[0]))===null||So===void 0||So.informMutation()}else de(Rr==="elementBackground"?{currentItemBackgroundColor:Nr}:{currentItemStrokeColor:Nr})},onSelect:function(Rr,Nr){var Fr;Un(function(Ur){return Ur!=null&&Ur.keepOpenOnAlt&&Nr.altKey?Ur:null}),yn==null||(Fr=yn.onSelect)===null||Fr===void 0||Fr.call(yn,Rr,Nr)}}),oe.openDialog==="help"&&(0,r.jsx)(uo,{onClose:function(){de({openDialog:null})}}),(0,r.jsx)(Ni.o,{}),(0,r.jsx)(xn.OverwriteConfirmDialogTunnel.Out,{}),_r(),gr(),oe.pasteDialog.shown&&(0,r.jsx)(hr,{setAppState:de,appState:oe,onClose:function(){return de({pasteDialog:{shown:!1,data:null}})}}),tn.editor.isMobile&&(0,r.jsx)(Vt,{app:$t,appState:oe,elements:$,actionManager:K,renderJSONExportDialog:gr,renderImageExportDialog:_r,setAppState:de,onLockToggle:Pe,onHandToolToggle:Be,onPenModeToggle:Fe,renderTopRightUI:st,renderCustomStats:vt,renderSidebars:zr,device:tn,renderWelcomeScreen:Qt,UIOptions:jt}),!tn.editor.isMobile&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"layer-ui__wrapper",style:oe.openSidebar&&Qr&&tn.editor.canFitSidebar?{width:"calc(100% - ".concat(p.EE,"px)")}:{},children:[Qt&&(0,r.jsx)(xn.WelcomeScreenCenterTunnel.Out,{}),(C=(0,se.RT)(oe,$),(0,r.jsx)(yr,{side:"top",children:(0,r.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,r.jsxs)(bt.Z.Col,{gap:6,className:(0,ve.Z)("App-menu_top__left"),children:[(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)(xn.MainMenuTunnel.Out,{}),Qt&&(0,r.jsx)(xn.WelcomeScreenMenuHintTunnel.Out,{})]}),C&&(0,r.jsx)(Ro,{heading:"selectedShapeActions",className:(0,ve.Z)("selected-shape-actions zen-mode-transition",{"transition-left":oe.zenModeEnabled}),children:(0,r.jsx)(er.W,{className:p.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(oe.height-166,"px")},children:(0,r.jsx)(jn,{appState:oe,elements:$,renderAction:K.renderAction})})})]}),!oe.viewModeEnabled&&(0,r.jsx)(Ro,{heading:"shapes",className:"shapes-section",children:function(Rr){return(0,r.jsxs)("div",{style:{position:"relative"},children:[Qt&&(0,r.jsx)(xn.WelcomeScreenToolbarHintTunnel.Out,{}),(0,r.jsx)(bt.Z.Col,{gap:4,align:"start",children:(0,r.jsxs)(bt.Z.Row,{gap:1,className:(0,ve.Z)("App-toolbar-container",{"zen-mode":oe.zenModeEnabled}),children:[(0,r.jsxs)(er.W,{padding:1,className:(0,ve.Z)("App-toolbar",{"zen-mode":oe.zenModeEnabled}),children:[(0,r.jsx)(Xn,{appState:oe,isMobile:tn.editor.isMobile,device:tn,app:$t}),Rr,(0,r.jsxs)(bt.Z.Row,{gap:1,children:[(0,r.jsx)(Do,{zenModeEnabled:oe.zenModeEnabled,checked:oe.penMode,onChange:function(){return Fe(null)},title:(0,R.t)("toolBar.penMode"),penDetected:oe.penDetected}),(0,r.jsx)(xr,{checked:oe.activeTool.locked,onChange:Pe,title:(0,R.t)("toolBar.lock")}),(0,r.jsx)("div",{className:"App-toolbar__divider"}),(0,r.jsx)(Ze,{checked:(0,O.l$)(oe),onChange:function(){return Be()},title:(0,R.t)("toolBar.hand"),isMobile:!0}),(0,r.jsx)(It,{appState:oe,activeTool:oe.activeTool,UIOptions:jt,app:$t})]})]}),Ut&&(0,r.jsx)(er.W,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,r.jsx)(Sa,{title:(0,R.t)("toolBar.laser"),checked:oe.activeTool.type==="laser",onChange:function(){return $t.setActiveTool({type:"laser"})},isMobile:!0})})]})})]})}}),(0,r.jsxs)("div",{className:(0,ve.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":oe.zenModeEnabled}),children:[(0,r.jsx)(Co.Z,{collaborators:oe.collaborators}),st?.(tn.editor.isMobile,oe),!oe.viewModeEnabled&&(!Qr||((i=oe.openSidebar)===null||i===void 0?void 0:i.name)!==p.Cc.name)&&(0,r.jsx)(xn.DefaultSidebarTriggerTunnel.Out,{})]})]})})),(0,r.jsx)(Ma,{appState:oe,actionManager:K,showExitZenModeBtn:it,renderWelcomeScreen:Qt}),oe.showStats&&(0,r.jsx)(Se,{appState:oe,setAppState:de,elements:$,onClose:function(){K.executeAction(ka.u)},renderCustomStats:vt}),oe.scrolledOutside&&(0,r.jsx)("button",{className:"scroll-back-to-content",onClick:function(){de(function(Rr){return function(Nr){for(var Fr=1;Fr<arguments.length;Fr++){var Ur=arguments[Fr]!=null?arguments[Fr]:{};Fr%2?Za(Object(Ur),!0).forEach(function(ho){(0,F.Z)(Nr,ho,Ur[ho])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nr,Object.getOwnPropertyDescriptors(Ur)):Za(Object(Ur)).forEach(function(ho){Object.defineProperty(Nr,ho,Object.getOwnPropertyDescriptor(Ur,ho))})}return Nr}({},(0,xe.W)($,Rr))})},children:(0,R.t)("buttons.scrollBackToContent")})]}),zr()]})]});return(0,r.jsx)(Ta.k.Provider,{value:oe,children:(0,r.jsx)(ra.zt,{scope:xn.jotaiScope,children:(0,r.jsx)(Ve.A3.Provider,{value:xn,children:ao})})})},za=function(z){return z.suggestedBindings,z.startBoundElement,z.cursorButton,z.scrollX,z.scrollY,(0,ct.Z)(z,yl)},Ja=function(z,i){if(z.children!==i.children)return!1;z.canvas;var C=z.appState,K=(0,ct.Z)(z,xl),oe=(i.canvas,i.appState),we=(0,ct.Z)(i,Nl);return(0,E.w8)(za(C),za(oe),{selectedElementIds:E.w8,selectedGroupIds:E.w8})&&(0,E.w8)(K,we)},ea=G().memo(Bl,Ja),ja=t(9650),Bi={};Bi.styleTagTransform=ut(),Bi.setAttributes=Je(),Bi.insert=_e().bind(null,"head"),Bi.domAPI=ae(),Bi.insertStyleElement=Ke(),J()(ja.Z,Bi),ja.Z&&ja.Z.locals&&ja.Z.locals;var Wi=function(z){var i=z.message,C=z.onClose,K=z.closable,oe=K!==void 0&&K,we=z.duration,de=we===void 0?5e3:we,$=(0,x.useRef)(0),ne=de!==1/0,Pe=(0,x.useCallback)(function(){ne&&($.current=window.setTimeout(function(){return C()},de))},[C,de,ne]);(0,x.useEffect)(function(){if(ne)return Pe(),function(){return clearTimeout($.current)}},[Pe,i,de,ne]);var Be=ne?function(){return clearTimeout($?.current)}:void 0,Fe=ne?Pe:void 0;return(0,r.jsxs)("div",{className:"Toast",onMouseEnter:Be,onMouseLeave:Fe,children:[(0,r.jsx)("p",{className:"Toast__message",children:i}),oe&&(0,r.jsx)(U.V,{icon:q.Tw,"aria-label":"close",type:"icon",onClick:C,className:"close"})]})};function wl(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}function be(z){for(var i=1;i<arguments.length;i++){var C=arguments[i]!=null?arguments[i]:{};i%2?wl(Object(C),!0).forEach(function(K){(0,F.Z)(z,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(C)):wl(Object(C)).forEach(function(K){Object.defineProperty(z,K,Object.getOwnPropertyDescriptor(C,K))})}return z}var De=(0,W.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(z){return!z.viewModeEnabled}},perform:function(z,i){return{appState:be(be({},i),{},{viewModeEnabled:!this.checked(i)}),commitToHistory:!1}},checked:function(z){return z.viewModeEnabled},predicate:function(z,i,C){return C.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(z){return!z[B.tW.CTRL_OR_CMD]&&z.altKey&&z.code===B.aU.R}}),nt=t(4178),dt=t(200),xt=t.n(dt),Pt=t(3528),en=t(5992),Cn=t(8020),Wn=t(4048),Ot=t(9672);function Gt(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}var Tt=(0,T.Z)(function z(i){var C=this,K=i.scene,oe=i.onSceneUpdated;(0,b.Z)(this,z),this.onFontsLoaded=function(we){if(we.every(function($){var ne="".concat($.family,"-").concat($.style,"-").concat($.weight);return!!z.loadedFontFaces.has(ne)||(z.loadedFontFaces.add(ne),!1)}))return!1;var de=!1;C.scene.mapElements(function($){return(0,se.iB)($)&&!(0,Q.Xh)($)?(Ri.R.delete($),de=!0,(0,M.BE)($,function(ne){for(var Pe=1;Pe<arguments.length;Pe++){var Be=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?Gt(Object(Be),!0).forEach(function(Fe){(0,F.Z)(ne,Fe,Be[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Be)):Gt(Object(Be)).forEach(function(Fe){Object.defineProperty(ne,Fe,Object.getOwnPropertyDescriptor(Be,Fe))})}return ne}({},(0,se.JZ)($)))):$}),de&&C.onSceneUpdated()},this.loadFontsForElements=function(){var we=(0,d.Z)(h().mark(function de($){var ne;return h().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,Promise.all((0,v.Z)(new Set($.filter(function(Be){return(0,se.iB)(Be)}).map(function(Be){return Be.fontFamily}))).map(function(Be){var Fe,it,st,vt,jt=(0,E.mO)({fontFamily:Be,fontSize:16});if((Fe=document.fonts)===null||Fe===void 0||(it=Fe.check)===null||it===void 0||!it.call(Fe,jt))return(st=document.fonts)===null||st===void 0||(vt=st.load)===null||vt===void 0?void 0:vt.call(st,jt)}));case 2:ne=Pe.sent,C.onFontsLoaded(ne.flat().filter(Boolean));case 4:case"end":return Pe.stop()}},de)}));return function(de){return we.apply(this,arguments)}}(),this.scene=K,this.onSceneUpdated=oe});Tt.loadedFontFaces=new Set;var mn=t(4682),Jt=t(6264),On=t(5047),In=t(7652);function gn(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}function nr(z){for(var i=1;i<arguments.length;i++){var C=arguments[i]!=null?arguments[i]:{};i%2?gn(Object(C),!0).forEach(function(K){(0,F.Z)(z,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(C)):gn(Object(C)).forEach(function(K){Object.defineProperty(z,K,Object.getOwnPropertyDescriptor(C,K))})}return z}var ur=function(z,i){var C=i.scene.getSelectedElements(z);return C.length===1&&C[0].type==="frame"},dr=(0,W.z)({name:"selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(z,i,C,K){var oe=K.scene.getSelectedElements(i)[0];if(oe&&oe.type==="frame"){var we=(0,mn.zD)((0,se.Lm)(z),oe.id).filter(function(de){return!(de.type==="text"&&de.containerId)});return{elements:z,appState:nr(nr({},i),{},{selectedElementIds:we.reduce(function(de,$){return de[$.id]=!0,de},{})}),commitToHistory:!1}}return{elements:z,appState:i,commitToHistory:!1}},contextItemLabel:"labels.selectAllElementsInFrame",predicate:function(z,i,C,K){return ur(i,K)}}),jr=(0,W.z)({name:"removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(z,i,C,K){var oe=K.scene.getSelectedElements(i)[0];return oe&&oe.type==="frame"?{elements:(0,mn.yZ)(z,oe,i),appState:nr(nr({},i),{},{selectedElementIds:(0,F.Z)({},oe.id,!0)}),commitToHistory:!0}:{elements:z,appState:i,commitToHistory:!1}},contextItemLabel:"labels.removeAllElementsFromFrame",predicate:function(z,i,C,K){return ur(i,K)}}),Vr=((0,W.z)({name:"updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(z,i){return{elements:z,appState:nr(nr({},i),{},{frameRendering:nr(nr({},i.frameRendering),{},{enabled:!i.frameRendering.enabled})}),commitToHistory:!1}},contextItemLabel:"labels.updateFrameRendering",checked:function(z){return z.frameRendering.enabled}}),(0,W.z)({name:"setFrameAsActiveTool",trackEvent:{category:"toolbar"},perform:function(z,i,C,K){var oe=(0,E.Om)(i,{type:"frame"});return(0,In.Uk)(K.interactiveCanvas,nr(nr({},i),{},{activeTool:oe})),{elements:z,appState:nr(nr({},i),{},{activeTool:(0,E.Om)(i,{type:"frame"})}),commitToHistory:!1}},keyTest:function(z){return!z[B.tW.CTRL_OR_CMD]&&!z.shiftKey&&!z.altKey&&z.key.toLocaleLowerCase()===B.tW.F}}),t(6006)),qr=t(3506);function Wr(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}function Yr(z){for(var i=1;i<arguments.length;i++){var C=arguments[i]!=null?arguments[i]:{};i%2?Wr(Object(C),!0).forEach(function(K){(0,F.Z)(z,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(C)):Wr(Object(C)).forEach(function(K){Object.defineProperty(z,K,Object.getOwnPropertyDescriptor(C,K))})}return z}function Tr(z,i){var C=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!C){if(Array.isArray(z)||(C=function(ne,Pe){if(ne){if(typeof ne=="string")return Br(ne,Pe);var Be=Object.prototype.toString.call(ne).slice(8,-1);if(Be==="Object"&&ne.constructor&&(Be=ne.constructor.name),Be==="Map"||Be==="Set")return Array.from(ne);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return Br(ne,Pe)}}(z))||i){C&&(z=C);var K=0,oe=function(){};return{s:oe,n:function(){return K>=z.length?{done:!0}:{done:!1,value:z[K++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,de=!0,$=!1;return{s:function(){C=C.call(z)},n:function(){var ne=C.next();return de=ne.done,ne},e:function(ne){$=!0,we=ne},f:function(){try{de||C.return==null||C.return()}finally{if($)throw we}}}}function Br(z,i){(i==null||i>z.length)&&(i=z.length);for(var C=0,K=new Array(i);C<i;C++)K[C]=z[C];return K}var ro=function(z){return 8/z},so=(0,T.Z)(function z(){(0,b.Z)(this,z)});so.referenceSnapPoints=null,so.visibleGaps=null,so.setReferenceSnapPoints=function(z){so.referenceSnapPoints=z},so.getReferenceSnapPoints=function(){return so.referenceSnapPoints},so.setVisibleGaps=function(z){so.visibleGaps=z},so.getVisibleGaps=function(){return so.visibleGaps},so.destroy=function(){so.referenceSnapPoints=null,so.visibleGaps=null};var fo=function(z){var i=z.event,C=z.appState,K=z.selectedElements;return i?C.objectsSnapModeEnabled&&!i[B.tW.CTRL_OR_CMD]||!C.objectsSnapModeEnabled&&i[B.tW.CTRL_OR_CMD]&&C.gridSize===null:(K.length!==1||K[0].type!=="arrow")&&C.objectsSnapModeEnabled},Mo=function(z){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{omitCenter:!1,boundingBoxCorners:!1},C=i.omitCenter,K=i.boundingBoxCorners,oe=i.dragOffset,we=[];if(z.length===1){var de=z[0],$=(0,bo.qf)(de),ne=(0,w.Z)($,6),Pe=ne[0],Be=ne[1],Fe=ne[2],it=ne[3],st=ne[4],vt=ne[5];oe&&(Pe+=oe.x,Fe+=oe.x,st+=oe.x,Be+=oe.y,it+=oe.y,vt+=oe.y);var jt=(Fe-Pe)/2,Lt=(it-Be)/2;if(de.type!=="diamond"&&de.type!=="ellipse"||K){var Qt=(0,ke.xj)([Pe,Be],[st,vt],de.angle),vn=(0,ke.xj)([Fe,Be],[st,vt],de.angle),$t=(0,ke.xj)([Pe,it],[st,vt],de.angle),Ut=(0,ke.xj)([Fe,it],[st,vt],de.angle),tn=[st,vt];we=C?[Qt,vn,$t,Ut]:[Qt,vn,$t,Ut,tn]}else{var xn=(0,ke.xj)([Pe,Be+Lt],[st,vt],de.angle),Dn=(0,ke.xj)([Pe+jt,Be],[st,vt],de.angle),En=(0,ke.xj)([Fe,Be+Lt],[st,vt],de.angle),yn=(0,ke.xj)([Pe+jt,it],[st,vt],de.angle),Un=[st,vt];we=C?[xn,Dn,En,yn]:[xn,Dn,En,yn,Un]}}else if(z.length>1){var gr=(0,bo.hC)(z,oe??{x:0,y:0}),_r=(0,w.Z)(gr,4),zr=_r[0],Qr=_r[1],ao=_r[2],Rr=_r[3],Nr=ao-zr,Fr=Rr-Qr,Ur=[zr,Qr],ho=[ao,Qr],So=[zr,Rr],_o=[ao,Rr],To=[zr+Nr/2,Qr+Fr/2];we=C?[Ur,ho,So,_o]:[Ur,ho,So,_o,To]}return we.map(function(vo){return[Xe(vo[0]),Xe(vo[1])]})},Zi=function(z,i,C){var K=i.filter(function(oe){return(0,Q.He)(oe)}).map(function(oe){return oe.id});return(0,Jt.CF)(z,i,C).filter(function(oe){return!(oe.frameId&&K.includes(oe.frameId))})},Ao=function(z,i,C){var K=Zi(z,i,C),oe=(0,Ue.AI)(K).filter(function(Fr){return!(Fr.length===1&&(0,Q.Xh)(Fr[0]))}).map(function(Fr){return(0,bo.KP)(Fr).map(function(Ur){return Xe(Ur)})}),we=oe.sort(function(Fr,Ur){return Fr[0]-Ur[0]}),de=[],$=0;e:for(var ne=0;ne<we.length;ne++)for(var Pe=we[ne],Be=ne+1;Be<we.length;Be++){if(++$>99999)break e;var Fe=we[Be],it=(0,w.Z)(Pe,4),st=it[1],vt=it[2],jt=it[3],Lt=(0,w.Z)(Fe,4),Qt=Lt[0],vn=Lt[1],$t=Lt[3];vt<Qt&&(0,ke.ep)([st,jt],[vn,$t])&&de.push({startBounds:Pe,endBounds:Fe,startSide:[[vt,st],[vt,jt]],endSide:[[Qt,vn],[Qt,$t]],length:Qt-vt,overlap:(0,ke.mW)([st,jt],[vn,$t])})}var Ut=oe.sort(function(Fr,Ur){return Fr[1]-Ur[1]}),tn=[];$=0;e:for(var xn=0;xn<Ut.length;xn++)for(var Dn=Ut[xn],En=xn+1;En<Ut.length;En++){if(++$>99999)break e;var yn=Ut[En],Un=(0,w.Z)(Dn,4),gr=Un[0],_r=Un[2],zr=Un[3],Qr=(0,w.Z)(yn,3),ao=Qr[0],Rr=Qr[1],Nr=Qr[2];zr<Rr&&(0,ke.ep)([gr,_r],[ao,Nr])&&tn.push({startBounds:Dn,endBounds:yn,startSide:[[gr,zr],[_r,zr]],endSide:[[ao,Rr],[Nr,Rr]],length:Rr-zr,overlap:(0,ke.mW)([gr,_r],[ao,Nr])})}return{horizontalGaps:de,verticalGaps:tn}},at=function(z,i,C,K,oe,we,de){if(!fo({appState:C,event:K,selectedElements:z}))return[];if(z.length===0)return[];var $=so.getVisibleGaps();if($){var ne,Pe=$.horizontalGaps,Be=$.verticalGaps,Fe=(0,bo.hC)(z,i).map(function(Ko){return Xe(Ko)}),it=(0,w.Z)(Fe,4),st=it[0],vt=it[1],jt=it[2],Lt=it[3],Qt=(st+jt)/2,vn=(vt+Lt)/2,$t=Tr(Pe);try{for($t.s();!(ne=$t.n()).done;){var Ut=ne.value;if((0,ke.ep)([vt,Lt],Ut.overlap)){var tn=Ut.startSide[0][0]+Ut.length/2,xn=Xe(tn-Qt);if(Ut.length>jt-st&&Math.abs(xn)<=de.x){Math.abs(xn)<de.x&&(oe.length=0),de.x=Math.abs(xn);var Dn={type:"gap",direction:"center_horizontal",gap:Ut,offset:xn};oe.push(Dn)}else{var En=st-(0,w.Z)(Ut.endBounds,3)[2],yn=Xe(Ut.length-En);if(Math.abs(yn)<=de.x){Math.abs(yn)<de.x&&(oe.length=0),de.x=Math.abs(yn);var Un={type:"gap",direction:"side_right",gap:Ut,offset:yn};oe.push(Un)}else{var gr=(0,w.Z)(Ut.startBounds,3)[0],_r=Xe(gr-jt-Ut.length);if(Math.abs(_r)<=de.x){Math.abs(_r)<de.x&&(oe.length=0),de.x=Math.abs(_r);var zr={type:"gap",direction:"side_left",gap:Ut,offset:_r};oe.push(zr)}}}}}}catch(Ko){$t.e(Ko)}finally{$t.f()}var Qr,ao=Tr(Be);try{for(ao.s();!(Qr=ao.n()).done;){var Rr=Qr.value;if((0,ke.ep)([st,jt],Rr.overlap)){var Nr=Rr.startSide[0][1]+Rr.length/2,Fr=Xe(Nr-vn);if(Rr.length>Lt-vt&&Math.abs(Fr)<=de.y){Math.abs(Fr)<de.y&&(we.length=0),de.y=Math.abs(Fr);var Ur={type:"gap",direction:"center_vertical",gap:Rr,offset:Fr};we.push(Ur)}else{var ho=(0,w.Z)(Rr.startBounds,3)[1],So=Xe(ho-Lt-Rr.length);if(Math.abs(So)<=de.y){Math.abs(So)<de.y&&(we.length=0),de.y=Math.abs(So);var _o={type:"gap",direction:"side_top",gap:Rr,offset:So};we.push(_o)}else{var To=(0,w.Z)(Rr.endBounds,4)[3],vo=Xe(vt-To),oo=Rr.length-vo;if(Math.abs(oo)<=de.y){Math.abs(oo)<de.y&&(we.length=0),de.y=Math.abs(oo);var Lo={type:"gap",direction:"side_bottom",gap:Rr,offset:oo};we.push(Lo)}}}}}}catch(Ko){ao.e(Ko)}finally{ao.f()}}},Me=function(z,i,C){var K=Zi(z,i,C);return(0,Ue.AI)(K).filter(function(oe){return!(oe.length===1&&(0,Q.Xh)(oe[0]))}).flatMap(function(oe){return Mo(oe)})},Ye=function(z,i,C,K,oe,we,de){if(!fo({appState:C,event:K,selectedElements:z})||z.length===0&&i.length===0)return[];var $=so.getReferenceSnapPoints();if($){var ne,Pe=Tr(i);try{for(Pe.s();!(ne=Pe.n()).done;){var Be,Fe=ne.value,it=Tr($);try{for(it.s();!(Be=it.n()).done;){var st=Be.value,vt=st[0]-Fe[0],jt=st[1]-Fe[1];Math.abs(vt)<=de.x&&(Math.abs(vt)<de.x&&(oe.length=0),oe.push({type:"point",points:[Fe,st],offset:vt}),de.x=Math.abs(vt)),Math.abs(jt)<=de.y&&(Math.abs(jt)<de.y&&(we.length=0),we.push({type:"point",points:[Fe,st],offset:jt}),de.y=Math.abs(jt))}}catch(Lt){it.e(Lt)}finally{it.f()}}}catch(Lt){Pe.e(Lt)}finally{Pe.f()}}},Xe=function(z){return Math.round(z*Math.pow(10,6))/Math.pow(10,6)},lt=function(z){var i,C=new Map,K=Tr(z);try{for(K.s();!(i=K.n()).done;){var oe=i.value,we=oe.join(",");C.has(we)||C.set(we,oe)}}catch(de){K.e(de)}finally{K.f()}return Array.from(C.values())},gt=function(z,i){var C={},K={};if(z.length>0){var oe,we=Tr(z);try{for(we.s();!(oe=we.n()).done;){var de=oe.value;if(de.type==="point"){var $,ne=Xe(de.points[0][0]);C[ne]||(C[ne]=[]),($=C[ne]).push.apply($,(0,v.Z)(de.points.map(function(vt){return[Xe(vt[0]),Xe(vt[1])]})))}}}catch(vt){we.e(vt)}finally{we.f()}}if(i.length>0){var Pe,Be=Tr(i);try{for(Be.s();!(Pe=Be.n()).done;){var Fe=Pe.value;if(Fe.type==="point"){var it,st=Xe(Fe.points[0][1]);K[st]||(K[st]=[]),(it=K[st]).push.apply(it,(0,v.Z)(Fe.points.map(function(vt){return[Xe(vt[0]),Xe(vt[1])]})))}}}catch(vt){Be.e(vt)}finally{Be.f()}}return Object.entries(C).map(function(vt){var jt=(0,w.Z)(vt,2),Lt=jt[0],Qt=jt[1];return{type:"points",points:lt(Qt.map(function(vn){return[Number(Lt),vn[1]]}).sort(function(vn,$t){return vn[1]-$t[1]}))}}).concat(Object.entries(K).map(function(vt){var jt=(0,w.Z)(vt,2),Lt=jt[0],Qt=jt[1];return{type:"points",points:lt(Qt.map(function(vn){return[vn[0],Number(Lt)]}).sort(function(vn,$t){return vn[0]-$t[0]}))}}))},Ct=function(z,i,C){var K,oe=(0,bo.hC)(z,i),we=(0,w.Z)(oe,4),de=we[0],$=we[1],ne=we[2],Pe=we[3],Be=[],Fe=Tr(C);try{for(Fe.s();!(K=Fe.n()).done;){var it=K.value,st=(0,w.Z)(it.gap.startBounds,4),vt=st[0],jt=st[1],Lt=st[2],Qt=st[3],vn=(0,w.Z)(it.gap.endBounds,4),$t=vn[0],Ut=vn[1],tn=vn[2],xn=vn[3],Dn=(0,ke.mW)([$,Pe],it.gap.overlap),En=(0,ke.mW)([de,ne],it.gap.overlap);switch(it.direction){case"center_horizontal":if(Dn){var yn=(Dn[0]+Dn[1])/2;Be.push({type:"gap",direction:"horizontal",points:[[it.gap.startSide[0][0],yn],[de,yn]]},{type:"gap",direction:"horizontal",points:[[ne,yn],[it.gap.endSide[0][0],yn]]})}break;case"center_vertical":if(En){var Un=(En[0]+En[1])/2;Be.push({type:"gap",direction:"vertical",points:[[Un,it.gap.startSide[0][1]],[Un,$]]},{type:"gap",direction:"vertical",points:[[Un,Pe],[Un,it.gap.endSide[0][1]]]})}break;case"side_right":if(Dn){var gr=(Dn[0]+Dn[1])/2;Be.push({type:"gap",direction:"horizontal",points:[[Lt,gr],[$t,gr]]},{type:"gap",direction:"horizontal",points:[[tn,gr],[de,gr]]})}break;case"side_left":if(Dn){var _r=(Dn[0]+Dn[1])/2;Be.push({type:"gap",direction:"horizontal",points:[[ne,_r],[vt,_r]]},{type:"gap",direction:"horizontal",points:[[Lt,_r],[$t,_r]]})}break;case"side_top":if(En){var zr=(En[0]+En[1])/2;Be.push({type:"gap",direction:"vertical",points:[[zr,Pe],[zr,jt]]},{type:"gap",direction:"vertical",points:[[zr,Qt],[zr,Ut]]})}break;case"side_bottom":if(En){var Qr=(En[0]+En[1])/2;Be.push({type:"gap",direction:"vertical",points:[[Qr,Qt],[Qr,Ut]]},{type:"gap",direction:"vertical",points:[[Qr,xn],[Qr,$]]})}}}}catch(ao){Fe.e(ao)}finally{Fe.f()}return function(ao){var Rr,Nr=new Map,Fr=Tr(ao);try{for(Fr.s();!(Rr=Fr.n()).done;){var Ur=Rr.value,ho=Ur.points.flat().map(function(So){return[Xe(So)]}).join(",");Nr.has(ho)||Nr.set(ho,Ur)}}catch(So){Fr.e(So)}finally{Fr.f()}return Array.from(Nr.values())}(Be.map(function(ao){return Yr(Yr({},ao),{},{points:ao.points.map(function(Rr){return[Xe(Rr[0]),Xe(Rr[1])]})})}))},_t=function(z,i,C,K,oe,we){var de,$,ne,Pe;if(!fo({event:K,selectedElements:z,appState:C})||z.length===0||z.length===1&&!function(_r,zr){var Qr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.01;return Math.abs(_r-zr)<=Qr}(z[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var Be=(0,bo.KP)(i),Fe=(0,w.Z)(Be,4),it=Fe[0],st=Fe[1],vt=Fe[2],jt=Fe[3];we&&(we.includes("e")?vt+=oe.x:we.includes("w")&&(it+=oe.x),we.includes("n")?st+=oe.y:we.includes("s")&&(jt+=oe.y));var Lt=[];if(we)switch(we){case"e":Lt.push([vt,st],[vt,jt]);break;case"w":Lt.push([it,st],[it,jt]);break;case"n":Lt.push([it,st],[vt,st]);break;case"s":Lt.push([it,jt],[vt,jt]);break;case"ne":Lt.push([vt,st]);break;case"nw":Lt.push([it,st]);break;case"se":Lt.push([vt,jt]);break;case"sw":Lt.push([it,jt])}var Qt=ro(C.zoom.value),vn={x:Qt,y:Qt},$t=[],Ut=[];Ye(i,Lt,C,K,$t,Ut,vn);var tn={x:(de=($=$t[0])===null||$===void 0?void 0:$.offset)!==null&&de!==void 0?de:0,y:(ne=(Pe=Ut[0])===null||Pe===void 0?void 0:Pe.offset)!==null&&ne!==void 0?ne:0};vn.x=0,vn.y=0,$t.length=0,Ut.length=0;var xn=(0,bo.KP)(z).map(function(_r){return Xe(_r)}),Dn=(0,w.Z)(xn,4),En=Dn[0],yn=Dn[1],Un=Dn[2],gr=Dn[3];return Ye(z,[[En,yn],[En,gr],[Un,yn],[Un,gr]],C,K,$t,Ut,vn),{snapOffset:tn,snapLines:gt($t,Ut)}},Dt=t(7392),wn=t(9247),Pn=function(){return(0,r.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,r.jsx)("p",{children:(0,r.jsx)(wn.Z,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(z){return(0,r.jsx)("span",{style:{fontWeight:600},children:z})}})}),(0,r.jsx)("p",{children:(0,r.jsx)(wn.Z,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(z){return(0,r.jsx)("span",{style:{fontWeight:600},children:z})}})}),(0,r.jsx)("p",{children:(0,r.jsx)(wn.Z,{i18nKey:"errors.brave_measure_text_error.line3",link:function(z){return(0,r.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:z})}})}),(0,r.jsx)("p",{children:(0,r.jsx)(wn.Z,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(z){return(0,r.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:z})},discordLink:function(z){return(0,r.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[z,"."]})}})})]})},fn=t(6199),_n=t(7766),zn=function(z){var i=(0,x.useRef)(!1);return(0,x.useEffect)(function(){var C;if(i.current){var K={},oe={},we={},de={},$={};z.appState.collaborators.forEach(function(Pe,Be){if(Pe.selectedElementIds)for(var Fe=0,it=Object.keys(Pe.selectedElementIds);Fe<it.length;Fe++){var st=it[Fe];st in we||(we[st]=[]),we[st].push(Be)}Pe.pointer&&(Pe.username&&(de[Be]=Pe.username),Pe.userState&&($[Be]=Pe.userState),oe[Be]=(0,E._i)({sceneX:Pe.pointer.x,sceneY:Pe.pointer.y},z.appState),K[Be]=Pe.button)});var ne=((C=z.containerRef)===null||C===void 0?void 0:C.current)&&getComputedStyle(z.containerRef.current).getPropertyValue("--color-selection")||"#6965db";(0,_n.tp)({canvas:z.canvas,elements:z.elements,visibleElements:z.visibleElements,selectedElements:z.selectedElements,scale:window.devicePixelRatio,appState:z.appState,renderConfig:{remotePointerViewportCoords:oe,remotePointerButton:K,remoteSelectedElementIds:we,remotePointerUsernames:de,remotePointerUserStates:$,selectionColor:ne,renderScrollbars:!1},callback:z.renderInteractiveSceneCallback},(0,E.G9)())}else i.current=!0}),(0,r.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:z.appState.width,height:z.appState.height,cursor:z.appState.viewModeEnabled?p.oc.GRAB:p.oc.AUTO},width:z.appState.width*z.scale,height:z.appState.height*z.scale,ref:z.handleCanvasRef,onContextMenu:z.onContextMenu,onPointerMove:z.onPointerMove,onPointerUp:z.onPointerUp,onPointerCancel:z.onPointerCancel,onTouchMove:z.onTouchMove,onPointerDown:z.onPointerDown,onDoubleClick:z.appState.viewModeEnabled?void 0:z.onDoubleClick,children:(0,R.t)("labels.drawingCanvas")})},Nn=function(z){return{zoom:z.zoom,scrollX:z.scrollX,scrollY:z.scrollY,width:z.width,height:z.height,viewModeEnabled:z.viewModeEnabled,editingGroupId:z.editingGroupId,editingLinearElement:z.editingLinearElement,selectedElementIds:z.selectedElementIds,frameToHighlight:z.frameToHighlight,offsetLeft:z.offsetLeft,offsetTop:z.offsetTop,theme:z.theme,pendingImageElementId:z.pendingImageElementId,selectionElement:z.selectionElement,selectedGroupIds:z.selectedGroupIds,selectedLinearElement:z.selectedLinearElement,multiElement:z.multiElement,isBindingEnabled:z.isBindingEnabled,suggestedBindings:z.suggestedBindings,isRotating:z.isRotating,elementsToHighlight:z.elementsToHighlight,openSidebar:z.openSidebar,showHyperlinkPopup:z.showHyperlinkPopup,collaborators:z.collaborators,activeEmbeddable:z.activeEmbeddable,snapLines:z.snapLines,zenModeEnabled:z.zenModeEnabled}},Rn=function(z,i){return z.selectionNonce===i.selectionNonce&&z.versionNonce===i.versionNonce&&z.scale===i.scale&&z.elements===i.elements&&z.visibleElements===i.visibleElements&&z.selectedElements===i.selectedElements&&(0,E.w8)(Nn(z.appState),Nn(i.appState))},Tn=G().memo(zn,Rn),Vn=function(z){var i=(0,x.useRef)(null),C=(0,x.useRef)(!1);return(0,x.useEffect)(function(){var K=i.current;if(K){var oe=z.canvas;C.current||(C.current=!0,K.replaceChildren(oe),oe.classList.add("excalidraw__canvas","static"));var we="".concat(z.appState.width,"px"),de="".concat(z.appState.height,"px");oe.style.width!==we&&(oe.style.width=we),oe.style.height!==de&&(oe.style.height=de);var $=z.appState.width*z.scale,ne=z.appState.height*z.scale;oe.width!==$&&(oe.width=$),oe.height!==ne&&(oe.height=ne),(0,_n.AW)({canvas:oe,rc:z.rc,scale:z.scale,elements:z.elements,visibleElements:z.visibleElements,appState:z.appState,renderConfig:z.renderConfig},(0,E.G9)())}}),(0,r.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:i})},sr=function(z){return{zoom:z.zoom,scrollX:z.scrollX,scrollY:z.scrollY,width:z.width,height:z.height,viewModeEnabled:z.viewModeEnabled,offsetLeft:z.offsetLeft,offsetTop:z.offsetTop,theme:z.theme,pendingImageElementId:z.pendingImageElementId,shouldCacheIgnoreZoom:z.shouldCacheIgnoreZoom,viewBackgroundColor:z.viewBackgroundColor,exportScale:z.exportScale,selectedElementsAreBeingDragged:z.selectedElementsAreBeingDragged,gridSize:z.gridSize,frameRendering:z.frameRendering,selectedElementIds:z.selectedElementIds,frameToHighlight:z.frameToHighlight,editingGroupId:z.editingGroupId}},mr=function(z,i){return z.versionNonce===i.versionNonce&&z.scale===i.scale&&z.elements===i.elements&&z.visibleElements===i.visibleElements&&(0,E.w8)(sr(z.appState),sr(i.appState))&&(0,E.w8)(z.renderConfig,i.renderConfig)},or=G().memo(Vn,mr),ar=function(){function z(i){var C=this;(0,b.Z)(this,z),this.getRenderableElements=(0,E.HP)(function(K){var oe=K.zoom,we=K.offsetLeft,de=K.offsetTop,$=K.scrollX,ne=K.scrollY,Pe=K.height,Be=K.width,Fe=K.editingElement,it=K.pendingImageElementId,st=(K.versionNonce,function(jt){var Lt=jt.editingElement,Qt=jt.elements,vn=jt.pendingImageElementId;return Qt.filter(function($t){return!((0,Q.pC)($t)&&vn===$t.id||Lt&&Lt.type==="text"&&$t.id===Lt.id)})}({elements:C.scene.getNonDeletedElements(),editingElement:Fe,pendingImageElementId:it})),vt=function(jt){var Lt=jt.elements,Qt=jt.zoom,vn=jt.offsetLeft,$t=jt.offsetTop,Ut=jt.scrollX,tn=jt.scrollY,xn=jt.height,Dn=jt.width;return Lt.filter(function(En){return(0,Re.PZ)(En,Dn,xn,{zoom:Qt,offsetLeft:vn,offsetTop:$t,scrollX:Ut,scrollY:tn})})}({elements:st,zoom:oe,offsetLeft:we,offsetTop:de,scrollX:$,scrollY:ne,height:Pe,width:Be});return{canvasElements:st,visibleElements:vt}}),this.scene=i}return(0,T.Z)(z,[{key:"destroy",value:function(){(0,_n.n_)(),this.getRenderableElements.clear()}}]),z}(),Pr=t(8806),Hr=t(4864),Dr=t(8531),Lr=t(5830),Xr={};Xr.styleTagTransform=ut(),Xr.setAttributes=Je(),Xr.insert=_e().bind(null,"head"),Xr.domAPI=ae(),Xr.insertStyleElement=Ke(),J()(Lr.Z,Xr),Lr.Z&&Lr.Z.locals&&Lr.Z.locals;var Jr="mermaid-to-excalidraw",co=function(z){var i=z.error;return(0,r.jsxs)("div",{"data-testid":"mermaid-error",className:"mermaid-error",children:["Error! ",(0,r.jsx)("p",{children:i})]})},po=function(){var z=(0,x.useState)({loaded:!1,api:null}),i=(0,w.Z)(z,2),C=i[0],K=i[1],oe=(0,x.useState)(""),we=(0,w.Z)(oe,2),de=we[0],$=we[1],ne=(0,x.useDeferredValue)(de.trim()),Pe=(0,x.useState)(null),Be=(0,w.Z)(Pe,2),Fe=Be[0],it=Be[1],st=(0,x.useRef)(null),vt=(0,x.useRef)({elements:[],files:null}),jt=hs(),Lt=function(){var vn=st.current;if(vn){var $t=vn.parentElement;$t&&($t.style.background="",it(null),vn.replaceChildren())}};(0,x.useEffect)(function(){var vn=function(){var $t=(0,d.Z)(h().mark(function Ut(){var tn;return h().wrap(function(xn){for(;;)switch(xn.prev=xn.next){case 0:return xn.next=2,t.e(4736).then(t.bind(t,1049));case 2:tn=xn.sent,K({loaded:!0,api:tn});case 4:case"end":return xn.stop()}},Ut)}));return function(){return $t.apply(this,arguments)}}();vn()},[]),(0,x.useEffect)(function(){var vn=function(){try{var $t=localStorage.getItem(Jr);if($t)return $t}catch(Ut){console.error(Ut)}return null}()||`flowchart TD
 A[Christmas] -->|Get money| B(Go shopping)
 B --> C{Let me think}
 C -->|One| D[Laptop]
 C -->|Two| E[iPhone]
 C -->|Three| F[Car]`;$(vn)},[]),(0,x.useEffect)(function(){var vn=function(){var $t=(0,d.Z)(h().mark(function Ut(){var tn,xn,Dn,En,yn,Un;return h().wrap(function(gr){for(;;)switch(gr.prev=gr.next){case 0:if(tn=st.current,xn=tn?.parentElement,C.loaded&&tn&&xn&&C.api){gr.next=4;break}return gr.abrupt("return");case 4:if(ne){gr.next=7;break}return Lt(),gr.abrupt("return");case 7:return gr.prev=7,gr.next=10,C.api.parseMermaidToExcalidraw(ne,{fontSize:p.n5});case 10:return Dn=gr.sent,En=Dn.elements,yn=Dn.files,it(null),vt.current={elements:(0,Hr.wc)(En,{regenerateIds:!0}),files:yn},gr.next=17,(0,Hr.NL)({elements:vt.current.elements,files:vt.current.files,exportPadding:p.qy,maxWidthOrHeight:Math.max(xn.offsetWidth,xn.offsetHeight)*window.devicePixelRatio});case 17:return Un=gr.sent,gr.next=20,(0,hn._c)(Un);case 20:xn.style.background="var(--default-bg-color)",tn.replaceChildren(Un),gr.next=28;break;case 24:gr.prev=24,gr.t0=gr.catch(7),xn.style.background="var(--default-bg-color)",ne&&it(gr.t0.message);case 28:case"end":return gr.stop()}},Ut,null,[[7,24]])}));return function(){return $t.apply(this,arguments)}}();vn()},[ne,C]);var Qt=function(){jt.setOpenDialog(null),function(vn){try{localStorage.setItem(Jr,vn)}catch($t){console.error($t)}}(de)};return(0,r.jsx)(Kt.V,{className:"dialog-mermaid",onCloseRequest:Qt,size:1200,title:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"dialog-mermaid-title",children:(0,R.t)("mermaid.title")}),(0,r.jsxs)("span",{className:"dialog-mermaid-desc",children:[(0,r.jsx)(wn.Z,{i18nKey:"mermaid.description",flowchartLink:function(vn){return(0,r.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:vn})},sequenceLink:function(vn){return(0,r.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:vn})}}),(0,r.jsx)("br",{})]})]}),children:(0,r.jsxs)("div",{className:"dialog-mermaid-body",children:[(0,r.jsxs)("div",{className:"dialog-mermaid-panels",children:[(0,r.jsxs)("div",{className:"dialog-mermaid-panels-text",children:[(0,r.jsx)("label",{children:(0,R.t)("mermaid.syntax")}),(0,r.jsx)("textarea",{onChange:function(vn){return $(vn.target.value)},value:de})]}),(0,r.jsxs)("div",{className:"dialog-mermaid-panels-preview",children:[(0,r.jsx)("label",{children:(0,R.t)("mermaid.preview")}),(0,r.jsxs)("div",{className:"dialog-mermaid-panels-preview-wrapper",children:[Fe&&(0,r.jsx)(co,{error:Fe}),C.loaded?(0,r.jsx)("div",{ref:st,style:{opacity:Fe?"0.15":1},className:"dialog-mermaid-panels-preview-canvas-container"}):(0,r.jsx)(Dr.Z,{size:"2rem"})]})]})]}),(0,r.jsx)("div",{className:"dialog-mermaid-buttons",children:(0,r.jsxs)(Pr.z,{className:"dialog-mermaid-insert",onSelect:function(){var vn=vt.current,$t=vn.elements,Ut=vn.files;jt.addElementsFromPasteOrLibrary({elements:$t,files:Ut,position:"center",fitToContent:!0}),Qt()},children:[(0,R.t)("mermaid.button"),(0,r.jsx)("span",{children:q.LZ})]})})]})})},xo=t(7930),Ho={};Ho.styleTagTransform=ut(),Ho.setAttributes=Je(),Ho.insert=_e().bind(null,"head"),Ho.domAPI=ae(),Ho.insertStyleElement=Ke(),J()(xo.Z,Ho),xo.Z&&xo.Z.locals&&xo.Z.locals;var gi=function(z){var i=z.manager,C=(0,x.useRef)(null);return(0,x.useEffect)(function(){return C.current&&i.start(C.current),function(){i.stop()}},[i]),(0,r.jsx)("div",{className:"LaserToolOverlay",children:(0,r.jsx)("svg",{ref:C,className:"LaserToolOverlayCanvas"})})},Si,_i,da,ta;function li([z,i,C],[K,oe,we]){return[z+K,i+oe,C+we]}function hi([z,i,C],[K,oe,we]){return[z-K,i-oe,C-we]}function xi([z,i,C],K){return[z*K,i*K,C*K]}function oi([z,i,C]){return[z/Math.sqrt(z**2+i**2),i/Math.sqrt(z**2+i**2),C]}function si([z,i,C],K){return[Math.cos(K)*z-Math.sin(K)*i,Math.sin(K)*z+Math.cos(K)*i,C]}function Ti(z,i,C){return Math.atan2(C[1]-z[1],C[0]-z[0])-Math.atan2(i[1]-z[1],i[0]-z[0])}function Rt(z){return Math.atan2(Math.sin(z),Math.cos(z))}function Yi([z,i]){return Math.sqrt(z**2+i**2)}function Gi([z,i],[C,K]){return Math.sqrt((C-z)**2+(K-i)**2)}Si={},_i="LaserPointer",da=()=>Na,Object.defineProperty(Si,_i,{get:da,set:ta,enumerable:!0,configurable:!0});function Pi(z,i,C){const K=Gi(i,C);if(K===0)return Gi(z,i);const oe=((we,de,$)=>Math.max(de,Math.min($,we)))(((z[0]-i[0])*(C[0]-i[0])+(z[1]-i[1])*(C[1]-i[1]))/K**2,0,1);return Gi([i[0]+oe*(C[0]-i[0]),i[1]+oe*(C[1]-i[1]),z[2]],z)}function Yo(z,i){if(i===0||z.length<=2)return z;const C=z[0],K=z[z.length-1],[oe,we]=z.reduce(([de,$],ne,Pe)=>{const Be=Pi(ne,C,K);return Be>de?[Be,Pe]:[de,$]},[0,-1]);if(oe>=i){const de=z[we];return[...Yo([C,...z.slice(1,we),de],i).slice(0,-1),de,...Yo([de,...z.slice(we,-1),K],i).slice(1)]}return[C,K]}const Fa=class Fa{constructor(i){this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},Fa.defaults,i)}get lastPoint(){return this.tailPoints[this.tailPoints.length-1]??this.stablePoints[this.stablePoints.length-1]}addPoint(i){const C=this.originalPoints[this.originalPoints.length-1];if(!C||C[0]!==i[0]||C[1]!==i[1]){if(this.originalPoints.push(i),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(i);var K,oe,we;this.options.streamline>0&&(K=this.lastPoint,oe=i,we=1-this.options.streamline,i=li(K,xi(hi(oe,K),we))),this.tailPoints.push(i),function(de){if(de.length<2)return 0;let $=0;for(let ne=1;ne<=de.length-1;ne++)$+=Gi(de[ne-1],de[ne]);return $+=Gi(de[de.length-2],de[de.length-1]),$}(this.tailPoints)>Fa.constants.maxTailLength&&this.stabilizeTail()}}close(){this.stabilizeTail()}stabilizeTail(){if(this.options.simplify>0&&this.options.simplifyPhase=="tail")throw new Error("Not implemented yet");this.stablePoints.push(...this.tailPoints),this.tailPoints=[]}getSize(i,C,K,oe,we){return(i??this.options.size)*this.options.sizeMapping({pressure:C,runningLength:we,currentIndex:K,totalLength:oe})}getStrokeOutline(i){if(this.isFresh)return[];let C=[...this.stablePoints,...this.tailPoints];this.options.simplify>0&&this.options.simplifyPhase==="input"&&(C=Yo(C,this.options.simplify));const K=C.length;if(K===0)return[];if(K===1){const Dn=C[0],En=[];for(let yn=0;yn<=2*Math.PI;yn+=Math.PI/16)En.push(li(Dn,xi(si([1,0,0],yn),this.getSize(i,Dn[2],0,K,0))));return En.push(li(Dn,xi([1,0,0],this.getSize(i,Dn[2],0,K,0)))),En}if(K===2){const Dn=C[0],En=C[1],yn=[],Un=Ti(Dn,[Dn[0],Dn[1]-100,Dn[2]],En);for(let gr=Un;gr<=Math.PI+Un;gr+=Math.PI/16)yn.push(li(Dn,xi(si([1,0,0],gr),this.getSize(i,Dn[2],0,K,0))));for(let gr=Math.PI+Un;gr<=2*Math.PI+Un;gr+=Math.PI/16)yn.push(li(En,xi(si([1,0,0],gr),this.getSize(i,En[2],0,K,0))));return yn.push(yn[0]),yn}const oe=[],we=[];let de=0,$=0,ne=0,Pe=0;for(let Dn=1;Dn<K-1;Dn++){const En=C[Dn-1],yn=C[Dn],Un=C[Dn+1];let gr=yn[2];const _r=Gi(En,yn);Pe+=_r,de=$+.2*(_r-$);const zr=this.getSize(i,gr,Dn,K,Pe);if(zr===0){ne=Dn+1;continue}const Qr=oi(hi(En,yn)),ao=oi(hi(Un,yn)),Rr=si(Qr,Math.PI/2),Nr=si(Qr,-Math.PI/2),Fr=si(ao,Math.PI/2),Ur=si(ao,-Math.PI/2),ho=li(yn,xi(Rr,zr)),So=li(yn,xi(Nr,zr)),_o=li(yn,xi(Fr,zr)),To=li(yn,xi(Ur,zr)),vo=li(Rr,Ur),oo=li(Nr,Fr),Lo=li(yn,xi(Yi(vo)===0?Qr:oi(vo),zr)),Ko=li(yn,xi(Yi(oo)===0?ao:oi(oo),zr)),Xo=Rt(Ti(yn,En,Un)),zo=Fa.constants.cornerDetectionMaxAngle/180*Math.PI*Fa.constants.cornerDetectionVariance(de);if(Math.abs(Xo)<zo){const to=Math.abs(Rt(Math.PI-Xo));if(to===0)continue;if(Xo<0){we.push(So,Ko);for(let qo=0;qo<=to;qo+=to/4)oe.push(li(yn,si(xi(Rr,zr),qo)));for(let qo=to;qo>=0;qo-=to/4)we.push(li(yn,si(xi(Rr,zr),qo)));we.push(Ko,_o)}else{oe.push(ho,Lo);for(let qo=0;qo<=to;qo+=to/4)we.push(li(yn,si(xi(Rr,-zr),-qo)));for(let qo=to;qo>=0;qo-=to/4)oe.push(li(yn,si(xi(Rr,-zr),-qo)));oe.push(Lo,To)}}else oe.push(Lo),we.push(Ko);$=de}const Be=C[ne],Fe=C[ne+1],it=C[K-2],st=C[K-1];if(ne>=K-2)return[];const vt=oi(hi(Fe,Be)),jt=oi(hi(it,st)),Lt=si(vt,-Math.PI/2),Qt=si(jt,Math.PI/2),vn=this.getSize(i,Be[2],0,K,0),$t=[],Ut=this.getSize(i,it[2],K-2,K,Pe),tn=[];for(let Dn=0;Dn<=Math.PI;Dn+=Math.PI/16)$t.unshift(li(Be,si(xi(Lt,vn),-Dn)));$t.unshift(li(Be,xi(Lt,-vn)));for(let Dn=0;Dn<=Math.PI;Dn+=Math.PI/16)tn.push(li(st,si(xi(Qt,-Ut),-Dn)));const xn=[...$t,...oe,...tn.reverse(),...we.reverse()];return $t.length>0&&xn.push($t[0]),this.options.simplify>0&&this.options.simplifyPhase==="output"?Yo(xn,this.options.simplify):xn}};ns=new WeakMap,vs=new WeakMap,Kc(Fa,ns,(()=>{Fa.defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",sizeMapping:()=>1}})()),Kc(Fa,vs,(()=>{Fa.constants={cornerDetectionMaxAngle:120,cornerDetectionVariance:i=>i>35?.5:1,maxTailLength:50}})());let Na=Fa;var ul=t(957);function es(z,i){var C=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!C){if(Array.isArray(z)||(C=function(ne,Pe){if(ne){if(typeof ne=="string")return Ba(ne,Pe);var Be=Object.prototype.toString.call(ne).slice(8,-1);if(Be==="Object"&&ne.constructor&&(Be=ne.constructor.name),Be==="Map"||Be==="Set")return Array.from(ne);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return Ba(ne,Pe)}}(z))||i){C&&(z=C);var K=0,oe=function(){};return{s:oe,n:function(){return K>=z.length?{done:!0}:{done:!1,value:z[K++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,de=!0,$=!1;return{s:function(){C=C.call(z)},n:function(){var ne=C.next();return de=ne.done,ne},e:function(ne){$=!0,we=ne},f:function(){try{de||C.return==null||C.return()}finally{if($)throw we}}}}function Ba(z,i){(i==null||i>z.length)&&(i=z.length);for(var C=0,K=new Array(i);C<i;C++)K[C]=z[C];return K}var Wl=1e3,kl=function(z,i){return(z+i)/2};function El(z){return 1-Math.pow(1-z,3)}function Wa(){return{currentPath:void 0,finishedPaths:[],lastPoint:[-1e4,-1e4],svg:document.createElementNS("http://www.w3.org/2000/svg","path")}}function va(){return Na.constants.cornerDetectionMaxAngle=70,new Na({simplify:0,streamline:.4,sizeMapping:function(z){var i=Math.max(0,1-(performance.now()-z.pressure)/1e3),C=(50-Math.min(50,z.totalLength-z.currentIndex))/50;return Math.min(El(C),El(i))}})}var la=function(){function z(i){(0,b.Z)(this,z),this.app=i,this.collaboratorsState=new Map,this.isDrawing=!1,this.isRunning=!1,this.ownState=Wa()}return(0,T.Z)(z,[{key:"destroy",value:function(){this.stop(),this.isDrawing=!1,this.ownState=Wa(),this.collaboratorsState=new Map}},{key:"startPath",value:function(i,C){this.ownState.currentPath=va(),this.ownState.currentPath.addPoint([i,C,performance.now()]),this.updatePath(this.ownState)}},{key:"addPointToPath",value:function(i,C){var K;this.ownState.currentPath&&((K=this.ownState.currentPath)===null||K===void 0||K.addPoint([i,C,performance.now()]),this.updatePath(this.ownState))}},{key:"endPath",value:function(){this.ownState.currentPath&&(this.ownState.currentPath.close(),this.ownState.finishedPaths.push(this.ownState.currentPath),this.updatePath(this.ownState))}},{key:"updatePath",value:function(i){this.isDrawing=!0,this.isRunning||this.start()}},{key:"start",value:function(i){i&&(this.container=i,this.container.appendChild(this.ownState.svg)),this.stop(),this.isRunning=!0,this.loop()}},{key:"stop",value:function(){this.isRunning=!1,this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=void 0}},{key:"loop",value:function(){this.rafId=requestAnimationFrame(this.loop.bind(this)),this.updateCollabolatorsState(),this.isDrawing?this.update():this.isRunning=!1}},{key:"draw",value:function(i){var C=this;return function(K){var oe=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],we=K.length;if(we<4)return"";for(var de=K[0],$=K[1],ne=K[2],Pe="M".concat(de[0].toFixed(2),",").concat(de[1].toFixed(2)," Q").concat($[0].toFixed(2),",").concat($[1].toFixed(2)," ").concat(kl($[0],ne[0]).toFixed(2),",").concat(kl($[1],ne[1]).toFixed(2)," T"),Be=2,Fe=we-1;Be<Fe;Be++)de=K[Be],$=K[Be+1],Pe+="".concat(kl(de[0],$[0]).toFixed(2),",").concat(kl(de[1],$[1]).toFixed(2)," ");return oe&&(Pe+="Z"),Pe}(i.getStrokeOutline(i.options.size/this.app.state.zoom.value).map(function(K){var oe=(0,w.Z)(K,2),we=oe[0],de=oe[1],$=(0,E._i)({sceneX:we,sceneY:de},C.app.state);return[$.x,$.y]}),!0)}},{key:"updateCollabolatorsState",value:function(){if(this.container&&this.app.state.collaborators.size){var i,C=es(this.app.state.collaborators.entries());try{for(C.s();!(i=C.n()).done;){var K=(0,w.Z)(i.value,2),oe=K[0],we=K[1];if(!this.collaboratorsState.has(oe)){var de=Wa();this.container.appendChild(de.svg),this.collaboratorsState.set(oe,de),this.updatePath(de)}var $=this.collaboratorsState.get(oe);we.pointer&&we.pointer.tool==="laser"&&(we.button==="down"&&$.currentPath===void 0&&($.lastPoint=[we.pointer.x,we.pointer.y],$.currentPath=va(),$.currentPath.addPoint([we.pointer.x,we.pointer.y,performance.now()]),this.updatePath($)),we.button==="down"&&$.currentPath!==void 0&&(we.pointer.x===$.lastPoint[0]&&we.pointer.y===$.lastPoint[1]||($.lastPoint=[we.pointer.x,we.pointer.y],$.currentPath.addPoint([we.pointer.x,we.pointer.y,performance.now()]),this.updatePath($))),we.button==="up"&&$.currentPath!==void 0&&($.lastPoint=[we.pointer.x,we.pointer.y],$.currentPath.addPoint([we.pointer.x,we.pointer.y,performance.now()]),$.currentPath.close(),$.finishedPaths.push($.currentPath),$.currentPath=void 0,this.updatePath($)))}}catch(ne){C.e(ne)}finally{C.f()}}}},{key:"update",value:function(){var i=this;if(this.container){var C,K=!1,oe=es(this.collaboratorsState.entries());try{for(oe.s();!(C=oe.n()).done;){var we=(0,w.Z)(C.value,2),de=we[0],$=we[1];if(this.app.state.collaborators.has(de)){$.finishedPaths=$.finishedPaths.filter(function(Be){var Fe=Be.originalPoints[Be.originalPoints.length-1];return!(Fe&&Fe[2]<performance.now()-Wl)});var ne=$.finishedPaths.map(function(Be){return i.draw(Be)}).join(" ");$.currentPath&&(ne+=" ".concat(this.draw($.currentPath))),ne.trim()&&(K=!0),$.svg.setAttribute("d",ne),$.svg.setAttribute("fill",(0,ul.G)(de))}else $.svg.remove(),this.collaboratorsState.delete(de)}}catch(Be){oe.e(Be)}finally{oe.f()}this.ownState.finishedPaths=this.ownState.finishedPaths.filter(function(Be){var Fe=Be.originalPoints[Be.originalPoints.length-1];return!(Fe&&Fe[2]<performance.now()-Wl)});var Pe=this.ownState.finishedPaths.map(function(Be){return i.draw(Be)}).join(" ");this.ownState.currentPath&&(Pe+=" ".concat(this.draw(this.ownState.currentPath))),(Pe=Pe.trim())&&(K=!0),this.ownState.svg.setAttribute("d",Pe),this.ownState.svg.setAttribute("fill","red"),K||(this.isDrawing=!1)}}}]),z}(),Fi=function(){function z(i){var C;(0,b.Z)(this,z),this.subscribers=[],this.updateOnChangeOnly=(C=i?.updateOnChangeOnly)!==null&&C!==void 0&&C,this.value=i?.initialState}return(0,T.Z)(z,[{key:"on",value:function(){for(var i,C=this,K=arguments.length,oe=new Array(K),we=0;we<K;we++)oe[we]=arguments[we];var de=oe.flat().filter(function($){return typeof $=="function"});return(i=this.subscribers).push.apply(i,(0,v.Z)(de)),function(){return C.off(de)}}},{key:"off",value:function(){for(var i=arguments.length,C=new Array(i),K=0;K<i;K++)C[K]=arguments[K];var oe=C.flat();this.subscribers=this.subscribers.filter(function(we){return!oe.includes(we)})}},{key:"trigger",value:function(){for(var i=arguments.length,C=new Array(i),K=0;K<i;K++)C[K]=arguments[K];return this.updateOnChangeOnly&&this.value===C?[]:(this.value=C,this.subscribers.map(function(oe){return oe.apply(void 0,C)}))}},{key:"destroy",value:function(){this.subscribers=[],this.value=void 0}}]),z}();function Oi(z,i){var C=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!C){if(Array.isArray(z)||(C=function(ne,Pe){if(ne){if(typeof ne=="string")return fa(ne,Pe);var Be=Object.prototype.toString.call(ne).slice(8,-1);if(Be==="Object"&&ne.constructor&&(Be=ne.constructor.name),Be==="Map"||Be==="Set")return Array.from(ne);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return fa(ne,Pe)}}(z))||i){C&&(z=C);var K=0,oe=function(){};return{s:oe,n:function(){return K>=z.length?{done:!0}:{done:!1,value:z[K++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,de=!0,$=!1;return{s:function(){C=C.call(z)},n:function(){var ne=C.next();return de=ne.done,ne},e:function(ne){$=!0,we=ne},f:function(){try{de||C.return==null||C.return()}finally{if($)throw we}}}}function fa(z,i){(i==null||i>z.length)&&(i=z.length);for(var C=0,K=new Array(i);C<i;C++)K[C]=z[C];return K}function Qa(z){var i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,K=(0,Z.Z)(z);if(i){var oe=(0,Z.Z)(this).constructor;C=Reflect.construct(K,arguments,oe)}else C=K.apply(this,arguments);return(0,c.Z)(this,C)}}function Sl(z,i){var C=Object.keys(z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);i&&(K=K.filter(function(oe){return Object.getOwnPropertyDescriptor(z,oe).enumerable})),C.push.apply(C,K)}return C}function wr(z){for(var i=1;i<arguments.length;i++){var C=arguments[i]!=null?arguments[i]:{};i%2?Sl(Object(C),!0).forEach(function(K){(0,F.Z)(z,K,C[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(C)):Sl(Object(C)).forEach(function(K){Object.defineProperty(z,K,Object.getOwnPropertyDescriptor(C,K))})}return z}var Sr=G().createContext(null),el=G().createContext(null),tl={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},nl=G().createContext(tl);nl.displayName="DeviceContext";var Pl=G().createContext({container:null,id:null});Pl.displayName="ExcalidrawContainerContext";var rl=G().createContext([]);rl.displayName="ExcalidrawElementsContext";var fs=G().createContext(wr(wr({},(0,O.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));fs.displayName="ExcalidrawAppStateContext";var ps=G().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});ps.displayName="ExcalidrawSetAppStateContext";var Oa=G().createContext(null);Oa.displayName="ExcalidrawActionManagerContext";var hs=function(){return(0,x.useContext)(Sr)},Ps=function(){return(0,x.useContext)(el)},ms=function(){return(0,x.useContext)(nl)},ts=function(){return(0,x.useContext)(Pl)},Is=function(){return(0,x.useContext)(rl)},Ds=function(){return(0,x.useContext)(fs)},Ls=function(){return(0,x.useContext)(ps)},As=function(){return(0,x.useContext)(Oa)},Rs=typeof window<"u"&&"ResizeObserver"in window,Il=!1,ol=0,$a=!1,il=!1,Dl=!1,gs={horizontal:null,vertical:null},pa=0,Ia=!1,Ha=new Map,_a=!1,Zs=0,zs=!1,dl=null,Go={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},Qo=function(z){(0,a.Z)(we,z);var i,C,K,oe=Qa(we);function we(de){var $;(0,b.Z)(this,we),$=oe.call(this,de),Ns.call((0,S.Z)($));var ne,Pe=(0,O.im)(),Be=de.excalidrawAPI,Fe=de.viewModeEnabled,it=Fe!==void 0&&Fe,st=de.zenModeEnabled,vt=st!==void 0&&st,jt=de.gridModeEnabled,Lt=jt!==void 0&&jt,Qt=de.objectsSnapModeEnabled,vn=Qt!==void 0&&Qt,$t=de.theme,Ut=$t===void 0?Pe.theme:$t,tn=de.name,xn=tn===void 0?Pe.name:tn;if($.state=wr(wr(wr({},Pe),{},{theme:Ut,isLoading:!0},$.getCanvasOffsets()),{},{viewModeEnabled:it,zenModeEnabled:vt,objectsSnapModeEnabled:vn,gridSize:Lt?p.k:null,name:xn,width:window.innerWidth,height:window.innerHeight}),$.id=(0,fe.x0)(),$.library=new V.ZP((0,S.Z)($)),$.scene=new ye.Z,$.canvas=document.createElement("canvas"),$.rc=he.Z.canvas($.canvas),$.renderer=new ar($.scene),Be){var Dn={updateScene:$.updateScene,updateLibrary:$.library.updateLibrary,addFiles:$.addFiles,resetScene:$.resetScene,getSceneElementsIncludingDeleted:$.getSceneElementsIncludingDeleted,history:{clear:$.resetHistory},scrollToContent:$.scrollToContent,getSceneElements:$.getSceneElements,getAppState:function(){return $.state},getFiles:function(){return $.files},refresh:$.refresh,setToast:$.setToast,id:$.id,setActiveTool:$.setActiveTool,setCursor:$.setCursor,resetCursor:$.resetCursor,updateFrameRendering:$.updateFrameRendering,toggleSidebar:$.toggleSidebar,onChange:function(En){return $.onChangeEmitter.on(En)},onPointerDown:function(En){return $.onPointerDownEmitter.on(En)},onPointerUp:function(En){return $.onPointerUpEmitter.on(En)}};typeof Be=="function"?Be(Dn):console.error("excalidrawAPI should be a function!")}return $.excalidrawContainerValue={container:$.excalidrawContainerRef.current,id:$.id},$.fonts=new Tt({scene:$.scene,onSceneUpdated:$.onSceneUpdated}),$.history=new Ie,$.actionManager=new N($.syncActionResult,function(){return $.state},function(){return $.scene.getElementsIncludingDeleted()},(0,S.Z)($)),$.actionManager.registerAll(W.N),$.actionManager.registerAction((ne=$.history,{name:"undo",trackEvent:{category:"history"},perform:function(En,yn){return s(En,yn,function(){return ne.undoOnce()})},keyTest:function(En){return En[B.tW.CTRL_OR_CMD]&&En.key.toLowerCase()===B.tW.Z&&!En.shiftKey},PanelComponent:function(En){var yn=En.updateData,Un=En.data;return(0,r.jsx)(U.V,{type:"button",icon:q.UE,"aria-label":(0,R.t)("buttons.undo"),onClick:yn,size:Un?.size||"medium"})},commitToHistory:function(){return!1}})),$.actionManager.registerAction(function(En){return{name:"redo",trackEvent:{category:"history"},perform:function(yn,Un){return s(yn,Un,function(){return En.redoOnce()})},keyTest:function(yn){return yn[B.tW.CTRL_OR_CMD]&&yn.shiftKey&&yn.key.toLowerCase()===B.tW.Z||p.ED&&yn.ctrlKey&&!yn.shiftKey&&yn.key===B.tW.Y},PanelComponent:function(yn){var Un=yn.updateData,gr=yn.data;return(0,r.jsx)(U.V,{type:"button",icon:q.zG,"aria-label":(0,R.t)("buttons.redo"),onClick:Un,size:gr?.size||"medium"})},commitToHistory:function(){return!1}}}($.history)),$}return(0,T.Z)(we,[{key:"onWindowMessage",value:function(de){if(de.origin==="https://player.vimeo.com"||de.origin==="https://www.youtube.com"){var $=null;try{$=JSON.parse(de.data)}catch{}if($)switch(de.origin){case"https://player.vimeo.com":if($.method==="paused"){var ne,Pe=null,Be=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!Be)break;var Fe,it=Oi(Be);try{for(it.s();!(Fe=it.n()).done;){var st=Fe.value;st.contentWindow===de.source&&(Pe=st.contentWindow)}}catch(Lt){it.e(Lt)}finally{it.f()}(ne=Pe)===null||ne===void 0||ne.postMessage(JSON.stringify({method:$.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if($.event==="infoDelivery"&&$.info&&$.id&&typeof $.info.playerState=="number"){var vt=$.id,jt=$.info.playerState;Object.values(p.vf).includes(jt)&&Ha.set(vt,jt)}}}}},{key:"updateEmbeddableRef",value:function(de,$){$&&this.iFrameRefs.set(de,$)}},{key:"getHTMLIFrameElement",value:function(de){return this.iFrameRefs.get(de)}},{key:"handleEmbeddableCenterClick",value:function(de){var $,ne,Pe,Be,Fe=this;if((($=this.state.activeEmbeddable)===null||$===void 0?void 0:$.element)!==de||((ne=this.state.activeEmbeddable)===null||ne===void 0?void 0:ne.state)!=="active"){setTimeout(function(){Fe.setState({activeEmbeddable:{element:de,state:"active"},selectedElementIds:(0,F.Z)({},de.id,!0),draggingElement:null,selectionElement:null})},100);var it=this.getHTMLIFrameElement(de.id);if(it!=null&&it.contentWindow){if(it.src.includes("youtube")){var st=Ha.get(de.id);switch(st||(Ha.set(de.id,p.vf.UNSTARTED),it.contentWindow.postMessage(JSON.stringify({event:"listening",id:de.id}),"*")),st){case p.vf.PLAYING:case p.vf.BUFFERING:(Pe=it.contentWindow)===null||Pe===void 0||Pe.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:(Be=it.contentWindow)===null||Be===void 0||Be.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}it.src.includes("player.vimeo.com")&&it.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isEmbeddableCenter",value:function(de,$,ne,Pe){var Be,Fe;return de&&!$.altKey&&!$.shiftKey&&!$.metaKey&&!$.ctrlKey&&(((Be=this.state.activeEmbeddable)===null||Be===void 0?void 0:Be.element)!==de||((Fe=this.state.activeEmbeddable)===null||Fe===void 0?void 0:Fe.state)==="hover"||!this.state.activeEmbeddable)&&ne>=de.x+de.width/3&&ne<=de.x+2*de.width/3&&Pe>=de.y+de.height/3&&Pe<=de.y+2*de.height/3}},{key:"renderEmbeddables",value:function(){var de=this,$=this.state.zoom.value,ne=this.state.width,Pe=this.state.height,Be=this.scene.getNonDeletedElements().filter(function(Fe){return(0,Q.gs)(Fe)&&!!Fe.validated});return(0,r.jsx)(r.Fragment,{children:Be.map(function(Fe){var it,st,vt,jt,Lt,Qt,vn,$t,Ut,tn=(0,E._i)({sceneX:Fe.x,sceneY:Fe.y},de.state),xn=tn.x,Dn=tn.y,En=(0,f.LM)((0,Cn.ye)(Fe.link||"")),yn=(0,Re.PZ)(Fe,ne,Pe,de.state),Un=((it=de.state.activeEmbeddable)===null||it===void 0?void 0:it.element)===Fe&&((st=de.state.activeEmbeddable)===null||st===void 0?void 0:st.state)==="active",gr=((vt=de.state.activeEmbeddable)===null||vt===void 0?void 0:vt.element)===Fe&&((jt=de.state.activeEmbeddable)===null||jt===void 0?void 0:jt.state)==="hover";return(0,r.jsx)("div",{className:(0,ve.Z)("excalidraw__embeddable-container",{"is-hovered":gr}),style:(0,F.Z)({transform:yn?"translate(".concat(xn-de.state.offsetLeft,"px, ").concat(Dn-de.state.offsetTop,"px) scale(").concat($,")"):"none",display:yn?"block":"none",opacity:Fe.opacity/100},"--embeddable-radius","".concat((0,ke.yW)(Math.min(Fe.width,Fe.height),Fe),"px")),children:(0,r.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:yn?"".concat(Fe.width,"px"):0,height:yn?"".concat(Fe.height,"px"):0,transform:yn?"rotate(".concat(Fe.angle,"rad)"):"none",pointerEvents:Un?p.XI.enabled:p.XI.disabled},children:[gr&&(0,r.jsx)("div",{className:"excalidraw__embeddable-hint",children:(0,R.t)("buttons.embeddableInteractionButton")}),(0,r.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(Fe.strokeWidth,"px")},children:(Lt=(Qt=(vn=de.props).renderEmbeddable)===null||Qt===void 0?void 0:Qt.call(vn,Fe,de.state))!==null&&Lt!==void 0?Lt:(0,r.jsx)("iframe",{ref:function(_r){return de.updateEmbeddableRef(Fe.id,_r)},className:"excalidraw__embeddable",srcDoc:En?.type==="document"?En.srcdoc(de.state.theme):void 0,src:En?.type!=="document"?($t=En?.link)!==null&&$t!==void 0?$t:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"".concat(En!=null&&(Ut=En.sandbox)!==null&&Ut!==void 0&&Ut.allowSameOrigin?"allow-same-origin":""," allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads")})})]})},Fe.id)})})}},{key:"render",value:function(){var de,$,ne,Pe=this,Be=this.scene.getSelectedElements(this.state),Fe=this.props,it=Fe.renderTopRightUI,st=Fe.renderCustomStats,vt=this.scene.getVersionNonce(),jt=this.renderer.getRenderableElements({versionNonce:vt,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingElement:this.state.editingElement,pendingImageElementId:this.state.pendingImageElementId}),Lt=jt.canvasElements,Qt=jt.visibleElements,vn=!(this.state.editingElement&&(0,Q.bt)(this.state.editingElement))&&(this.state.selectionElement||this.state.draggingElement||this.state.resizingElement||this.state.activeTool.type==="laser"&&this.state.cursorButton==="down"||this.state.editingElement&&!(0,se.iB)(this.state.editingElement));return(0,r.jsx)("div",{className:(0,ve.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.editor.isMobile}),style:(0,F.Z)({},"--ui-pointerEvents",vn?p.XI.disabled:p.XI.enabled),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,r.jsx)(Sr.Provider,{value:this,children:(0,r.jsx)(el.Provider,{value:this.props,children:(0,r.jsx)(Pl.Provider,{value:this.excalidrawContainerValue,children:(0,r.jsx)(nl.Provider,{value:this.device,children:(0,r.jsx)(ps.Provider,{value:this.setAppState,children:(0,r.jsx)(fs.Provider,{value:this.state,children:(0,r.jsxs)(rl.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,r.jsxs)(Oa.Provider,{value:this.actionManager,children:[(0,r.jsxs)(ea,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:(0,R.G3)().code,renderTopRightUI:it,renderCustomStats:st,showExitZenModeBtn:((de=this.props)===null||de===void 0?void 0:de.zenModeEnabled)===void 0&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,children:[this.props.children,this.state.openDialog==="mermaid"&&(0,r.jsx)(po,{})]}),(0,r.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,r.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,r.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,r.jsx)(gi,{manager:this.laserPathManager}),Be.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,r.jsx)(en.nW,{element:Be[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast},Be[0].id),this.state.toast!==null&&(0,r.jsx)(Wi,{message:this.state.toast.message,onClose:function(){return Pe.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,r.jsx)(Qe,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function($t){Pe.setState({contextMenu:null},function(){Pe.focusContainer(),$t?.()})}}),(0,r.jsx)(or,{canvas:this.canvas,rc:this.rc,elements:Lt,visibleElements:Qt,versionNonce:vt,selectionNonce:($=this.state.selectionElement)===null||$===void 0?void 0:$.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!0}}),(0,r.jsx)(Tn,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elements:Lt,visibleElements:Qt,selectedElements:Be,versionNonce:vt,selectionNonce:(ne=this.state.selectionElement)===null||ne===void 0?void 0:ne.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"componentDidMount",value:(K=(0,d.Z)(h().mark(function de(){var $,ne=this;return h().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,p.Vi.TEST==="production"&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return ne.state}},setState:{configurable:!0,value:function(){return ne.setState.apply(ne,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),(0,E.h2)()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),Rs&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver(function(){ne.refreshEditorBreakpoints(),ne.updateDOMRect()}),($=this.resizeObserver)===null||$===void 0||$.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,p.jP)()&&!(0,Mt.eB)()&&this.setState({errorMessage:(0,r.jsx)(Pn,{})});case 11:case"end":return Pe.stop()}},de,this)})),function(){return K.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var de;this.renderer.destroy(),this.scene=new ye.Z,this.renderer=new ar(this.scene),this.files={},this.imageCache.clear(),(de=this.resizeObserver)===null||de===void 0||de.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),this.library.destroy(),this.laserPathManager.destroy(),this.onChangeEmitter.destroy(),Ri.R.destroy(),so.destroy(),clearTimeout(pa),xe.N.clearCache(),Ue.bO.clearCache(),pa=0}},{key:"removeEventListeners",value:function(){var de,$,ne,Pe;document.removeEventListener(p.Ks.POINTER_UP,this.removePointer),document.removeEventListener(p.Ks.COPY,this.onCopy),document.removeEventListener(p.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(p.Ks.CUT,this.onCut),(de=this.excalidrawContainerRef.current)===null||de===void 0||de.removeEventListener(p.Ks.WHEEL,this.onWheel),($=this.nearestScrollableContainer)===null||$===void 0||$.removeEventListener(p.Ks.SCROLL,this.onScroll),document.removeEventListener(p.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(p.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(p.Ks.KEYUP,this.onKeyUp),window.removeEventListener(p.Ks.RESIZE,this.onResize,!1),window.removeEventListener(p.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(p.Ks.BLUR,this.onBlur,!1),(ne=this.excalidrawContainerRef.current)===null||ne===void 0||ne.removeEventListener(p.Ks.DRAG_OVER,this.disableEvent,!1),(Pe=this.excalidrawContainerRef.current)===null||Pe===void 0||Pe.removeEventListener(p.Ks.DROP,this.disableEvent,!1),document.removeEventListener(p.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(p.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(p.Ks.GESTURE_END,this.onGestureEnd,!1),window.removeEventListener(p.Ks.MESSAGE,this.onWindowMessage,!1)}},{key:"addEventListeners",value:function(){var de,$,ne,Pe,Be,Fe=this;this.removeEventListeners(),window.addEventListener(p.Ks.MESSAGE,this.onWindowMessage,!1),document.addEventListener(p.Ks.POINTER_UP,this.removePointer),document.addEventListener(p.Ks.COPY,this.onCopy),(de=this.excalidrawContainerRef.current)===null||de===void 0||de.addEventListener(p.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(p.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(p.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(p.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),($=document.fonts)===null||$===void 0||(ne=$.addEventListener)===null||ne===void 0||ne.call($,"loadingdone",function(it){var st=it.fontfaces;Fe.fonts.onFontsLoaded(st)}),document.addEventListener(p.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(p.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(p.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(p.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(p.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,E.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(p.Ks.SCROLL,this.onScroll)),window.addEventListener(p.Ks.RESIZE,this.onResize,!1),window.addEventListener(p.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(p.Ks.BLUR,this.onBlur,!1),(Pe=this.excalidrawContainerRef.current)===null||Pe===void 0||Pe.addEventListener(p.Ks.DRAG_OVER,this.disableEvent,!1),(Be=this.excalidrawContainerRef.current)===null||Be===void 0||Be.addEventListener(p.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(de,$){var ne,Pe,Be,Fe,it=this;this.updateEmbeddables(),this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),de.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),($.scrollX!==this.state.scrollX||$.scrollY!==this.state.scrollY)&&((Be=this.props)===null||Be===void 0||(Fe=Be.onScrollChange)===null||Fe===void 0||Fe.call(Be,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,O.EN)(this.state)&&this.setState({activeTool:(0,E.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&$.theme!==this.state.theme&&(0,In.OF)(this.interactiveCanvas,this.state.theme),$.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),de.langCode!==this.props.langCode&&this.updateLanguage(),de.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),$.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),de.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),de.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),de.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?p.k:null}),this.props.name&&de.name!==this.props.name&&this.setState({name:this.props.name}),(ne=this.excalidrawContainerRef.current)===null||ne===void 0||ne.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){it.state.editingLinearElement&&it.actionManager.executeAction(X.pL)}),(Pe=this.state.editingElement)!==null&&Pe!==void 0&&Pe.isDeleted&&this.setState({editingElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var st,vt,jt=$.multiElement;$.activeTool!==this.state.activeTool&&jt!=null&&(0,I.N1)(this.state)&&(0,Q.Mn)(jt,!1)&&(0,I.R)(jt,this.state,this.scene,(0,E.AK)(ue._.getPointAtIndexGlobalCoordinates(jt,-1))),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||((st=(vt=this.props).onChange)===null||st===void 0||st.call(vt,this.scene.getElementsIncludingDeleted(),this.state,this.files),this.onChangeEmitter.trigger(this.scene.getElementsIncludingDeleted(),this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:(C=(0,d.Z)(h().mark(function de($,ne){var Pe,Be,Fe,it,st,vt,jt,Lt,Qt,vn,$t,Ut,tn,xn,Dn;return h().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(Pe=ne.isPlainPaste,Be=ne.sceneX,Fe=ne.sceneY,Pe||!$.some(function(yn){return yn.type==="imageUrl"})||!this.isToolSupported("image")){En.next=35;break}return it=$.filter(function(yn){return yn.type==="imageUrl"}).map(function(yn){return yn.value}),En.next=5,Promise.all(it.map(function(){var yn=(0,d.Z)(h().mark(function Un(gr){return h().wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:return _r.prev=0,_r.next=3,(0,hn._p)(gr);case 3:return _r.t0=_r.sent,_r.abrupt("return",{file:_r.t0});case 7:return _r.prev=7,_r.t1=_r.catch(0),_r.abrupt("return",{errorMessage:_r.t1.message});case 10:case"end":return _r.stop()}},Un,null,[[0,7]])}));return function(Un){return yn.apply(this,arguments)}}()));case 5:st=En.sent,vt=Fe,jt=!1,Lt={},Qt=Oi(st),En.prev=10,Qt.s();case 12:if((vn=Qt.n()).done){En.next=22;break}if(!($t=vn.value).file){En.next=20;break}return Ut=this.createImageElement({sceneX:Be,sceneY:vt}),En.next=18,this.insertImageElement(Ut,$t.file);case 18:(tn=En.sent)&&(jt||(jt=!0,vt-=tn.height/2),(0,M.DR)(tn,{y:vt},!1),vt=Ut.y+Ut.height+25,Lt[Ut.id]=!0);case 20:En.next=12;break;case 22:En.next=27;break;case 24:En.prev=24,En.t0=En.catch(10),Qt.e(En.t0);case 27:return En.prev=27,Qt.f(),En.finish(27);case 30:this.setState({selectedElementIds:(0,Jt.Oh)(Lt,this.state)}),xn=st.find(function(yn){return!!yn.errorMessage}),xn&&xn.errorMessage&&this.setState({errorMessage:xn.errorMessage}),En.next=37;break;case 35:(Dn=$.filter(function(yn){return yn.type==="text"})).length&&this.addTextFromPaste(Dn.map(function(yn){return yn.value}).join(`

`),Pe);case 37:case"end":return En.stop()}},de,this,[[10,24,27,30]])})),function(de,$){return C.apply(this,arguments)})},{key:"addTextFromPaste",value:function(de){var $=this,ne=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Pe=(0,E.dE)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),Be=Pe.x,Fe=Pe.y,it={x:Be,y:Fe,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:de,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:p.hs,locked:!1},st=10,vt=Fe,jt=ne?[de]:de.split(`
`),Lt=jt.reduce(function(vn,$t,Ut){var tn=$t.trim(),xn=(0,Mt.PT)(it.fontFamily);if(tn.length){var Dn=$.getTopLayerFrameAtSceneCoords({x:Be,y:vt}),En=(0,se.VL)(wr(wr({},it),{},{x:Be,y:vt,text:tn,lineHeight:xn,frameId:Dn?Dn.id:null}));vn.push(En),vt+=En.height+st}else{var yn;!((yn=jt[Ut-1])===null||yn===void 0)&&yn.trim()&&(vt+=(0,Mt.Rg)(it.fontSize,xn)+st)}return vn},[]);if(Lt.length!==0){var Qt=Lt[0].frameId;Qt?this.scene.insertElementsAtIndex(Lt,this.scene.getElementIndex(Qt)):this.scene.replaceAllElements([].concat((0,v.Z)(this.scene.getElementsIncludingDeleted()),(0,v.Z)(Lt))),this.setState({selectedElementIds:(0,Jt.Oh)(Object.fromEntries(Lt.map(function(vn){return[vn.id,!0]})),this.state)}),!ne&&Lt.length>1&&zs===!1&&!this.device.editor.isMobile&&(this.setToast({message:(0,R.t)("toast.pasteAsSingleElement",{shortcut:(0,E.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),zs=!0),this.history.resumeRecording()}}},{key:"handleTextWysiwyg",value:function(de,$){var ne=this,Pe=$.isExistingElement,Be=Pe!==void 0&&Pe,Fe=function(it,st,vt){ne.scene.replaceAllElements((0,v.Z)(ne.scene.getElementsIncludingDeleted().map(function(jt){return jt.id===de.id&&(0,se.iB)(jt)?(0,se.N_)(jt,{text:it,isDeleted:vt,originalText:st}):jt})))};(0,se.b_)({id:de.id,canvas:this.canvas,getViewportCoords:function(it,st){var vt=(0,E._i)({sceneX:it,sceneY:st},ne.state),jt=vt.x,Lt=vt.y;return[jt-ne.state.offsetLeft,Lt-ne.state.offsetTop]},onChange:(0,E.tH)(function(it){Fe(it,it,!1),(0,se.qP)(de)&&(0,I.Ww)(de)}),onSubmit:(0,E.tH)(function(it){var st=it.text,vt=it.viaKeyboard,jt=it.originalText,Lt=!st.trim();if(Fe(st,jt,Lt),!Lt&&vt){var Qt=de.containerId?de.containerId:de.id;ne.setState(function(vn){return{selectedElementIds:(0,Jt.Oh)(wr(wr({},vn.selectedElementIds),{},(0,F.Z)({},Qt,!0)),vn)}})}Lt&&(0,I.$q)(ne.scene.getNonDeletedElements(),[de]),Lt&&!Be||ne.history.resumeRecording(),ne.setState({draggingElement:null,editingElement:null}),ne.state.activeTool.locked&&(0,In.Uk)(ne.interactiveCanvas,ne.state),ne.focusContainer()}),element:de,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),Fe(de.text,de.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,Jt.Oh)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function(de,$){var ne=this.getElementAtPosition(de,$,{includeBoundTextElement:!0});return ne&&(0,se.iB)(ne)&&!ne.isDeleted?ne:null}},{key:"getElementAtPosition",value:function(de,$,ne){var Pe=this.getElementsAtPosition(de,$,ne?.includeBoundTextElement,ne?.includeLockedElements);if(Pe.length>1){if(ne!=null&&ne.preferSelected){for(var Be=Pe.length-1;Be>-1;Be--)if(this.state.selectedElementIds[Pe[Be].id])return Pe[Be]}var Fe=Pe[Pe.length-1];return(0,se.wB)(Fe,this.state,this.frameNameBoundsCache,de,$)?Pe[Pe.length-2]:Fe}return Pe.length===1?Pe[0]:null}},{key:"getElementsAtPosition",value:function(de,$){var ne=this,Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Be=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Fe=Pe&&Be?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(it){return(Be||!it.locked)&&(Pe||!((0,se.iB)(it)&&it.containerId))});return(0,xe.CJ)(Fe,function(it){return(0,se.wX)(it,ne.state,ne.frameNameBoundsCache,de,$)}).filter(function(it){var st=(0,mn.$Z)(it);return!(st&&ne.state.frameRendering.enabled&&ne.state.frameRendering.clip)||(0,mn.Dn)({x:de,y:$},st)})}},{key:"handleHoverSelectedLinearElement",value:function(de,$,ne){var Pe=ue._.getElement(de.elementId),Be=(0,Mt.WJ)(Pe);if(Pe)if(this.state.selectedLinearElement){var Fe=-1,it=null;(0,Pt.Qu)(Pe,this.state,this.frameNameBoundsCache,[$,ne])?(Fe=ue._.getPointIndexUnderCursor(Pe,this.state.zoom,$,ne),it=ue._.getSegmentMidpointHitCoords(de,{x:$,y:ne},this.state),Fe>=0||it?(0,In.KJ)(this.interactiveCanvas,p.oc.POINTER):(0,In.KJ)(this.interactiveCanvas,p.oc.MOVE)):((0,Wn.oY)([Pe],this.state)&&(0,se.wB)(Pe,this.state,this.frameNameBoundsCache,$,ne)||Be&&(0,se.wX)(Be,this.state,this.frameNameBoundsCache,$,ne))&&(0,In.KJ)(this.interactiveCanvas,p.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==Fe&&this.setState({selectedLinearElement:wr(wr({},this.state.selectedLinearElement),{},{hoverPointIndex:Fe})}),ue._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,it)||this.setState({selectedLinearElement:wr(wr({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:it})})}else(0,In.KJ)(this.interactiveCanvas,p.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(de){dl!==null&&dl(de)}},{key:"updateGestureOnPointerDown",value:function(de){Go.pointers.set(de.pointerId,{x:de.clientX,y:de.clientY}),Go.pointers.size===2&&(Go.lastCenter=ee(Go.pointers),Go.initialScale=this.state.zoom.value,Go.initialDistance=me(Array.from(Go.pointers.values())))}},{key:"initialPointerDownState",value:function(de){var $=(0,E.dE)(de,this.state),ne=this.scene.getSelectedElements(this.state),Pe=(0,se.KP)(ne),Be=(0,w.Z)(Pe,4),Fe=Be[0],it=Be[1],st=Be[2],vt=Be[3];return{origin:$,withCmdOrCtrl:de[B.tW.CTRL_OR_CMD],originInGrid:(0,E.AK)((0,ke.wC)($.x,$.y,de[B.tW.CTRL_OR_CMD]?null:this.state.gridSize)),scrollbars:(0,xe._4)(gs,de.clientX-this.state.offsetLeft,de.clientY-this.state.offsetTop),lastCoords:wr({},$),originalElements:this.scene.getNonDeletedElements().reduce(function(jt,Lt){return jt.set(Lt.id,(0,pe.OL)(Lt)),jt},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(st+Fe)/2,y:(vt+it)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements($,ne)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(de,$){var ne=this;if(!$.scrollbars.isOverEither||this.state.multiElement)return!1;Dl=!0,$.lastCoords.x=de.clientX,$.lastCoords.y=de.clientY;var Pe=(0,E.$9)(function(Fe){Fe.target instanceof HTMLElement&&ne.handlePointerMoveOverScrollbars(Fe,$)}),Be=(0,E.tH)(function(){Dl=!1,(0,In.Uk)(ne.interactiveCanvas,ne.state),dl=null,ne.setState({cursorButton:"up"}),ne.savePointer(de.clientX,de.clientY,"up"),window.removeEventListener(p.Ks.POINTER_MOVE,Pe),window.removeEventListener(p.Ks.POINTER_UP,Be),Pe.flush()});return dl=Be,window.addEventListener(p.Ks.POINTER_MOVE,Pe),window.addEventListener(p.Ks.POINTER_UP,Be),!0}},{key:"isASelectedElement",value:function(de){return de!=null&&this.state.selectedElementIds[de.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(de,$){if($.length<2)return!1;var ne=10/this.state.zoom.value,Pe=(0,se.KP)($),Be=(0,w.Z)(Pe,4),Fe=Be[0],it=Be[1],st=Be[2],vt=Be[3];return de.x>Fe-ne&&de.x<st+ne&&de.y>it-ne&&de.y<vt+ne}},{key:"getCurrentItemRoundness",value:function(de){return this.state.currentItemRoundness==="round"?{type:(0,Q.QI)(de)?p.a6.ADAPTIVE_RADIUS:p.a6.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function(de,$){var ne=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!fo({event:de,appState:this.state,selectedElements:$})||!ne&&so.getReferenceSnapPoints()||so.setReferenceSnapPoints(Me(this.scene.getNonDeletedElements(),$,this.state))}},{key:"maybeCacheVisibleGaps",value:function(de,$){var ne=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!fo({event:de,appState:this.state,selectedElements:$})||!ne&&so.getVisibleGaps()||so.setVisibleGaps(Ao(this.scene.getNonDeletedElements(),$,this.state))}},{key:"onKeyDownFromPointerDownHandler",value:function(de){var $=this;return(0,E.tH)(function(ne){$.maybeHandleResize(de,ne)||$.maybeDragNewGenericElement(de,ne)})}},{key:"onKeyUpFromPointerDownHandler",value:function(de){var $=this;return(0,E.tH)(function(ne){ne.key===B.tW.ALT&&ne.preventDefault(),$.maybeHandleResize(de,ne)||$.maybeDragNewGenericElement(de,ne)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(de){var $=this;return(0,E.$9)(function(ne){var Pe;if(de.drag.offset===null&&(de.drag.offset=(0,E.AK)((0,se.$V)($.scene.getSelectedElements($.state),de.origin.x,de.origin.y))),ne.target instanceof HTMLElement&&!$.handlePointerMoveOverScrollbars(ne,de)){var Be=(0,E.dE)(ne,$.state);if((0,O.EN)($.state))$.handleEraser(ne,de,Be);else{$.state.activeTool.type==="laser"&&$.laserPathManager.addPointToPath(Be.x,Be.y);var Fe=(0,ke.wC)(Be.x,Be.y,ne[B.tW.CTRL_OR_CMD]?null:$.state.gridSize),it=(0,w.Z)(Fe,2),st=it[0],vt=it[1];if(de.drag.hasOccurred||$.state.activeTool.type!=="arrow"&&$.state.activeTool.type!=="line"||!((0,ke.LW)(Be.x,Be.y,de.origin.x,de.origin.y)<p.f)){if(de.resize.isResizing&&(de.lastCoords.x=Be.x,de.lastCoords.y=Be.y,$.maybeHandleResize(de,ne)))return!0;if($.state.selectedLinearElement){var jt=$.state.editingLinearElement||$.state.selectedLinearElement;if(ue._.shouldAddMidpoint($.state.selectedLinearElement,Be,$.state)){var Lt=ue._.addMidpoint($.state.selectedLinearElement,Be,$.state,!ne[B.tW.CTRL_OR_CMD]);return Lt?void(0,le.flushSync)(function(){$.state.selectedLinearElement&&$.setState({selectedLinearElement:wr(wr({},$.state.selectedLinearElement),{},{pointerDownState:Lt.pointerDownState,selectedPointsIndices:Lt.selectedPointsIndices})}),$.state.editingLinearElement&&$.setState({editingLinearElement:wr(wr({},$.state.editingLinearElement),{},{pointerDownState:Lt.pointerDownState,selectedPointsIndices:Lt.selectedPointsIndices})})}):void 0}if(jt.pointerDownState.segmentMidpoint.value!==null&&!jt.pointerDownState.segmentMidpoint.added)return;var Qt=ue._.handlePointDragging(ne,$.state,Be.x,Be.y,function(No,wo){$.maybeSuggestBindingsForLinearElementAtCoords(No,wo)},jt);if(Qt)return de.lastCoords.x=Be.x,de.lastCoords.y=Be.y,de.drag.hasOccurred=!0,$.state.editingLinearElement&&!$.state.editingLinearElement.isDragging&&$.setState({editingLinearElement:wr(wr({},$.state.editingLinearElement),{},{isDragging:!0})}),void($.state.selectedLinearElement.isDragging||$.setState({selectedLinearElement:wr(wr({},$.state.selectedLinearElement),{},{isDragging:!0})}))}var vn=de.hit.allHitElements.some(function(No){return $.isASelectedElement(No)}),$t=$.state.editingLinearElement&&ne.shiftKey&&$.state.editingLinearElement.elementId===((Pe=de.hit.element)===null||Pe===void 0?void 0:Pe.id);if((vn||de.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!$t){var Ut,tn=$.scene.getSelectedElements($.state);if(tn.every(function(No){return No.locked}))return;var xn=tn.find(function(No){return(0,Q.He)(No)}),Dn=$.getTopLayerFrameAtSceneCoords(Be);if($.setState({frameToHighlight:Dn&&!xn?Dn:null}),de.drag.hasOccurred=!0,$.setState({selectedElementsAreBeingDragged:!0}),tn.length>0&&!de.withCmdOrCtrl&&!$.state.editingElement&&((Ut=$.state.activeEmbeddable)===null||Ut===void 0?void 0:Ut.state)!=="active"){var En={x:Be.x-de.origin.x,y:Be.y-de.origin.y},yn=(0,v.Z)(de.originalElements.values()),Un=ne.shiftKey;if(Un){var gr=Math.abs(En.x),_r=Math.abs(En.y),zr=Un&&gr>_r;Un&&gr<_r&&(En.x=0),zr&&(En.y=0)}$.maybeCacheVisibleGaps(ne,tn),$.maybeCacheReferenceSnapPoints(ne,tn);var Qr=function(No,wo,ci,Xi){var fl,Ll,rs,Hl;if(!fo({appState:ci,event:Xi,selectedElements:No})||No.length===0)return{snapOffset:{x:0,y:0},snapLines:[]};wo.x=Xe(wo.x),wo.y=Xe(wo.y);var al=[],ba=[],ll=ro(ci.zoom.value),Da={x:ll,y:ll},os=Mo(No,{dragOffset:wo});Ye(No,os,ci,Xi,al,ba,Da),at(No,wo,ci,Xi,al,ba,Da);var pl={x:(fl=(Ll=al[0])===null||Ll===void 0?void 0:Ll.offset)!==null&&fl!==void 0?fl:0,y:(rs=(Hl=ba[0])===null||Hl===void 0?void 0:Hl.offset)!==null&&rs!==void 0?rs:0};Da.x=0,Da.y=0,al.length=0,ba.length=0;var is={x:Xe(wo.x+pl.x),y:Xe(wo.y+pl.y)};Ye(No,Mo(No,{dragOffset:is}),ci,Xi,al,ba,Da),at(No,is,ci,Xi,al,ba,Da);var Bs=gt(al,ba),tc=Ct(No,is,[].concat(al,ba).filter(function(Bc){return Bc.type==="gap"}));return{snapOffset:pl,snapLines:[].concat(Bs,tc)}}((0,xe.eD)(yn,$.state),En,$.state,ne),ao=Qr.snapOffset,Rr=Qr.snapLines;if($.setState({snapLines:Rr}),!$.state.editingFrame&&(0,se.o8)(de,tn,En,$.state,$.scene,ao,ne[B.tW.CTRL_OR_CMD]?null:$.state.gridSize),$.maybeSuggestBindingForAll(tn),ne.altKey&&!de.hit.hasBeenDuplicated){de.hit.hasBeenDuplicated=!0;var Nr,Fr=[],Ur=[],ho=new Map,So=new Map,_o=de.hit.element,To=new Set($.scene.getSelectedElements({selectedElementIds:$.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map(function(No){return No.id})),vo=Oi($.scene.getElementsIncludingDeleted());try{for(vo.s();!(Nr=vo.n()).done;){var oo=Nr.value;if(To.has(oo.id)||oo.id===_o?.id&&de.hit.wasAddedToSelection){var Lo=(0,se.Sy)($.state.editingGroupId,ho,oo),Ko=de.originalElements.get(oo.id);(0,M.DR)(Lo,{x:Ko.x,y:Ko.y}),de.originalElements.set(Lo.id,Lo),Fr.push(Lo),Ur.push(oo),So.set(oo.id,Lo.id)}else Fr.push(oo)}}catch(No){vo.e(No)}finally{vo.f()}var Xo=[].concat(Fr,Ur);(0,Mt.P7)(Fr,Ur,So),(0,I.ek)(Xo,Ur,So,"duplicatesServeAsOld"),(0,mn.xr)(Xo,Ur,So),$.scene.replaceAllElements(Xo),$.maybeCacheVisibleGaps(ne,tn,!0),$.maybeCacheReferenceSnapPoints(ne,tn,!0)}return}}var zo=$.state.draggingElement;if(zo){if(zo.type==="freedraw"){var to=zo.points,qo=Be.x-zo.x,Po=Be.y-zo.y,$o=to.length>0&&to[to.length-1];if(!($o&&$o[0]===qo&&$o[1]===Po)){var qi=zo.simulatePressure?zo.pressures:[].concat((0,v.Z)(zo.pressures),[ne.pressure]);(0,M.DR)(zo,{points:[].concat((0,v.Z)(to),[[qo,Po]]),pressures:qi})}}else if((0,Q.bt)(zo)){de.drag.hasOccurred=!0,$.setState({selectedElementsAreBeingDragged:!0});var mo=zo.points,eo=st-zo.x,ko=vt-zo.y;if((0,B.Ge)(ne)&&mo.length===2){var ti=(0,se.o4)(zo.x,zo.y,Be.x,Be.y);eo=ti.width,ko=ti.height}mo.length===1?(0,M.DR)(zo,{points:[].concat((0,v.Z)(mo),[[eo,ko]])}):mo.length===2&&(0,M.DR)(zo,{points:[].concat((0,v.Z)(mo.slice(0,-1)),[[eo,ko]])}),(0,Q.Mn)(zo,!1)&&$.maybeSuggestBindingsForLinearElementAtCoords(zo,[Be],$.state.startBoundElement)}else de.lastCoords.x=Be.x,de.lastCoords.y=Be.y,$.maybeDragNewGenericElement(de,ne);if($.state.activeTool.type==="selection"){de.boxSelection.hasOccurred=!0;var ai=$.scene.getNonDeletedElements();if($.state.editingLinearElement)ue._.handleBoxSelection(ne,$.state,$.setState.bind($));else{var fi=!0;!ne.shiftKey&&(0,xe.N)(ai,$.state)&&(de.withCmdOrCtrl&&de.hit.element?$.setState(function(No){return(0,Ue.bO)(wr(wr({},No),{},{selectedElementIds:(0,F.Z)({},de.hit.element.id,!0)}),$.scene.getNonDeletedElements(),No,$)}):fi=!1);var Ei=(0,xe.Yp)(ai,zo);$.setState(function(No){var wo=wr(wr({},fi&&No.selectedElementIds),Ei.reduce(function(ci,Xi){return ci[Xi.id]=!0,ci},{}));return de.hit.element&&(Ei.length?delete wo[de.hit.element.id]:wo[de.hit.element.id]=!0),No=fi?No:wr(wr({},No),{},{selectedGroupIds:{},editingGroupId:null}),wr(wr({},(0,Ue.bO)({editingGroupId:No.editingGroupId,selectedElementIds:wo},$.scene.getNonDeletedElements(),No,$)),{},{selectedLinearElement:Ei.length===1&&(0,Q.bt)(Ei[0])?new ue._(Ei[0],$.scene):null,showHyperlinkPopup:!(Ei.length!==1||!Ei[0].link&&!(0,Q.gs)(Ei[0]))&&"info"})})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(de,$){if($.scrollbars.isOverHorizontal){var ne=de.clientX,Pe=ne-$.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-Pe/this.state.zoom.value}),$.lastCoords.x=ne,!0}if($.scrollbars.isOverVertical){var Be=de.clientY,Fe=Be-$.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-Fe/this.state.zoom.value}),$.lastCoords.y=Be,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(de){var $=this;return(0,E.tH)(function(ne){var Pe;de.eventListeners.onMove&&de.eventListeners.onMove.flush();var Be,Fe,it=$.state,st=it.draggingElement,vt=it.resizingElement,jt=it.multiElement,Lt=it.activeTool,Qt=it.isResizing,vn=it.isRotating;if($.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",editingElement:jt||(0,se.iB)($.state.editingElement)?$.state.editingElement:null,snapLines:[],originSnapOffset:null}),so.setReferenceSnapPoints(null),so.setVisibleGaps(null),$.savePointer(ne.clientX,ne.clientY,"up"),$.setState({selectedElementsAreBeingDragged:!1}),$.state.editingLinearElement)if(de.boxSelection.hasOccurred||((Be=de.hit)===null||Be===void 0||(Fe=Be.element)===null||Fe===void 0?void 0:Fe.id)===$.state.editingLinearElement.elementId){var $t=ue._.handlePointerUp(ne,$.state.editingLinearElement,$.state);$t!==$.state.editingLinearElement&&$.setState({editingLinearElement:$t,suggestedBindings:[]})}else $.actionManager.executeAction(X.pL);else if($.state.selectedLinearElement){var Ut,tn;if(((Ut=de.hit)===null||Ut===void 0||(tn=Ut.element)===null||tn===void 0?void 0:tn.id)!==$.state.selectedLinearElement.elementId)$.scene.getSelectedElements($.state).length>1&&$.setState({selectedLinearElement:null});else{var xn=ue._.handlePointerUp(ne,$.state.selectedLinearElement,$.state),Dn=xn.startBindingElement,En=xn.endBindingElement,yn=$.scene.getElement(xn.elementId);(0,Q.Mn)(yn)&&(0,I.HG)(yn,Dn,En),xn!==$.state.selectedLinearElement&&$.setState({selectedLinearElement:wr(wr({},xn),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(dl=null,window.removeEventListener(p.Ks.POINTER_MOVE,de.eventListeners.onMove),window.removeEventListener(p.Ks.POINTER_UP,de.eventListeners.onUp),window.removeEventListener(p.Ks.KEYDOWN,de.eventListeners.onKeyDown),window.removeEventListener(p.Ks.KEYUP,de.eventListeners.onKeyUp),$.state.pendingImageElementId&&$.setState({pendingImageElementId:null}),$.onPointerUpEmitter.trigger($.state.activeTool,de,ne),st?.type==="freedraw"){var Un=(0,E.dE)(ne,$.state),gr=st.points,_r=Un.x-st.x,zr=Un.y-st.y;_r===gr[0][0]&&zr===gr[0][1]&&(zr+=1e-4,_r+=1e-4);var Qr=st.simulatePressure?[]:[].concat((0,v.Z)(st.pressures),[ne.pressure]);return(0,M.DR)(st,{points:[].concat((0,v.Z)(gr),[[_r,zr]]),pressures:Qr,lastCommittedPoint:[_r,zr]}),void $.actionManager.executeAction(X.pL)}if((0,Q.pC)(st)){var ao=st;try{$.initializeImageDimensions(ao),$.setState({selectedElementIds:(0,Jt.Oh)((0,F.Z)({},ao.id,!0),$.state)},function(){$.actionManager.executeAction(X.pL)})}catch(mo){console.error(mo),$.scene.replaceAllElements($.scene.getElementsIncludingDeleted().filter(function(eo){return eo.id!==ao.id})),$.actionManager.executeAction(X.pL)}}else if((0,Q.bt)(st)){st.points.length>1&&$.history.resumeRecording();var Rr=(0,E.dE)(ne,$.state);de.drag.hasOccurred||!st||jt?de.drag.hasOccurred&&!jt&&((0,I.N1)($.state)&&(0,Q.Mn)(st,!1)&&(0,I.R)(st,$.state,$.scene,Rr),$.setState({suggestedBindings:[],startBoundElement:null}),Lt.locked?$.setState(function(mo){return{draggingElement:null}}):((0,In.z8)($.interactiveCanvas),$.setState(function(mo){return{draggingElement:null,activeTool:(0,E.Om)($.state,{type:"selection"}),selectedElementIds:(0,Jt.Oh)(wr(wr({},mo.selectedElementIds),{},(0,F.Z)({},st.id,!0)),mo),selectedLinearElement:new ue._(st,$.scene)}}))):((0,M.DR)(st,{points:[].concat((0,v.Z)(st.points),[[Rr.x-st.x,Rr.y-st.y]])}),$.setState({multiElement:st,editingElement:$.state.draggingElement}))}else{if(Lt.type!=="selection"&&st&&(0,se.QD)(st))return $.scene.replaceAllElements($.scene.getElementsIncludingDeleted().filter(function(mo){return mo.id!==st.id})),void $.setState({draggingElement:null});if(st){if(de.drag.hasOccurred){var Nr=(0,E.dE)(ne,$.state);if($.state.selectedLinearElement&&$.state.selectedLinearElement.isDragging){var Fr=$.scene.getElement($.state.selectedLinearElement.elementId);if(Fr!=null&&Fr.frameId){var Ur=(0,mn.$Z)(Fr);Ur&&Fr&&((0,mn.cO)(Fr,Ur)||((0,M.DR)(Fr,{groupIds:[]}),$.scene.replaceAllElements((0,mn.lz)($.scene.getElementsIncludingDeleted(),[Fr],$.state))))}}else{var ho=$.getTopLayerFrameAtSceneCoords(Nr),So=$.scene.getSelectedElements($.state),_o=$.scene.getElementsIncludingDeleted(),To=function(mo){if(mo.length>0){var eo,ko=Oi(mo);try{for(ko.s();!(eo=ko.n()).done;){var ti=eo.value,ai=ti.groupIds.indexOf($.state.editingGroupId);(0,M.DR)(ti,{groupIds:ti.groupIds.slice(0,ai)},!1)}}catch(fi){ko.e(fi)}finally{ko.f()}_o.forEach(function(fi){fi.groupIds.length&&(0,Ue.Fb)(_o,fi.groupIds[fi.groupIds.length-1]).length<2&&(0,M.DR)(fi,{groupIds:[]},!1)}),$.setState({editingGroupId:null})}};if(ho&&!$.state.selectedElementIds[ho.id]){var vo=So.filter(function(mo){return mo.frameId!==ho.id&&(0,mn.Qs)(mo,_o,$.state)});$.state.editingGroupId&&To(vo),_o=(0,mn.A_)(_o,vo,ho)}else if(!ho&&$.state.editingGroupId){var oo=So.filter(function(mo){return mo.frameId&&!(0,mn.Qs)(mo,_o,$.state)});To(oo)}_o=(0,mn.Tq)(_o,$.state,$),$.scene.replaceAllElements(_o)}}if(st.type==="frame"){var Lo=(0,mn.fj)($.scene.getElementsIncludingDeleted(),st);$.scene.replaceAllElements((0,mn.A_)($.scene.getElementsIncludingDeleted(),Lo,st))}(0,M.DR)(st,(0,se.Qp)(st))}if(vt&&$.history.resumeRecording(),vt&&(0,se.QD)(vt)&&$.scene.replaceAllElements($.scene.getElementsIncludingDeleted().filter(function(mo){return mo.id!==vt.id})),de.resize.isResizing){var Ko,Xo=(0,mn.Tq)($.scene.getElementsIncludingDeleted(),$.state,$),zo=$.scene.getSelectedElements($.state).filter(function(mo){return mo.type==="frame"}),to=Oi(zo);try{for(to.s();!(Ko=to.n()).done;){var qo=Ko.value;Xo=(0,mn.pr)(Xo,(0,mn.ni)($.scene.getElementsIncludingDeleted(),qo,$.state),qo,$.state)}}catch(mo){to.e(mo)}finally{to.f()}$.scene.replaceAllElements(Xo)}var Po=de.hit.element;if(((Pe=$.state.selectedLinearElement)===null||Pe===void 0?void 0:Pe.elementId)!==Po?.id&&(0,Q.bt)(Po)&&$.scene.getSelectedElements($.state).length===1&&$.setState({selectedLinearElement:new ue._(Po,$.scene)}),(0,O.EN)($.state)){if((0,ke.LW)($.lastPointerDownEvent.clientX,$.lastPointerDownEvent.clientY,$.lastPointerUpEvent.clientX,$.lastPointerUpEvent.clientY)===0){var $o=(0,E.dE)({clientX:$.lastPointerUpEvent.clientX,clientY:$.lastPointerUpEvent.clientY},$.state);$.getElementsAtPosition($o.x,$o.y).forEach(function(mo){return de.elementIdsToErase[mo.id]={erase:!0,opacity:mo.opacity}})}$.eraseElements(de)}else{var qi;Object.keys(de.elementIdsToErase).length&&$.restoreReadyToEraseElements(de),Po&&!de.drag.hasOccurred&&!de.hit.wasAddedToSelection&&(!$.state.editingLinearElement||!de.boxSelection.hasOccurred)&&(ne.shiftKey&&!$.state.editingLinearElement?$.state.selectedElementIds[Po.id]?(0,Ue.zq)($.state,Po)?$.setState(function(mo){var eo,ko=wr({},mo.selectedElementIds),ti=Oi(Po.groupIds.flatMap(function(ai){return(0,Ue.Fb)($.scene.getNonDeletedElements(),ai)}));try{for(ti.s();!(eo=ti.n()).done;)delete ko[eo.value.id]}catch(ai){ti.e(ai)}finally{ti.f()}return{selectedGroupIds:wr(wr({},mo.selectedElementIds),Po.groupIds.map(function(ai){return(0,F.Z)({},ai,!1)}).reduce(function(ai,fi){return wr(wr({},ai),fi)},{})),selectedElementIds:(0,Jt.Oh)(ko,mo)}}):(qi=$.state.selectedLinearElement)!==null&&qi!==void 0&&qi.isDragging||$.setState(function(mo){var eo=wr({},mo.selectedElementIds);delete eo[Po.id];var ko=(0,xe.eD)($.scene.getNonDeletedElements(),{selectedElementIds:eo});return wr(wr({},(0,Ue.bO)({editingGroupId:mo.editingGroupId,selectedElementIds:eo},$.scene.getNonDeletedElements(),mo,$)),{},{selectedLinearElement:ko.length===1&&(0,Q.bt)(ko[0])?new ue._(ko[0],$.scene):mo.selectedLinearElement})}):Po.frameId&&$.state.selectedElementIds[Po.frameId]?$.setState(function(mo){var eo,ko,ti=wr(wr({},mo.selectedElementIds),{},(0,F.Z)({},Po.id,!0));return delete ti[Po.frameId],((eo=(ko=$.scene.getElement(Po.frameId))===null||ko===void 0?void 0:ko.groupIds)!==null&&eo!==void 0?eo:[]).flatMap(function(ai){return(0,Ue.Fb)($.scene.getNonDeletedElements(),ai)}).forEach(function(ai){delete ti[ai.id]}),wr(wr({},(0,Ue.bO)({editingGroupId:mo.editingGroupId,selectedElementIds:ti},$.scene.getNonDeletedElements(),mo,$)),{},{showHyperlinkPopup:!(!Po.link&&!(0,Q.gs)(Po))&&"info"})}):$.setState(function(mo){return{selectedElementIds:(0,Jt.Oh)(wr(wr({},mo.selectedElementIds),{},(0,F.Z)({},Po.id,!0)),mo)}}):$.setState(function(mo){var eo;return wr(wr({},(0,Ue.bO)({editingGroupId:mo.editingGroupId,selectedElementIds:(0,F.Z)({},Po.id,!0)},$.scene.getNonDeletedElements(),mo,$)),{},{selectedLinearElement:(0,Q.bt)(Po)&&((eo=mo.selectedLinearElement)===null||eo===void 0?void 0:eo.elementId)!==Po.id?new ue._(Po,$.scene):mo.selectedLinearElement})})),de.drag.hasOccurred||$.state.isResizing||!(Po&&(0,se.wB)(Po,$.state,$.frameNameBoundsCache,de.origin.x,de.origin.y)||!Po&&de.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Lt.locked&&Lt.type!=="freedraw"&&st&&st.type!=="selection"&&$.setState(function(mo){return{selectedElementIds:(0,Jt.Oh)(wr(wr({},mo.selectedElementIds),{},(0,F.Z)({},st.id,!0)),mo),showHyperlinkPopup:(0,Q.gs)(st)&&!st.link?"editor":mo.showHyperlinkPopup}}),(Lt.type!=="selection"||(0,xe.N)($.scene.getNonDeletedElements(),$.state))&&$.history.resumeRecording(),(de.drag.hasOccurred||Qt||vn)&&((0,I.N1)($.state)?I.el:I.H)($.scene.getSelectedElements($.state)),Lt.type!=="laser"?(Lt.locked||Lt.type==="freedraw"?$.setState({draggingElement:null,suggestedBindings:[]}):((0,In.z8)($.interactiveCanvas),$.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,E.Om)($.state,{type:"selection"})})),Po&&$.lastPointerUpEvent&&$.lastPointerDownEvent&&$.lastPointerUpEvent.timeStamp-$.lastPointerDownEvent.timeStamp<300&&Go.pointers.size<=1&&(0,Q.gs)(Po)&&$.isEmbeddableCenter(Po,$.lastPointerUpEvent,de.origin.x,de.origin.y)&&$.handleEmbeddableCenterClick(Po)):$.laserPathManager.endPath()):$.state.editingLinearElement?$.setState({editingLinearElement:null}):$.setState({selectedElementIds:(0,Jt.Oh)({},$.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(de){if(!(de.length>50)){var $=(0,I.ZB)(de);this.setState({suggestedBindings:$})}}},{key:"clearSelection",value:function(de){this.setState(function($){return{selectedElementIds:(0,Jt.Oh)({},$),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:$.editingGroupId&&de!=null&&(0,Ue.Nd)(de,$.editingGroupId)?$.editingGroupId:null}}),this.setState({selectedElementIds:(0,Jt.Oh)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(de,$,ne,Pe){if(Pe){var Be=Pe.x+Pe.width/2,Fe=Pe.y+Pe.height/2,it=(0,Mt.TP)(Pe,ne);if(it&&(Be=it.x,Fe=it.y),Math.hypot(de-Be,$-Fe)<p.wZ){var st=(0,E._i)({sceneX:Be,sceneY:Fe},ne);return{viewportX:st.x,viewportY:st.y,elementCenterX:Be,elementCenterY:Fe}}}}},{key:"getCanvasOffsets",value:function(){var de;if((de=this.excalidrawContainerRef)!==null&&de!==void 0&&de.current){var $=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:$.left,offsetTop:$.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(i=(0,d.Z)(h().mark(function de(){var $,ne=this;return h().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return $=R.Mj.find(function(Be){return Be.code===ne.props.langCode})||R.Fp,Pe.next=3,(0,R.m0)($);case 3:this.setAppState({});case 4:case"end":return Pe.stop()}},de,this)})),function(){return i.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Il=!1}}]),we}(G().Component);Qo.defaultProps={UIOptions:p.cW};var Ns=function(){var z=this;this.interactiveCanvas=null,this.unmounted=!1,this.device=tl,this.excalidrawContainerRef=G().createRef(),this.files={},this.imageCache=new Map,this.iFrameRefs=new Map,this.lastPointerDownEvent=null,this.lastPointerUpEvent=null,this.lastViewportPosition={x:0,y:0},this.laserPathManager=new la(this),this.onChangeEmitter=new Fi,this.onPointerDownEmitter=new Fi,this.onPointerUpEmitter=new Fi,this.updateEmbeddables=function(){var i=new Map,C=!1;z.scene.getNonDeletedElements().filter(function(K){if((0,Q.gs)(K)&&(i.set(K.id,!0),K.validated==null)){C=!0;var oe=(0,f.xm)(K.link,z.props.validateEmbeddable);(0,M.DR)(K,{validated:oe},!1),Ri.R.delete(K)}return!1}),C&&z.scene.informMutation(),z.iFrameRefs.forEach(function(K,oe){i.has(oe)||z.iFrameRefs.delete(oe)})},this.getFrameNameDOMId=function(i){return"".concat(z.id,"-frame-name-").concat(i.id)},this.frameNameBoundsCache={get:function(i){var C=z.frameNameBoundsCache._cache.get(i.id);if(!C||C.zoom!==z.state.zoom.value||C.versionNonce!==i.versionNonce){var K=document.getElementById(z.getFrameNameDOMId(i));if(K){var oe=K.getBoundingClientRect(),we=(0,E.dE)({clientX:oe.x,clientY:oe.y},z.state),de=(0,E.dE)({clientX:oe.right,clientY:oe.bottom},z.state);return C={x:we.x,y:we.y,width:de.x-we.x,height:de.y-we.y,angle:0,zoom:z.state.zoom.value,versionNonce:i.versionNonce},z.frameNameBoundsCache._cache.set(i.id,C),C}return null}return C},_cache:new Map},this.renderFrameNames=function(){if(!z.state.frameRendering.enabled||!z.state.frameRendering.name)return null;var i=z.state.theme==="dark";return z.scene.getNonDeletedFrames().map(function(C,K){if(!(0,Re.PZ)(C,z.canvas.width/window.devicePixelRatio,z.canvas.height/window.devicePixelRatio,{offsetLeft:z.state.offsetLeft,offsetTop:z.state.offsetTop,scrollX:z.state.scrollX,scrollY:z.state.scrollY,zoom:z.state.zoom}))return null;var oe,we=(0,E._i)({sceneX:C.x,sceneY:C.y},z.state),de=we.x,$=we.y,ne=function(){var Be;((Be=C.name)===null||Be===void 0?void 0:Be.trim())===""&&(0,M.DR)(C,{name:null}),z.setState({editingFrame:null})};if(C.id===z.state.editingFrame){var Pe=C.name==null?"Frame ".concat(K+1):C.name;oe=(0,r.jsx)("input",{autoFocus:!0,value:Pe,onChange:function(Be){(0,M.DR)(C,{name:Be.target.value})},onBlur:function(){return ne()},onKeyDown:function(Be){Be.key!==B.tW.ESCAPE&&Be.key!==B.tW.ENTER||ne()},style:{background:z.state.viewBackgroundColor,filter:i?p.ZF:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:"translate(-".concat(6,"px, ").concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(document.body.clientWidth-de-6,"px")},size:Pe.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else oe=C.name==null||C.name.trim()===""?"Frame ".concat(K+1):C.name.trim();return(0,r.jsx)("div",{id:z.getFrameNameDOMId(C),style:{position:"absolute",bottom:"".concat(z.state.height+p.iG.nameOffsetY-$+z.state.offsetTop,"px"),left:"".concat(de-z.state.offsetLeft,"px"),zIndex:2,fontSize:p.iG.nameFontSize,color:i?p.iG.nameColorDarkTheme:p.iG.nameColorLightTheme,lineHeight:p.iG.nameLineHeight,width:"max-content",maxWidth:"".concat(C.width,"px"),overflow:C.id===z.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:p.oc.MOVE,pointerEvents:z.state.viewModeEnabled?p.XI.disabled:p.XI.enabled},onPointerDown:function(Be){return z.handleCanvasPointerDown(Be)},onWheel:function(Be){return z.handleWheel(Be)},onContextMenu:z.handleCanvasContextMenu,onDoubleClick:function(){z.setState({editingFrame:C.id})},children:oe},C.id)})},this.focusContainer=function(){var i;(i=z.excalidrawContainerRef.current)===null||i===void 0||i.focus()},this.getSceneElementsIncludingDeleted=function(){return z.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return z.scene.getNonDeletedElements()},this.onInsertElements=function(i){z.addElementsFromPasteOrLibrary({elements:i,position:"center",files:null})},this.onExportImage=function(){var i=(0,d.Z)(h().mark(function C(K,oe,we){var de;return h().wrap(function($){for(;;)switch($.prev=$.next){case 0:return(0,u.L)("export",K,"ui"),$.next=3,(0,L.p1)(K,oe,z.state,z.files,{exportBackground:z.state.exportBackground,name:z.state.name,viewBackgroundColor:z.state.viewBackgroundColor,exportingFrame:we.exportingFrame}).catch(E.FG).catch(function(ne){console.error(ne),z.setState({errorMessage:ne.message})});case 3:de=$.sent,z.state.exportEmbedScene&&de&&(0,hn.g8)(de)&&z.setState({fileHandle:de});case 5:case"end":return $.stop()}},C)}));return function(C,K,oe){return i.apply(this,arguments)}}(),this.openEyeDropper=function(i){var C=i.type;zi.e_.set(Pa.$,{swapPreviewOnAlt:!0,colorPickerType:C==="stroke"?"elementStroke":"elementBackground",onSelect:function(K,oe){var we=C==="background"&&oe.altKey||C==="stroke"&&!oe.altKey;z.scene.getSelectedElements(z.state).length&&z.state.activeTool.type==="selection"?z.updateScene({elements:z.scene.getElementsIncludingDeleted().map(function(de){return z.state.selectedElementIds[de.id]?(0,M.BE)(de,(0,F.Z)({},we?"strokeColor":"backgroundColor",K)):de})}):we?z.syncActionResult({appState:wr(wr({},z.state),{},{currentItemStrokeColor:K}),commitToHistory:!0}):z.syncActionResult({appState:wr(wr({},z.state),{},{currentItemBackgroundColor:K}),commitToHistory:!0})},keepOpenOnAlt:!1})},this.syncActionResult=(0,E.tH)(function(i){if(!z.unmounted&&i!==!1){var C=null;if(i.elements&&(i.elements.forEach(function($t){var Ut;((Ut=z.state.editingElement)===null||Ut===void 0?void 0:Ut.id)===$t.id&&z.state.editingElement!==$t&&(0,se.qP)($t)&&(C=$t)}),z.scene.replaceAllElements(i.elements),i.commitToHistory&&z.history.resumeRecording()),i.files&&(z.files=i.replaceFiles?i.files:wr(wr({},z.files),i.files),z.addNewImagesToImageCache()),i.appState||C||z.state.contextMenu){var K,oe,we,de,$,ne,Pe,Be,Fe,it;i.commitToHistory&&z.history.resumeRecording();var st=(i==null||(K=i.appState)===null||K===void 0?void 0:K.viewModeEnabled)||!1,vt=(i==null||(oe=i.appState)===null||oe===void 0?void 0:oe.zenModeEnabled)||!1,jt=(i==null||(we=i.appState)===null||we===void 0?void 0:we.gridSize)||null,Lt=(i==null||(de=i.appState)===null||de===void 0?void 0:de.theme)||z.props.theme||p.C6.LIGHT,Qt=($=i==null||(ne=i.appState)===null||ne===void 0?void 0:ne.name)!==null&&$!==void 0?$:z.state.name,vn=(Pe=i==null||(Be=i.appState)===null||Be===void 0?void 0:Be.errorMessage)!==null&&Pe!==void 0?Pe:z.state.errorMessage;z.props.viewModeEnabled!==void 0&&(st=z.props.viewModeEnabled),z.props.zenModeEnabled!==void 0&&(vt=z.props.zenModeEnabled),z.props.gridModeEnabled!==void 0&&(jt=z.props.gridModeEnabled?p.k:null),z.props.name!==void 0&&(Qt=z.props.name),(it=C=C||((Fe=i.appState)===null||Fe===void 0?void 0:Fe.editingElement)||null)!==null&&it!==void 0&&it.isDeleted&&(C=null),z.setState(function($t){return Object.assign(i.appState||{},{contextMenu:null,editingElement:C,viewModeEnabled:st,zenModeEnabled:vt,gridSize:jt,theme:Lt,name:Qt,errorMessage:vn})},function(){i.syncHistory&&z.history.setCurrentState(z.state,z.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,E.tH)(function(){$a=!1,z.setState({isBindingEnabled:!0})}),this.onUnload=function(){z.onBlur()},this.disableEvent=function(i){i.preventDefault()},this.resetHistory=function(){z.history.clear()},this.resetScene=(0,E.tH)(function(i){z.scene.replaceAllElements([]),z.setState(function(C){return wr(wr({},(0,O.im)()),{},{isLoading:(i==null||!i.resetLoadingState)&&C.isLoading,theme:z.state.theme})}),z.resetHistory()}),this.initializeScene=(0,d.Z)(h().mark(function i(){var C,K,oe,we,de;return h().wrap(function($){for(;;)switch($.prev=$.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var ne=(0,d.Z)(h().mark(function Pe(Be){var Fe,it;return h().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(Be.files.length){st.next=2;break}return st.abrupt("return");case 2:return Fe=Be.files[0],st.next=5,Fe.getFile();case 5:it=st.sent,z.loadFileToCanvas(new File([it],it.name||"",{type:it.type}),Fe);case 7:case"end":return st.stop()}},Pe)}));return function(Pe){return ne.apply(this,arguments)}}()),z.props.theme&&z.setState({theme:z.props.theme}),z.state.isLoading||z.setState({isLoading:!0}),oe=null,$.prev=4,$.next=7,z.props.initialData;case 7:if($.t0=$.sent,$.t0){$.next=10;break}$.t0=null;case 10:oe=$.t0,(we=oe)!==null&&we!==void 0&&we.libraryItems&&z.library.updateLibrary({libraryItems:oe.libraryItems,merge:!0}).catch(function(ne){console.error(ne)}),$.next=18;break;case 14:$.prev=14,$.t1=$.catch(4),console.error($.t1),oe={appState:{errorMessage:$.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(de=(0,ie.nu)(oe,null,null,{repairBindings:!0})).appState=wr(wr({},de.appState),{},{theme:z.props.theme||de.appState.theme,openSidebar:((C=de.appState)===null||C===void 0?void 0:C.openSidebar)||z.state.openSidebar,activeTool:de.appState.activeTool.type==="image"?wr(wr({},de.appState.activeTool),{},{type:"selection"}):de.appState.activeTool,isLoading:!1,toast:z.state.toast}),(K=oe)!==null&&K!==void 0&&K.scrollToContent&&(de.appState=wr(wr({},de.appState),(0,xe.W)(de.elements,wr(wr({},de.appState),{},{width:z.state.width,height:z.state.height,offsetTop:z.state.offsetTop,offsetLeft:z.state.offsetLeft})))),z.fonts.loadFontsForElements(de.elements),z.resetHistory(),z.syncActionResult(wr(wr({},de),{},{commitToHistory:!0}));case 24:case"end":return $.stop()}},i,null,[[4,14]])})),this.isMobileBreakpoint=function(i,C){return i<p.kV||C<p.Yx&&i<p.sS},this.refreshViewportBreakpoints=function(){if(z.excalidrawContainerRef.current){var i=document.body,C=i.clientWidth,K=i.clientHeight,oe=z.device.viewport,we=(0,E.v4)(oe,{isLandscape:C>K,isMobile:z.isMobileBreakpoint(C,K)});return oe!==we&&(z.device=wr(wr({},z.device),{},{viewport:we}),!0)}},this.refreshEditorBreakpoints=function(){var i=z.excalidrawContainerRef.current;if(i){var C=i.getBoundingClientRect(),K=C.width,oe=C.height,we=z.props.UIOptions.dockedSidebarBreakpoint!=null?z.props.UIOptions.dockedSidebarBreakpoint:p.sk,de=z.device.editor,$=(0,E.v4)(de,{isMobile:z.isMobileBreakpoint(K,oe),canFitSidebar:K>we});return de!==$&&(z.device=wr(wr({},z.device),{},{editor:$}),!0)}},this.onResize=(0,E.tH)(function(){z.scene.getElementsIncludingDeleted().forEach(function(i){return Ri.R.delete(i)}),z.refreshViewportBreakpoints(),z.updateDOMRect(),Rs||z.refreshEditorBreakpoints(),z.setState({})}),this.renderInteractiveSceneCallback=function(i){var C=i.atLeastOneVisibleElement,K=i.scrollBars,oe=i.elements;K&&(gs=K);var we=!(0,se.iB)(z.state.editingElement)&&!C&&oe.length>0;z.state.scrolledOutside!==we&&z.setState({scrolledOutside:we}),z.scheduleImageRefresh()},this.onScroll=(0,E.Ds)(function(){var i=z.getCanvasOffsets(),C=i.offsetTop,K=i.offsetLeft;z.setState(function(oe){return oe.offsetLeft===K&&oe.offsetTop===C?null:{offsetTop:C,offsetLeft:K}})},p.HM),this.onCut=(0,E.tH)(function(i){var C;!((C=z.excalidrawContainerRef.current)===null||C===void 0)&&C.contains(document.activeElement)&&!(0,E.s)(i.target)&&(z.actionManager.executeAction(X.ZM,"keyboard",i),i.preventDefault(),i.stopPropagation())}),this.onCopy=(0,E.tH)(function(i){var C;!((C=z.excalidrawContainerRef.current)===null||C===void 0)&&C.contains(document.activeElement)&&!(0,E.s)(i.target)&&(z.actionManager.executeAction(X.uN,"keyboard",i),i.preventDefault(),i.stopPropagation())}),this.onTouchStart=function(i){if(p.Dt||i.preventDefault(),!Il)return Il=!0,clearTimeout(ol),void(ol=window.setTimeout(Qo.resetTapTwice,p.Gj));if(Il&&i.touches.length===1){var C=i.touches[0];z.handleCanvasDoubleClick({clientX:C.clientX,clientY:C.clientY}),Il=!1,clearTimeout(ol)}p.Dt&&i.preventDefault(),i.touches.length===2&&z.setState({selectedElementIds:(0,Jt.Oh)({},z.state),activeEmbeddable:null})},this.onTouchEnd=function(i){z.resetContextMenuTimer(),i.touches.length>0?z.setState({previousSelectedElementIds:{},selectedElementIds:(0,Jt.Oh)(z.state.previousSelectedElementIds,z.state)}):Go.pointers.clear()},this.pasteFromClipboard=(0,E.tH)(function(){var i=(0,d.Z)(h().mark(function C(K){var oe,we,de,$,ne,Pe,Be,Fe,it,st,vt,jt,Lt,Qt,vn,$t,Ut;return h().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if(de=!!_a,$=document.activeElement,ne=(oe=z.excalidrawContainerRef.current)===null||oe===void 0?void 0:oe.contains($),!K||ne){tn.next=5;break}return tn.abrupt("return");case 5:if(Pe=document.elementFromPoint(z.lastViewportPosition.x,z.lastViewportPosition.y),!K||Pe instanceof HTMLCanvasElement&&!(0,E.s)($)){tn.next=8;break}return tn.abrupt("return");case 8:return Be=(0,E.dE)({clientX:z.lastViewportPosition.x,clientY:z.lastViewportPosition.y},z.state),Fe=Be.x,it=Be.y,st=K==null||(we=K.clipboardData)===null||we===void 0?void 0:we.files[0],tn.next=12,(0,j.mQ)(K,de);case 12:if(vt=tn.sent,st||de){tn.next=19;break}if(!vt.mixedContent){tn.next=18;break}return tn.abrupt("return",z.addElementsFromMixedContentPaste(vt.mixedContent,{isPlainPaste:de,sceneX:Fe,sceneY:it}));case 18:vt.text&&(jt=vt.text.trim()).startsWith("<svg")&&jt.endsWith("</svg>")&&(st=(0,hn.Pn)(jt));case 19:if(!(0,hn.Wr)(st)||vt.spreadsheet){tn.next=28;break}if(z.isToolSupported("image")){tn.next=23;break}return z.setState({errorMessage:(0,R.t)("errors.imageToolNotSupported")}),tn.abrupt("return");case 23:return Lt=z.createImageElement({sceneX:Fe,sceneY:it}),z.insertImageElement(Lt,st),z.initializeImageDimensions(Lt),z.setState({selectedElementIds:(0,Jt.Oh)((0,F.Z)({},Lt.id,!0),z.state)}),tn.abrupt("return");case 28:if(!z.props.onPaste){tn.next=40;break}return tn.prev=29,tn.next=32,z.props.onPaste(vt,K);case 32:if(tn.t0=tn.sent,tn.t0!==!1){tn.next=35;break}return tn.abrupt("return");case 35:tn.next=40;break;case 37:tn.prev=37,tn.t1=tn.catch(29),console.error(tn.t1);case 40:if(!vt.errorMessage){tn.next=44;break}z.setState({errorMessage:vt.errorMessage}),tn.next=60;break;case 44:if(!vt.spreadsheet||de){tn.next=48;break}z.setState({pasteDialog:{data:vt.spreadsheet,shown:!0}}),tn.next=60;break;case 48:if(!vt.elements){tn.next=53;break}Qt=vt.programmaticAPI?(0,fn.w)(vt.elements):vt.elements,z.addElementsFromPasteOrLibrary({elements:Qt,files:vt.files||null,position:"cursor",retainSeed:de}),tn.next=60;break;case 53:if(!vt.text){tn.next=60;break}if($t=(0,f.eX)(vt.text),de||!(0,f.xm)($t,z.props.validateEmbeddable)||!/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test($t)&&((vn=(0,f.LM)($t))===null||vn===void 0?void 0:vn.type)!=="video"){tn.next=59;break}return(Ut=z.insertEmbeddableElement({sceneX:Fe,sceneY:it,link:(0,Cn.$u)($t)}))&&z.setState({selectedElementIds:(0,F.Z)({},Ut.id,!0)}),tn.abrupt("return");case 59:z.addTextFromPaste(vt.text,de);case 60:z.setActiveTool({type:"selection"}),K?.preventDefault();case 62:case"end":return tn.stop()}},C,null,[[29,37]])}));return function(C){return i.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(i){var C=(0,ie.ET)(i.elements,null,void 0),K=(0,se.KP)(C),oe=(0,w.Z)(K,4),we=oe[0],de=oe[1],$=oe[2],ne=oe[3],Pe=(0,E.TE)(we,$)/2,Be=(0,E.TE)(de,ne)/2,Fe=(0,e.Z)(i.position)==="object"?i.position.clientX:i.position==="cursor"?z.lastViewportPosition.x:z.state.width/2+z.state.offsetLeft,it=(0,e.Z)(i.position)==="object"?i.position.clientY:i.position==="cursor"?z.lastViewportPosition.y:z.state.height/2+z.state.offsetTop,st=(0,E.dE)({clientX:Fe,clientY:it},z.state),vt=st.x-Pe,jt=st.y-Be,Lt=(0,ke.wC)(vt,jt,z.state.gridSize),Qt=(0,w.Z)(Lt,2),vn=Qt[0],$t=Qt[1],Ut=(0,pe._N)(C.map(function(Dn){return(0,M.BE)(Dn,{x:Dn.x+vn-we,y:Dn.y+$t-de})}),{randomizeSeed:!i.retainSeed}),tn=[].concat((0,v.Z)(z.scene.getElementsIncludingDeleted()),(0,v.Z)(Ut));z.scene.replaceAllElements(tn),Ut.forEach(function(Dn){if((0,se.iB)(Dn)&&(0,Q.Xh)(Dn)){var En=(0,Mt.tl)(Dn);(0,se.oN)(Dn,En)}}),i.files&&(z.files=wr(wr({},z.files),i.files)),z.history.resumeRecording();var xn=(0,Jt.aI)(Ut);z.setState(wr(wr({},z.state),{},{openSidebar:z.state.openSidebar&&z.device.editor.canFitSidebar&&zi.e_.get(qa.t6)?z.state.openSidebar:null},(0,Ue.bO)({editingGroupId:null,selectedElementIds:xn.reduce(function(Dn,En){return(0,Q.Xh)(En)||(Dn[En.id]=!0),Dn},{})},z.scene.getNonDeletedElements(),z.state,z)),function(){i.files&&z.addNewImagesToImageCache()}),z.setActiveTool({type:"selection"}),i.fitToContent&&z.scrollToContent(Ut,{fitToContent:!0})},this.setAppState=function(i,C){z.setState(i,C)},this.removePointer=function(i){pa&&z.resetContextMenuTimer(),Go.pointers.delete(i.pointerId)},this.toggleLock=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";z.state.activeTool.locked||(0,u.L)("toolbar","toggleLock","".concat(i," (").concat(z.device.editor.isMobile?"mobile":"desktop",")")),z.setState(function(C){return{activeTool:wr(wr(wr({},C.activeTool),(0,E.Om)(z.state,C.activeTool.locked?{type:"selection"}:C.activeTool)),{},{locked:!C.activeTool.locked})}})},this.updateFrameRendering=function(i){z.setState(function(C){var K,oe,we,de,$=typeof i=="function"?i(C.frameRendering):i;return{frameRendering:{enabled:(K=$?.enabled)!==null&&K!==void 0?K:C.frameRendering.enabled,clip:(oe=$?.clip)!==null&&oe!==void 0?oe:C.frameRendering.clip,name:(we=$?.name)!==null&&we!==void 0?we:C.frameRendering.name,outline:(de=$?.outline)!==null&&de!==void 0?de:C.frameRendering.outline}}})},this.togglePenMode=function(i){z.setState(function(C){return{penMode:i??!C.penMode,penDetected:!0}})},this.onHandToolToggle=function(){z.actionManager.executeAction(Vr.eF)},this.zoomCanvas=function(i){z.setState(wr({},(0,P.E)({viewportX:z.state.width/2+z.state.offsetLeft,viewportY:z.state.height/2+z.state.offsetTop,nextZoom:(0,xe.j)(i)},z.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var i,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z.scene.getNonDeletedElements(),K=arguments.length>1?arguments[1]:void 0;(i=z.cancelInProgresAnimation)===null||i===void 0||i.call(z);var oe=Array.isArray(C)?C:[C],we=z.state.zoom,de=z.state.scrollX,$=z.state.scrollY;if(K!=null&&K.fitToContent||K!=null&&K.fitToViewport){var ne=(0,Vr.JB)({targetElements:oe,appState:z.state,fitToViewport:!(K==null||!K.fitToViewport),viewportZoomFactor:K?.viewportZoomFactor}),Pe=ne.appState;we=Pe.zoom,de=Pe.scrollX,$=Pe.scrollY}else{var Be=(0,xe.W)(oe,z.state);de=Be.scrollX,$=Be.scrollY}if(K!=null&&K.animate){var Fe,it=z.state.scrollX,st=z.state.scrollY,vt=z.state.zoom.value,jt=(0,E.B4)({fromValues:{scrollX:it,scrollY:st,zoom:vt},toValues:{scrollX:de,scrollY:$,zoom:we.value},interpolateValue:function(Lt,Qt,vn,$t){if($t==="zoom")return Lt*Math.pow(Qt/Lt,(0,E.Vv)(vn))},onStep:function(Lt){var Qt=Lt.scrollX,vn=Lt.scrollY,$t=Lt.zoom;z.setState({scrollX:Qt,scrollY:vn,zoom:{value:$t}})},onStart:function(){z.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){z.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){z.setState({shouldCacheIgnoreZoom:!1})},duration:(Fe=K?.duration)!==null&&Fe!==void 0?Fe:500});z.cancelInProgresAnimation=function(){jt(),z.cancelInProgresAnimation=null}}else z.setState({scrollX:de,scrollY:$,zoom:we})},this.translateCanvas=function(i){var C;(C=z.cancelInProgresAnimation)===null||C===void 0||C.call(z),z.setState(i)},this.setToast=function(i){z.setState({toast:i})},this.restoreFileFromShare=(0,d.Z)(h().mark(function i(){var C,K,oe,we;return h().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.prev=0,de.next=3,caches.open("web-share-target");case 3:return C=de.sent,de.next=6,C.match("shared-file");case 6:if(!(K=de.sent)){de.next=16;break}return de.next=10,K.blob();case 10:return oe=de.sent,we=new File([oe],oe.name||"",{type:oe.type}),z.loadFileToCanvas(we,null),de.next=15,C.delete("shared-file");case 15:window.history.replaceState(null,p.iC,window.location.pathname);case 16:de.next=21;break;case 18:de.prev=18,de.t0=de.catch(0),z.setState({errorMessage:de.t0.message});case 21:case"end":return de.stop()}},i,null,[[0,18]])})),this.addFiles=(0,E.tH)(function(i){var C=i.reduce(function(K,oe){return K.set(oe.id,oe),K},new Map);z.files=wr(wr({},z.files),Object.fromEntries(C)),z.scene.getNonDeletedElements().forEach(function(K){(0,Q.wi)(K)&&C.has(K.fileId)&&(z.imageCache.delete(K.fileId),Ri.R.delete(K))}),z.scene.informMutation(),z.addNewImagesToImageCache()}),this.updateScene=(0,E.tH)(function(i){i.commitToHistory&&z.history.resumeRecording(),i.appState&&z.setState(i.appState),i.elements&&z.scene.replaceAllElements(i.elements),i.collaborators&&z.setState({collaborators:i.collaborators})}),this.onSceneUpdated=function(){z.setState({})},this.toggleSidebar=function(i){var C,K,oe=i.name,we=i.tab,de=i.force;return de===void 0?C=((K=z.state.openSidebar)===null||K===void 0?void 0:K.name)===oe?null:oe:C=de?oe:null,z.setState({openSidebar:C?{name:C,tab:we}:null}),!!C},this.updateCurrentCursorPosition=(0,E.tH)(function(i){z.lastViewportPosition.x=i.clientX,z.lastViewportPosition.y=i.clientY}),this.onKeyDown=(0,E.tH)(function(i){if("Proxy"in window&&(!i.shiftKey&&/^[A-Z]$/.test(i.key)||i.shiftKey&&/^[a-z]$/.test(i.key))&&(i=new Proxy(i,{get:function(vn,$t){var Ut=vn[$t];return typeof Ut=="function"?Ut.bind(vn):$t==="key"?i.shiftKey?vn.key.toUpperCase():vn.key.toLowerCase():Ut}})),i[B.tW.CTRL_OR_CMD]&&i.key.toLowerCase()===B.tW.V&&(_a=i.shiftKey,clearTimeout(Zs),Zs=window.setTimeout(function(){_a=!1},100)),!i[B.tW.CTRL_OR_CMD]||!(0,E.s)(i.target)||i.code!==B.aU.MINUS&&i.code!==B.aU.EQUAL){if(!((0,E.s)(i.target)&&i.key!==B.tW.ESCAPE||(0,B.Wl)(i.key)&&(0,E._Z)(i.target)))if(i.key!==B.tW.QUESTION_MARK){if(i.key.toLowerCase()===B.tW.E&&i.shiftKey&&i[B.tW.CTRL_OR_CMD])return i.preventDefault(),void z.setState({openDialog:"imageExport"});if(i.key===B.tW.PAGE_UP||i.key===B.tW.PAGE_DOWN){var C=(i.shiftKey?z.state.width:z.state.height)/z.state.zoom.value;i.key===B.tW.PAGE_DOWN&&(C=-C),i.shiftKey?z.translateCanvas(function(vn){return{scrollX:vn.scrollX+C}}):z.translateCanvas(function(vn){return{scrollY:vn.scrollY+C}})}if(!z.actionManager.handleKeyDown(i)&&!z.state.viewModeEnabled){if(i[B.tW.CTRL_OR_CMD]&&z.state.isBindingEnabled&&z.setState({isBindingEnabled:!1}),(0,B.Wl)(i.key)){var K=z.state.gridSize&&(i.shiftKey?p.$e:z.state.gridSize)||(i.shiftKey?p.Iw:p.$e),oe=0,we=0;i.key===B.tW.ARROW_LEFT?oe=-K:i.key===B.tW.ARROW_RIGHT?oe=K:i.key===B.tW.ARROW_UP?we=-K:i.key===B.tW.ARROW_DOWN&&(we=K);var de=z.scene.getSelectedElements({selectedElementIds:z.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});de.forEach(function(vn){(0,M.DR)(vn,{x:vn.x+oe,y:vn.y+we}),(0,I.Ww)(vn,{simultaneouslyUpdated:de})}),z.maybeSuggestBindingForAll(de),i.preventDefault()}else if(i.key===B.tW.ENTER){var $=z.scene.getSelectedElements(z.state);if($.length===1){var ne=$[0];if(i[B.tW.CTRL_OR_CMD])(0,Q.bt)(ne)&&(z.state.editingLinearElement&&z.state.editingLinearElement.elementId===$[0].id||(z.history.resumeRecording(),z.setState({editingLinearElement:new ue._(ne,z.scene)})));else{if((0,se.iB)(ne)||(0,Mt.Zr)(ne)){var Pe;(0,se.iB)(ne)||(Pe=ne);var Be=(0,Mt.TP)(ne,z.state),Fe=Be.x,it=Be.y;return z.startTextEditing({sceneX:Fe,sceneY:it,container:Pe}),void i.preventDefault()}(0,Q.He)(ne)&&z.setState({editingFrame:ne.id})}}}else if(!i.ctrlKey&&!i.altKey&&!i.metaKey&&z.state.draggingElement===null){var st=function(vn){var $t=l.find(function(Ut,tn){return Ut.numericKey!=null&&vn===Ut.numericKey.toString()||Ut.key&&(typeof Ut.key=="string"?Ut.key===vn:Ut.key.includes(vn))});return $t?.value||null}(i.key);st?(z.state.activeTool.type!==st&&(0,u.L)("toolbar",st,"keyboard (".concat(z.device.editor.isMobile?"mobile":"desktop",")")),z.setActiveTool({type:st}),i.stopPropagation()):i.key===B.tW.Q&&(z.toggleLock("keyboard"),i.stopPropagation())}if(i.key===B.tW.SPACE&&Go.pointers.size===0&&($a=!0,(0,In.KJ)(z.interactiveCanvas,p.oc.GRAB),i.preventDefault()),!(i.key!==B.tW.G&&i.key!==B.tW.S||i.altKey||i[B.tW.CTRL_OR_CMD])){var vt=z.scene.getSelectedElements(z.state);if(z.state.activeTool.type==="selection"&&!vt.length)return;i.key===B.tW.G&&((0,xe.$b)(z.state.activeTool.type)||vt.some(function(vn){return(0,xe.$b)(vn.type)}))&&(z.setState({openPopup:"elementBackground"}),i.stopPropagation()),i.key===B.tW.S&&(z.setState({openPopup:"elementStroke"}),i.stopPropagation())}if(i.key!==B.tW.K||i.altKey||i[B.tW.CTRL_OR_CMD]){!i[B.tW.CTRL_OR_CMD]||i.key!==B.tW.BACKSPACE&&i.key!==B.tW.DELETE||zi.e_.set(Ni.w,"clearCanvas");var jt=i.key.toLocaleLowerCase(),Lt=jt===B.tW.S&&i.shiftKey,Qt=i.key===B.tW.I||jt===B.tW.G&&i.shiftKey;(Lt||Qt)&&z.openEyeDropper({type:Lt?"stroke":"background"})}else z.state.activeTool.type==="laser"?z.setActiveTool({type:"selection"}):z.setActiveTool({type:"laser"})}}else z.setState({openDialog:"help"})}else i.preventDefault()}),this.onWheel=(0,E.tH)(function(i){i.target instanceof HTMLCanvasElement||!i.ctrlKey||i.preventDefault()}),this.onKeyUp=(0,E.tH)(function(i){if(i.key===B.tW.SPACE&&(z.state.viewModeEnabled?(0,In.KJ)(z.interactiveCanvas,p.oc.GRAB):z.state.activeTool.type==="selection"?(0,In.z8)(z.interactiveCanvas):((0,In.Uk)(z.interactiveCanvas,z.state),z.setState({selectedElementIds:(0,Jt.Oh)({},z.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),$a=!1),i[B.tW.CTRL_OR_CMD]||z.state.isBindingEnabled||z.setState({isBindingEnabled:!0}),(0,B.Wl)(i.key)){var C=z.scene.getSelectedElements(z.state);(0,I.N1)(z.state)?(0,I.el)(C):(0,I.H)(C),z.setState({suggestedBindings:[]})}}),this.isToolSupported=function(i){var C;return((C=z.props.UIOptions.tools)===null||C===void 0?void 0:C[i])!==!1},this.setActiveTool=function(i){if(z.isToolSupported(i.type)){var C,K=(0,E.Om)(z.state,i);K.type==="hand"?(0,In.KJ)(z.interactiveCanvas,p.oc.GRAB):$a||(0,In.Uk)(z.interactiveCanvas,z.state),(0,E.wO)(document.activeElement)&&z.focusContainer(),(0,Q.dt)(K.type)||z.setState({suggestedBindings:[]}),K.type==="image"&&z.onImageAction({insertOnCanvasDirectly:(C=i.type==="image"&&i.insertOnCanvasDirectly)!==null&&C!==void 0&&C}),z.setState(function(oe){var we={snapLines:oe.snapLines.length?[]:oe.snapLines,originSnapOffset:null,activeEmbeddable:null};return K.type!=="selection"?wr(wr({},oe),{},{activeTool:K,selectedElementIds:(0,Jt.Oh)({},oe),selectedGroupIds:(0,Jt.Oh)({},oe),editingGroupId:null,multiElement:null},we):wr(wr({},oe),{},{activeTool:K},we)})}else console.warn('"'.concat(i.type,'" tool is disabled via "UIOptions.canvasActions.tools.').concat(i.type,'"'))},this.setOpenDialog=function(i){z.setState({openDialog:i})},this.setCursor=function(i){(0,In.KJ)(z.interactiveCanvas,i)},this.resetCursor=function(){(0,In.z8)(z.interactiveCanvas)},this.isTouchScreenMultiTouchGesture=function(){return Go.pointers.size>=2},this.onGestureStart=(0,E.tH)(function(i){i.preventDefault(),z.isTouchScreenMultiTouchGesture()&&z.setState({selectedElementIds:(0,Jt.Oh)({},z.state),activeEmbeddable:null}),Go.initialScale=z.state.zoom.value}),this.onGestureChange=(0,E.tH)(function(i){if(i.preventDefault(),!z.isTouchScreenMultiTouchGesture()){var C=Go.initialScale;C&&z.setState(function(K){return wr({},(0,P.E)({viewportX:z.lastViewportPosition.x,viewportY:z.lastViewportPosition.y,nextZoom:(0,xe.j)(C*i.scale)},K))})}}),this.onGestureEnd=(0,E.tH)(function(i){i.preventDefault(),z.isTouchScreenMultiTouchGesture()&&z.setState({previousSelectedElementIds:{},selectedElementIds:(0,Jt.Oh)(z.state.previousSelectedElementIds,z.state)}),Go.initialScale=null}),this.startTextEditing=function(i){var C,K,oe,we,de=i.sceneX,$=i.sceneY,ne=i.insertAtParentCenter,Pe=ne===void 0||ne,Be=i.container,Fe=!1,it=Pe&&z.getTextWysiwygSnappedToCenterPosition(de,$,z.state,Be);Be&&it&&((0,Mt.WJ)(Be)||(Fe=!0));var st=null,vt=z.scene.getSelectedElements(z.state),jt=((C=st=vt.length===1?(0,se.iB)(vt[0])?vt[0]:Be?(0,Mt.WJ)(vt[0]):z.getTextElementAtPosition(de,$):z.getTextElementAtPosition(de,$))===null||C===void 0?void 0:C.fontFamily)||z.state.currentItemFontFamily,Lt=((K=st)===null||K===void 0?void 0:K.lineHeight)||(0,Mt.PT)(jt),Qt=z.state.currentItemFontSize;if(!st&&Fe&&Be&&!(0,Q.Yv)(Be)){var vn={fontSize:Qt,fontFamily:jt},$t=(0,Mt.AT)((0,E.mO)(vn),Lt),Ut=(0,Mt.w_)(Qt,Lt),tn=Math.max(Be.height,Ut),xn=Math.max(Be.width,$t);(0,M.DR)(Be,{height:tn,width:xn}),de=Be.x+xn/2,$=Be.y+tn/2,it&&(it=z.getTextWysiwygSnappedToCenterPosition(de,$,z.state,Be))}var Dn=z.getTopLayerFrameAtSceneCoords({x:de,y:$}),En=st||(0,se.VL)({x:it?it.elementCenterX:de,y:it?it.elementCenterY:$,strokeColor:z.state.currentItemStrokeColor,backgroundColor:z.state.currentItemBackgroundColor,fillStyle:z.state.currentItemFillStyle,strokeWidth:z.state.currentItemStrokeWidth,strokeStyle:z.state.currentItemStrokeStyle,roughness:z.state.currentItemRoughness,opacity:z.state.currentItemOpacity,text:"",fontSize:Qt,fontFamily:jt,textAlign:it?"center":z.state.currentItemTextAlign,verticalAlign:it?p.oX.MIDDLE:p.hs,containerId:Fe?Be?.id:void 0,groupIds:(oe=Be?.groupIds)!==null&&oe!==void 0?oe:[],lineHeight:Lt,angle:(we=Be?.angle)!==null&&we!==void 0?we:0,frameId:Dn?Dn.id:null});if(!st&&Fe&&Be&&(0,M.DR)(Be,{boundElements:(Be.boundElements||[]).concat({type:"text",id:En.id})}),z.setState({editingElement:En}),!st)if(Be&&Fe){var yn=z.scene.getElementIndex(Be.id);z.scene.insertElementAtIndex(En,yn+1)}else z.scene.addNewElement(En);z.setState({editingElement:En}),z.handleTextWysiwyg(En,{isExistingElement:!!st})},this.handleCanvasDoubleClick=function(i){if(!z.state.multiElement&&z.state.activeTool.type==="selection"){var C=z.scene.getSelectedElements(z.state);if(C.length===1&&(0,Q.bt)(C[0])){if(i[B.tW.CTRL_OR_CMD]&&(!z.state.editingLinearElement||z.state.editingLinearElement.elementId!==C[0].id))return z.history.resumeRecording(),void z.setState({editingLinearElement:new ue._(C[0],z.scene)});if(z.state.editingLinearElement&&z.state.editingLinearElement.elementId===C[0].id)return}(0,In.z8)(z.interactiveCanvas);var K=(0,E.dE)(i,z.state),oe=K.x,we=K.y;if((0,Ue.iJ)(z.state).length>0){var de=z.getElementAtPosition(oe,we),$=de&&(0,Ue.YS)(de,z.state.selectedGroupIds);if($)return void z.setState(function(Fe){return wr(wr({},Fe),(0,Ue.bO)({editingGroupId:$,selectedElementIds:(0,F.Z)({},de.id,!0)},z.scene.getNonDeletedElements(),Fe,z))})}if((0,In.z8)(z.interactiveCanvas),!i[B.tW.CTRL_OR_CMD]&&!z.state.viewModeEnabled){var ne=z.getElementAtPosition(oe,we);if((0,Q.gs)(ne))return void z.setState({activeEmbeddable:{element:ne,state:"active"}});var Pe=(0,Mt.OW)(z.scene.getNonDeletedElements(),z.state,oe,we);if(Pe&&((0,Q.Xo)(Pe)||!(0,E.Qm)(Pe.backgroundColor)||(0,Pt.Qu)(Pe,z.state,z.frameNameBoundsCache,[oe,we]))){var Be=(0,Mt.TP)(Pe,z.state);oe=Be.x,we=Be.y}z.startTextEditing({sceneX:oe,sceneY:we,insertAtParentCenter:!i.altKey,container:Pe})}}},this.getElementLinkAtPosition=function(i,C){var K=z.scene.getNonDeletedElements().slice().reverse(),oe=1/0;return K.find(function(we,de){return C&&we.id===C.id&&(oe=de),we.link&&de<=oe&&(0,en.Ni)(we,z.state,[i.x,i.y],z.device.editor.isMobile)})},this.redirectToLink=function(i,C){var K=(0,ke.LW)(z.lastPointerDownEvent.clientX,z.lastPointerDownEvent.clientY,z.lastPointerUpEvent.clientX,z.lastPointerUpEvent.clientY);if(!(!z.hitLinkElement||C&&K>p.f||!C&&K!==0)){var oe=(0,E.dE)(z.lastPointerDownEvent,z.state),we=(0,en.Ni)(z.hitLinkElement,z.state,[oe.x,oe.y],z.device.editor.isMobile),de=(0,E.dE)(z.lastPointerUpEvent,z.state),$=(0,en.Ni)(z.hitLinkElement,z.state,[de.x,de.y],z.device.editor.isMobile);if(we&&$){var ne,Pe,Be=z.hitLinkElement.link;if(Be&&(Be=(0,Cn.$u)(Be),z.props.onLinkOpen&&(Pe=(0,E.ag)(p.Ks.EXCALIDRAW_LINK,i.nativeEvent),z.props.onLinkOpen(wr(wr({},z.hitLinkElement),{},{link:Be}),Pe)),(ne=Pe)===null||ne===void 0||!ne.defaultPrevented)){var Fe=(0,Cn.q$)(Be)?"_self":"_blank",it=window.open(void 0,Fe);it&&(it.opener=null,it.location=Be)}}}},this.getTopLayerFrameAtSceneCoords=function(i){var C=z.scene.getNonDeletedFrames().filter(function(K){return(0,mn.Dn)(i,K)});return C.length?C[C.length-1]:null},this.handleCanvasPointerMove=function(i){z.savePointer(i.clientX,i.clientY,z.state.cursorButton),Go.pointers.has(i.pointerId)&&Go.pointers.set(i.pointerId,{x:i.clientX,y:i.clientY});var C=Go.initialScale;if(Go.pointers.size===2&&Go.lastCenter&&C&&Go.initialDistance){var K=ee(Go.pointers),oe=K.x-Go.lastCenter.x,we=K.y-Go.lastCenter.y;Go.lastCenter=K;var de=me(Array.from(Go.pointers.values())),$=z.state.activeTool.type==="freedraw"&&z.state.penMode?1:de/Go.initialDistance,ne=$?(0,xe.j)(C*$):z.state.zoom.value;z.setState(function(Ko){var Xo=(0,P.E)({viewportX:K.x,viewportY:K.y,nextZoom:ne},Ko);z.translateCanvas({zoom:Xo.zoom,scrollX:Xo.scrollX+oe/ne,scrollY:Xo.scrollY+we/ne,shouldCacheIgnoreZoom:!0})}),z.resetShouldCacheIgnoreZoomDebounced()}else Go.lastCenter=Go.initialDistance=Go.initialScale=null;if(!($a||il||Dl||(0,O.l$)(z.state))){var Pe=(0,xe._4)(gs,i.clientX-z.state.offsetLeft,i.clientY-z.state.offsetTop).isOverEither;z.state.draggingElement||z.state.multiElement||(Pe?(0,In.z8)(z.interactiveCanvas):(0,In.Uk)(z.interactiveCanvas,z.state));var Be,Fe=(0,E.dE)(i,z.state),it=Fe.x,st=Fe.y;if(z.state.draggingElement||(Be=z.state.activeTool.type)!=="rectangle"&&Be!=="ellipse"&&Be!=="diamond"&&Be!=="frame"&&Be!=="image")z.state.draggingElement||z.setState({snapLines:[]});else{var vt=function(Ko,Xo,zo,to){if(!fo({event:to,selectedElements:[],appState:Xo}))return{originOffset:{x:0,y:0},snapLines:[]};var qo,Po=(0,Jt.CF)(Ko,[],Xo),$o=ro(Xo.zoom.value),qi={x:$o,y:$o},mo=[],eo=[],ko=Tr(Po);try{for(ko.s();!(qo=ko.n()).done;){var ti,ai=qo.value,fi=Tr(Mo([ai]));try{for(fi.s();!(ti=fi.n()).done;){var Ei=ti.value,No=Ei[0]-zo.x;Math.abs(No)<=Math.abs(qi.x)&&(Math.abs(No)<Math.abs(qi.x)&&(eo.length=0),eo.push({type:"pointer",points:[Ei,[Ei[0],zo.y]],direction:"vertical"}),qi.x=No);var wo=Ei[1]-zo.y;Math.abs(wo)<=Math.abs(qi.y)&&(Math.abs(wo)<Math.abs(qi.y)&&(mo.length=0),mo.push({type:"pointer",points:[Ei,[zo.x,Ei[1]]],direction:"horizontal"}),qi.y=wo)}}catch(ci){fi.e(ci)}finally{fi.f()}}}catch(ci){ko.e(ci)}finally{ko.f()}return{originOffset:{x:eo.length>0?eo[0].points[0][0]-zo.x:0,y:mo.length>0?mo[0].points[0][1]-zo.y:0},snapLines:[].concat(eo,mo)}}(z.scene.getNonDeletedElements(),z.state,{x:it,y:st},i),jt=vt.originOffset,Lt=vt.snapLines;z.setState({snapLines:Lt,originSnapOffset:jt})}if(z.state.editingLinearElement&&!z.state.editingLinearElement.isDragging){var Qt=ue._.handlePointerMove(i,it,st,z.state);Qt&&Qt!==z.state.editingLinearElement&&(0,le.flushSync)(function(){z.setState({editingLinearElement:Qt})}),Qt?.lastUncommittedPoint!=null?z.maybeSuggestBindingAtCursor(Fe):(0,le.flushSync)(function(){z.setState({suggestedBindings:[]})})}if((0,Q.Lx)(z.state.activeTool.type)){var vn=z.state.draggingElement;(0,Q.Mn)(vn,!1)?z.maybeSuggestBindingsForLinearElementAtCoords(vn,[Fe],z.state.startBoundElement):z.maybeSuggestBindingAtCursor(Fe)}if(z.state.multiElement){var $t=z.state.multiElement,Ut=$t.x,tn=$t.y,xn=$t.points,Dn=$t.lastCommittedPoint,En=xn[xn.length-1];if((0,In.Uk)(z.interactiveCanvas,z.state),En===Dn)(0,ke.LW)(it-Ut,st-tn,En[0],En[1])>=p.qx?(0,M.DR)($t,{points:[].concat((0,v.Z)(xn),[[it-Ut,st-tn]])}):(0,In.KJ)(z.interactiveCanvas,p.oc.POINTER);else if(xn.length>2&&Dn&&(0,ke.LW)(it-Ut,st-tn,Dn[0],Dn[1])<p.qx)(0,In.KJ)(z.interactiveCanvas,p.oc.POINTER),(0,M.DR)($t,{points:xn.slice(0,-1)});else{var yn,Un=(0,ke.wC)(it,st,i[B.tW.CTRL_OR_CMD]?null:z.state.gridSize),gr=(0,w.Z)(Un,2),_r=gr[0],zr=gr[1],Qr=(yn=$t?.lastCommittedPoint)!==null&&yn!==void 0?yn:[0,0],ao=(0,w.Z)(Qr,2),Rr=ao[0],Nr=ao[1],Fr=_r-Ut-Rr,Ur=zr-tn-Nr;if((0,B.Ge)(i)){var ho=(0,se.o4)(Rr+Ut,Nr+tn,_r,zr);Fr=ho.width,Ur=ho.height}(0,ke.g6)(xn,z.state.zoom.value)&&(0,In.KJ)(z.interactiveCanvas,p.oc.POINTER),(0,M.DR)($t,{points:[].concat((0,v.Z)(xn.slice(0,-1)),[[Rr+Fr,Nr+Ur]])})}}else if(!(i.buttons||z.state.activeTool.type!=="selection"&&z.state.activeTool.type!=="text"&&z.state.activeTool.type!=="eraser")){var So=z.scene.getNonDeletedElements(),_o=z.scene.getSelectedElements(z.state);if(_o.length!==1||Pe||z.state.editingLinearElement){if(_o.length>1&&!Pe){var To=(0,se.n2)((0,se.KP)(_o),it,st,z.state.zoom,i.pointerType);if(To)return void(0,In.KJ)(z.interactiveCanvas,(0,se.Un)({transformHandleType:To}))}}else{var vo=(0,se.jt)(So,z.state,it,st,z.state.zoom,i.pointerType);if(vo&&vo.transformHandleType)return void(0,In.KJ)(z.interactiveCanvas,(0,se.Un)(vo))}var oo=z.getElementAtPosition(Fe.x,Fe.y);if(z.hitLinkElement=z.getElementLinkAtPosition(Fe,oo),!(0,O.EN)(z.state))if(z.hitLinkElement&&!z.state.selectedElementIds[z.hitLinkElement.id])(0,In.KJ)(z.interactiveCanvas,p.oc.POINTER),(0,en.Pp)(z.hitLinkElement,z.state);else if((0,en.lV)(),oo&&(oo.link||(0,Q.gs)(oo))&&z.state.selectedElementIds[oo.id]&&!z.state.contextMenu&&!z.state.showHyperlinkPopup)z.setState({showHyperlinkPopup:"info"});else if(z.state.activeTool.type==="text")(0,In.KJ)(z.interactiveCanvas,(0,se.iB)(oo)?p.oc.TEXT:p.oc.CROSSHAIR);else if(z.state.viewModeEnabled)(0,In.KJ)(z.interactiveCanvas,p.oc.GRAB);else if(Pe)(0,In.KJ)(z.interactiveCanvas,p.oc.AUTO);else if(z.state.selectedLinearElement)z.handleHoverSelectedLinearElement(z.state.selectedLinearElement,it,st);else if(i[B.tW.CTRL_OR_CMD])(0,In.KJ)(z.interactiveCanvas,p.oc.AUTO);else{var Lo;(oo||z.isHittingCommonBoundingBoxOfSelectedElements(Fe,_o))&&(oo==null||!oo.locked)&&(oo&&(0,Q.gs)(oo)&&z.isEmbeddableCenter(oo,i,it,st)?((0,In.KJ)(z.interactiveCanvas,p.oc.POINTER),z.setState({activeEmbeddable:{element:oo,state:"hover"}})):((0,In.KJ)(z.interactiveCanvas,p.oc.MOVE),((Lo=z.state.activeEmbeddable)===null||Lo===void 0?void 0:Lo.state)==="hover"&&z.setState({activeEmbeddable:null})))}}}},this.handleEraser=function(i,C,K){for(var oe=function(vt){vt.forEach(function(jt){jt.locked||(we.push(jt.id),i.altKey?C.elementIdsToErase[jt.id]&&C.elementIdsToErase[jt.id].erase&&(C.elementIdsToErase[jt.id].erase=!1):C.elementIdsToErase[jt.id]||(C.elementIdsToErase[jt.id]={erase:!0,opacity:jt.opacity}))})},we=[],de=(0,ke.LW)(C.lastCoords.x,C.lastCoords.y,K.x,K.y),$=10/z.state.zoom.value,ne=wr({},C.lastCoords),Pe=0;Pe<=de&&(oe(z.getElementsAtPosition(ne.x,ne.y)),Pe!==de);){var Be=(Pe=Math.min(Pe+$,de))/de,Fe=(1-Be)*ne.x+Be*K.x,it=(1-Be)*ne.y+Be*K.y;ne.x=Fe,ne.y=it}var st=z.scene.getElementsIncludingDeleted().map(function(vt){var jt=(0,Q.Xh)(vt)&&we.includes(vt.containerId)?vt.containerId:vt.id;if(we.includes(jt)){if(!i.altKey)return(0,M.BE)(vt,{opacity:p.xY});if(C.elementIdsToErase[jt]&&C.elementIdsToErase[jt].erase===!1)return(0,M.BE)(vt,{opacity:C.elementIdsToErase[jt].opacity})}return vt});z.scene.replaceAllElements(st),C.lastCoords.x=K.x,C.lastCoords.y=K.y},this.handleTouchMove=function(i){Ia=!0},this.handleCanvasPointerDown=function(i){var C,K;if(z.state.contextMenu&&z.setState({contextMenu:null}),z.state.snapLines&&z.setAppState({snapLines:[]}),z.updateGestureOnPointerDown(i),i.pointerType==="touch"&&z.state.draggingElement&&z.state.draggingElement.type==="freedraw"){var oe=z.state.draggingElement;z.updateScene(wr(wr({},oe.points.length<10?{elements:z.scene.getElementsIncludingDeleted().filter(function(Lt){return Lt.id!==oe.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,Jt.Oh)(Object.keys(z.state.selectedElementIds).filter(function(Lt){return Lt!==oe.id}).reduce(function(Lt,Qt){return Lt[Qt]=z.state.selectedElementIds[Qt],Lt},{}),z.state)}}))}else{var we=document.getSelection();if(we!=null&&we.anchorNode&&we.removeAllRanges(),z.maybeOpenContextMenuAfterPointerDownOnTouchDevices(i),z.maybeCleanupAfterMissingPointerUp(i),z.state.penDetected||i.pointerType!=="pen"||z.setState(function(Lt){return{penMode:!0,penDetected:!0}}),!z.device.isTouchScreen&&["pen","touch"].includes(i.pointerType)&&(z.device=(0,E.v4)(z.device,{isTouchScreen:!0})),!(il||(z.lastPointerDownEvent=i,z.handleCanvasPanUsingWheelOrSpaceDrag(i)||(z.setState({lastPointerDownWith:i.pointerType,cursorButton:"down"}),z.savePointer(i.clientX,i.clientY,"down"),i.button!==p.Oh.MAIN&&i.button!==p.Oh.TOUCH||Go.pointers.size>1)))){var de=z.initialPointerDownState(i);if(z.setState({selectedElementsAreBeingDragged:!1}),!z.handleDraggingScrollBar(i,de)&&(z.clearSelectionIfNotUsingSelection(),z.updateBindingEnabledOnPointerMove(i),!z.handleSelectionOnPointerDown(i,de)&&(!z.state.penMode||i.pointerType!=="touch"||z.state.activeTool.type==="selection"||z.state.activeTool.type==="text"||z.state.activeTool.type==="image")))if(z.state.activeTool.type!=="text"){if(z.state.activeTool.type==="arrow"||z.state.activeTool.type==="line")z.handleLinearElementOnPointerDown(i,z.state.activeTool.type,de);else if(z.state.activeTool.type==="image"){(0,In.KJ)(z.interactiveCanvas,p.oc.CROSSHAIR);var $=z.state.pendingImageElementId&&z.scene.getElement(z.state.pendingImageElementId);if(!$)return;z.setState({draggingElement:$,editingElement:$,pendingImageElementId:null,multiElement:null});var ne=(0,E.dE)(i,z.state),Pe=ne.x,Be=ne.y,Fe=z.getTopLayerFrameAtSceneCoords({x:Pe,y:Be});(0,M.DR)($,{x:Pe,y:Be,frameId:Fe?Fe.id:null})}else z.state.activeTool.type==="freedraw"?z.handleFreeDrawElementOnPointerDown(i,z.state.activeTool.type,de):z.state.activeTool.type==="custom"?(0,In.Uk)(z.interactiveCanvas,z.state):z.state.activeTool.type==="frame"?z.createFrameElementOnPointerDown(de):z.state.activeTool.type==="laser"?z.laserPathManager.startPath(de.lastCoords.x,de.lastCoords.y):z.state.activeTool.type!=="eraser"&&z.state.activeTool.type!=="hand"&&z.createGenericElementOnPointerDown(z.state.activeTool.type,de);(C=z.props)===null||C===void 0||(K=C.onPointerDown)===null||K===void 0||K.call(C,z.state.activeTool,de),z.onPointerDownEmitter.trigger(z.state.activeTool,de,i);var it=z.onPointerMoveFromPointerDownHandler(de),st=z.onPointerUpFromPointerDownHandler(de),vt=z.onKeyDownFromPointerDownHandler(de),jt=z.onKeyUpFromPointerDownHandler(de);dl=st,z.state.viewModeEnabled&&z.state.activeTool.type!=="laser"||(window.addEventListener(p.Ks.POINTER_MOVE,it),window.addEventListener(p.Ks.POINTER_UP,st),window.addEventListener(p.Ks.KEYDOWN,vt),window.addEventListener(p.Ks.KEYUP,jt),de.eventListeners.onMove=it,de.eventListeners.onUp=st,de.eventListeners.onKeyUp=jt,de.eventListeners.onKeyDown=vt)}else z.handleTextOnPointerDown(i,de)}}},this.handleCanvasPointerUp=function(i){var C,K;z.removePointer(i),z.lastPointerUpEvent=i;var oe=(0,E.dE)({clientX:i.clientX,clientY:i.clientY},z.state),we=i.timeStamp-((C=(K=z.lastPointerDownEvent)===null||K===void 0?void 0:K.timeStamp)!==null&&C!==void 0?C:0);if(z.device.editor.isMobile&&we<300){var de=z.getElementAtPosition(oe.x,oe.y);if((0,Q.gs)(de)&&z.isEmbeddableCenter(de,i,oe.x,oe.y))return void z.handleEmbeddableCenterClick(de)}if(z.device.isTouchScreen){var $=z.getElementAtPosition(oe.x,oe.y);z.hitLinkElement=z.getElementLinkAtPosition(oe,$)}z.hitLinkElement&&!z.state.selectedElementIds[z.hitLinkElement.id]?we<300&&z.hitLinkElement.type==="embeddable"&&!(0,en.wq)(z.hitLinkElement,z.state,[oe.x,oe.y])?z.handleEmbeddableCenterClick(z.hitLinkElement):z.redirectToLink(i,z.device.isTouchScreen):z.state.viewModeEnabled&&z.setState({activeEmbeddable:null,selectedElementIds:{}})},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(i){i.pointerType==="touch"&&(Ia=!1,pa?Ia=!0:pa=window.setTimeout(function(){pa=0,Ia||z.handleCanvasContextMenu(i)},p.nM))},this.resetContextMenuTimer=function(){clearTimeout(pa),pa=0,Ia=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(i){if(!(Go.pointers.size<=1&&(i.button===p.Oh.WHEEL||i.button===p.Oh.MAIN&&$a||(0,O.l$)(z.state)||z.state.viewModeEnabled))||(0,se.iB)(z.state.editingElement))return!1;il=!0,i.preventDefault();var C=!1,K=/Linux/.test(window.navigator.platform);(0,In.KJ)(z.interactiveCanvas,p.oc.GRABBING);var oe=i.clientX,we=i.clientY,de=(0,E.$9)(function(ne){var Pe=oe-ne.clientX,Be=we-ne.clientY;if(oe=ne.clientX,we=ne.clientY,K&&!C&&(Math.abs(Pe)>1||Math.abs(Be)>1)){C=!0;var Fe=function it(st){document.body.removeEventListener(p.Ks.PASTE,it),st.stopPropagation()};document.body.addEventListener(p.Ks.PASTE,Fe),window.addEventListener(p.Ks.POINTER_UP,function it(){setTimeout(function(){document.body.removeEventListener(p.Ks.PASTE,Fe),window.removeEventListener(p.Ks.POINTER_UP,it)},100)})}z.translateCanvas({scrollX:z.state.scrollX-Pe/z.state.zoom.value,scrollY:z.state.scrollY-Be/z.state.zoom.value})}),$=(0,E.tH)(dl=function(){dl=null,il=!1,$a||(z.state.viewModeEnabled?(0,In.KJ)(z.interactiveCanvas,p.oc.GRAB):(0,In.Uk)(z.interactiveCanvas,z.state)),z.setState({cursorButton:"up"}),z.savePointer(i.clientX,i.clientY,"up"),window.removeEventListener(p.Ks.POINTER_MOVE,de),window.removeEventListener(p.Ks.POINTER_UP,$),window.removeEventListener(p.Ks.BLUR,$),de.flush()});return window.addEventListener(p.Ks.BLUR,$),window.addEventListener(p.Ks.POINTER_MOVE,de,{passive:!0}),window.addEventListener(p.Ks.POINTER_UP,$),!0},this.clearSelectionIfNotUsingSelection=function(){z.state.activeTool.type!=="selection"&&z.setState({selectedElementIds:(0,Jt.Oh)({},z.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})},this.handleSelectionOnPointerDown=function(i,C){if(z.state.activeTool.type==="selection"){var K=z.scene.getNonDeletedElements(),oe=z.scene.getSelectedElements(z.state);if(oe.length!==1||z.state.editingLinearElement)oe.length>1&&(C.resize.handleType=(0,se.n2)((0,se.KP)(oe),C.origin.x,C.origin.y,z.state.zoom,i.pointerType));else{var we=(0,se.jt)(K,z.state,C.origin.x,C.origin.y,z.state.zoom,i.pointerType);we!=null&&(z.setState({resizingElement:we.element}),C.resize.handleType=we.transformHandleType)}if(C.resize.handleType)C.resize.isResizing=!0,C.resize.offset=(0,E.AK)((0,se.xx)(C.resize.handleType,oe,C.origin.x,C.origin.y)),oe.length===1&&(0,Q.bt)(oe[0])&&oe[0].points.length===2&&(C.resize.arrowDirection=(0,se.T)(C.resize.handleType,oe[0]));else{var de;if(z.state.selectedLinearElement){var $=z.state.editingLinearElement||z.state.selectedLinearElement,ne=ue._.handlePointerDown(i,z.state,z.history,C.origin,$);if(ne.hitElement&&(C.hit.element=ne.hitElement),ne.linearElementEditor&&(z.setState({selectedLinearElement:ne.linearElementEditor}),z.state.editingLinearElement&&z.setState({editingLinearElement:ne.linearElementEditor})),ne.didAddPoint)return!0}if(C.hit.element=(de=C.hit.element)!==null&&de!==void 0?de:z.getElementAtPosition(C.origin.x,C.origin.y),C.hit.element&&z.getElementLinkAtPosition({x:C.origin.x,y:C.origin.y},C.hit.element))return!1;C.hit.allHitElements=z.getElementsAtPosition(C.origin.x,C.origin.y);var Pe=C.hit.element,Be=C.hit.allHitElements.some(function(Fe){return z.isASelectedElement(Fe)});if(Pe!==null&&Be||i.shiftKey||C.hit.hasHitCommonBoundingBoxOfSelectedElements||z.clearSelection(Pe),z.state.editingLinearElement)z.setState({selectedElementIds:(0,Jt.Oh)((0,F.Z)({},z.state.editingLinearElement.elementId,!0),z.state)});else if(Pe!=null){if(i[B.tW.CTRL_OR_CMD])return z.state.selectedElementIds[Pe.id]||(C.hit.wasAddedToSelection=!0),z.setState(function(Fe){return wr(wr({},(0,Ue.iE)(Fe,Pe)),{},{previousSelectedElementIds:z.state.selectedElementIds})}),!1;z.state.selectedElementIds[Pe.id]||(z.state.editingGroupId&&!(0,Ue.Nd)(Pe,z.state.editingGroupId)&&z.setState({selectedElementIds:(0,Jt.Oh)({},z.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),Be||C.hit.hasHitCommonBoundingBoxOfSelectedElements||(z.setState(function(Fe){var it=wr(wr({},Fe.selectedElementIds),{},(0,F.Z)({},Pe.id,!0)),st=[];if(Object.keys(Fe.selectedElementIds).forEach(function(Lt){var Qt=z.scene.getElement(Lt);Qt&&st.push(Qt)}),Pe.type==="frame")(0,mn.zD)(st,Pe.id).forEach(function(Lt){delete it[Lt.id]});else if(Pe.frameId)it[Pe.frameId]&&delete it[Pe.id];else{var vt=Pe.groupIds,jt=new Set(vt.flatMap(function(Lt){return(0,Ue.Fb)(z.scene.getNonDeletedElements(),Lt)}).filter(function(Lt){return Lt.type==="frame"}).map(function(Lt){return Lt.id}));jt.size>0&&st.forEach(function(Lt){Lt.frameId&&jt.has(Lt.frameId)&&(delete it[Lt.id],Lt.groupIds.flatMap(function(Qt){return(0,Ue.Fb)(z.scene.getNonDeletedElements(),Qt)}).forEach(function(Qt){delete it[Qt.id]}))})}return wr(wr({},(0,Ue.bO)({editingGroupId:Fe.editingGroupId,selectedElementIds:it},z.scene.getNonDeletedElements(),Fe,z)),{},{showHyperlinkPopup:!(!Pe.link&&!(0,Q.gs)(Pe))&&"info"})}),C.hit.wasAddedToSelection=!0))}z.setState({previousSelectedElementIds:z.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(i,C){if(!(0,se.iB)(z.state.editingElement)){var K=C.origin.x,oe=C.origin.y,we=z.getElementAtPosition(K,oe,{includeBoundTextElement:!0}),de=(0,Mt.OW)(z.scene.getNonDeletedElements(),z.state,K,oe);(0,Q.Xo)(we)&&(de=we,K=we.x+we.width/2,oe=we.y+we.height/2),z.startTextEditing({sceneX:K,sceneY:oe,insertAtParentCenter:!i.altKey,container:de}),(0,In.z8)(z.interactiveCanvas),z.state.activeTool.locked||z.setState({activeTool:(0,E.Om)(z.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(i,C,K){var oe=(0,ke.wC)(K.origin.x,K.origin.y,null),we=(0,w.Z)(oe,2),de=we[0],$=we[1],ne=z.getTopLayerFrameAtSceneCoords({x:de,y:$}),Pe=(0,pe.KE)({type:C,x:de,y:$,strokeColor:z.state.currentItemStrokeColor,backgroundColor:z.state.currentItemBackgroundColor,fillStyle:z.state.currentItemFillStyle,strokeWidth:z.state.currentItemStrokeWidth,strokeStyle:z.state.currentItemStrokeStyle,roughness:z.state.currentItemRoughness,opacity:z.state.currentItemOpacity,roundness:null,simulatePressure:i.pressure===.5,locked:!1,frameId:ne?ne.id:null});z.setState(function(it){var st=wr({},it.selectedElementIds);return delete st[Pe.id],{selectedElementIds:(0,Jt.Oh)(st,it)}});var Be=Pe.simulatePressure?Pe.pressures:[].concat((0,v.Z)(Pe.pressures),[i.pressure]);(0,M.DR)(Pe,{points:[[0,0]],pressures:Be});var Fe=(0,I.Y9)(K.origin,z.scene);z.scene.addNewElement(Pe),z.setState({draggingElement:Pe,editingElement:Pe,startBoundElement:Fe,suggestedBindings:[]})},this.insertEmbeddableElement=function(i){var C,K=i.sceneX,oe=i.sceneY,we=i.link,de=(0,ke.wC)(K,oe,(C=z.lastPointerDownEvent)!==null&&C!==void 0&&C[B.tW.CTRL_OR_CMD]?null:z.state.gridSize),$=(0,w.Z)(de,2),ne=$[0],Pe=$[1],Be=(0,f.LM)(we);if(Be){Be.warning&&z.setToast({message:Be.warning,closable:!0});var Fe=(0,pe.M)({type:"embeddable",x:ne,y:Pe,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:z.state.currentItemFillStyle,strokeWidth:z.state.currentItemStrokeWidth,strokeStyle:z.state.currentItemStrokeStyle,roughness:z.state.currentItemRoughness,roundness:z.getCurrentItemRoundness("embeddable"),opacity:z.state.currentItemOpacity,locked:!1,width:Be.aspectRatio.w,height:Be.aspectRatio.h,link:we,validated:null});return z.scene.replaceAllElements([].concat((0,v.Z)(z.scene.getElementsIncludingDeleted()),[Fe])),Fe}},this.createImageElement=function(i){var C,K=i.sceneX,oe=i.sceneY,we=i.addToFrameUnderCursor,de=we===void 0||we,$=(0,ke.wC)(K,oe,(C=z.lastPointerDownEvent)!==null&&C!==void 0&&C[B.tW.CTRL_OR_CMD]?null:z.state.gridSize),ne=(0,w.Z)($,2),Pe=ne[0],Be=ne[1],Fe=de?z.getTopLayerFrameAtSceneCoords({x:Pe,y:Be}):null;return(0,se.vw)({type:"image",x:Pe,y:Be,strokeColor:z.state.currentItemStrokeColor,backgroundColor:z.state.currentItemBackgroundColor,fillStyle:z.state.currentItemFillStyle,strokeWidth:z.state.currentItemStrokeWidth,strokeStyle:z.state.currentItemStrokeStyle,roughness:z.state.currentItemRoughness,roundness:null,opacity:z.state.currentItemOpacity,locked:!1,frameId:Fe?Fe.id:null})},this.handleLinearElementOnPointerDown=function(i,C,K){if(z.state.multiElement){var oe=z.state.multiElement;if(oe.type==="line"&&(0,ke.g6)(oe.points,z.state.zoom.value))return(0,M.DR)(oe,{lastCommittedPoint:oe.points[oe.points.length-1]}),void z.actionManager.executeAction(X.pL);var we=oe.x,de=oe.y,$=oe.lastCommittedPoint;if(oe.points.length>1&&$&&(0,ke.LW)(K.origin.x-we,K.origin.y-de,$[0],$[1])<p.qx)return void z.actionManager.executeAction(X.pL);z.setState(function(xn){return{selectedElementIds:(0,Jt.Oh)(wr(wr({},xn.selectedElementIds),{},(0,F.Z)({},oe.id,!0)),xn)}}),(0,M.DR)(oe,{lastCommittedPoint:oe.points[oe.points.length-1]}),(0,In.KJ)(z.interactiveCanvas,p.oc.POINTER)}else{var ne=(0,ke.wC)(K.origin.x,K.origin.y,i[B.tW.CTRL_OR_CMD]?null:z.state.gridSize),Pe=(0,w.Z)(ne,2),Be=Pe[0],Fe=Pe[1],it=z.getTopLayerFrameAtSceneCoords({x:Be,y:Fe}),st=z.state,vt=st.currentItemStartArrowhead,jt=st.currentItemEndArrowhead,Lt=C==="arrow"?[vt,jt]:[null,null],Qt=(0,w.Z)(Lt,2),vn=Qt[0],$t=Qt[1],Ut=(0,se.y8)({type:C,x:Be,y:Fe,strokeColor:z.state.currentItemStrokeColor,backgroundColor:z.state.currentItemBackgroundColor,fillStyle:z.state.currentItemFillStyle,strokeWidth:z.state.currentItemStrokeWidth,strokeStyle:z.state.currentItemStrokeStyle,roughness:z.state.currentItemRoughness,opacity:z.state.currentItemOpacity,roundness:z.state.currentItemRoundness==="round"?{type:p.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:vn,endArrowhead:$t,locked:!1,frameId:it?it.id:null});z.setState(function(xn){var Dn=wr({},xn.selectedElementIds);return delete Dn[Ut.id],{selectedElementIds:(0,Jt.Oh)(Dn,xn)}}),(0,M.DR)(Ut,{points:[].concat((0,v.Z)(Ut.points),[[0,0]])});var tn=(0,I.Y9)(K.origin,z.scene);z.scene.addNewElement(Ut),z.setState({draggingElement:Ut,editingElement:Ut,startBoundElement:tn,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(i,C){var K,oe,we=(0,ke.wC)(C.origin.x,C.origin.y,(K=z.lastPointerDownEvent)!==null&&K!==void 0&&K[B.tW.CTRL_OR_CMD]?null:z.state.gridSize),de=(0,w.Z)(we,2),$=de[0],ne=de[1],Pe=z.getTopLayerFrameAtSceneCoords({x:$,y:ne}),Be={x:$,y:ne,strokeColor:z.state.currentItemStrokeColor,backgroundColor:z.state.currentItemBackgroundColor,fillStyle:z.state.currentItemFillStyle,strokeWidth:z.state.currentItemStrokeWidth,strokeStyle:z.state.currentItemStrokeStyle,roughness:z.state.currentItemRoughness,opacity:z.state.currentItemOpacity,roundness:z.getCurrentItemRoundness(i),locked:!1,frameId:Pe?Pe.id:null};(oe=i==="embeddable"?(0,pe.M)(wr({type:"embeddable",validated:null},Be)):(0,se.Up)(wr({type:i},Be))).type==="selection"?z.setState({selectionElement:oe,draggingElement:oe}):(z.scene.addNewElement(oe),z.setState({multiElement:null,draggingElement:oe,editingElement:oe}))},this.createFrameElementOnPointerDown=function(i){var C,K=(0,ke.wC)(i.origin.x,i.origin.y,(C=z.lastPointerDownEvent)!==null&&C!==void 0&&C[B.tW.CTRL_OR_CMD]?null:z.state.gridSize),oe=(0,w.Z)(K,2),we=oe[0],de=oe[1],$=(0,pe.M3)(wr({x:we,y:de,opacity:z.state.currentItemOpacity,locked:!1},p.iG));z.scene.replaceAllElements([].concat((0,v.Z)(z.scene.getElementsIncludingDeleted()),[$])),z.setState({multiElement:null,draggingElement:$,editingElement:$})},this.restoreReadyToEraseElements=function(i){var C=z.scene.getElementsIncludingDeleted().map(function(K){return i.elementIdsToErase[K.id]&&i.elementIdsToErase[K.id].erase?(0,M.BE)(K,{opacity:i.elementIdsToErase[K.id].opacity}):(0,Q.Xh)(K)&&i.elementIdsToErase[K.containerId]&&i.elementIdsToErase[K.containerId].erase?(0,M.BE)(K,{opacity:i.elementIdsToErase[K.containerId].opacity}):K.frameId&&i.elementIdsToErase[K.frameId]&&i.elementIdsToErase[K.frameId].erase?(0,M.BE)(K,{opacity:i.elementIdsToErase[K.frameId].opacity}):K});z.scene.replaceAllElements(C)},this.eraseElements=function(i){var C=z.scene.getElementsIncludingDeleted().map(function(K){return i.elementIdsToErase[K.id]&&i.elementIdsToErase[K.id].erase||(0,Q.Xh)(K)&&i.elementIdsToErase[K.containerId]&&i.elementIdsToErase[K.containerId].erase||K.frameId&&i.elementIdsToErase[K.frameId]&&i.elementIdsToErase[K.frameId].erase?(0,M.BE)(K,{isDeleted:!0}):K});z.history.resumeRecording(),z.scene.replaceAllElements(C)},this.initializeImage=function(){var i=(0,d.Z)(h().mark(function C(K){var oe,we,de,$,ne,Pe,Be,Fe,it,st,vt,jt,Lt,Qt,vn;return h().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if($=K.imageFile,ne=K.imageElement,Pe=K.showCursorImagePreview,Be=Pe!==void 0&&Pe,(0,hn.Wr)($)){$t.next=3;break}throw new Error((0,R.t)("errors.unsupportedFileType"));case 3:if(Fe=$.type,(0,In.KJ)(z.interactiveCanvas,"wait"),Fe!==p.LO.svg){$t.next=23;break}return $t.prev=6,$t.t0=hn.Pn,$t.t1=nt.bp,$t.next=11,$.text();case 11:return $t.t2=$t.sent,$t.next=14,(0,$t.t1)($t.t2);case 14:$t.t3=$t.sent,$t.t4=$.name,$=(0,$t.t0)($t.t3,$t.t4),$t.next=23;break;case 19:throw $t.prev=19,$t.t5=$t.catch(6),console.warn($t.t5),new Error((0,R.t)("errors.svgImageInsertError"));case 23:return $t.next=25,((oe=(we=z.props).generateIdForFile)===null||oe===void 0?void 0:oe.call(we,$))||(0,hn.tW)($);case 25:if(it=$t.sent){$t.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,R.t)("errors.imageInsertError"));case 29:if((st=z.files[it])!=null&&st.dataURL){$t.next=42;break}return $t.prev=31,$t.next=34,(0,hn.Tu)($,{maxWidthOrHeight:p.h6});case 34:$=$t.sent,$t.next=40;break;case 37:$t.prev=37,$t.t6=$t.catch(31),console.error("error trying to resing image file on insertion",$t.t6);case 40:if(!($.size>p.$n)){$t.next=42;break}throw new Error((0,R.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(p.$n/1024/1024),"MB")}));case 42:if(Be&&(jt=(vt=z.files[it])===null||vt===void 0?void 0:vt.dataURL,Lt=jt&&(0,hn.KG)(jt),z.setImagePreviewCursor(Lt||$)),$t.t7=(de=z.files[it])===null||de===void 0?void 0:de.dataURL,$t.t7){$t.next=48;break}return $t.next=47,(0,hn.Sf)($);case 47:$t.t7=$t.sent;case 48:return Qt=$t.t7,vn=(0,M.DR)(ne,{fileId:it},!1),$t.abrupt("return",new Promise(function(){var Ut=(0,d.Z)(h().mark(function tn(xn,Dn){var En,yn;return h().wrap(function(Un){for(;;)switch(Un.prev=Un.next){case 0:if(Un.prev=0,z.files=wr(wr({},z.files),{},(0,F.Z)({},it,{mimeType:Fe,id:it,dataURL:Qt,created:Date.now(),lastRetrieved:Date.now()})),yn=z.imageCache.get(it)){Un.next=7;break}return z.addNewImagesToImageCache(),Un.next=7,z.updateImageCache([vn]);case 7:if(!(yn?.image instanceof Promise)){Un.next=10;break}return Un.next=10,yn.image;case 10:z.state.pendingImageElementId!==vn.id&&((En=z.state.draggingElement)===null||En===void 0?void 0:En.id)!==vn.id&&z.initializeImageDimensions(vn,!0),xn(vn),Un.next=18;break;case 14:Un.prev=14,Un.t0=Un.catch(0),console.error(Un.t0),Dn(new Error((0,R.t)("errors.imageInsertError")));case 18:return Un.prev=18,Be||(0,In.z8)(z.interactiveCanvas),Un.finish(18);case 21:case"end":return Un.stop()}},tn,null,[[0,14,18,21]])}));return function(tn,xn){return Ut.apply(this,arguments)}}()));case 51:case"end":return $t.stop()}},C,null,[[6,19],[31,37]])}));return function(C){return i.apply(this,arguments)}}(),this.insertImageElement=function(){var i=(0,d.Z)(h().mark(function C(K,oe,we){return h().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(z.isToolSupported("image")){de.next=3;break}return z.setState({errorMessage:(0,R.t)("errors.imageToolNotSupported")}),de.abrupt("return");case 3:return z.scene.addNewElement(K),de.prev=4,de.next=7,z.initializeImage({imageFile:oe,imageElement:K,showCursorImagePreview:we});case 7:return de.abrupt("return",de.sent);case 10:return de.prev=10,de.t0=de.catch(4),(0,M.DR)(K,{isDeleted:!0}),z.actionManager.executeAction(X.pL),z.setState({errorMessage:de.t0.message||(0,R.t)("errors.imageInsertError")}),de.abrupt("return",null);case 16:case"end":return de.stop()}},C,null,[[4,10]])}));return function(C,K,oe){return i.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var i=(0,d.Z)(h().mark(function C(K){var oe,we,de,$,ne,Pe,Be;return h().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return oe=96,Fe.next=3,(0,hn.Tu)(K,{maxWidthOrHeight:oe});case 3:return we=Fe.sent,Fe.next=6,(0,hn.Sf)(we);case 6:if(de=Fe.sent,K.type!==p.LO.svg){Fe.next=20;break}return Fe.next=10,(0,nt.PK)(de);case 10:$=Fe.sent,ne=Math.min($.height,oe),(Pe=ne*($.width/$.height))>oe&&(ne=(Pe=oe)*($.height/$.width)),(Be=document.createElement("canvas")).height=ne,Be.width=Pe,Be.getContext("2d").drawImage($,0,0,Pe,ne),de=Be.toDataURL(p.LO.svg);case 20:z.state.pendingImageElementId&&(0,In.KJ)(z.interactiveCanvas,"url(".concat(de,") 4 4, auto"));case 21:case"end":return Fe.stop()}},C)}));return function(C){return i.apply(this,arguments)}}(),this.onImageAction=function(){var i=(0,d.Z)(h().mark(function C(K){var oe,we,de,$,ne,Pe,Be,Fe;return h().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return oe=K.insertOnCanvasDirectly,it.prev=1,we=z.state.width/2+z.state.offsetLeft,de=z.state.height/2+z.state.offsetTop,$=(0,E.dE)({clientX:we,clientY:de},z.state),ne=$.x,Pe=$.y,it.next=7,(0,An.I$)({description:"Image",extensions:Object.keys(p.KL)});case 7:Be=it.sent,Fe=z.createImageElement({sceneX:ne,sceneY:Pe,addToFrameUnderCursor:!1}),oe?(z.insertImageElement(Fe,Be),z.initializeImageDimensions(Fe),z.setState({selectedElementIds:(0,Jt.Oh)((0,F.Z)({},Fe.id,!0),z.state)},function(){z.actionManager.executeAction(X.pL)})):z.setState({pendingImageElementId:Fe.id},function(){z.insertImageElement(Fe,Be,!0)}),it.next=16;break;case 12:it.prev=12,it.t0=it.catch(1),it.t0.name!=="AbortError"?console.error(it.t0):console.warn(it.t0),z.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,E.Om)(z.state,{type:"selection"})},function(){z.actionManager.executeAction(X.pL)});case 16:case"end":return it.stop()}},C,null,[[1,12]])}));return function(C){return i.apply(this,arguments)}}(),this.initializeImageDimensions=function(i){var C,K=arguments.length>1&&arguments[1]!==void 0&&arguments[1],oe=(0,Q.wi)(i)&&((C=z.imageCache.get(i.fileId))===null||C===void 0?void 0:C.image);if(!oe||oe instanceof Promise){if(i.width<p.f/z.state.zoom.value&&i.height<p.f/z.state.zoom.value){var we=100/z.state.zoom.value;(0,M.DR)(i,{x:i.x-we/2,y:i.y-we/2,width:we,height:we})}}else if(K||i.width<p.f/z.state.zoom.value&&i.height<p.f/z.state.zoom.value){var de=Math.max(z.state.height-120,160),$=Math.min(de,Math.floor(.5*z.state.height)/z.state.zoom.value),ne=Math.min(oe.naturalHeight,$),Pe=ne*(oe.naturalWidth/oe.naturalHeight),Be=i.x+i.width/2-Pe/2,Fe=i.y+i.height/2-ne/2;(0,M.DR)(i,{x:Be,y:Fe,width:Pe,height:ne})}},this.updateImageCache=function(){var i=(0,d.Z)(h().mark(function C(K){var oe,we,de,$,ne,Pe,Be,Fe=arguments;return h().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return oe=Fe.length>1&&Fe[1]!==void 0?Fe[1]:z.files,it.next=3,(0,nt.Xx)({imageCache:z.imageCache,fileIds:K.map(function(st){return st.fileId}),files:oe});case 3:if(we=it.sent,de=we.updatedFiles,$=we.erroredFiles,de.size||$.size){ne=Oi(K);try{for(ne.s();!(Pe=ne.n()).done;)Be=Pe.value,de.has(Be.fileId)&&Ri.R.delete(Be)}catch(st){ne.e(st)}finally{ne.f()}}return $.size&&z.scene.replaceAllElements(z.scene.getElementsIncludingDeleted().map(function(st){return(0,Q.wi)(st)&&$.has(st.fileId)?(0,M.BE)(st,{status:"error"}):st})),it.abrupt("return",{updatedFiles:de,erroredFiles:$});case 9:case"end":return it.stop()}},C)}));return function(C){return i.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,d.Z)(h().mark(function i(){var C,K,oe,we,de=arguments;return h().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(C=de.length>0&&de[0]!==void 0?de[0]:(0,nt.oA)(z.scene.getNonDeletedElements()),K=de.length>1&&de[1]!==void 0?de[1]:z.files,!(oe=C.filter(function(ne){return!ne.isDeleted&&!z.imageCache.has(ne.fileId)})).length){$.next=9;break}return $.next=6,z.updateImageCache(oe,K);case 6:we=$.sent,we.updatedFiles.size&&z.scene.informMutation();case 9:case"end":return $.stop()}},i)})),this.scheduleImageRefresh=xt()(function(){z.addNewImagesToImageCache()},p.LL),this.updateBindingEnabledOnPointerMove=function(i){var C=(0,I.cz)(i);z.state.isBindingEnabled!==C&&z.setState({isBindingEnabled:C})},this.maybeSuggestBindingAtCursor=function(i){var C=(0,I.Y9)(i,z.scene);z.setState({suggestedBindings:C!=null?[C]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(i,C,K){if(C.length){var oe=C.reduce(function(we,de){var $=(0,I.Y9)(de,z.scene);return $==null||(0,I.DK)(i,K?.id,$)||we.push($),we},[]);z.setState({suggestedBindings:oe})}},this.handleInteractiveCanvasRef=function(i){var C,K,oe;i!==null?(z.interactiveCanvas=i,z.interactiveCanvas.addEventListener(p.Ks.WHEEL,z.handleWheel),z.interactiveCanvas.addEventListener(p.Ks.TOUCH_START,z.onTouchStart),z.interactiveCanvas.addEventListener(p.Ks.TOUCH_END,z.onTouchEnd)):((C=z.interactiveCanvas)===null||C===void 0||C.removeEventListener(p.Ks.WHEEL,z.handleWheel),(K=z.interactiveCanvas)===null||K===void 0||K.removeEventListener(p.Ks.TOUCH_START,z.onTouchStart),(oe=z.interactiveCanvas)===null||oe===void 0||oe.removeEventListener(p.Ks.TOUCH_END,z.onTouchEnd))},this.handleAppOnDrop=function(){var i=(0,d.Z)(h().mark(function C(K){var oe,we,de,$,ne,Pe,Be,Fe,it,st,vt,jt,Lt,Qt,vn,$t;return h().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return Ut.next=2,(0,hn.bv)(K);case 2:if(de=Ut.sent,$=de.file,ne=de.fileHandle,Pe=(0,E.dE)(K,z.state),Be=Pe.x,Fe=Pe.y,Ut.prev=6,!(0,hn.Wr)($)||!z.isToolSupported("image")){Ut.next=26;break}if($?.type!==p.LO.png&&$?.type!==p.LO.svg){Ut.next=21;break}return Ut.prev=9,Ut.next=12,(0,L.cT)($,z.state,z.scene.getElementsIncludingDeleted(),ne);case 12:return it=Ut.sent,z.syncActionResult(wr(wr({},it),{},{appState:wr(wr({},it.appState||z.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Ut.abrupt("return");case 17:if(Ut.prev=17,Ut.t0=Ut.catch(9),Ut.t0.name==="EncodingError"){Ut.next=21;break}throw Ut.t0;case 21:return st=z.createImageElement({sceneX:Be,sceneY:Fe}),z.insertImageElement(st,$),z.initializeImageDimensions(st),z.setState({selectedElementIds:(0,Jt.Oh)((0,F.Z)({},st.id,!0),z.state)}),Ut.abrupt("return");case 26:Ut.next=31;break;case 28:return Ut.prev=28,Ut.t1=Ut.catch(6),Ut.abrupt("return",z.setState({isLoading:!1,errorMessage:Ut.t1.message}));case 31:if(!(vt=K.dataTransfer.getData(p.LO.excalidrawlib))||typeof vt!="string"){Ut.next=35;break}try{jt=(0,hn.wf)(vt),z.addElementsFromPasteOrLibrary({elements:(0,V.WV)(jt),position:K,files:null})}catch(tn){z.setState({errorMessage:tn.message})}return Ut.abrupt("return");case 35:if(!$){Ut.next=38;break}return Ut.next=38,z.loadFileToCanvas($,ne);case 38:(oe=K.dataTransfer)!==null&&oe!==void 0&&(we=oe.types)!==null&&we!==void 0&&we.includes("text/plain")&&(vn=(Lt=K.dataTransfer)===null||Lt===void 0?void 0:Lt.getData("text"))&&(0,f.xm)(vn,z.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(vn)||((Qt=(0,f.LM)(vn))===null||Qt===void 0?void 0:Qt.type)==="video")&&($t=z.insertEmbeddableElement({sceneX:Be,sceneY:Fe,link:(0,Cn.$u)(vn)}))&&z.setState({selectedElementIds:(0,F.Z)({},$t.id,!0)});case 39:case"end":return Ut.stop()}},C,null,[[6,28],[9,17]])}));return function(C){return i.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var i=(0,d.Z)(h().mark(function C(K,oe){var we;return h().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,(0,hn.gY)(K);case 2:return K=de.sent,de.prev=3,de.next=6,(0,hn.ZY)(K,z.state,z.scene.getElementsIncludingDeleted(),oe);case 6:if((we=de.sent).type!==p.LO.excalidraw){de.next=12;break}z.setState({isLoading:!0}),z.syncActionResult(wr(wr({},we.data),{},{appState:wr(wr({},we.data.appState||z.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),de.next=15;break;case 12:if(we.type!==p.LO.excalidrawlib){de.next=15;break}return de.next=15,z.library.updateLibrary({libraryItems:K,merge:!0,openLibraryMenu:!0}).catch(function($){console.error($),z.setState({errorMessage:(0,R.t)("errors.importLibraryError")})});case 15:de.next=23;break;case 17:if(de.prev=17,de.t0=de.catch(3),!(de.t0 instanceof qr.jk&&de.t0.code==="IMAGE_NOT_CONTAINS_SCENE_DATA")||z.isToolSupported("image")){de.next=22;break}return z.setState({isLoading:!1,errorMessage:(0,R.t)("errors.imageToolNotSupported")}),de.abrupt("return");case 22:z.setState({isLoading:!1,errorMessage:de.t0.message});case 23:case"end":return de.stop()}},C,null,[[3,17]])}));return function(C,K){return i.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(i){if(i.preventDefault(),!("pointerType"in i.nativeEvent&&i.nativeEvent.pointerType==="touch"||"pointerType"in i.nativeEvent&&i.nativeEvent.pointerType==="pen"&&i.button!==p.Oh.SECONDARY)||z.state.activeTool.type==="selection"){var C=(0,E.dE)(i,z.state),K=C.x,oe=C.y,we=z.getElementAtPosition(K,oe,{preferSelected:!0,includeLockedElements:!0}),de=z.scene.getSelectedElements(z.state),$=z.isHittingCommonBoundingBoxOfSelectedElements({x:K,y:oe},de),ne=we||$?"element":"canvas",Pe=z.excalidrawContainerRef.current.getBoundingClientRect(),Be=Pe.top,Fe=Pe.left,it=i.clientX-Fe,st=i.clientY-Be;(0,u.L)("contextMenu","openContextMenu",ne),z.setState(wr(wr({},we&&!z.state.selectedElementIds[we.id]?wr(wr(wr({},z.state),(0,Ue.bO)({editingGroupId:z.state.editingGroupId,selectedElementIds:(0,F.Z)({},we.id,!0)},z.scene.getNonDeletedElements(),z.state,z)),{},{selectedLinearElement:(0,Q.bt)(we)?new ue._(we,z.scene):null}):z.state),{},{showHyperlinkPopup:!1}),function(){z.setState({contextMenu:{top:st,left:it,items:z.getContextMenuItems(ne)}})})}},this.maybeDragNewGenericElement=function(i,C){var K=z.state.draggingElement,oe=i.lastCoords;if(K)if(K.type==="selection"&&z.state.activeTool.type!=="eraser")(0,se.EJ)(K,z.state.activeTool.type,i.origin.x,i.origin.y,oe.x,oe.y,(0,E.TE)(i.origin.x,oe.x),(0,E.TE)(i.origin.y,oe.y),(0,B.E0)(C),(0,B.OA)(C));else{var we,de,$,ne,Pe,Be=(0,ke.wC)(oe.x,oe.y,C[B.tW.CTRL_OR_CMD]?null:z.state.gridSize),Fe=(0,w.Z)(Be,2),it=Fe[0],st=Fe[1],vt=(0,Q.wi)(K)&&((we=z.imageCache.get(K.fileId))===null||we===void 0?void 0:we.image),jt=!vt||vt instanceof Promise?null:vt.width/vt.height;z.maybeCacheReferenceSnapPoints(C,[K]);var Lt=function($t,Ut,tn,xn,Dn){var En,yn,Un,gr;if(!fo({event:tn,selectedElements:[$t],appState:Ut}))return{snapOffset:{x:0,y:0},snapLines:[]};var _r=[[xn.x+Dn.x,xn.y+Dn.y]],zr=ro(Ut.zoom.value),Qr={x:zr,y:zr},ao=[],Rr=[];Ye([$t],_r,Ut,tn,ao,Rr,Qr);var Nr={x:(En=(yn=ao[0])===null||yn===void 0?void 0:yn.offset)!==null&&En!==void 0?En:0,y:(Un=(gr=Rr[0])===null||gr===void 0?void 0:gr.offset)!==null&&Un!==void 0?Un:0};Qr.x=0,Qr.y=0,ao.length=0,Rr.length=0;var Fr=Mo([$t],{boundingBoxCorners:!0,omitCenter:!0});return Ye([$t],Fr,Ut,tn,ao,Rr,Qr),{snapOffset:Nr,snapLines:gt(ao,Rr)}}(K,z.state,C,{x:i.originInGrid.x+((de=($=z.state.originSnapOffset)===null||$===void 0?void 0:$.x)!==null&&de!==void 0?de:0),y:i.originInGrid.y+((ne=(Pe=z.state.originSnapOffset)===null||Pe===void 0?void 0:Pe.y)!==null&&ne!==void 0?ne:0)},{x:it-i.originInGrid.x,y:st-i.originInGrid.y}),Qt=Lt.snapOffset,vn=Lt.snapLines;it+=Qt.x,st+=Qt.y,z.setState({snapLines:vn}),(0,se.EJ)(K,z.state.activeTool.type,i.originInGrid.x,i.originInGrid.y,it,st,(0,E.TE)(i.originInGrid.x,it),(0,E.TE)(i.originInGrid.y,st),(0,Q.pC)(K)?!(0,B.E0)(C):(0,B.E0)(C),(0,B.OA)(C),jt,z.state.originSnapOffset),z.maybeSuggestBindingForAll([K]),z.state.activeTool.type==="frame"&&z.setState({elementsToHighlight:(0,mn.ni)(z.scene.getNonDeletedElements(),K,z.state)})}},this.maybeHandleResize=function(i,C){var K=z.scene.getSelectedElements(z.state),oe=K.filter(function(xn){return xn.type==="frame"}),we=i.resize.handleType;if(oe.length>0&&we==="rotation")return!1;z.setState({isResizing:we&&we!=="rotation",isRotating:we==="rotation",activeEmbeddable:null});var de=i.lastCoords,$=(0,ke.wC)(de.x-i.resize.offset.x,de.y-i.resize.offset.y,C[B.tW.CTRL_OR_CMD]?null:z.state.gridSize),ne=(0,w.Z)($,2),Pe=ne[0],Be=ne[1],Fe=new Map;if(oe.forEach(function(xn){(0,mn.zD)(z.scene.getNonDeletedElements(),xn.id).forEach(function(Dn){Fe.set(xn.id+Dn.id,{x:Dn.x-xn.x,y:Dn.y-xn.y})})}),!z.state.selectedElementsAreBeingDragged){var it=(0,ke.wC)(de.x,de.y,C[B.tW.CTRL_OR_CMD]?null:z.state.gridSize),st=(0,w.Z)(it,2),vt=st[0],jt=st[1],Lt={x:vt-i.originInGrid.x,y:jt-i.originInGrid.y},Qt=(0,v.Z)(i.originalElements.values());z.maybeCacheReferenceSnapPoints(C,K);var vn=_t(K,(0,xe.eD)(Qt,z.state),z.state,C,Lt,we),$t=vn.snapOffset,Ut=vn.snapLines;Pe+=$t.x,Be+=$t.y,z.setState({snapLines:Ut})}if((0,se.vY)(i,we,K,i.resize.arrowDirection,(0,B.Ge)(C),(0,B.OA)(C),K.length===1&&(0,Q.pC)(K[0])?!(0,B.E0)(C):(0,B.E0)(C),Pe,Be,i.resize.center.x,i.resize.center.y,z.state)){z.maybeSuggestBindingForAll(K);var tn=new Set;return oe.forEach(function(xn){var Dn=(0,mn.zD)(z.scene.getNonDeletedElements(),xn.id);we&&(we.includes("w")&&Dn.forEach(function(En){var yn,Un;(0,M.DR)(En,{x:xn.x+(((yn=Fe.get(xn.id+En.id))===null||yn===void 0?void 0:yn.x)||0),y:xn.y+(((Un=Fe.get(xn.id+En.id))===null||Un===void 0?void 0:Un.y)||0)})}),we.includes("n")&&Dn.forEach(function(En){var yn,Un;(0,M.DR)(En,{x:xn.x+(((yn=Fe.get(xn.id+En.id))===null||yn===void 0?void 0:yn.x)||0),y:xn.y+(((Un=Fe.get(xn.id+En.id))===null||Un===void 0?void 0:Un.y)||0)})})),(0,mn.ni)(z.scene.getNonDeletedElements(),xn,z.state).forEach(function(En){return tn.add(En)})}),z.setState({elementsToHighlight:(0,v.Z)(tn)}),!0}return!1},this.getContextMenuItems=function(i){var C=[];return C.push(X.jK,X.FA),i==="canvas"?z.state.viewModeEnabled?[].concat(C,[X.Pb,X.JN,De,X.u0]):[On.yQ,Le,X.jK,X.FA,X.zp,Le,X.Yy,Ot.U,Le,X.Pb,X.pm,X.JN,De,X.u0]:(C.push(X.zp),z.state.viewModeEnabled?[X.uN].concat(C):[X.ZM,X.uN,On.yQ,dr,jr,Le].concat(C,[Le,X.pw,X.W3,Le,X.EQ,X.y7,X.vD,Dt.JQ,X.s,Le,X.FL,Le,X.V,X.yA,X.zi,X.BZ,Le,X.jl,X.kt,Le,X.Qs,X.nz,X.xF,X.$h,Le,X.X9]))},this.handleWheel=(0,E.tH)(function(i){if(i.preventDefault(),!il){var C=i.deltaX,K=i.deltaY;if(i.metaKey||i.ctrlKey){var oe=Math.sign(K),we=100*p.V4,de=Math.abs(K),$=K;de>we&&($=we*oe);var ne=z.state.zoom.value-$/100;return ne+=Math.log10(Math.max(1,z.state.zoom.value))*-oe*Math.min(1,de/20),z.translateCanvas(function(Pe){return wr(wr({},(0,P.E)({viewportX:z.lastViewportPosition.x,viewportY:z.lastViewportPosition.y,nextZoom:(0,xe.j)(ne)},Pe)),{},{shouldCacheIgnoreZoom:!0})}),void z.resetShouldCacheIgnoreZoomDebounced()}i.shiftKey?z.translateCanvas(function(Pe){var Be=Pe.zoom;return{scrollX:Pe.scrollX-(K||C)/Be.value}}):z.translateCanvas(function(Pe){var Be=Pe.zoom,Fe=Pe.scrollX,it=Pe.scrollY;return{scrollX:Fe-C/Be.value,scrollY:it-K/Be.value}})}}),this.savePointer=function(i,C,K){var oe,we;if(i&&C){var de=(0,E.dE)({clientX:i,clientY:C},z.state),$=de.x,ne=de.y,Pe={x:$,y:ne,tool:z.state.activeTool.type==="laser"?"laser":"pointer"};(oe=(we=z.props).onPointerUpdate)===null||oe===void 0||oe.call(we,{pointer:Pe,button:K,pointersMap:Go.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,E.Ds)(function(){z.unmounted||z.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(i){var C;if((C=z.excalidrawContainerRef)!==null&&C!==void 0&&C.current){var K=z.excalidrawContainerRef.current.getBoundingClientRect(),oe=K.width,we=K.height,de=K.left,$=K.top,ne=z.state,Pe=ne.width,Be=ne.height,Fe=ne.offsetTop,it=ne.offsetLeft;if(oe===Pe&&we===Be&&de===it&&$===Fe)return void(i&&i());z.setState({width:oe,height:we,offsetLeft:de,offsetTop:$},function(){i&&i()})}},this.refresh=function(){z.setState(wr({},z.getCanvasOffsets()))}};p.Vi.TEST==="production"&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var z;return(z=this.app)===null||z===void 0?void 0:z.scene.getElementsIncludingDeleted()},set:function(z){var i;return(i=this.app)===null||i===void 0?void 0:i.scene.replaceAllElements(z)}}}));var Nc=Qo},8806:function(We,te,t){t.d(te,{z:function(){return R}});var e=t(7169),w=t(2726),v=t(45),d=t(9827),b=t(3379),T=t.n(b),S=t(7795),a=t.n(S),c=t(569),Z=t.n(c),F=t(3565),_=t.n(F),h=t(9216),x=t.n(h),G=t(4589),le=t.n(G),he=t(3137),ve={};ve.styleTagTransform=le(),ve.setAttributes=_(),ve.insert=Z().bind(null,"head"),ve.domAPI=a(),ve.insertStyleElement=x(),T()(he.Z,ve),he.Z&&he.Z.locals&&he.Z.locals;var fe=t(4512),X=["type","onSelect","selected","children","className"];function q(B,M){var I=Object.keys(B);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(B);M&&(E=E.filter(function(p){return Object.getOwnPropertyDescriptor(B,p).enumerable})),I.push.apply(I,E)}return I}function U(B){for(var M=1;M<arguments.length;M++){var I=arguments[M]!=null?arguments[M]:{};M%2?q(Object(I),!0).forEach(function(E){(0,e.Z)(B,E,I[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(I)):q(Object(I)).forEach(function(E){Object.defineProperty(B,E,Object.getOwnPropertyDescriptor(I,E))})}return B}var R=function(B){var M=B.type,I=M===void 0?"button":M,E=B.onSelect,p=B.selected,r=B.children,o=B.className,g=o===void 0?"":o,s=(0,w.Z)(B,X);return(0,fe.jsx)("button",U(U({onClick:(0,d.Mj)(s.onClick,function(u){E()}),type:I,className:(0,v.Z)("excalidraw-button",g,{selected:p})},s),{},{children:r}))}},6238:function(We,te,t){t.d(te,{o:function(){return ve}});var e=t(45),w=t(8935),v=t(3379),d=t.n(v),b=t(7795),T=t.n(b),S=t(569),a=t.n(S),c=t(3565),Z=t.n(c),F=t(9216),_=t.n(F),h=t(4589),x=t.n(h),G=t(6029),le={};le.styleTagTransform=x(),le.setAttributes=Z(),le.insert=a().bind(null,"head"),le.domAPI=T(),le.insertStyleElement=_(),d()(G.Z,le),G.Z&&G.Z.locals&&G.Z.locals;var he=t(4512),ve=function(fe){var X=fe.children,q=fe.checked,U=fe.onChange,R=fe.className;return(0,he.jsxs)("div",{className:(0,e.Z)("Checkbox",R,{"is-checked":q}),onClick:function(B){U(!q,B),B.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,he.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":q,children:w.eQ}),(0,he.jsx)("div",{className:"Checkbox-label",children:X})]})}},193:function(We,te,t){t.d(te,{z:function(){return Ao},L:function(){return fo}});var e=t(2577),w=t(9827),v=t(45),d=t(9240),b=t(4512),T=function(at){var Me,Ye=at.onChange,Xe=at.type,lt=at.activeColor,gt=at.topPicks;return Xe==="elementStroke"&&(Me=d.fY),Xe==="elementBackground"&&(Me=d.eq),Xe==="canvasBackground"&&(Me=d.ay),gt&&(Me=gt),Me?(0,b.jsx)("div",{className:"color-picker__top-picks",children:Me.map(function(Ct){return(0,b.jsx)("button",{className:(0,v.Z)("color-picker__button",{active:Ct===lt,"is-transparent":Ct==="transparent"||!Ct}),style:{"--swatch-color":Ct},type:"button",title:Ct,onClick:function(){return Ye(Ct)},"data-testid":"color-top-pick-".concat(Ct),children:(0,b.jsx)("div",{className:"color-picker__button-outline"})},Ct)})}):(console.error("Invalid type for TopPicks"),null)},S=t(9787),a=t.n(S),c=t(8227),Z=t(3607),F=t(1930),_=function(at){for(var Me=at.palette,Ye=at.color,Xe=0,lt=Object.entries(Me);Xe<lt.length;Xe++){var gt=(0,e.Z)(lt[Xe],2),Ct=gt[0],_t=gt[1];if(Array.isArray(_t)){var Dt=_t.indexOf(Ye);if(Dt>-1)return{colorName:Ct,shade:Dt}}else if(_t===Ye)return{colorName:Ct,shade:null}}return null},h=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),x=function(at){var Me=at.color,Ye=at.palette;return!Object.values(Ye).flat().includes(Me)},G=(0,Z.cn)(null),le=function(at,Me,Ye){return(299*at+587*Me+114*Ye)/1e3>=160?"black":"white"},he=function(at,Me){if(Me){var Ye=new Option().style;if(Ye.color=at,Ye.color){var Xe=Ye.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),lt=parseInt(Xe[0]),gt=parseInt(Xe[1]),Ct=parseInt(Xe[2]);return le(lt,gt,Ct)}}if(at==="transparent")return"black";var _t=parseInt(at.substring(1,3),16),Dt=parseInt(at.substring(3,5),16),wn=parseInt(at.substring(5,7),16);return le(_t,Dt,wn)},ve=function(at){var Me=at.color,Ye=at.keyLabel,Xe=at.isCustomColor,lt=Xe!==void 0&&Xe,gt=at.isShade,Ct=gt!==void 0&&gt;return(0,b.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:he(Me,lt)},children:[Ct&&"⇧",Ye]})},fe=function(at){var Me=at.hex,Ye=at.onChange,Xe=at.palette,lt=_({color:Me||"transparent",palette:Xe}),gt=(0,Z.KO)(G),Ct=(0,e.Z)(gt,2),_t=Ct[0],Dt=Ct[1],wn=(0,S.useRef)(null);if((0,S.useEffect)(function(){wn.current&&_t==="shades"&&wn.current.focus()},[lt,_t]),lt){var Pn=lt.colorName,fn=lt.shade,_n=Xe[Pn];if(Array.isArray(_n))return(0,b.jsx)("div",{className:"color-picker-content--default shades",children:_n.map(function(zn,Nn){return(0,b.jsxs)("button",{ref:Nn===fn&&_t==="shades"?wn:void 0,tabIndex:-1,type:"button",className:(0,v.Z)("color-picker__button color-picker__button--large",{active:Nn===fn}),"aria-label":"Shade",title:"".concat(Pn," - ").concat(Nn+1),style:zn?{"--swatch-color":zn}:void 0,onClick:function(){Ye(zn),Dt("shades")},children:[(0,b.jsx)("div",{className:"color-picker__button-outline"}),(0,b.jsx)(ve,{color:zn,keyLabel:Nn+1,isShade:!0})]},Nn)})})}return(0,b.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,b.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,b.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:(0,c.t)("colorPicker.noShades")})]})},X=function(at){var Me=at.palette,Ye=at.color,Xe=at.onChange,lt=(at.label,at.activeShade),gt=_({color:Ye||"transparent",palette:Me}),Ct=(0,Z.KO)(G),_t=(0,e.Z)(Ct,2),Dt=_t[0],wn=_t[1],Pn=(0,S.useRef)(null);return(0,S.useEffect)(function(){Pn.current&&Dt==="baseColors"&&Pn.current.focus()},[gt?.colorName,Dt]),(0,b.jsx)("div",{className:"color-picker-content--default",children:Object.entries(Me).map(function(fn,_n){var zn=(0,e.Z)(fn,2),Nn=zn[0],Rn=zn[1],Tn=(Array.isArray(Rn)?Rn[lt]:Rn)||"transparent",Vn=h[_n],sr=(0,c.t)("colors.".concat(Nn.replace(/\d+/,"")),null,"");return(0,b.jsxs)("button",{ref:gt?.colorName===Nn?Pn:void 0,tabIndex:-1,type:"button",className:(0,v.Z)("color-picker__button color-picker__button--large",{active:gt?.colorName===Nn,"is-transparent":Tn==="transparent"||!Tn}),onClick:function(){Xe(Tn),wn("baseColors")},title:"".concat(sr).concat(Tn.startsWith("#")?" ".concat(Tn):""," — ").concat(Vn),"aria-label":"".concat(sr," — ").concat(Vn),style:{"--swatch-color":Tn},"data-testid":"color-".concat(Nn),children:[(0,b.jsx)("div",{className:"color-picker__button-outline"}),(0,b.jsx)(ve,{color:Tn,keyLabel:Vn})]},Nn)})})},q=function(at){var Me=at.colors,Ye=at.color,Xe=at.onChange,lt=at.label,gt=(0,Z.KO)(G),Ct=(0,e.Z)(gt,2),_t=Ct[0],Dt=Ct[1],wn=(0,S.useRef)(null);return(0,S.useEffect)(function(){wn.current&&wn.current.focus()},[Ye,_t]),(0,b.jsx)("div",{className:"color-picker-content--default",children:Me.map(function(Pn,fn){return(0,b.jsxs)("button",{ref:Ye===Pn?wn:void 0,tabIndex:-1,type:"button",className:(0,v.Z)("color-picker__button color-picker__button--large",{active:Ye===Pn,"is-transparent":Pn==="transparent"||!Pn}),onClick:function(){Xe(Pn),Dt("custom")},title:Pn,"aria-label":lt,style:{"--swatch-color":Pn},children:[(0,b.jsx)("div",{className:"color-picker__button-outline"}),(0,b.jsx)(ve,{color:Pn,keyLabel:fn+1,isCustomColor:!0})]},fn)})})},U=t(5491),R=function(at,Me,Ye){var Xe,lt=Math.ceil(Ye/d.dC);switch(Me=(Xe=Me)!==null&&Xe!==void 0?Xe:-1,at){case"ArrowLeft":var gt=Me-1;return gt<0?Ye-1:gt;case"ArrowRight":return(Me+1)%Ye;case"ArrowDown":var Ct=Me+d.dC;return Ct>=Ye?Me%d.dC:Ct;case"ArrowUp":var _t=Me-d.dC,Dt=_t<0?d.dC*lt+_t:_t;return Dt>=Ye?void 0:Dt}},B=function(at){var Me=at.event,Ye=at.activeColorPickerSection,Xe=at.palette,lt=at.color,gt=at.onChange,Ct=at.customColors,_t=at.setActiveColorPickerSection,Dt=at.activeShade,wn=at.onEyeDropperToggle,Pn=at.onEscape;if(Me[U.tW.CTRL_OR_CMD])return!1;if(Me.key===U.tW.ESCAPE)return Pn(Me),!0;if(Me.key===U.tW.ALT)return wn(!0),!0;if(Me.key===U.tW.I)return wn(),!0;var fn=_({color:lt,palette:Xe});if(Me.key===U.tW.TAB){var _n={custom:!!Ct.length,baseColors:!0,shades:fn?.shade!=null,hex:!0},zn=Object.entries(_n).reduce(function(Xr,Jr){var co=(0,e.Z)(Jr,2),po=co[0];return co[1]&&Xr.push(po),Xr},[]),Nn=zn.indexOf(Ye),Rn=Me.shiftKey?-1:1,Tn=zn[Nn+Rn>zn.length-1?0:Nn+Rn<0?zn.length-1:Nn+Rn];return Tn&&_t(Tn),Tn==="custom"?gt(Ct[0]):Tn==="baseColors"&&(Object.entries(Xe).find(function(Xr){var Jr=(0,e.Z)(Xr,2),co=Jr[0],po=Jr[1];return Array.isArray(po)?po.includes(lt):po===lt?co:null})||gt(d.HO.black)),Me.preventDefault(),Me.stopPropagation(),!0}if(function(Xr){var Jr=Xr.e,co=Xr.colorObj,po=Xr.onChange,xo=Xr.palette,Ho=Xr.customColors,gi=Xr.setActiveColorPickerSection,Si=Xr.activeShade;if(co?.shade!=null&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(Jr.code)&&Jr.shiftKey){var _i=Number(Jr.code.slice(-1))-1;return po(xo[co.colorName][_i]),gi("shades"),!0}if(["1","2","3","4","5"].includes(Jr.key)&&Ho[Number(Jr.key)-1])return po(Ho[Number(Jr.key)-1]),gi("custom"),!0;if(h.includes(Jr.key)){var da=h.indexOf(Jr.key),ta=xo[Object.keys(xo)[da]];return po(Array.isArray(ta)?ta[Si]:ta),gi("baseColors"),!0}return!1}({e:Me,colorObj:fn,onChange:gt,palette:Xe,customColors:Ct,setActiveColorPickerSection:_t,activeShade:Dt}))return!0;if(Ye==="shades"&&fn){var Vn=fn.shade,sr=R(Me.key,Vn,d.dC);if(sr!==void 0)return gt(Xe[fn.colorName][sr]),!0}if(Ye==="baseColors"&&fn){var mr=fn.colorName,or=Object.keys(Xe),ar=or.indexOf(mr),Pr=R(Me.key,ar,or.length);if(Pr!==void 0){var Hr=Xe[or[Pr]];return gt(Array.isArray(Hr)?Hr[Dt]:Hr),!0}}if(Ye==="custom"){var Dr=Ct.indexOf(lt),Lr=R(Me.key,Dr,Ct.length);if(Lr!==void 0)return gt(Ct[Lr]),!0}return!1},M=function(at){var Me=at.children;return(0,b.jsx)("div",{className:"color-picker__heading",children:Me})},I=t(9937),E=function(at){var Me,Ye=at.color,Xe=at.onChange,lt=at.label,gt=at.type,Ct=at.elements,_t=at.palette;at.updateData;var Dt=at.children,wn=at.onEyeDropperToggle,Pn=at.onEscape,fn=a().useState(function(){return gt==="canvasBackground"?[]:function(Hr,Dr,Lr){var Xr={elementBackground:"backgroundColor",elementStroke:"strokeColor"},Jr=Hr.filter(function(po){if(po.isDeleted)return!1;var xo=po[Xr[Dr]];return x({color:xo,palette:Lr})}),co=new Map;return Jr.forEach(function(po){var xo=po[Xr[Dr]];co.has(xo)?co.set(xo,co.get(xo)+1):co.set(xo,1)}),(0,F.Z)(co.entries()).sort(function(po,xo){return xo[1]-po[1]}).map(function(po){return po[0]}).slice(0,d.Lx)}(Ct,gt,_t)}),_n=(0,e.Z)(fn,1)[0],zn=(0,Z.KO)(G),Nn=(0,e.Z)(zn,2),Rn=Nn[0],Tn=Nn[1],Vn=_({color:Ye,palette:_t});(0,S.useEffect)(function(){if(!Rn){var Hr=x({color:Ye,palette:_t}),Dr=Hr&&!_n.includes(Ye);Tn(Dr?"hex":Hr?"custom":Vn?.shade!=null?"shades":"baseColors")}},[Rn,Ye,_t,Tn,Vn,_n]);var sr=(0,S.useState)((Me=Vn?.shade)!==null&&Me!==void 0?Me:gt==="elementBackground"?d._T:d.z8),mr=(0,e.Z)(sr,2),or=mr[0],ar=mr[1];(0,S.useEffect)(function(){Vn?.shade!=null&&ar(Vn.shade);var Hr=function(Dr){Dr.key===U.tW.ALT&&wn(!1)};return document.addEventListener(I.Ks.KEYUP,Hr,{capture:!0}),function(){document.removeEventListener(I.Ks.KEYUP,Hr,{capture:!0})}},[Vn,wn]);var Pr=a().useRef(null);return(0,b.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":(0,c.t)("labels.colorPicker"),children:(0,b.jsxs)("div",{ref:Pr,onKeyDown:function(Hr){B({event:Hr,activeColorPickerSection:Rn,palette:_t,color:Ye,onChange:Xe,onEyeDropperToggle:wn,customColors:_n,setActiveColorPickerSection:Tn,activeShade:or,onEscape:Pn})&&(Hr.preventDefault(),Hr.stopPropagation())},className:"color-picker-content",tabIndex:-1,children:[!!_n.length&&(0,b.jsxs)("div",{children:[(0,b.jsx)(M,{children:(0,c.t)("colorPicker.mostUsedCustomColors")}),(0,b.jsx)(q,{colors:_n,color:Ye,label:(0,c.t)("colorPicker.mostUsedCustomColors"),onChange:Xe})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(M,{children:(0,c.t)("colorPicker.colors")}),(0,b.jsx)(X,{color:Ye,label:lt,palette:_t,onChange:Xe,activeShade:or})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(M,{children:(0,c.t)("colorPicker.shades")}),(0,b.jsx)(fe,{hex:Ye,onChange:Xe,palette:_t})]}),Dt]})})},p=t(11),r=t(7217),o=t(9335),g=t(1267),s=t(3119),u=t(3060);const k="dismissableLayer.update",N="dismissableLayer.pointerDownOutside",W="dismissableLayer.focusOutside";let O;const j=(0,S.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),L=(0,S.forwardRef)((at,Me)=>{var Ye;const{disableOutsidePointerEvents:Xe=!1,onEscapeKeyDown:lt,onPointerDownOutside:gt,onFocusOutside:Ct,onInteractOutside:_t,onDismiss:Dt,...wn}=at,Pn=(0,S.useContext)(j),[fn,_n]=(0,S.useState)(null),zn=(Ye=fn?.ownerDocument)!==null&&Ye!==void 0?Ye:globalThis?.document,[,Nn]=(0,S.useState)({}),Rn=(0,o.e)(Me,Dr=>_n(Dr)),Tn=Array.from(Pn.layers),[Vn]=[...Pn.layersWithOutsidePointerEventsDisabled].slice(-1),sr=Tn.indexOf(Vn),mr=fn?Tn.indexOf(fn):-1,or=Pn.layersWithOutsidePointerEventsDisabled.size>0,ar=mr>=sr,Pr=function(Dr,Lr=globalThis?.document){const Xr=(0,u.W)(Dr),Jr=(0,S.useRef)(!1),co=(0,S.useRef)(()=>{});return(0,S.useEffect)(()=>{const po=Ho=>{if(Ho.target&&!Jr.current){let gi=function(){ie(N,Xr,Si,{discrete:!0})};const Si={originalEvent:Ho};Ho.pointerType==="touch"?(Lr.removeEventListener("click",co.current),co.current=gi,Lr.addEventListener("click",co.current,{once:!0})):gi()}Jr.current=!1},xo=window.setTimeout(()=>{Lr.addEventListener("pointerdown",po)},0);return()=>{window.clearTimeout(xo),Lr.removeEventListener("pointerdown",po),Lr.removeEventListener("click",co.current)}},[Lr,Xr]),{onPointerDownCapture:()=>Jr.current=!0}}(Dr=>{const Lr=Dr.target,Xr=[...Pn.branches].some(Jr=>Jr.contains(Lr));ar&&!Xr&&(gt?.(Dr),_t?.(Dr),Dr.defaultPrevented||Dt==null||Dt())},zn),Hr=function(Dr,Lr=globalThis?.document){const Xr=(0,u.W)(Dr),Jr=(0,S.useRef)(!1);return(0,S.useEffect)(()=>{const co=po=>{po.target&&!Jr.current&&ie(W,Xr,{originalEvent:po},{discrete:!1})};return Lr.addEventListener("focusin",co),()=>Lr.removeEventListener("focusin",co)},[Lr,Xr]),{onFocusCapture:()=>Jr.current=!0,onBlurCapture:()=>Jr.current=!1}}(Dr=>{const Lr=Dr.target;[...Pn.branches].some(Xr=>Xr.contains(Lr))||(Ct?.(Dr),_t?.(Dr),Dr.defaultPrevented||Dt==null||Dt())},zn);return function(Dr,Lr=globalThis?.document){const Xr=(0,u.W)(Dr);(0,S.useEffect)(()=>{const Jr=co=>{co.key==="Escape"&&Xr(co)};return Lr.addEventListener("keydown",Jr),()=>Lr.removeEventListener("keydown",Jr)},[Xr,Lr])}(Dr=>{mr===Pn.layers.size-1&&(lt?.(Dr),!Dr.defaultPrevented&&Dt&&(Dr.preventDefault(),Dt()))},zn),(0,S.useEffect)(()=>{if(fn)return Xe&&(Pn.layersWithOutsidePointerEventsDisabled.size===0&&(O=zn.body.style.pointerEvents,zn.body.style.pointerEvents="none"),Pn.layersWithOutsidePointerEventsDisabled.add(fn)),Pn.layers.add(fn),V(),()=>{Xe&&Pn.layersWithOutsidePointerEventsDisabled.size===1&&(zn.body.style.pointerEvents=O)}},[fn,zn,Xe,Pn]),(0,S.useEffect)(()=>()=>{fn&&(Pn.layers.delete(fn),Pn.layersWithOutsidePointerEventsDisabled.delete(fn),V())},[fn,Pn]),(0,S.useEffect)(()=>{const Dr=()=>Nn({});return document.addEventListener(k,Dr),()=>document.removeEventListener(k,Dr)},[]),(0,S.createElement)(s.WV.div,(0,p.Z)({},wn,{ref:Rn,style:{pointerEvents:or?ar?"auto":"none":void 0,...at.style},onFocusCapture:(0,r.M)(at.onFocusCapture,Hr.onFocusCapture),onBlurCapture:(0,r.M)(at.onBlurCapture,Hr.onBlurCapture),onPointerDownCapture:(0,r.M)(at.onPointerDownCapture,Pr.onPointerDownCapture)}))});function V(){const at=new CustomEvent(k);document.dispatchEvent(at)}function ie(at,Me,Ye,{discrete:Xe}){const lt=Ye.originalEvent.target,gt=new CustomEvent(at,{bubbles:!1,cancelable:!0,detail:Ye});Me&&lt.addEventListener(at,Me,{once:!0}),Xe?(0,s.jH)(lt,gt):lt.dispatchEvent(gt)}let se=0;function ue(){(0,S.useEffect)(()=>{var at,Me;const Ye=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(at=Ye[0])!==null&&at!==void 0?at:pe()),document.body.insertAdjacentElement("beforeend",(Me=Ye[1])!==null&&Me!==void 0?Me:pe()),se++,()=>{se===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(Xe=>Xe.remove()),se--}},[])}function pe(){const at=document.createElement("span");return at.setAttribute("data-radix-focus-guard",""),at.tabIndex=0,at.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",at}const Q="focusScope.autoFocusOnMount",ee="focusScope.autoFocusOnUnmount",me={bubbles:!1,cancelable:!0},Te=(0,S.forwardRef)((at,Me)=>{const{loop:Ye=!1,trapped:Xe=!1,onMountAutoFocus:lt,onUnmountAutoFocus:gt,...Ct}=at,[_t,Dt]=(0,S.useState)(null),wn=(0,u.W)(lt),Pn=(0,u.W)(gt),fn=(0,S.useRef)(null),_n=(0,o.e)(Me,Rn=>Dt(Rn)),zn=(0,S.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,S.useEffect)(()=>{if(Xe){let Rn=function(Vn){if(zn.paused||!_t)return;const sr=Vn.target;_t.contains(sr)?fn.current=sr:Oe(fn.current,{select:!0})},Tn=function(Vn){!zn.paused&&_t&&(_t.contains(Vn.relatedTarget)||Oe(fn.current,{select:!0}))};return document.addEventListener("focusin",Rn),document.addEventListener("focusout",Tn),()=>{document.removeEventListener("focusin",Rn),document.removeEventListener("focusout",Tn)}}},[Xe,_t,zn.paused]),(0,S.useEffect)(()=>{if(_t){Ie.add(zn);const Tn=document.activeElement;if(!_t.contains(Tn)){const Vn=new CustomEvent(Q,me);_t.addEventListener(Q,wn),_t.dispatchEvent(Vn),Vn.defaultPrevented||(function(sr,{select:mr=!1}={}){const or=document.activeElement;for(const ar of sr)if(Oe(ar,{select:mr}),document.activeElement!==or)return}((Rn=Ue(_t),Rn.filter(sr=>sr.tagName!=="A")),{select:!0}),document.activeElement===Tn&&Oe(_t))}return()=>{_t.removeEventListener(Q,wn),setTimeout(()=>{const Vn=new CustomEvent(ee,me);_t.addEventListener(ee,Pn),_t.dispatchEvent(Vn),Vn.defaultPrevented||Oe(Tn??document.body,{select:!0}),_t.removeEventListener(ee,Pn),Ie.remove(zn)},0)}}var Rn},[_t,wn,Pn,zn]);const Nn=(0,S.useCallback)(Rn=>{if(!Ye&&!Xe||zn.paused)return;const Tn=Rn.key==="Tab"&&!Rn.altKey&&!Rn.ctrlKey&&!Rn.metaKey,Vn=document.activeElement;if(Tn&&Vn){const sr=Rn.currentTarget,[mr,or]=function(ar){const Pr=Ue(ar),Hr=qe(Pr,ar),Dr=qe(Pr.reverse(),ar);return[Hr,Dr]}(sr);mr&&or?Rn.shiftKey||Vn!==or?Rn.shiftKey&&Vn===mr&&(Rn.preventDefault(),Ye&&Oe(or,{select:!0})):(Rn.preventDefault(),Ye&&Oe(mr,{select:!0})):Vn===sr&&Rn.preventDefault()}},[Ye,Xe,zn.paused]);return(0,S.createElement)(s.WV.div,(0,p.Z)({tabIndex:-1},Ct,{ref:_n,onKeyDown:Nn}))});function Ue(at){const Me=[],Ye=document.createTreeWalker(at,NodeFilter.SHOW_ELEMENT,{acceptNode:Xe=>{const lt=Xe.tagName==="INPUT"&&Xe.type==="hidden";return Xe.disabled||Xe.hidden||lt?NodeFilter.FILTER_SKIP:Xe.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;Ye.nextNode();)Me.push(Ye.currentNode);return Me}function qe(at,Me){for(const Ye of at)if(!Ae(Ye,{upTo:Me}))return Ye}function Ae(at,{upTo:Me}){if(getComputedStyle(at).visibility==="hidden")return!0;for(;at;){if(Me!==void 0&&at===Me)return!1;if(getComputedStyle(at).display==="none")return!0;at=at.parentElement}return!1}function Oe(at,{select:Me=!1}={}){if(at&&at.focus){const Ye=document.activeElement;at.focus({preventScroll:!0}),at!==Ye&&function(Xe){return Xe instanceof HTMLInputElement&&"select"in Xe}(at)&&Me&&at.select()}}const Ie=function(){let at=[];return{add(Me){const Ye=at[0];Me!==Ye&&Ye?.pause(),at=Re(at,Me),at.unshift(Me)},remove(Me){var Ye;at=Re(at,Me),(Ye=at[0])===null||Ye===void 0||Ye.resume()}}}();function Re(at,Me){const Ye=[...at],Xe=Ye.indexOf(Me);return Xe!==-1&&Ye.splice(Xe,1),Ye}var ke=t(5622);function xe(at){return at.split("-")[0]}function ye(at){return at.split("-")[1]}function P(at){return["top","bottom"].includes(xe(at))?"x":"y"}function l(at){return at==="y"?"height":"width"}function f(at,Me,Ye){let{reference:Xe,floating:lt}=at;const gt=Xe.x+Xe.width/2-lt.width/2,Ct=Xe.y+Xe.height/2-lt.height/2,_t=P(Me),Dt=l(_t),wn=Xe[Dt]/2-lt[Dt]/2,Pn=_t==="x";let fn;switch(xe(Me)){case"top":fn={x:gt,y:Xe.y-lt.height};break;case"bottom":fn={x:gt,y:Xe.y+Xe.height};break;case"right":fn={x:Xe.x+Xe.width,y:Ct};break;case"left":fn={x:Xe.x-lt.width,y:Ct};break;default:fn={x:Xe.x,y:Xe.y}}switch(ye(Me)){case"start":fn[_t]-=wn*(Ye&&Pn?-1:1);break;case"end":fn[_t]+=wn*(Ye&&Pn?-1:1)}return fn}function D(at){return typeof at!="number"?function(Me){return{top:0,right:0,bottom:0,left:0,...Me}}(at):{top:at,right:at,bottom:at,left:at}}function H(at){return{...at,top:at.y,left:at.x,right:at.x+at.width,bottom:at.y+at.height}}async function J(at,Me){var Ye;Me===void 0&&(Me={});const{x:Xe,y:lt,platform:gt,rects:Ct,elements:_t,strategy:Dt}=at,{boundary:wn="clippingAncestors",rootBoundary:Pn="viewport",elementContext:fn="floating",altBoundary:_n=!1,padding:zn=0}=Me,Nn=D(zn),Rn=_t[_n?fn==="floating"?"reference":"floating":fn],Tn=H(await gt.getClippingRect({element:(Ye=await(gt.isElement==null?void 0:gt.isElement(Rn)))==null||Ye?Rn:Rn.contextElement||await(gt.getDocumentElement==null?void 0:gt.getDocumentElement(_t.floating)),boundary:wn,rootBoundary:Pn,strategy:Dt})),Vn=H(gt.convertOffsetParentRelativeRectToViewportRelativeRect?await gt.convertOffsetParentRelativeRectToViewportRelativeRect({rect:fn==="floating"?{...Ct.floating,x:Xe,y:lt}:Ct.reference,offsetParent:await(gt.getOffsetParent==null?void 0:gt.getOffsetParent(_t.floating)),strategy:Dt}):Ct[fn]);return{top:Tn.top-Vn.top+Nn.top,bottom:Vn.bottom-Tn.bottom+Nn.bottom,left:Tn.left-Vn.left+Nn.left,right:Vn.right-Tn.right+Nn.right}}const re=Math.min,ae=Math.max;function ge(at,Me,Ye){return ae(at,re(Me,Ye))}const _e=at=>({name:"arrow",options:at,async fn(Me){const{element:Ye,padding:Xe=0}=at??{},{x:lt,y:gt,placement:Ct,rects:_t,platform:Dt}=Me;if(Ye==null)return{};const wn=D(Xe),Pn={x:lt,y:gt},fn=P(Ct),_n=ye(Ct),zn=l(fn),Nn=await Dt.getDimensions(Ye),Rn=fn==="y"?"top":"left",Tn=fn==="y"?"bottom":"right",Vn=_t.reference[zn]+_t.reference[fn]-Pn[fn]-_t.floating[zn],sr=Pn[fn]-_t.reference[fn],mr=await(Dt.getOffsetParent==null?void 0:Dt.getOffsetParent(Ye));let or=mr?fn==="y"?mr.clientHeight||0:mr.clientWidth||0:0;or===0&&(or=_t.floating[zn]);const ar=Vn/2-sr/2,Pr=wn[Rn],Hr=or-Nn[zn]-wn[Tn],Dr=or/2-Nn[zn]/2+ar,Lr=ge(Pr,Dr,Hr),Xr=(_n==="start"?wn[Rn]:wn[Tn])>0&&Dr!==Lr&&_t.reference[zn]<=_t.floating[zn];return{[fn]:Pn[fn]-(Xr?Dr<Pr?Pr-Dr:Hr-Dr:0),data:{[fn]:Lr,centerOffset:Dr-Lr}}}}),ze={left:"right",right:"left",bottom:"top",top:"bottom"};function Je(at){return at.replace(/left|right|bottom|top/g,Me=>ze[Me])}function et(at,Me,Ye){Ye===void 0&&(Ye=!1);const Xe=ye(at),lt=P(at),gt=l(lt);let Ct=lt==="x"?Xe===(Ye?"end":"start")?"right":"left":Xe==="start"?"bottom":"top";return Me.reference[gt]>Me.floating[gt]&&(Ct=Je(Ct)),{main:Ct,cross:Je(Ct)}}const Ke={start:"end",end:"start"};function tt(at){return at.replace(/start|end/g,Me=>Ke[Me])}const ut=["top","right","bottom","left"],ht=(ut.reduce((at,Me)=>at.concat(Me,Me+"-start",Me+"-end"),[]),function(at){return at===void 0&&(at={}),{name:"flip",options:at,async fn(Me){var Ye;const{placement:Xe,middlewareData:lt,rects:gt,initialPlacement:Ct,platform:_t,elements:Dt}=Me,{mainAxis:wn=!0,crossAxis:Pn=!0,fallbackPlacements:fn,fallbackStrategy:_n="bestFit",flipAlignment:zn=!0,...Nn}=at,Rn=xe(Xe),Tn=fn||(Rn!==Ct&&zn?function(Dr){const Lr=Je(Dr);return[tt(Dr),Lr,tt(Lr)]}(Ct):[Je(Ct)]),Vn=[Ct,...Tn],sr=await J(Me,Nn),mr=[];let or=((Ye=lt.flip)==null?void 0:Ye.overflows)||[];if(wn&&mr.push(sr[Rn]),Pn){const{main:Dr,cross:Lr}=et(Xe,gt,await(_t.isRTL==null?void 0:_t.isRTL(Dt.floating)));mr.push(sr[Dr],sr[Lr])}if(or=[...or,{placement:Xe,overflows:mr}],!mr.every(Dr=>Dr<=0)){var ar,Pr;const Dr=((ar=(Pr=lt.flip)==null?void 0:Pr.index)!=null?ar:0)+1,Lr=Vn[Dr];if(Lr)return{data:{index:Dr,overflows:or},reset:{placement:Lr}};let Xr="bottom";switch(_n){case"bestFit":{var Hr;const Jr=(Hr=or.map(co=>[co,co.overflows.filter(po=>po>0).reduce((po,xo)=>po+xo,0)]).sort((co,po)=>co[1]-po[1])[0])==null?void 0:Hr[0].placement;Jr&&(Xr=Jr);break}case"initialPlacement":Xr=Ct}if(Xe!==Xr)return{reset:{placement:Xr}}}return{}}}});function He(at,Me){return{top:at.top-Me.height,right:at.right-Me.width,bottom:at.bottom-Me.height,left:at.left-Me.width}}function Ee(at){return ut.some(Me=>at[Me]>=0)}const Le=function(at){let{strategy:Me="referenceHidden",...Ye}=at===void 0?{}:at;return{name:"hide",async fn(Xe){const{rects:lt}=Xe;switch(Me){case"referenceHidden":{const gt=He(await J(Xe,{...Ye,elementContext:"reference"}),lt.reference);return{data:{referenceHiddenOffsets:gt,referenceHidden:Ee(gt)}}}case"escaped":{const gt=He(await J(Xe,{...Ye,altBoundary:!0}),lt.floating);return{data:{escapedOffsets:gt,escaped:Ee(gt)}}}default:return{}}}}},Qe=function(at){return at===void 0&&(at=0),{name:"offset",options:at,async fn(Me){const{x:Ye,y:Xe}=Me,lt=await async function(gt,Ct){const{placement:_t,platform:Dt,elements:wn}=gt,Pn=await(Dt.isRTL==null?void 0:Dt.isRTL(wn.floating)),fn=xe(_t),_n=ye(_t),zn=P(_t)==="x",Nn=["left","top"].includes(fn)?-1:1,Rn=Pn&&zn?-1:1,Tn=typeof Ct=="function"?Ct(gt):Ct;let{mainAxis:Vn,crossAxis:sr,alignmentAxis:mr}=typeof Tn=="number"?{mainAxis:Tn,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Tn};return _n&&typeof mr=="number"&&(sr=_n==="end"?-1*mr:mr),zn?{x:sr*Rn,y:Vn*Nn}:{x:Vn*Nn,y:sr*Rn}}(Me,at);return{x:Ye+lt.x,y:Xe+lt.y,data:lt}}}};function ct(at){return at==="x"?"y":"x"}const bt=function(at){return at===void 0&&(at={}),{name:"shift",options:at,async fn(Me){const{x:Ye,y:Xe,placement:lt}=Me,{mainAxis:gt=!0,crossAxis:Ct=!1,limiter:_t={fn:Tn=>{let{x:Vn,y:sr}=Tn;return{x:Vn,y:sr}}},...Dt}=at,wn={x:Ye,y:Xe},Pn=await J(Me,Dt),fn=P(xe(lt)),_n=ct(fn);let zn=wn[fn],Nn=wn[_n];if(gt){const Tn=fn==="y"?"bottom":"right";zn=ge(zn+Pn[fn==="y"?"top":"left"],zn,zn-Pn[Tn])}if(Ct){const Tn=_n==="y"?"bottom":"right";Nn=ge(Nn+Pn[_n==="y"?"top":"left"],Nn,Nn-Pn[Tn])}const Rn=_t.fn({...Me,[fn]:zn,[_n]:Nn});return{...Rn,data:{x:Rn.x-Ye,y:Rn.y-Xe}}}}},wt=function(at){return at===void 0&&(at={}),{options:at,fn(Me){const{x:Ye,y:Xe,placement:lt,rects:gt,middlewareData:Ct}=Me,{offset:_t=0,mainAxis:Dt=!0,crossAxis:wn=!0}=at,Pn={x:Ye,y:Xe},fn=P(lt),_n=ct(fn);let zn=Pn[fn],Nn=Pn[_n];const Rn=typeof _t=="function"?_t({...gt,placement:lt}):_t,Tn=typeof Rn=="number"?{mainAxis:Rn,crossAxis:0}:{mainAxis:0,crossAxis:0,...Rn};if(Dt){const ar=fn==="y"?"height":"width",Pr=gt.reference[fn]-gt.floating[ar]+Tn.mainAxis,Hr=gt.reference[fn]+gt.reference[ar]-Tn.mainAxis;zn<Pr?zn=Pr:zn>Hr&&(zn=Hr)}if(wn){var Vn,sr,mr,or;const ar=fn==="y"?"width":"height",Pr=["top","left"].includes(xe(lt)),Hr=gt.reference[_n]-gt.floating[ar]+(Pr&&(Vn=(sr=Ct.offset)==null?void 0:sr[_n])!=null?Vn:0)+(Pr?0:Tn.crossAxis),Dr=gt.reference[_n]+gt.reference[ar]+(Pr?0:(mr=(or=Ct.offset)==null?void 0:or[_n])!=null?mr:0)-(Pr?Tn.crossAxis:0);Nn<Hr?Nn=Hr:Nn>Dr&&(Nn=Dr)}return{[fn]:zn,[_n]:Nn}}}},zt=function(at){return at===void 0&&(at={}),{name:"size",options:at,async fn(Me){const{placement:Ye,rects:Xe,platform:lt,elements:gt}=Me,{apply:Ct,..._t}=at,Dt=await J(Me,_t),wn=xe(Ye),Pn=ye(Ye);let fn,_n;wn==="top"||wn==="bottom"?(fn=wn,_n=Pn===(await(lt.isRTL==null?void 0:lt.isRTL(gt.floating))?"start":"end")?"left":"right"):(_n=wn,fn=Pn==="end"?"top":"bottom");const zn=ae(Dt.left,0),Nn=ae(Dt.right,0),Rn=ae(Dt.top,0),Tn=ae(Dt.bottom,0),Vn={availableHeight:Xe.floating.height-(["left","right"].includes(Ye)?2*(Rn!==0||Tn!==0?Rn+Tn:ae(Dt.top,Dt.bottom)):Dt[fn]),availableWidth:Xe.floating.width-(["top","bottom"].includes(Ye)?2*(zn!==0||Nn!==0?zn+Nn:ae(Dt.left,Dt.right)):Dt[_n])},sr=await lt.getDimensions(gt.floating);Ct?.({...Me,...Vn});const mr=await lt.getDimensions(gt.floating);return sr.width!==mr.width||sr.height!==mr.height?{reset:{rects:!0}}:{}}}};function Mt(at){return at&&at.document&&at.location&&at.alert&&at.setInterval}function Zt(at){if(at==null)return window;if(!Mt(at)){const Me=at.ownerDocument;return Me&&Me.defaultView||window}return at}function sn(at){return Zt(at).getComputedStyle(at)}function rn(at){return Mt(at)?"":at?(at.nodeName||"").toLowerCase():""}function Xt(){const at=navigator.userAgentData;return at!=null&&at.brands?at.brands.map(Me=>Me.brand+"/"+Me.version).join(" "):navigator.userAgent}function on(at){return at instanceof Zt(at).HTMLElement}function jn(at){return at instanceof Zt(at).Element}function It(at){return typeof ShadowRoot<"u"&&(at instanceof Zt(at).ShadowRoot||at instanceof ShadowRoot)}function kt(at){const{overflow:Me,overflowX:Ye,overflowY:Xe}=sn(at);return/auto|scroll|overlay|hidden/.test(Me+Xe+Ye)}function Ht(at){return["table","td","th"].includes(rn(at))}function At(at){const Me=/firefox/i.test(Xt()),Ye=sn(at);return Ye.transform!=="none"||Ye.perspective!=="none"||Ye.contain==="paint"||["transform","perspective"].includes(Ye.willChange)||Me&&Ye.willChange==="filter"||Me&&!!Ye.filter&&Ye.filter!=="none"}function Wt(){return!/^((?!chrome|android).)*safari/i.test(Xt())}const Kt=Math.min,an=Math.max,bn=Math.round;function hn(at,Me,Ye){var Xe,lt,gt,Ct;Me===void 0&&(Me=!1),Ye===void 0&&(Ye=!1);const _t=at.getBoundingClientRect();let Dt=1,wn=1;Me&&on(at)&&(Dt=at.offsetWidth>0&&bn(_t.width)/at.offsetWidth||1,wn=at.offsetHeight>0&&bn(_t.height)/at.offsetHeight||1);const Pn=jn(at)?Zt(at):window,fn=!Wt()&&Ye,_n=(_t.left+(fn&&(Xe=(lt=Pn.visualViewport)==null?void 0:lt.offsetLeft)!=null?Xe:0))/Dt,zn=(_t.top+(fn&&(gt=(Ct=Pn.visualViewport)==null?void 0:Ct.offsetTop)!=null?gt:0))/wn,Nn=_t.width/Dt,Rn=_t.height/wn;return{width:Nn,height:Rn,top:zn,right:_n+Nn,bottom:zn+Rn,left:_n,x:_n,y:zn}}function An(at){return(Me=at,(Me instanceof Zt(Me).Node?at.ownerDocument:at.document)||window.document).documentElement;var Me}function Yn(at){return jn(at)?{scrollLeft:at.scrollLeft,scrollTop:at.scrollTop}:{scrollLeft:at.pageXOffset,scrollTop:at.pageYOffset}}function tr(at){return hn(An(at)).left+Yn(at).scrollLeft}function Sn(at,Me,Ye){const Xe=on(Me),lt=An(Me),gt=hn(at,Xe&&function(Dt){const wn=hn(Dt);return bn(wn.width)!==Dt.offsetWidth||bn(wn.height)!==Dt.offsetHeight}(Me),Ye==="fixed");let Ct={scrollLeft:0,scrollTop:0};const _t={x:0,y:0};if(Xe||!Xe&&Ye!=="fixed")if((rn(Me)!=="body"||kt(lt))&&(Ct=Yn(Me)),on(Me)){const Dt=hn(Me,!0);_t.x=Dt.x+Me.clientLeft,_t.y=Dt.y+Me.clientTop}else lt&&(_t.x=tr(lt));return{x:gt.left+Ct.scrollLeft-_t.x,y:gt.top+Ct.scrollTop-_t.y,width:gt.width,height:gt.height}}function Bt(at){return rn(at)==="html"?at:at.assignedSlot||at.parentNode||(It(at)?at.host:null)||An(at)}function dn(at){return on(at)&&getComputedStyle(at).position!=="fixed"?at.offsetParent:null}function un(at){const Me=Zt(at);let Ye=dn(at);for(;Ye&&Ht(Ye)&&getComputedStyle(Ye).position==="static";)Ye=dn(Ye);return Ye&&(rn(Ye)==="html"||rn(Ye)==="body"&&getComputedStyle(Ye).position==="static"&&!At(Ye))?Me:Ye||function(Xe){let lt=Bt(Xe);for(It(lt)&&(lt=lt.host);on(lt)&&!["html","body"].includes(rn(lt));){if(At(lt))return lt;lt=lt.parentNode}return null}(at)||Me}function Bn(at){if(on(at))return{width:at.offsetWidth,height:at.offsetHeight};const Me=hn(at);return{width:Me.width,height:Me.height}}function Jn(at){const Me=Bt(at);return["html","body","#document"].includes(rn(Me))?at.ownerDocument.body:on(Me)&&kt(Me)?Me:Jn(Me)}function cr(at,Me){var Ye;Me===void 0&&(Me=[]);const Xe=Jn(at),lt=Xe===((Ye=at.ownerDocument)==null?void 0:Ye.body),gt=Zt(Xe),Ct=lt?[gt].concat(gt.visualViewport||[],kt(Xe)?Xe:[]):Xe,_t=Me.concat(Ct);return lt?_t:_t.concat(cr(Ct))}function kr(at,Me,Ye){return Me==="viewport"?H(function(Xe,lt){const gt=Zt(Xe),Ct=An(Xe),_t=gt.visualViewport;let Dt=Ct.clientWidth,wn=Ct.clientHeight,Pn=0,fn=0;if(_t){Dt=_t.width,wn=_t.height;const _n=Wt();(_n||!_n&&lt==="fixed")&&(Pn=_t.offsetLeft,fn=_t.offsetTop)}return{width:Dt,height:wn,x:Pn,y:fn}}(at,Ye)):jn(Me)?function(Xe,lt){const gt=hn(Xe,!1,lt==="fixed"),Ct=gt.top+Xe.clientTop,_t=gt.left+Xe.clientLeft;return{top:Ct,left:_t,x:_t,y:Ct,right:_t+Xe.clientWidth,bottom:Ct+Xe.clientHeight,width:Xe.clientWidth,height:Xe.clientHeight}}(Me,Ye):H(function(Xe){var lt;const gt=An(Xe),Ct=Yn(Xe),_t=(lt=Xe.ownerDocument)==null?void 0:lt.body,Dt=an(gt.scrollWidth,gt.clientWidth,_t?_t.scrollWidth:0,_t?_t.clientWidth:0),wn=an(gt.scrollHeight,gt.clientHeight,_t?_t.scrollHeight:0,_t?_t.clientHeight:0);let Pn=-Ct.scrollLeft+tr(Xe);const fn=-Ct.scrollTop;return sn(_t||gt).direction==="rtl"&&(Pn+=an(gt.clientWidth,_t?_t.clientWidth:0)-Dt),{width:Dt,height:wn,x:Pn,y:fn}}(An(at)))}function fr(at){const Me=cr(at),Ye=["absolute","fixed"].includes(sn(at).position)&&on(at)?un(at):at;return jn(Ye)?Me.filter(Xe=>jn(Xe)&&function(lt,gt){const Ct=gt.getRootNode==null?void 0:gt.getRootNode();if(lt.contains(gt))return!0;if(Ct&&It(Ct)){let _t=gt;do{if(_t&&lt===_t)return!0;_t=_t.parentNode||_t.host}while(_t)}return!1}(Xe,Ye)&&rn(Xe)!=="body"):[]}const pn={getClippingRect:function(at){let{element:Me,boundary:Ye,rootBoundary:Xe,strategy:lt}=at;const gt=[...Ye==="clippingAncestors"?fr(Me):[].concat(Ye),Xe],Ct=gt[0],_t=gt.reduce((Dt,wn)=>{const Pn=kr(Me,wn,lt);return Dt.top=an(Pn.top,Dt.top),Dt.right=Kt(Pn.right,Dt.right),Dt.bottom=Kt(Pn.bottom,Dt.bottom),Dt.left=an(Pn.left,Dt.left),Dt},kr(Me,Ct,lt));return{width:_t.right-_t.left,height:_t.bottom-_t.top,x:_t.left,y:_t.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(at){let{rect:Me,offsetParent:Ye,strategy:Xe}=at;const lt=on(Ye),gt=An(Ye);if(Ye===gt)return Me;let Ct={scrollLeft:0,scrollTop:0};const _t={x:0,y:0};if((lt||!lt&&Xe!=="fixed")&&((rn(Ye)!=="body"||kt(gt))&&(Ct=Yn(Ye)),on(Ye))){const Dt=hn(Ye,!0);_t.x=Dt.x+Ye.clientLeft,_t.y=Dt.y+Ye.clientTop}return{...Me,x:Me.x-Ct.scrollLeft+_t.x,y:Me.y-Ct.scrollTop+_t.y}},isElement:jn,getDimensions:Bn,getOffsetParent:un,getDocumentElement:An,getElementRects:at=>{let{reference:Me,floating:Ye,strategy:Xe}=at;return{reference:Sn(Me,un(Ye),Xe),floating:{...Bn(Ye),x:0,y:0}}},getClientRects:at=>Array.from(at.getClientRects()),isRTL:at=>sn(at).direction==="rtl"};function Nt(at,Me,Ye,Xe){Xe===void 0&&(Xe={});const{ancestorScroll:lt=!0,ancestorResize:gt=!0,elementResize:Ct=!0,animationFrame:_t=!1}=Xe,Dt=lt&&!_t,wn=gt&&!_t,Pn=Dt||wn?[...jn(at)?cr(at):[],...cr(Me)]:[];Pn.forEach(Nn=>{Dt&&Nn.addEventListener("scroll",Ye,{passive:!0}),wn&&Nn.addEventListener("resize",Ye)});let fn,_n=null;if(Ct){let Nn=!0;_n=new ResizeObserver(()=>{Nn||Ye(),Nn=!1}),jn(at)&&!_t&&_n.observe(at),_n.observe(Me)}let zn=_t?hn(at):null;return _t&&function Nn(){const Rn=hn(at);!zn||Rn.x===zn.x&&Rn.y===zn.y&&Rn.width===zn.width&&Rn.height===zn.height||Ye(),zn=Rn,fn=requestAnimationFrame(Nn)}(),Ye(),()=>{var Nn;Pn.forEach(Rn=>{Dt&&Rn.removeEventListener("scroll",Ye),wn&&Rn.removeEventListener("resize",Ye)}),(Nn=_n)==null||Nn.disconnect(),_n=null,_t&&cancelAnimationFrame(fn)}}const Ft=(at,Me,Ye)=>(async(Xe,lt,gt)=>{const{placement:Ct="bottom",strategy:_t="absolute",middleware:Dt=[],platform:wn}=gt,Pn=await(wn.isRTL==null?void 0:wn.isRTL(lt));let fn=await wn.getElementRects({reference:Xe,floating:lt,strategy:_t}),{x:_n,y:zn}=f(fn,Ct,Pn),Nn=Ct,Rn={},Tn=0;for(let Vn=0;Vn<Dt.length;Vn++){const{name:sr,fn:mr}=Dt[Vn],{x:or,y:ar,data:Pr,reset:Hr}=await mr({x:_n,y:zn,initialPlacement:Ct,placement:Nn,strategy:_t,middlewareData:Rn,rects:fn,platform:wn,elements:{reference:Xe,floating:lt}});_n=or??_n,zn=ar??zn,Rn={...Rn,[sr]:{...Rn[sr],...Pr}},Hr&&Tn<=50&&(Tn++,typeof Hr=="object"&&(Hr.placement&&(Nn=Hr.placement),Hr.rects&&(fn=Hr.rects===!0?await wn.getElementRects({reference:Xe,floating:lt,strategy:_t}):Hr.rects),{x:_n,y:zn}=f(fn,Nn,Pn)),Vn=-1)}return{x:_n,y:zn,placement:Nn,strategy:_t,middlewareData:Rn}})(at,Me,{platform:pn,...Ye});var qt=t(5156),kn=t.n(qt),$n=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Hn(at,Me){if(at===Me)return!0;if(typeof at!=typeof Me)return!1;if(typeof at=="function"&&at.toString()===Me.toString())return!0;let Ye,Xe,lt;if(at&&Me&&typeof at=="object"){if(Array.isArray(at)){if(Ye=at.length,Ye!=Me.length)return!1;for(Xe=Ye;Xe--!=0;)if(!Hn(at[Xe],Me[Xe]))return!1;return!0}if(lt=Object.keys(at),Ye=lt.length,Ye!==Object.keys(Me).length)return!1;for(Xe=Ye;Xe--!=0;)if(!Object.prototype.hasOwnProperty.call(Me,lt[Xe]))return!1;for(Xe=Ye;Xe--!=0;){const gt=lt[Xe];if((gt!=="_owner"||!at.$$typeof)&&!Hn(at[gt],Me[gt]))return!1}return!0}return at!=at&&Me!=Me}function Qn(at){let{middleware:Me,placement:Ye="bottom",strategy:Xe="absolute",whileElementsMounted:lt}=at===void 0?{}:at;const gt=S.useRef(null),Ct=S.useRef(null),_t=function(mr){const or=S.useRef(mr);return $n(()=>{or.current=mr}),or}(lt),Dt=S.useRef(null),[wn,Pn]=S.useState({x:null,y:null,strategy:Xe,placement:Ye,middlewareData:{}}),[fn,_n]=S.useState(Me);Hn(fn?.map(mr=>{let{options:or}=mr;return or}),Me?.map(mr=>{let{options:or}=mr;return or}))||_n(Me);const zn=S.useCallback(()=>{gt.current&&Ct.current&&Ft(gt.current,Ct.current,{middleware:fn,placement:Ye,strategy:Xe}).then(mr=>{Nn.current&&qt.flushSync(()=>{Pn(mr)})})},[fn,Ye,Xe]);$n(()=>{Nn.current&&zn()},[zn]);const Nn=S.useRef(!1);$n(()=>(Nn.current=!0,()=>{Nn.current=!1}),[]);const Rn=S.useCallback(()=>{if(typeof Dt.current=="function"&&(Dt.current(),Dt.current=null),gt.current&&Ct.current)if(_t.current){const mr=_t.current(gt.current,Ct.current,zn);Dt.current=mr}else zn()},[zn,_t]),Tn=S.useCallback(mr=>{gt.current=mr,Rn()},[Rn]),Vn=S.useCallback(mr=>{Ct.current=mr,Rn()},[Rn]),sr=S.useMemo(()=>({reference:gt,floating:Ct}),[]);return S.useMemo(()=>({...wn,update:zn,refs:sr,reference:Tn,floating:Vn}),[wn,zn,sr,Tn,Vn])}const ir=at=>{const{element:Me,padding:Ye}=at;return{name:"arrow",options:at,fn(Xe){return lt=Me,Object.prototype.hasOwnProperty.call(lt,"current")?Me.current!=null?_e({element:Me.current,padding:Ye}).fn(Xe):{}:Me?_e({element:Me,padding:Ye}).fn(Xe):{};var lt}}},Fn=(0,S.forwardRef)((at,Me)=>{const{children:Ye,width:Xe=10,height:lt=5,...gt}=at;return(0,S.createElement)(s.WV.svg,(0,p.Z)({},gt,{ref:Me,width:Xe,height:lt,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),at.asChild?Ye:(0,S.createElement)("polygon",{points:"0,0 30,0 15,10"}))}),yr=Fn;var lr=t(3348);const Gn="Popper",[Xn,er]=(0,g.b)(Gn),[pr,vr]=Xn(Gn),xr=at=>{const{__scopePopper:Me,children:Ye}=at,[Xe,lt]=(0,S.useState)(null);return(0,S.createElement)(pr,{scope:Me,anchor:Xe,onAnchorChange:lt},Ye)},$r="PopperAnchor",io=(0,S.forwardRef)((at,Me)=>{const{__scopePopper:Ye,virtualRef:Xe,...lt}=at,gt=vr($r,Ye),Ct=(0,S.useRef)(null),_t=(0,o.e)(Me,Ct);return(0,S.useEffect)(()=>{gt.onAnchorChange(Xe?.current||Ct.current)}),Xe?null:(0,S.createElement)(s.WV.div,(0,p.Z)({},lt,{ref:_t}))}),Eo="PopperContent",[Ro,Bo]=Xn(Eo),[Do,bo]=Xn(Eo,{hasParent:!1,positionUpdateFns:new Set}),Zo=(0,S.forwardRef)((at,Me)=>{var Ye,Xe,lt,gt,Ct,_t,Dt,wn;const{__scopePopper:Pn,side:fn="bottom",sideOffset:_n=0,align:zn="center",alignOffset:Nn=0,arrowPadding:Rn=0,collisionBoundary:Tn=[],collisionPadding:Vn=0,sticky:sr="partial",hideWhenDetached:mr=!1,avoidCollisions:or=!0,onPlaced:ar,...Pr}=at,Hr=vr(Eo,Pn),[Dr,Lr]=(0,S.useState)(null),Xr=(0,o.e)(Me,Fi=>Lr(Fi)),[Jr,co]=(0,S.useState)(null),po=function(Fi){const[Oi,fa]=(0,S.useState)(void 0);return(0,lr.b)(()=>{if(Fi){fa({width:Fi.offsetWidth,height:Fi.offsetHeight});const Qa=new ResizeObserver(Sl=>{if(!Array.isArray(Sl)||!Sl.length)return;const wr=Sl[0];let Sr,el;if("borderBoxSize"in wr){const tl=wr.borderBoxSize,nl=Array.isArray(tl)?tl[0]:tl;Sr=nl.inlineSize,el=nl.blockSize}else Sr=Fi.offsetWidth,el=Fi.offsetHeight;fa({width:Sr,height:el})});return Qa.observe(Fi,{box:"border-box"}),()=>Qa.unobserve(Fi)}fa(void 0)},[Fi]),Oi}(Jr),xo=(Ye=po?.width)!==null&&Ye!==void 0?Ye:0,Ho=(Xe=po?.height)!==null&&Xe!==void 0?Xe:0,gi=fn+(zn!=="center"?"-"+zn:""),Si=typeof Vn=="number"?Vn:{top:0,right:0,bottom:0,left:0,...Vn},_i=Array.isArray(Tn)?Tn:[Tn],da=_i.length>0,ta={padding:Si,boundary:_i.filter(pt),altBoundary:da},{reference:li,floating:hi,strategy:xi,x:oi,y:si,placement:Ti,middlewareData:Rt,update:Yi}=Qn({strategy:"fixed",placement:gi,whileElementsMounted:Nt,middleware:[Vt(),Qe({mainAxis:_n+Ho,alignmentAxis:Nn}),or?bt({mainAxis:!0,crossAxis:!1,limiter:sr==="partial"?wt():void 0,...ta}):void 0,Jr?ir({element:Jr,padding:Rn}):void 0,or?ht({...ta}):void 0,zt({...ta,apply:({elements:Fi,availableWidth:Oi,availableHeight:fa})=>{Fi.floating.style.setProperty("--radix-popper-available-width",`${Oi}px`),Fi.floating.style.setProperty("--radix-popper-available-height",`${fa}px`)}}),cn({arrowWidth:xo,arrowHeight:Ho}),mr?Le({strategy:"referenceHidden"}):void 0].filter(Ve)});(0,lr.b)(()=>{li(Hr.anchor)},[li,Hr.anchor]);const Gi=oi!==null&&si!==null,[Pi,Yo]=Mn(Ti),Na=(0,u.W)(ar);(0,lr.b)(()=>{Gi&&Na?.()},[Gi,Na]);const ul=(lt=Rt.arrow)===null||lt===void 0?void 0:lt.x,es=(gt=Rt.arrow)===null||gt===void 0?void 0:gt.y,Ba=((Ct=Rt.arrow)===null||Ct===void 0?void 0:Ct.centerOffset)!==0,[Wl,kl]=(0,S.useState)();(0,lr.b)(()=>{Dr&&kl(window.getComputedStyle(Dr).zIndex)},[Dr]);const{hasParent:El,positionUpdateFns:Wa}=bo(Eo,Pn),va=!El;(0,S.useLayoutEffect)(()=>{if(!va)return Wa.add(Yi),()=>{Wa.delete(Yi)}},[va,Wa,Yi]),(0,lr.b)(()=>{va&&Gi&&Array.from(Wa).reverse().forEach(Fi=>requestAnimationFrame(Fi))},[va,Gi,Wa]);const la={"data-side":Pi,"data-align":Yo,...Pr,ref:Xr,style:{...Pr.style,animation:Gi?void 0:"none",opacity:(_t=Rt.hide)!==null&&_t!==void 0&&_t.referenceHidden?0:void 0}};return(0,S.createElement)("div",{ref:hi,"data-radix-popper-content-wrapper":"",style:{position:xi,left:0,top:0,transform:Gi?`translate3d(${Math.round(oi)}px, ${Math.round(si)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Wl,"--radix-popper-transform-origin":[(Dt=Rt.transformOrigin)===null||Dt===void 0?void 0:Dt.x,(wn=Rt.transformOrigin)===null||wn===void 0?void 0:wn.y].join(" ")},dir:at.dir},(0,S.createElement)(Ro,{scope:Pn,placedSide:Pi,onArrowChange:co,arrowX:ul,arrowY:es,shouldHideArrow:Ba},va?(0,S.createElement)(Do,{scope:Pn,hasParent:!0,positionUpdateFns:Wa},(0,S.createElement)(s.WV.div,la)):(0,S.createElement)(s.WV.div,la)))}),rt="PopperArrow",Se={top:"bottom",right:"left",bottom:"top",left:"right"},Ze=(0,S.forwardRef)(function(at,Me){const{__scopePopper:Ye,...Xe}=at,lt=Bo(rt,Ye),gt=Se[lt.placedSide];return(0,S.createElement)("span",{ref:lt.onArrowChange,style:{position:"absolute",left:lt.arrowX,top:lt.arrowY,[gt]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[lt.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[lt.placedSide],visibility:lt.shouldHideArrow?"hidden":void 0}},(0,S.createElement)(yr,(0,p.Z)({},Xe,{ref:Me,style:{...Xe.style,display:"block"}})))});function Ve(at){return at!==void 0}function pt(at){return at!==null}const Vt=()=>({name:"anchorCssProperties",fn(at){const{rects:Me,elements:Ye}=at,{width:Xe,height:lt}=Me.reference;return Ye.floating.style.setProperty("--radix-popper-anchor-width",`${Xe}px`),Ye.floating.style.setProperty("--radix-popper-anchor-height",`${lt}px`),{}}}),cn=at=>({name:"transformOrigin",options:at,fn(Me){var Ye,Xe,lt,gt,Ct;const{placement:_t,rects:Dt,middlewareData:wn}=Me,Pn=((Ye=wn.arrow)===null||Ye===void 0?void 0:Ye.centerOffset)!==0,fn=Pn?0:at.arrowWidth,_n=Pn?0:at.arrowHeight,[zn,Nn]=Mn(_t),Rn={start:"0%",center:"50%",end:"100%"}[Nn],Tn=((Xe=(lt=wn.arrow)===null||lt===void 0?void 0:lt.x)!==null&&Xe!==void 0?Xe:0)+fn/2,Vn=((gt=(Ct=wn.arrow)===null||Ct===void 0?void 0:Ct.y)!==null&&gt!==void 0?gt:0)+_n/2;let sr="",mr="";return zn==="bottom"?(sr=Pn?Rn:`${Tn}px`,mr=-_n+"px"):zn==="top"?(sr=Pn?Rn:`${Tn}px`,mr=`${Dt.floating.height+_n}px`):zn==="right"?(sr=-_n+"px",mr=Pn?Rn:`${Vn}px`):zn==="left"&&(sr=`${Dt.floating.width+_n}px`,mr=Pn?Rn:`${Vn}px`),{data:{x:sr,y:mr}}}});function Mn(at){const[Me,Ye="center"]=at.split("-");return[Me,Ye]}const nn=xr,ln=io,Zn=Zo,qn=Ze,hr=(0,S.forwardRef)((at,Me)=>{var Ye;const{container:Xe=globalThis==null||(Ye=globalThis.document)===null||Ye===void 0?void 0:Ye.body,...lt}=at;return Xe?kn().createPortal((0,S.createElement)(s.WV.div,(0,p.Z)({},lt,{ref:Me})),Xe):null});var br=t(1483),Mr=t(4801),Or=t(2673),Er=function(at){return typeof document>"u"?null:(Array.isArray(at)?at[0]:at).ownerDocument.body},Cr=new WeakMap,no=new WeakMap,yo={},jo=0,ei=function(at){return at&&(at.host||ei(at.parentNode))},vi=function(at,Me,Ye,Xe){var lt=function(fn,_n){return _n.map(function(zn){if(fn.contains(zn))return zn;var Nn=ei(zn);return Nn&&fn.contains(Nn)?Nn:(console.error("aria-hidden",zn,"in not contained inside",fn,". Doing nothing"),null)}).filter(function(zn){return!!zn})}(Me,Array.isArray(at)?at:[at]);yo[Ye]||(yo[Ye]=new WeakMap);var gt=yo[Ye],Ct=[],_t=new Set,Dt=new Set(lt),wn=function(fn){fn&&!_t.has(fn)&&(_t.add(fn),wn(fn.parentNode))};lt.forEach(wn);var Pn=function(fn){fn&&!Dt.has(fn)&&Array.prototype.forEach.call(fn.children,function(_n){if(_t.has(_n))Pn(_n);else{var zn=_n.getAttribute(Xe),Nn=zn!==null&&zn!=="false",Rn=(Cr.get(_n)||0)+1,Tn=(gt.get(_n)||0)+1;Cr.set(_n,Rn),gt.set(_n,Tn),Ct.push(_n),Rn===1&&Nn&&no.set(_n,!0),Tn===1&&_n.setAttribute(Ye,"true"),Nn||_n.setAttribute(Xe,"true")}})};return Pn(Me),_t.clear(),jo++,function(){Ct.forEach(function(fn){var _n=Cr.get(fn)-1,zn=gt.get(fn)-1;Cr.set(fn,_n),gt.set(fn,zn),_n||(no.has(fn)||fn.removeAttribute(Xe),no.delete(fn)),zn||fn.removeAttribute(Ye)}),--jo||(Cr=new WeakMap,Cr=new WeakMap,no=new WeakMap,yo={})}},Gr=function(at,Me,Ye){Ye===void 0&&(Ye="data-aria-hidden");var Xe=Array.from(Array.isArray(at)?at:[at]),lt=Me||Er(at);return lt?(Xe.push.apply(Xe,Array.from(lt.querySelectorAll("[aria-live]"))),vi(Xe,lt,Ye,"aria-hidden")):function(){return null}},Ir=function(){return Ir=Object.assign||function(at){for(var Me,Ye=1,Xe=arguments.length;Ye<Xe;Ye++)for(var lt in Me=arguments[Ye])Object.prototype.hasOwnProperty.call(Me,lt)&&(at[lt]=Me[lt]);return at},Ir.apply(this,arguments)};function uo(at,Me){var Ye={};for(var Xe in at)Object.prototype.hasOwnProperty.call(at,Xe)&&Me.indexOf(Xe)<0&&(Ye[Xe]=at[Xe]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function"){var lt=0;for(Xe=Object.getOwnPropertySymbols(at);lt<Xe.length;lt++)Me.indexOf(Xe[lt])<0&&Object.prototype.propertyIsEnumerable.call(at,Xe[lt])&&(Ye[Xe[lt]]=at[Xe[lt]])}return Ye}var Co="right-scroll-bar-position",Oo="width-before-scroll-bar";function di(at,Me){return Ye=null,Xe=function(gt){return at.forEach(function(Ct){return function(_t,Dt){return typeof _t=="function"?_t(Dt):_t&&(_t.current=Dt),_t}(Ct,gt)})},(lt=(0,S.useState)(function(){return{value:Ye,callback:Xe,facade:{get current(){return lt.value},set current(gt){var Ct=lt.value;Ct!==gt&&(lt.value=gt,lt.callback(gt,Ct))}}}})[0]).callback=Xe,lt.facade;var Ye,Xe,lt}function ri(at){return at}function ni(at,Me){Me===void 0&&(Me=ri);var Ye=[],Xe=!1,lt={read:function(){if(Xe)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return Ye.length?Ye[Ye.length-1]:at},useMedium:function(gt){var Ct=Me(gt,Xe);return Ye.push(Ct),function(){Ye=Ye.filter(function(_t){return _t!==Ct})}},assignSyncMedium:function(gt){for(Xe=!0;Ye.length;){var Ct=Ye;Ye=[],Ct.forEach(gt)}Ye={push:function(_t){return gt(_t)},filter:function(){return Ye}}},assignMedium:function(gt){Xe=!0;var Ct=[];if(Ye.length){var _t=Ye;Ye=[],_t.forEach(gt),Ct=Ye}var Dt=function(){var Pn=Ct;Ct=[],Pn.forEach(gt)},wn=function(){return Promise.resolve().then(Dt)};wn(),Ye={push:function(Pn){Ct.push(Pn),wn()},filter:function(Pn){return Ct=Ct.filter(Pn),Ye}}}};return lt}var bi=function(at){at===void 0&&(at={});var Me=ni(null);return Me.options=Ir({async:!0,ssr:!1},at),Me}(),ji=function(){},wa=S.forwardRef(function(at,Me){var Ye=S.useRef(null),Xe=S.useState({onScrollCapture:ji,onWheelCapture:ji,onTouchMoveCapture:ji}),lt=Xe[0],gt=Xe[1],Ct=at.forwardProps,_t=at.children,Dt=at.className,wn=at.removeScrollBar,Pn=at.enabled,fn=at.shards,_n=at.sideCar,zn=at.noIsolation,Nn=at.inert,Rn=at.allowPinchZoom,Tn=at.as,Vn=Tn===void 0?"div":Tn,sr=uo(at,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),mr=_n,or=di([Ye,Me]),ar=Ir(Ir({},sr),lt);return S.createElement(S.Fragment,null,Pn&&S.createElement(mr,{sideCar:bi,removeScrollBar:wn,shards:fn,noIsolation:zn,inert:Nn,setCallbacks:gt,allowPinchZoom:!!Rn,lockRef:Ye}),Ct?S.cloneElement(S.Children.only(_t),Ir(Ir({},ar),{ref:or})):S.createElement(Vn,Ir({},ar,{className:Dt,ref:or}),_t))});wa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},wa.classNames={fullWidth:Oo,zeroRight:Co};var ka=function(at){var Me=at.sideCar,Ye=uo(at,["sideCar"]);if(!Me)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var Xe=Me.read();if(!Xe)throw new Error("Sidecar medium not found");return S.createElement(Xe,Ir({},Ye))};ka.isSideCarExport=!0;function ki(){if(!document)return null;var at=document.createElement("style");at.type="text/css";var Me=t.nc;return Me&&at.setAttribute("nonce",Me),at}var Ea=function(){var at=0,Me=null;return{add:function(Ye){var Xe,lt;at==0&&(Me=ki())&&(lt=Ye,(Xe=Me).styleSheet?Xe.styleSheet.cssText=lt:Xe.appendChild(document.createTextNode(lt)),function(gt){(document.head||document.getElementsByTagName("head")[0]).appendChild(gt)}(Me)),at++},remove:function(){!--at&&Me&&(Me.parentNode&&Me.parentNode.removeChild(Me),Me=null)}}},Ma=function(){var at,Me=(at=Ea(),function(Ye,Xe){S.useEffect(function(){return at.add(Ye),function(){at.remove()}},[Ye&&Xe])});return function(Ye){var Xe=Ye.styles,lt=Ye.dynamic;return Me(Xe,lt),null}},qa={left:0,top:0,right:0,gap:0},zi=function(at){return parseInt(at||"",10)||0},ra=function(at){if(at===void 0&&(at="margin"),typeof window>"u")return qa;var Me=function(lt){var gt=window.getComputedStyle(document.body),Ct=gt[lt==="padding"?"paddingLeft":"marginLeft"],_t=gt[lt==="padding"?"paddingTop":"marginTop"],Dt=gt[lt==="padding"?"paddingRight":"marginRight"];return[zi(Ct),zi(_t),zi(Dt)]}(at),Ye=document.documentElement.clientWidth,Xe=window.innerWidth;return{left:Me[0],top:Me[1],right:Me[2],gap:Math.max(0,Xe-Ye+Me[2]-Me[0])}},Ai=Ma(),Ni=function(at,Me,Ye,Xe){var lt=at.left,gt=at.top,Ct=at.right,_t=at.gap;return Ye===void 0&&(Ye="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(Xe,`;
   padding-right: `).concat(_t,"px ").concat(Xe,`;
  }
  body {
    overflow: hidden `).concat(Xe,`;
    overscroll-behavior: contain;
    `).concat([Me&&"position: relative ".concat(Xe,";"),Ye==="margin"&&`
    padding-left: `.concat(lt,`px;
    padding-top: `).concat(gt,`px;
    padding-right: `).concat(Ct,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(_t,"px ").concat(Xe,`;
    `),Ye==="padding"&&"padding-right: ".concat(_t,"px ").concat(Xe,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Co,` {
    right: `).concat(_t,"px ").concat(Xe,`;
  }
  
  .`).concat(Oo,` {
    margin-right: `).concat(_t,"px ").concat(Xe,`;
  }
  
  .`).concat(Co," .").concat(Co,` {
    right: 0 `).concat(Xe,`;
  }
  
  .`).concat(Oo," .").concat(Oo,` {
    margin-right: 0 `).concat(Xe,`;
  }
  
  body {
    `).concat("--removed-body-scroll-bar-size",": ").concat(_t,`px;
  }
`)},Xa=function(at){var Me=at.noRelative,Ye=at.noImportant,Xe=at.gapMode,lt=Xe===void 0?"margin":Xe,gt=S.useMemo(function(){return ra(lt)},[lt]);return S.createElement(Ai,{styles:Ni(gt,!Me,lt,Ye?"":"!important")})},Aa=!1;if(typeof window<"u")try{var oa=Object.defineProperty({},"passive",{get:function(){return Aa=!0,!0}});window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Aa=!1}var Ji=!!Aa&&{passive:!1},Ki=function(at,Me){var Ye=window.getComputedStyle(at);return Ye[Me]!=="hidden"&&!(Ye.overflowY===Ye.overflowX&&!function(Xe){return Xe.tagName==="TEXTAREA"}(at)&&Ye[Me]==="visible")},ca=function(at,Me){var Ye=Me;do{if(typeof ShadowRoot<"u"&&Ye instanceof ShadowRoot&&(Ye=Ye.host),ia(at,Ye)){var Xe=ma(at,Ye);if(Xe[1]>Xe[2])return!0}Ye=Ye.parentNode}while(Ye&&Ye!==document.body);return!1},ia=function(at,Me){return at==="v"?function(Ye){return Ki(Ye,"overflowY")}(Me):function(Ye){return Ki(Ye,"overflowX")}(Me)},ma=function(at,Me){return at==="v"?[(Ye=Me).scrollTop,Ye.scrollHeight,Ye.clientHeight]:function(Xe){return[Xe.scrollLeft,Xe.scrollWidth,Xe.clientWidth]}(Me);var Ye},ga=function(at){return"changedTouches"in at?[at.changedTouches[0].clientX,at.changedTouches[0].clientY]:[0,0]},Ta=function(at){return[at.deltaX,at.deltaY]},Ka=function(at){return at&&"current"in at?at.current:at},Pa=function(at){return`
  .block-interactivity-`.concat(at,` {pointer-events: none;}
  .allow-interactivity-`).concat(at,` {pointer-events: all;}
`)},Ra=0,$i=[],mi,Qi=(mi=function(at){var Me=S.useRef([]),Ye=S.useRef([0,0]),Xe=S.useRef(),lt=S.useState(Ra++)[0],gt=S.useState(function(){return Ma()})[0],Ct=S.useRef(at);S.useEffect(function(){Ct.current=at},[at]),S.useEffect(function(){if(at.inert){document.body.classList.add("block-interactivity-".concat(lt));var Rn=function(Tn,Vn,sr){for(var mr,or=0,ar=Vn.length;or<ar;or++)!mr&&or in Vn||(mr||(mr=Array.prototype.slice.call(Vn,0,or)),mr[or]=Vn[or]);return Tn.concat(mr||Array.prototype.slice.call(Vn))}([at.lockRef.current],(at.shards||[]).map(Ka)).filter(Boolean);return Rn.forEach(function(Tn){return Tn.classList.add("allow-interactivity-".concat(lt))}),function(){document.body.classList.remove("block-interactivity-".concat(lt)),Rn.forEach(function(Tn){return Tn.classList.remove("allow-interactivity-".concat(lt))})}}},[at.inert,at.lockRef.current,at.shards]);var _t=S.useCallback(function(Rn,Tn){if("touches"in Rn&&Rn.touches.length===2)return!Ct.current.allowPinchZoom;var Vn,sr=ga(Rn),mr=Ye.current,or="deltaX"in Rn?Rn.deltaX:mr[0]-sr[0],ar="deltaY"in Rn?Rn.deltaY:mr[1]-sr[1],Pr=Rn.target,Hr=Math.abs(or)>Math.abs(ar)?"h":"v";if("touches"in Rn&&Hr==="h"&&Pr.type==="range")return!1;var Dr=ca(Hr,Pr);if(!Dr)return!0;if(Dr?Vn=Hr:(Vn=Hr==="v"?"h":"v",Dr=ca(Hr,Pr)),!Dr)return!1;if(!Xe.current&&"changedTouches"in Rn&&(or||ar)&&(Xe.current=Vn),!Vn)return!0;var Lr=Xe.current||Vn;return function(Xr,Jr,co,po,xo){var Ho=function(Ti,Rt){return Ti==="h"&&Rt==="rtl"?-1:1}(Xr,window.getComputedStyle(Jr).direction),gi=Ho*po,Si=co.target,_i=Jr.contains(Si),da=!1,ta=gi>0,li=0,hi=0;do{var xi=ma(Xr,Si),oi=xi[0],si=xi[1]-xi[2]-Ho*oi;(oi||si)&&ia(Xr,Si)&&(li+=si,hi+=oi),Si=Si.parentNode}while(!_i&&Si!==document.body||_i&&(Jr.contains(Si)||Jr===Si));return(ta&&li===0||!ta&&hi===0)&&(da=!0),da}(Lr,Tn,Rn,Lr==="h"?or:ar)},[]),Dt=S.useCallback(function(Rn){var Tn=Rn;if($i.length&&$i[$i.length-1]===gt){var Vn="deltaY"in Tn?Ta(Tn):ga(Tn),sr=Me.current.filter(function(or){return or.name===Tn.type&&or.target===Tn.target&&function(ar,Pr){return ar[0]===Pr[0]&&ar[1]===Pr[1]}(or.delta,Vn)})[0];if(sr&&sr.should)Tn.cancelable&&Tn.preventDefault();else if(!sr){var mr=(Ct.current.shards||[]).map(Ka).filter(Boolean).filter(function(or){return or.contains(Tn.target)});(mr.length>0?_t(Tn,mr[0]):!Ct.current.noIsolation)&&Tn.cancelable&&Tn.preventDefault()}}},[]),wn=S.useCallback(function(Rn,Tn,Vn,sr){var mr={name:Rn,delta:Tn,target:Vn,should:sr};Me.current.push(mr),setTimeout(function(){Me.current=Me.current.filter(function(or){return or!==mr})},1)},[]),Pn=S.useCallback(function(Rn){Ye.current=ga(Rn),Xe.current=void 0},[]),fn=S.useCallback(function(Rn){wn(Rn.type,Ta(Rn),Rn.target,_t(Rn,at.lockRef.current))},[]),_n=S.useCallback(function(Rn){wn(Rn.type,ga(Rn),Rn.target,_t(Rn,at.lockRef.current))},[]);S.useEffect(function(){return $i.push(gt),at.setCallbacks({onScrollCapture:fn,onWheelCapture:fn,onTouchMoveCapture:_n}),document.addEventListener("wheel",Dt,Ji),document.addEventListener("touchmove",Dt,Ji),document.addEventListener("touchstart",Pn,Ji),function(){$i=$i.filter(function(Rn){return Rn!==gt}),document.removeEventListener("wheel",Dt,Ji),document.removeEventListener("touchmove",Dt,Ji),document.removeEventListener("touchstart",Pn,Ji)}},[]);var zn=at.removeScrollBar,Nn=at.inert;return S.createElement(S.Fragment,null,Nn?S.createElement(gt,{styles:Pa(lt)}):null,zn?S.createElement(Xa,{gapMode:"margin"}):null)},bi.useMedium(mi),ka),Ri=S.forwardRef(function(at,Me){return S.createElement(wa,Ir({},at,{ref:Me,sideCar:Qi}))});Ri.classNames=wa.classNames;var Sa=Ri;const yl="Popover",[xl,Nl]=(0,g.b)(yl,[er]),Za=er(),[aa,yi]=xl(yl),Vi=at=>{const{__scopePopover:Me,children:Ye,open:Xe,defaultOpen:lt,onOpenChange:gt,modal:Ct=!1}=at,_t=Za(Me),Dt=(0,S.useRef)(null),[wn,Pn]=(0,S.useState)(!1),[fn=!1,_n]=(0,Or.T)({prop:Xe,defaultProp:lt,onChange:gt});return(0,S.createElement)(nn,_t,(0,S.createElement)(aa,{scope:Me,contentId:(0,ke.M)(),triggerRef:Dt,open:fn,onOpenChange:_n,onOpenToggle:(0,S.useCallback)(()=>_n(zn=>!zn),[_n]),hasCustomAnchor:wn,onCustomAnchorAdd:(0,S.useCallback)(()=>Pn(!0),[]),onCustomAnchorRemove:(0,S.useCallback)(()=>Pn(!1),[]),modal:Ct},Ye))},ua="PopoverTrigger",Bl=(0,S.forwardRef)((at,Me)=>{const{__scopePopover:Ye,...Xe}=at,lt=yi(ua,Ye),gt=Za(Ye),Ct=(0,o.e)(Me,lt.triggerRef),_t=(0,S.createElement)(s.WV.button,(0,p.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":lt.open,"aria-controls":lt.contentId,"data-state":dt(lt.open)},Xe,{ref:Ct,onClick:(0,r.M)(at.onClick,lt.onOpenToggle)}));return lt.hasCustomAnchor?_t:(0,S.createElement)(ln,(0,p.Z)({asChild:!0},gt),_t)}),za="PopoverPortal",[Ja,ea]=xl(za,{forceMount:void 0}),ja=at=>{const{__scopePopover:Me,forceMount:Ye,children:Xe,container:lt}=at,gt=yi(za,Me);return(0,S.createElement)(Ja,{scope:Me,forceMount:Ye},(0,S.createElement)(br.z,{present:Ye||gt.open},(0,S.createElement)(hr,{asChild:!0,container:lt},Xe)))},Bi="PopoverContent",Wi=(0,S.forwardRef)((at,Me)=>{const Ye=ea(Bi,at.__scopePopover),{forceMount:Xe=Ye.forceMount,...lt}=at,gt=yi(Bi,at.__scopePopover);return(0,S.createElement)(br.z,{present:Xe||gt.open},gt.modal?(0,S.createElement)(wl,(0,p.Z)({},lt,{ref:Me})):(0,S.createElement)(be,(0,p.Z)({},lt,{ref:Me})))}),wl=(0,S.forwardRef)((at,Me)=>{const Ye=yi(Bi,at.__scopePopover),Xe=(0,S.useRef)(null),lt=(0,o.e)(Me,Xe),gt=(0,S.useRef)(!1);return(0,S.useEffect)(()=>{const Ct=Xe.current;if(Ct)return Gr(Ct)},[]),(0,S.createElement)(Sa,{as:Mr.g7,allowPinchZoom:!0},(0,S.createElement)(De,(0,p.Z)({},at,{ref:lt,trapFocus:Ye.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.M)(at.onCloseAutoFocus,Ct=>{var _t;Ct.preventDefault(),gt.current||(_t=Ye.triggerRef.current)===null||_t===void 0||_t.focus()}),onPointerDownOutside:(0,r.M)(at.onPointerDownOutside,Ct=>{const _t=Ct.detail.originalEvent,Dt=_t.button===0&&_t.ctrlKey===!0,wn=_t.button===2||Dt;gt.current=wn},{checkForDefaultPrevented:!1}),onFocusOutside:(0,r.M)(at.onFocusOutside,Ct=>Ct.preventDefault(),{checkForDefaultPrevented:!1})})))}),be=(0,S.forwardRef)((at,Me)=>{const Ye=yi(Bi,at.__scopePopover),Xe=(0,S.useRef)(!1);return(0,S.createElement)(De,(0,p.Z)({},at,{ref:Me,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:lt=>{var gt,Ct;(gt=at.onCloseAutoFocus)===null||gt===void 0||gt.call(at,lt),lt.defaultPrevented||(Xe.current||(Ct=Ye.triggerRef.current)===null||Ct===void 0||Ct.focus(),lt.preventDefault()),Xe.current=!1},onInteractOutside:lt=>{var gt,Ct;(gt=at.onInteractOutside)===null||gt===void 0||gt.call(at,lt),lt.defaultPrevented||(Xe.current=!0);const _t=lt.target;!((Ct=Ye.triggerRef.current)===null||Ct===void 0)&&Ct.contains(_t)&&lt.preventDefault()}}))}),De=(0,S.forwardRef)((at,Me)=>{const{__scopePopover:Ye,trapFocus:Xe,onOpenAutoFocus:lt,onCloseAutoFocus:gt,disableOutsidePointerEvents:Ct,onEscapeKeyDown:_t,onPointerDownOutside:Dt,onFocusOutside:wn,onInteractOutside:Pn,...fn}=at,_n=yi(Bi,Ye),zn=Za(Ye);return ue(),(0,S.createElement)(Te,{asChild:!0,loop:!0,trapped:Xe,onMountAutoFocus:lt,onUnmountAutoFocus:gt},(0,S.createElement)(L,{asChild:!0,disableOutsidePointerEvents:Ct,onInteractOutside:Pn,onEscapeKeyDown:_t,onPointerDownOutside:Dt,onFocusOutside:wn,onDismiss:()=>_n.onOpenChange(!1)},(0,S.createElement)(Zn,(0,p.Z)({"data-state":dt(_n.open),role:"dialog",id:_n.contentId},zn,fn,{ref:Me,style:{...fn.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))}),nt=(0,S.forwardRef)((at,Me)=>{const{__scopePopover:Ye,...Xe}=at,lt=Za(Ye);return(0,S.createElement)(qn,(0,p.Z)({},lt,Xe,{ref:Me}))});function dt(at){return at?"open":"closed"}const xt=Vi,Pt=Bl,en=ja,Cn=Wi,Wn=nt;var Ot=t(8242),Gt=t(453),Tt=t(8935),mn=t(8924),Jt=function(at){var Me=at.color,Ye=at.onChange,Xe=at.label,lt=at.colorPickerType,gt=(0,Ot.Fy)(),Ct=(0,S.useState)(Me),_t=(0,e.Z)(Ct,2),Dt=_t[0],wn=_t[1],Pn=(0,Z.KO)(G),fn=(0,e.Z)(Pn,2),_n=fn[0],zn=fn[1];(0,S.useEffect)(function(){wn(Me)},[Me]);var Nn=(0,S.useCallback)(function(ar){var Pr=ar.toLowerCase(),Hr=fo(Pr);Hr&&Ye(Hr),wn(Pr)},[Ye]),Rn=(0,S.useRef)(null),Tn=(0,S.useRef)(null);(0,S.useEffect)(function(){Rn.current&&Rn.current.focus()},[_n]);var Vn=(0,Z.KO)(mn.$,Gt.yE),sr=(0,e.Z)(Vn,2),mr=sr[0],or=sr[1];return(0,S.useEffect)(function(){return function(){or(null)}},[or]),(0,b.jsxs)("div",{className:"color-picker__input-label",children:[(0,b.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,b.jsx)("input",{ref:_n==="hex"?Rn:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":Xe,onChange:function(ar){Nn(ar.target.value)},value:(Dt||"").replace(/^#/,""),onBlur:function(){wn(Me)},tabIndex:-1,onFocus:function(){return zn("hex")},onKeyDown:function(ar){var Pr;ar.key!==U.tW.TAB&&(ar.key===U.tW.ESCAPE&&((Pr=Tn.current)===null||Pr===void 0||Pr.focus()),ar.stopPropagation())}}),!gt.editor.isMobile&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,b.jsx)("div",{ref:Tn,className:(0,v.Z)("excalidraw-eye-dropper-trigger",{selected:mr}),onClick:function(){return or(function(ar){return ar?null:{keepOpenOnAlt:!1,onSelect:function(Pr){return Ye(Pr)},colorPickerType:lt}})},title:"".concat((0,c.t)("labels.eyeDropper")," — ").concat(U.tW.I.toLocaleUpperCase()," or ").concat((0,w.uY)("Alt")," "),children:Tt.$W})]})]})},On=t(3379),In=t.n(On),gn=t(7795),nr=t.n(gn),ur=t(569),dr=t.n(ur),jr=t(3565),Vr=t.n(jr),qr=t(9216),Wr=t.n(qr),Yr=t(4589),Tr=t.n(Yr),Br=t(4269),ro={};ro.styleTagTransform=Tr(),ro.setAttributes=Vr(),ro.insert=dr().bind(null,"head"),ro.domAPI=nr(),ro.insertStyleElement=Wr(),In()(Br.Z,ro),Br.Z&&Br.Z.locals&&Br.Z.locals;var so=function(at){var Me=new Option().style;return Me.color=at,!!Me.color},fo=function(at){return(0,w.Qm)(at)?at:so("#".concat(at))?"#".concat(at):so(at)?at:null},Mo=function(at){var Me=at.type,Ye=at.color,Xe=at.onChange,lt=at.label,gt=at.elements,Ct=at.palette,_t=Ct===void 0?d.HO:Ct,Dt=at.updateData,wn=(0,Z.KO)(G),Pn=(0,e.Z)(wn,2)[1],fn=(0,Z.KO)(mn.$,Gt.yE),_n=(0,e.Z)(fn,2),zn=_n[0],Nn=_n[1],Rn=(0,Ot.J0)().container,Tn=(0,Ot.Fy)(),Vn=(0,b.jsxs)("div",{children:[(0,b.jsx)(M,{children:(0,c.t)("colorPicker.hexCode")}),(0,b.jsx)(Jt,{color:Ye,label:lt,onChange:function(or){Xe(or)},colorPickerType:Me})]}),sr=(0,S.useRef)(null),mr=function(){var or,ar;(or=sr.current)===null||or===void 0||(ar=or.querySelector(".color-picker-content"))===null||ar===void 0||ar.focus()};return(0,b.jsx)(en,{container:Rn,children:(0,b.jsxs)(Cn,{ref:sr,className:"focus-visible-none","data-prevent-outside-click":!0,onFocusOutside:function(or){mr(),or.preventDefault()},onPointerDownOutside:function(or){zn&&or.preventDefault()},onCloseAutoFocus:function(or){or.stopPropagation(),or.preventDefault(),Rn&&!(0,w.y1)(document.activeElement)&&Rn.focus(),Dt({openPopup:null}),Pn(null)},side:Tn.editor.isMobile&&!Tn.viewport.isLandscape?"bottom":"right",align:Tn.editor.isMobile&&!Tn.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-layerUI)",backgroundColor:"var(--popup-bg-color)",maxWidth:"208px",maxHeight:window.innerHeight,padding:"12px",borderRadius:"8px",boxSizing:"border-box",overflowY:"auto",boxShadow:"0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702)"},children:[_t?(0,b.jsx)(E,{palette:_t,color:Ye,onChange:function(or){Xe(or)},onEyeDropperToggle:function(or){Nn(function(ar){return or?((ar=ar||{keepOpenOnAlt:!0,onSelect:Xe,colorPickerType:Me}).keepOpenOnAlt=!0,ar):or===!1||ar?null:{keepOpenOnAlt:!1,onSelect:Xe,colorPickerType:Me}})},onEscape:function(or){zn?Nn(null):(0,w.s)(or.target)?mr():Dt({openPopup:null})},label:lt,type:Me,elements:gt,updateData:Dt,children:Vn}):Vn,(0,b.jsx)(Wn,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})},Zi=function(at){var Me=at.label,Ye=at.color,Xe=at.type;return(0,b.jsx)(Pt,{type:"button",className:(0,v.Z)("color-picker__button active-color",{"is-transparent":Ye==="transparent"||!Ye}),"aria-label":Me,style:Ye?{"--swatch-color":Ye}:void 0,title:Xe==="elementStroke"?(0,c.t)("labels.showStroke"):(0,c.t)("labels.showBackground"),children:(0,b.jsx)("div",{className:"color-picker__button-outline"})})},Ao=function(at){var Me=at.type,Ye=at.color,Xe=at.onChange,lt=at.label,gt=at.elements,Ct=at.palette,_t=Ct===void 0?d.HO:Ct,Dt=at.topPicks,wn=at.updateData,Pn=at.appState;return(0,b.jsx)("div",{children:(0,b.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,b.jsx)(T,{activeColor:Ye,onChange:Xe,type:Me,topPicks:Dt}),(0,b.jsx)("div",{style:{width:1,height:"100%",backgroundColor:"var(--default-border-color)",margin:"0 auto"}}),(0,b.jsxs)(xt,{open:Pn.openPopup===Me,onOpenChange:function(fn){wn({openPopup:fn?Me:null})},children:[(0,b.jsx)(Zi,{color:Ye,label:lt,type:Me}),Pn.openPopup===Me&&(0,b.jsx)(Mo,{type:Me,color:Ye,onChange:Xe,label:lt,elements:gt,palette:_t,updateData:wn})]})]})})}},6887:function(We,te,t){t.d(te,{Z:function(){return p}});var e=t(7169),w=t(2726),v=t(8227),d=t(1300),b=t(3379),T=t.n(b),S=t(7795),a=t.n(S),c=t(569),Z=t.n(c),F=t(3565),_=t.n(F),h=t(9216),x=t.n(h),G=t(4589),le=t.n(G),he=t(9393),ve={};ve.styleTagTransform=le(),ve.setAttributes=_(),ve.insert=Z().bind(null,"head"),ve.domAPI=a(),ve.insertStyleElement=x(),T()(he.Z,ve),he.Z&&he.Z.locals&&he.Z.locals;var fe=t(4932),X=t(3607),q=t(3116),U=t(8242),R=t(453),B=t(4512),M=["onConfirm","onCancel","children","confirmText","cancelText","className"];function I(r,o){var g=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);o&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),g.push.apply(g,s)}return g}function E(r){for(var o=1;o<arguments.length;o++){var g=arguments[o]!=null?arguments[o]:{};o%2?I(Object(g),!0).forEach(function(s){(0,e.Z)(r,s,g[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(g)):I(Object(g)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(g,s))})}return r}var p=function(r){var o=r.onConfirm,g=r.onCancel,s=r.children,u=r.confirmText,k=u===void 0?(0,v.t)("buttons.confirm"):u,N=r.cancelText,W=N===void 0?(0,v.t)("buttons.cancel"):N,O=r.className,j=O===void 0?"":O,L=(0,w.Z)(r,M),V=(0,U.n9)(),ie=(0,X.b9)(q.uh,R.yE),se=(0,U.J0)().container;return(0,B.jsxs)(d.V,E(E({onCloseRequest:g,size:"small"},L),{},{className:"confirm-dialog ".concat(j),children:[s,(0,B.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,B.jsx)(fe.Z,{label:W,onClick:function(){V({openMenu:null}),ie(!1),g(),se?.focus()}}),(0,B.jsx)(fe.Z,{label:k,onClick:function(){V({openMenu:null}),ie(!1),o(),se?.focus()},actionType:"danger"})]})]}))}},1925:function(We,te,t){t.d(te,{O:function(){return q}});var e=t(2726),w=t(7169),v=t(45),d=t(9937),b=t(4572),T=t(100),S=t(8227),a=t(9827),c=t(8242),Z=t(6922),F=t(3116),_=t(5902),h=t(4512),x=t(9787),G=["children"],le=["children","className","onDock","docked"];function he(U,R){var B=Object.keys(U);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(U);R&&(M=M.filter(function(I){return Object.getOwnPropertyDescriptor(U,I).enumerable})),B.push.apply(B,M)}return B}function ve(U){for(var R=1;R<arguments.length;R++){var B=arguments[R]!=null?arguments[R]:{};R%2?he(Object(B),!0).forEach(function(M){(0,w.Z)(U,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(B)):he(Object(B)).forEach(function(M){Object.defineProperty(U,M,Object.getOwnPropertyDescriptor(B,M))})}return U}var fe=(0,Z.$)("DefaultSidebarTrigger",function(U){var R=(0,b.R6)().DefaultSidebarTriggerTunnel;return(0,h.jsx)(R.In,{children:(0,h.jsx)(_.YE.Trigger,ve(ve({},U),{},{className:"default-sidebar-trigger",name:d.Cc.name}))})});fe.displayName="DefaultSidebarTrigger";var X=function(U){var R=U.children,B=(0,e.Z)(U,G),M=(0,b.R6)().DefaultSidebarTabTriggersTunnel;return(0,h.jsx)(M.In,{children:(0,h.jsx)(_.YE.TabTriggers,ve(ve({},B),{},{children:R}))})};X.displayName="DefaultTabTriggers";var q=Object.assign((0,Z.$)("DefaultSidebar",function(U){var R=U.children,B=U.className,M=U.onDock,I=U.docked,E=(0,e.Z)(U,le),p=(0,T.I)(),r=(0,c.n9)(),o=(0,b.R6)().DefaultSidebarTabTriggersTunnel;return(0,x.createElement)(_.YE,ve(ve({},E),{},{name:"default",key:"default",className:(0,v.Z)("default-sidebar",B),docked:I??p.defaultSidebarDockedPreference,onDock:M===!1||!M&&I!=null?void 0:(0,a.Mj)(M,function(g){r({defaultSidebarDockedPreference:g})})}),(0,h.jsxs)(_.YE.Tabs,{children:[(0,h.jsxs)(_.YE.Header,{children:[E.__fallback&&(0,h.jsx)("div",{style:{color:"var(--color-primary)",fontSize:"1.2em",fontWeight:"bold",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"1em"},children:(0,S.t)("toolBar.library")}),(0,h.jsx)(o.Out,{})]}),(0,h.jsx)(_.YE.Tab,{tab:d.tf,children:(0,h.jsx)(F.rY,{})}),R]}))}),{Trigger:fe,TabTriggers:X})},1300:function(We,te,t){t.d(te,{V:function(){return k}});var e=t(2577),w=t(45),v=t(9787),d=t(8227),b=t(8242),T=t(5491),S=t(3379),a=t.n(S),c=t(7795),Z=t.n(c),F=t(569),_=t.n(F),h=t(3565),x=t.n(h),G=t(9216),le=t.n(G),he=t(4589),ve=t.n(he),fe=t(9482),X={};X.styleTagTransform=ve(),X.setAttributes=x(),X.insert=_().bind(null,"head"),X.domAPI=Z(),X.insertStyleElement=le(),a()(fe.Z,X),fe.Z&&fe.Z.locals&&fe.Z.locals;var q=t(8935),U=t(1404),R=t(6843),B={};B.styleTagTransform=ve(),B.setAttributes=x(),B.insert=_().bind(null,"head"),B.domAPI=Z(),B.insertStyleElement=le(),a()(R.Z,B),R.Z&&R.Z.locals&&R.Z.locals;var M=t(5156),I=t(334),E=t(4512),p=function(N){var W=N.closeOnClickOutside,O=W===void 0||W,j=(0,I.F)({className:"excalidraw-modal-container"});return j?(0,M.createPortal)((0,E.jsxs)("div",{className:(0,w.Z)("Modal",N.className),role:"dialog","aria-modal":"true",onKeyDown:function(L){L.key===T.tW.ESCAPE&&(L.nativeEvent.stopImmediatePropagation(),L.stopPropagation(),N.onCloseRequest())},"aria-labelledby":N.labelledBy,"data-prevent-outside-click":!0,children:[(0,E.jsx)("div",{className:"Modal__background",onClick:O?N.onCloseRequest:void 0}),(0,E.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(N.maxWidth,"px")},tabIndex:0,children:N.children})]}),j):null},r=t(9827),o=t(3607),g=t(3116),s=t(453);function u(N){if(N&&typeof N=="number")return N;switch(N){case"small":return 550;case"wide":return 1024;default:return 800}}var k=function(N){var W=function(){var me=(0,v.useState)(null),Te=(0,e.Z)(me,2),Ue=Te[0],qe=Te[1];return[Ue,(0,v.useCallback)(function(Ae){return qe(Ae)},[])]}(),O=(0,e.Z)(W,2),j=O[0],L=O[1],V=(0,v.useState)(document.activeElement),ie=(0,e.Z)(V,1)[0],se=(0,b.J0)().id,ue=(0,b.Fy)().viewport.isMobile;(0,v.useEffect)(function(){if(j){var me=(0,r.xp)(j);me.length>0&&N.autofocus!==!1&&(me[1]||me[0]).focus();var Te=function(Ue){if(Ue.key===T.tW.TAB){var qe=(0,r.xp)(j),Ae=document.activeElement,Oe=qe.findIndex(function(Ie){return Ie===Ae});Oe===0&&Ue.shiftKey?(qe[qe.length-1].focus(),Ue.preventDefault()):Oe!==qe.length-1||Ue.shiftKey||(qe[0].focus(),Ue.preventDefault())}};return j.addEventListener("keydown",Te),function(){return j.removeEventListener("keydown",Te)}}},[j,N.autofocus]);var pe=(0,b.n9)(),Q=(0,o.b9)(g.uh,s.yE),ee=function(){pe({openMenu:null}),Q(!1),ie.focus(),N.onCloseRequest()};return(0,E.jsx)(p,{className:(0,w.Z)("Dialog",N.className,{"Dialog--fullscreen":ue}),labelledBy:"dialog-title",maxWidth:u(N.size),onCloseRequest:ee,closeOnClickOutside:N.closeOnClickOutside,children:(0,E.jsxs)(U.W,{ref:L,children:[N.title&&(0,E.jsx)("h2",{id:"".concat(se,"-dialog-title"),className:"Dialog__title",children:(0,E.jsx)("span",{className:"Dialog__titleContent",children:N.title})}),(0,E.jsx)("button",{className:"Dialog__close",onClick:ee,title:(0,d.t)("buttons.close"),"aria-label":(0,d.t)("buttons.close"),children:ue?q.op:q.Tw}),(0,E.jsx)("div",{className:"Dialog__content",children:N.children})]})})}},4932:function(We,te,t){t.d(te,{Z:function(){return R}});var e=t(7169),w=t(2726),v=t(45),d=t(3379),b=t.n(d),T=t(7795),S=t.n(T),a=t(569),c=t.n(a),Z=t(3565),F=t.n(Z),_=t(9216),h=t.n(_),x=t(4589),G=t.n(x),le=t(6148),he={};he.styleTagTransform=G(),he.setAttributes=F(),he.insert=c().bind(null,"head"),he.domAPI=S(),he.insertStyleElement=h(),b()(le.Z,he),le.Z&&le.Z.locals&&le.Z.locals;var ve=t(8531),fe=t(4512),X=["label","onClick","className","children","actionType","type","isLoading"];function q(B,M){var I=Object.keys(B);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(B);M&&(E=E.filter(function(p){return Object.getOwnPropertyDescriptor(B,p).enumerable})),I.push.apply(I,E)}return I}function U(B){for(var M=1;M<arguments.length;M++){var I=arguments[M]!=null?arguments[M]:{};M%2?q(Object(I),!0).forEach(function(E){(0,e.Z)(B,E,I[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(I)):q(Object(I)).forEach(function(E){Object.defineProperty(B,E,Object.getOwnPropertyDescriptor(I,E))})}return B}var R=function(B){var M=B.label,I=B.onClick,E=B.className,p=B.children,r=B.actionType,o=B.type,g=o===void 0?"button":o,s=B.isLoading,u=(0,w.Z)(B,X),k=r?"Dialog__action-button--".concat(r):"";return(0,fe.jsxs)("button",U(U({className:(0,v.Z)("Dialog__action-button",k,E),type:g,"aria-label":M,onClick:I},u),{},{children:[p&&(0,fe.jsx)("div",{style:s?{visibility:"hidden"}:{},children:p}),(0,fe.jsx)("div",{style:s?{visibility:"hidden"}:{},children:M}),s&&(0,fe.jsx)("div",{style:{position:"absolute",inset:0},children:(0,fe.jsx)(ve.Z,{})})]}))}},8924:function(We,te,t){t.d(te,{p:function(){return p},$:function(){return E}});var e=t(3607),w=t(9787),v=t(5156),d=t(9240),b=t(9937),T=t(100),S=t(334),a=t(1901),c=t(5491),Z=t(4105),F=t(8242),_=t(3379),h=t.n(_),x=t(7795),G=t.n(x),le=t(569),he=t.n(le),ve=t(3565),fe=t.n(ve),X=t(9216),q=t.n(X),U=t(4589),R=t.n(U),B=t(7522),M={};M.styleTagTransform=R(),M.setAttributes=fe(),M.insert=he().bind(null,"head"),M.domAPI=G(),M.insertStyleElement=q(),h()(B.Z,M),B.Z&&B.Z.locals&&B.Z.locals;var I=t(4512),E=(0,e.cn)(null),p=function(r){var o=r.onCancel,g=r.onChange,s=r.onSelect,u=r.colorPickerType,k=(0,S.F)({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),N=(0,T.I)(),W=(0,F.bd)(),O=(0,F.qD)(),j=(0,Z.eD)(W,N),L=function(se){var ue=(0,w.useRef)(se);return Object.assign(ue.current,se),ue.current}({app:O,onCancel:o,onChange:g,onSelect:s,selectedElements:j}),V=(0,F.J0)().container;(0,w.useEffect)(function(){var se=ie.current;if(se&&O.canvas&&k){var ue=!1,pe=O.canvas.getContext("2d"),Q=function(Ae){var Oe=Ae.clientX,Ie=Ae.clientY,Re=pe.getImageData((Oe-N.offsetLeft)*window.devicePixelRatio,(Ie-N.offsetTop)*window.devicePixelRatio,1,1).data;return(0,d.vq)(Re[0],Re[1],Re[2])},ee=function(Ae){var Oe=Ae.clientX,Ie=Ae.clientY,Re=Ae.altKey;se.style.top="".concat(Ie+20,"px"),se.style.left="".concat(Oe+20,"px");var ke=Q({clientX:Oe,clientY:Ie});ue&&L.onChange(u,ke,L.selectedElements,{altKey:Re}),se.style.background=ke},me=function(){L.onCancel()},Te=function(Ae){ue=!0,Ae.stopImmediatePropagation()},Ue=function(Ae){ue=!1,V?.focus(),Ae.stopImmediatePropagation(),Ae.preventDefault(),function(Oe,Ie){L.onSelect(Oe,Ie)}(Q(Ae),Ae)},qe=function(Ae){Ae.key===c.tW.ESCAPE&&(Ae.preventDefault(),Ae.stopImmediatePropagation(),me())};return k.tabIndex=-1,k.focus(),ee({clientX:L.app.lastViewportPosition.x,clientY:L.app.lastViewportPosition.y,altKey:!1}),k.addEventListener(b.Ks.KEYDOWN,qe),k.addEventListener(b.Ks.POINTER_DOWN,Te),k.addEventListener(b.Ks.POINTER_UP,Ue),window.addEventListener("pointermove",ee,{passive:!0}),window.addEventListener(b.Ks.BLUR,me),function(){ue=!1,k.removeEventListener(b.Ks.KEYDOWN,qe),k.removeEventListener(b.Ks.POINTER_DOWN,Te),k.removeEventListener(b.Ks.POINTER_UP,Ue),window.removeEventListener("pointermove",ee),window.removeEventListener(b.Ks.BLUR,me)}}},[L,O.canvas,k,u,V,N.offsetLeft,N.offsetTop]);var ie=(0,w.useRef)(null);return(0,a.O)(ie,function(){o()},function(se){return!!se.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")}),k?(0,v.createPortal)((0,I.jsx)("div",{ref:ie,className:"excalidraw-eye-dropper-preview"}),k):null}},1404:function(We,te,t){t.d(te,{W:function(){return U}});var e=t(7169),w=t(3379),v=t.n(w),d=t(7795),b=t.n(d),T=t(569),S=t.n(T),a=t(3565),c=t.n(a),Z=t(9216),F=t.n(Z),_=t(4589),h=t.n(_),x=t(7369),G={};G.styleTagTransform=h(),G.setAttributes=c(),G.insert=S().bind(null,"head"),G.domAPI=b(),G.insertStyleElement=F(),v()(x.Z,G),x.Z&&x.Z.locals&&x.Z.locals;var le=t(9787),he=t.n(le),ve=t(45),fe=t(4512);function X(R,B){var M=Object.keys(R);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(R);B&&(I=I.filter(function(E){return Object.getOwnPropertyDescriptor(R,E).enumerable})),M.push.apply(M,I)}return M}function q(R){for(var B=1;B<arguments.length;B++){var M=arguments[B]!=null?arguments[B]:{};B%2?X(Object(M),!0).forEach(function(I){(0,e.Z)(R,I,M[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(M)):X(Object(M)).forEach(function(I){Object.defineProperty(R,I,Object.getOwnPropertyDescriptor(M,I))})}return R}var U=he().forwardRef(function(R,B){var M=R.children,I=R.padding,E=R.className,p=R.style;return(0,fe.jsx)("div",{className:(0,ve.Z)("Island",E),style:q({"--padding":I},p),ref:B,children:M})})},3116:function(We,te,t){t.d(te,{rY:function(){return jn},uh:function(){return rn}});var e=t(6655),w=t(1930),v=t(8950),d=t(2577),b=t(2975),T=t.n(b),S=t(9787),a=t.n(S),c=t(9326),Z=t(8227),F=t(4643),_=t(7169),h=t(4419),x=t(9827),G=t(2540),le=t(9937),he=t(8531),ve=t(5742),fe=t(4512),X=function(It){var kt=It.theme,Ht=It.id,At=It.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,fe.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(At,"&useHash=true&token=").concat(Ht,"&theme=").concat(kt,"&version=").concat(le.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,Z.t)("labels.libraries")})},q=t(45),U=function(It){var kt=It.libraryReturnUrl,Ht=It.theme,At=It.id,Wt=It.style,Kt=It.children,an=It.className;return(0,fe.jsxs)("div",{className:(0,q.Z)("library-menu-control-buttons",an),style:Wt,children:[(0,fe.jsx)(X,{id:At,libraryReturnUrl:kt,theme:Ht}),Kt]})},R=t(9247),B=t(453),M=t(8242),I=t(8935),E=t(1512),p=t(6548),r=t(3607),o=t(6887),g=t(5284),s=t(1300),u=t(507),k=t(5796),N=t(4932),W=t(3379),O=t.n(W),j=t(7795),L=t.n(j),V=t(569),ie=t.n(V),se=t(3565),ue=t.n(se),pe=t(9216),Q=t.n(pe),ee=t(4589),me=t.n(ee),Te=t(7589),Ue={};Ue.styleTagTransform=me(),Ue.setAttributes=ue(),Ue.insert=ie().bind(null,"head"),Ue.domAPI=L(),Ue.insertStyleElement=Q(),O()(Te.Z,Ue),Te.Z&&Te.Z.locals&&Te.Z.locals;function qe(It,kt){var Ht=Object.keys(It);if(Object.getOwnPropertySymbols){var At=Object.getOwnPropertySymbols(It);kt&&(At=At.filter(function(Wt){return Object.getOwnPropertyDescriptor(It,Wt).enumerable})),Ht.push.apply(Ht,At)}return Ht}function Ae(It){for(var kt=1;kt<arguments.length;kt++){var Ht=arguments[kt]!=null?arguments[kt]:{};kt%2?qe(Object(Ht),!0).forEach(function(At){(0,_.Z)(It,At,Ht[At])}):Object.getOwnPropertyDescriptors?Object.defineProperties(It,Object.getOwnPropertyDescriptors(Ht)):qe(Object(Ht)).forEach(function(At){Object.defineProperty(It,At,Object.getOwnPropertyDescriptor(Ht,At))})}return It}function Oe(It,kt){var Ht=typeof Symbol<"u"&&It[Symbol.iterator]||It["@@iterator"];if(!Ht){if(Array.isArray(It)||(Ht=function(hn,An){if(hn){if(typeof hn=="string")return Ie(hn,An);var Yn=Object.prototype.toString.call(hn).slice(8,-1);if(Yn==="Object"&&hn.constructor&&(Yn=hn.constructor.name),Yn==="Map"||Yn==="Set")return Array.from(hn);if(Yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yn))return Ie(hn,An)}}(It))||kt){Ht&&(It=Ht);var At=0,Wt=function(){};return{s:Wt,n:function(){return At>=It.length?{done:!0}:{done:!1,value:It[At++]}},e:function(hn){throw hn},f:Wt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kt,an=!0,bn=!1;return{s:function(){Ht=Ht.call(It)},n:function(){var hn=Ht.next();return an=hn.done,hn},e:function(hn){bn=!0,Kt=hn},f:function(){try{an||Ht.return==null||Ht.return()}finally{if(bn)throw Kt}}}}function Ie(It,kt){(kt==null||kt>It.length)&&(kt=It.length);for(var Ht=0,At=new Array(kt);Ht<kt;Ht++)At[Ht]=It[Ht];return At}var Re="publish-library-data",ke=function(){var It=(0,v.Z)(T().mark(function kt(Ht){var At,Wt,Kt,an,bn,hn,An,Yn,tr,Sn,Bt,dn,un,Bn,Jn,cr,kr;return T().wrap(function(fr){for(;;)switch(fr.prev=fr.next){case 0:At=6,Wt=128,Kt=Math.round(Wt/16),an=Math.max(Math.round(Wt/64),2),bn=(0,x.yo)(Ht,At),(hn=document.createElement("canvas")).width=bn[0].length*Wt+(bn[0].length+1)*(2*Kt)-2*Kt,hn.height=bn.length*Wt+(bn.length+1)*(2*Kt)-2*Kt,(An=hn.getContext("2d")).fillStyle=g.white,An.fillRect(0,0,hn.width,hn.height),Yn=Oe(Ht.entries()),fr.prev=12,Yn.s();case 14:if((tr=Yn.n()).done){fr.next=28;break}return Sn=(0,d.Z)(tr.value,2),Bt=Sn[0],dn=Sn[1],fr.next=18,(0,u.NL)({elements:dn.elements,files:null,maxWidthOrHeight:Wt});case 18:un=fr.sent,Bn=un.width,Jn=un.height,cr=Math.floor(Bt/At)*(Wt+2*Kt),kr=Bt%At*(Wt+2*Kt),An.drawImage(un,kr+(Wt-Bn)/2+Kt,cr+(Wt-Jn)/2+Kt),An.lineWidth=an,An.strokeStyle=g.gray[4],An.strokeRect(kr+Kt/2,cr+Kt/2,Wt+Kt,Wt+Kt);case 26:fr.next=14;break;case 28:fr.next=33;break;case 30:fr.prev=30,fr.t0=fr.catch(12),Yn.e(fr.t0);case 33:return fr.prev=33,Yn.f(),fr.finish(33);case 36:return fr.t1=k.Tu,fr.t2=File,fr.next=40,(0,k._c)(hn);case 40:return fr.t3=fr.sent,fr.t4=[fr.t3],fr.t5={type:le.LO.png},fr.t6=new fr.t2(fr.t4,"preview",fr.t5),fr.t7={outputType:le.LO.jpg,maxWidthOrHeight:5e3},fr.next=47,(0,fr.t1)(fr.t6,fr.t7);case 47:return fr.abrupt("return",fr.sent);case 48:case"end":return fr.stop()}},kt,null,[[12,30,33,36]])}));return function(kt){return It.apply(this,arguments)}}(),xe=function(It){var kt=It.libItem,Ht=It.appState,At=It.index,Wt=It.onChange,Kt=It.onRemove,an=(0,S.useRef)(null),bn=(0,S.useRef)(null);return(0,S.useEffect)(function(){var hn=an.current;hn&&(0,v.Z)(T().mark(function An(){var Yn;return T().wrap(function(tr){for(;;)switch(tr.prev=tr.next){case 0:return tr.next=2,(0,u.$D)({elements:kt.elements,appState:Ae(Ae({},Ht),{},{viewBackgroundColor:g.white,exportBackground:!0}),files:null});case 2:Yn=tr.sent,hn.innerHTML=Yn.outerHTML;case 4:case"end":return tr.stop()}},An)}))()},[kt.elements,Ht]),(0,fe.jsxs)("div",{className:"single-library-item",children:[kt.status==="published"&&(0,fe.jsx)("span",{className:"single-library-item-status",children:(0,Z.t)("labels.statusPublished")}),(0,fe.jsx)("div",{ref:an,className:"single-library-item__svg"}),(0,fe.jsx)(E.V,{"aria-label":(0,Z.t)("buttons.remove"),type:"button",icon:I.Tw,className:"single-library-item--remove",onClick:Kt.bind(null,kt.id),title:(0,Z.t)("buttons.remove")}),(0,fe.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,fe.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,fe.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,fe.jsx)("span",{style:{fontWeight:500,color:g.gray[6]},children:(0,Z.t)("publishDialog.itemName")}),(0,fe.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,fe.jsx)("input",{type:"text",ref:bn,style:{width:"80%",padding:"0.2rem"},defaultValue:kt.name,placeholder:"Item name",onChange:function(hn){Wt(hn.target.value,At)}})]}),(0,fe.jsx)("span",{className:"error",children:kt.error})]})]})},ye=function(It){var kt=It.onClose,Ht=It.libraryItems,At=It.appState,Wt=It.onSuccess,Kt=It.onError,an=It.updateItemsInStorage,bn=It.onRemove,hn=(0,S.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),An=(0,d.Z)(hn,2),Yn=An[0],tr=An[1],Sn=(0,S.useState)(!1),Bt=(0,d.Z)(Sn,2),dn=Bt[0],un=Bt[1];(0,S.useEffect)(function(){var $n=function(){try{var Hn=localStorage.getItem(Re);if(Hn)return JSON.parse(Hn)}catch(Qn){console.error(Qn)}return null}();$n&&tr($n)},[]);var Bn=(0,S.useState)(Ht.slice()),Jn=(0,d.Z)(Bn,2),cr=Jn[0],kr=Jn[1];(0,S.useEffect)(function(){kr(Ht.slice())},[Ht]);var fr,pn=function($n){tr(Ae(Ae({},Yn),{},(0,_.Z)({},$n.target.name,$n.target.value)))},Nt=function(){var $n=(0,v.Z)(T().mark(function Hn(Qn){var ir,Fn,yr,lr,Gn,Xn,er;return T().wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:if(Qn.preventDefault(),un(!0),ir=[],Fn=!1,cr.forEach(function(vr){var xr="";vr.name||(xr=(0,Z.t)("publishDialog.errors.required"),Fn=!0),ir.push(Ae(Ae({},vr),{},{error:xr}))}),!Fn){pr.next=9;break}return kr(ir),un(!1),pr.abrupt("return");case 9:return pr.next=11,ke(cr);case 11:yr=pr.sent,lr={type:le.r8.excalidrawLibrary,version:le.Kr.excalidrawLibrary,source:le.pb,libraryItems:cr},Gn=JSON.stringify(lr,null,2),Xn=new Blob([Gn],{type:"application/json"}),(er=new FormData).append("excalidrawLib",Xn),er.append("previewImage",yr),er.append("previewImageType",yr.type),er.append("title",Yn.name),er.append("authorName",Yn.authorName),er.append("githubHandle",Yn.githubHandle),er.append("name",Yn.name),er.append("description",Yn.description),er.append("twitterHandle",Yn.twitterHandle),er.append("website",Yn.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:er}).then(function(vr){return vr.ok?vr.json().then(function(xr){var $r=xr.url;localStorage.removeItem(Re),Wt({url:$r,authorName:Yn.authorName,items:cr})}):vr.json().catch(function(){throw new Error(vr.statusText||"something went wrong")}).then(function(xr){throw new Error(xr.message||vr.statusText||"something went wrong")})},function(vr){console.error(vr),Kt(vr),un(!1)}).catch(function(vr){console.error(vr),Kt(vr),un(!1)});case 27:case"end":return pr.stop()}},Hn)}));return function(Hn){return $n.apply(this,arguments)}}(),Ft=(0,S.useCallback)(function(){an(cr),function($n){try{localStorage.setItem(Re,JSON.stringify($n))}catch(Hn){console.error(Hn)}}(Yn),kt()},[cr,kt,an,Yn]),qt=!!Ht.length,kn=Ht.some(function($n){return $n.status==="published"});return(0,fe.jsx)(s.V,{onCloseRequest:Ft,title:(0,Z.t)("publishDialog.title"),className:"publish-library",children:qt?(0,fe.jsxs)("form",{onSubmit:Nt,children:[(0,fe.jsx)("div",{className:"publish-library-note",children:(0,fe.jsx)(R.Z,{i18nKey:"publishDialog.noteDescription",link:function($n){return(0,fe.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:$n})}})}),(0,fe.jsx)("span",{className:"publish-library-note",children:(0,fe.jsx)(R.Z,{i18nKey:"publishDialog.noteGuidelines",link:function($n){return(0,fe.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:$n})}})}),(0,fe.jsx)("div",{className:"publish-library-note",children:(0,Z.t)("publishDialog.noteItems")}),kn&&(0,fe.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,Z.t)("publishDialog.republishWarning")}),(fr=[],cr.forEach(function($n,Hn){fr.push((0,fe.jsx)("div",{className:"single-library-item-wrapper",children:(0,fe.jsx)(xe,{libItem:$n,appState:At,index:Hn,onChange:function(Qn,ir){var Fn=cr.slice();Fn[ir].name=Qn,kr(Fn)},onRemove:bn})},Hn))}),(0,fe.jsx)("div",{className:"selected-library-items",children:fr})),(0,fe.jsxs)("div",{className:"publish-library__fields",children:[(0,fe.jsxs)("label",{children:[(0,fe.jsxs)("div",{children:[(0,fe.jsx)("span",{children:(0,Z.t)("publishDialog.libraryName")}),(0,fe.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,fe.jsx)("input",{type:"text",name:"name",required:!0,value:Yn.name,onChange:pn,placeholder:(0,Z.t)("publishDialog.placeholder.libraryName")})]}),(0,fe.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,fe.jsxs)("div",{children:[(0,fe.jsx)("span",{children:(0,Z.t)("publishDialog.libraryDesc")}),(0,fe.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,fe.jsx)("textarea",{name:"description",rows:4,required:!0,value:Yn.description,onChange:pn,placeholder:(0,Z.t)("publishDialog.placeholder.libraryDesc")})]}),(0,fe.jsxs)("label",{children:[(0,fe.jsxs)("div",{children:[(0,fe.jsx)("span",{children:(0,Z.t)("publishDialog.authorName")}),(0,fe.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,fe.jsx)("input",{type:"text",name:"authorName",required:!0,value:Yn.authorName,onChange:pn,placeholder:(0,Z.t)("publishDialog.placeholder.authorName")})]}),(0,fe.jsxs)("label",{children:[(0,fe.jsx)("span",{children:(0,Z.t)("publishDialog.githubUsername")}),(0,fe.jsx)("input",{type:"text",name:"githubHandle",value:Yn.githubHandle,onChange:pn,placeholder:(0,Z.t)("publishDialog.placeholder.githubHandle")})]}),(0,fe.jsxs)("label",{children:[(0,fe.jsx)("span",{children:(0,Z.t)("publishDialog.twitterUsername")}),(0,fe.jsx)("input",{type:"text",name:"twitterHandle",value:Yn.twitterHandle,onChange:pn,placeholder:(0,Z.t)("publishDialog.placeholder.twitterHandle")})]}),(0,fe.jsxs)("label",{children:[(0,fe.jsx)("span",{children:(0,Z.t)("publishDialog.website")}),(0,fe.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,Z.t)("publishDialog.errors.website"),value:Yn.website,onChange:pn,placeholder:(0,Z.t)("publishDialog.placeholder.website")})]}),(0,fe.jsx)("span",{className:"publish-library-note",children:(0,fe.jsx)(R.Z,{i18nKey:"publishDialog.noteLicense",link:function($n){return(0,fe.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:$n})}})})]}),(0,fe.jsxs)("div",{className:"publish-library__buttons",children:[(0,fe.jsx)(N.Z,{label:(0,Z.t)("buttons.cancel"),onClick:Ft,"data-testid":"cancel-clear-canvas-button"}),(0,fe.jsx)(N.Z,{type:"submit",label:(0,Z.t)("buttons.submit"),actionType:"primary",isLoading:dn})]})]}):(0,fe.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,Z.t)("publishDialog.atleastOneLibItem")})})},P=t(7104),l=t(100),f=t(5832),D=function(It,kt){return It.filter(function(Ht){return kt.includes(Ht.id)})},H=function(It){var kt,Ht,At=It.setAppState,Wt=It.selectedItems,Kt=It.library,an=It.onRemoveFromLibrary,bn=It.resetLibrary,hn=It.onSelectItems,An=It.appState,Yn=It.className,tr=(0,r.KO)(c.rF,B.yE),Sn=(0,d.Z)(tr,1)[0],Bt=(0,r.KO)(rn,B.yE),dn=(0,d.Z)(Bt,2),un=dn[0],Bn=dn[1],Jn=(0,S.useState)(!1),cr=(0,d.Z)(Jn,2),kr=cr[0],fr=cr[1],pn=!!Wt.length,Nt=pn?Sn.libraryItems.filter(function(er){return Wt.includes(er.id)}):Sn.libraryItems,Ft=pn?(0,Z.t)("buttons.remove"):(0,Z.t)("buttons.resetLibrary"),qt=(0,S.useState)(!1),kn=(0,d.Z)(qt,2),$n=kn[0],Hn=kn[1],Qn=(0,S.useState)(null),ir=(0,d.Z)(Qn,2),Fn=ir[0],yr=ir[1],lr=(0,S.useCallback)(function(){return(0,fe.jsxs)(s.V,{onCloseRequest:function(){return yr(null)},title:(0,Z.t)("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,fe.jsx)("p",{children:(0,fe.jsx)(R.Z,{i18nKey:"publishSuccessDialog.content",authorName:Fn.authorName,link:function(er){return(0,fe.jsx)("a",{href:Fn?.url,target:"_blank",rel:"noopener noreferrer",children:er})}})}),(0,fe.jsx)(E.V,{type:"button",title:(0,Z.t)("buttons.close"),"aria-label":(0,Z.t)("buttons.close"),label:(0,Z.t)("buttons.close"),onClick:function(){return yr(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[yr,Fn]),Gn=function(){var er=(0,v.Z)(T().mark(function pr(){return T().wrap(function(vr){for(;;)switch(vr.prev=vr.next){case 0:return vr.prev=0,vr.next=3,Kt.updateLibrary({libraryItems:(0,p.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:vr.next=11;break;case 5:if(vr.prev=5,vr.t0=vr.catch(0),(vr.t0===null||vr.t0===void 0?void 0:vr.t0.name)!=="AbortError"){vr.next=10;break}return console.warn(vr.t0),vr.abrupt("return");case 10:At({errorMessage:(0,Z.t)("errors.importLibraryError")});case 11:case"end":return vr.stop()}},pr,null,[[0,5]])}));return function(){return er.apply(this,arguments)}}(),Xn=function(){var er=(0,v.Z)(T().mark(function pr(){var vr;return T().wrap(function(xr){for(;;)switch(xr.prev=xr.next){case 0:if(!pn){xr.next=4;break}xr.t0=Nt,xr.next=7;break;case 4:return xr.next=6,Kt.getLatestLibrary();case 6:xr.t0=xr.sent;case 7:vr=xr.t0,(0,h.t1)(vr).catch(x.FG).catch(function($r){At({errorMessage:$r.message})});case 9:case"end":return xr.stop()}},pr)}));return function(){return er.apply(this,arguments)}}();return(0,fe.jsxs)("div",{className:(0,q.Z)("library-menu-dropdown-container",Yn),children:[(0,fe.jsxs)(P.Z,{open:un,children:[(0,fe.jsx)(P.Z.Trigger,{onToggle:function(){return Bn(!un)},children:I.YA}),(0,fe.jsxs)(P.Z.Content,{onClickOutside:function(){return Bn(!1)},onSelect:function(){return Bn(!1)},className:"library-menu",children:[!pn&&(0,fe.jsx)(P.Z.Item,{onSelect:Gn,icon:I.Tl,"data-testid":"lib-dropdown--load",children:(0,Z.t)("buttons.load")}),!!Nt.length&&(0,fe.jsx)(P.Z.Item,{onSelect:Xn,icon:I.Hy,"data-testid":"lib-dropdown--export",children:(0,Z.t)("buttons.export")}),!!Nt.length&&(0,fe.jsx)(P.Z.Item,{onSelect:function(){return fr(!0)},icon:I.XH,children:Ft}),pn&&(0,fe.jsx)(P.Z.Item,{icon:I.Nw,onSelect:function(){return Hn(!0)},"data-testid":"lib-dropdown--remove",children:(0,Z.t)("buttons.publishLibrary")})]})]}),Wt.length>0&&(0,fe.jsx)("div",{className:"library-actions-counter",children:Wt.length}),kr&&(kt=Wt.length?(0,Z.t)("alerts.removeItemsFromsLibrary",{count:Wt.length}):(0,Z.t)("alerts.resetLibrary"),Ht=Wt.length?(0,Z.t)("confirmDialog.removeItemsFromLib"):(0,Z.t)("confirmDialog.resetLibrary"),(0,fe.jsx)(o.Z,{onConfirm:function(){Wt.length?an():bn(),fr(!1)},onCancel:function(){fr(!1)},title:Ht,children:(0,fe.jsx)("p",{children:kt})})),$n&&(0,fe.jsx)(ye,{onClose:function(){return Hn(!1)},libraryItems:D(Sn.libraryItems,Wt),appState:An,onSuccess:function(er){return function(pr,vr){Hn(!1),yr({url:pr.url,authorName:pr.authorName});var xr=vr.slice();xr.forEach(function($r){Wt.includes($r.id)&&($r.status="published")}),Kt.setLibrary(xr)}(er,Sn.libraryItems)},onError:function(er){return window.alert(er)},updateItemsInStorage:function(){return Kt.setLibrary(Sn.libraryItems)},onRemove:function(er){return hn(Wt.filter(function(pr){return pr!==er}))}}),Fn&&lr()]})},J=function(It){var kt=It.selectedItems,Ht=It.onSelectItems,At=It.className,Wt=(0,M.qD)().library,Kt=(0,f.yT)(),an=Kt.clearLibraryCache,bn=Kt.deleteItemsFromLibraryCache,hn=(0,l.I)(),An=(0,M.n9)(),Yn=(0,r.KO)(c.rF,B.yE),tr=(0,d.Z)(Yn,1)[0],Sn=function(){var Bt=(0,v.Z)(T().mark(function dn(un){var Bn;return T().wrap(function(Jn){for(;;)switch(Jn.prev=Jn.next){case 0:Bn=un.filter(function(cr){return!kt.includes(cr.id)}),Wt.setLibrary(Bn).catch(function(){An({errorMessage:(0,Z.t)("alerts.errorRemovingFromLibrary")})}),bn(kt),Ht([]);case 4:case"end":return Jn.stop()}},dn)}));return function(dn){return Bt.apply(this,arguments)}}();return(0,fe.jsx)(H,{appState:hn,setAppState:An,selectedItems:kt,onSelectItems:Ht,library:Wt,onRemoveFromLibrary:function(){return Sn(tr.libraryItems)},resetLibrary:function(){Wt.resetLibrary(),an()},className:At})},re=t(5644),ae={};ae.styleTagTransform=me(),ae.setAttributes=ue(),ae.insert=ie().bind(null,"head"),ae.domAPI=L(),ae.insertStyleElement=Q(),O()(re.Z,ae),re.Z&&re.Z.locals&&re.Z.locals;var ge=t(6238),_e=(0,S.memo)(function(It){var kt=It.id,Ht=It.elements,At=It.isPending,Wt=It.onClick,Kt=It.selected,an=It.onToggle,bn=It.onDrag,hn=It.svgCache,An=(0,S.useRef)(null),Yn=(0,f.mF)(kt,Ht,hn);(0,S.useEffect)(function(){var Jn=An.current;if(Jn)return Yn&&(Jn.innerHTML=Yn.outerHTML),function(){Jn.innerHTML=""}},[Yn]);var tr=(0,S.useState)(!1),Sn=(0,d.Z)(tr,2),Bt=Sn[0],dn=Sn[1],un=(0,M.Fy)().editor.isMobile,Bn=At&&(0,fe.jsx)("div",{className:"library-unit__adder",children:I.pO});return(0,fe.jsxs)("div",{className:(0,q.Z)("library-unit",{"library-unit__active":Ht,"library-unit--hover":Ht&&Bt,"library-unit--selected":Kt,"library-unit--skeleton":!Yn}),onMouseEnter:function(){return dn(!0)},onMouseLeave:function(){return dn(!1)},children:[(0,fe.jsx)("div",{className:(0,q.Z)("library-unit__dragger",{"library-unit__pulse":!!At}),ref:An,draggable:!!Ht,onClick:Ht||At?function(Jn){kt&&Jn.shiftKey?an(kt,Jn):Wt(kt)}:void 0,onDragStart:function(Jn){kt?(dn(!1),bn(kt,Jn)):Jn.preventDefault()}}),Bn,kt&&Ht&&(Bt||un||Kt)&&(0,fe.jsx)(ge.o,{checked:Kt,onChange:function(Jn,cr){return an(kt,cr)},className:"library-unit__checkbox"})]})}),ze=function(){return(0,fe.jsx)("div",{className:"library-unit library-unit--skeleton"})},Je=a().useTransition||function(){return[!1,(0,S.useCallback)(function(It){return It()},[])]},et=function(It){var kt=It.children;return(0,fe.jsx)("div",{className:"library-menu-items-container__grid",children:kt})},Ke=(0,S.memo)(function(It){var kt=It.items,Ht=It.onItemSelectToggle,At=It.onItemDrag,Wt=It.isItemSelected,Kt=It.onClick,an=It.svgCache,bn=It.itemsRenderedPerBatch,hn=Je(),An=(0,d.Z)(hn,2)[1],Yn=(0,S.useState)(0),tr=(0,d.Z)(Yn,2),Sn=tr[0],Bt=tr[1];return(0,S.useEffect)(function(){Sn<kt.length&&An(function(){Bt(Sn+bn)})},[Sn,kt.length,An,bn]),(0,fe.jsx)(fe.Fragment,{children:kt.map(function(dn,un){var Bn;return un<Sn?(0,fe.jsx)(_e,{elements:dn?.elements,isPending:!(dn!=null&&dn.id||dn==null||!dn.elements),onClick:Kt,svgCache:an,id:dn?.id,selected:Wt(dn.id),onToggle:Ht,onDrag:At},(Bn=dn?.id)!==null&&Bn!==void 0?Bn:un):(0,fe.jsx)(ze,{},un)})})}),tt=t(200),ut=t.n(tt),ht=(0,r.cn)(0),He=t(6440),Ee={};Ee.styleTagTransform=me(),Ee.setAttributes=ue(),Ee.insert=ie().bind(null,"head"),Ee.domAPI=L(),Ee.insertStyleElement=Q(),O()(He.Z,Ee),He.Z&&He.Z.locals&&He.Z.locals;function Le(It,kt){var Ht=Object.keys(It);if(Object.getOwnPropertySymbols){var At=Object.getOwnPropertySymbols(It);kt&&(At=At.filter(function(Wt){return Object.getOwnPropertyDescriptor(It,Wt).enumerable})),Ht.push.apply(Ht,At)}return Ht}function Qe(It){for(var kt=1;kt<arguments.length;kt++){var Ht=arguments[kt]!=null?arguments[kt]:{};kt%2?Le(Object(Ht),!0).forEach(function(At){(0,_.Z)(It,At,Ht[At])}):Object.getOwnPropertyDescriptors?Object.defineProperties(It,Object.getOwnPropertyDescriptors(Ht)):Le(Object(Ht)).forEach(function(At){Object.defineProperty(It,At,Object.getOwnPropertyDescriptor(Ht,At))})}return It}function ct(It){var kt=It.isLoading,Ht=It.libraryItems,At=It.onAddToLibrary,Wt=It.onInsertLibraryItems,Kt=It.pendingElements,an=It.theme,bn=It.id,hn=It.libraryReturnUrl,An=It.onSelectItems,Yn=It.selectedItems,tr=(0,S.useRef)(null),Sn=function(ir){var Fn=(0,r.KO)(ht),yr=(0,d.Z)(Fn,2),lr=yr[0],Gn=yr[1];return(0,S.useEffect)(function(){var Xn=ir.current;if(Xn){var er=ut()(function(){var pr=Xn.scrollTop;Gn(pr)},200);return Xn.addEventListener("scroll",er),function(){er.cancel(),Xn.removeEventListener("scroll",er)}}},[ir,Gn]),lr}(tr);(0,S.useEffect)(function(){var ir;Sn>0&&((ir=tr.current)===null||ir===void 0||ir.scrollTo(0,Sn))},[]);var Bt=(0,f.yT)().svgCache,dn=(0,S.useMemo)(function(){return Ht.filter(function(ir){return ir.status!=="published"})},[Ht]),un=(0,S.useMemo)(function(){return Ht.filter(function(ir){return ir.status==="published"})},[Ht]),Bn=!Ht.length&&!Kt.length,Jn=!Kt.length&&!dn.length&&!un.length,cr=(0,S.useState)(null),kr=(0,d.Z)(cr,2),fr=kr[0],pn=kr[1],Nt=(0,S.useCallback)(function(ir,Fn){var yr=!Yn.includes(ir),lr=[].concat((0,w.Z)(dn),(0,w.Z)(un));if(yr){if(Fn.shiftKey&&fr){var Gn=lr.findIndex(function(vr){return vr.id===fr}),Xn=lr.findIndex(function(vr){return vr.id===ir});if(Gn===-1||Xn===-1)return void An([].concat((0,w.Z)(Yn),[ir]));var er=(0,x.xn)(Yn),pr=lr.reduce(function(vr,xr,$r){return($r>=Gn&&$r<=Xn||er.has(xr.id))&&vr.push(xr.id),vr},[]);An(pr)}else An([].concat((0,w.Z)(Yn),[ir]));pn(ir)}else pn(null),An(Yn.filter(function(vr){return vr!==ir}))},[fr,An,un,Yn,dn]),Ft=(0,S.useCallback)(function(ir){return(Yn.includes(ir)?Ht.filter(function(Fn){return Yn.includes(Fn.id)}):Ht.filter(function(Fn){return Fn.id===ir})).map(function(Fn){return Qe(Qe({},Fn),{},{elements:(0,ve._N)(Fn.elements,{randomizeSeed:!0})})})},[Ht,Yn]),qt=(0,S.useCallback)(function(ir,Fn){Fn.dataTransfer.setData(le.LO.excalidrawlib,(0,h.NI)(Ft(ir)))},[Ft]),kn=(0,S.useCallback)(function(ir){return!!ir&&Yn.includes(ir)},[Yn]),$n=(0,S.useCallback)(function(){At(Kt)},[Kt,At]),Hn=(0,S.useCallback)(function(ir){ir&&Wt(Ft(ir))},[Ft,Wt]),Qn=Bt.size>=Ht.length?64:17;return(0,fe.jsxs)("div",{className:"library-menu-items-container",style:Kt.length||dn.length||un.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!Jn&&(0,fe.jsx)(J,{selectedItems:Yn,onSelectItems:An,className:"library-menu-dropdown-container--in-heading"}),(0,fe.jsxs)(G.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:un.length>0?1:"0 1 auto",marginBottom:0},ref:tr,children:[(0,fe.jsxs)(fe.Fragment,{children:[!Jn&&(0,fe.jsx)("div",{className:"library-menu-items-container__header",children:(0,Z.t)("labels.personalLib")}),kt&&(0,fe.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,fe.jsx)(he.Z,{})}),Kt.length||dn.length?(0,fe.jsxs)(et,{children:[Kt.length>0&&(0,fe.jsx)(Ke,{itemsRenderedPerBatch:Qn,items:[{id:null,elements:Kt}],onItemSelectToggle:Nt,onItemDrag:qt,onClick:$n,isItemSelected:kn,svgCache:Bt}),(0,fe.jsx)(Ke,{itemsRenderedPerBatch:Qn,items:dn,onItemSelectToggle:Nt,onItemDrag:qt,onClick:Hn,isItemSelected:kn,svgCache:Bt})]}):(0,fe.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,fe.jsx)("div",{className:"library-menu-items__no-items__label",children:(0,Z.t)("library.noItems")}),(0,fe.jsx)("div",{className:"library-menu-items__no-items__hint",children:un.length>0?(0,Z.t)("library.hint_emptyPrivateLibrary"):(0,Z.t)("library.hint_emptyLibrary")})]})]}),(0,fe.jsxs)(fe.Fragment,{children:[(un.length>0||Kt.length>0||dn.length>0)&&(0,fe.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,Z.t)("labels.excalidrawLib")}),un.length>0?(0,fe.jsx)(et,{children:(0,fe.jsx)(Ke,{itemsRenderedPerBatch:Qn,items:un,onItemSelectToggle:Nt,onItemDrag:qt,onClick:Hn,isItemSelected:kn,svgCache:Bt})}):dn.length>0?(0,fe.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,Z.t)("library.noItems")}):null]}),Bn&&(0,fe.jsx)(U,{style:{padding:"16px 0",width:"100%"},id:bn,libraryReturnUrl:hn,theme:an,children:(0,fe.jsx)(J,{selectedItems:Yn,onSelectItems:An})})]})]})}var bt=t(3646),wt=t(4105),zt=t(8923),Mt={};Mt.styleTagTransform=me(),Mt.setAttributes=ue(),Mt.insert=ie().bind(null,"head"),Mt.domAPI=L(),Mt.insertStyleElement=Q(),O()(zt.Z,Mt),zt.Z&&zt.Z.locals&&zt.Z.locals;function Zt(It,kt){var Ht=typeof Symbol<"u"&&It[Symbol.iterator]||It["@@iterator"];if(!Ht){if(Array.isArray(It)||(Ht=function(hn,An){if(hn){if(typeof hn=="string")return sn(hn,An);var Yn=Object.prototype.toString.call(hn).slice(8,-1);if(Yn==="Object"&&hn.constructor&&(Yn=hn.constructor.name),Yn==="Map"||Yn==="Set")return Array.from(hn);if(Yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yn))return sn(hn,An)}}(It))||kt){Ht&&(It=Ht);var At=0,Wt=function(){};return{s:Wt,n:function(){return At>=It.length?{done:!0}:{done:!1,value:It[At++]}},e:function(hn){throw hn},f:Wt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kt,an=!0,bn=!1;return{s:function(){Ht=Ht.call(It)},n:function(){var hn=Ht.next();return an=hn.done,hn},e:function(hn){bn=!0,Kt=hn},f:function(){try{an||Ht.return==null||Ht.return()}finally{if(bn)throw Kt}}}}function sn(It,kt){(kt==null||kt>It.length)&&(kt=It.length);for(var Ht=0,At=new Array(kt);Ht<kt;Ht++)At[Ht]=It[Ht];return At}var rn=(0,r.cn)(!1),Xt=function(It){var kt=It.children;return(0,fe.jsx)("div",{className:"layer-ui__library",children:kt})},on=function(It){var kt=It.onInsertLibraryItems,Ht=It.pendingElements,At=It.onAddToLibrary,Wt=It.setAppState,Kt=It.libraryReturnUrl,an=It.library,bn=It.id,hn=It.theme,An=It.selectedItems,Yn=It.onSelectItems,tr=(0,r.KO)(c.rF,B.yE),Sn=(0,d.Z)(tr,1)[0],Bt=(0,S.useCallback)(function(Bn){var Jn=function(){var cr=(0,v.Z)(T().mark(function kr(fr,pn){var Nt,Ft,qt,kn,$n;return T().wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:(0,bt.L)("element","addToLibrary","ui"),Nt=Zt(le.PR),Hn.prev=2,qt=function(){var Qn=Ft.value;if(fr.some(function(ir){return ir.type===Qn}))return{v:Wt({errorMessage:(0,Z.t)("errors.libraryElementTypeError.".concat(Qn))})}},Nt.s();case 5:if((Ft=Nt.n()).done){Hn.next=11;break}if(kn=qt(),(0,e.Z)(kn)!=="object"){Hn.next=9;break}return Hn.abrupt("return",kn.v);case 9:Hn.next=5;break;case 11:Hn.next=16;break;case 13:Hn.prev=13,Hn.t0=Hn.catch(2),Nt.e(Hn.t0);case 16:return Hn.prev=16,Nt.f(),Hn.finish(16);case 19:$n=[{status:"unpublished",elements:fr,id:(0,F.kb)(),created:Date.now()}].concat((0,w.Z)(pn)),At(),an.setLibrary($n).catch(function(){Wt({errorMessage:(0,Z.t)("alerts.errorAddingToLibrary")})});case 22:case"end":return Hn.stop()}},kr,null,[[2,13,16,19]])}));return function(kr,fr){return cr.apply(this,arguments)}}();Jn(Bn,Sn.libraryItems)},[At,an,Wt,Sn.libraryItems]),dn=(0,S.useMemo)(function(){return Sn.libraryItems},[Sn]);if(Sn.status==="loading"&&!Sn.isInitialized)return(0,fe.jsx)(Xt,{children:(0,fe.jsx)("div",{className:"layer-ui__library-message",children:(0,fe.jsxs)("div",{children:[(0,fe.jsx)(he.Z,{size:"2em"}),(0,fe.jsx)("span",{children:(0,Z.t)("labels.libraryLoadingMessage")})]})})});var un=Sn.libraryItems.length>0||Ht.length>0;return(0,fe.jsxs)(Xt,{children:[(0,fe.jsx)(ct,{isLoading:Sn.status==="loading",libraryItems:dn,onAddToLibrary:Bt,onInsertLibraryItems:kt,pendingElements:Ht,id:bn,libraryReturnUrl:Kt,theme:hn,onSelectItems:Yn,selectedItems:An}),un&&(0,fe.jsx)(U,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:bn,libraryReturnUrl:Kt,theme:hn})]})},jn=function(){var It=(0,M.qD)(),kt=It.library,Ht=It.id,At=It.onInsertElements,Wt=(0,M.hY)(),Kt=(0,l.I)(),an=(0,M.n9)(),bn=(0,M.bd)(),hn=(0,S.useState)([]),An=(0,d.Z)(hn,2),Yn=An[0],tr=An[1],Sn=(0,S.useMemo)(function(){return kt},[kt]),Bt=function(Bn,Jn){var cr=function(){return(0,wt.eD)(Jn,Bn,{includeBoundTextElement:!0,includeElementsInFrames:!0})},kr=(0,S.useRef)(cr()),fr=(0,S.useRef)(Bn),pn=(0,S.useRef)(Jn);return(0,x.w8)(Bn.selectedElementIds,fr.current.selectedElementIds)&&(0,x.w8)(Jn,pn.current)||(kr.current=cr(),fr.current=Bn,pn.current=Jn),kr.current}(Kt,bn),dn=(0,S.useCallback)(function(Bn){At((0,c.WV)(Bn))},[At]),un=(0,S.useCallback)(function(){an({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})},[an]);return(0,fe.jsx)(on,{pendingElements:Bt,onInsertLibraryItems:dn,onAddToLibrary:un,setAppState:an,libraryReturnUrl:Wt.libraryReturnUrl,library:Sn,id:Ht,theme:Kt.theme,selectedItems:Yn,onSelectItems:tr})}},7165:function(We,te,t){t.d(te,{z:function(){return a}});var e=t(2577),w=t(8227),v=t(9787),d=t(8531),b=t(45),T=t(9937),S=t(4512),a=function(c){var Z=c.delay,F=c.theme,_=(0,v.useState)(!!Z),h=(0,e.Z)(_,2),x=h[0],G=h[1];return(0,v.useEffect)(function(){if(Z){var le=setTimeout(function(){G(!1)},Z);return function(){return clearTimeout(le)}}},[Z]),x?null:(0,S.jsxs)("div",{className:(0,b.Z)("LoadingMessage",{"LoadingMessage--dark":F===T.C6.DARK}),children:[(0,S.jsx)("div",{children:(0,S.jsx)(d.Z,{})}),(0,S.jsx)("div",{className:"LoadingMessage-text",children:(0,w.t)("labels.loadingScene")})]})}},7827:function(We,te,t){t.d(te,{K:function(){return T},_:function(){return S}});var e=t(8950),w=t(2975),v=t.n(w),d=t(3607),b=t(453),T=(0,d.cn)({active:!1});function S(c){return a.apply(this,arguments)}function a(){return(a=(0,e.Z)(v().mark(function c(Z){var F,_,h,x;return v().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return F=Z.title,_=Z.description,h=Z.actionLabel,x=Z.color,G.abrupt("return",new Promise(function(le){b.e_.set(T,{active:!0,onConfirm:function(){return le(!0)},onClose:function(){return le(!1)},onReject:function(){return le(!1)},title:F,description:_,actionLabel:h,color:x})}));case 2:case"end":return G.stop()}},c)}))).apply(this,arguments)}},3204:function(We,te,t){t.d(te,{J:function(){return X}});var e=t(9787),w=t(3379),v=t.n(w),d=t(7795),b=t.n(d),T=t(569),S=t.n(T),a=t(3565),c=t.n(a),Z=t(9216),F=t.n(Z),_=t(4589),h=t.n(_),x=t(9935),G={};G.styleTagTransform=h(),G.setAttributes=c(),G.insert=S().bind(null,"head"),G.domAPI=b(),G.insertStyleElement=F(),v()(x.Z,G),x.Z&&x.Z.locals&&x.Z.locals;var le=t(5156),he=t(9827),ve=t(5491),fe=t(4512),X=function(q){var U=q.children,R=q.left,B=q.top,M=q.onCloseRequest,I=q.fitInViewport,E=I!==void 0&&I,p=q.offsetLeft,r=p===void 0?0:p,o=q.offsetTop,g=o===void 0?0:o,s=q.viewportWidth,u=s===void 0?window.innerWidth:s,k=q.viewportHeight,N=k===void 0?window.innerHeight:k,W=(0,e.useRef)(null);(0,e.useEffect)(function(){var j=W.current;if(j){j.contains(document.activeElement)||j.focus();var L=function(V){if(V.key===ve.tW.TAB){var ie=(0,he.xp)(j),se=document.activeElement,ue=ie.findIndex(function(me){return me===se});if(se===j){var pe;V.shiftKey?(pe=ie[ie.length-1])===null||pe===void 0||pe.focus():ie[0].focus(),V.preventDefault(),V.stopImmediatePropagation()}else if(ue===0&&V.shiftKey){var Q;(Q=ie[ie.length-1])===null||Q===void 0||Q.focus(),V.preventDefault(),V.stopImmediatePropagation()}else if(ue===ie.length-1&&!V.shiftKey){var ee;(ee=ie[0])===null||ee===void 0||ee.focus(),V.preventDefault(),V.stopImmediatePropagation()}}};return j.addEventListener("keydown",L),function(){return j.removeEventListener("keydown",L)}}},[]);var O=(0,e.useRef)(null);return(0,e.useLayoutEffect)(function(){if(E&&W.current&&B!=null&&R!=null){var j,L,V=W.current,ie=V.getBoundingClientRect(),se=ie.width,ue=ie.height;if(((j=O.current)===null||j===void 0?void 0:j.top)===B&&((L=O.current)===null||L===void 0?void 0:L.left)===R)return;O.current={top:B,left:R},se>=u?(V.style.width="".concat(u,"px"),V.style.left="0px",V.style.overflowX="scroll"):V.style.left="".concat(R+se-r>u?u-se-10:R,"px"),ue>=N?(V.style.height="".concat(N-20,"px"),V.style.top="10px",V.style.overflowY="scroll"):V.style.top="".concat(B+ue-g>N?N-ue:B,"px")}},[B,R,E,u,N,r,g]),(0,e.useEffect)(function(){if(M){var j=function(L){var V;(V=W.current)!==null&&V!==void 0&&V.contains(L.target)||(0,le.unstable_batchedUpdates)(function(){return M(L)})};return document.addEventListener("pointerdown",j,!1),function(){return document.removeEventListener("pointerdown",j,!1)}}},[M]),(0,fe.jsx)("div",{className:"popover",ref:W,tabIndex:-1,children:U})}},5902:function(We,te,t){t.d(te,{YE:function(){return fr},t6:function(){return cr}});var e=t(2577),w=t(7169),v=t(2726),d=t(9787),b=t.n(d),T=t(1404),S=t(3607),a=t(453),c=b().createContext({}),Z=t(45),F=t(8227),_=t(8242),h=t(8935),x=t(8925),G=t(8806),le=t(4512),he=function(pn){var Nt=pn.children,Ft=pn.className,qt=(0,_.Fy)(),kn=(0,d.useContext)(c),$n=!(!qt.editor.canFitSidebar||!kn.shouldRenderDockButton);return(0,le.jsxs)("div",{className:(0,Z.Z)("sidebar__header",Ft),"data-testid":"sidebar-header",children:[Nt,(0,le.jsxs)("div",{className:"sidebar__header__buttons",children:[$n&&(0,le.jsx)(x.u,{label:(0,F.t)("labels.sidebarLock"),children:(0,le.jsx)(G.z,{onSelect:function(){var Hn;return(Hn=kn.onDock)===null||Hn===void 0?void 0:Hn.call(kn,!kn.docked)},selected:!!kn.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":(0,F.t)("labels.sidebarLock"),children:h.qQ})}),(0,le.jsx)(G.z,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:kn.onCloseRequest,"aria-label":(0,F.t)("buttons.close"),children:h.Tw})]})]})};he.displayName="SidebarHeader";var ve=t(9827),fe=t(5491),X=t(9937),q=t(100),U=t(3379),R=t.n(U),B=t(7795),M=t.n(B),I=t(569),E=t.n(I),p=t(3565),r=t.n(p),o=t(9216),g=t.n(o),s=t(4589),u=t.n(s),k=t(7051),N={};N.styleTagTransform=u(),N.setAttributes=r(),N.insert=E().bind(null,"head"),N.domAPI=M(),N.insertStyleElement=g(),R()(k.Z,N),k.Z&&k.Z.locals&&k.Z.locals;var W=function(pn){var Nt,Ft=pn.name,qt=pn.tab,kn=pn.icon,$n=pn.title,Hn=pn.children,Qn=pn.onToggle,ir=pn.className,Fn=pn.style,yr=(0,_.n9)(),lr=(0,q.I)();return(0,le.jsxs)("label",{title:$n,children:[(0,le.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(Gn){var Xn;(Xn=document.querySelector(".layer-ui__wrapper"))===null||Xn===void 0||Xn.classList.remove("animate");var er=Gn.target.checked;yr({openSidebar:er?{name:Ft,tab:qt}:null}),Qn?.(er)},checked:((Nt=lr.openSidebar)===null||Nt===void 0?void 0:Nt.name)===Ft,"aria-label":$n,"aria-keyshortcuts":"0"}),(0,le.jsxs)("div",{className:(0,Z.Z)("sidebar-trigger",ir),style:Fn,children:[kn&&(0,le.jsx)("div",{children:kn}),Hn&&(0,le.jsx)("div",{className:"sidebar-trigger__label",children:Hn})]})]})};W.displayName="SidebarTrigger";var O=t(11),j=t(7217),L=t(1267),V=t(9335),ie=t(4801),se=t(5622),ue=t(3119),pe=t(3060),Q=t(2673);const ee=(0,d.createContext)(void 0);function me(pn){const Nt=(0,d.useContext)(ee);return pn||Nt||"ltr"}const Te="rovingFocusGroup.onEntryFocus",Ue={bubbles:!1,cancelable:!0},qe="RovingFocusGroup",[Ae,Oe,Ie]=function(pn){const Nt=pn+"CollectionProvider",[Ft,qt]=(0,L.b)(Nt),[kn,$n]=Ft(Nt,{collectionRef:{current:null},itemMap:new Map}),Hn=Gn=>{const{scope:Xn,children:er}=Gn,pr=b().useRef(null),vr=b().useRef(new Map).current;return b().createElement(kn,{scope:Xn,itemMap:vr,collectionRef:pr},er)},Qn=pn+"CollectionSlot",ir=b().forwardRef((Gn,Xn)=>{const{scope:er,children:pr}=Gn,vr=$n(Qn,er),xr=(0,V.e)(Xn,vr.collectionRef);return b().createElement(ie.g7,{ref:xr},pr)}),Fn=pn+"CollectionItemSlot",yr="data-radix-collection-item",lr=b().forwardRef((Gn,Xn)=>{const{scope:er,children:pr,...vr}=Gn,xr=b().useRef(null),$r=(0,V.e)(Xn,xr),io=$n(Fn,er);return b().useEffect(()=>(io.itemMap.set(xr,{ref:xr,...vr}),()=>{io.itemMap.delete(xr)})),b().createElement(ie.g7,{[yr]:"",ref:$r},pr)});return[{Provider:Hn,Slot:ir,ItemSlot:lr},function(Gn){const Xn=$n(pn+"CollectionConsumer",Gn);return b().useCallback(()=>{const er=Xn.collectionRef.current;if(!er)return[];const pr=Array.from(er.querySelectorAll(`[${yr}]`));return Array.from(Xn.itemMap.values()).sort((vr,xr)=>pr.indexOf(vr.ref.current)-pr.indexOf(xr.ref.current))},[Xn.collectionRef,Xn.itemMap])},qt]}(qe),[Re,ke]=(0,L.b)(qe,[Ie]),[xe,ye]=Re(qe),P=(0,d.forwardRef)((pn,Nt)=>(0,d.createElement)(Ae.Provider,{scope:pn.__scopeRovingFocusGroup},(0,d.createElement)(Ae.Slot,{scope:pn.__scopeRovingFocusGroup},(0,d.createElement)(l,(0,O.Z)({},pn,{ref:Nt}))))),l=(0,d.forwardRef)((pn,Nt)=>{const{__scopeRovingFocusGroup:Ft,orientation:qt,loop:kn=!1,dir:$n,currentTabStopId:Hn,defaultCurrentTabStopId:Qn,onCurrentTabStopIdChange:ir,onEntryFocus:Fn,...yr}=pn,lr=(0,d.useRef)(null),Gn=(0,V.e)(Nt,lr),Xn=me($n),[er=null,pr]=(0,Q.T)({prop:Hn,defaultProp:Qn,onChange:ir}),[vr,xr]=(0,d.useState)(!1),$r=(0,pe.W)(Fn),io=Oe(Ft),Eo=(0,d.useRef)(!1),[Ro,Bo]=(0,d.useState)(0);return(0,d.useEffect)(()=>{const Do=lr.current;if(Do)return Do.addEventListener(Te,$r),()=>Do.removeEventListener(Te,$r)},[$r]),(0,d.createElement)(xe,{scope:Ft,orientation:qt,dir:Xn,loop:kn,currentTabStopId:er,onItemFocus:(0,d.useCallback)(Do=>pr(Do),[pr]),onItemShiftTab:(0,d.useCallback)(()=>xr(!0),[]),onFocusableItemAdd:(0,d.useCallback)(()=>Bo(Do=>Do+1),[]),onFocusableItemRemove:(0,d.useCallback)(()=>Bo(Do=>Do-1),[])},(0,d.createElement)(ue.WV.div,(0,O.Z)({tabIndex:vr||Ro===0?-1:0,"data-orientation":qt},yr,{ref:Gn,style:{outline:"none",...pn.style},onMouseDown:(0,j.M)(pn.onMouseDown,()=>{Eo.current=!0}),onFocus:(0,j.M)(pn.onFocus,Do=>{const bo=!Eo.current;if(Do.target===Do.currentTarget&&bo&&!vr){const Zo=new CustomEvent(Te,Ue);if(Do.currentTarget.dispatchEvent(Zo),!Zo.defaultPrevented){const rt=io().filter(Se=>Se.focusable);J([rt.find(Se=>Se.active),rt.find(Se=>Se.id===er),...rt].filter(Boolean).map(Se=>Se.ref.current))}}Eo.current=!1}),onBlur:(0,j.M)(pn.onBlur,()=>xr(!1))})))}),f="RovingFocusGroupItem",D=(0,d.forwardRef)((pn,Nt)=>{const{__scopeRovingFocusGroup:Ft,focusable:qt=!0,active:kn=!1,tabStopId:$n,...Hn}=pn,Qn=(0,se.M)(),ir=$n||Qn,Fn=ye(f,Ft),yr=Fn.currentTabStopId===ir,lr=Oe(Ft),{onFocusableItemAdd:Gn,onFocusableItemRemove:Xn}=Fn;return(0,d.useEffect)(()=>{if(qt)return Gn(),()=>Xn()},[qt,Gn,Xn]),(0,d.createElement)(Ae.ItemSlot,{scope:Ft,id:ir,focusable:qt,active:kn},(0,d.createElement)(ue.WV.span,(0,O.Z)({tabIndex:yr?0:-1,"data-orientation":Fn.orientation},Hn,{ref:Nt,onMouseDown:(0,j.M)(pn.onMouseDown,er=>{qt?Fn.onItemFocus(ir):er.preventDefault()}),onFocus:(0,j.M)(pn.onFocus,()=>Fn.onItemFocus(ir)),onKeyDown:(0,j.M)(pn.onKeyDown,er=>{if(er.key==="Tab"&&er.shiftKey)return void Fn.onItemShiftTab();if(er.target!==er.currentTarget)return;const pr=function($r,io,Eo){const Ro=function(Bo,Do){return Do!=="rtl"?Bo:Bo==="ArrowLeft"?"ArrowRight":Bo==="ArrowRight"?"ArrowLeft":Bo}($r.key,Eo);return io==="vertical"&&["ArrowLeft","ArrowRight"].includes(Ro)||io==="horizontal"&&["ArrowUp","ArrowDown"].includes(Ro)?void 0:H[Ro]}(er,Fn.orientation,Fn.dir);if(pr!==void 0){er.preventDefault();let $r=lr().filter(io=>io.focusable).map(io=>io.ref.current);if(pr==="last")$r.reverse();else if(pr==="prev"||pr==="next"){pr==="prev"&&$r.reverse();const io=$r.indexOf(er.currentTarget);$r=Fn.loop?(xr=io+1,(vr=$r).map((Eo,Ro)=>vr[(xr+Ro)%vr.length])):$r.slice(io+1)}setTimeout(()=>J($r))}var vr,xr})})))}),H={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function J(pn){const Nt=document.activeElement;for(const Ft of pn)if(Ft===Nt||(Ft.focus(),document.activeElement!==Nt))return}const re=P,ae=D;var ge=t(1483);const _e="Tabs",[ze,Je]=(0,L.b)(_e,[ke]),et=ke(),[Ke,tt]=ze(_e),ut=(0,d.forwardRef)((pn,Nt)=>{const{__scopeTabs:Ft,value:qt,onValueChange:kn,defaultValue:$n,orientation:Hn="horizontal",dir:Qn,activationMode:ir="automatic",...Fn}=pn,yr=me(Qn),[lr,Gn]=(0,Q.T)({prop:qt,onChange:kn,defaultProp:$n});return(0,d.createElement)(Ke,{scope:Ft,baseId:(0,se.M)(),value:lr,onValueChange:Gn,orientation:Hn,dir:yr,activationMode:ir},(0,d.createElement)(ue.WV.div,(0,O.Z)({dir:yr,"data-orientation":Hn},Fn,{ref:Nt})))}),ht="TabsList",He=(0,d.forwardRef)((pn,Nt)=>{const{__scopeTabs:Ft,loop:qt=!0,...kn}=pn,$n=tt(ht,Ft),Hn=et(Ft);return(0,d.createElement)(re,(0,O.Z)({asChild:!0},Hn,{orientation:$n.orientation,dir:$n.dir,loop:qt}),(0,d.createElement)(ue.WV.div,(0,O.Z)({role:"tablist","aria-orientation":$n.orientation},kn,{ref:Nt})))}),Ee="TabsTrigger",Le=(0,d.forwardRef)((pn,Nt)=>{const{__scopeTabs:Ft,value:qt,disabled:kn=!1,...$n}=pn,Hn=tt(Ee,Ft),Qn=et(Ft),ir=bt(Hn.baseId,qt),Fn=wt(Hn.baseId,qt),yr=qt===Hn.value;return(0,d.createElement)(ae,(0,O.Z)({asChild:!0},Qn,{focusable:!kn,active:yr}),(0,d.createElement)(ue.WV.button,(0,O.Z)({type:"button",role:"tab","aria-selected":yr,"aria-controls":Fn,"data-state":yr?"active":"inactive","data-disabled":kn?"":void 0,disabled:kn,id:ir},$n,{ref:Nt,onMouseDown:(0,j.M)(pn.onMouseDown,lr=>{kn||lr.button!==0||lr.ctrlKey!==!1?lr.preventDefault():Hn.onValueChange(qt)}),onKeyDown:(0,j.M)(pn.onKeyDown,lr=>{[" ","Enter"].includes(lr.key)&&Hn.onValueChange(qt)}),onFocus:(0,j.M)(pn.onFocus,()=>{const lr=Hn.activationMode!=="manual";yr||kn||!lr||Hn.onValueChange(qt)})})))}),Qe="TabsContent",ct=(0,d.forwardRef)((pn,Nt)=>{const{__scopeTabs:Ft,value:qt,forceMount:kn,children:$n,...Hn}=pn,Qn=tt(Qe,Ft),ir=bt(Qn.baseId,qt),Fn=wt(Qn.baseId,qt),yr=qt===Qn.value,lr=(0,d.useRef)(yr);return(0,d.useEffect)(()=>{const Gn=requestAnimationFrame(()=>lr.current=!1);return()=>cancelAnimationFrame(Gn)},[]),(0,d.createElement)(ge.z,{present:kn||yr},({present:Gn})=>(0,d.createElement)(ue.WV.div,(0,O.Z)({"data-state":yr?"active":"inactive","data-orientation":Qn.orientation,role:"tabpanel","aria-labelledby":ir,hidden:!Gn,id:Fn,tabIndex:0},Hn,{ref:Nt,style:{...pn.style,animationDuration:lr.current?"0s":void 0}}),Gn&&$n))});function bt(pn,Nt){return`${pn}-trigger-${Nt}`}function wt(pn,Nt){return`${pn}-content-${Nt}`}const zt=ut,Mt=He,Zt=Le,sn=ct;var rn=["children"];function Xt(pn,Nt){var Ft=Object.keys(pn);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(pn);Nt&&(qt=qt.filter(function(kn){return Object.getOwnPropertyDescriptor(pn,kn).enumerable})),Ft.push.apply(Ft,qt)}return Ft}function on(pn){for(var Nt=1;Nt<arguments.length;Nt++){var Ft=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?Xt(Object(Ft),!0).forEach(function(qt){(0,w.Z)(pn,qt,Ft[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pn,Object.getOwnPropertyDescriptors(Ft)):Xt(Object(Ft)).forEach(function(qt){Object.defineProperty(pn,qt,Object.getOwnPropertyDescriptor(Ft,qt))})}return pn}var jn=function(pn){var Nt=pn.children,Ft=(0,v.Z)(pn,rn);return(0,le.jsx)(Mt,on(on({className:"sidebar-triggers"},Ft),{},{children:Nt}))};jn.displayName="SidebarTabTriggers";var It=["children","tab","onSelect"];function kt(pn,Nt){var Ft=Object.keys(pn);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(pn);Nt&&(qt=qt.filter(function(kn){return Object.getOwnPropertyDescriptor(pn,kn).enumerable})),Ft.push.apply(Ft,qt)}return Ft}function Ht(pn){for(var Nt=1;Nt<arguments.length;Nt++){var Ft=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?kt(Object(Ft),!0).forEach(function(qt){(0,w.Z)(pn,qt,Ft[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pn,Object.getOwnPropertyDescriptors(Ft)):kt(Object(Ft)).forEach(function(qt){Object.defineProperty(pn,qt,Object.getOwnPropertyDescriptor(Ft,qt))})}return pn}var At=function(pn){var Nt=pn.children,Ft=pn.tab,qt=pn.onSelect,kn=(0,v.Z)(pn,It);return(0,le.jsx)(Zt,{value:Ft,asChild:!0,onSelect:qt,children:(0,le.jsx)("button",Ht(Ht({type:"button",className:"excalidraw-button sidebar-tab-trigger"},kn),{},{children:Nt}))})};At.displayName="SidebarTabTrigger";var Wt=["children"];function Kt(pn,Nt){var Ft=Object.keys(pn);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(pn);Nt&&(qt=qt.filter(function(kn){return Object.getOwnPropertyDescriptor(pn,kn).enumerable})),Ft.push.apply(Ft,qt)}return Ft}function an(pn){for(var Nt=1;Nt<arguments.length;Nt++){var Ft=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?Kt(Object(Ft),!0).forEach(function(qt){(0,w.Z)(pn,qt,Ft[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pn,Object.getOwnPropertyDescriptors(Ft)):Kt(Object(Ft)).forEach(function(qt){Object.defineProperty(pn,qt,Object.getOwnPropertyDescriptor(Ft,qt))})}return pn}var bn=function(pn){var Nt=pn.children,Ft=(0,v.Z)(pn,Wt),qt=(0,q.I)(),kn=(0,_.n9)();if(!qt.openSidebar)return null;var $n=qt.openSidebar.name;return(0,le.jsx)(zt,an(an({className:"sidebar-tabs-root",value:qt.openSidebar.tab,onValueChange:function(Hn){return kn(function(Qn){return an(an({},Qn),{},{openSidebar:an(an({},Qn.openSidebar),{},{name:$n,tab:Hn})})})}},Ft),{},{children:Nt}))};bn.displayName="SidebarTabs";var hn=["tab","children"];function An(pn,Nt){var Ft=Object.keys(pn);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(pn);Nt&&(qt=qt.filter(function(kn){return Object.getOwnPropertyDescriptor(pn,kn).enumerable})),Ft.push.apply(Ft,qt)}return Ft}function Yn(pn){for(var Nt=1;Nt<arguments.length;Nt++){var Ft=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?An(Object(Ft),!0).forEach(function(qt){(0,w.Z)(pn,qt,Ft[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pn,Object.getOwnPropertyDescriptors(Ft)):An(Object(Ft)).forEach(function(qt){Object.defineProperty(pn,qt,Object.getOwnPropertyDescriptor(Ft,qt))})}return pn}var tr=function(pn){var Nt=pn.tab,Ft=pn.children,qt=(0,v.Z)(pn,hn);return(0,le.jsx)(sn,Yn(Yn({},qt),{},{value:Nt,children:Ft}))};tr.displayName="SidebarTab";var Sn=t(1901),Bt=t(8208),dn={};dn.styleTagTransform=u(),dn.setAttributes=r(),dn.insert=E().bind(null,"head"),dn.domAPI=M(),dn.insertStyleElement=g(),R()(Bt.Z,dn),Bt.Z&&Bt.Z.locals&&Bt.Z.locals;var un=["name","children","onDock","docked","className"];function Bn(pn,Nt){var Ft=Object.keys(pn);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(pn);Nt&&(qt=qt.filter(function(kn){return Object.getOwnPropertyDescriptor(pn,kn).enumerable})),Ft.push.apply(Ft,qt)}return Ft}function Jn(pn){for(var Nt=1;Nt<arguments.length;Nt++){var Ft=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?Bn(Object(Ft),!0).forEach(function(qt){(0,w.Z)(pn,qt,Ft[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pn,Object.getOwnPropertyDescriptors(Ft)):Bn(Object(Ft)).forEach(function(qt){Object.defineProperty(pn,qt,Object.getOwnPropertyDescriptor(Ft,qt))})}return pn}var cr=(0,S.cn)(!1),kr=(0,d.forwardRef)(function(pn,Nt){pn.name;var Ft=pn.children,qt=pn.onDock,kn=pn.docked,$n=pn.className,Hn=(0,v.Z)(pn,un),Qn=(0,_.n9)(),ir=(0,S.b9)(cr,a.yE);(0,d.useLayoutEffect)(function(){return ir(!!kn),function(){ir(!1)}},[ir,kn]);var Fn=(0,d.useRef)({});Fn.current.onCloseRequest=function(){Qn({openSidebar:null})},Fn.current.onDock=function(Xn){return qt?.(Xn)},Fn.current=(0,ve.v4)(Fn.current,{docked:kn,shouldRenderDockButton:!!qt&&kn!=null});var yr=(0,d.useRef)(null);(0,d.useImperativeHandle)(Nt,function(){return yr.current});var lr=(0,_.Fy)(),Gn=(0,d.useCallback)(function(){document.querySelector(".Dialog")||Qn({openSidebar:null})},[Qn]);return(0,Sn.O)(yr,(0,d.useCallback)(function(Xn){Xn.target.closest(".sidebar-trigger")||kn&&lr.editor.canFitSidebar||Gn()},[Gn,kn,lr.editor.canFitSidebar])),(0,d.useEffect)(function(){var Xn=function(er){er.key!==fe.tW.ESCAPE||kn&&lr.editor.canFitSidebar||Gn()};return document.addEventListener(X.Ks.KEYDOWN,Xn),function(){document.removeEventListener(X.Ks.KEYDOWN,Xn)}},[Gn,kn,lr.editor.canFitSidebar]),(0,le.jsx)(T.W,Jn(Jn({},Hn),{},{className:(0,Z.Z)("sidebar",{"sidebar--docked":kn},$n),ref:yr,children:(0,le.jsx)(c.Provider,{value:Fn.current,children:Ft})}))});kr.displayName="SidebarInner";var fr=Object.assign((0,d.forwardRef)(function(pn,Nt){var Ft,qt=(0,q.I)(),kn=pn.onStateChange,$n=(0,d.useRef)(qt.openSidebar);(0,d.useEffect)(function(){var yr,lr,Gn,Xn,er;(!qt.openSidebar&&($n==null||(yr=$n.current)===null||yr===void 0?void 0:yr.name)===pn.name||((lr=qt.openSidebar)===null||lr===void 0?void 0:lr.name)===pn.name&&($n==null||(Gn=$n.current)===null||Gn===void 0?void 0:Gn.name)!==pn.name||((Xn=$n.current)===null||Xn===void 0?void 0:Xn.name)===pn.name)&&qt.openSidebar!==$n.current&&kn?.(((er=qt.openSidebar)===null||er===void 0?void 0:er.name)!==pn.name?null:qt.openSidebar),$n.current=qt.openSidebar},[qt.openSidebar,kn,pn.name]);var Hn=(0,d.useState)(!1),Qn=(0,e.Z)(Hn,2),ir=Qn[0],Fn=Qn[1];return(0,d.useLayoutEffect)(function(){return Fn(!0),function(){return Fn(!1)}},[]),ir&&((Ft=qt.openSidebar)===null||Ft===void 0?void 0:Ft.name)===pn.name?(0,d.createElement)(kr,Jn(Jn({},pn),{},{ref:Nt,key:pn.name})):null}),{Header:he,TabTriggers:jn,TabTrigger:At,Tabs:bn,Tab:tr,Trigger:W});fr.displayName="Sidebar"},8531:function(We,te,t){t.d(te,{Z:function(){return fe}});var e=t(7169),w=t(9787),v=t.n(w),d=t(3379),b=t.n(d),T=t(7795),S=t.n(T),a=t(569),c=t.n(a),Z=t(3565),F=t.n(Z),_=t(9216),h=t.n(_),x=t(4589),G=t.n(x),le=t(5892),he={};he.styleTagTransform=G(),he.setAttributes=F(),he.insert=c().bind(null,"head"),he.domAPI=S(),he.insertStyleElement=h(),b()(le.Z,he),le.Z&&le.Z.locals&&le.Z.locals;var ve=t(4512),fe=function(X){var q=X.size,U=q===void 0?"1em":q,R=X.circleWidth,B=R===void 0?8:R,M=X.synchronized,I=M!==void 0&&M,E=-v().useRef(Date.now()).current%1600;return(0,ve.jsx)("div",{className:"Spinner",children:(0,ve.jsx)("svg",{viewBox:"0 0 100 100",style:(0,e.Z)({width:U,height:U},"--spinner-delay",I?"".concat(E,"ms"):0),children:(0,ve.jsx)("circle",{cx:"50",cy:"50",r:50-B/2,strokeWidth:B,fill:"none",strokeMiterlimit:"10"})})})}},2540:function(We,te,t){t.d(te,{Z:function(){return q}});var e=t(7169),w=t(3379),v=t.n(w),d=t(7795),b=t.n(d),T=t(569),S=t.n(T),a=t(3565),c=t.n(a),Z=t(9216),F=t.n(Z),_=t(4589),h=t.n(_),x=t(3874),G={};G.styleTagTransform=h(),G.setAttributes=c(),G.insert=S().bind(null,"head"),G.domAPI=b(),G.insertStyleElement=F(),v()(x.Z,G),x.Z&&x.Z.locals&&x.Z.locals;var le=t(9787),he=t(45),ve=t(4512);function fe(U,R){var B=Object.keys(U);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(U);R&&(M=M.filter(function(I){return Object.getOwnPropertyDescriptor(U,I).enumerable})),B.push.apply(B,M)}return B}function X(U){for(var R=1;R<arguments.length;R++){var B=arguments[R]!=null?arguments[R]:{};R%2?fe(Object(B),!0).forEach(function(M){(0,e.Z)(U,M,B[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(B)):fe(Object(B)).forEach(function(M){Object.defineProperty(U,M,Object.getOwnPropertyDescriptor(B,M))})}return U}var q={Row:(0,le.forwardRef)(function(U,R){var B=U.children,M=U.gap,I=U.align,E=U.justifyContent,p=U.className,r=U.style;return(0,ve.jsx)("div",{className:(0,he.Z)("Stack Stack_horizontal",p),style:X({"--gap":M,alignItems:I,justifyContent:E},r),ref:R,children:B})}),Col:(0,le.forwardRef)(function(U,R){var B=U.children,M=U.gap,I=U.align,E=U.justifyContent,p=U.className,r=U.style;return(0,ve.jsx)("div",{className:(0,he.Z)("Stack Stack_vertical",p),style:X({"--gap":M,justifyItems:I,justifyContent:E},r),ref:R,children:B})})}},1512:function(We,te,t){t.d(te,{V:function(){return _}});var e=t(8950),w=t(2577),v=t(2975),d=t.n(v),b=(t(3041),t(9787)),T=t.n(b),S=t(45),a=t(8242),c=t(3506),Z=t(8531),F=t(4512),_=T().forwardRef(function(h,x){var G=(0,a.J0)().id,le=T().useRef(null);T().useImperativeHandle(x,function(){return le.current});var he="ToolIcon_size_".concat(h.size),ve=(0,b.useState)(!1),fe=(0,w.Z)(ve,2),X=fe[0],q=fe[1],U=(0,b.useRef)(!0),R=function(){var I=(0,e.Z)(d().mark(function E(p){var r,o;return d().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(o="onClick"in h&&((r=h.onClick)===null||r===void 0?void 0:r.call(h,p)))||!("then"in o)){g.next=18;break}return g.prev=2,q(!0),g.next=6,o;case 6:g.next=15;break;case 8:if(g.prev=8,g.t0=g.catch(2),g.t0 instanceof c._L){g.next=14;break}throw g.t0;case 14:console.warn(g.t0);case 15:return g.prev=15,U.current&&q(!1),g.finish(15);case 18:case"end":return g.stop()}},E,null,[[2,8,15,18]])}));return function(E){return I.apply(this,arguments)}}();(0,b.useEffect)(function(){return U.current=!0,function(){U.current=!1}},[]);var B=(0,b.useRef)(null);if(h.type==="button"||h.type==="icon"||h.type==="submit"){var M=h.type==="icon"?"button":h.type;return(0,F.jsxs)("button",{className:(0,S.Z)("ToolIcon_type_button",he,h.className,h.visible&&!h.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!h.hidden,"ToolIcon--selected":h.selected,"ToolIcon--plain":h.type==="icon"}),style:h.style,"data-testid":h["data-testid"],hidden:h.hidden,title:h.title,"aria-label":h["aria-label"],type:M,onClick:R,ref:le,disabled:X||h.isLoading,children:[(h.icon||h.label)&&(0,F.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[h.icon||h.label,h.keyBindingLabel&&(0,F.jsx)("span",{className:"ToolIcon__keybinding",children:h.keyBindingLabel}),h.isLoading&&(0,F.jsx)(Z.Z,{})]}),h.showAriaLabel&&(0,F.jsxs)("div",{className:"ToolIcon__label",children:[h["aria-label"]," ",X&&(0,F.jsx)(Z.Z,{})]}),h.children]})}return(0,F.jsxs)("label",{className:(0,S.Z)("ToolIcon",h.className),title:h.title,onPointerDown:function(I){var E;B.current=I.pointerType||null,(E=h.onPointerDown)===null||E===void 0||E.call(h,{pointerType:I.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){B.current=null})},children:[(0,F.jsx)("input",{className:"ToolIcon_type_radio ".concat(he),type:"radio",name:h.name,"aria-label":h["aria-label"],"aria-keyshortcuts":h["aria-keyshortcuts"],"data-testid":h["data-testid"],id:"".concat(G,"-").concat(h.id),onChange:function(){var I;(I=h.onChange)===null||I===void 0||I.call(h,{pointerType:B.current})},checked:h.checked,ref:le}),(0,F.jsxs)("div",{className:"ToolIcon__icon",children:[h.icon,h.keyBindingLabel&&(0,F.jsx)("span",{className:"ToolIcon__keybinding",children:h.keyBindingLabel})]})]})});_.defaultProps={visible:!0,className:"",size:"medium"},_.displayName="ToolButton"},8925:function(We,te,t){t.d(te,{u:function(){return fe},bK:function(){return he},Js:function(){return ve}});var e=t(3379),w=t.n(e),v=t(7795),d=t.n(v),b=t(569),T=t.n(b),S=t(3565),a=t.n(S),c=t(9216),Z=t.n(c),F=t(4589),_=t.n(F),h=t(6626),x={};x.styleTagTransform=_(),x.setAttributes=a(),x.insert=T().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=Z(),w()(h.Z,x),h.Z&&h.Z.locals&&h.Z.locals;var G=t(9787),le=t(4512),he=function(){var X=document.querySelector(".excalidraw-tooltip");if(X)return X;var q=document.createElement("div");return document.body.appendChild(q),q.classList.add("excalidraw-tooltip"),q},ve=function(X,q){var U,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",B=X.getBoundingClientRect(),M=window.innerWidth,I=window.innerHeight,E=5,p=q.left+q.width/2-B.width/2;p<0?p=E:p+B.width>=M&&(p=M-B.width-E),R==="bottom"?(U=q.top+q.height+E)+B.height>=I&&(U=q.top-B.height-E):(U=q.top-B.height-E)<0&&(U=q.top+q.height+E),Object.assign(X.style,{top:"".concat(U,"px"),left:"".concat(p,"px")})},fe=function(X){var q=X.children,U=X.label,R=X.long,B=R!==void 0&&R,M=X.style;return(0,G.useEffect)(function(){return function(){return he().classList.remove("excalidraw-tooltip--visible")}},[]),(0,le.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(I){return function(E,p,r,o){p.classList.add("excalidraw-tooltip--visible"),p.style.minWidth=o?"50ch":"10ch",p.style.maxWidth=o?"50ch":"15ch",p.textContent=r;var g=E.getBoundingClientRect();ve(p,g)}(I.currentTarget,he(),U,B)},onPointerLeave:function(){return he().classList.remove("excalidraw-tooltip--visible")},style:M,children:q})}},9247:function(We,te,t){var e=t(2726),w=t(1930),v=t(9787),d=t.n(v),b=t(8227),T=["i18nKey","children"],S=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,a=/{{([\w-]+)}}/,c=/<([\w-]+)>/,Z=/<\/([\w-]+)>/;te.Z=function(F){var _=F.i18nKey,h=(F.children,(0,e.Z)(F,T)),x=(0,b.QT)().t;return d().createElement.apply(d(),[d().Fragment,{}].concat((0,w.Z)(function(G,le){var he=[{name:"",children:[]}];return G.split(S).filter(Boolean).forEach(function(ve){var fe=ve.match(c),X=ve.match(Z),q=ve.match(a);if(fe!==null){var U=fe[1];le.hasOwnProperty(U)?he.push({name:U,children:[]}):console.warn("Trans: missed to pass in prop ".concat(U," for interpolating ").concat(G))}else if(X!==null)if(X[1]===he[he.length-1].name){var R=he.pop(),B=d().createElement.apply(d(),[d().Fragment,{}].concat((0,w.Z)(R.children))),M=le[R.name];typeof M=="function"&&he[he.length-1].children.push(M(B))}else console.warn("Trans: unexpected end tag ".concat(ve," for interpolating ").concat(G));else if(q!==null){var I=q[1];le.hasOwnProperty(I)?he[he.length-1].children.push(le[I]):console.warn("Trans: key ".concat(I," not in props for interpolating ").concat(G))}else he[he.length-1].children.push(ve)}),he.length!==1&&console.warn("Trans: stack not empty for interpolating ".concat(G)),he[0].children}(x(_),h))))}},4704:function(We,te,t){t.d(te,{Z:function(){return U}});var e=t(2577),w=t(3379),v=t.n(w),d=t(7795),b=t.n(d),T=t(569),S=t.n(T),a=t(3565),c=t.n(a),Z=t(9216),F=t.n(Z),_=t(4589),h=t.n(_),x=t(6359),G={};G.styleTagTransform=h(),G.setAttributes=c(),G.insert=S().bind(null,"head"),G.domAPI=b(),G.insertStyleElement=F(),v()(x.Z,G),x.Z&&x.Z.locals&&x.Z.locals;var le=t(9787),he=t.n(le),ve=t(45),fe=t(8925),X=t(8242),q=t(4512),U=function(R){var B=R.className,M=R.mobile,I=R.collaborators,E=(0,X.eh)(),p=new Map;I.forEach(function(o,g){p.set(o.id||g,o)});var r=p.size>0&&Array.from(p).filter(function(o){var g=(0,e.Z)(o,2),s=(g[0],g[1]);return Object.keys(s).length!==0}).map(function(o){var g=(0,e.Z)(o,2),s=g[0],u=g[1],k=E.renderAction("goToCollaborator",[s,u]);return M?(0,q.jsx)(fe.u,{label:u.username||"Unknown user",children:k},s):(0,q.jsx)(he().Fragment,{children:k},s)});return(0,q.jsx)("div",{className:(0,ve.Z)("UserList",B,{UserList_mobile:M}),children:r})}},7104:function(We,te,t){t.d(te,{Z:function(){return pe}});var e=t(7169),w=t(2726),v=t(45),d=t(8242),b=t(4512),T=["className","children","onToggle","title"];function S(Q,ee){var me=Object.keys(Q);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(Q);ee&&(Te=Te.filter(function(Ue){return Object.getOwnPropertyDescriptor(Q,Ue).enumerable})),me.push.apply(me,Te)}return me}function a(Q){for(var ee=1;ee<arguments.length;ee++){var me=arguments[ee]!=null?arguments[ee]:{};ee%2?S(Object(me),!0).forEach(function(Te){(0,e.Z)(Q,Te,me[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(me)):S(Object(me)).forEach(function(Te){Object.defineProperty(Q,Te,Object.getOwnPropertyDescriptor(me,Te))})}return Q}var c=function(Q){var ee=Q.className,me=ee===void 0?"":ee,Te=Q.children,Ue=Q.onToggle,qe=Q.title,Ae=(0,w.Z)(Q,T),Oe=(0,d.Fy)(),Ie=(0,v.Z)("dropdown-menu-button ".concat(me),"zen-mode-transition",{"dropdown-menu-button--mobile":Oe.editor.isMobile}).trim();return(0,b.jsx)("button",a(a({"data-prevent-outside-click":!0,className:Ie,onClick:Ue,type:"button","data-testid":"dropdown-menu-button",title:qe},Ae),{},{children:Te}))},Z=c;c.displayName="DropdownMenuTrigger";var F=t(5735),_=function(){return(0,b.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},h=_;_.displayName="DropdownMenuSeparator";var x=function(Q){var ee=Q.children,me=Q.className,Te=me===void 0?"":me,Ue=Q.style,qe=Q.title;return(0,b.jsxs)("div",{className:"dropdown-menu-group ".concat(Te),style:Ue,children:[qe&&(0,b.jsx)("p",{className:"dropdown-menu-group-title",children:qe}),ee]})},G=x;x.displayName="DropdownMenuGroup";var le=t(1404),he=t(2540),ve=t(9787),fe=t.n(ve),X=t(7009),q=t(1901),U=function(Q){var ee=Q.children,me=Q.onClickOutside,Te=Q.className,Ue=Te===void 0?"":Te,qe=Q.onSelect,Ae=Q.style,Oe=(0,d.Fy)(),Ie=(0,ve.useRef)(null);(0,q.O)(Ie,function(){me?.()});var Re=(0,v.Z)("dropdown-menu ".concat(Ue),{"dropdown-menu--mobile":Oe.editor.isMobile}).trim();return(0,b.jsx)(X.N7.Provider,{value:{onSelect:qe},children:(0,b.jsx)("div",{ref:Ie,className:Re,style:Ae,"data-testid":"dropdown-menu",children:Oe.editor.isMobile?(0,b.jsx)(he.Z.Col,{className:"dropdown-menu-container",children:ee}):(0,b.jsx)(le.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:ee})})})};U.displayName="DropdownMenuContent";var R=U,B=t(3858),M=["children","className","selected"];function I(Q,ee){var me=Object.keys(Q);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(Q);ee&&(Te=Te.filter(function(Ue){return Object.getOwnPropertyDescriptor(Q,Ue).enumerable})),me.push.apply(me,Te)}return me}function E(Q){for(var ee=1;ee<arguments.length;ee++){var me=arguments[ee]!=null?arguments[ee]:{};ee%2?I(Object(me),!0).forEach(function(Te){(0,e.Z)(Q,Te,me[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(me)):I(Object(me)).forEach(function(Te){Object.defineProperty(Q,Te,Object.getOwnPropertyDescriptor(me,Te))})}return Q}var p=function(Q){var ee=Q.children,me=Q.className,Te=me===void 0?"":me,Ue=Q.selected,qe=(0,w.Z)(Q,M);return(0,b.jsx)("div",E(E({},qe),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(Te," ").concat(Ue?"dropdown-menu-item--selected":"").trim(),children:ee}))},r=t(3379),o=t.n(r),g=t(7795),s=t.n(g),u=t(569),k=t.n(u),N=t(3565),W=t.n(N),O=t(9216),j=t.n(O),L=t(4589),V=t.n(L),ie=t(7399),se={};se.styleTagTransform=V(),se.setAttributes=W(),se.insert=k().bind(null,"head"),se.domAPI=s(),se.insertStyleElement=j(),o()(ie.Z,se),ie.Z&&ie.Z.locals&&ie.Z.locals;var ue=function(Q){var ee=Q.children,me=Q.open,Te=function(qe){return fe().Children.toArray(qe).find(function(Ae){return fe().isValidElement(Ae)&&typeof Ae.type!="string"&&Ae?.type.displayName&&Ae.type.displayName==="DropdownMenuTrigger"})||null}(ee),Ue=function(qe){return fe().Children.toArray(qe).find(function(Ae){return fe().isValidElement(Ae)&&typeof Ae.type!="string"&&Ae?.type.displayName&&Ae.type.displayName==="DropdownMenuContent"})||null}(ee);return(0,b.jsxs)(b.Fragment,{children:[Te,me&&Ue]})};ue.Trigger=Z,ue.Content=R,ue.Item=F.Z,ue.ItemLink=B.Z,ue.ItemCustom=p,ue.Group=G,ue.Separator=h;var pe=ue;ue.displayName="DropdownMenu"},5735:function(We,te,t){var e=t(7169),w=t(2726),v=t(7009),d=t(6732),b=t(4512),T=["icon","onSelect","children","shortcut","className","selected"];function S(Z,F){var _=Object.keys(Z);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(Z);F&&(h=h.filter(function(x){return Object.getOwnPropertyDescriptor(Z,x).enumerable})),_.push.apply(_,h)}return _}function a(Z){for(var F=1;F<arguments.length;F++){var _=arguments[F]!=null?arguments[F]:{};F%2?S(Object(_),!0).forEach(function(h){(0,e.Z)(Z,h,_[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(_)):S(Object(_)).forEach(function(h){Object.defineProperty(Z,h,Object.getOwnPropertyDescriptor(_,h))})}return Z}var c=function(Z){var F,_=Z.icon,h=Z.onSelect,x=Z.children,G=Z.shortcut,le=Z.className,he=Z.selected,ve=(0,w.Z)(Z,T),fe=(0,v.qZ)(ve.onClick,h);return(0,b.jsx)("button",a(a({},ve),{},{onClick:fe,type:"button",className:(0,v.n)(le,he),title:(F=ve.title)!==null&&F!==void 0?F:ve["aria-label"],children:(0,b.jsx)(d.Z,{icon:_,shortcut:G,children:x})}))};te.Z=c,c.displayName="DropdownMenuItem"},6732:function(We,te,t){var e=t(8242),w=t(4512);te.Z=function(v){var d=v.icon,b=v.shortcut,T=v.children,S=(0,e.Fy)();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"dropdown-menu-item__icon",children:d}),(0,w.jsx)("div",{className:"dropdown-menu-item__text",children:T}),b&&!S.editor.isMobile&&(0,w.jsx)("div",{className:"dropdown-menu-item__shortcut",children:b})]})}},3858:function(We,te,t){var e=t(7169),w=t(2726),v=t(6732),d=t(7009),b=t(4512),T=["icon","shortcut","href","children","onSelect","className","selected"];function S(Z,F){var _=Object.keys(Z);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(Z);F&&(h=h.filter(function(x){return Object.getOwnPropertyDescriptor(Z,x).enumerable})),_.push.apply(_,h)}return _}function a(Z){for(var F=1;F<arguments.length;F++){var _=arguments[F]!=null?arguments[F]:{};F%2?S(Object(_),!0).forEach(function(h){(0,e.Z)(Z,h,_[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(_)):S(Object(_)).forEach(function(h){Object.defineProperty(Z,h,Object.getOwnPropertyDescriptor(_,h))})}return Z}var c=function(Z){var F,_=Z.icon,h=Z.shortcut,x=Z.href,G=Z.children,le=Z.onSelect,he=Z.className,ve=he===void 0?"":he,fe=Z.selected,X=(0,w.Z)(Z,T),q=(0,d.qZ)(X.onClick,le);return(0,b.jsx)("a",a(a({},X),{},{href:x,target:"_blank",rel:"noreferrer",className:(0,d.n)(ve,fe),title:(F=X.title)!==null&&F!==void 0?F:X["aria-label"],onClick:q,children:(0,b.jsx)(v.Z,{icon:_,shortcut:h,children:G})}))};te.Z=c,c.displayName="DropdownMenuItemLink"},7009:function(We,te,t){t.d(te,{N7:function(){return b},n:function(){return T},qZ:function(){return S}});var e=t(9787),w=t.n(e),v=t(9937),d=t(9827),b=w().createContext({}),T=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"dropdown-menu-item dropdown-menu-item-base ".concat(a," ").concat(c?"dropdown-menu-item--selected":"").trim()},S=function(a,c){var Z=(0,e.useContext)(b);return(0,d.Mj)(a,function(F){var _,h=new CustomEvent(v.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});c?.(h),h.defaultPrevented||(_=Z.onSelect)===null||_===void 0||_.call(Z,h)})}},6922:function(We,te,t){t.d(te,{$:function(){return a}});var e=t(7169),w=t(2577),v=t(3607),d=t(9787),b=t(4572),T=t(4512);function S(c,Z){var F=Object.keys(c);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(c);Z&&(_=_.filter(function(h){return Object.getOwnPropertyDescriptor(c,h).enumerable})),F.push.apply(F,_)}return F}var a=function(c,Z){var F=(0,v.cn)(0),_=function(h){var x=(0,b.R6)().jotaiScope,G=(0,v.KO)(F,x),le=(0,w.Z)(G,2)[1],he=(0,d.useRef)({preferHost:!1,counter:0});return(0,d.useLayoutEffect)(function(){var ve=he.current;return le(function(fe){var X=fe+1;return ve.counter=X,X}),function(){le(function(fe){var X=fe-1;return ve.counter=X,X||(ve.preferHost=!1),X})}},[le]),h.__fallback||(he.current.preferHost=!0),!he.current.counter&&h.__fallback&&he.current.preferHost||he.current.counter>1&&h.__fallback?null:(0,T.jsx)(Z,function(ve){for(var fe=1;fe<arguments.length;fe++){var X=arguments[fe]!=null?arguments[fe]:{};fe%2?S(Object(X),!0).forEach(function(q){(0,e.Z)(ve,q,X[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ve,Object.getOwnPropertyDescriptors(X)):S(Object(X)).forEach(function(q){Object.defineProperty(ve,q,Object.getOwnPropertyDescriptor(X,q))})}return ve}({},h))};return _.displayName=c,_}},8935:function(We,te,t){t.d(te,{$W:function(){return $n},$c:function(){return P},$q:function(){return N},BF:function(){return Le},Ct:function(){return ge},D7:function(){return Te},DG:function(){return ke},DJ:function(){return B},DS:function(){return Ht},EO:function(){return Jn},ET:function(){return me},FC:function(){return q},FL:function(){return L},Gc:function(){return J},HL:function(){return _e},Hk:function(){return pn},Hy:function(){return pe},II:function(){return ir},IN:function(){return re},J8:function(){return xe},LZ:function(){return Fn},NA:function(){return V},NW:function(){return se},Nw:function(){return fr},OA:function(){return tr},OW:function(){return I},P7:function(){return kr},Pm:function(){return s},RJ:function(){return Qe},RY:function(){return ue},Re:function(){return p},ST:function(){return tt},Sd:function(){return W},TP:function(){return ye},Tl:function(){return Re},Tw:function(){return He},UE:function(){return l},UI:function(){return Ft},UT:function(){return kn},VL:function(){return u},Vl:function(){return D},Vq:function(){return le},W2:function(){return It},W5:function(){return Ke},Wl:function(){return Zt},X7:function(){return zt},XB:function(){return k},XH:function(){return j},YA:function(){return ve},ZA:function(){return Mt},Zm:function(){return Ue},_C:function(){return X},_U:function(){return R},a0:function(){return bt},a1:function(){return Oe},a5:function(){return rn},aA:function(){return cr},aL:function(){return Nt},aT:function(){return Xt},bf:function(){return on},by:function(){return Q},d:function(){return yr},dg:function(){return Hn},e0:function(){return r},eQ:function(){return qe},fr:function(){return At},gK:function(){return ut},h0:function(){return ee},il:function(){return Wt},j8:function(){return bn},jn:function(){return ht},kL:function(){return ie},kM:function(){return jn},lF:function(){return ct},m:function(){return an},m9:function(){return sn},mh:function(){return Je},mv:function(){return qt},nb:function(){return E},np:function(){return wt},nq:function(){return An},o3:function(){return un},oQ:function(){return U},oT:function(){return Bn},op:function(){return Ee},pO:function(){return he},po:function(){return Ie},pw:function(){return ae},q0:function(){return hn},qQ:function(){return fe},rr:function(){return dn},t5:function(){return H},tW:function(){return Yn},tb:function(){return g},tn:function(){return Kt},uD:function(){return et},vo:function(){return Sn},wr:function(){return kt},xL:function(){return O},xP:function(){return Ae},xs:function(){return ze},z6:function(){return Bt},zG:function(){return f},zb:function(){return o},zl:function(){return Qn},zu:function(){return M}});var e=t(7169),w=t(2726),v=t(9787),d=t.n(v),b=t(5284),T=t(45),S=t(9937),a=t(4512),c=["width","height","mirror","style"];function Z(lr,Gn){var Xn=Object.keys(lr);if(Object.getOwnPropertySymbols){var er=Object.getOwnPropertySymbols(lr);Gn&&(er=er.filter(function(pr){return Object.getOwnPropertyDescriptor(lr,pr).enumerable})),Xn.push.apply(Xn,er)}return Xn}function F(lr){for(var Gn=1;Gn<arguments.length;Gn++){var Xn=arguments[Gn]!=null?arguments[Gn]:{};Gn%2?Z(Object(Xn),!0).forEach(function(er){(0,e.Z)(lr,er,Xn[er])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(Xn)):Z(Object(Xn)).forEach(function(er){Object.defineProperty(lr,er,Object.getOwnPropertyDescriptor(Xn,er))})}return lr}var _=function(lr){return lr===S.C6.LIGHT?b.white:"#1e1e1e"},h=function(lr){var Gn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,Xn=typeof Gn=="number"?{width:Gn}:Gn,er=Xn.width,pr=er===void 0?512:er,vr=Xn.height,xr=vr===void 0?pr:vr,$r=Xn.mirror,io=Xn.style,Eo=(0,w.Z)(Xn,c);return(0,a.jsx)("svg",F(F({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(pr," ").concat(xr),className:(0,T.Z)({"rtl-mirror":$r}),style:io},Eo),{},{children:typeof lr=="string"?(0,a.jsx)("path",{fill:"currentColor",d:lr}):lr}))},x={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},G={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},le=(h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,a.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,a.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,a.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),x),h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,a.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,a.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,a.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),x)),he=h((0,a.jsxs)("svg",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),x),ve=h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,a.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,a.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),x),fe=h((0,a.jsxs)("svg",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,a.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,a.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),x),X=h((0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,a.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,a.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,a.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),G),q=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,a.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,a.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),G),U=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),R=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),B=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),M=(h((0,a.jsx)("g",{fill:"currentColor",children:(0,a.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),h((0,a.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,a.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),I=h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),x),E=h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),x),p=h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),x),r=h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,a.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,a.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),x),o=h((0,a.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),G),g=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,a.jsx)("path",{d:"M16 7h4"}),(0,a.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),x),s=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,a.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),G),u=h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,a.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,a.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,a.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,a.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),x),k=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M12.5 6.667h.01"}),(0,a.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,a.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,a.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),G),N=h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,a.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),x),W=h((0,a.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),G),O=h((0,a.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),G),j=h((0,a.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),G),L=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,a.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),G),V=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,a.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),G),ie=h((0,a.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),G),se=h((0,a.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),G),ue=h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,a.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,a.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),x),pe=h((0,a.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),G),Q=h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,a.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,a.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),x),ee=h((0,a.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),G),me=h((0,a.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),G),Te=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,a.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),G),Ue=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),x),qe=h((0,a.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Ae=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,a.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),G),Oe=h("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Ie=h("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),Re=h((0,a.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),G),ke=(h("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),h("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),xe=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M15 8h.01"}),(0,a.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,a.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,a.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,a.jsx)("path",{d:"M19 16v6"}),(0,a.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),x),ye=h("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),P=(h("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),h("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),h("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),l=(h("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),h((0,a.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),G)),f=h((0,a.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),G),D=h("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),H=(h((0,a.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),G),h("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,a.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),h((0,a.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G)),J=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),re=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),ae=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",children:[(0,a.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,a.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),ge=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),_e=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),ze=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),Je=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),et=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),Ke=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),tt=h((0,a.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),G),ut=h((0,a.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),G),ht=h((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,a.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,a.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,a.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),x),He=(h("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),h("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G)),Ee=h("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Le=(h("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),h("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),h("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),d().memo(function(lr){var Gn=lr.theme;return h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,a.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,a.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,a.jsxs)("g",{fill:_(Gn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,a.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),Qe=d().memo(function(lr){var Gn=lr.theme;return h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,a.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,a.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,a.jsxs)("g",{fill:_(Gn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,a.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),ct=h((0,a.jsx)("g",{strokeWidth:1.25,children:(0,a.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),G),bt=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,a.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,a.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,a.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),G),wt=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",children:[(0,a.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,a.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,a.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),zt=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",children:(0,a.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),F(F({},G),{},{fill:"currentColor"})),Mt=h((0,a.jsx)(a.Fragment,{children:(0,a.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),G),Zt=h((0,a.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),G),sn=h((0,a.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),G),rn=h((0,a.jsxs)("g",{strokeWidth:"2",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M5 12h2"}),(0,a.jsx)("path",{d:"M17 12h2"}),(0,a.jsx)("path",{d:"M11 12h2"})]}),x),Xt=h((0,a.jsxs)("g",{strokeWidth:"2",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M4 12v.01"}),(0,a.jsx)("path",{d:"M8 12v.01"}),(0,a.jsx)("path",{d:"M12 12v.01"}),(0,a.jsx)("path",{d:"M16 12v.01"}),(0,a.jsx)("path",{d:"M20 12v.01"})]}),x),on=h((0,a.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),G),jn=h((0,a.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),G),It=h((0,a.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),G),kt=h((0,a.jsxs)("svg",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,a.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,a.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,a.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,a.jsx)("path",{d:"M16.6667 10V10.01"}),(0,a.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,a.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,a.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,a.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,a.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,a.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,a.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),G),Ht=h((0,a.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,a.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,a.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,a.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,a.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,a.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,a.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,a.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,a.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,a.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,a.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,a.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),x),At=h((0,a.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Wt=d().memo(function(lr){var Gn=lr.flip,Xn=Gn!==void 0&&Gn;return h((0,a.jsxs)("g",{transform:Xn?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,a.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,a.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),Kt=d().memo(function(lr){var Gn=lr.flip,Xn=Gn!==void 0&&Gn;return h((0,a.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Xn?"translate(40, 0) scale(-1, 1)":"",children:[(0,a.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,a.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),an=d().memo(function(lr){var Gn=lr.flip,Xn=Gn!==void 0&&Gn;return h((0,a.jsx)("g",{transform:Xn?"translate(40, 0) scale(-1, 1)":"",children:(0,a.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),bn=d().memo(function(lr){var Gn=lr.flip,Xn=Gn!==void 0&&Gn;return h((0,a.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Xn?"translate(40, 0) scale(-1, 1)":"",children:[(0,a.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,a.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),hn=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",children:(0,a.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),An=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",children:(0,a.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),Yn=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",children:(0,a.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),tr=h((0,a.jsx)(a.Fragment,{children:(0,a.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),G),Sn=h((0,a.jsx)(a.Fragment,{children:(0,a.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),G),Bt=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G),dn=h((0,a.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,a.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,a.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),x),un=h((0,a.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,a.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,a.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),x),Bn=h((0,a.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,a.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,a.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),x),Jn=d().memo(function(lr){return lr.theme,h((0,a.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,a.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),x)}),cr=d().memo(function(lr){return lr.theme,h((0,a.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,a.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),x)}),kr=d().memo(function(lr){return lr.theme,h((0,a.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,a.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,a.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),x)}),fr=h((0,a.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),pn=(h((0,a.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),h((0,a.jsxs)("g",{strokeWidth:1.25,children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,a.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,a.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,a.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),x)),Nt=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,a.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,a.jsx)("path",{d:"M12 4l0 12"})]}),x),Ft=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,a.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),x),qt=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,a.jsx)("path",{d:"M12 17l0 .01"}),(0,a.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),x),kn=(h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M7 4v16l13 -8z"})]}),x),h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),x),h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),x),h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,a.jsx)("path",{d:"M12 9v4"}),(0,a.jsx)("path",{d:"M12 17h.01"})]}),x)),$n=h((0,a.jsxs)("g",{strokeWidth:1.25,children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M11 7l6 6"}),(0,a.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),x),Hn=h((0,a.jsxs)("g",{strokeWidth:1.5,children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,a.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,a.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),x),Qn=h((0,a.jsxs)("g",{strokeWidth:1.5,children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M4 7l16 0"}),(0,a.jsx)("path",{d:"M4 17l16 0"}),(0,a.jsx)("path",{d:"M7 4l0 16"}),(0,a.jsx)("path",{d:"M17 4l0 16"})]}),x),ir=h((0,a.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),Fn=h((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,a.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,a.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),G),yr=h((0,a.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,a.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,a.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20)},7021:function(We,te,t){t.d(te,{Z:function(){return Ue}});var e={};t.r(e),t.d(e,{ChangeCanvasBackground:function(){return ie},ClearCanvas:function(){return L},Export:function(){return se},Help:function(){return j},LiveCollaborationTrigger:function(){return pe},LoadScene:function(){return N},SaveAsImage:function(){return O},SaveToActiveFile:function(){return W},Socials:function(){return ue},ToggleTheme:function(){return V}});var w=t(8242),v=t(7104),d=t(8950),b=t(2975),T=t.n(b),S=t(2529),a=t(8227),c=t(8935),Z=t(5735),F=t(3858),_=t(5463),h=t(3379),x=t.n(h),G=t(7795),le=t.n(G),he=t(569),ve=t.n(he),fe=t(3565),X=t.n(fe),q=t(9216),U=t.n(q),R=t(4589),B=t.n(R),M=t(4343),I={};I.styleTagTransform=B(),I.setAttributes=X(),I.insert=ve().bind(null,"head"),I.domAPI=le(),I.insertStyleElement=U(),x()(M.Z,I),M.Z&&M.Z.locals&&M.Z.locals;var E=t(45),p=t(3607),r=t(8973),o=t(453),g=t(100),s=t(7827),u=t(9247),k=t(4512),N=function(){var qe=(0,a.QT)().t,Ae=(0,w.eh)(),Oe=(0,w.bd)();if(!Ae.isActionEnabled(_._d))return null;var Ie=function(){var Re=(0,d.Z)(T().mark(function ke(){return T().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(xe.t0=!Oe.length,xe.t0){xe.next=5;break}return xe.next=4,(0,s._)({title:qe("overwriteConfirm.modal.loadFromFile.title"),actionLabel:qe("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,k.jsx)(u.Z,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(ye){return(0,k.jsx)("strong",{children:ye})},br:function(){return(0,k.jsx)("br",{})}})});case 4:xe.t0=xe.sent;case 5:if(!xe.t0){xe.next=7;break}Ae.executeAction(_._d);case 7:case"end":return xe.stop()}},ke)}));return function(){return Re.apply(this,arguments)}}();return(0,k.jsx)(Z.Z,{icon:c.Tl,onSelect:Ie,"data-testid":"load-button",shortcut:(0,S.C)("loadScene"),"aria-label":qe("buttons.load"),children:qe("buttons.load")})};N.displayName="LoadScene";var W=function(){var qe=(0,a.QT)().t,Ae=(0,w.eh)();return Ae.isActionEnabled(_.ns)?(0,k.jsx)(Z.Z,{shortcut:(0,S.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return Ae.executeAction(_.ns)},icon:c.a1,"aria-label":"".concat(qe("buttons.save")),children:"".concat(qe("buttons.save"))}):null};W.displayName="SaveToActiveFile";var O=function(){var qe=(0,w.n9)(),Ae=(0,a.QT)().t;return(0,k.jsx)(Z.Z,{icon:c.J8,"data-testid":"image-export-button",onSelect:function(){return qe({openDialog:"imageExport"})},shortcut:(0,S.C)("imageExport"),"aria-label":Ae("buttons.exportImage"),children:Ae("buttons.exportImage")})};O.displayName="SaveAsImage";var j=function(){var qe=(0,a.QT)().t,Ae=(0,w.eh)();return(0,k.jsx)(Z.Z,{"data-testid":"help-menu-item",icon:c.by,onSelect:function(){return Ae.executeAction(_.jY)},shortcut:"?","aria-label":qe("helpDialog.title"),children:qe("helpDialog.title")})};j.displayName="Help";var L=function(){var qe=(0,a.QT)().t,Ae=(0,p.b9)(r.w,o.yE);return(0,w.eh)().isActionEnabled(_.mo)?(0,k.jsx)(Z.Z,{icon:c.XH,onSelect:function(){return Ae("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":qe("buttons.clearReset"),children:qe("buttons.clearReset")}):null};L.displayName="ClearCanvas";var V=function(){var qe=(0,a.QT)().t,Ae=(0,g.I)(),Oe=(0,w.eh)();return Oe.isActionEnabled(_.Zp)?(0,k.jsx)(Z.Z,{onSelect:function(Ie){return Ie.preventDefault(),Oe.executeAction(_.Zp)},icon:Ae.theme==="dark"?c.NW:c.kL,"data-testid":"toggle-dark-mode",shortcut:(0,S.C)("toggleTheme"),"aria-label":Ae.theme==="dark"?qe("buttons.lightMode"):qe("buttons.darkMode"),children:Ae.theme==="dark"?qe("buttons.lightMode"):qe("buttons.darkMode")}):null};V.displayName="ToggleTheme";var ie=function(){var qe=(0,a.QT)().t,Ae=(0,g.I)(),Oe=(0,w.eh)(),Ie=(0,w.hY)();return Ae.viewModeEnabled||!Ie.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,k.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,k.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:qe("labels.canvasBackground")}),(0,k.jsx)("div",{style:{padding:"0 0.625rem"},children:Oe.renderAction("changeViewBackgroundColor")})]})};ie.displayName="ChangeCanvasBackground";var se=function(){var qe=(0,a.QT)().t,Ae=(0,w.n9)();return(0,k.jsx)(Z.Z,{icon:c.Hy,onSelect:function(){Ae({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":qe("buttons.export"),children:qe("buttons.export")})};se.displayName="Export";var ue=function(){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(F.Z,{icon:c.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,k.jsx)(F.Z,{icon:c.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,k.jsx)(F.Z,{icon:c.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};ue.displayName="Socials";var pe=function(qe){var Ae=qe.onSelect,Oe=qe.isCollaborating,Ie=(0,a.QT)().t;return(0,k.jsx)(Z.Z,{"data-testid":"collab-button",icon:c.jn,className:(0,E.Z)({"active-collab":Oe}),onSelect:Ae,children:Ie("labels.liveCollaboration")})};pe.displayName="LiveCollaborationTrigger";var Q=t(4704),ee=t(6922),me=t(9827),Te=t(4572),Ue=Object.assign((0,ee.$)("MainMenu",function(qe){var Ae=qe.children,Oe=qe.onSelect,Ie=(0,Te.R6)().MainMenuTunnel,Re=(0,w.Fy)(),ke=(0,g.I)(),xe=(0,w.n9)(),ye=Re.editor.isMobile?void 0:function(){return xe({openMenu:null})};return(0,k.jsx)(Ie.In,{children:(0,k.jsxs)(v.Z,{open:ke.openMenu==="canvas",children:[(0,k.jsx)(v.Z.Trigger,{onToggle:function(){xe({openMenu:ke.openMenu==="canvas"?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:c.RY}),(0,k.jsxs)(v.Z.Content,{onClickOutside:ye,onSelect:(0,me.Mj)(Oe,function(){xe({openMenu:null})}),children:[Ae,Re.editor.isMobile&&ke.collaborators.size>0&&(0,k.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,k.jsx)("legend",{children:(0,a.t)("labels.collaborators")}),(0,k.jsx)(Q.Z,{mobile:!0,collaborators:ke.collaborators})]})]})]})})}),{Trigger:v.Z.Trigger,Item:v.Z.Item,ItemLink:v.Z.ItemLink,ItemCustom:v.Z.ItemCustom,Group:v.Z.Group,Separator:v.Z.Separator,DefaultItems:e})},9937:function(We,te,t){t.d(te,{wL:function(){return qe},iC:function(){return I},vL:function(){return bt},bY:function(){return ct},gK:function(){return Qe},$C:function(){return j},oc:function(){return u},_9:function(){return sn},HN:function(){return It},qy:function(){return ut},rk:function(){return Q},n5:function(){return pe},h6:function(){return ht},Rx:function(){return Zt},Cc:function(){return Ht},Hg:function(){return ee},cW:function(){return ae},hs:function(){return me},f:function(){return E},xY:function(){return Mt},Iw:function(){return r},$e:function(){return o},Vi:function(){return O},Ks:function(){return fe},r8:function(){return Ie},I_:function(){return Oe},ZB:function(){return tt},pb:function(){return Re},ut:function(){return L},iG:function(){return ie},k:function(){return Te},sA:function(){return D},KL:function(){return Ue},LL:function(){return ke},PR:function(){return At},tf:function(){return kt},EE:function(){return et},qx:function(){return p},$n:function(){return He},zK:function(){return Ke},LO:function(){return Ae},CP:function(){return ue},Zj:function(){return f},Yx:function(){return ze},sS:function(){return _e},kV:function(){return ge},sk:function(){return Je},Oh:function(){return k},XI:function(){return N},WR:function(){return Xt},$h:function(){return on},a6:function(){return rn},HM:function(){return P},ay:function(){return s},dg:function(){return jn},hR:function(){return Ee},Gj:function(){return xe},I8:function(){return zt},wZ:function(){return g},C6:function(){return V},ZF:function(){return H},nM:function(){return ye},ah:function(){return re},UO:function(){return J},Kr:function(){return Le},oX:function(){return wt},_D:function(){return se},vf:function(){return W},V4:function(){return l},Dt:function(){return U},jP:function(){return M},Um:function(){return X},vU:function(){return R},G6:function(){return B},ED:function(){return q}});var e=t(7169),w=t(3379),v=t.n(w),d=t(7795),b=t.n(d),T=t(569),S=t.n(T),a=t(3565),c=t.n(a),Z=t(9216),F=t.n(Z),_=t(4589),h=t.n(_),x=t(6464),G={};G.styleTagTransform=h(),G.setAttributes=c(),G.insert=S().bind(null,"head"),G.domAPI=b(),G.insertStyleElement=F(),v()(x.Z,G);var le=x.Z&&x.Z.locals?x.Z.locals:void 0,he=t(9240);function ve(Wt,Kt){var an=Object.keys(Wt);if(Object.getOwnPropertySymbols){var bn=Object.getOwnPropertySymbols(Wt);Kt&&(bn=bn.filter(function(hn){return Object.getOwnPropertyDescriptor(Wt,hn).enumerable})),an.push.apply(an,bn)}return an}var fe,X=/Mac|iPod|iPhone|iPad/.test(navigator.platform),q=/^Win/.test(navigator.platform),U=/\b(android)\b/i.test(navigator.userAgent),R="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,B=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,M=function(){var Wt,Kt;return((Wt=navigator.brave)===null||Wt===void 0||(Kt=Wt.isBrave)===null||Kt===void 0?void 0:Kt.name)==="isBrave"},I="Excalidraw",E=10,p=8,r=5,o=1,g=30,s=Math.PI/12,u={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},k={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1},N={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"};(function(Wt){Wt.COPY="copy",Wt.PASTE="paste",Wt.CUT="cut",Wt.KEYDOWN="keydown",Wt.KEYUP="keyup",Wt.MOUSE_MOVE="mousemove",Wt.RESIZE="resize",Wt.UNLOAD="unload",Wt.FOCUS="focus",Wt.BLUR="blur",Wt.DRAG_OVER="dragover",Wt.DROP="drop",Wt.GESTURE_END="gestureend",Wt.BEFORE_UNLOAD="beforeunload",Wt.GESTURE_START="gesturestart",Wt.GESTURE_CHANGE="gesturechange",Wt.POINTER_MOVE="pointermove",Wt.POINTER_DOWN="pointerdown",Wt.POINTER_UP="pointerup",Wt.STATE_CHANGE="statechange",Wt.WHEEL="wheel",Wt.TOUCH_START="touchstart",Wt.TOUCH_END="touchend",Wt.HASHCHANGE="hashchange",Wt.VISIBILITY_CHANGE="visibilitychange",Wt.SCROLL="scroll",Wt.EXCALIDRAW_LINK="excalidraw-link",Wt.MENU_ITEM_SELECT="menu.itemSelect",Wt.MESSAGE="message"})(fe||(fe={}));var W={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},O={TEST:"test",DEVELOPMENT:"development"},j={SHAPE_ACTIONS_MENU:"App-menu__left"},L={Virgil:1,Helvetica:2,Cascadia:3,Assistant:4},V={LIGHT:"light",DARK:"dark"},ie={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},se="Segoe UI Emoji",ue=1,pe=20,Q=L.Virgil,ee="left",me="top",Te=20,Ue={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},qe=["text/plain","text/html"],Ae=function(Wt){for(var Kt=1;Kt<arguments.length;Kt++){var an=arguments[Kt]!=null?arguments[Kt]:{};Kt%2?ve(Object(an),!0).forEach(function(bn){(0,e.Z)(Wt,bn,an[bn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Wt,Object.getOwnPropertyDescriptors(an)):ve(Object(an)).forEach(function(bn){Object.defineProperty(Wt,bn,Object.getOwnPropertyDescriptor(an,bn))})}return Wt}({json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},Ue),Oe={png:"png",svg:"svg",clipboard:"clipboard"},Ie={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},Re=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,ke=500,xe=300,ye=500,P=100,l=.1,f=.1,D=300,H=le.themeFilter,J={addLibrary:"addLibrary"},re={addLibrary:"addLibrary"},ae={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},ge=730,_e=1e3,ze=500,Je=1229,et=parseInt(le.rightSidebarWidth),Ke=2,tt=[1,2,3],ut=10,ht=1440,He=2097152,Ee="http://www.w3.org/2000/svg",Le={excalidraw:2,excalidrawLibrary:2},Qe=5,ct=.7,bt=11,wt={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},zt={LEFT:"left",CENTER:"center",RIGHT:"right"},Mt=20,Zt=.25,sn=32,rn={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},Xt="__precedingElement__",on={architect:0,artist:1,cartoonist:2},jn={thin:1,bold:2,extraBold:4},It={strokeColor:he.HO.black,backgroundColor:he.HO.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:on.artist,opacity:100,locked:!1},kt="library",Ht={name:"default",defaultTab:kt},At=new Set(["embeddable","image"])},4572:function(We,te,t){t.d(te,{A3:function(){return h},ZC:function(){return G},R6:function(){return x}});var e=t(9787),w=t.n(e);const v=le=>{let he;const ve=new Set,fe=(U,R)=>{const B=typeof U=="function"?U(he):U;if(!Object.is(B,he)){const M=he;he=R??typeof B!="object"?B:Object.assign({},he,B),ve.forEach(I=>I(he,M))}},X=()=>he,q={setState:fe,getState:X,subscribe:U=>(ve.add(U),()=>ve.delete(U)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),ve.clear()}};return he=le(fe,X,q),q},d=le=>le?v(le):v;var b=t(5668);const{useSyncExternalStoreWithSelector:T}=b,S=le=>{typeof le!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const he=typeof le=="function"?d(le):le,ve=(fe,X)=>function(q,U=q.getState,R){const B=T(q.subscribe,q.getState,q.getServerState||q.getState,U,R);return(0,e.useDebugValue)(B),B}(he,fe,X);return Object.assign(ve,he),ve},a=le=>le?S(le):S;var c,Z;const F=typeof window<"u"&&((c=window.document)!=null&&c.createElement||((Z=window.navigator)==null?void 0:Z.product)==="ReactNative")?w().useLayoutEffect:w().useEffect;function _(){const le=a(he=>({current:new Array,version:0,set:he}));return{In:({children:he})=>{const ve=le(X=>X.set),fe=le(X=>X.version);return F(()=>{ve(X=>({version:X.version+1}))},[]),F(()=>(ve(({current:X})=>({current:[...X,he]})),()=>ve(({current:X})=>({current:X.filter(q=>q!==he)}))),[he,fe]),null},Out:()=>{const he=le(ve=>ve.current);return w().createElement(w().Fragment,null,he)}}}var h=w().createContext(null),x=function(){return w().useContext(h)},G=function(){return w().useMemo(function(){return{MainMenuTunnel:_(),WelcomeScreenMenuHintTunnel:_(),WelcomeScreenToolbarHintTunnel:_(),WelcomeScreenHelpHintTunnel:_(),WelcomeScreenCenterTunnel:_(),FooterCenterTunnel:_(),DefaultSidebarTriggerTunnel:_(),DefaultSidebarTabTriggersTunnel:_(),OverwriteConfirmDialogTunnel:_(),jotaiScope:Symbol()}},[])}},100:function(We,te,t){t.d(te,{I:function(){return d},k:function(){return v}});var e=t(9787),w=t.n(e),v=w().createContext(null),d=function(){return w().useContext(v)}},7652:function(We,te,t){t.d(te,{KJ:function(){return F},OF:function(){return _},Uk:function(){return h},z8:function(){return Z}});var e,w,v=t(9937),d=t(5284),b=t(6853),T='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',S='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',a="data:".concat(v.LO.svg,",").concat(encodeURIComponent("".concat(T).concat(S,"</svg>"))),c="data:".concat(v.LO.svg,",").concat(encodeURIComponent("".concat(T).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(S,"</svg>"))),Z=function(x){x&&(x.style.cursor="")},F=function(x,G){x&&(x.style.cursor=G)},_=function(x,G){e&&e.theme===G||function(){var le=G===v.C6.DARK;(e=document.createElement("canvas")).theme=G,e.height=20,e.width=20;var he=e.getContext("2d");he.lineWidth=1,he.beginPath(),he.arc(e.width/2,e.height/2,5,0,2*Math.PI),he.fillStyle=le?d.black:d.white,he.fill(),he.strokeStyle=le?d.white:d.black,he.stroke(),w=e.toDataURL(v.LO.svg)}(),F(x,"url(".concat(w,") ").concat(10," ").concat(10,", auto"))},h=function(x,G){if(x)if(G.activeTool.type==="selection")Z(x);else if((0,b.l$)(G))x.style.cursor=v.oc.GRAB;else if((0,b.EN)(G))_(x,G.theme);else if(G.activeTool.type==="laser"){var le=G.theme===v.C6.LIGHT?a:c;x.style.cursor="url(".concat(le,"), auto")}else["image","custom"].includes(G.activeTool.type)?G.activeTool.type!=="image"&&(x.style.cursor=v.oc.AUTO):x.style.cursor=v.oc.CROSSHAIR}},5796:function(We,te,t){t.d(te,{DQ:function(){return U},KG:function(){return s},Pn:function(){return k},Qk:function(){return q},Sf:function(){return g},Tu:function(){return u},Wr:function(){return B},ZY:function(){return M},_c:function(){return r},_p:function(){return N},bv:function(){return W},cT:function(){return I},g8:function(){return R},gY:function(){return V},lV:function(){return p},tW:function(){return o},vZ:function(){return ie},wf:function(){return E}});var e=t(1930),w=t(2577),v=t(7169),d=t(8950),b=t(2975),T=t.n(b),S=t(5605),a=t(6853),c=t(9937),Z=t(7651),F=t(3506),_=t(8227),h=t(4105),x=t(9827),G=t(6548),le=t(4419),he=t(7994);function ve(se,ue){var pe=Object.keys(se);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(se);ue&&(Q=Q.filter(function(ee){return Object.getOwnPropertyDescriptor(se,ee).enumerable})),pe.push.apply(pe,Q)}return pe}function fe(se){for(var ue=1;ue<arguments.length;ue++){var pe=arguments[ue]!=null?arguments[ue]:{};ue%2?ve(Object(pe),!0).forEach(function(Q){(0,v.Z)(se,Q,pe[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(pe)):ve(Object(pe)).forEach(function(Q){Object.defineProperty(se,Q,Object.getOwnPropertyDescriptor(pe,Q))})}return se}var X=function(){var se=(0,d.Z)(T().mark(function ue(pe){var Q;return T().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(pe.type!==c.LO.png){ee.next=18;break}return ee.prev=1,ee.next=4,Promise.resolve().then(t.bind(t,250));case 4:return ee.next=6,ee.sent.decodePngMetadata(pe);case 6:return ee.abrupt("return",ee.sent);case 9:if(ee.prev=9,ee.t0=ee.catch(1),ee.t0.message!=="INVALID"){ee.next=15;break}throw new F.jk((0,_.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 15:throw new F.jk((0,_.t)("alerts.cannotRestoreFromImage"));case 16:ee.next=43;break;case 18:if(!("text"in Blob)){ee.next=24;break}return ee.next=21,pe.text();case 21:Q=ee.sent,ee.next=27;break;case 24:return ee.next=26,new Promise(function(me){var Te=new FileReader;Te.readAsText(pe,"utf8"),Te.onloadend=function(){Te.readyState===FileReader.DONE&&me(Te.result)}});case 26:Q=ee.sent;case 27:if(pe.type!==c.LO.svg){ee.next=43;break}return ee.prev=28,ee.next=31,Promise.resolve().then(t.bind(t,250));case 31:return ee.next=33,ee.sent.decodeSvgMetadata({svg:Q});case 33:return ee.abrupt("return",ee.sent);case 36:if(ee.prev=36,ee.t1=ee.catch(28),ee.t1.message!=="INVALID"){ee.next=42;break}throw new F.jk((0,_.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 42:throw new F.jk((0,_.t)("alerts.cannotRestoreFromImage"));case 43:return ee.abrupt("return",Q);case 44:case"end":return ee.stop()}},ue,null,[[1,9],[28,36]])}));return function(ue){return se.apply(this,arguments)}}(),q=function(se){var ue;return se&&((ue=se.name.match(/\.(json|excalidraw|png|svg)$/))===null||ue===void 0?void 0:ue[1])||null},U=function(se){return se==="png"||se==="svg"},R=function(se){var ue=q(se);return ue==="png"||ue==="svg"},B=function(se){var ue=(se||{}).type;return!!ue&&Object.values(c.KL).includes(ue)},M=function(){var se=(0,d.Z)(T().mark(function ue(pe,Q,ee,me){var Te,Ue;return T().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return qe.next=2,X(pe);case 2:Te=qe.sent,qe.prev=3,qe.prev=4,Ue=JSON.parse(Te),qe.next=13;break;case 8:if(qe.prev=8,qe.t0=qe.catch(4),!B(pe)){qe.next=12;break}throw new F.jk((0,_.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 12:throw qe.t0;case 13:if(!(0,le.dS)(Ue)){qe.next=17;break}return qe.abrupt("return",{type:c.LO.excalidraw,data:(0,he.nu)({elements:(0,Z._M)(Ue.elements||[]),appState:fe(fe({theme:Q?.theme,fileHandle:me||pe.handle||null},(0,a.s)(Ue.appState||{})),Q?(0,h.W)(Ue.elements||[],Q):{}),files:Ue.files},Q,ee,{repairBindings:!0,refreshDimensions:!1})});case 17:if(!(0,le.HT)(Ue)){qe.next=19;break}return qe.abrupt("return",{type:c.LO.excalidrawlib,data:Ue});case 19:case 26:throw new Error((0,_.t)("alerts.couldNotLoadInvalidFile"));case 22:if(qe.prev=22,qe.t1=qe.catch(3),!(qe.t1 instanceof F.jk)){qe.next=26;break}throw qe.t1;case 27:case"end":return qe.stop()}},ue,null,[[3,22],[4,8]])}));return function(ue,pe,Q,ee){return se.apply(this,arguments)}}(),I=function(){var se=(0,d.Z)(T().mark(function ue(pe,Q,ee,me){var Te;return T().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Ue.next=2,M(pe,Q,ee,me);case 2:if((Te=Ue.sent).type===c.LO.excalidraw){Ue.next=5;break}throw new Error((0,_.t)("alerts.couldNotLoadInvalidFile"));case 5:return Ue.abrupt("return",Te.data);case 6:case"end":return Ue.stop()}},ue)}));return function(ue,pe,Q,ee){return se.apply(this,arguments)}}(),E=function(se){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",pe=JSON.parse(se);if(!(0,le.HT)(pe))throw new Error("Invalid library");var Q=pe.libraryItems||pe.library;return(0,he.wJ)(Q,ue)},p=function(){var se=(0,d.Z)(T().mark(function ue(pe){var Q,ee=arguments;return T().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return Q=ee.length>1&&ee[1]!==void 0?ee[1]:"unpublished",me.t0=E,me.next=4,X(pe);case 4:return me.t1=me.sent,me.t2=Q,me.abrupt("return",(0,me.t0)(me.t1,me.t2));case 7:case"end":return me.stop()}},ue)}));return function(ue){return se.apply(this,arguments)}}(),r=function(){var se=(0,d.Z)(T().mark(function ue(pe){return T().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",new Promise(function(){var ee=(0,d.Z)(T().mark(function me(Te,Ue){return T().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(qe.prev=0,!(0,x.y8)(pe)){qe.next=5;break}return qe.next=4,pe;case 4:pe=qe.sent;case 5:pe.toBlob(function(Ae){if(!Ae)return Ue(new F.lp((0,_.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));Te(Ae)}),qe.next=11;break;case 8:qe.prev=8,qe.t0=qe.catch(0),Ue(qe.t0);case 11:case"end":return qe.stop()}},me,null,[[0,8]])}));return function(me,Te){return ee.apply(this,arguments)}}()));case 1:case"end":return Q.stop()}},ue)}));return function(ue){return se.apply(this,arguments)}}(),o=function(){var se=(0,d.Z)(T().mark(function ue(pe){var Q;return T().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.prev=0,ee.t0=window.crypto.subtle,ee.next=4,ie(pe);case 4:return ee.t1=ee.sent,ee.next=7,ee.t0.digest.call(ee.t0,"SHA-1",ee.t1);case 7:return Q=ee.sent,ee.abrupt("return",(0,x.G3)(new Uint8Array(Q)));case 11:return ee.prev=11,ee.t2=ee.catch(0),console.error(ee.t2),ee.abrupt("return",(0,S.x0)(40));case 15:case"end":return ee.stop()}},ue,null,[[0,11]])}));return function(ue){return se.apply(this,arguments)}}(),g=function(){var se=(0,d.Z)(T().mark(function ue(pe){return T().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",new Promise(function(ee,me){var Te=new FileReader;Te.onload=function(){var Ue=Te.result;ee(Ue)},Te.onerror=function(Ue){return me(Ue)},Te.readAsDataURL(pe)}));case 1:case"end":return Q.stop()}},ue)}));return function(ue){return se.apply(this,arguments)}}(),s=function(se){for(var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",pe=se.indexOf(","),Q=atob(se.slice(pe+1)),ee=se.slice(0,pe).split(":")[1].split(";")[0],me=new ArrayBuffer(Q.length),Te=new Uint8Array(me),Ue=0;Ue<Q.length;Ue++)Te[Ue]=Q.charCodeAt(Ue);return new File([me],ue,{type:ee})},u=function(){var se=(0,d.Z)(T().mark(function ue(pe,Q){var ee,me,Te,Ue,qe,Ae;return T().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(pe.type!==c.LO.svg){Oe.next=2;break}return Oe.abrupt("return",pe);case 2:return Oe.next=4,Promise.all([t.e(4736).then(t.t.bind(t,4881,23)).then(function(Ie){return Ie.default}),t.e(4736).then(t.bind(t,5446)).then(function(Ie){return Ie.default})]);case 4:if(ee=Oe.sent,me=(0,w.Z)(ee,2),Te=me[0],Ue=me[1],qe=Ue({pica:Te({features:["js","wasm"]})}),Q.outputType&&(Ae=Q.outputType,qe._create_blob=function(Ie){return this.pica.toBlob(Ie.out_canvas,Ae,.8).then(function(Re){return Ie.out_blob=Re,Ie})}),B(pe)){Oe.next=12;break}throw new Error((0,_.t)("errors.unsupportedFileType"));case 12:return Oe.t0=File,Oe.next=15,qe.toBlob(pe,{max:Q.maxWidthOrHeight});case 15:return Oe.t1=Oe.sent,Oe.t2=[Oe.t1],Oe.t3=pe.name,Oe.t4={type:Q.outputType||pe.type},Oe.abrupt("return",new Oe.t0(Oe.t2,Oe.t3,Oe.t4));case 20:case"end":return Oe.stop()}},ue)}));return function(ue,pe){return se.apply(this,arguments)}}(),k=function(se){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(se)],ue,{type:c.LO.svg})},N=function(){var se=(0,d.Z)(T().mark(function ue(pe){var Q,ee,me,Te,Ue=arguments;return T().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return Q=Ue.length>1&&Ue[1]!==void 0?Ue[1]:"",qe.prev=1,qe.next=4,fetch(pe);case 4:ee=qe.sent,qe.next=10;break;case 7:throw qe.prev=7,qe.t0=qe.catch(1),new Error((0,_.t)("errors.failedToFetchImage"));case 10:if(ee.ok){qe.next=12;break}throw new Error((0,_.t)("errors.failedToFetchImage"));case 12:return qe.next=14,ee.blob();case 14:if(!(me=qe.sent).type||!B(me)){qe.next=18;break}return Te=Q||me.name||"",qe.abrupt("return",new File([me],Te,{type:me.type}));case 18:throw new Error((0,_.t)("errors.unsupportedFileType"));case 19:case"end":return qe.stop()}},ue,null,[[1,7]])}));return function(ue){return se.apply(this,arguments)}}(),W=function(){var se=(0,d.Z)(T().mark(function ue(pe){var Q,ee;return T().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return Q=pe.dataTransfer.files.item(0),me.next=3,O(pe);case 3:if(ee=me.sent,!Q){me.next=10;break}return me.next=7,V(Q);case 7:me.t0=me.sent,me.next=11;break;case 10:me.t0=null;case 11:return me.t1=me.t0,me.t2=ee,me.abrupt("return",{file:me.t1,fileHandle:me.t2});case 14:case"end":return me.stop()}},ue)}));return function(ue){return se.apply(this,arguments)}}(),O=function(){var se=(0,d.Z)(T().mark(function ue(pe){var Q,ee;return T().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(!G.kr){me.next=16;break}return me.prev=1,Q=pe.dataTransfer.items[0],me.next=5,Q.getAsFileSystemHandle();case 5:if(me.t0=me.sent,me.t0){me.next=8;break}me.t0=null;case 8:return ee=me.t0,me.abrupt("return",ee);case 12:return me.prev=12,me.t1=me.catch(1),console.warn(me.t1.name,me.t1.message),me.abrupt("return",null);case 16:return me.abrupt("return",null);case 17:case"end":return me.stop()}},ue,null,[[1,12]])}));return function(ue){return se.apply(this,arguments)}}(),j=function(se){var ue=null,pe="".concat((0,e.Z)(new Uint8Array(se).slice(0,8)).join(" ")," "),Q="255 216 255 ",ee="71 73 70 56 57 97 ";return pe==="137 80 78 71 13 10 26 10 "?ue=c.LO.png:pe.startsWith(Q)?ue=c.LO.jpg:pe.startsWith(ee)&&(ue=c.LO.gif),ue},L=function(se,ue,pe){return new File([se],pe||"",{type:ue})},V=function(){var se=(0,d.Z)(T().mark(function ue(pe){var Q,ee,me,Te,Ue,qe,Ae,Oe;return T().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(pe.type){Ie.next=28;break}if((Q=pe)===null||Q===void 0||(ee=Q.name)===null||ee===void 0||!ee.endsWith(".excalidrawlib")){Ie.next=11;break}return Ie.t0=L,Ie.next=5,ie(pe);case 5:Ie.t1=Ie.sent,Ie.t2=c.LO.excalidrawlib,Ie.t3=pe.name,pe=(0,Ie.t0)(Ie.t1,Ie.t2,Ie.t3),Ie.next=26;break;case 11:if((me=pe)===null||me===void 0||(Te=me.name)===null||Te===void 0||!Te.endsWith(".excalidraw")){Ie.next=21;break}return Ie.t4=L,Ie.next=15,ie(pe);case 15:Ie.t5=Ie.sent,Ie.t6=c.LO.excalidraw,Ie.t7=pe.name,pe=(0,Ie.t4)(Ie.t5,Ie.t6,Ie.t7),Ie.next=26;break;case 21:return Ie.next=23,ie(pe);case 23:Ue=Ie.sent,(qe=j(Ue))&&(pe=L(Ue,qe,pe.name));case 26:Ie.next=34;break;case 28:if(!B(pe)){Ie.next=34;break}return Ie.next=31,ie(pe);case 31:Ae=Ie.sent,(Oe=j(Ae))&&Oe!==pe.type&&(pe=L(Ae,Oe,pe.name));case 34:return Ie.abrupt("return",pe);case 35:case"end":return Ie.stop()}},ue)}));return function(ue){return se.apply(this,arguments)}}(),ie=function(se){return"arrayBuffer"in se?se.arrayBuffer():new Promise(function(ue,pe){var Q=new FileReader;Q.onload=function(ee){var me;if((me=ee.target)===null||me===void 0||!me.result)return pe(new Error("Couldn't convert blob to ArrayBuffer"));ue(ee.target.result)},Q.readAsArrayBuffer(se)})}},6548:function(We,te,t){t.d(te,{I$:function(){return _},NL:function(){return h},kr:function(){return d}});var e=t(1930),w=t(8950),v=t(2975),d=function(){return typeof self>"u"?!1:!("top"in self&&self!==top)&&"showOpenFilePicker"in self?"showOpenFilePicker":!1}(),b=d?t.e(4736).then(t.bind(t,7464)):t.e(4736).then(t.bind(t,3948));function T(){return T=(0,w.Z)(v.mark(function x(){var G,le=arguments;return v.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,b;case 2:return he.abrupt("return",(G=he.sent).default.apply(G,le));case 3:case"end":return he.stop()}},x)})),T.apply(this,arguments)}d?t.e(4736).then(t.bind(t,4036)):t.e(4736).then(t.bind(t,7693));var S=d?t.e(4736).then(t.bind(t,357)):t.e(4736).then(t.bind(t,341));function a(){return a=(0,w.Z)(v.mark(function x(){var G,le=arguments;return v.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,S;case 2:return he.abrupt("return",(G=he.sent).default.apply(G,le));case 3:case"end":return he.stop()}},x)})),a.apply(this,arguments)}var c=t(9937),Z=t(3506),F=t(9827),_=function(x){var G,le,he,ve=(G=x.extensions)===null||G===void 0?void 0:G.reduce(function(X,q){return X.push(c.LO[q]),X},[]),fe=(le=x.extensions)===null||le===void 0?void 0:le.reduce(function(X,q){return q==="jpg"?X.concat(".jpg",".jpeg"):X.concat(".".concat(q))},[]);return function(){return T.apply(this,arguments)}({description:x.description,extensions:fe,mimeTypes:ve,multiple:(he=x.multiple)!==null&&he!==void 0&&he,legacySetup:function(X,q,U){var R=(0,F.Ds)(q,500),B=function(){M(),document.addEventListener(c.Ks.KEYUP,R),document.addEventListener(c.Ks.POINTER_UP,R),R()},M=function(){var E;if((E=U.files)!==null&&E!==void 0&&E.length){var p=x.multiple?(0,e.Z)(U.files):U.files[0];X(p)}};requestAnimationFrame(function(){window.addEventListener(c.Ks.FOCUS,B)});var I=window.setInterval(function(){M()},500);return function(E){clearInterval(I),R.cancel(),window.removeEventListener(c.Ks.FOCUS,B),document.removeEventListener(c.Ks.KEYUP,R),document.removeEventListener(c.Ks.POINTER_UP,R),E&&(console.warn("Opening the file was canceled (legacy-fs)."),E(new Z._L))}}})},h=function(x,G){return function(){return a.apply(this,arguments)}(x,{fileName:"".concat(G.name,".").concat(G.extension),description:G.description,extensions:[".".concat(G.extension)]},G.fileHandle)}},250:function(We,te,t){t.r(te),t.d(te,{decodePngMetadata:function(){return q},decodeSvgMetadata:function(){return R},encodePngMetadata:function(){return X},encodeSvgMetadata:function(){return U},getTEXtChunk:function(){return fe}});var e=t(8950),w=t(2975),v=t.n(w),d=t(2983),b=t.n(d),T=t(1194),S=t(3434),a=t.n(S),c=t(2744),Z=t(9937),F=t(5796),_=function(B){return new Promise(function(M,I){var E=typeof B=="string"?new Blob([new TextEncoder().encode(B)]):new Blob([B instanceof Uint8Array?B:new Uint8Array(B)]),p=new FileReader;p.onload=function(r){if(!r.target||typeof r.target.result!="string")return I(new Error("couldn't convert to byte string"));M(r.target.result)},p.readAsBinaryString(E)})},h=function(B){for(var M=new ArrayBuffer(B.length),I=new Uint8Array(M),E=0,p=B.length;E<p;E++)I[E]=B.charCodeAt(E);return M},x=function(B){return new TextDecoder("utf-8").decode(h(B))},G=function(){var B=(0,e.Z)(v().mark(function M(I){var E=arguments;return v().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(E.length>1&&E[1]!==void 0&&E[1])){p.next=5;break}p.t0=window.btoa(I),p.next=10;break;case 5:return p.t1=window,p.next=8,_(I);case 8:p.t2=p.sent,p.t0=p.t1.btoa.call(p.t1,p.t2);case 10:return p.abrupt("return",p.t0);case 11:case"end":return p.stop()}},M)}));return function(M){return B.apply(this,arguments)}}(),le=function(){var B=(0,e.Z)(v().mark(function M(I){var E,p=arguments;return v().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return E=p.length>1&&p[1]!==void 0&&p[1],r.abrupt("return",E?window.atob(I):x(window.atob(I)));case 2:case"end":return r.stop()}},M)}));return function(M){return B.apply(this,arguments)}}(),he=function(){var B=(0,e.Z)(v().mark(function M(I){var E,p;return v().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(E=I.text,I.compress===!1){r.next=11;break}return r.prev=2,r.next=5,_((0,c.deflate)(E));case 5:p=r.sent,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),console.error("encode: cannot deflate",r.t0);case 11:if(r.t1=!!p,r.t2=p,r.t2){r.next=17;break}return r.next=16,_(E);case 16:r.t2=r.sent;case 17:return r.t3=r.t2,r.abrupt("return",{version:"1",encoding:"bstring",compressed:r.t1,encoded:r.t3});case 19:case"end":return r.stop()}},M,null,[[2,8]])}));return function(M){return B.apply(this,arguments)}}(),ve=function(){var B=(0,e.Z)(v().mark(function M(I){var E;return v().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:p.t0=I.encoding,p.next=p.t0==="bstring"?3:12;break;case 3:if(!I.compressed){p.next=7;break}p.t1=I.encoded,p.next=10;break;case 7:return p.next=9,x(I.encoded);case 9:p.t1=p.sent;case 10:return E=p.t1,p.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(I.encoding,'"'));case 13:if(!I.compressed){p.next=15;break}return p.abrupt("return",(0,c.inflate)(new Uint8Array(h(E)),{to:"string"}));case 15:return p.abrupt("return",E);case 16:case"end":return p.stop()}},M)}));return function(M){return B.apply(this,arguments)}}(),fe=function(){var B=(0,e.Z)(v().mark(function M(I){var E,p;return v().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=b(),r.t1=Uint8Array,r.next=4,(0,F.vZ)(I);case 4:if(r.t2=r.sent,r.t3=new r.t1(r.t2),E=(0,r.t0)(r.t3),!(p=E.find(function(o){return o.name==="tEXt"}))){r.next=10;break}return r.abrupt("return",T.decode(p.data));case 10:return r.abrupt("return",null);case 11:case"end":return r.stop()}},M)}));return function(M){return B.apply(this,arguments)}}(),X=function(){var B=(0,e.Z)(v().mark(function M(I){var E,p,r,o;return v().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return E=I.blob,p=I.metadata,g.t0=b(),g.t1=Uint8Array,g.next=5,(0,F.vZ)(E);case 5:return g.t2=g.sent,g.t3=new g.t1(g.t2),r=(0,g.t0)(g.t3),g.t4=T,g.t5=Z.LO.excalidraw,g.t6=JSON,g.next=13,he({text:p,compress:!0});case 13:return g.t7=g.sent,g.t8=g.t6.stringify.call(g.t6,g.t7),o=g.t4.encode.call(g.t4,g.t5,g.t8),r.splice(-1,0,o),g.abrupt("return",new Blob([a()(r)],{type:Z.LO.png}));case 18:case"end":return g.stop()}},M)}));return function(M){return B.apply(this,arguments)}}(),q=function(){var B=(0,e.Z)(v().mark(function M(I){var E,p;return v().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fe(I);case 2:if(((E=r.sent)==null?void 0:E.keyword)!==Z.LO.excalidraw){r.next=19;break}if(r.prev=4,"encoded"in(p=JSON.parse(E.text))){r.next=10;break}if(!("type"in p)||p.type!==Z.r8.excalidraw){r.next=9;break}return r.abrupt("return",E.text);case 9:throw new Error("FAILED");case 10:return r.next=12,ve(p);case 12:return r.abrupt("return",r.sent);case 15:throw r.prev=15,r.t0=r.catch(4),console.error(r.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return r.stop()}},M,null,[[4,15]])}));return function(M){return B.apply(this,arguments)}}(),U=function(){var B=(0,e.Z)(v().mark(function M(I){var E,p,r;return v().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return E=I.text,o.t0=G,o.t1=JSON,o.next=5,he({text:E});case 5:return o.t2=o.sent,o.t3=o.t1.stringify.call(o.t1,o.t2),o.next=9,(0,o.t0)(o.t3,!0);case 9:return p=o.sent,r="",r+="<!-- payload-type:".concat(Z.LO.excalidraw," -->"),r+="<!-- payload-version:2 -->",r+="<!-- payload-start -->",r+=p,r+="<!-- payload-end -->",o.abrupt("return",r);case 17:case"end":return o.stop()}},M)}));return function(M){return B.apply(this,arguments)}}(),R=function(){var B=(0,e.Z)(v().mark(function M(I){var E,p,r,o,g,s,u;return v().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(!(E=I.svg).includes("payload-type:".concat(Z.LO.excalidraw))){k.next=26;break}if(p=E.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){k.next=5;break}throw new Error("INVALID");case 5:return r=E.match(/<!-- payload-version:(\d+) -->/),o=r?.[1]||"1",g=o!=="1",k.prev=8,k.next=11,le(p[1],g);case 11:if(s=k.sent,"encoded"in(u=JSON.parse(s))){k.next=17;break}if(!("type"in u)||u.type!==Z.r8.excalidraw){k.next=16;break}return k.abrupt("return",s);case 16:throw new Error("FAILED");case 17:return k.next=19,ve(u);case 19:return k.abrupt("return",k.sent);case 22:throw k.prev=22,k.t0=k.catch(8),console.error(k.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return k.stop()}},M,null,[[8,22]])}));return function(M){return B.apply(this,arguments)}}()},2435:function(We,te,t){t.d(te,{HD:function(){return G},Um:function(){return x.Um},cT:function(){return _.cT},n8:function(){return x.n8},p1:function(){return le}});var e=t(8950),w=t(2975),v=t.n(w),d=t(4694),b=t(9937),T=t(7651),S=t(8227),a=t(6013),c=t(4105),Z=t(3668),F=t(9827),_=t(5796),h=t(6548),x=t(4419),G=function(he,ve,fe){var X=ve.selectedElementIds;he=(0,T.Lm)(he);var q=fe&&(0,c.N)(he,{selectedElementIds:X}),U=null,R=q?(0,c.eD)(he,{selectedElementIds:X},{includeBoundTextElement:!0}):he;return q&&(R.length===1&&(0,T.He)(R[0])?(U=R[0],R=(0,a.Xs)({elements:he,bounds:U,type:"overlap"})):R.length>1&&(R=(0,c.eD)(he,{selectedElementIds:X},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:U,exportedElements:(0,F.xU)(R)}},le=function(){var he=(0,e.Z)(v().mark(function ve(fe,X,q,U,R){var B,M,I,E,p,r,o,g,s,u,k,N,W;return v().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(B=R.exportBackground,M=R.exportPadding,I=M===void 0?b.qy:M,E=R.viewBackgroundColor,p=R.name,r=R.fileHandle,o=r===void 0?null:r,g=R.exportingFrame,s=g===void 0?null:g,X.length!==0){O.next=3;break}throw new Error((0,S.t)("alerts.cannotExportEmptyCanvas"));case 3:if(fe!=="svg"&&fe!=="clipboard-svg"){O.next=17;break}return O.next=6,(0,Z.$D)(X,{exportBackground:B,exportWithDarkMode:q.exportWithDarkMode,viewBackgroundColor:E,exportPadding:I,exportScale:q.exportScale,exportEmbedScene:q.exportEmbedScene&&fe==="svg"},U,{exportingFrame:s});case 6:if(u=O.sent,fe!=="svg"){O.next=13;break}return O.next=10,(0,h.NL)(new Blob([u.outerHTML],{type:b.LO.svg}),{description:"Export to SVG",name:p,extension:q.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:o});case 10:return O.abrupt("return",O.sent);case 13:if(fe!=="clipboard-svg"){O.next=17;break}return O.next=16,(0,d.dd)(u.outerHTML);case 16:return O.abrupt("return");case 17:if(k=(0,Z.NL)(X,q,U,{exportBackground:B,viewBackgroundColor:E,exportPadding:I,exportingFrame:s}),fe!=="png"){O.next=33;break}return O.next=21,(0,_._c)(k);case 21:if(N=O.sent,!q.exportEmbedScene){O.next=28;break}return O.next=25,Promise.resolve().then(t.bind(t,250));case 25:return O.next=27,O.sent.encodePngMetadata({blob:N,metadata:(0,x.I_)(X,q,U,"local")});case 27:N=O.sent;case 28:return O.next=30,(0,h.NL)(N,{description:"Export to PNG",name:p,extension:"png",fileHandle:o});case 30:return O.abrupt("return",O.sent);case 33:if(fe!=="clipboard"){O.next=52;break}return O.prev=34,W=(0,_._c)(k),O.next=38,(0,d.uR)(W);case 38:O.next=50;break;case 40:if(O.prev=40,O.t0=O.catch(34),console.warn(O.t0),O.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){O.next=45;break}throw O.t0;case 45:if(!b.vU||O.t0.name!=="TypeError"){O.next=49;break}throw new Error("".concat((0,S.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,S.t)("hints.firefox_clipboard_write")));case 49:throw new Error((0,S.t)("alerts.couldNotCopyToClipboard"));case 50:O.next=53;break;case 52:throw new Error("Unsupported export type");case 53:case"end":return O.stop()}},ve,null,[[34,40]])}));return function(ve,fe,X,q,U){return he.apply(this,arguments)}}()},4419:function(We,te,t){t.d(te,{HT:function(){return he},I_:function(){return h},NI:function(){return ve},Um:function(){return x},dS:function(){return le},n8:function(){return G},t1:function(){return fe}});var e=t(6655),w=t(8950),v=t(2975),d=t.n(v),b=t(6548),T=t(6853),S=t(9937),a=t(7651),c=t(5796);function Z(X,q){var U=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(!U){if(Array.isArray(X)||(U=function(p,r){if(p){if(typeof p=="string")return F(p,r);var o=Object.prototype.toString.call(p).slice(8,-1);if(o==="Object"&&p.constructor&&(o=p.constructor.name),o==="Map"||o==="Set")return Array.from(p);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return F(p,r)}}(X))||q){U&&(X=U);var R=0,B=function(){};return{s:B,n:function(){return R>=X.length?{done:!0}:{done:!1,value:X[R++]}},e:function(p){throw p},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,I=!0,E=!1;return{s:function(){U=U.call(X)},n:function(){var p=U.next();return I=p.done,p},e:function(p){E=!0,M=p},f:function(){try{I||U.return==null||U.return()}finally{if(E)throw M}}}}function F(X,q){(q==null||q>X.length)&&(q=X.length);for(var U=0,R=new Array(q);U<q;U++)R[U]=X[U];return R}var _=function(X,q){var U,R={},B=Z(X);try{for(B.s();!(U=B.n()).done;){var M=U.value;!M.isDeleted&&"fileId"in M&&M.fileId&&q[M.fileId]&&(R[M.fileId]=q[M.fileId])}}catch(I){B.e(I)}finally{B.f()}return R},h=function(X,q,U,R){var B={type:S.r8.excalidraw,version:S.Kr.excalidraw,source:S.pb,elements:R==="local"?(0,a._M)(X):(0,a.BQ)(X),appState:R==="local"?(0,T.s)(q):(0,T.eS)(q),files:R==="local"?_(X,U):void 0};return JSON.stringify(B,null,2)},x=function(){var X=(0,w.Z)(d().mark(function q(U,R,B){var M,I,E;return d().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return M=h(U,R,B,"local"),I=new Blob([M],{type:S.LO.excalidraw}),p.next=4,(0,b.NL)(I,{name:R.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,c.g8)(R.fileHandle)?null:R.fileHandle});case 4:return E=p.sent,p.abrupt("return",{fileHandle:E});case 6:case"end":return p.stop()}},q)}));return function(q,U,R){return X.apply(this,arguments)}}(),G=function(){var X=(0,w.Z)(d().mark(function q(U,R){var B;return d().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,b.I$)({description:"Excalidraw files"});case 2:return B=M.sent,M.t0=c.cT,M.next=6,(0,c.gY)(B);case 6:return M.t1=M.sent,M.t2=U,M.t3=R,M.t4=B.handle,M.abrupt("return",(0,M.t0)(M.t1,M.t2,M.t3,M.t4));case 11:case"end":return M.stop()}},q)}));return function(q,U){return X.apply(this,arguments)}}(),le=function(X){return X?.type===S.r8.excalidraw&&(!X.elements||Array.isArray(X.elements)&&(!X.appState||(0,e.Z)(X.appState)==="object"))},he=function(X){return(0,e.Z)(X)==="object"&&X&&X.type===S.r8.excalidrawLibrary&&(X.version===1||X.version===2)},ve=function(X){var q={type:S.r8.excalidrawLibrary,version:S.Kr.excalidrawLibrary,source:S.pb,libraryItems:X};return JSON.stringify(q,null,2)},fe=function(){var X=(0,w.Z)(d().mark(function q(U){var R;return d().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return R=ve(U),B.next=3,(0,b.NL)(new Blob([R],{type:S.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return B.stop()}},q)}));return function(q){return X.apply(this,arguments)}}()},9326:function(We,te,t){t.d(te,{Di:function(){return r},WV:function(){return p},rF:function(){return R},xS:function(){return o},zh:function(){return I}});var e=t(7169),w=t(8950),v=t(5169),d=t(8821),b=t(1930),T=t(2975),S=t.n(T),a=t(5796),c=t(7994),Z=t(3607),F=t(453),_=t(4949),h=t(3506),x=t(8227),G=t(9787),le=t(9937),he=t(5832),ve=t(9827);function fe(g,s){var u=Object.keys(g);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(g);s&&(k=k.filter(function(N){return Object.getOwnPropertyDescriptor(g,N).enumerable})),u.push.apply(u,k)}return u}function X(g){for(var s=1;s<arguments.length;s++){var u=arguments[s]!=null?arguments[s]:{};s%2?fe(Object(u),!0).forEach(function(k){(0,e.Z)(g,k,u[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(u)):fe(Object(u)).forEach(function(k){Object.defineProperty(g,k,Object.getOwnPropertyDescriptor(u,k))})}return g}function q(g,s){var u=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!u){if(Array.isArray(g)||(u=function(L,V){if(L){if(typeof L=="string")return U(L,V);var ie=Object.prototype.toString.call(L).slice(8,-1);if(ie==="Object"&&L.constructor&&(ie=L.constructor.name),ie==="Map"||ie==="Set")return Array.from(L);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return U(L,V)}}(g))||s){u&&(g=u);var k=0,N=function(){};return{s:N,n:function(){return k>=g.length?{done:!0}:{done:!1,value:g[k++]}},e:function(L){throw L},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W,O=!0,j=!1;return{s:function(){u=u.call(g)},n:function(){var L=u.next();return O=L.done,L},e:function(L){j=!0,W=L},f:function(){try{O||u.return==null||u.return()}finally{if(j)throw W}}}}function U(g,s){(s==null||s>g.length)&&(s=g.length);for(var u=0,k=new Array(s);u<s;u++)k[u]=g[u];return k}var R=(0,Z.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),B=function(g){return(0,ve.xU)(g)},M=function(g,s){return!g.find(function(u){return u.elements.length===s.elements.length&&u.elements.every(function(k,N){return k.id===s.elements[N].id&&k.versionNonce===s.elements[N].versionNonce})})},I=function(g,s){var u,k=[],N=q(s);try{for(N.s();!(u=N.n()).done;){var W=u.value;M(g,W)&&k.push(W)}}catch(O){N.e(O)}finally{N.f()}return[].concat(k,(0,b.Z)(g))},E=(0,v.Z)(function g(s){var u=this;(0,d.Z)(this,g),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return u.updateQueue[u.updateQueue.length-1]},this.notifyListeners=function(){if(u.updateQueue.length>0)F.e_.set(R,{status:"loading",libraryItems:u.lastLibraryItems,isInitialized:u.isInitialized});else{u.isInitialized=!0,F.e_.set(R,{status:"loaded",libraryItems:u.lastLibraryItems,isInitialized:u.isInitialized});try{var k,N;(k=(N=u.app.props).onLibraryChange)===null||k===void 0||k.call(N,B(u.lastLibraryItems))}catch(W){console.error(W)}}},this.destroy=function(){u.isInitialized=!1,u.updateQueue=[],u.lastLibraryItems=[],F.e_.set(he.YX,new Map)},this.resetLibrary=function(){return u.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var k=(0,w.Z)(S().mark(function N(W){var O;return S().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,u.getLastUpdateTask()||u.lastLibraryItems;case 3:O=j.sent,u.updateQueue.length>0?W(u.getLatestLibrary()):W(B(O)),j.next=10;break;case 7:return j.prev=7,j.t0=j.catch(0),j.abrupt("return",W(u.lastLibraryItems));case 10:case"end":return j.stop()}},N,null,[[0,7]])}));return function(N){return k.apply(this,arguments)}}())},this.updateLibrary=function(){var k=(0,w.Z)(S().mark(function N(W){var O,j,L,V,ie,se,ue,pe,Q;return S().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return O=W.libraryItems,j=W.prompt,L=j!==void 0&&j,V=W.merge,ie=V!==void 0&&V,se=W.openLibraryMenu,ue=se!==void 0&&se,pe=W.defaultStatus,Q=pe===void 0?"unpublished":pe,ue&&u.app.setState({openSidebar:{name:le.Cc.name,tab:le.tf}}),ee.abrupt("return",u.setLibrary(function(){return new Promise(function(){var me=(0,w.Z)(S().mark(function Te(Ue,qe){var Ae,Oe;return S().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.prev=0,Ie.next=3,typeof O!="function"||O instanceof Blob?O:O(u.lastLibraryItems);case 3:if(!((Ae=Ie.sent)instanceof Blob)){Ie.next=10;break}return Ie.next=7,(0,a.lV)(Ae,Q);case 7:Oe=Ie.sent,Ie.next=11;break;case 10:Oe=(0,c.wJ)(Ae,Q);case 11:!L||window.confirm((0,x.t)("alerts.confirmAddLibrary",{numShapes:Oe.length}))?(L&&u.app.focusContainer(),Ue(ie?I(u.lastLibraryItems,Oe):Oe)):qe(new h._L),Ie.next=17;break;case 14:Ie.prev=14,Ie.t0=Ie.catch(0),qe(Ie.t0);case 17:case"end":return Ie.stop()}},Te,null,[[0,14]])}));return function(Te,Ue){return me.apply(this,arguments)}}())}));case 3:case"end":return ee.stop()}},N)}));return function(N){return k.apply(this,arguments)}}(),this.setLibrary=function(k){var N=new Promise(function(){var W=(0,w.Z)(S().mark(function O(j,L){return S().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.prev=0,V.next=3,u.getLastUpdateTask();case 3:return typeof k=="function"&&(k=k(u.lastLibraryItems)),V.t0=B,V.next=7,k;case 7:V.t1=V.sent,u.lastLibraryItems=(0,V.t0)(V.t1),j(u.lastLibraryItems),V.next=15;break;case 12:V.prev=12,V.t2=V.catch(0),L(V.t2);case 15:case"end":return V.stop()}},O,null,[[0,12]])}));return function(O,j){return W.apply(this,arguments)}}()).catch(function(W){if(W.name==="AbortError")return console.warn("Library update aborted by user"),u.lastLibraryItems;throw W}).finally(function(){u.updateQueue=u.updateQueue.filter(function(W){return W!==N}),u.notifyListeners()});return u.updateQueue.push(N),u.notifyListeners(),N},this.app=s});te.ZP=E;var p=function(g){var s,u=Math.ceil(Math.sqrt(g.length)),k=[],N=0,W=0,O=0,j=0,L=0,V=0,ie=0,se=q(g);try{var ue=function(){var pe=s.value;L&&L%u==0&&(W+=O+50,N=0,V=0,ie++),V===0&&(O=function(Oe){return g.slice(Oe*u,Oe*u+u).reduce(function(Ie,Re){var ke=(0,_.v2)(Re.elements).height;return Math.max(Ie,ke)},0)}(ie)),j=function(Oe){var Ie,Re=0,ke=0,xe=0,ye=q(g);try{for(ye.s();!(Ie=ye.n()).done;){var P=Ie.value;if(Re%u==0&&(ke=0),ke===Oe){var l=(0,_.v2)(P.elements).width;xe=Math.max(xe,l)}Re++,ke++}}catch(f){ye.e(f)}finally{ye.f()}return xe}(V);var Q=(0,_.v2)(pe.elements),ee=Q.minX,me=Q.minY,Te=Q.width,Ue=Q.height,qe=(j-Te)/2,Ae=(O-Ue)/2;k.push.apply(k,(0,b.Z)(pe.elements.map(function(Oe){return X(X({},Oe),{},{x:Oe.x+N+qe-ee,y:Oe.y+W+Ae-me})}))),N+=j+50,L++,V++};for(se.s();!(s=se.n()).done;)ue()}catch(pe){se.e(pe)}finally{se.f()}return k},r=function(){var g=new URLSearchParams(window.location.hash.slice(1)).get(le.ah.addLibrary)||new URLSearchParams(window.location.search).get(le.UO.addLibrary),s=g?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return g?{libraryUrl:g,idToken:s}:null},o=function(g){var s=g.excalidrawAPI,u=g.getInitialLibraryItems,k=(0,G.useRef)(u);(0,G.useEffect)(function(){if(s){var N=function(){var j=(0,w.Z)(S().mark(function L(V){var ie,se,ue,pe,Q,ee;return S().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return ie=V.libraryUrl,se=V.idToken,ue=new Promise(function(){var Te=(0,w.Z)(S().mark(function Ue(qe,Ae){var Oe,Ie;return S().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.prev=0,Re.next=3,fetch(decodeURIComponent(ie));case 3:return Oe=Re.sent,Re.next=6,Oe.blob();case 6:Ie=Re.sent,qe(Ie),Re.next=13;break;case 10:Re.prev=10,Re.t0=Re.catch(0),Ae(Re.t0);case 13:case"end":return Re.stop()}},Ue,null,[[0,10]])}));return function(Ue,qe){return Te.apply(this,arguments)}}()),pe=se!==s.id,me.next=5,pe&&document.hidden?new Promise(function(Te){window.addEventListener("focus",function(){return Te()},{once:!0})}):null;case 5:return me.prev=5,me.next=8,s.updateLibrary({libraryItems:ue,prompt:pe,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:me.next=13;break;case 10:throw me.prev=10,me.t0=me.catch(5),me.t0;case 13:return me.prev=13,window.location.hash.includes(le.ah.addLibrary)?((Q=new URLSearchParams(window.location.hash.slice(1))).delete(le.ah.addLibrary),window.history.replaceState({},le.iC,"#".concat(Q.toString()))):window.location.search.includes(le.UO.addLibrary)&&((ee=new URLSearchParams(window.location.search)).delete(le.UO.addLibrary),window.history.replaceState({},le.iC,"?".concat(ee.toString()))),me.finish(13);case 16:case"end":return me.stop()}},L,null,[[5,10,13,16]])}));return function(L){return j.apply(this,arguments)}}(),W=function(j){j.preventDefault();var L=r();L&&(j.stopImmediatePropagation(),window.history.replaceState({},"",j.oldURL),N(L))};k.current&&s.updateLibrary({libraryItems:k.current()});var O=r();return O&&N(O),window.addEventListener(le.Ks.HASHCHANGE,W),function(){window.removeEventListener(le.Ks.HASHCHANGE,W)}}},[s])}},7994:function(We,te,t){t.d(te,{ET:function(){return B},lY:function(){return E},nu:function(){return p},wJ:function(){return o}});var e=t(2577),w=t(7169),v=t(7651),d=t(4183),b=t(4643),T=t(9937),S=t(6853),a=t(7422),c=t(583),Z=t(9827),F=t(4761),_=t(8020);function h(g,s){var u=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!u){if(Array.isArray(g)||(u=function(L,V){if(L){if(typeof L=="string")return x(L,V);var ie=Object.prototype.toString.call(L).slice(8,-1);if(ie==="Object"&&L.constructor&&(ie=L.constructor.name),ie==="Map"||ie==="Set")return Array.from(L);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return x(L,V)}}(g))||s){u&&(g=u);var k=0,N=function(){};return{s:N,n:function(){return k>=g.length?{done:!0}:{done:!1,value:g[k++]}},e:function(L){throw L},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W,O=!0,j=!1;return{s:function(){u=u.call(g)},n:function(){var L=u.next();return O=L.done,L},e:function(L){j=!0,W=L},f:function(){try{O||u.return==null||u.return()}finally{if(j)throw W}}}}function x(g,s){(s==null||s>g.length)&&(s=g.length);for(var u=0,k=new Array(s);u<s;u++)k[u]=g[u];return k}function G(g,s){var u=Object.keys(g);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(g);s&&(k=k.filter(function(N){return Object.getOwnPropertyDescriptor(g,N).enumerable})),u.push.apply(u,k)}return u}function le(g){for(var s=1;s<arguments.length;s++){var u=arguments[s]!=null?arguments[s]:{};s%2?G(Object(u),!0).forEach(function(k){(0,w.Z)(g,k,u[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(u)):G(Object(u)).forEach(function(k){Object.defineProperty(g,k,Object.getOwnPropertyDescriptor(u,k))})}return g}var he={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1},ve=function(g){return Object.keys(T.ut).includes(g)?T.ut[g]:T.rk},fe=function(g){return g?le(le({},g),{},{focus:g.focus||0}):null},X=function(g,s){var u,k,N,W,O,j,L,V,ie,se,ue,pe,Q,ee,me={type:s.type||g.type,version:g.version||1,versionNonce:(u=g.versionNonce)!==null&&u!==void 0?u:0,isDeleted:(k=g.isDeleted)!==null&&k!==void 0&&k,id:g.id||(0,b.kb)(),fillStyle:g.fillStyle||T.HN.fillStyle,strokeWidth:g.strokeWidth||T.HN.strokeWidth,strokeStyle:(N=g.strokeStyle)!==null&&N!==void 0?N:T.HN.strokeStyle,roughness:(W=g.roughness)!==null&&W!==void 0?W:T.HN.roughness,opacity:g.opacity==null?T.HN.opacity:g.opacity,angle:g.angle||0,x:(O=(j=s.x)!==null&&j!==void 0?j:g.x)!==null&&O!==void 0?O:0,y:(L=(V=s.y)!==null&&V!==void 0?V:g.y)!==null&&L!==void 0?L:0,strokeColor:g.strokeColor||T.HN.strokeColor,backgroundColor:g.backgroundColor||T.HN.backgroundColor,width:g.width||0,height:g.height||0,seed:(ie=g.seed)!==null&&ie!==void 0?ie:1,groupIds:(se=g.groupIds)!==null&&se!==void 0?se:[],frameId:(ue=g.frameId)!==null&&ue!==void 0?ue:null,roundness:g.roundness?g.roundness:g.strokeSharpness==="round"?{type:(0,d.QI)(g.type)?T.a6.LEGACY:T.a6.PROPORTIONAL_RADIUS}:null,boundElements:g.boundElementIds?g.boundElementIds.map(function(Te){return{type:"arrow",id:Te}}):(pe=g.boundElements)!==null&&pe!==void 0?pe:[],updated:(Q=g.updated)!==null&&Q!==void 0?Q:(0,Z.C3)(),link:g.link?(0,_.$u)(g.link):null,locked:(ee=g.locked)!==null&&ee!==void 0&&ee};return"customData"in g&&(me.customData=g.customData),T.WR in g&&(me[T.WR]=g[T.WR]),le(le(le({},me),(0,v.Qp)(me)),s)},q=function(g,s){if(g.boundElements){var u=g.boundElements.slice(),k=new Set;g.boundElements=u.reduce(function(N,W){var O=s.get(W.id);if(O&&!k.has(W.id)){if(k.add(W.id),O.isDeleted)return N;N.push(W),(0,d.iB)(O)&&!O.containerId&&(O.containerId=g.id)}return N},[])}},U=function(g,s){var u=g.containerId?s.get(g.containerId):null;if(u){if(!g.isDeleted&&u.boundElements&&!u.boundElements.find(function(N){return N.id===g.id})){var k=(u.boundElements||(u.boundElements=[])).slice();k.push({type:"text",id:g.id}),u.boundElements=k}}else g.containerId=null},R=function(g,s){g.frameId&&(s.get(g.frameId)||(g.frameId=null))},B=function(g,s,u){var k=new Set,N=s?(0,Z.xn)(s):null,W=(g||[]).reduce(function(ie,se){if(se.type!=="selection"&&!(0,v.QD)(se)){var ue=function(Q){var ee,me,Te=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(Q.type){case"text":var Ue=Q.fontSize,qe=Q.fontFamily;if("font"in Q){var Ae=Q.font.split(" "),Oe=(0,e.Z)(Ae,2),Ie=Oe[0],Re=Oe[1];Ue=parseFloat(Ie),qe=ve(Re)}var ke=typeof Q.text=="string"&&Q.text||"",xe=Q.lineHeight||(Q.height?(0,F.$2)(Q):(0,F.PT)(Q.fontFamily)),ye=(0,F.R8)(Q.text,(0,Z.mO)(Q),xe);return Q=X(Q,{fontSize:Ue,fontFamily:qe,text:ke,textAlign:Q.textAlign||T.Hg,verticalAlign:Q.verticalAlign||T.hs,containerId:(ee=Q.containerId)!==null&&ee!==void 0?ee:null,originalText:Q.originalText||ke,lineHeight:xe,baseline:ye}),ke||Q.isDeleted||(Q=le(le({},Q),{},{originalText:ke,isDeleted:!0}),Q=(0,c.ZP)(Q)),Te&&(Q=le(le({},Q),(0,v.JZ)(Q))),Q;case"freedraw":return X(Q,{points:Q.points,lastCommittedPoint:null,simulatePressure:Q.simulatePressure,pressures:Q.pressures});case"image":return X(Q,{status:Q.status||"pending",fileId:Q.fileId,scale:Q.scale||[1,1]});case"line":case"draw":case"arrow":var P=Q,l=P.startArrowhead,f=l===void 0?null:l,D=P.endArrowhead,H=D===void 0?Q.type==="arrow"?"arrow":null:D,J=Q.x,re=Q.y,ae=!Array.isArray(Q.points)||Q.points.length<2?[[0,0],[Q.width,Q.height]]:Q.points;if(ae[0][0]!==0||ae[0][1]!==0){var ge=a._.getNormalizedPoints(Q);ae=ge.points,J=ge.x,re=ge.y}return X(Q,{type:Q.type==="draw"?"line":Q.type,startBinding:fe(Q.startBinding),endBinding:fe(Q.endBinding),lastCommittedPoint:null,startArrowhead:f,endArrowhead:H,points:ae,x:J,y:re});case"ellipse":case"rectangle":case"diamond":return X(Q,{});case"embeddable":return X(Q,{validated:null});case"frame":return X(Q,{name:(me=Q.name)!==null&&me!==void 0?me:null})}return null}(se,u?.refreshDimensions);if(ue){var pe=N?.get(se.id);pe&&pe.version>ue.version&&(ue=(0,c.ZP)(ue,pe.version)),k.has(ue.id)&&(ue=le(le({},ue),{},{id:(0,b.kb)()})),k.add(ue.id),ie.push(ue)}}return ie},[]);if(u==null||!u.repairBindings)return W;var O,j=(0,Z.xn)(W),L=h(W);try{for(L.s();!(O=L.n()).done;){var V=O.value;V.frameId&&R(V,j),(0,d.iB)(V)&&V.containerId?U(V,j):V.boundElements&&q(V,j)}}catch(ie){L.e(ie)}finally{L.f()}return W},M=function(g,s,u){var k=s[g];return k!==void 0?k:u[g]},I={isSidebarDocked:function(g,s){var u;return["defaultSidebarDockedPreference",(u=g.isSidebarDocked)!==null&&u!==void 0?u:M("defaultSidebarDockedPreference",g,s)]}},E=function(g,s){var u,k,N,W;g=g||{};for(var O=(0,S.im)(),j={},L=0,V=Object.keys(I);L<V.length;L++){var ie=V[L];if(ie in g){var se=I[ie](g,O),ue=(0,e.Z)(se,2),pe=ue[0],Q=ue[1];j[pe]=Q}}for(var ee=0,me=Object.entries(O);ee<me.length;ee++){var Te=(0,e.Z)(me[ee],2),Ue=Te[0],qe=Te[1],Ae=g[Ue],Oe=s?s[Ue]:void 0;j[Ue]=Ae!==void 0?Ae:Oe!==void 0?Oe:qe}return le(le({},j),{},{cursorButton:s?.cursorButton||"up",penDetected:(u=s?.penDetected)!==null&&u!==void 0?u:!!g.penMode&&(k=g.penDetected)!==null&&k!==void 0&&k,activeTool:le(le({},(0,Z.Om)(O,j.activeTool.type&&he[j.activeTool.type]?j.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(N=j.activeTool.locked)!==null&&N!==void 0&&N}),zoom:typeof g.zoom=="number"?{value:g.zoom}:(W=g.zoom)!==null&&W!==void 0&&W.value?g.zoom:O.zoom,openSidebar:typeof g.openSidebar=="string"?{name:T.Cc.name}:j.openSidebar})},p=function(g,s,u,k){return{elements:B(g?.elements,u,k),appState:E(g?.appState,s||null),files:g?.files||{}}},r=function(g){var s=B((0,v.Lm)(g.elements),null);return s.length?le(le({},g),{},{elements:s}):null},o=function(){var g,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0,k=[],N=h(s);try{for(N.s();!(g=N.n()).done;){var W=g.value;if(Array.isArray(W)){var O=r({status:u,elements:W,id:(0,b.kb)(),created:Date.now()});O&&k.push(O)}else{var j=W,L=r(le(le({},j),{},{id:j.id||(0,b.kb)(),status:j.status||u,created:j.created||Date.now()}));L&&k.push(L)}}}catch(V){N.e(V)}finally{N.f()}return k}},6199:function(We,te,t){t.d(te,{w:function(){return R}});var e=t(2577),w=t(5169),v=t(8821),d=t(7169),b=t(9937),T=t(7651),S=t(9645),a=t(5742),c=t(4761),Z=t(9827),F=t(5999),_=t(4643);function h(B,M){var I=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!I){if(Array.isArray(B)||(I=function(s,u){if(s){if(typeof s=="string")return x(s,u);var k=Object.prototype.toString.call(s).slice(8,-1);if(k==="Object"&&s.constructor&&(k=s.constructor.name),k==="Map"||k==="Set")return Array.from(s);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return x(s,u)}}(B))||M){I&&(B=I);var E=0,p=function(){};return{s:p,n:function(){return E>=B.length?{done:!0}:{done:!1,value:B[E++]}},e:function(s){throw s},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,o=!0,g=!1;return{s:function(){I=I.call(B)},n:function(){var s=I.next();return o=s.done,s},e:function(s){g=!0,r=s},f:function(){try{o||I.return==null||I.return()}finally{if(g)throw r}}}}function x(B,M){(M==null||M>B.length)&&(M=B.length);for(var I=0,E=new Array(M);I<M;I++)E[I]=B[I];return E}function G(B,M){var I=Object.keys(B);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(B);M&&(E=E.filter(function(p){return Object.getOwnPropertyDescriptor(B,p).enumerable})),I.push.apply(I,E)}return I}function le(B){for(var M=1;M<arguments.length;M++){var I=arguments[M]!=null?arguments[M]:{};M%2?G(Object(I),!0).forEach(function(E){(0,d.Z)(B,E,I[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(I)):G(Object(I)).forEach(function(E){Object.defineProperty(B,E,Object.getOwnPropertyDescriptor(I,E))})}return B}var he=100,ve=0,fe=100,X=function(B,M){var I=(0,a.VL)(le(le({x:0,y:0,textAlign:b.I8.CENTER,verticalAlign:b.oX.MIDDLE},M),{},{containerId:B.id,strokeColor:M.strokeColor||B.strokeColor}));return Object.assign(B,{boundElements:(B.boundElements||[]).concat({type:"text",id:I.id})}),(0,T.oN)(I,B),[B,I]},q=function(B,M,I,E){var p,r;if(Object.assign(B,{startBinding:B?.startBinding||null,endBinding:B.endBinding||null}),M){var o,g,s,u=(o=M?.width)!==null&&o!==void 0?o:fe,k=(g=M?.height)!==null&&g!==void 0?g:fe;M.id&&((s=E.getElement(M.id))||console.error("No element for start binding with id ".concat(M.id," found")));var N=M.x||B.x-u,W=M.y||B.y-k/2,O=s?s.type:M.type;if(O){if(O==="text"){var j="";s&&s.type==="text"?j=s.text:M.type==="text"&&(j=M.text),j||console.error("No text found for start binding text element for ".concat(B.id)),p=(0,a.VL)(le(le(le({x:N,y:W,type:"text"},s),M),{},{text:j})),Object.assign(p,{x:M.x||B.x-p.width,y:M.y||B.y-p.height/2})}else switch(O){case"rectangle":case"ellipse":case"diamond":p=(0,T.Up)(le(le(le({x:N,y:W,width:u,height:k},s),M),{},{type:O}));break;default:(0,Z.vE)(B,'Unhandled element start type "'.concat(M.type,'"'),!0)}(0,S.UZ)(B,p,"start")}}if(I){var L,V,ie,se=(L=I?.height)!==null&&L!==void 0?L:fe,ue=(V=I?.width)!==null&&V!==void 0?V:fe;I.id&&((ie=E.getElement(I.id))||console.error("No element for end binding with id ".concat(I.id," found")));var pe=I.x||B.x+B.width,Q=I.y||B.y-se/2,ee=ie?ie.type:I.type;if(ee){if(ee==="text"){var me="";ie&&ie.type==="text"?me=ie.text:I.type==="text"&&(me=I.text),me||console.error("No text found for end binding text element for ".concat(B.id)),r=(0,a.VL)(le(le(le({x:pe,y:Q,type:"text"},ie),I),{},{text:me})),Object.assign(r,{y:I.y||B.y-r.height/2})}else switch(ee){case"rectangle":case"ellipse":case"diamond":r=(0,T.Up)(le(le(le({x:pe,y:Q,width:ue,height:se},ie),I),{},{type:ee}));break;default:(0,Z.vE)(B,'Unhandled element end type "'.concat(ee,'"'),!0)}(0,S.UZ)(B,r,"end")}}var Te=B.points.length-1,Ue=.5,qe=(0,Z.xU)(B.points);return B.points[Te][0]>B.points[Te-1][0]&&(qe[0][0]=Ue,qe[Te][0]-=Ue),B.points[Te][0]<B.points[Te-1][0]&&(qe[0][0]=-.5,qe[Te][0]+=Ue),B.points[Te][1]>B.points[Te-1][1]&&(qe[0][1]=Ue,qe[Te][1]-=Ue),B.points[Te][1]<B.points[Te-1][1]&&(qe[0][1]=-.5,qe[Te][1]+=Ue),Object.assign(B,{points:qe}),{linearElement:B,startBoundElement:p,endBoundElement:r}},U=(0,w.Z)(function B(){var M=this;(0,v.Z)(this,B),this.excalidrawElements=new Map,this.add=function(I){I&&M.excalidrawElements.set(I.id,I)},this.getElements=function(){return Array.from(M.excalidrawElements.values())},this.getElement=function(I){return M.excalidrawElements.get(I)}}),R=function(B,M){if(!B)return[];var I,E=(0,Z.xU)(B),p=new U,r=new Map,o=new Map,g=h(E);try{for(g.s();!(I=g.n()).done;){var s=I.value,u=void 0,k=s.id;switch(M?.regenerateIds!==!1&&Object.assign(s,{id:(0,_.kb)()}),s.type){case"rectangle":case"ellipse":case"diamond":var N,W,O=s!=null&&(N=s.label)!==null&&N!==void 0&&N.text&&s.width===void 0?0:s?.width||fe,j=s!=null&&(W=s.label)!==null&&W!==void 0&&W.text&&s.height===void 0?0:s?.height||fe;u=(0,T.Up)(le(le({},s),{},{width:O,height:j}));break;case"line":var L=s.width||he,V=s.height||ve;u=(0,T.y8)(le({width:L,height:V,points:[[0,0],[L,V]]},s));break;case"arrow":var ie=s.width||he,se=s.height||ve;u=(0,T.y8)(le({width:ie,height:se,endArrowhead:"arrow",points:[[0,0],[ie,se]]},s)),Object.assign(u,(0,F.k)(u.points));break;case"text":var ue,pe=s?.fontFamily||b.rk,Q=s?.fontSize||b.n5,ee=s?.lineHeight||(0,c.PT)(pe),me=(ue=s.text)!==null&&ue!==void 0?ue:"",Te=(0,c.bG)(me),Ue=(0,c.X1)(Te,(0,Z.mO)({fontFamily:pe,fontSize:Q}),ee);u=(0,a.VL)(le({width:Ue.width,height:Ue.height,fontFamily:pe,fontSize:Q},s));break;case"image":u=(0,a.vw)(le({width:s?.width||fe,height:s?.height||fe},s));break;case"frame":u=(0,a.M3)(le({x:0,y:0},s));break;case"freedraw":case"embeddable":u=s;break;default:u=s,(0,Z.vE)(s,'Unhandled element type "'.concat(s.type,'"'),!0)}p.getElement(u.id)?console.error("Duplicate id found for ".concat(u.id)):(p.add(u),r.set(u.id,s),k&&o.set(k,u.id))}}catch(bt){g.e(bt)}finally{g.f()}var qe,Ae=h(r);try{for(Ae.s();!(qe=Ae.n()).done;){var Oe=(0,e.Z)(qe.value,2),Ie=Oe[0],Re=Oe[1],ke=p.getElement(Ie);switch(Re.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var xe;if((xe=Re.label)!==null&&xe!==void 0&&xe.text){var ye=X(ke,Re?.label),P=(0,e.Z)(ye,2),l=P[0],f=P[1];if(p.add(l),p.add(f),l.type==="arrow"){var D=Re.type==="arrow"?Re?.start:void 0,H=Re.type==="arrow"?Re?.end:void 0;if(D&&D.id){var J=o.get(D.id);J&&Object.assign(D,{id:J})}if(H&&H.id){var re=o.get(H.id);re&&Object.assign(H,{id:re})}var ae=q(l,D,H,p),ge=ae.linearElement,_e=ae.startBoundElement,ze=ae.endBoundElement;l=ge,p.add(ge),p.add(_e),p.add(ze)}}else if(Re.type==="arrow"){var Je=Re.start,et=Re.end;if(Je&&Je.id){var Ke=o.get(Je.id);Object.assign(Je,{id:Ke})}if(et&&et.id){var tt=o.get(et.id);Object.assign(et,{id:tt})}var ut=q(ke,Je,et,p),ht=ut.linearElement,He=ut.startBoundElement,Ee=ut.endBoundElement;p.add(ht),p.add(He),p.add(Ee)}}}}catch(bt){Ae.e(bt)}finally{Ae.f()}var Le,Qe=h(r);try{var ct=function(){var bt=(0,e.Z)(Le.value,2),wt=bt[0],zt=bt[1];if(zt.type!=="frame")return"continue";var Mt=p.getElement(wt);if(!Mt)throw new Error("Excalidraw element with id ".concat(wt," doesn't exist"));var Zt=[];zt.children.forEach(function(At){var Wt,Kt=o.get(At);if(!Kt)throw new Error("Element with ".concat(At," wasn't mapped correctly"));var an=p.getElement(Kt);if(!an)throw new Error("Frame element with id ".concat(Kt," doesn't exist"));Object.assign(an,{frameId:Mt.id}),an==null||(Wt=an.boundElements)===null||Wt===void 0||Wt.forEach(function(bn){var hn=p.getElement(bn.id);if(!hn)throw new Error("Bound element with id ".concat(bn.id," doesn't exist"));Object.assign(hn,{frameId:Mt.id}),Zt.push(hn)}),Zt.push(an)});var sn=(0,T.KP)(Zt),rn=(0,e.Z)(sn,4),Xt=rn[0],on=rn[1],jn=rn[2],It=rn[3];Xt-=10,on-=10,jn+=10,It+=10;var kt=Math.max(Mt?.width,jn-Xt),Ht=Math.max(Mt?.height,It-on);Object.assign(Mt,{x:Xt,y:on,width:kt,height:Ht})};for(Qe.s();!(Le=Qe.n()).done;)ct()}catch(bt){Qe.e(bt)}finally{Qe.f()}return p.getElements()}},8020:function(We,te,t){t.d(te,{$u:function(){return v},q$:function(){return d},tO:function(){return w},ye:function(){return b}});var e=t(5779),w=function(T){return T.replace(/"/g,"&quot;")},v=function(T){return(T=T.trim())?(0,e.N)(w(T)):T},d=function(T){return!!(T!=null&&T.includes(location.origin)||T!=null&&T.startsWith("/"))},b=function(T){if((T=v(T)).startsWith("/"))return"".concat(location.origin).concat(T);try{new URL(T)}catch{return"about:blank"}return T}},5992:function(We,te,t){t.d(te,{rj:function(){return se},nW:function(){return Q},nz:function(){return me},sw:function(){return Ue},lV:function(){return ke},Ni:function(){return Ae},wq:function(){return qe},Pp:function(){return Ie}});var e=t(7169),w=t(2577),v=t(9827),d=t(761),b=t(583),T=t(2767),S=t(1512),a=t(8935),c=t(8227),Z=t(9787),F=t(45),_=t(5491),h=t(9660),x=t(2361),G=t(9937),le=t(8925),he=t(4105),ve=t(3528),fe=t(7651),X=t(8020),q=t(3379),U=t.n(q),R=t(7795),B=t.n(R),M=t(569),I=t.n(M),E=t(3565),p=t.n(E),r=t(9216),o=t.n(r),g=t(4589),s=t.n(g),u=t(5260),k={};k.styleTagTransform=s(),k.setAttributes=p(),k.insert=I().bind(null,"head"),k.domAPI=B(),k.insertStyleElement=o(),U()(u.Z,k),u.Z&&u.Z.locals&&u.Z.locals;var N=t(3646),W=t(8242),O=t(4183),j=t(2921),L=t(4512);function V(ye,P){var l=Object.keys(ye);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(ye);P&&(f=f.filter(function(D){return Object.getOwnPropertyDescriptor(ye,D).enumerable})),l.push.apply(l,f)}return l}function ie(ye){for(var P=1;P<arguments.length;P++){var l=arguments[P]!=null?arguments[P]:{};P%2?V(Object(l),!0).forEach(function(f){(0,e.Z)(ye,f,l[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(l)):V(Object(l)).forEach(function(f){Object.defineProperty(ye,f,Object.getOwnPropertyDescriptor(l,f))})}return ye}var se=document.createElement("img");se.src="data:".concat(G.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var ue=!1,pe=new Map,Q=function(ye){var P=ye.element,l=ye.setAppState,f=ye.onLinkOpen,D=ye.setToast,H=(0,W.gF)(),J=(0,W.hY)(),re=P.link||"",ae=(0,Z.useState)(re),ge=(0,w.Z)(ae,2),_e=ge[0],ze=ge[1],Je=(0,Z.useRef)(null),et=H.showHyperlinkPopup==="editor",Ke=(0,Z.useCallback)(function(){if(Je.current){var Ee=(0,X.$u)(Je.current.value)||null;if(!P.link&&Ee&&(0,N.L)("hyperlink","create"),(0,O.gs)(P)){var Le;if(((Le=H.activeEmbeddable)===null||Le===void 0?void 0:Le.element)===P&&l({activeEmbeddable:null}),!Ee)return void(0,b.DR)(P,{validated:!1,link:null});if((0,d.xm)(Ee,J.validateEmbeddable)){var Qe=P.width,ct=P.height,bt=(0,d.LM)(Ee);bt!=null&&bt.warning&&D({message:bt.warning,closable:!0});var wt=bt?bt.aspectRatio.w/bt.aspectRatio.h:1,zt=pe.get(P.id)!==P.link;(0,b.DR)(P,ie(ie({},zt?{width:bt?.type==="video"?Qe>ct?Qe:ct*wt:Qe,height:bt?.type==="video"&&Qe>ct?Qe/wt:ct}:{}),{},{validated:!0,link:Ee})),j.R.delete(P),pe.has(P.id)&&pe.delete(P.id)}else Ee&&D({message:(0,c.t)("toast.unableToEmbed"),closable:!0}),P.link&&pe.set(P.id,P.link),(0,b.DR)(P,{validated:!1,link:Ee}),j.R.delete(P)}else(0,b.DR)(P,{link:Ee})}},[P,D,J.validateEmbeddable,H.activeEmbeddable,l]);(0,Z.useLayoutEffect)(function(){return function(){Ke()}},[Ke]),(0,Z.useEffect)(function(){var Ee=null,Le=function(Qe){et||(Ee&&clearTimeout(Ee),xe(P,H,[Qe.clientX,Qe.clientY])&&(Ee=window.setTimeout(function(){l({showHyperlinkPopup:!1})},500)))};return window.addEventListener(G.Ks.POINTER_MOVE,Le,!1),function(){window.removeEventListener(G.Ks.POINTER_MOVE,Le,!1),Ee&&clearTimeout(Ee)}},[H,P,et,l]);var tt=(0,Z.useCallback)(function(){(0,N.L)("hyperlink","delete"),(0,b.DR)(P,{link:null}),et&&(Je.current.value=""),l({showHyperlinkPopup:!1})},[l,P,et]),ut=ee(P,H),ht=ut.x,He=ut.y;return H.draggingElement||H.resizingElement||H.isRotating||H.openMenu||H.viewModeEnabled?null:(0,L.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(He,"px"),left:"".concat(ht,"px"),width:320,padding:5},onClick:function(){P.link||et||l({showHyperlinkPopup:"editor"})},children:[et?(0,L.jsx)("input",{className:(0,F.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:Je,value:_e,onChange:function(Ee){return ze(Ee.target.value)},autoFocus:!0,onKeyDown:function(Ee){Ee.stopPropagation(),Ee[_.tW.CTRL_OR_CMD]&&Ee.key===_.tW.K&&Ee.preventDefault(),Ee.key!==_.tW.ENTER&&Ee.key!==_.tW.ESCAPE||(Ke(),l({showHyperlinkPopup:"info"}))}}):P.link?(0,L.jsx)("a",{href:(0,X.$u)(P.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,X.q$)(P.link)?"_self":"_blank",onClick:function(Ee){if(P.link&&f){var Le=(0,v.ag)(G.Ks.EXCALIDRAW_LINK,Ee.nativeEvent);f(ie(ie({},P),{},{link:(0,X.$u)(P.link)}),Le),Le.defaultPrevented&&Ee.preventDefault()}},rel:"noopener noreferrer",children:P.link}):(0,L.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:(0,c.t)("labels.link.empty")}),(0,L.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!et&&(0,L.jsx)(S.V,{type:"button",title:(0,c.t)("buttons.edit"),"aria-label":(0,c.t)("buttons.edit"),label:(0,c.t)("buttons.edit"),onClick:function(){(0,N.L)("hyperlink","edit","popup-ui"),l({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:a.Pm}),re&&!(0,O.gs)(P)&&(0,L.jsx)(S.V,{type:"button",title:(0,c.t)("buttons.remove"),"aria-label":(0,c.t)("buttons.remove"),label:(0,c.t)("buttons.remove"),onClick:tt,className:"excalidraw-hyperlinkContainer--remove",icon:a.XH})]})]})},ee=function(ye,P){var l=(0,fe.qf)(ye),f=(0,w.Z)(l,2),D=f[0],H=f[1],J=(0,v._i)({sceneX:D+ye.width/2,sceneY:H},P),re=J.x,ae=J.y;return{x:re-P.offsetLeft-160,y:ae-P.offsetTop-85}},me=(0,T.z)({name:"hyperlink",perform:function(ye,P){return P.showHyperlinkPopup!=="editor"&&{elements:ye,appState:ie(ie({},P),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(ye){return ye[_.tW.CTRL_OR_CMD]&&ye.key===_.tW.K},contextItemLabel:function(ye,P){return Te(ye,P)},predicate:function(ye,P){return(0,he.eD)(ye,P).length===1},PanelComponent:function(ye){var P=ye.elements,l=ye.appState,f=ye.updateData,D=(0,he.eD)(P,l);return(0,L.jsx)(S.V,{type:"button",icon:a.xP,"aria-label":(0,c.t)(Te(P,l)),title:"".concat((0,O.gs)(P[0])?(0,c.t)("labels.link.labelEmbed"):(0,c.t)("labels.link.label")," - ").concat((0,v.uY)("CtrlOrCmd+K")),onClick:function(){return f(null)},selected:D.length===1&&!!D[0].link})}}),Te=function(ye,P){var l=(0,he.eD)(ye,P);return l[0].link?(0,O.gs)(l[0])?"labels.link.editEmbed":"labels.link.edit":(0,O.gs)(l[0])?"labels.link.createEmbed":"labels.link.create"},Ue=function(ye,P,l){var f=(0,w.Z)(ye,4),D=f[0],H=f[1],J=f[2],re=f[3],ae=h.Dn,ge=ae/l.zoom.value,_e=ae/l.zoom.value,ze=ae/l.zoom.value,Je=(D+J)/2,et=(H+re)/2,Ke=(ae-8)/(2*l.zoom.value),tt=4/l.zoom.value,ut=J+tt-Ke,ht=H-tt-ze+Ke,He=(0,x.U1)(ut+ge/2,ht+_e/2,Je,et,P),Ee=(0,w.Z)(He,2);return[Ee[0]-ge/2,Ee[1]-_e/2,ge,_e]},qe=function(ye,P,l){var f=(0,w.Z)(l,2),D=f[0],H=f[1],J=4/P.zoom.value,re=(0,fe.qf)(ye),ae=(0,w.Z)(re,4),ge=ae[0],_e=ae[1],ze=ae[2],Je=ae[3],et=Ue([ge,_e,ze,Je],ye.angle,P),Ke=(0,w.Z)(et,4),tt=Ke[0],ut=Ke[1],ht=Ke[2],He=Ke[3];return D>tt-J&&D<tt+J+ht&&H>ut-J&&H<ut+He+J},Ae=function(ye,P,l,f){var D=(0,w.Z)(l,2),H=D[0],J=D[1];if(!ye.link||P.selectedElementIds[ye.id])return!1;var re=4/P.zoom.value;return!(f||!P.viewModeEnabled||!(0,ve.pX)(ye,[H,J],re,null))||qe(ye,P,[H,J])},Oe=null,Ie=function(ye,P){Oe&&clearTimeout(Oe),Oe=window.setTimeout(function(){return Re(ye,P)},G.sA)},Re=function(ye,P){if(ye.link){var l=(0,le.bK)();l.classList.add("excalidraw-tooltip--visible"),l.style.maxWidth="20rem",l.textContent=ye.link;var f=(0,fe.qf)(ye),D=(0,w.Z)(f,4),H=D[0],J=D[1],re=D[2],ae=D[3],ge=Ue([H,J,re,ae],ye.angle,P),_e=(0,w.Z)(ge,4),ze=_e[0],Je=_e[1],et=_e[2],Ke=_e[3],tt=(0,v._i)({sceneX:ze,sceneY:Je},P);(0,le.Js)(l,{left:tt.x,top:tt.y,width:et,height:Ke},"top"),(0,N.L)("hyperlink","tooltip","link-icon"),ue=!0}},ke=function(){Oe&&clearTimeout(Oe),ue&&(ue=!1,(0,le.bK)().classList.remove("excalidraw-tooltip--visible"))},xe=function(ye,P,l){var f=(0,w.Z)(l,2),D=f[0],H=f[1],J=(0,v.dE)({clientX:D,clientY:H},P),re=J.x,ae=J.y,ge=15/P.zoom.value;if((0,ve.pX)(ye,[re,ae],ge,null))return!1;var _e=(0,fe.qf)(ye),ze=(0,w.Z)(_e,3),Je=ze[0],et=ze[1],Ke=ze[2];if(re>=Je&&re<=Ke&&ae>=et-85&&ae<=et)return!1;var tt=ee(ye,P),ut=tt.x,ht=tt.y;return!(D>=ut-ge&&D<=ut+320+10+ge&&H>=ht-ge&&H<=ht+ge+10+42)}},9645:function(We,te,t){t.d(te,{$q:function(){return ie},DK:function(){return R},H:function(){return B},HG:function(){return le},N1:function(){return x},R:function(){return X},UZ:function(){return q},Ww:function(){return p},Y9:function(){return I},ZB:function(){return u},cz:function(){return h},ek:function(){return L},el:function(){return ve}});var e=t(7169),w=t(2577),v=t(4105),d=t(4183),b=t(3528),T=t(583),S=t(457),a=t(7422),c=t(9827),Z=t(5491),F=t(4761);function _(pe,Q){var ee=Object.keys(pe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(pe);Q&&(me=me.filter(function(Te){return Object.getOwnPropertyDescriptor(pe,Te).enumerable})),ee.push.apply(ee,me)}return ee}var h=function(pe){return!pe[Z.tW.CTRL_OR_CMD]},x=function(pe){return pe.isBindingEnabled},G=function(pe,Q){var ee=[];return Q.forEach(function(me){var Te=pe.getNonDeletedElement(me);Te!=null&&ee.push(Te)}),ee},le=function(pe,Q,ee){var me=new Set,Te=new Set;he(pe,Q,ee,"start",me,Te),he(pe,ee,Q,"end",me,Te);var Ue=Array.from(Te).filter(function(qe){return!me.has(qe)});G(S.Z.getScene(pe),Ue).forEach(function(qe){var Ae;(0,T.DR)(qe,{boundElements:(Ae=qe.boundElements)===null||Ae===void 0?void 0:Ae.filter(function(Oe){return Oe.type!=="arrow"||Oe.id!==pe.id})})})},he=function(pe,Q,ee,me,Te,Ue){if(Q!=="keep")if(Q!=null)ee!=null&&(ee==="keep"?U(pe,Q,me):me!=="start"&&ee.id===Q.id)||(q(pe,Q,me),Te.add(Q.id));else{var qe=M(pe,me);qe!=null&&Ue.add(qe)}},ve=function(pe){pe.forEach(function(Q){(0,d.Mn)(Q)?le(Q,N(Q,"start"),N(Q,"end")):(0,d.f0)(Q)&&fe(Q)})},fe=function(pe){O(pe).forEach(function(Q){var ee=(0,w.Z)(Q,2),me=ee[0],Te=ee[1];return le(me,Te==="end"?"keep":pe,Te==="start"?"keep":pe)})},X=function(pe,Q,ee,me){Q.startBoundElement!=null&&q(pe,Q.startBoundElement,"start");var Te=I(me,ee);Te==null||U(pe,Te,"end")||q(pe,Te,"end")},q=function(pe,Q,ee){(0,T.DR)(pe,(0,e.Z)({},ee==="start"?"startBinding":"endBinding",function(me){for(var Te=1;Te<arguments.length;Te++){var Ue=arguments[Te]!=null?arguments[Te]:{};Te%2?_(Object(Ue),!0).forEach(function(qe){(0,e.Z)(me,qe,Ue[qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Ue)):_(Object(Ue)).forEach(function(qe){Object.defineProperty(me,qe,Object.getOwnPropertyDescriptor(Ue,qe))})}return me}({elementId:Q.id},E(pe,Q,ee)))),(0,c.xn)(Q.boundElements||[]).has(pe.id)||(0,T.DR)(Q,{boundElements:(Q.boundElements||[]).concat({id:pe.id,type:"arrow"})})},U=function(pe,Q,ee){var me=pe[ee==="start"?"endBinding":"startBinding"];return R(pe,me?.elementId,Q)},R=function(pe,Q,ee){return Q===ee.id&&pe.points.length<3},B=function(pe){pe.forEach(function(Q){(0,d.Mn)(Q)&&le(Q,null,null)})},M=function(pe,Q){var ee=Q==="start"?"startBinding":"endBinding",me=pe[ee];return me==null?null:((0,T.DR)(pe,(0,e.Z)({},ee,null)),me.elementId)},I=function(pe,Q){return(0,v.QG)(Q.getNonDeletedElements(),function(ee){return(0,d.f0)(ee,!1)&&(0,b.uu)(ee,pe)})},E=function(pe,Q,ee){var me=ee==="start"?-1:1,Te=me===-1?0:pe.points.length-1,Ue=Te-me,qe=a._.getPointAtIndexGlobalCoordinates(pe,Te),Ae=a._.getPointAtIndexGlobalCoordinates(pe,Ue);return{focus:(0,b.T_)(Q,Ae,qe),gap:Math.max(1,(0,b.oT)(Q,qe))}},p=function(pe,Q){var ee,me=((ee=pe.boundElements)!==null&&ee!==void 0?ee:[]).filter(function(Oe){return Oe.type==="arrow"});if(me.length!==0){var Te=Q??{},Ue=Te.newSize,qe=Te.simultaneouslyUpdated,Ae=o(qe);G(S.Z.getScene(pe),me.map(function(Oe){return Oe.id})).forEach(function(Oe){if((0,d.bt)(Oe)){var Ie=pe;if(r(Oe,Ie)){var Re=s(Ie,Oe.startBinding,Ue),ke=s(Ie,Oe.endBinding,Ue);Ae.has(Oe.id)?(0,T.DR)(Oe,{startBinding:Re,endBinding:ke}):(g(Oe,"start",Re,pe),g(Oe,"end",ke,pe),(0,F.WJ)(Oe)&&(0,F.RB)(Oe,!1))}}})}},r=function(pe,Q){var ee,me;return((ee=pe.startBinding)===null||ee===void 0?void 0:ee.elementId)===Q.id||((me=pe.endBinding)===null||me===void 0?void 0:me.elementId)===Q.id},o=function(pe){return new Set((pe||[]).map(function(Q){return Q.id}))},g=function(pe,Q,ee,me){if(!(ee==null||ee.elementId!==me.id&&pe.points.length>2)){var Te=S.Z.getScene(pe).getElement(ee.elementId);if(Te!=null){var Ue,qe=Q==="start"?-1:1,Ae=qe===-1?0:pe.points.length-1,Oe=Ae-qe,Ie=a._.getPointAtIndexGlobalCoordinates(pe,Oe),Re=(0,b.j_)(Te,ee.focus,Ie);if(ee.gap===0)Ue=Re;else{var ke=(0,b.MZ)(Te,Ie,Re,ee.gap);Ue=ke.length===0?Re:ke[0]}a._.movePoints(pe,[{index:Ae,point:a._.pointFromAbsoluteCoords(pe,Ue)}],(0,e.Z)({},Q==="start"?"startBinding":"endBinding",ee))}}},s=function(pe,Q,ee){if(Q==null||ee==null)return Q;var me=Q.gap,Te=Q.focus,Ue=Q.elementId,qe=ee.width,Ae=ee.height,Oe=pe.width,Ie=pe.height;return{elementId:Ue,gap:Math.max(1,Math.min((0,b.fb)(pe,qe,Ae),me*(qe<Ae?qe/Oe:Ae/Ie))),focus:Te}},u=function(pe){var Q=new Set(pe.map(function(ee){return ee.id}));return pe.flatMap(function(ee){return(0,d.Mn)(ee,!1)?k(ee).filter(function(me){return!Q.has(me.id)}):(0,d.f0)(ee,!1)?O(ee).filter(function(me){return!Q.has(me[0].id)}):[]})},k=function(pe){return[N(pe,"start"),N(pe,"end")].filter(function(Q){return Q!=null})},N=function(pe,Q){return I(W(pe,Q),S.Z.getScene(pe))},W=function(pe,Q){var ee=Q==="start"?0:-1;return(0,c.AK)(a._.getPointAtIndexGlobalCoordinates(pe,ee))},O=function(pe){return S.Z.getScene(pe).getNonDeletedElements().map(function(Q){if(!(0,d.Mn)(Q,!1))return null;var ee=j(Q,"start",pe),me=j(Q,"end",pe);return ee||me?[Q,ee&&me?"both":ee?"start":"end",pe]:null}).filter(function(Q){return Q!=null})},j=function(pe,Q,ee){return pe[Q==="start"?"startBinding":"endBinding"]==null&&!U(pe,ee,Q)&&(0,b.uu)(ee,W(pe,Q))},L=function(pe,Q,ee,me){var Te=new Set,Ue=new Set,qe=me==="duplicatesServeAsOld";Q.forEach(function(Ae){var Oe=Ae.boundElements;if(Oe!=null&&Oe.length>0&&(Oe.forEach(function(ke){qe&&!ee.has(ke.id)&&Te.add(ke.id)}),Ue.add(ee.get(Ae.id))),(0,d.Mn)(Ae)){if(Ae.startBinding!=null){var Ie=Ae.startBinding.elementId;qe&&!ee.has(Ie)&&Ue.add(Ie)}if(Ae.endBinding!=null){var Re=Ae.endBinding.elementId;qe&&!ee.has(Re)&&Ue.add(Re)}Ae.startBinding==null&&Ae.endBinding==null||Te.add(ee.get(Ae.id))}}),pe.filter(function(Ae){var Oe=Ae.id;return Te.has(Oe)}).forEach(function(Ae){var Oe=Ae.startBinding,Ie=Ae.endBinding;(0,T.DR)(Ae,{startBinding:V(Oe,ee),endBinding:V(Ie,ee)})}),pe.filter(function(Ae){var Oe=Ae.id;return Ue.has(Oe)}).forEach(function(Ae){var Oe=Ae.boundElements;Oe!=null&&Oe.length>0&&(0,T.DR)(Ae,{boundElements:Oe.map(function(Ie){return ee.has(Ie.id)?{id:ee.get(Ie.id),type:Ie.type}:Ie})})})},V=function(pe,Q){var ee;if(pe==null)return null;var me=pe.elementId;return{focus:pe.focus,gap:pe.gap,elementId:(ee=Q.get(me))!==null&&ee!==void 0?ee:me}},ie=function(pe,Q){var ee=new Set(Q.map(function(Te){return Te.id})),me=new Set;Q.forEach(function(Te){var Ue;(0,d.f0)(Te)?(Ue=Te.boundElements)===null||Ue===void 0||Ue.forEach(function(qe){ee.has(qe.id)||me.add(qe.id)}):(0,d.Mn)(Te)&&(Te.startBinding&&me.add(Te.startBinding.elementId),Te.endBinding&&me.add(Te.endBinding.elementId))}),pe.filter(function(Te){var Ue=Te.id;return me.has(Ue)}).forEach(function(Te){(0,d.f0)(Te)?(0,T.DR)(Te,{boundElements:ue(Te.boundElements,ee)}):(0,d.Mn)(Te)&&(0,T.DR)(Te,{startBinding:se(Te.startBinding,ee),endBinding:se(Te.endBinding,ee)})})},se=function(pe,Q){return pe==null||Q.has(pe.elementId)?null:pe},ue=function(pe,Q){return pe?pe.filter(function(ee){return!Q.has(ee.id)}):null}},4949:function(We,te,t){t.d(te,{CM:function(){return q},GJ:function(){return ve},IX:function(){return B},KP:function(){return o},M$:function(){return fe},Pi:function(){return r},UC:function(){return X},Ut:function(){return u},Y5:function(){return E},hC:function(){return g},os:function(){return k},qf:function(){return he},v2:function(){return N},wC:function(){return s}});var e=t(1930),w=t(2577),v=t(8821),d=t(5169),b=t(2361),T=t(9845),S=t(6049),a=t(4183),c=t(5999),Z=t(4761),F=t(7422),_=t(2921),h=t(457);function x(W,O){var j=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!j){if(Array.isArray(W)||(j=function(pe,Q){if(pe){if(typeof pe=="string")return G(pe,Q);var ee=Object.prototype.toString.call(pe).slice(8,-1);if(ee==="Object"&&pe.constructor&&(ee=pe.constructor.name),ee==="Map"||ee==="Set")return Array.from(pe);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return G(pe,Q)}}(W))||O){j&&(W=j);var L=0,V=function(){};return{s:V,n:function(){return L>=W.length?{done:!0}:{done:!1,value:W[L++]}},e:function(pe){throw pe},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie,se=!0,ue=!1;return{s:function(){j=j.call(W)},n:function(){var pe=j.next();return se=pe.done,pe},e:function(pe){ue=!0,ie=pe},f:function(){try{se||j.return==null||j.return()}finally{if(ue)throw ie}}}}function G(W,O){(O==null||O>W.length)&&(O=W.length);for(var j=0,L=new Array(O);j<O;j++)L[j]=W[j];return L}var le=function(){function W(){(0,v.Z)(this,W)}return(0,d.Z)(W,null,[{key:"getBounds",value:function(O){var j=W.boundsCache.get(O);if(j!=null&&j.version&&j.version===O.version&&!(0,a.Xh)(O))return j.bounds;var L=W.calculateBounds(O);return h.Z.getScene(O)&&W.boundsCache.set(O,{version:O.version,bounds:L}),L}},{key:"calculateBounds",value:function(O){var j,L=he(O),V=(0,w.Z)(L,6),ie=V[0],se=V[1],ue=V[2],pe=V[3],Q=V[4],ee=V[5];if((0,a.F9)(O)){var me=M(O.points.map(function(kt){var Ht=(0,w.Z)(kt,2),At=Ht[0],Wt=Ht[1];return(0,b.U1)(At,Wt,Q-O.x,ee-O.y,O.angle)})),Te=(0,w.Z)(me,4),Ue=Te[0],qe=Te[1],Ae=Te[2],Oe=Te[3];return[Ue+O.x,qe+O.y,Ae+O.x,Oe+O.y]}if((0,a.bt)(O))j=p(O,Q,ee);else if(O.type==="diamond"){var Ie=(0,b.U1)(Q,se,Q,ee,O.angle),Re=(0,w.Z)(Ie,2),ke=Re[0],xe=Re[1],ye=(0,b.U1)(Q,pe,Q,ee,O.angle),P=(0,w.Z)(ye,2),l=P[0],f=P[1],D=(0,b.U1)(ie,ee,Q,ee,O.angle),H=(0,w.Z)(D,2),J=H[0],re=H[1],ae=(0,b.U1)(ue,ee,Q,ee,O.angle),ge=(0,w.Z)(ae,2),_e=ge[0],ze=ge[1];j=[Math.min(ke,l,J,_e),Math.min(xe,f,re,ze),Math.max(ke,l,J,_e),Math.max(xe,f,re,ze)]}else if(O.type==="ellipse"){var Je=(ue-ie)/2,et=(pe-se)/2,Ke=Math.cos(O.angle),tt=Math.sin(O.angle),ut=Math.hypot(Je*Ke,et*tt),ht=Math.hypot(et*Ke,Je*tt);j=[Q-ut,ee-ht,Q+ut,ee+ht]}else{var He=(0,b.U1)(ie,se,Q,ee,O.angle),Ee=(0,w.Z)(He,2),Le=Ee[0],Qe=Ee[1],ct=(0,b.U1)(ie,pe,Q,ee,O.angle),bt=(0,w.Z)(ct,2),wt=bt[0],zt=bt[1],Mt=(0,b.U1)(ue,pe,Q,ee,O.angle),Zt=(0,w.Z)(Mt,2),sn=Zt[0],rn=Zt[1],Xt=(0,b.U1)(ue,se,Q,ee,O.angle),on=(0,w.Z)(Xt,2),jn=on[0],It=on[1];j=[Math.min(Le,wt,sn,jn),Math.min(Qe,zt,rn,It),Math.max(Le,wt,sn,jn),Math.max(Qe,zt,rn,It)]}return j}}]),W}();le.boundsCache=new WeakMap;var he=function(W){var O=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,a.F9)(W))return I(W);if((0,a.bt)(W))return F._.getElementAbsoluteCoords(W,O);if((0,a.iB)(W)){var j=(0,Z.tl)(W);if((0,a.Yv)(j)){var L=F._.getBoundTextElementPosition(j,W);return[L.x,L.y,L.x+W.width,L.y+W.height,L.x+W.width/2,L.y+W.height/2]}}return[W.x,W.y,W.x+W.width,W.y+W.height,W.x+W.width/2,W.y+W.height/2]},ve=function(W){var O=he(W),j=(0,w.Z)(O,6),L=j[0],V=j[1],ie=j[2],se=j[3],ue=j[4],pe=j[5],Q=[ue,pe];if((0,a.bt)(W)||(0,a.F9)(W)){for(var ee=[],me=0;me<W.points.length-1;)ee.push([(0,b.xj)([W.points[me][0]+W.x,W.points[me][1]+W.y],Q,W.angle),(0,b.xj)([W.points[me+1][0]+W.x,W.points[me+1][1]+W.y],Q,W.angle)]),me++;return ee}var Te=[[L,V],[ie,V],[L,se],[ie,se],[ue,V],[ue,se],[L,pe],[ie,pe]].map(function(P){return(0,b.xj)(P,Q,W.angle)}),Ue=(0,w.Z)(Te,8),qe=Ue[0],Ae=Ue[1],Oe=Ue[2],Ie=Ue[3],Re=Ue[4],ke=Ue[5],xe=Ue[6],ye=Ue[7];return W.type==="diamond"?[[Re,xe],[Re,ye],[ke,xe],[ke,ye]]:W.type==="ellipse"?[[Re,xe],[Re,ye],[ke,xe],[ke,ye],[Re,xe],[Re,ye],[ke,xe],[ke,ye]]:[[qe,Ae],[Oe,Ie],[qe,Oe],[Ae,Ie],[qe,ye],[Oe,ye],[Ae,xe],[Ie,xe]]},fe=function(W){return[W.x,W.y,W.x+W.width,W.y+W.height,W.x+W.width/2,W.y+W.height/2]},X=function(W){var O=Math.floor(W.width/2)+1,j=W.width,L=Math.floor(W.height/2)+1;return[O,0,j,L,O,W.height,0,L]},q=function(W){var O,j=x(W.sets);try{for(j.s();!(O=j.n()).done;){var L=O.value;if(L.type==="path")return L.ops}}catch(V){j.e(V)}finally{j.f()}return W.sets[0].ops},U=function(W,O,j,L,V){var ie=1-W;return Math.pow(ie,3)*O+3*Math.pow(ie,2)*W*j+3*ie*Math.pow(W,2)*L+Math.pow(W,3)*V},R=function(W,O,j,L){var V=O-W,ie=j-O,se=3*V-6*ie+3*(L-j),ue=6*ie-6*V,pe=3*V,Q=ue*ue-4*se*pe;if(!(Q>=0))return!1;var ee=null,me=null,Te=1/0,Ue=1/0;return se===0?Te=Ue=-pe/ue:(Te=(-ue+Math.sqrt(Q))/(2*se),Ue=(-ue-Math.sqrt(Q))/(2*se)),Te>=0&&Te<=1&&(ee=U(Te,W,O,j,L)),Ue>=0&&Ue<=1&&(me=U(Ue,W,O,j,L)),[ee,me]},B=function(W,O){var j=[0,0],L=W.reduce(function(V,ie){var se=ie.op,ue=ie.data;if(se==="move")j=ue;else if(se==="bcurveTo"){var pe=[ue[0],ue[1]],Q=[ue[2],ue[3]],ee=[ue[4],ue[5]],me=O?O.apply(void 0,pe):pe,Te=O?O.apply(void 0,Q):Q,Ue=O?O.apply(void 0,ee):ee,qe=O?O.apply(void 0,(0,e.Z)(j)):j;j=ee;var Ae=function(ye,P,l,f){var D=R(ye[0],P[0],l[0],f[0]),H=R(ye[1],P[1],l[1],f[1]),J=Math.min(ye[0],f[0]),re=Math.max(ye[0],f[0]);if(D){var ae=D.filter(function(Je){return Je!==null});J=Math.min.apply(Math,[J].concat((0,e.Z)(ae))),re=Math.max.apply(Math,[re].concat((0,e.Z)(ae)))}var ge=Math.min(ye[1],f[1]),_e=Math.max(ye[1],f[1]);if(H){var ze=H.filter(function(Je){return Je!==null});ge=Math.min.apply(Math,[ge].concat((0,e.Z)(ze))),_e=Math.max.apply(Math,[_e].concat((0,e.Z)(ze)))}return[J,ge,re,_e]}(qe,me,Te,Ue),Oe=(0,w.Z)(Ae,4),Ie=Oe[0],Re=Oe[1],ke=Oe[2],xe=Oe[3];V.minX=Math.min(V.minX,Ie),V.minY=Math.min(V.minY,Re),V.maxX=Math.max(V.maxX,ke),V.maxY=Math.max(V.maxY,xe)}return V},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[L.minX,L.minY,L.maxX,L.maxY]},M=function(W){var O,j=1/0,L=1/0,V=-1/0,ie=-1/0,se=x(W);try{for(se.s();!(O=se.n()).done;){var ue=(0,w.Z)(O.value,2),pe=ue[0],Q=ue[1];j=Math.min(j,pe),L=Math.min(L,Q),V=Math.max(V,pe),ie=Math.max(ie,Q)}}catch(ee){se.e(ee)}finally{se.f()}return[j,L,V,ie]},I=function(W){var O=M(W.points),j=(0,w.Z)(O,4),L=j[0],V=j[1],ie=j[2],se=j[3],ue=L+W.x,pe=V+W.y,Q=ie+W.x,ee=se+W.y;return[ue,pe,Q,ee,(ue+Q)/2,(pe+ee)/2]},E=function(W,O,j,L){var V=q(O[0]);if(V.length<1)return null;var ie=j==="start"?1:V.length-1,se=V[ie].data,ue=[se[4],se[5]],pe=[se[2],se[3]],Q=[se[0],se[1]],ee=V[ie-1],me=[0,0];ee.op==="move"?me=ee.data:ee.op==="bcurveTo"&&(me=[ee.data[4],ee.data[5]]);var Te=function(rn,Xt){return Math.pow(1-rn,3)*ue[Xt]+3*rn*Math.pow(1-rn,2)*pe[Xt]+3*Math.pow(rn,2)*(1-rn)*Q[Xt]+me[Xt]*Math.pow(rn,3)},Ue=j==="start"?me:ue,qe=(0,w.Z)(Ue,2),Ae=qe[0],Oe=qe[1],Ie=[Te(.3,0),Te(.3,1)],Re=Ie[0],ke=Ie[1],xe=Math.hypot(Ae-Re,Oe-ke),ye=(Ae-Re)/xe,P=(Oe-ke)/xe,l={arrow:30,bar:15,dot:15,triangle:15}[L],f=0;if(L==="arrow"){var D=(0,w.Z)(W.points[W.points.length-1],2),H=D[0],J=D[1],re=W.points.length>1?W.points[W.points.length-2]:[0,0],ae=(0,w.Z)(re,2),ge=ae[0],_e=ae[1];f=Math.hypot(H-ge,J-_e)}else for(var ze=0;ze<W.points.length;ze++){var Je=W.points[ze-1]||[0,0],et=(0,w.Z)(Je,2),Ke=et[0],tt=et[1],ut=(0,w.Z)(W.points[ze],2),ht=ut[0],He=ut[1];f+=Math.hypot(ht-Ke,He-tt)}var Ee=Math.min(l,f/2),Le=Ae-ye*Ee,Qe=Oe-P*Ee;if(L==="dot")return[Ae,Oe,Math.hypot(Qe-Oe,Le-Ae)+W.strokeWidth];var ct={arrow:20,bar:90,triangle:25}[L],bt=(0,b.U1)(Le,Qe,Ae,Oe,-ct*Math.PI/180),wt=(0,w.Z)(bt,2),zt=wt[0],Mt=wt[1],Zt=(0,b.U1)(Le,Qe,Ae,Oe,ct*Math.PI/180),sn=(0,w.Z)(Zt,2);return[Ae,Oe,zt,Mt,sn[0],sn[1]]},p=function(W,O,j){var L;if(W.points.length<2){var V=(0,w.Z)(W.points[0],2),ie=V[0],se=V[1],ue=(0,b.U1)(W.x+ie,W.y+se,O,j,W.angle),pe=(0,w.Z)(ue,2),Q=pe[0],ee=pe[1],me=[Q,ee,Q,ee],Te=(0,Z.WJ)(W);if(Te){var Ue=F._.getMinMaxXYWithBoundText(W,[Q,ee,Q,ee],Te);me=[Ue[0],Ue[1],Ue[2],Ue[3]]}return me}var qe=(L=_.R.get(W))===null||L===void 0?void 0:L[0],Ae=qe??function(ye){var P=T.Z.generator(),l=(0,S.Z)(ye);return P[ye.roundness?"curve":l.fill?"polygon":"linearPath"](ye.points,l)}(W),Oe=q(Ae),Ie=B(Oe,function(ye,P){return(0,b.U1)(W.x+ye,W.y+P,O,j,W.angle)}),Re=[Ie[0],Ie[1],Ie[2],Ie[3]],ke=(0,Z.WJ)(W);if(ke){var xe=F._.getMinMaxXYWithBoundText(W,Re,ke);Re=[xe[0],xe[1],xe[2],xe[3]]}return Re},r=function(W){return le.getBounds(W)},o=function(W){if(!W.length)return[0,0,0,0];var O=1/0,j=-1/0,L=1/0,V=-1/0;return W.forEach(function(ie){var se=r(ie),ue=(0,w.Z)(se,4),pe=ue[0],Q=ue[1],ee=ue[2],me=ue[3];O=Math.min(O,pe),L=Math.min(L,Q),j=Math.max(j,ee),V=Math.max(V,me)}),[O,L,j,V]},g=function(W,O){var j=o(W),L=(0,w.Z)(j,4),V=L[0],ie=L[1],se=L[2],ue=L[3];return[V+O.x,ie+O.y,se+O.x,ue+O.y]},s=function(W,O,j,L){if(!(0,a.bt)(W)&&!(0,a.F9)(W))return[W.x,W.y,W.x+O,W.y+j];var V,ie=(0,c.z)(0,O,(0,c.z)(1,j,W.points,L),L);if((0,a.F9)(W))V=M(ie);else{var se=T.Z.generator(),ue=W.roundness?se.curve(ie,(0,S.Z)(W)):se.linearPath(ie,(0,S.Z)(W)),pe=q(ue);V=B(pe)}var Q=V,ee=(0,w.Z)(Q,4),me=ee[0],Te=ee[1],Ue=ee[2],qe=ee[3];return[me+W.x,Te+W.y,Ue+W.x,qe+W.y]},u=function(W,O){var j=T.Z.generator(),L=W.roundness==null?j.linearPath(O,(0,S.Z)(W)):j.curve(O,(0,S.Z)(W)),V=q(L),ie=B(V),se=(0,w.Z)(ie,4),ue=se[0],pe=se[1],Q=se[2],ee=se[3];return[ue+W.x,pe+W.y,Q+W.x,ee+W.y]},k=function(W,O){if(!W.length)return[0,0,0,0];var j=1/0,L=W[0];return W.forEach(function(V){var ie=r(V),se=(0,w.Z)(ie,4),ue=se[0],pe=se[1],Q=se[2],ee=se[3],me=(0,b.LW)((ue+Q)/2,(pe+ee)/2,O.x,O.y);me<j&&(j=me,L=V)}),r(L)},N=function(W){var O=o(W),j=(0,w.Z)(O,4),L=j[0],V=j[1],ie=j[2],se=j[3];return{minX:L,minY:V,maxX:ie,maxY:se,width:ie-L,height:se-V,midX:(L+ie)/2,midY:(V+se)/2}}},3528:function(We,te,t){t.d(te,{uu:function(){return ue},T_:function(){return H},j_:function(){return J},oT:function(){return ee},wX:function(){return j},MZ:function(){return re},wB:function(){return L},Qu:function(){return V},pX:function(){return se},fb:function(){return pe}});var e=t(2577),w=function(He,Ee){return[0,0,0,0,Ee,He,1,0]},v=function(He,Ee){return[0,0,0,0,Ee,He,0,0]},d=function(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Le=[0,0,0,0,0,0,0,0];if(Ee<0||Ee>7)throw new Error("Expected `index` between 0 and 7, got `".concat(Ee,"`"));return He!==0&&(Le[Ee]=He),Le},b=function(He){return[He[0],He[1],He[2],He[3],-He[4],-He[5],-He[6],-He[7]]},T=function(He,Ee){return x(Ee)?[He[0]-Ee,He[1],He[2],He[3],He[4],He[5],He[6],He[7]]:[He[0]-Ee[0],He[1]-Ee[1],He[2]-Ee[2],He[3]-Ee[3],He[4]-Ee[4],He[5]-Ee[5],He[6]-Ee[6],He[7]-Ee[7]]},S=function(He,Ee){return x(Ee)?[He[0]*Ee,He[1]*Ee,He[2]*Ee,He[3]*Ee,He[4]*Ee,He[5]*Ee,He[6]*Ee,He[7]*Ee]:[a(He,Ee),Ee[1]*He[0]+Ee[0]*He[1]-Ee[4]*He[2]+Ee[5]*He[3]+Ee[2]*He[4]-Ee[3]*He[5]-Ee[7]*He[6]-Ee[6]*He[7],Ee[2]*He[0]+Ee[0]*He[2]-Ee[6]*He[3]+Ee[3]*He[6],Ee[3]*He[0]+Ee[6]*He[2]+Ee[0]*He[3]-Ee[2]*He[6],Ee[4]*He[0]+Ee[2]*He[1]-Ee[1]*He[2]+Ee[7]*He[3]+Ee[0]*He[4]+Ee[6]*He[5]-Ee[5]*He[6]+Ee[3]*He[7],Ee[5]*He[0]-Ee[3]*He[1]+Ee[7]*He[2]+Ee[1]*He[3]-Ee[6]*He[4]+Ee[0]*He[5]+Ee[4]*He[6]+Ee[2]*He[7],Ee[6]*He[0]+Ee[3]*He[2]-Ee[2]*He[3]+Ee[0]*He[6],Ee[7]*He[0]+Ee[6]*He[1]+Ee[5]*He[2]+Ee[4]*He[3]+Ee[3]*He[4]+Ee[2]*He[5]+Ee[1]*He[6]+Ee[0]*He[7]]},a=function(He,Ee){return Ee[0]*He[0]+Ee[2]*He[2]+Ee[3]*He[3]-Ee[6]*He[6]},c=function(He,Ee){return[Z(He,Ee),He[1]*Ee[7]+He[4]*Ee[5]-He[5]*Ee[4]+He[7]*Ee[1],He[2]*Ee[7]-He[4]*Ee[6]+He[6]*Ee[4]+He[7]*Ee[2],He[3]*Ee[7]+He[5]*Ee[6]-He[6]*Ee[5]+He[7]*Ee[3],He[4]*Ee[7]+He[7]*Ee[4],He[5]*Ee[7]+He[7]*Ee[5],He[6]*Ee[7]+He[7]*Ee[6],He[7]*Ee[7]]},Z=function(He,Ee){return He[0]*Ee[7]+He[1]*Ee[6]+He[2]*Ee[5]+He[3]*Ee[4]+He[4]*Ee[3]+He[5]*Ee[2]+He[6]*Ee[1]+He[7]*Ee[0]},F=function(He){return Math.sqrt(Math.abs(He[0]*He[0]-He[2]*He[2]-He[3]*He[3]+He[6]*He[6]))},_=function(He){var Ee=F(He);if(Ee===0||Ee===1)return He;var Le=He[6]<0?-1:1;return S(He,Le/Ee)},h=function(He){var Ee=function(Le){return Math.sqrt(Math.abs(Le[7]*Le[7]-Le[5]*Le[5]-Le[4]*Le[4]+Le[1]*Le[1]))}(He);return Ee===0||Ee===1?He:S(He,1/Ee)},x=function(He){return typeof He=="number"},G=(d(1,1),d(1,2),d(1,3),d(1,4),d(1,5),d(1,6),d(1,7),function(He,Ee,Le){return _([0,Le,He,Ee,0,0,0,0])}),le=function(He,Ee){return _(c(Ee,He))},he=function(He,Ee){return Le=He,[(Qe=Ee)[0]*Le[0]+Qe[2]*Le[2]+Qe[3]*Le[3]-Qe[6]*Le[6],Qe[1]*Le[0]+Qe[0]*Le[1]-Qe[4]*Le[2]+Qe[5]*Le[3]+Qe[2]*Le[4]-Qe[3]*Le[5]-Qe[7]*Le[6]-Qe[6]*Le[7],Qe[2]*Le[0]+Qe[0]*Le[2]-Qe[6]*Le[3]+Qe[3]*Le[6],Qe[3]*Le[0]+Qe[6]*Le[2]+Qe[0]*Le[3]-Qe[2]*Le[6],Qe[4]*Le[0]+Qe[7]*Le[3]+Qe[0]*Le[4]+Qe[3]*Le[7],Qe[5]*Le[0]+Qe[7]*Le[2]+Qe[0]*Le[5]+Qe[2]*Le[7],Qe[6]*Le[0]+Qe[0]*Le[6],Qe[7]*Le[0]+Qe[0]*Le[7]];var Le,Qe},ve=function(He){var Ee=(0,e.Z)(He,2),Le=Ee[0];return[0,0,0,0,Ee[1],Le,1,0]},fe=function(He){return[He[5],He[4]]},X=function(He){return[0,0,0,0,Math.abs(He[4]),Math.abs(He[5]),1,0]},q=function(He,Ee){return _((Le=He,[(Qe=Ee)[0]*Le[0],Qe[1]*Le[0]+Qe[0]*Le[1],Qe[2]*Le[0]+Qe[0]*Le[2],Qe[3]*Le[0]+Qe[0]*Le[3],Qe[4]*Le[0]+Qe[2]*Le[1]-Qe[1]*Le[2]+Qe[0]*Le[4],Qe[5]*Le[0]-Qe[3]*Le[1]+Qe[1]*Le[3]+Qe[0]*Le[5],Qe[6]*Le[0]+Qe[3]*Le[2]-Qe[2]*Le[3]+Qe[0]*Le[6],Qe[7]*Le[0]+Qe[6]*Le[1]+Qe[5]*Le[2]+Qe[4]*Le[3]+Qe[3]*Le[4]+Qe[2]*Le[5]+Qe[1]*Le[6]]));var Le,Qe},U=function(He,Ee){return F(c(He,Ee))},R=function(He,Ee){return Z(He,Ee)},B=function(He){return[0,0,0,0,He[4],He[5],0,0]},M=function(He,Ee){return Le=S(He,Math.sin(Ee/2)),Qe=Math.cos(Ee/2),x(Qe)?[Le[0]+Qe,Le[1],Le[2],Le[3],Le[4],Le[5],Le[6],Le[7]]:[Le[0]+Qe[0],Le[1]+Qe[1],Le[2]+Qe[2],Le[3]+Qe[3],Le[4]+Qe[4],Le[5]+Qe[5],Le[6]+Qe[6],Le[7]+Qe[7]];var Le,Qe},I=function(He,Ee){return _(S(S(He,Ee),b(He)))},E=t(2361),p=t(1493),r=t(4949),o=t(4183),g=t(7651),s=t(9827),u=t(4048),k=t(4761),N=t(2921);function W(He,Ee){var Le=typeof Symbol<"u"&&He[Symbol.iterator]||He["@@iterator"];if(!Le){if(Array.isArray(He)||(Le=function(Mt,Zt){if(Mt){if(typeof Mt=="string")return O(Mt,Zt);var sn=Object.prototype.toString.call(Mt).slice(8,-1);if(sn==="Object"&&Mt.constructor&&(sn=Mt.constructor.name),sn==="Map"||sn==="Set")return Array.from(Mt);if(sn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(sn))return O(Mt,Zt)}}(He))||Ee){Le&&(He=Le);var Qe=0,ct=function(){};return{s:ct,n:function(){return Qe>=He.length?{done:!0}:{done:!1,value:He[Qe++]}},e:function(Mt){throw Mt},f:ct}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bt,wt=!0,zt=!1;return{s:function(){Le=Le.call(He)},n:function(){var Mt=Le.next();return wt=Mt.done,Mt},e:function(Mt){zt=!0,bt=Mt},f:function(){try{wt||Le.return==null||Le.return()}finally{if(zt)throw bt}}}}function O(He,Ee){(Ee==null||Ee>He.length)&&(Ee=He.length);for(var Le=0,Qe=new Array(Ee);Le<Ee;Le++)Qe[Le]=He[Le];return Qe}var j=function He(Ee,Le,Qe,ct,bt){var wt=10/Le.zoom.value,zt=[ct,bt];if(ie(Le,Ee)&&(0,u.oY)([Ee],Le))return se(Ee,zt,wt,Qe);var Mt=(0,k.WJ)(Ee);return Mt&&He(Mt,Le,Qe,ct,bt)?!0:V(Ee,Le,Qe,zt)},L=function(He,Ee,Le,Qe,ct){var bt=10/Ee.zoom.value,wt=(0,k.WJ)(He);return(!wt||!j(wt,Ee,Le,Qe,ct))&&!V(He,Ee,Le,[Qe,ct])&&se(He,[Qe,ct],bt,Le)},V=function(He,Ee,Le,Qe){var ct=10/Ee.zoom.value,bt=(0,g.iB)(He)?me:function(wt){if(wt.type==="arrow")return!1;if(wt.type==="freedraw")return!0;var zt=!(0,s.Qm)(wt.backgroundColor)||(0,o.Xo)(wt)||(0,o.gs)(wt);return wt.type==="line"?zt&&(0,E.g6)(wt.points):zt||(0,o.pC)(wt)}(He)?Te:Ue;return Q({element:He,point:Qe,threshold:ct,check:bt,frameNameBoundsCache:Le})},ie=function(He,Ee){return He.selectedElementIds[Ee.id]},se=function(He,Ee,Le,Qe){var ct=(0,e.Z)(Ee,2),bt=ct[0],wt=ct[1];if(He.type==="frame")return Q({element:He,point:[bt,wt],threshold:Le,check:Te,frameNameBoundsCache:Qe});var zt=(0,r.qf)(He),Mt=(0,e.Z)(zt,4),Zt=Mt[0],sn=Mt[1],rn=Mt[2],Xt=Mt[3],on=(Zt+rn)/2,jn=(sn+Xt)/2,It=(0,E.U1)(bt,wt,on,jn,-He.angle),kt=(0,e.Z)(It,2),Ht=kt[0],At=kt[1];return Ht>Zt-Le&&Ht<rn+Le&&At>sn-Le&&At<Xt+Le},ue=function(He,Ee){var Le=Ee.x,Qe=Ee.y,ct=pe(He,He.width,He.height);return Q({element:He,point:[Le,Qe],threshold:ct,check:qe,frameNameBoundsCache:null})},pe=function(He,Ee,Le){var Qe=(He.type==="diamond"?1/Math.sqrt(2):1)*Math.min(Ee,Le);return Math.max(16,Math.min(.25*Qe,32))},Q=function(He){switch(He.element.type){case"rectangle":case"embeddable":case"image":case"text":case"diamond":case"ellipse":var Ee=ee(He.element,He.point);return He.check(Ee,He.threshold);case"freedraw":return!!He.check(Ae(He.element,He.point),He.threshold)&&xe(He.element,He.point,He.threshold);case"arrow":case"line":return ye(He);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1;case"frame":var Le;if(He.check(ee(He.element,He.point),He.threshold))return!0;var Qe=(Le=He.frameNameBoundsCache)===null||Le===void 0?void 0:Le.get(He.element);return!!Qe&&He.check(Oe(Qe,He.point),He.threshold)}},ee=function(He,Ee){switch(He.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return Ae(He,Ee);case"diamond":return Ie(He,Ee);case"ellipse":return Re(He,Ee)}},me=function(He,Ee){return He<0},Te=function(He,Ee){return He<Ee},Ue=function(He,Ee){return Math.abs(He)<Ee},qe=function(He,Ee){return 0<=He&&He<Ee},Ae=function(He,Ee){var Le=P(He,Ee),Qe=(0,e.Z)(Le,4),ct=Qe[1],bt=Qe[2],wt=Qe[3];return Math.max(R(ct,G(0,1,-wt)),R(ct,G(1,0,-bt)))},Oe=function(He,Ee){var Le=l(Ee,He),Qe=(0,e.Z)(Le,4),ct=Qe[1],bt=Qe[2],wt=Qe[3];return Math.max(R(ct,G(0,1,-wt)),R(ct,G(1,0,-bt)))},Ie=function(He,Ee){var Le=P(He,Ee),Qe=(0,e.Z)(Le,4),ct=Qe[1],bt=Qe[2],wt=Qe[3],zt=G(wt,bt,-wt*bt);return R(ct,zt)},Re=function(He,Ee){var Le,Qe=ke(He,Ee),ct=(0,e.Z)(Qe,2),bt=ct[0],wt=ct[1];return Le=wt,-Math.sign(Le[1])*R(bt,wt)},ke=function(He,Ee){var Le=P(He,Ee),Qe=(0,e.Z)(Le,4),ct=Qe[1],bt=Qe[2],wt=Qe[3],zt=fe(ct),Mt=(0,e.Z)(zt,2),Zt=Mt[0],sn=Mt[1],rn=.707,Xt=.707,on=bt,jn=wt;[0,1,2,3].forEach(function(Ht){var At=on*rn,Wt=jn*Xt,Kt=(on*on-jn*jn)*Math.pow(rn,3)/on,an=(jn*jn-on*on)*Math.pow(Xt,3)/jn,bn=At-Kt,hn=Wt-an,An=Zt-Kt,Yn=sn-an,tr=Math.hypot(hn,bn),Sn=Math.hypot(Yn,An);rn=Math.min(1,Math.max(0,(An*tr/Sn+Kt)/on)),Xt=Math.min(1,Math.max(0,(Yn*tr/Sn+an)/jn));var Bt=Math.hypot(Xt,rn);rn/=Bt,Xt/=Bt});var It,kt=w(on*rn,jn*Xt);return[ct,he(le(ct,It=kt),It)]},xe=function(He,Ee,Le){var Qe,ct;if(He.angle===0)Qe=Ee[0]-He.x,ct=Ee[1]-He.y;else{var bt=(0,r.qf)(He),wt=(0,e.Z)(bt,4),zt=wt[0],Mt=wt[1],Zt=wt[2],sn=wt[3],rn=(0,E.xj)(Ee,[zt+(Zt-zt)/2,Mt+(sn-Mt)/2],-He.angle);Qe=rn[0]-He.x,ct=rn[1]-He.y}var Xt,on=(0,e.Z)(He.points,2),jn=on[0],It=on[1];if((0,E.LW)(jn[0],jn[1],Qe,ct)<Le||(0,E.LW)(It[0],It[1],Qe,ct)<Le)return!0;for(var kt=0;kt<He.points.length;kt++){var Ht=[It[0]-jn[0],It[1]-jn[1]],At=Math.hypot(Ht[1],Ht[0]),Wt=[Ht[0]/At,Ht[1]/At],Kt=[Qe-jn[0],ct-jn[1]],an=(Kt[0]*Wt[0]+Kt[1]*Wt[1])/Math.hypot(Wt[1],Wt[0]);Xt=[jn[0]+Wt[0]*an,jn[1]+Wt[1]*an];var bn=(0,E.LW)(Xt[0],Xt[1],jn[0],jn[1]),hn=(0,E.LW)(Xt[0],Xt[1],It[0],It[1]);if(Xt=hn<bn&&bn>At?It:bn<hn&&hn>At?jn:Xt,Math.hypot(ct-Xt[1],Qe-Xt[0])<Le)return!0;jn=It,It=He.points[kt+1]}var An=N.R.get(He);return!(!An||!An.sets.length)&&(He.fillStyle==="solid"?ut(An,Qe,ct,"round"):ht(An,Qe,ct,Le))},ye=function(He){var Ee=He.element,Le=He.threshold;if(!N.R.get(Ee))return!1;var Qe=P(He.element,He.point),ct=(0,e.Z)(Qe,4),bt=ct[0],wt=ct[1],zt=ct[2],Mt=ct[3],Zt=G(0,1,-Mt),sn=G(1,0,-zt);if(!Te(R(wt,Zt),Le)||!Te(R(wt,sn),Le))return!1;var rn=fe(bt),Xt=(0,e.Z)(rn,2),on=Xt[0],jn=Xt[1],It=N.R.get(Ee);return It?He.check===Te&&It.some(function(kt){return ut(kt,on,jn,Ee.roundness?"round":"sharp")})?!0:It.some(function(kt){return ht(kt,on,jn,Le)}):!1},P=function(He,Ee){var Le=ve(Ee),Qe=(0,r.qf)(He),ct=(0,e.Z)(Qe,4),bt=ct[0],wt=ct[1],zt=ct[2],Mt=ct[3],Zt=D(bt,wt,zt,Mt),sn=M(Zt,He.angle),rn=I(sn,Le),Xt=T(rn,B(Zt)),on=X(Xt),jn=v(He.x,He.y);return[T(rn,jn),on,(zt-bt)/2,(Mt-wt)/2]},l=function(He,Ee){var Le=ve(He),Qe=(0,r.M$)(Ee),ct=(0,e.Z)(Qe,4),bt=ct[0],wt=ct[1],zt=ct[2],Mt=ct[3],Zt=D(bt,wt,zt,Mt),sn=M(Zt,Ee.angle),rn=I(sn,Le),Xt=T(rn,B(Zt)),on=X(Xt),jn=v(Ee.x,Ee.y);return[T(rn,jn),on,(zt-bt)/2,(Mt-wt)/2]},f=function(He){var Ee=(0,r.qf)(He),Le=(0,e.Z)(Ee,4),Qe=Le[0],ct=Le[1],bt=Le[2],wt=Le[3],zt=D(Qe,ct,bt,wt),Mt=M(zt,He.angle),Zt=b(function(sn){return[1,0,0,0,-.5*sn[5],.5*sn[4],0,0]}(B(zt)));return S(Zt,Mt)},D=function(He,Ee,Le,Qe){return w((He+Le)/2,(Ee+Qe)/2)},H=function(He,Ee,Le){var Qe,ct=f(He),bt=I(ct,ve(Ee)),wt=I(ct,ve(Le)),zt=le(bt,wt),Mt=He.height/He.width,Zt=He.width/2,sn=He.height/2,rn=zt[2],Xt=zt[3],on=zt[1],jn=Math.abs(Xt),It=Math.abs(rn);switch(He.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":Qe=on/(Zt*(It+Mt*jn));break;case"diamond":Qe=jn<It?on/(It*Zt):on/(jn*sn);break;case"ellipse":Qe=on/(Zt*Math.sqrt(Math.pow(rn,2)+Math.pow(Mt,2)*Math.pow(Xt,2)))}return Qe||0},J=function(He,Ee,Le){if(Ee===0){var Qe=(0,r.qf)(He),ct=(0,e.Z)(Qe,4),bt=ct[0],wt=ct[1],zt=ct[2],Mt=ct[3],Zt=D(bt,wt,zt,Mt);return fe(Zt)}var sn,rn=f(He),Xt=I(rn,ve(Le)),on=b(rn);switch(He.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":sn=tt(He,Ee,Xt);break;case"ellipse":sn=Ke(He,Ee,Xt)}return fe(I(on,sn))},re=function(He,Ee,Le){var Qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ct=f(He),bt=I(ct,ve(Ee)),wt=I(ct,ve(Le)),zt=le(bt,wt),Mt=b(ct),Zt=ae(He,zt,bt,Qe);return Zt.map(function(sn){return fe(I(Mt,sn))})},ae=function(He,Ee,Le){var Qe,ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(He.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":var bt=ge(He);Qe=bt.flatMap(function(zt,Mt){var Zt=[zt,bt[(Mt+1)%4]];return _e(Ee,ze(Zt,ct))}).concat(bt.flatMap(function(zt){return et(zt,ct,Ee)}));break;case"ellipse":Qe=Je(He,ct,Ee)}if(Qe.length<2)return[];var wt=Qe.sort(function(zt,Mt){return U(zt,Le)-U(Mt,Le)});return[wt[0],wt[wt.length-1]]},ge=function(He){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Le=Ee*He.width/2,Qe=Ee*He.height/2;switch(He.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return[w(Le,Qe),w(Le,-Qe),w(-Le,-Qe),w(-Le,Qe)];case"diamond":return[w(0,Qe),w(Le,0),w(0,-Qe),w(-Le,0)]}},_e=function(He,Ee){var Le=(0,e.Z)(Ee,2),Qe=Le[0],ct=Le[1];return R(Qe,He)*R(ct,He)>=0?[]:[q(He,le(Qe,ct))]},ze=function(He,Ee){var Le=(0,e.Z)(He,2),Qe=Le[0],ct=Le[1],bt=function(wt,zt){var Mt=.5*zt;return[1,0,0,0,Mt*wt[4],Mt*wt[5],0,0]}(function(wt,zt){return h([0,0,0,0,zt[4]-wt[4],zt[5]-wt[5],0,0])}(Qe,ct),Ee);return[I(bt,Qe),I(bt,ct)]},Je=function(He,Ee,Le){var Qe=He.width/2+Ee,ct=He.height/2+Ee,bt=Le[2],wt=Le[3],zt=Le[1],Mt=Qe*Qe*bt*bt+ct*ct*wt*wt,Zt=Mt-zt*zt;if(Mt===0||Zt<=0)return[];var sn=Math.sqrt(Zt),rn=-Qe*Qe*bt*zt,Xt=-ct*ct*wt*zt;return[w((rn+Qe*ct*wt*sn)/Mt,(Xt-Qe*ct*bt*sn)/Mt),w((rn-Qe*ct*wt*sn)/Mt,(Xt+Qe*ct*bt*sn)/Mt)]},et=function(He,Ee,Le){if(Ee===0)return R(Le,He)===0?[He]:[];var Qe=Le[2],ct=Le[3],bt=Le[1],wt=fe(He),zt=(0,e.Z)(wt,2),Mt=zt[0],Zt=zt[1],sn=Qe*Qe+ct*ct,rn=Ee*Ee*sn-Math.pow(Qe*Mt+ct*Zt+bt,2);if(sn===0||rn<=0)return[];var Xt=Math.sqrt(rn),on=Mt*ct*ct-Zt*Qe*ct-Qe*bt,jn=Zt*Qe*Qe-Mt*Qe*ct-ct*bt;return[w((on+ct*Xt)/sn,(jn-Qe*Xt)/sn),w((on-ct*Xt)/sn,(jn+Qe*Xt)/sn)]},Ke=function(He,Ee,Le){var Qe=Math.abs(Ee),ct=He.width*Qe/2,bt=He.height*Qe/2,wt=Math.sign(Ee),zt=fe(Le),Mt=(0,e.Z)(zt,2),Zt=Mt[0],sn=Mt[1],rn=sn===0?1e-4:sn,Xt=Math.pow(Zt,2)*Math.pow(bt,2)+Math.pow(rn,2)*Math.pow(ct,2),on=(-Zt*Math.pow(bt,2)+wt*rn*Math.sqrt(Math.max(0,Xt-Math.pow(ct,2)*Math.pow(bt,2))))/Xt,jn=(-on*Zt-1)/rn;jn===0&&(jn=.01*(Object.is(jn,-0)?-1:1));var It=-Math.pow(ct,2)*on/(Math.pow(jn,2)*Math.pow(bt,2)+Math.pow(on,2)*Math.pow(ct,2));return w(It,(-on*It-1)/jn)},tt=function(He,Ee,Le){var Qe=Math.abs(Ee),ct=Math.sign(Ee),bt=ge(He,Qe),wt=0,zt=null;return bt.forEach(function(Mt){var Zt=ct*le(Le,Mt)[1];Zt>wt&&(wt=Zt,zt=Mt)}),zt},ut=function(He,Ee,Le,Qe){var ct,bt=[],wt=!1,zt=W((0,r.CM)(He));try{for(zt.s();!(ct=zt.n()).done;){var Mt=ct.value;Mt.op==="move"?(wt=!wt)&&bt.push([Mt.data[0],Mt.data[1]]):Mt.op==="bcurveTo"?wt&&(bt.push([Mt.data[0],Mt.data[1]]),bt.push([Mt.data[2],Mt.data[3]]),bt.push([Mt.data[4],Mt.data[5]])):Mt.op==="lineTo"&&wt&&bt.push([Mt.data[0],Mt.data[1]])}}catch(sn){zt.e(sn)}finally{zt.f()}if(bt.length>=4){if(Qe==="sharp")return(0,E.c9)(bt,Ee,Le);var Zt=(0,p.sU)(bt,10,5);return(0,E.c9)(Zt,Ee,Le)}return!1},ht=function(He,Ee,Le,Qe){var ct=(0,r.CM)(He),bt=[0,0];return ct.some(function(wt,zt){var Mt=wt.op,Zt=wt.data;if(Mt==="move")bt=Zt;else{if(Mt==="bcurveTo"){var sn=[Zt[0],Zt[1]],rn=[Zt[2],Zt[3]],Xt=[Zt[4],Zt[5]],on=bt;bt=Xt;var jn=function(It,kt,Ht,At,Wt,Kt){for(var an=(0,e.Z)(Wt,2),bn=an[0],hn=an[1],An=function(Bt,dn){return Math.pow(1-Bt,3)*At[dn]+3*Bt*Math.pow(1-Bt,2)*Ht[dn]+3*Math.pow(Bt,2)*(1-Bt)*kt[dn]+It[dn]*Math.pow(Bt,3)},Yn=0;Yn<=1;){var tr=An(Yn,0),Sn=An(Yn,1);if(Math.sqrt(Math.pow(tr-bn,2)+Math.pow(Sn-hn,2))<Kt)return!0;Yn+=.01}return!1}(on,sn,rn,Xt,[Ee,Le],Qe);return jn}if(Mt==="lineTo")return ut(He,Ee,Le,"sharp");Mt==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},761:function(We,te,t){t.d(te,{LM:function(){return o},eX:function(){return k},g0:function(){return s},uU:function(){return g},xm:function(){return N}});var e=t(7169),w=t(2577),v=t(2767),d=t(9937),b=t(8227),T=t(9827),S=t(7652),a=t(5742),c=t(4761),Z=t(4183),F=t(8020);function _(W,O){var j=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!j){if(Array.isArray(W)||(j=function(pe,Q){if(pe){if(typeof pe=="string")return h(pe,Q);var ee=Object.prototype.toString.call(pe).slice(8,-1);if(ee==="Object"&&pe.constructor&&(ee=pe.constructor.name),ee==="Map"||ee==="Set")return Array.from(pe);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return h(pe,Q)}}(W))||O){j&&(W=j);var L=0,V=function(){};return{s:V,n:function(){return L>=W.length?{done:!0}:{done:!1,value:W[L++]}},e:function(pe){throw pe},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie,se=!0,ue=!1;return{s:function(){j=j.call(W)},n:function(){var pe=j.next();return se=pe.done,pe},e:function(pe){ue=!0,ie=pe},f:function(){try{se||j.return==null||j.return()}finally{if(ue)throw ie}}}}function h(W,O){(O==null||O>W.length)&&(O=W.length);for(var j=0,L=new Array(O);j<O;j++)L[j]=W[j];return L}function x(W,O){var j=Object.keys(W);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(W);O&&(L=L.filter(function(V){return Object.getOwnPropertyDescriptor(W,V).enumerable})),j.push.apply(j,L)}return j}function G(W){for(var O=1;O<arguments.length;O++){var j=arguments[O]!=null?arguments[O]:{};O%2?x(Object(j),!0).forEach(function(L){(0,e.Z)(W,L,j[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(j)):x(Object(j)).forEach(function(L){Object.defineProperty(W,L,Object.getOwnPropertyDescriptor(j,L))})}return W}var le=new Map,he=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,ve=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}\.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,fe=/^https:\/\/(?:www\.)?figma\.com/,X=/^https:\/\/gist\.github\.com\/([\w_-]+)\/([\w_-]+)/,q=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist\.github\.com\/.*?)\.js["']/i,U=/(?:https?:\/\/)?(?:(?:w){3}\.)?(?:twitter|x)\.com\/[^/]+\/status\/(\d+)/,R=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:twitter|x)\.com\/[^"']*)/i,B=/^https:\/\/(?:www\.)?val\.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,M=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,I=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,E=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com"]),p=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com"]),r=function(W){return"<html><body>".concat(W,"</body></html>")},o=function(W){if(!W)return null;if(le.has(W))return le.get(W);var O=W,j=p.has(u(W,p)||""),L="generic",V={w:560,h:840},ie=W.match(he);if(ie!=null&&ie[2]){var se=ie[3]?"&start=".concat(ie[3]):"",ue=W.includes("shorts");switch(L="video",ie[1]){case"embed/":case"watch?v=":case"shorts/":default:W="https://www.youtube.com/embed/".concat(ie[2],"?enablejsapi=1").concat(se);break;case"playlist?list=":case"embed/videoseries?list=":W="https://www.youtube.com/embed/videoseries?list=".concat(ie[2],"&enablejsapi=1").concat(se)}return V=ue?{w:315,h:560}:{w:560,h:315},le.set(O,{link:W,aspectRatio:V,type:L,sandbox:{allowSameOrigin:j}}),{link:W,aspectRatio:V,type:L,sandbox:{allowSameOrigin:j}}}var pe=W.match(ve);if(pe!=null&&pe[1]){var Q=pe?.[1],ee=/^\d+$/.test(Q)?void 0:(0,b.t)("toast.unrecognizedLinkFormat");return L="video",W="https://player.vimeo.com/video/".concat(Q,"?api=1"),V={w:560,h:315},le.set(O,{link:W,aspectRatio:V,type:L,sandbox:{allowSameOrigin:j}}),{link:W,aspectRatio:V,type:L,warning:ee,sandbox:{allowSameOrigin:j}}}if(W.match(fe))return L="generic",W="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(W)),V={w:550,h:550},le.set(O,{link:W,aspectRatio:V,type:L,sandbox:{allowSameOrigin:j}}),{link:W,aspectRatio:V,type:L,sandbox:{allowSameOrigin:j}};var me=W.match(B);if(me)return W=me[1]==="embed"?me[0]:me[0].replace("/v","/embed"),le.set(O,{link:W,aspectRatio:V,type:L,sandbox:{allowSameOrigin:j}}),{link:W,aspectRatio:V,type:L,sandbox:{allowSameOrigin:j}};if(U.test(W)){var Te=W.match(U)[1],Ue=(0,F.tO)("https://twitter.com/x/status/".concat(Te)),qe={type:"document",srcdoc:function(ye){return r('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(ye,'"><a href="').concat(Ue,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},aspectRatio:{w:480,h:480},sandbox:{allowSameOrigin:j}};return le.set(O,qe),qe}if(X.test(W)){var Ae=W.match(X),Oe=(0,w.Z)(Ae,3),Ie=Oe[1],Re=Oe[2],ke=(0,F.tO)("https://gist.github.com/".concat(Ie,"/").concat(Re)),xe={type:"document",srcdoc:function(){return r(`
          <script src="`.concat(ke,`.js"><\/script>
          <style type="text/css">
            * { margin: 0px; }
            table, .gist { height: 100%; }
            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
          </style>
        `))},aspectRatio:{w:550,h:720},sandbox:{allowSameOrigin:j}};return le.set(W,xe),xe}return le.set(W,{link:W,aspectRatio:V,type:L,sandbox:{allowSameOrigin:j}}),{link:W,aspectRatio:V,type:L,sandbox:{allowSameOrigin:j}}},g=function(W){if((0,Z.gs)(W))return!0;if(W.type==="text"){var O=(0,c.tl)(W);if(O&&(0,Z.gs)(O))return!0}return!1},s=function(W){var O,j=W.link&&W?.link!==""?W.link:"Empty Web-Embed",L=Math.max(Math.min(W.width/2,W.width/j.length),W.width/30),V=d.ut.Helvetica,ie=(0,T.mO)({fontSize:L,fontFamily:V});return(0,a.VL)({x:W.x+W.width/2,y:W.y+W.height/2,strokeColor:W.strokeColor!=="transparent"?W.strokeColor:"black",backgroundColor:"transparent",fontFamily:V,fontSize:L,text:(0,c.lD)(j,ie,W.width-20),textAlign:"center",verticalAlign:d.oX.MIDDLE,angle:(O=W.angle)!==null&&O!==void 0?O:0})},u=((0,v.z)({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},perform:function(W,O,j,L){var V=(0,T.Om)(O,{type:"embeddable"});return(0,S.Uk)(L.canvas,G(G({},O),{},{activeTool:V})),{elements:W,appState:G(G({},O),{},{activeTool:(0,T.Om)(O,{type:"embeddable"})}),commitToHistory:!1}}}),function(W,O){try{var j=new URL(W).hostname.replace(/^www\./,"");if(O instanceof Set){if(E.has(j))return j;var L=j.replace(/^([^.]+)/,"*");return E.has(L)?L:null}var V=O.replace(/^www\./,"");if(j===V)return V}catch{}return null}),k=function(W){var O=W.match(R);if(O&&O.length===2)return O[1];var j=W.match(q);if(j&&j.length===2)return j[1];if(I.test(W))return"https://giphy.com/embed/".concat(I.exec(W)[1]);var L=W.match(M);return L&&L.length===2?L[1]:W},N=function(W,O){if(!W)return!1;if(O!=null)if(typeof O=="function"){var j=O(W);if(typeof j=="boolean")return j}else{if(typeof O=="boolean")return O;if(O instanceof RegExp)return O.test(W);if(Array.isArray(O)){var L,V=_(O);try{for(V.s();!(L=V.n()).done;){var ie=L.value;if(ie instanceof RegExp){if(W.match(ie))return!0}else if(u(W,ie))return!0}}catch(se){V.e(se)}finally{V.f()}return!1}}return!!u(W,E)}},4178:function(We,te,t){t.d(te,{PK:function(){return F},Xx:function(){return _},bp:function(){return x},oA:function(){return h}});var e=t(2577),w=t(7169),v=t(8950),d=t(2975),b=t.n(d),T=t(9937),S=t(8227),a=t(4183);function c(G,le){var he=Object.keys(G);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(G);le&&(ve=ve.filter(function(fe){return Object.getOwnPropertyDescriptor(G,fe).enumerable})),he.push.apply(he,ve)}return he}function Z(G){for(var le=1;le<arguments.length;le++){var he=arguments[le]!=null?arguments[le]:{};le%2?c(Object(he),!0).forEach(function(ve){(0,w.Z)(G,ve,he[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(he)):c(Object(he)).forEach(function(ve){Object.defineProperty(G,ve,Object.getOwnPropertyDescriptor(he,ve))})}return G}var F=function(G){return new Promise(function(le,he){var ve=new Image;ve.onload=function(){le(ve)},ve.onerror=function(fe){he(fe)},ve.src=G})},_=function(){var G=(0,v.Z)(b().mark(function le(he){var ve,fe,X,q,U;return b().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return ve=he.fileIds,fe=he.files,X=he.imageCache,q=new Map,U=new Map,R.next=5,Promise.all(ve.reduce(function(B,M){var I=fe[M];return I&&!q.has(M)?(q.set(M,!0),B.concat((0,v.Z)(b().mark(function E(){var p,r,o;return b().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(g.prev=0,I.mimeType!==T.LO.binary){g.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return p=F(I.dataURL),r={image:p,mimeType:I.mimeType},X.set(M,r),g.next=8,p;case 8:o=g.sent,X.set(M,Z(Z({},r),{},{image:o})),g.next=15;break;case 12:g.prev=12,g.t0=g.catch(0),U.set(M,!0);case 15:case"end":return g.stop()}},E,null,[[0,12]])}))())):B},[]));case 5:return R.abrupt("return",{imageCache:X,updatedFiles:q,erroredFiles:U});case 6:case"end":return R.stop()}},le)}));return function(le){return G.apply(this,arguments)}}(),h=function(G){return G.filter(function(le){return(0,a.wi)(le)})},x=function(){var G=(0,v.Z)(b().mark(function le(he){var ve,fe,X,q,U,R,B;return b().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(ve=new DOMParser().parseFromString(he,T.LO.svg),fe=ve.querySelector("svg"),!ve.querySelector("parsererror")&&((I=fe)==null?void 0:I.nodeName.toLowerCase())==="svg"){M.next=7;break}throw new Error((0,S.t)("errors.invalidSVGString"));case 7:return fe.hasAttribute("xmlns")||fe.setAttribute("xmlns",T.hR),fe.hasAttribute("width")&&fe.hasAttribute("height")||(X=fe.getAttribute("viewBox"),q=fe.getAttribute("width")||"50",U=fe.getAttribute("height")||"50",X&&(R=X.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(B=(0,e.Z)(R,3),q=B[1],U=B[2]),fe.setAttribute("width",q),fe.setAttribute("height",U)),M.abrupt("return",fe.outerHTML);case 10:case"end":return M.stop()}var I},le)}));return function(le){return G.apply(this,arguments)}}()},7651:function(We,te,t){t.d(te,{ox:function(){return T.ox},BQ:function(){return j},_M:function(){return L},EJ:function(){return I},o8:function(){return U},Sy:function(){return d.Sy},Y5:function(){return b.Y5},os:function(){return b.os},KP:function(){return b.KP},Un:function(){return G},UC:function(){return b.UC},$V:function(){return M},qf:function(){return b.qf},Pi:function(){return b.Pi},jt:function(){return _},o4:function(){return w.o4},Lm:function(){return k},Xf:function(){return N},Qp:function(){return w.Qp},T:function(){return le.T},xx:function(){return le.xx},Uo:function(){return s},n2:function(){return h},PC:function(){return T.PC},kK:function(){return T.kK},n_:function(){return u},wX:function(){return S.wX},r2:function(){return v.r2},He:function(){return v.He},wB:function(){return S.wB},QD:function(){return w.QD},qP:function(){return W},iB:function(){return v.iB},Up:function(){return d.Up},vw:function(){return d.vw},y8:function(){return d.y8},VL:function(){return d.VL},oN:function(){return fe.oN},JZ:function(){return d.JZ},RT:function(){return r},b_:function(){return E.b_},vY:function(){return le.vY},N_:function(){return d.N_}});var e=t(7169),w=t(7935),v=t(4183),d=t(5742),b=t(4949),T=t(4048),S=t(3528),a=t(2577),c=t(2726),Z=["rotation"],F=function(V,ie,se){return ie>=V[0]&&ie<=V[0]+V[2]&&se>=V[1]&&se<=V[1]+V[3]},_=function(V,ie,se,ue,pe,Q){return V.reduce(function(ee,me){if(ee)return ee;var Te=function(Ue,qe,Ae,Oe,Ie,Re){if(!qe.selectedElementIds[Ue.id])return!1;var ke=(0,T.PC)(Ue,Ie,Re),xe=ke.rotation,ye=(0,c.Z)(ke,Z);if(xe&&F(xe,Ae,Oe))return"rotation";var P=Object.keys(ye).filter(function(l){var f=ye[l];return!!f&&F(f,Ae,Oe)});return P.length>0&&P[0]}(me,ie,se,ue,pe,Q);return Te?{element:me,transformHandleType:Te}:null},null)},h=function(V,ie,se,ue,pe){var Q=(0,a.Z)(V,4),ee=Q[0],me=Q[1],Te=Q[2],Ue=Q[3],qe=(0,T.kK)([ee,me,Te,Ue,(ee+Te)/2,(me+Ue)/2],0,ue,pe,T.ox);return Object.keys(qe).find(function(Ae){var Oe=qe[Ae];return Oe&&F(Oe,ie,se)})||!1},x=["ns","nesw","ew","nwse"],G=function(V){var ie=V.element,se=V.transformHandleType,ue=ie&&Math.sign(ie.height)*Math.sign(ie.width)==-1,pe=null;switch(se){case"n":case"s":pe="ns";break;case"w":case"e":pe="ew";break;case"nw":case"se":pe=ue?"nesw":"nwse";break;case"ne":case"sw":pe=ue?"nwse":"nesw";break;case"rotation":return"grab"}return pe&&ie&&(pe=function(Q,ee){var me=x.indexOf(Q);if(me>=0){var Te=Math.round(ee/(Math.PI/4));Q=x[(me+Te)%x.length]}return Q}(pe,ie.angle)),pe?"".concat(pe,"-resize"):""},le=t(4381),he=t(9645),ve=t(583),fe=t(4761),X=t(9215),q=t(2361),U=function(V,ie,se,ue,pe,Q,ee){var me=new Set(ie),Te=ie.filter(function(Ae){return(0,v.He)(Ae)}).map(function(Ae){return Ae.id});Te.length>0&&pe.getNonDeletedElements().filter(function(Ae){return!(0,v.Xh)(Ae)}).filter(function(Ae){return Ae.frameId!==null}).filter(function(Ae){return Te.includes(Ae.frameId)}).forEach(function(Ae){return me.add(Ae)});var Ue=(0,b.KP)(Array.from(me).map(function(Ae){var Oe;return(Oe=V.originalElements.get(Ae.id))!==null&&Oe!==void 0?Oe:Ae})),qe=R(Ue,se,Q,ee);me.forEach(function(Ae){if(B(V,Ae,qe),!(0,v.Yv)(Ae)&&(!Ae.groupIds.length||ue.editingGroupId&&!(0,X.zq)(ue,Ae))){var Oe=(0,fe.WJ)(Ae);Oe&&B(V,Oe,qe)}(0,he.Ww)(Ae,{simultaneouslyUpdated:Array.from(me)})})},R=function(V,ie,se,ue){var pe=(0,a.Z)(V,2),Q=pe[0],ee=pe[1],me=Q+ie.x+se.x,Te=ee+ie.y+se.y;if(se.x===0||se.y===0){var Ue=(0,q.wC)(Q+ie.x,ee+ie.y,ue),qe=(0,a.Z)(Ue,2),Ae=qe[0],Oe=qe[1];se.x===0&&(me=Ae),se.y===0&&(Te=Oe)}return{x:me-Q,y:Te-ee}},B=function(V,ie,se){var ue,pe=(ue=V.originalElements.get(ie.id))!==null&&ue!==void 0?ue:ie,Q=pe.x+se.x,ee=pe.y+se.y;(0,ve.DR)(ie,{x:Q,y:ee})},M=function(V,ie,se){var ue=(0,b.KP)(V),pe=(0,a.Z)(ue,2);return[ie-pe[0],se-pe[1]]},I=function(V,ie,se,ue,pe,Q,ee,me,Te,Ue,qe){var Ae=arguments.length>11&&arguments[11]!==void 0?arguments[11]:null;if(Te&&V.type!=="selection")if(qe)me=ee/qe;else{if(Math.abs(Q-ue)>Math.abs(pe-se)){var Oe=(0,w.uK)(ie,me,pe<se?-ee:ee);ee=Oe.width,me=Oe.height}else{var Ie=(0,w.uK)(ie,ee,Q<ue?-me:me);ee=Ie.width,me=Ie.height}me<0&&(me=-me)}var Re,ke,xe=pe<se?se-ee:se,ye=Q<ue?ue-me:ue;Ue&&(xe=se-(ee+=ee)/2,ye=ue-(me+=me)/2),ee!==0&&me!==0&&(0,ve.DR)(V,{x:xe+((Re=Ae?.x)!==null&&Re!==void 0?Re:0),y:ye+((ke=Ae?.y)!==null&&ke!==void 0?ke:0),width:ee,height:me})},E=t(3474),p=t(4105),r=function(V,ie){return!!(!V.viewModeEnabled&&(V.activeTool.type!=="custom"&&(V.editingElement||V.activeTool.type!=="selection"&&V.activeTool.type!=="eraser"&&V.activeTool.type!=="hand"&&V.activeTool.type!=="laser")||(0,p.eD)(ie,V).length))};function o(V,ie){var se=Object.keys(V);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(V);ie&&(ue=ue.filter(function(pe){return Object.getOwnPropertyDescriptor(V,pe).enumerable})),se.push.apply(se,ue)}return se}function g(V){for(var ie=1;ie<arguments.length;ie++){var se=arguments[ie]!=null?arguments[ie]:{};ie%2?o(Object(se),!0).forEach(function(ue){(0,e.Z)(V,ue,se[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(se)):o(Object(se)).forEach(function(ue){Object.defineProperty(V,ue,Object.getOwnPropertyDescriptor(se,ue))})}return V}var s=function(V){return V.reduce(function(ie,se){return ie+se.version},0)},u=function(V){return V.filter(function(ie){return!ie.isDeleted&&!(0,w.QD)(ie)})},k=function(V){return V.filter(function(ie){return!ie.isDeleted})},N=function(V){return V.filter(function(ie){return!ie.isDeleted})},W=function(V){return!V.isDeleted},O=function(V){return k(V).map(function(ie){return(0,v.dt)(ie.type)?g(g({},ie),{},{lastCommittedPoint:null}):ie})},j=function(V){return O(V)},L=function(V){return O(V)}},7422:function(We,te,t){t.d(te,{_:function(){return R}});var e=t(1930),w=t(7169),v=t(2577),d=t(8821),b=t(5169),T=t(2361),S=t(7651),a=t(4949),c=t(583),Z=t(457),F=t(9645),_=t(9827),h=t(4183),x=t(5491),G=t(4761),le=t(9937),he=t(2921);function ve(M,I){var E=typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!E){if(Array.isArray(M)||(E=function(u,k){if(u){if(typeof u=="string")return fe(u,k);var N=Object.prototype.toString.call(u).slice(8,-1);if(N==="Object"&&u.constructor&&(N=u.constructor.name),N==="Map"||N==="Set")return Array.from(u);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return fe(u,k)}}(M))||I){E&&(M=E);var p=0,r=function(){};return{s:r,n:function(){return p>=M.length?{done:!0}:{done:!1,value:M[p++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,g=!0,s=!1;return{s:function(){E=E.call(M)},n:function(){var u=E.next();return g=u.done,u},e:function(u){s=!0,o=u},f:function(){try{g||E.return==null||E.return()}finally{if(s)throw o}}}}function fe(M,I){(I==null||I>M.length)&&(I=M.length);for(var E=0,p=new Array(I);E<I;E++)p[E]=M[E];return p}function X(M,I){var E=Object.keys(M);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(M);I&&(p=p.filter(function(r){return Object.getOwnPropertyDescriptor(M,r).enumerable})),E.push.apply(E,p)}return E}function q(M){for(var I=1;I<arguments.length;I++){var E=arguments[I]!=null?arguments[I]:{};I%2?X(Object(E),!0).forEach(function(p){(0,w.Z)(M,p,E[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(E)):X(Object(E)).forEach(function(p){Object.defineProperty(M,p,Object.getOwnPropertyDescriptor(E,p))})}return M}var U={version:null,points:[],zoom:null},R=function(){function M(I,E){(0,d.Z)(this,M),this.elementId=I.id,Z.Z.mapElementToScene(this.elementId,E),M.normalizePoints(I),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,b.Z)(M,null,[{key:"getElement",value:function(I){var E,p=(E=Z.Z.getScene(I))===null||E===void 0?void 0:E.getNonDeletedElement(I);return p||null}},{key:"handleBoxSelection",value:function(I,E,p){var r;if(!E.editingLinearElement||((r=E.draggingElement)===null||r===void 0?void 0:r.type)!=="selection")return!1;var o=E.editingLinearElement,g=o.selectedPointsIndices,s=o.elementId,u=M.getElement(s);if(!u)return!1;var k=(0,S.qf)(E.draggingElement),N=(0,v.Z)(k,4),W=N[0],O=N[1],j=N[2],L=N[3],V=M.getPointsGlobalCoordinates(u).reduce(function(ie,se,ue){return(se[0]>=W&&se[0]<=j&&se[1]>=O&&se[1]<=L||I.shiftKey&&g!=null&&g.includes(ue))&&ie.push(ue),ie},[]);p({editingLinearElement:q(q({},o),{},{selectedPointsIndices:V.length?V:null})})}},{key:"handlePointDragging",value:function(I,E,p,r,o,g){if(!g)return!1;var s=g.selectedPointsIndices,u=g.elementId,k=M.getElement(u);if(!k)return!1;var N=k.points[g.pointerDownState.lastClickedPoint];if(s&&N){if((0,x.Ge)(I)&&s.length===1&&k.points.length>1){var W=s[0],O=k.points[W===0?1:W-1],j=M._getShiftLockedDelta(k,O,[p,r],I[x.tW.CTRL_OR_CMD]?null:E.gridSize),L=(0,v.Z)(j,2),V=L[0],ie=L[1];M.movePoints(k,[{index:W,point:[V+O[0],ie+O[1]],isDragging:W===g.pointerDownState.lastClickedPoint}])}else{var se=M.createPointAt(k,p-g.pointerOffset.x,r-g.pointerOffset.y,I[x.tW.CTRL_OR_CMD]?null:E.gridSize),ue=se[0]-N[0],pe=se[1]-N[1];M.movePoints(k,s.map(function(me){return{index:me,point:me===g.pointerDownState.lastClickedPoint?M.createPointAt(k,p-g.pointerOffset.x,r-g.pointerOffset.y,I[x.tW.CTRL_OR_CMD]?null:E.gridSize):[k.points[me][0]+ue,k.points[me][1]+pe],isDragging:me===g.pointerDownState.lastClickedPoint}}))}if((0,G.WJ)(k)&&(0,G.RB)(k,!1),(0,h.Mn)(k,!1)){var Q=[];s[0]===0&&Q.push((0,_.AK)(M.getPointGlobalCoordinates(k,k.points[0])));var ee=s[s.length-1];ee===k.points.length-1&&Q.push((0,_.AK)(M.getPointGlobalCoordinates(k,k.points[ee]))),Q.length&&o(k,Q)}return!0}return!1}},{key:"handlePointerUp",value:function(I,E,p){var r,o=E.elementId,g=E.selectedPointsIndices,s=E.isDragging,u=E.pointerDownState,k=M.getElement(o);if(!k)return E;var N={};if(s&&g){var W,O=ve(g);try{for(O.s();!(W=O.n()).done;){var j=W.value;if(j===0||j===k.points.length-1){(0,T.g6)(k.points,p.zoom.value)&&M.movePoints(k,[{index:j,point:j===0?k.points[k.points.length-1]:k.points[0]}]);var L=(0,F.N1)(p)?(0,F.Y9)((0,_.AK)(M.getPointAtIndexGlobalCoordinates(k,j)),Z.Z.getScene(k)):null;N[j===0?"startBindingElement":"endBindingElement"]=L}}}catch(V){O.e(V)}finally{O.f()}}return q(q(q({},E),N),{},{selectedPointsIndices:s||I.shiftKey?!s&&I.shiftKey&&(r=u.prevSelectedPointsIndices)!==null&&r!==void 0&&r.includes(u.lastClickedPoint)?g&&g.filter(function(V){return V!==u.lastClickedPoint}):g:g!=null&&g.includes(u.lastClickedPoint)?[u.lastClickedPoint]:g,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(I,E,p,r){var o=(0,T.LW)(E[0],E[1],p[0],p[1]);return I.points.length>2&&I.roundness&&(o=(0,T.eH)(I,p)),o*r.value<4*M.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(I,E,p,r){var o=(0,T.H5)(E,p);if(I.points.length>2&&I.roundness){var g=(0,T.yB)(I,I.points[r]);if(g){var s=(0,T.lk)(I,I.points[r],.5),u=(0,T.N_)(g[0],g[1],g[2],g[3],s),k=(0,v.Z)(u,2),N=k[0],W=k[1];o=M.getPointGlobalCoordinates(I,[N,W])}}return o}},{key:"getSegmentMidPointIndex",value:function(I,E,p){var r=M.getElement(I.elementId);if(!r)return-1;for(var o=M.getEditorMidPoints(r,E),g=0;g<o.length;){if(M.arePointsEqual(p,o[g]))return g+1;g++}return-1}},{key:"handlePointerDown",value:function(I,E,p,r,o){var g,s={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!o)return s;var u=o.elementId,k=M.getElement(u);if(!k)return s;var N=M.getSegmentMidpointHitCoords(o,r,E),W=null;if(N&&(W=M.getSegmentMidPointIndex(o,E,N)),I.altKey&&E.editingLinearElement)return o.lastUncommittedPoint==null&&((0,c.DR)(k,{points:[].concat((0,e.Z)(k.points),[M.createPointAt(k,r.x,r.y,I[x.tW.CTRL_OR_CMD]?null:E.gridSize)])}),s.didAddPoint=!0),p.resumeRecording(),s.linearElementEditor=q(q({},o),{},{pointerDownState:{prevSelectedPointsIndices:o.selectedPointsIndices,lastClickedPoint:-1,origin:{x:r.x,y:r.y},segmentMidpoint:{value:N,index:W,added:!1}},selectedPointsIndices:[k.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,F.Y9)(r,Z.Z.getScene(k))}),s.didAddPoint=!0,s;var O=M.getPointIndexUnderCursor(k,E.zoom,r.x,r.y);if(O>=0||N)s.hitElement=k;else{var j=o.startBindingElement,L=o.endBindingElement;(0,F.N1)(E)&&(0,h.Mn)(k)&&(0,F.HG)(k,j,L)}var V=(0,S.qf)(k),ie=(0,v.Z)(V,4),se=ie[0],ue=ie[1],pe=(se+ie[2])/2,Q=(ue+ie[3])/2,ee=O>-1&&(0,T.U1)(k.x+k.points[O][0],k.y+k.points[O][1],pe,Q,k.angle),me=O>-1||I.shiftKey?I.shiftKey||(g=o.selectedPointsIndices)!==null&&g!==void 0&&g.includes(O)?B([].concat((0,e.Z)(o.selectedPointsIndices||[]),[O])):[O]:null;return s.linearElementEditor=q(q({},o),{},{pointerDownState:{prevSelectedPointsIndices:o.selectedPointsIndices,lastClickedPoint:O,origin:{x:r.x,y:r.y},segmentMidpoint:{value:N,index:W,added:!1}},selectedPointsIndices:me,pointerOffset:ee?{x:r.x-ee[0],y:r.y-ee[1]}:{x:0,y:0}}),s}},{key:"arePointsEqual",value:function(I,E){return!I&&!E||!(!I||!E)&&(0,T.Jj)(I,E)}},{key:"handlePointerMove",value:function(I,E,p,r){if(!r.editingLinearElement)return null;var o=r.editingLinearElement,g=o.elementId,s=o.lastUncommittedPoint,u=M.getElement(g);if(!u)return r.editingLinearElement;var k,N=u.points,W=N[N.length-1];if(!I.altKey)return W===s&&M.deletePoints(u,[N.length-1]),q(q({},r.editingLinearElement),{},{lastUncommittedPoint:null});if((0,x.Ge)(I)&&N.length>=2){var O=N[N.length-2],j=M._getShiftLockedDelta(u,O,[E,p],I[x.tW.CTRL_OR_CMD]?null:r.gridSize),L=(0,v.Z)(j,2),V=L[0],ie=L[1];k=[V+O[0],ie+O[1]]}else k=M.createPointAt(u,E-r.editingLinearElement.pointerOffset.x,p-r.editingLinearElement.pointerOffset.y,I[x.tW.CTRL_OR_CMD]?null:r.gridSize);return W===s?M.movePoints(u,[{index:u.points.length-1,point:k}]):M.addPoints(u,r,[{point:k}]),q(q({},r.editingLinearElement),{},{lastUncommittedPoint:u.points[u.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(I,E){var p=(0,S.qf)(I),r=(0,v.Z)(p,4),o=r[0],g=r[1],s=(o+r[2])/2,u=(g+r[3])/2,k=I.x,N=I.y,W=(0,T.U1)(k+E[0],N+E[1],s,u,I.angle),O=(0,v.Z)(W,2);return[k=O[0],N=O[1]]}},{key:"getPointsGlobalCoordinates",value:function(I){var E=(0,S.qf)(I),p=(0,v.Z)(E,4),r=p[0],o=p[1],g=p[2],s=p[3],u=(r+g)/2,k=(o+s)/2;return I.points.map(function(N){var W=I.x,O=I.y,j=(0,T.U1)(W+N[0],O+N[1],u,k,I.angle),L=(0,v.Z)(j,2);return[W=L[0],O=L[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(I,E){var p=E<0?I.points.length+E:E,r=(0,S.qf)(I),o=(0,v.Z)(r,4),g=o[0],s=o[1],u=(g+o[2])/2,k=(s+o[3])/2,N=I.points[p],W=I.x,O=I.y;return N?(0,T.U1)(W+N[0],O+N[1],u,k,I.angle):(0,T.U1)(W,O,u,k,I.angle)}},{key:"pointFromAbsoluteCoords",value:function(I,E){var p=(0,S.qf)(I),r=(0,v.Z)(p,4),o=r[0],g=r[1],s=(o+r[2])/2,u=(g+r[3])/2,k=(0,T.U1)(E[0],E[1],s,u,-I.angle),N=(0,v.Z)(k,2),W=N[0],O=N[1];return[W-I.x,O-I.y]}},{key:"getPointIndexUnderCursor",value:function(I,E,p,r){for(var o=M.getPointsGlobalCoordinates(I),g=o.length;--g>-1;){var s=o[g];if((0,T.LW)(p,r,s[0],s[1])*E.value<M.POINT_HANDLE_SIZE+1)return g}return-1}},{key:"createPointAt",value:function(I,E,p,r){var o=(0,T.wC)(E,p,r),g=(0,S.qf)(I),s=(0,v.Z)(g,4),u=s[0],k=s[1],N=(u+s[2])/2,W=(k+s[3])/2,O=(0,T.U1)(o[0],o[1],N,W,-I.angle),j=(0,v.Z)(O,2),L=j[0],V=j[1];return[L-I.x,V-I.y]}},{key:"getNormalizedPoints",value:function(I){var E=I.points,p=E[0][0],r=E[0][1];return{points:E.map(function(o,g){return[o[0]-p,o[1]-r]}),x:I.x+p,y:I.y+r}}},{key:"normalizePoints",value:function(I){(0,c.DR)(I,M.getNormalizedPoints(I))}},{key:"duplicateSelectedPoints",value:function(I){if(!I.editingLinearElement)return!1;var E=I.editingLinearElement,p=E.selectedPointsIndices,r=E.elementId,o=M.getElement(r);if(!o||p===null)return!1;var g=o.points,s=[],u=!1,k=-1,N=g.reduce(function(O,j,L){if(++k,O.push(j),p.includes(L)){var V=g[L+1];V||(u=!0),O.push(V?[(j[0]+V[0])/2,(j[1]+V[1])/2]:[j[0],j[1]]),s.push(k+1),++k}return O},[]);if((0,c.DR)(o,{points:N}),u){var W=o.points[o.points.length-1];M.movePoints(o,[{index:o.points.length-1,point:[W[0]+30,W[1]+30]}])}return{appState:q(q({},I),{},{editingLinearElement:q(q({},I.editingLinearElement),{},{selectedPointsIndices:s})})}}},{key:"deletePoints",value:function(I,E){var p=0,r=0;if(E.includes(0)){var o=I.points.find(function(s,u){return!E.includes(u)});o&&(p=o[0],r=o[1])}var g=I.points.reduce(function(s,u,k){return E.includes(k)||s.push(s.length?[u[0]-p,u[1]-r]:[0,0]),s},[]);M._updatePoints(I,g,p,r)}},{key:"addPoints",value:function(I,E,p){var r=[].concat((0,e.Z)(I.points),(0,e.Z)(p.map(function(o){return o.point})));M._updatePoints(I,r,0,0)}},{key:"movePoints",value:function(I,E,p){var r=I.points,o=0,g=0,s=E.find(function(k){return k.index===0});s&&(o=s.point[0]+r[s.index][0],g=s.point[1]+r[s.index][1]);var u=r.map(function(k,N){var W=E.find(function(L){return L.index===N});if(W){if(s)return k;var O=W.point[0]-r[W.index][0],j=W.point[1]-r[W.index][1];return[k[0]+O,k[1]+j]}return o||g?[k[0]-o,k[1]-g]:k});M._updatePoints(I,u,o,g,p)}},{key:"shouldAddMidpoint",value:function(I,E,p){if(!M.getElement(I.elementId))return!1;var r=I.pointerDownState.segmentMidpoint;if(r.added||r.value===null||r.index===null||I.pointerDownState.origin===null)return!1;var o=I.pointerDownState.origin,g=(0,T.LW)(o.x,o.y,E.x,E.y);return!(!p.editingLinearElement&&g<le.f/p.zoom.value)}},{key:"addMidpoint",value:function(I,E,p,r){var o=M.getElement(I.elementId);if(o){var g=I.pointerDownState.segmentMidpoint,s={pointerDownState:I.pointerDownState,selectedPointsIndices:I.selectedPointsIndices},u=M.createPointAt(o,E.x,E.y,r?p.gridSize:null),k=[].concat((0,e.Z)(o.points.slice(0,g.index)),[u],(0,e.Z)(o.points.slice(g.index)));return(0,c.DR)(o,{points:k}),s.pointerDownState=q(q({},I.pointerDownState),{},{segmentMidpoint:q(q({},I.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:g.index}),s.selectedPointsIndices=[g.index],s}}},{key:"_updatePoints",value:function(I,E,p,r,o){var g=(0,a.Ut)(I,E),s=(0,a.Ut)(I,I.points),u=(g[0]+g[2])/2,k=(g[1]+g[3])/2,N=(s[0]+s[2])/2-u,W=(s[1]+s[3])/2-k,O=(0,T.U1)(p,r,N,W,I.angle);(0,c.DR)(I,q(q({},o),{},{points:E,x:I.x+O[0],y:I.y+O[1]}))}},{key:"_getShiftLockedDelta",value:function(I,E,p,r){var o=M.getPointGlobalCoordinates(I,E),g=(0,T.wC)(p[0],p[1],r),s=(0,v.Z)(g,2),u=s[0],k=s[1],N=(0,S.o4)(o[0],o[1],u,k),W=N.width,O=N.height;return(0,T.xj)([W,O],[0,0],-I.angle)}}]),M}();R.POINT_HANDLE_SIZE=10,R.getEditorMidPoints=function(M,I){var E=(0,G.WJ)(M);return!I.editingLinearElement&&M.points.length>2&&!E?[]:(U.version===M.version&&U.zoom===I.zoom.value||R.updateEditorMidPointsCache(M,I),U.points)},R.updateEditorMidPointsCache=function(M,I){for(var E=R.getPointsGlobalCoordinates(M),p=0,r=[];p<E.length-1;)if(R.isSegmentTooShort(M,M.points[p],M.points[p+1],I.zoom))r.push(null),p++;else{var o=R.getSegmentMidPoint(M,E[p],E[p+1],p+1);r.push(o),p++}U.points=r,U.version=M.version,U.zoom=I.zoom.value},R.getSegmentMidpointHitCoords=function(M,I,E){var p=M.elementId,r=R.getElement(p);if(!r||R.getPointIndexUnderCursor(r,E.zoom,I.x,I.y)>=0||R.getPointsGlobalCoordinates(r).length>=3&&!E.editingLinearElement)return null;var o=R.POINT_HANDLE_SIZE/E.zoom.value,g=M.segmentMidPointHoveredCoords;if(g&&(0,T.LW)(g[0],g[1],I.x,I.y)<=o)return g;for(var s=0,u=R.getEditorMidPoints(r,E);s<u.length;){if(u[s]!==null&&(0,T.LW)(u[s][0],u[s][1],I.x,I.y)<=o)return u[s];s++}return null},R.getBoundTextElementPosition=function(M,I){var E=R.getPointsGlobalCoordinates(M);E.length<2&&(0,c.DR)(I,{isDeleted:!0});var p=0,r=0;if(M.points.length%2==1){var o=Math.floor(M.points.length/2),g=R.getPointGlobalCoordinates(M,M.points[o]);p=g[0]-I.width/2,r=g[1]-I.height/2}else{var s=M.points.length/2-1,u=U.points[s];M.points.length===2&&(u=(0,T.H5)(E[0],E[1])),u&&U.version===M.version||(u=R.getSegmentMidPoint(M,E[s],E[s+1],s+1)),p=u[0]-I.width/2,r=u[1]-I.height/2}return{x:p,y:r}},R.getMinMaxXYWithBoundText=function(M,I,E){var p=(0,v.Z)(I,4),r=p[0],o=p[1],g=p[2],s=p[3],u=(r+g)/2,k=(o+s)/2,N=R.getBoundTextElementPosition(M,E),W=N.x,O=N.y,j=W+E.width,L=O+E.height,V=(0,T.xj)([r,o],[u,k],M.angle),ie=(0,T.xj)([g,o],[u,k],M.angle),se=(0,T.xj)([W,O],[u,k],-M.angle),ue=(0,T.xj)([j,O],[u,k],-M.angle),pe=(0,T.xj)([W,L],[u,k],-M.angle),Q=(0,T.xj)([j,L],[u,k],-M.angle);return V[0]<ie[0]&&V[1]>=ie[1]?(r=Math.min(r,pe[0]),g=Math.max(g,Math.max(ue[0],Q[0])),o=Math.min(o,se[1]),s=Math.max(s,Q[1])):V[0]>=ie[0]&&V[1]>ie[1]?(r=Math.min(r,Q[0]),g=Math.max(g,Math.max(se[0],ue[0])),o=Math.min(o,pe[1]),s=Math.max(s,ue[1])):V[0]>=ie[0]?(r=Math.min(r,ue[0]),g=Math.max(g,pe[0]),o=Math.min(o,Q[1]),s=Math.max(s,se[1])):V[1]<=ie[1]&&(r=Math.min(r,Math.min(ue[0],se[0])),g=Math.max(g,Q[0]),o=Math.min(o,ue[1]),s=Math.max(s,pe[1])),[r,o,g,s,u,k]},R.getElementAbsoluteCoords=function(M){var I,E,p,r,o,g=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(M.points.length<2||!he.R.get(M)){var s=M.points.reduce(function(Te,Ue){var qe=(0,v.Z)(Ue,2),Ae=qe[0],Oe=qe[1];return Te.minY=Math.min(Te.minY,Oe),Te.minX=Math.min(Te.minX,Ae),Te.maxX=Math.max(Te.maxX,Ae),Te.maxY=Math.max(Te.maxY,Oe),Te},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),u=s.minX,k=s.minY,N=s.maxX,W=s.maxY;E=u+M.x,p=k+M.y,r=N+M.x,o=W+M.y}else{var O=he.R.generateElementShape(M),j=(0,a.CM)(O[0]),L=(0,a.IX)(j),V=(0,v.Z)(L,4),ie=V[0],se=V[1],ue=V[2],pe=V[3];E=ie+M.x,p=se+M.y,r=ue+M.x,o=pe+M.y}var Q=(E+r)/2,ee=(p+o)/2;if(I=[E,p,r,o,Q,ee],!g)return I;var me=(0,G.WJ)(M);return me&&(I=R.getMinMaxXYWithBoundText(M,[E,p,r,o],me)),I};var B=function(M){var I=(0,e.Z)(new Set(M.filter(function(E){return E!==null&&E!==-1})));return(I=I.sort(function(E,p){return E-p})).length?I:null}},583:function(We,te,t){t.d(te,{BE:function(){return F},DR:function(){return Z},ZP:function(){return _}});var e=t(6655),w=t(7169),v=t(457),d=t(5999),b=t(4643),T=t(9827),S=t(2921);function a(h,x){var G=Object.keys(h);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(h);x&&(le=le.filter(function(he){return Object.getOwnPropertyDescriptor(h,he).enumerable})),G.push.apply(G,le)}return G}function c(h){for(var x=1;x<arguments.length;x++){var G=arguments[x]!=null?arguments[x]:{};x%2?a(Object(G),!0).forEach(function(le){(0,w.Z)(h,le,G[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(G)):a(Object(G)).forEach(function(le){Object.defineProperty(h,le,Object.getOwnPropertyDescriptor(G,le))})}return h}var Z=function(h,x){var G,le=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],he=!1,ve=x,fe=ve.points,X=ve.fileId;for(var q in fe!==void 0&&(x=c(c({},(0,d.k)(fe)),x)),x){var U=x[q];if(U!==void 0){if(h[q]===U&&((0,e.Z)(U)!=="object"||U===null||q==="groupIds"||q==="scale"))continue;if(q==="scale"){var R=h[q],B=U;if(R[0]===B[0]&&R[1]===B[1])continue}else if(q==="points"){var M=h[q],I=U;if(M.length===I.length){for(var E=!1,p=M.length;--p;){var r=M[p],o=I[p];if(r[0]!==o[0]||r[1]!==o[1]){E=!0;break}}if(!E)continue}}h[q]=U,he=!0}}return he&&(x.height===void 0&&x.width===void 0&&X===void 0&&fe===void 0||S.R.delete(h),h.version++,h.versionNonce=(0,b.LU)(),h.updated=(0,T.C3)(),le&&((G=v.Z.getScene(h))===null||G===void 0||G.informMutation())),h},F=function(h,x){var G=!1;for(var le in x){var he=x[le];if(he!==void 0){if(h[le]===he&&((0,e.Z)(he)!=="object"||he===null))continue;G=!0}}return G?c(c(c({},h),x),{},{updated:(0,T.C3)(),version:h.version+1,versionNonce:(0,b.LU)()}):h},_=function(h,x){return h.version=(x??h.version)+1,h.versionNonce=(0,b.LU)(),h.updated=(0,T.C3)(),h}},5742:function(We,te,t){t.d(te,{JZ:function(){return I},KE:function(){return p},M:function(){return q},M3:function(){return U},N_:function(){return E},OL:function(){return s},Sy:function(){return k},Up:function(){return X},VL:function(){return B},_N:function(){return N},vw:function(){return o},y8:function(){return r}});var e=t(6655),w=t(2577),v=t(7169),d=t(2726),b=t(9827),T=t(4643),S=t(583),a=t(9215),c=t(7651),Z=t(2361),F=t(4949),_=t(4761),h=t(9937),x=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","roundness","boundElements","link","locked"];function G(W,O){var j=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!j){if(Array.isArray(W)||(j=function(pe,Q){if(pe){if(typeof pe=="string")return le(pe,Q);var ee=Object.prototype.toString.call(pe).slice(8,-1);if(ee==="Object"&&pe.constructor&&(ee=pe.constructor.name),ee==="Map"||ee==="Set")return Array.from(pe);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return le(pe,Q)}}(W))||O){j&&(W=j);var L=0,V=function(){};return{s:V,n:function(){return L>=W.length?{done:!0}:{done:!1,value:W[L++]}},e:function(pe){throw pe},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie,se=!0,ue=!1;return{s:function(){j=j.call(W)},n:function(){var pe=j.next();return se=pe.done,pe},e:function(pe){ue=!0,ie=pe},f:function(){try{se||j.return==null||j.return()}finally{if(ue)throw ie}}}}function le(W,O){(O==null||O>W.length)&&(O=W.length);for(var j=0,L=new Array(O);j<O;j++)L[j]=W[j];return L}function he(W,O){var j=Object.keys(W);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(W);O&&(L=L.filter(function(V){return Object.getOwnPropertyDescriptor(W,V).enumerable})),j.push.apply(j,L)}return j}function ve(W){for(var O=1;O<arguments.length;O++){var j=arguments[O]!=null?arguments[O]:{};O%2?he(Object(j),!0).forEach(function(L){(0,v.Z)(W,L,j[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(j)):he(Object(j)).forEach(function(L){Object.defineProperty(W,L,Object.getOwnPropertyDescriptor(j,L))})}return W}var fe=function(W,O){var j,L,V=O.x,ie=O.y,se=O.strokeColor,ue=se===void 0?h.HN.strokeColor:se,pe=O.backgroundColor,Q=pe===void 0?h.HN.backgroundColor:pe,ee=O.fillStyle,me=ee===void 0?h.HN.fillStyle:ee,Te=O.strokeWidth,Ue=Te===void 0?h.HN.strokeWidth:Te,qe=O.strokeStyle,Ae=qe===void 0?h.HN.strokeStyle:qe,Oe=O.roughness,Ie=Oe===void 0?h.HN.roughness:Oe,Re=O.opacity,ke=Re===void 0?h.HN.opacity:Re,xe=O.width,ye=xe===void 0?0:xe,P=O.height,l=P===void 0?0:P,f=O.angle,D=f===void 0?0:f,H=O.groupIds,J=H===void 0?[]:H,re=O.frameId,ae=re===void 0?null:re,ge=O.roundness,_e=ge===void 0?null:ge,ze=O.boundElements,Je=ze===void 0?null:ze,et=O.link,Ke=et===void 0?null:et,tt=O.locked,ut=tt===void 0?h.HN.locked:tt,ht=(0,d.Z)(O,x);return{id:ht.id||(0,T.kb)(),type:W,x:V,y:ie,width:ye,height:l,angle:D,strokeColor:ue,backgroundColor:Q,fillStyle:me,strokeWidth:Ue,strokeStyle:Ae,roughness:Ie,opacity:ke,groupIds:J,frameId:ae,roundness:_e,seed:(j=ht.seed)!==null&&j!==void 0?j:(0,T.LU)(),version:ht.version||1,versionNonce:(L=ht.versionNonce)!==null&&L!==void 0?L:0,isDeleted:!1,boundElements:Je,updated:(0,b.C3)(),link:Ke,locked:ut,customData:ht.customData}},X=function(W){return fe(W.type,W)},q=function(W){return ve(ve({},fe("embeddable",W)),{},{validated:W.validated})},U=function(W){return(0,S.BE)(ve(ve({},fe("frame",W)),{},{type:"frame",name:W?.name||null}),{})},R=function(W,O){return{x:W.textAlign==="center"?O.width/2:W.textAlign==="right"?O.width:0,y:W.verticalAlign==="middle"?O.height/2:0}},B=function(W){var O=W.fontFamily||h.rk,j=W.fontSize||h.n5,L=W.lineHeight||(0,_.PT)(O),V=(0,_.bG)(W.text),ie=(0,_.X1)(V,(0,b.mO)({fontFamily:O,fontSize:j}),L),se=W.textAlign||h.Hg,ue=W.verticalAlign||h.hs,pe=R({textAlign:se,verticalAlign:ue},ie);return(0,S.BE)(ve(ve({},fe("text",W)),{},{text:V,fontSize:j,fontFamily:O,textAlign:se,verticalAlign:ue,x:W.x-pe.x,y:W.y-pe.y,width:ie.width,height:ie.height,baseline:ie.baseline,containerId:W.containerId||null,originalText:V,lineHeight:L}),{})},M=function(W,O){var j,L,V=(0,_.X1)(O,(0,b.mO)(W),W.lineHeight),ie=V.width,se=V.height,ue=V.baseline,pe=W.textAlign,Q=W.verticalAlign;if(pe!=="center"||Q!==h.oX.MIDDLE||W.containerId){var ee=(0,c.qf)(W),me=(0,w.Z)(ee,4),Te=me[0],Ue=me[1],qe=me[2],Ae=me[3],Oe=(0,F.wC)(W,ie,se,!1),Ie=(0,w.Z)(Oe,4),Re=(Te-Ie[0])/2,ke=(Ue-Ie[1])/2,xe=(qe-Ie[2])/2,ye=(Ae-Ie[3])/2,P=(0,Z.yq)({s:!0,e:pe==="center"||pe==="left",w:pe==="center"||pe==="right"},W.x,W.y,W.angle,Re,ke,xe,ye),l=(0,w.Z)(P,2);j=l[0],L=l[1]}else{var f=(0,_.X1)(W.text,(0,b.mO)(W),W.lineHeight),D=R(W,{width:ie-f.width,height:se-f.height});j=W.x-D.x,L=W.y-D.y}return{width:ie,height:se,baseline:ue,x:Number.isFinite(j)?j:W.x,y:Number.isFinite(L)?L:W.y}},I=function(W){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W.text;if(!W.isDeleted){var j=(0,_.tl)(W);j&&(O=(0,_.lD)(O,(0,b.mO)(W),(0,_.iZ)(j)));var L=M(W,O);return ve({text:O},L)}},E=function(W,O){O.text;var j=O.isDeleted,L=O.originalText;return(0,S.BE)(W,ve({originalText:L,isDeleted:j??W.isDeleted},I(W,L)))},p=function(W){return ve(ve({},fe(W.type,W)),{},{points:W.points||[],pressures:[],simulatePressure:W.simulatePressure,lastCommittedPoint:null})},r=function(W){return ve(ve({},fe(W.type,W)),{},{points:W.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:W.startArrowhead||null,endArrowhead:W.endArrowhead||null})},o=function(W){var O,j,L;return ve(ve({},fe("image",W)),{},{strokeColor:"transparent",status:(O=W.status)!==null&&O!==void 0?O:"pending",fileId:(j=W.fileId)!==null&&j!==void 0?j:null,scale:(L=W.scale)!==null&&L!==void 0?L:[1,1]})},g=function W(O){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(O==null||(0,e.Z)(O)!=="object")return O;var L=Object.prototype.toString.call(O);if(L==="[object Object]"){var V=typeof O.constructor=="function"?Object.create(Object.getPrototypeOf(O)):{};for(var ie in O)if(O.hasOwnProperty(ie)){if(j===0&&(ie==="shape"||ie==="canvas"))continue;V[ie]=W(O[ie],j+1)}return V}if(Array.isArray(O)){for(var se=O.length,ue=new Array(se);se--;)ue[se]=W(O[se],j+1);return ue}return O},s=function(W){return g(W)},u=function(W){if((0,b.h2)()&&W){var O,j,L="".concat(W,"_copy");return(O=window.h)!==null&&O!==void 0&&(j=O.app)!==null&&j!==void 0&&j.getSceneElementsIncludingDeleted().find(function(V){return V.id===L})&&(L+="_copy"),L}return(0,T.kb)()},k=function(W,O,j,L){var V=s(j);return V.id=u(V.id),V.boundElements=null,V.updated=(0,b.C3)(),V.seed=(0,T.LU)(),V.groupIds=(0,a.Qy)(V.groupIds,W,function(ie){return O.has(ie)||O.set(ie,u(ie)),O.get(ie)}),L&&(V=Object.assign(V,L)),V},N=function(W,O){var j,L=[],V=(0,b.xn)(W),ie=new Map,se=function(qe){if(ie.has(qe))return ie.get(qe);if(V.has(qe)){var Ae=u(qe);return ie.set(qe,Ae),Ae}return null},ue=new Map,pe=G(W);try{for(pe.s();!(j=pe.n()).done;){var Q=j.value,ee=g(Q);if(ee.id=se(Q.id),O!=null&&O.randomizeSeed&&(ee.seed=(0,T.LU)(),(0,S.ZP)(ee)),ee.groupIds&&(ee.groupIds=ee.groupIds.map(function(qe){return ue.has(qe)||ue.set(qe,u(qe)),ue.get(qe)})),"containerId"in ee&&ee.containerId){var me=se(ee.containerId);ee.containerId=me}if("boundElements"in ee&&ee.boundElements&&(ee.boundElements=ee.boundElements.reduce(function(qe,Ae){var Oe=se(Ae.id);return Oe&&qe.push(ve(ve({},Ae),{},{id:Oe})),qe},[])),"endBinding"in ee&&ee.endBinding){var Te=se(ee.endBinding.elementId);ee.endBinding=Te?ve(ve({},ee.endBinding),{},{elementId:Te}):null}if("startBinding"in ee&&ee.startBinding){var Ue=se(ee.startBinding.elementId);ee.startBinding=Ue?ve(ve({},ee.startBinding),{},{elementId:Ue}):null}ee.frameId&&(ee.frameId=se(ee.frameId)),L.push(ee)}}catch(qe){pe.e(qe)}finally{pe.f()}return L}},4381:function(We,te,t){t.d(te,{LM:function(){return p},T:function(){return g},vY:function(){return U},xx:function(){return o}});var e=t(2726),w=t(1930),v=t(7169),d=t(2577),b=t(9937),T=t(5999),S=t(2361),a=t(4949),c=t(4183),Z=t(583),F=t(9827),_=t(9645),h=t(457),x=t(4761),G=t(7422),le=["boundTextFontSize"];function he(s,u){var k=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!k){if(Array.isArray(s)||(k=function(V,ie){if(V){if(typeof V=="string")return ve(V,ie);var se=Object.prototype.toString.call(V).slice(8,-1);if(se==="Object"&&V.constructor&&(se=V.constructor.name),se==="Map"||se==="Set")return Array.from(V);if(se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return ve(V,ie)}}(s))||u){k&&(s=k);var N=0,W=function(){};return{s:W,n:function(){return N>=s.length?{done:!0}:{done:!1,value:s[N++]}},e:function(V){throw V},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,j=!0,L=!1;return{s:function(){k=k.call(s)},n:function(){var V=k.next();return j=V.done,V},e:function(V){L=!0,O=V},f:function(){try{j||k.return==null||k.return()}finally{if(L)throw O}}}}function ve(s,u){(u==null||u>s.length)&&(u=s.length);for(var k=0,N=new Array(u);k<u;k++)N[k]=s[k];return N}function fe(s,u){var k=Object.keys(s);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(s);u&&(N=N.filter(function(W){return Object.getOwnPropertyDescriptor(s,W).enumerable})),k.push.apply(k,N)}return k}function X(s){for(var u=1;u<arguments.length;u++){var k=arguments[u]!=null?arguments[u]:{};u%2?fe(Object(k),!0).forEach(function(N){(0,v.Z)(s,N,k[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(k)):fe(Object(k)).forEach(function(N){Object.defineProperty(s,N,Object.getOwnPropertyDescriptor(k,N))})}return s}var q=function(s){return s<0?s+2*Math.PI:s>=2*Math.PI?s-2*Math.PI:s},U=function(s,u,k,N,W,O,j,L,V,ie,se,ue){if(k.length===1){var pe=(0,d.Z)(k,1)[0];return u==="rotation"?(R(pe,L,V,W,s.originalElements),(0,_.Ww)(pe)):!(0,c.iB)(pe)||u!=="nw"&&u!=="ne"&&u!=="sw"&&u!=="se"?u&&E(s.originalElements,j,pe,u,O,L,V):(I(pe,u,O,L,V),(0,_.Ww)(pe)),!0}if(k.length>1){if(u==="rotation")return r(s,k,L,V,W,ie,se),!0;if(u==="nw"||u==="ne"||u==="sw"||u==="se")return p(s,k,u,O,L,V),!0}return!1},R=function(s,u,k,N,W){var O,j=(0,a.qf)(s),L=(0,d.Z)(j,4),V=L[0],ie=L[1],se=(V+L[2])/2,ue=(ie+L[3])/2;(0,c.He)(s)?O=0:(O=5*Math.PI/2+Math.atan2(k-ue,u-se),N&&(O+=b.ay/2,O-=O%b.ay),O=q(O));var pe=(0,x.xB)(s);if((0,Z.DR)(s,{angle:O}),pe){var Q,ee=(Q=h.Z.getScene(s))===null||Q===void 0?void 0:Q.getElement(pe);ee&&!(0,c.Yv)(s)&&(0,Z.DR)(ee,{angle:O})}},B=function(s,u,k,N){return(0,c.bt)(s)||(0,c.F9)(s)?{points:(0,T.z)(0,u,(0,T.z)(1,k,s.points,N),N)}:{}},M=function(s,u,k){var N=s.width;if((0,c.Xh)(s)){var W=(0,x.tl)(s);W&&(N=(0,x.iZ)(W))}var O=s.fontSize*(u/N);if(O<b.CP)return null;var j=(0,x.X1)(s.text,(0,F.mO)({fontSize:O,fontFamily:s.fontFamily}),s.lineHeight);return{size:O,baseline:j.baseline+(k-j.height)}},I=function(s,u,k,N,W){var O,j=(0,a.qf)(s),L=(0,d.Z)(j,4),V=L[0],ie=L[1],se=L[2],ue=L[3],pe=(V+se)/2,Q=(ie+ue)/2,ee=(0,S.U1)(N,W,pe,Q,-s.angle),me=(0,d.Z)(ee,2),Te=me[0],Ue=me[1];switch(u){case"se":O=Math.max((Te-V)/(se-V),(Ue-ie)/(ue-ie));break;case"nw":O=Math.max((se-Te)/(se-V),(ue-Ue)/(ue-ie));break;case"ne":O=Math.max((Te-V)/(se-V),(ue-Ue)/(ue-ie));break;case"sw":O=Math.max((se-Te)/(se-V),(Ue-ie)/(ue-ie))}if(O>0){var qe=s.width*O,Ae=s.height*O,Oe=M(s,qe,Ae);if(Oe===null)return;var Ie=(0,a.wC)(s,qe,Ae,!1),Re=(0,d.Z)(Ie,4),ke=(V-Re[0])/2,xe=(ie-Re[1])/2,ye=(se-Re[2])/2,P=(ue-Re[3])/2,l=(0,S.yq)(function(J,re){return{n:/^(n|ne|nw)$/.test(J)||re&&/^(s|se|sw)$/.test(J),s:/^(s|se|sw)$/.test(J)||re&&/^(n|ne|nw)$/.test(J),w:/^(w|nw|sw)$/.test(J)||re&&/^(e|ne|se)$/.test(J),e:/^(e|ne|se)$/.test(J)||re&&/^(w|nw|sw)$/.test(J)}}(u,k),s.x,s.y,s.angle,ke,xe,ye,P),f=(0,d.Z)(l,2),D=f[0],H=f[1];(0,Z.DR)(s,{fontSize:Oe.size,width:qe,height:Ae,baseline:Oe.baseline,x:D,y:H})}},E=function(s,u,k,N,W,O,j){var L=s.get(k.id),V=(0,a.wC)(L,L.width,L.height,!0),ie=(0,d.Z)(V,4),se=[ie[0],ie[1]],ue=[ie[2],ie[3]],pe=(0,S.H5)(se,ue),Q=(0,S.xj)([O,j],pe,-L.angle),ee=(0,a.wC)(k,k.width,k.height,!0),me=(0,d.Z)(ee,4),Te=me[0],Ue=me[1],qe=me[2]-Te,Ae=me[3]-Ue,Oe=(ue[0]-se[0])/qe,Ie=(ue[1]-se[1])/Ae,Re={},ke=(0,x.WJ)(k);N.includes("e")&&(Oe=(Q[0]-se[0])/qe),N.includes("s")&&(Ie=(Q[1]-se[1])/Ae),N.includes("w")&&(Oe=(ue[0]-Q[0])/qe),N.includes("n")&&(Ie=(ue[1]-Q[1])/Ae);var xe=L.width,ye=L.height,P=k.width*Oe,l=k.height*Ie;if(W&&(P=2*P-xe,l=2*l-ye),u){var f=Math.abs(P)/xe,D=Math.abs(l)/ye;if(N.length===1&&(l*=f,P*=D),N.length===2){var H=Math.max(f,D);P=xe*H*Math.sign(P),l=ye*H*Math.sign(l)}}if(ke){var J=s.get(ke.id);if(J&&(Re={fontSize:J.fontSize,baseline:J.baseline}),u){var re=X(X({},k),{},{width:P,height:l}),ae=M(ke,(0,x.iZ)(re),(0,x.D9)(re,ke));if(ae===null)return;Re={fontSize:ae.size,baseline:ae.baseline}}else{var ge=(0,x.AT)((0,F.mO)(ke),ke.lineHeight),_e=(0,x.w_)(ke.fontSize,ke.lineHeight);P=Math.max(P,ge),l=Math.max(l,_e)}}var ze=(0,a.wC)(L,P,l,!0),Je=(0,d.Z)(ze,4),et=Je[0],Ke=Je[1],tt=Je[2],ut=Je[3],ht=tt-et,He=ut-Ke,Ee=[].concat(se);if(["n","w","nw"].includes(N)&&(Ee=[ue[0]-Math.abs(ht),ue[1]-Math.abs(He)]),N==="ne"){var Le=[se[0],ue[1]];Ee=[Le[0],Le[1]-Math.abs(He)]}if(N==="sw"){var Qe=[ue[0],se[1]];Ee=[Qe[0]-Math.abs(ht),Qe[1]]}u&&(["s","n"].includes(N)&&(Ee[0]=pe[0]-ht/2),["e","w"].includes(N)&&(Ee[1]=pe[1]-He/2));var ct=l<0;P<0&&(N.includes("e")&&(Ee[0]-=Math.abs(ht)),N.includes("w")&&(Ee[0]+=Math.abs(ht))),ct&&(N.includes("s")&&(Ee[1]-=Math.abs(He)),N.includes("n")&&(Ee[1]+=Math.abs(He))),W&&(Ee[0]=pe[0]-Math.abs(ht)/2,Ee[1]=pe[1]-Math.abs(He)/2);var bt=L.angle,wt=(0,S.xj)(Ee,pe,bt),zt=[Ee[0]+Math.abs(ht)/2,Ee[1]+Math.abs(He)/2],Mt=(0,S.xj)(zt,pe,bt);Ee=(0,S.xj)(wt,Mt,-bt);var Zt=(0,w.Z)(Ee),sn=L.x-et,rn=L.y-Ke;Zt[0]+=sn,Zt[1]+=rn;var Xt,on,jn=Zt[0],It=Zt[1];((0,c.bt)(k)||(0,c.F9)(k))&&(Xt=(0,T.z)(1,l,L.points,!0),on=(0,T.z)(0,P,Xt,!0));var kt={width:Math.abs(P),height:Math.abs(l),x:jn,y:It,points:on};if("scale"in k&&"scale"in L&&(0,Z.DR)(k,{scale:[(Math.sign(tt-L.x)||L.scale[0])*L.scale[0],(Math.sign(ut-L.y)||L.scale[1])*L.scale[1]]}),(0,c.Yv)(k)&&ke&&u){var Ht=kt.width/k.width*ke.fontSize;if(Ht<b.CP)return;Re.fontSize=Ht}kt.width!==0&&kt.height!==0&&Number.isFinite(kt.x)&&Number.isFinite(kt.y)&&((0,Z.DR)(k,kt),(0,_.Ww)(k,{newSize:{width:kt.width,height:kt.height}}),ke&&Re!=null&&(0,Z.DR)(ke,{fontSize:Re.fontSize,baseline:Re.baseline}),(0,x.RB)(k,N,u))},p=function(s,u,k,N,W,O){var j,L=u.reduce(function(Ht,At){var Wt=s.originalElements.get(At.id);return Wt&&Ht.push({orig:Wt,latest:At}),Ht},[]),V=L.reduce(function(Ht,At){var Wt,Kt=At.orig;if(!(0,c.bt)(Kt))return Ht;var an=(0,x.xB)(Kt);if(!an)return Ht;var bn=(Wt=s.originalElements.get(an))!==null&&Wt!==void 0?Wt:null;if(!(0,c.Xh)(bn))return Ht;var hn=G._.getBoundTextElementPosition(Kt,bn);return[].concat((0,w.Z)(Ht),[X(X({},bn),hn)])},[]),ie=(0,a.v2)(L.map(function(Ht){return Ht.orig}).concat(V)),se=ie.minX,ue=ie.minY,pe=ie.maxX,Q=ie.maxY,ee=ie.midX,me=ie.midY,Te=k,Ue=N?[ee,me]:{ne:[se,Q],se:[se,ue],sw:[pe,ue],nw:[pe,Q]}[Te],qe=(0,d.Z)(Ue,2),Ae=qe[0],Oe=qe[1],Ie=Math.max(Math.abs(W-Ae)/(pe-se)||0,Math.abs(O-Oe)/(Q-ue)||0)*(N?2:1);if(Ie!==0){var Re,ke={ne:[W>=Ae,O<=Oe],se:[W>=Ae,O>=Oe],sw:[W<=Ae,O>=Oe],nw:[W<=Ae,O<=Oe]}[Te].map(function(Ht){return Ht?1:-1}),xe=(0,d.Z)(ke,2),ye=xe[0],P=xe[1],l=ye<0,f=P<0,D=[],H=he(L);try{for(H.s();!(Re=H.n()).done;){var J,re=Re.value,ae=re.orig,ge=re.latest;if(!(0,c.iB)(ae)||!(0,c.Xh)(ae)){var _e=ae.width*Ie,ze=ae.height*Ie,Je=q(ae.angle*ye*P),et=(0,c.bt)(ae)||(0,c.F9)(ae),Ke=ae.x-Ae,tt=ae.y-Oe,ut=Ae+ye*(Ke*Ie+(l&&!et?_e:0)),ht=Oe+P*(tt*Ie+(f&&!et?ze:0)),He=B(ae,_e*ye,ze*P,!1),Ee=X({x:ut,y:ht,width:_e,height:ze,angle:Je},He);if((0,c.pC)(ae)&&L.length===1&&(Ee.scale=[ae.scale[0]*ye,ae.scale[1]*P]),(0,c.bt)(ae)&&(l||f)&&function(){var Ht=(0,a.Ut)(ae,ae.points),At=(0,a.Ut)(X(X({},ae),{},{x:ut,y:ht}),He.points),Wt=[ae.x,ae.y],Kt=[ut,ht],an=function(bn){var hn=bn==="x"?0:1;return(At[hn+2]-Kt[hn]-(Wt[hn]-Ht[hn])*Ie+(Ht[hn+2]-Wt[hn])*Ie-(Kt[hn]-At[hn]))/2};l&&(Ee.x-=an("x")),f&&(Ee.y-=an("y"))}(),(0,c.iB)(ae)){var Le=M(ae,_e,ze);if(!Le)return;Ee.fontSize=Le.size,Ee.baseline=Le.baseline}var Qe=s.originalElements.get((J=(0,x.xB)(ae))!==null&&J!==void 0?J:"");if(Qe){var ct=Qe.fontSize*Ie;if(ct<b.CP)return;Ee.boundTextFontSize=ct}D.push({element:ge,update:Ee})}}}catch(Ht){H.e(Ht)}finally{H.f()}for(var bt=D.map(function(Ht){return Ht.element}),wt=0,zt=D;wt<zt.length;wt++){var Mt=zt[wt],Zt=Mt.element,sn=Mt.update,rn=sn.boundTextFontSize,Xt=(0,e.Z)(sn,le),on=Xt.width,jn=Xt.height,It=Xt.angle;(0,Z.DR)(Zt,Xt,!1),(0,_.Ww)(Zt,{simultaneouslyUpdated:bt,newSize:{width:on,height:jn}});var kt=(0,x.WJ)(Zt);kt&&rn&&((0,Z.DR)(kt,{fontSize:rn,angle:(0,c.bt)(Zt)?void 0:It},!1),(0,x.RB)(Zt,k,!0))}(j=h.Z.getScene(D[0].element))===null||j===void 0||j.informMutation()}},r=function(s,u,k,N,W,O,j){var L,V=5*Math.PI/2+Math.atan2(N-j,k-O);W&&(V+=b.ay/2,V-=V%b.ay),u.filter(function(ie){return ie.type!=="frame"}).forEach(function(ie){var se,ue,pe=(0,a.qf)(ie),Q=(0,d.Z)(pe,4),ee=Q[0],me=Q[1],Te=(ee+Q[2])/2,Ue=(me+Q[3])/2,qe=(se=(ue=s.originalElements.get(ie.id))===null||ue===void 0?void 0:ue.angle)!==null&&se!==void 0?se:ie.angle,Ae=(0,S.U1)(Te,Ue,O,j,V+qe-ie.angle),Oe=(0,d.Z)(Ae,2),Ie=Oe[0],Re=Oe[1];(0,Z.DR)(ie,{x:ie.x+(Ie-Te),y:ie.y+(Re-Ue),angle:q(V+qe)},!1),(0,_.Ww)(ie,{simultaneouslyUpdated:u});var ke=(0,x.WJ)(ie);ke&&!(0,c.Yv)(ie)&&(0,Z.DR)(ke,{x:ke.x+(Ie-Te),y:ke.y+(Re-Ue),angle:q(V+qe)},!1)}),(L=h.Z.getScene(u[0]))===null||L===void 0||L.informMutation()},o=function(s,u,k,N){var W=u.length===1?(0,a.qf)(u[0]):(0,a.KP)(u),O=(0,d.Z)(W,4),j=O[0],L=O[1],V=O[2],ie=O[3],se=(j+V)/2,ue=(L+ie)/2,pe=u.length===1?u[0].angle:0,Q=(0,S.U1)(k,N,se,ue,-pe),ee=(0,d.Z)(Q,2);switch(k=ee[0],N=ee[1],s){case"n":return(0,S.U1)(k-(j+V)/2,N-L,0,0,pe);case"s":return(0,S.U1)(k-(j+V)/2,N-ie,0,0,pe);case"w":return(0,S.U1)(k-j,N-(L+ie)/2,0,0,pe);case"e":return(0,S.U1)(k-V,N-(L+ie)/2,0,0,pe);case"nw":return(0,S.U1)(k-j,N-L,0,0,pe);case"ne":return(0,S.U1)(k-V,N-L,0,0,pe);case"sw":return(0,S.U1)(k-j,N-ie,0,0,pe);case"se":return(0,S.U1)(k-V,N-ie,0,0,pe);default:return[0,0]}},g=function(s,u){var k=(0,d.Z)(u.points,2),N=(0,d.Z)(k[1],2),W=N[0],O=N[1];return s==="nw"&&(W<0||O<0)||s==="ne"&&W>=0||s==="sw"&&W<=0||s==="se"&&(W>0||O>0)?"end":"origin"}},7935:function(We,te,t){t.d(te,{PZ:function(){return S},QD:function(){return T},Qp:function(){return Z},o4:function(){return c},uK:function(){return a}});var e=t(2577),w=(t(583),t(4183)),v=t(9937),d=t(4949),b=t(9827),T=function(F){return(0,w.bt)(F)||(0,w.F9)(F)?F.points.length<2:F.width===0&&F.height===0},S=function(F,_,h,x){var G=(0,d.Pi)(F),le=(0,e.Z)(G,4),he=le[0],ve=le[1],fe=le[2],X=le[3],q=(0,b.dE)({clientX:x.offsetLeft,clientY:x.offsetTop},x),U=(0,b.dE)({clientX:x.offsetLeft+_,clientY:x.offsetTop+h},x);return q.x<=fe&&q.y<=X&&U.x>=he&&U.y>=ve},a=function(F,_,h){var x=Math.abs(_),G=Math.abs(h);if(F==="line"||F==="arrow"||F==="freedraw"){var le=Math.round(Math.atan(G/x)/v.ay)*v.ay;le===0?h=0:le===Math.PI/2?_=0:h=x*Math.tan(le)*Math.sign(h)||h}else F!=="selection"&&(h=x*Math.sign(h));return{width:_,height:h}},c=function(F,_,h,x){var G=h-F,le=x-_,he=Math.round(Math.atan(le/G)/v.ay)*v.ay;if(he===0)le=0;else if(he===Math.PI/2)G=0;else{var ve=Math.tan(he),fe=_-ve*F,X=-1/ve,q=x-X*h;G=(-1*q- -1*fe)/(-1*ve- -1*X)-F,le=(fe*X-q*ve)/(-1*ve- -1*X)-_}return{width:G,height:le}},Z=function(F){var _={width:F.width,height:F.height,x:F.x,y:F.y};if(F.width<0){var h=Math.abs(F.width);_.width=h,_.x=F.x-h}if(F.height<0){var x=Math.abs(F.height);_.height=x,_.y=F.y-x}return _}},4761:function(We,te,t){t.d(te,{$2:function(){return E},AT:function(){return W},D9:function(){return Ae},FE:function(){return B},H_:function(){return ue},NS:function(){return Ue},OW:function(){return ee},P7:function(){return U},PT:function(){return Re},R8:function(){return I},RB:function(){return R},Rg:function(){return p},TP:function(){return ie},WJ:function(){return L},X1:function(){return M},Zr:function(){return Te},aV:function(){return Q},bG:function(){return fe},cn:function(){return pe},cw:function(){return se},eB:function(){return Oe},iZ:function(){return qe},lD:function(){return u},mY:function(){return g},oN:function(){return q},tl:function(){return V},w_:function(){return r},xB:function(){return j}});var e,w=t(2577),v=t(1930),d=t(7169),b=t(9827),T=t(583),S=t(9937),a=t(457),c=t(7651),Z=t(4183),F=t(7422),_=t(4105),h=t(3528),x=t(3474);function G(ke,xe){var ye=Object.keys(ke);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(ke);xe&&(P=P.filter(function(l){return Object.getOwnPropertyDescriptor(ke,l).enumerable})),ye.push.apply(ye,P)}return ye}function le(ke){for(var xe=1;xe<arguments.length;xe++){var ye=arguments[xe]!=null?arguments[xe]:{};xe%2?G(Object(ye),!0).forEach(function(P){(0,d.Z)(ke,P,ye[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(ye)):G(Object(ye)).forEach(function(P){Object.defineProperty(ke,P,Object.getOwnPropertyDescriptor(ye,P))})}return ke}var he,ve,fe=function(ke){return ke.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},X=function(ke){return fe(ke).split(`
`)},q=function(ke,xe){var ye=void 0,P={x:ke.x,y:ke.y,text:ke.text,width:ke.width,height:ke.height,baseline:ke.baseline};P.text=ke.text,xe&&(ye=qe(xe,ke),P.text=u(ke.originalText,(0,b.mO)(ke),ye));var l=M(P.text,(0,b.mO)(ke),ke.lineHeight);if(P.width=l.width,P.height=l.height,P.baseline=l.baseline,xe){var f=Ae(xe,ke),D=qe(xe);if(!(0,Z.Yv)(xe)&&l.height>f){var H=Ue(l.height,xe.type);(0,T.DR)(xe,{height:H}),(0,x.h_)(xe.id,H)}if(l.width>D){var J=Ue(l.width,xe.type);(0,T.DR)(xe,{width:J})}var re=le(le({},ke),P),ae=B(xe,re),ge=ae.x,_e=ae.y;P.x=ge,P.y=_e}(0,T.DR)(ke,P)},U=function(ke,xe,ye){var P=(0,b.xn)(ke);xe.forEach(function(l){var f=ye.get(l.id),D=j(l);if(D){var H=ye.get(D);if(H){var J=P.get(f);J&&(0,T.DR)(J,{boundElements:(l.boundElements||[]).filter(function(ae){return ae.id!==H&&ae.id!==D}).concat({type:"text",id:H})});var re=P.get(H);re&&(0,c.iB)(re)&&(0,T.DR)(re,{containerId:J?f:null})}}})},R=function(ke,xe){var ye=arguments.length>2&&arguments[2]!==void 0&&arguments[2],P=j(ke);if(P){(0,x.kT)(ke.id);var l=a.Z.getScene(ke).getElement(P);if(l&&l.text){if(!ke)return;var f=(l=a.Z.getScene(ke).getElement(P)).text,D=l.height,H=l.width,J=qe(ke),re=Ae(ke,l),ae=ke.height,ge=l.baseline;if(ye||xe!=="n"&&xe!=="s"){f&&(f=u(l.originalText,(0,b.mO)(l),J));var _e=M(f,(0,b.mO)(l),l.lineHeight);D=_e.height,H=_e.width,ge=_e.baseline}if(D>re){var ze=(ae=Ue(D,ke.type))-ke.height,Je=(0,Z.Yv)(ke)||xe!=="ne"&&xe!=="nw"&&xe!=="n"?ke.y:ke.y-ze;(0,T.DR)(ke,{height:ae,y:Je})}(0,T.DR)(l,{text:f,width:H,height:D,baseline:ge}),(0,Z.Yv)(ke)||(0,T.DR)(l,B(ke,l))}}},B=function(ke,xe){if((0,Z.Yv)(ke))return F._.getBoundTextElementPosition(ke,xe);var ye,P=se(ke),l=Ae(ke,xe),f=qe(ke);return ye=xe.verticalAlign===S.oX.TOP?P.y:xe.verticalAlign===S.oX.BOTTOM?P.y+(l-xe.height):P.y+(l/2-xe.height/2),{x:xe.textAlign===S.I8.LEFT?P.x:xe.textAlign===S.I8.RIGHT?P.x+(f-xe.width):P.x+(f/2-xe.width/2),y:ye}},M=function(ke,xe,ye){ke=ke.split(`
`).map(function(f){return f||" "}).join(`
`);var P=parseFloat(xe),l=s(ke,P,ye);return{width:g(ke,xe),height:l,baseline:I(ke,xe,ye)}},I=function(ke,xe,ye,P){var l=document.createElement("div");l.style.position="absolute",l.style.whiteSpace="pre",l.style.font=xe,l.style.minHeight="1em",P&&(l.style.overflow="hidden",l.style.wordBreak="break-word",l.style.whiteSpace="pre-wrap"),l.style.lineHeight=String(ye),l.innerText=ke,document.body.appendChild(l);var f=document.createElement("span");f.style.display="inline-block",f.style.overflow="hidden",f.style.width="1px",f.style.height="1px",l.appendChild(f);var D=f.offsetTop+f.offsetHeight,H=l.offsetHeight;if(S.G6){var J=s(ke,parseFloat(xe),ye),re=parseFloat(xe),ae=s(ke,Math.round(re),ye);J>H&&(D+=J-ae),H>J&&(D-=ae-J)}return document.body.removeChild(l),D},E=function(ke){var xe=X(ke.text).length;return ke.height/xe/ke.fontSize},p=function(ke,xe){return ke*xe},r=function(ke,xe){return p(ke,xe)+2*S.gK},o=function(ke,xe){he||(he=document.createElement("canvas"));var ye=he.getContext("2d");ye.font=xe;var P=ye.measureText(ke).width;return(0,b.h2)()?10*P:P},g=function(ke,xe){var ye=X(ke),P=0;return ye.forEach(function(l){P=Math.max(P,o(l,xe))}),P},s=function(ke,xe,ye){var P=X(ke).length;return p(xe,ye)*P},u=function(ke,xe,ye){if(!Number.isFinite(ye)||ye<0)return ke;var P=[],l=ke.split(`
`),f=o(" ",xe),D="",H=0,J=function(ae){ae.trim()&&P.push(ae)},re=function(){D="",H=0};return l.forEach(function(ae){if(g(ae,xe)<=ye)P.push(ae);else{var ge=function(ut){var ht=ut.split("-");return ht.length>1&&ht.forEach(function(He,Ee){Ee!==ht.length-1&&(ht[Ee]=He+="-")}),ht.join(" ").split(" ")}(ae);re();for(var _e=0;_e<ge.length;){var ze=o(ge[_e],xe);if(ze===ye)J(ge[_e]),_e++;else if(ze>ye){for(J(D),re();ge[_e].length>0;){var Je=String.fromCodePoint(ge[_e].codePointAt(0)),et=k.calculate(Je,xe);H+=et,ge[_e]=ge[_e].slice(Je.length),H>=ye?(J(D),D=Je,H=et):D+=Je}H+f>=ye?(J(D),re()):D.endsWith("-")||(D+=" ",H+=f),_e++}else for(;H<ye&&_e<ge.length;){var Ke=ge[_e];if((H=o(D+Ke,xe))>ye){J(D),re();break}_e++;var tt=!Ke.endsWith("-");if(D+=Ke,tt&&(D+=" "),H+f>=ye){tt?P.push(D.slice(0,-1)):P.push(D),re();break}}}D.slice(-1)===" "&&(D=D.slice(0,-1),J(D))}}),P.join(`
`)},k=(ve={},{calculate:function(ke,xe){var ye=ke.charCodeAt(0);if(ve[xe]||(ve[xe]=[]),!ve[xe][ye]){var P=o(ke,xe);ve[xe][ye]=P}return ve[xe][ye]},getCache:function(ke){return ve[ke]}}),N="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),W=function(ke,xe){var ye=O(ke);return ye===0?M(N.split("").join(`
`),ke,xe).width+2*S.gK:ye+2*S.gK},O=function(ke){var xe=k.getCache(ke);if(!xe)return 0;var ye=xe.filter(function(P){return P!==void 0});return Math.max.apply(Math,(0,v.Z)(ye))},j=function(ke){var xe,ye,P;return ke!=null&&(xe=ke.boundElements)!==null&&xe!==void 0&&xe.length&&(ke==null||(ye=ke.boundElements)===null||ye===void 0||(P=ye.filter(function(l){return l.type==="text"})[0])===null||P===void 0?void 0:P.id)||null},L=function(ke){if(!ke)return null;var xe,ye=j(ke);return ye&&((xe=a.Z.getScene(ke))===null||xe===void 0?void 0:xe.getElement(ye))||null},V=function(ke){return ke&&ke.containerId&&((xe=a.Z.getScene(ke))===null||xe===void 0?void 0:xe.getElement(ke.containerId))||null;var xe},ie=function(ke,xe){if(!(0,Z.Yv)(ke))return{x:ke.x+ke.width/2,y:ke.y+ke.height/2};var ye=F._.getPointsGlobalCoordinates(ke);if(ye.length%2==1){var P=Math.floor(ke.points.length/2),l=F._.getPointGlobalCoordinates(ke,ke.points[P]);return{x:l[0],y:l[1]}}var f=ke.points.length/2-1,D=F._.getEditorMidPoints(ke,xe)[f];return D||(D=F._.getSegmentMidPoint(ke,ye[f],ye[f+1],f+1)),{x:D[0],y:D[1]}},se=function(ke){var xe=S.gK,ye=S.gK;return ke.type==="ellipse"&&(xe+=ke.width/2*(1-Math.sqrt(2)/2),ye+=ke.height/2*(1-Math.sqrt(2)/2)),ke.type==="diamond"&&(xe+=ke.width/4,ye+=ke.height/4),{x:ke.x+xe,y:ke.y+ye}},ue=function(ke){var xe=V(ke);return!xe||(0,Z.Yv)(xe)?ke.angle:xe.angle},pe=function(ke){return ke.some(function(xe){if((0,Z.Xh)(xe)){var ye=V(xe);return!(0,c.iB)(xe)||!(0,Z.Yv)(ye)}return!1})},Q=function(ke){return ke.some(function(xe){if((0,Z.Xh)(xe)){var ye=V(xe);return!(0,c.iB)(xe)||!(0,Z.Yv)(ye)}return(0,c.iB)(xe)})},ee=function(ke,xe,ye,P){var l=(0,_.eD)(ke,xe);if(l.length===1)return(0,Z.mG)(l[0],!1)?l[0]:null;for(var f=null,D=ke.length-1;D>=0;--D)if(!ke[D].isDeleted){var H=(0,c.qf)(ke[D]),J=(0,w.Z)(H,4),re=J[0],ae=J[1],ge=J[2],_e=J[3];if((0,Z.Yv)(ke[D])&&(0,h.Qu)(ke[D],xe,null,[ye,P])){f=ke[D];break}if(re<ye&&ye<ge&&ae<P&&P<_e){f=ke[D];break}}return(0,Z.mG)(f,!1)?f:null},me=new Set(["rectangle","ellipse","diamond","arrow"]),Te=function(ke){return me.has(ke.type)},Ue=function(ke,xe){ke=Math.ceil(ke);var ye=2*S.gK;return xe==="ellipse"?Math.round((ke+ye)/Math.sqrt(2)*2):xe==="arrow"?ke+8*ye:xe==="diamond"?2*(ke+ye):ke+ye},qe=function(ke){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L(ke),ye=ke.width;if((0,Z.Yv)(ke)){var P,l=((P=xe?.fontSize)!==null&&P!==void 0?P:S.n5)*S.vL;return Math.max(S.bY*ye,l)}return ke.type==="ellipse"?Math.round(ye/2*Math.sqrt(2))-2*S.gK:ke.type==="diamond"?Math.round(ye/2)-2*S.gK:ye-2*S.gK},Ae=function(ke,xe){var ye=ke.height;return(0,Z.Yv)(ke)?ye-8*S.gK*2<=0?xe.height:ye:ke.type==="ellipse"?Math.round(ye/2*Math.sqrt(2))-2*S.gK:ke.type==="diamond"?Math.round(ye/2)-2*S.gK:ye-2*S.gK},Oe=function(){return g(N,(0,b.mO)({fontSize:S.n5,fontFamily:S.rk}))>0},Ie=(e={},(0,d.Z)(e,S.ut.Virgil,1.25),(0,d.Z)(e,S.ut.Helvetica,1.15),(0,d.Z)(e,S.ut.Cascadia,1.2),e),Re=function(ke){return ke in Ie?Ie[ke]:Ie[S.rk]}},3474:function(We,te,t){t.d(te,{b_:function(){return B},eR:function(){return R},h_:function(){return q},kT:function(){return U}});var e=t(8950),w=t(7169),v=t(2577),d=t(2975),b=t.n(d),T=t(5491),S=t(9827),a=t(457),c=t(4183),Z=t(9937),F=t(583),_=t(4761),h=t(3361),x=t(6006),G=t(7422),le=t(4694);function he(M,I){var E=Object.keys(M);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(M);I&&(p=p.filter(function(r){return Object.getOwnPropertyDescriptor(M,r).enumerable})),E.push.apply(E,p)}return E}function ve(M){for(var I=1;I<arguments.length;I++){var E=arguments[I]!=null?arguments[I]:{};I%2?he(Object(E),!0).forEach(function(p){(0,w.Z)(M,p,E[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(E)):he(Object(E)).forEach(function(p){Object.defineProperty(M,p,Object.getOwnPropertyDescriptor(E,p))})}return M}var fe=function(M,I,E,p,r,o){var g=p.zoom,s=180*E/Math.PI,u=M*(g.value-1)/2,k=I*(g.value-1)/2;return M>r&&g.value!==1&&(u=r*(g.value-1)/2),I>o&&g.value!==1&&(k=o*(g.value-1)/2),"translate(".concat(u,"px, ").concat(k,"px) scale(").concat(g.value,") rotate(").concat(s,"deg)")},X={},q=function(M,I){var E=X[M]||(X[M]={height:I});return E.height=I,E},U=function(M){X[M]&&delete X[M]},R=function(M){var I,E;return(I=(E=X[M])===null||E===void 0?void 0:E.height)!==null&&I!==void 0?I:null},B=function(M){var I=M.id,E=M.onChange,p=M.onSubmit,r=M.getViewportCoords,o=M.element,g=M.canvas,s=M.excalidrawContainer,u=M.app,k=function(){var Oe,Ie=u.state,Re=(Oe=a.Z.getScene(o))===null||Oe===void 0?void 0:Oe.getElement(I);if(Re){var ke=Re.textAlign,xe=Re.verticalAlign;if(Re&&(0,c.iB)(Re)){var ye=Re.x,P=Re.y,l=(0,_.tl)(Re),f=Re.width,D=Re.height,H=Re.width,J=Re.height;if(l&&Re.containerId){if((0,c.Yv)(l)){var re=G._.getBoundTextElementPosition(l,Re);ye=re.x,P=re.y}var ae,ge=function(ct,bt){if(!bt.style.fontFamily||!bt.style.fontSize)return!1;var wt=bt.style.fontFamily.replace(/"/g,"");return(0,S.$g)({fontFamily:ct.fontFamily})!==wt||"".concat(ct.fontSize,"px")!==bt.style.fontSize}(Re,N);if(ge?ae=q(l.id,l.height):(ae=X[l.id])||(ae=q(l.id,l.height)),f=(0,_.iZ)(l),D=(0,_.D9)(l,Re),!(0,c.Yv)(l)&&J>D){var _e=(0,_.NS)(J,l.type);return void(0,F.DR)(l,{height:_e})}if(!(0,c.Yv)(l)&&l.height>ae.height&&J<D){var ze=(0,_.NS)(J,l.type);(0,F.DR)(l,{height:ze})}else P=(0,_.FE)(l,Re).y}var Je=r(ye,P),et=(0,v.Z)(Je,2),Ke=et[0],tt=et[1],ut=N.selectionStart,ht=N.selectionEnd,He=N.value.length;if(ut===ht&&ht!==He){var Ee=He-ht;N.selectionStart=N.value.length-Ee,N.selectionEnd=N.value.length-Ee}l?H+=.5:(f=(Ie.width-8-Ke)/Ie.zoom.value,H=Math.min(H,f));var Le=Re.lineHeight;Z.G6&&(Le=(0,_.$2)(ve(ve({},Re),{},{fontSize:Math.round(Re.fontSize)})));var Qe=(Ie.height-tt)/Ie.zoom.value;Object.assign(N.style,{font:(0,S.mO)(Re),lineHeight:Le,width:"".concat(H,"px"),height:"".concat(J,"px"),left:"".concat(Ke,"px"),top:"".concat(tt,"px"),transform:fe(H,J,(0,_.H_)(Re),Ie,f,Qe),textAlign:ke,verticalAlign:xe,color:Re.strokeColor,opacity:Re.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(Qe,"px")}),N.scrollTop=0,(0,S.h2)()&&(N.style.fontFamily=(0,S.$g)(Re)),(0,F.DR)(Re,{x:ye,y:P})}}},N=document.createElement("textarea");N.dir="auto",N.tabIndex=0,N.dataset.type="wysiwyg",N.wrap="off",N.classList.add("excalidraw-wysiwyg");var W="pre",O="normal";(0,c.Xh)(o)&&(W="pre-wrap",O="break-word"),Object.assign(N.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:O,whiteSpace:W,overflowWrap:"break-word",boxSizing:"content-box"}),N.value=o.originalText,k(),E&&(N.onpaste=function(){var Oe=(0,e.Z)(b().mark(function Ie(Re){var ke,xe,ye,P,l,f;return b().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,le.mQ)(Re,!0);case 2:if((ke=D.sent).text){D.next=5;break}return D.abrupt("return");case 5:if(xe=(0,_.bG)(ke.text)){D.next=8;break}return D.abrupt("return");case 8:ye=(0,_.tl)(o),P=(0,S.mO)({fontSize:u.state.currentItemFontSize,fontFamily:u.state.currentItemFontFamily}),ye&&(l=(0,_.lD)("".concat(N.value).concat(xe),P,(0,_.iZ)(ye)),f=(0,_.mY)(l,P),N.style.width="".concat(f,"px"));case 11:case"end":return D.stop()}},Ie)}));return function(Ie){return Oe.apply(this,arguments)}}(),N.oninput=function(){E((0,_.bG)(N.value))}),N.onkeydown=function(Oe){if(!Oe.shiftKey&&x.Lo.keyTest(Oe))Oe.preventDefault(),u.actionManager.executeAction(x.Lo),k();else if(!Oe.shiftKey&&x.CZ.keyTest(Oe))Oe.preventDefault(),u.actionManager.executeAction(x.CZ),k();else if(h.Tu.keyTest(Oe))u.actionManager.executeAction(h.Tu);else if(h.Zq.keyTest(Oe))u.actionManager.executeAction(h.Zq);else if(Oe.key===T.tW.ESCAPE)Oe.preventDefault(),pe=!0,Q();else if(Oe.key===T.tW.ENTER&&Oe[T.tW.CTRL_OR_CMD]){if(Oe.preventDefault(),Oe.isComposing||Oe.keyCode===229)return;pe=!0,Q()}else if(Oe.key===T.tW.TAB||Oe[T.tW.CTRL_OR_CMD]&&(Oe.code===T.aU.BRACKET_LEFT||Oe.code===T.aU.BRACKET_RIGHT)){if(Oe.preventDefault(),Oe.isComposing)return;Oe.shiftKey||Oe.code===T.aU.BRACKET_LEFT?ie():V(),N.dispatchEvent(new Event("input"))}};var j=" ".repeat(4),L=new RegExp("^ {1,".concat(4,"}")),V=function(){var Oe=N.selectionStart,Ie=N.selectionEnd,Re=se(),ke=N.value;Re.forEach(function(xe){var ye=ke.slice(0,xe),P=ke.slice(xe);ke="".concat(ye).concat(j).concat(P)}),N.value=ke,N.selectionStart=Oe+4,N.selectionEnd=Ie+4*Re.length},ie=function(){var Oe=N.selectionStart,Ie=N.selectionEnd,Re=se(),ke=[],xe=N.value;Re.forEach(function(ye){var P=xe.slice(ye,ye+4).match(L);if(P){var l=xe.slice(0,ye),f=xe.slice(ye+P[0].length);xe="".concat(l).concat(f),ke.push(ye)}}),N.value=xe,ke.length&&(Oe>ke[ke.length-1]?N.selectionStart=Math.max(Oe-4,ke[ke.length-1]):N.selectionStart=Oe,N.selectionEnd=Math.max(N.selectionStart,Ie-4*ke.length))},se=function(){var Oe=N.selectionStart,Ie=N.selectionEnd,Re=N.value,ke=Re.slice(0,Oe).match(/[^\n]*$/)[0].length;return Oe-=ke,Re.slice(Oe,Ie).split(`
`).reduce(function(xe,ye,P,l){return xe.concat(P?xe[P-1]+l[P-1].length+1:Oe)},[]).reverse()},ue=function(Oe){Oe.preventDefault(),Oe.stopPropagation()},pe=!1,Q=function(){var Oe;ee();var Ie=(Oe=a.Z.getScene(o))===null||Oe===void 0?void 0:Oe.getElement(o.id);if(Ie){var Re=N.value,ke=(0,_.tl)(Ie);if(ke){if(Re=Ie.text,N.value.trim()){var xe=(0,_.xB)(ke);xe&&xe===o.id?(0,c.Yv)(ke)&&(0,F.ZP)(ke):(0,F.DR)(ke,{boundElements:(ke.boundElements||[]).concat({type:"text",id:o.id})})}else{var ye;(0,F.DR)(ke,{boundElements:(ye=ke.boundElements)===null||ye===void 0?void 0:ye.filter(function(P){return!(0,c.iB)(P)})})}(0,_.oN)(Ie,ke)}p({text:Re,viaKeyboard:pe,originalText:N.value})}},ee=function(){qe||(qe=!0,N.onblur=null,N.oninput=null,N.onkeydown=null,Ae&&Ae.disconnect(),window.removeEventListener("resize",k),window.removeEventListener("wheel",ue,!0),window.removeEventListener("pointerdown",Te),window.removeEventListener("pointerup",me),window.removeEventListener("blur",Q),window.removeEventListener("beforeunload",Q),Ue(),N.remove())},me=function Oe(Ie){window.removeEventListener("pointerup",Oe);var Re=Ie?.target,ke=Re instanceof HTMLElement&&Re.classList.contains("active-color");setTimeout(function(){if(N.onblur=Q,ke){var xe=new MutationObserver(function(ye,P){ye.find(function(l){var f;return l.removedNodes.length>0&&((f=l.removedNodes[0].dataset)===null||f===void 0?void 0:f.radixPopperContentWrapper)!==void 0})&&(setTimeout(function(){N.focus()}),P.disconnect())});xe.observe(document.querySelector(".excalidraw-container"),{childList:!0})}ke||N.focus()})},Te=function(Oe){var Ie=Oe.target instanceof HTMLElement&&Oe.target.classList.contains("active-color");((Oe.target instanceof HTMLElement||Oe.target instanceof SVGElement)&&Oe.target.closest(".".concat(Z.$C.SHAPE_ACTIONS_MENU))&&!(0,S.s)(Oe.target)||Ie)&&(N.onblur=null,window.addEventListener("pointerup",me),window.addEventListener("blur",Q))},Ue=a.Z.getScene(o).addCallback(function(){var Oe;k(),!((Oe=document.activeElement)===null||Oe===void 0||!Oe.closest(".color-picker-content"))||N.focus()}),qe=!1;N.select(),me();var Ae=null;g&&"ResizeObserver"in window?(Ae=new window.ResizeObserver(function(){k()})).observe(g):window.addEventListener("resize",k),window.addEventListener("pointerdown",Te),window.addEventListener("wheel",ue,{passive:!1,capture:!0}),window.addEventListener("beforeunload",Q),s?.querySelector(".excalidraw-textEditorContainer").appendChild(N)}},4048:function(We,te,t){t.d(te,{Fn:function(){return c},PC:function(){return G},kK:function(){return x},oY:function(){return le},ox:function(){return a}});var e=t(2577),w=t(4949),v=t(2361),d=t(7651),b=t(4183),T=t(7766),S={mouse:8,pen:16,touch:28},a={e:!0,s:!0,n:!0,w:!0},c={e:!0,s:!0,n:!0,w:!0,rotation:!0},Z={e:!0,s:!0,n:!0,w:!0},F={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},_={e:!0,s:!0,n:!0,w:!0},h=function(he,ve,fe,X,q,U,R){var B=(0,v.U1)(he+fe/2,ve+X/2,q,U,R),M=(0,e.Z)(B,2);return[M[0]-fe/2,M[1]-X/2,fe,X]},x=function(he,ve,fe,X){var q=(0,e.Z)(he,6),U=q[0],R=q[1],B=q[2],M=q[3],I=q[4],E=q[5],p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,o=S[X],g=o/fe.value,s=o/fe.value,u=o/fe.value,k=o/fe.value,N=B-U,W=M-R,O=r/fe.value,j=(o-2*T.Lu)/(2*fe.value),L={nw:p.nw?void 0:h(U-O-u+j,R-O-k+j,g,s,I,E,ve),ne:p.ne?void 0:h(B+O-j,R-O-k+j,g,s,I,E,ve),sw:p.sw?void 0:h(U-O-u+j,M+O-j,g,s,I,E,ve),se:p.se?void 0:h(B+O-j,M+O-j,g,s,I,E,ve),rotation:p.rotation?void 0:h(U+N/2-g/2,R-O-k+j-16/fe.value,g,s,I,E,ve)},V=5*S.mouse/fe.value;return Math.abs(N)>V&&(p.n||(L.n=h(U+N/2-g/2,R-O-k+j,g,s,I,E,ve)),p.s||(L.s=h(U+N/2-g/2,M+O-j,g,s,I,E,ve))),Math.abs(W)>V&&(p.w||(L.w=h(U-O-u+j,R+W/2-s/2,g,s,I,E,ve)),p.e||(L.e=h(B+O-j,R+W/2-s/2,g,s,I,E,ve))),L},G=function(he,ve){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(he.locked)return{};var X={};if(he.type==="freedraw"||(0,b.bt)(he)){if(he.points.length===2){var q=(0,e.Z)(he.points,2),U=q[1];U[0]===0||U[1]===0?X=_:U[0]>0&&U[1]<0?X=F:U[0]>0&&U[1]>0?X=_:U[0]<0&&U[1]>0?X=F:U[0]<0&&U[1]<0&&(X=_)}}else(0,d.iB)(he)?X=Z:(0,b.He)(he)&&(X={rotation:!0});var R=(0,b.bt)(he)?T.Lu+8:T.Lu;return x((0,w.qf)(he,!0),he.angle,ve,fe,X,R)},le=function(he,ve){if(ve.editingLinearElement)return!1;if(he.length>1)return!0;var fe=he[0];return!(0,b.bt)(fe)||fe.points.length>2}},4183:function(We,te,t){t.d(te,{F9:function(){return a},He:function(){return S},Lx:function(){return x},Mn:function(){return h},QI:function(){return X},UQ:function(){return R},Xh:function(){return fe},Xo:function(){return ve},Yv:function(){return F},bt:function(){return Z},dt:function(){return _},eK:function(){return U},f0:function(){return G},gs:function(){return b},iB:function(){return T},mG:function(){return le},pC:function(){return d},r2:function(){return he},wi:function(){return v}});var e=t(9937),w=t(9827),v=function(B){return!!B&&B.type==="image"&&!!B.fileId},d=function(B){return!!B&&B.type==="image"},b=function(B){return!!B&&B.type==="embeddable"},T=function(B){return B!=null&&B.type==="text"},S=function(B){return B!=null&&B.type==="frame"},a=function(B){return B!=null&&c(B.type)},c=function(B){return B==="freedraw"},Z=function(B){return B!=null&&_(B.type)},F=function(B){return B!=null&&B.type==="arrow"},_=function(B){return B==="arrow"||B==="line"},h=function(B){var M=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return B!=null&&(!B.locked||M===!0)&&x(B.type)},x=function(B){return B==="arrow"},G=function(B){var M=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(B==null||B.locked&&M!==!0||B.type!=="rectangle"&&B.type!=="diamond"&&B.type!=="ellipse"&&B.type!=="image"&&B.type!=="embeddable"&&B.type!=="frame"&&(B.type!=="text"||B.containerId))},le=function(B){var M=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return B!=null&&(!B.locked||M===!0)&&(B.type==="rectangle"||B.type==="diamond"||B.type==="ellipse"||F(B))},he=function(B){var M=B?.type;if(!M)return!1;switch(M){case"text":case"diamond":case"rectangle":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"image":case"selection":return!0;default:return(0,w.vE)(M,null),!1}},ve=function(B){var M;return le(B)&&!((M=B.boundElements)===null||M===void 0||!M.some(function(I){return I.type==="text"}))},fe=function(B){return B!==null&&"containerId"in B&&B.containerId!==null&&T(B)},X=function(B){return B==="rectangle"||B==="embeddable"},q=function(B){return B==="line"||B==="arrow"||B==="diamond"},U=function(B,M){return!(B!==e.a6.ADAPTIVE_RADIUS&&B!==e.a6.LEGACY||!X(M.type))||!(B!==e.a6.PROPORTIONAL_RADIUS||!q(M.type))},R=function(B){return q(B.type)?{type:e.a6.PROPORTIONAL_RADIUS}:X(B.type)?{type:e.a6.ADAPTIVE_RADIUS}:null}},3506:function(We,te,t){t.d(te,{_L:function(){return _},lp:function(){return F},jk:function(){return h}});var e=t(5169),w=t(8821),v=t(2248),d=t(7245),b=t(2312),T=t(5901);function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function a(x,G,le){return a=S()?Reflect.construct.bind():function(he,ve,fe){var X=[null];X.push.apply(X,ve);var q=new(Function.bind.apply(he,X));return fe&&(0,T.Z)(q,fe.prototype),q},a.apply(null,arguments)}function c(x){var G=typeof Map=="function"?new Map:void 0;return c=function(le){if(le===null||(he=le,Function.toString.call(he).indexOf("[native code]")===-1))return le;var he;if(typeof le!="function")throw new TypeError("Super expression must either be null or a function");if(G!==void 0){if(G.has(le))return G.get(le);G.set(le,ve)}function ve(){return a(le,arguments,(0,b.Z)(this).constructor)}return ve.prototype=Object.create(le.prototype,{constructor:{value:ve,enumerable:!1,writable:!0,configurable:!0}}),(0,T.Z)(ve,le)},c(x)}function Z(x){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,he=(0,b.Z)(x);if(G){var ve=(0,b.Z)(this).constructor;le=Reflect.construct(he,arguments,ve)}else le=he.apply(this,arguments);return(0,d.Z)(this,le)}}var F=function(x){(0,v.Z)(le,x);var G=Z(le);function le(){var he,ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,w.Z)(this,le),(he=G.call(this)).name=fe,he.message=ve,he}return(0,e.Z)(le)}(c(Error)),_=function(x){(0,v.Z)(le,x);var G=Z(le);function le(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,w.Z)(this,le),G.call(this,he,"AbortError")}return(0,e.Z)(le)}(c(DOMException)),h=function(x){(0,v.Z)(le,x);var G=Z(le);function le(){var he,ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Image Scene Data Error",fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"IMAGE_SCENE_DATA_ERROR";return(0,w.Z)(this,le),(he=G.call(this,ve)).name="EncodingError",he.code=fe,he}return(0,e.Z)(le)}(c(Error))},4682:function(We,te,t){t.d(te,{$Z:function(){return p},A_:function(){return r},Dn:function(){return q},Qs:function(){return W},SH:function(){return U},Tq:function(){return u},_h:function(){return M},cH:function(){return N},cO:function(){return X},fj:function(){return E},lz:function(){return o},ni:function(){return I},pr:function(){return s},wO:function(){return B},xr:function(){return G},yZ:function(){return g},zD:function(){return R}});var e=t(1930),w=t(2577),v=t(7651),d=t(2361),b=t(4761),T=t(9827),S=t(583),a=t(4105),c=t(9215),Z=t(457),F=t(4949),_=t(507);function h(O,j){var L=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!L){if(Array.isArray(O)||(L=function(Q,ee){if(Q){if(typeof Q=="string")return x(Q,ee);var me=Object.prototype.toString.call(Q).slice(8,-1);if(me==="Object"&&Q.constructor&&(me=Q.constructor.name),me==="Map"||me==="Set")return Array.from(Q);if(me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me))return x(Q,ee)}}(O))||j){L&&(O=L);var V=0,ie=function(){};return{s:ie,n:function(){return V>=O.length?{done:!0}:{done:!1,value:O[V++]}},e:function(Q){throw Q},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,ue=!0,pe=!1;return{s:function(){L=L.call(O)},n:function(){var Q=L.next();return ue=Q.done,Q},e:function(Q){pe=!0,se=Q},f:function(){try{ue||L.return==null||L.return()}finally{if(pe)throw se}}}}function x(O,j){(j==null||j>O.length)&&(j=O.length);for(var L=0,V=new Array(j);L<j;L++)V[L]=O[L];return V}var G=function(O,j,L){var V,ie=(0,T.xn)(O),se=h(j);try{for(se.s();!(V=se.n()).done;){var ue=V.value;if(ue.frameId){var pe=L.get(ue.id),Q=L.get(ue.frameId);if(pe){var ee=ie.get(pe);ee&&(0,S.DR)(ee,{frameId:Q??ue.frameId},!1)}}}}catch(me){se.e(me)}finally{se.f()}};function le(O,j){var L=(0,F.GJ)(j),V=(0,F.GJ)(O);return L.some(function(ie){return V.some(function(se){return(0,_.y8)(ie,se)})})}var he=function(O,j){return k((0,a.Yp)(O,j,!1)).filter(function(L){return L.type!=="frame"&&!L.frameId||L.frameId===j.id})},ve=function(O,j,L){return(0,a.Yp)(O,j).some(function(V){return V.id===L.id})},fe=function(O,j){var L=(0,v.qf)(j),V=(0,w.Z)(L,4),ie=V[0],se=V[1],ue=V[2],pe=V[3],Q=(0,v.KP)(O),ee=(0,w.Z)(Q,4),me=ee[0],Te=ee[1],Ue=ee[2],qe=ee[3];return ie<=me&&se<=Te&&ue>=Ue&&pe>=qe},X=function(O,j){return fe([O],j)||le(O,j)||ve([j],O,j)},q=function(O,j){var L=(0,v.qf)(j),V=(0,w.Z)(L,4),ie=V[0],se=V[1],ue=V[2],pe=V[3];return(0,d.Ni)([ie,se],[O.x,O.y],[ue,pe])},U=function(O){var j,L=new Map,V=h(O);try{for(V.s();!(j=V.n()).done;){var ie=j.value,se=(0,v.He)(ie)?ie.id:ie.frameId;se&&!L.has(se)&&L.set(se,R(O,se))}}catch(ue){V.e(ue)}finally{V.f()}return L},R=function(O,j){return O.filter(function(L){return L.frameId===j})},B=function(O){return O.filter(function(j){return(0,v.He)(j)})},M=function(O){var j=(0,T.xn)(B(O));return O.filter(function(L){return j.has(L.id)||!L.frameId||!j.has(L.frameId)})},I=function(O,j,L){var V,ie=R(O,j.id),se=new Set(ie),ue=new Set([].concat((0,e.Z)(he(O,j)),(0,e.Z)(ie.filter(function(tt){return ve(O,tt,j)})))),pe=ie.filter(function(tt){return!ue.has(tt)}),Q=new Set(Array.from(ue).flatMap(function(tt){return tt.groupIds})),ee=h(pe);try{for(ee.s();!(V=ee.n()).done;){var me=V.value;if(le(me,j)){if(me.groupIds.length>0){var Te,Ue=h(me.groupIds);try{for(Ue.s();!(Te=Ue.n()).done;){var qe=Te.value;Q.add(qe)}}catch(tt){Ue.e(tt)}finally{Ue.f()}}}else me.groupIds.length===0&&se.delete(me)}}catch(tt){ee.e(tt)}finally{ee.f()}var Ae,Oe=h(pe);try{for(Oe.s();!(Ae=Oe.n()).done;){var Ie=Ae.value;if(Ie.groupIds.length>0){var Re,ke=!0,xe=h(Ie.groupIds);try{for(xe.s();!(Re=xe.n()).done;){var ye=Re.value;Q.has(ye)&&(ke=!1)}}catch(tt){xe.e(tt)}finally{xe.f()}ke&&se.delete(Ie)}}}catch(tt){Oe.e(tt)}finally{Oe.f()}var P,l=Array.from(ue).filter(function(tt){return tt.groupIds.length===0}),f=h(l);try{for(f.s();!(P=f.n()).done;){var D=P.value;se.add(D)}}catch(tt){f.e(tt)}finally{f.f()}for(var H=Array.from(ue).filter(function(tt){return tt.groupIds.length>0}),J=(0,c.yR)(H,L),re=0,ae=Object.entries(J);re<ae.length;re++){var ge=(0,w.Z)(ae[re],2),_e=ge[0];if(ge[1]){var ze=(0,c.Fb)(O,_e);if(fe(ze,j)){var Je,et=h(ze);try{for(et.s();!(Je=et.n()).done;){var Ke=Je.value;se.add(Ke)}}catch(tt){et.e(tt)}finally{et.f()}}}}return(0,e.Z)(se).filter(function(tt){return!((0,v.iB)(tt)&&tt.containerId)})},E=function(O,j){return k(O,he(O,j))},p=function(O,j){var L;return O.frameId?j?j.get(O.frameId)||null:((L=Z.Z.getScene(O))===null||L===void 0?void 0:L.getElement(O.frameId))||null:null},r=function(O,j,L){var V,ie=O.reduce(function(Ae,Oe,Ie){return Oe.frameId===L.id&&Ae.currTargetFrameChildrenMap.set(Oe.id,!0),Ae},{currTargetFrameChildrenMap:new Map}),se=ie.currTargetFrameChildrenMap,ue=new Set(j.map(function(Ae){return Ae.id})),pe=[],Q=h(k(O,j));try{for(Q.s();!(V=Q.n()).done;){var ee=V.value;se.has(ee.id)||pe.push(ee);var me=(0,b.WJ)(ee);!me||ue.has(me.id)||se.has(me.id)||pe.push(me)}}catch(Ae){Q.e(Ae)}finally{Q.f()}for(var Te=0,Ue=pe;Te<Ue.length;Te++){var qe=Ue[Te];(0,S.DR)(qe,{frameId:L.id},!1)}return O.slice()},o=function(O,j,L){var V,ie=new Map,se=new Map,ue=h(j);try{for(ue.s();!(V=ue.n()).done;){var pe=V.value;if(pe.frameId){ie.set(pe.id,pe);var Q=se.get(pe.frameId)||[];Q.push(pe);var ee=(0,b.WJ)(pe);ee&&(ie.set(ee.id,ee),Q.push(ee)),se.set(pe.frameId,Q)}}}catch(qe){ue.e(qe)}finally{ue.f()}var me,Te=h(ie);try{for(Te.s();!(me=Te.n()).done;){var Ue=(0,w.Z)(me.value,2)[1];(0,S.DR)(Ue,{frameId:null},!1)}}catch(qe){Te.e(qe)}finally{Te.f()}return O.slice()},g=function(O,j,L){var V=R(O,j.id);return o(O,V)},s=function(O,j,L,V){return r(g(O,L),j,L)},u=function(O,j,L){var V=L.scene.getSelectedElements({selectedElementIds:j.selectedElementIds,elements:O}),ie=new Set(V);if(j.editingGroupId){var se,ue=h(V);try{for(ue.s();!(se=ue.n()).done;){var pe=se.value;pe.groupIds.length===0?ie.add(pe):pe.groupIds.flatMap(function(ee){return(0,c.Fb)(O,ee)}).forEach(function(ee){return ie.add(ee)})}}catch(ee){ue.e(ee)}finally{ue.f()}}var Q=new Set;return ie.forEach(function(ee){!ee.frameId||(0,v.He)(ee)||W(ee,O,j)||Q.add(ee)}),Q.size>0?o(O,(0,e.Z)(Q)):O},k=function(O,j){var L,V=new Set,ie=h(j||O);try{for(ie.s();!(L=ie.n()).done;){var se=L.value,ue=se.groupIds[se.groupIds.length-1];ue&&V.add(ue)}}catch(Te){ie.e(Te)}finally{ie.f()}var pe,Q=new Set,ee=h(V);try{for(ee.s();!(pe=ee.n()).done;){var me=pe.value;(0,c.Fb)(O,me).some(function(Te){return(0,v.He)(Te)})&&Q.add(me)}}catch(Te){ee.e(Te)}finally{ee.f()}return(j||O).filter(function(Te){return!Q.has(Te.groupIds[Te.groupIds.length-1])})},N=function(O,j){var L=(0,v.iB)(O)&&(0,b.tl)(O)||O;return j.selectedElementIds[L.id]&&j.selectedElementsAreBeingDragged?j.frameToHighlight:p(L)},W=function(O,j,L){var V=N(O,L),ie=(0,v.iB)(O)&&(0,b.tl)(O)||O;if(V){if(!L.selectedElementIds[O.id]||!L.selectedElementsAreBeingDragged)return!0;if(ie.groupIds.length===0)return X(ie,V);var se=new Set(ie.groupIds.flatMap(function(qe){return(0,c.Fb)(j,qe)}));if(L.editingGroupId&&L.selectedElementsAreBeingDragged){var ue=new Set((0,a.eD)(j,L));if(L.frameToHighlight!==null)return!0;ue.forEach(function(qe){se.delete(qe)})}var pe,Q=h(se);try{for(Q.s();!(pe=Q.n()).done;){var ee=pe.value;if((0,v.He)(ee))return!1}}catch(qe){Q.e(qe)}finally{Q.f()}var me,Te=h(se);try{for(Te.s();!(me=Te.n()).done;){var Ue=me.value;if(X(Ue,V))return!0}}catch(qe){Te.e(qe)}finally{Te.f()}}return!1}},9215:function(We,te,t){t.d(te,{AI:function(){return B},F$:function(){return F},Fb:function(){return fe},Nd:function(){return ve},Qy:function(){return q},S_:function(){return U},YS:function(){return X},bO:function(){return _},h6:function(){return R},iE:function(){return he},iJ:function(){return G},yO:function(){return x},yR:function(){return le},zq:function(){return h}});var e=t(1930),w=t(2577),v=t(7169),d=t(4105),b=t(4761),T=t(6264);function S(M,I){var E=typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!E){if(Array.isArray(M)||(E=function(u,k){if(u){if(typeof u=="string")return a(u,k);var N=Object.prototype.toString.call(u).slice(8,-1);if(N==="Object"&&u.constructor&&(N=u.constructor.name),N==="Map"||N==="Set")return Array.from(u);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return a(u,k)}}(M))||I){E&&(M=E);var p=0,r=function(){};return{s:r,n:function(){return p>=M.length?{done:!0}:{done:!1,value:M[p++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,g=!0,s=!1;return{s:function(){E=E.call(M)},n:function(){var u=E.next();return g=u.done,u},e:function(u){s=!0,o=u},f:function(){try{g||E.return==null||E.return()}finally{if(s)throw o}}}}function a(M,I){(I==null||I>M.length)&&(I=M.length);for(var E=0,p=new Array(I);E<I;E++)p[E]=M[E];return p}function c(M,I){var E=Object.keys(M);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(M);I&&(p=p.filter(function(r){return Object.getOwnPropertyDescriptor(M,r).enumerable})),E.push.apply(E,p)}return E}function Z(M){for(var I=1;I<arguments.length;I++){var E=arguments[I]!=null?arguments[I]:{};I%2?c(Object(E),!0).forEach(function(p){(0,v.Z)(M,p,E[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(E)):c(Object(E)).forEach(function(p){Object.defineProperty(M,p,Object.getOwnPropertyDescriptor(E,p))})}return M}var F=function(M,I,E){var p=E.reduce(function(r,o){return o.groupIds.includes(M)&&(r[o.id]=!0),r},{});return Object.keys(p).length<2?I.selectedGroupIds[M]||I.editingGroupId===M?{selectedElementIds:I.selectedElementIds,selectedGroupIds:Z(Z({},I.selectedGroupIds),{},(0,v.Z)({},M,!1)),editingGroupId:null}:I:{editingGroupId:I.editingGroupId,selectedGroupIds:Z(Z({},I.selectedGroupIds),{},(0,v.Z)({},M,!0)),selectedElementIds:Z(Z({},I.selectedElementIds),p)}},_=function(){var M=null,I=null,E=null,p=function(r,o,g,s){var u=s?s.scene.getSelectedElements({selectedElementIds:r.selectedElementIds,elements:o}):(0,d.eD)(o,r);return u.length?function(k,N,W,O){var j;if(E!==void 0&&N===I&&k===M&&W.editingGroupId===((j=E)===null||j===void 0?void 0:j.editingGroupId))return E;var L,V={},ie=S(k);try{for(ie.s();!(L=ie.n()).done;){var se=L.value.groupIds;if(W.editingGroupId){var ue=se.indexOf(W.editingGroupId);ue>-1&&(se=se.slice(0,ue))}if(se.length>0){var pe=se[se.length-1];V[pe]=!0}}}catch(qe){ie.e(qe)}finally{ie.f()}for(var Q={},ee=N.reduce(function(qe,Ae){var Oe=Ae.groupIds.find(function(Ie){return V[Ie]});return Oe&&(qe[Ae.id]=!0,Array.isArray(Q[Oe])?Q[Oe].push(Ae.id):Q[Oe]=[Ae.id]),qe},{}),me=0,Te=Object.keys(Q);me<Te.length;me++){var Ue=Te[me];Q[Ue].length<2&&V[Ue]&&(V[Ue]=!1)}return I=N,M=k,E={editingGroupId:W.editingGroupId,selectedGroupIds:V,selectedElementIds:(0,T.Oh)(Z(Z({},W.selectedElementIds),ee),O)}}(u,o,r,g):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:(0,T.Oh)(r.selectedElementIds,g)}};return p.clearCache=function(){I=null,M=null,E=null},p}(),h=function(M,I){return x(M,I)!=null},x=function(M,I){return I.groupIds.filter(function(E){return E!==M.editingGroupId}).find(function(E){return M.selectedGroupIds[E]})},G=function(M){return Object.entries(M.selectedGroupIds).filter(function(I){var E=(0,w.Z)(I,2);return E[0],E[1]}).map(function(I){var E=(0,w.Z)(I,2),p=E[0];return E[1],p})},le=function(M,I){var E,p=Z(Z({},I),{},{selectedGroupIds:{}}),r=S(M);try{for(r.s();!(E=r.n()).done;){var o=E.value.groupIds;if(I.editingGroupId){var g=o.indexOf(I.editingGroupId);g>-1&&(o=o.slice(0,g))}if(o.length>0){var s=o[o.length-1];p=Z(Z({},p),F(s,p,M))}}}catch(u){r.e(u)}finally{r.f()}return p.selectedGroupIds},he=function(M,I){return Z(Z({},M),{},{editingGroupId:I.groupIds.length?I.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,v.Z)({},I.id,!0)})},ve=function(M,I){return M.groupIds.includes(I)},fe=function(M,I){return M.filter(function(E){return ve(E,I)})},X=function(M,I){return M.groupIds.find(function(E){return I[E]})},q=function(M,I,E){for(var p=(0,e.Z)(M),r=I?M.indexOf(I):-1,o=r>-1?r:M.length,g=0;g<o;g++)p[g]=E(p[g]);return p},U=function(M,I,E){var p=(0,e.Z)(M),r=E?p.indexOf(E):-1,o=r>-1?r:p.length;return p.splice(o,0,I),p},R=function(M,I){return M.filter(function(E){return!I[E]})},B=function(M){var I=new Map;return M.forEach(function(E){var p=E.groupIds.length===0?E.id:E.groupIds[E.groupIds.length-1],r=I.get(p)||[],o=(0,b.WJ)(E);o&&r.push(o),I.set(p,[].concat((0,e.Z)(r),[E]))}),Array.from(I.values())}},334:function(We,te,t){t.d(te,{F:function(){return T}});var e=t(1930),w=t(2577),v=t(9787),d=t(8242),b=t(100),T=function(S){var a=(0,v.useState)(null),c=(0,w.Z)(a,2),Z=c[0],F=c[1],_=(0,d.Fy)(),h=(0,b.I)().theme,x=(0,d.J0)().container;return(0,v.useLayoutEffect)(function(){var G,le;Z&&(Z.className="",(G=Z.classList).add.apply(G,["excalidraw"].concat((0,e.Z)((S==null||(le=S.className)===null||le===void 0?void 0:le.split(/\s+/))||[]))),Z.classList.toggle("excalidraw--mobile",_.editor.isMobile),Z.classList.toggle("theme--dark",h==="dark"))},[Z,h,_.editor.isMobile,S?.className]),(0,v.useLayoutEffect)(function(){var G=S!=null&&S.parentSelector?x?.querySelector(S.parentSelector):document.body;if(G){var le=document.createElement("div");return G.appendChild(le),F(le),function(){G.removeChild(le)}}},[x,S?.parentSelector]),Z}},5832:function(We,te,t){t.d(te,{YX:function(){return Z},mF:function(){return _},yT:function(){return h}});var e=t(2577),w=t(8950),v=t(2975),d=t.n(v),b=t(3607),T=t(9787),S=t(9240),a=t(453),c=t(507),Z=(0,b.cn)(new Map),F=function(){var x=(0,w.Z)(d().mark(function G(le){return d().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,(0,c.$D)({elements:le,appState:{exportBackground:!1,viewBackgroundColor:S.HO.white},files:null,renderEmbeddables:!1});case 2:return he.abrupt("return",he.sent);case 3:case"end":return he.stop()}},G)}));return function(G){return x.apply(this,arguments)}}(),_=function(x,G,le){var he=(0,T.useState)(),ve=(0,e.Z)(he,2),fe=ve[0],X=ve[1];return(0,T.useEffect)(function(){if(G)if(x){var q=le.get(x);q?X(q):(0,w.Z)(d().mark(function U(){var R,B;return d().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,F(G);case 2:B=M.sent,(R=B.querySelector(".style-fonts"))===null||R===void 0||R.remove(),B&&(le.set(x,B),X(B));case 5:case"end":return M.stop()}},U)}))()}else(0,w.Z)(d().mark(function U(){var R;return d().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,F(G);case 2:R=B.sent,X(R);case 4:case"end":return B.stop()}},U)}))()},[x,G,le,X]),fe},h=function(){var x=(0,b.KO)(Z,a.yE),G=(0,e.Z)(x,1)[0];return{clearLibraryCache:function(){return G.clear()},deleteItemsFromLibraryCache:function(le){le.forEach(function(he){return G.delete(he)})},svgCache:G}}},1901:function(We,te,t){t.d(te,{O:function(){return v}});var e=t(9787),w=t(9937);function v(d,b,T){(0,e.useEffect)(function(){function S(a){var c=a;if(d.current){var Z=T?.(c,d.current);if(Z!==!0){if(Z===!1)return b(c);!d.current.contains(c.target)&&document.documentElement.contains(c.target)&&(c.target.closest("[data-radix-portal]")||c.target===document.documentElement&&document.body.style.pointerEvents==="none"||c.target.closest("[data-prevent-outside-click]")||b(c))}}}return document.addEventListener(w.Ks.POINTER_DOWN,S),document.addEventListener(w.Ks.TOUCH_START,S),function(){document.removeEventListener(w.Ks.POINTER_DOWN,S),document.removeEventListener(w.Ks.TOUCH_START,S)}},[d,b,T])}},8227:function(We,te,t){t.d(te,{Fp:function(){return c},G3:function(){return G},Mj:function(){return Z},QT:function(){return fe},m0:function(){return x},t:function(){return he}});var e=t(8950),w=t(1930),v=t(2975),d=t.n(v),b=t(1463),T=t(4451),S=t(453),a=t(3607),c={code:"en",label:"English"},Z=[c].concat((0,w.Z)([{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"cs-CZ",label:"Česky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"Қазақ тілі"},{code:"ko-KR",label:"한국어"},{code:"ku-TR",label:"Kurdî"},{code:"lt-LT",label:"Lietuvių"},{code:"lv-LV",label:"Latviešu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenščina"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"},{code:"vi-VN",label:"Tiếng Việt"},{code:"mr-IN",label:"मराठी"}].filter(function(X){return T[X.code]>=85}).sort(function(X,q){return X.label>q.label?1:-1}))),F="__test__",_=c,h={},x=function(){var X=(0,e.Z)(d().mark(function q(U){return d().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(_=U,document.documentElement.dir=_.rtl?"rtl":"ltr",document.documentElement.lang=_.code,!U.code.startsWith(F)){R.next=7;break}h={},R.next=17;break;case 7:return R.prev=7,R.next=10,t(940)("./".concat(_.code,".json"));case 10:h=R.sent,R.next=17;break;case 13:R.prev=13,R.t0=R.catch(7),console.error("Failed to load language ".concat(U.code,":"),R.t0.message),h=b;case 17:S.e_.set(ve,U.code);case 18:case"end":return R.stop()}},q,null,[[7,13]])}));return function(q){return X.apply(this,arguments)}}(),G=function(){return _},le=function(X,q){for(var U=0;U<q.length;++U){var R=q[U];if(X[R]===void 0)return;X=X[R]}if(typeof X=="string")return X},he=function(X,q,U){if(_.code.startsWith(F)){var R=q?"".concat(X,"(").concat(JSON.stringify(q).slice(1,-1),")"):X;return"‪[[".concat(R,"]]‬")}var B=X.split("."),M=le(h,B)||le(b,B)||U;if(M===void 0){var I="Can't find translation for ".concat(X);return console.warn(I),""}if(q)for(var E in q)M=M.replace("{{".concat(E,"}}"),String(q[E]));return M},ve=(0,a.cn)(c.code),fe=function(){var X=(0,a.Dv)(ve,S.yE);return{t:he,langCode:X}}},453:function(We,te,t){t.d(te,{e_:function(){return v},yE:function(){return w}});var e=t(3607),w=(t(9787),Symbol()),v=(0,e.Vv)()},5491:function(We,te,t){t.d(te,{E0:function(){return T},Ge:function(){return S},OA:function(){return b},Wl:function(){return d},aU:function(){return w},tW:function(){return v}});var e=t(9937),w={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR",S:"KeyS"},v={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:e.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},d=function(a){return a===v.ARROW_LEFT||a===v.ARROW_RIGHT||a===v.ARROW_DOWN||a===v.ARROW_UP},b=function(a){return a.altKey},T=function(a){return a.shiftKey},S=function(a){return a.shiftKey}},2361:function(We,te,t){t.d(te,{EK:function(){return R},H5:function(){return c},Jj:function(){return U},LW:function(){return a},N_:function(){return ve},Ni:function(){return _},U1:function(){return b},Xt:function(){return I},c9:function(){return F},eH:function(){return X},ep:function(){return B},g6:function(){return Z},lk:function(){return q},mW:function(){return M},wC:function(){return G},xj:function(){return T},yB:function(){return he},yW:function(){return le},yq:function(){return S}});var e=t(2577),w=t(9937),v=t(4949),d=t(2921),b=function(E,p,r,o,g){return[(E-r)*Math.cos(g)-(p-o)*Math.sin(g)+r,(E-r)*Math.sin(g)+(p-o)*Math.cos(g)+o]},T=function(E,p,r){return b(E[0],E[1],p[0],p[1],r)},S=function(E,p,r,o,g,s,u,k){var N=Math.cos(o),W=Math.sin(o);return E.e&&E.w?p+=g+u:E.e?(p+=g*(1+N),r+=g*W,p+=u*(1-N),r+=u*-W):E.w&&(p+=g*(1-N),r+=g*-W,p+=u*(1+N),r+=u*W),E.n&&E.s?r+=s+k:E.n?(p+=s*W,r+=s*(1-N),p+=k*-W,r+=k*(1+N)):E.s&&(p+=s*-W,r+=s*(1+N),p+=k*W,r+=k*(1-N)),[p,r]},a=function(E,p,r,o){var g=r-E,s=o-p;return Math.hypot(g,s)},c=function(E,p){return[(E[0]+p[0])/2,(E[1]+p[1])/2]},Z=function(E){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(E.length>=3){var r=[E[0],E[E.length-1]],o=r[0],g=r[1],s=a(o[0],o[1],g[0],g[1]);return s<=w.qx/p}return!1},F=function(E,p,r){var o=E.length;if(o<3)return!1;for(var g=[Number.MAX_SAFE_INTEGER,r],s=[p,r],u=0,k=0;k<o;k++){var N=E[k],W=E[(k+1)%o];if(x(N,W,s,g)){if(h(N,s,W)===0)return _(N,s,W);u++}}return u%2==1},_=function(E,p,r){return p[0]<=Math.max(E[0],r[0])&&p[0]>=Math.min(E[0],r[0])&&p[1]<=Math.max(E[1],r[1])&&p[1]>=Math.min(E[1],r[1])},h=function(E,p,r){var o=(p[1]-E[1])*(r[0]-p[0])-(p[0]-E[0])*(r[1]-p[1]);return o===0?0:o>0?1:2},x=function(E,p,r,o){var g=h(E,p,r),s=h(E,p,o),u=h(r,o,E),k=h(r,o,p);return g!==s&&u!==k||!(g!==0||!_(E,r,p))||!(s!==0||!_(E,o,p))||!(u!==0||!_(r,E,o))||!(k!==0||!_(r,p,o))},G=function(E,p,r){return r?[Math.round(E/r)*r,Math.round(p/r)*r]:[E,p]},le=function(E,p){var r,o,g;if(((r=p.roundness)===null||r===void 0?void 0:r.type)===w.a6.PROPORTIONAL_RADIUS||((o=p.roundness)===null||o===void 0?void 0:o.type)===w.a6.LEGACY)return E*w.Rx;if(((g=p.roundness)===null||g===void 0?void 0:g.type)===w.a6.ADAPTIVE_RADIUS){var s,u,k=(s=(u=p.roundness)===null||u===void 0?void 0:u.value)!==null&&s!==void 0?s:w._9;return E<=k/w.Rx?E*w.Rx:k}return 0},he=function(E,p){var r=d.R.generateElementShape(E);if(!r)return null;for(var o=(0,v.CM)(r[0]),g=[0,0],s=0,u=1/0,k=null;s<o.length;){var N=o[s],W=N.op,O=N.data;if(W==="move"&&(g=O),W==="bcurveTo"){var j=g,L=[O[0],O[1]],V=[O[2],O[3]],ie=[O[4],O[5]],se=a(ie[0],ie[1],p[0],p[1]);se<u&&(u=se,k=[j,L,V,ie]),g=ie}s++}return k},ve=function(E,p,r,o,g){var s=function(u,k){return Math.pow(1-u,3)*o[k]+3*u*Math.pow(1-u,2)*r[k]+3*Math.pow(u,2)*(1-u)*p[k]+E[k]*Math.pow(u,3)};return[s(g,0),s(g,1)]},fe=function(E,p){var r=[];r[0]=0;for(var o=function(u,k){var N=he(u,k);if(!N)return[];for(var W=[],O=1;O>0;){var j=ve(N[0],N[1],N[2],N[3],O);W.push([j[0],j[1]]),O-=.05}return W.length&&U(W.at(-1),k)&&W.push([k[0],k[1]]),W}(E,p),g=0,s=0;g<o.length-1;)s+=a(o[g][0],o[g][1],o[g+1][0],o[g+1][1]),r.push(s),g++;return r},X=function(E,p){return fe(E,p).at(-1)},q=function(E,p,r){for(var o=fe(E,p),g=o.length-1,s=r*o.at(-1),u=0,k=g,N=0;u<k;)o[N=Math.floor(u+(k-u)/2)]<s?u=N+1:k=N;return o[N]>s&&N--,o[N]===s?N/g:1-(N+(s-o[N])/(o[N+1]-o[N]))/g},U=function(E,p){return E[0]===p[0]&&E[1]===p[1]},R=function(E){return Math.round(E/Math.PI*1e4)%5e3==0},B=function(E,p){var r=(0,e.Z)(E,2),o=r[0],g=r[1],s=(0,e.Z)(p,2),u=s[0],k=s[1];return o<=u?g>=u:o>=u&&k>=o},M=function(E,p){var r=Math.max(E[0],p[0]),o=Math.min(E[1],p[1]);return r<=o?[r,o]:null},I=function(E,p,r){return E>=p&&E<=r}},4864:function(We,te,t){t.d(te,{zx:function(){return He.z},Or:function(){return It.O},Eb:function(){return tr},ut:function(){return u.ut},$_:function(){return se},vO:function(){return zt},LO:function(){return u.LO},lb:function(){return ue.Z},YE:function(){return jn.YE},C6:function(){return u.C6},B4:function(){return ht},ZP:function(){return Xt.ZP},wc:function(){return Ht.w},Fp:function(){return _.Fp},sQ:function(){return Wt.sQ},Xs:function(){return Wt.Xs},Fl:function(){return sn.Fl},NL:function(){return sn.NL},i1:function(){return sn.i1},$D:function(){return sn.$D},KP:function(){return At.KP},N7:function(){return sn.N7},Lm:function(){return Mt.Lm},Uo:function(){return Mt.Uo},Ne:function(){return Wt.Ne},QD:function(){return Mt.QD},bt:function(){return rn.bt},Mj:function(){return _.Mj},cT:function(){return sn.cT},lV:function(){return sn.lV},ZY:function(){return sn.ZY},zh:function(){return sn.zh},DR:function(){return Xt.DR},BE:function(){return Xt.BE},$u:function(){return kt.$u},Di:function(){return on.Di},nu:function(){return Zt.nu},lY:function(){return Zt.lY},ET:function(){return Zt.ET},wJ:function(){return Zt.wJ},_i:function(){return le._i},I_:function(){return sn.I_},NI:function(){return sn.NI},Fy:function(){return G.Fy},xS:function(){return on.xS},QT:function(){return _.QT},dE:function(){return le.dE}});var e=t(6479),w=t.n(e),v=t(9713),d=t.n(v),b=t(9787),T=t.n(b),S=t(8950),a=t(2577),c=t(2975),Z=t.n(c),F=t(7165),_=t(8227),h=t(4512),x=function(Sn){var Bt=(0,b.useState)(!0),dn=(0,a.Z)(Bt,2),un=dn[0],Bn=dn[1];return(0,b.useEffect)(function(){var Jn=function(){var kr=(0,S.Z)(Z().mark(function fr(){return Z().wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:return pn.next=2,(0,_.m0)(cr);case 2:Bn(!1);case 3:case"end":return pn.stop()}},fr)}));return function(){return kr.apply(this,arguments)}}(),cr=_.Mj.find(function(kr){return kr.code===Sn.langCode})||_.Fp;Jn()},[Sn.langCode]),un?(0,h.jsx)(F.z,{theme:Sn.theme}):Sn.children},G=t(8242),le=t(9827),he=t(3379),ve=t.n(he),fe=t(7795),X=t.n(fe),q=t(569),U=t.n(q),R=t(3565),B=t.n(R),M=t(9216),I=t.n(M),E=t(4589),p=t.n(E),r=t(9915),o={};o.styleTagTransform=p(),o.setAttributes=B(),o.insert=U().bind(null,"head"),o.domAPI=X(),o.insertStyleElement=I(),ve()(r.Z,o),r.Z&&r.Z.locals&&r.Z.locals;var g=t(9310),s={};s.styleTagTransform=p(),s.setAttributes=B(),s.insert=U().bind(null,"head"),s.domAPI=X(),s.insertStyleElement=I(),ve()(g.Z,s),g.Z&&g.Z.locals&&g.Z.locals;var u=t(9937),k=t(3607),N=t(453),W=t(45),O=t(4572),j=t(8793),L={};L.styleTagTransform=p(),L.setAttributes=B(),L.insert=U().bind(null,"head"),L.domAPI=X(),L.insertStyleElement=I(),ve()(j.Z,L),j.Z&&j.Z.locals&&j.Z.locals;var V=t(100),ie=function(Sn){var Bt=Sn.children,dn=(0,O.R6)().FooterCenterTunnel,un=(0,V.I)();return(0,h.jsx)(dn.In,{children:(0,h.jsx)("div",{className:(0,W.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":un.zenModeEnabled}),children:Bt})})},se=ie;ie.displayName="FooterCenter";var ue=t(7021),pe=t(7169),Q=t(2726),ee=t(5463),me=t(2529),Te=t(8935),Ue=t(5744),qe={};qe.styleTagTransform=p(),qe.setAttributes=B(),qe.insert=U().bind(null,"head"),qe.domAPI=X(),qe.insertStyleElement=I(),ve()(Ue.Z,qe),Ue.Z&&Ue.Z.locals&&Ue.Z.locals;var Ae=function(){return(0,h.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,h.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})})},Oe=function(){return(0,h.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,h.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,h.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,h.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,h.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]})},Ie=function(Sn){var Bt=Sn.style,dn=Sn.size,un=dn===void 0?"small":dn,Bn=Sn.withText;return(0,h.jsxs)("div",{className:"ExcalidrawLogo is-".concat(un),style:Bt,children:[(0,h.jsx)(Ae,{}),Bn&&(0,h.jsx)(Oe,{})]})},Re=["onSelect","children","icon","shortcut","className"],ke=["children","href","icon","shortcut","className"];function xe(Sn,Bt){var dn=Object.keys(Sn);if(Object.getOwnPropertySymbols){var un=Object.getOwnPropertySymbols(Sn);Bt&&(un=un.filter(function(Bn){return Object.getOwnPropertyDescriptor(Sn,Bn).enumerable})),dn.push.apply(dn,un)}return dn}function ye(Sn){for(var Bt=1;Bt<arguments.length;Bt++){var dn=arguments[Bt]!=null?arguments[Bt]:{};Bt%2?xe(Object(dn),!0).forEach(function(un){(0,pe.Z)(Sn,un,dn[un])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Sn,Object.getOwnPropertyDescriptors(dn)):xe(Object(dn)).forEach(function(un){Object.defineProperty(Sn,un,Object.getOwnPropertyDescriptor(dn,un))})}return Sn}var P=function(Sn){var Bt=Sn.icon,dn=Sn.shortcut,un=Sn.children,Bn=(0,G.Fy)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"welcome-screen-menu-item__icon",children:Bt}),(0,h.jsx)("div",{className:"welcome-screen-menu-item__text",children:un}),dn&&!Bn.editor.isMobile&&(0,h.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:dn})]})};P.displayName="WelcomeScreenMenuItemContent";var l=function(Sn){var Bt=Sn.onSelect,dn=Sn.children,un=Sn.icon,Bn=Sn.shortcut,Jn=Sn.className,cr=Jn===void 0?"":Jn,kr=(0,Q.Z)(Sn,Re);return(0,h.jsx)("button",ye(ye({},kr),{},{type:"button",className:"welcome-screen-menu-item ".concat(cr),onClick:Bt,children:(0,h.jsx)(P,{icon:un,shortcut:Bn,children:dn})}))};l.displayName="WelcomeScreenMenuItem";var f=function(Sn){var Bt=Sn.children,dn=Sn.href,un=Sn.icon,Bn=Sn.shortcut,Jn=Sn.className,cr=Jn===void 0?"":Jn,kr=(0,Q.Z)(Sn,ke);return(0,h.jsx)("a",ye(ye({},kr),{},{className:"welcome-screen-menu-item ".concat(cr),href:dn,target:"_blank",rel:"noreferrer",children:(0,h.jsx)(P,{icon:un,shortcut:Bn,children:Bt})}))};f.displayName="WelcomeScreenMenuItemLink";var D=function(Sn){var Bt=Sn.children,dn=(0,O.R6)().WelcomeScreenCenterTunnel;return(0,h.jsx)(dn.In,{children:(0,h.jsx)("div",{className:"welcome-screen-center",children:Bt||(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(H,{}),(0,h.jsx)(J,{children:(0,_.t)("welcomeScreen.defaults.center_heading")}),(0,h.jsxs)(re,{children:[(0,h.jsx)(ge,{}),(0,h.jsx)(ae,{})]})]})})})};D.displayName="Center";var H=function(Sn){var Bt=Sn.children;return(0,h.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:Bt||(0,h.jsx)(Ie,{withText:!0})})};H.displayName="Logo";var J=function(Sn){var Bt=Sn.children;return(0,h.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:Bt})};J.displayName="Heading";var re=function(Sn){var Bt=Sn.children;return(0,h.jsx)("div",{className:"welcome-screen-menu",children:Bt})};re.displayName="Menu";var ae=function(){var Sn=(0,G.eh)();return(0,h.jsx)(l,{onSelect:function(){return Sn.executeAction(ee.jY)},shortcut:"?",icon:Te.by,children:(0,_.t)("helpDialog.title")})};ae.displayName="MenuItemHelp";var ge=function(){var Sn=(0,V.I)(),Bt=(0,G.eh)();return Sn.viewModeEnabled?null:(0,h.jsx)(l,{onSelect:function(){return Bt.executeAction(ee._d)},shortcut:(0,me.C)("loadScene"),icon:Te.Tl,children:(0,_.t)("buttons.load")})};ge.displayName="MenuItemLoadScene";var _e=function(Sn){var Bt=Sn.onSelect,dn=(0,_.QT)().t;return(0,h.jsx)(l,{shortcut:null,onSelect:Bt,icon:Te.jn,children:dn("labels.liveCollaboration")})};_e.displayName="MenuItemLiveCollaborationTrigger",D.Logo=H,D.Heading=J,D.Menu=re,D.MenuItem=l,D.MenuItemLink=f,D.MenuItemHelp=ae,D.MenuItemLoadScene=ge,D.MenuItemLiveCollaborationTrigger=_e;var ze=function(Sn){var Bt=Sn.children,dn=(0,O.R6)().WelcomeScreenMenuHintTunnel;return(0,h.jsx)(dn.In,{children:(0,h.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[Te.oQ,(0,h.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Bt||(0,_.t)("welcomeScreen.defaults.menuHint")})]})})};ze.displayName="MenuHint";var Je=function(Sn){var Bt=Sn.children,dn=(0,O.R6)().WelcomeScreenToolbarHintTunnel;return(0,h.jsx)(dn.In,{children:(0,h.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,h.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Bt||(0,_.t)("welcomeScreen.defaults.toolbarHint")}),Te.DJ]})})};Je.displayName="ToolbarHint";var et=function(Sn){var Bt=Sn.children,dn=(0,O.R6)().WelcomeScreenHelpHintTunnel;return(0,h.jsx)(dn.In,{children:(0,h.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,h.jsx)("div",{children:Bt||(0,_.t)("welcomeScreen.defaults.helpHint")}),Te._U]})})};et.displayName="HelpHint";var Ke=t(1569),tt={};tt.styleTagTransform=p(),tt.setAttributes=B(),tt.insert=U().bind(null,"head"),tt.domAPI=X(),tt.insertStyleElement=I(),ve()(Ke.Z,tt),Ke.Z&&Ke.Z.locals&&Ke.Z.locals;var ut=function(Sn){return(0,h.jsx)(h.Fragment,{children:Sn.children||(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(D,{}),(0,h.jsx)(ze,{}),(0,h.jsx)(Je,{}),(0,h.jsx)(et,{})]})})};ut.displayName="WelcomeScreen",ut.Center=D,ut.Hints={MenuHint:ze,ToolbarHint:Je,HelpHint:et};var ht=ut,He=t(8806),Ee=t(3397),Le={};Le.styleTagTransform=p(),Le.setAttributes=B(),Le.insert=U().bind(null,"head"),Le.domAPI=X(),Le.insertStyleElement=I(),ve()(Ee.Z,Le),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;var Qe=["isCollaborating","onSelect"];function ct(Sn,Bt){var dn=Object.keys(Sn);if(Object.getOwnPropertySymbols){var un=Object.getOwnPropertySymbols(Sn);Bt&&(un=un.filter(function(Bn){return Object.getOwnPropertyDescriptor(Sn,Bn).enumerable})),dn.push.apply(dn,un)}return dn}function bt(Sn){for(var Bt=1;Bt<arguments.length;Bt++){var dn=arguments[Bt]!=null?arguments[Bt]:{};Bt%2?ct(Object(dn),!0).forEach(function(un){(0,pe.Z)(Sn,un,dn[un])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Sn,Object.getOwnPropertyDescriptors(dn)):ct(Object(dn)).forEach(function(un){Object.defineProperty(Sn,un,Object.getOwnPropertyDescriptor(dn,un))})}return Sn}var wt=function(Sn){var Bt=Sn.isCollaborating,dn=Sn.onSelect,un=(0,Q.Z)(Sn,Qe),Bn=(0,V.I)();return(0,h.jsxs)(He.z,bt(bt({},un),{},{className:(0,W.Z)("collab-button",{active:Bt}),type:"button",onSelect:dn,style:{position:"relative"},title:(0,_.t)("labels.liveCollaboration"),children:[Te.jn,Bn.collaborators.size>0&&(0,h.jsx)("div",{className:"CollabButton-collaborators",children:Bn.collaborators.size})]}))},zt=wt;wt.displayName="LiveCollaborationTrigger";var Mt=t(7651),Zt=t(7994),sn=t(507),rn=t(4183),Xt=t(583),on=t(9326),jn=t(5902),It=t(1925),kt=t(8020),Ht=t(6199),At=t(4949),Wt=t(6013),Kt=["initialData","UIOptions"],an=["initialData","UIOptions"];function bn(Sn,Bt){var dn=Object.keys(Sn);if(Object.getOwnPropertySymbols){var un=Object.getOwnPropertySymbols(Sn);Bt&&(un=un.filter(function(Bn){return Object.getOwnPropertyDescriptor(Sn,Bn).enumerable})),dn.push.apply(dn,un)}return dn}function hn(Sn){for(var Bt=1;Bt<arguments.length;Bt++){var dn=arguments[Bt]!=null?arguments[Bt]:{};Bt%2?bn(Object(dn),!0).forEach(function(un){d()(Sn,un,dn[un])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Sn,Object.getOwnPropertyDescriptors(dn)):bn(Object(dn)).forEach(function(un){Object.defineProperty(Sn,un,Object.getOwnPropertyDescriptor(dn,un))})}return Sn}var An=function(Sn){var Bt,dn,un,Bn,Jn,cr,kr=Sn.onChange,fr=Sn.initialData,pn=Sn.excalidrawAPI,Nt=Sn.isCollaborating,Ft=Nt!==void 0&&Nt,qt=Sn.onPointerUpdate,kn=Sn.renderTopRightUI,$n=Sn.langCode,Hn=$n===void 0?_.Fp.code:$n,Qn=Sn.viewModeEnabled,ir=Sn.zenModeEnabled,Fn=Sn.gridModeEnabled,yr=Sn.libraryReturnUrl,lr=Sn.theme,Gn=Sn.name,Xn=Sn.renderCustomStats,er=Sn.onPaste,pr=Sn.detectScroll,vr=pr===void 0||pr,xr=Sn.handleKeyboardGlobally,$r=xr!==void 0&&xr,io=Sn.onLibraryChange,Eo=Sn.autoFocus,Ro=Eo!==void 0&&Eo,Bo=Sn.generateIdForFile,Do=Sn.onLinkOpen,bo=Sn.onPointerDown,Zo=Sn.onScrollChange,rt=Sn.children,Se=Sn.validateEmbeddable,Ze=Sn.renderEmbeddable,Ve=(Bt=Sn.UIOptions)===null||Bt===void 0?void 0:Bt.canvasActions,pt=hn(hn({},Sn.UIOptions),{},{canvasActions:hn(hn({},u.cW.canvasActions),Ve),tools:{image:(dn=(un=Sn.UIOptions)===null||un===void 0||(Bn=un.tools)===null||Bn===void 0?void 0:Bn.image)===null||dn===void 0||dn}});return Ve!=null&&Ve.export&&(pt.canvasActions.export.saveFileToDisk=(Jn=(cr=Ve.export)===null||cr===void 0?void 0:cr.saveFileToDisk)!==null&&Jn!==void 0?Jn:u.cW.canvasActions.export.saveFileToDisk),pt.canvasActions.toggleTheme===null&&lr===void 0&&(pt.canvasActions.toggleTheme=!0),(0,b.useEffect)(function(){var Vt=function(cn){typeof cn.scale=="number"&&cn.scale!==1&&cn.preventDefault()};return document.addEventListener("touchmove",Vt,{passive:!1}),function(){document.removeEventListener("touchmove",Vt)}},[]),(0,h.jsx)(k.zt,{unstable_createStore:function(){return N.e_},scope:N.yE,children:(0,h.jsx)(x,{langCode:Hn,theme:lr,children:(0,h.jsx)(G.ZP,{onChange:kr,initialData:fr,excalidrawAPI:pn,isCollaborating:Ft,onPointerUpdate:qt,renderTopRightUI:kn,langCode:Hn,viewModeEnabled:Qn,zenModeEnabled:ir,gridModeEnabled:Fn,libraryReturnUrl:yr,theme:lr,name:Gn,renderCustomStats:Xn,UIOptions:pt,onPaste:er,detectScroll:vr,handleKeyboardGlobally:$r,onLibraryChange:io,autoFocus:Ro,generateIdForFile:Bo,onLinkOpen:Do,onPointerDown:bo,onScrollChange:Zo,validateEmbeddable:Se,renderEmbeddable:Ze,children:rt})})})},Yn=function(Sn,Bt){if(Sn.children!==Bt.children)return!1;Sn.initialData;var dn=Sn.UIOptions,un=dn===void 0?{}:dn,Bn=w()(Sn,Kt),Jn=(Bt.initialData,Bt.UIOptions),cr=Jn===void 0?{}:Jn,kr=w()(Bt,an),fr=Object.keys(un),pn=Object.keys(cr);return fr.length===pn.length&&fr.every(function(Nt){return Nt==="canvasActions"?Object.keys(un.canvasActions).every(function(Ft){var qt,kn,$n,Hn;return Ft==="export"&&un!=null&&(qt=un.canvasActions)!==null&&qt!==void 0&&qt.export&&cr!=null&&(kn=cr.canvasActions)!==null&&kn!==void 0&&kn.export?un.canvasActions.export.saveFileToDisk===cr.canvasActions.export.saveFileToDisk:(un==null||($n=un.canvasActions)===null||$n===void 0?void 0:$n[Ft])===(cr==null||(Hn=cr.canvasActions)===null||Hn===void 0?void 0:Hn[Ft])}):un[Nt]===cr[Nt]})&&(0,le.w8)(Bn,kr)},tr=T().memo(An,Yn);tr.displayName="Excalidraw"},507:function(We,te,t){t.d(te,{y8:function(){return ve},Fl:function(){return M},NL:function(){return B},i1:function(){return E},$D:function(){return I},N7:function(){return X.N7},cT:function(){return fe.cT},lV:function(){return fe.lV},ZY:function(){return fe.ZY},zh:function(){return q.zh},I_:function(){return Z.I_},NI:function(){return Z.NI}});var e=t(8950),w=t(7169),v=t(2975),d=t.n(v),b=t(3668),T=t(6853),S=t(7994),a=t(9937),c=t(250),Z=t(4419),F=t(4694);function _(p){return[Math.min(p[0][0],p[1][0]),Math.min(p[0][1],p[1][1]),Math.max(p[0][0],p[1][0]),Math.max(p[0][1],p[1][1])]}function h(p,r){return p[0]*r[1]-r[0]*p[1]}function x(p,r){return[p[0]-r[0],p[1]-r[1]]}function G(p,r){var o=h(x(p[1],p[0]),x(r,p[0]));return Math.abs(o)<1e-6}function le(p,r){return h(x(p[1],p[0]),x(r,p[0]))<0}function he(p,r){return G(p,r[0])||G(p,r[1])||(le(p,r[0])?!le(p,r[1]):le(p,r[1]))}function ve(p,r){return function(o,g){return o[0]<=g[2]&&o[2]>=g[0]&&o[1]<=g[3]&&o[3]>=g[1]}(_(p),_(r))&&he(p,r)&&he(r,p)}t(6013);var fe=t(5796),X=t(9660),q=t(9326);function U(p,r){var o=Object.keys(p);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(p);r&&(g=g.filter(function(s){return Object.getOwnPropertyDescriptor(p,s).enumerable})),o.push.apply(o,g)}return o}function R(p){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?U(Object(o),!0).forEach(function(g){(0,w.Z)(p,g,o[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(o)):U(Object(o)).forEach(function(g){Object.defineProperty(p,g,Object.getOwnPropertyDescriptor(o,g))})}return p}var B=function(p){var r=p.elements,o=p.appState,g=p.files,s=p.maxWidthOrHeight,u=p.getDimensions,k=p.exportPadding,N=p.exportingFrame,W=(0,S.nu)({elements:r,appState:o},null,null),O=W.elements,j=W.appState,L=j.exportBackground,V=j.viewBackgroundColor;return(0,b.NL)(O,R(R({},j),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),g||{},{exportBackground:L,exportPadding:k,viewBackgroundColor:V,exportingFrame:N},function(ie,se){var ue,pe=document.createElement("canvas");if(s){var Q;typeof u=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var ee=Math.max(ie,se),me=s<ee?s/ee:(Q=o?.exportScale)!==null&&Q!==void 0?Q:1;return pe.width=ie*me,pe.height=se*me,{canvas:pe,scale:me}}var Te=u?.(ie,se)||{width:ie,height:se};return pe.width=Te.width,pe.height=Te.height,{canvas:pe,scale:(ue=Te.scale)!==null&&ue!==void 0?ue:1}})},M=function(){var p=(0,e.Z)(d().mark(function r(o){var g,s,u,k,N,W;return d().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return u=(s=o).mimeType,k=u===void 0?a.LO.png:u,N=s.quality,k===a.LO.png&&typeof N=="number"&&console.warn('"quality" will be ignored for "'.concat(a.LO.png,'" mimeType')),k==="image/jpg"&&(k=a.LO.jpg),k!==a.LO.jpg||(g=o.appState)!==null&&g!==void 0&&g.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(a.LO.jpg,'" mimeType')),o=R(R({},o),{},{appState:R(R({},o.appState),{},{exportBackground:!0})})),O.next=6,B(o);case 6:return W=O.sent,N=N||(/image\/jpe?g/.test(k)?.92:.8),O.abrupt("return",new Promise(function(j,L){W.toBlob(function(){var V=(0,e.Z)(d().mark(function ie(se){var ue;return d().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(se){pe.next=2;break}return pe.abrupt("return",L(new Error("couldn't export to blob")));case 2:if(!se||k!==a.LO.png||(ue=o.appState)===null||ue===void 0||!ue.exportEmbedScene){pe.next=6;break}return pe.next=5,(0,c.encodePngMetadata)({blob:se,metadata:(0,Z.I_)(o.elements,o.appState,o.files||{},"local")});case 5:se=pe.sent;case 6:j(se);case 7:case"end":return pe.stop()}},ie)}));return function(ie){return V.apply(this,arguments)}}(),k,N)}));case 9:case"end":return O.stop()}},r)}));return function(r){return p.apply(this,arguments)}}(),I=function(){var p=(0,e.Z)(d().mark(function r(o){var g,s,u,k,N,W,O,j,L,V,ie,se;return d().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return g=o.elements,s=o.appState,u=s===void 0?(0,T.im)():s,k=o.files,N=k===void 0?{}:k,W=o.exportPadding,O=o.renderEmbeddables,j=o.exportingFrame,L=(0,S.nu)({elements:g,appState:u},null,null),V=L.elements,ie=L.appState,se=R(R({},ie),{},{exportPadding:W}),ue.abrupt("return",(0,b.$D)(V,se,N,{exportingFrame:j,renderEmbeddables:O}));case 4:case"end":return ue.stop()}},r)}));return function(r){return p.apply(this,arguments)}}(),E=function(){var p=(0,e.Z)(d().mark(function r(o){var g;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o.type!=="svg"){s.next=8;break}return s.next=3,I(o);case 3:return g=s.sent,s.next=6,(0,F.dd)(g.outerHTML);case 6:case 11:case 16:s.next=19;break;case 8:if(o.type!=="png"){s.next=13;break}return s.next=11,(0,F.uR)(M(o));case 13:if(o.type!=="json"){s.next=18;break}return s.next=16,(0,F.vQ)(o.elements,o.files);case 18:throw new Error("Invalid export type");case 19:case"end":return s.stop()}},r)}));return function(r){return p.apply(this,arguments)}}()},6013:function(We,te,t){t.d(te,{Ne:function(){return c},Xs:function(){return F},sQ:function(){return Z}});var e=t(2577),w=t(4183),v=t(2361),d=t(4949);function b(_,h){var x=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!x){if(Array.isArray(_)||(x=function(X,q){if(X){if(typeof X=="string")return T(X,q);var U=Object.prototype.toString.call(X).slice(8,-1);if(U==="Object"&&X.constructor&&(U=X.constructor.name),U==="Map"||U==="Set")return Array.from(X);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return T(X,q)}}(_))||h){x&&(_=x);var G=0,le=function(){};return{s:le,n:function(){return G>=_.length?{done:!0}:{done:!1,value:_[G++]}},e:function(X){throw X},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var he,ve=!0,fe=!1;return{s:function(){x=x.call(_)},n:function(){var X=x.next();return ve=X.done,X},e:function(X){fe=!0,he=X},f:function(){try{ve||x.return==null||x.return()}finally{if(fe)throw he}}}}function T(_,h){(h==null||h>_.length)&&(h=_.length);for(var x=0,G=new Array(h);x<h;x++)G[x]=_[x];return G}var S=function(_){var h=_.reduce(function(x,G){var le=(0,e.Z)(G,2),he=le[0],ve=le[1];return x.minY=Math.min(x.minY,ve),x.minX=Math.min(x.minX,he),x.maxX=Math.max(x.maxX,he),x.maxY=Math.max(x.maxY,ve),x},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return h.cx=(h.maxX+h.minX)/2,h.cy=(h.maxY+h.minY)/2,h},a=function(_){var h=function(U){return(0,w.bt)(U)||(0,w.F9)(U)?U.points:function(R){return R.type==="diamond"?[[R.width/2,0],[R.width,R.height/2],[R.width/2,R.height],[0,R.height/2]]:[[0,0],[0+R.width,0],[0+R.width,R.height],[0,R.height]]}(U)}(_),x=S(h),G=[x.cx,x.cy],le=h.map(function(U){return(0,v.xj)([U[0],U[1]],G,_.angle)}),he=S(le),ve=he.minX,fe=he.minY,X=he.maxX,q=he.maxY;return[ve+_.x,fe+_.y,X+_.x,q+_.y]},c=function(_,h){var x=arguments.length>2&&arguments[2]!==void 0&&arguments[2],G=a(_),le=h[0]<=G[0]&&h[2]>=G[2]&&h[1]<=G[1]&&h[3]>=G[3];return x?!!le||G[0]<=h[0]&&G[2]>=h[2]&&G[1]<=h[1]&&G[3]>=h[3]:le},Z=function(_,h){var x=a(_);return((0,v.Xt)(x[0],h[0],h[2])||(0,v.Xt)(h[0],x[0],x[2]))&&((0,v.Xt)(x[1],h[1],h[3])||(0,v.Xt)(h[1],x[1],x[3]))},F=function(_){var h=_.elements,x=_.bounds,G=_.type,le=_.errorMargin,he=le===void 0?0:le;(0,w.r2)(x)&&(x=(0,d.Pi)(x));var ve,fe=[x[0]-he,x[1]-he,x[2]+he,x[3]+he],X=new Set,q=b(h);try{for(q.s();!(ve=q.n()).done;){var U=ve.value;if(!X.has(U.id)&&(G==="overlap"?Z(U,fe):G==="inside"?c(U,fe):c(U,fe,!0))){if(X.add(U.id),U.boundElements){var R,B=b(U.boundElements);try{for(B.s();!(R=B.n()).done;){var M=R.value;X.add(M.id)}}catch(E){B.e(E)}finally{B.f()}}var I;(0,w.iB)(U)&&U.containerId&&X.add(U.containerId),(0,w.Yv)(U)&&(U.startBinding&&X.add(U.startBinding.elementId),U.endBinding&&X.add((I=U.endBinding)===null||I===void 0?void 0:I.elementId))}}}catch(E){q.e(E)}finally{q.f()}return h.filter(function(E){return X.has(E.id)})}},5999:function(We,te,t){t.d(te,{k:function(){return w},z:function(){return v}});var e=t(1930),w=function(d){var b=d.map(function(S){return S[0]}),T=d.map(function(S){return S[1]});return{width:Math.max.apply(Math,(0,e.Z)(b))-Math.min.apply(Math,(0,e.Z)(b)),height:Math.max.apply(Math,(0,e.Z)(T))-Math.min.apply(Math,(0,e.Z)(T))}},v=function(d,b,T,S){var a=T.map(function(le){return le[d]}),c=Math.max.apply(Math,(0,e.Z)(a)),Z=Math.min.apply(Math,(0,e.Z)(a)),F=c-Z,_=F===0?1:b/F,h=1/0,x=T.map(function(le){var he=le[d]*_,ve=(0,e.Z)(le);return ve[d]=he,he<h&&(h=he),ve});if(!S||x.length===2)return x;var G=Z-h;return x.map(function(le){return le.map(function(he,ve){return ve===d?he+G:he})})}},4643:function(We,te,t){t.d(te,{LU:function(){return T},kb:function(){return S}});var e=t(8152),w=t(5605),v=t(9827),d=new e.k(Date.now()),b=0,T=function(){return Math.floor(d.next()*Math.pow(2,31))},S=function(){return(0,v.h2)()?"id".concat(b++):(0,w.x0)()}},9660:function(We,te,t){t.d(te,{Dn:function(){return ie},Xx:function(){return Q},Lc:function(){return Re},N7:function(){return ke},lw:function(){return Ue},Rg:function(){return Oe},uI:function(){return Te}});var e=t(7169),w=t(2577),v=t(4183),d=t(4949),b=t(9827),T=t(2361),S=t(9845),a=t(6853),c=t(9937);function Z(P,l,f,D=H=>H){return P*D(.5-l*(.5-f))}function F(P,l){return[P[0]+l[0],P[1]+l[1]]}function _(P,l){return[P[0]-l[0],P[1]-l[1]]}function h(P,l){return[P[0]*l,P[1]*l]}function x(P){return[P[1],-P[0]]}function G(P,l){return P[0]*l[0]+P[1]*l[1]}function le(P,l){return P[0]===l[0]&&P[1]===l[1]}function he(P,l){return function(f){return f[0]*f[0]+f[1]*f[1]}(_(P,l))}function ve(P){return function(l,f){return[l[0]/f,l[1]/f]}(P,function(l){return Math.hypot(l[0],l[1])}(P))}function fe(P,l){return Math.hypot(P[1]-l[1],P[0]-l[0])}function X(P,l,f){let D=Math.sin(f),H=Math.cos(f),J=P[0]-l[0],re=P[1]-l[1],ae=J*D+re*H;return[J*H-re*D+l[0],ae+l[1]]}function q(P,l,f){return F(P,h(_(l,P),f))}function U(P,l,f){return F(P,h(l,f))}var{min:R,PI:B}=Math,M=B+1e-4;function I(P,l={}){return function(f,D={}){let{size:H=16,smoothing:J=.5,thinning:re=.5,simulatePressure:ae=!0,easing:ge=At=>At,start:_e={},end:ze={},last:Je=!1}=D,{cap:et=!0,easing:Ke=At=>At*(2-At)}=_e,{cap:tt=!0,easing:ut=At=>--At*At*At+1}=ze;if(f.length===0||H<=0)return[];let ht,He=f[f.length-1].runningLength,Ee=_e.taper===!1?0:_e.taper===!0?Math.max(H,He):_e.taper,Le=ze.taper===!1?0:ze.taper===!0?Math.max(H,He):ze.taper,Qe=Math.pow(H*J,2),ct=[],bt=[],wt=f.slice(0,10).reduce((At,Wt)=>{let Kt=Wt.pressure;if(ae){let an=R(1,Wt.distance/H),bn=R(1,1-an);Kt=R(1,At+.275*an*(bn-At))}return(At+Kt)/2},f[0].pressure),zt=Z(H,re,f[f.length-1].pressure,ge),Mt=f[0].vector,Zt=f[0].point,sn=Zt,rn=Zt,Xt=sn,on=!1;for(let At=0;At<f.length;At++){let{pressure:Wt}=f[At],{point:Kt,vector:an,distance:bn,runningLength:hn}=f[At];if(At<f.length-1&&He-hn<3)continue;if(re){if(ae){let un=R(1,bn/H),Bn=R(1,1-un);Wt=R(1,wt+.275*un*(Bn-wt))}zt=Z(H,re,Wt,ge)}else zt=H/2;ht===void 0&&(ht=zt);let An=hn<Ee?Ke(hn/Ee):1,Yn=He-hn<Le?ut((He-hn)/Le):1;zt=Math.max(.01,zt*Math.min(An,Yn));let tr=(At<f.length-1?f[At+1]:f[At]).vector,Sn=At<f.length-1?G(an,tr):1,Bt=Sn!==null&&Sn<0;if(G(an,Mt)<0&&!on||Bt){let un=h(x(Mt),zt);for(let Bn=.07692307692307693,Jn=0;Jn<=1;Jn+=Bn)rn=X(_(Kt,un),Kt,M*Jn),ct.push(rn),Xt=X(F(Kt,un),Kt,M*-Jn),bt.push(Xt);Zt=rn,sn=Xt,Bt&&(on=!0);continue}if(on=!1,At===f.length-1){let un=h(x(an),zt);ct.push(_(Kt,un)),bt.push(F(Kt,un));continue}let dn=h(x(q(tr,an,Sn)),zt);rn=_(Kt,dn),(At<=1||he(Zt,rn)>Qe)&&(ct.push(rn),Zt=rn),Xt=F(Kt,dn),(At<=1||he(sn,Xt)>Qe)&&(bt.push(Xt),sn=Xt),wt=Wt,Mt=an}let jn=f[0].point.slice(0,2),It=f.length>1?f[f.length-1].point.slice(0,2):F(f[0].point,[1,1]),kt=[],Ht=[];if(f.length===1){if(!Ee&&!Le||Je){let At=U(jn,ve(x(_(jn,It))),-(ht||zt)),Wt=[];for(let Kt=.07692307692307693,an=Kt;an<=1;an+=Kt)Wt.push(X(At,jn,2*M*an));return Wt}}else{if(!(Ee||Le&&f.length===1))if(et)for(let Wt=.07692307692307693,Kt=Wt;Kt<=1;Kt+=Wt){let an=X(bt[0],jn,M*Kt);kt.push(an)}else{let Wt=_(ct[0],bt[0]),Kt=h(Wt,.5),an=h(Wt,.51);kt.push(_(jn,Kt),_(jn,an),F(jn,an),F(jn,Kt))}let At=x(function(Wt){return[-Wt[0],-Wt[1]]}(f[f.length-1].vector));if(Le||Ee&&f.length===1)Ht.push(It);else if(tt){let Wt=U(It,At,zt);for(let Kt=.034482758620689655,an=Kt;an<1;an+=Kt)Ht.push(X(Wt,It,3*M*an))}else Ht.push(F(It,h(At,zt)),F(It,h(At,.99*zt)),_(It,h(At,.99*zt)),_(It,h(At,zt)))}return ct.concat(Ht,bt.reverse(),kt)}(function(f,D={}){var H;let{streamline:J=.5,size:re=16,last:ae=!1}=D;if(f.length===0)return[];let ge=.15+.85*(1-J),_e=Array.isArray(f[0])?f:f.map(({x:ut,y:ht,pressure:He=.5})=>[ut,ht,He]);if(_e.length===2){let ut=_e[1];_e=_e.slice(0,-1);for(let ht=1;ht<5;ht++)_e.push(q(_e[0],ut,ht/4))}_e.length===1&&(_e=[..._e,[...F(_e[0],[1,1]),..._e[0].slice(2)]]);let ze=[{point:[_e[0][0],_e[0][1]],pressure:_e[0][2]>=0?_e[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],Je=!1,et=0,Ke=ze[0],tt=_e.length-1;for(let ut=1;ut<_e.length;ut++){let ht=ae&&ut===tt?_e[ut].slice(0,2):q(Ke.point,_e[ut],ge);if(le(Ke.point,ht))continue;let He=fe(ht,Ke.point);if(et+=He,ut<tt&&!Je){if(et<re)continue;Je=!0}Ke={point:ht,pressure:_e[ut][2]>=0?_e[ut][2]:.5,vector:ve(_(Ke.point,ht)),distance:He,runningLength:et},ze.push(Ke)}return ze[0].vector=((H=ze[1])==null?void 0:H.vector)||[0,0],ze}(P,l),l)}var E=t(4761),p=t(7422),r=t(761),o=t(4682),g=t(8020),s=t(2921);function u(P,l){var f=Object.keys(P);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(P);l&&(D=D.filter(function(H){return Object.getOwnPropertyDescriptor(P,H).enumerable})),f.push.apply(f,D)}return f}function k(P){for(var l=1;l<arguments.length;l++){var f=arguments[l]!=null?arguments[l]:{};l%2?u(Object(f),!0).forEach(function(D){(0,e.Z)(P,D,f[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(f)):u(Object(f)).forEach(function(D){Object.defineProperty(P,D,Object.getOwnPropertyDescriptor(f,D))})}return P}var N="invert(100%) hue-rotate(180deg) saturate(1.25)",W=(0,a.im)(),O=function(P,l){return(0,v.wi)(P)&&!l.imageCache.has(P.fileId)},j=function(P,l,f){var D;return f.theme==="dark"&&(0,v.wi)(P)&&!O(P,l)&&((D=l.imageCache.get(P.fileId))===null||D===void 0?void 0:D.mimeType)!==c.LO.svg},L=function(P){return P.type==="freedraw"?12*P.strokeWidth:20},V=function(P,l,f,D){var H,J,re=document.createElement("canvas"),ae=re.getContext("2d"),ge=L(P),_e=function(Qe,ct){var bt=16777216,wt=32767,zt=L(Qe),Mt=(0,d.qf)(Qe),Zt=(0,w.Z)(Mt,4),sn=Zt[0],rn=Zt[1],Xt=Zt[2],on=Zt[3],jn=(0,v.bt)(Qe)||(0,v.F9)(Qe)?(0,b.TE)(sn,Xt):Qe.width,It=(0,v.bt)(Qe)||(0,v.F9)(Qe)?(0,b.TE)(rn,on):Qe.height,kt=jn*window.devicePixelRatio+2*zt,Ht=It*window.devicePixelRatio+2*zt,At=ct.value;return(kt*At>wt||Ht*At>wt)&&(At=Math.min(wt/kt,wt/Ht)),kt*Ht*At*At>bt&&(At=Math.sqrt(bt/(kt*Ht))),{width:kt=Math.floor(kt*At),height:Ht=Math.floor(Ht*At),scale:At}}(P,l),ze=_e.width,Je=_e.height,et=_e.scale;re.width=ze,re.height=Je;var Ke=0,tt=0;if((0,v.bt)(P)||(0,v.F9)(P)){var ut=(0,d.qf)(P),ht=(0,w.Z)(ut,2),He=ht[0],Ee=ht[1];Ke=P.x>He?(0,b.TE)(P.x,He)*window.devicePixelRatio*et:0,tt=P.y>Ee?(0,b.TE)(P.y,Ee)*window.devicePixelRatio*et:0,ae.translate(Ke,tt)}ae.save(),ae.translate(ge*et,ge*et),ae.scale(window.devicePixelRatio*et,window.devicePixelRatio*et);var Le=S.Z.canvas(re);return j(P,f,D)&&(ae.filter=N),pe(P,Le,ae,f,D),ae.restore(),{element:P,canvas:re,theme:D.theme,scale:et,zoomValue:l.value,canvasOffsetX:Ke,canvasOffsetY:tt,boundTextElementVersion:((H=(0,E.WJ)(P))===null||H===void 0?void 0:H.version)||null,containingFrameOpacity:((J=(0,o.$Z)(P))===null||J===void 0?void 0:J.opacity)||100}},ie=14,se=document.createElement("img");se.src="data:".concat(c.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var ue=document.createElement("img");ue.src="data:".concat(c.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var pe=function(P,l,f,D,H){var J,re;switch(f.globalAlpha=((J=(re=(0,o.$Z)(P))===null||re===void 0?void 0:re.opacity)!==null&&J!==void 0?J:100)*P.opacity/1e4,P.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":f.lineJoin="round",f.lineCap="round",l.draw(s.R.get(P));break;case"arrow":case"line":f.lineJoin="round",f.lineCap="round",s.R.get(P).forEach(function(Ee){l.draw(Ee)});break;case"freedraw":f.save(),f.fillStyle=P.strokeColor;var ae=function(Ee){return Ie.get(Ee)}(P),ge=s.R.get(P);ge&&l.draw(ge),f.fillStyle=P.strokeColor,f.fill(ae),f.restore();break;case"image":var _e,ze=(0,v.wi)(P)?(_e=D.imageCache.get(P.fileId))===null||_e===void 0?void 0:_e.image:void 0;ze==null||ze instanceof Promise?function(Ee,Le,Qe){Le.fillStyle="#E7E7E7",Le.fillRect(0,0,Ee.width,Ee.height);var ct=Math.min(Ee.width,Ee.height),bt=Math.min(ct,Math.min(.4*ct,100));Le.drawImage(Ee.status==="error"?ue:se,Ee.width/2-bt/2,Ee.height/2-bt/2,bt,bt)}(P,f,H.zoom.value):f.drawImage(ze,0,0,P.width,P.height);break;default:if(!(0,v.iB)(P))throw new Error("Unimplemented type ".concat(P.type));var Je=(0,b.dZ)(P.text),et=Je&&!f.canvas.isConnected;et&&document.body.appendChild(f.canvas),f.canvas.setAttribute("dir",Je?"rtl":"ltr"),f.save(),f.font=(0,b.mO)(P),f.fillStyle=P.strokeColor,f.textAlign=P.textAlign;for(var Ke=P.text.replace(/\r\n?/g,`
`).split(`
`),tt=P.textAlign==="center"?P.width/2:P.textAlign==="right"?P.width:0,ut=(0,E.Rg)(P.fontSize,P.lineHeight),ht=P.height-P.baseline,He=0;He<Ke.length;He++)f.fillText(Ke[He],tt,(He+1)*ut-ht);f.restore(),et&&f.canvas.remove()}f.globalAlpha=1},Q=new WeakMap,ee=function(P,l,f){var D,H,J=l?f.zoom:W.zoom,re=Q.get(P),ae=re&&re.zoomValue!==J.value&&!(f!=null&&f.shouldCacheIgnoreZoom),ge=((D=(0,E.WJ)(P))===null||D===void 0?void 0:D.version)||null,_e=((H=(0,o.$Z)(P))===null||H===void 0?void 0:H.opacity)||100;if(!re||ae||re.theme!==f.theme||re.boundTextElementVersion!==ge||re.containingFrameOpacity!==_e){var ze=V(P,J,l,f);return Q.set(P,ze),ze}return re},me=function(P,l,f,D){var H=P.element,J=L(H),re=P.scale,ae=(0,d.qf)(H),ge=(0,w.Z)(ae,4),_e=ge[0],ze=ge[1],Je=ge[2],et=ge[3];(0,v.F9)(H)&&(_e=Math.floor(_e),Je=Math.ceil(Je),ze=Math.floor(ze),et=Math.ceil(et));var Ke=((_e+Je)/2+D.scrollX)*window.devicePixelRatio,tt=((ze+et)/2+D.scrollY)*window.devicePixelRatio;l.save(),l.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var ut=(0,E.WJ)(H);if((0,v.Yv)(H)&&ut){var ht=document.createElement("canvas"),He=ht.getContext("2d"),Ee=Math.max((0,b.TE)(_e,Je),(0,b.TE)(ze,et));ht.width=Ee*window.devicePixelRatio*re+J*P.scale*10,ht.height=Ee*window.devicePixelRatio*re+J*P.scale*10;var Le=(ht.width-P.canvas.width)/2,Qe=(ht.height-P.canvas.height)/2;He.translate(ht.width/2,ht.height/2),He.rotate(H.angle),He.drawImage(P.canvas,-P.canvas.width/2,-P.canvas.height/2,P.canvas.width,P.canvas.height);var ct=(0,d.qf)(ut),bt=(0,w.Z)(ct,6),wt=bt[4],zt=bt[5];He.rotate(-H.angle);var Mt=ht.width/2-(wt-_e)*window.devicePixelRatio*re-Le-J*re,Zt=ht.height/2-(zt-ze)*window.devicePixelRatio*re-Qe-J*re;He.translate(-Mt,-Zt),He.clearRect(-(ut.width/2+c.gK)*window.devicePixelRatio*re,-(ut.height/2+c.gK)*window.devicePixelRatio*re,(ut.width+2*c.gK)*window.devicePixelRatio*re,(ut.height+2*c.gK)*window.devicePixelRatio*re),l.translate(Ke,tt),l.drawImage(ht,-(Je-_e)/2*window.devicePixelRatio-Le/re-J,-(et-ze)/2*window.devicePixelRatio-Qe/re-J,ht.width/re,ht.height/re)}else if(l.translate(Ke,tt),l.rotate(H.angle),"scale"in P.element&&!O(H,f)&&l.scale(P.element.scale[0],P.element.scale[1]),l.translate(-Ke,-tt),l.drawImage(P.canvas,(_e+D.scrollX)*window.devicePixelRatio-J*P.scale/P.scale,(ze+D.scrollY)*window.devicePixelRatio-J*P.scale/P.scale,P.canvas.width/P.scale,P.canvas.height/P.scale),{}.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,v.Xo)(H)){var sn=(0,E.WJ)(H),rn=(0,E.cw)(H);l.strokeStyle="#c92a2a",l.lineWidth=3,l.strokeRect((rn.x+D.scrollX)*window.devicePixelRatio,(rn.y+D.scrollY)*window.devicePixelRatio,(0,E.iZ)(H)*window.devicePixelRatio,(0,E.D9)(H,sn)*window.devicePixelRatio)}l.restore()},Te=function(P,l,f){l.save(),l.translate(P.x+f.scrollX,P.y+f.scrollY),l.fillStyle="rgba(0, 0, 200, 0.04)";var D=.5/f.zoom.value;l.fillRect(D,D,P.width,P.height),l.lineWidth=1/f.zoom.value,l.strokeStyle=" rgb(105, 101, 219)",l.strokeRect(D,D,P.width,P.height),l.restore()},Ue=function(P,l,f,D,H){switch(P.type){case"frame":H.frameRendering.enabled&&H.frameRendering.outline&&(f.save(),f.translate(P.x+H.scrollX,P.y+H.scrollY),f.fillStyle="rgba(0, 0, 200, 0.04)",f.lineWidth=c.iG.strokeWidth/H.zoom.value,f.strokeStyle=c.iG.strokeColor,c.iG.radius&&f.roundRect?(f.beginPath(),f.roundRect(0,0,P.width,P.height,c.iG.radius/H.zoom.value),f.stroke(),f.closePath()):f.strokeRect(0,0,P.width,P.height),f.restore());break;case"freedraw":if(s.R.generateElementShape(P),D.isExporting){var J=(0,d.qf)(P),re=(0,w.Z)(J,4),ae=re[0],ge=re[1],_e=re[2],ze=re[3],Je=(ae+_e)/2+H.scrollX,et=(ge+ze)/2+H.scrollY,Ke=(_e-ae)/2-(P.x-ae),tt=(ze-ge)/2-(P.y-ge);f.save(),f.translate(Je,et),f.rotate(P.angle),f.translate(-Ke,-tt),pe(P,l,f,D,H),f.restore()}else{var ut=ee(P,D,H);me(ut,f,D,H)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"embeddable":if(s.R.generateElementShape(P,D.isExporting),D.isExporting){var ht=(0,d.qf)(P),He=(0,w.Z)(ht,4),Ee=He[0],Le=He[1],Qe=He[2],ct=He[3],bt=(Ee+Qe)/2+H.scrollX,wt=(Le+ct)/2+H.scrollY,zt=(Qe-Ee)/2-(P.x-Ee),Mt=(ct-Le)/2-(P.y-Le);if((0,v.iB)(P)){var Zt=(0,E.tl)(P);if((0,v.Yv)(Zt)){var sn=p._.getBoundTextElementPosition(Zt,P);zt=(Qe-Ee)/2-(sn.x-Ee),Mt=(ct-Le)/2-(sn.y-Le)}}f.save(),f.translate(bt,wt),j(P,D,H)&&(f.filter="none");var rn=(0,E.WJ)(P);if((0,v.Yv)(P)&&rn){var Xt=document.createElement("canvas"),on=Xt.getContext("2d"),jn=Math.max((0,b.TE)(Ee,Qe),(0,b.TE)(Le,ct)),It=L(P);Xt.width=jn*H.exportScale+10*It*H.exportScale,Xt.height=jn*H.exportScale+10*It*H.exportScale,on.translate(Xt.width/2,Xt.height/2),on.scale(H.exportScale,H.exportScale),zt=P.width/2-(P.x-Ee),Mt=P.height/2-(P.y-Le),on.rotate(P.angle);var kt=S.Z.canvas(Xt);on.translate(-zt,-Mt),pe(P,kt,on,D,H),on.translate(zt,Mt),on.rotate(-P.angle);var Ht=(0,d.qf)(rn),At=(0,w.Z)(Ht,6),Wt=(Ee+Qe)/2-At[4],Kt=(Le+ct)/2-At[5];on.translate(-Wt,-Kt),on.clearRect(-rn.width/2,-rn.height/2,rn.width,rn.height),f.scale(1/H.exportScale,1/H.exportScale),f.drawImage(Xt,-Xt.width/2,-Xt.height/2,Xt.width,Xt.height)}else f.rotate(P.angle),P.type==="image"&&f.scale(P.scale[0],P.scale[1]),f.translate(-zt,-Mt),pe(P,l,f,D,H);f.restore()}else{var an=ee(P,D,H),bn=f.imageSmoothingEnabled;H!=null&&H.shouldCacheIgnoreZoom||P.angle&&!(0,T.EK)(P.angle)||(f.imageSmoothingEnabled=!1),me(an,f,D,H),f.imageSmoothingEnabled=bn}break;default:throw new Error("Unimplemented type ".concat(P.type))}},qe=function(P,l,f){if(f===void 0)return P.draw(l);var D={sets:l.sets,shape:l.shape,options:k(k({},l.options),{},{fixedDecimalPlaceDigits:f})};return P.draw(D)},Ae=function(P,l,f,D){if(!D.enabled||!D.clip)return null;var H=(0,o.$Z)(P);if(H){var J=l.ownerDocument.createElementNS(c.hR,"g");return J.setAttributeNS(c.hR,"clip-path","url(#".concat(H.id,")")),f.forEach(function(re){return J.appendChild(re)}),J}return null},Oe=function P(l,f,D,H,J,re,ae){var ge,_e,ze=J,Je=re,et=(0,d.qf)(l),Ke=(0,w.Z)(et,4),tt=Ke[0],ut=Ke[1],ht=Ke[2],He=Ke[3],Ee=(ht-tt)/2-(l.x-tt),Le=(He-ut)/2-(l.y-ut);if((0,v.iB)(l)){var Qe=(0,E.tl)(l);if((0,v.Yv)(Qe)){var ct=(0,d.qf)(Qe),bt=(0,w.Z)(ct,4),wt=bt[0],zt=bt[1],Mt=bt[2],Zt=bt[3],sn=p._.getBoundTextElementPosition(Qe,l);Ee=(Mt-wt)/2-(sn.x-wt),Le=(Zt-zt)/2-(sn.y-zt),J=J+sn.x-l.x,re=re+sn.y-l.y}}var rn=180*l.angle/Math.PI,Xt=D;if(l.link){var on=D.ownerDocument.createElementNS(c.hR,"a");on.setAttribute("href",(0,g.$u)(l.link)),Xt.appendChild(on),Xt=on}var jn=function(Zo,rt){(0,b.h2)()&&Zo.setAttribute("data-id",rt.id),Xt.appendChild(Zo)},It=((ge=(_e=(0,o.$Z)(l))===null||_e===void 0?void 0:_e.opacity)!==null&&ge!==void 0?ge:100)*l.opacity/1e4;switch(l.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var kt=s.R.generateElementShape(l),Ht=qe(f,kt,c.zK);It!==1&&(Ht.setAttribute("stroke-opacity","".concat(It)),Ht.setAttribute("fill-opacity","".concat(It))),Ht.setAttribute("stroke-linecap","round"),Ht.setAttribute("transform","translate(".concat(J||0," ").concat(re||0,") rotate(").concat(rn," ").concat(Ee," ").concat(Le,")")),jn(Ae(l,Xt,[Ht],ae.frameRendering)||Ht,l);break;case"embeddable":var At=s.R.generateElementShape(l,!0),Wt=qe(f,At,c.zK),Kt=l.opacity/100;Kt!==1&&(Wt.setAttribute("stroke-opacity","".concat(Kt)),Wt.setAttribute("fill-opacity","".concat(Kt))),Wt.setAttribute("stroke-linecap","round"),Wt.setAttribute("transform","translate(".concat(J||0," ").concat(re||0,") rotate(").concat(rn," ").concat(Ee," ").concat(Le,")")),jn(Wt,l);var an=(0,r.g0)(l);P(an,f,Xt,H,an.x+ze-l.x,an.y+Je-l.y,ae);var bn=qe(f,At,c.zK);for(bn.setAttribute("stroke-linecap","round"),bn.setAttribute("transform","translate(".concat(J||0," ").concat(re||0,") rotate(").concat(rn," ").concat(Ee," ").concat(Le,")"));bn.firstChild;)bn.removeChild(bn.firstChild);var hn=(0,T.yW)(Math.min(l.width,l.height),l),An=(0,r.LM)((0,g.ye)(l.link||""));if(ae.renderEmbeddables===!1||An?.type==="document"){var Yn=D.ownerDocument.createElementNS(c.hR,"a");Yn.setAttribute("href",(0,g.$u)(l.link||"")),Yn.setAttribute("target","_blank"),Yn.setAttribute("rel","noopener noreferrer"),Yn.style.borderRadius="".concat(hn,"px"),bn.appendChild(Yn)}else{var tr,Sn=D.ownerDocument.createElementNS(c.hR,"foreignObject");Sn.style.width="".concat(l.width,"px"),Sn.style.height="".concat(l.height,"px"),Sn.style.border="none";var Bt=Sn.ownerDocument.createElementNS(c.hR,"div");Bt.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),Bt.style.width="100%",Bt.style.height="100%";var dn=Bt.ownerDocument.createElement("iframe");dn.src=(tr=An?.link)!==null&&tr!==void 0?tr:"",dn.style.width="100%",dn.style.height="100%",dn.style.border="none",dn.style.borderRadius="".concat(hn,"px"),dn.style.top="0",dn.style.left="0",dn.allowFullscreen=!0,Bt.appendChild(dn),Sn.appendChild(Bt),bn.appendChild(Sn)}jn(bn,l);break;case"line":case"arrow":var un=(0,E.WJ)(l),Bn=D.ownerDocument.createElementNS(c.hR,"mask");if(un){Bn.setAttribute("id","mask-".concat(l.id));var Jn=D.ownerDocument.createElementNS(c.hR,"rect");J=J||0,re=re||0,Jn.setAttribute("x","0"),Jn.setAttribute("y","0"),Jn.setAttribute("fill","#fff"),Jn.setAttribute("width","".concat(l.width+100+J)),Jn.setAttribute("height","".concat(l.height+100+re)),Bn.appendChild(Jn);var cr=D.ownerDocument.createElementNS(c.hR,"rect"),kr=p._.getBoundTextElementPosition(l,un),fr=J+kr.x-l.x,pn=re+kr.y-l.y;cr.setAttribute("x",fr.toString()),cr.setAttribute("y",pn.toString()),cr.setAttribute("fill","#000"),cr.setAttribute("width","".concat(un.width)),cr.setAttribute("height","".concat(un.height)),cr.setAttribute("opacity","1"),Bn.appendChild(cr)}var Nt=D.ownerDocument.createElementNS(c.hR,"g");un&&Nt.setAttribute("mask","url(#mask-".concat(l.id,")")),Nt.setAttribute("stroke-linecap","round"),s.R.generateElementShape(l).forEach(function(Zo){var rt=qe(f,Zo,c.zK);It!==1&&(rt.setAttribute("stroke-opacity","".concat(It)),rt.setAttribute("fill-opacity","".concat(It))),rt.setAttribute("transform","translate(".concat(J||0," ").concat(re||0,") rotate(").concat(rn," ").concat(Ee," ").concat(Le,")")),l.type==="line"&&(0,T.g6)(l.points)&&l.backgroundColor!=="transparent"&&rt.setAttribute("fill-rule","evenodd"),Nt.appendChild(rt)});var Ft=Ae(l,Xt,[Nt,Bn],ae.frameRendering);Ft?(jn(Ft,l),Xt.appendChild(Ft)):(jn(Nt,l),Xt.append(Bn));break;case"freedraw":var qt=s.R.generateElementShape(l),kn=qt?qe(f,qt,c.zK):D.ownerDocument.createElementNS(c.hR,"g");It!==1&&(kn.setAttribute("stroke-opacity","".concat(It)),kn.setAttribute("fill-opacity","".concat(It))),kn.setAttribute("transform","translate(".concat(J||0," ").concat(re||0,") rotate(").concat(rn," ").concat(Ee," ").concat(Le,")")),kn.setAttribute("stroke","none");var $n=D.ownerDocument.createElementNS(c.hR,"path");$n.setAttribute("fill",l.strokeColor),$n.setAttribute("d",ke(l)),kn.appendChild($n),jn(Ae(l,Xt,[kn],ae.frameRendering)||kn,l);break;case"image":var Hn=Math.round(l.width),Qn=Math.round(l.height),ir=(0,v.wi)(l)&&H[l.fileId];if(ir){var Fn="image-".concat(ir.id),yr=D.querySelector("#".concat(Fn));if(!yr){(yr=D.ownerDocument.createElementNS(c.hR,"symbol")).id=Fn;var lr=D.ownerDocument.createElementNS(c.hR,"image");lr.setAttribute("width","100%"),lr.setAttribute("height","100%"),lr.setAttribute("href",ir.dataURL),yr.appendChild(lr),Xt.prepend(yr)}var Gn=D.ownerDocument.createElementNS(c.hR,"use");if(Gn.setAttribute("href","#".concat(Fn)),ae.exportWithDarkMode&&ir.mimeType!==c.LO.svg&&Gn.setAttribute("filter",N),Gn.setAttribute("width","".concat(Hn)),Gn.setAttribute("height","".concat(Qn)),Gn.setAttribute("opacity","".concat(It)),l.scale[0]!==1||l.scale[1]!==1){var Xn=l.scale[0]!==1?-Hn:0,er=l.scale[1]!==1?-Qn:0;Gn.setAttribute("transform","scale(".concat(l.scale[0],", ").concat(l.scale[1],") translate(").concat(Xn," ").concat(er,")"))}var pr=D.ownerDocument.createElementNS(c.hR,"g");pr.appendChild(Gn),pr.setAttribute("transform","translate(".concat(J||0," ").concat(re||0,") rotate(").concat(rn," ").concat(Ee," ").concat(Le,")")),jn(Ae(l,Xt,[pr],ae.frameRendering)||pr,l)}break;case"frame":if(ae.frameRendering.enabled&&ae.frameRendering.outline){var vr=document.createElementNS(c.hR,"rect");vr.setAttribute("transform","translate(".concat(J||0," ").concat(re||0,") rotate(").concat(rn," ").concat(Ee," ").concat(Le,")")),vr.setAttribute("width","".concat(l.width,"px")),vr.setAttribute("height","".concat(l.height,"px")),vr.setAttribute("rx",c.iG.radius.toString()),vr.setAttribute("ry",c.iG.radius.toString()),vr.setAttribute("fill","none"),vr.setAttribute("stroke",c.iG.strokeColor),vr.setAttribute("stroke-width",c.iG.strokeWidth.toString()),jn(vr,l)}break;default:if(!(0,v.iB)(l))throw new Error("Unimplemented type ".concat(l.type));var xr=D.ownerDocument.createElementNS(c.hR,"g");It!==1&&(xr.setAttribute("stroke-opacity","".concat(It)),xr.setAttribute("fill-opacity","".concat(It))),xr.setAttribute("transform","translate(".concat(J||0," ").concat(re||0,") rotate(").concat(rn," ").concat(Ee," ").concat(Le,")"));for(var $r=l.text.replace(/\r\n?/g,`
`).split(`
`),io=(0,E.Rg)(l.fontSize,l.lineHeight),Eo=l.textAlign==="center"?l.width/2:l.textAlign==="right"?l.width:0,Ro=(0,b.dZ)(l.text)?"rtl":"ltr",Bo=l.textAlign==="center"?"middle":l.textAlign==="right"||Ro==="rtl"?"end":"start",Do=0;Do<$r.length;Do++){var bo=D.ownerDocument.createElementNS(c.hR,"text");bo.textContent=$r[Do],bo.setAttribute("x","".concat(Eo)),bo.setAttribute("y","".concat(Do*io)),bo.setAttribute("font-family",(0,b.$g)(l)),bo.setAttribute("font-size","".concat(l.fontSize,"px")),bo.setAttribute("fill",l.strokeColor),bo.setAttribute("text-anchor",Bo),bo.setAttribute("style","white-space: pre;"),bo.setAttribute("direction",Ro),bo.setAttribute("dominant-baseline","text-before-edge"),xr.appendChild(bo)}jn(Ae(l,Xt,[xr],ae.frameRendering)||xr,l)}},Ie=new WeakMap([]);function Re(P){var l=ke(P),f=new Path2D(l);return Ie.set(P,f),f}function ke(P){return function(l){if(!l.length)return"";var f=l.length-1;return l.reduce(function(D,H,J,re){return J===f?D.push(H,xe(H,re[0]),"L",re[0],"Z"):D.push(H,xe(H,re[J+1])),D},["M",l[0],"Q"]).join(" ").replace(ye,"$1")}(I(P.simulatePressure?P.points:P.points.length?P.points.map(function(l,f){var D=(0,w.Z)(l,2);return[D[0],D[1],P.pressures[f]]}):[[0,0,.5]],{simulatePressure:P.simulatePressure,size:4.25*P.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(l){return Math.sin(l*Math.PI/2)},last:!!P.lastCommittedPoint}))}function xe(P,l){return[(P[0]+l[0])/2,(P[1]+l[1])/2]}var ye=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},7766:function(We,te,t){t.d(te,{Lu:function(){return u},n_:function(){return Te},tp:function(){return Q},M_:function(){return ye},AW:function(){return me}});var e,w=t(1930),v=t(2577),d=t(5284),b=t(7651),T=function(P,l,f,D,H,J,re){P.beginPath(),P.moveTo(l+J,f),P.lineTo(l+D-J,f),P.quadraticCurveTo(l+D,f,l+D,f+J),P.lineTo(l+D,f+H-J),P.quadraticCurveTo(l+D,f+H,l+D-J,f+H),P.lineTo(l+J,f+H),P.quadraticCurveTo(l,f+H,l,f+H-J),P.lineTo(l,f+J),P.quadraticCurveTo(l,f,l+J,f),P.closePath(),P.fill(),re&&(P.strokeStyle=re),P.stroke()},S=t(4726),a=t(9660),c=t(957),Z=t(7422),F=t(9215),_=t(3528),h=t(4048),x=t(9827);(function(P){P.ACTIVE="active",P.AWAY="away",P.IDLE="idle"})(e||(e={}));var G=t(9937),le=t(5992);function he(P,l){var f=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!f){if(Array.isArray(P)||(f=function(ge,_e){if(ge){if(typeof ge=="string")return ve(ge,_e);var ze=Object.prototype.toString.call(ge).slice(8,-1);if(ze==="Object"&&ge.constructor&&(ze=ge.constructor.name),ze==="Map"||ze==="Set")return Array.from(ge);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return ve(ge,_e)}}(P))||l){f&&(P=f);var D=0,H=function(){};return{s:H,n:function(){return D>=P.length?{done:!0}:{done:!1,value:P[D++]}},e:function(ge){throw ge},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J,re=!0,ae=!1;return{s:function(){f=f.call(P)},n:function(){var ge=f.next();return re=ge.done,ge},e:function(ge){ae=!0,J=ge},f:function(){try{re||f.return==null||f.return()}finally{if(ae)throw J}}}}function ve(P,l){(l==null||l>P.length)&&(l=P.length);for(var f=0,D=new Array(l);f<l;f++)D[f]=P[f];return D}var fe=function(P,l,f){if(!f.zenModeEnabled){var D=P.points[0],H=P.points[P.points.length-1];U(D,H,l)}var J,re=he(P.points);try{for(re.s();!(J=re.n()).done;){var ae=J.value;q(ae,f,l)}}catch(ge){re.e(ge)}finally{re.f()}},X=function(P,l,f){q(P.points[0],f,l),f.zenModeEnabled||U(P.points[0],P.points[1],l)},q=function(P,l,f){var D=(0,v.Z)(P,2),H=D[0],J=D[1];f.save();var re=(l.zenModeEnabled?3:2)/l.zoom.value;f.beginPath(),f.moveTo(H-re,J-re),f.lineTo(H+re,J+re),f.moveTo(H+re,J-re),f.lineTo(H-re,J+re),f.stroke(),f.restore()},U=function(P,l,f){f.beginPath(),f.lineTo.apply(f,(0,w.Z)(P)),f.lineTo.apply(f,(0,w.Z)(l)),f.stroke()},R=function(P,l,f,D,H){var J=8/D.zoom.value,re=J/2,ae=J/4;if(f==="horizontal"){var ge=[(P[0]+l[0])/2,P[1]];D.zenModeEnabled||U([P[0],P[1]-J],[P[0],P[1]+J],H),U([ge[0]-ae,ge[1]-re],[ge[0]-ae,ge[1]+re],H),U([ge[0]+ae,ge[1]-re],[ge[0]+ae,ge[1]+re],H),D.zenModeEnabled||(U([l[0],l[1]-J],[l[0],l[1]+J],H),U(P,l,H))}else{var _e=[P[0],(P[1]+l[1])/2];D.zenModeEnabled||U([P[0]-J,P[1]],[P[0]+J,P[1]],H),U([_e[0]-re,_e[1]-ae],[_e[0]+re,_e[1]-ae],H),U([_e[0]-re,_e[1]+ae],[_e[0]+re,_e[1]+ae],H),D.zenModeEnabled||(U([l[0]-J,l[1]],[l[0]+J,l[1]],H),U(P,l,H))}},B=t(4183),M=t(761),I=t(4682),E=t(6655);function p(P,l){var f=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!f){if(Array.isArray(P)||(f=function(ge,_e){if(ge){if(typeof ge=="string")return r(ge,_e);var ze=Object.prototype.toString.call(ge).slice(8,-1);if(ze==="Object"&&ge.constructor&&(ze=ge.constructor.name),ze==="Map"||ze==="Set")return Array.from(ge);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return r(ge,_e)}}(P))||l){f&&(P=f);var D=0,H=function(){};return{s:H,n:function(){return D>=P.length?{done:!0}:{done:!1,value:P[D++]}},e:function(ge){throw ge},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J,re=!0,ae=!1;return{s:function(){f=f.call(P)},n:function(){var ge=f.next();return re=ge.done,ge},e:function(ge){ae=!0,J=ge},f:function(){try{re||f.return==null||f.return()}finally{if(ae)throw J}}}}function r(P,l){(l==null||l>P.length)&&(l=P.length);for(var f=0,D=new Array(l);f<l;f++)D[f]=P[f];return D}function o(P,l){var f=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!f){if(Array.isArray(P)||(f=function(ge,_e){if(ge){if(typeof ge=="string")return g(ge,_e);var ze=Object.prototype.toString.call(ge).slice(8,-1);if(ze==="Object"&&ge.constructor&&(ze=ge.constructor.name),ze==="Map"||ze==="Set")return Array.from(ge);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return g(ge,_e)}}(P))||l){f&&(P=f);var D=0,H=function(){};return{s:H,n:function(){return D>=P.length?{done:!0}:{done:!1,value:P[D++]}},e:function(ge){throw ge},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J,re=!0,ae=!1;return{s:function(){f=f.call(P)},n:function(){var ge=f.next();return re=ge.done,ge},e:function(ge){ae=!0,J=ge},f:function(){try{re||f.return==null||f.return()}finally{if(ae)throw J}}}}function g(P,l){(l==null||l>P.length)&&(l=P.length);for(var f=0,D=new Array(l);f<l;f++)D[f]=P[f];return D}(function(){var P,l,f,D,H,J;(l=(P=Path2D.prototype).roundRect)!==null&&l!==void 0||(P.roundRect=re),globalThis.CanvasRenderingContext2D&&((D=(f=globalThis.CanvasRenderingContext2D.prototype).roundRect)!==null&&D!==void 0||(f.roundRect=re)),globalThis.OffscreenCanvasRenderingContext2D&&((J=(H=globalThis.OffscreenCanvasRenderingContext2D.prototype).roundRect)!==null&&J!==void 0||(H.roundRect=re));function re(ge,_e,ze,Je,et){if([ge,_e,ze,Je].every(function(bt){return Number.isFinite(bt)})){var Ke,tt,ut,ht;if((et=function(bt){var wt=(0,E.Z)(bt);return wt==="undefined"||bt===null?[0]:wt==="function"?[NaN]:wt==="object"?typeof bt[Symbol.iterator]=="function"?(0,w.Z)(bt).map(function(zt){var Mt=(0,E.Z)(zt);return Mt==="undefined"||zt===null?0:Mt==="function"?NaN:Mt==="object"?Le(zt):Qe(zt)}):[Le(bt)]:[Qe(bt)]}(et)).length===4)Ke=ct(et[0]),tt=ct(et[1]),ut=ct(et[2]),ht=ct(et[3]);else if(et.length===3)Ke=ct(et[0]),tt=ct(et[1]),ht=ct(et[1]),ut=ct(et[2]);else if(et.length===2)Ke=ct(et[0]),ut=ct(et[0]),tt=ct(et[1]),ht=ct(et[1]);else{if(et.length!==1)throw new RangeError("".concat(ae(this)," ").concat(et.length," is not a valid size for radii sequence."));Ke=ct(et[0]),tt=ct(et[0]),ut=ct(et[0]),ht=ct(et[0])}var He=[Ke,tt,ut,ht],Ee=He.find(function(bt){var wt=bt.x,zt=bt.y;return wt<0||zt<0});if(Ee?.x<0?Ee.x:Ee?.y,!He.some(function(bt){var wt=bt.x,zt=bt.y;return!Number.isFinite(wt)||!Number.isFinite(zt)})){if(Ee)throw new RangeError("".concat(ae(this)," Radius value ").concat(Ee," is negative."));(function(bt){var wt=(0,v.Z)(bt,4),zt=wt[0],Mt=wt[1],Zt=wt[2],sn=wt[3],rn=[Math.abs(ze)/(zt.x+Mt.x),Math.abs(Je)/(Mt.y+Zt.y),Math.abs(ze)/(Zt.x+sn.x),Math.abs(Je)/(zt.y+sn.y)],Xt=Math.min.apply(Math,rn);if(Xt<=1){var on,jn=p(bt);try{for(jn.s();!(on=jn.n()).done;){var It=on.value;It.x*=Xt,It.y*=Xt}}catch(kt){jn.e(kt)}finally{jn.f()}}})(He),ze<0&&Je<0?(this.moveTo(ge-Ke.x,_e),this.ellipse(ge+ze+tt.x,_e-tt.y,tt.x,tt.y,0,1.5*-Math.PI,-Math.PI),this.ellipse(ge+ze+ut.x,_e+Je+ut.y,ut.x,ut.y,0,-Math.PI,-Math.PI/2),this.ellipse(ge-ht.x,_e+Je+ht.y,ht.x,ht.y,0,-Math.PI/2,0),this.ellipse(ge-Ke.x,_e-Ke.y,Ke.x,Ke.y,0,0,-Math.PI/2)):ze<0?(this.moveTo(ge-Ke.x,_e),this.ellipse(ge+ze+tt.x,_e+tt.y,tt.x,tt.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(ge+ze+ut.x,_e+Je-ut.y,ut.x,ut.y,0,-Math.PI,1.5*-Math.PI,1),this.ellipse(ge-ht.x,_e+Je-ht.y,ht.x,ht.y,0,Math.PI/2,0,1),this.ellipse(ge-Ke.x,_e+Ke.y,Ke.x,Ke.y,0,0,-Math.PI/2,1)):Je<0?(this.moveTo(ge+Ke.x,_e),this.ellipse(ge+ze-tt.x,_e-tt.y,tt.x,tt.y,0,Math.PI/2,0,1),this.ellipse(ge+ze-ut.x,_e+Je+ut.y,ut.x,ut.y,0,0,-Math.PI/2,1),this.ellipse(ge+ht.x,_e+Je+ht.y,ht.x,ht.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(ge+Ke.x,_e-Ke.y,Ke.x,Ke.y,0,-Math.PI,1.5*-Math.PI,1)):(this.moveTo(ge+Ke.x,_e),this.ellipse(ge+ze-tt.x,_e+tt.y,tt.x,tt.y,0,-Math.PI/2,0),this.ellipse(ge+ze-ut.x,_e+Je-ut.y,ut.x,ut.y,0,0,Math.PI/2),this.ellipse(ge+ht.x,_e+Je-ht.y,ht.x,ht.y,0,Math.PI/2,Math.PI),this.ellipse(ge+Ke.x,_e+Ke.y,Ke.x,Ke.y,0,Math.PI,1.5*Math.PI)),this.closePath(),this.moveTo(ge,_e)}}function Le(bt){return{x:bt.x,y:bt.y,z:bt.z,w:bt.w}}function Qe(bt){return+bt}function ct(bt){var wt,zt,Mt=Qe(bt);return Number.isFinite(Mt)?{x:Mt,y:Mt}:Object(bt)===bt?{x:Qe((wt=bt.x)!==null&&wt!==void 0?wt:0),y:Qe((zt=bt.y)!==null&&zt!==void 0?zt:0)}:{x:NaN,y:NaN}}}function ae(ge){return"Failed to execute 'roundRect' on '".concat(function(_e){return Object(_e)===_e&&_e instanceof Path2D?"Path2D":_e instanceof globalThis?.CanvasRenderingContext2D?"CanvasRenderingContext2D":_e instanceof globalThis?.OffscreenCanvasRenderingContext2D?"OffscreenCanvasRenderingContext2D":_e?.constructor.name||_e}(ge),"':")}})();var s,u=2,k=function(P,l,f,D,H,J,re,ae){var ge=arguments.length>8&&arguments[8]!==void 0&&arguments[8],_e=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0;P.save(),P.translate(J,re),P.rotate(ae),ge&&P.fillRect(l-J,f-re,D,H),_e&&P.roundRect?(P.beginPath(),P.roundRect(l-J,f-re,D,H,_e),P.stroke(),P.closePath()):P.strokeRect(l-J,f-re,D,H),P.restore()},N=function(P,l,f,D){var H=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];P.beginPath(),P.arc(l,f,D,0,2*Math.PI),P.fill(),H&&P.stroke()},W=function(P,l,f,D,H){var J=arguments.length>5&&arguments[5]!==void 0&&arguments[5];P.strokeStyle="#5e5ad8",P.setLineDash([]),P.fillStyle="rgba(255, 255, 255, 0.9)",H?P.fillStyle="rgba(134, 131, 226, 0.9)":J&&(P.fillStyle="rgba(177, 151, 252, 0.7)"),N(P,f[0],f[1],D/l.zoom.value,!J)},O=function(P,l,f){if(l.selectedLinearElement){P.save(),P.translate(l.scrollX,l.scrollY),P.lineWidth=1/l.zoom.value;var D=Z._.getPointsGlobalCoordinates(f),H=Z._.POINT_HANDLE_SIZE,J=l.editingLinearElement?H:H/2;D.forEach(function(re,ae){var ge,_e,ze=!((ge=l.editingLinearElement)===null||ge===void 0||(_e=ge.selectedPointsIndices)===null||_e===void 0||!_e.includes(ae));W(P,l,re,J,ze)}),Z._.getEditorMidPoints(f,l).filter(function(re){return re!==null}).forEach(function(re){var ae;l!=null&&(ae=l.selectedLinearElement)!==null&&ae!==void 0&&ae.segmentMidPointHoveredCoords&&Z._.arePointsEqual(re,l.selectedLinearElement.segmentMidPointHoveredCoords)?l.editingLinearElement?(W(P,l,re,J,!1),j(re,P,l)):(j(re,P,l),W(P,l,re,J,!1)):(l.editingLinearElement||D.length===2)&&W(P,l,re,H/2,!1,!0)}),P.restore()}},j=function(P,l,f){l.fillStyle="rgba(105, 101, 219, 0.4)",N(l,P[0],P[1],Z._.POINT_HANDLE_SIZE/f.zoom.value,!1)},L=function(P,l,f,D){l.translate(P.x+D.scrollX,P.y+D.scrollY),l.beginPath(),l.roundRect?l.roundRect(0,0,P.width,P.height,G.iG.radius/D.zoom.value):l.rect(0,0,P.width,P.height),l.clip(),l.translate(-(P.x+D.scrollX),-(P.y+D.scrollY))},V=function(P,l){return[P.width/l,P.height/l]},ie=function(P){var l=P.canvas,f=P.scale,D=P.normalizedWidth,H=P.normalizedHeight,J=P.theme,re=P.isExporting,ae=P.viewBackgroundColor,ge=l.getContext("2d");return ge.setTransform(1,0,0,1,0,0),ge.scale(f,f),re&&J==="dark"&&(ge.filter=G.ZF),typeof ae=="string"?((ae==="transparent"||ae.length===5||ae.length===9||/(hsla|rgba)\(/.test(ae))&&ge.clearRect(0,0,D,H),ge.save(),ge.fillStyle=ae,ge.fillRect(0,0,D,H),ge.restore()):ge.clearRect(0,0,D,H),ge},se=function(P){var l,f=P.canvas,D=P.elements,H=P.visibleElements,J=P.selectedElements,re=P.scale,ae=P.appState,ge=P.renderConfig;if(f===null)return{atLeastOneVisibleElement:!1,elements:D};var _e=V(f,re),ze=(0,v.Z)(_e,2),Je=ze[0],et=ze[1],Ke=ie({canvas:f,scale:re,normalizedWidth:Je,normalizedHeight:et});Ke.save(),Ke.scale(ae.zoom.value,ae.zoom.value);var tt=void 0;if(H.forEach(function(Nt){var Ft;((Ft=ae.editingLinearElement)===null||Ft===void 0?void 0:Ft.elementId)===Nt.id&&Nt&&(tt=Nt)}),tt&&O(Ke,ae,tt),ae.selectionElement)try{(0,a.uI)(ae.selectionElement,Ke,ae)}catch(Nt){console.error(Nt)}ae.isBindingEnabled&&ae.suggestedBindings.filter(function(Nt){return Nt!=null}).forEach(function(Nt){Ae(Ke,ae,Nt)}),ae.frameToHighlight&&Ie(Ke,ae,ae.frameToHighlight),ae.elementsToHighlight&&Re(Ke,ae,ae.elementsToHighlight);var ut,ht=J.some(function(Nt){return(0,B.He)(Nt)});if(J.length===1&&((l=ae.editingLinearElement)===null||l===void 0?void 0:l.elementId)===J[0].id&&O(Ke,ae,J[0]),ae.selectedLinearElement&&ae.selectedLinearElement.hoverPointIndex>=0&&function(Nt,Ft){var qt,kn,$n=Ft.selectedLinearElement,Hn=$n.elementId,Qn=$n.hoverPointIndex;if((qt=Ft.editingLinearElement)===null||qt===void 0||(kn=qt.selectedPointsIndices)===null||kn===void 0||!kn.includes(Qn)){var ir=Z._.getElement(Hn);if(ir){var Fn=Z._.getPointAtIndexGlobalCoordinates(ir,Qn);Nt.save(),Nt.translate(Ft.scrollX,Ft.scrollY),j(Fn,Nt,Ft),Nt.restore()}}}(Ke,ae),!ae.multiElement&&!ae.editingLinearElement){var He,Ee=(0,h.oY)(J,ae);J.length===1&&(0,B.bt)(J[0])&&((He=ae.selectedLinearElement)===null||He===void 0?void 0:He.elementId)===J[0].id&&!J[0].locked&&O(Ke,ae,J[0]);var Le=ge.selectionColor||d.black;if(Ee){var Qe,ct=J.reduce(function(Nt,Ft){return Nt[Ft.id]=!0,Nt},{}),bt=D.reduce(function(Nt,Ft){var qt=[];if(ct[Ft.id]&&!(0,F.zq)(ae,Ft)&&qt.push(Le),ge.remoteSelectedElementIds[Ft.id]&&qt.push.apply(qt,(0,w.Z)(ge.remoteSelectedElementIds[Ft.id].map(function(Xn){return(0,c.G)(Xn)}))),qt.length){var kn,$n=(0,b.qf)(Ft,!0),Hn=(0,v.Z)($n,6),Qn=Hn[0],ir=Hn[1],Fn=Hn[2],yr=Hn[3],lr=Hn[4],Gn=Hn[5];Nt.push({angle:Ft.angle,elementX1:Qn,elementY1:ir,elementX2:Fn,elementY2:yr,selectionColors:qt,dashed:!!ge.remoteSelectedElementIds[Ft.id],cx:lr,cy:Gn,activeEmbeddable:((kn=ae.activeEmbeddable)===null||kn===void 0?void 0:kn.element)===Ft&&ae.activeEmbeddable.state==="active"})}return Nt},[]),wt=function(Nt){var Ft=(0,F.Fb)(D,Nt),qt=(0,b.KP)(Ft),kn=(0,v.Z)(qt,4),$n=kn[0],Hn=kn[1],Qn=kn[2],ir=kn[3];bt.push({angle:0,elementX1:$n,elementX2:Qn,elementY1:Hn,elementY2:ir,selectionColors:[d.black],dashed:!0,cx:$n+(Qn-$n)/2,cy:Hn+(ir-Hn)/2,activeEmbeddable:!1})},zt=o((0,F.iJ)(ae));try{for(zt.s();!(Qe=zt.n()).done;)wt(Qe.value)}catch(Nt){zt.e(Nt)}finally{zt.f()}ae.editingGroupId&&wt(ae.editingGroupId),bt.forEach(function(Nt){return qe(Ke,ae,Nt)})}if(Ke.save(),Ke.translate(ae.scrollX,ae.scrollY),J.length===1){Ke.fillStyle=d.white;var Mt=(0,b.PC)(J[0],ae.zoom,"mouse");!ae.viewModeEnabled&&Ee&&Ue(Ke,ge,ae,Mt,J[0].angle)}else if(J.length>1&&!ae.isRotating){var Zt=2*u/ae.zoom.value;Ke.fillStyle=d.white;var sn=(0,b.KP)(J),rn=(0,v.Z)(sn,4),Xt=rn[0],on=rn[1],jn=rn[2],It=rn[3],kt=Ke.getLineDash();Ke.setLineDash([2/ae.zoom.value]);var Ht=Ke.lineWidth;Ke.lineWidth=1/ae.zoom.value,Ke.strokeStyle=Le,k(Ke,Xt-Zt,on-Zt,jn-Xt+2*Zt,It-on+2*Zt,(Xt+jn)/2,(on+It)/2,0),Ke.lineWidth=Ht,Ke.setLineDash(kt);var At=(0,b.kK)([Xt,on,jn,It,(Xt+jn)/2,(on+It)/2],0,ae.zoom,"mouse",ht?h.Fn:b.ox);J.some(function(Nt){return!Nt.locked})&&Ue(Ke,ge,ae,At,0)}Ke.restore()}for(var Wt in function(Nt,Ft){if(Ft.snapLines.length){var qt=Ft.theme==="light"||Ft.zenModeEnabled?"#ff6b6b":"#ff0000",kn=(Ft.zenModeEnabled?1.5:1)/Ft.zoom.value;Nt.save(),Nt.translate(Ft.scrollX,Ft.scrollY);var $n,Hn=he(Ft.snapLines);try{for(Hn.s();!($n=Hn.n()).done;){var Qn=$n.value;Qn.type==="pointer"?(Nt.lineWidth=kn,Nt.strokeStyle=qt,X(Qn,Nt,Ft)):Qn.type==="gap"?(Nt.lineWidth=kn,Nt.strokeStyle=qt,R(Qn.points[0],Qn.points[1],Qn.direction,Ft,Nt)):Qn.type==="points"&&(Nt.lineWidth=kn,Nt.strokeStyle=qt,fe(Qn,Nt,Ft))}}catch(ir){Hn.e(ir)}finally{Hn.f()}Nt.restore()}}(Ke,ae),Ke.restore(),ge.remotePointerViewportCoords){var Kt=ge.remotePointerViewportCoords[Wt],an=Kt.x,bn=Kt.y;an-=ae.offsetLeft,bn-=ae.offsetTop;var hn=an<0||an>Je-11||bn<0||bn>et-14;an=Math.max(an,0),an=Math.min(an,Je-11),bn=Math.max(bn,0),bn=Math.min(bn,et-14);var An=(0,c.G)(Wt);Ke.save(),Ke.strokeStyle=An,Ke.fillStyle=An;var Yn=ge.remotePointerUserStates[Wt],tr=hn||Yn===e.IDLE||Yn===e.AWAY;tr&&(Ke.globalAlpha=.3),ge.remotePointerButton&&ge.remotePointerButton[Wt]==="down"&&(Ke.beginPath(),Ke.arc(an,bn,15,0,2*Math.PI,!1),Ke.lineWidth=3,Ke.strokeStyle="#ffffff88",Ke.stroke(),Ke.closePath(),Ke.beginPath(),Ke.arc(an,bn,15,0,2*Math.PI,!1),Ke.lineWidth=1,Ke.strokeStyle=An,Ke.stroke(),Ke.closePath()),Ke.fillStyle=d.white,Ke.strokeStyle=d.white,Ke.lineWidth=6,Ke.lineJoin="round",Ke.beginPath(),Ke.moveTo(an,bn),Ke.lineTo(an+0,bn+14),Ke.lineTo(an+4,bn+9),Ke.lineTo(an+11,bn+8),Ke.closePath(),Ke.stroke(),Ke.fill(),Ke.fillStyle=An,Ke.strokeStyle=An,Ke.lineWidth=2,Ke.lineJoin="round",Ke.beginPath(),tr?(Ke.moveTo(an-1,bn-1),Ke.lineTo(an-1,bn+15),Ke.lineTo(an+5,bn+10),Ke.lineTo(an+12,bn+9),Ke.closePath(),Ke.fill()):(Ke.moveTo(an,bn),Ke.lineTo(an+0,bn+14),Ke.lineTo(an+4,bn+9),Ke.lineTo(an+11,bn+8),Ke.closePath(),Ke.fill(),Ke.stroke());var Sn=ge.remotePointerUsernames[Wt]||"";if(!hn&&Sn){Ke.font="600 12px sans-serif";var Bt=an+5.5,dn=bn+14+2,un=Ke.measureText(Sn),Bn=un.actualBoundingBoxDescent+un.actualBoundingBoxAscent,Jn=Math.max(Bn,12),cr=Bt-1,kr=dn-1,fr=un.width+2+10+2,pn=Jn+2+6+2;Ke.roundRect?(Ke.beginPath(),Ke.roundRect(cr,kr,fr,pn,8),Ke.fillStyle=An,Ke.fill(),Ke.strokeStyle=d.white,Ke.stroke()):T(Ke,cr,kr,fr,pn,8,d.white),Ke.fillStyle=d.black,Ke.fillText(Sn,Bt+5+1,dn+3+un.actualBoundingBoxAscent+Math.floor((Jn-Bn)/2)+2)}Ke.restore(),Ke.closePath()}return ge.renderScrollbars&&(ut=(0,S.tJ)(D,Je,et,ae),Ke.save(),Ke.fillStyle=S.w1,Ke.strokeStyle="rgba(255,255,255,0.8)",[ut.horizontal,ut.vertical].forEach(function(Nt){Nt&&T(Ke,Nt.x,Nt.y,Nt.width,Nt.height,S.nn/2)}),Ke.restore()),{scrollBars:ut,atLeastOneVisibleElement:H.length>0,elements:D}},ue=function(P){var l=P.canvas,f=P.rc,D=P.elements,H=P.visibleElements,J=P.scale,re=P.appState,ae=P.renderConfig;if(l!==null){var ge=ae.renderGrid,_e=ge===void 0||ge,ze=ae.isExporting,Je=V(l,J),et=(0,v.Z)(Je,2),Ke=et[0],tt=et[1],ut=ie({canvas:l,scale:J,normalizedWidth:Ke,normalizedHeight:tt,theme:re.theme,isExporting:ze,viewBackgroundColor:re.viewBackgroundColor});ut.scale(re.zoom.value,re.zoom.value),_e&&re.gridSize&&function(He,Ee,Le,Qe,ct,bt,wt){var zt;(function(Ht){Ht.Bold="#cccccc",Ht.Regular="#e5e5e5"})(zt||(zt={}));var Mt=-Math.round(ct.value/Ee)*Ee+Le%Ee,Zt=-Math.round(ct.value/Ee)*Ee+Qe%Ee,sn=Math.min(1/ct.value,1),rn=1/ct.value,Xt=[3*sn,rn+(sn+rn)];He.save(),He.lineWidth=sn;for(var on=Mt;on<Mt+bt+2*Ee;on+=Ee){var jn=Math.round(on-Le)%(5*Ee)==0;He.beginPath(),He.setLineDash(jn?[]:Xt),He.strokeStyle=jn?zt.Bold:zt.Regular,He.moveTo(on,Zt-Ee),He.lineTo(on,Zt+wt+2*Ee),He.stroke()}for(var It=Zt;It<Zt+wt+2*Ee;It+=Ee){var kt=Math.round(It-Qe)%(5*Ee)==0;He.beginPath(),He.setLineDash(kt?[]:Xt),He.strokeStyle=kt?zt.Bold:zt.Regular,He.moveTo(Mt-Ee,It),He.lineTo(Mt+bt+2*Ee,It),He.stroke()}He.restore()}(ut,re.gridSize,re.scrollX,re.scrollY,re.zoom,Ke/re.zoom.value,tt/re.zoom.value);var ht=new Set;H.forEach(function(He){He.groupIds.length>0&&re.frameToHighlight&&re.selectedElementIds[He.id]&&((0,I.cO)(He,re.frameToHighlight)||He.groupIds.find(function(Ee){return ht.has(Ee)}))&&He.groupIds.forEach(function(Ee){return ht.add(Ee)})}),H.filter(function(He){return!(0,M.uU)(He)}).forEach(function(He){try{var Ee;if((He.frameId||!((Ee=re.frameToHighlight)===null||Ee===void 0)&&Ee.id)&&re.frameRendering.enabled&&re.frameRendering.clip){ut.save();var Le=(0,I.cH)(He,re);Le&&(0,I.Qs)(He,D,re)&&L(Le,ut,0,re),(0,a.lw)(He,f,ut,ae,re),ut.restore()}else(0,a.lw)(He,f,ut,ae,re);ze||xe(He,ut,re)}catch(Qe){console.error(Qe)}}),H.filter(function(He){return(0,M.uU)(He)}).forEach(function(He){try{var Ee,Le=function(){if((0,a.lw)(He,f,ut,ae,re),(0,B.gs)(He)&&(ze||!He.validated)&&He.width&&He.height){var ct=(0,M.g0)(He);(0,a.lw)(ct,f,ut,ae,re)}ze||xe(He,ut,re)};if((He.frameId||!((Ee=re.frameToHighlight)===null||Ee===void 0)&&Ee.id)&&re.frameRendering.enabled&&re.frameRendering.clip){ut.save();var Qe=(0,I.cH)(He,re);Qe&&(0,I.Qs)(He,D,re)&&L(Qe,ut,0,re),Le(),ut.restore()}else Le()}catch(ct){console.error(ct)}})}},pe=(0,x.hR)(function(P){var l,f=se(P);(l=P.callback)===null||l===void 0||l.call(P,f)},{trailing:!0}),Q=function(P,l){if(!l){var f=se(P);return P.callback(f),f}pe(P)},ee=(0,x.hR)(function(P){ue(P)},{trailing:!0}),me=function(P,l){l?ee(P):ue(P)},Te=function(){pe.cancel(),ee.cancel()},Ue=function(P,l,f,D,H){Object.keys(D).forEach(function(J){var re=D[J];if(re!==void 0){var ae=(0,v.Z)(re,4),ge=ae[0],_e=ae[1],ze=ae[2],Je=ae[3];P.save(),P.lineWidth=1/f.zoom.value,l.selectionColor&&(P.strokeStyle=l.selectionColor),J==="rotation"?N(P,ge+ze/2,_e+Je/2,ze/2):P.roundRect?(P.beginPath(),P.roundRect(ge,_e,ze,Je,2/f.zoom.value),P.fill(),P.stroke()):k(P,ge,_e,ze,Je,ge+ze/2,_e+Je/2,H,!0),P.restore()}})},qe=function(P,l,f){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*u,H=f.angle,J=f.elementX1,re=f.elementY1,ae=f.elementX2,ge=f.elementY2,_e=f.selectionColors,ze=f.cx,Je=f.cy,et=f.dashed,Ke=f.activeEmbeddable,tt=ae-J,ut=ge-re,ht=D/l.zoom.value,He=8/l.zoom.value,Ee=4/l.zoom.value;P.save(),P.translate(l.scrollX,l.scrollY),P.lineWidth=(Ke?4:1)/l.zoom.value;for(var Le=_e.length,Qe=0;Qe<Le;++Qe)P.strokeStyle=_e[Qe],et&&P.setLineDash([He,Ee+(He+Ee)*(Le-1)]),P.lineDashOffset=(He+Ee)*Qe,k(P,J-ht,re-ht,tt+2*ht,ut+2*ht,ze,Je,H);P.restore()},Ae=function(P,l,f){var D=Array.isArray(f)?ke:Oe;P.save(),P.translate(l.scrollX,l.scrollY),D(P,f),P.restore()},Oe=function(P,l){var f=(0,b.qf)(l),D=(0,v.Z)(f,4),H=D[0],J=D[1],re=D[2]-H,ae=D[3]-J,ge=(0,_.fb)(l,re,ae);P.strokeStyle="rgba(0,0,0,.05)",P.lineWidth=ge-4;var _e=2+ge/2;switch(l.type){case"rectangle":case"text":case"image":case"embeddable":case"frame":k(P,H-_e,J-_e,re+2*_e,ae+2*_e,H+re/2,J+ae/2,l.angle);break;case"diamond":var ze=Math.hypot(re,ae);(function(Je,et,Ke,tt,ut,ht){Je.save(),Je.translate(tt,ut),Je.rotate(ht),Je.beginPath(),Je.moveTo(0,Ke/2),Je.lineTo(et/2,0),Je.lineTo(0,-Ke/2),Je.lineTo(-et/2,0),Je.closePath(),Je.stroke(),Je.restore()})(P,re+2*(_e*ze/ae),ae+2*(_e*ze/re),H+re/2,J+ae/2,l.angle);break;case"ellipse":(function(Je,et,Ke,tt,ut,ht){Je.beginPath(),Je.ellipse(tt,ut,et/2,Ke/2,ht,0,2*Math.PI),Je.stroke()})(P,re+2*_e,ae+2*_e,H+re/2,J+ae/2,l.angle)}},Ie=function(P,l,f){var D=(0,b.qf)(f),H=(0,v.Z)(D,4),J=H[0],re=H[1],ae=H[2]-J,ge=H[3]-re;P.strokeStyle="rgb(0,118,255)",P.lineWidth=G.iG.strokeWidth/l.zoom.value,P.save(),P.translate(l.scrollX,l.scrollY),k(P,J,re,ae,ge,J+ae/2,re+ge/2,f.angle,!1,G.iG.radius/l.zoom.value),P.restore()},Re=function(P,l,f){var D=f.filter(function(re){return re.groupIds.length===0}),H=f.filter(function(re){return re.groupIds.length>0}),J=function(re){var ae=(0,b.KP)(re),ge=(0,v.Z)(ae,4),_e=ge[0],ze=ge[1],Je=ge[2],et=ge[3];return{angle:0,elementX1:_e,elementX2:Je,elementY1:ze,elementY2:et,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:_e+(Je-_e)/2,cy:ze+(et-ze)/2,activeEmbeddable:!1}};Object.entries((0,F.yR)(H,l)).filter(function(re){var ae=(0,v.Z)(re,2);return ae[0],ae[1]}).map(function(re){var ae=(0,v.Z)(re,2),ge=ae[0];return ae[1],ge}).map(function(re){return function(ae){var ge=(0,F.Fb)(f,ae);return J(ge)}(re)}).concat(D.map(function(re){return J([re])})).forEach(function(re){return qe(P,l,re)})},ke=function(P,l){var f=(0,v.Z)(l,3),D=f[0],H=f[1],J=f[2],re=(0,_.fb)(J,J.width,J.height);P.strokeStyle="rgba(0,0,0,0)",P.fillStyle="rgba(0,0,0,.05)",(H==="both"?[0,-1]:H==="start"?[0]:[-1]).forEach(function(ae){var ge=Z._.getPointAtIndexGlobalCoordinates(D,ae),_e=(0,v.Z)(ge,2),ze=_e[0],Je=_e[1];N(P,ze,Je,re)})},xe=function(P,l,f){if(P.link&&!f.selectedElementIds[P.id]){var D=(0,b.qf)(P),H=(0,v.Z)(D,4),J=H[0],re=H[1],ae=H[2],ge=H[3],_e=(0,le.sw)([J,re,ae,ge],P.angle,f),ze=(0,v.Z)(_e,4),Je=ze[0],et=ze[1],Ke=ze[2],tt=ze[3],ut=Je+Ke/2,ht=et+tt/2;if(l.save(),l.translate(f.scrollX+ut,f.scrollY+ht),l.rotate(P.angle),s&&s.zoom===f.zoom.value)l.drawImage(s,Je-ut,et-ht,Ke,tt);else{(s=document.createElement("canvas")).zoom=f.zoom.value,s.width=Ke*window.devicePixelRatio*f.zoom.value,s.height=tt*window.devicePixelRatio*f.zoom.value;var He=s.getContext("2d");He.scale(window.devicePixelRatio*f.zoom.value,window.devicePixelRatio*f.zoom.value),He.fillStyle="#fff",He.fillRect(0,0,Ke,tt),He.drawImage(le.rj,0,0,Ke,tt),He.restore(),l.drawImage(s,Je-ut,et-ht,Ke,tt)}l.restore()}},ye=function(P,l,f,D,H){var J=H.offsetX,re=J===void 0?0:J,ae=H.offsetY,ge=ae===void 0?0:ae,_e=H.exportWithDarkMode,ze=H.renderEmbeddables,Je=H.frameRendering;if(f){var et={exportWithDarkMode:_e,renderEmbeddables:ze,frameRendering:Je};P.filter(function(Ke){return!(0,M.uU)(Ke)}).forEach(function(Ke){if(!Ke.isDeleted)try{(0,a.Rg)(Ke,l,f,D,Ke.x+re,Ke.y+ge,et)}catch(tt){console.error(tt)}}),P.filter(function(Ke){return(0,B.gs)(Ke)}).forEach(function(Ke){if(!Ke.isDeleted)try{(0,a.Rg)(Ke,l,f,D,Ke.x+re,Ke.y+ge,et)}catch(tt){console.error(tt)}})}}},457:function(We,te,t){var e=t(1930),w=t(8821),v=t(5169),d=t(7651),b=t(4183),T=t(6264),S=t(4643),a=function(Z){return typeof Z=="string"},c=function(){function Z(){var F=this;(0,w.Z)(this,Z),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap=new Map,this.selectedElementsCache={selectedElementIds:null,elements:null,cache:new Map},this.addNewElement=function(_){_.frameId?F.insertElementAtIndex(_,F.getElementIndex(_.frameId)):F.replaceAllElements([].concat((0,e.Z)(F.elements),[_]))}}return(0,v.Z)(Z,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(F){var _=function(le){for(var he="",ve=0,fe=["includeBoundTextElement","includeElementsInFrames"];ve<fe.length;ve++){var X=fe[ve];he+="".concat(X,":").concat(le[X]?"1":"0")}return he}(F),h=F?.elements||this.nonDeletedElements;if(this.selectedElementsCache.elements===h&&this.selectedElementsCache.selectedElementIds===F.selectedElementIds){var x=this.selectedElementsCache.cache.get(_);if(x)return x}else F?.elements==null&&this.selectedElementsCache.cache.clear();var G=(0,T.eD)(h,{selectedElementIds:F.selectedElementIds},F);return F?.elements==null&&(this.selectedElementsCache.selectedElementIds=F.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(_,G)),G}},{key:"getNonDeletedFrames",value:function(){return this.nonDeletedFrames}},{key:"getElement",value:function(F){return this.elementsMap.get(F)||null}},{key:"getVersionNonce",value:function(){return this.versionNonce}},{key:"getNonDeletedElement",value:function(F){var _=this.getElement(F);return _&&(0,d.qP)(_)?_:null}},{key:"mapElements",value:function(F){var _=!1,h=this.elements.map(function(x){var G=F(x);return G!==x&&(_=!0),G});return _&&this.replaceAllElements(h),_}},{key:"replaceAllElements",value:function(F){var _=this;this.elements=F;var h=[];this.elementsMap.clear(),F.forEach(function(x){(0,b.He)(x)&&h.push(x),_.elementsMap.set(x.id,x),Z.mapElementToScene(x,_)}),this.nonDeletedElements=(0,d.Lm)(this.elements),this.frames=h,this.nonDeletedFrames=(0,d.Xf)(this.frames),this.informMutation()}},{key:"informMutation",value:function(){this.versionNonce=(0,S.LU)();for(var F=0,_=Array.from(this.callbacks);F<_.length;F++)(0,_[F])()}},{key:"addCallback",value:function(F){var _=this;if(this.callbacks.has(F))throw new Error;return this.callbacks.add(F),function(){if(!_.callbacks.has(F))throw new Error;_.callbacks.delete(F)}}},{key:"destroy",value:function(){var F=this;this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),Z.sceneMapById.forEach(function(_,h){_===F&&Z.sceneMapById.delete(h)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(F,_){if(!Number.isFinite(_)||_<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var h=[].concat((0,e.Z)(this.elements.slice(0,_)),[F],(0,e.Z)(this.elements.slice(_)));this.replaceAllElements(h)}},{key:"insertElementsAtIndex",value:function(F,_){if(!Number.isFinite(_)||_<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var h=[].concat((0,e.Z)(this.elements.slice(0,_)),(0,e.Z)(F),(0,e.Z)(this.elements.slice(_)));this.replaceAllElements(h)}},{key:"getElementIndex",value:function(F){return this.elements.findIndex(function(_){return _.id===F})}}],[{key:"mapElementToScene",value:function(F,_){var h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(a(F)){if(!h)return;this.sceneMapById.set(F,_)}else this.sceneMapByElement.set(F,_),h||this.sceneMapById.set(F.id,_)}},{key:"getScene",value:function(F){return a(F)?this.sceneMapById.get(F)||null:this.sceneMapByElement.get(F)||null}}]),Z}();c.sceneMapByElement=new WeakMap,c.sceneMapById=new Map,te.Z=c},6049:function(We,te,t){t.d(te,{Z:function(){return he},i:function(){return fe}});var e=t(1930),w=t(2577),v=t(7169),d=t(7651),b=t(2361),T=t(9660),S=t(9827),a=t(1493),c=t(9937),Z=t(4183),F=t(1648);function _(X,q){var U=Object.keys(X);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(X);q&&(R=R.filter(function(B){return Object.getOwnPropertyDescriptor(X,B).enumerable})),U.push.apply(U,R)}return U}function h(X){for(var q=1;q<arguments.length;q++){var U=arguments[q]!=null?arguments[q]:{};q%2?_(Object(U),!0).forEach(function(R){(0,v.Z)(X,R,U[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(U)):_(Object(U)).forEach(function(R){Object.defineProperty(X,R,Object.getOwnPropertyDescriptor(U,R))})}return X}var x=function(X){return[8,8+X]},G=function(X){return[1.5,6+X]};function le(X){var q=X.roughness,U=Math.max(X.width,X.height),R=Math.min(X.width,X.height);return R>=20&&U>=50||R>=15&&X.roundness&&(0,F.sh)(X.type)||(0,Z.bt)(X)&&U>=50?q:Math.min(q/(U<10?3:2),2.5)}var he=function(X){var q=arguments.length>1&&arguments[1]!==void 0&&arguments[1],U={seed:X.seed,strokeLineDash:X.strokeStyle==="dashed"?x(X.strokeWidth):X.strokeStyle==="dotted"?G(X.strokeWidth):void 0,disableMultiStroke:X.strokeStyle!=="solid",strokeWidth:X.strokeStyle!=="solid"?X.strokeWidth+.5:X.strokeWidth,fillWeight:X.strokeWidth/2,hachureGap:4*X.strokeWidth,roughness:le(X),stroke:X.strokeColor,preserveVertices:q||X.roughness<c.$h.cartoonist};switch(X.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":return U.fillStyle=X.fillStyle,U.fill=(0,S.Qm)(X.backgroundColor)?void 0:X.backgroundColor,X.type==="ellipse"&&(U.curveFitting=1),U;case"line":case"freedraw":return(0,b.g6)(X.points)&&(U.fillStyle=X.fillStyle,U.fill=X.backgroundColor==="transparent"?void 0:X.backgroundColor),U;case"arrow":return U;default:throw new Error("Unimplemented type ".concat(X.type))}},ve=function(X,q){return X.type==="embeddable"&&(q||!X.validated)&&(0,S.Qm)(X.backgroundColor)&&(0,S.Qm)(X.strokeColor)?h(h({},X),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):X},fe=function(X,q){var U=arguments.length>2&&arguments[2]!==void 0&&arguments[2];switch(X.type){case"rectangle":case"embeddable":var R;if(X.roundness){var B=X.width,M=X.height,I=(0,b.yW)(Math.min(B,M),X);R=q.path("M ".concat(I," 0 L ").concat(B-I," 0 Q ").concat(B," 0, ").concat(B," ").concat(I," L ").concat(B," ").concat(M-I," Q ").concat(B," ").concat(M,", ").concat(B-I," ").concat(M," L ").concat(I," ").concat(M," Q 0 ").concat(M,", 0 ").concat(M-I," L 0 ").concat(I," Q 0 0, ").concat(I," 0"),he(ve(X,U),!0))}else R=q.rectangle(0,0,X.width,X.height,he(ve(X,U),!1));return R;case"diamond":var E,p=(0,d.UC)(X),r=(0,w.Z)(p,8),o=r[0],g=r[1],s=r[2],u=r[3],k=r[4],N=r[5],W=r[6],O=r[7];if(X.roundness){var j=(0,b.yW)(Math.abs(o-W),X),L=(0,b.yW)(Math.abs(u-g),X);E=q.path("M ".concat(o+j," ").concat(g+L," L ").concat(s-j," ").concat(u-L,`
            C `).concat(s," ").concat(u,", ").concat(s," ").concat(u,", ").concat(s-j," ").concat(u+L,`
            L `).concat(k+j," ").concat(N-L,`
            C `).concat(k," ").concat(N,", ").concat(k," ").concat(N,", ").concat(k-j," ").concat(N-L,`
            L `).concat(W+j," ").concat(O+L,`
            C `).concat(W," ").concat(O,", ").concat(W," ").concat(O,", ").concat(W+j," ").concat(O-L,`
            L `).concat(o-j," ").concat(g+L,`
            C `).concat(o," ").concat(g,", ").concat(o," ").concat(g,", ").concat(o+j," ").concat(g+L),he(X,!0))}else E=q.polygon([[o,g],[s,u],[k,N],[W,O]],he(X));return E;case"ellipse":var V=q.ellipse(X.width/2,X.height/2,X.width,X.height,he(X));return V;case"line":case"arrow":var ie,se=he(X),ue=X.points.length?X.points:[[0,0]];if(ie=X.roundness?[q.curve(ue,se)]:se.fill?[q.polygon(ue,se)]:[q.linearPath(ue,se)],X.type==="arrow"){var pe=X.startArrowhead,Q=pe===void 0?null:pe,ee=X.endArrowhead,me=ee===void 0?"arrow":ee,Te=function(xe,ye,P,l){var f=(0,d.Y5)(xe,ye,P,l);if(f===null)return[];if(l==="dot"){var D=(0,w.Z)(f,3),H=D[0],J=D[1],re=D[2];return[q.circle(H,J,re,h(h({},se),{},{fill:xe.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(l==="triangle"){var ae=(0,w.Z)(f,6),ge=ae[0],_e=ae[1],ze=ae[2],Je=ae[3],et=ae[4],Ke=ae[5];return delete se.strokeLineDash,[q.polygon([[ge,_e],[ze,Je],[et,Ke],[ge,_e]],h(h({},se),{},{fill:xe.strokeColor,fillStyle:"solid"}))]}var tt=(0,w.Z)(f,6),ut=tt[0],ht=tt[1],He=tt[2],Ee=tt[3],Le=tt[4],Qe=tt[5];if(xe.strokeStyle==="dotted"){var ct=G(xe.strokeWidth-1);se.strokeLineDash=[ct[0],ct[1]-1]}else delete se.strokeLineDash;return[q.line(He,Ee,ut,ht,se),q.line(Le,Qe,ut,ht,se)]};if(Q!==null){var Ue,qe=Te(X,ie,"start",Q);(Ue=ie).push.apply(Ue,(0,e.Z)(qe))}if(me!==null){var Ae,Oe=Te(X,ie,"end",me);(Ae=ie).push.apply(Ae,(0,e.Z)(Oe))}}return ie;case"freedraw":var Ie;if((0,T.Lc)(X),(0,b.g6)(X.points)){var Re=(0,a.og)(X.points,.75);Ie=q.curve(Re,h(h({},he(X)),{},{stroke:"none"}))}else Ie=null;return Ie;case"frame":case"text":case"image":var ke=null;return ke;default:return(0,S.vE)(X,"generateElementShape(): Unimplemented type ".concat(X?.type)),null}}},2921:function(We,te,t){t.d(te,{R:function(){return T}});var e=t(5169),w=t(8821),v=t(8128),d=t(9660),b=t(6049),T=(0,e.Z)(function S(){(0,w.Z)(this,S)});T.rg=new v.V,T.cache=new WeakMap,T.get=function(S){return T.cache.get(S)},T.set=function(S,a){return T.cache.set(S,a)},T.delete=function(S){return T.cache.delete(S)},T.destroy=function(){T.cache=new WeakMap},T.generateElementShape=function(S){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=a?void 0:T.get(S);if(c!==void 0)return c;d.Xx.delete(S);var Z=(0,b.i)(S,T.rg,a);return T.cache.set(S,Z),Z}},1648:function(We,te,t){t.d(te,{$b:function(){return w},CJ:function(){return c},M9:function(){return b},PD:function(){return v},QG:function(){return a},Un:function(){return S},Zd:function(){return d},sh:function(){return T}});var e=t(4183),w=function(Z){return Z==="rectangle"||Z==="embeddable"||Z==="ellipse"||Z==="diamond"||Z==="line"||Z==="freedraw"},v=function(Z){return Z!=="image"&&Z!=="frame"},d=function(Z){return Z==="rectangle"||Z==="embeddable"||Z==="ellipse"||Z==="diamond"||Z==="freedraw"||Z==="arrow"||Z==="line"},b=function(Z){return Z==="rectangle"||Z==="embeddable"||Z==="ellipse"||Z==="diamond"||Z==="arrow"||Z==="line"},T=function(Z){return Z==="rectangle"||Z==="embeddable"||Z==="arrow"||Z==="line"||Z==="diamond"},S=function(Z){return Z==="arrow"},a=function(Z,F){for(var _=null,h=Z.length-1;h>=0;--h){var x=Z[h];if(!x.isDeleted&&F(x)){_=x;break}}return _},c=function(Z,F){var _=[];return Z.filter(function(h){return!(h.isDeleted||!F(h))&&(!(0,e.gs)(h)||(_.push(h),!1))}).concat(_)}},3668:function(We,te,t){t.d(te,{$D:function(){return p},Cg:function(){return o},NL:function(){return E}});var e=t(7169),w=t(2577),v=t(8950),d=t(2975),b=t.n(d),T=t(9845),S=t(4949),a=t(7766),c=t(9827),Z=t(9937),F=t(6853),_=t(4419),h=t(4178),x=t(6013),G=t(4682),le=t(7651),he=t(583),ve=t(457);function fe(g,s){var u=Object.keys(g);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(g);s&&(k=k.filter(function(N){return Object.getOwnPropertyDescriptor(g,N).enumerable})),u.push.apply(u,k)}return u}function X(g){for(var s=1;s<arguments.length;s++){var u=arguments[s]!=null?arguments[s]:{};s%2?fe(Object(u),!0).forEach(function(k){(0,e.Z)(g,k,u[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(u)):fe(Object(u)).forEach(function(k){Object.defineProperty(g,k,Object.getOwnPropertyDescriptor(u,k))})}return g}function q(g,s){var u=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!u){if(Array.isArray(g)||(u=function(L,V){if(L){if(typeof L=="string")return U(L,V);var ie=Object.prototype.toString.call(L).slice(8,-1);if(ie==="Object"&&L.constructor&&(ie=L.constructor.name),ie==="Map"||ie==="Set")return Array.from(L);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return U(L,V)}}(g))||s){u&&(g=u);var k=0,N=function(){};return{s:N,n:function(){return k>=g.length?{done:!0}:{done:!1,value:g[k++]}},e:function(L){throw L},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W,O=!0,j=!1;return{s:function(){u=u.call(g)},n:function(){var L=u.next();return O=L.done,L},e:function(L){j=!0,W=L},f:function(){try{O||u.return==null||u.return()}finally{if(j)throw W}}}}function U(g,s){(s==null||s>g.length)&&(s=g.length);for(var u=0,k=new Array(s);u<s;u++)k[u]=g[u];return k}var R=function(g){var s=new ve.Z;return s.replaceAllElements((0,c.xU)(g),!1),s},B=function(g,s){if(g.width<=s)return g;var u=document.createElement("canvas").getContext("2d");u.font=(0,c.mO)({fontFamily:g.fontFamily,fontSize:g.fontSize});var k=g.text;if(u.measureText(k).width>s)for(var N=k.length;N>0;N--){var W="".concat(k.slice(0,N),"...");if(u.measureText(W).width<=s){k=W;break}}return(0,he.BE)(g,{text:k,width:s})},M=function(g,s){return s=s||(0,F.im)().frameRendering,{enabled:!!g||s.enabled,outline:!g&&s.outline,name:!g&&s.name,clip:!!g||s.clip}},I=function(g){var s=g.elements,u=g.exportingFrame,k=g.frameRendering,N=g.exportWithDarkMode;return u?(0,x.Xs)({elements:s,bounds:u,type:"overlap"}):k.enabled&&k.name?function(W,O){var j,L=[],V=0,ie=q(W);try{for(ie.s();!(j=ie.n()).done;){var se=j.value;if((0,le.He)(se)){V++;var ue=(0,le.VL)({x:se.x,y:se.y-Z.iG.nameOffsetY,fontFamily:Z.ut.Assistant,fontSize:Z.iG.nameFontSize,lineHeight:Z.iG.nameLineHeight,strokeColor:O.exportWithDarkMode?Z.iG.nameColorDarkTheme:Z.iG.nameColorLightTheme,text:se.name||"Frame ".concat(V)});ue.y-=ue.height,ue=B(ue,se.width),L.push(ue)}L.push(se)}}catch(pe){ie.e(pe)}finally{ie.f()}return L}(s,{exportWithDarkMode:N}):s},E=function(){var g=(0,v.Z)(b().mark(function s(u,k,N,W){var O,j,L,V,ie,se,ue,pe,Q,ee,me,Te,Ue,qe,Ae,Oe,Ie,Re,ke,xe,ye,P,l,f=arguments;return b().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return j=W.exportBackground,L=W.exportPadding,V=L===void 0?Z.qy:L,ie=W.viewBackgroundColor,se=W.exportingFrame,ue=f.length>4&&f[4]!==void 0?f[4]:function(H,J){var re=document.createElement("canvas");return re.width=H*k.exportScale,re.height=J*k.exportScale,{canvas:re,scale:k.exportScale}},pe=R(u),u=pe.getNonDeletedElements(),Q=M(se??null,(O=k.frameRendering)!==null&&O!==void 0?O:null),ee=I({elements:u,exportingFrame:se,exportWithDarkMode:k.exportWithDarkMode,frameRendering:Q}),se&&(V=0),me=r(se?[se]:(0,G._h)(ee),V),Te=(0,w.Z)(me,4),Ue=Te[0],qe=Te[1],Ae=Te[2],Oe=Te[3],Ie=ue(Ae,Oe),Re=Ie.canvas,ke=Ie.scale,xe=ke===void 0?1:ke,ye=(0,F.im)(),D.next=12,(0,h.Xx)({imageCache:new Map,fileIds:(0,h.oA)(ee).map(function(H){return H.fileId}),files:N});case 12:return P=D.sent,l=P.imageCache,(0,a.AW)({canvas:Re,rc:T.Z.canvas(Re),elements:ee,visibleElements:ee,scale:xe,appState:X(X({},k),{},{frameRendering:Q,viewBackgroundColor:j?ie:null,scrollX:-Ue+V,scrollY:-qe+V,zoom:ye.zoom,shouldCacheIgnoreZoom:!1,theme:k.exportWithDarkMode?"dark":"light"}),renderConfig:{imageCache:l,renderGrid:!1,isExporting:!0}}),pe.destroy(),D.abrupt("return",Re);case 17:case"end":return D.stop()}},s)}));return function(s,u,k,N){return g.apply(this,arguments)}}(),p=function(){var g=(0,v.Z)(b().mark(function s(u,k,N,W){var O,j,L,V,ie,se,ue,pe,Q,ee,me,Te,Ue,qe,Ae,Oe,Ie,Re,ke,xe,ye,P,l,f,D,H,J,re,ae,ge,_e,ze,Je,et,Ke,tt,ut,ht,He,Ee,Le,Qe,ct;return b().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(V=R(u),u=V.getNonDeletedElements(),ie=M((O=W?.exportingFrame)!==null&&O!==void 0?O:null,(j=k.frameRendering)!==null&&j!==void 0?j:null),se=k.exportPadding,ue=se===void 0?Z.qy:se,pe=k.exportWithDarkMode,Q=pe!==void 0&&pe,ee=k.viewBackgroundColor,me=k.exportScale,Te=me===void 0?1:me,Ue=k.exportEmbedScene,qe=(W||{}).exportingFrame,Oe=I({elements:u,exportingFrame:Ae=qe===void 0?null:qe,exportWithDarkMode:Q,frameRendering:ie}),Ae&&(ue=0),Ie="",!Ue){bt.next=20;break}return bt.prev=9,bt.next=12,Promise.resolve().then(t.bind(t,250));case 12:return bt.next=14,bt.sent.encodeSvgMetadata({text:(0,_.I_)(u,k,N||{},"local")});case 14:Ie=bt.sent,bt.next=20;break;case 17:bt.prev=17,bt.t0=bt.catch(9),console.error(bt.t0);case 20:Re=r(Ae?[Ae]:(0,G._h)(Oe),ue),ke=(0,w.Z)(Re,4),xe=ke[0],ye=ke[1],P=ke[2],l=ke[3],(f=document.createElementNS(Z.hR,"svg")).setAttribute("version","1.1"),f.setAttribute("xmlns",Z.hR),f.setAttribute("viewBox","0 0 ".concat(P," ").concat(l)),f.setAttribute("width","".concat(P*Te)),f.setAttribute("height","".concat(l*Te)),Q&&f.setAttribute("filter",Z.ZF),D="https://excalidraw.com/",D=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat({}.PKG_VERSION),(H=D)!==null&&H!==void 0&&H.startsWith("/")&&(D=D.replace("/","".concat(window.location.origin,"/"))),D="".concat(D,"/dist/excalidraw-assets/"),J=-xe+ue,re=-ye+ue,ae=(0,G.wO)(u),ge="",_e=q(ae);try{for(_e.s();!(ze=_e.n()).done;)Je=ze.value,et=(0,S.qf)(Je),Ke=(0,w.Z)(et,4),tt=Ke[0],ut=Ke[1],ht=Ke[2],He=Ke[3],Ee=(ht-tt)/2-(Je.x-tt),Le=(He-ut)/2-(Je.y-ut),ge+="<clipPath id=".concat(Je.id,`>
            <rect transform="translate(`).concat(Je.x+J," ").concat(Je.y+re,") rotate(").concat(Je.angle," ").concat(Ee," ").concat(Le,`)"
          width="`).concat(Je.width,`"
          height="`).concat(Je.height,`"
          >
          </rect>
        </clipPath>`)}catch(wt){_e.e(wt)}finally{_e.f()}return f.innerHTML=`
  `.concat("<!-- svg-source:excalidraw -->",`
  `).concat(Ie,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(D,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(D,`Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("`).concat(D,`Assistant-Regular.woff2");
      }
    </style>
    `).concat(ge,`
  </defs>
  `),k.exportBackground&&ee&&((Qe=f.ownerDocument.createElementNS(Z.hR,"rect")).setAttribute("x","0"),Qe.setAttribute("y","0"),Qe.setAttribute("width","".concat(P)),Qe.setAttribute("height","".concat(l)),Qe.setAttribute("fill",ee),f.appendChild(Qe)),ct=T.Z.svg(f),(0,a.M_)(Oe,ct,f,N||{},{offsetX:J,offsetY:re,exportWithDarkMode:Q,renderEmbeddables:(L=W?.renderEmbeddables)!==null&&L!==void 0&&L,frameRendering:ie}),V.destroy(),bt.abrupt("return",f);case 42:case"end":return bt.stop()}},s,null,[[9,17]])}));return function(s,u,k,N){return g.apply(this,arguments)}}(),r=function(g,s){var u=(0,S.KP)(g),k=(0,w.Z)(u,4),N=k[0],W=k[1],O=k[2],j=k[3];return[N,W,(0,c.TE)(N,O)+2*s,(0,c.TE)(W,j)+2*s]},o=function(g,s,u){var k=r(g,s).map(function(W){return Math.trunc(W*u)}),N=(0,w.Z)(k,4);return[N[2],N[3]]}},4105:function(We,te,t){t.d(te,{$b:function(){return d.$b},CJ:function(){return d.CJ},M9:function(){return d.M9},N:function(){return w.N},PR:function(){return w.PR},QG:function(){return d.QG},Un:function(){return d.Un},W:function(){return v.W},Yp:function(){return w.Yp},Zd:function(){return d.Zd},Zs:function(){return w.Zs},_4:function(){return e._4},eD:function(){return w.eD},j:function(){return b.j},sh:function(){return d.sh}});var e=t(4726),w=t(6264),v=t(2382),d=t(1648),b=t(4116)},2382:function(We,te,t){t.d(te,{W:function(){return b},s:function(){return d}});var e=t(2577),w=t(7651),v=t(9827),d=function(T){var S=T.scenePoint,a=T.viewportDimensions,c=T.zoom;return{scrollX:a.width/2/c.value-S.x,scrollY:a.height/2/c.value-S.y}},b=function(T,S){if(!(T=(0,w.n_)(T)).length)return{scrollX:0,scrollY:0};var a=(0,w.KP)(T),c=(0,e.Z)(a,4),Z=c[0],F=c[1],_=c[2],h=c[3];if(function(le,he){var ve=(0,e.Z)(he,4),fe=ve[0],X=ve[1],q=ve[2],U=ve[3],R=(0,v._i)({sceneX:fe,sceneY:X},le),B=R.x,M=R.y,I=(0,v._i)({sceneX:q,sceneY:U},le),E=I.x,p=I.y;return E-B>le.width||p-M>le.height}(S,[Z,F,_,h])){var x=(0,w.os)(T,(0,v.dE)({clientX:S.scrollX,clientY:S.scrollY},S)),G=(0,e.Z)(x,4);Z=G[0],F=G[1],_=G[2],h=G[3]}return d({scenePoint:{x:(Z+_)/2,y:(F+h)/2},viewportDimensions:{width:S.width,height:S.height},zoom:S.zoom})}},4726:function(We,te,t){t.d(te,{WM:function(){return b},_4:function(){return c},nn:function(){return T},tJ:function(){return a},w1:function(){return S}});var e=t(2577),w=t(7651),v=t(9827),d=t(8227),b=4,T=6,S="rgba(0,0,0,0.3)",a=function(Z,F,_,h){if(Z.length===0)return{horizontal:null,vertical:null};var x=(0,w.KP)(Z),G=(0,e.Z)(x,4),le=G[0],he=G[1],ve=G[2],fe=G[3],X=F/h.zoom.value,q=_/h.zoom.value,U=F-X,R=_-q,B={top:parseInt((0,v.IH)("sat"))||0,bottom:parseInt((0,v.IH)("sab"))||0,left:parseInt((0,v.IH)("sal"))||0,right:parseInt((0,v.IH)("sar"))||0},M=(0,d.G3)().rtl,I=-h.scrollX+U/2+B.left,E=-h.scrollY+R/2+B.top,p=I+X-B.right,r=E+q-B.bottom,o=Math.min(le,I),g=Math.min(he,E),s=Math.max(ve,p),u=Math.max(fe,r);return{horizontal:I===o&&p===s?null:{x:Math.max(B.left,b)+(I-o)/(s-o)*F,y:_-T-Math.max(b,B.bottom),width:(p-I)/(s-o)*F-Math.max(2*b,B.left+B.right),height:T},vertical:E===g&&r===u?null:{x:M?Math.max(B.left,b):F-T-Math.max(B.right,b),y:(E-g)/(u-g)*_+Math.max(B.top,b),width:T,height:(r-E)/(u-g)*_-Math.max(2*b,B.top+B.bottom)}}},c=function(Z,F,_){var h=[Z.horizontal,Z.vertical].map(function(he){return he!=null&&he.x<=F&&F<=he.x+he.width&&he.y<=_&&_<=he.y+he.height}),x=(0,e.Z)(h,2),G=x[0],le=x[1];return{isOverEither:G||le,isOverHorizontal:G,isOverVertical:le}}},6264:function(We,te,t){t.d(te,{CF:function(){return h},N:function(){return x},Oh:function(){return ve},PR:function(){return G},Yp:function(){return _},Zs:function(){return he},aI:function(){return F},eD:function(){return le}});var e,w,v,d,b=t(2577),T=t(7651),S=t(4183),a=t(4682),c=t(9827),Z=t(7935),F=function(fe){var X=new Set;return fe.forEach(function(q){q.type==="frame"&&X.add(q.id)}),fe.filter(function(q){return!q.frameId||!X.has(q.frameId)})},_=function(fe,X){var q=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],U=(0,T.qf)(X),R=(0,b.Z)(U,4),B=R[0],M=R[1],I=R[2],E=R[3],p=fe.filter(function(r){var o=(0,T.Pi)(r),g=(0,b.Z)(o,4),s=g[0],u=g[1],k=g[2],N=g[3],W=(0,a.$Z)(r);if(W){var O=(0,T.Pi)(W),j=(0,b.Z)(O,4),L=j[0],V=j[1],ie=j[2],se=j[3];s=Math.max(L,s),u=Math.max(V,u),k=Math.min(ie,k),N=Math.min(se,N)}return r.locked===!1&&r.type!=="selection"&&!(0,S.Xh)(r)&&B<=s&&M<=u&&I>=k&&E>=N});return p=(p=q?F(p):p).filter(function(r){var o=(0,a.$Z)(r);return!o||(0,a.cO)(r,o)})},h=function(fe,X,q){var U=new Set(X.map(function(R){return R.id}));return fe.filter(function(R){var B=(0,Z.PZ)(R,q.width,q.height,q);return!U.has(R.id)&&B})},x=(e=null,w=null,v=null,(d=function(fe,X){return v!=null&&fe===e&&X.selectedElementIds===w||(v=fe.some(function(q){return X.selectedElementIds[q.id]}),e=fe,w=X.selectedElementIds),v}).clearCache=function(){e=null,w=null,v=null},d),G=function(fe,X,q){var U=Array.from(new Set(le(fe,X).map(function(R){return q(R)})));return U.length===1?U[0]:null},le=function(fe,X,q){var U=fe.filter(function(B){return X.selectedElementIds[B.id]||q!=null&&q.includeBoundTextElement&&(0,S.Xh)(B)&&X.selectedElementIds[B?.containerId]?B:null});if(q!=null&&q.includeElementsInFrames){var R=[];return U.forEach(function(B){B.type==="frame"&&(0,a.zD)(fe,B.id).forEach(function(M){return R.push(M)}),R.push(B)}),R}return U},he=function(fe,X){return X.editingElement?[X.editingElement]:le(fe,X,{includeBoundTextElement:!0})},ve=function(fe,X){return(0,c.w8)(X.selectedElementIds,fe)?X.selectedElementIds:fe}},4116:function(We,te,t){t.d(te,{E:function(){return v},j:function(){return w}});var e=t(9937),w=function(d){return Math.max(e.Zj,Math.min(d,30))},v=function(d,b){var T=d.viewportX,S=d.viewportY,a=d.nextZoom,c=T-b.offsetLeft,Z=S-b.offsetTop,F=b.zoom.value;return{scrollX:b.scrollX+(c-c/F)+-(c-c/a),scrollY:b.scrollY+(Z-Z/F)+-(Z-Z/a),zoom:{value:a}}}},9827:function(We,te,t){t.d(te,{$9:function(){return se},$g:function(){return X},$h:function(){return Oe},AK:function(){return W},B4:function(){return I},C3:function(){return ee},Ds:function(){return U},FG:function(){return O},Fc:function(){return x},G3:function(){return Q},G9:function(){return l},HP:function(){return P},I4:function(){return Te},IH:function(){return u},Ip:function(){return ue},Mj:function(){return xe},Om:function(){return r},Oo:function(){return G},Qm:function(){return V},TE:function(){return p},Vv:function(){return B},XF:function(){return f},_Z:function(){return he},_i:function(){return s},ag:function(){return qe},cx:function(){return j},dE:function(){return g},dZ:function(){return N},h2:function(){return Ue},hR:function(){return R},mO:function(){return q},qr:function(){return L},qz:function(){return pe},s:function(){return fe},tH:function(){return ie},uY:function(){return o},v4:function(){return Ae},vE:function(){return ye},w8:function(){return ke},wO:function(){return le},xU:function(){return D},xn:function(){return me},xp:function(){return Re},y1:function(){return ve},y8:function(){return Ie},yo:function(){return E}});var e=t(6655),w=t(7169),v=t(1930),d=t(2577),b=t(9240),T=t(9937),S=t(5156),a=t(9787),c=t.n(a);function Z(H,J){var re=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!re){if(Array.isArray(H)||(re=function(et,Ke){if(et){if(typeof et=="string")return F(et,Ke);var tt=Object.prototype.toString.call(et).slice(8,-1);if(tt==="Object"&&et.constructor&&(tt=et.constructor.name),tt==="Map"||tt==="Set")return Array.from(et);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return F(et,Ke)}}(H))||J){re&&(H=re);var ae=0,ge=function(){};return{s:ge,n:function(){return ae>=H.length?{done:!0}:{done:!1,value:H[ae++]}},e:function(et){throw et},f:ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,ze=!0,Je=!1;return{s:function(){re=re.call(H)},n:function(){var et=re.next();return ze=et.done,et},e:function(et){Je=!0,_e=et},f:function(){try{ze||re.return==null||re.return()}finally{if(Je)throw _e}}}}function F(H,J){(J==null||J>H.length)&&(J=H.length);for(var re=0,ae=new Array(J);re<J;re++)ae[re]=H[re];return ae}function _(H,J){var re=Object.keys(H);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(H);J&&(ae=ae.filter(function(ge){return Object.getOwnPropertyDescriptor(H,ge).enumerable})),re.push.apply(re,ae)}return re}function h(H){for(var J=1;J<arguments.length;J++){var re=arguments[J]!=null?arguments[J]:{};J%2?_(Object(re),!0).forEach(function(ae){(0,w.Z)(H,ae,re[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(re)):_(Object(re)).forEach(function(ae){Object.defineProperty(H,ae,Object.getOwnPropertyDescriptor(re,ae))})}return H}var x=function(){var H=new Date,J=H.getFullYear(),re="".concat(H.getMonth()+1).padStart(2,"0"),ae="".concat(H.getDate()).padStart(2,"0"),ge="".concat(H.getHours()).padStart(2,"0"),_e="".concat(H.getMinutes()).padStart(2,"0");return"".concat(J,"-").concat(re,"-").concat(ae,"-").concat(ge).concat(_e)},G=function(H){return H.charAt(0).toUpperCase()+H.slice(1)},le=function(H){return H instanceof HTMLElement&&H.className.includes("ToolIcon")},he=function(H){return H instanceof HTMLElement&&H.dataset.type==="wysiwyg"||H instanceof HTMLBRElement||H instanceof HTMLInputElement||H instanceof HTMLTextAreaElement||H instanceof HTMLSelectElement},ve=function(H){return he(H)||H instanceof Element&&!!H.closest("label, button")},fe=function(H){return H instanceof HTMLElement&&H.dataset.type==="wysiwyg"||H instanceof HTMLBRElement||H instanceof HTMLTextAreaElement||H instanceof HTMLInputElement&&(H.type==="text"||H.type==="number")},X=function(H){for(var J=H.fontFamily,re=0,ae=Object.entries(T.ut);re<ae.length;re++){var ge=(0,d.Z)(ae[re],2),_e=ge[0];if(ge[1]===J)return"".concat(_e,", ").concat(T._D)}return T._D},q=function(H){var J=H.fontSize,re=H.fontFamily;return"".concat(J,"px ").concat(X({fontFamily:re}))},U=function(H,J){var re=0,ae=null,ge=function(){for(var _e=arguments.length,ze=new Array(_e),Je=0;Je<_e;Je++)ze[Je]=arguments[Je];ae=ze,clearTimeout(re),re=window.setTimeout(function(){ae=null,H.apply(void 0,ze)},J)};return ge.flush=function(){if(clearTimeout(re),ae){var _e=ae;ae=null,H.apply(void 0,(0,v.Z)(_e))}},ge.cancel=function(){ae=null,clearTimeout(re)},ge},R=function(H,J){var re=null,ae=null,ge=null,_e=function Je(et){re=window.requestAnimationFrame(function(){re=null,H.apply(void 0,(0,v.Z)(et)),ae=null,ge&&(ae=ge,ge=null,Je(ae))})},ze=function(){for(var Je=arguments.length,et=new Array(Je),Ke=0;Ke<Je;Ke++)et[Ke]=arguments[Ke];ae=et,re===null?_e(ae):J!=null&&J.trailing&&(ge=et)};return ze.flush=function(){re!==null&&(cancelAnimationFrame(re),re=null),ae&&(H.apply(void 0,(0,v.Z)(ge||ae)),ae=ge=null)},ze.cancel=function(){ae=ge=null,re!==null&&(cancelAnimationFrame(re),re=null)},ze},B=function(H){return 1-Math.pow(1-H,4)},M=function(H,J,re){return(J-H)*B(re)+H},I=function(H){var J,re=H.fromValues,ae=H.toValues,ge=H.onStep,_e=H.duration,ze=_e===void 0?250:_e,Je=H.interpolateValue,et=H.onStart,Ke=H.onEnd,tt=H.onCancel,ut=!1,ht=0;return ht=window.requestAnimationFrame(function He(Ee){if(!ut){J===void 0&&(J=Ee,et?.());var Le=Math.min(Ee-J,ze),Qe=B(Le/ze),ct={};if(Object.keys(re).forEach(function(zt){var Mt=zt,Zt=(ae[Mt]-re[Mt])*Qe+re[Mt];ct[Mt]=Zt}),ge(ct),Le<ze){var bt=Le/ze,wt={};Object.keys(re).forEach(function(zt){var Mt,Zt=zt,sn=re[Zt],rn=ae[Zt];(Mt=Je?Je(sn,rn,bt,Zt):M(sn,rn,bt))==null&&(Mt=M(sn,rn,bt)),wt[Zt]=Mt}),ge(wt),ht=window.requestAnimationFrame(He)}else ge(ae),Ke?.()}}),function(){tt?.(),ut=!0,window.cancelAnimationFrame(ht)}},E=function(H,J){if(!H.length||J<1)return[];for(var re=0,ae=0,ge=Array(Math.ceil(H.length/J));re<H.length;)ge[ae++]=H.slice(re,re+=J);return ge},p=function(H,J){return Math.abs(H-J)},r=function(H,J){var re,ae;return J.type==="custom"?h(h({},H.activeTool),{},{type:"custom",customType:J.customType,locked:(ae=J.locked)!==null&&ae!==void 0?ae:H.activeTool.locked}):h(h({},H.activeTool),{},{lastActiveTool:J.lastActiveToolBeforeEraser===void 0?H.activeTool.lastActiveTool:J.lastActiveToolBeforeEraser,type:J.type,customType:null,locked:(re=J.locked)!==null&&re!==void 0?re:H.activeTool.locked})},o=function(H){return H=H.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),T.Um?H.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):H.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},g=function(H,J){var re=H.clientX,ae=H.clientY,ge=J.zoom,_e=J.offsetLeft,ze=J.offsetTop,Je=J.scrollX,et=J.scrollY;return{x:(re-_e)/ge.value-Je,y:(ae-ze)/ge.value-et}},s=function(H,J){var re=H.sceneX,ae=H.sceneY,ge=J.zoom,_e=J.offsetLeft,ze=J.offsetTop,Je=J.scrollX,et=J.scrollY;return{x:(re+Je)*ge.value+_e,y:(ae+et)*ge.value+ze}},u=function(H){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(H))},k=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),N=function(H){return k.test(H)},W=function(H){var J=(0,d.Z)(H,2);return{x:J[0],y:J[1]}},O=function(H){if(H?.name!=="AbortError")throw H;console.warn(H)},j=function(H,J){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;re<0&&(re=H.length+re);for(var ae=(re=Math.min(H.length,Math.max(re,0)))-1;++ae<H.length;)if(J(H[ae],ae,H))return ae;return-1},L=function(H,J){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:H.length-1;re<0&&(re=H.length+re);for(var ae=(re=Math.min(H.length-1,Math.max(re,0)))+1;--ae>-1;)if(J(H[ae],ae,H))return ae;return-1},V=function(H){var J=H.length===5&&H.substr(4,1)==="0",re=H.length===9&&H.substr(7,2)==="00";return J||re||H===b.HO.transparent},ie=function(H){return function(J){(0,S.unstable_batchedUpdates)(H,J)}},se=function(H){return R(function(J){(0,S.unstable_batchedUpdates)(H,J)})},ue=function(H){for(var J=H.parentElement;J;){if(J===document.body)return document;var re=window.getComputedStyle(J).overflowY;if(J.scrollHeight>J.clientHeight&&(re==="auto"||re==="scroll"||re==="overlay"))return J;J=J.parentElement}return document},pe=function(H){for(var J=H.parentElement;J;){if(J.tabIndex>-1)return void J.focus();J=J.parentElement}},Q=function(H){return Array.from(H).map(function(J){return"0".concat(J.toString(16)).slice(-2)}).join("")},ee=function(){return Date.now()},me=function(H){return H.reduce(function(J,re){return J.set(typeof re=="string"?re:re.id,re),J},new Map)},Te=function(H){return H.reduce(function(J,re,ae){return J.set(re.id,[re,ae]),J},new Map)},Ue=function(){return!1},qe=function(H,J){return new CustomEvent(H,{detail:{nativeEvent:J},cancelable:!0})},Ae=function(H,J){var re=!1;for(var ae in J){var ge=J[ae];if(ge!==void 0){if(H[ae]===ge&&((0,e.Z)(ge)!=="object"||ge===null))continue;re=!0}}return re?h(h({},H),J):H},Oe=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},Ie=function(H){return!!H&&(0,e.Z)(H)==="object"&&"then"in H&&"catch"in H&&"finally"in H},Re=function(H){var J=H?.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return J?Array.from(J).filter(function(re){return re.tabIndex>-1&&!re.disabled}):[]},ke=function(H,J,re){var ae=arguments.length>3&&arguments[3]!==void 0&&arguments[3],ge=Object.keys(H),_e=Object.keys(J);return ge.length===_e.length&&ge.every(function(ze){var Je=re?.[ze],et=Je?Je(H[ze],J[ze]):H[ze]===J[ze];return!et&&ae&&console.info("%cisShallowEqual: ".concat(ze," not equal ->"),"color: #8B4000",H[ze],J[ze]),et})},xe=function(H,J){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ae=re.checkForDefaultPrevented,ge=ae===void 0||ae;return function(_e){if(H?.(_e),!ge||!_e.defaultPrevented)return J?.(_e)}},ye=function(H,J,re){if(!J)return H;if(re)return console.error(J),H;throw new Error(J)},P=function(H){var J,re,ae=function(ge){var _e=Object.entries(ge);if(J){var ze,Je=!0,et=Z(_e);try{for(et.s();!(ze=et.n()).done;){var Ke=(0,d.Z)(ze.value,2),tt=Ke[0],ut=Ke[1];if(J.get(tt)!==ut){Je=!1;break}}}catch(He){et.e(He)}finally{et.f()}if(Je)return re}var ht=H(ge);return J=new Map(_e),re=ht,ht};return ae.clear=function(){J=void 0,re=void 0},ae},l=function(){var H;try{var J=c().version.split(".");H=Number(J[0])>17}catch{H=!1}var re=!1;return function(){return window.EXCALIDRAW_THROTTLE_RENDER===!0&&(!!H||(re||(re=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),f=function(H,J){return H instanceof Set||H instanceof Map?H.has(J):"includes"in H?H.includes(J):H.hasOwnProperty(J)},D=function(H){return JSON.parse(JSON.stringify(H))}},3041:function(We,te,t){var e=t(3379),w=t.n(e),v=t(7795),d=t.n(v),b=t(569),T=t.n(b),S=t(3565),a=t.n(S),c=t(9216),Z=t.n(c),F=t(4589),_=t.n(F),h=t(2044),x={};x.styleTagTransform=_(),x.setAttributes=a(),x.insert=T().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=Z(),w()(h.Z,x),h.Z&&h.Z.locals&&h.Z.locals},3379:function(We){var te=[];function t(v){for(var d=-1,b=0;b<te.length;b++)if(te[b].identifier===v){d=b;break}return d}function e(v,d){for(var b={},T=[],S=0;S<v.length;S++){var a=v[S],c=d.base?a[0]+d.base:a[0],Z=b[c]||0,F="".concat(c," ").concat(Z);b[c]=Z+1;var _=t(F),h={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(_!==-1)te[_].references++,te[_].updater(h);else{var x=w(h,d);d.byIndex=S,te.splice(S,0,{identifier:F,updater:x,references:1})}T.push(F)}return T}function w(v,d){var b=d.domAPI(d);return b.update(v),function(T){if(T){if(T.css===v.css&&T.media===v.media&&T.sourceMap===v.sourceMap&&T.supports===v.supports&&T.layer===v.layer)return;b.update(v=T)}else b.remove()}}We.exports=function(v,d){var b=e(v=v||[],d=d||{});return function(T){T=T||[];for(var S=0;S<b.length;S++){var a=t(b[S]);te[a].references--}for(var c=e(T,d),Z=0;Z<b.length;Z++){var F=t(b[Z]);te[F].references===0&&(te[F].updater(),te.splice(F,1))}b=c}}},569:function(We){var te={};We.exports=function(t,e){var w=function(v){if(te[v]===void 0){var d=document.querySelector(v);if(window.HTMLIFrameElement&&d instanceof window.HTMLIFrameElement)try{d=d.contentDocument.head}catch{d=null}te[v]=d}return te[v]}(t);if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(e)}},9216:function(We){We.exports=function(te){var t=document.createElement("style");return te.setAttributes(t,te.attributes),te.insert(t,te.options),t}},3565:function(We,te,t){We.exports=function(e){var w=t.nc;w&&e.setAttribute("nonce",w)}},7795:function(We){We.exports=function(te){if(typeof document>"u")return{update:function(){},remove:function(){}};var t=te.insertStyleElement(te);return{update:function(e){(function(w,v,d){var b="";d.supports&&(b+="@supports (".concat(d.supports,") {")),d.media&&(b+="@media ".concat(d.media," {"));var T=d.layer!==void 0;T&&(b+="@layer".concat(d.layer.length>0?" ".concat(d.layer):""," {")),b+=d.css,T&&(b+="}"),d.media&&(b+="}"),d.supports&&(b+="}");var S=d.sourceMap;S&&typeof btoa<"u"&&(b+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(S))))," */")),v.styleTagTransform(b,w,v.options)})(t,te,e)},remove:function(){(function(e){if(e.parentNode===null)return!1;e.parentNode.removeChild(e)})(t)}}}},4589:function(We){We.exports=function(te,t){if(t.styleSheet)t.styleSheet.cssText=te;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(te))}}},9669:function(We){We.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(We){We.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(We){We.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(We,te,t){We.exports=t.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(We,te,t){We.exports=t.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(We,te,t){We.exports=t.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(We,te,t){We.exports=t.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(We,te,t){We.exports=t.p+"excalidraw-assets/Cascadia.woff2"},3940:function(We,te,t){We.exports=t.p+"excalidraw-assets/Virgil.woff2"},9787:function(We){We.exports=A},5156:function(We){We.exports=ce},9649:function(We,te,t){var e=t(8114).default;function w(){We.exports=w=function(){return v},We.exports.__esModule=!0,We.exports.default=We.exports;var v={},d=Object.prototype,b=d.hasOwnProperty,T=Object.defineProperty||function(g,s,u){g[s]=u.value},S=typeof Symbol=="function"?Symbol:{},a=S.iterator||"@@iterator",c=S.asyncIterator||"@@asyncIterator",Z=S.toStringTag||"@@toStringTag";function F(g,s,u){return Object.defineProperty(g,s,{value:u,enumerable:!0,configurable:!0,writable:!0}),g[s]}try{F({},"")}catch{F=function(g,s,u){return g[s]=u}}function _(g,s,u,k){var N=s&&s.prototype instanceof G?s:G,W=Object.create(N.prototype),O=new p(k||[]);return T(W,"_invoke",{value:B(g,u,O)}),W}function h(g,s,u){try{return{type:"normal",arg:g.call(s,u)}}catch(k){return{type:"throw",arg:k}}}v.wrap=_;var x={};function G(){}function le(){}function he(){}var ve={};F(ve,a,function(){return this});var fe=Object.getPrototypeOf,X=fe&&fe(fe(r([])));X&&X!==d&&b.call(X,a)&&(ve=X);var q=he.prototype=G.prototype=Object.create(ve);function U(g){["next","throw","return"].forEach(function(s){F(g,s,function(u){return this._invoke(s,u)})})}function R(g,s){function u(N,W,O,j){var L=h(g[N],g,W);if(L.type!=="throw"){var V=L.arg,ie=V.value;return ie&&e(ie)=="object"&&b.call(ie,"__await")?s.resolve(ie.__await).then(function(se){u("next",se,O,j)},function(se){u("throw",se,O,j)}):s.resolve(ie).then(function(se){V.value=se,O(V)},function(se){return u("throw",se,O,j)})}j(L.arg)}var k;T(this,"_invoke",{value:function(N,W){function O(){return new s(function(j,L){u(N,W,j,L)})}return k=k?k.then(O,O):O()}})}function B(g,s,u){var k="suspendedStart";return function(N,W){if(k==="executing")throw new Error("Generator is already running");if(k==="completed"){if(N==="throw")throw W;return o()}for(u.method=N,u.arg=W;;){var O=u.delegate;if(O){var j=M(O,u);if(j){if(j===x)continue;return j}}if(u.method==="next")u.sent=u._sent=u.arg;else if(u.method==="throw"){if(k==="suspendedStart")throw k="completed",u.arg;u.dispatchException(u.arg)}else u.method==="return"&&u.abrupt("return",u.arg);k="executing";var L=h(g,s,u);if(L.type==="normal"){if(k=u.done?"completed":"suspendedYield",L.arg===x)continue;return{value:L.arg,done:u.done}}L.type==="throw"&&(k="completed",u.method="throw",u.arg=L.arg)}}}function M(g,s){var u=s.method,k=g.iterator[u];if(k===void 0)return s.delegate=null,u==="throw"&&g.iterator.return&&(s.method="return",s.arg=void 0,M(g,s),s.method==="throw")||u!=="return"&&(s.method="throw",s.arg=new TypeError("The iterator does not provide a '"+u+"' method")),x;var N=h(k,g.iterator,s.arg);if(N.type==="throw")return s.method="throw",s.arg=N.arg,s.delegate=null,x;var W=N.arg;return W?W.done?(s[g.resultName]=W.value,s.next=g.nextLoc,s.method!=="return"&&(s.method="next",s.arg=void 0),s.delegate=null,x):W:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,x)}function I(g){var s={tryLoc:g[0]};1 in g&&(s.catchLoc=g[1]),2 in g&&(s.finallyLoc=g[2],s.afterLoc=g[3]),this.tryEntries.push(s)}function E(g){var s=g.completion||{};s.type="normal",delete s.arg,g.completion=s}function p(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(I,this),this.reset(!0)}function r(g){if(g){var s=g[a];if(s)return s.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var u=-1,k=function N(){for(;++u<g.length;)if(b.call(g,u))return N.value=g[u],N.done=!1,N;return N.value=void 0,N.done=!0,N};return k.next=k}}return{next:o}}function o(){return{value:void 0,done:!0}}return le.prototype=he,T(q,"constructor",{value:he,configurable:!0}),T(he,"constructor",{value:le,configurable:!0}),le.displayName=F(he,Z,"GeneratorFunction"),v.isGeneratorFunction=function(g){var s=typeof g=="function"&&g.constructor;return!!s&&(s===le||(s.displayName||s.name)==="GeneratorFunction")},v.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,he):(g.__proto__=he,F(g,Z,"GeneratorFunction")),g.prototype=Object.create(q),g},v.awrap=function(g){return{__await:g}},U(R.prototype),F(R.prototype,c,function(){return this}),v.AsyncIterator=R,v.async=function(g,s,u,k,N){N===void 0&&(N=Promise);var W=new R(_(g,s,u,k),N);return v.isGeneratorFunction(s)?W:W.next().then(function(O){return O.done?O.value:W.next()})},U(q),F(q,Z,"Generator"),F(q,a,function(){return this}),F(q,"toString",function(){return"[object Generator]"}),v.keys=function(g){var s=Object(g),u=[];for(var k in s)u.push(k);return u.reverse(),function N(){for(;u.length;){var W=u.pop();if(W in s)return N.value=W,N.done=!1,N}return N.done=!0,N}},v.values=r,p.prototype={constructor:p,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!g)for(var s in this)s.charAt(0)==="t"&&b.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=void 0)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var s=this;function u(L,V){return W.type="throw",W.arg=g,s.next=L,V&&(s.method="next",s.arg=void 0),!!V}for(var k=this.tryEntries.length-1;k>=0;--k){var N=this.tryEntries[k],W=N.completion;if(N.tryLoc==="root")return u("end");if(N.tryLoc<=this.prev){var O=b.call(N,"catchLoc"),j=b.call(N,"finallyLoc");if(O&&j){if(this.prev<N.catchLoc)return u(N.catchLoc,!0);if(this.prev<N.finallyLoc)return u(N.finallyLoc)}else if(O){if(this.prev<N.catchLoc)return u(N.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return u(N.finallyLoc)}}}},abrupt:function(g,s){for(var u=this.tryEntries.length-1;u>=0;--u){var k=this.tryEntries[u];if(k.tryLoc<=this.prev&&b.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var N=k;break}}N&&(g==="break"||g==="continue")&&N.tryLoc<=s&&s<=N.finallyLoc&&(N=null);var W=N?N.completion:{};return W.type=g,W.arg=s,N?(this.method="next",this.next=N.finallyLoc,x):this.complete(W)},complete:function(g,s){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&s&&(this.next=s),x},finish:function(g){for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s];if(u.finallyLoc===g)return this.complete(u.completion,u.afterLoc),E(u),x}},catch:function(g){for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s];if(u.tryLoc===g){var k=u.completion;if(k.type==="throw"){var N=k.arg;E(u)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(g,s,u){return this.delegate={iterator:r(g),resultName:s,nextLoc:u},this.method==="next"&&(this.arg=void 0),x}},v}We.exports=w,We.exports.__esModule=!0,We.exports.default=We.exports},8114:function(We){function te(t){return We.exports=te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We.exports.__esModule=!0,We.exports.default=We.exports,te(t)}We.exports=te,We.exports.__esModule=!0,We.exports.default=We.exports},2975:function(We,te,t){var e=t(9649)();We.exports=e;try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},7017:function(We,te,t){function e(w,v){(v==null||v>w.length)&&(v=w.length);for(var d=0,b=new Array(v);d<v;d++)b[d]=w[d];return b}t.d(te,{Z:function(){return e}})},3173:function(We,te,t){function e(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}t.d(te,{Z:function(){return e}})},8950:function(We,te,t){function e(v,d,b,T,S,a,c){try{var Z=v[a](c),F=Z.value}catch(_){return void b(_)}Z.done?d(F):Promise.resolve(F).then(T,S)}function w(v){return function(){var d=this,b=arguments;return new Promise(function(T,S){var a=v.apply(d,b);function c(F){e(a,T,S,c,Z,"next",F)}function Z(F){e(a,T,S,c,Z,"throw",F)}c(void 0)})}}t.d(te,{Z:function(){return w}})},8821:function(We,te,t){function e(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}t.d(te,{Z:function(){return e}})},5169:function(We,te,t){t.d(te,{Z:function(){return v}});var e=t(3525);function w(d,b){for(var T=0;T<b.length;T++){var S=b[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,(0,e.Z)(S.key),S)}}function v(d,b,T){return b&&w(d.prototype,b),T&&w(d,T),Object.defineProperty(d,"prototype",{writable:!1}),d}},7169:function(We,te,t){t.d(te,{Z:function(){return w}});var e=t(3525);function w(v,d,b){return(d=(0,e.Z)(d))in v?Object.defineProperty(v,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[d]=b,v}},11:function(We,te,t){function e(){return e=Object.assign?Object.assign.bind():function(w){for(var v=1;v<arguments.length;v++){var d=arguments[v];for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(w[b]=d[b])}return w},e.apply(this,arguments)}t.d(te,{Z:function(){return e}})},2312:function(We,te,t){function e(w){return e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},e(w)}t.d(te,{Z:function(){return e}})},2248:function(We,te,t){t.d(te,{Z:function(){return w}});var e=t(5901);function w(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(d&&d.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),d&&(0,e.Z)(v,d)}},2726:function(We,te,t){function e(w,v){if(w==null)return{};var d,b,T=function(a,c){if(a==null)return{};var Z,F,_={},h=Object.keys(a);for(F=0;F<h.length;F++)Z=h[F],c.indexOf(Z)>=0||(_[Z]=a[Z]);return _}(w,v);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(w);for(b=0;b<S.length;b++)d=S[b],v.indexOf(d)>=0||Object.prototype.propertyIsEnumerable.call(w,d)&&(T[d]=w[d])}return T}t.d(te,{Z:function(){return e}})},7245:function(We,te,t){t.d(te,{Z:function(){return v}});var e=t(6655),w=t(3173);function v(d,b){if(b&&((0,e.Z)(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,w.Z)(d)}},5901:function(We,te,t){function e(w,v){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,b){return d.__proto__=b,d},e(w,v)}t.d(te,{Z:function(){return e}})},2577:function(We,te,t){t.d(te,{Z:function(){return w}});var e=t(9139);function w(v,d){return function(b){if(Array.isArray(b))return b}(v)||function(b,T){var S=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(S!=null){var a,c,Z,F,_=[],h=!0,x=!1;try{if(Z=(S=S.call(b)).next,T===0){if(Object(S)!==S)return;h=!1}else for(;!(h=(a=Z.call(S)).done)&&(_.push(a.value),_.length!==T);h=!0);}catch(G){x=!0,c=G}finally{try{if(!h&&S.return!=null&&(F=S.return(),Object(F)!==F))return}finally{if(x)throw c}}return _}}(v,d)||(0,e.Z)(v,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(We,te,t){t.d(te,{Z:function(){return v}});var e=t(7017),w=t(9139);function v(d){return function(b){if(Array.isArray(b))return(0,e.Z)(b)}(d)||function(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}(d)||(0,w.Z)(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},3525:function(We,te,t){t.d(te,{Z:function(){return w}});var e=t(6655);function w(v){var d=function(b,T){if((0,e.Z)(b)!=="object"||b===null)return b;var S=b[Symbol.toPrimitive];if(S!==void 0){var a=S.call(b,T);if((0,e.Z)(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(b)}(v,"string");return(0,e.Z)(d)==="symbol"?d:String(d)}},6655:function(We,te,t){function e(w){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(w)}t.d(te,{Z:function(){return e}})},9139:function(We,te,t){t.d(te,{Z:function(){return w}});var e=t(7017);function w(v,d){if(v){if(typeof v=="string")return(0,e.Z)(v,d);var b=Object.prototype.toString.call(v).slice(8,-1);return b==="Object"&&v.constructor&&(b=v.constructor.name),b==="Map"||b==="Set"?Array.from(v):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?(0,e.Z)(v,d):void 0}}},3607:function(We,te,t){t.d(te,{zt:function(){return X},cn:function(){return q},Vv:function(){return le},KO:function(){return B},Dv:function(){return U},b9:function(){return R}});var e=t(9787);let w=0;const v=Symbol(),d=M=>!!M[v],b=M=>!M[v].c,T=M=>{var I;const{b:E,c:p}=M[v];p&&(p(),(I=c.get(E))==null||I())},S=(M,I)=>{const E=M[v].o,p=I[v].o;return E===p||M===p||d(E)&&S(E,I)},a=(M,I)=>{const E={b:M,o:I,c:null},p=new Promise(r=>{E.c=()=>{E.c=null,r()},I.finally(E.c)});return p[v]=E,p},c=new WeakMap,Z=M=>"init"in M,F="r",_="w",h="c",x="s",G=M=>{const I=new WeakMap,E=new WeakMap,p=new Map;let r,o;if(r=new Set,o=new Set,M)for(const[Re,ke]of M){const xe={v:ke,r:0,y:!0,d:new Map};Object.freeze(xe),Z(Re)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Re),I.set(Re,xe)}const g=new WeakMap,s=new WeakMap,u=Re=>{let ke=s.get(Re);return ke||(ke=new Map,s.set(Re,ke)),ke},k=(Re,ke)=>{if(Re){const xe=u(Re);let ye=xe.get(ke);return ye||(ye=k(Re.p,ke),ye&&"p"in ye&&b(ye.p)&&(ye=void 0),ye&&xe.set(ke,ye)),ye}return I.get(ke)},N=(Re,ke,xe)=>{if(Object.freeze(xe),Re)u(Re).set(ke,xe);else{const ye=I.get(ke);I.set(ke,xe),p.has(ke)||p.set(ke,ye)}},W=(Re,ke=new Map,xe)=>{if(!xe)return ke;const ye=new Map;let P=!1;return xe.forEach(l=>{var f;const D=((f=k(Re,l))==null?void 0:f.r)||0;ye.set(l,D),ke.get(l)!==D&&(P=!0)}),ke.size!==ye.size||P?ye:ke},O=(Re,ke,xe,ye,P)=>{const l=k(Re,ke);if(l){if(P&&(!("p"in l)||!S(l.p,P)))return l;"p"in l&&T(l.p)}const f={v:xe,r:l?.r||0,y:!0,d:W(Re,l?.d,ye)};let D=!l?.y;return l&&"v"in l&&Object.is(l.v,xe)?f.d===l.d||f.d.size===l.d.size&&Array.from(f.d.keys()).every(H=>l.d.has(H))||(D=!0,Promise.resolve().then(()=>{qe(Re)})):(D=!0,++f.r,f.d.has(ke)&&(f.d=new Map(f.d).set(ke,f.r))),l&&!D?l:(N(Re,ke,f),f)},j=(Re,ke,xe,ye,P)=>{const l=k(Re,ke);if(l){if(P&&(!("p"in l)||!S(l.p,P)))return l;"p"in l&&T(l.p)}const f={e:xe,r:(l?.r||0)+1,y:!0,d:W(Re,l?.d,ye)};return N(Re,ke,f),f},L=(Re,ke,xe,ye)=>{const P=k(Re,ke);if(P&&"p"in P){if(S(P.p,xe)&&!b(P.p))return P.y?P:{...P,y:!0};T(P.p)}((f,D,H)=>{let J=g.get(D);J||(J=new Map,g.set(D,J)),H.then(()=>{J.get(f)===H&&(J.delete(f),J.size||g.delete(D))}),J.set(f,H)})(Re,ke,xe);const l={p:xe,r:(P?.r||0)+1,y:!0,d:W(Re,P?.d,ye)};return N(Re,ke,l),l},V=(Re,ke,xe,ye)=>{if(xe instanceof Promise){const P=a(xe,xe.then(l=>{O(Re,ke,l,ye,P)}).catch(l=>{if(l instanceof Promise)return d(l)?l.then(()=>{ie(Re,ke,!0)}):l;j(Re,ke,l,ye,P)}));return L(Re,ke,P,ye)}return O(Re,ke,xe,ye)},ie=(Re,ke,xe)=>{if(!xe){const P=k(Re,ke);if(P){if(P.y&&"p"in P&&!b(P.p))return P;if(P.d.forEach((l,f)=>{if(f!==ke)if(E.has(f)){const D=k(Re,f);D&&!D.y&&ie(Re,f)}else ie(Re,f)}),Array.from(P.d).every(([l,f])=>{const D=k(Re,l);return D&&!("p"in D)&&D.r===f}))return P.y?P:{...P,y:!0}}}const ye=new Set;try{const P=ke.read(l=>{ye.add(l);const f=l===ke?k(Re,l):ie(Re,l);if(f){if("e"in f)throw f.e;if("p"in f)throw f.p;return f.v}if(Z(l))return l.init;throw new Error("no atom init")});return V(Re,ke,P,ye)}catch(P){if(P instanceof Promise){const l=d(P)&&b(P)?(f=>a(f[v].b,f[v].o))(P):a(P,P);return L(Re,ke,l,ye)}return j(Re,ke,P,ye)}},se=(Re,ke)=>ie(ke,Re),ue=(Re,ke)=>!ke.l.size&&(!ke.t.size||ke.t.size===1&&ke.t.has(Re)),pe=(Re,ke)=>{E.get(ke)?.t.forEach(ye=>{ye!==ke&&(((P,l)=>{const f=k(P,l);if(f){const D={...f,y:!1};N(P,l,D)}else console.warn("[Bug] could not invalidate non existing atom",l)})(Re,ye),pe(Re,ye))})},Q=(Re,ke,xe)=>{let ye=!0;const P=(f,D)=>{const H=ie(Re,f);if("e"in H)throw H.e;if("p"in H){if(D?.unstable_promise)return H.p.then(()=>{const J=k(Re,f);return J&&"p"in J&&J.p===H.p?new Promise(re=>setTimeout(re)).then(()=>P(f,D)):P(f,D)});throw console.info("Reading pending atom state in write operation. We throw a promise for now.",f),H.p}if("v"in H)return H.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",f),new Error("no value found")},l=ke.write(P,(f,D)=>{let H;if(f===ke){if(!Z(f))throw new Error("atom not writable");(J=>{const re=new Set,ae=g.get(J);return ae&&(g.delete(J),ae.forEach((ge,_e)=>{T(ge),re.add(_e)})),re})(f).forEach(J=>{J!==Re&&V(J,f,D)}),k(Re,f)!==V(Re,f,D)&&pe(Re,f)}else H=Q(Re,f,D);return ye||qe(Re),H},xe);return ye=!1,l},ee=(Re,ke,xe)=>{const ye=Q(xe,Re,ke);return qe(xe),ye},me=(Re,ke,xe)=>{const ye={t:new Set(xe&&[xe]),l:new Set};if(E.set(ke,ye),o.add(ke),ie(void 0,ke).d.forEach((P,l)=>{const f=E.get(l);f?f.t.add(ke):l!==ke&&me(Re,l,ke)}),(P=>!!P.write)(ke)&&ke.onMount){const P=f=>ee(ke,f,Re),l=ke.onMount(P);Re=void 0,l&&(ye.u=l)}return ye},Te=(Re,ke)=>{var xe;const ye=(xe=E.get(ke))==null?void 0:xe.u;ye&&ye(),E.delete(ke),o.delete(ke);const P=k(Re,ke);P?("p"in P&&T(P.p),P.d.forEach((l,f)=>{if(f!==ke){const D=E.get(f);D&&(D.t.delete(ke),ue(f,D)&&Te(Re,f))}})):console.warn("[Bug] could not find atom state to unmount",ke)},Ue=(Re,ke,xe,ye)=>{const P=new Set(xe.d.keys());ye?.forEach((l,f)=>{if(P.has(f))return void P.delete(f);const D=E.get(f);D&&(D.t.delete(ke),ue(f,D)&&Te(Re,f))}),P.forEach(l=>{const f=E.get(l);f?f.t.add(ke):E.has(ke)&&me(Re,l,ke)})},qe=Re=>{if(Re)u(Re).forEach((ke,xe)=>{ke!==I.get(xe)&&E.get(xe)?.l.forEach(P=>P(Re))});else{for(;p.size;){const ke=Array.from(p);p.clear(),ke.forEach(([xe,ye])=>{const P=k(void 0,xe);if(P&&P.d!==ye?.d&&Ue(void 0,xe,P,ye?.d),ye&&!ye.y&&P?.y)return;E.get(xe)?.l.forEach(f=>f())})}r.forEach(ke=>ke())}},Ae=(Re,ke)=>{ke&&(xe=>{u(xe).forEach((ye,P)=>{const l=I.get(P);(!l||ye.r>l.r||ye.y!==l.y||ye.r===l.r&&ye.d!==l.d)&&(I.set(P,ye),ye.d!==l?.d&&Ue(xe,P,ye,l?.d))})})(ke),qe(void 0)},Oe=(Re,ke,xe)=>{const ye=((l,f)=>{let D=E.get(f);return D||(D=me(l,f)),D})(xe,Re),P=ye.l;return P.add(ke),()=>{P.delete(ke),((l,f)=>{const D=E.get(f);D&&ue(f,D)&&Te(l,f)})(xe,Re)}},Ie=(Re,ke)=>{for(const[xe,ye]of Re)Z(xe)&&(V(ke,xe,ye),pe(ke,xe));qe(ke)};return{[F]:se,[_]:ee,[h]:Ae,[x]:Oe,h:Ie,n:Re=>(r.add(Re),()=>{r.delete(Re)}),l:()=>o.values(),a:Re=>I.get(Re),m:Re=>E.get(Re)}},le=M=>{const I=G(M),E=p=>new Promise((r,o)=>{const g=I.r(p);"e"in g?o(g.e):r("p"in g?g.p.then(()=>E(p)):g.v)});return{get:p=>{const r=I.r(p);if("e"in r)throw r.e;if(!("p"in r))return r.v},asyncGet:E,set:(p,r)=>I.w(p,r),sub:(p,r)=>I.s(p,r),SECRET_INTERNAL_store:I}},he=(M,I)=>({s:I?I(M).SECRET_INTERNAL_store:G(M)}),ve=new Map,fe=M=>(ve.has(M)||ve.set(M,(0,e.createContext)(he())),ve.get(M)),X=({children:M,initialValues:I,scope:E,unstable_createStore:p,unstable_enableVersionedWrite:r})=>{const[o,g]=(0,e.useState)({});(0,e.useEffect)(()=>{const k=s.current;k.w&&(k.s.c(null,o),delete o.p,k.v=o)},[o]);const s=(0,e.useRef)();if(!s.current){const k=he(I,p);if(r){let N=0;k.w=W=>{g(O=>{const j=N?O:{p:O};return W(j),j})},k.v=o,k.r=W=>{++N,W(),--N}}s.current=k}const u=fe(E);return(0,e.createElement)(u.Provider,{value:s.current},M)};function q(M,I){return function(E,p){const r="atom"+ ++w,o={toString:()=>r};return typeof E=="function"?o.read=E:(o.init=E,o.read=g=>g(o),o.write=(g,s,u)=>s(o,typeof u=="function"?u(g(o)):u)),p&&(o.write=p),o}(M,I)}function U(M,I){const E=fe(I),p=(0,e.useContext)(E),{s:r,v:o}=p,g=O=>{const j=r.r(M,O);if(!j.y)throw new Error("should not be invalidated");if("e"in j)throw j.e;if("p"in j)throw j.p;if("v"in j)return j.v;throw new Error("no atom value")},[[s,u,k],N]=(0,e.useReducer)((O,j)=>{const L=g(j);return Object.is(O[1],L)&&O[2]===M?O:[j,L,M]},o,O=>[O,g(O),M]);let W=u;return k!==M&&(N(s),W=g(s)),(0,e.useEffect)(()=>{const{v:O}=p;O&&r.c(M,O);const j=r.s(M,N,O);return N(O),j},[r,M,p]),(0,e.useEffect)(()=>{r.c(M,s)}),(0,e.useDebugValue)(W),W}function R(M,I){const E=fe(I),{s:p,w:r}=(0,e.useContext)(E);return(0,e.useCallback)(o=>{if(!("write"in M))throw new Error("not writable atom");const g=s=>p.w(M,o,s);return r?r(g):g()},[p,r,M])}function B(M,I){return"scope"in M&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),I=M.scope),[U(M,I),R(M,I)]}},5605:function(We,te,t){t.d(te,{x0:function(){return e}});let e=(w=21)=>crypto.getRandomValues(new Uint8Array(w)).reduce((v,d)=>v+=(d&=63)<36?d.toString(36):d<62?(d-26).toString(36).toUpperCase():d>62?"-":"_","")},5284:function(We){We.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(We){We.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","editEmbed":"Edit link & embed","create":"Create link","createEmbed":"Create link & embed","label":"Link","labelEmbed":"Link & embed","empty":"No link is set"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open","selectAllElementsInFrame":"Select all elements in frame","removeAllElementsFromFrame":"Remove all elements from frame","eyeDropper":"Pick color from canvas"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","copyToClipboard":"Copy to clipboard","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","objectsSnapMode":"Snap to objects","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","embed":"Toggle embedding","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm","embeddableInteractionButton":"Click to interact"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","failedToFetchImage":"Failed to fetch image.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","imageToolNotSupported":"Images are disabled.","brave_measure_text_error":{"line1":"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.","line2":"This could result in breaking the <bold>Text Elements</bold> in your drawings.","line3":"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.","line4":"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},"libraryElementTypeError":{"embeddable":"Embeddable elements cannot be added to the library.","image":"Support for adding images to the library coming soon!"},"asyncPasteFailedOnRead":"Couldn't paste (couldn't read from system clipboard).","asyncPasteFailedOnParse":"Couldn't paste.","copyToSystemClipboardFailed":"Couldn't copy to clipboard."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","frame":"Frame tool","embeddable":"Web Embed","laser":"Laser pointer","hand":"Hand (panning tool)","extraTools":"More tools","mermaidToExcalidraw":"Mermaid to Excalidraw"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","embeddable":"Click-drag to create a website embed","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page.","disableSnapping":"Hold CtrlOrCmd to disable snapping"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain":"Encountered an error. Try <button>reloading the page</button>.","clearCanvasMessage":"If reloading doesn't work, try <button>clearing the canvas</button>.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry":"The error with identifier {{eventId}} was tracked on our system.","openIssueMessage":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.","noteGuidelines":"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.","noteLicense":"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.","noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"imageExportDialog":{"header":"Export image","label":{"withBackground":"Background","onlySelected":"Only selected","darkMode":"Dark mode","embedScene":"Embed scene","scale":"Scale","padding":"Padding"},"tooltip":{"embedScene":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size."},"title":{"exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyPngToClipboard":"Copy PNG to clipboard"},"button":{"exportToPng":"PNG","exportToSvg":"SVG","copyPngToClipboard":"Copy to clipboard"}},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor","unableToEmbed":"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted","unrecognizedLinkFormat":"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site"},"colors":{"transparent":"Transparent","black":"Black","white":"White","red":"Red","pink":"Pink","grape":"Grape","violet":"Violet","gray":"Gray","blue":"Blue","cyan":"Cyan","teal":"Teal","green":"Green","yellow":"Yellow","orange":"Orange","bronze":"Bronze"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}},"colorPicker":{"mostUsedCustomColors":"Most used custom colors","colors":"Colors","shades":"Shades","hexCode":"Hex code","noShades":"No shades available for this color"},"overwriteConfirm":{"action":{"exportToImage":{"title":"Export as image","button":"Export as image","description":"Export the scene data as an image from which you can import later."},"saveToDisk":{"title":"Save to disk","button":"Save to disk","description":"Export the scene data to a file from which you can import later."},"excalidrawPlus":{"title":"Excalidraw+","button":"Export to Excalidraw+","description":"Save the scene to your Excalidraw+ workspace."}},"modal":{"loadFromFile":{"title":"Load from file","button":"Load from file","description":"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},"shareableLink":{"title":"Load from link","button":"Replace my content","description":"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},"mermaid":{"title":"Mermaid to Excalidraw","button":"Insert","description":"Currently only <flowchartLink>Flowcharts</flowchartLink> and <sequenceLink>Sequence Diagrams</sequenceLink> are supported. The other types will be rendered as image in Excalidraw.","syntax":"Mermaid Syntax","preview":"Preview"}}`)},4451:function(We){We.exports=JSON.parse('{"ar-SA":99,"az-AZ":18,"bg-BG":75,"bn-BD":55,"ca-ES":81,"cs-CZ":91,"da-DK":31,"de-DE":100,"el-GR":85,"en":100,"es-ES":96,"eu-ES":99,"fa-IR":87,"fi-FI":81,"fr-FR":98,"gl-ES":90,"he-IL":81,"hi-IN":75,"hu-HU":70,"id-ID":96,"it-IT":99,"ja-JP":95,"kaa":34,"kab-KAB":80,"kk-KZ":20,"km-KH":87,"ko-KR":100,"ku-TR":92,"lt-LT":51,"lv-LV":82,"mr-IN":92,"my-MM":37,"nb-NO":99,"nl-NL":79,"nn-NO":71,"oc-FR":79,"pa-IN":82,"pl-PL":100,"pt-BR":96,"pt-PT":88,"ro-RO":98,"ru-RU":94,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":85,"th-TH":46,"tr-TR":91,"uk-UA":99,"vi-VN":51,"zh-CN":99,"zh-HK":24,"zh-TW":100}')}},yt={};function Et(We){var te=yt[We];if(te!==void 0)return te.exports;var t=yt[We]={id:We,exports:{}};return mt[We].call(t.exports,t,t.exports,Et),t.exports}Et.m=mt,Et.n=function(We){var te=We&&We.__esModule?function(){return We.default}:function(){return We};return Et.d(te,{a:te}),te},Ne=Object.getPrototypeOf?function(We){return Object.getPrototypeOf(We)}:function(We){return We.__proto__},Et.t=function(We,te){if(1&te&&(We=this(We)),8&te||typeof We=="object"&&We&&(4&te&&We.__esModule||16&te&&typeof We.then=="function"))return We;var t=Object.create(null);Et.r(t);var e={};Ce=Ce||[null,Ne({}),Ne([]),Ne(Ne)];for(var w=2&te&&We;typeof w=="object"&&!~Ce.indexOf(w);w=Ne(w))Object.getOwnPropertyNames(w).forEach(function(v){e[v]=function(){return We[v]}});return e.default=function(){return We},Et.d(t,e),t},Et.d=function(We,te){for(var t in te)Et.o(te,t)&&!Et.o(We,t)&&Object.defineProperty(We,t,{enumerable:!0,get:te[t]})},Et.f={},Et.e=function(We){return Promise.all(Object.keys(Et.f).reduce(function(te,t){return Et.f[t](We,te),te},[]))},Et.u=function(We){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",663:"locales/kaa-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4568:"locales/az-AZ-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6566:"locales/km-KH-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[We]+"-"+{22:"2224f237cc93465f126f",537:"9a390d3cc7a7a6226b63",663:"4d0a4868835d0334a549",1204:"2cb067da0fb518e73564",1302:"4921d4298abfa256fe6f",1477:"3ba296b6fcf2a2197a7c",1513:"4cbc2dbda5a5df636ee1",1628:"42fb0378311f3ade2627",1690:"644a5eaa1311f70cb697",1790:"a94944ac6fa9756d2fac",2091:"db7c644ccbeb85d54a47",2312:"a7bc2a673875b2e655e1",2359:"798d785698d467e76fcf",2404:"2fa1854af68381c61913",2943:"d11c7966c3c2f95756e0",3024:"2cf913fe2f491c5d7075",3031:"bafa8865ed7002bb249e",3082:"d82053ab52357510811b",3162:"165c5c2760688033b2cc",3397:"ad1359c30c334d05eee0",3421:"5a3fa7cacfa83c411d89",3512:"64c8902f10425e1b2e81",3674:"35c1f168f53af24b657a",3682:"d16a471290ba26a6c66a",3721:"370215dc506c58ee3217",3808:"6542dd92ab54a2c1c48e",3885:"aa607835ad9408789c5f",4e3:"9c1c2a9fa9d6b5a58223",4568:"08a6de50238dbb21926c",4680:"069c304b5011429be615",4736:"677e88ca78c86bddf13d",4977:"fc9b16e9dc2be2660439",5089:"3c32b962880e225d3416",5130:"a6b2c18f7e85cfd11599",5330:"76b039039b043cc4280c",5395:"6f3d80656622a222b4e2",6071:"efb839ef0456f5c72e6e",6239:"ab410570df07304cb0ca",6265:"ea03835d73f9b921f7c4",6566:"cbe8e2e8d26d30a3175c",6768:"f7f9363e42ee2e3a7c67",6844:"c2387972637d47f15765",7368:"0419027d32efac73d518",7429:"9ad9e5ae95c4c66297b1",7759:"82753e98dced302ac187",7920:"d9bf1e4e2d1f8650c680",8081:"671a4afcfce7b0a7660b",8124:"e1f4ed9d2d074f778304",8340:"9b7e91a51b90ee551cad",8534:"cfab3adbd37dd273c61e",8750:"27b59d7e026675f929c4",8759:"7afb66536ee40d852fa2",9551:"0d400ba2836cc0752cd6",9828:"4947c9dace32cc3c6eef"}[We]+".js"},Et.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Et.o=function(We,te){return Object.prototype.hasOwnProperty.call(We,te)},Ge={},$e="ExcalidrawLib:",Et.l=function(We,te,t,e){if(Ge[We])Ge[We].push(te);else{var w,v;if(t!==void 0)for(var d=document.getElementsByTagName("script"),b=0;b<d.length;b++){var T=d[b];if(T.getAttribute("src")==We||T.getAttribute("data-webpack")==$e+t){w=T;break}}w||(v=!0,(w=document.createElement("script")).charset="utf-8",w.timeout=120,Et.nc&&w.setAttribute("nonce",Et.nc),w.setAttribute("data-webpack",$e+t),w.src=We),Ge[We]=[te];var S=function(c,Z){w.onerror=w.onload=null,clearTimeout(a);var F=Ge[We];if(delete Ge[We],w.parentNode&&w.parentNode.removeChild(w),F&&F.forEach(function(_){return _(Z)}),c)return c(Z)},a=setTimeout(S.bind(null,void 0,{type:"timeout",target:w}),12e4);w.onerror=S.bind(null,w.onerror),w.onload=S.bind(null,w.onload),v&&document.head.appendChild(w)}},Et.r=function(We){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(We,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(We,"__esModule",{value:!0})},Et.p="",function(){Et.b=document.baseURI||self.location.href;var We={1388:0};Et.f.j=function(e,w){var v=Et.o(We,e)?We[e]:void 0;if(v!==0)if(v)w.push(v[2]);else{var d=new Promise(function(S,a){v=We[e]=[S,a]});w.push(v[2]=d);var b=Et.p+Et.u(e),T=new Error;Et.l(b,function(S){if(Et.o(We,e)&&((v=We[e])!==0&&(We[e]=void 0),v)){var a=S&&(S.type==="load"?"missing":S.type),c=S&&S.target&&S.target.src;T.message="Loading chunk "+e+` failed.
(`+a+": "+c+")",T.name="ChunkLoadError",T.type=a,T.request=c,v[1](T)}},"chunk-"+e,e)}};var te=function(e,w){var v,d,b=w[0],T=w[1],S=w[2],a=0;if(b.some(function(c){return We[c]!==0})){for(v in T)Et.o(T,v)&&(Et.m[v]=T[v]);S&&S(Et)}for(e&&e(w);a<b.length;a++)d=b[a],Et.o(We,d)&&We[d]&&We[d][0](),We[d]=0},t=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];t.forEach(te.bind(null,0)),t.push=te.bind(null,t.push.bind(t))}(),Et.nc=void 0;var ft={};return function(){Et.r(ft),Et.d(ft,{Button:function(){return h.zx},DefaultSidebar:function(){return h.Or},Excalidraw:function(){return h.Eb},FONT_FAMILY:function(){return h.ut},Footer:function(){return h.$_},LiveCollaborationTrigger:function(){return h.vO},MIME_TYPES:function(){return h.LO},MainMenu:function(){return h.lb},Sidebar:function(){return h.YE},THEME:function(){return h.C6},WelcomeScreen:function(){return h.B4},bumpVersion:function(){return h.ZP},convertToExcalidrawElements:function(){return h.wc},defaultLang:function(){return h.Fp},elementPartiallyOverlapsWithOrContainsBBox:function(){return h.sQ},elementsOverlappingBBox:function(){return h.Xs},exportToBlob:function(){return h.Fl},exportToCanvas:function(){return h.NL},exportToClipboard:function(){return h.i1},exportToSvg:function(){return h.$D},getCommonBounds:function(){return h.KP},getFreeDrawSvgPath:function(){return h.N7},getNonDeletedElements:function(){return h.Lm},getSceneVersion:function(){return h.Uo},isElementInsideBBox:function(){return h.Ne},isInvisiblySmallElement:function(){return h.QD},isLinearElement:function(){return h.bt},languages:function(){return h.Mj},loadFromBlob:function(){return h.cT},loadLibraryFromBlob:function(){return h.lV},loadSceneOrLibraryFromBlob:function(){return h.ZY},mergeLibraryItems:function(){return h.zh},mutateElement:function(){return h.DR},newElementWith:function(){return h.BE},normalizeLink:function(){return h.$u},parseLibraryTokensFromUrl:function(){return h.Di},restore:function(){return h.nu},restoreAppState:function(){return h.lY},restoreElements:function(){return h.ET},restoreLibraryItems:function(){return h.wJ},sceneCoordsToViewportCoords:function(){return h._i},serializeAsJSON:function(){return h.I_},serializeLibraryAsJSON:function(){return h.NI},useDevice:function(){return h.Fy},useHandleLibrary:function(){return h.xS},useI18n:function(){return h.QT},viewportCoordsToSceneCoords:function(){return h.dE}}),Et(9937).Vi.TEST!=="production"&&(Et.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.17.6","/dist/"));var We=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(x){if((x=Math.trunc(x)||0)<0&&(x+=this.length),!(x<0||x>=this.length))return this[x]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(){this.innerHTML="",this.append.apply(this,arguments)})},te=Et(3379),t=Et.n(te),e=Et(7795),w=Et.n(e),v=Et(569),d=Et.n(v),b=Et(3565),T=Et.n(b),S=Et(9216),a=Et.n(S),c=Et(4589),Z=Et.n(c),F=Et(4295),_={};_.styleTagTransform=Z(),_.setAttributes=T(),_.insert=d().bind(null,"head"),_.domAPI=w(),_.insertStyleElement=a(),t()(F.Z,_),F.Z&&F.Z.locals&&F.Z.locals;var h=Et(4864);We()}(),ft}()})}(Up)),Up.exports}var $p;function aw(){if($p)return Ou.exports;$p=1;var n={};return n.IS_PREACT==="true"?Ou.exports=ow():Ou.exports=iw(),Ou.exports}var $l=aw();const Vp=n=>{let m;const A=new Set,ce=($e,mt)=>{const yt=typeof $e=="function"?$e(m):$e;if(!Object.is(yt,m)){const Et=m;m=mt??(typeof yt!="object"||yt===null)?yt:Object.assign({},m,yt),A.forEach(ft=>ft(m,Et))}},Ce=()=>m,Ne={setState:ce,getState:Ce,getInitialState:()=>Ge,subscribe:$e=>(A.add($e),()=>A.delete($e))},Ge=m=n(ce,Ce,Ne);return Ne},lw=n=>n?Vp(n):Vp,sw=n=>n;function cw(n,m=sw){const A=Jo.useSyncExternalStore(n.subscribe,()=>m(n.getState()),()=>m(n.getInitialState()));return Jo.useDebugValue(A),A}const Yp=n=>{const m=lw(n),A=ce=>cw(m,ce);return Object.assign(A,m),A},Rc=n=>n?Yp(n):Yp,fc=Rc((n,m)=>({excalidrawAPI:null,setExcalidrawAPI:A=>n({excalidrawAPI:A}),resetExcalidrawAPI:()=>n({excalidrawAPI:null}),scrollToContent:()=>{const{excalidrawAPI:A}=m();if(!A)return;const ce=A.getSceneElements();A.scrollToContent(ce,{fitToContent:!0,animate:!0,duration:500})}})),d0=()=>{let n,m;const A=new Promise((ce,Ce)=>{n=ce,m=Ce});return A.resolve=n,A.reject=m,A},Li=Rc()((n,m)=>({fileId:0,fileName:"",publicSharingToken:null,isReadOnly:!1,isEmbedded:!1,initialDataPromise:d0(),collabBackendUrl:"",zenModeEnabled:!1,gridModeEnabled:!1,setConfig:A=>{n(A)},resolveInitialData:A=>{console.log("[WhiteboardConfigStore] Resolving initial data:",{elementCount:A.elements?A.elements.length:0,firstElement:A.elements&&A.elements.length>0?A.elements[0].type:"none",hasFiles:!!A.files&&Object.keys(A.files).length>0,hasAppState:!!A.appState}),m().initialDataPromise.resolve(A),console.log("[WhiteboardConfigStore] Initial data loaded and resolved")},resetInitialDataPromise:()=>n({initialDataPromise:d0()}),resetStore:()=>{console.log("[WhiteboardConfigStore] Resetting store state");const{fileId:A,fileName:ce,publicSharingToken:Ce,isEmbedded:Ne,collabBackendUrl:Ge}=m();n({fileId:A,fileName:ce,publicSharingToken:Ce,isEmbedded:Ne,collabBackendUrl:Ge,isReadOnly:!1,initialDataPromise:d0(),zenModeEnabled:!1,gridModeEnabled:!1})},setZenModeEnabled:A=>n({zenModeEnabled:A}),setGridModeEnabled:A=>n({gridModeEnabled:A}),setReadOnly:A=>{n({isReadOnly:A}),console.log(`[WhiteboardConfigStore] Read-only state set to: ${A}`)}}));function uw(){const[n,m]=lo.useState("light"),A=()=>{const ce=document.body.dataset?.themes;return window.matchMedia("(prefers-color-scheme: dark)").matches&&(ce===void 0||ce?.indexOf("light")===-1)||ce?.indexOf("dark")>-1};return lo.useEffect(()=>{m(A()?"dark":"light")},[]),lo.useEffect(()=>{const ce=()=>m(A()?"dark":"light"),Ce=window.matchMedia("(prefers-color-scheme: dark)");return Ce.addEventListener("change",ce),()=>{Ce.removeEventListener("change",ce)}},[]),{theme:n}}var Au={exports:{}},dw=Au.exports,Gp;function fw(){return Gp||(Gp=1,function(n,m){(function(){var A,ce="4.17.21",Ce=200,Ne="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Ge="Expected a function",$e="Invalid `variable` option passed into `_.template`",mt="__lodash_hash_undefined__",yt=500,Et="__lodash_placeholder__",ft=1,We=2,te=4,t=1,e=2,w=1,v=2,d=4,b=8,T=16,S=32,a=64,c=128,Z=256,F=512,_=30,h="...",x=800,G=16,le=1,he=2,ve=3,fe=1/0,X=9007199254740991,q=17976931348623157e292,U=NaN,R=4294967295,B=R-1,M=R>>>1,I=[["ary",c],["bind",w],["bindKey",v],["curry",b],["curryRight",T],["flip",F],["partial",S],["partialRight",a],["rearg",Z]],E="[object Arguments]",p="[object Array]",r="[object AsyncFunction]",o="[object Boolean]",g="[object Date]",s="[object DOMException]",u="[object Error]",k="[object Function]",N="[object GeneratorFunction]",W="[object Map]",O="[object Number]",j="[object Null]",L="[object Object]",V="[object Promise]",ie="[object Proxy]",se="[object RegExp]",ue="[object Set]",pe="[object String]",Q="[object Symbol]",ee="[object Undefined]",me="[object WeakMap]",Te="[object WeakSet]",Ue="[object ArrayBuffer]",qe="[object DataView]",Ae="[object Float32Array]",Oe="[object Float64Array]",Ie="[object Int8Array]",Re="[object Int16Array]",ke="[object Int32Array]",xe="[object Uint8Array]",ye="[object Uint8ClampedArray]",P="[object Uint16Array]",l="[object Uint32Array]",f=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,re=/[&<>"']/g,ae=RegExp(J.source),ge=RegExp(re.source),_e=/<%-([\s\S]+?)%>/g,ze=/<%([\s\S]+?)%>/g,Je=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ke=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ut=/[\\^$.*+?()[\]{}|]/g,ht=RegExp(ut.source),He=/^\s+/,Ee=/\s/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qe=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wt=/[()=,{}\[\]\/\s]/,zt=/\\(\\)?/g,Mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zt=/\w*$/,sn=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,Xt=/^\[object .+?Constructor\]$/,on=/^0o[0-7]+$/i,jn=/^(?:0|[1-9]\d*)$/,It=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kt=/($^)/,Ht=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",Wt="\\u0300-\\u036f",Kt="\\ufe20-\\ufe2f",an="\\u20d0-\\u20ff",bn=Wt+Kt+an,hn="\\u2700-\\u27bf",An="a-z\\xdf-\\xf6\\xf8-\\xff",Yn="\\xac\\xb1\\xd7\\xf7",tr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Sn="\\u2000-\\u206f",Bt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dn="A-Z\\xc0-\\xd6\\xd8-\\xde",un="\\ufe0e\\ufe0f",Bn=Yn+tr+Sn+Bt,Jn="['’]",cr="["+At+"]",kr="["+Bn+"]",fr="["+bn+"]",pn="\\d+",Nt="["+hn+"]",Ft="["+An+"]",qt="[^"+At+Bn+pn+hn+An+dn+"]",kn="\\ud83c[\\udffb-\\udfff]",$n="(?:"+fr+"|"+kn+")",Hn="[^"+At+"]",Qn="(?:\\ud83c[\\udde6-\\uddff]){2}",ir="[\\ud800-\\udbff][\\udc00-\\udfff]",Fn="["+dn+"]",yr="\\u200d",lr="(?:"+Ft+"|"+qt+")",Gn="(?:"+Fn+"|"+qt+")",Xn="(?:"+Jn+"(?:d|ll|m|re|s|t|ve))?",er="(?:"+Jn+"(?:D|LL|M|RE|S|T|VE))?",pr=$n+"?",vr="["+un+"]?",xr="(?:"+yr+"(?:"+[Hn,Qn,ir].join("|")+")"+vr+pr+")*",$r="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",io="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Eo=vr+pr+xr,Ro="(?:"+[Nt,Qn,ir].join("|")+")"+Eo,Bo="(?:"+[Hn+fr+"?",fr,Qn,ir,cr].join("|")+")",Do=RegExp(Jn,"g"),bo=RegExp(fr,"g"),Zo=RegExp(kn+"(?="+kn+")|"+Bo+Eo,"g"),rt=RegExp([Fn+"?"+Ft+"+"+Xn+"(?="+[kr,Fn,"$"].join("|")+")",Gn+"+"+er+"(?="+[kr,Fn+lr,"$"].join("|")+")",Fn+"?"+lr+"+"+Xn,Fn+"+"+er,io,$r,pn,Ro].join("|"),"g"),Se=RegExp("["+yr+At+bn+un+"]"),Ze=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ve=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pt=-1,Vt={};Vt[Ae]=Vt[Oe]=Vt[Ie]=Vt[Re]=Vt[ke]=Vt[xe]=Vt[ye]=Vt[P]=Vt[l]=!0,Vt[E]=Vt[p]=Vt[Ue]=Vt[o]=Vt[qe]=Vt[g]=Vt[u]=Vt[k]=Vt[W]=Vt[O]=Vt[L]=Vt[se]=Vt[ue]=Vt[pe]=Vt[me]=!1;var cn={};cn[E]=cn[p]=cn[Ue]=cn[qe]=cn[o]=cn[g]=cn[Ae]=cn[Oe]=cn[Ie]=cn[Re]=cn[ke]=cn[W]=cn[O]=cn[L]=cn[se]=cn[ue]=cn[pe]=cn[Q]=cn[xe]=cn[ye]=cn[P]=cn[l]=!0,cn[u]=cn[k]=cn[me]=!1;var Mn={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},nn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ln={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qn=parseFloat,hr=parseInt,br=typeof qc=="object"&&qc&&qc.Object===Object&&qc,Mr=typeof self=="object"&&self&&self.Object===Object&&self,Or=br||Mr||Function("return this")(),Er=m&&!m.nodeType&&m,Cr=Er&&!0&&n&&!n.nodeType&&n,no=Cr&&Cr.exports===Er,yo=no&&br.process,jo=function(){try{var Ot=Cr&&Cr.require&&Cr.require("util").types;return Ot||yo&&yo.binding&&yo.binding("util")}catch{}}(),ei=jo&&jo.isArrayBuffer,vi=jo&&jo.isDate,Gr=jo&&jo.isMap,Ir=jo&&jo.isRegExp,uo=jo&&jo.isSet,Co=jo&&jo.isTypedArray;function Oo(Ot,Gt,Tt){switch(Tt.length){case 0:return Ot.call(Gt);case 1:return Ot.call(Gt,Tt[0]);case 2:return Ot.call(Gt,Tt[0],Tt[1]);case 3:return Ot.call(Gt,Tt[0],Tt[1],Tt[2])}return Ot.apply(Gt,Tt)}function di(Ot,Gt,Tt,mn){for(var Jt=-1,On=Ot==null?0:Ot.length;++Jt<On;){var In=Ot[Jt];Gt(mn,In,Tt(In),Ot)}return mn}function ri(Ot,Gt){for(var Tt=-1,mn=Ot==null?0:Ot.length;++Tt<mn&&Gt(Ot[Tt],Tt,Ot)!==!1;);return Ot}function ni(Ot,Gt){for(var Tt=Ot==null?0:Ot.length;Tt--&&Gt(Ot[Tt],Tt,Ot)!==!1;);return Ot}function bi(Ot,Gt){for(var Tt=-1,mn=Ot==null?0:Ot.length;++Tt<mn;)if(!Gt(Ot[Tt],Tt,Ot))return!1;return!0}function ji(Ot,Gt){for(var Tt=-1,mn=Ot==null?0:Ot.length,Jt=0,On=[];++Tt<mn;){var In=Ot[Tt];Gt(In,Tt,Ot)&&(On[Jt++]=In)}return On}function wa(Ot,Gt){var Tt=Ot==null?0:Ot.length;return!!Tt&&oa(Ot,Gt,0)>-1}function ka(Ot,Gt,Tt){for(var mn=-1,Jt=Ot==null?0:Ot.length;++mn<Jt;)if(Tt(Gt,Ot[mn]))return!0;return!1}function ki(Ot,Gt){for(var Tt=-1,mn=Ot==null?0:Ot.length,Jt=Array(mn);++Tt<mn;)Jt[Tt]=Gt(Ot[Tt],Tt,Ot);return Jt}function Ea(Ot,Gt){for(var Tt=-1,mn=Gt.length,Jt=Ot.length;++Tt<mn;)Ot[Jt+Tt]=Gt[Tt];return Ot}function Ma(Ot,Gt,Tt,mn){var Jt=-1,On=Ot==null?0:Ot.length;for(mn&&On&&(Tt=Ot[++Jt]);++Jt<On;)Tt=Gt(Tt,Ot[Jt],Jt,Ot);return Tt}function qa(Ot,Gt,Tt,mn){var Jt=Ot==null?0:Ot.length;for(mn&&Jt&&(Tt=Ot[--Jt]);Jt--;)Tt=Gt(Tt,Ot[Jt],Jt,Ot);return Tt}function zi(Ot,Gt){for(var Tt=-1,mn=Ot==null?0:Ot.length;++Tt<mn;)if(Gt(Ot[Tt],Tt,Ot))return!0;return!1}var ra=ia("length");function Ai(Ot){return Ot.split("")}function Ni(Ot){return Ot.match(bt)||[]}function Xa(Ot,Gt,Tt){var mn;return Tt(Ot,function(Jt,On,In){if(Gt(Jt,On,In))return mn=On,!1}),mn}function Aa(Ot,Gt,Tt,mn){for(var Jt=Ot.length,On=Tt+(mn?1:-1);mn?On--:++On<Jt;)if(Gt(Ot[On],On,Ot))return On;return-1}function oa(Ot,Gt,Tt){return Gt===Gt?Wi(Ot,Gt,Tt):Aa(Ot,Ki,Tt)}function Ji(Ot,Gt,Tt,mn){for(var Jt=Tt-1,On=Ot.length;++Jt<On;)if(mn(Ot[Jt],Gt))return Jt;return-1}function Ki(Ot){return Ot!==Ot}function ca(Ot,Gt){var Tt=Ot==null?0:Ot.length;return Tt?Ka(Ot,Gt)/Tt:U}function ia(Ot){return function(Gt){return Gt==null?A:Gt[Ot]}}function ma(Ot){return function(Gt){return Ot==null?A:Ot[Gt]}}function ga(Ot,Gt,Tt,mn,Jt){return Jt(Ot,function(On,In,gn){Tt=mn?(mn=!1,On):Gt(Tt,On,In,gn)}),Tt}function Ta(Ot,Gt){var Tt=Ot.length;for(Ot.sort(Gt);Tt--;)Ot[Tt]=Ot[Tt].value;return Ot}function Ka(Ot,Gt){for(var Tt,mn=-1,Jt=Ot.length;++mn<Jt;){var On=Gt(Ot[mn]);On!==A&&(Tt=Tt===A?On:Tt+On)}return Tt}function Pa(Ot,Gt){for(var Tt=-1,mn=Array(Ot);++Tt<Ot;)mn[Tt]=Gt(Tt);return mn}function Ra(Ot,Gt){return ki(Gt,function(Tt){return[Tt,Ot[Tt]]})}function $i(Ot){return Ot&&Ot.slice(0,nt(Ot)+1).replace(He,"")}function mi(Ot){return function(Gt){return Ot(Gt)}}function Qi(Ot,Gt){return ki(Gt,function(Tt){return Ot[Tt]})}function Ri(Ot,Gt){return Ot.has(Gt)}function Sa(Ot,Gt){for(var Tt=-1,mn=Ot.length;++Tt<mn&&oa(Gt,Ot[Tt],0)>-1;);return Tt}function yl(Ot,Gt){for(var Tt=Ot.length;Tt--&&oa(Gt,Ot[Tt],0)>-1;);return Tt}function xl(Ot,Gt){for(var Tt=Ot.length,mn=0;Tt--;)Ot[Tt]===Gt&&++mn;return mn}var Nl=ma(Mn),Za=ma(nn);function aa(Ot){return"\\"+Zn[Ot]}function yi(Ot,Gt){return Ot==null?A:Ot[Gt]}function Vi(Ot){return Se.test(Ot)}function ua(Ot){return Ze.test(Ot)}function Bl(Ot){for(var Gt,Tt=[];!(Gt=Ot.next()).done;)Tt.push(Gt.value);return Tt}function za(Ot){var Gt=-1,Tt=Array(Ot.size);return Ot.forEach(function(mn,Jt){Tt[++Gt]=[Jt,mn]}),Tt}function Ja(Ot,Gt){return function(Tt){return Ot(Gt(Tt))}}function ea(Ot,Gt){for(var Tt=-1,mn=Ot.length,Jt=0,On=[];++Tt<mn;){var In=Ot[Tt];(In===Gt||In===Et)&&(Ot[Tt]=Et,On[Jt++]=Tt)}return On}function ja(Ot){var Gt=-1,Tt=Array(Ot.size);return Ot.forEach(function(mn){Tt[++Gt]=mn}),Tt}function Bi(Ot){var Gt=-1,Tt=Array(Ot.size);return Ot.forEach(function(mn){Tt[++Gt]=[mn,mn]}),Tt}function Wi(Ot,Gt,Tt){for(var mn=Tt-1,Jt=Ot.length;++mn<Jt;)if(Ot[mn]===Gt)return mn;return-1}function wl(Ot,Gt,Tt){for(var mn=Tt+1;mn--;)if(Ot[mn]===Gt)return mn;return mn}function be(Ot){return Vi(Ot)?xt(Ot):ra(Ot)}function De(Ot){return Vi(Ot)?Pt(Ot):Ai(Ot)}function nt(Ot){for(var Gt=Ot.length;Gt--&&Ee.test(Ot.charAt(Gt)););return Gt}var dt=ma(ln);function xt(Ot){for(var Gt=Zo.lastIndex=0;Zo.test(Ot);)++Gt;return Gt}function Pt(Ot){return Ot.match(Zo)||[]}function en(Ot){return Ot.match(rt)||[]}var Cn=function Ot(Gt){Gt=Gt==null?Or:Wn.defaults(Or.Object(),Gt,Wn.pick(Or,Ve));var Tt=Gt.Array,mn=Gt.Date,Jt=Gt.Error,On=Gt.Function,In=Gt.Math,gn=Gt.Object,nr=Gt.RegExp,ur=Gt.String,dr=Gt.TypeError,jr=Tt.prototype,Vr=On.prototype,qr=gn.prototype,Wr=Gt["__core-js_shared__"],Yr=Vr.toString,Tr=qr.hasOwnProperty,Br=0,ro=function(){var y=/[^.]+$/.exec(Wr&&Wr.keys&&Wr.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),so=qr.toString,fo=Yr.call(gn),Mo=Or._,Zi=nr("^"+Yr.call(Tr).replace(ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ao=no?Gt.Buffer:A,at=Gt.Symbol,Me=Gt.Uint8Array,Ye=Ao?Ao.allocUnsafe:A,Xe=Ja(gn.getPrototypeOf,gn),lt=gn.create,gt=qr.propertyIsEnumerable,Ct=jr.splice,_t=at?at.isConcatSpreadable:A,Dt=at?at.iterator:A,wn=at?at.toStringTag:A,Pn=function(){try{var y=nc(gn,"defineProperty");return y({},"",{}),y}catch{}}(),fn=Gt.clearTimeout!==Or.clearTimeout&&Gt.clearTimeout,_n=mn&&mn.now!==Or.Date.now&&mn.now,zn=Gt.setTimeout!==Or.setTimeout&&Gt.setTimeout,Nn=In.ceil,Rn=In.floor,Tn=gn.getOwnPropertySymbols,Vn=Ao?Ao.isBuffer:A,sr=Gt.isFinite,mr=jr.join,or=Ja(gn.keys,gn),ar=In.max,Pr=In.min,Hr=mn.now,Dr=Gt.parseInt,Lr=In.random,Xr=jr.reverse,Jr=nc(Gt,"DataView"),co=nc(Gt,"Map"),po=nc(Gt,"Promise"),xo=nc(Gt,"Set"),Ho=nc(Gt,"WeakMap"),gi=nc(gn,"create"),Si=Ho&&new Ho,_i={},da=rc(Jr),ta=rc(co),li=rc(po),hi=rc(xo),xi=rc(Ho),oi=at?at.prototype:A,si=oi?oi.valueOf:A,Ti=oi?oi.toString:A;function Rt(y){if(ha(y)&&!ii(y)&&!(y instanceof Yo)){if(y instanceof Pi)return y;if(Tr.call(y,"__wrapped__"))return Qf(y)}return new Pi(y)}var Yi=function(){function y(){}return function(Y){if(!sa(Y))return{};if(lt)return lt(Y);y.prototype=Y;var je=new y;return y.prototype=A,je}}();function Gi(){}function Pi(y,Y){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!Y,this.__index__=0,this.__values__=A}Rt.templateSettings={escape:_e,evaluate:ze,interpolate:Je,variable:"",imports:{_:Rt}},Rt.prototype=Gi.prototype,Rt.prototype.constructor=Rt,Pi.prototype=Yi(Gi.prototype),Pi.prototype.constructor=Pi;function Yo(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function Na(){var y=new Yo(this.__wrapped__);return y.__actions__=hl(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=hl(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=hl(this.__views__),y}function ul(){if(this.__filtered__){var y=new Yo(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function es(){var y=this.__wrapped__.value(),Y=this.__dir__,je=ii(y),ot=Y<0,St=je?y.length:0,Yt=Gg(0,St,this.__views__),Ln=Yt.start,Kn=Yt.end,rr=Kn-Ln,Ar=ot?Kn:Ln-1,Zr=this.__iteratees__,Kr=Zr.length,go=0,Io=Pr(rr,this.__takeCount__);if(!je||!ot&&St==rr&&Io==rr)return rs(y,this.__actions__);var Fo=[];e:for(;rr--&&go<Io;){Ar+=Y;for(var pi=-1,Uo=y[Ar];++pi<Kr;){var wi=Zr[pi],Ci=wi.iteratee,Cl=wi.type,cl=Ci(Uo);if(Cl==he)Uo=cl;else if(!cl){if(Cl==le)continue e;break e}}Fo[go++]=Uo}return Fo}Yo.prototype=Yi(Gi.prototype),Yo.prototype.constructor=Yo;function Ba(y){var Y=-1,je=y==null?0:y.length;for(this.clear();++Y<je;){var ot=y[Y];this.set(ot[0],ot[1])}}function Wl(){this.__data__=gi?gi(null):{},this.size=0}function kl(y){var Y=this.has(y)&&delete this.__data__[y];return this.size-=Y?1:0,Y}function El(y){var Y=this.__data__;if(gi){var je=Y[y];return je===mt?A:je}return Tr.call(Y,y)?Y[y]:A}function Wa(y){var Y=this.__data__;return gi?Y[y]!==A:Tr.call(Y,y)}function va(y,Y){var je=this.__data__;return this.size+=this.has(y)?0:1,je[y]=gi&&Y===A?mt:Y,this}Ba.prototype.clear=Wl,Ba.prototype.delete=kl,Ba.prototype.get=El,Ba.prototype.has=Wa,Ba.prototype.set=va;function la(y){var Y=-1,je=y==null?0:y.length;for(this.clear();++Y<je;){var ot=y[Y];this.set(ot[0],ot[1])}}function Fi(){this.__data__=[],this.size=0}function Oi(y){var Y=this.__data__,je=$a(Y,y);if(je<0)return!1;var ot=Y.length-1;return je==ot?Y.pop():Ct.call(Y,je,1),--this.size,!0}function fa(y){var Y=this.__data__,je=$a(Y,y);return je<0?A:Y[je][1]}function Qa(y){return $a(this.__data__,y)>-1}function Sl(y,Y){var je=this.__data__,ot=$a(je,y);return ot<0?(++this.size,je.push([y,Y])):je[ot][1]=Y,this}la.prototype.clear=Fi,la.prototype.delete=Oi,la.prototype.get=fa,la.prototype.has=Qa,la.prototype.set=Sl;function wr(y){var Y=-1,je=y==null?0:y.length;for(this.clear();++Y<je;){var ot=y[Y];this.set(ot[0],ot[1])}}function Sr(){this.size=0,this.__data__={hash:new Ba,map:new(co||la),string:new Ba}}function el(y){var Y=bu(this,y).delete(y);return this.size-=Y?1:0,Y}function tl(y){return bu(this,y).get(y)}function nl(y){return bu(this,y).has(y)}function Pl(y,Y){var je=bu(this,y),ot=je.size;return je.set(y,Y),this.size+=je.size==ot?0:1,this}wr.prototype.clear=Sr,wr.prototype.delete=el,wr.prototype.get=tl,wr.prototype.has=nl,wr.prototype.set=Pl;function rl(y){var Y=-1,je=y==null?0:y.length;for(this.__data__=new wr;++Y<je;)this.add(y[Y])}function fs(y){return this.__data__.set(y,mt),this}function ps(y){return this.__data__.has(y)}rl.prototype.add=rl.prototype.push=fs,rl.prototype.has=ps;function Oa(y){var Y=this.__data__=new la(y);this.size=Y.size}function hs(){this.__data__=new la,this.size=0}function Ps(y){var Y=this.__data__,je=Y.delete(y);return this.size=Y.size,je}function ms(y){return this.__data__.get(y)}function ts(y){return this.__data__.has(y)}function Is(y,Y){var je=this.__data__;if(je instanceof la){var ot=je.__data__;if(!co||ot.length<Ce-1)return ot.push([y,Y]),this.size=++je.size,this;je=this.__data__=new wr(ot)}return je.set(y,Y),this.size=je.size,this}Oa.prototype.clear=hs,Oa.prototype.delete=Ps,Oa.prototype.get=ms,Oa.prototype.has=ts,Oa.prototype.set=Is;function Ds(y,Y){var je=ii(y),ot=!je&&oc(y),St=!je&&!ot&&Ws(y),Yt=!je&&!ot&&!St&&wc(y),Ln=je||ot||St||Yt,Kn=Ln?Pa(y.length,ur):[],rr=Kn.length;for(var Ar in y)(Y||Tr.call(y,Ar))&&!(Ln&&(Ar=="length"||St&&(Ar=="offset"||Ar=="parent")||Yt&&(Ar=="buffer"||Ar=="byteLength"||Ar=="byteOffset")||xs(Ar,rr)))&&Kn.push(Ar);return Kn}function Ls(y){var Y=y.length;return Y?y[Ko(0,Y-1)]:A}function As(y,Y){return yu(hl(y),Ha(Y,0,y.length))}function Rs(y){return yu(hl(y))}function Il(y,Y,je){(je!==A&&!Fl(y[Y],je)||je===A&&!(Y in y))&&pa(y,Y,je)}function ol(y,Y,je){var ot=y[Y];(!(Tr.call(y,Y)&&Fl(ot,je))||je===A&&!(Y in y))&&pa(y,Y,je)}function $a(y,Y){for(var je=y.length;je--;)if(Fl(y[je][0],Y))return je;return-1}function il(y,Y,je,ot){return Qo(y,function(St,Yt,Ln){Y(ot,St,je(St),Ln)}),ot}function Dl(y,Y){return y&&as(Y,La(Y),y)}function gs(y,Y){return y&&as(Y,gl(Y),y)}function pa(y,Y,je){Y=="__proto__"&&Pn?Pn(y,Y,{configurable:!0,enumerable:!0,value:je,writable:!0}):y[Y]=je}function Ia(y,Y){for(var je=-1,ot=Y.length,St=Tt(ot),Yt=y==null;++je<ot;)St[je]=Yt?A:e0(y,Y[je]);return St}function Ha(y,Y,je){return y===y&&(je!==A&&(y=y<=je?y:je),Y!==A&&(y=y>=Y?y:Y)),y}function _a(y,Y,je,ot,St,Yt){var Ln,Kn=Y&ft,rr=Y&We,Ar=Y&te;if(je&&(Ln=St?je(y,ot,St,Yt):je(y)),Ln!==A)return Ln;if(!sa(y))return y;var Zr=ii(y);if(Zr){if(Ln=Xg(y),!Kn)return hl(y,Ln)}else{var Kr=Va(y),go=Kr==k||Kr==N;if(Ws(y))return Bs(y,Kn);if(Kr==L||Kr==E||go&&!St){if(Ln=rr||go?{}:Uf(y),!Kn)return rr?Bg(y,gs(Ln,y)):Ng(y,Dl(Ln,y))}else{if(!cn[Kr])return St?y:{};Ln=Jg(y,Kr,Kn)}}Yt||(Yt=new Oa);var Io=Yt.get(y);if(Io)return Io;Yt.set(y,Ln),yp(y)?y.forEach(function(Uo){Ln.add(_a(Uo,Y,je,Uo,y,Yt))}):vp(y)&&y.forEach(function(Uo,wi){Ln.set(wi,_a(Uo,Y,je,wi,y,Yt))});var Fo=Ar?rr?Bd:Nd:rr?gl:La,pi=Zr?A:Fo(y);return ri(pi||y,function(Uo,wi){pi&&(wi=Uo,Uo=y[wi]),ol(Ln,wi,_a(Uo,Y,je,wi,y,Yt))}),Ln}function Zs(y){var Y=La(y);return function(je){return zs(je,y,Y)}}function zs(y,Y,je){var ot=je.length;if(y==null)return!ot;for(y=gn(y);ot--;){var St=je[ot],Yt=Y[St],Ln=y[St];if(Ln===A&&!(St in y)||!Yt(Ln))return!1}return!0}function dl(y,Y,je){if(typeof y!="function")throw new dr(Ge);return Fc(function(){y.apply(A,je)},Y)}function Go(y,Y,je,ot){var St=-1,Yt=wa,Ln=!0,Kn=y.length,rr=[],Ar=Y.length;if(!Kn)return rr;je&&(Y=ki(Y,mi(je))),ot?(Yt=ka,Ln=!1):Y.length>=Ce&&(Yt=Ri,Ln=!1,Y=new rl(Y));e:for(;++St<Kn;){var Zr=y[St],Kr=je==null?Zr:je(Zr);if(Zr=ot||Zr!==0?Zr:0,Ln&&Kr===Kr){for(var go=Ar;go--;)if(Y[go]===Kr)continue e;rr.push(Zr)}else Yt(Y,Kr,ot)||rr.push(Zr)}return rr}var Qo=Tf(K),Ns=Tf(oe,!0);function Nc(y,Y){var je=!0;return Qo(y,function(ot,St,Yt){return je=!!Y(ot,St,Yt),je}),je}function ns(y,Y,je){for(var ot=-1,St=y.length;++ot<St;){var Yt=y[ot],Ln=Y(Yt);if(Ln!=null&&(Kn===A?Ln===Ln&&!_l(Ln):je(Ln,Kn)))var Kn=Ln,rr=Yt}return rr}function vs(y,Y,je,ot){var St=y.length;for(je=ui(je),je<0&&(je=-je>St?0:St+je),ot=ot===A||ot>St?St:ui(ot),ot<0&&(ot+=St),ot=je>ot?0:wp(ot);je<ot;)y[je++]=Y;return y}function Fa(y,Y){var je=[];return Qo(y,function(ot,St,Yt){Y(ot,St,Yt)&&je.push(ot)}),je}function z(y,Y,je,ot,St){var Yt=-1,Ln=y.length;for(je||(je=ev),St||(St=[]);++Yt<Ln;){var Kn=y[Yt];Y>0&&je(Kn)?Y>1?z(Kn,Y-1,je,ot,St):Ea(St,Kn):ot||(St[St.length]=Kn)}return St}var i=Pf(),C=Pf(!0);function K(y,Y){return y&&i(y,Y,La)}function oe(y,Y){return y&&C(y,Y,La)}function we(y,Y){return ji(Y,function(je){return ws(y[je])})}function de(y,Y){Y=Da(Y,y);for(var je=0,ot=Y.length;y!=null&&je<ot;)y=y[ls(Y[je++])];return je&&je==ot?y:A}function $(y,Y,je){var ot=Y(y);return ii(y)?ot:Ea(ot,je(y))}function ne(y){return y==null?y===A?ee:j:wn&&wn in gn(y)?Yg(y):lv(y)}function Pe(y,Y){return y>Y}function Be(y,Y){return y!=null&&Tr.call(y,Y)}function Fe(y,Y){return y!=null&&Y in gn(y)}function it(y,Y,je){return y>=Pr(Y,je)&&y<ar(Y,je)}function st(y,Y,je){for(var ot=je?ka:wa,St=y[0].length,Yt=y.length,Ln=Yt,Kn=Tt(Yt),rr=1/0,Ar=[];Ln--;){var Zr=y[Ln];Ln&&Y&&(Zr=ki(Zr,mi(Y))),rr=Pr(Zr.length,rr),Kn[Ln]=!je&&(Y||St>=120&&Zr.length>=120)?new rl(Ln&&Zr):A}Zr=y[0];var Kr=-1,go=Kn[0];e:for(;++Kr<St&&Ar.length<rr;){var Io=Zr[Kr],Fo=Y?Y(Io):Io;if(Io=je||Io!==0?Io:0,!(go?Ri(go,Fo):ot(Ar,Fo,je))){for(Ln=Yt;--Ln;){var pi=Kn[Ln];if(!(pi?Ri(pi,Fo):ot(y[Ln],Fo,je)))continue e}go&&go.push(Fo),Ar.push(Io)}}return Ar}function vt(y,Y,je,ot){return K(y,function(St,Yt,Ln){Y(ot,je(St),Yt,Ln)}),ot}function jt(y,Y,je){Y=Da(Y,y),y=Yf(y,Y);var ot=y==null?y:y[ls(Al(Y))];return ot==null?A:Oo(ot,y,je)}function Lt(y){return ha(y)&&ne(y)==E}function Qt(y){return ha(y)&&ne(y)==Ue}function vn(y){return ha(y)&&ne(y)==g}function $t(y,Y,je,ot,St){return y===Y?!0:y==null||Y==null||!ha(y)&&!ha(Y)?y!==y&&Y!==Y:Ut(y,Y,je,ot,$t,St)}function Ut(y,Y,je,ot,St,Yt){var Ln=ii(y),Kn=ii(Y),rr=Ln?p:Va(y),Ar=Kn?p:Va(Y);rr=rr==E?L:rr,Ar=Ar==E?L:Ar;var Zr=rr==L,Kr=Ar==L,go=rr==Ar;if(go&&Ws(y)){if(!Ws(Y))return!1;Ln=!0,Zr=!1}if(go&&!Zr)return Yt||(Yt=new Oa),Ln||wc(y)?Wf(y,Y,je,ot,St,Yt):$g(y,Y,rr,je,ot,St,Yt);if(!(je&t)){var Io=Zr&&Tr.call(y,"__wrapped__"),Fo=Kr&&Tr.call(Y,"__wrapped__");if(Io||Fo){var pi=Io?y.value():y,Uo=Fo?Y.value():Y;return Yt||(Yt=new Oa),St(pi,Uo,je,ot,Yt)}}return go?(Yt||(Yt=new Oa),Vg(y,Y,je,ot,St,Yt)):!1}function tn(y){return ha(y)&&Va(y)==W}function xn(y,Y,je,ot){var St=je.length,Yt=St,Ln=!ot;if(y==null)return!Yt;for(y=gn(y);St--;){var Kn=je[St];if(Ln&&Kn[2]?Kn[1]!==y[Kn[0]]:!(Kn[0]in y))return!1}for(;++St<Yt;){Kn=je[St];var rr=Kn[0],Ar=y[rr],Zr=Kn[1];if(Ln&&Kn[2]){if(Ar===A&&!(rr in y))return!1}else{var Kr=new Oa;if(ot)var go=ot(Ar,Zr,rr,y,Y,Kr);if(!(go===A?$t(Zr,Ar,t|e,ot,Kr):go))return!1}}return!0}function Dn(y){if(!sa(y)||nv(y))return!1;var Y=ws(y)?Zi:Xt;return Y.test(rc(y))}function En(y){return ha(y)&&ne(y)==se}function yn(y){return ha(y)&&Va(y)==ue}function Un(y){return ha(y)&&_u(y.length)&&!!Vt[ne(y)]}function gr(y){return typeof y=="function"?y:y==null?vl:typeof y=="object"?ii(y)?Nr(y[0],y[1]):Rr(y):Ip(y)}function _r(y){if(!Hc(y))return or(y);var Y=[];for(var je in gn(y))Tr.call(y,je)&&je!="constructor"&&Y.push(je);return Y}function zr(y){if(!sa(y))return av(y);var Y=Hc(y),je=[];for(var ot in y)ot=="constructor"&&(Y||!Tr.call(y,ot))||je.push(ot);return je}function Qr(y,Y){return y<Y}function ao(y,Y){var je=-1,ot=ml(y)?Tt(y.length):[];return Qo(y,function(St,Yt,Ln){ot[++je]=Y(St,Yt,Ln)}),ot}function Rr(y){var Y=Hd(y);return Y.length==1&&Y[0][2]?$f(Y[0][0],Y[0][1]):function(je){return je===y||xn(je,y,Y)}}function Nr(y,Y){return Ud(y)&&Kf(Y)?$f(ls(y),Y):function(je){var ot=e0(je,y);return ot===A&&ot===Y?t0(je,y):$t(Y,ot,t|e)}}function Fr(y,Y,je,ot,St){y!==Y&&i(Y,function(Yt,Ln){if(St||(St=new Oa),sa(Yt))Ur(y,Y,Ln,je,Fr,ot,St);else{var Kn=ot?ot($d(y,Ln),Yt,Ln+"",y,Y,St):A;Kn===A&&(Kn=Yt),Il(y,Ln,Kn)}},gl)}function Ur(y,Y,je,ot,St,Yt,Ln){var Kn=$d(y,je),rr=$d(Y,je),Ar=Ln.get(rr);if(Ar){Il(y,je,Ar);return}var Zr=Yt?Yt(Kn,rr,je+"",y,Y,Ln):A,Kr=Zr===A;if(Kr){var go=ii(rr),Io=!go&&Ws(rr),Fo=!go&&!Io&&wc(rr);Zr=rr,go||Io||Fo?ii(Kn)?Zr=Kn:ya(Kn)?Zr=hl(Kn):Io?(Kr=!1,Zr=Bs(rr,!0)):Fo?(Kr=!1,Zr=Cf(rr,!0)):Zr=[]:Uc(rr)||oc(rr)?(Zr=Kn,oc(Kn)?Zr=kp(Kn):(!sa(Kn)||ws(Kn))&&(Zr=Uf(rr))):Kr=!1}Kr&&(Ln.set(rr,Zr),St(Zr,rr,ot,Yt,Ln),Ln.delete(rr)),Il(y,je,Zr)}function ho(y,Y){var je=y.length;if(je)return Y+=Y<0?je:0,xs(Y,je)?y[Y]:A}function So(y,Y,je){Y.length?Y=ki(Y,function(Yt){return ii(Yt)?function(Ln){return de(Ln,Yt.length===1?Yt[0]:Yt)}:Yt}):Y=[vl];var ot=-1;Y=ki(Y,mi(Wo()));var St=ao(y,function(Yt,Ln,Kn){var rr=ki(Y,function(Ar){return Ar(Yt)});return{criteria:rr,index:++ot,value:Yt}});return Ta(St,function(Yt,Ln){return zg(Yt,Ln,je)})}function _o(y,Y){return To(y,Y,function(je,ot){return t0(y,ot)})}function To(y,Y,je){for(var ot=-1,St=Y.length,Yt={};++ot<St;){var Ln=Y[ot],Kn=de(y,Ln);je(Kn,Ln)&&$o(Yt,Da(Ln,y),Kn)}return Yt}function vo(y){return function(Y){return de(Y,y)}}function oo(y,Y,je,ot){var St=ot?Ji:oa,Yt=-1,Ln=Y.length,Kn=y;for(y===Y&&(Y=hl(Y)),je&&(Kn=ki(y,mi(je)));++Yt<Ln;)for(var rr=0,Ar=Y[Yt],Zr=je?je(Ar):Ar;(rr=St(Kn,Zr,rr,ot))>-1;)Kn!==y&&Ct.call(Kn,rr,1),Ct.call(y,rr,1);return y}function Lo(y,Y){for(var je=y?Y.length:0,ot=je-1;je--;){var St=Y[je];if(je==ot||St!==Yt){var Yt=St;xs(St)?Ct.call(y,St,1):Xi(y,St)}}return y}function Ko(y,Y){return y+Rn(Lr()*(Y-y+1))}function Xo(y,Y,je,ot){for(var St=-1,Yt=ar(Nn((Y-y)/(je||1)),0),Ln=Tt(Yt);Yt--;)Ln[ot?Yt:++St]=y,y+=je;return Ln}function zo(y,Y){var je="";if(!y||Y<1||Y>X)return je;do Y%2&&(je+=y),Y=Rn(Y/2),Y&&(y+=y);while(Y);return je}function to(y,Y){return Vd(Vf(y,Y,vl),y+"")}function qo(y){return Ls(kc(y))}function Po(y,Y){var je=kc(y);return yu(je,Ha(Y,0,je.length))}function $o(y,Y,je,ot){if(!sa(y))return y;Y=Da(Y,y);for(var St=-1,Yt=Y.length,Ln=Yt-1,Kn=y;Kn!=null&&++St<Yt;){var rr=ls(Y[St]),Ar=je;if(rr==="__proto__"||rr==="constructor"||rr==="prototype")return y;if(St!=Ln){var Zr=Kn[rr];Ar=ot?ot(Zr,rr,Kn):A,Ar===A&&(Ar=sa(Zr)?Zr:xs(Y[St+1])?[]:{})}ol(Kn,rr,Ar),Kn=Kn[rr]}return y}var qi=Si?function(y,Y){return Si.set(y,Y),y}:vl,mo=Pn?function(y,Y){return Pn(y,"toString",{configurable:!0,enumerable:!1,value:r0(Y),writable:!0})}:vl;function eo(y){return yu(kc(y))}function ko(y,Y,je){var ot=-1,St=y.length;Y<0&&(Y=-Y>St?0:St+Y),je=je>St?St:je,je<0&&(je+=St),St=Y>je?0:je-Y>>>0,Y>>>=0;for(var Yt=Tt(St);++ot<St;)Yt[ot]=y[ot+Y];return Yt}function ti(y,Y){var je;return Qo(y,function(ot,St,Yt){return je=Y(ot,St,Yt),!je}),!!je}function ai(y,Y,je){var ot=0,St=y==null?ot:y.length;if(typeof Y=="number"&&Y===Y&&St<=M){for(;ot<St;){var Yt=ot+St>>>1,Ln=y[Yt];Ln!==null&&!_l(Ln)&&(je?Ln<=Y:Ln<Y)?ot=Yt+1:St=Yt}return St}return fi(y,Y,vl,je)}function fi(y,Y,je,ot){var St=0,Yt=y==null?0:y.length;if(Yt===0)return 0;Y=je(Y);for(var Ln=Y!==Y,Kn=Y===null,rr=_l(Y),Ar=Y===A;St<Yt;){var Zr=Rn((St+Yt)/2),Kr=je(y[Zr]),go=Kr!==A,Io=Kr===null,Fo=Kr===Kr,pi=_l(Kr);if(Ln)var Uo=ot||Fo;else Ar?Uo=Fo&&(ot||go):Kn?Uo=Fo&&go&&(ot||!Io):rr?Uo=Fo&&go&&!Io&&(ot||!pi):Io||pi?Uo=!1:Uo=ot?Kr<=Y:Kr<Y;Uo?St=Zr+1:Yt=Zr}return Pr(Yt,B)}function Ei(y,Y){for(var je=-1,ot=y.length,St=0,Yt=[];++je<ot;){var Ln=y[je],Kn=Y?Y(Ln):Ln;if(!je||!Fl(Kn,rr)){var rr=Kn;Yt[St++]=Ln===0?0:Ln}}return Yt}function No(y){return typeof y=="number"?y:_l(y)?U:+y}function wo(y){if(typeof y=="string")return y;if(ii(y))return ki(y,wo)+"";if(_l(y))return Ti?Ti.call(y):"";var Y=y+"";return Y=="0"&&1/y==-fe?"-0":Y}function ci(y,Y,je){var ot=-1,St=wa,Yt=y.length,Ln=!0,Kn=[],rr=Kn;if(je)Ln=!1,St=ka;else if(Yt>=Ce){var Ar=Y?null:Ug(y);if(Ar)return ja(Ar);Ln=!1,St=Ri,rr=new rl}else rr=Y?[]:Kn;e:for(;++ot<Yt;){var Zr=y[ot],Kr=Y?Y(Zr):Zr;if(Zr=je||Zr!==0?Zr:0,Ln&&Kr===Kr){for(var go=rr.length;go--;)if(rr[go]===Kr)continue e;Y&&rr.push(Kr),Kn.push(Zr)}else St(rr,Kr,je)||(rr!==Kn&&rr.push(Kr),Kn.push(Zr))}return Kn}function Xi(y,Y){return Y=Da(Y,y),y=Yf(y,Y),y==null||delete y[ls(Al(Y))]}function fl(y,Y,je,ot){return $o(y,Y,je(de(y,Y)),ot)}function Ll(y,Y,je,ot){for(var St=y.length,Yt=ot?St:-1;(ot?Yt--:++Yt<St)&&Y(y[Yt],Yt,y););return je?ko(y,ot?0:Yt,ot?Yt+1:St):ko(y,ot?Yt+1:0,ot?St:Yt)}function rs(y,Y){var je=y;return je instanceof Yo&&(je=je.value()),Ma(Y,function(ot,St){return St.func.apply(St.thisArg,Ea([ot],St.args))},je)}function Hl(y,Y,je){var ot=y.length;if(ot<2)return ot?ci(y[0]):[];for(var St=-1,Yt=Tt(ot);++St<ot;)for(var Ln=y[St],Kn=-1;++Kn<ot;)Kn!=St&&(Yt[St]=Go(Yt[St]||Ln,y[Kn],Y,je));return ci(z(Yt,1),Y,je)}function al(y,Y,je){for(var ot=-1,St=y.length,Yt=Y.length,Ln={};++ot<St;){var Kn=ot<Yt?Y[ot]:A;je(Ln,y[ot],Kn)}return Ln}function ba(y){return ya(y)?y:[]}function ll(y){return typeof y=="function"?y:vl}function Da(y,Y){return ii(y)?y:Ud(y,Y)?[y]:Jf(Di(y))}var os=to;function pl(y,Y,je){var ot=y.length;return je=je===A?ot:je,!Y&&je>=ot?y:ko(y,Y,je)}var is=fn||function(y){return Or.clearTimeout(y)};function Bs(y,Y){if(Y)return y.slice();var je=y.length,ot=Ye?Ye(je):new y.constructor(je);return y.copy(ot),ot}function tc(y){var Y=new y.constructor(y.byteLength);return new Me(Y).set(new Me(y)),Y}function Bc(y,Y){var je=Y?tc(y.buffer):y.buffer;return new y.constructor(je,y.byteOffset,y.byteLength)}function Rd(y){var Y=new y.constructor(y.source,Zt.exec(y));return Y.lastIndex=y.lastIndex,Y}function Zg(y){return si?gn(si.call(y)):{}}function Cf(y,Y){var je=Y?tc(y.buffer):y.buffer;return new y.constructor(je,y.byteOffset,y.length)}function jf(y,Y){if(y!==Y){var je=y!==A,ot=y===null,St=y===y,Yt=_l(y),Ln=Y!==A,Kn=Y===null,rr=Y===Y,Ar=_l(Y);if(!Kn&&!Ar&&!Yt&&y>Y||Yt&&Ln&&rr&&!Kn&&!Ar||ot&&Ln&&rr||!je&&rr||!St)return 1;if(!ot&&!Yt&&!Ar&&y<Y||Ar&&je&&St&&!ot&&!Yt||Kn&&je&&St||!Ln&&St||!rr)return-1}return 0}function zg(y,Y,je){for(var ot=-1,St=y.criteria,Yt=Y.criteria,Ln=St.length,Kn=je.length;++ot<Ln;){var rr=jf(St[ot],Yt[ot]);if(rr){if(ot>=Kn)return rr;var Ar=je[ot];return rr*(Ar=="desc"?-1:1)}}return y.index-Y.index}function Of(y,Y,je,ot){for(var St=-1,Yt=y.length,Ln=je.length,Kn=-1,rr=Y.length,Ar=ar(Yt-Ln,0),Zr=Tt(rr+Ar),Kr=!ot;++Kn<rr;)Zr[Kn]=Y[Kn];for(;++St<Ln;)(Kr||St<Yt)&&(Zr[je[St]]=y[St]);for(;Ar--;)Zr[Kn++]=y[St++];return Zr}function Mf(y,Y,je,ot){for(var St=-1,Yt=y.length,Ln=-1,Kn=je.length,rr=-1,Ar=Y.length,Zr=ar(Yt-Kn,0),Kr=Tt(Zr+Ar),go=!ot;++St<Zr;)Kr[St]=y[St];for(var Io=St;++rr<Ar;)Kr[Io+rr]=Y[rr];for(;++Ln<Kn;)(go||St<Yt)&&(Kr[Io+je[Ln]]=y[St++]);return Kr}function hl(y,Y){var je=-1,ot=y.length;for(Y||(Y=Tt(ot));++je<ot;)Y[je]=y[je];return Y}function as(y,Y,je,ot){var St=!je;je||(je={});for(var Yt=-1,Ln=Y.length;++Yt<Ln;){var Kn=Y[Yt],rr=ot?ot(je[Kn],y[Kn],Kn,je,y):A;rr===A&&(rr=y[Kn]),St?pa(je,Kn,rr):ol(je,Kn,rr)}return je}function Ng(y,Y){return as(y,Fd(y),Y)}function Bg(y,Y){return as(y,Hf(y),Y)}function fu(y,Y){return function(je,ot){var St=ii(je)?di:il,Yt=Y?Y():{};return St(je,y,Wo(ot,2),Yt)}}function bc(y){return to(function(Y,je){var ot=-1,St=je.length,Yt=St>1?je[St-1]:A,Ln=St>2?je[2]:A;for(Yt=y.length>3&&typeof Yt=="function"?(St--,Yt):A,Ln&&sl(je[0],je[1],Ln)&&(Yt=St<3?A:Yt,St=1),Y=gn(Y);++ot<St;){var Kn=je[ot];Kn&&y(Y,Kn,ot,Yt)}return Y})}function Tf(y,Y){return function(je,ot){if(je==null)return je;if(!ml(je))return y(je,ot);for(var St=je.length,Yt=Y?St:-1,Ln=gn(je);(Y?Yt--:++Yt<St)&&ot(Ln[Yt],Yt,Ln)!==!1;);return je}}function Pf(y){return function(Y,je,ot){for(var St=-1,Yt=gn(Y),Ln=ot(Y),Kn=Ln.length;Kn--;){var rr=Ln[y?Kn:++St];if(je(Yt[rr],rr,Yt)===!1)break}return Y}}function Wg(y,Y,je){var ot=Y&w,St=Wc(y);function Yt(){var Ln=this&&this!==Or&&this instanceof Yt?St:y;return Ln.apply(ot?je:this,arguments)}return Yt}function If(y){return function(Y){Y=Di(Y);var je=Vi(Y)?De(Y):A,ot=je?je[0]:Y.charAt(0),St=je?pl(je,1).join(""):Y.slice(1);return ot[y]()+St}}function yc(y){return function(Y){return Ma(Tp(Mp(Y).replace(Do,"")),y,"")}}function Wc(y){return function(){var Y=arguments;switch(Y.length){case 0:return new y;case 1:return new y(Y[0]);case 2:return new y(Y[0],Y[1]);case 3:return new y(Y[0],Y[1],Y[2]);case 4:return new y(Y[0],Y[1],Y[2],Y[3]);case 5:return new y(Y[0],Y[1],Y[2],Y[3],Y[4]);case 6:return new y(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]);case 7:return new y(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6])}var je=Yi(y.prototype),ot=y.apply(je,Y);return sa(ot)?ot:je}}function Hg(y,Y,je){var ot=Wc(y);function St(){for(var Yt=arguments.length,Ln=Tt(Yt),Kn=Yt,rr=xc(St);Kn--;)Ln[Kn]=arguments[Kn];var Ar=Yt<3&&Ln[0]!==rr&&Ln[Yt-1]!==rr?[]:ea(Ln,rr);if(Yt-=Ar.length,Yt<je)return Zf(y,Y,pu,St.placeholder,A,Ln,Ar,A,A,je-Yt);var Zr=this&&this!==Or&&this instanceof St?ot:y;return Oo(Zr,this,Ln)}return St}function Df(y){return function(Y,je,ot){var St=gn(Y);if(!ml(Y)){var Yt=Wo(je,3);Y=La(Y),je=function(Kn){return Yt(St[Kn],Kn,St)}}var Ln=y(Y,je,ot);return Ln>-1?St[Yt?Y[Ln]:Ln]:A}}function Lf(y){return ys(function(Y){var je=Y.length,ot=je,St=Pi.prototype.thru;for(y&&Y.reverse();ot--;){var Yt=Y[ot];if(typeof Yt!="function")throw new dr(Ge);if(St&&!Ln&&vu(Yt)=="wrapper")var Ln=new Pi([],!0)}for(ot=Ln?ot:je;++ot<je;){Yt=Y[ot];var Kn=vu(Yt),rr=Kn=="wrapper"?Wd(Yt):A;rr&&Kd(rr[0])&&rr[1]==(c|b|S|Z)&&!rr[4].length&&rr[9]==1?Ln=Ln[vu(rr[0])].apply(Ln,rr[3]):Ln=Yt.length==1&&Kd(Yt)?Ln[Kn]():Ln.thru(Yt)}return function(){var Ar=arguments,Zr=Ar[0];if(Ln&&Ar.length==1&&ii(Zr))return Ln.plant(Zr).value();for(var Kr=0,go=je?Y[Kr].apply(this,Ar):Zr;++Kr<je;)go=Y[Kr].call(this,go);return go}})}function pu(y,Y,je,ot,St,Yt,Ln,Kn,rr,Ar){var Zr=Y&c,Kr=Y&w,go=Y&v,Io=Y&(b|T),Fo=Y&F,pi=go?A:Wc(y);function Uo(){for(var wi=arguments.length,Ci=Tt(wi),Cl=wi;Cl--;)Ci[Cl]=arguments[Cl];if(Io)var cl=xc(Uo),jl=xl(Ci,cl);if(ot&&(Ci=Of(Ci,ot,St,Io)),Yt&&(Ci=Mf(Ci,Yt,Ln,Io)),wi-=jl,Io&&wi<Ar){var xa=ea(Ci,cl);return Zf(y,Y,pu,Uo.placeholder,je,Ci,xa,Kn,rr,Ar-wi)}var Ul=Kr?je:this,Es=go?Ul[y]:y;return wi=Ci.length,Kn?Ci=sv(Ci,Kn):Fo&&wi>1&&Ci.reverse(),Zr&&rr<wi&&(Ci.length=rr),this&&this!==Or&&this instanceof Uo&&(Es=pi||Wc(Es)),Es.apply(Ul,Ci)}return Uo}function Af(y,Y){return function(je,ot){return vt(je,y,Y(ot),{})}}function hu(y,Y){return function(je,ot){var St;if(je===A&&ot===A)return Y;if(je!==A&&(St=je),ot!==A){if(St===A)return ot;typeof je=="string"||typeof ot=="string"?(je=wo(je),ot=wo(ot)):(je=No(je),ot=No(ot)),St=y(je,ot)}return St}}function Zd(y){return ys(function(Y){return Y=ki(Y,mi(Wo())),to(function(je){var ot=this;return y(Y,function(St){return Oo(St,ot,je)})})})}function mu(y,Y){Y=Y===A?" ":wo(Y);var je=Y.length;if(je<2)return je?zo(Y,y):Y;var ot=zo(Y,Nn(y/be(Y)));return Vi(Y)?pl(De(ot),0,y).join(""):ot.slice(0,y)}function Fg(y,Y,je,ot){var St=Y&w,Yt=Wc(y);function Ln(){for(var Kn=-1,rr=arguments.length,Ar=-1,Zr=ot.length,Kr=Tt(Zr+rr),go=this&&this!==Or&&this instanceof Ln?Yt:y;++Ar<Zr;)Kr[Ar]=ot[Ar];for(;rr--;)Kr[Ar++]=arguments[++Kn];return Oo(go,St?je:this,Kr)}return Ln}function Rf(y){return function(Y,je,ot){return ot&&typeof ot!="number"&&sl(Y,je,ot)&&(je=ot=A),Y=ks(Y),je===A?(je=Y,Y=0):je=ks(je),ot=ot===A?Y<je?1:-1:ks(ot),Xo(Y,je,ot,y)}}function gu(y){return function(Y,je){return typeof Y=="string"&&typeof je=="string"||(Y=Rl(Y),je=Rl(je)),y(Y,je)}}function Zf(y,Y,je,ot,St,Yt,Ln,Kn,rr,Ar){var Zr=Y&b,Kr=Zr?Ln:A,go=Zr?A:Ln,Io=Zr?Yt:A,Fo=Zr?A:Yt;Y|=Zr?S:a,Y&=~(Zr?a:S),Y&d||(Y&=-4);var pi=[y,Y,St,Io,Kr,Fo,go,Kn,rr,Ar],Uo=je.apply(A,pi);return Kd(y)&&Gf(Uo,pi),Uo.placeholder=ot,qf(Uo,y,Y)}function zd(y){var Y=In[y];return function(je,ot){if(je=Rl(je),ot=ot==null?0:Pr(ui(ot),292),ot&&sr(je)){var St=(Di(je)+"e").split("e"),Yt=Y(St[0]+"e"+(+St[1]+ot));return St=(Di(Yt)+"e").split("e"),+(St[0]+"e"+(+St[1]-ot))}return Y(je)}}var Ug=xo&&1/ja(new xo([,-0]))[1]==fe?function(y){return new xo(y)}:a0;function zf(y){return function(Y){var je=Va(Y);return je==W?za(Y):je==ue?Bi(Y):Ra(Y,y(Y))}}function bs(y,Y,je,ot,St,Yt,Ln,Kn){var rr=Y&v;if(!rr&&typeof y!="function")throw new dr(Ge);var Ar=ot?ot.length:0;if(Ar||(Y&=-97,ot=St=A),Ln=Ln===A?Ln:ar(ui(Ln),0),Kn=Kn===A?Kn:ui(Kn),Ar-=St?St.length:0,Y&a){var Zr=ot,Kr=St;ot=St=A}var go=rr?A:Wd(y),Io=[y,Y,je,ot,St,Zr,Kr,Yt,Ln,Kn];if(go&&iv(Io,go),y=Io[0],Y=Io[1],je=Io[2],ot=Io[3],St=Io[4],Kn=Io[9]=Io[9]===A?rr?0:y.length:ar(Io[9]-Ar,0),!Kn&&Y&(b|T)&&(Y&=-25),!Y||Y==w)var Fo=Wg(y,Y,je);else Y==b||Y==T?Fo=Hg(y,Y,Kn):(Y==S||Y==(w|S))&&!St.length?Fo=Fg(y,Y,je,ot):Fo=pu.apply(A,Io);var pi=go?qi:Gf;return qf(pi(Fo,Io),y,Y)}function Nf(y,Y,je,ot){return y===A||Fl(y,qr[je])&&!Tr.call(ot,je)?Y:y}function Bf(y,Y,je,ot,St,Yt){return sa(y)&&sa(Y)&&(Yt.set(Y,y),Fr(y,Y,A,Bf,Yt),Yt.delete(Y)),y}function Kg(y){return Uc(y)?A:y}function Wf(y,Y,je,ot,St,Yt){var Ln=je&t,Kn=y.length,rr=Y.length;if(Kn!=rr&&!(Ln&&rr>Kn))return!1;var Ar=Yt.get(y),Zr=Yt.get(Y);if(Ar&&Zr)return Ar==Y&&Zr==y;var Kr=-1,go=!0,Io=je&e?new rl:A;for(Yt.set(y,Y),Yt.set(Y,y);++Kr<Kn;){var Fo=y[Kr],pi=Y[Kr];if(ot)var Uo=Ln?ot(pi,Fo,Kr,Y,y,Yt):ot(Fo,pi,Kr,y,Y,Yt);if(Uo!==A){if(Uo)continue;go=!1;break}if(Io){if(!zi(Y,function(wi,Ci){if(!Ri(Io,Ci)&&(Fo===wi||St(Fo,wi,je,ot,Yt)))return Io.push(Ci)})){go=!1;break}}else if(!(Fo===pi||St(Fo,pi,je,ot,Yt))){go=!1;break}}return Yt.delete(y),Yt.delete(Y),go}function $g(y,Y,je,ot,St,Yt,Ln){switch(je){case qe:if(y.byteLength!=Y.byteLength||y.byteOffset!=Y.byteOffset)return!1;y=y.buffer,Y=Y.buffer;case Ue:return!(y.byteLength!=Y.byteLength||!Yt(new Me(y),new Me(Y)));case o:case g:case O:return Fl(+y,+Y);case u:return y.name==Y.name&&y.message==Y.message;case se:case pe:return y==Y+"";case W:var Kn=za;case ue:var rr=ot&t;if(Kn||(Kn=ja),y.size!=Y.size&&!rr)return!1;var Ar=Ln.get(y);if(Ar)return Ar==Y;ot|=e,Ln.set(y,Y);var Zr=Wf(Kn(y),Kn(Y),ot,St,Yt,Ln);return Ln.delete(y),Zr;case Q:if(si)return si.call(y)==si.call(Y)}return!1}function Vg(y,Y,je,ot,St,Yt){var Ln=je&t,Kn=Nd(y),rr=Kn.length,Ar=Nd(Y),Zr=Ar.length;if(rr!=Zr&&!Ln)return!1;for(var Kr=rr;Kr--;){var go=Kn[Kr];if(!(Ln?go in Y:Tr.call(Y,go)))return!1}var Io=Yt.get(y),Fo=Yt.get(Y);if(Io&&Fo)return Io==Y&&Fo==y;var pi=!0;Yt.set(y,Y),Yt.set(Y,y);for(var Uo=Ln;++Kr<rr;){go=Kn[Kr];var wi=y[go],Ci=Y[go];if(ot)var Cl=Ln?ot(Ci,wi,go,Y,y,Yt):ot(wi,Ci,go,y,Y,Yt);if(!(Cl===A?wi===Ci||St(wi,Ci,je,ot,Yt):Cl)){pi=!1;break}Uo||(Uo=go=="constructor")}if(pi&&!Uo){var cl=y.constructor,jl=Y.constructor;cl!=jl&&"constructor"in y&&"constructor"in Y&&!(typeof cl=="function"&&cl instanceof cl&&typeof jl=="function"&&jl instanceof jl)&&(pi=!1)}return Yt.delete(y),Yt.delete(Y),pi}function ys(y){return Vd(Vf(y,A,np),y+"")}function Nd(y){return $(y,La,Fd)}function Bd(y){return $(y,gl,Hf)}var Wd=Si?function(y){return Si.get(y)}:a0;function vu(y){for(var Y=y.name+"",je=_i[Y],ot=Tr.call(_i,Y)?je.length:0;ot--;){var St=je[ot],Yt=St.func;if(Yt==null||Yt==y)return St.name}return Y}function xc(y){var Y=Tr.call(Rt,"placeholder")?Rt:y;return Y.placeholder}function Wo(){var y=Rt.iteratee||o0;return y=y===o0?gr:y,arguments.length?y(arguments[0],arguments[1]):y}function bu(y,Y){var je=y.__data__;return tv(Y)?je[typeof Y=="string"?"string":"hash"]:je.map}function Hd(y){for(var Y=La(y),je=Y.length;je--;){var ot=Y[je],St=y[ot];Y[je]=[ot,St,Kf(St)]}return Y}function nc(y,Y){var je=yi(y,Y);return Dn(je)?je:A}function Yg(y){var Y=Tr.call(y,wn),je=y[wn];try{y[wn]=A;var ot=!0}catch{}var St=so.call(y);return ot&&(Y?y[wn]=je:delete y[wn]),St}var Fd=Tn?function(y){return y==null?[]:(y=gn(y),ji(Tn(y),function(Y){return gt.call(y,Y)}))}:l0,Hf=Tn?function(y){for(var Y=[];y;)Ea(Y,Fd(y)),y=Xe(y);return Y}:l0,Va=ne;(Jr&&Va(new Jr(new ArrayBuffer(1)))!=qe||co&&Va(new co)!=W||po&&Va(po.resolve())!=V||xo&&Va(new xo)!=ue||Ho&&Va(new Ho)!=me)&&(Va=function(y){var Y=ne(y),je=Y==L?y.constructor:A,ot=je?rc(je):"";if(ot)switch(ot){case da:return qe;case ta:return W;case li:return V;case hi:return ue;case xi:return me}return Y});function Gg(y,Y,je){for(var ot=-1,St=je.length;++ot<St;){var Yt=je[ot],Ln=Yt.size;switch(Yt.type){case"drop":y+=Ln;break;case"dropRight":Y-=Ln;break;case"take":Y=Pr(Y,y+Ln);break;case"takeRight":y=ar(y,Y-Ln);break}}return{start:y,end:Y}}function qg(y){var Y=y.match(Qe);return Y?Y[1].split(ct):[]}function Ff(y,Y,je){Y=Da(Y,y);for(var ot=-1,St=Y.length,Yt=!1;++ot<St;){var Ln=ls(Y[ot]);if(!(Yt=y!=null&&je(y,Ln)))break;y=y[Ln]}return Yt||++ot!=St?Yt:(St=y==null?0:y.length,!!St&&_u(St)&&xs(Ln,St)&&(ii(y)||oc(y)))}function Xg(y){var Y=y.length,je=new y.constructor(Y);return Y&&typeof y[0]=="string"&&Tr.call(y,"index")&&(je.index=y.index,je.input=y.input),je}function Uf(y){return typeof y.constructor=="function"&&!Hc(y)?Yi(Xe(y)):{}}function Jg(y,Y,je){var ot=y.constructor;switch(Y){case Ue:return tc(y);case o:case g:return new ot(+y);case qe:return Bc(y,je);case Ae:case Oe:case Ie:case Re:case ke:case xe:case ye:case P:case l:return Cf(y,je);case W:return new ot;case O:case pe:return new ot(y);case se:return Rd(y);case ue:return new ot;case Q:return Zg(y)}}function Qg(y,Y){var je=Y.length;if(!je)return y;var ot=je-1;return Y[ot]=(je>1?"& ":"")+Y[ot],Y=Y.join(je>2?", ":" "),y.replace(Le,`{
/* [wrapped with `+Y+`] */
`)}function ev(y){return ii(y)||oc(y)||!!(_t&&y&&y[_t])}function xs(y,Y){var je=typeof y;return Y=Y??X,!!Y&&(je=="number"||je!="symbol"&&jn.test(y))&&y>-1&&y%1==0&&y<Y}function sl(y,Y,je){if(!sa(je))return!1;var ot=typeof Y;return(ot=="number"?ml(je)&&xs(Y,je.length):ot=="string"&&Y in je)?Fl(je[Y],y):!1}function Ud(y,Y){if(ii(y))return!1;var je=typeof y;return je=="number"||je=="symbol"||je=="boolean"||y==null||_l(y)?!0:Ke.test(y)||!et.test(y)||Y!=null&&y in gn(Y)}function tv(y){var Y=typeof y;return Y=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?y!=="__proto__":y===null}function Kd(y){var Y=vu(y),je=Rt[Y];if(typeof je!="function"||!(Y in Yo.prototype))return!1;if(y===je)return!0;var ot=Wd(je);return!!ot&&y===ot[0]}function nv(y){return!!ro&&ro in y}var rv=Wr?ws:s0;function Hc(y){var Y=y&&y.constructor,je=typeof Y=="function"&&Y.prototype||qr;return y===je}function Kf(y){return y===y&&!sa(y)}function $f(y,Y){return function(je){return je==null?!1:je[y]===Y&&(Y!==A||y in gn(je))}}function ov(y){var Y=Eu(y,function(ot){return je.size===yt&&je.clear(),ot}),je=Y.cache;return Y}function iv(y,Y){var je=y[1],ot=Y[1],St=je|ot,Yt=St<(w|v|c),Ln=ot==c&&je==b||ot==c&&je==Z&&y[7].length<=Y[8]||ot==(c|Z)&&Y[7].length<=Y[8]&&je==b;if(!(Yt||Ln))return y;ot&w&&(y[2]=Y[2],St|=je&w?0:d);var Kn=Y[3];if(Kn){var rr=y[3];y[3]=rr?Of(rr,Kn,Y[4]):Kn,y[4]=rr?ea(y[3],Et):Y[4]}return Kn=Y[5],Kn&&(rr=y[5],y[5]=rr?Mf(rr,Kn,Y[6]):Kn,y[6]=rr?ea(y[5],Et):Y[6]),Kn=Y[7],Kn&&(y[7]=Kn),ot&c&&(y[8]=y[8]==null?Y[8]:Pr(y[8],Y[8])),y[9]==null&&(y[9]=Y[9]),y[0]=Y[0],y[1]=St,y}function av(y){var Y=[];if(y!=null)for(var je in gn(y))Y.push(je);return Y}function lv(y){return so.call(y)}function Vf(y,Y,je){return Y=ar(Y===A?y.length-1:Y,0),function(){for(var ot=arguments,St=-1,Yt=ar(ot.length-Y,0),Ln=Tt(Yt);++St<Yt;)Ln[St]=ot[Y+St];St=-1;for(var Kn=Tt(Y+1);++St<Y;)Kn[St]=ot[St];return Kn[Y]=je(Ln),Oo(y,this,Kn)}}function Yf(y,Y){return Y.length<2?y:de(y,ko(Y,0,-1))}function sv(y,Y){for(var je=y.length,ot=Pr(Y.length,je),St=hl(y);ot--;){var Yt=Y[ot];y[ot]=xs(Yt,je)?St[Yt]:A}return y}function $d(y,Y){if(!(Y==="constructor"&&typeof y[Y]=="function")&&Y!="__proto__")return y[Y]}var Gf=Xf(qi),Fc=zn||function(y,Y){return Or.setTimeout(y,Y)},Vd=Xf(mo);function qf(y,Y,je){var ot=Y+"";return Vd(y,Qg(ot,cv(qg(ot),je)))}function Xf(y){var Y=0,je=0;return function(){var ot=Hr(),St=G-(ot-je);if(je=ot,St>0){if(++Y>=x)return arguments[0]}else Y=0;return y.apply(A,arguments)}}function yu(y,Y){var je=-1,ot=y.length,St=ot-1;for(Y=Y===A?ot:Y;++je<Y;){var Yt=Ko(je,St),Ln=y[Yt];y[Yt]=y[je],y[je]=Ln}return y.length=Y,y}var Jf=ov(function(y){var Y=[];return y.charCodeAt(0)===46&&Y.push(""),y.replace(tt,function(je,ot,St,Yt){Y.push(St?Yt.replace(zt,"$1"):ot||je)}),Y});function ls(y){if(typeof y=="string"||_l(y))return y;var Y=y+"";return Y=="0"&&1/y==-fe?"-0":Y}function rc(y){if(y!=null){try{return Yr.call(y)}catch{}try{return y+""}catch{}}return""}function cv(y,Y){return ri(I,function(je){var ot="_."+je[0];Y&je[1]&&!wa(y,ot)&&y.push(ot)}),y.sort()}function Qf(y){if(y instanceof Yo)return y.clone();var Y=new Pi(y.__wrapped__,y.__chain__);return Y.__actions__=hl(y.__actions__),Y.__index__=y.__index__,Y.__values__=y.__values__,Y}function uv(y,Y,je){(je?sl(y,Y,je):Y===A)?Y=1:Y=ar(ui(Y),0);var ot=y==null?0:y.length;if(!ot||Y<1)return[];for(var St=0,Yt=0,Ln=Tt(Nn(ot/Y));St<ot;)Ln[Yt++]=ko(y,St,St+=Y);return Ln}function dv(y){for(var Y=-1,je=y==null?0:y.length,ot=0,St=[];++Y<je;){var Yt=y[Y];Yt&&(St[ot++]=Yt)}return St}function fv(){var y=arguments.length;if(!y)return[];for(var Y=Tt(y-1),je=arguments[0],ot=y;ot--;)Y[ot-1]=arguments[ot];return Ea(ii(je)?hl(je):[je],z(Y,1))}var pv=to(function(y,Y){return ya(y)?Go(y,z(Y,1,ya,!0)):[]}),hv=to(function(y,Y){var je=Al(Y);return ya(je)&&(je=A),ya(y)?Go(y,z(Y,1,ya,!0),Wo(je,2)):[]}),mv=to(function(y,Y){var je=Al(Y);return ya(je)&&(je=A),ya(y)?Go(y,z(Y,1,ya,!0),A,je):[]});function gv(y,Y,je){var ot=y==null?0:y.length;return ot?(Y=je||Y===A?1:ui(Y),ko(y,Y<0?0:Y,ot)):[]}function vv(y,Y,je){var ot=y==null?0:y.length;return ot?(Y=je||Y===A?1:ui(Y),Y=ot-Y,ko(y,0,Y<0?0:Y)):[]}function bv(y,Y){return y&&y.length?Ll(y,Wo(Y,3),!0,!0):[]}function yv(y,Y){return y&&y.length?Ll(y,Wo(Y,3),!0):[]}function xv(y,Y,je,ot){var St=y==null?0:y.length;return St?(je&&typeof je!="number"&&sl(y,Y,je)&&(je=0,ot=St),vs(y,Y,je,ot)):[]}function ep(y,Y,je){var ot=y==null?0:y.length;if(!ot)return-1;var St=je==null?0:ui(je);return St<0&&(St=ar(ot+St,0)),Aa(y,Wo(Y,3),St)}function tp(y,Y,je){var ot=y==null?0:y.length;if(!ot)return-1;var St=ot-1;return je!==A&&(St=ui(je),St=je<0?ar(ot+St,0):Pr(St,ot-1)),Aa(y,Wo(Y,3),St,!0)}function np(y){var Y=y==null?0:y.length;return Y?z(y,1):[]}function wv(y){var Y=y==null?0:y.length;return Y?z(y,fe):[]}function kv(y,Y){var je=y==null?0:y.length;return je?(Y=Y===A?1:ui(Y),z(y,Y)):[]}function Ev(y){for(var Y=-1,je=y==null?0:y.length,ot={};++Y<je;){var St=y[Y];ot[St[0]]=St[1]}return ot}function rp(y){return y&&y.length?y[0]:A}function Sv(y,Y,je){var ot=y==null?0:y.length;if(!ot)return-1;var St=je==null?0:ui(je);return St<0&&(St=ar(ot+St,0)),oa(y,Y,St)}function _v(y){var Y=y==null?0:y.length;return Y?ko(y,0,-1):[]}var Cv=to(function(y){var Y=ki(y,ba);return Y.length&&Y[0]===y[0]?st(Y):[]}),jv=to(function(y){var Y=Al(y),je=ki(y,ba);return Y===Al(je)?Y=A:je.pop(),je.length&&je[0]===y[0]?st(je,Wo(Y,2)):[]}),Ov=to(function(y){var Y=Al(y),je=ki(y,ba);return Y=typeof Y=="function"?Y:A,Y&&je.pop(),je.length&&je[0]===y[0]?st(je,A,Y):[]});function Mv(y,Y){return y==null?"":mr.call(y,Y)}function Al(y){var Y=y==null?0:y.length;return Y?y[Y-1]:A}function Tv(y,Y,je){var ot=y==null?0:y.length;if(!ot)return-1;var St=ot;return je!==A&&(St=ui(je),St=St<0?ar(ot+St,0):Pr(St,ot-1)),Y===Y?wl(y,Y,St):Aa(y,Ki,St,!0)}function Pv(y,Y){return y&&y.length?ho(y,ui(Y)):A}var Iv=to(op);function op(y,Y){return y&&y.length&&Y&&Y.length?oo(y,Y):y}function Dv(y,Y,je){return y&&y.length&&Y&&Y.length?oo(y,Y,Wo(je,2)):y}function Lv(y,Y,je){return y&&y.length&&Y&&Y.length?oo(y,Y,A,je):y}var Av=ys(function(y,Y){var je=y==null?0:y.length,ot=Ia(y,Y);return Lo(y,ki(Y,function(St){return xs(St,je)?+St:St}).sort(jf)),ot});function Rv(y,Y){var je=[];if(!(y&&y.length))return je;var ot=-1,St=[],Yt=y.length;for(Y=Wo(Y,3);++ot<Yt;){var Ln=y[ot];Y(Ln,ot,y)&&(je.push(Ln),St.push(ot))}return Lo(y,St),je}function Yd(y){return y==null?y:Xr.call(y)}function Zv(y,Y,je){var ot=y==null?0:y.length;return ot?(je&&typeof je!="number"&&sl(y,Y,je)?(Y=0,je=ot):(Y=Y==null?0:ui(Y),je=je===A?ot:ui(je)),ko(y,Y,je)):[]}function zv(y,Y){return ai(y,Y)}function Nv(y,Y,je){return fi(y,Y,Wo(je,2))}function Bv(y,Y){var je=y==null?0:y.length;if(je){var ot=ai(y,Y);if(ot<je&&Fl(y[ot],Y))return ot}return-1}function Wv(y,Y){return ai(y,Y,!0)}function Hv(y,Y,je){return fi(y,Y,Wo(je,2),!0)}function Fv(y,Y){var je=y==null?0:y.length;if(je){var ot=ai(y,Y,!0)-1;if(Fl(y[ot],Y))return ot}return-1}function Uv(y){return y&&y.length?Ei(y):[]}function Kv(y,Y){return y&&y.length?Ei(y,Wo(Y,2)):[]}function $v(y){var Y=y==null?0:y.length;return Y?ko(y,1,Y):[]}function Vv(y,Y,je){return y&&y.length?(Y=je||Y===A?1:ui(Y),ko(y,0,Y<0?0:Y)):[]}function Yv(y,Y,je){var ot=y==null?0:y.length;return ot?(Y=je||Y===A?1:ui(Y),Y=ot-Y,ko(y,Y<0?0:Y,ot)):[]}function Gv(y,Y){return y&&y.length?Ll(y,Wo(Y,3),!1,!0):[]}function qv(y,Y){return y&&y.length?Ll(y,Wo(Y,3)):[]}var Xv=to(function(y){return ci(z(y,1,ya,!0))}),Jv=to(function(y){var Y=Al(y);return ya(Y)&&(Y=A),ci(z(y,1,ya,!0),Wo(Y,2))}),Qv=to(function(y){var Y=Al(y);return Y=typeof Y=="function"?Y:A,ci(z(y,1,ya,!0),A,Y)});function eb(y){return y&&y.length?ci(y):[]}function tb(y,Y){return y&&y.length?ci(y,Wo(Y,2)):[]}function nb(y,Y){return Y=typeof Y=="function"?Y:A,y&&y.length?ci(y,A,Y):[]}function Gd(y){if(!(y&&y.length))return[];var Y=0;return y=ji(y,function(je){if(ya(je))return Y=ar(je.length,Y),!0}),Pa(Y,function(je){return ki(y,ia(je))})}function ip(y,Y){if(!(y&&y.length))return[];var je=Gd(y);return Y==null?je:ki(je,function(ot){return Oo(Y,A,ot)})}var rb=to(function(y,Y){return ya(y)?Go(y,Y):[]}),ob=to(function(y){return Hl(ji(y,ya))}),ib=to(function(y){var Y=Al(y);return ya(Y)&&(Y=A),Hl(ji(y,ya),Wo(Y,2))}),ab=to(function(y){var Y=Al(y);return Y=typeof Y=="function"?Y:A,Hl(ji(y,ya),A,Y)}),lb=to(Gd);function sb(y,Y){return al(y||[],Y||[],ol)}function cb(y,Y){return al(y||[],Y||[],$o)}var ub=to(function(y){var Y=y.length,je=Y>1?y[Y-1]:A;return je=typeof je=="function"?(y.pop(),je):A,ip(y,je)});function ap(y){var Y=Rt(y);return Y.__chain__=!0,Y}function db(y,Y){return Y(y),y}function xu(y,Y){return Y(y)}var fb=ys(function(y){var Y=y.length,je=Y?y[0]:0,ot=this.__wrapped__,St=function(Yt){return Ia(Yt,y)};return Y>1||this.__actions__.length||!(ot instanceof Yo)||!xs(je)?this.thru(St):(ot=ot.slice(je,+je+(Y?1:0)),ot.__actions__.push({func:xu,args:[St],thisArg:A}),new Pi(ot,this.__chain__).thru(function(Yt){return Y&&!Yt.length&&Yt.push(A),Yt}))});function pb(){return ap(this)}function hb(){return new Pi(this.value(),this.__chain__)}function mb(){this.__values__===A&&(this.__values__=xp(this.value()));var y=this.__index__>=this.__values__.length,Y=y?A:this.__values__[this.__index__++];return{done:y,value:Y}}function gb(){return this}function vb(y){for(var Y,je=this;je instanceof Gi;){var ot=Qf(je);ot.__index__=0,ot.__values__=A,Y?St.__wrapped__=ot:Y=ot;var St=ot;je=je.__wrapped__}return St.__wrapped__=y,Y}function bb(){var y=this.__wrapped__;if(y instanceof Yo){var Y=y;return this.__actions__.length&&(Y=new Yo(this)),Y=Y.reverse(),Y.__actions__.push({func:xu,args:[Yd],thisArg:A}),new Pi(Y,this.__chain__)}return this.thru(Yd)}function yb(){return rs(this.__wrapped__,this.__actions__)}var xb=fu(function(y,Y,je){Tr.call(y,je)?++y[je]:pa(y,je,1)});function wb(y,Y,je){var ot=ii(y)?bi:Nc;return je&&sl(y,Y,je)&&(Y=A),ot(y,Wo(Y,3))}function kb(y,Y){var je=ii(y)?ji:Fa;return je(y,Wo(Y,3))}var Eb=Df(ep),Sb=Df(tp);function _b(y,Y){return z(wu(y,Y),1)}function Cb(y,Y){return z(wu(y,Y),fe)}function jb(y,Y,je){return je=je===A?1:ui(je),z(wu(y,Y),je)}function lp(y,Y){var je=ii(y)?ri:Qo;return je(y,Wo(Y,3))}function sp(y,Y){var je=ii(y)?ni:Ns;return je(y,Wo(Y,3))}var Ob=fu(function(y,Y,je){Tr.call(y,je)?y[je].push(Y):pa(y,je,[Y])});function Mb(y,Y,je,ot){y=ml(y)?y:kc(y),je=je&&!ot?ui(je):0;var St=y.length;return je<0&&(je=ar(St+je,0)),Cu(y)?je<=St&&y.indexOf(Y,je)>-1:!!St&&oa(y,Y,je)>-1}var Tb=to(function(y,Y,je){var ot=-1,St=typeof Y=="function",Yt=ml(y)?Tt(y.length):[];return Qo(y,function(Ln){Yt[++ot]=St?Oo(Y,Ln,je):jt(Ln,Y,je)}),Yt}),Pb=fu(function(y,Y,je){pa(y,je,Y)});function wu(y,Y){var je=ii(y)?ki:ao;return je(y,Wo(Y,3))}function Ib(y,Y,je,ot){return y==null?[]:(ii(Y)||(Y=Y==null?[]:[Y]),je=ot?A:je,ii(je)||(je=je==null?[]:[je]),So(y,Y,je))}var Db=fu(function(y,Y,je){y[je?0:1].push(Y)},function(){return[[],[]]});function Lb(y,Y,je){var ot=ii(y)?Ma:ga,St=arguments.length<3;return ot(y,Wo(Y,4),je,St,Qo)}function Ab(y,Y,je){var ot=ii(y)?qa:ga,St=arguments.length<3;return ot(y,Wo(Y,4),je,St,Ns)}function Rb(y,Y){var je=ii(y)?ji:Fa;return je(y,Su(Wo(Y,3)))}function Zb(y){var Y=ii(y)?Ls:qo;return Y(y)}function zb(y,Y,je){(je?sl(y,Y,je):Y===A)?Y=1:Y=ui(Y);var ot=ii(y)?As:Po;return ot(y,Y)}function Nb(y){var Y=ii(y)?Rs:eo;return Y(y)}function Bb(y){if(y==null)return 0;if(ml(y))return Cu(y)?be(y):y.length;var Y=Va(y);return Y==W||Y==ue?y.size:_r(y).length}function Wb(y,Y,je){var ot=ii(y)?zi:ti;return je&&sl(y,Y,je)&&(Y=A),ot(y,Wo(Y,3))}var Hb=to(function(y,Y){if(y==null)return[];var je=Y.length;return je>1&&sl(y,Y[0],Y[1])?Y=[]:je>2&&sl(Y[0],Y[1],Y[2])&&(Y=[Y[0]]),So(y,z(Y,1),[])}),ku=_n||function(){return Or.Date.now()};function Fb(y,Y){if(typeof Y!="function")throw new dr(Ge);return y=ui(y),function(){if(--y<1)return Y.apply(this,arguments)}}function cp(y,Y,je){return Y=je?A:Y,Y=y&&Y==null?y.length:Y,bs(y,c,A,A,A,A,Y)}function up(y,Y){var je;if(typeof Y!="function")throw new dr(Ge);return y=ui(y),function(){return--y>0&&(je=Y.apply(this,arguments)),y<=1&&(Y=A),je}}var qd=to(function(y,Y,je){var ot=w;if(je.length){var St=ea(je,xc(qd));ot|=S}return bs(y,ot,Y,je,St)}),dp=to(function(y,Y,je){var ot=w|v;if(je.length){var St=ea(je,xc(dp));ot|=S}return bs(Y,ot,y,je,St)});function fp(y,Y,je){Y=je?A:Y;var ot=bs(y,b,A,A,A,A,A,Y);return ot.placeholder=fp.placeholder,ot}function pp(y,Y,je){Y=je?A:Y;var ot=bs(y,T,A,A,A,A,A,Y);return ot.placeholder=pp.placeholder,ot}function hp(y,Y,je){var ot,St,Yt,Ln,Kn,rr,Ar=0,Zr=!1,Kr=!1,go=!0;if(typeof y!="function")throw new dr(Ge);Y=Rl(Y)||0,sa(je)&&(Zr=!!je.leading,Kr="maxWait"in je,Yt=Kr?ar(Rl(je.maxWait)||0,Y):Yt,go="trailing"in je?!!je.trailing:go);function Io(xa){var Ul=ot,Es=St;return ot=St=A,Ar=xa,Ln=y.apply(Es,Ul),Ln}function Fo(xa){return Ar=xa,Kn=Fc(wi,Y),Zr?Io(xa):Ln}function pi(xa){var Ul=xa-rr,Es=xa-Ar,Dp=Y-Ul;return Kr?Pr(Dp,Yt-Es):Dp}function Uo(xa){var Ul=xa-rr,Es=xa-Ar;return rr===A||Ul>=Y||Ul<0||Kr&&Es>=Yt}function wi(){var xa=ku();if(Uo(xa))return Ci(xa);Kn=Fc(wi,pi(xa))}function Ci(xa){return Kn=A,go&&ot?Io(xa):(ot=St=A,Ln)}function Cl(){Kn!==A&&is(Kn),Ar=0,ot=rr=St=Kn=A}function cl(){return Kn===A?Ln:Ci(ku())}function jl(){var xa=ku(),Ul=Uo(xa);if(ot=arguments,St=this,rr=xa,Ul){if(Kn===A)return Fo(rr);if(Kr)return is(Kn),Kn=Fc(wi,Y),Io(rr)}return Kn===A&&(Kn=Fc(wi,Y)),Ln}return jl.cancel=Cl,jl.flush=cl,jl}var Ub=to(function(y,Y){return dl(y,1,Y)}),Kb=to(function(y,Y,je){return dl(y,Rl(Y)||0,je)});function $b(y){return bs(y,F)}function Eu(y,Y){if(typeof y!="function"||Y!=null&&typeof Y!="function")throw new dr(Ge);var je=function(){var ot=arguments,St=Y?Y.apply(this,ot):ot[0],Yt=je.cache;if(Yt.has(St))return Yt.get(St);var Ln=y.apply(this,ot);return je.cache=Yt.set(St,Ln)||Yt,Ln};return je.cache=new(Eu.Cache||wr),je}Eu.Cache=wr;function Su(y){if(typeof y!="function")throw new dr(Ge);return function(){var Y=arguments;switch(Y.length){case 0:return!y.call(this);case 1:return!y.call(this,Y[0]);case 2:return!y.call(this,Y[0],Y[1]);case 3:return!y.call(this,Y[0],Y[1],Y[2])}return!y.apply(this,Y)}}function Vb(y){return up(2,y)}var Yb=os(function(y,Y){Y=Y.length==1&&ii(Y[0])?ki(Y[0],mi(Wo())):ki(z(Y,1),mi(Wo()));var je=Y.length;return to(function(ot){for(var St=-1,Yt=Pr(ot.length,je);++St<Yt;)ot[St]=Y[St].call(this,ot[St]);return Oo(y,this,ot)})}),Xd=to(function(y,Y){var je=ea(Y,xc(Xd));return bs(y,S,A,Y,je)}),mp=to(function(y,Y){var je=ea(Y,xc(mp));return bs(y,a,A,Y,je)}),Gb=ys(function(y,Y){return bs(y,Z,A,A,A,Y)});function qb(y,Y){if(typeof y!="function")throw new dr(Ge);return Y=Y===A?Y:ui(Y),to(y,Y)}function Xb(y,Y){if(typeof y!="function")throw new dr(Ge);return Y=Y==null?0:ar(ui(Y),0),to(function(je){var ot=je[Y],St=pl(je,0,Y);return ot&&Ea(St,ot),Oo(y,this,St)})}function Jb(y,Y,je){var ot=!0,St=!0;if(typeof y!="function")throw new dr(Ge);return sa(je)&&(ot="leading"in je?!!je.leading:ot,St="trailing"in je?!!je.trailing:St),hp(y,Y,{leading:ot,maxWait:Y,trailing:St})}function Qb(y){return cp(y,1)}function ey(y,Y){return Xd(ll(Y),y)}function ty(){if(!arguments.length)return[];var y=arguments[0];return ii(y)?y:[y]}function ny(y){return _a(y,te)}function ry(y,Y){return Y=typeof Y=="function"?Y:A,_a(y,te,Y)}function oy(y){return _a(y,ft|te)}function iy(y,Y){return Y=typeof Y=="function"?Y:A,_a(y,ft|te,Y)}function ay(y,Y){return Y==null||zs(y,Y,La(Y))}function Fl(y,Y){return y===Y||y!==y&&Y!==Y}var ly=gu(Pe),sy=gu(function(y,Y){return y>=Y}),oc=Lt(function(){return arguments}())?Lt:function(y){return ha(y)&&Tr.call(y,"callee")&&!gt.call(y,"callee")},ii=Tt.isArray,cy=ei?mi(ei):Qt;function ml(y){return y!=null&&_u(y.length)&&!ws(y)}function ya(y){return ha(y)&&ml(y)}function uy(y){return y===!0||y===!1||ha(y)&&ne(y)==o}var Ws=Vn||s0,dy=vi?mi(vi):vn;function fy(y){return ha(y)&&y.nodeType===1&&!Uc(y)}function py(y){if(y==null)return!0;if(ml(y)&&(ii(y)||typeof y=="string"||typeof y.splice=="function"||Ws(y)||wc(y)||oc(y)))return!y.length;var Y=Va(y);if(Y==W||Y==ue)return!y.size;if(Hc(y))return!_r(y).length;for(var je in y)if(Tr.call(y,je))return!1;return!0}function hy(y,Y){return $t(y,Y)}function my(y,Y,je){je=typeof je=="function"?je:A;var ot=je?je(y,Y):A;return ot===A?$t(y,Y,A,je):!!ot}function Jd(y){if(!ha(y))return!1;var Y=ne(y);return Y==u||Y==s||typeof y.message=="string"&&typeof y.name=="string"&&!Uc(y)}function gy(y){return typeof y=="number"&&sr(y)}function ws(y){if(!sa(y))return!1;var Y=ne(y);return Y==k||Y==N||Y==r||Y==ie}function gp(y){return typeof y=="number"&&y==ui(y)}function _u(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=X}function sa(y){var Y=typeof y;return y!=null&&(Y=="object"||Y=="function")}function ha(y){return y!=null&&typeof y=="object"}var vp=Gr?mi(Gr):tn;function vy(y,Y){return y===Y||xn(y,Y,Hd(Y))}function by(y,Y,je){return je=typeof je=="function"?je:A,xn(y,Y,Hd(Y),je)}function yy(y){return bp(y)&&y!=+y}function xy(y){if(rv(y))throw new Jt(Ne);return Dn(y)}function wy(y){return y===null}function ky(y){return y==null}function bp(y){return typeof y=="number"||ha(y)&&ne(y)==O}function Uc(y){if(!ha(y)||ne(y)!=L)return!1;var Y=Xe(y);if(Y===null)return!0;var je=Tr.call(Y,"constructor")&&Y.constructor;return typeof je=="function"&&je instanceof je&&Yr.call(je)==fo}var Qd=Ir?mi(Ir):En;function Ey(y){return gp(y)&&y>=-X&&y<=X}var yp=uo?mi(uo):yn;function Cu(y){return typeof y=="string"||!ii(y)&&ha(y)&&ne(y)==pe}function _l(y){return typeof y=="symbol"||ha(y)&&ne(y)==Q}var wc=Co?mi(Co):Un;function Sy(y){return y===A}function _y(y){return ha(y)&&Va(y)==me}function Cy(y){return ha(y)&&ne(y)==Te}var jy=gu(Qr),Oy=gu(function(y,Y){return y<=Y});function xp(y){if(!y)return[];if(ml(y))return Cu(y)?De(y):hl(y);if(Dt&&y[Dt])return Bl(y[Dt]());var Y=Va(y),je=Y==W?za:Y==ue?ja:kc;return je(y)}function ks(y){if(!y)return y===0?y:0;if(y=Rl(y),y===fe||y===-fe){var Y=y<0?-1:1;return Y*q}return y===y?y:0}function ui(y){var Y=ks(y),je=Y%1;return Y===Y?je?Y-je:Y:0}function wp(y){return y?Ha(ui(y),0,R):0}function Rl(y){if(typeof y=="number")return y;if(_l(y))return U;if(sa(y)){var Y=typeof y.valueOf=="function"?y.valueOf():y;y=sa(Y)?Y+"":Y}if(typeof y!="string")return y===0?y:+y;y=$i(y);var je=rn.test(y);return je||on.test(y)?hr(y.slice(2),je?2:8):sn.test(y)?U:+y}function kp(y){return as(y,gl(y))}function My(y){return y?Ha(ui(y),-X,X):y===0?y:0}function Di(y){return y==null?"":wo(y)}var Ty=bc(function(y,Y){if(Hc(Y)||ml(Y)){as(Y,La(Y),y);return}for(var je in Y)Tr.call(Y,je)&&ol(y,je,Y[je])}),Ep=bc(function(y,Y){as(Y,gl(Y),y)}),ju=bc(function(y,Y,je,ot){as(Y,gl(Y),y,ot)}),Py=bc(function(y,Y,je,ot){as(Y,La(Y),y,ot)}),Iy=ys(Ia);function Dy(y,Y){var je=Yi(y);return Y==null?je:Dl(je,Y)}var Ly=to(function(y,Y){y=gn(y);var je=-1,ot=Y.length,St=ot>2?Y[2]:A;for(St&&sl(Y[0],Y[1],St)&&(ot=1);++je<ot;)for(var Yt=Y[je],Ln=gl(Yt),Kn=-1,rr=Ln.length;++Kn<rr;){var Ar=Ln[Kn],Zr=y[Ar];(Zr===A||Fl(Zr,qr[Ar])&&!Tr.call(y,Ar))&&(y[Ar]=Yt[Ar])}return y}),Ay=to(function(y){return y.push(A,Bf),Oo(Sp,A,y)});function Ry(y,Y){return Xa(y,Wo(Y,3),K)}function Zy(y,Y){return Xa(y,Wo(Y,3),oe)}function zy(y,Y){return y==null?y:i(y,Wo(Y,3),gl)}function Ny(y,Y){return y==null?y:C(y,Wo(Y,3),gl)}function By(y,Y){return y&&K(y,Wo(Y,3))}function Wy(y,Y){return y&&oe(y,Wo(Y,3))}function Hy(y){return y==null?[]:we(y,La(y))}function Fy(y){return y==null?[]:we(y,gl(y))}function e0(y,Y,je){var ot=y==null?A:de(y,Y);return ot===A?je:ot}function Uy(y,Y){return y!=null&&Ff(y,Y,Be)}function t0(y,Y){return y!=null&&Ff(y,Y,Fe)}var Ky=Af(function(y,Y,je){Y!=null&&typeof Y.toString!="function"&&(Y=so.call(Y)),y[Y]=je},r0(vl)),$y=Af(function(y,Y,je){Y!=null&&typeof Y.toString!="function"&&(Y=so.call(Y)),Tr.call(y,Y)?y[Y].push(je):y[Y]=[je]},Wo),Vy=to(jt);function La(y){return ml(y)?Ds(y):_r(y)}function gl(y){return ml(y)?Ds(y,!0):zr(y)}function Yy(y,Y){var je={};return Y=Wo(Y,3),K(y,function(ot,St,Yt){pa(je,Y(ot,St,Yt),ot)}),je}function Gy(y,Y){var je={};return Y=Wo(Y,3),K(y,function(ot,St,Yt){pa(je,St,Y(ot,St,Yt))}),je}var qy=bc(function(y,Y,je){Fr(y,Y,je)}),Sp=bc(function(y,Y,je,ot){Fr(y,Y,je,ot)}),Xy=ys(function(y,Y){var je={};if(y==null)return je;var ot=!1;Y=ki(Y,function(Yt){return Yt=Da(Yt,y),ot||(ot=Yt.length>1),Yt}),as(y,Bd(y),je),ot&&(je=_a(je,ft|We|te,Kg));for(var St=Y.length;St--;)Xi(je,Y[St]);return je});function Jy(y,Y){return _p(y,Su(Wo(Y)))}var Qy=ys(function(y,Y){return y==null?{}:_o(y,Y)});function _p(y,Y){if(y==null)return{};var je=ki(Bd(y),function(ot){return[ot]});return Y=Wo(Y),To(y,je,function(ot,St){return Y(ot,St[0])})}function e2(y,Y,je){Y=Da(Y,y);var ot=-1,St=Y.length;for(St||(St=1,y=A);++ot<St;){var Yt=y==null?A:y[ls(Y[ot])];Yt===A&&(ot=St,Yt=je),y=ws(Yt)?Yt.call(y):Yt}return y}function t2(y,Y,je){return y==null?y:$o(y,Y,je)}function n2(y,Y,je,ot){return ot=typeof ot=="function"?ot:A,y==null?y:$o(y,Y,je,ot)}var Cp=zf(La),jp=zf(gl);function r2(y,Y,je){var ot=ii(y),St=ot||Ws(y)||wc(y);if(Y=Wo(Y,4),je==null){var Yt=y&&y.constructor;St?je=ot?new Yt:[]:sa(y)?je=ws(Yt)?Yi(Xe(y)):{}:je={}}return(St?ri:K)(y,function(Ln,Kn,rr){return Y(je,Ln,Kn,rr)}),je}function o2(y,Y){return y==null?!0:Xi(y,Y)}function i2(y,Y,je){return y==null?y:fl(y,Y,ll(je))}function a2(y,Y,je,ot){return ot=typeof ot=="function"?ot:A,y==null?y:fl(y,Y,ll(je),ot)}function kc(y){return y==null?[]:Qi(y,La(y))}function l2(y){return y==null?[]:Qi(y,gl(y))}function s2(y,Y,je){return je===A&&(je=Y,Y=A),je!==A&&(je=Rl(je),je=je===je?je:0),Y!==A&&(Y=Rl(Y),Y=Y===Y?Y:0),Ha(Rl(y),Y,je)}function c2(y,Y,je){return Y=ks(Y),je===A?(je=Y,Y=0):je=ks(je),y=Rl(y),it(y,Y,je)}function u2(y,Y,je){if(je&&typeof je!="boolean"&&sl(y,Y,je)&&(Y=je=A),je===A&&(typeof Y=="boolean"?(je=Y,Y=A):typeof y=="boolean"&&(je=y,y=A)),y===A&&Y===A?(y=0,Y=1):(y=ks(y),Y===A?(Y=y,y=0):Y=ks(Y)),y>Y){var ot=y;y=Y,Y=ot}if(je||y%1||Y%1){var St=Lr();return Pr(y+St*(Y-y+qn("1e-"+((St+"").length-1))),Y)}return Ko(y,Y)}var d2=yc(function(y,Y,je){return Y=Y.toLowerCase(),y+(je?Op(Y):Y)});function Op(y){return n0(Di(y).toLowerCase())}function Mp(y){return y=Di(y),y&&y.replace(It,Nl).replace(bo,"")}function f2(y,Y,je){y=Di(y),Y=wo(Y);var ot=y.length;je=je===A?ot:Ha(ui(je),0,ot);var St=je;return je-=Y.length,je>=0&&y.slice(je,St)==Y}function p2(y){return y=Di(y),y&&ge.test(y)?y.replace(re,Za):y}function h2(y){return y=Di(y),y&&ht.test(y)?y.replace(ut,"\\$&"):y}var m2=yc(function(y,Y,je){return y+(je?"-":"")+Y.toLowerCase()}),g2=yc(function(y,Y,je){return y+(je?" ":"")+Y.toLowerCase()}),v2=If("toLowerCase");function b2(y,Y,je){y=Di(y),Y=ui(Y);var ot=Y?be(y):0;if(!Y||ot>=Y)return y;var St=(Y-ot)/2;return mu(Rn(St),je)+y+mu(Nn(St),je)}function y2(y,Y,je){y=Di(y),Y=ui(Y);var ot=Y?be(y):0;return Y&&ot<Y?y+mu(Y-ot,je):y}function x2(y,Y,je){y=Di(y),Y=ui(Y);var ot=Y?be(y):0;return Y&&ot<Y?mu(Y-ot,je)+y:y}function w2(y,Y,je){return je||Y==null?Y=0:Y&&(Y=+Y),Dr(Di(y).replace(He,""),Y||0)}function k2(y,Y,je){return(je?sl(y,Y,je):Y===A)?Y=1:Y=ui(Y),zo(Di(y),Y)}function E2(){var y=arguments,Y=Di(y[0]);return y.length<3?Y:Y.replace(y[1],y[2])}var S2=yc(function(y,Y,je){return y+(je?"_":"")+Y.toLowerCase()});function _2(y,Y,je){return je&&typeof je!="number"&&sl(y,Y,je)&&(Y=je=A),je=je===A?R:je>>>0,je?(y=Di(y),y&&(typeof Y=="string"||Y!=null&&!Qd(Y))&&(Y=wo(Y),!Y&&Vi(y))?pl(De(y),0,je):y.split(Y,je)):[]}var C2=yc(function(y,Y,je){return y+(je?" ":"")+n0(Y)});function j2(y,Y,je){return y=Di(y),je=je==null?0:Ha(ui(je),0,y.length),Y=wo(Y),y.slice(je,je+Y.length)==Y}function O2(y,Y,je){var ot=Rt.templateSettings;je&&sl(y,Y,je)&&(Y=A),y=Di(y),Y=ju({},Y,ot,Nf);var St=ju({},Y.imports,ot.imports,Nf),Yt=La(St),Ln=Qi(St,Yt),Kn,rr,Ar=0,Zr=Y.interpolate||kt,Kr="__p += '",go=nr((Y.escape||kt).source+"|"+Zr.source+"|"+(Zr===Je?Mt:kt).source+"|"+(Y.evaluate||kt).source+"|$","g"),Io="//# sourceURL="+(Tr.call(Y,"sourceURL")?(Y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pt+"]")+`
`;y.replace(go,function(Uo,wi,Ci,Cl,cl,jl){return Ci||(Ci=Cl),Kr+=y.slice(Ar,jl).replace(Ht,aa),wi&&(Kn=!0,Kr+=`' +
__e(`+wi+`) +
'`),cl&&(rr=!0,Kr+=`';
`+cl+`;
__p += '`),Ci&&(Kr+=`' +
((__t = (`+Ci+`)) == null ? '' : __t) +
'`),Ar=jl+Uo.length,Uo}),Kr+=`';
`;var Fo=Tr.call(Y,"variable")&&Y.variable;if(!Fo)Kr=`with (obj) {
`+Kr+`
}
`;else if(wt.test(Fo))throw new Jt($e);Kr=(rr?Kr.replace(f,""):Kr).replace(D,"$1").replace(H,"$1;"),Kr="function("+(Fo||"obj")+`) {
`+(Fo?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Kn?", __e = _.escape":"")+(rr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Kr+`return __p
}`;var pi=Pp(function(){return On(Yt,Io+"return "+Kr).apply(A,Ln)});if(pi.source=Kr,Jd(pi))throw pi;return pi}function M2(y){return Di(y).toLowerCase()}function T2(y){return Di(y).toUpperCase()}function P2(y,Y,je){if(y=Di(y),y&&(je||Y===A))return $i(y);if(!y||!(Y=wo(Y)))return y;var ot=De(y),St=De(Y),Yt=Sa(ot,St),Ln=yl(ot,St)+1;return pl(ot,Yt,Ln).join("")}function I2(y,Y,je){if(y=Di(y),y&&(je||Y===A))return y.slice(0,nt(y)+1);if(!y||!(Y=wo(Y)))return y;var ot=De(y),St=yl(ot,De(Y))+1;return pl(ot,0,St).join("")}function D2(y,Y,je){if(y=Di(y),y&&(je||Y===A))return y.replace(He,"");if(!y||!(Y=wo(Y)))return y;var ot=De(y),St=Sa(ot,De(Y));return pl(ot,St).join("")}function L2(y,Y){var je=_,ot=h;if(sa(Y)){var St="separator"in Y?Y.separator:St;je="length"in Y?ui(Y.length):je,ot="omission"in Y?wo(Y.omission):ot}y=Di(y);var Yt=y.length;if(Vi(y)){var Ln=De(y);Yt=Ln.length}if(je>=Yt)return y;var Kn=je-be(ot);if(Kn<1)return ot;var rr=Ln?pl(Ln,0,Kn).join(""):y.slice(0,Kn);if(St===A)return rr+ot;if(Ln&&(Kn+=rr.length-Kn),Qd(St)){if(y.slice(Kn).search(St)){var Ar,Zr=rr;for(St.global||(St=nr(St.source,Di(Zt.exec(St))+"g")),St.lastIndex=0;Ar=St.exec(Zr);)var Kr=Ar.index;rr=rr.slice(0,Kr===A?Kn:Kr)}}else if(y.indexOf(wo(St),Kn)!=Kn){var go=rr.lastIndexOf(St);go>-1&&(rr=rr.slice(0,go))}return rr+ot}function A2(y){return y=Di(y),y&&ae.test(y)?y.replace(J,dt):y}var R2=yc(function(y,Y,je){return y+(je?" ":"")+Y.toUpperCase()}),n0=If("toUpperCase");function Tp(y,Y,je){return y=Di(y),Y=je?A:Y,Y===A?ua(y)?en(y):Ni(y):y.match(Y)||[]}var Pp=to(function(y,Y){try{return Oo(y,A,Y)}catch(je){return Jd(je)?je:new Jt(je)}}),Z2=ys(function(y,Y){return ri(Y,function(je){je=ls(je),pa(y,je,qd(y[je],y))}),y});function z2(y){var Y=y==null?0:y.length,je=Wo();return y=Y?ki(y,function(ot){if(typeof ot[1]!="function")throw new dr(Ge);return[je(ot[0]),ot[1]]}):[],to(function(ot){for(var St=-1;++St<Y;){var Yt=y[St];if(Oo(Yt[0],this,ot))return Oo(Yt[1],this,ot)}})}function N2(y){return Zs(_a(y,ft))}function r0(y){return function(){return y}}function B2(y,Y){return y==null||y!==y?Y:y}var W2=Lf(),H2=Lf(!0);function vl(y){return y}function o0(y){return gr(typeof y=="function"?y:_a(y,ft))}function F2(y){return Rr(_a(y,ft))}function U2(y,Y){return Nr(y,_a(Y,ft))}var K2=to(function(y,Y){return function(je){return jt(je,y,Y)}}),$2=to(function(y,Y){return function(je){return jt(y,je,Y)}});function i0(y,Y,je){var ot=La(Y),St=we(Y,ot);je==null&&!(sa(Y)&&(St.length||!ot.length))&&(je=Y,Y=y,y=this,St=we(Y,La(Y)));var Yt=!(sa(je)&&"chain"in je)||!!je.chain,Ln=ws(y);return ri(St,function(Kn){var rr=Y[Kn];y[Kn]=rr,Ln&&(y.prototype[Kn]=function(){var Ar=this.__chain__;if(Yt||Ar){var Zr=y(this.__wrapped__),Kr=Zr.__actions__=hl(this.__actions__);return Kr.push({func:rr,args:arguments,thisArg:y}),Zr.__chain__=Ar,Zr}return rr.apply(y,Ea([this.value()],arguments))})}),y}function V2(){return Or._===this&&(Or._=Mo),this}function a0(){}function Y2(y){return y=ui(y),to(function(Y){return ho(Y,y)})}var G2=Zd(ki),q2=Zd(bi),X2=Zd(zi);function Ip(y){return Ud(y)?ia(ls(y)):vo(y)}function J2(y){return function(Y){return y==null?A:de(y,Y)}}var Q2=Rf(),ex=Rf(!0);function l0(){return[]}function s0(){return!1}function tx(){return{}}function nx(){return""}function rx(){return!0}function ox(y,Y){if(y=ui(y),y<1||y>X)return[];var je=R,ot=Pr(y,R);Y=Wo(Y),y-=R;for(var St=Pa(ot,Y);++je<y;)Y(je);return St}function ix(y){return ii(y)?ki(y,ls):_l(y)?[y]:hl(Jf(Di(y)))}function ax(y){var Y=++Br;return Di(y)+Y}var lx=hu(function(y,Y){return y+Y},0),sx=zd("ceil"),cx=hu(function(y,Y){return y/Y},1),ux=zd("floor");function dx(y){return y&&y.length?ns(y,vl,Pe):A}function fx(y,Y){return y&&y.length?ns(y,Wo(Y,2),Pe):A}function px(y){return ca(y,vl)}function hx(y,Y){return ca(y,Wo(Y,2))}function mx(y){return y&&y.length?ns(y,vl,Qr):A}function gx(y,Y){return y&&y.length?ns(y,Wo(Y,2),Qr):A}var vx=hu(function(y,Y){return y*Y},1),bx=zd("round"),yx=hu(function(y,Y){return y-Y},0);function xx(y){return y&&y.length?Ka(y,vl):0}function wx(y,Y){return y&&y.length?Ka(y,Wo(Y,2)):0}return Rt.after=Fb,Rt.ary=cp,Rt.assign=Ty,Rt.assignIn=Ep,Rt.assignInWith=ju,Rt.assignWith=Py,Rt.at=Iy,Rt.before=up,Rt.bind=qd,Rt.bindAll=Z2,Rt.bindKey=dp,Rt.castArray=ty,Rt.chain=ap,Rt.chunk=uv,Rt.compact=dv,Rt.concat=fv,Rt.cond=z2,Rt.conforms=N2,Rt.constant=r0,Rt.countBy=xb,Rt.create=Dy,Rt.curry=fp,Rt.curryRight=pp,Rt.debounce=hp,Rt.defaults=Ly,Rt.defaultsDeep=Ay,Rt.defer=Ub,Rt.delay=Kb,Rt.difference=pv,Rt.differenceBy=hv,Rt.differenceWith=mv,Rt.drop=gv,Rt.dropRight=vv,Rt.dropRightWhile=bv,Rt.dropWhile=yv,Rt.fill=xv,Rt.filter=kb,Rt.flatMap=_b,Rt.flatMapDeep=Cb,Rt.flatMapDepth=jb,Rt.flatten=np,Rt.flattenDeep=wv,Rt.flattenDepth=kv,Rt.flip=$b,Rt.flow=W2,Rt.flowRight=H2,Rt.fromPairs=Ev,Rt.functions=Hy,Rt.functionsIn=Fy,Rt.groupBy=Ob,Rt.initial=_v,Rt.intersection=Cv,Rt.intersectionBy=jv,Rt.intersectionWith=Ov,Rt.invert=Ky,Rt.invertBy=$y,Rt.invokeMap=Tb,Rt.iteratee=o0,Rt.keyBy=Pb,Rt.keys=La,Rt.keysIn=gl,Rt.map=wu,Rt.mapKeys=Yy,Rt.mapValues=Gy,Rt.matches=F2,Rt.matchesProperty=U2,Rt.memoize=Eu,Rt.merge=qy,Rt.mergeWith=Sp,Rt.method=K2,Rt.methodOf=$2,Rt.mixin=i0,Rt.negate=Su,Rt.nthArg=Y2,Rt.omit=Xy,Rt.omitBy=Jy,Rt.once=Vb,Rt.orderBy=Ib,Rt.over=G2,Rt.overArgs=Yb,Rt.overEvery=q2,Rt.overSome=X2,Rt.partial=Xd,Rt.partialRight=mp,Rt.partition=Db,Rt.pick=Qy,Rt.pickBy=_p,Rt.property=Ip,Rt.propertyOf=J2,Rt.pull=Iv,Rt.pullAll=op,Rt.pullAllBy=Dv,Rt.pullAllWith=Lv,Rt.pullAt=Av,Rt.range=Q2,Rt.rangeRight=ex,Rt.rearg=Gb,Rt.reject=Rb,Rt.remove=Rv,Rt.rest=qb,Rt.reverse=Yd,Rt.sampleSize=zb,Rt.set=t2,Rt.setWith=n2,Rt.shuffle=Nb,Rt.slice=Zv,Rt.sortBy=Hb,Rt.sortedUniq=Uv,Rt.sortedUniqBy=Kv,Rt.split=_2,Rt.spread=Xb,Rt.tail=$v,Rt.take=Vv,Rt.takeRight=Yv,Rt.takeRightWhile=Gv,Rt.takeWhile=qv,Rt.tap=db,Rt.throttle=Jb,Rt.thru=xu,Rt.toArray=xp,Rt.toPairs=Cp,Rt.toPairsIn=jp,Rt.toPath=ix,Rt.toPlainObject=kp,Rt.transform=r2,Rt.unary=Qb,Rt.union=Xv,Rt.unionBy=Jv,Rt.unionWith=Qv,Rt.uniq=eb,Rt.uniqBy=tb,Rt.uniqWith=nb,Rt.unset=o2,Rt.unzip=Gd,Rt.unzipWith=ip,Rt.update=i2,Rt.updateWith=a2,Rt.values=kc,Rt.valuesIn=l2,Rt.without=rb,Rt.words=Tp,Rt.wrap=ey,Rt.xor=ob,Rt.xorBy=ib,Rt.xorWith=ab,Rt.zip=lb,Rt.zipObject=sb,Rt.zipObjectDeep=cb,Rt.zipWith=ub,Rt.entries=Cp,Rt.entriesIn=jp,Rt.extend=Ep,Rt.extendWith=ju,i0(Rt,Rt),Rt.add=lx,Rt.attempt=Pp,Rt.camelCase=d2,Rt.capitalize=Op,Rt.ceil=sx,Rt.clamp=s2,Rt.clone=ny,Rt.cloneDeep=oy,Rt.cloneDeepWith=iy,Rt.cloneWith=ry,Rt.conformsTo=ay,Rt.deburr=Mp,Rt.defaultTo=B2,Rt.divide=cx,Rt.endsWith=f2,Rt.eq=Fl,Rt.escape=p2,Rt.escapeRegExp=h2,Rt.every=wb,Rt.find=Eb,Rt.findIndex=ep,Rt.findKey=Ry,Rt.findLast=Sb,Rt.findLastIndex=tp,Rt.findLastKey=Zy,Rt.floor=ux,Rt.forEach=lp,Rt.forEachRight=sp,Rt.forIn=zy,Rt.forInRight=Ny,Rt.forOwn=By,Rt.forOwnRight=Wy,Rt.get=e0,Rt.gt=ly,Rt.gte=sy,Rt.has=Uy,Rt.hasIn=t0,Rt.head=rp,Rt.identity=vl,Rt.includes=Mb,Rt.indexOf=Sv,Rt.inRange=c2,Rt.invoke=Vy,Rt.isArguments=oc,Rt.isArray=ii,Rt.isArrayBuffer=cy,Rt.isArrayLike=ml,Rt.isArrayLikeObject=ya,Rt.isBoolean=uy,Rt.isBuffer=Ws,Rt.isDate=dy,Rt.isElement=fy,Rt.isEmpty=py,Rt.isEqual=hy,Rt.isEqualWith=my,Rt.isError=Jd,Rt.isFinite=gy,Rt.isFunction=ws,Rt.isInteger=gp,Rt.isLength=_u,Rt.isMap=vp,Rt.isMatch=vy,Rt.isMatchWith=by,Rt.isNaN=yy,Rt.isNative=xy,Rt.isNil=ky,Rt.isNull=wy,Rt.isNumber=bp,Rt.isObject=sa,Rt.isObjectLike=ha,Rt.isPlainObject=Uc,Rt.isRegExp=Qd,Rt.isSafeInteger=Ey,Rt.isSet=yp,Rt.isString=Cu,Rt.isSymbol=_l,Rt.isTypedArray=wc,Rt.isUndefined=Sy,Rt.isWeakMap=_y,Rt.isWeakSet=Cy,Rt.join=Mv,Rt.kebabCase=m2,Rt.last=Al,Rt.lastIndexOf=Tv,Rt.lowerCase=g2,Rt.lowerFirst=v2,Rt.lt=jy,Rt.lte=Oy,Rt.max=dx,Rt.maxBy=fx,Rt.mean=px,Rt.meanBy=hx,Rt.min=mx,Rt.minBy=gx,Rt.stubArray=l0,Rt.stubFalse=s0,Rt.stubObject=tx,Rt.stubString=nx,Rt.stubTrue=rx,Rt.multiply=vx,Rt.nth=Pv,Rt.noConflict=V2,Rt.noop=a0,Rt.now=ku,Rt.pad=b2,Rt.padEnd=y2,Rt.padStart=x2,Rt.parseInt=w2,Rt.random=u2,Rt.reduce=Lb,Rt.reduceRight=Ab,Rt.repeat=k2,Rt.replace=E2,Rt.result=e2,Rt.round=bx,Rt.runInContext=Ot,Rt.sample=Zb,Rt.size=Bb,Rt.snakeCase=S2,Rt.some=Wb,Rt.sortedIndex=zv,Rt.sortedIndexBy=Nv,Rt.sortedIndexOf=Bv,Rt.sortedLastIndex=Wv,Rt.sortedLastIndexBy=Hv,Rt.sortedLastIndexOf=Fv,Rt.startCase=C2,Rt.startsWith=j2,Rt.subtract=yx,Rt.sum=xx,Rt.sumBy=wx,Rt.template=O2,Rt.times=ox,Rt.toFinite=ks,Rt.toInteger=ui,Rt.toLength=wp,Rt.toLower=M2,Rt.toNumber=Rl,Rt.toSafeInteger=My,Rt.toString=Di,Rt.toUpper=T2,Rt.trim=P2,Rt.trimEnd=I2,Rt.trimStart=D2,Rt.truncate=L2,Rt.unescape=A2,Rt.uniqueId=ax,Rt.upperCase=R2,Rt.upperFirst=n0,Rt.each=lp,Rt.eachRight=sp,Rt.first=rp,i0(Rt,function(){var y={};return K(Rt,function(Y,je){Tr.call(Rt.prototype,je)||(y[je]=Y)}),y}(),{chain:!1}),Rt.VERSION=ce,ri(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){Rt[y].placeholder=Rt}),ri(["drop","take"],function(y,Y){Yo.prototype[y]=function(je){je=je===A?1:ar(ui(je),0);var ot=this.__filtered__&&!Y?new Yo(this):this.clone();return ot.__filtered__?ot.__takeCount__=Pr(je,ot.__takeCount__):ot.__views__.push({size:Pr(je,R),type:y+(ot.__dir__<0?"Right":"")}),ot},Yo.prototype[y+"Right"]=function(je){return this.reverse()[y](je).reverse()}}),ri(["filter","map","takeWhile"],function(y,Y){var je=Y+1,ot=je==le||je==ve;Yo.prototype[y]=function(St){var Yt=this.clone();return Yt.__iteratees__.push({iteratee:Wo(St,3),type:je}),Yt.__filtered__=Yt.__filtered__||ot,Yt}}),ri(["head","last"],function(y,Y){var je="take"+(Y?"Right":"");Yo.prototype[y]=function(){return this[je](1).value()[0]}}),ri(["initial","tail"],function(y,Y){var je="drop"+(Y?"":"Right");Yo.prototype[y]=function(){return this.__filtered__?new Yo(this):this[je](1)}}),Yo.prototype.compact=function(){return this.filter(vl)},Yo.prototype.find=function(y){return this.filter(y).head()},Yo.prototype.findLast=function(y){return this.reverse().find(y)},Yo.prototype.invokeMap=to(function(y,Y){return typeof y=="function"?new Yo(this):this.map(function(je){return jt(je,y,Y)})}),Yo.prototype.reject=function(y){return this.filter(Su(Wo(y)))},Yo.prototype.slice=function(y,Y){y=ui(y);var je=this;return je.__filtered__&&(y>0||Y<0)?new Yo(je):(y<0?je=je.takeRight(-y):y&&(je=je.drop(y)),Y!==A&&(Y=ui(Y),je=Y<0?je.dropRight(-Y):je.take(Y-y)),je)},Yo.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},Yo.prototype.toArray=function(){return this.take(R)},K(Yo.prototype,function(y,Y){var je=/^(?:filter|find|map|reject)|While$/.test(Y),ot=/^(?:head|last)$/.test(Y),St=Rt[ot?"take"+(Y=="last"?"Right":""):Y],Yt=ot||/^find/.test(Y);St&&(Rt.prototype[Y]=function(){var Ln=this.__wrapped__,Kn=ot?[1]:arguments,rr=Ln instanceof Yo,Ar=Kn[0],Zr=rr||ii(Ln),Kr=function(wi){var Ci=St.apply(Rt,Ea([wi],Kn));return ot&&go?Ci[0]:Ci};Zr&&je&&typeof Ar=="function"&&Ar.length!=1&&(rr=Zr=!1);var go=this.__chain__,Io=!!this.__actions__.length,Fo=Yt&&!go,pi=rr&&!Io;if(!Yt&&Zr){Ln=pi?Ln:new Yo(this);var Uo=y.apply(Ln,Kn);return Uo.__actions__.push({func:xu,args:[Kr],thisArg:A}),new Pi(Uo,go)}return Fo&&pi?y.apply(this,Kn):(Uo=this.thru(Kr),Fo?ot?Uo.value()[0]:Uo.value():Uo)})}),ri(["pop","push","shift","sort","splice","unshift"],function(y){var Y=jr[y],je=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",ot=/^(?:pop|shift)$/.test(y);Rt.prototype[y]=function(){var St=arguments;if(ot&&!this.__chain__){var Yt=this.value();return Y.apply(ii(Yt)?Yt:[],St)}return this[je](function(Ln){return Y.apply(ii(Ln)?Ln:[],St)})}}),K(Yo.prototype,function(y,Y){var je=Rt[Y];if(je){var ot=je.name+"";Tr.call(_i,ot)||(_i[ot]=[]),_i[ot].push({name:Y,func:je})}}),_i[pu(A,v).name]=[{name:"wrapper",func:A}],Yo.prototype.clone=Na,Yo.prototype.reverse=ul,Yo.prototype.value=es,Rt.prototype.at=fb,Rt.prototype.chain=pb,Rt.prototype.commit=hb,Rt.prototype.next=mb,Rt.prototype.plant=vb,Rt.prototype.reverse=bb,Rt.prototype.toJSON=Rt.prototype.valueOf=Rt.prototype.value=yb,Rt.prototype.first=Rt.prototype.head,Dt&&(Rt.prototype[Dt]=gb),Rt},Wn=Cn();Cr?((Cr.exports=Wn)._=Wn,Er._=Wn):Or._=Wn}).call(dw)}(Au,Au.exports)),Au.exports}var Ks=fw();function qm(n,m,A){const ce=Object.keys(n),Ce=Object.keys(m);if(ce.length!==Ce.length)return!1;for(const Ne of ce){const Ge=n[Ne],$e=m[Ne],mt=Ks.isObject(Ge)&&Ks.isObject($e);if((mt&&!qm(Ge,$e,A)||!mt&&Ge!==$e)&&!A.includes(Ne))return!1}return!0}function pw(n,m,A){return!!(m&&(m.id===n.editingElement?.id||m.id===n.resizingElement?.id||m.id===n.draggingElement?.id||m.version>A.version||m.version===A.version&&m.versionNonce<A.versionNonce)||m&&m.type==="embeddable"&&qm(m,A,["versionNonce","version","updated","validated"]))}function hw(n){return n instanceof Map?n:n.reduce((m,A)=>(m.set(typeof A=="string"?A:A.id,A),m),new Map)}function mw(n,m,A){const ce=new Set,Ce=hw(n),Ne=[];for(const Ge of m)if(!ce.has(Ge.id)){const $e=Ce.get(Ge.id),mt=pw(A,$e,Ge);$e&&mt?(Ne.push($e),ce.add($e.id)):(Ne.push(Ge),ce.add(Ge.id))}for(const Ge of n)ce.has(Ge.id)||(Ne.push(Ge),ce.add(Ge.id));return Ne}function Xm(n,m){let A;try{A=n()}catch{return}return{getItem:ce=>{var Ce;const Ne=$e=>$e===null?null:JSON.parse($e,void 0),Ge=(Ce=A.getItem(ce))!=null?Ce:null;return Ge instanceof Promise?Ge.then(Ne):Ne(Ge)},setItem:(ce,Ce)=>A.setItem(ce,JSON.stringify(Ce,void 0)),removeItem:ce=>A.removeItem(ce)}}const C0=n=>m=>{try{const A=n(m);return A instanceof Promise?A:{then(ce){return C0(ce)(A)},catch(ce){return this}}}catch(A){return{then(ce){return this},catch(ce){return C0(ce)(A)}}}},gw=(n,m)=>(A,ce,Ce)=>{let Ne={storage:Xm(()=>localStorage),partialize:e=>e,version:0,merge:(e,w)=>({...w,...e}),...m},Ge=!1;const $e=new Set,mt=new Set;let yt=Ne.storage;if(!yt)return n((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${Ne.name}', the given storage is currently unavailable.`),A(...e)},ce,Ce);const Et=()=>{const e=Ne.partialize({...ce()});return yt.setItem(Ne.name,{state:e,version:Ne.version})},ft=Ce.setState;Ce.setState=(e,w)=>{ft(e,w),Et()};const We=n((...e)=>{A(...e),Et()},ce,Ce);Ce.getInitialState=()=>We;let te;const t=()=>{var e,w;if(!yt)return;Ge=!1,$e.forEach(d=>{var b;return d((b=ce())!=null?b:We)});const v=((w=Ne.onRehydrateStorage)==null?void 0:w.call(Ne,(e=ce())!=null?e:We))||void 0;return C0(yt.getItem.bind(yt))(Ne.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==Ne.version){if(Ne.migrate){const b=Ne.migrate(d.state,d.version);return b instanceof Promise?b.then(T=>[!0,T]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var b;const[T,S]=d;if(te=Ne.merge(S,(b=ce())!=null?b:We),A(te,!0),T)return Et()}).then(()=>{v?.(te,void 0),te=ce(),Ge=!0,mt.forEach(d=>d(te))}).catch(d=>{v?.(void 0,d)})};return Ce.persist={setOptions:e=>{Ne={...Ne,...e},e.storage&&(yt=e.storage)},clearStorage:()=>{yt?.removeItem(Ne.name)},getOptions:()=>Ne,rehydrate:()=>t(),hasHydrated:()=>Ge,onHydrate:e=>($e.add(e),()=>{$e.delete(e)}),onFinishHydration:e=>(mt.add(e),()=>{mt.delete(e)})},Ne.skipHydration||t(),te||We},vw=gw,Jm={type:null,message:null,consecutiveFailures:0,lastFailureTime:null,isPersistent:!1},qp={status:"offline",socket:null,isDedicatedSyncer:!1,authError:Jm},bw=3,yw=5*60*1e3,Hi=Rc()(n=>({...qp,setStatus:m=>n(A=>A.status===m?{}:{status:m}),setSocket:m=>n({socket:m}),setDedicatedSyncer:m=>n({isDedicatedSyncer:m}),setAuthError:m=>n(A=>({authError:{...A.authError,...m}})),incrementAuthFailure:(m,A)=>n(ce=>{const Ce=Date.now(),Ne=ce.authError.consecutiveFailures+1,Ge=Ne>=bw&&(ce.authError.lastFailureTime===null||Ce-ce.authError.lastFailureTime<yw);return{authError:{type:m,message:A,consecutiveFailures:Ne,lastFailureTime:Ce,isPersistent:Ge}}}),clearAuthError:()=>n({authError:Jm}),resetStore:()=>n(qp)})),Xp=90;function Jp(n){const m=n.split(".");return m.length===3&&!!m[0]&&!!m[1]&&!!m[2]}const vd=Rc()(vw((n,m)=>({tokens:{},tokenExpiries:{},autoRefreshTimers:{},refreshPromise:null,parseJwt:A=>{try{if(!Jp(A))return console.error("[JWTStore] Invalid token format"),null;const ce=A.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),Ce=decodeURIComponent(atob(ce).split("").map($e=>"%"+("00"+$e.charCodeAt(0).toString(16)).slice(-2)).join("")),Ne=JSON.parse(Ce);if(!Ne||typeof Ne!="object")return console.error("[JWTStore] Invalid token payload structure"),null;if(!Ne.exp||!Ne.iat||!Ne.userid||Ne.fileId===void 0)return console.error("[JWTStore] Token missing required fields",Ne),null;const Ge=Math.floor(Date.now()/1e3);return Ne.exp<Ge&&console.error("[JWTStore] Token has expired"),Ne}catch(ce){return console.error("[JWTStore] Error parsing JWT:",ce),null}},validateJwtIntegrity:A=>{try{if(!Jp(A))return!1;const ce=m().parseJwt(A);if(!ce)return!1;const Ce=Math.floor(Date.now()/1e3);return ce.exp<Ce?(console.warn("[JWTStore] Token validation failed: expired"),!1):ce.iat>Ce+60?(console.warn("[JWTStore] Token validation failed: issued in future"),!1):!ce.userid||typeof ce.userid!="string"?(console.warn("[JWTStore] Token validation failed: invalid userid"),!1):ce.fileId===void 0||typeof ce.fileId!="number"?(console.warn("[JWTStore] Token validation failed: invalid fileId"),!1):!0}catch(ce){return console.error("[JWTStore] Error validating JWT integrity:",ce),!1}},isTokenExpired:A=>{const{tokens:ce,tokenExpiries:Ce}=m(),Ne=ce[A],Ge=Ce[A];return!Ne||!Ge?!0:Math.floor(Date.now()/1e3)>=Ge-Xp},getJWT:async()=>{const{fileId:A}=Li.getState(),{authError:ce}=Hi.getState();if(ce.isPersistent)return console.warn("[JWTStore] Persistent auth error detected, working in local-only mode"),Li.getState().setReadOnly(!0),null;const{tokens:Ce,isTokenExpired:Ne,setupAutoRefresh:Ge,validateJwtIntegrity:$e}=m(),mt=Ce[A],yt=String(A);if(mt)if(!$e(mt))console.error("[JWTStore] Stored token failed integrity validation"),console.log("[JWTStore] Will attempt to refresh invalid token"),Hi.getState().incrementAuthFailure("jwt_secret_mismatch","Stored JWT token failed integrity validation"),console.warn("[JWTStore] Invalid token, enforcing read-only mode until refresh completes"),Li.getState().setReadOnly(!0);else if(Ne(yt))console.log("[JWTStore] Token is expired, will attempt to refresh"),console.warn("[JWTStore] Using expired token, enforcing read-only mode until refresh completes"),Li.getState().setReadOnly(!0);else{const ft=m().parseJwt(mt);if(!ft)console.error("[JWTStore] Failed to parse valid token"),Li.getState().setReadOnly(!0);else{if(ft.fileId===A)return Ge(yt),ft.isFileReadOnly!==void 0&&(console.log(`[JWTStore] Setting permissions from valid token: ${ft.isFileReadOnly?"read-only":"write"} access`),Li.getState().setReadOnly(ft.isFileReadOnly)),mt;console.error(`[JWTStore] Stored token is for fileId ${ft.fileId}, but requested fileId is ${A}`),Li.getState().setReadOnly(!0)}}if(m().refreshPromise)return console.log("[JWTStore] Token refresh already in progress, waiting for it to complete"),m().refreshPromise;const Et=m().refreshJWT();n({refreshPromise:Et});try{const ft=await Et;return ft&&Ge(yt),ft}finally{n({refreshPromise:null})}},refreshJWT:async()=>{const{fileId:A,publicSharingToken:ce}=Li.getState(),{authError:Ce}=Hi.getState();if(Ce.isPersistent)return console.warn("[JWTStore] Persistent auth error detected, skipping token refresh"),Li.getState().setReadOnly(!0),null;try{console.log(`[JWTStore] Refreshing JWT for room ${A}`);const Ne=Ac(`apps/whiteboard/${A}/token`),Ge=ce?`${Ne}?publicSharingToken=${encodeURIComponent(ce)}`:Ne,$e=await Gl.get(Ge,{withCredentials:!0}),{token:mt}=$e.data;if(!mt)return console.error("[JWTStore] No token received from server"),null;if(!m().validateJwtIntegrity(mt))return console.error("[JWTStore] Refreshed token failed integrity validation"),Hi.getState().incrementAuthFailure("jwt_secret_mismatch","Refreshed JWT token failed integrity validation - possible secret mismatch"),Li.getState().setReadOnly(!0),null;const yt=m().parseJwt(mt);if(!yt)return console.error("[JWTStore] Failed to parse validated token"),null;if(yt.fileId!==A)return console.error(`[JWTStore] Token fileId (${yt.fileId}) doesn't match requested fileId (${A})`),null;n(ft=>({tokens:{...ft.tokens,[A]:mt},tokenExpiries:{...ft.tokenExpiries,[A]:yt.exp}})),console.log(`[JWTStore] JWT refreshed for room ${A}, expires at ${new Date(yt.exp*1e3).toISOString()}`);const{authError:Et}=Hi.getState();return Et.type!=="jwt_secret_mismatch"&&Hi.getState().clearAuthError(),yt.isFileReadOnly!==void 0&&(console.log(`[JWTStore] JWT indicates ${yt.isFileReadOnly?"read-only":"write"} access`),Li.getState().setReadOnly(yt.isFileReadOnly)),mt}catch(Ne){if(console.error("[JWTStore] Error refreshing JWT:",Ne),Ne instanceof Error&&"response"in Ne&&Ne.response){const $e=Ne.response.status;($e===401||$e===403)&&(console.warn("[JWTStore] Authentication error during token refresh"),Hi.getState().incrementAuthFailure("unauthorized","Authentication failed during token refresh"))}Ne instanceof Error&&(Ne.message.includes("Network Error")||Ne.message.includes("Failed to fetch")||Ne.message.includes("timeout"))&&console.log("[JWTStore] Network error detected during token refresh");const Ge=m().tokens[A];if(Ge){const $e=m().parseJwt(Ge);return $e?$e.isFileReadOnly!==void 0&&(console.log(`[JWTStore] Setting permissions from fallback token: ${$e.isFileReadOnly?"read-only":"write"} access`),Li.getState().setReadOnly($e.isFileReadOnly)):(console.warn("[JWTStore] Invalid token after refresh failure, enforcing read-only mode"),Li.getState().setReadOnly(!0)),console.log("[JWTStore] Using existing token after refresh failure"),Ge}return console.warn("[JWTStore] No token available after refresh failure, enforcing read-only mode"),Li.getState().setReadOnly(!0),null}},executeWithJWT:async A=>{try{const ce=await m().getJWT();if(!ce)throw console.warn("[JWTStore] No token available for API call, enforcing read-only mode"),Li.getState().setReadOnly(!0),new Error("Failed to obtain JWT token");const Ce=await A(ce),{authError:Ne}=Hi.getState();return Ne.type!=="jwt_secret_mismatch"&&Hi.getState().clearAuthError(),Ce}catch(ce){if(ce instanceof Error&&"response"in ce&&ce.response&&ce.response.status!==void 0&&(ce.response.status===401||ce.response.status===403)){console.warn("[JWTStore] Authentication error, enforcing read-only mode"),Li.getState().setReadOnly(!0);const Ce=ce.response.status,Ne=Ce===401?"token_expired":"unauthorized";Hi.getState().incrementAuthFailure(Ne,`Authentication failed with status ${Ce}`);const{authError:Ge}=Hi.getState();if(Ge.isPersistent)throw console.warn("[JWTStore] Persistent auth error detected, not attempting token refresh"),Li.getState().setReadOnly(!0),new Error("Persistent authentication error - working in local-only mode");if(console.log("[JWTStore] Token expired or invalid, refreshing and retrying..."),m().refreshPromise){console.log("[JWTStore] Token refresh already in progress, waiting for it to complete");const mt=await m().refreshPromise;if(!mt)throw new Error("Failed to refresh JWT token");return await A(mt)}const $e=m().refreshJWT();n({refreshPromise:$e});try{const mt=await $e;if(!mt)throw new Error("Failed to refresh JWT token");return await A(mt)}finally{n({refreshPromise:null})}}throw ce}},setupAutoRefresh:A=>{const{autoRefreshTimers:ce,tokenExpiries:Ce,refreshJWT:Ne}=m();ce[A]&&clearTimeout(ce[A]);const Ge=Ce[A];if(!Ge){console.log(`[JWTStore] No expiry found for room ${A}, skipping auto-refresh setup`);return}const $e=Math.floor(Date.now()/1e3),mt=Math.max(0,(Ge-Xp-$e)*1e3);console.log(`[JWTStore] Setting up auto-refresh for room ${A} in ${Math.round(mt/1e3)} seconds (at ${new Date(Date.now()+mt).toISOString()})`);const yt=window.setTimeout(async()=>{console.log(`[JWTStore] Auto-refresh timer triggered for room ${A}`);const{authError:Et}=Hi.getState();if(Et.isPersistent){console.warn("[JWTStore] Persistent auth error detected, skipping auto-refresh");return}await Ne(),m().setupAutoRefresh(A)},mt);n(Et=>({autoRefreshTimers:{...Et.autoRefreshTimers,[A]:yt}}))},clearAutoRefresh:A=>{const{autoRefreshTimers:ce}=m();ce[A]&&(clearTimeout(ce[A]),n(Ce=>{const Ne={...Ce.autoRefreshTimers};return delete Ne[A],{autoRefreshTimers:Ne}}),console.log(`[JWTStore] Cleared auto-refresh timer for room ${A}`))},clearTokens:()=>{const{autoRefreshTimers:A}=m();Object.values(A).forEach(ce=>{clearTimeout(ce)}),n({tokens:{},tokenExpiries:{},autoRefreshTimers:{}}),console.log("[JWTStore] All tokens and timers cleared")}}),{name:"jwt-storage",storage:Xm(()=>localStorage),partialize:n=>({tokens:n.tokens,tokenExpiries:n.tokenExpiries,autoRefreshTimers:{},refreshPromise:null})})),Qp=n=>Symbol.iterator in n,eh=n=>"entries"in n,th=(n,m)=>{const A=n instanceof Map?n:new Map(n.entries()),ce=m instanceof Map?m:new Map(m.entries());if(A.size!==ce.size)return!1;for(const[Ce,Ne]of A)if(!Object.is(Ne,ce.get(Ce)))return!1;return!0},xw=(n,m)=>{const A=n[Symbol.iterator](),ce=m[Symbol.iterator]();let Ce=A.next(),Ne=ce.next();for(;!Ce.done&&!Ne.done;){if(!Object.is(Ce.value,Ne.value))return!1;Ce=A.next(),Ne=ce.next()}return!!Ce.done&&!!Ne.done};function ww(n,m){return Object.is(n,m)?!0:typeof n!="object"||n===null||typeof m!="object"||m===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(m)?!1:Qp(n)&&Qp(m)?eh(n)&&eh(m)?th(n,m):xw(n,m):th({entries:()=>Object.entries(n)},{entries:()=>Object.entries(m)})}function Ua(n){const m=Jo.useRef(void 0);return A=>{const ce=n(A);return ww(m.current,ce)?m.current:m.current=ce}}const kw=50;function Ew(){const n=lo.useRef(null),{excalidrawAPI:m}=fc(Ua(G=>({excalidrawAPI:G.excalidrawAPI}))),{getJWT:A,clearTokens:ce}=vd(Ua(G=>({getJWT:G.getJWT,clearTokens:G.clearTokens}))),{fileId:Ce}=Li(Ua(G=>({fileId:G.fileId}))),{setStatus:Ne,setSocket:Ge,setDedicatedSyncer:$e,incrementAuthFailure:mt,clearAuthError:yt,resetStore:Et}=Hi(Ua(G=>({setStatus:G.setStatus,setSocket:G.setSocket,setDedicatedSyncer:G.setDedicatedSyncer,incrementAuthFailure:G.incrementAuthFailure,clearAuthError:G.clearAuthError,resetStore:G.resetStore}))),ft=lo.useCallback(G=>{if(m)try{const le=$l.restoreElements(G,null),he=m.getSceneElementsIncludingDeleted()||[],ve=m.getAppState(),fe=mw(he,le,ve);m.updateScene({elements:fe});const X=m.getFiles(),q=Hi.getState().socket;q?.connected&&Ce&&le.filter(U=>U.type==="image"&&U.fileId&&!X[U.fileId]).forEach(U=>{const R=U.fileId;console.log(`[Collaboration] Requesting missing image: ${R}`),q.emit("image-get",`${Ce}`,R)})}catch(le){console.error("[Collaboration] Error reconciling remote elements:",le)}},[m,Ce]),We=lo.useCallback(G=>{if(m)try{m.getFiles()[G.id]?console.log(`[Collaboration] Image already exists: ${G.id}, skipping`):(console.log(`[Collaboration] Adding received image: ${G.id}`),m.addFiles([G]))}catch(le){console.error("[Collaboration] Error processing received image:",le)}},[m]),te=lo.useCallback(G=>{if(!m)return;const le=new Map;G.forEach(he=>{le.set(he.user.id,{id:he.user.id,username:he.user.name,pointer:he.pointer,button:he.button,selectedElementIds:he.selectedElementIds})}),m.updateScene({collaborators:le}),console.log(`[Collaboration] Updated collaborators: ${le.size} users online`)},[m]),t=lo.useCallback(G=>{if(m)try{const le=m.getAppState().collaborators||new Map,he=new Map(le);he.set(G.user.id,{id:G.user.id,username:G.user.name,pointer:G.pointer,button:G.button,selectedElementIds:{}}),m.updateScene({collaborators:he})}catch(le){console.error("[Collaboration] Error updating cursor:",le)}},[m]),e=lo.useMemo(()=>Ks.throttle(t,kw,{leading:!1,trailing:!0}),[t]),w=lo.useCallback(G=>{if(!G.user?.id||!G.pointer){console.warn("[Collaboration] Invalid cursor payload:",G);return}e({pointer:G.pointer,button:G.button,user:G.user})},[e]),v=lo.useCallback(()=>{m&&m.updateScene({collaborators:new Map})},[m]),d=lo.useCallback(async()=>{console.log("[Collaboration] Refreshing authentication token..."),Ne("connecting"),ce();try{const G=await A(),le=Hi.getState().socket;if(!G)throw new Error("Failed to obtain new JWT token.");le?(le.auth={token:G},le.connected||le.connect()):(console.log("[Collaboration] Socket missing, initiating full connection after token refresh."),await F.current())}catch(G){console.error("[Collaboration] Failed to refresh token or connect:",G),Ne("offline")}},[A,Ne]),b=lo.useMemo(()=>Ks.debounce((G,le)=>{console.log(`[Collaboration] Debounced join room ${le}`),G.emit("join-room",le)},300,{leading:!0,trailing:!1}),[]),T=lo.useCallback(()=>{const G=Hi.getState().socket,le=`${Ce}`;if(!Ce||!G||!G.connected){console.warn("[Collaboration] Cannot join room:",{hasFileId:!!Ce,hasSocket:!!G,connected:G?.connected});return}if(n.current===le){console.log(`[Collaboration] Already joined room ${le}, skipping`);return}console.log(`[Collaboration] Joining room ${le}`),n.current=le,b(G,le)},[Ce,b]),S=lo.useCallback(G=>{try{const le=JSON.parse(new TextDecoder().decode(G));if(!le||!le.type){console.warn("[Collaboration] Invalid broadcast data:",le);return}switch(le.type){case"SCENE_INIT":Array.isArray(le.payload?.elements)?ft(le.payload.elements):console.warn("[Collaboration] Invalid SceneInit payload:",le.payload);break;case"MOUSE_LOCATION":le.payload&&typeof le.payload=="object"?w(le.payload):console.warn("[Collaboration] Invalid MouseLocation payload:",le.payload);break;case"IMAGE_ADD":le.payload?.file?We(le.payload.file):console.warn("[Collaboration] Invalid ImageAdd payload:",le.payload);break;case"IMAGE_REQUEST":if(le.payload?.fileId&&m){const he=le.payload.fileId,ve=m.getFiles()[he];if(ve&&ve.dataURL){console.log(`[Collaboration] Sending requested image: ${he}`);const fe=Hi.getState().socket;if(fe&&fe.connected&&Ce){const X=JSON.stringify({type:"IMAGE_ADD",payload:{file:ve}}),q=new TextEncoder().encode(X);fe.emit("server-broadcast",`${Ce}`,q,[])}}}break;default:console.debug("[Collaboration] Unknown broadcast type:",le.type);break}}catch(le){console.error("[Collaboration] Error processing client broadcast:",le)}},[ft,w,We,m,Ce]),a=lo.useCallback(G=>{console.log(`[Collaboration] Sync designation received: ${G.isSyncer}`),$e(G.isSyncer)},[$e]),c=lo.useCallback(G=>{const{isDedicatedSyncer:le}=Hi.getState();if(le&&m){console.log(`[Collaboration] Broadcasting images to new user: ${G.userName}`);const he=m.getFiles(),ve=Hi.getState().socket;if(!ve||!ve.connected||!Ce)return;Object.entries(he).forEach(([,fe])=>{if(fe&&fe.dataURL){const X=JSON.stringify({type:"IMAGE_ADD",payload:{file:fe}}),q=new TextEncoder().encode(X);ve.emit("server-broadcast",`${Ce}`,q,[])}})}},[m,Ce]),Z=lo.useCallback(G=>(G.removeAllListeners(),G.on("connect_error",async le=>{if(console.error("[Collaboration] Connection Error:",le.message),le.message.includes("Authentication error")){mt("jwt_secret_mismatch","WebSocket authentication failed - possible JWT secret mismatch");const{authError:he}=Hi.getState();if(he.isPersistent){console.warn("[Collaboration] Persistent authentication failures detected, stopping reconnection attempts"),G.disconnect(),Ne("offline");return}G.disconnect(),await d()}else Ne("offline")}),G.on("connect_timeout",()=>{console.warn("[Collaboration] Connection timeout"),Ne("offline")}),G.on("connect",()=>{console.log("[Collaboration] Connected."),Ne("online");const{authError:le}=Hi.getState();le.type!=="jwt_secret_mismatch"&&yt(),n.current=null}),G.on("disconnect",le=>{console.warn(`[Collaboration] Disconnected: ${le}`),v(),Ne("offline"),n.current=null}),G.on("reconnect",le=>{console.log(`[Collaboration] Reconnected after ${le} attempts`),n.current=null}),G.on("reconnect_attempt",le=>{console.log(`[Collaboration] Reconnection attempt ${le}`),Ne("reconnecting")}),G.on("reconnect_error",le=>{console.error("[Collaboration] Reconnection error:",le)}),G.on("init-room",()=>{console.log("[Collaboration] Received init-room event from server, initiating room join"),T()}),G.on("room-user-change",le=>{console.log(`[Collaboration] Room user change: ${le.length} users`),te(le)}),G.on("client-broadcast",S),G.on("sync-designate",a),G.on("user-joined",le=>{console.log(`[Collaboration] User joined: ${le.userName} (${le.userId})`),c(le)}),G),[Ne,T,d,te,S,a,v,c]),F=lo.useRef(()=>Promise.resolve()),_=lo.useRef(null),h=lo.useCallback(async()=>{const{socket:G,status:le}=Hi.getState();if(!Ce){console.warn("[Collaboration] Cannot connect: invalid fileId."),Ne("offline");return}if(le==="online"||le==="connecting"){console.log("[Collaboration] Already online or connecting, skipping connection attempt");return}const{authError:he}=Hi.getState();if(he.isPersistent&&he.type==="jwt_secret_mismatch"){console.warn("[Collaboration] Skipping connection attempt due to persistent JWT secret mismatch"),Ne("offline");return}n.current=null,G&&(console.log("[Collaboration] Disconnecting existing socket before creating new one"),G.disconnect(),Ge(null),await new Promise(ve=>setTimeout(ve,100)));try{Ne("connecting");const ve=Li.getState().collabBackendUrl;if(!ve)throw new Error("Collaboration backend URL missing.");const fe=await A();if(!fe)throw new Error("JWT token missing.");const X=new URL(ve),q=(X.pathname.endsWith("/")?X.pathname:X.pathname+"/")+"socket.io";if(_.current){console.log("[Collaboration] Reusing existing socket instance"),_.current.auth={token:fe},Z(_.current),Ge(_.current),_.current.connected||_.current.connect();return}console.log("[Collaboration] Creating new socket instance");const U=Cx(X.origin,{path:q,auth:{token:fe},transports:["websocket"],reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:1e4,reconnectionAttempts:1/0,perMessageDeflate:{threshold:1024,zlibDeflateOptions:{level:6,memLevel:8,windowBits:15},zlibInflateOptions:{windowBits:15}}});_.current=U,Z(U),Ge(U),U.connect()}catch(ve){console.error("[Collaboration] Connection initiation failed:",ve),Ge(null),_.current=null,Ne("offline")}},[A,Ne,Ge,Z,Ce]);lo.useEffect(()=>{F.current=h},[h]);const x=lo.useCallback(()=>{const G=Hi.getState().socket;G&&(console.log("[Collaboration] Disconnecting socket"),G.removeAllListeners(),G.disconnect(),Ge(null),Ne("offline"),v(),n.current=null),_.current=null},[Ge,Ne,v]);return lo.useEffect(()=>(Ce?(console.log(`[Collaboration] FileId changed to ${Ce}, connecting socket`),h()):(console.log("[Collaboration] No fileId, disconnecting socket"),x()),()=>{b.cancel()}),[Ce,h,x,b]),lo.useEffect(()=>()=>{console.log("[Collaboration] Unmounting, performing full cleanup"),b.cancel(),e.cancel(),x(),Et()},[x,Et,e,b]),{connect:h,disconnect:x}}var nh={exports:{}},f0,rh;function Sw(){if(rh)return f0;rh=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return f0=n,f0}var p0,oh;function _w(){if(oh)return p0;oh=1;var n=Sw();function m(){}function A(){}return A.resetWarningCache=m,p0=function(){function ce(Ge,$e,mt,yt,Et,ft){if(ft!==n){var We=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw We.name="Invariant Violation",We}}ce.isRequired=ce;function Ce(){return ce}var Ne={array:ce,bigint:ce,bool:ce,func:ce,number:ce,object:ce,string:ce,symbol:ce,any:ce,arrayOf:Ce,element:ce,elementType:ce,instanceOf:Ce,node:ce,objectOf:Ce,oneOf:Ce,oneOfType:Ce,shape:Ce,exact:Ce,checkPropTypes:A,resetWarningCache:m};return Ne.PropTypes=Ne,Ne},p0}var ih;function Cw(){return ih||(ih=1,nh.exports=_w()()),nh.exports}var ah,lh;function jw(){return lh||(lh=1,ah=function(n){var m={};function A(ce){if(m[ce])return m[ce].exports;var Ce=m[ce]={i:ce,l:!1,exports:{}};return n[ce].call(Ce.exports,Ce,Ce.exports,A),Ce.l=!0,Ce.exports}return A.m=n,A.c=m,A.d=function(ce,Ce,Ne){A.o(ce,Ce)||Object.defineProperty(ce,Ce,{enumerable:!0,get:Ne})},A.r=function(ce){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ce,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ce,"__esModule",{value:!0})},A.t=function(ce,Ce){if(1&Ce&&(ce=A(ce)),8&Ce||4&Ce&&typeof ce=="object"&&ce&&ce.__esModule)return ce;var Ne=Object.create(null);if(A.r(Ne),Object.defineProperty(Ne,"default",{enumerable:!0,value:ce}),2&Ce&&typeof ce!="string")for(var Ge in ce)A.d(Ne,Ge,function($e){return ce[$e]}.bind(null,Ge));return Ne},A.n=function(ce){var Ce=ce&&ce.__esModule?function(){return ce.default}:function(){return ce};return A.d(Ce,"a",Ce),Ce},A.o=function(ce,Ce){return Object.prototype.hasOwnProperty.call(ce,Ce)},A.p="",A(A.s=2)}([function(n,m){n.exports=Cw()},function(n,m){n.exports=gd()},function(n,m,A){A.r(m);var ce=A(1),Ce=A(0),Ne=function(){return(Ne=Object.assign||function(t){for(var e,w=1,v=arguments.length;w<v;w++)for(var d in e=arguments[w])Object.prototype.hasOwnProperty.call(e,d)&&(t[d]=e[d]);return t}).apply(this,arguments)},Ge=function(t,e){var w={};for(var v in t)Object.prototype.hasOwnProperty.call(t,v)&&e.indexOf(v)<0&&(w[v]=t[v]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(v=Object.getOwnPropertySymbols(t);d<v.length;d++)e.indexOf(v[d])<0&&Object.prototype.propertyIsEnumerable.call(t,v[d])&&(w[v[d]]=t[v[d]])}return w},$e=0,mt=ce.forwardRef(function(t,e){var w=t.title,v=w===void 0?null:w,d=t.description,b=d===void 0?null:d,T=t.size,S=T===void 0?null:T,a=t.color,c=a===void 0?"currentColor":a,Z=t.horizontal,F=Z===void 0?null:Z,_=t.vertical,h=_===void 0?null:_,x=t.rotate,G=x===void 0?null:x,le=t.spin,he=le===void 0?null:le,ve=t.style,fe=ve===void 0?{}:ve,X=t.children,q=Ge(t,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);$e++;var U,R=he!==null&&he,B=ce.Children.map(X,function(p){var r=p;R!==!0&&(R=(he===null?r.props.spin:he)===!0);var o=r.props.size;typeof S=="number"&&typeof r.props.size=="number"&&(o=r.props.size/S);var g={size:o,color:c===null?r.props.color:c,horizontal:F===null?r.props.horizontal:F,vertical:h===null?r.props.vertical:h,rotate:G===null?r.props.rotate:G,spin:he===null?r.props.spin:he,inStack:!0};return ce.cloneElement(r,g)});S!==null&&(fe.width=typeof S=="string"?S:1.5*S+"rem");var M,I="stack_labelledby_"+$e,E="stack_describedby_"+$e;if(v)U=b?I+" "+E:I;else if(M="presentation",b)throw new Error("title attribute required when description is set");return ce.createElement("svg",Ne({ref:e,viewBox:"0 0 24 24",style:fe,role:M,"aria-labelledby":U},q),v&&ce.createElement("title",{id:I},v),b&&ce.createElement("desc",{id:E},b),R&&ce.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),B)});mt.displayName="Stack",mt.propTypes={size:Ce.oneOfType([Ce.number,Ce.string]),color:Ce.string,horizontal:Ce.bool,vertical:Ce.bool,rotate:Ce.number,spin:Ce.oneOfType([Ce.bool,Ce.number]),children:Ce.oneOfType([Ce.arrayOf(Ce.node),Ce.node]).isRequired,className:Ce.string,style:Ce.object},mt.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var yt=mt;A.d(m,"Icon",function(){return te}),A.d(m,"Stack",function(){return yt});var Et=function(){return(Et=Object.assign||function(t){for(var e,w=1,v=arguments.length;w<v;w++)for(var d in e=arguments[w])Object.prototype.hasOwnProperty.call(e,d)&&(t[d]=e[d]);return t}).apply(this,arguments)},ft=function(t,e){var w={};for(var v in t)Object.prototype.hasOwnProperty.call(t,v)&&e.indexOf(v)<0&&(w[v]=t[v]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(v=Object.getOwnPropertySymbols(t);d<v.length;d++)e.indexOf(v[d])<0&&Object.prototype.propertyIsEnumerable.call(t,v[d])&&(w[v[d]]=t[v[d]])}return w},We=0,te=ce.forwardRef(function(t,e){var w=t.path,v=t.id,d=v===void 0?++We:v,b=t.title,T=b===void 0?null:b,S=t.description,a=S===void 0?null:S,c=t.size,Z=c===void 0?null:c,F=t.color,_=F===void 0?"currentColor":F,h=t.horizontal,x=h!==void 0&&h,G=t.vertical,le=G!==void 0&&G,he=t.rotate,ve=he===void 0?0:he,fe=t.spin,X=fe!==void 0&&fe,q=t.style,U=q===void 0?{}:q,R=t.inStack,B=R!==void 0&&R,M=ft(t,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),I={},E=[];Z!==null&&(B?E.push("scale("+Z+")"):(U.width=typeof Z=="string"?Z:1.5*Z+"rem",U.height=U.width)),x&&E.push("scaleX(-1)"),le&&E.push("scaleY(-1)"),ve!==0&&E.push("rotate("+ve+"deg)"),_!==null&&(I.fill=_);var p=ce.createElement("path",Et({d:w,style:I},B?M:{})),r=p;E.length>0&&(U.transform=E.join(" "),U.transformOrigin="center",B&&(r=ce.createElement("g",{style:U},p,ce.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var o,g=r,s=X===!0||typeof X!="number"?2:X,u=!B&&(x||le);if(s<0&&(u=!u),X&&(g=ce.createElement("g",{style:{animation:"spin"+(u?"-inverse":"")+" linear "+Math.abs(s)+"s infinite",transformOrigin:"center"}},r,!(x||le||ve!==0)&&ce.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),B)return g;var k,N="icon_labelledby_"+d,W="icon_describedby_"+d;if(T)o=a?N+" "+W:N;else if(k="presentation",a)throw new Error("title attribute required when description is set");return ce.createElement("svg",Et({ref:e,viewBox:"0 0 24 24",style:U,role:k,"aria-labelledby":o},M),T&&ce.createElement("title",{id:N},T),a&&ce.createElement("desc",{id:W},a),!B&&X&&(u?ce.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):ce.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),g)});te.displayName="Icon",te.propTypes={path:Ce.string.isRequired,size:Ce.oneOfType([Ce.number,Ce.string]),color:Ce.string,horizontal:Ce.bool,vertical:Ce.bool,rotate:Ce.number,spin:Ce.oneOfType([Ce.bool,Ce.number]),style:Ce.object,inStack:Ce.bool,className:Ce.string},te.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},m.default=te}])),ah}var uc=jw(),sh="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",Ow="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",Mw="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",Tw="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Pw="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",Iw="M9,6H5V10H7V8H9M19,10H17V12H15V14H19M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2",Dw="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M9.3 19H7L14.7 5H17L9.3 19Z",Lw="M12,21L15.6,16.2C14.6,15.45 13.35,15 12,15C10.65,15 9.4,15.45 8.4,16.2L12,21M12,3C7.95,3 4.21,4.34 1.2,6.6L3,9C5.5,7.12 8.62,6 12,6C15.38,6 18.5,7.12 21,9L22.8,6.6C19.79,4.34 16.05,3 12,3M12,9C9.3,9 6.81,9.89 4.8,11.4L6.6,13.8C8.1,12.67 9.97,12 12,12C14.03,12 15.9,12.67 17.4,13.8L19.2,11.4C17.19,9.89 14.7,9 12,9Z",ch="M2.28,3L1,4.27L2.47,5.74C2.04,6 1.61,6.29 1.2,6.6L3,9C3.53,8.6 4.08,8.25 4.66,7.93L6.89,10.16C6.15,10.5 5.44,10.91 4.8,11.4L6.6,13.8C7.38,13.22 8.26,12.77 9.2,12.47L11.75,15C10.5,15.07 9.34,15.5 8.4,16.2L12,21L14.46,17.73L17.74,21L19,19.72M12,3C9.85,3 7.8,3.38 5.9,4.07L8.29,6.47C9.5,6.16 10.72,6 12,6C15.38,6 18.5,7.11 21,9L22.8,6.6C19.79,4.34 16.06,3 12,3M12,9C11.62,9 11.25,9 10.88,9.05L14.07,12.25C15.29,12.53 16.43,13.07 17.4,13.8L19.2,11.4C17.2,9.89 14.7,9 12,9Z",Aw="M12,3C7.79,3 3.7,4.41 0.38,7C4.41,12.06 7.89,16.37 12,21.5C16.08,16.42 20.24,11.24 23.65,7C20.32,4.41 16.22,3 12,3M12,5C15.07,5 18.09,5.86 20.71,7.45L15.61,13.81C14.5,13.28 13.25,13 12,13C10.75,13 9.5,13.28 8.39,13.8L3.27,7.44C5.91,5.85 8.93,5 12,5Z",Rw="M12,3C7.79,3 3.7,4.41 0.38,7C4.41,12.06 7.89,16.37 12,21.5C16.08,16.42 20.24,11.24 23.65,7C20.32,4.41 16.22,3 12,3M12,5C15.07,5 18.09,5.86 20.71,7.45L17.5,11.43C16.26,10.74 14.37,10 12,10C9.62,10 7.74,10.75 6.5,11.43L3.27,7.44C5.91,5.85 8.93,5 12,5Z";window._vue_richtext_widgets||(window._vue_richtext_widgets={});const uh=n=>!!window._vue_richtext_widgets[n],Zw=n=>!!window._vue_richtext_widgets[n]?.hasInteractiveView,zw=n=>!!window._vue_richtext_widgets[n]?.fullWidth,Nw=(n,m,A=Ce=>{},ce)=>{const Ce={hasInteractiveView:!0,fullWidth:!1,...ce};if(window._vue_richtext_widgets[n]){console.error("Widget for id "+n+" already registered");return}window._vue_richtext_widgets[n]={id:n,callback:m,onDestroy:A,...Ce}},Bw=(n,{richObjectType:m,richObject:A,accessible:ce,interactive:Ce})=>{if(m!=="open-graph"){if(!window._vue_richtext_widgets[m]){console.error("Widget for rich object type "+m+" not registered");return}window._vue_richtext_widgets[m].callback(n,{richObjectType:m,richObject:A,accessible:ce,interactive:Ce})}},Ww=(n,m)=>{n!=="open-graph"&&window._vue_richtext_widgets[n]&&window._vue_richtext_widgets[n].onDestroy(m)};window._registerWidget=(n,m,A,ce)=>{Nw(n,m,A,ce)},window._vue_richtext_custom_picker_elements||(window._vue_richtext_custom_picker_elements={});const ou=n=>!!window._vue_richtext_custom_picker_elements[n],Hw=n=>{const m=window._vue_richtext_custom_picker_elements[n]?.size;return["small","normal","large","full"].includes(m)?m:null},Fw=(n,m,A=Ce=>{},ce="large")=>{if(window._vue_richtext_custom_picker_elements[n]){console.error("Custom reference picker element for id "+n+" already registered");return}window._vue_richtext_custom_picker_elements[n]={id:n,callback:m,onDestroy:A,size:ce}},Uw=(n,{providerId:m,accessible:A})=>{if(!window._vue_richtext_custom_picker_elements[m]){console.error("Custom reference picker element for reference provider ID "+m+" not registered");return}return window._vue_richtext_custom_picker_elements[m].callback(n,{providerId:m,accessible:A})},Kw=(n,m,A)=>{window._vue_richtext_custom_picker_elements[n]&&window._vue_richtext_custom_picker_elements[n].onDestroy(m,A)};window._registerCustomPickerElement=Fw;const $w={name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},computed:{hasName(){return this.name!==""},hasDescription(){return this.description!==""||this.$slots.description?.[0]}}};var Vw=function(){var n=this,m=n._self._c;return m("div",{staticClass:"empty-content",attrs:{role:"note"}},[n.$slots.icon?m("div",{staticClass:"empty-content__icon",attrs:{"aria-hidden":"true"}},[n._t("icon")],2):n._e(),n._t("name",function(){return[n.hasName?m("span",{staticClass:"empty-content__name"},[n._v(" "+n._s(n.name)+" ")]):n._e()]}),n.hasDescription?m("p",{staticClass:"empty-content__description"},[n._t("description",function(){return[n._v(" "+n._s(n.description)+" ")]})],2):n._e(),n.$slots.action?m("div",{staticClass:"empty-content__action"},[n._t("action")],2):n._e()],2)},Yw=[],Gw=Ii($w,Vw,Yw,!1,null,"8aaa3146");const ef=Gw.exports,Qm=(n,m)=>{const A=[];let ce=0,Ce=n.toLowerCase().indexOf(m.toLowerCase(),ce),Ne=0;for(;Ce>-1&&Ne<n.length;)ce=Ce+m.length,A.push({start:Ce,end:ce}),Ce=n.toLowerCase().indexOf(m.toLowerCase(),ce),Ne++;return A},qw={name:"NcHighlight",props:{text:{type:String,default:""},search:{type:String,default:""},highlight:{type:Array,default:()=>[]}},computed:{ranges(){let n=[];return!this.search&&this.highlight.length===0||(this.highlight.length>0?n=this.highlight:n=Qm(this.text,this.search),n.forEach((m,A)=>{m.end<m.start&&(n[A]={start:m.end,end:m.start})}),n=n.reduce((m,A)=>(A.start<this.text.length&&A.end>0&&m.push({start:A.start<0?0:A.start,end:A.end>this.text.length?this.text.length:A.end}),m),[]),n.sort((m,A)=>m.start-A.start),n=n.reduce((m,A)=>{if(!m.length)m.push(A);else{const ce=m.length-1;m[ce].end>=A.start?m[ce]={start:m[ce].start,end:Math.max(m[ce].end,A.end)}:m.push(A)}return m},[])),n},chunks(){if(this.ranges.length===0)return[{start:0,end:this.text.length,highlight:!1,text:this.text}];const n=[];let m=0,A=0;for(;m<this.text.length;){const ce=this.ranges[A];if(ce.start===m){n.push({...ce,highlight:!0,text:this.text.slice(ce.start,ce.end)}),A++,m=ce.end,A>=this.ranges.length&&m<this.text.length&&(n.push({start:m,end:this.text.length,highlight:!1,text:this.text.slice(m)}),m=this.text.length);continue}n.push({start:m,end:ce.start,highlight:!1,text:this.text.slice(m,ce.start)}),m=ce.start}return n}},render(n){return this.ranges.length?n("span",{},this.chunks.map(m=>m.highlight?n("strong",{},m.text):m.text)):n("span",{},this.text)}},Xw=null,Jw=null;var Qw=Ii(qw,Xw,Jw,!1,null,null);const bd=Qw.exports;var j0={exports:{}},e3=j0.exports,dh;function t3(){return dh||(dh=1,function(n,m){(function(A,ce){n.exports=ce()})(typeof self<"u"?self:e3,function(){return(()=>{var A={646:Ge=>{Ge.exports=function($e){if(Array.isArray($e)){for(var mt=0,yt=new Array($e.length);mt<$e.length;mt++)yt[mt]=$e[mt];return yt}}},713:Ge=>{Ge.exports=function($e,mt,yt){return mt in $e?Object.defineProperty($e,mt,{value:yt,enumerable:!0,configurable:!0,writable:!0}):$e[mt]=yt,$e}},860:Ge=>{Ge.exports=function($e){if(Symbol.iterator in Object($e)||Object.prototype.toString.call($e)==="[object Arguments]")return Array.from($e)}},206:Ge=>{Ge.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},319:(Ge,$e,mt)=>{var yt=mt(646),Et=mt(860),ft=mt(206);Ge.exports=function(We){return yt(We)||Et(We)||ft()}},8:Ge=>{function $e(mt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ge.exports=$e=function(yt){return typeof yt}:Ge.exports=$e=function(yt){return yt&&typeof Symbol=="function"&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt},$e(mt)}Ge.exports=$e}},ce={};function Ce(Ge){var $e=ce[Ge];if($e!==void 0)return $e.exports;var mt=ce[Ge]={exports:{}};return A[Ge](mt,mt.exports,Ce),mt.exports}Ce.n=Ge=>{var $e=Ge&&Ge.__esModule?()=>Ge.default:()=>Ge;return Ce.d($e,{a:$e}),$e},Ce.d=(Ge,$e)=>{for(var mt in $e)Ce.o($e,mt)&&!Ce.o(Ge,mt)&&Object.defineProperty(Ge,mt,{enumerable:!0,get:$e[mt]})},Ce.o=(Ge,$e)=>Object.prototype.hasOwnProperty.call(Ge,$e),Ce.r=Ge=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ge,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ge,"__esModule",{value:!0})};var Ne={};return(()=>{Ce.r(Ne),Ce.d(Ne,{VueSelect:()=>c,default:()=>F,mixins:()=>Z});var Ge=Ce(319),$e=Ce.n(Ge),mt=Ce(8),yt=Ce.n(mt),Et=Ce(713),ft=Ce.n(Et);const We={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(_){var h=this;this.autoscroll&&_&&this.$nextTick(function(){return h.maybeAdjustScroll()})}},methods:{maybeAdjustScroll:function(){var _,h=((_=this.$refs.dropdownMenu)===null||_===void 0?void 0:_.children[this.typeAheadPointer])||!1;if(h){var x=this.getDropdownViewport(),G=h.getBoundingClientRect(),le=G.top,he=G.bottom,ve=G.height;if(le<x.top)return this.$refs.dropdownMenu.scrollTop=h.offsetTop;if(he>x.bottom)return this.$refs.dropdownMenu.scrollTop=h.offsetTop-(x.height-ve)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},te={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){if(this.resetFocusOnOptionsChange){for(var _=0;_<this.filteredOptions.length;_++)if(this.selectable(this.filteredOptions[_])){this.typeAheadPointer=_;break}}},open:function(_){_&&this.typeAheadToLastSelected()},selectedValue:function(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp:function(){for(var _=this.typeAheadPointer-1;_>=0;_--)if(this.selectable(this.filteredOptions[_])){this.typeAheadPointer=_;break}},typeAheadDown:function(){for(var _=this.typeAheadPointer+1;_<this.filteredOptions.length;_++)if(this.selectable(this.filteredOptions[_])){this.typeAheadPointer=_;break}},typeAheadSelect:function(){var _=this.filteredOptions[this.typeAheadPointer];_&&this.selectable(_)&&this.select(_)},typeAheadToLastSelected:function(){var _=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1;_!==-1&&(this.typeAheadPointer=_)}}},t={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(_){this.mutableLoading=_}},methods:{toggleLoading:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.mutableLoading=_??!this.mutableLoading}}};function e(_,h,x,G,le,he,ve,fe){var X,q=typeof _=="function"?_.options:_;return h&&(q.render=h,q.staticRenderFns=x,q._compiled=!0),{exports:_,options:q}}const w={Deselect:e({},function(){var _=this.$createElement,h=this._self._c||_;return h("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[h("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])},[]).exports,OpenIndicator:e({},function(){var _=this.$createElement,h=this._self._c||_;return h("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[h("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])},[]).exports},v={inserted:function(_,h,x){var G=x.context;if(G.appendToBody){document.body.appendChild(_);var le=G.$refs.toggle.getBoundingClientRect(),he=le.height,ve=le.top,fe=le.left,X=le.width,q=window.scrollX||window.pageXOffset,U=window.scrollY||window.pageYOffset;_.unbindPosition=G.calculatePosition(_,G,{width:X+"px",left:q+fe+"px",top:U+ve+he+"px"})}},unbind:function(_,h,x){x.context.appendToBody&&(_.unbindPosition&&typeof _.unbindPosition=="function"&&_.unbindPosition(),_.parentNode&&_.parentNode.removeChild(_))}},d=function(_){var h={};return Object.keys(_).sort().forEach(function(x){h[x]=_[x]}),JSON.stringify(h)};var b=0;const T=function(){return++b};function S(_,h){var x=Object.keys(_);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(_);h&&(G=G.filter(function(le){return Object.getOwnPropertyDescriptor(_,le).enumerable})),x.push.apply(x,G)}return x}function a(_){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{};h%2?S(Object(x),!0).forEach(function(G){ft()(_,G,x[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(x)):S(Object(x)).forEach(function(G){Object.defineProperty(_,G,Object.getOwnPropertyDescriptor(x,G))})}return _}const c=e({components:a({},w),directives:{appendToBody:v},mixins:[We,te,t],props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},ariaLabelCombobox:{type:String,default:"Search for options"},ariaLabelListbox:{type:String,default:"Options"},ariaLabelClearSelected:{type:String,default:"Clear selected"},ariaLabelDeselectOption:{type:Function,default:function(_){return"Deselect ".concat(_)}},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(_){return _}},selectable:{type:Function,default:function(_){return!0}},getOptionLabel:{type:Function,default:function(_){return yt()(_)==="object"?_.hasOwnProperty(this.label)?_[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(_),`.
`)+"https://vue-select.org/api/props.html#getoptionlabel"):_}},getOptionKey:{type:Function,default:function(_){if(yt()(_)!=="object")return _;try{return _.hasOwnProperty("id")?_.id:d(_)}catch(h){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,_,h)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(_,h,x){return(h||"").toLocaleLowerCase().indexOf(x.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(_,h){var x=this;return _.filter(function(G){var le=x.getOptionLabel(G);return typeof le=="number"&&(le=le.toString()),x.filterBy(G,le,h)})}},createOption:{type:Function,default:function(_){return yt()(this.optionList[0])==="object"?ft()({},this.label,_):_}},resetFocusOnOptionsChange:{type:Boolean,default:!0},resetOnOptionsChange:{default:!1,validator:function(_){return["function","boolean"].includes(yt()(_))}},clearSearchOnBlur:{type:Function,default:function(_){var h=_.clearSearchOnSelect,x=_.multiple;return h&&!x}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(_,h){return _}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(_,h,x){var G=x.width,le=x.top,he=x.left;_.style.top=le,_.style.left=he,_.style.width=G}},dropdownShouldOpen:{type:Function,default:function(_){var h=_.noDrop,x=_.open,G=_.mutableLoading;return!h&&x&&!G}},keyboardFocusBorder:{type:Boolean,default:!1},uid:{type:[String,Number],default:function(){return T()}}},data:function(){return{search:"",open:!1,isComposing:!1,isKeyboardNavigation:!1,pushedTags:[],_value:[]}},computed:{isTrackingValues:function(){return this.value===void 0||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var _=this.value;return this.isTrackingValues&&(_=this.$data._value),_!=null&&_!==""?[].concat(_):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var _=this,h={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:a({id:this.inputId,disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,role:"combobox","aria-autocomplete":"list","aria-label":this.ariaLabelCombobox,"aria-controls":"vs-".concat(this.uid,"__listbox"),"aria-owns":"vs-".concat(this.uid,"__listbox"),"aria-expanded":this.dropdownOpen.toString(),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs-".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return _.isComposing=!0},compositionend:function(){return _.isComposing=!1},keydown:this.onSearchKeyDown,keypress:this.onSearchKeyPress,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(x){return _.search=x.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:h,listFooter:h,header:a({},h,{deselect:this.deselect}),footer:a({},h,{deselect:this.deselect})}},childComponents:function(){return a({},w,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var _=this,h=function(he){return _.limit!==null?he.slice(0,_.limit):he},x=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return h(x);var G=this.search.length?this.filter(x,this.search,this):x;if(this.taggable&&this.search.length){var le=this.createOption(this.search);this.optionExists(le)||G.unshift(le)}return h(G)},isValueEmpty:function(){return this.selectedValue.length===0},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(_,h){var x=this;!this.taggable&&(typeof x.resetOnOptionsChange=="function"?x.resetOnOptionsChange(_,h,x.selectedValue):x.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:{immediate:!0,handler:function(_){this.isTrackingValues&&this.setInternalValueFromOptions(_)}},multiple:function(){this.clearSelection()},open:function(_){this.$emit(_?"open":"close")},search:function(_){_.length&&(this.open=!0)}},created:function(){this.mutableLoading=this.loading,this.$on("option:created",this.pushTag)},methods:{setInternalValueFromOptions:function(_){var h=this;Array.isArray(_)?this.$data._value=_.map(function(x){return h.findOptionFromReducedValue(x)}):this.$data._value=this.findOptionFromReducedValue(_)},select:function(_){this.$emit("option:selecting",_),this.isOptionSelected(_)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(_):(this.taggable&&!this.optionExists(_)&&this.$emit("option:created",_),this.multiple&&(_=this.selectedValue.concat(_)),this.updateValue(_),this.$emit("option:selected",_)),this.onAfterSelect(_)},deselect:function(_){var h=this;this.$emit("option:deselecting",_),this.updateValue(this.selectedValue.filter(function(x){return!h.optionComparator(x,_)})),this.$emit("option:deselected",_)},keyboardDeselect:function(_,h){var x,G;this.deselect(_);var le=(x=this.$refs.deselectButtons)===null||x===void 0?void 0:x[h+1],he=(G=this.$refs.deselectButtons)===null||G===void 0?void 0:G[h-1],ve=le??he;ve?ve.focus():this.searchEl.focus()},clearSelection:function(){this.updateValue(this.multiple?[]:null),this.searchEl.focus()},onAfterSelect:function(_){var h=this;this.closeOnSelect&&(this.open=!this.open),this.clearSearchOnSelect&&(this.search=""),this.noDrop&&this.multiple&&this.$nextTick(function(){return h.$refs.search.focus()})},updateValue:function(_){var h=this;this.value===void 0&&(this.$data._value=_),_!==null&&(_=Array.isArray(_)?_.map(function(x){return h.reduce(x)}):this.reduce(_)),this.$emit("input",_)},toggleDropdown:function(_){var h=_.target!==this.searchEl;h&&_.preventDefault();var x=[].concat($e()(this.$refs.deselectButtons||[]),$e()([this.$refs.clearButton]));this.searchEl===void 0||x.filter(Boolean).some(function(G){return G.contains(_.target)||G===_.target})?_.preventDefault():this.open&&h?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(_){var h=this;return this.selectedValue.some(function(x){return h.optionComparator(x,_)})},isOptionDeselectable:function(_){return this.isOptionSelected(_)&&this.deselectFromDropdown},hasKeyboardFocusBorder:function(_){return!(!this.keyboardFocusBorder||!this.isKeyboardNavigation)&&_===this.typeAheadPointer},optionComparator:function(_,h){return this.getOptionKey(_)===this.getOptionKey(h)},findOptionFromReducedValue:function(_){var h=this,x=[].concat($e()(this.options),$e()(this.pushedTags)).filter(function(G){return JSON.stringify(h.reduce(G))===JSON.stringify(_)});return x.length===1?x[0]:x.find(function(G){return h.optionComparator(G,h.$data._value)})||_},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var _=null;this.multiple&&(_=$e()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(_)}},optionExists:function(_){var h=this;return this.optionList.some(function(x){return h.optionComparator(x,_)})},optionAriaSelected:function(_){return this.selectable(_)?String(this.isOptionSelected(_)):null},normalizeOptionForSlot:function(_){return yt()(_)==="object"?_:ft()({},this.label,_)},pushTag:function(_){this.pushedTags.push(_)},onEscape:function(){this.search.length?this.search="":this.open=!1},onSearchBlur:function(){if(!this.mousedown||this.searching){var _=this.clearSearchOnSelect,h=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:_,multiple:h})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,this.search.length!==0||this.options.length!==0||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onMouseMove:function(_,h){this.isKeyboardNavigation=!1,this.selectable(_)&&(this.typeAheadPointer=h)},onSearchKeyDown:function(_){var h=this,x=function(he){if(he.preventDefault(),h.open)return!h.isComposing&&h.typeAheadSelect();h.open=!0},G={8:function(he){return h.maybeDeleteValue()},9:function(he){return h.onTab()},27:function(he){return h.onEscape()},38:function(he){if(he.preventDefault(),h.isKeyboardNavigation=!0,h.open)return h.typeAheadUp();h.open=!0},40:function(he){if(he.preventDefault(),h.isKeyboardNavigation=!0,h.open)return h.typeAheadDown();h.open=!0}};this.selectOnKeyCodes.forEach(function(he){return G[he]=x});var le=this.mapKeydown(G,this);if(typeof le[_.keyCode]=="function")return le[_.keyCode](_)},onSearchKeyPress:function(_){this.open||_.keyCode!==32||(_.preventDefault(),this.open=!0)}}},function(){var _=this,h=_.$createElement,x=_._self._c||h;return x("div",{staticClass:"v-select",class:_.stateClasses,attrs:{id:"v-select-"+_.uid,dir:_.dir}},[_._t("header",null,null,_.scope.header),_._v(" "),x("div",{ref:"toggle",staticClass:"vs__dropdown-toggle"},[x("div",{ref:"selectedOptions",staticClass:"vs__selected-options",on:{mousedown:_.toggleDropdown}},[_._l(_.selectedValue,function(G,le){return _._t("selected-option-container",[x("span",{key:_.getOptionKey(G),staticClass:"vs__selected"},[_._t("selected-option",[_._v(`
            `+_._s(_.getOptionLabel(G))+`
          `)],null,_.normalizeOptionForSlot(G)),_._v(" "),_.multiple?x("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:_.disabled,type:"button",title:_.ariaLabelDeselectOption(_.getOptionLabel(G)),"aria-label":_.ariaLabelDeselectOption(_.getOptionLabel(G))},on:{mousedown:function(he){return he.stopPropagation(),_.deselect(G)},keydown:function(he){return!he.type.indexOf("key")&&_._k(he.keyCode,"enter",13,he.key,"Enter")?null:_.keyboardDeselect(G,le)}}},[x(_.childComponents.Deselect,{tag:"component"})],1):_._e()],2)],{option:_.normalizeOptionForSlot(G),deselect:_.deselect,multiple:_.multiple,disabled:_.disabled})}),_._v(" "),_._t("search",[x("input",_._g(_._b({staticClass:"vs__search"},"input",_.scope.search.attributes,!1),_.scope.search.events))],null,_.scope.search)],2),_._v(" "),x("div",{ref:"actions",staticClass:"vs__actions"},[x("button",{directives:[{name:"show",rawName:"v-show",value:_.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:_.disabled,type:"button",title:_.ariaLabelClearSelected,"aria-label":_.ariaLabelClearSelected},on:{click:_.clearSelection}},[x(_.childComponents.Deselect,{tag:"component"})],1),_._v(" "),_.noDrop?_._e():x("button",{ref:"openIndicatorButton",staticClass:"vs__open-indicator-button",attrs:{type:"button",tabindex:"-1","aria-labelledby":"vs-"+_.uid+"__listbox","aria-controls":"vs-"+_.uid+"__listbox","aria-expanded":_.dropdownOpen.toString()},on:{mousedown:_.toggleDropdown}},[_._t("open-indicator",[x(_.childComponents.OpenIndicator,_._b({tag:"component"},"component",_.scope.openIndicator.attributes,!1))],null,_.scope.openIndicator)],2),_._v(" "),_._t("spinner",[x("div",{directives:[{name:"show",rawName:"v-show",value:_.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[_._v("Loading...")])],null,_.scope.spinner)],2)]),_._v(" "),x("transition",{attrs:{name:_.transition}},[_.dropdownOpen?x("ul",{directives:[{name:"append-to-body",rawName:"v-append-to-body"}],key:"vs-"+_.uid+"__listbox",ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{id:"vs-"+_.uid+"__listbox",role:"listbox","aria-label":_.ariaLabelListbox,"aria-multiselectable":_.multiple,tabindex:"-1"},on:{mousedown:function(G){return G.preventDefault(),_.onMousedown(G)},mouseup:_.onMouseUp}},[_._t("list-header",null,null,_.scope.listHeader),_._v(" "),_._l(_.filteredOptions,function(G,le){return x("li",{key:_.getOptionKey(G),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--deselect":_.isOptionDeselectable(G)&&le===_.typeAheadPointer,"vs__dropdown-option--selected":_.isOptionSelected(G),"vs__dropdown-option--highlight":le===_.typeAheadPointer,"vs__dropdown-option--kb-focus":_.hasKeyboardFocusBorder(le),"vs__dropdown-option--disabled":!_.selectable(G)},attrs:{id:"vs-"+_.uid+"__option-"+le,role:"option","aria-selected":_.optionAriaSelected(G)},on:{mousemove:function(he){return _.onMouseMove(G,le)},click:function(he){he.preventDefault(),he.stopPropagation(),_.selectable(G)&&_.select(G)}}},[_._t("option",[_._v(`
          `+_._s(_.getOptionLabel(G))+`
        `)],null,_.normalizeOptionForSlot(G))],2)}),_._v(" "),_.filteredOptions.length===0?x("li",{staticClass:"vs__no-options"},[_._t("no-options",[_._v(`
          Sorry, no matching options.
        `)],null,_.scope.noOptions)],2):_._e(),_._v(" "),_._t("list-footer",null,null,_.scope.listFooter)],2):x("ul",{staticStyle:{display:"none",visibility:"hidden"},attrs:{id:"vs-"+_.uid+"__listbox",role:"listbox","aria-label":_.ariaLabelListbox}})]),_._v(" "),_._t("footer",null,null,_.scope.footer)],2)},[]).exports,Z={ajax:t,pointer:te,pointerScroll:We},F=c})(),Ne})()})}(j0)),j0.exports}var ic=t3();const $u=Math.min,dc=Math.max,Vu=Math.round,Mu=Math.floor,cs=n=>({x:n,y:n}),n3={left:"right",right:"left",bottom:"top",top:"bottom"},r3={start:"end",end:"start"};function fh(n,m,A){return dc(n,$u(m,A))}function Mc(n,m){return typeof n=="function"?n(m):n}function Gs(n){return n.split("-")[0]}function yd(n){return n.split("-")[1]}function tf(n){return n==="x"?"y":"x"}function e1(n){return n==="y"?"height":"width"}function Cs(n){return["top","bottom"].includes(Gs(n))?"y":"x"}function t1(n){return tf(Cs(n))}function o3(n,m,A){A===void 0&&(A=!1);const ce=yd(n),Ce=t1(n),Ne=e1(Ce);let Ge=Ce==="x"?ce===(A?"end":"start")?"right":"left":ce==="start"?"bottom":"top";return m.reference[Ne]>m.floating[Ne]&&(Ge=Yu(Ge)),[Ge,Yu(Ge)]}function i3(n){const m=Yu(n);return[O0(n),m,O0(m)]}function O0(n){return n.replace(/start|end/g,m=>r3[m])}function a3(n,m,A){const ce=["left","right"],Ce=["right","left"],Ne=["top","bottom"],Ge=["bottom","top"];switch(n){case"top":case"bottom":return A?m?Ce:ce:m?ce:Ce;case"left":case"right":return m?Ne:Ge;default:return[]}}function l3(n,m,A,ce){const Ce=yd(n);let Ne=a3(Gs(n),A==="start",ce);return Ce&&(Ne=Ne.map(Ge=>Ge+"-"+Ce),m&&(Ne=Ne.concat(Ne.map(O0)))),Ne}function Yu(n){return n.replace(/left|right|bottom|top/g,m=>n3[m])}function s3(n){return{top:0,right:0,bottom:0,left:0,...n}}function c3(n){return typeof n!="number"?s3(n):{top:n,right:n,bottom:n,left:n}}function Gu(n){const{x:m,y:A,width:ce,height:Ce}=n;return{width:ce,height:Ce,top:A,left:m,right:m+ce,bottom:A+Ce,x:m,y:A}}function ph(n,m,A){let{reference:ce,floating:Ce}=n;const Ne=Cs(m),Ge=t1(m),$e=e1(Ge),mt=Gs(m),yt=Ne==="y",Et=ce.x+ce.width/2-Ce.width/2,ft=ce.y+ce.height/2-Ce.height/2,We=ce[$e]/2-Ce[$e]/2;let te;switch(mt){case"top":te={x:Et,y:ce.y-Ce.height};break;case"bottom":te={x:Et,y:ce.y+ce.height};break;case"right":te={x:ce.x+ce.width,y:ft};break;case"left":te={x:ce.x-Ce.width,y:ft};break;default:te={x:ce.x,y:ce.y}}switch(yd(m)){case"start":te[Ge]-=We*(A&&yt?-1:1);break;case"end":te[Ge]+=We*(A&&yt?-1:1);break}return te}const u3=async(n,m,A)=>{const{placement:ce="bottom",strategy:Ce="absolute",middleware:Ne=[],platform:Ge}=A,$e=Ne.filter(Boolean),mt=await(Ge.isRTL==null?void 0:Ge.isRTL(m));let yt=await Ge.getElementRects({reference:n,floating:m,strategy:Ce}),{x:Et,y:ft}=ph(yt,ce,mt),We=ce,te={},t=0;for(let e=0;e<$e.length;e++){const{name:w,fn:v}=$e[e],{x:d,y:b,data:T,reset:S}=await v({x:Et,y:ft,initialPlacement:ce,placement:We,strategy:Ce,middlewareData:te,rects:yt,platform:Ge,elements:{reference:n,floating:m}});Et=d??Et,ft=b??ft,te={...te,[w]:{...te[w],...T}},S&&t<=50&&(t++,typeof S=="object"&&(S.placement&&(We=S.placement),S.rects&&(yt=S.rects===!0?await Ge.getElementRects({reference:n,floating:m,strategy:Ce}):S.rects),{x:Et,y:ft}=ph(yt,We,mt)),e=-1)}return{x:Et,y:ft,placement:We,strategy:Ce,middlewareData:te}};async function n1(n,m){var A;m===void 0&&(m={});const{x:ce,y:Ce,platform:Ne,rects:Ge,elements:$e,strategy:mt}=n,{boundary:yt="clippingAncestors",rootBoundary:Et="viewport",elementContext:ft="floating",altBoundary:We=!1,padding:te=0}=Mc(m,n),t=c3(te),e=$e[We?ft==="floating"?"reference":"floating":ft],w=Gu(await Ne.getClippingRect({element:(A=await(Ne.isElement==null?void 0:Ne.isElement(e)))==null||A?e:e.contextElement||await(Ne.getDocumentElement==null?void 0:Ne.getDocumentElement($e.floating)),boundary:yt,rootBoundary:Et,strategy:mt})),v=ft==="floating"?{x:ce,y:Ce,width:Ge.floating.width,height:Ge.floating.height}:Ge.reference,d=await(Ne.getOffsetParent==null?void 0:Ne.getOffsetParent($e.floating)),b=await(Ne.isElement==null?void 0:Ne.isElement(d))?await(Ne.getScale==null?void 0:Ne.getScale(d))||{x:1,y:1}:{x:1,y:1},T=Gu(Ne.convertOffsetParentRelativeRectToViewportRelativeRect?await Ne.convertOffsetParentRelativeRectToViewportRelativeRect({elements:$e,rect:v,offsetParent:d,strategy:mt}):v);return{top:(w.top-T.top+t.top)/b.y,bottom:(T.bottom-w.bottom+t.bottom)/b.y,left:(w.left-T.left+t.left)/b.x,right:(T.right-w.right+t.right)/b.x}}const d3=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(m){var A,ce;const{placement:Ce,middlewareData:Ne,rects:Ge,initialPlacement:$e,platform:mt,elements:yt}=m,{mainAxis:Et=!0,crossAxis:ft=!0,fallbackPlacements:We,fallbackStrategy:te="bestFit",fallbackAxisSideDirection:t="none",flipAlignment:e=!0,...w}=Mc(n,m);if((A=Ne.arrow)!=null&&A.alignmentOffset)return{};const v=Gs(Ce),d=Cs($e),b=Gs($e)===$e,T=await(mt.isRTL==null?void 0:mt.isRTL(yt.floating)),S=We||(b||!e?[Yu($e)]:i3($e)),a=t!=="none";!We&&a&&S.push(...l3($e,e,t,T));const c=[$e,...S],Z=await n1(m,w),F=[];let _=((ce=Ne.flip)==null?void 0:ce.overflows)||[];if(Et&&F.push(Z[v]),ft){const le=o3(Ce,Ge,T);F.push(Z[le[0]],Z[le[1]])}if(_=[..._,{placement:Ce,overflows:F}],!F.every(le=>le<=0)){var h,x;const le=(((h=Ne.flip)==null?void 0:h.index)||0)+1,he=c[le];if(he&&(!(ft==="alignment"&&d!==Cs(he))||_.every(fe=>fe.overflows[0]>0&&Cs(fe.placement)===d)))return{data:{index:le,overflows:_},reset:{placement:he}};let ve=(x=_.filter(fe=>fe.overflows[0]<=0).sort((fe,X)=>fe.overflows[1]-X.overflows[1])[0])==null?void 0:x.placement;if(!ve)switch(te){case"bestFit":{var G;const fe=(G=_.filter(X=>{if(a){const q=Cs(X.placement);return q===d||q==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(q=>q>0).reduce((q,U)=>q+U,0)]).sort((X,q)=>X[1]-q[1])[0])==null?void 0:G[0];fe&&(ve=fe);break}case"initialPlacement":ve=$e;break}if(Ce!==ve)return{reset:{placement:ve}}}return{}}}};async function f3(n,m){const{placement:A,platform:ce,elements:Ce}=n,Ne=await(ce.isRTL==null?void 0:ce.isRTL(Ce.floating)),Ge=Gs(A),$e=yd(A),mt=Cs(A)==="y",yt=["left","top"].includes(Ge)?-1:1,Et=Ne&&mt?-1:1,ft=Mc(m,n);let{mainAxis:We,crossAxis:te,alignmentAxis:t}=typeof ft=="number"?{mainAxis:ft,crossAxis:0,alignmentAxis:null}:{mainAxis:ft.mainAxis||0,crossAxis:ft.crossAxis||0,alignmentAxis:ft.alignmentAxis};return $e&&typeof t=="number"&&(te=$e==="end"?t*-1:t),mt?{x:te*Et,y:We*yt}:{x:We*yt,y:te*Et}}const p3=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(m){var A,ce;const{x:Ce,y:Ne,placement:Ge,middlewareData:$e}=m,mt=await f3(m,n);return Ge===((A=$e.offset)==null?void 0:A.placement)&&(ce=$e.arrow)!=null&&ce.alignmentOffset?{}:{x:Ce+mt.x,y:Ne+mt.y,data:{...mt,placement:Ge}}}}},h3=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(m){const{x:A,y:ce,placement:Ce}=m,{mainAxis:Ne=!0,crossAxis:Ge=!1,limiter:$e={fn:w=>{let{x:v,y:d}=w;return{x:v,y:d}}},...mt}=Mc(n,m),yt={x:A,y:ce},Et=await n1(m,mt),ft=Cs(Gs(Ce)),We=tf(ft);let te=yt[We],t=yt[ft];if(Ne){const w=We==="y"?"top":"left",v=We==="y"?"bottom":"right",d=te+Et[w],b=te-Et[v];te=fh(d,te,b)}if(Ge){const w=ft==="y"?"top":"left",v=ft==="y"?"bottom":"right",d=t+Et[w],b=t-Et[v];t=fh(d,t,b)}const e=$e.fn({...m,[We]:te,[ft]:t});return{...e,data:{x:e.x-A,y:e.y-ce,enabled:{[We]:Ne,[ft]:Ge}}}}}},m3=function(n){return n===void 0&&(n={}),{options:n,fn(m){const{x:A,y:ce,placement:Ce,rects:Ne,middlewareData:Ge}=m,{offset:$e=0,mainAxis:mt=!0,crossAxis:yt=!0}=Mc(n,m),Et={x:A,y:ce},ft=Cs(Ce),We=tf(ft);let te=Et[We],t=Et[ft];const e=Mc($e,m),w=typeof e=="number"?{mainAxis:e,crossAxis:0}:{mainAxis:0,crossAxis:0,...e};if(mt){const b=We==="y"?"height":"width",T=Ne.reference[We]-Ne.floating[b]+w.mainAxis,S=Ne.reference[We]+Ne.reference[b]-w.mainAxis;te<T?te=T:te>S&&(te=S)}if(yt){var v,d;const b=We==="y"?"width":"height",T=["top","left"].includes(Gs(Ce)),S=Ne.reference[ft]-Ne.floating[b]+(T&&((v=Ge.offset)==null?void 0:v[ft])||0)+(T?0:w.crossAxis),a=Ne.reference[ft]+Ne.reference[b]+(T?0:((d=Ge.offset)==null?void 0:d[ft])||0)-(T?w.crossAxis:0);t<S?t=S:t>a&&(t=a)}return{[We]:te,[ft]:t}}}};function xd(){return typeof window<"u"}function Zc(n){return r1(n)?(n.nodeName||"").toLowerCase():"#document"}function Tl(n){var m;return(n==null||(m=n.ownerDocument)==null?void 0:m.defaultView)||window}function ds(n){var m;return(m=(r1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:m.documentElement}function r1(n){return xd()?n instanceof Node||n instanceof Tl(n).Node:!1}function Xl(n){return xd()?n instanceof Element||n instanceof Tl(n).Element:!1}function us(n){return xd()?n instanceof HTMLElement||n instanceof Tl(n).HTMLElement:!1}function hh(n){return!xd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Tl(n).ShadowRoot}function cu(n){const{overflow:m,overflowX:A,overflowY:ce,display:Ce}=Jl(n);return/auto|scroll|overlay|hidden|clip/.test(m+ce+A)&&!["inline","contents"].includes(Ce)}function g3(n){return["table","td","th"].includes(Zc(n))}function wd(n){return[":popover-open",":modal"].some(m=>{try{return n.matches(m)}catch{return!1}})}function nf(n){const m=rf(),A=Xl(n)?Jl(n):n;return["transform","translate","scale","rotate","perspective"].some(ce=>A[ce]?A[ce]!=="none":!1)||(A.containerType?A.containerType!=="normal":!1)||!m&&(A.backdropFilter?A.backdropFilter!=="none":!1)||!m&&(A.filter?A.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(ce=>(A.willChange||"").includes(ce))||["paint","layout","strict","content"].some(ce=>(A.contain||"").includes(ce))}function v3(n){let m=qs(n);for(;us(m)&&!Tc(m);){if(nf(m))return m;if(wd(m))return null;m=qs(m)}return null}function rf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tc(n){return["html","body","#document"].includes(Zc(n))}function Jl(n){return Tl(n).getComputedStyle(n)}function kd(n){return Xl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function qs(n){if(Zc(n)==="html")return n;const m=n.assignedSlot||n.parentNode||hh(n)&&n.host||ds(n);return hh(m)?m.host:m}function o1(n){const m=qs(n);return Tc(m)?n.ownerDocument?n.ownerDocument.body:n.body:us(m)&&cu(m)?m:o1(m)}function iu(n,m,A){var ce;m===void 0&&(m=[]),A===void 0&&(A=!0);const Ce=o1(n),Ne=Ce===((ce=n.ownerDocument)==null?void 0:ce.body),Ge=Tl(Ce);if(Ne){const $e=M0(Ge);return m.concat(Ge,Ge.visualViewport||[],cu(Ce)?Ce:[],$e&&A?iu($e):[])}return m.concat(Ce,iu(Ce,[],A))}function M0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function i1(n){const m=Jl(n);let A=parseFloat(m.width)||0,ce=parseFloat(m.height)||0;const Ce=us(n),Ne=Ce?n.offsetWidth:A,Ge=Ce?n.offsetHeight:ce,$e=Vu(A)!==Ne||Vu(ce)!==Ge;return $e&&(A=Ne,ce=Ge),{width:A,height:ce,$:$e}}function of(n){return Xl(n)?n:n.contextElement}function Cc(n){const m=of(n);if(!us(m))return cs(1);const A=m.getBoundingClientRect(),{width:ce,height:Ce,$:Ne}=i1(m);let Ge=(Ne?Vu(A.width):A.width)/ce,$e=(Ne?Vu(A.height):A.height)/Ce;return(!Ge||!Number.isFinite(Ge))&&(Ge=1),(!$e||!Number.isFinite($e))&&($e=1),{x:Ge,y:$e}}const b3=cs(0);function a1(n){const m=Tl(n);return!rf()||!m.visualViewport?b3:{x:m.visualViewport.offsetLeft,y:m.visualViewport.offsetTop}}function y3(n,m,A){return m===void 0&&(m=!1),!A||m&&A!==Tl(n)?!1:m}function pc(n,m,A,ce){m===void 0&&(m=!1),A===void 0&&(A=!1);const Ce=n.getBoundingClientRect(),Ne=of(n);let Ge=cs(1);m&&(ce?Xl(ce)&&(Ge=Cc(ce)):Ge=Cc(n));const $e=y3(Ne,A,ce)?a1(Ne):cs(0);let mt=(Ce.left+$e.x)/Ge.x,yt=(Ce.top+$e.y)/Ge.y,Et=Ce.width/Ge.x,ft=Ce.height/Ge.y;if(Ne){const We=Tl(Ne),te=ce&&Xl(ce)?Tl(ce):ce;let t=We,e=M0(t);for(;e&&ce&&te!==t;){const w=Cc(e),v=e.getBoundingClientRect(),d=Jl(e),b=v.left+(e.clientLeft+parseFloat(d.paddingLeft))*w.x,T=v.top+(e.clientTop+parseFloat(d.paddingTop))*w.y;mt*=w.x,yt*=w.y,Et*=w.x,ft*=w.y,mt+=b,yt+=T,t=Tl(e),e=M0(t)}}return Gu({width:Et,height:ft,x:mt,y:yt})}function af(n,m){const A=kd(n).scrollLeft;return m?m.left+A:pc(ds(n)).left+A}function l1(n,m,A){A===void 0&&(A=!1);const ce=n.getBoundingClientRect(),Ce=ce.left+m.scrollLeft-(A?0:af(n,ce)),Ne=ce.top+m.scrollTop;return{x:Ce,y:Ne}}function x3(n){let{elements:m,rect:A,offsetParent:ce,strategy:Ce}=n;const Ne=Ce==="fixed",Ge=ds(ce),$e=m?wd(m.floating):!1;if(ce===Ge||$e&&Ne)return A;let mt={scrollLeft:0,scrollTop:0},yt=cs(1);const Et=cs(0),ft=us(ce);if((ft||!ft&&!Ne)&&((Zc(ce)!=="body"||cu(Ge))&&(mt=kd(ce)),us(ce))){const te=pc(ce);yt=Cc(ce),Et.x=te.x+ce.clientLeft,Et.y=te.y+ce.clientTop}const We=Ge&&!ft&&!Ne?l1(Ge,mt,!0):cs(0);return{width:A.width*yt.x,height:A.height*yt.y,x:A.x*yt.x-mt.scrollLeft*yt.x+Et.x+We.x,y:A.y*yt.y-mt.scrollTop*yt.y+Et.y+We.y}}function w3(n){return Array.from(n.getClientRects())}function k3(n){const m=ds(n),A=kd(n),ce=n.ownerDocument.body,Ce=dc(m.scrollWidth,m.clientWidth,ce.scrollWidth,ce.clientWidth),Ne=dc(m.scrollHeight,m.clientHeight,ce.scrollHeight,ce.clientHeight);let Ge=-A.scrollLeft+af(n);const $e=-A.scrollTop;return Jl(ce).direction==="rtl"&&(Ge+=dc(m.clientWidth,ce.clientWidth)-Ce),{width:Ce,height:Ne,x:Ge,y:$e}}function E3(n,m){const A=Tl(n),ce=ds(n),Ce=A.visualViewport;let Ne=ce.clientWidth,Ge=ce.clientHeight,$e=0,mt=0;if(Ce){Ne=Ce.width,Ge=Ce.height;const yt=rf();(!yt||yt&&m==="fixed")&&($e=Ce.offsetLeft,mt=Ce.offsetTop)}return{width:Ne,height:Ge,x:$e,y:mt}}function S3(n,m){const A=pc(n,!0,m==="fixed"),ce=A.top+n.clientTop,Ce=A.left+n.clientLeft,Ne=us(n)?Cc(n):cs(1),Ge=n.clientWidth*Ne.x,$e=n.clientHeight*Ne.y,mt=Ce*Ne.x,yt=ce*Ne.y;return{width:Ge,height:$e,x:mt,y:yt}}function mh(n,m,A){let ce;if(m==="viewport")ce=E3(n,A);else if(m==="document")ce=k3(ds(n));else if(Xl(m))ce=S3(m,A);else{const Ce=a1(n);ce={x:m.x-Ce.x,y:m.y-Ce.y,width:m.width,height:m.height}}return Gu(ce)}function s1(n,m){const A=qs(n);return A===m||!Xl(A)||Tc(A)?!1:Jl(A).position==="fixed"||s1(A,m)}function _3(n,m){const A=m.get(n);if(A)return A;let ce=iu(n,[],!1).filter($e=>Xl($e)&&Zc($e)!=="body"),Ce=null;const Ne=Jl(n).position==="fixed";let Ge=Ne?qs(n):n;for(;Xl(Ge)&&!Tc(Ge);){const $e=Jl(Ge),mt=nf(Ge);!mt&&$e.position==="fixed"&&(Ce=null),(Ne?!mt&&!Ce:!mt&&$e.position==="static"&&Ce&&["absolute","fixed"].includes(Ce.position)||cu(Ge)&&!mt&&s1(n,Ge))?ce=ce.filter(yt=>yt!==Ge):Ce=$e,Ge=qs(Ge)}return m.set(n,ce),ce}function C3(n){let{element:m,boundary:A,rootBoundary:ce,strategy:Ce}=n;const Ne=[...A==="clippingAncestors"?wd(m)?[]:_3(m,this._c):[].concat(A),ce],Ge=Ne[0],$e=Ne.reduce((mt,yt)=>{const Et=mh(m,yt,Ce);return mt.top=dc(Et.top,mt.top),mt.right=$u(Et.right,mt.right),mt.bottom=$u(Et.bottom,mt.bottom),mt.left=dc(Et.left,mt.left),mt},mh(m,Ge,Ce));return{width:$e.right-$e.left,height:$e.bottom-$e.top,x:$e.left,y:$e.top}}function j3(n){const{width:m,height:A}=i1(n);return{width:m,height:A}}function O3(n,m,A){const ce=us(m),Ce=ds(m),Ne=A==="fixed",Ge=pc(n,!0,Ne,m);let $e={scrollLeft:0,scrollTop:0};const mt=cs(0);function yt(){mt.x=af(Ce)}if(ce||!ce&&!Ne)if((Zc(m)!=="body"||cu(Ce))&&($e=kd(m)),ce){const te=pc(m,!0,Ne,m);mt.x=te.x+m.clientLeft,mt.y=te.y+m.clientTop}else Ce&&yt();Ne&&!ce&&Ce&&yt();const Et=Ce&&!ce&&!Ne?l1(Ce,$e):cs(0),ft=Ge.left+$e.scrollLeft-mt.x-Et.x,We=Ge.top+$e.scrollTop-mt.y-Et.y;return{x:ft,y:We,width:Ge.width,height:Ge.height}}function h0(n){return Jl(n).position==="static"}function gh(n,m){if(!us(n)||Jl(n).position==="fixed")return null;if(m)return m(n);let A=n.offsetParent;return ds(n)===A&&(A=A.ownerDocument.body),A}function c1(n,m){const A=Tl(n);if(wd(n))return A;if(!us(n)){let Ce=qs(n);for(;Ce&&!Tc(Ce);){if(Xl(Ce)&&!h0(Ce))return Ce;Ce=qs(Ce)}return A}let ce=gh(n,m);for(;ce&&g3(ce)&&h0(ce);)ce=gh(ce,m);return ce&&Tc(ce)&&h0(ce)&&!nf(ce)?A:ce||v3(n)||A}const M3=async function(n){const m=this.getOffsetParent||c1,A=this.getDimensions,ce=await A(n.floating);return{reference:O3(n.reference,await m(n.floating),n.strategy),floating:{x:0,y:0,width:ce.width,height:ce.height}}};function T3(n){return Jl(n).direction==="rtl"}const P3={convertOffsetParentRelativeRectToViewportRelativeRect:x3,getDocumentElement:ds,getClippingRect:C3,getOffsetParent:c1,getElementRects:M3,getClientRects:w3,getDimensions:j3,getScale:Cc,isElement:Xl,isRTL:T3};function u1(n,m){return n.x===m.x&&n.y===m.y&&n.width===m.width&&n.height===m.height}function I3(n,m){let A=null,ce;const Ce=ds(n);function Ne(){var $e;clearTimeout(ce),($e=A)==null||$e.disconnect(),A=null}function Ge($e,mt){$e===void 0&&($e=!1),mt===void 0&&(mt=1),Ne();const yt=n.getBoundingClientRect(),{left:Et,top:ft,width:We,height:te}=yt;if($e||m(),!We||!te)return;const t=Mu(ft),e=Mu(Ce.clientWidth-(Et+We)),w=Mu(Ce.clientHeight-(ft+te)),v=Mu(Et),d={rootMargin:-t+"px "+-e+"px "+-w+"px "+-v+"px",threshold:dc(0,$u(1,mt))||1};let b=!0;function T(S){const a=S[0].intersectionRatio;if(a!==mt){if(!b)return Ge();a?Ge(!1,a):ce=setTimeout(()=>{Ge(!1,1e-7)},1e3)}a===1&&!u1(yt,n.getBoundingClientRect())&&Ge(),b=!1}try{A=new IntersectionObserver(T,{...d,root:Ce.ownerDocument})}catch{A=new IntersectionObserver(T,d)}A.observe(n)}return Ge(!0),Ne}function D3(n,m,A,ce){ce===void 0&&(ce={});const{ancestorScroll:Ce=!0,ancestorResize:Ne=!0,elementResize:Ge=typeof ResizeObserver=="function",layoutShift:$e=typeof IntersectionObserver=="function",animationFrame:mt=!1}=ce,yt=of(n),Et=Ce||Ne?[...yt?iu(yt):[],...iu(m)]:[];Et.forEach(v=>{Ce&&v.addEventListener("scroll",A,{passive:!0}),Ne&&v.addEventListener("resize",A)});const ft=yt&&$e?I3(yt,A):null;let We=-1,te=null;Ge&&(te=new ResizeObserver(v=>{let[d]=v;d&&d.target===yt&&te&&(te.unobserve(m),cancelAnimationFrame(We),We=requestAnimationFrame(()=>{var b;(b=te)==null||b.observe(m)})),A()}),yt&&!mt&&te.observe(yt),te.observe(m));let t,e=mt?pc(n):null;mt&&w();function w(){const v=pc(n);e&&!u1(e,v)&&A(),e=v,t=requestAnimationFrame(w)}return A(),()=>{var v;Et.forEach(d=>{Ce&&d.removeEventListener("scroll",A),Ne&&d.removeEventListener("resize",A)}),ft?.(),(v=te)==null||v.disconnect(),te=null,mt&&cancelAnimationFrame(t)}}const L3=p3,A3=h3,R3=d3,Z3=m3,z3=(n,m,A)=>{const ce=new Map,Ce={platform:P3,...A},Ne={...Ce.platform,_c:ce};return u3(n,m,{...Ce,platform:Ne})},N3={name:"ChevronDownIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var B3=function(){var n=this,m=n._self._c;return m("span",n._b({staticClass:"material-design-icon chevron-down-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(A){return n.$emit("click",A)}}},"span",n.$attrs,!1),[m("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[m("path",{attrs:{d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"}},[n.title?m("title",[n._v(n._s(n.title))]):n._e()])])])},W3=[],H3=Ii(N3,B3,W3,!1,null,null);const F3=H3.exports,U3={name:"NcEllipsisedOption",components:{NcHighlight:bd},props:{name:{type:String,default:""},search:{type:String,default:""}},computed:{needsTruncate(){return this.name&&this.name.length>=10},split(){return this.name.length-Math.min(Math.floor(this.name.length/2),10)},part1(){return this.needsTruncate?this.name.slice(0,this.split):this.name},part2(){return this.needsTruncate?this.name.slice(this.split):""},highlight1(){return this.search?Qm(this.name,this.search):[]},highlight2(){return this.highlight1.map(n=>({start:n.start-this.split,end:n.end-this.split}))}}};var K3=function(){var n=this,m=n._self._c;return m("span",{staticClass:"name-parts",attrs:{dir:"auto",title:n.name}},[m("NcHighlight",{staticClass:"name-parts__first",attrs:{text:n.part1,search:n.search,highlight:n.highlight1}}),n.part2?m("NcHighlight",{staticClass:"name-parts__last",attrs:{text:n.part2,search:n.search,highlight:n.highlight2}}):n._e()],1)},$3=[],V3=Ii(U3,K3,$3,!1,null,"f6384352");const Y3=V3.exports;function Ts(n){return n.split("-")[0]}function jc(n){return n.split("-")[1]}function uu(n){return["top","bottom"].includes(Ts(n))?"x":"y"}function lf(n){return n==="y"?"height":"width"}function vh(n){let{reference:m,floating:A,placement:ce}=n;const Ce=m.x+m.width/2-A.width/2,Ne=m.y+m.height/2-A.height/2;let Ge;switch(Ts(ce)){case"top":Ge={x:Ce,y:m.y-A.height};break;case"bottom":Ge={x:Ce,y:m.y+m.height};break;case"right":Ge={x:m.x+m.width,y:Ne};break;case"left":Ge={x:m.x-A.width,y:Ne};break;default:Ge={x:m.x,y:m.y}}const $e=uu(ce),mt=lf($e);switch(jc(ce)){case"start":Ge[$e]=Ge[$e]-(m[mt]/2-A[mt]/2);break;case"end":Ge[$e]=Ge[$e]+(m[mt]/2-A[mt]/2);break}return Ge}const G3=async(n,m,A)=>{const{placement:ce="bottom",strategy:Ce="absolute",middleware:Ne=[],platform:Ge}=A;let $e=await Ge.getElementRects({reference:n,floating:m,strategy:Ce}),{x:mt,y:yt}=vh({...$e,placement:ce}),Et=ce,ft={};for(let We=0;We<Ne.length;We++){const{name:te,fn:t}=Ne[We],{x:e,y:w,data:v,reset:d}=await t({x:mt,y:yt,initialPlacement:ce,placement:Et,strategy:Ce,middlewareData:ft,rects:$e,platform:Ge,elements:{reference:n,floating:m}});if(mt=e??mt,yt=w??yt,ft={...ft,[te]:v??{}},d){typeof d=="object"&&(d.placement&&(Et=d.placement),d.rects&&($e=d.rects===!0?await Ge.getElementRects({reference:n,floating:m,strategy:Ce}):d.rects),{x:mt,y:yt}=vh({...$e,placement:Et})),We=-1;continue}}return{x:mt,y:yt,placement:Et,strategy:Ce,middlewareData:ft}};function q3(n){return{top:0,right:0,bottom:0,left:0,...n}}function d1(n){return typeof n!="number"?q3(n):{top:n,right:n,bottom:n,left:n}}function T0(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function Ed(n,m){m===void 0&&(m={});const{x:A,y:ce,platform:Ce,rects:Ne,elements:Ge,strategy:$e}=n,{boundary:mt="clippingParents",rootBoundary:yt="viewport",elementContext:Et="floating",altBoundary:ft=!1,padding:We=0}=m,te=d1(We),t=Ge[ft?Et==="floating"?"reference":"floating":Et],e=await Ce.getClippingClientRect({element:await Ce.isElement(t)?t:t.contextElement||await Ce.getDocumentElement({element:Ge.floating}),boundary:mt,rootBoundary:yt}),w=T0(await Ce.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Et==="floating"?{...Ne.floating,x:A,y:ce}:Ne.reference,offsetParent:await Ce.getOffsetParent({element:Ge.floating}),strategy:$e}));return{top:e.top-w.top+te.top,bottom:w.bottom-e.bottom+te.bottom,left:e.left-w.left+te.left,right:w.right-e.right+te.right}}const X3=Math.min,sc=Math.max;function P0(n,m,A){return sc(n,X3(m,A))}const J3=n=>({name:"arrow",options:n,async fn(m){const{element:A,padding:ce=0}=n??{},{x:Ce,y:Ne,placement:Ge,rects:$e,platform:mt}=m;if(A==null)return{};const yt=d1(ce),Et={x:Ce,y:Ne},ft=Ts(Ge),We=uu(ft),te=lf(We),t=await mt.getDimensions({element:A}),e=We==="y"?"top":"left",w=We==="y"?"bottom":"right",v=$e.reference[te]+$e.reference[We]-Et[We]-$e.floating[te],d=Et[We]-$e.reference[We],b=await mt.getOffsetParent({element:A}),T=b?We==="y"?b.clientHeight||0:b.clientWidth||0:0,S=v/2-d/2,a=yt[e],c=T-t[te]-yt[w],Z=T/2-t[te]/2+S,F=P0(a,Z,c);return{data:{[We]:F,centerOffset:Z-F}}}}),Q3={left:"right",right:"left",bottom:"top",top:"bottom"};function qu(n){return n.replace(/left|right|bottom|top/g,m=>Q3[m])}function f1(n,m){const A=jc(n)==="start",ce=uu(n),Ce=lf(ce);let Ne=ce==="x"?A?"right":"left":A?"bottom":"top";return m.reference[Ce]>m.floating[Ce]&&(Ne=qu(Ne)),{main:Ne,cross:qu(Ne)}}const e5={start:"end",end:"start"};function I0(n){return n.replace(/start|end/g,m=>e5[m])}const t5=["top","right","bottom","left"],n5=t5.reduce((n,m)=>n.concat(m,m+"-start",m+"-end"),[]);function r5(n,m,A){return(n?[...A.filter(ce=>jc(ce)===n),...A.filter(ce=>jc(ce)!==n)]:A.filter(ce=>Ts(ce)===ce)).filter(ce=>n?jc(ce)===n||(m?I0(ce)!==ce:!1):!0)}const o5=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,async fn(m){var A,ce,Ce,Ne,Ge,$e;const{x:mt,y:yt,rects:Et,middlewareData:ft,placement:We}=m,{alignment:te=null,allowedPlacements:t=n5,autoAlignment:e=!0,...w}=n;if((A=ft.autoPlacement)!=null&&A.skip)return{};const v=r5(te,e,t),d=await Ed(m,w),b=(ce=(Ce=ft.autoPlacement)==null?void 0:Ce.index)!=null?ce:0,T=v[b],{main:S,cross:a}=f1(T,Et);if(We!==T)return{x:mt,y:yt,reset:{placement:v[0]}};const c=[d[Ts(T)],d[S],d[a]],Z=[...(Ne=(Ge=ft.autoPlacement)==null?void 0:Ge.overflows)!=null?Ne:[],{placement:T,overflows:c}],F=v[b+1];if(F)return{data:{index:b+1,overflows:Z},reset:{placement:F}};const _=Z.slice().sort((x,G)=>x.overflows[0]-G.overflows[0]),h=($e=_.find(x=>{let{overflows:G}=x;return G.every(le=>le<=0)}))==null?void 0:$e.placement;return{data:{skip:!0},reset:{placement:h??_[0].placement}}}}};function i5(n){const m=qu(n);return[I0(n),m,I0(m)]}const a5=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(m){var A,ce;const{placement:Ce,middlewareData:Ne,rects:Ge,initialPlacement:$e}=m;if((A=Ne.flip)!=null&&A.skip)return{};const{mainAxis:mt=!0,crossAxis:yt=!0,fallbackPlacements:Et,fallbackStrategy:ft="bestFit",flipAlignment:We=!0,...te}=n,t=Ts(Ce),e=Et||(t===$e||!We?[qu($e)]:i5($e)),w=[$e,...e],v=await Ed(m,te),d=[];let b=((ce=Ne.flip)==null?void 0:ce.overflows)||[];if(mt&&d.push(v[t]),yt){const{main:c,cross:Z}=f1(Ce,Ge);d.push(v[c],v[Z])}if(b=[...b,{placement:Ce,overflows:d}],!d.every(c=>c<=0)){var T,S;const c=((T=(S=Ne.flip)==null?void 0:S.index)!=null?T:0)+1,Z=w[c];if(Z)return{data:{index:c,overflows:b},reset:{placement:Z}};let F="bottom";switch(ft){case"bestFit":{var a;const _=(a=b.slice().sort((h,x)=>h.overflows.filter(G=>G>0).reduce((G,le)=>G+le,0)-x.overflows.filter(G=>G>0).reduce((G,le)=>G+le,0))[0])==null?void 0:a.placement;_&&(F=_);break}case"initialPlacement":F=$e;break}return{data:{skip:!0},reset:{placement:F}}}return{}}}};function l5(n){let{placement:m,rects:A,value:ce}=n;const Ce=Ts(m),Ne=["left","top"].includes(Ce)?-1:1,Ge=typeof ce=="function"?ce({...A,placement:m}):ce,{mainAxis:$e,crossAxis:mt}=typeof Ge=="number"?{mainAxis:Ge,crossAxis:0}:{mainAxis:0,crossAxis:0,...Ge};return uu(Ce)==="x"?{x:mt,y:$e*Ne}:{x:$e*Ne,y:mt}}const s5=function(n){return n===void 0&&(n=0),{name:"offset",options:n,fn(m){const{x:A,y:ce,placement:Ce,rects:Ne}=m,Ge=l5({placement:Ce,rects:Ne,value:n});return{x:A+Ge.x,y:ce+Ge.y,data:Ge}}}};function c5(n){return n==="x"?"y":"x"}const u5=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(m){const{x:A,y:ce,placement:Ce}=m,{mainAxis:Ne=!0,crossAxis:Ge=!1,limiter:$e={fn:w=>{let{x:v,y:d}=w;return{x:v,y:d}}},...mt}=n,yt={x:A,y:ce},Et=await Ed(m,mt),ft=uu(Ts(Ce)),We=c5(ft);let te=yt[ft],t=yt[We];if(Ne){const w=ft==="y"?"top":"left",v=ft==="y"?"bottom":"right",d=te+Et[w],b=te-Et[v];te=P0(d,te,b)}if(Ge){const w=We==="y"?"top":"left",v=We==="y"?"bottom":"right",d=t+Et[w],b=t-Et[v];t=P0(d,t,b)}const e=$e.fn({...m,[ft]:te,[We]:t});return{...e,data:{x:e.x-A,y:e.y-ce}}}}},d5=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(m){var A;const{placement:ce,rects:Ce,middlewareData:Ne}=m,{apply:Ge,...$e}=n;if((A=Ne.size)!=null&&A.skip)return{};const mt=await Ed(m,$e),yt=Ts(ce),Et=jc(ce)==="end";let ft,We;yt==="top"||yt==="bottom"?(ft=yt,We=Et?"left":"right"):(We=yt,ft=Et?"top":"bottom");const te=sc(mt.left,0),t=sc(mt.right,0),e=sc(mt.top,0),w=sc(mt.bottom,0),v={height:Ce.floating.height-(["left","right"].includes(ce)?2*(e!==0||w!==0?e+w:sc(mt.top,mt.bottom)):mt[ft]),width:Ce.floating.width-(["top","bottom"].includes(ce)?2*(te!==0||t!==0?te+t:sc(mt.left,mt.right)):mt[We])};return Ge?.({...v,...Ce}),{data:{skip:!0},reset:{rects:!0}}}}};function sf(n){return n?.toString()==="[object Window]"}function Js(n){if(n==null)return window;if(!sf(n)){const m=n.ownerDocument;return m&&m.defaultView||window}return n}function Sd(n){return Js(n).getComputedStyle(n)}function Os(n){return sf(n)?"":n?(n.nodeName||"").toLowerCase():""}function Ms(n){return n instanceof Js(n).HTMLElement}function Xu(n){return n instanceof Js(n).Element}function f5(n){return n instanceof Js(n).Node}function p1(n){const m=Js(n).ShadowRoot;return n instanceof m||n instanceof ShadowRoot}function _d(n){const{overflow:m,overflowX:A,overflowY:ce}=Sd(n);return/auto|scroll|overlay|hidden/.test(m+ce+A)}function p5(n){return["table","td","th"].includes(Os(n))}function h1(n){const m=navigator.userAgent.toLowerCase().includes("firefox"),A=Sd(n);return A.transform!=="none"||A.perspective!=="none"||A.contain==="paint"||["transform","perspective"].includes(A.willChange)||m&&A.willChange==="filter"||m&&(A.filter?A.filter!=="none":!1)}const bh=Math.min,Qc=Math.max,Ju=Math.round;function Pc(n,m){m===void 0&&(m=!1);const A=n.getBoundingClientRect();let ce=1,Ce=1;return m&&Ms(n)&&(ce=n.offsetWidth>0&&Ju(A.width)/n.offsetWidth||1,Ce=n.offsetHeight>0&&Ju(A.height)/n.offsetHeight||1),{width:A.width/ce,height:A.height/Ce,top:A.top/Ce,right:A.right/ce,bottom:A.bottom/Ce,left:A.left/ce,x:A.left/ce,y:A.top/Ce}}function Qs(n){return((f5(n)?n.ownerDocument:n.document)||window.document).documentElement}function Cd(n){return sf(n)?{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}:{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function m1(n){return Pc(Qs(n)).left+Cd(n).scrollLeft}function h5(n){const m=Pc(n);return Ju(m.width)!==n.offsetWidth||Ju(m.height)!==n.offsetHeight}function m5(n,m,A){const ce=Ms(m),Ce=Qs(m),Ne=Pc(n,ce&&h5(m));let Ge={scrollLeft:0,scrollTop:0};const $e={x:0,y:0};if(ce||!ce&&A!=="fixed")if((Os(m)!=="body"||_d(Ce))&&(Ge=Cd(m)),Ms(m)){const mt=Pc(m,!0);$e.x=mt.x+m.clientLeft,$e.y=mt.y+m.clientTop}else Ce&&($e.x=m1(Ce));return{x:Ne.left+Ge.scrollLeft-$e.x,y:Ne.top+Ge.scrollTop-$e.y,width:Ne.width,height:Ne.height}}function jd(n){return Os(n)==="html"?n:n.assignedSlot||n.parentNode||(p1(n)?n.host:null)||Qs(n)}function yh(n){return!Ms(n)||getComputedStyle(n).position==="fixed"?null:n.offsetParent}function g5(n){let m=jd(n);for(;Ms(m)&&!["html","body"].includes(Os(m));){if(h1(m))return m;m=m.parentNode}return null}function D0(n){const m=Js(n);let A=yh(n);for(;A&&p5(A)&&getComputedStyle(A).position==="static";)A=yh(A);return A&&(Os(A)==="html"||Os(A)==="body"&&getComputedStyle(A).position==="static"&&!h1(A))?m:A||g5(n)||m}function xh(n){return{width:n.offsetWidth,height:n.offsetHeight}}function v5(n){let{rect:m,offsetParent:A,strategy:ce}=n;const Ce=Ms(A),Ne=Qs(A);if(A===Ne)return m;let Ge={scrollLeft:0,scrollTop:0};const $e={x:0,y:0};if((Ce||!Ce&&ce!=="fixed")&&((Os(A)!=="body"||_d(Ne))&&(Ge=Cd(A)),Ms(A))){const mt=Pc(A,!0);$e.x=mt.x+A.clientLeft,$e.y=mt.y+A.clientTop}return{...m,x:m.x-Ge.scrollLeft+$e.x,y:m.y-Ge.scrollTop+$e.y}}function b5(n){const m=Js(n),A=Qs(n),ce=m.visualViewport;let Ce=A.clientWidth,Ne=A.clientHeight,Ge=0,$e=0;return ce&&(Ce=ce.width,Ne=ce.height,Math.abs(m.innerWidth/ce.scale-ce.width)<.01&&(Ge=ce.offsetLeft,$e=ce.offsetTop)),{width:Ce,height:Ne,x:Ge,y:$e}}function y5(n){var m;const A=Qs(n),ce=Cd(n),Ce=(m=n.ownerDocument)==null?void 0:m.body,Ne=Qc(A.scrollWidth,A.clientWidth,Ce?Ce.scrollWidth:0,Ce?Ce.clientWidth:0),Ge=Qc(A.scrollHeight,A.clientHeight,Ce?Ce.scrollHeight:0,Ce?Ce.clientHeight:0);let $e=-ce.scrollLeft+m1(n);const mt=-ce.scrollTop;return Sd(Ce||A).direction==="rtl"&&($e+=Qc(A.clientWidth,Ce?Ce.clientWidth:0)-Ne),{width:Ne,height:Ge,x:$e,y:mt}}function g1(n){return["html","body","#document"].includes(Os(n))?n.ownerDocument.body:Ms(n)&&_d(n)?n:g1(jd(n))}function Qu(n,m){var A;m===void 0&&(m=[]);const ce=g1(n),Ce=ce===((A=n.ownerDocument)==null?void 0:A.body),Ne=Js(ce),Ge=Ce?[Ne].concat(Ne.visualViewport||[],_d(ce)?ce:[]):ce,$e=m.concat(Ge);return Ce?$e:$e.concat(Qu(jd(Ge)))}function x5(n,m){const A=m.getRootNode==null?void 0:m.getRootNode();if(n.contains(m))return!0;if(A&&p1(A)){let ce=m;do{if(ce&&n===ce)return!0;ce=ce.parentNode||ce.host}while(ce)}return!1}function w5(n){const m=Pc(n),A=m.top+n.clientTop,ce=m.left+n.clientLeft;return{top:A,left:ce,x:ce,y:A,right:ce+n.clientWidth,bottom:A+n.clientHeight,width:n.clientWidth,height:n.clientHeight}}function wh(n,m){return m==="viewport"?T0(b5(n)):Xu(m)?w5(m):T0(y5(Qs(n)))}function k5(n){const m=Qu(jd(n)),A=["absolute","fixed"].includes(Sd(n).position)&&Ms(n)?D0(n):n;return Xu(A)?m.filter(ce=>Xu(ce)&&x5(ce,A)&&Os(ce)!=="body"):[]}function E5(n){let{element:m,boundary:A,rootBoundary:ce}=n;const Ce=[...A==="clippingParents"?k5(m):[].concat(A),ce],Ne=Ce[0],Ge=Ce.reduce(($e,mt)=>{const yt=wh(m,mt);return $e.top=Qc(yt.top,$e.top),$e.right=bh(yt.right,$e.right),$e.bottom=bh(yt.bottom,$e.bottom),$e.left=Qc(yt.left,$e.left),$e},wh(m,Ne));return Ge.width=Ge.right-Ge.left,Ge.height=Ge.bottom-Ge.top,Ge.x=Ge.left,Ge.y=Ge.top,Ge}const S5={getElementRects:n=>{let{reference:m,floating:A,strategy:ce}=n;return{reference:m5(m,D0(A),ce),floating:{...xh(A),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:n=>v5(n),getOffsetParent:n=>{let{element:m}=n;return D0(m)},isElement:n=>Xu(n),getDocumentElement:n=>{let{element:m}=n;return Qs(m)},getClippingClientRect:n=>E5(n),getDimensions:n=>{let{element:m}=n;return xh(m)},getClientRects:n=>{let{element:m}=n;return m.getClientRects()}},_5=(n,m,A)=>G3(n,m,{platform:S5,...A});var C5=Object.defineProperty,j5=Object.defineProperties,O5=Object.getOwnPropertyDescriptors,ed=Object.getOwnPropertySymbols,v1=Object.prototype.hasOwnProperty,b1=Object.prototype.propertyIsEnumerable,kh=(n,m,A)=>m in n?C5(n,m,{enumerable:!0,configurable:!0,writable:!0,value:A}):n[m]=A,Us=(n,m)=>{for(var A in m||(m={}))v1.call(m,A)&&kh(n,A,m[A]);if(ed)for(var A of ed(m))b1.call(m,A)&&kh(n,A,m[A]);return n},Od=(n,m)=>j5(n,O5(m)),M5=(n,m)=>{var A={};for(var ce in n)v1.call(n,ce)&&m.indexOf(ce)<0&&(A[ce]=n[ce]);if(n!=null&&ed)for(var ce of ed(n))m.indexOf(ce)<0&&b1.call(n,ce)&&(A[ce]=n[ce]);return A};function y1(n,m){for(const A in m)Object.prototype.hasOwnProperty.call(m,A)&&(typeof m[A]=="object"&&n[A]?y1(n[A],m[A]):n[A]=m[A])}const js={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:n=>[...n,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function Ic(n,m){let A=js.themes[n]||{},ce;do ce=A[m],typeof ce>"u"?A.$extend?A=js.themes[A.$extend]||{}:(A=null,ce=js[m]):A=null;while(A);return ce}function T5(n){const m=[n];let A=js.themes[n]||{};do A.$extend&&!A.$resetCss?(m.push(A.$extend),A=js.themes[A.$extend]||{}):A=null;while(A);return m.map(ce=>`v-popper--theme-${ce}`)}function Eh(n){const m=[n];let A=js.themes[n]||{};do A.$extend?(m.push(A.$extend),A=js.themes[A.$extend]||{}):A=null;while(A);return m}let hc=!1;if(typeof window<"u"){hc=!1;try{const n=Object.defineProperty({},"passive",{get(){hc=!0}});window.addEventListener("test",null,n)}catch{}}let x1=!1;typeof window<"u"&&typeof navigator<"u"&&(x1=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const w1=["auto","top","bottom","left","right"].reduce((n,m)=>n.concat([m,`${m}-start`,`${m}-end`]),[]),Sh={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart"},_h={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend"};function Ch(n,m){const A=n.indexOf(m);A!==-1&&n.splice(A,1)}function m0(){return new Promise(n=>requestAnimationFrame(()=>{requestAnimationFrame(n)}))}const Vl=[];let ac=null;const jh={};function Oh(n){let m=jh[n];return m||(m=jh[n]=[]),m}let L0=function(){};typeof window<"u"&&(L0=window.Element);function Mi(n){return function(){const m=this.$props;return Ic(m.theme,n)}}const g0="__floating-vue__popper";var k1=()=>({name:"VPopper",props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,required:!0},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:Mi("disabled")},positioningDisabled:{type:Boolean,default:Mi("positioningDisabled")},placement:{type:String,default:Mi("placement"),validator:n=>w1.includes(n)},delay:{type:[String,Number,Object],default:Mi("delay")},distance:{type:[Number,String],default:Mi("distance")},skidding:{type:[Number,String],default:Mi("skidding")},triggers:{type:Array,default:Mi("triggers")},showTriggers:{type:[Array,Function],default:Mi("showTriggers")},hideTriggers:{type:[Array,Function],default:Mi("hideTriggers")},popperTriggers:{type:Array,default:Mi("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:Mi("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:Mi("popperHideTriggers")},container:{type:[String,Object,L0,Boolean],default:Mi("container")},boundary:{type:[String,L0],default:Mi("boundary")},strategy:{type:String,validator:n=>["absolute","fixed"].includes(n),default:Mi("strategy")},autoHide:{type:[Boolean,Function],default:Mi("autoHide")},handleResize:{type:Boolean,default:Mi("handleResize")},instantMove:{type:Boolean,default:Mi("instantMove")},eagerMount:{type:Boolean,default:Mi("eagerMount")},popperClass:{type:[String,Array,Object],default:Mi("popperClass")},computeTransformOrigin:{type:Boolean,default:Mi("computeTransformOrigin")},autoMinSize:{type:Boolean,default:Mi("autoMinSize")},autoSize:{type:[Boolean,String],default:Mi("autoSize")},autoMaxSize:{type:Boolean,default:Mi("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:Mi("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:Mi("preventOverflow")},overflowPadding:{type:[Number,String],default:Mi("overflowPadding")},arrowPadding:{type:[Number,String],default:Mi("arrowPadding")},arrowOverflow:{type:Boolean,default:Mi("arrowOverflow")},flip:{type:Boolean,default:Mi("flip")},shift:{type:Boolean,default:Mi("shift")},shiftCrossAxis:{type:Boolean,default:Mi("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:Mi("noAutoFocus")}},provide(){return{[g0]:{parentPopper:this}}},inject:{[g0]:{default:null}},data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:Od(Us({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result}},parentPopper(){var n;return(n=this[g0])==null?void 0:n.parentPopper},hasPopperShowTriggerHover(){var n,m;return((n=this.popperTriggers)==null?void 0:n.includes("hover"))||((m=this.popperShowTriggers)==null?void 0:m.includes("hover"))}},watch:Us(Us({shown:"$_autoShowHide",disabled(n){n?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())}},["triggers","positioningDisabled"].reduce((n,m)=>(n[m]="$_refreshListeners",n),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((n,m)=>(n[m]="$_computePosition",n),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(n=>n.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeDestroy(){this.dispose()},methods:{show({event:n=null,skipDelay:m=!1,force:A=!1}={}){var ce,Ce;(ce=this.parentPopper)!=null&&ce.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(A||!this.disabled)&&(((Ce=this.parentPopper)==null?void 0:Ce.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(n,m),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:n=null,skipDelay:m=!1,skipAiming:A=!1}={}){var ce;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(!A&&this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:m}),this.parentPopper.lockedChild=null)},1e3));return}((ce=this.parentPopper)==null?void 0:ce.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(n,m),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=this.referenceNode(),this.$_targetNodes=this.targetNodes().filter(n=>n.nodeType===n.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){var n;if(this.$_isDisposed||this.positioningDisabled)return;const m={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&m.middleware.push(s5({mainAxis:this.distance,crossAxis:this.skidding}));const A=this.placement.startsWith("auto");if(A?m.middleware.push(o5({alignment:(n=this.placement.split("-")[1])!=null?n:""})):m.placement=this.placement,this.preventOverflow&&(this.shift&&m.middleware.push(u5({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!A&&this.flip&&m.middleware.push(a5({padding:this.overflowPadding,boundary:this.boundary}))),m.middleware.push(J3({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&m.middleware.push({name:"arrowOverflow",fn:({placement:Ce,rects:Ne,middlewareData:Ge})=>{let $e;const{centerOffset:mt}=Ge.arrow;return Ce.startsWith("top")||Ce.startsWith("bottom")?$e=Math.abs(mt)>Ne.reference.width/2:$e=Math.abs(mt)>Ne.reference.height/2,{data:{overflow:$e}}}}),this.autoMinSize||this.autoSize){const Ce=this.autoSize?this.autoSize:this.autoMinSize?"min":null;m.middleware.push({name:"autoSize",fn:({rects:Ne,placement:Ge,middlewareData:$e})=>{var mt;if((mt=$e.autoSize)!=null&&mt.skip)return{};let yt,Et;return Ge.startsWith("top")||Ge.startsWith("bottom")?yt=Ne.reference.width:Et=Ne.reference.height,this.$_innerNode.style[Ce==="min"?"minWidth":Ce==="max"?"maxWidth":"width"]=yt!=null?`${yt}px`:null,this.$_innerNode.style[Ce==="min"?"minHeight":Ce==="max"?"maxHeight":"height"]=Et!=null?`${Et}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,m.middleware.push(d5({boundary:this.boundary,padding:this.overflowPadding,apply:({width:Ce,height:Ne})=>{this.$_innerNode.style.maxWidth=Ce!=null?`${Ce}px`:null,this.$_innerNode.style.maxHeight=Ne!=null?`${Ne}px`:null}})));const ce=await _5(this.$_referenceNode,this.$_popperNode,m);Object.assign(this.result,{x:ce.x,y:ce.y,placement:ce.placement,strategy:ce.strategy,arrow:Us(Us({},ce.middlewareData.arrow),ce.middlewareData.arrowOverflow)})},$_scheduleShow(n=null,m=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),ac&&this.instantMove&&ac.instantMove&&ac!==this.parentPopper){ac.$_applyHide(!0),this.$_applyShow(!0);return}m?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(n=null,m=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(ac=this),m?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(n){const m=this.delay;return parseInt(m&&m[n]||m||0)},async $_applyShow(n=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=n,!this.isShown&&(this.$_ensureTeleport(),await m0(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...Qu(this.$_referenceNode),...Qu(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const m=this.$_referenceNode.getBoundingClientRect(),A=this.$_popperNode.querySelector(".v-popper__wrapper"),ce=A.parentNode.getBoundingClientRect(),Ce=m.x+m.width/2-(ce.left+A.offsetLeft),Ne=m.y+m.height/2-(ce.top+A.offsetTop);this.result.transformOrigin=`${Ce}px ${Ne}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const n=this.showGroup;if(n){let m;for(let A=0;A<Vl.length;A++)m=Vl[A],m.showGroup!==n&&(m.hide(),m.$emit("close-group"))}Vl.push(this),document.body.classList.add("v-popper--some-open");for(const m of Eh(this.theme))Oh(m).push(this),document.body.classList.add(`v-popper--some-open--${m}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await m0(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(n=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=n,Ch(Vl,this),Vl.length===0&&document.body.classList.remove("v-popper--some-open");for(const A of Eh(this.theme)){const ce=Oh(A);Ch(ce,this),ce.length===0&&document.body.classList.remove(`v-popper--some-open--${A}`)}ac===this&&(ac=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const m=Ic(this.theme,"disposeTimeout");m!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},m)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await m0(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let n=this.container;if(typeof n=="string"?n=window.document.querySelector(n):n===!1&&(n=this.$_targetNodes[0].parentNode),!n)throw new Error("No container for popover: "+this.container);n.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const n=A=>{this.isShown&&!this.$_hideInProgress||(A.usedByTooltip=!0,!this.$_preventShow&&this.show({event:A}))};this.$_registerTriggerListeners(this.$_targetNodes,Sh,this.triggers,this.showTriggers,n),this.$_registerTriggerListeners([this.$_popperNode],Sh,this.popperTriggers,this.popperShowTriggers,n);const m=A=>ce=>{ce.usedByTooltip||this.hide({event:ce,skipAiming:A})};this.$_registerTriggerListeners(this.$_targetNodes,_h,this.triggers,this.hideTriggers,m(!1)),this.$_registerTriggerListeners([this.$_popperNode],_h,this.popperTriggers,this.popperHideTriggers,m(!0))},$_registerEventListeners(n,m,A){this.$_events.push({targetNodes:n,eventType:m,handler:A}),n.forEach(ce=>ce.addEventListener(m,A,hc?{passive:!0}:void 0))},$_registerTriggerListeners(n,m,A,ce,Ce){let Ne=A;ce!=null&&(Ne=typeof ce=="function"?ce(Ne):ce),Ne.forEach(Ge=>{const $e=m[Ge];$e&&this.$_registerEventListeners(n,$e,Ce)})},$_removeEventListeners(n){const m=[];this.$_events.forEach(A=>{const{targetNodes:ce,eventType:Ce,handler:Ne}=A;!n||n===Ce?ce.forEach(Ge=>Ge.removeEventListener(Ce,Ne)):m.push(A)}),this.$_events=m},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(n,m=!1){this.$_showFrameLocked||(this.hide({event:n}),n.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),m&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(n,m){for(const A of this.$_targetNodes){const ce=A.getAttribute(n);ce&&(A.removeAttribute(n),A.setAttribute(m,ce))}},$_applyAttrsToTarget(n){for(const m of this.$_targetNodes)for(const A in n){const ce=n[A];ce==null?m.removeAttribute(A):m.setAttribute(A,ce)}},$_updateParentShownChildren(n){let m=this.parentPopper;for(;m;)n?m.shownChildren.add(this.randomId):(m.shownChildren.delete(this.randomId),m.$_pendingHide&&m.hide()),m=m.parentPopper},$_isAimingPopper(){const n=this.$el.getBoundingClientRect();if(eu>=n.left&&eu<=n.right&&tu>=n.top&&tu<=n.bottom){const m=this.$_popperNode.getBoundingClientRect(),A=eu-Hs,ce=tu-Fs,Ce=m.left+m.width/2-Hs+(m.top+m.height/2)-Fs+m.width+m.height,Ne=Hs+A*Ce,Ge=Fs+ce*Ce;return Tu(Hs,Fs,Ne,Ge,m.left,m.top,m.left,m.bottom)||Tu(Hs,Fs,Ne,Ge,m.left,m.top,m.right,m.top)||Tu(Hs,Fs,Ne,Ge,m.right,m.top,m.right,m.bottom)||Tu(Hs,Fs,Ne,Ge,m.left,m.bottom,m.right,m.bottom)}return!1}},render(){return this.$scopedSlots.default(this.slotData)[0]}});typeof document<"u"&&typeof window<"u"&&(x1?(document.addEventListener("touchstart",Mh,hc?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",I5,hc?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",Mh,!0),window.addEventListener("click",P5,!0)),window.addEventListener("resize",A5));function Mh(n){for(let m=0;m<Vl.length;m++){const A=Vl[m];try{const ce=A.popperNode();A.$_mouseDownContains=ce.contains(n.target)}catch{}}}function P5(n){E1(n)}function I5(n){E1(n,!0)}function E1(n,m=!1){const A={};for(let ce=Vl.length-1;ce>=0;ce--){const Ce=Vl[ce];try{const Ne=Ce.$_containsGlobalTarget=D5(Ce,n);Ce.$_pendingHide=!1,requestAnimationFrame(()=>{if(Ce.$_pendingHide=!1,!A[Ce.randomId]&&Th(Ce,Ne,n)){if(Ce.$_handleGlobalClose(n,m),!n.closeAllPopover&&n.closePopover&&Ne){let $e=Ce.parentPopper;for(;$e;)A[$e.randomId]=!0,$e=$e.parentPopper;return}let Ge=Ce.parentPopper;for(;Ge&&Th(Ge,Ge.$_containsGlobalTarget,n);)Ge.$_handleGlobalClose(n,m),Ge=Ge.parentPopper}})}catch{}}}function D5(n,m){const A=n.popperNode();return n.$_mouseDownContains||A.contains(m.target)}function Th(n,m,A){return A.closeAllPopover||A.closePopover&&m||L5(n,A)&&!m}function L5(n,m){if(typeof n.autoHide=="function"){const A=n.autoHide(m);return n.lastAutoHide=A,A}return n.autoHide}function A5(n){for(let m=0;m<Vl.length;m++)Vl[m].$_computePosition(n)}let Hs=0,Fs=0,eu=0,tu=0;typeof window<"u"&&window.addEventListener("mousemove",n=>{Hs=eu,Fs=tu,eu=n.clientX,tu=n.clientY},hc?{passive:!0}:void 0);function Tu(n,m,A,ce,Ce,Ne,Ge,$e){const mt=((Ge-Ce)*(m-Ne)-($e-Ne)*(n-Ce))/(($e-Ne)*(A-n)-(Ge-Ce)*(ce-m)),yt=((A-n)*(m-Ne)-(ce-m)*(n-Ce))/(($e-Ne)*(A-n)-(Ge-Ce)*(ce-m));return mt>=0&&mt<=1&&yt>=0&&yt<=1}function R5(){var n=window.navigator.userAgent,m=n.indexOf("MSIE ");if(m>0)return parseInt(n.substring(m+5,n.indexOf(".",m)),10);var A=n.indexOf("Trident/");if(A>0){var ce=n.indexOf("rv:");return parseInt(n.substring(ce+3,n.indexOf(".",ce)),10)}var Ce=n.indexOf("Edge/");return Ce>0?parseInt(n.substring(Ce+5,n.indexOf(".",Ce)),10):-1}var Ru;function A0(){A0.init||(A0.init=!0,Ru=R5()!==-1)}var Z5={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var n=this;A0(),this.$nextTick(function(){n._w=n.$el.offsetWidth,n._h=n.$el.offsetHeight,n.emitOnMount&&n.emitSize()});var m=document.createElement("object");this._resizeObject=m,m.setAttribute("aria-hidden","true"),m.setAttribute("tabindex",-1),m.onload=this.addResizeHandlers,m.type="text/html",Ru&&this.$el.appendChild(m),m.data="about:blank",Ru||this.$el.appendChild(m)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!Ru&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};function z5(n,m,A,ce,Ce,Ne,Ge,$e,mt,yt){var Et=typeof A=="function"?A.options:A;return n&&n.render&&(Et.render=n.render,Et.staticRenderFns=n.staticRenderFns,Et._compiled=!0),Et._scopeId=ce,A}var N5=Z5,S1=function(){var n=this,m=n.$createElement,A=n._self._c||m;return A("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},B5=[];S1._withStripped=!0;var W5=void 0,H5="data-v-8859cc6c",R0=z5({render:S1,staticRenderFns:B5},W5,N5,H5);function F5(n){n.component("resize-observer",R0),n.component("ResizeObserver",R0)}var U5={version:"1.0.1",install:F5},Pu=null;typeof window<"u"?Pu=window.Vue:typeof Uu<"u"&&(Pu=Uu.Vue),Pu&&Pu.use(U5);var _1={computed:{themeClass(){return T5(this.theme)}}},K5={name:"VPopperContent",components:{ResizeObserver:R0},mixins:[_1],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},methods:{toPx(n){return n!=null&&!isNaN(n)?`${n}px`:null}}},$5=function(){var n=this,m=n.$createElement,A=n._self._c||m;return A("div",{ref:"popover",staticClass:"v-popper__popper",class:[n.themeClass,n.classes.popperClass,{"v-popper__popper--shown":n.shown,"v-popper__popper--hidden":!n.shown,"v-popper__popper--show-from":n.classes.showFrom,"v-popper__popper--show-to":n.classes.showTo,"v-popper__popper--hide-from":n.classes.hideFrom,"v-popper__popper--hide-to":n.classes.hideTo,"v-popper__popper--skip-transition":n.skipTransition,"v-popper__popper--arrow-overflow":n.result&&n.result.arrow.overflow,"v-popper__popper--no-positioning":!n.result}],style:n.result?{position:n.result.strategy,transform:"translate3d("+Math.round(n.result.x)+"px,"+Math.round(n.result.y)+"px,0)"}:void 0,attrs:{id:n.popperId,"aria-hidden":n.shown?"false":"true",tabindex:n.autoHide?0:void 0,"data-popper-placement":n.result?n.result.placement:void 0},on:{keyup:function(ce){if(!ce.type.indexOf("key")&&n._k(ce.keyCode,"esc",27,ce.key,["Esc","Escape"]))return null;n.autoHide&&n.$emit("hide")}}},[A("div",{staticClass:"v-popper__backdrop",on:{click:function(ce){n.autoHide&&n.$emit("hide")}}}),A("div",{staticClass:"v-popper__wrapper",style:n.result?{transformOrigin:n.result.transformOrigin}:void 0},[A("div",{ref:"inner",staticClass:"v-popper__inner"},[n.mounted?[A("div",[n._t("default")],2),n.handleResize?A("ResizeObserver",{on:{notify:function(ce){return n.$emit("resize",ce)}}}):n._e()]:n._e()],2),A("div",{ref:"arrow",staticClass:"v-popper__arrow-container",style:n.result?{left:n.toPx(n.result.arrow.x),top:n.toPx(n.result.arrow.y)}:void 0},[A("div",{staticClass:"v-popper__arrow-outer"}),A("div",{staticClass:"v-popper__arrow-inner"})])])])},V5=[];function zc(n,m,A,ce,Ce,Ne,Ge,$e){var mt=typeof n=="function"?n.options:n;m&&(mt.render=m,mt.staticRenderFns=A,mt._compiled=!0);var yt;if(Ce&&(yt=Ce),yt)if(mt.functional){mt._injectStyles=yt;var Et=mt.render;mt.render=function(We,te){return yt.call(te),Et(We,te)}}else{var ft=mt.beforeCreate;mt.beforeCreate=ft?[].concat(ft,yt):[yt]}return{exports:n,options:mt}}const Ph={};var Y5=zc(K5,$5,V5,!1,G5);function G5(n){for(let m in Ph)this[m]=Ph[m]}var C1=function(){return Y5.exports}(),cf={methods:{show(...n){return this.$refs.popper.show(...n)},hide(...n){return this.$refs.popper.hide(...n)},dispose(...n){return this.$refs.popper.dispose(...n)},onResize(...n){return this.$refs.popper.onResize(...n)}}},q5={name:"VPopperWrapper",components:{Popper:k1(),PopperContent:C1},mixins:[cf,_1],inheritAttrs:!1,props:{theme:{type:String,default(){return this.$options.vPopperTheme}}},methods:{getTargetNodes(){return Array.from(this.$refs.reference.children).filter(n=>n!==this.$refs.popperContent.$el)}}},X5=function(){var n=this,m=n.$createElement,A=n._self._c||m;return A("Popper",n._g(n._b({ref:"popper",attrs:{theme:n.theme,"target-nodes":n.getTargetNodes,"reference-node":function(){return n.$refs.reference},"popper-node":function(){return n.$refs.popperContent.$el}},scopedSlots:n._u([{key:"default",fn:function(ce){var Ce=ce.popperId,Ne=ce.isShown,Ge=ce.shouldMountContent,$e=ce.skipTransition,mt=ce.autoHide,yt=ce.show,Et=ce.hide,ft=ce.handleResize,We=ce.onResize,te=ce.classes,t=ce.result;return[A("div",{ref:"reference",staticClass:"v-popper",class:[n.themeClass,{"v-popper--shown":Ne}]},[n._t("default",null,{shown:Ne,show:yt,hide:Et}),A("PopperContent",{ref:"popperContent",attrs:{"popper-id":Ce,theme:n.theme,shown:Ne,mounted:Ge,"skip-transition":$e,"auto-hide":mt,"handle-resize":ft,classes:te,result:t},on:{hide:Et,resize:We}},[n._t("popper",null,{shown:Ne,hide:Et})],2)],2)]}}],null,!0)},"Popper",n.$attrs,!1),n.$listeners))},J5=[];const Ih={};var Q5=zc(q5,X5,J5,!1,e6);function e6(n){for(let m in Ih)this[m]=Ih[m]}var uf=function(){return Q5.exports}(),t6=Od(Us({},uf),{name:"VDropdown",vPopperTheme:"dropdown"});let n6,r6;const Dh={};var o6=zc(t6,n6,r6,!1,i6);function i6(n){for(let m in Dh)this[m]=Dh[m]}var Z0=function(){return o6.exports}(),a6=Od(Us({},uf),{name:"VMenu",vPopperTheme:"menu"});let l6,s6;const Lh={};var c6=zc(a6,l6,s6,!1,u6);function u6(n){for(let m in Lh)this[m]=Lh[m]}var Ah=function(){return c6.exports}(),d6=Od(Us({},uf),{name:"VTooltip",vPopperTheme:"tooltip"});let f6,p6;const Rh={};var h6=zc(d6,f6,p6,!1,m6);function m6(n){for(let m in Rh)this[m]=Rh[m]}var Zh=function(){return h6.exports}(),g6={name:"VTooltipDirective",components:{Popper:k1(),PopperContent:C1},mixins:[cf],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default(){return Ic(this.theme,"html")}},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default(){return Ic(this.theme,"loadingContent")}}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(n){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(n){if(typeof this.content=="function"&&this.$_isShown&&(n||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const m=++this.$_fetchId,A=this.content(this);A.then?A.then(ce=>this.onResult(m,ce)):this.onResult(m,A)}},onResult(n,m){n===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=m)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}},v6=function(){var n=this,m=n.$createElement,A=n._self._c||m;return A("Popper",n._g(n._b({ref:"popper",attrs:{theme:n.theme,"popper-node":function(){return n.$refs.popperContent.$el}},on:{"apply-show":n.onShow,"apply-hide":n.onHide},scopedSlots:n._u([{key:"default",fn:function(ce){var Ce=ce.popperId,Ne=ce.isShown,Ge=ce.shouldMountContent,$e=ce.skipTransition,mt=ce.autoHide,yt=ce.hide,Et=ce.handleResize,ft=ce.onResize,We=ce.classes,te=ce.result;return[A("PopperContent",{ref:"popperContent",class:{"v-popper--tooltip-loading":n.loading},attrs:{"popper-id":Ce,theme:n.theme,shown:Ne,mounted:Ge,"skip-transition":$e,"auto-hide":mt,"handle-resize":Et,classes:We,result:te},on:{hide:yt,resize:ft}},[n.html?A("div",{domProps:{innerHTML:n._s(n.finalContent)}}):A("div",{domProps:{textContent:n._s(n.finalContent)}})])]}}])},"Popper",n.$attrs,!1),n.$listeners))},b6=[];const zh={};var y6=zc(g6,v6,b6,!1,x6);function x6(n){for(let m in zh)this[m]=zh[m]}var w6=function(){return y6.exports}();const j1="v-popper--has-tooltip";function k6(n,m){let A=n.placement;if(!A&&m)for(const ce of w1)m[ce]&&(A=ce);return A||(A=Ic(n.theme||"tooltip","placement")),A}function O1(n,m,A){let ce;const Ce=typeof m;return Ce==="string"?ce={content:m}:m&&Ce==="object"?ce=m:ce={content:!1},ce.placement=k6(ce,A),ce.targetNodes=()=>[n],ce.referenceNode=()=>n,ce}function E6(n,m,A){const ce=O1(n,m,A),Ce=n.$_popper=new zl({mixins:[cf],data(){return{options:ce}},render(Ge){const $e=this.options,{theme:mt,html:yt,content:Et,loadingContent:ft}=$e,We=M5($e,["theme","html","content","loadingContent"]);return Ge(w6,{props:{theme:mt,html:yt,content:Et,loadingContent:ft},attrs:We,ref:"popper"})},devtools:{hide:!0}}),Ne=document.createElement("div");return document.body.appendChild(Ne),Ce.$mount(Ne),n.classList&&n.classList.add(j1),Ce}function M1(n){n.$_popper&&(n.$_popper.$destroy(),delete n.$_popper,delete n.$_popperOldShown),n.classList&&n.classList.remove(j1)}function Nh(n,{value:m,oldValue:A,modifiers:ce}){const Ce=O1(n,m,ce);if(!Ce.content||Ic(Ce.theme||"tooltip","disabled"))M1(n);else{let Ne;n.$_popper?(Ne=n.$_popper,Ne.options=Ce):Ne=E6(n,m,ce),typeof m.shown<"u"&&m.shown!==n.$_popperOldShown&&(n.$_popperOldShown=m.shown,m.shown?Ne.show():Ne.hide())}}var S6={bind:Nh,update:Nh,unbind(n){M1(n)}};function Bh(n){n.addEventListener("click",T1),n.addEventListener("touchstart",P1,hc?{passive:!0}:!1)}function Wh(n){n.removeEventListener("click",T1),n.removeEventListener("touchstart",P1),n.removeEventListener("touchend",I1),n.removeEventListener("touchcancel",D1)}function T1(n){const m=n.currentTarget;n.closePopover=!m.$_vclosepopover_touch,n.closeAllPopover=m.$_closePopoverModifiers&&!!m.$_closePopoverModifiers.all}function P1(n){if(n.changedTouches.length===1){const m=n.currentTarget;m.$_vclosepopover_touch=!0;const A=n.changedTouches[0];m.$_vclosepopover_touchPoint=A,m.addEventListener("touchend",I1),m.addEventListener("touchcancel",D1)}}function I1(n){const m=n.currentTarget;if(m.$_vclosepopover_touch=!1,n.changedTouches.length===1){const A=n.changedTouches[0],ce=m.$_vclosepopover_touchPoint;n.closePopover=Math.abs(A.screenY-ce.screenY)<20&&Math.abs(A.screenX-ce.screenX)<20,n.closeAllPopover=m.$_closePopoverModifiers&&!!m.$_closePopoverModifiers.all}}function D1(n){const m=n.currentTarget;m.$_vclosepopover_touch=!1}var _6={bind(n,{value:m,modifiers:A}){n.$_closePopoverModifiers=A,(typeof m>"u"||m)&&Bh(n)},update(n,{value:m,oldValue:A,modifiers:ce}){n.$_closePopoverModifiers=ce,m!==A&&(typeof m>"u"||m?Bh(n):Wh(n))},unbind(n){Wh(n)}};const C6=Z0;function j6(n,m={}){n.$_vTooltipInstalled||(n.$_vTooltipInstalled=!0,y1(js,m),n.directive("tooltip",S6),n.directive("close-popper",_6),n.component("v-tooltip",Zh),n.component("VTooltip",Zh),n.component("v-dropdown",Z0),n.component("VDropdown",Z0),n.component("v-menu",Ah),n.component("VMenu",Ah))}const O6={version:"1.0.0-beta.19",install:j6,options:js};let Iu=null;typeof window<"u"?Iu=window.Vue:typeof Uu<"u"&&(Iu=Uu.Vue),Iu&&Iu.use(O6);var L1=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],td=L1.join(","),A1=typeof Element>"u",mc=A1?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,nd=!A1&&Element.prototype.getRootNode?function(n){var m;return n==null||(m=n.getRootNode)===null||m===void 0?void 0:m.call(n)}:function(n){return n?.ownerDocument},rd=function n(m,A){var ce;A===void 0&&(A=!0);var Ce=m==null||(ce=m.getAttribute)===null||ce===void 0?void 0:ce.call(m,"inert"),Ne=Ce===""||Ce==="true",Ge=Ne||A&&m&&n(m.parentNode);return Ge},M6=function(n){var m,A=n==null||(m=n.getAttribute)===null||m===void 0?void 0:m.call(n,"contenteditable");return A===""||A==="true"},R1=function(n,m,A){if(rd(n))return[];var ce=Array.prototype.slice.apply(n.querySelectorAll(td));return m&&mc.call(n,td)&&ce.unshift(n),ce=ce.filter(A),ce},Z1=function n(m,A,ce){for(var Ce=[],Ne=Array.from(m);Ne.length;){var Ge=Ne.shift();if(!rd(Ge,!1))if(Ge.tagName==="SLOT"){var $e=Ge.assignedElements(),mt=$e.length?$e:Ge.children,yt=n(mt,!0,ce);ce.flatten?Ce.push.apply(Ce,yt):Ce.push({scopeParent:Ge,candidates:yt})}else{var Et=mc.call(Ge,td);Et&&ce.filter(Ge)&&(A||!m.includes(Ge))&&Ce.push(Ge);var ft=Ge.shadowRoot||typeof ce.getShadowRoot=="function"&&ce.getShadowRoot(Ge),We=!rd(ft,!1)&&(!ce.shadowRootFilter||ce.shadowRootFilter(Ge));if(ft&&We){var te=n(ft===!0?Ge.children:ft.children,!0,ce);ce.flatten?Ce.push.apply(Ce,te):Ce.push({scopeParent:Ge,candidates:te})}else Ne.unshift.apply(Ne,Ge.children)}}return Ce},z1=function(n){return!isNaN(parseInt(n.getAttribute("tabindex"),10))},cc=function(n){if(!n)throw new Error("No node provided");return n.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(n.tagName)||M6(n))&&!z1(n)?0:n.tabIndex},T6=function(n,m){var A=cc(n);return A<0&&m&&!z1(n)?0:A},P6=function(n,m){return n.tabIndex===m.tabIndex?n.documentOrder-m.documentOrder:n.tabIndex-m.tabIndex},N1=function(n){return n.tagName==="INPUT"},I6=function(n){return N1(n)&&n.type==="hidden"},D6=function(n){var m=n.tagName==="DETAILS"&&Array.prototype.slice.apply(n.children).some(function(A){return A.tagName==="SUMMARY"});return m},L6=function(n,m){for(var A=0;A<n.length;A++)if(n[A].checked&&n[A].form===m)return n[A]},A6=function(n){if(!n.name)return!0;var m=n.form||nd(n),A=function(Ne){return m.querySelectorAll('input[type="radio"][name="'+Ne+'"]')},ce;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")ce=A(window.CSS.escape(n.name));else try{ce=A(n.name)}catch(Ne){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",Ne.message),!1}var Ce=L6(ce,n.form);return!Ce||Ce===n},R6=function(n){return N1(n)&&n.type==="radio"},Z6=function(n){return R6(n)&&!A6(n)},z6=function(n){var m,A=n&&nd(n),ce=(m=A)===null||m===void 0?void 0:m.host,Ce=!1;if(A&&A!==n){var Ne,Ge,$e;for(Ce=!!((Ne=ce)!==null&&Ne!==void 0&&(Ge=Ne.ownerDocument)!==null&&Ge!==void 0&&Ge.contains(ce)||n!=null&&($e=n.ownerDocument)!==null&&$e!==void 0&&$e.contains(n));!Ce&&ce;){var mt,yt,Et;A=nd(ce),ce=(mt=A)===null||mt===void 0?void 0:mt.host,Ce=!!((yt=ce)!==null&&yt!==void 0&&(Et=yt.ownerDocument)!==null&&Et!==void 0&&Et.contains(ce))}}return Ce},Hh=function(n){var m=n.getBoundingClientRect(),A=m.width,ce=m.height;return A===0&&ce===0},N6=function(n,m){var A=m.displayCheck,ce=m.getShadowRoot;if(getComputedStyle(n).visibility==="hidden")return!0;var Ce=mc.call(n,"details>summary:first-of-type"),Ne=Ce?n.parentElement:n;if(mc.call(Ne,"details:not([open]) *"))return!0;if(!A||A==="full"||A==="legacy-full"){if(typeof ce=="function"){for(var Ge=n;n;){var $e=n.parentElement,mt=nd(n);if($e&&!$e.shadowRoot&&ce($e)===!0)return Hh(n);n.assignedSlot?n=n.assignedSlot:!$e&&mt!==n.ownerDocument?n=mt.host:n=$e}n=Ge}if(z6(n))return!n.getClientRects().length;if(A!=="legacy-full")return!0}else if(A==="non-zero-area")return Hh(n);return!1},B6=function(n){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(n.tagName))for(var m=n.parentElement;m;){if(m.tagName==="FIELDSET"&&m.disabled){for(var A=0;A<m.children.length;A++){var ce=m.children.item(A);if(ce.tagName==="LEGEND")return mc.call(m,"fieldset[disabled] *")?!0:!ce.contains(n)}return!0}m=m.parentElement}return!1},od=function(n,m){return!(m.disabled||rd(m)||I6(m)||N6(m,n)||D6(m)||B6(m))},z0=function(n,m){return!(Z6(m)||cc(m)<0||!od(n,m))},W6=function(n){var m=parseInt(n.getAttribute("tabindex"),10);return!!(isNaN(m)||m>=0)},H6=function n(m){var A=[],ce=[];return m.forEach(function(Ce,Ne){var Ge=!!Ce.scopeParent,$e=Ge?Ce.scopeParent:Ce,mt=T6($e,Ge),yt=Ge?n(Ce.candidates):$e;mt===0?Ge?A.push.apply(A,yt):A.push($e):ce.push({documentOrder:Ne,tabIndex:mt,item:Ce,isScope:Ge,content:yt})}),ce.sort(P6).reduce(function(Ce,Ne){return Ne.isScope?Ce.push.apply(Ce,Ne.content):Ce.push(Ne.content),Ce},[]).concat(A)},F6=function(n,m){m=m||{};var A;return m.getShadowRoot?A=Z1([n],m.includeContainer,{filter:z0.bind(null,m),flatten:!1,getShadowRoot:m.getShadowRoot,shadowRootFilter:W6}):A=R1(n,m.includeContainer,z0.bind(null,m)),H6(A)},U6=function(n,m){m=m||{};var A;return m.getShadowRoot?A=Z1([n],m.includeContainer,{filter:od.bind(null,m),flatten:!0,getShadowRoot:m.getShadowRoot}):A=R1(n,m.includeContainer,od.bind(null,m)),A},Ec=function(n,m){if(m=m||{},!n)throw new Error("No node provided");return mc.call(n,td)===!1?!1:z0(m,n)},K6=L1.concat("iframe").join(","),v0=function(n,m){if(m=m||{},!n)throw new Error("No node provided");return mc.call(n,K6)===!1?!1:od(m,n)};function N0(n,m){(m==null||m>n.length)&&(m=n.length);for(var A=0,ce=Array(m);A<m;A++)ce[A]=n[A];return ce}function $6(n){if(Array.isArray(n))return N0(n)}function V6(n,m,A){return(m=J6(m))in n?Object.defineProperty(n,m,{value:A,enumerable:!0,configurable:!0,writable:!0}):n[m]=A,n}function Y6(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function G6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fh(n,m){var A=Object.keys(n);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(n);m&&(ce=ce.filter(function(Ce){return Object.getOwnPropertyDescriptor(n,Ce).enumerable})),A.push.apply(A,ce)}return A}function Uh(n){for(var m=1;m<arguments.length;m++){var A=arguments[m]!=null?arguments[m]:{};m%2?Fh(Object(A),!0).forEach(function(ce){V6(n,ce,A[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(A)):Fh(Object(A)).forEach(function(ce){Object.defineProperty(n,ce,Object.getOwnPropertyDescriptor(A,ce))})}return n}function q6(n){return $6(n)||Y6(n)||Q6(n)||G6()}function X6(n,m){if(typeof n!="object"||!n)return n;var A=n[Symbol.toPrimitive];if(A!==void 0){var ce=A.call(n,m);if(typeof ce!="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(n)}function J6(n){var m=X6(n,"string");return typeof m=="symbol"?m:m+""}function Q6(n,m){if(n){if(typeof n=="string")return N0(n,m);var A={}.toString.call(n).slice(8,-1);return A==="Object"&&n.constructor&&(A=n.constructor.name),A==="Map"||A==="Set"?Array.from(n):A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?N0(n,m):void 0}}var Kh={activateTrap:function(n,m){if(n.length>0){var A=n[n.length-1];A!==m&&A._setPausedState(!0)}var ce=n.indexOf(m);ce===-1||n.splice(ce,1),n.push(m)},deactivateTrap:function(n,m){var A=n.indexOf(m);A!==-1&&n.splice(A,1),n.length>0&&!n[n.length-1]._isManuallyPaused()&&n[n.length-1]._setPausedState(!1)}},e4=function(n){return n.tagName&&n.tagName.toLowerCase()==="input"&&typeof n.select=="function"},t4=function(n){return n?.key==="Escape"||n?.key==="Esc"||n?.keyCode===27},nu=function(n){return n?.key==="Tab"||n?.keyCode===9},n4=function(n){return nu(n)&&!n.shiftKey},r4=function(n){return nu(n)&&n.shiftKey},$h=function(n){return setTimeout(n,0)},Vc=function(n){for(var m=arguments.length,A=new Array(m>1?m-1:0),ce=1;ce<m;ce++)A[ce-1]=arguments[ce];return typeof n=="function"?n.apply(void 0,A):n},Du=function(n){return n.target.shadowRoot&&typeof n.composedPath=="function"?n.composedPath()[0]:n.target},o4=[],B1=function(n,m){var A=m?.document||document,ce=m?.trapStack||o4,Ce=Uh({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:n4,isKeyBackward:r4},m),Ne={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},Ge,$e=function(h,x,G){return h&&h[x]!==void 0?h[x]:Ce[G||x]},mt=function(h,x){var G=typeof x?.composedPath=="function"?x.composedPath():void 0;return Ne.containerGroups.findIndex(function(le){var he=le.container,ve=le.tabbableNodes;return he.contains(h)||G?.includes(he)||ve.find(function(fe){return fe===h})})},yt=function(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=x.hasFallback,le=G===void 0?!1:G,he=x.params,ve=he===void 0?[]:he,fe=Ce[h];if(typeof fe=="function"&&(fe=fe.apply(void 0,q6(ve))),fe===!0&&(fe=void 0),!fe){if(fe===void 0||fe===!1)return fe;throw new Error("`".concat(h,"` was specified but was not a node, or did not return a node"))}var X=fe;if(typeof fe=="string"){try{X=A.querySelector(fe)}catch(q){throw new Error("`".concat(h,'` appears to be an invalid selector; error="').concat(q.message,'"'))}if(!X&&!le)throw new Error("`".concat(h,"` as selector refers to no known node"))}return X},Et=function(){var h=yt("initialFocus",{hasFallback:!0});if(h===!1)return!1;if(h===void 0||h&&!v0(h,Ce.tabbableOptions))if(mt(A.activeElement)>=0)h=A.activeElement;else{var x=Ne.tabbableGroups[0],G=x&&x.firstTabbableNode;h=G||yt("fallbackFocus")}else h===null&&(h=yt("fallbackFocus"));if(!h)throw new Error("Your focus-trap needs to have at least one focusable element");return h},ft=function(){if(Ne.containerGroups=Ne.containers.map(function(h){var x=F6(h,Ce.tabbableOptions),G=U6(h,Ce.tabbableOptions),le=x.length>0?x[0]:void 0,he=x.length>0?x[x.length-1]:void 0,ve=G.find(function(q){return Ec(q)}),fe=G.slice().reverse().find(function(q){return Ec(q)}),X=!!x.find(function(q){return cc(q)>0});return{container:h,tabbableNodes:x,focusableNodes:G,posTabIndexesFound:X,firstTabbableNode:le,lastTabbableNode:he,firstDomTabbableNode:ve,lastDomTabbableNode:fe,nextTabbableNode:function(q){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,R=x.indexOf(q);return R<0?U?G.slice(G.indexOf(q)+1).find(function(B){return Ec(B)}):G.slice(0,G.indexOf(q)).reverse().find(function(B){return Ec(B)}):x[R+(U?1:-1)]}}}),Ne.tabbableGroups=Ne.containerGroups.filter(function(h){return h.tabbableNodes.length>0}),Ne.tabbableGroups.length<=0&&!yt("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(Ne.containerGroups.find(function(h){return h.posTabIndexesFound})&&Ne.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},We=function(h){var x=h.activeElement;if(x)return x.shadowRoot&&x.shadowRoot.activeElement!==null?We(x.shadowRoot):x},te=function(h){if(h!==!1&&h!==We(document)){if(!h||!h.focus){te(Et());return}h.focus({preventScroll:!!Ce.preventScroll}),Ne.mostRecentlyFocusedNode=h,e4(h)&&h.select()}},t=function(h){var x=yt("setReturnFocus",{params:[h]});return x||(x===!1?!1:h)},e=function(h){var x=h.target,G=h.event,le=h.isBackward,he=le===void 0?!1:le;x=x||Du(G),ft();var ve=null;if(Ne.tabbableGroups.length>0){var fe=mt(x,G),X=fe>=0?Ne.containerGroups[fe]:void 0;if(fe<0)he?ve=Ne.tabbableGroups[Ne.tabbableGroups.length-1].lastTabbableNode:ve=Ne.tabbableGroups[0].firstTabbableNode;else if(he){var q=Ne.tabbableGroups.findIndex(function(E){var p=E.firstTabbableNode;return x===p});if(q<0&&(X.container===x||v0(x,Ce.tabbableOptions)&&!Ec(x,Ce.tabbableOptions)&&!X.nextTabbableNode(x,!1))&&(q=fe),q>=0){var U=q===0?Ne.tabbableGroups.length-1:q-1,R=Ne.tabbableGroups[U];ve=cc(x)>=0?R.lastTabbableNode:R.lastDomTabbableNode}else nu(G)||(ve=X.nextTabbableNode(x,!1))}else{var B=Ne.tabbableGroups.findIndex(function(E){var p=E.lastTabbableNode;return x===p});if(B<0&&(X.container===x||v0(x,Ce.tabbableOptions)&&!Ec(x,Ce.tabbableOptions)&&!X.nextTabbableNode(x))&&(B=fe),B>=0){var M=B===Ne.tabbableGroups.length-1?0:B+1,I=Ne.tabbableGroups[M];ve=cc(x)>=0?I.firstTabbableNode:I.firstDomTabbableNode}else nu(G)||(ve=X.nextTabbableNode(x))}}else ve=yt("fallbackFocus");return ve},w=function(h){var x=Du(h);if(!(mt(x,h)>=0)){if(Vc(Ce.clickOutsideDeactivates,h)){Ge.deactivate({returnFocus:Ce.returnFocusOnDeactivate});return}Vc(Ce.allowOutsideClick,h)||h.preventDefault()}},v=function(h){var x=Du(h),G=mt(x,h)>=0;if(G||x instanceof Document)G&&(Ne.mostRecentlyFocusedNode=x);else{h.stopImmediatePropagation();var le,he=!0;if(Ne.mostRecentlyFocusedNode)if(cc(Ne.mostRecentlyFocusedNode)>0){var ve=mt(Ne.mostRecentlyFocusedNode),fe=Ne.containerGroups[ve].tabbableNodes;if(fe.length>0){var X=fe.findIndex(function(q){return q===Ne.mostRecentlyFocusedNode});X>=0&&(Ce.isKeyForward(Ne.recentNavEvent)?X+1<fe.length&&(le=fe[X+1],he=!1):X-1>=0&&(le=fe[X-1],he=!1))}}else Ne.containerGroups.some(function(q){return q.tabbableNodes.some(function(U){return cc(U)>0})})||(he=!1);else he=!1;he&&(le=e({target:Ne.mostRecentlyFocusedNode,isBackward:Ce.isKeyBackward(Ne.recentNavEvent)})),te(le||Ne.mostRecentlyFocusedNode||Et())}Ne.recentNavEvent=void 0},d=function(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Ne.recentNavEvent=h;var G=e({event:h,isBackward:x});G&&(nu(h)&&h.preventDefault(),te(G))},b=function(h){(Ce.isKeyForward(h)||Ce.isKeyBackward(h))&&d(h,Ce.isKeyBackward(h))},T=function(h){t4(h)&&Vc(Ce.escapeDeactivates,h)!==!1&&(h.preventDefault(),Ge.deactivate())},S=function(h){var x=Du(h);mt(x,h)>=0||Vc(Ce.clickOutsideDeactivates,h)||Vc(Ce.allowOutsideClick,h)||(h.preventDefault(),h.stopImmediatePropagation())},a=function(){if(Ne.active)return Kh.activateTrap(ce,Ge),Ne.delayInitialFocusTimer=Ce.delayInitialFocus?$h(function(){te(Et())}):te(Et()),A.addEventListener("focusin",v,!0),A.addEventListener("mousedown",w,{capture:!0,passive:!1}),A.addEventListener("touchstart",w,{capture:!0,passive:!1}),A.addEventListener("click",S,{capture:!0,passive:!1}),A.addEventListener("keydown",b,{capture:!0,passive:!1}),A.addEventListener("keydown",T),Ge},c=function(){if(Ne.active)return A.removeEventListener("focusin",v,!0),A.removeEventListener("mousedown",w,!0),A.removeEventListener("touchstart",w,!0),A.removeEventListener("click",S,!0),A.removeEventListener("keydown",b,!0),A.removeEventListener("keydown",T),Ge},Z=function(h){var x=h.some(function(G){var le=Array.from(G.removedNodes);return le.some(function(he){return he===Ne.mostRecentlyFocusedNode})});x&&te(Et())},F=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Z):void 0,_=function(){F&&(F.disconnect(),Ne.active&&!Ne.paused&&Ne.containers.map(function(h){F.observe(h,{subtree:!0,childList:!0})}))};return Ge={get active(){return Ne.active},get paused(){return Ne.paused},activate:function(h){if(Ne.active)return this;var x=$e(h,"onActivate"),G=$e(h,"onPostActivate"),le=$e(h,"checkCanFocusTrap");le||ft(),Ne.active=!0,Ne.paused=!1,Ne.nodeFocusedBeforeActivation=We(A),x?.();var he=function(){le&&ft(),a(),_(),G?.()};return le?(le(Ne.containers.concat()).then(he,he),this):(he(),this)},deactivate:function(h){if(!Ne.active)return this;var x=Uh({onDeactivate:Ce.onDeactivate,onPostDeactivate:Ce.onPostDeactivate,checkCanReturnFocus:Ce.checkCanReturnFocus},h);clearTimeout(Ne.delayInitialFocusTimer),Ne.delayInitialFocusTimer=void 0,c(),Ne.active=!1,Ne.paused=!1,_(),Kh.deactivateTrap(ce,Ge);var G=$e(x,"onDeactivate"),le=$e(x,"onPostDeactivate"),he=$e(x,"checkCanReturnFocus"),ve=$e(x,"returnFocus","returnFocusOnDeactivate");G?.();var fe=function(){$h(function(){ve&&te(t(Ne.nodeFocusedBeforeActivation)),le?.()})};return ve&&he?(he(t(Ne.nodeFocusedBeforeActivation)).then(fe,fe),this):(fe(),this)},pause:function(h){return Ne.active?(Ne.manuallyPaused=!0,this._setPausedState(!0,h)):this},unpause:function(h){return Ne.active?(Ne.manuallyPaused=!1,ce[ce.length-1]!==this?this:this._setPausedState(!1,h)):this},updateContainerElements:function(h){var x=[].concat(h).filter(Boolean);return Ne.containers=x.map(function(G){return typeof G=="string"?A.querySelector(G):G}),Ne.active&&ft(),_(),this}},Object.defineProperties(Ge,{_isManuallyPaused:{value:function(){return Ne.manuallyPaused}},_setPausedState:{value:function(h,x){if(Ne.paused===h)return this;if(Ne.paused=h,h){var G=$e(x,"onPause"),le=$e(x,"onPostPause");G?.(),c(),_(),le?.()}else{var he=$e(x,"onUnpause"),ve=$e(x,"onPostUnpause");he?.(),ft(),a(),_(),ve?.()}return this}}}),Ge.updateContainerElements(n),Ge};function id(){return window._nc_focus_trap??(window._nc_focus_trap=[]),window._nc_focus_trap}function i4(){let n=[];return{pause(){n=[...id()];for(const m of n)m.pause()},unpause(){for(const m of n)m.unpause();n=[]}}}const a4=jx({name:"NcPopoverTriggerProvider",provide(){return{"NcPopover:trigger:shown":()=>this.shown,"NcPopover:trigger:attrs":()=>this.triggerAttrs}},props:{shown:{type:Boolean,required:!0},popupRole:{type:String,default:void 0}},computed:{triggerAttrs(){return{"aria-haspopup":this.popupRole,"aria-expanded":this.shown.toString()}}},render(){return this.$scopedSlots.default?.({attrs:this.triggerAttrs})}}),l4=null,s4=null;var c4=Ii(a4,l4,s4,!1,null,null);const u4=c4.exports,d4={name:"NcPopover",components:{Dropdown:C6,NcPopoverTriggerProvider:u4},inheritAttrs:!1,props:{shown:{type:Boolean,default:!1},popupRole:{type:String,default:void 0,validator:n=>["menu","listbox","tree","grid","dialog","true"].includes(n)},popoverBaseClass:{type:String,default:""},focusTrap:{type:Boolean,default:!0},noFocusTrap:{type:Boolean,default:!1},setReturnFocus:{default:void 0,type:[HTMLElement,SVGElement,String,Boolean,Function]}},emits:["after-show","after-hide","update:shown"],data(){return{internalShown:this.shown}},watch:{shown(n){this.internalShown=n},internalShown(n){this.$emit("update:shown",n)}},mounted(){this.checkTriggerA11y()},beforeDestroy(){this.clearFocusTrap(),this.clearEscapeStopPropagation()},methods:{checkTriggerA11y(){window.OC?.debug&&(this.getPopoverTriggerContainerElement().querySelector("[aria-expanded]")||zl.util.warn("It looks like you are using a custom button as a <NcPopover> or other popover #trigger. If you are not using <NcButton> as a trigger, you need to bind attrs from the #trigger slot props to your custom button. See <NcPopover> docs for an example."))},removeFloatingVueAriaDescribedBy(){const n=this.getPopoverTriggerContainerElement().querySelectorAll("[data-popper-shown]");for(const m of n)m.removeAttribute("aria-describedby")},getPopoverContentElement(){return this.$refs.popover?.$refs.popperContent?.$el},getPopoverTriggerContainerElement(){return this.$refs.popover.$refs.reference},async useFocusTrap(){if(await this.$nextTick(),this.noFocusTrap||!this.focusTrap)return;const n=this.getPopoverContentElement();n.tabIndex=-1,n&&(this.$focusTrap=B1(n,{escapeDeactivates:!1,allowOutsideClick:!0,setReturnFocus:this.setReturnFocus,trapStack:id(),fallBackFocus:n}),this.$focusTrap.activate())},clearFocusTrap(n={}){try{this.$focusTrap?.deactivate(n),this.$focusTrap=null}catch(m){console.warn(m)}},addEscapeStopPropagation(){this.getPopoverContentElement()?.addEventListener("keydown",this.stopKeydownEscapeHandler)},clearEscapeStopPropagation(){this.getPopoverContentElement()?.removeEventListener("keydown",this.stopKeydownEscapeHandler)},stopKeydownEscapeHandler(n){n.type==="keydown"&&n.key==="Escape"&&n.stopPropagation()},async afterShow(){this.getPopoverContentElement().addEventListener("transitionend",()=>{this.$emit("after-show")},{once:!0,passive:!0}),this.removeFloatingVueAriaDescribedBy(),await this.$nextTick(),await this.useFocusTrap(),this.addEscapeStopPropagation()},afterHide(){this.getPopoverContentElement().addEventListener("transitionend",()=>{this.$emit("after-hide")},{once:!0,passive:!0}),this.clearFocusTrap(),this.clearEscapeStopPropagation()}}};var f4=function(){var n=this,m=n._self._c;return m("Dropdown",n._g(n._b({ref:"popover",attrs:{distance:10,"arrow-padding":10,"no-auto-focus":!0,"popper-class":n.popoverBaseClass,shown:n.internalShown},on:{"update:shown":function(A){n.internalShown=A},"apply-show":n.afterShow,"apply-hide":n.afterHide},scopedSlots:n._u([{key:"popper",fn:function(A){return[n._t("default",null,null,A)]}}],null,!0)},"Dropdown",n.$attrs,!1),n.$listeners),[m("NcPopoverTriggerProvider",{attrs:{shown:n.internalShown,"popup-role":n.popupRole},scopedSlots:n._u([{key:"default",fn:function(A){return[n._t("trigger",null,null,A)]}}],null,!0)})],1)},p4=[],h4=Ii(d4,f4,p4,!1,null,null);const m4=h4.exports;zl.util.warn;function gc(n){return Tx()?(Px(n),!0):!1}function Ga(n){return typeof n=="function"?n():Ox(n)}const Vh={mounted:"inserted",unmounted:"unbind"},df=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const W1=n=>n!=null,g4=Object.prototype.toString,H1=n=>g4.call(n)==="[object Object]",ql=()=>{},B0=v4();function v4(){var n,m;return df&&((n=window?.navigator)==null?void 0:n.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((m=window?.navigator)==null?void 0:m.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function b4(n){return Fm()}function y4(...n){if(n.length!==1)return Um(...n);const m=n[0];return typeof m=="function"?X0(Mx(()=>({get:m,set:ql}))):Ui(m)}function ff(n,m=!0,A){b4()?Hm(n,A):m?n():Wm(n)}zl.util.warn;const ec=df?window:void 0;function Ml(n){var m;const A=Ga(n);return(m=A?.$el)!=null?m:A}function Oc(...n){let m,A,ce,Ce;if(typeof n[0]=="string"||Array.isArray(n[0])?([A,ce,Ce]=n,m=ec):[m,A,ce,Ce]=n,!m)return ql;Array.isArray(A)||(A=[A]),Array.isArray(ce)||(ce=[ce]);const Ne=[],Ge=()=>{Ne.forEach(Et=>Et()),Ne.length=0},$e=(Et,ft,We,te)=>(Et.addEventListener(ft,We,te),()=>Et.removeEventListener(ft,We,te)),mt=Ql(()=>[Ml(m),Ga(Ce)],([Et,ft])=>{if(Ge(),!Et)return;const We=H1(ft)?{...ft}:ft;Ne.push(...A.flatMap(te=>ce.map(t=>$e(Et,te,t,We))))},{immediate:!0,flush:"post"}),yt=()=>{mt(),Ge()};return gc(yt),yt}function x4(){const n=Ui(!1);return Fm()&&Hm(()=>{n.value=!0},void 0),n}function Md(n){const m=x4();return Zl(()=>(m.value,!!n()))}function w4(n,m,A={}){const{window:ce=ec,...Ce}=A;let Ne;const Ge=Md(()=>ce&&"MutationObserver"in ce),$e=()=>{Ne&&(Ne.disconnect(),Ne=void 0)},mt=Zl(()=>{const We=Ga(n),te=(Array.isArray(We)?We:[We]).map(Ml).filter(W1);return new Set(te)}),yt=Ql(()=>mt.value,We=>{$e(),Ge.value&&We.size&&(Ne=new MutationObserver(m),We.forEach(te=>Ne.observe(te,Ce)))},{immediate:!0,flush:"post"}),Et=()=>Ne?.takeRecords(),ft=()=>{yt(),$e()};return gc(ft),{isSupported:Ge,stop:ft,takeRecords:Et}}function k4(n,m={}){const{window:A=ec}=m,ce=Md(()=>A&&"matchMedia"in A&&typeof A.matchMedia=="function");let Ce;const Ne=Ui(!1),Ge=yt=>{Ne.value=yt.matches},$e=()=>{Ce&&("removeEventListener"in Ce?Ce.removeEventListener("change",Ge):Ce.removeListener(Ge))},mt=Ix(()=>{ce.value&&($e(),Ce=A.matchMedia(Ga(n)),"addEventListener"in Ce?Ce.addEventListener("change",Ge):Ce.addListener(Ge),Ne.value=Ce.matches)});return gc(()=>{mt(),$e(),Ce=void 0}),Ne}function F1(n,m,A={}){const{window:ce=ec,...Ce}=A;let Ne;const Ge=Md(()=>ce&&"ResizeObserver"in ce),$e=()=>{Ne&&(Ne.disconnect(),Ne=void 0)},mt=Zl(()=>{const ft=Ga(n);return Array.isArray(ft)?ft.map(We=>Ml(We)):[Ml(ft)]}),yt=Ql(mt,ft=>{if($e(),Ge.value&&ce){Ne=new ResizeObserver(m);for(const We of ft)We&&Ne.observe(We,Ce)}},{immediate:!0,flush:"post"}),Et=()=>{$e(),yt()};return gc(Et),{isSupported:Ge,stop:Et}}function Yh(n,m={}){const{reset:A=!0,windowResize:ce=!0,windowScroll:Ce=!0,immediate:Ne=!0,updateTiming:Ge="sync"}=m,$e=Ui(0),mt=Ui(0),yt=Ui(0),Et=Ui(0),ft=Ui(0),We=Ui(0),te=Ui(0),t=Ui(0);function e(){const v=Ml(n);if(!v){A&&($e.value=0,mt.value=0,yt.value=0,Et.value=0,ft.value=0,We.value=0,te.value=0,t.value=0);return}const d=v.getBoundingClientRect();$e.value=d.height,mt.value=d.bottom,yt.value=d.left,Et.value=d.right,ft.value=d.top,We.value=d.width,te.value=d.x,t.value=d.y}function w(){Ge==="sync"?e():Ge==="next-frame"&&requestAnimationFrame(()=>e())}return F1(n,w),Ql(()=>Ml(n),v=>!v&&w()),w4(n,w,{attributeFilter:["style","class"]}),Ce&&Oc("scroll",w,{capture:!0,passive:!0}),ce&&Oc("resize",w,{passive:!0}),ff(()=>{Ne&&w()}),{height:$e,bottom:mt,left:yt,right:Et,top:ft,width:We,x:te,y:t,update:w}}function E4(n,m={width:0,height:0},A={}){const{window:ce=ec,box:Ce="content-box"}=A,Ne=Zl(()=>{var ft,We;return(We=(ft=Ml(n))==null?void 0:ft.namespaceURI)==null?void 0:We.includes("svg")}),Ge=Ui(m.width),$e=Ui(m.height),{stop:mt}=F1(n,([ft])=>{const We=Ce==="border-box"?ft.borderBoxSize:Ce==="content-box"?ft.contentBoxSize:ft.devicePixelContentBoxSize;if(ce&&Ne.value){const te=Ml(n);if(te){const t=te.getBoundingClientRect();Ge.value=t.width,$e.value=t.height}}else if(We){const te=Array.isArray(We)?We:[We];Ge.value=te.reduce((t,{inlineSize:e})=>t+e,0),$e.value=te.reduce((t,{blockSize:e})=>t+e,0)}else Ge.value=ft.contentRect.width,$e.value=ft.contentRect.height},A);ff(()=>{const ft=Ml(n);ft&&(Ge.value="offsetWidth"in ft?ft.offsetWidth:m.width,$e.value="offsetHeight"in ft?ft.offsetHeight:m.height)});const yt=Ql(()=>Ml(n),ft=>{Ge.value=ft?m.width:0,$e.value=ft?m.height:0});function Et(){mt(),yt()}return{width:Ge,height:$e,stop:Et}}function S4(n,m,A={}){const{root:ce,rootMargin:Ce="0px",threshold:Ne=0,window:Ge=ec,immediate:$e=!0}=A,mt=Md(()=>Ge&&"IntersectionObserver"in Ge),yt=Zl(()=>{const t=Ga(n);return(Array.isArray(t)?t:[t]).map(Ml).filter(W1)});let Et=ql;const ft=Ui($e),We=mt.value?Ql(()=>[yt.value,Ml(ce),ft.value],([t,e])=>{if(Et(),!ft.value||!t.length)return;const w=new IntersectionObserver(m,{root:Ml(e),rootMargin:Ce,threshold:Ne});t.forEach(v=>v&&w.observe(v)),Et=()=>{w.disconnect(),Et=ql}},{immediate:$e,flush:"post"}):ql,te=()=>{Et(),We(),ft.value=!1};return gc(te),{isSupported:mt,isActive:ft,pause(){Et(),ft.value=!1},resume(){ft.value=!0},stop:te}}function _4(n,m={}){const{threshold:A=50,onSwipe:ce,onSwipeEnd:Ce,onSwipeStart:Ne,passive:Ge=!0,window:$e=ec}=m,mt=Rp({x:0,y:0}),yt=Rp({x:0,y:0}),Et=Zl(()=>mt.x-yt.x),ft=Zl(()=>mt.y-yt.y),{max:We,abs:te}=Math,t=Zl(()=>We(te(Et.value),te(ft.value))>=A),e=Ui(!1),w=Zl(()=>t.value?te(Et.value)>te(ft.value)?Et.value>0?"left":"right":ft.value>0?"up":"down":"none"),v=Z=>[Z.touches[0].clientX,Z.touches[0].clientY],d=(Z,F)=>{mt.x=Z,mt.y=F},b=(Z,F)=>{yt.x=Z,yt.y=F};let T;const S=C4($e?.document);Ge?T=S?{passive:!0}:{capture:!1}:T=S?{passive:!1,capture:!0}:{capture:!0};const a=Z=>{e.value&&Ce?.(Z,w.value),e.value=!1},c=[Oc(n,"touchstart",Z=>{if(Z.touches.length!==1)return;const[F,_]=v(Z);d(F,_),b(F,_),Ne?.(Z)},T),Oc(n,"touchmove",Z=>{if(Z.touches.length!==1)return;const[F,_]=v(Z);b(F,_),T.capture&&!T.passive&&Math.abs(Et.value)>Math.abs(ft.value)&&Z.preventDefault(),!e.value&&t.value&&(e.value=!0),e.value&&ce?.(Z)},T),Oc(n,["touchend","touchcancel"],a,T)];return{isPassiveEventSupported:S,isSwiping:e,direction:w,coordsStart:mt,coordsEnd:yt,lengthX:Et,lengthY:ft,stop:()=>c.forEach(Z=>Z())}}function C4(n){if(!n)return!1;let m=!1;const A={get passive(){return m=!0,!1}};return n.addEventListener("x",ql,A),n.removeEventListener("x",ql),m}function j4(n={}){const{window:m=ec,initialWidth:A=Number.POSITIVE_INFINITY,initialHeight:ce=Number.POSITIVE_INFINITY,listenOrientation:Ce=!0,includeScrollbar:Ne=!0,type:Ge="inner"}=n,$e=Ui(A),mt=Ui(ce),yt=()=>{m&&(Ge==="outer"?($e.value=m.outerWidth,mt.value=m.outerHeight):Ne?($e.value=m.innerWidth,mt.value=m.innerHeight):($e.value=m.document.documentElement.clientWidth,mt.value=m.document.documentElement.clientHeight))};if(yt(),ff(yt),Oc("resize",yt,{passive:!0}),Ce){const Et=k4("(orientation: portrait)");Ql(Et,()=>yt())}return{width:$e,height:mt}}function O4(n,m={}){const A=i4();Ql(n,()=>{Ga(m.disabled)||(Ga(n)?A.pause():A.unpause())}),Dx(()=>{A.unpause()})}const M4={name:"DotsHorizontalIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var T4=function(){var n=this,m=n._self._c;return m("span",n._b({staticClass:"material-design-icon dots-horizontal-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(A){return n.$emit("click",A)}}},"span",n.$attrs,!1),[m("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[m("path",{attrs:{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}},[n.title?m("title",[n._v(n._s(n.title))]):n._e()])])])},P4=[],I4=Ii(M4,T4,P4,!1,null,null);const pf=I4.exports;bl(Lx);const D4=".focusable",L4={name:"NcActions",components:{NcButton:su,NcPopover:m4},provide(){return{"NcActions:isSemanticMenu":Zl(()=>this.actionsMenuSemanticType==="menu")}},props:{open:{type:Boolean,default:!1},manualOpen:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},forceName:{type:Boolean,default:!1},menuName:{type:String,default:null},forceSemanticType:{type:String,default:null,validator(n){return["dialog","menu","expanded","tooltip"].includes(n)}},primary:{type:Boolean,default:!1},type:{type:String,validator(n){return["primary","secondary","tertiary","tertiary-no-background","tertiary-on-primary","error","warning","success"].includes(n)},default:null},defaultIcon:{type:String,default:""},ariaLabel:{type:String,default:Vo("Actions")},ariaHidden:{type:Boolean,default:null},placement:{type:String,default:"bottom"},boundariesElement:{type:Element,default:()=>document.querySelector("#content-vue")??document.querySelector("body")},container:{type:[String,Object,Element,Boolean],default:"body"},disabled:{type:Boolean,default:!1},inline:{type:Number,default:0},variant:{type:String,validator(n){return["primary","secondary","tertiary","tertiary-no-background","tertiary-on-primary","error","warning","success"].includes(n)},default:null}},emits:["click","blur","focus","close","closed","open","opened","update:open"],setup(n){const m=`menu-${Ku()}`,A=`trigger-${m}`,ce=Ui(),{top:Ce,bottom:Ne}=Yh(ce),{top:Ge,bottom:$e}=Yh(Um(n,"boundariesElement")),{height:mt}=j4(),yt=Zl(()=>Math.max(Math.min(Ce.value-84,Ce.value-Ge.value),Math.min(mt.value-Ne.value-34,$e.value-Ne.value)));return{triggerButton:ce,maxMenuHeight:yt,randomId:m,triggerRandomId:A}},data(){return{opened:this.open,focusIndex:0,actionsMenuSemanticType:"unknown"}},computed:{triggerButtonVariant(){return(this.type??this.variant)||(this.primary?"primary":this.menuName?"secondary":"tertiary")},config(){return{menu:{popupRole:"menu",withArrowNavigation:!0,withTabNavigation:!1,withFocusTrap:!1,triggerA11yAttr:{"aria-controls":this.opened?this.randomId:null},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{"aria-labelledby":this.triggerRandomId,id:this.randomId,role:"menu"}},expanded:{popupRole:void 0,withArrowNavigation:!1,withTabNavigation:!0,withFocusTrap:!1,triggerA11yAttr:{},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{}},dialog:{popupRole:"dialog",withArrowNavigation:!1,withTabNavigation:!0,withFocusTrap:!0,triggerA11yAttr:{"aria-controls":this.opened?this.randomId:null},popoverContainerA11yAttrs:{id:this.randomId,role:"dialog","aria-labelledby":this.triggerRandomId,"aria-modal":"true"},popoverUlA11yAttrs:{}},tooltip:{popupRole:void 0,withArrowNavigation:!1,withTabNavigation:!1,withFocusTrap:!1,triggerA11yAttr:{},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{}},unknown:{popupRole:void 0,role:void 0,withArrowNavigation:!0,withTabNavigation:!1,withFocusTrap:!0,triggerA11yAttr:{},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{"aria-labelledby":this.triggerRandomId}}}[this.actionsMenuSemanticType]}},watch:{open(n){n!==this.opened&&(this.opened=n)},opened(){this.opened?document.body.addEventListener("keydown",this.handleEscapePressed):document.body.removeEventListener("keydown",this.handleEscapePressed)}},created(){O4(()=>this.opened,{disabled:()=>this.config.withFocusTrap})},methods:{getActionName(n){return n?.componentOptions?.Ctor?.extendOptions?.name??n?.componentOptions?.tag},isValidSingleAction(n){return["NcActionButton","NcActionLink","NcActionRouter"].includes(this.getActionName(n))},isIconUrl(n){try{return!!new URL(n,n.startsWith("/")?window.location.origin:void 0)}catch{return!1}},openMenu(n){this.opened||(this.opened=!0,this.$emit("update:open",!0),this.$emit("open"))},async closeMenu(n=!0){this.opened&&(await this.$nextTick(),this.opened=!1,this.$refs.popover?.clearFocusTrap({returnFocus:n}),this.$emit("update:open",!1),this.$emit("close"),this.focusIndex=0,n&&this.$refs.triggerButton?.$el.focus())},onClosed(){this.$emit("closed")},onOpened(){this.$nextTick(()=>{this.focusFirstAction(null),this.resizePopover(),this.$emit("opened")})},resizePopover(){const n=this.$refs.menu.closest(".v-popper__inner");if(this.$refs.menu.clientHeight>this.maxMenuHeight){let m=0,A=0;for(const ce of this.$refs.menuList.children){if(m+ce.clientHeight/2>this.maxMenuHeight){n.style.height=`${m-A/2}px`;break}A=ce.clientHeight,m+=A}}else n.style.height="fit-content"},getCurrentActiveMenuItemElement(){return this.$refs.menu.querySelector("li.active")},getFocusableMenuItemElements(){return this.$refs.menu.querySelectorAll(D4)},onKeydown(n){if(n.key==="Tab"){if(this.config.withFocusTrap)return;if(!this.config.withTabNavigation){this.closeMenu(!0);return}n.preventDefault();const m=this.getFocusableMenuItemElements(),A=[...m].indexOf(document.activeElement);if(A===-1)return;const ce=n.shiftKey?A-1:A+1;(ce<0||ce===m.length)&&this.closeMenu(!0),this.focusIndex=ce,this.focusAction();return}this.config.withArrowNavigation&&(n.key==="ArrowUp"&&this.focusPreviousAction(n),n.key==="ArrowDown"&&this.focusNextAction(n),n.key==="PageUp"&&this.focusFirstAction(n),n.key==="PageDown"&&this.focusLastAction(n)),this.handleEscapePressed(n)},onTriggerKeydown(n){n.key==="Escape"&&this.actionsMenuSemanticType==="tooltip"&&this.closeMenu()},handleEscapePressed(n){n.key==="Escape"&&(this.closeMenu(),n.preventDefault())},removeCurrentActive(){const n=this.$refs.menu.querySelector("li.active");n&&n.classList.remove("active")},focusAction(){const n=this.getFocusableMenuItemElements()[this.focusIndex];if(n){this.removeCurrentActive();const m=n.closest("li.action");n.focus(),m&&m.classList.add("active")}},focusPreviousAction(n){this.opened&&(this.focusIndex===0?this.focusLastAction(n):(this.preventIfEvent(n),this.focusIndex=this.focusIndex-1),this.focusAction())},focusNextAction(n){if(this.opened){const m=this.getFocusableMenuItemElements().length-1;this.focusIndex===m?this.focusFirstAction(n):(this.preventIfEvent(n),this.focusIndex=this.focusIndex+1),this.focusAction()}},focusFirstAction(n){if(this.opened){this.preventIfEvent(n);const m=[...this.getFocusableMenuItemElements()].findIndex(A=>A.getAttribute("aria-checked")==="true"&&A.getAttribute("role")==="menuitemradio");this.focusIndex=m>-1?m:0,this.focusAction()}},focusLastAction(n){this.opened&&(this.preventIfEvent(n),this.focusIndex=this.getFocusableMenuItemElements().length-1,this.focusAction())},preventIfEvent(n){n&&(n.preventDefault(),n.stopPropagation())},onFocus(n){this.$emit("focus",n)},onBlur(n){this.$emit("blur",n),this.actionsMenuSemanticType==="tooltip"&&this.$refs.menu&&this.getFocusableMenuItemElements().length===0&&this.closeMenu(!1)},onClick(n){this.$emit("click",n)}},render(n){const m=(this.$slots.default||[]).filter($e=>this.getActionName($e));if(m.length===0)return;let A=m.filter(this.isValidSingleAction);this.forceMenu&&A.length>0&&this.inline>0&&(zl.util.warn("Specifying forceMenu will ignore any inline actions rendering."),A=[]);const ce=A.slice(0,this.inline),Ce=m.filter($e=>!ce.includes($e));if(this.forceSemanticType)this.actionsMenuSemanticType=this.forceSemanticType;else{const $e=["NcActionInput","NcActionTextEditable"],mt=["NcActionButton","NcActionButtonGroup","NcActionCheckbox","NcActionRadio"],yt=["NcActionLink","NcActionRouter"],Et=Ce.some(te=>$e.includes(this.getActionName(te))),ft=Ce.some(te=>mt.includes(this.getActionName(te))),We=Ce.some(te=>yt.includes(this.getActionName(te)));Et?this.actionsMenuSemanticType="dialog":ft?this.actionsMenuSemanticType="menu":We?this.actionsMenuSemanticType="expanded":m.filter(te=>this.getActionName(te).startsWith("NcAction")).length===m.length?this.actionsMenuSemanticType="tooltip":this.actionsMenuSemanticType="unknown"}const Ne=$e=>{const mt=$e?.componentOptions?.propsData?.icon,yt=$e?.data?.scopedSlots?.icon()?.[0]??(this.isIconUrl(mt)?n("img",{class:"action-item__menutoggle__icon",attrs:{src:mt,alt:""}}):n("span",{class:["icon",mt]})),Et=$e?.data?.attrs||{},ft=$e?.componentOptions?.listeners?.click,We=$e?.componentOptions?.children?.[0]?.text?.trim?.(),te=$e?.componentOptions?.propsData?.ariaLabel||We,t=this.forceName?We:"";let e=$e?.componentOptions?.propsData?.title;this.forceName||e||(e=We);const w={...$e?.componentOptions?.propsData??{}},v=["submit","reset"].includes(w.type)?w.modelValue:"button";return delete w.modelValue,delete w.type,n("NcButton",{class:["action-item action-item--single",$e?.data?.staticClass,$e?.data?.class],attrs:{...Et,"aria-label":te,title:e},ref:$e?.data?.ref,props:{...w,disabled:this.disabled||$e?.componentOptions?.propsData?.disabled,pressed:$e?.componentOptions?.propsData?.modelValue,type:v,variant:(this.type??this.variant)||(t?"secondary":"tertiary")},on:{focus:this.onFocus,blur:this.onBlur,"update:pressed":$e?.componentOptions?.listeners?.["update:modelValue"]??(()=>{}),...!!ft&&{click:d=>{ft&&ft(d)}}}},[n("template",{slot:"icon"},[yt]),t])},Ge=$e=>{const mt=this.$slots.icon?.[0]||(this.defaultIcon?n("span",{class:["icon",this.defaultIcon]}):n(pf,{props:{size:20}}));return n("NcPopover",{ref:"popover",props:{delay:0,handleResize:!0,shown:this.opened,placement:this.placement,boundary:this.boundariesElement,container:this.container,popoverBaseClass:"action-item__popper",popupRole:this.config.popupRole,setReturnFocus:this.config.withFocusTrap?this.$refs.triggerButton?.$el:null,focusTrap:this.config.withFocusTrap},attrs:{delay:0,handleResize:!0,shown:this.opened,placement:this.placement,boundary:this.boundariesElement,container:this.container,...this.manualOpen&&{triggers:[]}},on:{show:this.openMenu,"after-show":this.onOpened,hide:this.closeMenu,"after-hide":this.onClosed}},[n("NcButton",{class:"action-item__menutoggle",props:{variant:this.triggerButtonVariant,disabled:this.disabled},slot:"trigger",ref:"triggerButton",attrs:{id:this.triggerRandomId,"aria-label":this.menuName?null:this.ariaLabel,...this.config.triggerA11yAttr},on:{focus:this.onFocus,blur:this.onBlur,click:this.onClick,keydown:this.onTriggerKeydown}},[n("template",{slot:"icon"},[mt]),this.menuName]),n("div",{class:{open:this.opened},attrs:{tabindex:"-1",...this.config.popoverContainerA11yAttrs},on:{keydown:this.onKeydown},ref:"menu"},[n("ul",{attrs:{tabindex:"-1",...this.config.popoverUlA11yAttrs},ref:"menuList"},[$e])])])};return m.length===1&&A.length===1&&!this.forceMenu?Ne(m[0]):(this.$nextTick(()=>{this.opened&&this.$refs.menu&&(this.resizePopover(),(this.$refs.menu.querySelector("li.active")||[]).length===0&&this.focusFirstAction())}),ce.length>0&&this.inline>0?n("div",{class:["action-items",`action-item--${this.triggerButtonVariant}`]},[...ce.map(Ne),Ce.length>0?n("div",{class:["action-item",{"action-item--open":this.opened}]},[Ge(Ce)]):null]):n("div",{class:["action-item action-item--default-popover",`action-item--${this.triggerButtonVariant}`,{"action-item--open":this.opened}]},[Ge(m)]))}},A4=null,R4=null;var Z4=Ii(L4,A4,R4,!1,null,"d11b605b");const U1=Z4.exports,z4={beforeUpdate(){this.text=this.getText()},data(){return{text:this.getText()}},computed:{isLongText(){return this.text&&this.text.trim().length>20}},methods:{getText(){return this.$slots.default?this.$slots.default[0].text.trim():""}}},N4=function(n,m){let A=n.$parent;for(;A;){if(A.$options.name===m)return A;A=A.$parent}},Td={mixins:[z4],props:{icon:{type:String,default:""},name:{type:String,default:""},title:{type:String,default:""},closeAfterClick:{type:Boolean,default:!1},ariaLabel:{type:String,default:null},ariaHidden:{type:Boolean,default:null}},emits:["click"],computed:{isIconUrl(){try{return!!new URL(this.icon,this.icon.startsWith("/")?window.location.origin:void 0)}catch{return!1}}},methods:{onClick(n){if(this.$emit("click",n),this.closeAfterClick){const m=N4(this,"NcActions");m&&m.closeMenu&&m.closeMenu(!1)}}}},B4={name:"NcActionLink",mixins:[Td],inject:{isInSemanticMenu:{from:"NcActions:isSemanticMenu",default:!1}},props:{href:{type:String,default:"#",required:!0,validator:n=>{try{return new URL(n)}catch{return n.startsWith("#")||n.startsWith("/")}}},download:{type:String,default:null},target:{type:String,default:"_self",validator:n=>n&&(!n.startsWith("_")||["_blank","_self","_parent","_top"].indexOf(n)>-1)},title:{type:String,default:null},ariaHidden:{type:Boolean,default:null}}};var W4=function(){var n=this,m=n._self._c;return m("li",{staticClass:"action",attrs:{role:n.isInSemanticMenu&&"presentation"}},[m("a",{staticClass:"action-link focusable",attrs:{download:n.download,href:n.href,"aria-label":n.ariaLabel,target:n.target,title:n.title,rel:"nofollow noreferrer noopener",role:n.isInSemanticMenu&&"menuitem"},on:{click:n.onClick}},[n._t("icon",function(){return[m("span",{staticClass:"action-link__icon",class:[n.isIconUrl?"action-link__icon--url":n.icon],style:{backgroundImage:n.isIconUrl?`url(${n.icon})`:null},attrs:{"aria-hidden":"true"}})]}),n.name?m("span",{staticClass:"action-link__longtext-wrapper"},[m("strong",{staticClass:"action-link__name"},[n._v(" "+n._s(n.name)+" ")]),m("br"),m("span",{staticClass:"action-link__longtext",domProps:{textContent:n._s(n.text)}})]):n.isLongText?m("span",{staticClass:"action-link__longtext",domProps:{textContent:n._s(n.text)}}):m("span",{staticClass:"action-link__text"},[n._v(n._s(n.text))]),n._e()],2)])},H4=[],F4=Ii(B4,W4,H4,!1,null,"30c015f0");const U4=F4.exports,K4={name:"NcActionRouter",mixins:[Td],inject:{isInSemanticMenu:{from:"NcActions:isSemanticMenu",default:!1}},props:{to:{type:[String,Object],default:"",required:!0},exact:{type:Boolean,default:!1}}};var $4=function(){var n=this,m=n._self._c;return m("li",{staticClass:"action",attrs:{role:n.isInSemanticMenu&&"presentation"}},[m("RouterLink",{staticClass:"action-router focusable",attrs:{to:n.to,"aria-label":n.ariaLabel,exact:n.exact,title:n.title,rel:"nofollow noreferrer noopener",role:n.isInSemanticMenu&&"menuitem"},nativeOn:{click:function(A){return n.onClick.apply(null,arguments)}}},[n._t("icon",function(){return[m("span",{staticClass:"action-router__icon",class:[n.isIconUrl?"action-router__icon--url":n.icon],style:{backgroundImage:n.isIconUrl?`url(${n.icon})`:null},attrs:{"aria-hidden":"true"}})]}),n.name?m("span",{staticClass:"action-router__longtext-wrapper"},[m("strong",{staticClass:"action-router__name"},[n._v(" "+n._s(n.name)+" ")]),m("br"),m("span",{staticClass:"action-router__longtext",domProps:{textContent:n._s(n.text)}})]):n.isLongText?m("span",{staticClass:"action-router__longtext",domProps:{textContent:n._s(n.text)}}):m("span",{staticClass:"action-router__text"},[n._v(n._s(n.text))]),n._e()],2)],1)},V4=[],Y4=Ii(K4,$4,V4,!1,null,"579c6b4d");const G4=Y4.exports,q4={name:"NcActionText",mixins:[Td],inject:{isInSemanticMenu:{from:"NcActions:isSemanticMenu",default:!1}}};var X4=function(){var n=this,m=n._self._c;return m("li",{staticClass:"action",attrs:{role:n.isInSemanticMenu&&"presentation"}},[m("span",{staticClass:"action-text",on:{click:n.onClick}},[n._t("icon",function(){return[n.icon!==""?m("span",{staticClass:"action-text__icon",class:[n.isIconUrl?"action-text__icon--url":n.icon],style:{backgroundImage:n.isIconUrl?`url(${n.icon})`:null},attrs:{"aria-hidden":"true"}}):n._e()]}),n.name?m("span",{staticClass:"action-text__longtext-wrapper"},[m("strong",{staticClass:"action-text__name"},[n._v(" "+n._s(n.name)+" ")]),m("br"),m("span",{staticClass:"action-text__longtext",domProps:{textContent:n._s(n.text)}})]):n.isLongText?m("span",{staticClass:"action-text__longtext",domProps:{textContent:n._s(n.text)}}):m("span",{staticClass:"action-text__text"},[n._v(n._s(n.text))]),n._e()],2)])},J4=[],Q4=Ii(q4,X4,J4,!1,null,"824615f4");const ek=Q4.exports;var tk="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",nk="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",K1="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z";const hf={name:"NcIconSvgWrapper",props:{directional:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},svg:{type:String,default:""},name:{type:String,default:""},path:{type:String,default:""},size:{type:[Number,String],default:20,validator:n=>typeof n=="number"||n==="auto"}},computed:{iconSize(){return typeof this.size=="number"?`${this.size}px`:this.size},cleanSvg(){if(!this.svg||this.path)return;const n=Ax.sanitize(this.svg),m=new DOMParser().parseFromString(n,"image/svg+xml");return m.querySelector("parsererror")?(zl.util.warn("SVG is not valid"),""):(m.documentElement.id&&m.documentElement.removeAttribute("id"),m.documentElement.outerHTML)}}},Gh=()=>{Km((n,m)=>({adec40c8:n.iconSize}))},qh=hf.setup;hf.setup=qh?(n,m)=>(Gh(),qh(n,m)):Gh;const rk=hf;var ok=function(){var n=this,m=n._self._c;return m("span",{staticClass:"icon-vue",class:{"icon-vue--directional":n.directional,"icon-vue--inline":n.inline},attrs:{"aria-hidden":n.name?void 0:"true","aria-label":n.name||void 0,role:"img"}},[n.cleanSvg?m("span",{domProps:{innerHTML:n._s(n.cleanSvg)}}):m("svg",{attrs:{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[m("path",{attrs:{d:n.path}})])])},ik=[],ak=Ii(rk,ok,ik,!1,null,"a4f5b92e");const Pd=ak.exports,lk={name:"NcActionButton",components:{NcIconSvgWrapper:Pd},mixins:[Td],inject:{isInSemanticMenu:{from:"NcActions:isSemanticMenu",default:!1}},props:{ariaHidden:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},isMenu:{type:Boolean,default:!1},type:{type:String,default:"button",validator:n=>["button","checkbox","radio","reset","submit"].includes(n)},modelValue:{type:[Boolean,String],default:null},value:{type:String,default:null},description:{type:String,default:""}},setup(){return{mdiCheck:tk,mdiChevronRight:K1}},computed:{isFocusable(){return!this.disabled},isChecked(){return this.type==="radio"&&typeof this.modelValue!="boolean"?this.modelValue===this.value:this.modelValue},nativeType(){return this.type==="submit"||this.type==="reset"?this.type:"button"},buttonAttributes(){const n={};return this.isInSemanticMenu?(n.role="menuitem",this.type==="radio"?(n.role="menuitemradio",n["aria-checked"]=this.isChecked?"true":"false"):(this.type==="checkbox"||this.nativeType==="button"&&this.modelValue!==null)&&(n.role="menuitemcheckbox",n["aria-checked"]=this.modelValue===null?"mixed":this.modelValue?"true":"false")):this.modelValue!==null&&this.nativeType==="button"&&(n["aria-pressed"]=this.modelValue?"true":"false"),n}},methods:{handleClick(n){this.onClick(n),(this.modelValue!==null||this.type!=="button")&&(this.type==="radio"?typeof this.modelValue!="boolean"?this.isChecked||this.$emit("update:modelValue",this.value):this.$emit("update:modelValue",!this.isChecked):this.$emit("update:modelValue",!this.isChecked))}}};var sk=function(){var n=this,m=n._self._c;return m("li",{staticClass:"action",class:{"action--disabled":n.disabled},attrs:{role:n.isInSemanticMenu&&"presentation"}},[m("button",n._b({class:["action-button button-vue",{"action-button--active":n.isChecked,focusable:n.isFocusable}],attrs:{"aria-label":n.ariaLabel,disabled:n.disabled,title:n.title,type:n.nativeType},on:{click:n.handleClick}},"button",n.buttonAttributes,!1),[n._t("icon",function(){return[m("span",{staticClass:"action-button__icon",class:[n.isIconUrl?"action-button__icon--url":n.icon],style:{backgroundImage:n.isIconUrl?`url(${n.icon})`:null},attrs:{"aria-hidden":"true"}})]}),m("span",{staticClass:"action-button__longtext-wrapper"},[n.name?m("strong",{staticClass:"action-button__name"},[n._v(" "+n._s(n.name)+" ")]):n._e(),n.isLongText?m("span",{staticClass:"action-button__longtext",domProps:{textContent:n._s(n.text)}}):m("span",{staticClass:"action-button__text"},[n._v(" "+n._s(n.text)+" ")]),n.description?m("span",{staticClass:"action-button__description",domProps:{textContent:n._s(n.description)}}):n._e()]),n.isMenu?m("NcIconSvgWrapper",{staticClass:"action-button__menu-icon",attrs:{directional:"",path:n.mdiChevronRight}}):n.isChecked?m("NcIconSvgWrapper",{staticClass:"action-button__pressed-icon",attrs:{path:n.mdiCheck}}):n.isChecked===!1?m("span",{staticClass:"action-button__pressed-icon material-design-icon"}):n._e(),n._e()],2)])},ck=[],uk=Ii(lk,sk,ck,!1,null,"02eeec54");const dk=uk.exports;function $1(){try{return _0("core","capabilities")}catch{return console.debug("Could not find capabilities initial state fall back to _oc_capabilities"),"_oc_capabilities"in window?window._oc_capabilities:{}}}const fk=`<!--
  - SPDX-FileCopyrightText: 2020 Google Inc.
  - SPDX-License-Identifier: Apache-2.0
-->
<svg viewBox="0 0 16 16" width="16" height="16" xmlns="http://www.w3.org/2000/svg">
	<path fill="var(--color-success)" d="M4.8 11.2h6.4V4.8H4.8v6.4zM8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z" />
</svg>
`,Xh=`<!--
  - SPDX-FileCopyrightText: 2020 Google Inc.
  - SPDX-License-Identifier: Apache-2.0
-->
<svg viewBox="0 0 16 16" width="16" height="16" xmlns="http://www.w3.org/2000/svg">
	<path fill="none" d="M-4-4h24v24H-4z" />
	<path fill="var(--color-warning)" d="M6.9.1C3 .6-.1 4-.1 8c0 4.4 3.6 8 8 8 4 0 7.4-3 8-6.9-1.2 1.3-2.9 2.1-4.7 2.1-3.5 0-6.4-2.9-6.4-6.4 0-1.9.8-3.6 2.1-4.7z" />
</svg>
`,pk=`<!--
  - SPDX-FileCopyrightText: 2020 Google Inc.
  - SPDX-License-Identifier: Apache-2.0
-->
<svg viewBox="0 0 16 16" width="16" height="16" xmlns="http://www.w3.org/2000/svg">
	<path fill="none" d="M-4-4h24v24H-4V-4z" />
	<path fill="var(--color-error)" d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z" />
	<path fill="#fdffff" d="M5 6.5h6c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5H5c-.8 0-1.5-.7-1.5-1.5S4.2 6.5 5 6.5z" />
</svg>
`,Jh=`<!--
  - SPDX-FileCopyrightText: 2020 Google Inc.
  - SPDX-License-Identifier: Apache-2.0
-->
<svg viewBox="0 0 16 16" width="16" height="16" xmlns="http://www.w3.org/2000/svg">
	<path fill="none" d="M-4-4h24v24H-4V-4z" />
	<path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 3.2c2.7 0 4.8 2.1 4.8 4.8s-2.1 4.8-4.8 4.8S3.2 10.7 3.2 8 5.3 3.2 8 3.2z" />
</svg>
`;bl(Rx);const V1=n=>{switch(n){case"away":return Vo("away");case"busy":return Vo("busy");case"dnd":return Vo("do not disturb");case"online":return Vo("online");case"invisible":return Vo("invisible");case"offline":return Vo("offline");default:return n}};bl(Zx);const hk={name:"NcUserStatusIcon",props:{user:{type:String,default:null},status:{type:String,default:null,validator:n=>["online","away","busy","dnd","invisible","offline"].includes(n)},ariaHidden:{type:String,default:null,validator:n=>["true","false"].includes(n)}},data(){return{fetchedUserStatus:null}},computed:{activeStatus(){return this.status??this.fetchedUserStatus},activeSvg(){return{online:fk,away:Xh,busy:Xh,dnd:pk,invisible:Jh,offline:Jh}[this.activeStatus]??null},ariaLabel(){return this.ariaHidden==="true"?null:Vo("User status: {status}",{status:V1(this.activeStatus)})}},watch:{user:{immediate:!0,async handler(n,m){if(!n||!$1()?.user_status?.enabled){this.fetchedUserStatus=null;return}try{const{data:A}=await Gl.get(ss("/apps/user_status/api/v1/statuses/{user}",{user:n}));this.fetchedUserStatus=A.ocs?.data?.status}catch{this.fetchedUserStatus=null}}}}};var mk=function(){var n=this,m=n._self._c;return n.activeStatus?m("span",{staticClass:"user-status-icon",class:{"user-status-icon--invisible":["invisible","offline"].includes(n.status)},attrs:{role:"img","aria-hidden":n.ariaHidden,"aria-label":n.ariaLabel},domProps:{innerHTML:n._s(n.activeSvg)}}):n._e()},gk=[],vk=Ii(hk,mk,gk,!1,null,"0555d8d0");const bk=vk.exports;bl(zx);class Ya{constructor(m,A,ce,Ce){this.r=m,this.g=A,this.b=ce,Ce&&(this.name=Ce)}get color(){const m=A=>`00${A.toString(16)}`.slice(-2);return`#${m(this.r)}${m(this.g)}${m(this.b)}`}}function yk(n,m){const A=new Array(3);return A[0]=(m[1].r-m[0].r)/n,A[1]=(m[1].g-m[0].g)/n,A[2]=(m[1].b-m[0].b)/n,A}function b0(n,m,A){const ce=[];ce.push(m);const Ce=yk(n,[m,A]);for(let Ne=1;Ne<n;Ne++){const Ge=Math.floor(m.r+Ce[0]*Ne),$e=Math.floor(m.g+Ce[1]*Ne),mt=Math.floor(m.b+Ce[2]*Ne);ce.push(new Ya(Ge,$e,mt))}return ce}new Ya(182,70,157,Vo("Purple")),new Ya(191,103,139,Vo("Rosy brown")),new Ya(201,136,121,Vo("Feldspar")),new Ya(211,169,103,Vo("Whiskey")),new Ya(221,203,85,Vo("Gold")),new Ya(165,184,114,Vo("Olivine")),new Ya(110,166,143,Vo("Acapulco")),new Ya(55,148,172,Vo("Boston Blue")),new Ya(0,130,201,Vo("Nextcloud blue")),new Ya(45,115,190,Vo("Mariner")),new Ya(91,100,179,Vo("Blue Violet")),new Ya(136,85,168,Vo("Deluge"));function xk(n){const m=new Ya(182,70,157,Vo("Purple")),A=new Ya(221,203,85,Vo("Gold")),ce=new Ya(0,130,201,Vo("Nextcloud blue")),Ce=b0(n,m,A),Ne=b0(n,A,ce),Ge=b0(n,ce,m);return Ce.concat(Ne).concat(Ge)}var Qh={exports:{}},em={exports:{}},tm;function wk(){return tm||(tm=1,function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m={rotl:function(A,ce){return A<<ce|A>>>32-ce},rotr:function(A,ce){return A<<32-ce|A>>>ce},endian:function(A){if(A.constructor==Number)return m.rotl(A,8)&16711935|m.rotl(A,24)&4278255360;for(var ce=0;ce<A.length;ce++)A[ce]=m.endian(A[ce]);return A},randomBytes:function(A){for(var ce=[];A>0;A--)ce.push(Math.floor(Math.random()*256));return ce},bytesToWords:function(A){for(var ce=[],Ce=0,Ne=0;Ce<A.length;Ce++,Ne+=8)ce[Ne>>>5]|=A[Ce]<<24-Ne%32;return ce},wordsToBytes:function(A){for(var ce=[],Ce=0;Ce<A.length*32;Ce+=8)ce.push(A[Ce>>>5]>>>24-Ce%32&255);return ce},bytesToHex:function(A){for(var ce=[],Ce=0;Ce<A.length;Ce++)ce.push((A[Ce]>>>4).toString(16)),ce.push((A[Ce]&15).toString(16));return ce.join("")},hexToBytes:function(A){for(var ce=[],Ce=0;Ce<A.length;Ce+=2)ce.push(parseInt(A.substr(Ce,2),16));return ce},bytesToBase64:function(A){for(var ce=[],Ce=0;Ce<A.length;Ce+=3)for(var Ne=A[Ce]<<16|A[Ce+1]<<8|A[Ce+2],Ge=0;Ge<4;Ge++)Ce*8+Ge*6<=A.length*8?ce.push(n.charAt(Ne>>>6*(3-Ge)&63)):ce.push("=");return ce.join("")},base64ToBytes:function(A){A=A.replace(/[^A-Z0-9+\/]/ig,"");for(var ce=[],Ce=0,Ne=0;Ce<A.length;Ne=++Ce%4)Ne!=0&&ce.push((n.indexOf(A.charAt(Ce-1))&Math.pow(2,-2*Ne+8)-1)<<Ne*2|n.indexOf(A.charAt(Ce))>>>6-Ne*2);return ce}};em.exports=m}()),em.exports}var y0,nm;function rm(){if(nm)return y0;nm=1;var n={utf8:{stringToBytes:function(m){return n.bin.stringToBytes(unescape(encodeURIComponent(m)))},bytesToString:function(m){return decodeURIComponent(escape(n.bin.bytesToString(m)))}},bin:{stringToBytes:function(m){for(var A=[],ce=0;ce<m.length;ce++)A.push(m.charCodeAt(ce)&255);return A},bytesToString:function(m){for(var A=[],ce=0;ce<m.length;ce++)A.push(String.fromCharCode(m[ce]));return A.join("")}}};return y0=n,y0}var x0,om;function kk(){if(om)return x0;om=1,x0=function(A){return A!=null&&(n(A)||m(A)||!!A._isBuffer)};function n(A){return!!A.constructor&&typeof A.constructor.isBuffer=="function"&&A.constructor.isBuffer(A)}function m(A){return typeof A.readFloatLE=="function"&&typeof A.slice=="function"&&n(A.slice(0,0))}return x0}var im;function Ek(){return im||(im=1,function(){var n=wk(),m=rm().utf8,A=kk(),ce=rm().bin,Ce=function(Ne,Ge){Ne.constructor==String?Ge&&Ge.encoding==="binary"?Ne=ce.stringToBytes(Ne):Ne=m.stringToBytes(Ne):A(Ne)?Ne=Array.prototype.slice.call(Ne,0):!Array.isArray(Ne)&&Ne.constructor!==Uint8Array&&(Ne=Ne.toString());for(var $e=n.bytesToWords(Ne),mt=Ne.length*8,yt=1732584193,Et=-271733879,ft=-1732584194,We=271733878,te=0;te<$e.length;te++)$e[te]=($e[te]<<8|$e[te]>>>24)&16711935|($e[te]<<24|$e[te]>>>8)&4278255360;$e[mt>>>5]|=128<<mt%32,$e[(mt+64>>>9<<4)+14]=mt;for(var t=Ce._ff,e=Ce._gg,w=Ce._hh,v=Ce._ii,te=0;te<$e.length;te+=16){var d=yt,b=Et,T=ft,S=We;yt=t(yt,Et,ft,We,$e[te+0],7,-680876936),We=t(We,yt,Et,ft,$e[te+1],12,-389564586),ft=t(ft,We,yt,Et,$e[te+2],17,606105819),Et=t(Et,ft,We,yt,$e[te+3],22,-1044525330),yt=t(yt,Et,ft,We,$e[te+4],7,-176418897),We=t(We,yt,Et,ft,$e[te+5],12,1200080426),ft=t(ft,We,yt,Et,$e[te+6],17,-1473231341),Et=t(Et,ft,We,yt,$e[te+7],22,-45705983),yt=t(yt,Et,ft,We,$e[te+8],7,1770035416),We=t(We,yt,Et,ft,$e[te+9],12,-1958414417),ft=t(ft,We,yt,Et,$e[te+10],17,-42063),Et=t(Et,ft,We,yt,$e[te+11],22,-1990404162),yt=t(yt,Et,ft,We,$e[te+12],7,1804603682),We=t(We,yt,Et,ft,$e[te+13],12,-40341101),ft=t(ft,We,yt,Et,$e[te+14],17,-1502002290),Et=t(Et,ft,We,yt,$e[te+15],22,1236535329),yt=e(yt,Et,ft,We,$e[te+1],5,-165796510),We=e(We,yt,Et,ft,$e[te+6],9,-1069501632),ft=e(ft,We,yt,Et,$e[te+11],14,643717713),Et=e(Et,ft,We,yt,$e[te+0],20,-373897302),yt=e(yt,Et,ft,We,$e[te+5],5,-701558691),We=e(We,yt,Et,ft,$e[te+10],9,38016083),ft=e(ft,We,yt,Et,$e[te+15],14,-660478335),Et=e(Et,ft,We,yt,$e[te+4],20,-405537848),yt=e(yt,Et,ft,We,$e[te+9],5,568446438),We=e(We,yt,Et,ft,$e[te+14],9,-1019803690),ft=e(ft,We,yt,Et,$e[te+3],14,-187363961),Et=e(Et,ft,We,yt,$e[te+8],20,1163531501),yt=e(yt,Et,ft,We,$e[te+13],5,-1444681467),We=e(We,yt,Et,ft,$e[te+2],9,-51403784),ft=e(ft,We,yt,Et,$e[te+7],14,1735328473),Et=e(Et,ft,We,yt,$e[te+12],20,-1926607734),yt=w(yt,Et,ft,We,$e[te+5],4,-378558),We=w(We,yt,Et,ft,$e[te+8],11,-2022574463),ft=w(ft,We,yt,Et,$e[te+11],16,1839030562),Et=w(Et,ft,We,yt,$e[te+14],23,-35309556),yt=w(yt,Et,ft,We,$e[te+1],4,-1530992060),We=w(We,yt,Et,ft,$e[te+4],11,1272893353),ft=w(ft,We,yt,Et,$e[te+7],16,-155497632),Et=w(Et,ft,We,yt,$e[te+10],23,-1094730640),yt=w(yt,Et,ft,We,$e[te+13],4,681279174),We=w(We,yt,Et,ft,$e[te+0],11,-358537222),ft=w(ft,We,yt,Et,$e[te+3],16,-722521979),Et=w(Et,ft,We,yt,$e[te+6],23,76029189),yt=w(yt,Et,ft,We,$e[te+9],4,-640364487),We=w(We,yt,Et,ft,$e[te+12],11,-421815835),ft=w(ft,We,yt,Et,$e[te+15],16,530742520),Et=w(Et,ft,We,yt,$e[te+2],23,-995338651),yt=v(yt,Et,ft,We,$e[te+0],6,-198630844),We=v(We,yt,Et,ft,$e[te+7],10,1126891415),ft=v(ft,We,yt,Et,$e[te+14],15,-1416354905),Et=v(Et,ft,We,yt,$e[te+5],21,-57434055),yt=v(yt,Et,ft,We,$e[te+12],6,1700485571),We=v(We,yt,Et,ft,$e[te+3],10,-1894986606),ft=v(ft,We,yt,Et,$e[te+10],15,-1051523),Et=v(Et,ft,We,yt,$e[te+1],21,-2054922799),yt=v(yt,Et,ft,We,$e[te+8],6,1873313359),We=v(We,yt,Et,ft,$e[te+15],10,-30611744),ft=v(ft,We,yt,Et,$e[te+6],15,-1560198380),Et=v(Et,ft,We,yt,$e[te+13],21,1309151649),yt=v(yt,Et,ft,We,$e[te+4],6,-145523070),We=v(We,yt,Et,ft,$e[te+11],10,-1120210379),ft=v(ft,We,yt,Et,$e[te+2],15,718787259),Et=v(Et,ft,We,yt,$e[te+9],21,-343485551),yt=yt+d>>>0,Et=Et+b>>>0,ft=ft+T>>>0,We=We+S>>>0}return n.endian([yt,Et,ft,We])};Ce._ff=function(Ne,Ge,$e,mt,yt,Et,ft){var We=Ne+(Ge&$e|~Ge&mt)+(yt>>>0)+ft;return(We<<Et|We>>>32-Et)+Ge},Ce._gg=function(Ne,Ge,$e,mt,yt,Et,ft){var We=Ne+(Ge&mt|$e&~mt)+(yt>>>0)+ft;return(We<<Et|We>>>32-Et)+Ge},Ce._hh=function(Ne,Ge,$e,mt,yt,Et,ft){var We=Ne+(Ge^$e^mt)+(yt>>>0)+ft;return(We<<Et|We>>>32-Et)+Ge},Ce._ii=function(Ne,Ge,$e,mt,yt,Et,ft){var We=Ne+($e^(Ge|~mt))+(yt>>>0)+ft;return(We<<Et|We>>>32-Et)+Ge},Ce._blocksize=16,Ce._digestsize=16,Qh.exports=function(Ne,Ge){if(Ne==null)throw new Error("Illegal argument "+Ne);var $e=n.wordsToBytes(Ce(Ne,Ge));return Ge&&Ge.asBytes?$e:Ge&&Ge.asString?ce.bytesToString($e):n.bytesToHex($e)}}()),Qh.exports}var Sk=Ek();const _k=Gm(Sk),am=function(n){let m=n.toLowerCase();m.match(/^([0-9a-f]{4}-?){8}$/)===null&&(m=_k(m)),m=m.replace(/[^0-9a-f]/g,"");const A=6,ce=xk(A);function Ce(Ne,Ge){let $e=0;const mt=[];for(let yt=0;yt<Ne.length;yt++)mt.push(parseInt(Ne.charAt(yt),16)%16);for(const yt in mt)$e+=mt[yt];return parseInt(parseInt($e,10)%Ge,10)}return ce[Ce(m,A*3)]},Ck=(n,m,A)=>{const ce=window.getComputedStyle(document.body).getPropertyValue("--background-invert-if-dark")==="invert(100%)";return Ac("/avatar"+(A?"/guest":"")+"/{user}/{size}"+(ce?"/dark":""),{user:n,size:m})};var Ca=(n=>(n[n.Debug=0]="Debug",n[n.Info=1]="Info",n[n.Warn=2]="Warn",n[n.Error=3]="Error",n[n.Fatal=4]="Fatal",n))(Ca||{}),jk=Object.defineProperty,Ok=(n,m,A)=>m in n?jk(n,m,{enumerable:!0,configurable:!0,writable:!0,value:A}):n[m]=A,Mk=(n,m,A)=>(Ok(n,m+"",A),A);class Tk{constructor(m){Mk(this,"context"),this.context=m||{}}formatMessage(m,A,ce){let Ce="["+Ca[A].toUpperCase()+"] ";return ce&&ce.app&&(Ce+=ce.app+": "),typeof m=="string"?Ce+m:(Ce+="Unexpected ".concat(m.name),m.message&&(Ce+=' "'.concat(m.message,'"')),A===Ca.Debug&&m.stack&&(Ce+=`

Stack trace:
`.concat(m.stack)),Ce)}log(m,A,ce){var Ce,Ne;if(!(typeof((Ce=this.context)==null?void 0:Ce.level)=="number"&&m<((Ne=this.context)==null?void 0:Ne.level)))switch(typeof A=="object"&&ce?.error===void 0&&(ce.error=A),m){case Ca.Debug:console.debug(this.formatMessage(A,Ca.Debug,ce),ce);break;case Ca.Info:console.info(this.formatMessage(A,Ca.Info,ce),ce);break;case Ca.Warn:console.warn(this.formatMessage(A,Ca.Warn,ce),ce);break;case Ca.Error:console.error(this.formatMessage(A,Ca.Error,ce),ce);break;case Ca.Fatal:default:console.error(this.formatMessage(A,Ca.Fatal,ce),ce);break}}debug(m,A){this.log(Ca.Debug,m,Object.assign({},this.context,A))}info(m,A){this.log(Ca.Info,m,Object.assign({},this.context,A))}warn(m,A){this.log(Ca.Warn,m,Object.assign({},this.context,A))}error(m,A){this.log(Ca.Error,m,Object.assign({},this.context,A))}fatal(m,A){this.log(Ca.Fatal,m,Object.assign({},this.context,A))}}function Pk(n){return new Tk(n)}var Ik=Object.defineProperty,Dk=(n,m,A)=>m in n?Ik(n,m,{enumerable:!0,configurable:!0,writable:!0,value:A}):n[m]=A,lm=(n,m,A)=>(Dk(n,typeof m!="symbol"?m+"":m,A),A);class Lk{constructor(m){lm(this,"context"),lm(this,"factory"),this.context={},this.factory=m}setApp(m){return this.context.app=m,this}setLogLevel(m){return this.context.level=m,this}setUid(m){return this.context.uid=m,this}detectUser(){const m=ru();return m!==null&&(this.context.uid=m.uid),this}detectLogLevel(){const m=this,A=()=>{var ce,Ce;document.readyState==="complete"||document.readyState==="interactive"?(m.context.level=(Ce=(ce=window._oc_config)==null?void 0:ce.loglevel)!=null?Ce:Ca.Warn,window._oc_debug&&(m.context.level=Ca.Debug),document.removeEventListener("readystatechange",A)):document.addEventListener("readystatechange",A)};return A(),this}build(){return this.context.level===void 0&&this.detectLogLevel(),this.factory(this.context)}}function Ak(){return new Lk(Pk)}const Rk=Ak().detectUser().setApp("@nextcloud/vue").build();function Zk(n){return window._nc_contacts_menu_hooks?Object.values(window._nc_contacts_menu_hooks).filter(m=>m.enabled(n)):[]}const sm=/(\s|^)(https?:\/\/)([-A-Z0-9+_.]+(?::[0-9]+)?(?:\/[-A-Z0-9+&@#%?=~_|!:,.;()]*)*)(\s|$)/ig,Y1=(n,m)=>{const A=(Et,ft)=>Et.startsWith(ft)?Et.slice(ft.length):Et,ce=(Et,...ft)=>ft.reduce((We,te)=>A(We,te),Et);if(!n)return null;const Ce=/^https?:\/\//.test(m),Ne=/^[a-z][a-z0-9+.-]*:.+/.test(m);if(!Ce&&Ne||Ce&&!m.startsWith(zp())||!Ce&&!m.startsWith("/"))return null;const Ge=Ce?ce(m,zp(),"/index.php"):m,$e=ce(n.history.base,ew(),"/index.php"),mt=ce(Ge,$e)||"/",yt=n.resolve(mt).route;return yt.matched.length?yt.fullPath:null},G1=Ui(q1());window.addEventListener("resize",()=>{G1.value=q1()});function q1(){return window.outerHeight===window.screen.height}X0(G1);const mf=1024,X1=mf/2,ad=n=>document.documentElement.clientWidth<n,cm=Ui(ad(mf)),zk=Ui(ad(X1));window.addEventListener("resize",()=>{cm.value=ad(mf),zk.value=ad(X1)},{passive:!0}),X0(cm);var W0={exports:{}},Nk=W0.exports,um;function Bk(){return um||(um=1,function(n){(function(m){if(typeof A!="function"){var A=function(t){return t};A.nonNative=!0}const ce=A("plaintext"),Ce=A("html"),Ne=A("comment"),Ge=/<(\w*)>/g,$e=/<\/?([^\s\/>]+)/;function mt(t,e,w){t=t||"",e=e||[],w=w||"";let v=Et(e,w);return ft(t,v)}function yt(t,e){t=t||[],e=e||"";let w=Et(t,e);return function(v){return ft(v||"",w)}}mt.init_streaming_mode=yt;function Et(t,e){return t=We(t),{allowable_tags:t,tag_replacement:e,state:ce,tag_buffer:"",depth:0,in_quote_char:""}}function ft(t,e){if(typeof t!="string")throw new TypeError("'html' parameter must be a string");let w=e.allowable_tags,v=e.tag_replacement,d=e.state,b=e.tag_buffer,T=e.depth,S=e.in_quote_char,a="";for(let c=0,Z=t.length;c<Z;c++){let F=t[c];if(d===ce)switch(F){case"<":d=Ce,b+=F;break;default:a+=F;break}else if(d===Ce)switch(F){case"<":if(S)break;T++;break;case">":if(S)break;if(T){T--;break}S="",d=ce,b+=">",w.has(te(b))?a+=b:a+=v,b="";break;case'"':case"'":F===S?S="":S=S||F,b+=F;break;case"-":b==="<!-"&&(d=Ne),b+=F;break;case" ":case`
`:if(b==="<"){d=ce,a+="< ",b="";break}b+=F;break;default:b+=F;break}else if(d===Ne)switch(F){case">":b.slice(-2)=="--"&&(d=ce),b="";break;default:b+=F;break}}return e.state=d,e.tag_buffer=b,e.depth=T,e.in_quote_char=S,a}function We(t){let e=new Set;if(typeof t=="string"){let w;for(;w=Ge.exec(t);)e.add(w[1])}else!A.nonNative&&typeof t[A.iterator]=="function"?e=new Set(t):typeof t.forEach=="function"&&t.forEach(e.add,e);return e}function te(t){let e=$e.exec(t);return e?e[1].toLowerCase():null}n.exports?n.exports=mt:m.striptags=mt})(Nk)}(W0)),W0.exports}Bk(),zl.util.warn;const J1=df?window:void 0;function Xc(n){var m;const A=Ga(n);return(m=A?.$el)!=null?m:A}function Zu(...n){let m,A,ce,Ce;if(typeof n[0]=="string"||Array.isArray(n[0])?([A,ce,Ce]=n,m=J1):[m,A,ce,Ce]=n,!m)return ql;Array.isArray(A)||(A=[A]),Array.isArray(ce)||(ce=[ce]);const Ne=[],Ge=()=>{Ne.forEach(Et=>Et()),Ne.length=0},$e=(Et,ft,We,te)=>(Et.addEventListener(ft,We,te),()=>Et.removeEventListener(ft,We,te)),mt=Ql(()=>[Xc(m),Ga(Ce)],([Et,ft])=>{if(Ge(),!Et)return;const We=H1(ft)?{...ft}:ft;Ne.push(...A.flatMap(te=>ce.map(t=>$e(Et,te,t,We))))},{immediate:!0,flush:"post"}),yt=()=>{mt(),Ge()};return gc(yt),yt}let dm=!1;function fm(n,m,A={}){const{window:ce=J1,ignore:Ce=[],capture:Ne=!0,detectIframe:Ge=!1}=A;if(!ce)return ql;B0&&!dm&&(dm=!0,Array.from(ce.document.body.children).forEach(t=>t.addEventListener("click",ql)),ce.document.documentElement.addEventListener("click",ql));let $e=!0;const mt=t=>Ga(Ce).some(e=>{if(typeof e=="string")return Array.from(ce.document.querySelectorAll(e)).some(w=>w===t.target||t.composedPath().includes(w));{const w=Xc(e);return w&&(t.target===w||t.composedPath().includes(w))}});function yt(t){const e=Ga(t);return e&&e.$.subTree.shapeFlag===16}function Et(t,e){const w=Ga(t),v=w.$.subTree&&w.$.subTree.children;return v==null||!Array.isArray(v)?!1:v.some(d=>d.el===e.target||e.composedPath().includes(d.el))}const ft=t=>{const e=Xc(n);if(t.target!=null&&!(!(e instanceof Element)&&yt(n)&&Et(n,t))&&!(!e||e===t.target||t.composedPath().includes(e))){if(t.detail===0&&($e=!mt(t)),!$e){$e=!0;return}m(t)}};let We=!1;const te=[Zu(ce,"click",t=>{We||(We=!0,setTimeout(()=>{We=!1},0),ft(t))},{passive:!0,capture:Ne}),Zu(ce,"pointerdown",t=>{const e=Xc(n);$e=!mt(t)&&!!(e&&!t.composedPath().includes(e))},{passive:!0}),Ge&&Zu(ce,"blur",t=>{setTimeout(()=>{var e;const w=Xc(n);((e=ce.document.activeElement)==null?void 0:e.tagName)==="IFRAME"&&!w?.contains(ce.document.activeElement)&&m(t)},0)})].filter(Boolean);return()=>te.forEach(t=>t())}const Wk={[Vh.mounted](n,m){const A=!m.modifiers.bubble;if(typeof m.value=="function")n.__onClickOutside_stop=fm(n,m.value,{capture:A});else{const[ce,Ce]=m.value;n.__onClickOutside_stop=fm(n,ce,Object.assign({capture:A},Ce))}},[Vh.unmounted](n){n.__onClickOutside_stop()}};function w0(n){return typeof Window<"u"&&n instanceof Window?n.document.documentElement:typeof Document<"u"&&n instanceof Document?n.documentElement:n}function Q1(n){const m=window.getComputedStyle(n);if(m.overflowX==="scroll"||m.overflowY==="scroll"||m.overflowX==="auto"&&n.clientWidth<n.scrollWidth||m.overflowY==="auto"&&n.clientHeight<n.scrollHeight)return!0;{const A=n.parentNode;return!A||A.tagName==="BODY"?!1:Q1(A)}}function Hk(n){const m=n||window.event,A=m.target;return Q1(A)?!1:m.touches.length>1?!0:(m.preventDefault&&m.preventDefault(),!1)}const k0=new WeakMap;function Fk(n,m=!1){const A=Ui(m);let ce=null,Ce="";Ql(y4(n),$e=>{const mt=w0(Ga($e));if(mt){const yt=mt;if(k0.get(yt)||k0.set(yt,yt.style.overflow),yt.style.overflow!=="hidden"&&(Ce=yt.style.overflow),yt.style.overflow==="hidden")return A.value=!0;if(A.value)return yt.style.overflow="hidden"}},{immediate:!0});const Ne=()=>{const $e=w0(Ga(n));!$e||A.value||(B0&&(ce=Zu($e,"touchmove",mt=>{Hk(mt)},{passive:!1})),$e.style.overflow="hidden",A.value=!0)},Ge=()=>{const $e=w0(Ga(n));!$e||!A.value||(B0&&ce?.(),$e.style.overflow=Ce,k0.delete($e),A.value=!1)};return gc(Ge),Zl({get(){return A.value},set($e){$e?Ne():Ge()}})}function Uk(){let n=!1;const m=Ui(!1);return(A,ce)=>{if(m.value=ce.value,n)return;n=!0;const Ce=Fk(A,ce.value);Ql(m,Ne=>Ce.value=Ne)}}Uk(),bl(Bx);const eg={data(){return{hasStatus:!1,userStatus:{status:null,message:null,icon:null}}},methods:{async fetchUserStatus(n){if(!n)return;const m=$1();if(!(!Object.prototype.hasOwnProperty.call(m,"user_status")||!m.user_status.enabled)&&ru())try{const{data:A}=await Gl.get(ss("apps/user_status/api/v1/statuses/{userId}",{userId:n})),{status:ce,message:Ce,icon:Ne}=A.ocs.data;this.userStatus.status=ce,this.userStatus.message=Ce||"",this.userStatus.icon=Ne||"",this.hasStatus=!0}catch(A){if(A.response.status===404&&A.response.data.ocs?.data?.length===0)return;console.error(A)}}}},tg=Nx.getBuilder("nextcloud").persist().build();function Kk(n){const m=tg.getItem("user-has-avatar."+n);return typeof m=="string"?!!m:null}function pm(n,m){n&&tg.setItem("user-has-avatar."+n,m)}const $k={name:"NcAvatar",directives:{ClickOutside:Wk},components:{DotsHorizontal:pf,NcActions:U1,NcButton:su,NcIconSvgWrapper:Pd,NcLoadingIcon:J0,NcUserStatusIcon:bk},mixins:[eg],props:{url:{type:String,default:void 0},iconClass:{type:String,default:void 0},user:{type:String,default:void 0},hideStatus:{type:Boolean,default:!1},showUserStatus:{type:Boolean,default:!0},verboseStatus:{type:Boolean,default:!1},showUserStatusCompact:{type:Boolean,default:!0},preloadedUserStatus:{type:Object,default:void 0},isGuest:{type:Boolean,default:!1},displayName:{type:String,default:void 0},size:{type:Number,default:32},noPlaceholder:{type:Boolean,default:!1},allowPlaceholder:{type:Boolean,default:!0},disableTooltip:{type:Boolean,default:!1},disableMenu:{type:Boolean,default:!1},tooltipMessage:{type:String,default:null},isNoUser:{type:Boolean,default:!1},menuContainer:{type:[String,Object,Element,Boolean],default:"body"}},data(){return{avatarUrlLoaded:null,avatarSrcSetLoaded:null,userDoesNotExist:!1,isAvatarLoaded:!1,isMenuLoaded:!1,contactsMenuLoading:!1,contactsMenuData:{},contactsMenuActions:[],contactsMenuOpenState:!1}},computed:{avatarAriaLabel(){if(this.hasMenu)return this.canDisplayUserStatus||this.showUserStatusIconOnAvatar?Vo("Avatar of {displayName}, {status}",{displayName:this.displayName??this.user,status:V1(this.userStatus.status)}):Vo("Avatar of {displayName}",{displayName:this.displayName??this.user})},canDisplayUserStatus(){return!this.hideStatus&&this.showUserStatus&&this.hasStatus&&["online","away","busy","dnd"].includes(this.userStatus.status)},showUserStatusIconOnAvatar(){return!this.hideStatus&&this.showUserStatus&&!this.verboseStatus&&this.showUserStatusCompact&&this.hasStatus&&this.userStatus.status!=="dnd"&&this.userStatus.icon},userIdentifier(){return this.isDisplayNameDefined?this.displayName:this.isUserDefined?this.user:""},isUserDefined(){return typeof this.user<"u"},isDisplayNameDefined(){return typeof this.displayName<"u"},isUrlDefined(){return typeof this.url<"u"},hasMenu(){return this.disableMenu?!1:this.isMenuLoaded?this.menu.length>0:!(this.user===ru()?.uid||this.userDoesNotExist||this.url)},showInitials(){return!this.noPlaceholder&&this.allowPlaceholder&&this.userDoesNotExist&&!(this.iconClass||this.$slots.icon)},avatarStyle(){return{"--size":this.size+"px",lineHeight:this.showInitials?this.size+"px":0,fontSize:Math.round(this.size*.45)+"px"}},initialsWrapperStyle(){const{r:n,g:m,b:A}=am(this.userIdentifier);return{backgroundColor:`rgba(${n}, ${m}, ${A}, 0.1)`}},initialsStyle(){const{r:n,g:m,b:A}=am(this.userIdentifier);return{color:`rgb(${n}, ${m}, ${A})`}},tooltip(){return this.disableTooltip?!1:this.tooltipMessage?this.tooltipMessage:this.displayName},initials(){let n="?";if(this.showInitials){const m=this.userIdentifier.trim();if(m==="")return n;const A=m.match(/[\p{L}\p{N}\s]/gu);if(A==null)return n;const ce=A.join(""),Ce=ce.lastIndexOf(" ");n=String.fromCodePoint(ce.codePointAt(0)),Ce!==-1&&(n=n.concat(String.fromCodePoint(ce.codePointAt(Ce+1))))}return n.toLocaleUpperCase()},menu(){const n=this.contactsMenuActions.map(A=>{const ce=Y1(this.$router,A.hyperlink);return{ncActionComponent:ce?G4:U4,ncActionComponentProps:ce?{to:ce,icon:A.icon}:{href:A.hyperlink,icon:A.icon},text:A.title}});for(const A of Zk(this.contactsMenuData))try{n.push({ncActionComponent:dk,ncActionComponentProps:{},ncActionComponentHandlers:{click:()=>A.callback(this.contactsMenuData)},text:A.displayName(this.contactsMenuData),iconSvg:A.iconSvg(this.contactsMenuData)})}catch(ce){Rk.error(`Failed to render ContactsMenu action ${A.id}`,{error:ce,action:A})}function m(A){const ce=document.createTextNode(A),Ce=document.createElement("p");return Ce.appendChild(ce),Ce.innerHTML}if(!this.hideStatus&&this.showUserStatus&&(this.userStatus.icon||this.userStatus.message)){const A=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
					<text x="50%" y="50%" text-anchor="middle" style="dominant-baseline: central; font-size: 85%">${m(this.userStatus.icon)}</text>
				</svg>`;return[{ncActionComponent:ek,ncActionComponentProps:{},iconSvg:this.userStatus.icon?A:void 0,text:`${this.userStatus.message}`}].concat(n)}return n}},watch:{url(){this.userDoesNotExist=!1,this.loadAvatarUrl()},user(){this.userDoesNotExist=!1,this.isMenuLoaded=!1,this.loadAvatarUrl()}},mounted(){this.loadAvatarUrl(),u0("settings:avatar:updated",this.loadAvatarUrl),u0("settings:display-name:updated",this.loadAvatarUrl),!this.hideStatus&&this.showUserStatus&&this.user&&!this.isNoUser&&(this.preloadedUserStatus?(this.userStatus.status=this.preloadedUserStatus.status||"",this.userStatus.message=this.preloadedUserStatus.message||"",this.userStatus.icon=this.preloadedUserStatus.icon||"",this.hasStatus=this.preloadedUserStatus.status!==null):this.fetchUserStatus(this.user),u0("user_status:status.updated",this.handleUserStatusUpdated))},beforeDestroy(){c0("settings:avatar:updated",this.loadAvatarUrl),c0("settings:display-name:updated",this.loadAvatarUrl),c0("user_status:status.updated",this.handleUserStatusUpdated)},methods:{t:Vo,handleUserStatusUpdated(n){this.user===n.userId&&(this.userStatus={status:n.status,icon:n.icon,message:n.message})},async toggleMenu(n){n.type==="keydown"&&n.key!=="Enter"||(this.contactsMenuOpenState||await this.fetchContactsMenu(),this.contactsMenuOpenState=!this.contactsMenuOpenState)},closeMenu(){this.contactsMenuOpenState=!1},async fetchContactsMenu(){this.contactsMenuLoading=!0;try{const n=encodeURIComponent(this.user),{data:m}=await Gl.post(Ac("contactsmenu/findOne"),`shareType=0&shareWith=${n}`);this.contactsMenuData=m,this.contactsMenuActions=m.topAction?[m.topAction].concat(m.actions):m.actions}catch{this.contactsMenuOpenState=!1}this.contactsMenuLoading=!1,this.isMenuLoaded=!0},loadAvatarUrl(){if(this.isAvatarLoaded=!1,!this.isUrlDefined&&(!this.isUserDefined||this.isNoUser||this.iconClass)){this.isAvatarLoaded=!0,this.userDoesNotExist=!0;return}if(this.isUrlDefined){this.updateImageIfValid(this.url);return}if(this.size<=64){const n=this.avatarUrlGenerator(this.user,64),m=[n+" 1x",this.avatarUrlGenerator(this.user,512)+" 8x"].join(", ");this.updateImageIfValid(n,m)}else{const n=this.avatarUrlGenerator(this.user,512);this.updateImageIfValid(n)}},avatarUrlGenerator(n,m){let A=Ck(n,m,this.isGuest);return n===ru()?.uid&&typeof oc_userconfig<"u"&&(A+="?v="+oc_userconfig.avatar.version),A},updateImageIfValid(n,m=null){const A=Kk(this.user);if(this.isUserDefined&&typeof A=="boolean"){this.isAvatarLoaded=!0,this.avatarUrlLoaded=n,m&&(this.avatarSrcSetLoaded=m),A===!1&&(this.userDoesNotExist=!0);return}const ce=new Image;ce.onload=()=>{this.avatarUrlLoaded=n,m&&(this.avatarSrcSetLoaded=m),this.isAvatarLoaded=!0,pm(this.user,!0)},ce.onerror=()=>{console.debug("Invalid avatar url",n),this.avatarUrlLoaded=null,this.avatarSrcSetLoaded=null,this.userDoesNotExist=!0,this.isAvatarLoaded=!1,pm(this.user,!1)},m&&(ce.srcset=m),ce.src=n}}};var Vk=function(){var n=this,m=n._self._c;return m("span",{directives:[{name:"click-outside",rawName:"v-click-outside",value:n.closeMenu,expression:"closeMenu"}],ref:"main",staticClass:"avatardiv popovermenu-wrapper",class:{"avatardiv--unknown":n.userDoesNotExist,"avatardiv--with-menu":n.hasMenu,"avatardiv--with-menu-loading":n.contactsMenuLoading},style:n.avatarStyle,attrs:{title:n.tooltip}},[n._t("icon",function(){return[n.iconClass?m("span",{staticClass:"avatar-class-icon",class:n.iconClass}):n.isAvatarLoaded&&!n.userDoesNotExist?m("img",{attrs:{src:n.avatarUrlLoaded,srcset:n.avatarSrcSetLoaded,alt:""}}):n._e()]}),n.hasMenu&&n.menu.length===0?m("NcButton",{staticClass:"action-item action-item__menutoggle",attrs:{"aria-label":n.avatarAriaLabel,variant:"tertiary-no-background"},on:{click:n.toggleMenu},scopedSlots:n._u([{key:"icon",fn:function(){return[n.contactsMenuLoading?m("NcLoadingIcon"):m("DotsHorizontal",{attrs:{size:20}})]},proxy:!0}],null,!1,2617833509)}):n.hasMenu?m("NcActions",{attrs:{"aria-label":n.avatarAriaLabel,container:n.menuContainer,"force-menu":"","manual-open":"",open:n.contactsMenuOpenState,variant:"tertiary-no-background"},on:{"update:open":function(A){n.contactsMenuOpenState=A},click:n.toggleMenu},scopedSlots:n._u([n.contactsMenuLoading?{key:"icon",fn:function(){return[m("NcLoadingIcon")]},proxy:!0}:null],null,!0)},n._l(n.menu,function(A,ce){return m(A.ncActionComponent,n._g(n._b({key:ce,tag:"component",scopedSlots:n._u([A.iconSvg?{key:"icon",fn:function(){return[m("NcIconSvgWrapper",{attrs:{svg:A.iconSvg}})]},proxy:!0}:null],null,!0)},"component",A.ncActionComponentProps,!1),A.ncActionComponentHandlers),[n._v(" "+n._s(A.text)+" ")])}),1):n._e(),n.showUserStatusIconOnAvatar?m("span",{staticClass:"avatardiv__user-status avatardiv__user-status--icon"},[n._v(" "+n._s(n.userStatus.icon)+" ")]):n.canDisplayUserStatus?m("NcUserStatusIcon",{staticClass:"avatardiv__user-status",attrs:{status:n.userStatus.status,"aria-hidden":String(n.hasMenu)}}):n._e(),n.showInitials?m("span",{staticClass:"avatardiv__initials-wrapper",style:n.initialsWrapperStyle},[m("span",{staticClass:"avatardiv__initials",style:n.initialsStyle},[n._v(" "+n._s(n.initials)+" ")])]):n._e()],2)},Yk=[],Gk=Ii($k,Vk,Yk,!1,null,"f132fa9c");const qk=Gk.exports,Xk=8,hm=32,Jk={name:"NcListItemIcon",components:{NcAvatar:qk,NcHighlight:bd,NcIconSvgWrapper:Pd},mixins:[eg],props:{name:{type:String,required:!0},subname:{type:String,default:""},icon:{type:String,default:""},iconSvg:{type:String,default:""},iconName:{type:String,default:""},search:{type:String,default:""},avatarSize:{type:Number,default:hm},noMargin:{type:Boolean,default:!1},displayName:{type:String,default:null},isNoUser:{type:Boolean,default:!1},id:{type:String,default:null}},setup(){return{margin:Xk,defaultSize:hm}},computed:{hasIcon(){return this.icon!==""},hasIconSvg(){return this.iconSvg!==""},isValidSubname(){return this.subname?.trim?.()!==""},isSizeBigEnough(){return this.avatarSize>=26},cssVars(){const n=this.noMargin?0:this.margin;return{"--height":this.avatarSize+2*n+"px","--margin":this.margin+"px"}},searchParts(){const n=/^([^<]*)<([^>]+)>?$/,m=this.search.match(n);return this.isNoUser||!m?[this.search,this.search]:[m[1].trim(),m[2]]}},beforeMount(){!this.isNoUser&&!this.subname&&this.fetchUserStatus(this.user)}};var Qk=function(){var n=this,m=n._self._c;return m("span",n._g({staticClass:"option",class:{"option--compact":n.avatarSize<n.defaultSize},style:n.cssVars,attrs:{id:n.id}},n.$listeners),[m("NcAvatar",n._b({staticClass:"option__avatar",attrs:{"disable-menu":!0,"disable-tooltip":!0,"display-name":n.displayName||n.name,"is-no-user":n.isNoUser,size:n.avatarSize}},"NcAvatar",n.$attrs,!1)),m("div",{staticClass:"option__details"},[m("NcHighlight",{staticClass:"option__lineone",attrs:{text:n.name,search:n.searchParts[0]}}),n.isValidSubname&&n.isSizeBigEnough?m("NcHighlight",{staticClass:"option__linetwo",attrs:{text:n.subname,search:n.searchParts[1]}}):n.hasStatus?m("span",[m("span",[n._v(n._s(n.userStatus.icon))]),m("span",[n._v(n._s(n.userStatus.message))])]):n._e()],1),n._t("default",function(){return[n.hasIconSvg?m("NcIconSvgWrapper",{staticClass:"option__icon",attrs:{svg:n.iconSvg,name:n.iconName}}):n.hasIcon?m("span",{staticClass:"icon option__icon",class:n.icon,attrs:{"aria-label":n.iconName}}):n._e()]})],2)},e8=[],t8=Ii(Jk,Qk,e8,!1,null,"a0f4d73a");const n8=t8.exports;bl(Fx,Hx);const r8={name:"NcSelect",components:{ChevronDown:F3,NcEllipsisedOption:Y3,NcListItemIcon:n8,NcLoadingIcon:J0,VueSelect:ic.VueSelect},model:{prop:"modelValue",event:"update:modelValue"},props:{...ic.VueSelect.props,...ic.VueSelect.mixins.reduce((n,m)=>({...n,...m.props}),{}),ariaLabelClearSelected:{type:String,default:Vo("Clear selected")},ariaLabelCombobox:{type:String,default:null},ariaLabelListbox:{type:String,default:Vo("Options")},ariaLabelDeselectOption:{type:Function,default:n=>Vo("Deselect {option}",{option:n})},appendToBody:{type:Boolean,default:!0},calculatePosition:{type:Function,default:null},closeOnSelect:{type:Boolean,default:!0},keepOpen:{type:Boolean,default:!1},components:{type:Object,default:()=>({Deselect:{render:n=>n(Q0,{props:{size:20,fillColor:"var(--vs-controls-color)"},style:{cursor:"pointer"}})}})},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},dropdownShouldOpen:{type:Function,default:({noDrop:n,open:m})=>n?!1:m},filterBy:{type:Function,default:null},inputClass:{type:[String,Object],default:null},inputId:{type:String,default:()=>`select-input-${Ku()}`},inputLabel:{type:String,default:null},labelOutside:{type:Boolean,default:!1},keyboardFocusBorder:{type:Boolean,default:!0},label:{type:String,default:null},loading:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},placeholder:{type:String,default:""},mapKeydown:{type:Function,default(n,m){return{...n,27:A=>{m.open&&A.stopPropagation(),n[27](A)}}}},uid:{type:String,default:()=>Ku()},placement:{type:String,default:"bottom"},resetFocusOnOptionsChange:{type:Boolean,default:!0},userSelect:{type:Boolean,default:!1},value:{type:[String,Number,Object,Array],default:void 0},modelValue:{type:[String,Number,Object,Array],default:null},required:{type:Boolean,default:!1}," ":{}},emits:[" ","input","update:modelValue","update:model-value"],setup(){const n=Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--default-clickable-area")),m=Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--default-grid-baseline")),A=n-2*m,ce=Wx("value","input");return{avatarSize:A,model:ce}},data(){return{search:""}},computed:{inputRequired(){return this.required?this.model===null||Array.isArray(this.model)&&this.model.length===0:null},localCalculatePosition(){return this.calculatePosition!==null?this.calculatePosition:(n,m,{width:A})=>{n.style.width=A;const ce={name:"addClass",fn(Ge){return n.classList.add("vs__dropdown-menu--floating"),{}}},Ce={name:"togglePlacementClass",fn({placement:Ge}){return m.$el.classList.toggle("select--drop-up",Ge==="top"),n.classList.toggle("vs__dropdown-menu--floating-placement-top",Ge==="top"),{}}},Ne=()=>{z3(m.$refs.toggle,n,{placement:this.placement,middleware:[L3(-1),ce,Ce,R3(),A3({limiter:Z3()})]}).then(({x:Ge,y:$e})=>{Object.assign(n.style,{left:`${Ge}px`,top:`${$e}px`,width:`${m.$refs.toggle.getBoundingClientRect().width}px`})})};return D3(m.$refs.toggle,n,Ne)}},localFilterBy(){const n=/[^<]*<([^>]+)/;return this.filterBy!==null?this.filterBy:this.userSelect?(m,A,ce)=>{const Ce=ce.match(n);return Ce&&m.subname?.toLocaleLowerCase?.()?.indexOf(Ce[1].toLocaleLowerCase())>-1||`${A} ${m.subname}`.toLocaleLowerCase().indexOf(ce.toLocaleLowerCase())>-1}:ic.VueSelect.props.filterBy.default},localLabel(){return this.label!==null?this.label:this.userSelect?"displayName":ic.VueSelect.props.label.default},propsToForward(){const n=[...Object.keys(ic.VueSelect.props),...ic.VueSelect.mixins.flatMap(m=>Object.keys(m.props??{}))];return{...Object.fromEntries(Object.entries(this.$props).filter(([m,A])=>n.includes(m))),value:this.model,calculatePosition:this.localCalculatePosition,closeOnSelect:this.closeOnSelect&&!this.keepOpen,filterBy:this.localFilterBy,label:this.localLabel}},listenersToForward(){return{...this.$listeners,input:n=>{this.model=n}}}},mounted(){!this.labelOutside&&!this.inputLabel&&!this.ariaLabelCombobox&&zl.util.warn("[NcSelect] An `inputLabel` or `ariaLabelCombobox` should be set. If an external label is used, `labelOutside` should be set to `true`."),this.inputLabel&&this.ariaLabelCombobox&&zl.util.warn("[NcSelect] Only one of `inputLabel` or `ariaLabelCombobox` should to be set.")},methods:{t:Vo}};var o8=function(){var n=this,m=n._self._c;return m("VueSelect",n._g(n._b({staticClass:"select",class:{"select--no-wrap":n.noWrap,"user-select":n.userSelect},on:{search:A=>n.search=A},scopedSlots:n._u([!n.labelOutside&&n.inputLabel?{key:"header",fn:function(){return[m("label",{staticClass:"select__label",attrs:{for:n.inputId}},[n._v(" "+n._s(n.inputLabel)+" ")])]},proxy:!0}:null,{key:"search",fn:function({attributes:A,events:ce}){return[m("input",n._g(n._b({class:["vs__search",n.inputClass],attrs:{required:n.inputRequired,dir:"auto"}},"input",A,!1),ce))]}},{key:"open-indicator",fn:function({attributes:A}){return[m("ChevronDown",n._b({style:{cursor:n.disabled?null:"pointer"},attrs:{"fill-color":"var(--vs-controls-color)",size:26}},"ChevronDown",A,!1))]}},{key:"option",fn:function(A){return[n._t("option",function(){return[n.userSelect?m("NcListItemIcon",n._b({attrs:{"avatar-size":32,name:A[n.localLabel],search:n.search}},"NcListItemIcon",A,!1)):m("NcEllipsisedOption",{attrs:{name:String(A[n.localLabel]),search:n.search}})]},null,A)]}},{key:"selected-option",fn:function(A){return[n._t("selected-option",function(){return[n.userSelect?m("NcListItemIcon",n._b({attrs:{"avatar-size":n.avatarSize,name:A[n.localLabel],"no-margin":"",search:n.search}},"NcListItemIcon",A,!1)):m("NcEllipsisedOption",{attrs:{name:String(A[n.localLabel]),search:n.search}})]},{vBind:A})]}},{key:"spinner",fn:function(A){return[A.loading?m("NcLoadingIcon"):n._e()]}},{key:"no-options",fn:function(){return[n._v(" "+n._s(n.t("No results"))+" ")]},proxy:!0},n._l(n.$scopedSlots,function(A,ce){return{key:ce,fn:function(Ce){return[n._t(ce,null,null,Ce)]}}})],null,!0)},"VueSelect",n.propsToForward,!1),n.listenersToForward))},i8=[],a8=Ii(r8,o8,i8,!1,null,null);const ng=a8.exports;function Yl(n,m){for(var A in m)n[A]=m[A];return n}var l8=/[!'()*]/g,s8=function(n){return"%"+n.charCodeAt(0).toString(16)},c8=/%2C/g,Sc=function(n){return encodeURIComponent(n).replace(l8,s8).replace(c8,",")};function H0(n){try{return decodeURIComponent(n)}catch{}return n}function u8(n,m,A){m===void 0&&(m={});var ce=A||d8,Ce;try{Ce=ce(n||"")}catch{Ce={}}for(var Ne in m){var Ge=m[Ne];Ce[Ne]=Array.isArray(Ge)?Ge.map(mm):mm(Ge)}return Ce}var mm=function(n){return n==null||typeof n=="object"?n:String(n)};function d8(n){var m={};return n=n.trim().replace(/^(\?|#|&)/,""),n&&n.split("&").forEach(function(A){var ce=A.replace(/\+/g," ").split("="),Ce=H0(ce.shift()),Ne=ce.length>0?H0(ce.join("=")):null;m[Ce]===void 0?m[Ce]=Ne:Array.isArray(m[Ce])?m[Ce].push(Ne):m[Ce]=[m[Ce],Ne]}),m}function f8(n){var m=n?Object.keys(n).map(function(A){var ce=n[A];if(ce===void 0)return"";if(ce===null)return Sc(A);if(Array.isArray(ce)){var Ce=[];return ce.forEach(function(Ne){Ne!==void 0&&(Ne===null?Ce.push(Sc(A)):Ce.push(Sc(A)+"="+Sc(Ne)))}),Ce.join("&")}return Sc(A)+"="+Sc(ce)}).filter(function(A){return A.length>0}).join("&"):null;return m?"?"+m:""}var ld=/\/?$/;function sd(n,m,A,ce){var Ce=ce&&ce.options.stringifyQuery,Ne=m.query||{};try{Ne=F0(Ne)}catch{}var Ge={name:m.name||n&&n.name,meta:n&&n.meta||{},path:m.path||"/",hash:m.hash||"",query:Ne,params:m.params||{},fullPath:gm(m,Ce),matched:n?p8(n):[]};return A&&(Ge.redirectedFrom=gm(A,Ce)),Object.freeze(Ge)}function F0(n){if(Array.isArray(n))return n.map(F0);if(n&&typeof n=="object"){var m={};for(var A in n)m[A]=F0(n[A]);return m}else return n}var Xs=sd(null,{path:"/"});function p8(n){for(var m=[];n;)m.unshift(n),n=n.parent;return m}function gm(n,m){var A=n.path,ce=n.query;ce===void 0&&(ce={});var Ce=n.hash;Ce===void 0&&(Ce="");var Ne=m||f8;return(A||"/")+Ne(ce)+Ce}function rg(n,m,A){return m===Xs?n===m:m?n.path&&m.path?n.path.replace(ld,"")===m.path.replace(ld,"")&&(A||n.hash===m.hash&&zu(n.query,m.query)):n.name&&m.name?n.name===m.name&&(A||n.hash===m.hash&&zu(n.query,m.query)&&zu(n.params,m.params)):!1:!1}function zu(n,m){if(n===void 0&&(n={}),m===void 0&&(m={}),!n||!m)return n===m;var A=Object.keys(n).sort(),ce=Object.keys(m).sort();return A.length!==ce.length?!1:A.every(function(Ce,Ne){var Ge=n[Ce],$e=ce[Ne];if($e!==Ce)return!1;var mt=m[Ce];return Ge==null||mt==null?Ge===mt:typeof Ge=="object"&&typeof mt=="object"?zu(Ge,mt):String(Ge)===String(mt)})}function h8(n,m){return n.path.replace(ld,"/").indexOf(m.path.replace(ld,"/"))===0&&(!m.hash||n.hash===m.hash)&&m8(n.query,m.query)}function m8(n,m){for(var A in m)if(!(A in n))return!1;return!0}function og(n){for(var m=0;m<n.matched.length;m++){var A=n.matched[m];for(var ce in A.instances){var Ce=A.instances[ce],Ne=A.enteredCbs[ce];if(!(!Ce||!Ne)){delete A.enteredCbs[ce];for(var Ge=0;Ge<Ne.length;Ge++)Ce._isBeingDestroyed||Ne[Ge](Ce)}}}}var g8={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,m){var A=m.props,ce=m.children,Ce=m.parent,Ne=m.data;Ne.routerView=!0;for(var Ge=Ce.$createElement,$e=A.name,mt=Ce.$route,yt=Ce._routerViewCache||(Ce._routerViewCache={}),Et=0,ft=!1;Ce&&Ce._routerRoot!==Ce;){var We=Ce.$vnode?Ce.$vnode.data:{};We.routerView&&Et++,We.keepAlive&&Ce._directInactive&&Ce._inactive&&(ft=!0),Ce=Ce.$parent}if(Ne.routerViewDepth=Et,ft){var te=yt[$e],t=te&&te.component;return t?(te.configProps&&vm(t,Ne,te.route,te.configProps),Ge(t,Ne,ce)):Ge()}var e=mt.matched[Et],w=e&&e.components[$e];if(!e||!w)return yt[$e]=null,Ge();yt[$e]={component:w},Ne.registerRouteInstance=function(d,b){var T=e.instances[$e];(b&&T!==d||!b&&T===d)&&(e.instances[$e]=b)},(Ne.hook||(Ne.hook={})).prepatch=function(d,b){e.instances[$e]=b.componentInstance},Ne.hook.init=function(d){d.data.keepAlive&&d.componentInstance&&d.componentInstance!==e.instances[$e]&&(e.instances[$e]=d.componentInstance),og(mt)};var v=e.props&&e.props[$e];return v&&(Yl(yt[$e],{route:mt,configProps:v}),vm(w,Ne,mt,v)),Ge(w,Ne,ce)}};function vm(n,m,A,ce){var Ce=m.props=v8(A,ce);if(Ce){Ce=m.props=Yl({},Ce);var Ne=m.attrs=m.attrs||{};for(var Ge in Ce)(!n.props||!(Ge in n.props))&&(Ne[Ge]=Ce[Ge],delete Ce[Ge])}}function v8(n,m){switch(typeof m){case"undefined":return;case"object":return m;case"function":return m(n);case"boolean":return m?n.params:void 0}}function ig(n,m,A){var ce=n.charAt(0);if(ce==="/")return n;if(ce==="?"||ce==="#")return m+n;var Ce=m.split("/");(!A||!Ce[Ce.length-1])&&Ce.pop();for(var Ne=n.replace(/^\//,"").split("/"),Ge=0;Ge<Ne.length;Ge++){var $e=Ne[Ge];$e===".."?Ce.pop():$e!=="."&&Ce.push($e)}return Ce[0]!==""&&Ce.unshift(""),Ce.join("/")}function b8(n){var m="",A="",ce=n.indexOf("#");ce>=0&&(m=n.slice(ce),n=n.slice(0,ce));var Ce=n.indexOf("?");return Ce>=0&&(A=n.slice(Ce+1),n=n.slice(0,Ce)),{path:n,query:A,hash:m}}function $s(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var cd=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"},_c=sg,y8=gf,x8=S8,w8=ag,k8=lg,E8=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function gf(n,m){for(var A=[],ce=0,Ce=0,Ne="",Ge=m&&m.delimiter||"/",$e;($e=E8.exec(n))!=null;){var mt=$e[0],yt=$e[1],Et=$e.index;if(Ne+=n.slice(Ce,Et),Ce=Et+mt.length,yt){Ne+=yt[1];continue}var ft=n[Ce],We=$e[2],te=$e[3],t=$e[4],e=$e[5],w=$e[6],v=$e[7];Ne&&(A.push(Ne),Ne="");var d=We!=null&&ft!=null&&ft!==We,b=w==="+"||w==="*",T=w==="?"||w==="*",S=$e[2]||Ge,a=t||e;A.push({name:te||ce++,prefix:We||"",delimiter:S,optional:T,repeat:b,partial:d,asterisk:!!v,pattern:a?j8(a):v?".*":"[^"+Nu(S)+"]+?"})}return Ce<n.length&&(Ne+=n.substr(Ce)),Ne&&A.push(Ne),A}function S8(n,m){return ag(gf(n,m),m)}function _8(n){return encodeURI(n).replace(/[\/?#]/g,function(m){return"%"+m.charCodeAt(0).toString(16).toUpperCase()})}function C8(n){return encodeURI(n).replace(/[?#]/g,function(m){return"%"+m.charCodeAt(0).toString(16).toUpperCase()})}function ag(n,m){for(var A=new Array(n.length),ce=0;ce<n.length;ce++)typeof n[ce]=="object"&&(A[ce]=new RegExp("^(?:"+n[ce].pattern+")$",bf(m)));return function(Ce,Ne){for(var Ge="",$e=Ce||{},mt=Ne||{},yt=mt.pretty?_8:encodeURIComponent,Et=0;Et<n.length;Et++){var ft=n[Et];if(typeof ft=="string"){Ge+=ft;continue}var We=$e[ft.name],te;if(We==null)if(ft.optional){ft.partial&&(Ge+=ft.prefix);continue}else throw new TypeError('Expected "'+ft.name+'" to be defined');if(cd(We)){if(!ft.repeat)throw new TypeError('Expected "'+ft.name+'" to not repeat, but received `'+JSON.stringify(We)+"`");if(We.length===0){if(ft.optional)continue;throw new TypeError('Expected "'+ft.name+'" to not be empty')}for(var t=0;t<We.length;t++){if(te=yt(We[t]),!A[Et].test(te))throw new TypeError('Expected all "'+ft.name+'" to match "'+ft.pattern+'", but received `'+JSON.stringify(te)+"`");Ge+=(t===0?ft.prefix:ft.delimiter)+te}continue}if(te=ft.asterisk?C8(We):yt(We),!A[Et].test(te))throw new TypeError('Expected "'+ft.name+'" to match "'+ft.pattern+'", but received "'+te+'"');Ge+=ft.prefix+te}return Ge}}function Nu(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function j8(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function vf(n,m){return n.keys=m,n}function bf(n){return n&&n.sensitive?"":"i"}function O8(n,m){var A=n.source.match(/\((?!\?)/g);if(A)for(var ce=0;ce<A.length;ce++)m.push({name:ce,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return vf(n,m)}function M8(n,m,A){for(var ce=[],Ce=0;Ce<n.length;Ce++)ce.push(sg(n[Ce],m,A).source);var Ne=new RegExp("(?:"+ce.join("|")+")",bf(A));return vf(Ne,m)}function T8(n,m,A){return lg(gf(n,A),m,A)}function lg(n,m,A){cd(m)||(A=m||A,m=[]),A=A||{};for(var ce=A.strict,Ce=A.end!==!1,Ne="",Ge=0;Ge<n.length;Ge++){var $e=n[Ge];if(typeof $e=="string")Ne+=Nu($e);else{var mt=Nu($e.prefix),yt="(?:"+$e.pattern+")";m.push($e),$e.repeat&&(yt+="(?:"+mt+yt+")*"),$e.optional?$e.partial?yt=mt+"("+yt+")?":yt="(?:"+mt+"("+yt+"))?":yt=mt+"("+yt+")",Ne+=yt}}var Et=Nu(A.delimiter||"/"),ft=Ne.slice(-Et.length)===Et;return ce||(Ne=(ft?Ne.slice(0,-Et.length):Ne)+"(?:"+Et+"(?=$))?"),Ce?Ne+="$":Ne+=ce&&ft?"":"(?="+Et+"|$)",vf(new RegExp("^"+Ne,bf(A)),m)}function sg(n,m,A){return cd(m)||(A=m||A,m=[]),A=A||{},n instanceof RegExp?O8(n,m):cd(n)?M8(n,m,A):T8(n,m,A)}_c.parse=y8,_c.compile=x8,_c.tokensToFunction=w8,_c.tokensToRegExp=k8;var bm=Object.create(null);function Bu(n,m,A){m=m||{};try{var ce=bm[n]||(bm[n]=_c.compile(n));return typeof m.pathMatch=="string"&&(m[0]=m.pathMatch),ce(m,{pretty:!0})}catch{return""}finally{delete m[0]}}function yf(n,m,A,ce){var Ce=typeof n=="string"?{path:n}:n;if(Ce._normalized)return Ce;if(Ce.name){Ce=Yl({},n);var Ne=Ce.params;return Ne&&typeof Ne=="object"&&(Ce.params=Yl({},Ne)),Ce}if(!Ce.path&&Ce.params&&m){Ce=Yl({},Ce),Ce._normalized=!0;var Ge=Yl(Yl({},m.params),Ce.params);if(m.name)Ce.name=m.name,Ce.params=Ge;else if(m.matched.length){var $e=m.matched[m.matched.length-1].path;Ce.path=Bu($e,Ge,"path "+m.path)}return Ce}var mt=b8(Ce.path||""),yt=m&&m.path||"/",Et=mt.path?ig(mt.path,yt,A||Ce.append):yt,ft=u8(mt.query,Ce.query,ce&&ce.options.parseQuery),We=Ce.hash||mt.hash;return We&&We.charAt(0)!=="#"&&(We="#"+We),{_normalized:!0,path:Et,query:ft,hash:We}}var P8=[String,Object],I8=[String,Array],ym=function(){},cg={name:"RouterLink",props:{to:{type:P8,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:I8,default:"click"}},render:function(n){var m=this,A=this.$router,ce=this.$route,Ce=A.resolve(this.to,ce,this.append),Ne=Ce.location,Ge=Ce.route,$e=Ce.href,mt={},yt=A.options.linkActiveClass,Et=A.options.linkExactActiveClass,ft=yt??"router-link-active",We=Et??"router-link-exact-active",te=this.activeClass==null?ft:this.activeClass,t=this.exactActiveClass==null?We:this.exactActiveClass,e=Ge.redirectedFrom?sd(null,yf(Ge.redirectedFrom),null,A):Ge;mt[t]=rg(ce,e,this.exactPath),mt[te]=this.exact||this.exactPath?mt[t]:h8(ce,e);var w=mt[t]?this.ariaCurrentValue:null,v=function(h){xm(h)&&(m.replace?A.replace(Ne,ym):A.push(Ne,ym))},d={click:xm};Array.isArray(this.event)?this.event.forEach(function(h){d[h]=v}):d[this.event]=v;var b={class:mt},T=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:$e,route:Ge,navigate:v,isActive:mt[te],isExactActive:mt[t]});if(T){if(T.length===1)return T[0];if(T.length>1||!T.length)return T.length===0?n():n("span",{},T)}if(this.tag==="a")b.on=d,b.attrs={href:$e,"aria-current":w};else{var S=ug(this.$slots.default);if(S){S.isStatic=!1;var a=S.data=Yl({},S.data);a.on=a.on||{};for(var c in a.on){var Z=a.on[c];c in d&&(a.on[c]=Array.isArray(Z)?Z:[Z])}for(var F in d)F in a.on?a.on[F].push(d[F]):a.on[F]=v;var _=S.data.attrs=Yl({},S.data.attrs);_.href=$e,_["aria-current"]=w}else b.on=d}return n(this.tag,b,this.$slots.default)}};function xm(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){var m=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(m))return}return n.preventDefault&&n.preventDefault(),!0}}function ug(n){if(n){for(var m,A=0;A<n.length;A++)if(m=n[A],m.tag==="a"||m.children&&(m=ug(m.children)))return m}}var ud;function U0(n){if(!(U0.installed&&ud===n)){U0.installed=!0,ud=n;var m=function(Ce){return Ce!==void 0},A=function(Ce,Ne){var Ge=Ce.$options._parentVnode;m(Ge)&&m(Ge=Ge.data)&&m(Ge=Ge.registerRouteInstance)&&Ge(Ce,Ne)};n.mixin({beforeCreate:function(){m(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),n.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,A(this,this)},destroyed:function(){A(this)}}),Object.defineProperty(n.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(n.prototype,"$route",{get:function(){return this._routerRoot._route}}),n.component("RouterView",g8),n.component("RouterLink",cg);var ce=n.config.optionMergeStrategies;ce.beforeRouteEnter=ce.beforeRouteLeave=ce.beforeRouteUpdate=ce.created}}var du=typeof window<"u";function Lu(n,m,A,ce,Ce){var Ne=m||[],Ge=A||Object.create(null),$e=ce||Object.create(null);n.forEach(function(Et){K0(Ne,Ge,$e,Et,Ce)});for(var mt=0,yt=Ne.length;mt<yt;mt++)Ne[mt]==="*"&&(Ne.push(Ne.splice(mt,1)[0]),yt--,mt--);return{pathList:Ne,pathMap:Ge,nameMap:$e}}function K0(n,m,A,ce,Ce,Ne){var Ge=ce.path,$e=ce.name,mt=ce.pathToRegexpOptions||{},yt=L8(Ge,Ce,mt.strict);typeof ce.caseSensitive=="boolean"&&(mt.sensitive=ce.caseSensitive);var Et={path:yt,regex:D8(yt,mt),components:ce.components||{default:ce.component},alias:ce.alias?typeof ce.alias=="string"?[ce.alias]:ce.alias:[],instances:{},enteredCbs:{},name:$e,parent:Ce,matchAs:Ne,redirect:ce.redirect,beforeEnter:ce.beforeEnter,meta:ce.meta||{},props:ce.props==null?{}:ce.components?ce.props:{default:ce.props}};if(ce.children&&ce.children.forEach(function(e){var w=Ne?$s(Ne+"/"+e.path):void 0;K0(n,m,A,e,Et,w)}),m[Et.path]||(n.push(Et.path),m[Et.path]=Et),ce.alias!==void 0)for(var ft=Array.isArray(ce.alias)?ce.alias:[ce.alias],We=0;We<ft.length;++We){var te=ft[We],t={path:te,children:ce.children};K0(n,m,A,t,Ce,Et.path||"/")}$e&&(A[$e]||(A[$e]=Et))}function D8(n,m){var A=_c(n,[],m);return A}function L8(n,m,A){return A||(n=n.replace(/\/$/,"")),n[0]==="/"||m==null?n:$s(m.path+"/"+n)}function A8(n,m){var A=Lu(n),ce=A.pathList,Ce=A.pathMap,Ne=A.nameMap;function Ge(te){Lu(te,ce,Ce,Ne)}function $e(te,t){var e=typeof te!="object"?Ne[te]:void 0;Lu([t||te],ce,Ce,Ne,e),e&&e.alias.length&&Lu(e.alias.map(function(w){return{path:w,children:[t]}}),ce,Ce,Ne,e)}function mt(){return ce.map(function(te){return Ce[te]})}function yt(te,t,e){var w=yf(te,t,!1,m),v=w.name;if(v){var d=Ne[v];if(!d)return We(null,w);var b=d.regex.keys.filter(function(Z){return!Z.optional}).map(function(Z){return Z.name});if(typeof w.params!="object"&&(w.params={}),t&&typeof t.params=="object")for(var T in t.params)!(T in w.params)&&b.indexOf(T)>-1&&(w.params[T]=t.params[T]);return w.path=Bu(d.path,w.params),We(d,w,e)}else if(w.path){w.params={};for(var S=0;S<ce.length;S++){var a=ce[S],c=Ce[a];if(R8(c.regex,w.path,w.params))return We(c,w,e)}}return We(null,w)}function Et(te,t){var e=te.redirect,w=typeof e=="function"?e(sd(te,t,null,m)):e;if(typeof w=="string"&&(w={path:w}),!w||typeof w!="object")return We(null,t);var v=w,d=v.name,b=v.path,T=t.query,S=t.hash,a=t.params;if(T=v.hasOwnProperty("query")?v.query:T,S=v.hasOwnProperty("hash")?v.hash:S,a=v.hasOwnProperty("params")?v.params:a,d)return Ne[d],yt({_normalized:!0,name:d,query:T,hash:S,params:a},void 0,t);if(b){var c=Z8(b,te),Z=Bu(c,a);return yt({_normalized:!0,path:Z,query:T,hash:S},void 0,t)}else return We(null,t)}function ft(te,t,e){var w=Bu(e,t.params),v=yt({_normalized:!0,path:w});if(v){var d=v.matched,b=d[d.length-1];return t.params=v.params,We(b,t)}return We(null,t)}function We(te,t,e){return te&&te.redirect?Et(te,e||t):te&&te.matchAs?ft(te,t,te.matchAs):sd(te,t,e,m)}return{match:yt,addRoute:$e,getRoutes:mt,addRoutes:Ge}}function R8(n,m,A){var ce=m.match(n);if(ce){if(!A)return!0}else return!1;for(var Ce=1,Ne=ce.length;Ce<Ne;++Ce){var Ge=n.keys[Ce-1];Ge&&(A[Ge.name||"pathMatch"]=typeof ce[Ce]=="string"?H0(ce[Ce]):ce[Ce])}return!0}function Z8(n,m){return ig(n,m.parent?m.parent.path:"/",!0)}var z8=du&&window.performance&&window.performance.now?window.performance:Date;function dg(){return z8.now().toFixed(3)}var fg=dg();function Id(){return fg}function pg(n){return fg=n}var hg=Object.create(null);function mg(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,m=window.location.href.replace(n,""),A=Yl({},window.history.state);return A.key=Id(),window.history.replaceState(A,"",m),window.addEventListener("popstate",wm),function(){window.removeEventListener("popstate",wm)}}function Vs(n,m,A,ce){if(n.app){var Ce=n.options.scrollBehavior;Ce&&n.app.$nextTick(function(){var Ne=N8(),Ge=Ce.call(n,m,A,ce?Ne:null);Ge&&(typeof Ge.then=="function"?Ge.then(function($e){Sm($e,Ne)}).catch(function($e){}):Sm(Ge,Ne))})}}function gg(){var n=Id();n&&(hg[n]={x:window.pageXOffset,y:window.pageYOffset})}function wm(n){gg(),n.state&&n.state.key&&pg(n.state.key)}function N8(){var n=Id();if(n)return hg[n]}function B8(n,m){var A=document.documentElement,ce=A.getBoundingClientRect(),Ce=n.getBoundingClientRect();return{x:Ce.left-ce.left-m.x,y:Ce.top-ce.top-m.y}}function km(n){return Dc(n.x)||Dc(n.y)}function Em(n){return{x:Dc(n.x)?n.x:window.pageXOffset,y:Dc(n.y)?n.y:window.pageYOffset}}function W8(n){return{x:Dc(n.x)?n.x:0,y:Dc(n.y)?n.y:0}}function Dc(n){return typeof n=="number"}var H8=/^#\d/;function Sm(n,m){var A=typeof n=="object";if(A&&typeof n.selector=="string"){var ce=H8.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(ce){var Ce=n.offset&&typeof n.offset=="object"?n.offset:{};Ce=W8(Ce),m=B8(ce,Ce)}else km(n)&&(m=Em(n))}else A&&km(n)&&(m=Em(n));m&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:m.x,top:m.y,behavior:n.behavior}):window.scrollTo(m.x,m.y))}var Ys=du&&function(){var n=window.navigator.userAgent;return(n.indexOf("Android 2.")!==-1||n.indexOf("Android 4.0")!==-1)&&n.indexOf("Mobile Safari")!==-1&&n.indexOf("Chrome")===-1&&n.indexOf("Windows Phone")===-1?!1:window.history&&typeof window.history.pushState=="function"}();function dd(n,m){gg();var A=window.history;try{if(m){var ce=Yl({},A.state);ce.key=Id(),A.replaceState(ce,"",n)}else A.pushState({key:pg(dg())},"",n)}catch{window.location[m?"replace":"assign"](n)}}function $0(n){dd(n,!0)}var vc={redirected:2,aborted:4,cancelled:8,duplicated:16};function F8(n,m){return Dd(n,m,vc.redirected,'Redirected when going from "'+n.fullPath+'" to "'+V8(m)+'" via a navigation guard.')}function U8(n,m){var A=Dd(n,m,vc.duplicated,'Avoided redundant navigation to current location: "'+n.fullPath+'".');return A.name="NavigationDuplicated",A}function _m(n,m){return Dd(n,m,vc.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+m.fullPath+'" with a new navigation.')}function K8(n,m){return Dd(n,m,vc.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+m.fullPath+'" via a navigation guard.')}function Dd(n,m,A,ce){var Ce=new Error(ce);return Ce._isRouter=!0,Ce.from=n,Ce.to=m,Ce.type=A,Ce}var $8=["params","query","hash"];function V8(n){if(typeof n=="string")return n;if("path"in n)return n.path;var m={};return $8.forEach(function(A){A in n&&(m[A]=n[A])}),JSON.stringify(m,null,2)}function fd(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function pd(n,m){return fd(n)&&n._isRouter&&(m==null||n.type===m)}function Cm(n,m,A){var ce=function(Ce){Ce>=n.length?A():n[Ce]?m(n[Ce],function(){ce(Ce+1)}):ce(Ce+1)};ce(0)}function Y8(n){return function(m,A,ce){var Ce=!1,Ne=0,Ge=null;vg(n,function($e,mt,yt,Et){if(typeof $e=="function"&&$e.cid===void 0){Ce=!0,Ne++;var ft=jm(function(e){q8(e)&&(e=e.default),$e.resolved=typeof e=="function"?e:ud.extend(e),yt.components[Et]=e,Ne--,Ne<=0&&ce()}),We=jm(function(e){var w="Failed to resolve async component "+Et+": "+e;Ge||(Ge=fd(e)?e:new Error(w),ce(Ge))}),te;try{te=$e(ft,We)}catch(e){We(e)}if(te)if(typeof te.then=="function")te.then(ft,We);else{var t=te.component;t&&typeof t.then=="function"&&t.then(ft,We)}}}),Ce||ce()}}function vg(n,m){return bg(n.map(function(A){return Object.keys(A.components).map(function(ce){return m(A.components[ce],A.instances[ce],A,ce)})}))}function bg(n){return Array.prototype.concat.apply([],n)}var G8=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";function q8(n){return n.__esModule||G8&&n[Symbol.toStringTag]==="Module"}function jm(n){var m=!1;return function(){for(var A=[],ce=arguments.length;ce--;)A[ce]=arguments[ce];if(!m)return m=!0,n.apply(this,A)}}var Kl=function(n,m){this.router=n,this.base=X8(m),this.current=Xs,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};Kl.prototype.listen=function(n){this.cb=n},Kl.prototype.onReady=function(n,m){this.ready?n():(this.readyCbs.push(n),m&&this.readyErrorCbs.push(m))},Kl.prototype.onError=function(n){this.errorCbs.push(n)},Kl.prototype.transitionTo=function(n,m,A){var ce=this,Ce;try{Ce=this.router.match(n,this.current)}catch(Ge){throw this.errorCbs.forEach(function($e){$e(Ge)}),Ge}var Ne=this.current;this.confirmTransition(Ce,function(){ce.updateRoute(Ce),m&&m(Ce),ce.ensureURL(),ce.router.afterHooks.forEach(function(Ge){Ge&&Ge(Ce,Ne)}),ce.ready||(ce.ready=!0,ce.readyCbs.forEach(function(Ge){Ge(Ce)}))},function(Ge){A&&A(Ge),Ge&&!ce.ready&&(!pd(Ge,vc.redirected)||Ne!==Xs)&&(ce.ready=!0,ce.readyErrorCbs.forEach(function($e){$e(Ge)}))})},Kl.prototype.confirmTransition=function(n,m,A){var ce=this,Ce=this.current;this.pending=n;var Ne=function(t){!pd(t)&&fd(t)&&(ce.errorCbs.length?ce.errorCbs.forEach(function(e){e(t)}):console.error(t)),A&&A(t)},Ge=n.matched.length-1,$e=Ce.matched.length-1;if(rg(n,Ce)&&Ge===$e&&n.matched[Ge]===Ce.matched[$e])return this.ensureURL(),n.hash&&Vs(this.router,Ce,n,!1),Ne(U8(Ce,n));var mt=J8(this.current.matched,n.matched),yt=mt.updated,Et=mt.deactivated,ft=mt.activated,We=[].concat(e7(Et),this.router.beforeHooks,t7(yt),ft.map(function(t){return t.beforeEnter}),Y8(ft)),te=function(t,e){if(ce.pending!==n)return Ne(_m(Ce,n));try{t(n,Ce,function(w){w===!1?(ce.ensureURL(!0),Ne(K8(Ce,n))):fd(w)?(ce.ensureURL(!0),Ne(w)):typeof w=="string"||typeof w=="object"&&(typeof w.path=="string"||typeof w.name=="string")?(Ne(F8(Ce,n)),typeof w=="object"&&w.replace?ce.replace(w):ce.push(w)):e(w)})}catch(w){Ne(w)}};Cm(We,te,function(){var t=n7(ft),e=t.concat(ce.router.resolveHooks);Cm(e,te,function(){if(ce.pending!==n)return Ne(_m(Ce,n));ce.pending=null,m(n),ce.router.app&&ce.router.app.$nextTick(function(){og(n)})})})},Kl.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Kl.prototype.setupListeners=function(){},Kl.prototype.teardown=function(){this.listeners.forEach(function(n){n()}),this.listeners=[],this.current=Xs,this.pending=null};function X8(n){if(!n)if(du){var m=document.querySelector("base");n=m&&m.getAttribute("href")||"/",n=n.replace(/^https?:\/\/[^\/]+/,"")}else n="/";return n.charAt(0)!=="/"&&(n="/"+n),n.replace(/\/$/,"")}function J8(n,m){var A,ce=Math.max(n.length,m.length);for(A=0;A<ce&&n[A]===m[A];A++);return{updated:m.slice(0,A),activated:m.slice(A),deactivated:n.slice(A)}}function xf(n,m,A,ce){var Ce=vg(n,function(Ne,Ge,$e,mt){var yt=Q8(Ne,m);if(yt)return Array.isArray(yt)?yt.map(function(Et){return A(Et,Ge,$e,mt)}):A(yt,Ge,$e,mt)});return bg(ce?Ce.reverse():Ce)}function Q8(n,m){return typeof n!="function"&&(n=ud.extend(n)),n.options[m]}function e7(n){return xf(n,"beforeRouteLeave",yg,!0)}function t7(n){return xf(n,"beforeRouteUpdate",yg)}function yg(n,m){if(m)return function(){return n.apply(m,arguments)}}function n7(n){return xf(n,"beforeRouteEnter",function(m,A,ce,Ce){return r7(m,ce,Ce)})}function r7(n,m,A){return function(ce,Ce,Ne){return n(ce,Ce,function(Ge){typeof Ge=="function"&&(m.enteredCbs[A]||(m.enteredCbs[A]=[]),m.enteredCbs[A].push(Ge)),Ne(Ge)})}}var xg=function(n){function m(A,ce){n.call(this,A,ce),this._startLocation=Jc(this.base)}return n&&(m.__proto__=n),m.prototype=Object.create(n&&n.prototype),m.prototype.constructor=m,m.prototype.setupListeners=function(){var A=this;if(!(this.listeners.length>0)){var ce=this.router,Ce=ce.options.scrollBehavior,Ne=Ys&&Ce;Ne&&this.listeners.push(mg());var Ge=function(){var $e=A.current,mt=Jc(A.base);A.current===Xs&&mt===A._startLocation||A.transitionTo(mt,function(yt){Ne&&Vs(ce,yt,$e,!0)})};window.addEventListener("popstate",Ge),this.listeners.push(function(){window.removeEventListener("popstate",Ge)})}},m.prototype.go=function(A){window.history.go(A)},m.prototype.push=function(A,ce,Ce){var Ne=this,Ge=this,$e=Ge.current;this.transitionTo(A,function(mt){dd($s(Ne.base+mt.fullPath)),Vs(Ne.router,mt,$e,!1),ce&&ce(mt)},Ce)},m.prototype.replace=function(A,ce,Ce){var Ne=this,Ge=this,$e=Ge.current;this.transitionTo(A,function(mt){$0($s(Ne.base+mt.fullPath)),Vs(Ne.router,mt,$e,!1),ce&&ce(mt)},Ce)},m.prototype.ensureURL=function(A){if(Jc(this.base)!==this.current.fullPath){var ce=$s(this.base+this.current.fullPath);A?dd(ce):$0(ce)}},m.prototype.getCurrentLocation=function(){return Jc(this.base)},m}(Kl);function Jc(n){var m=window.location.pathname,A=m.toLowerCase(),ce=n.toLowerCase();return n&&(A===ce||A.indexOf($s(ce+"/"))===0)&&(m=m.slice(n.length)),(m||"/")+window.location.search+window.location.hash}var wg=function(n){function m(A,ce,Ce){n.call(this,A,ce),!(Ce&&o7(this.base))&&Om()}return n&&(m.__proto__=n),m.prototype=Object.create(n&&n.prototype),m.prototype.constructor=m,m.prototype.setupListeners=function(){var A=this;if(!(this.listeners.length>0)){var ce=this.router,Ce=ce.options.scrollBehavior,Ne=Ys&&Ce;Ne&&this.listeners.push(mg());var Ge=function(){var mt=A.current;Om()&&A.transitionTo(Wu(),function(yt){Ne&&Vs(A.router,yt,mt,!0),Ys||Hu(yt.fullPath)})},$e=Ys?"popstate":"hashchange";window.addEventListener($e,Ge),this.listeners.push(function(){window.removeEventListener($e,Ge)})}},m.prototype.push=function(A,ce,Ce){var Ne=this,Ge=this,$e=Ge.current;this.transitionTo(A,function(mt){Mm(mt.fullPath),Vs(Ne.router,mt,$e,!1),ce&&ce(mt)},Ce)},m.prototype.replace=function(A,ce,Ce){var Ne=this,Ge=this,$e=Ge.current;this.transitionTo(A,function(mt){Hu(mt.fullPath),Vs(Ne.router,mt,$e,!1),ce&&ce(mt)},Ce)},m.prototype.go=function(A){window.history.go(A)},m.prototype.ensureURL=function(A){var ce=this.current.fullPath;Wu()!==ce&&(A?Mm(ce):Hu(ce))},m.prototype.getCurrentLocation=function(){return Wu()},m}(Kl);function o7(n){var m=Jc(n);if(!/^\/#/.test(m))return window.location.replace($s(n+"/#"+m)),!0}function Om(){var n=Wu();return n.charAt(0)==="/"?!0:(Hu("/"+n),!1)}function Wu(){var n=window.location.href,m=n.indexOf("#");return m<0?"":(n=n.slice(m+1),n)}function V0(n){var m=window.location.href,A=m.indexOf("#"),ce=A>=0?m.slice(0,A):m;return ce+"#"+n}function Mm(n){Ys?dd(V0(n)):window.location.hash=n}function Hu(n){Ys?$0(V0(n)):window.location.replace(V0(n))}var i7=function(n){function m(A,ce){n.call(this,A,ce),this.stack=[],this.index=-1}return n&&(m.__proto__=n),m.prototype=Object.create(n&&n.prototype),m.prototype.constructor=m,m.prototype.push=function(A,ce,Ce){var Ne=this;this.transitionTo(A,function(Ge){Ne.stack=Ne.stack.slice(0,Ne.index+1).concat(Ge),Ne.index++,ce&&ce(Ge)},Ce)},m.prototype.replace=function(A,ce,Ce){var Ne=this;this.transitionTo(A,function(Ge){Ne.stack=Ne.stack.slice(0,Ne.index).concat(Ge),ce&&ce(Ge)},Ce)},m.prototype.go=function(A){var ce=this,Ce=this.index+A;if(!(Ce<0||Ce>=this.stack.length)){var Ne=this.stack[Ce];this.confirmTransition(Ne,function(){var Ge=ce.current;ce.index=Ce,ce.updateRoute(Ne),ce.router.afterHooks.forEach(function($e){$e&&$e(Ne,Ge)})},function(Ge){pd(Ge,vc.duplicated)&&(ce.index=Ce)})}},m.prototype.getCurrentLocation=function(){var A=this.stack[this.stack.length-1];return A?A.fullPath:"/"},m.prototype.ensureURL=function(){},m}(Kl),na=function(n){n===void 0&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=A8(n.routes||[],this);var m=n.mode||"hash";switch(this.fallback=m==="history"&&!Ys&&n.fallback!==!1,this.fallback&&(m="hash"),du||(m="abstract"),this.mode=m,m){case"history":this.history=new xg(this,n.base);break;case"hash":this.history=new wg(this,n.base,this.fallback);break;case"abstract":this.history=new i7(this,n.base);break}},Tm={currentRoute:{configurable:!0}};na.prototype.match=function(n,m,A){return this.matcher.match(n,m,A)},Tm.currentRoute.get=function(){return this.history&&this.history.current},na.prototype.init=function(n){var m=this;if(this.apps.push(n),n.$once("hook:destroyed",function(){var Ne=m.apps.indexOf(n);Ne>-1&&m.apps.splice(Ne,1),m.app===n&&(m.app=m.apps[0]||null),m.app||m.history.teardown()}),!this.app){this.app=n;var A=this.history;if(A instanceof xg||A instanceof wg){var ce=function(Ne){var Ge=A.current,$e=m.options.scrollBehavior,mt=Ys&&$e;mt&&"fullPath"in Ne&&Vs(m,Ne,Ge,!1)},Ce=function(Ne){A.setupListeners(),ce(Ne)};A.transitionTo(A.getCurrentLocation(),Ce,Ce)}A.listen(function(Ne){m.apps.forEach(function(Ge){Ge._route=Ne})})}},na.prototype.beforeEach=function(n){return E0(this.beforeHooks,n)},na.prototype.beforeResolve=function(n){return E0(this.resolveHooks,n)},na.prototype.afterEach=function(n){return E0(this.afterHooks,n)},na.prototype.onReady=function(n,m){this.history.onReady(n,m)},na.prototype.onError=function(n){this.history.onError(n)},na.prototype.push=function(n,m,A){var ce=this;if(!m&&!A&&typeof Promise<"u")return new Promise(function(Ce,Ne){ce.history.push(n,Ce,Ne)});this.history.push(n,m,A)},na.prototype.replace=function(n,m,A){var ce=this;if(!m&&!A&&typeof Promise<"u")return new Promise(function(Ce,Ne){ce.history.replace(n,Ce,Ne)});this.history.replace(n,m,A)},na.prototype.go=function(n){this.history.go(n)},na.prototype.back=function(){this.go(-1)},na.prototype.forward=function(){this.go(1)},na.prototype.getMatchedComponents=function(n){var m=n?n.matched?n:this.resolve(n).route:this.currentRoute;return m?[].concat.apply([],m.matched.map(function(A){return Object.keys(A.components).map(function(ce){return A.components[ce]})})):[]},na.prototype.resolve=function(n,m,A){m=m||this.history.current;var ce=yf(n,m,A,this),Ce=this.match(ce,m),Ne=Ce.redirectedFrom||Ce.fullPath,Ge=this.history.base,$e=a7(Ge,Ne,this.mode);return{location:ce,route:Ce,href:$e,normalizedTo:ce,resolved:Ce}},na.prototype.getRoutes=function(){return this.matcher.getRoutes()},na.prototype.addRoute=function(n,m){this.matcher.addRoute(n,m),this.history.current!==Xs&&this.history.transitionTo(this.history.getCurrentLocation())},na.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==Xs&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(na.prototype,Tm);function E0(n,m){return n.push(m),function(){var A=n.indexOf(m);A>-1&&n.splice(A,1)}}function a7(n,m,A){var ce=A==="hash"?"#"+m:m;return n?$s(n+"/"+ce):ce}na.install=U0,na.version="3.6.5",na.isNavigationFailure=pd,na.NavigationFailureType=vc,na.START_LOCATION=Xs,du&&window.Vue&&window.Vue.use(na);const l7=n=>{n.mounted?Array.isArray(n.mounted)||(n.mounted=[n.mounted]):n.mounted=[],n.mounted.push(function(){this.$el.setAttribute("data-v-6d5f1cd","")})};bl($m,Ux);function s7(n,m){let A,ce,Ce=m,Ne;this.start=function(){Ne=!0,ce=new Date,A=setTimeout(n,Ce)},this.pause=function(){Ne=!1,clearTimeout(A),Ce-=new Date-ce},this.clear=function(){Ne=!1,clearTimeout(A),Ce=0},this.getTimeLeft=function(){return Ne&&(this.pause(),this.start()),Ce},this.getStateRunning=function(){return Ne},this.start()}const c7={name:"PauseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var u7=function(){var n=this,m=n._self._c;return m("span",n._b({staticClass:"material-design-icon pause-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(A){return n.$emit("click",A)}}},"span",n.$attrs,!1),[m("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[m("path",{attrs:{d:"M14,19H18V5H14M6,19H10V5H6V19Z"}},[n.title?m("title",[n._v(n._s(n.title))]):n._e()])])])},d7=[],f7=Ii(c7,u7,d7,!1,null,null);const p7=f7.exports,h7={name:"PlayIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var m7=function(){var n=this,m=n._self._c;return m("span",n._b({staticClass:"material-design-icon play-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(A){return n.$emit("click",A)}}},"span",n.$attrs,!1),[m("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[m("path",{attrs:{d:"M8,5.14V19.14L19,12.14L8,5.14Z"}},[n.title?m("title",[n._v(n._s(n.title))]):n._e()])])])},g7=[],v7=Ii(h7,m7,g7,!1,null,null);const b7=v7.exports,wf={name:"NcModal",components:{Close:Q0,Pause:p7,Play:b7,NcActions:U1,NcButton:su,NcIconSvgWrapper:Pd},props:{name:{type:String,default:""},hasPrevious:{type:Boolean,default:!1},hasNext:{type:Boolean,default:!1},outTransition:{type:Boolean,default:!1},enableSlideshow:{type:Boolean,default:!1},slideshowDelay:{type:Number,default:5e3},slideshowPaused:{type:Boolean,default:!1},enableSwipe:{type:Boolean,default:!0},disableSwipe:{type:Boolean,default:!1},spreadNavigation:{type:Boolean,default:!1},size:{type:String,default:"normal",validator:n=>["small","normal","large","full"].includes(n)},noClose:{type:Boolean,default:!1},canClose:{type:Boolean,default:!0},closeOnClickOutside:{type:Boolean,default:!0},dark:{type:Boolean,default:!1},lightBackdrop:{type:Boolean,default:!1},container:{type:[String,null],default:"body"},closeButtonContained:{type:Boolean,default:!0},additionalTrapElements:{type:Array,default:()=>[]},inlineActions:{type:Number,default:0},show:{type:Boolean,default:void 0},labelId:{type:String,default:""},setReturnFocus:{default:void 0,type:[HTMLElement,SVGElement,String,Boolean]}},emits:["previous","next","close","update:show"],setup(){return{mdiChevronLeft:nk,mdiChevronRight:K1}},data(){return{mc:null,playing:!1,slideshowTimeout:null,focusTrap:null,externalFocusTrapStack:[],randId:Ku(),internalShow:!0}},computed:{cssSlideshowDelay(){return`${this.slideshowDelay}ms`},forceDarkBackdrop(){return!this.noClose&&this.canClose&&!this.closeButtonContained||this.hasNext||this.hasPrevious||this.modalName!==""||!!this.$slots.actions},modalName(){return this.name.trim()},modalLabelId(){return this.labelId||`modal-name-${this.randId}`},showModal(){return this.show===void 0?this.internalShow:this.show},modalTransitionName(){return`modal-${this.outTransition?"out":"in"}`},playPauseName(){return this.playing?Vo("Pause slideshow"):Vo("Start slideshow")},closeButtonAriaLabel(){return Vo("Close")},prevButtonAriaLabel(){return Vo("Previous")},nextButtonAriaLabel(){return Vo("Next")}},watch:{slideshowPaused(n){this.slideshowTimeout&&(n?this.slideshowTimeout.pause():this.slideshowTimeout.start())},additionalTrapElements(n){if(this.focusTrap){const m=this.$refs.mask;this.focusTrap.updateContainerElements([m,...n])}}},beforeMount(){window.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeydown),this.mc.stop()},mounted(){!this.name&&!this.labelId&&zl.util.warn("[NcModal] You need either set the name or set a `labelId` for accessibility."),this.useFocusTrap(),this.mc=_4(this.$refs.mask,{onSwipeEnd:this.handleSwipe}),this.container&&(this.container==="body"?document.body.insertBefore(this.$el,document.body.lastChild):document.querySelector(this.container).appendChild(this.$el))},destroyed(){this.clearFocusTrap(),this.$el.remove()},methods:{t:Vo,previous(n){this.hasPrevious&&(n&&this.resetSlideshow(),this.$emit("previous",n))},next(n){this.hasNext&&(n&&this.resetSlideshow(),this.$emit("next",n))},close(n){!this.noClose&&this.canClose&&(this.internalShow=!1,this.$emit("update:show",!1),setTimeout(()=>{this.$emit("close",n)},300))},handleClickModalWrapper(n){this.closeOnClickOutside&&this.close(n)},handleKeydown(n){if(n.key==="Escape"){const A=id();return A.length>0&&A[A.length-1]!==this.focusTrap?void 0:this.close(n)}const m={ArrowLeft:this.previous,ArrowRight:this.next};if(m[n.key])return document.activeElement&&!this.$el.contains(document.activeElement)?void 0:m[n.key](n)},handleSwipe(n,m){this.enableSwipe&&!this.disableSwipe&&(m==="left"?this.next(n):m==="right"&&this.previous(n))},togglePlayPause(){this.playing=!this.playing,this.playing?this.handleSlideshow():this.clearSlideshowTimeout()},resetSlideshow(){this.playing=!this.playing,this.clearSlideshowTimeout(),this.$nextTick(function(){this.togglePlayPause()})},handleSlideshow(){this.playing=!0,this.hasNext?this.slideshowTimeout=new s7(()=>{this.next(),this.handleSlideshow()},this.slideshowDelay):(this.playing=!1,this.clearSlideshowTimeout())},clearSlideshowTimeout(){this.slideshowTimeout&&this.slideshowTimeout.clear()},async useFocusTrap(){if(!this.showModal||this.focusTrap)return;const n=this.$refs.mask;await this.$nextTick();const m={allowOutsideClick:!0,fallbackFocus:n,trapStack:id(),escapeDeactivates:!1,setReturnFocus:this.setReturnFocus};this.externalFocusTrapStack=[...m.trapStack];for(const A of this.externalFocusTrapStack)A.deactivate();this.focusTrap=B1([n,...this.additionalTrapElements],m),this.focusTrap.activate()},clearFocusTrap(){if(this.focusTrap){this.focusTrap?.deactivate(),this.focusTrap=null;for(const n of this.externalFocusTrapStack)n.activate();this.externalFocusTrapStack=[]}}}},Pm=()=>{Km((n,m)=>({"189d6f6a":n.cssSlideshowDelay}))},Im=wf.setup;wf.setup=Im?(n,m)=>(Pm(),Im(n,m)):Pm;const y7=wf;var x7=function(){var n=this,m=n._self._c;return m("transition",{attrs:{name:"fade",appear:""},on:{"after-enter":n.useFocusTrap,"before-leave":n.clearFocusTrap}},[m("div",{directives:[{name:"show",rawName:"v-show",value:n.showModal,expression:"showModal"}],ref:"mask",staticClass:"modal-mask",class:{"modal-mask--opaque":n.dark||n.forceDarkBackdrop,"modal-mask--light":n.lightBackdrop},attrs:{role:"dialog","aria-modal":"true","aria-labelledby":n.modalLabelId,"aria-describedby":"modal-description-"+n.randId,tabindex:"-1"}},[m("transition",{attrs:{name:"fade-visibility",appear:""}},[m("div",{staticClass:"modal-header",attrs:{"data-theme-light":n.lightBackdrop,"data-theme-dark":!n.lightBackdrop}},[n.modalName?m("h2",{staticClass:"modal-header__name",attrs:{id:"modal-name-"+n.randId}},[n._v(" "+n._s(n.modalName)+" ")]):n._e(),m("div",{staticClass:"icons-menu"},[n.hasNext&&n.enableSlideshow?m("button",{staticClass:"play-pause-icons",class:{"play-pause-icons--paused":n.slideshowPaused},attrs:{title:n.playPauseName,type:"button"},on:{click:n.togglePlayPause}},[n.playing?m("Pause",{staticClass:"play-pause-icons__pause",attrs:{size:20}}):m("Play",{staticClass:"play-pause-icons__play",attrs:{size:20}}),m("span",{staticClass:"hidden-visually"},[n._v(" "+n._s(n.playPauseName)+" ")]),n.playing?m("svg",{staticClass:"progress-ring",attrs:{height:"50",width:"50"}},[m("circle",{staticClass:"progress-ring__circle",attrs:{stroke:"white","stroke-width":"2",fill:"transparent",r:"15",cx:"25",cy:"25"}})]):n._e()],1):n._e(),m("NcActions",{staticClass:"header-actions",attrs:{inline:n.inlineActions}},[n._t("actions")],2),!n.noClose&&n.canClose&&!n.closeButtonContained?m("NcButton",{staticClass:"header-close",attrs:{"aria-label":n.closeButtonAriaLabel,variant:"tertiary"},on:{click:n.close},scopedSlots:n._u([{key:"icon",fn:function(){return[m("Close",{attrs:{size:20}})]},proxy:!0}],null,!1,2121748766)}):n._e()],1)])]),m("transition",{attrs:{name:n.modalTransitionName,appear:""}},[m("div",{directives:[{name:"show",rawName:"v-show",value:n.showModal,expression:"showModal"}],staticClass:"modal-wrapper",class:[`modal-wrapper--${n.size}`,{"modal-wrapper--spread-navigation":n.spreadNavigation}],on:{mousedown:function(A){return A.target!==A.currentTarget?null:n.handleClickModalWrapper.apply(null,arguments)}}},[m("transition",{attrs:{name:"fade-visibility",appear:""}},[m("NcButton",{directives:[{name:"show",rawName:"v-show",value:n.hasPrevious,expression:"hasPrevious"}],staticClass:"prev",attrs:{"aria-label":n.prevButtonAriaLabel,variant:"tertiary-no-background"},on:{click:n.previous},scopedSlots:n._u([{key:"icon",fn:function(){return[m("NcIconSvgWrapper",{attrs:{directional:"",path:n.mdiChevronLeft,size:40}})]},proxy:!0}])})],1),m("div",{staticClass:"modal-container",attrs:{id:"modal-description-"+n.randId}},[m("div",{staticClass:"modal-container__content"},[n._t("default")],2),!n.noClose&&n.canClose&&n.closeButtonContained?m("NcButton",{staticClass:"modal-container__close",attrs:{"aria-label":n.closeButtonAriaLabel,variant:"tertiary"},on:{click:n.close},scopedSlots:n._u([{key:"icon",fn:function(){return[m("Close",{attrs:{size:20}})]},proxy:!0}],null,!1,2121748766)}):n._e()],1),m("transition",{attrs:{name:"fade-visibility",appear:""}},[m("NcButton",{directives:[{name:"show",rawName:"v-show",value:n.hasNext,expression:"hasNext"}],staticClass:"next",attrs:{"aria-label":n.nextButtonAriaLabel,variant:"tertiary-no-background"},on:{click:n.next},scopedSlots:n._u([{key:"icon",fn:function(){return[m("NcIconSvgWrapper",{attrs:{directional:"",path:n.mdiChevronRight,size:40}})]},proxy:!0}])})],1)],1)])],1)])},w7=[],k7=Ii(y7,x7,w7,!1,null,"0fc6c354");const kg=k7.exports;l7(kg);const E7={name:"ArrowLeftIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var S7=function(){var n=this,m=n._self._c;return m("span",n._b({staticClass:"material-design-icon arrow-left-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(A){return n.$emit("click",A)}}},"span",n.$attrs,!1),[m("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[m("path",{attrs:{d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"}},[n.title?m("title",[n._v(n._s(n.title))]):n._e()])])])},_7=[],C7=Ii(E7,S7,_7,!1,null,null);const j7=C7.exports;bl(Vx);const O7=3*60*1e3,M7={name:"NcReferenceWidget",components:{NcButton:su},props:{reference:{type:Object,required:!0},interactive:{type:Boolean,default:!0},interactiveOptIn:{type:Boolean,default:!1}},setup(){const n=Ui(!1),m=Ui(),{width:A}=E4(m);return S4(m,([ce])=>{Wm(()=>{n.value=ce.isIntersecting})}),{width:A,isVisible:n,widgetRoot:m}},data(){return{showInteractive:!1,rendered:!1,idleTimeout:null}},computed:{isInteractive(){return!this.interactiveOptIn&&this.interactive||this.showInteractive},hasFullWidth(){return zw(this.reference.richObjectType)},hasCustomWidget(){return uh(this.reference.richObjectType)},hasInteractiveView(){return uh(this.reference.richObjectType)&&Zw(this.reference.richObjectType)},noAccess(){return this.reference&&!this.reference.accessible},descriptionStyle(){if(this.numberOfLines===0)return{display:"none"};const n=this.numberOfLines;return{lineClamp:n,webkitLineClamp:n}},numberOfLines(){return[450,550,650,1/0].findIndex(n=>this.width<n)},compactLink(){const n=this.reference.openGraphObject.link;return n?n.startsWith("https://")?n.substring(8):n.startsWith("http://")?n.substring(7):n:""},route(){return Y1(this.$router,this.reference.openGraphObject.link)},referenceWidgetLinkComponent(){return this.route?cg:"a"},referenceWidgetLinkProps(){return this.route?{to:this.route}:{href:this.reference.openGraphObject.link,target:"_blank"}}},watch:{isVisible:{handler(n){if(!n){this.idleTimeout=setTimeout(()=>{this.isVisible||this.destroyWidget()},O7);return}this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.rendered||this.renderWidget()},immediate:!0}},beforeDestroy(){this.destroyWidget()},methods:{t:Vo,enableInteractive(){this.showInteractive=!0,this.renderWidget()},renderWidget(){if(!this.$refs.customWidget||this?.reference?.richObjectType==="open-graph")return;this.$refs.customWidget.innerHTML="";const n=document.createElement("div");n.style="width: 100%;",this.$refs.customWidget.appendChild(n),this.$nextTick(()=>{Bw(n,{...this.reference,interactive:this.isInteractive}),this.rendered=!0})},destroyWidget(){this.rendered&&(Ww(this.reference.richObjectType,this.$el),this.rendered=!1)}}};var T7=function(){var n=this,m=n._self._c;return m("div",{ref:"widgetRoot",class:{"toggle-interactive":n.hasInteractiveView&&!n.isInteractive}},[n.reference&&n.hasCustomWidget?m("div",{ref:"customWidget",staticClass:"widget-custom",class:{"full-width":n.hasFullWidth}}):!n.noAccess&&n.reference&&n.reference.openGraphObject&&!n.hasCustomWidget?m(n.referenceWidgetLinkComponent,n._b({tag:"component",staticClass:"widget-default",attrs:{rel:"noopener noreferrer"}},"component",n.referenceWidgetLinkProps,!1),[n.reference.openGraphObject.thumb?m("img",{staticClass:"widget-default--image",attrs:{src:n.reference.openGraphObject.thumb}}):n._e(),m("div",{staticClass:"widget-default--details"},[m("p",{staticClass:"widget-default--name"},[n._v(" "+n._s(n.reference.openGraphObject.name)+" ")]),m("p",{staticClass:"widget-default--description",style:n.descriptionStyle},[n._v(" "+n._s(n.reference.openGraphObject.description)+" ")]),m("p",{staticClass:"widget-default--link"},[n._v(" "+n._s(n.compactLink)+" ")])])]):n._e(),n.interactiveOptIn&&n.hasInteractiveView&&!n.isInteractive?m("NcButton",{staticClass:"toggle-interactive--button",on:{click:n.enableInteractive}},[n._v(" "+n._s(n.t("Enable interactive view"))+" ")]):n._e()],1)},P7=[],I7=Ii(M7,T7,P7,!1,null,"734d6ae9");const Eg=I7.exports,D7={name:"NcCustomPickerElement",props:{provider:{type:Object,required:!0}},emits:["cancel","submit"],data(){return{isRegistered:ou(this.provider.id),renderResult:null}},mounted(){this.isRegistered&&this.renderElement()},beforeDestroy(){this.isRegistered&&Kw(this.provider.id,this.$el,this.renderResult)},methods:{renderElement(){this.$refs.domElement&&(this.$refs.domElement.innerHTML="");const n=Uw(this.$refs.domElement,{providerId:this.provider.id,accessible:!1});Promise.resolve(n).then(m=>{this.renderResult=m,this.renderResult.object?._isVue&&this.renderResult.object?.$on&&(this.renderResult.object.$on("submit",this.onSubmit),this.renderResult.object.$on("cancel",this.onCancel)),this.renderResult.element.addEventListener("submit",A=>{this.onSubmit(A.detail)}),this.renderResult.element.addEventListener("cancel",this.onCancel)})},onSubmit(n){this.$emit("submit",n)},onCancel(){this.$emit("cancel")}}};var L7=function(){var n=this,m=n._self._c;return m("div",{ref:"domElement"})},A7=[],R7=Ii(D7,L7,A7,!1,null,"de9850e4");const Z7=R7.exports;bl(Yx);const Sg="any-link",_g={id:Sg,title:Vo("Any link"),icon_url:tw("core","filetypes/link.svg")};window._vue_richtext_reference_providers||(window._vue_richtext_reference_providers=_0("core","reference-provider-list",[])),window._vue_richtext_reference_provider_timestamps||(window._vue_richtext_reference_provider_timestamps=_0("core","reference-provider-timestamps",{}));function z7(n){return n===Sg?_g:Cg().find(m=>m.id===n)}function Cg(){return window._vue_richtext_reference_providers.filter(n=>{const m=!!n.search_providers_ids&&n.search_providers_ids.length>0||ou(n.id);return m||console.debug("[smart picker]",n.id,"reference provider is discoverable but does not have any related search provider or custom picker component registered"),m})}function N7(n){const m=window._vue_richtext_reference_provider_timestamps;return n.sort((A,ce)=>A.order===ce.order?0:A.order>ce.order?1:-1).sort((A,ce)=>{const Ce=m[A.id],Ne=m[ce.id];return Ce===Ne?0:Ne===void 0?-1:Ce===void 0?1:Ce>Ne?-1:1})}function B7(n,m=null){const A=Cg(),ce=n.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),Ce=new RegExp(ce,"i"),Ne=N7(A).filter($e=>$e.title.match(Ce)),Ge=m?Ne.slice(0,m):Ne;return(n===""||Ge.length===0)&&Ge.push(_g),Ge}function W7(n){const m=Math.floor(Date.now()/1e3),A={timestamp:m},ce=ss("references/provider/{providerId}",{providerId:n});Gl.put(ce,A).then(Ce=>{window._vue_richtext_reference_provider_timestamps[n]=m})}let Dm=0;function jg(n,m){return function(){const A=this,ce=arguments;clearTimeout(Dm),Dm=setTimeout(function(){n.apply(A,ce)},m)}}function kf(n){try{return!!new URL(n)}catch{return!1}}bl(Vm,Gx);const H7={name:"LinkVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var F7=function(){var n=this,m=n._self._c;return m("span",n._b({staticClass:"material-design-icon link-variant-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(A){return n.$emit("click",A)}}},"span",n.$attrs,!1),[m("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[m("path",{attrs:{d:"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z"}},[n.title?m("title",[n._v(n._s(n.title))]):n._e()])])])},U7=[],K7=Ii(H7,F7,U7,!1,null,null);const Ef=K7.exports,$7={name:"NcProviderList",components:{NcSelect:ng,NcHighlight:bd,NcEmptyContent:ef,LinkVariantIcon:Ef},emits:["select-provider","submit"],data(){return{selectedProvider:null,query:"",multiselectPlaceholder:Vo("Select provider"),providerIconAlt:Vo("Provider icon")}},computed:{options(){const n=[];return this.query!==""&&kf(this.query)&&n.push({id:this.query,title:this.query,isLink:!0}),n.push(...B7(this.query)),n}},methods:{focus(){setTimeout(()=>{this.$refs["provider-select"]?.$el?.querySelector("#provider-select-input")?.focus()},300)},onProviderSelected(n){n!==null&&(n.isLink?this.$emit("submit",n.title):this.$emit("select-provider",n),this.selectedProvider=null)},onSearch(n,m){this.query=n}}};var V7=function(){var n=this,m=n._self._c;return m("div",{staticClass:"provider-list"},[m("NcSelect",{ref:"provider-select",staticClass:"provider-list--select",attrs:{"input-id":"provider-select-input",label:"title",placeholder:n.multiselectPlaceholder,options:n.options,"append-to-body":!1,"clear-search-on-select":!0,"clear-search-on-blur":()=>!1,filterable:!1},on:{search:n.onSearch,input:n.onProviderSelected},scopedSlots:n._u([{key:"option",fn:function(A){return[A.isLink?m("div",{staticClass:"provider"},[m("LinkVariantIcon",{staticClass:"link-icon",attrs:{size:20}}),m("span",[n._v(n._s(A.title))])],1):m("div",{staticClass:"provider"},[m("img",{staticClass:"provider-icon",attrs:{src:A.icon_url,alt:n.providerIconAlt}}),m("NcHighlight",{staticClass:"option-text",attrs:{search:n.query,text:A.title}})],1)]}}]),model:{value:n.selectedProvider,callback:function(A){n.selectedProvider=A},expression:"selectedProvider"}}),m("NcEmptyContent",{staticClass:"provider-list--empty-content",scopedSlots:n._u([{key:"icon",fn:function(){return[m("LinkVariantIcon")]},proxy:!0}])})],1)},Y7=[],G7=Ii($7,V7,Y7,!1,null,"f03ee0c9");const q7=G7.exports;bl(qx);const X7={name:"NcRawLinkInput",components:{LinkVariantIcon:Ef,NcEmptyContent:ef,NcLoadingIcon:J0,NcReferenceWidget:Eg,NcTextField:$x},props:{provider:{type:Object,required:!0}},emits:["submit"],data(){return{inputValue:"",loading:!1,reference:null,abortController:null,inputPlaceholder:Vo("Enter link")}},computed:{isLinkValid(){return kf(this.inputValue)}},methods:{focus(){this.$refs["url-input"].$el.getElementsByTagName("input")[0]?.focus()},onSubmit(n){const m=n.target.value;this.isLinkValid&&this.$emit("submit",m)},onClear(){this.inputValue="",this.reference=null},onInput(){this.reference=null,this.abortController&&this.abortController.abort(),this.isLinkValid&&jg(()=>{this.updateReference()},500)()},updateReference(){this.loading=!0,this.abortController=new AbortController,Gl.get(ss("references/resolve",2)+"?reference="+encodeURIComponent(this.inputValue),{signal:this.abortController.signal}).then(n=>{this.reference=n.data.ocs.data.references[this.inputValue]}).catch(n=>{console.error(n)}).then(()=>{this.loading=!1})}}};var J7=function(){var n=this,m=n._self._c;return m("div",{staticClass:"raw-link"},[m("div",{staticClass:"input-wrapper"},[m("NcTextField",{ref:"url-input",attrs:{value:n.inputValue,"show-trailing-button":n.inputValue!=="",label:n.inputPlaceholder},on:{"update:value":[function(A){n.inputValue=A},n.onInput],"trailing-button-click":n.onClear},nativeOn:{keyup:function(A){return!A.type.indexOf("key")&&n._k(A.keyCode,"enter",13,A.key,"Enter")?null:n.onSubmit.apply(null,arguments)}}},[n.loading?m("NcLoadingIcon",{attrs:{size:16}}):m("LinkVariantIcon",{attrs:{size:16}})],1)],1),n.reference!==null?m("NcReferenceWidget",{staticClass:"reference-widget",attrs:{reference:n.reference}}):m("NcEmptyContent",{staticClass:"raw-link--empty-content",scopedSlots:n._u([{key:"icon",fn:function(){return[n.provider.icon_url?m("img",{staticClass:"provider-icon",attrs:{src:n.provider.icon_url}}):m("LinkVariantIcon")]},proxy:!0}])})],1)},Q7=[],eE=Ii(X7,J7,Q7,!1,null,"3c1803b5");const tE=eE.exports,nE={name:"NcSearchResult",components:{NcHighlight:bd},props:{entry:{type:Object,required:!0},query:{type:String,required:!0}}};var rE=function(){var n=this,m=n._self._c;return m("div",{staticClass:"result"},[n.entry.icon?m("div",{staticClass:"result--icon-class",class:{[n.entry.icon]:!0,rounded:n.entry.rounded}}):m("img",{staticClass:"result--image",class:{rounded:n.entry.rounded},attrs:{src:n.entry.thumbnailUrl}}),m("div",{staticClass:"result--content"},[m("span",{staticClass:"result--content--name"},[m("NcHighlight",{attrs:{search:n.query,text:n.entry.title}})],1),m("span",{staticClass:"result--content--subline"},[m("NcHighlight",{attrs:{search:n.query,text:n.entry.subline}})],1)])])},oE=[],iE=Ii(nE,rE,oE,!1,null,"ff4bcbf3");const aE=iE.exports;bl(Jx,Vm,Xx);const Lm=5,lE={name:"NcSearch",components:{LinkVariantIcon:Ef,DotsHorizontalIcon:pf,NcEmptyContent:ef,NcSelect:ng,NcSearchResult:aE},props:{provider:{type:Object,required:!0},showEmptyContent:{type:Boolean,default:!0},searchPlaceholder:{type:String,default:null}},emits:["submit"],data(){return{searchQuery:"",selectedResult:null,resultsBySearchProvider:{},searching:!1,searchingMoreOf:null,abortController:null,noOptionsText:Vo("Start typing to search"),providerIconAlt:Vo("Provider icon")}},computed:{mySearchPlaceholder(){return this.searchPlaceholder||Vo("Search")},searchProviderIds(){return this.provider.search_providers_ids},options(){if(this.searchQuery==="")return[];const n=[];return kf(this.searchQuery)&&n.push(this.rawLinkEntry),n.push(...this.formattedSearchResults),n},rawLinkEntry(){return{id:"rawLinkEntry",resourceUrl:this.searchQuery,isRawLink:!0}},formattedSearchResults(){const n=[];return this.searchProviderIds.forEach(m=>{if(this.resultsBySearchProvider[m].entries.length>0){(this.searchProviderIds.length>1||this.resultsBySearchProvider[m].entries.length>1)&&n.push({id:"groupTitle-"+m,name:this.resultsBySearchProvider[m].name,isCustomGroupTitle:!0,providerId:m});const A=this.resultsBySearchProvider[m].entries.map((ce,Ce)=>({id:"provider-"+m+"-entry-"+Ce,...ce}));n.push(...A),this.resultsBySearchProvider[m].isPaginated&&n.push({id:"moreOf-"+m,name:this.resultsBySearchProvider[m].name,isMore:!0,providerId:m,isLoading:this.searchingMoreOf===m})}}),n}},mounted(){this.resetResults()},beforeDestroy(){this.cancelSearchRequests()},methods:{t:Vo,resetResults(){const n={};this.searchProviderIds.forEach(m=>{n[m]={entries:[]}}),this.resultsBySearchProvider=n},focus(){setTimeout(()=>{this.$refs["search-select"]?.$el?.querySelector("#search-select-input")?.focus()},300)},cancelSearchRequests(){this.abortController&&this.abortController.abort()},onSearchInput(n,m){this.searchQuery=n,jg(()=>{this.updateSearch()},500)()},onSelectResultSelected(n){n!==null&&(n.resourceUrl?(this.cancelSearchRequests(),this.$emit("submit",n.resourceUrl)):n.isMore&&this.searchMoreOf(n.providerId).then(()=>{this.selectedResult=null}))},searchMoreOf(n){return this.searchingMoreOf=n,this.cancelSearchRequests(),this.searchProviders(n)},updateSearch(){if(this.cancelSearchRequests(),this.resetResults(),this.searchQuery===""){this.searching=!1;return}return this.searchProviders()},searchProviders(n=null){this.abortController=new AbortController,this.searching=!0;const m=n===null?[...this.searchProviderIds].map(A=>this.searchOneProvider(A)):[this.searchOneProvider(n,this.resultsBySearchProvider[n]?.cursor??null)];return Promise.allSettled(m).then(A=>{A.find(ce=>ce.status==="rejected"&&(ce.reason.name==="CanceledError"||ce.reason.code==="ERR_CANCELED"))||(this.searching=!1,this.searchingMoreOf=null)})},searchOneProvider(n,m=null){const A=m===null?ss("search/providers/{providerId}/search?term={term}&limit={limit}",{providerId:n,term:this.searchQuery,limit:Lm}):ss("search/providers/{providerId}/search?term={term}&limit={limit}&cursor={cursor}",{providerId:n,term:this.searchQuery,limit:Lm,cursor:m});return Gl.get(A,{signal:this.abortController.signal}).then(ce=>{const Ce=ce.data.ocs.data;this.resultsBySearchProvider[n].name=Ce.name,this.resultsBySearchProvider[n].cursor=Ce.cursor,this.resultsBySearchProvider[n].isPaginated=Ce.isPaginated,this.resultsBySearchProvider[n].entries.push(...Ce.entries)})}}};var sE=function(){var n=this,m=n._self._c;return m("div",{staticClass:"smart-picker-search",class:{"with-empty-content":n.showEmptyContent}},[m("NcSelect",{ref:"search-select",staticClass:"smart-picker-search--select",attrs:{"input-id":"search-select-input",label:"name",placeholder:n.mySearchPlaceholder,options:n.options,"append-to-body":!1,"close-on-select":!1,"clear-search-on-select":!1,"clear-search-on-blur":()=>!1,"reset-focus-on-options-change":!1,filterable:!1,autoscroll:!0,"reset-on-options-change":!1,loading:n.searching},on:{search:n.onSearchInput,input:n.onSelectResultSelected},scopedSlots:n._u([{key:"option",fn:function(A){return[A.isRawLink?m("div",{staticClass:"custom-option"},[m("LinkVariantIcon",{staticClass:"option-simple-icon",attrs:{size:20}}),m("span",{staticClass:"option-text"},[n._v(" "+n._s(n.t("Raw link {options}",{options:A.resourceUrl}))+" ")])],1):A.resourceUrl?m("NcSearchResult",{staticClass:"search-result",attrs:{entry:A,query:n.searchQuery}}):A.isCustomGroupTitle?m("span",{staticClass:"custom-option group-name"},[n.provider.icon_url?m("img",{staticClass:"provider-icon group-name-icon",attrs:{src:n.provider.icon_url}}):n._e(),m("span",{staticClass:"option-text"},[m("strong",[n._v(n._s(A.name))])])]):A.isMore?m("span",{class:{"custom-option":!0}},[A.isLoading?m("span",{staticClass:"option-simple-icon icon-loading-small"}):m("DotsHorizontalIcon",{staticClass:"option-simple-icon",attrs:{size:20}}),m("span",{staticClass:"option-text"},[n._v(" "+n._s(n.t('Load more "{options}"',{options:A.name}))+" ")])],1):n._e()]}},{key:"no-options",fn:function(){return[n._v(" "+n._s(n.noOptionsText)+" ")]},proxy:!0}]),model:{value:n.selectedResult,callback:function(A){n.selectedResult=A},expression:"selectedResult"}}),n.showEmptyContent?m("NcEmptyContent",{staticClass:"smart-picker-search--empty-content",scopedSlots:n._u([{key:"icon",fn:function(){return[n.provider.icon_url?m("img",{staticClass:"provider-icon",attrs:{alt:n.providerIconAlt,src:n.provider.icon_url}}):m("LinkVariantIcon")]},proxy:!0}],null,!1,2922132592)}):n._e()],1)},cE=[],uE=Ii(lE,sE,cE,!1,null,"05fef988");const dE=uE.exports,Yc={providerList:1,standardLinkInput:2,searchInput:3,customElement:4},fE={name:"NcReferencePicker",components:{NcCustomPickerElement:Z7,NcProviderList:q7,NcRawLinkInput:tE,NcSearch:dE},props:{initialProvider:{type:Object,default:()=>null},width:{type:Number,default:null},focusOnCreate:{type:Boolean,default:!0}},emits:["cancel","cancel-raw-link","cancel-search","provider-selected","submit"],data(){return{MODES:Yc,selectedProvider:this.initialProvider}},computed:{mode(){return this.selectedProvider===null?Yc.providerList:ou(this.selectedProvider.id)?Yc.customElement:this.selectedProvider.search_providers_ids?Yc.searchInput:Yc.standardLinkInput},pickerWrapperStyle(){return{width:this.width?this.width+"px":void 0}}},mounted(){this.focusOnCreate&&(this.initialProvider?setTimeout(()=>{this.$refs["url-input"]?.focus()},300):this.$nextTick(()=>{this.$refs["provider-list"]?.focus()}))},methods:{onEscapePressed(){this.selectedProvider!==null?this.deselectProvider():this.cancelProviderSelection()},onProviderSelected(n){this.selectedProvider=n,this.$emit("provider-selected",n),this.$nextTick(()=>{this.$refs["url-input"]?.focus()})},cancelCustomElement(){this.deselectProvider()},cancelSearch(){this.$emit("cancel-search",this.selectedProvider?.title),this.deselectProvider()},cancelRawLinkInput(){this.$emit("cancel-raw-link",this.selectedProvider?.title),this.deselectProvider()},cancelProviderSelection(){this.$emit("cancel")},submitLink(n){this.selectedProvider!==null&&W7(this.selectedProvider.id),this.$emit("submit",n),this.deselectProvider()},deselectProvider(){this.selectedProvider=null,this.$emit("provider-selected",null),setTimeout(()=>{this.$refs["provider-list"]?.focus()},300)}}};var pE=function(){var n=this,m=n._self._c;return m("div",{staticClass:"reference-picker",style:n.pickerWrapperStyle,attrs:{tabindex:"-1"},on:{keydown:function(A){return!A.type.indexOf("key")&&n._k(A.keyCode,"esc",27,A.key,["Esc","Escape"])?null:(A.stopPropagation(),A.preventDefault(),n.onEscapePressed.apply(null,arguments))}}},[n.mode===n.MODES.providerList?m("NcProviderList",{ref:"provider-list",on:{"select-provider":n.onProviderSelected,submit:n.submitLink,cancel:n.cancelProviderSelection}}):n.mode===n.MODES.standardLinkInput?m("NcRawLinkInput",{ref:"url-input",attrs:{provider:n.selectedProvider},on:{submit:n.submitLink,cancel:n.cancelRawLinkInput}}):n.mode===n.MODES.searchInput?m("NcSearch",{ref:"url-input",attrs:{provider:n.selectedProvider},on:{cancel:n.cancelSearch,submit:n.submitLink}}):n.mode===n.MODES.customElement?m("div",{staticClass:"custom-element-wrapper"},[m("NcCustomPickerElement",{staticClass:"custom-element",attrs:{provider:n.selectedProvider},on:{submit:n.submitLink,cancel:n.cancelCustomElement}})],1):n._e()],1)},hE=[],mE=Ii(fE,pE,hE,!1,null,"cd33df8e");const gE=mE.exports;bl(Qx,$m);const vE={name:"NcReferencePickerModal",components:{NcReferencePicker:gE,NcModal:kg,NcButton:su,ArrowLeftIcon:j7,CloseIcon:Q0},props:{initialProvider:{type:Object,default:()=>null},focusOnCreate:{type:Boolean,default:!0},isInsideViewer:{type:Boolean,default:!1}},emits:["cancel","submit"],data(){return{show:!0,selectedProvider:this.initialProvider,backButtonTitle:Vo("Back to provider selection"),closeButtonTitle:Vo("Close"),closeButtonLabel:Vo("Close Smart Picker")}},computed:{isProviderSelected(){return this.selectedProvider!==null},showBackButton(){return this.initialProvider===null&&this.isProviderSelected},modalSize(){return this.isProviderSelected&&ou(this.selectedProvider.id)?Hw(this.selectedProvider.id)??"large":"normal"},showModalName(){return!this.isProviderSelected||!ou(this.selectedProvider.id)},modalName(){return this.isProviderSelected?this.selectedProvider.title:Vo("Smart Picker")}},mounted(){if(this.isInsideViewer){const n=this.$refs.modal_content;Kx("viewer:trapElements:changed",n)}},methods:{onCancel(){this.show=!1,this.$emit("cancel")},onSubmit(n){this.show=!1,this.$emit("submit",n)},onProviderSelect(n){this.selectedProvider=n,n===null&&this.initialProvider!==null&&this.onCancel()},onBackClicked(){this.$refs.referencePicker.deselectProvider()}}};var bE=function(){var n=this,m=n._self._c;return n.show?m("NcModal",{staticClass:"reference-picker-modal",attrs:{size:n.modalSize,"can-close":!0},on:{close:n.onCancel}},[m("div",{ref:"modal_content",staticClass:"reference-picker-modal--content"},[n.showBackButton?m("NcButton",{staticClass:"back-button",attrs:{"aria-label":n.backButtonTitle,title:n.backButtonTitle},on:{click:n.onBackClicked},scopedSlots:n._u([{key:"icon",fn:function(){return[m("ArrowLeftIcon")]},proxy:!0}],null,!1,3001860362)}):n._e(),m("NcButton",{staticClass:"close-button",attrs:{"aria-label":n.closeButtonLabel,title:n.closeButtonTitle,variant:"tertiary"},on:{click:n.onCancel},scopedSlots:n._u([{key:"icon",fn:function(){return[m("CloseIcon")]},proxy:!0}],null,!1,2491825086)}),n.showModalName?m("h2",[n._v(" "+n._s(n.modalName)+" ")]):n._e(),m("NcReferencePicker",{ref:"referencePicker",attrs:{"initial-provider":n.initialProvider,"focus-on-create":n.focusOnCreate},on:{"provider-selected":n.onProviderSelect,submit:n.onSubmit,cancel:n.onCancel}})],1)]):n._e()},yE=[],xE=Ii(vE,bE,yE,!1,null,"c66449c1");const wE=xE.exports;async function kE(n=null,m=void 0){return await new Promise((A,ce)=>{const Ce="referencePickerModal",Ne=document.createElement("div");Ne.id=Ce,document.body.append(Ne);const Ge=n===null?null:z7(n)??null,$e=zl.extend(wE),mt=new $e({propsData:{initialProvider:Ge,isInsideViewer:m}}).$mount(Ne);mt.$on("cancel",()=>{mt.$destroy(),ce(new Error("User cancellation"))}),mt.$on("submit",yt=>{mt.$destroy(),A(yt)})})}bl();const EE={name:"NcReferenceList",components:{NcReferenceWidget:Eg},props:{text:{type:String,default:""},referenceData:{type:Array,default:null},limit:{type:Number,default:1},displayFallback:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},interactiveOptIn:{type:Boolean,default:!1}},data(){return{references:null,loading:!0}},computed:{isVisible(){return this.loading||this.displayedReferences.length!==0},values(){return this.referenceData?this.referenceData:this.displayFallback&&!this.loading&&!this.references?[this.fallbackReference]:this.references?Object.values(this.references):[]},firstReference(){return this.values[0]??null},displayedReferences(){return this.values.slice(0,this.limit)},fallbackReference(){return{accessible:!0,openGraphObject:{id:this.text,link:this.text,name:this.text},richObjectType:"open-graph"}}},watch:{text:"fetch"},mounted(){this.fetch()},methods:{fetch(){if(this.loading=!0,this.referenceData){this.references=null,this.loading=!1;return}if(!new RegExp(sm).exec(this.text)){this.references=null,this.loading=!1;return}this.resolve().then(n=>{this.references=n.data.ocs.data.references,this.loading=!1,this.$emit("loaded")}).catch(n=>{console.error("Failed to extract references",n),this.loading=!1,this.$emit("loaded")})},resolve(){const n=new RegExp(sm).exec(this.text.trim()),m=ru()===null;return this.limit===1&&n?m?Gl.get(ss("references/resolvePublic")+`?reference=${encodeURIComponent(n[0])}&sharingToken=${Ap()}`):Gl.get(ss("references/resolve")+`?reference=${encodeURIComponent(n[0])}`):m?Gl.post(ss("references/extractPublic"),{text:this.text,resolve:!0,limit:this.limit,sharingToken:Ap()}):Gl.post(ss("references/extract"),{text:this.text,resolve:!0,limit:this.limit})}}};var SE=function(){var n=this,m=n._self._c;return n.isVisible?m("div",{staticClass:"widgets--list",class:{"icon-loading":n.loading}},n._l(n.displayedReferences,function(A){return m("NcReferenceWidget",{key:A?.openGraphObject?.id,attrs:{reference:A,interactive:n.interactive,"interactive-opt-in":n.interactiveOptIn}})}),1):n._e()},_E=[],CE=Ii(EE,SE,_E,!1,null,"ffdba753");const jE=CE.exports,au=Ld(/[A-Za-z]/),Sf=Ld(/[\dA-Za-z]/);function OE(n){return n!==null&&(n<32||n===127)}function Lc(n){return n!==null&&(n<0||n===32)}const Og=Ld(new RegExp("\\p{P}|\\p{S}","u")),lu=Ld(/\s/);function Ld(n){return m;function m(A){return A!==null&&A>-1&&n.test(String.fromCharCode(A))}}const Mg=function(n){if(n==null)return IE;if(typeof n=="function")return Ad(n);if(typeof n=="object")return Array.isArray(n)?ME(n):TE(n);if(typeof n=="string")return PE(n);throw new Error("Expected function, string, or object as test")};function ME(n){const m=[];let A=-1;for(;++A<n.length;)m[A]=Mg(n[A]);return Ad(ce);function ce(...Ce){let Ne=-1;for(;++Ne<m.length;)if(m[Ne].apply(this,Ce))return!0;return!1}}function TE(n){const m=n;return Ad(A);function A(ce){const Ce=ce;let Ne;for(Ne in n)if(Ce[Ne]!==m[Ne])return!1;return!0}}function PE(n){return Ad(m);function m(A){return A&&A.type===n}}function Ad(n){return m;function m(A,ce,Ce){return!!(DE(A)&&n.call(this,A,typeof ce=="number"?ce:void 0,Ce||void 0))}}function IE(){return!0}function DE(n){return n!==null&&typeof n=="object"&&"type"in n}Mg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);const LE={tokenize:NE,partial:!0},Tg={tokenize:BE,partial:!0},Pg={tokenize:WE,partial:!0},Ig={tokenize:HE,partial:!0},AE={tokenize:FE,partial:!0},Am={tokenize:ZE,previous:Dg},Rm={tokenize:zE,previous:Lg},Ss={tokenize:RE,previous:Ag},_s={};let lc=48;for(;lc<123;)_s[lc]=Ss,lc++,lc===58?lc=65:lc===91&&(lc=97);_s[43]=Ss,_s[45]=Ss,_s[46]=Ss,_s[95]=Ss,_s[72]=[Ss,Rm],_s[104]=[Ss,Rm],_s[87]=[Ss,Am],_s[119]=[Ss,Am];function RE(n,m,A){const ce=this;let Ce,Ne;return Ge;function Ge(ft){return!Y0(ft)||!Ag.call(ce,ce.previous)||_f(ce.events)?A(ft):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),$e(ft))}function $e(ft){return Y0(ft)?(n.consume(ft),$e):ft===64?(n.consume(ft),mt):A(ft)}function mt(ft){return ft===46?n.check(AE,Et,yt)(ft):ft===45||ft===95||Sf(ft)?(Ne=!0,n.consume(ft),mt):Et(ft)}function yt(ft){return n.consume(ft),Ce=!0,mt}function Et(ft){return Ne&&Ce&&au(ce.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),m(ft)):A(ft)}}function ZE(n,m,A){const ce=this;return Ce;function Ce(Ge){return Ge!==87&&Ge!==119||!Dg.call(ce,ce.previous)||_f(ce.events)?A(Ge):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(LE,n.attempt(Tg,n.attempt(Pg,Ne),A),A)(Ge))}function Ne(Ge){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),m(Ge)}}function zE(n,m,A){const ce=this;let Ce="",Ne=!1;return Ge;function Ge(ft){return(ft===72||ft===104)&&Lg.call(ce,ce.previous)&&!_f(ce.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),Ce+=String.fromCodePoint(ft),n.consume(ft),$e):A(ft)}function $e(ft){if(au(ft)&&Ce.length<5)return Ce+=String.fromCodePoint(ft),n.consume(ft),$e;if(ft===58){const We=Ce.toLowerCase();if(We==="http"||We==="https")return n.consume(ft),mt}return A(ft)}function mt(ft){return ft===47?(n.consume(ft),Ne?yt:(Ne=!0,mt)):A(ft)}function yt(ft){return ft===null||OE(ft)||Lc(ft)||lu(ft)||Og(ft)?A(ft):n.attempt(Tg,n.attempt(Pg,Et),A)(ft)}function Et(ft){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),m(ft)}}function NE(n,m,A){let ce=0;return Ce;function Ce(Ge){return(Ge===87||Ge===119)&&ce<3?(ce++,n.consume(Ge),Ce):Ge===46&&ce===3?(n.consume(Ge),Ne):A(Ge)}function Ne(Ge){return Ge===null?A(Ge):m(Ge)}}function BE(n,m,A){let ce,Ce,Ne;return Ge;function Ge(yt){return yt===46||yt===95?n.check(Ig,mt,$e)(yt):yt===null||Lc(yt)||lu(yt)||yt!==45&&Og(yt)?mt(yt):(Ne=!0,n.consume(yt),Ge)}function $e(yt){return yt===95?ce=!0:(Ce=ce,ce=void 0),n.consume(yt),Ge}function mt(yt){return Ce||ce||!Ne?A(yt):m(yt)}}function WE(n,m){let A=0,ce=0;return Ce;function Ce(Ge){return Ge===40?(A++,n.consume(Ge),Ce):Ge===41&&ce<A?Ne(Ge):Ge===33||Ge===34||Ge===38||Ge===39||Ge===41||Ge===42||Ge===44||Ge===46||Ge===58||Ge===59||Ge===60||Ge===63||Ge===93||Ge===95||Ge===126?n.check(Ig,m,Ne)(Ge):Ge===null||Lc(Ge)||lu(Ge)?m(Ge):(n.consume(Ge),Ce)}function Ne(Ge){return Ge===41&&ce++,n.consume(Ge),Ce}}function HE(n,m,A){return ce;function ce($e){return $e===33||$e===34||$e===39||$e===41||$e===42||$e===44||$e===46||$e===58||$e===59||$e===63||$e===95||$e===126?(n.consume($e),ce):$e===38?(n.consume($e),Ne):$e===93?(n.consume($e),Ce):$e===60||$e===null||Lc($e)||lu($e)?m($e):A($e)}function Ce($e){return $e===null||$e===40||$e===91||Lc($e)||lu($e)?m($e):ce($e)}function Ne($e){return au($e)?Ge($e):A($e)}function Ge($e){return $e===59?(n.consume($e),ce):au($e)?(n.consume($e),Ge):A($e)}}function FE(n,m,A){return ce;function ce(Ne){return n.consume(Ne),Ce}function Ce(Ne){return Sf(Ne)?A(Ne):m(Ne)}}function Dg(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||Lc(n)}function Lg(n){return!au(n)}function Ag(n){return!(n===47||Y0(n))}function Y0(n){return n===43||n===45||n===46||n===95||Sf(n)}function _f(n){let m=n.length,A=!1;for(;m--;){const ce=n[m][1];if((ce.type==="labelLink"||ce.type==="labelImage")&&!ce._balanced){A=!0;break}if(ce._gfmAutolinkLiteralWalkedInto){A=!1;break}}return n.length>0&&!A&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),A}Ui(null);function UE(){const{excalidrawAPI:n}=fc(Ua(Ge=>({excalidrawAPI:Ge.excalidrawAPI}))),m=lo.useCallback(Ge=>{const $e=$l.viewportCoordsToSceneCoords({clientX:100,clientY:100},n.getAppState()),mt=n.getSceneElementsIncludingDeleted().slice();mt.push({link:Ge,id:(Math.random()+1).toString(36).substring(7),x:$e.x,y:$e.y,strokeColor:"#1e1e1e",backgroundColor:"transparent",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roundness:null,roughness:1,opacity:100,width:400,height:200,angle:0,seed:0,version:0,versionNonce:0,isDeleted:!1,groupIds:[],frameId:null,boundElements:null,updated:0,locked:!1,type:"embeddable",validated:!0}),n.updateScene({elements:mt})},[n]),A=lo.useCallback(()=>{kE(null,!0).then(Ge=>m(Ge)).catch(Ge=>{(typeof Ge=="string"?Ge:Ge?.message)?.includes("User cancellation")?console.debug("[SmartPicker] Picker cancelled by user"):console.error("[SmartPicker] Error during picking:",Ge)})},[m]),ce=lo.useCallback(()=>Jo.createElement("button",{className:"dropdown-menu-button smart-picker-trigger","aria-label":"Smart picker","aria-keyshortcuts":"0",onClick:A,title:"Smart picker"},Jo.createElement(uc.Icon,{path:Dw,size:1})),[A]),Ce=lo.useRef(!1),Ne=lo.useCallback(()=>{if(Ce.current)return;const Ge=Array.from(document.getElementsByClassName("App-toolbar__extra-tools-trigger")).find(mt=>!mt.classList.contains("smart-picker-trigger"));if(!Ge)return;const $e=document.createElement("label");$e.classList.add("ToolIcon","Shape","smart-picker-container"),Ge.parentNode?.insertBefore($e,Ge.previousSibling),_x.render(ce(),$e),Ce.current=!0},[ce]);return lo.useEffect(()=>{n&&Ne()},[n,Ne]),{renderSmartPicker:Ne}}function KE(){const{excalidrawAPI:n}=fc(),{isReadOnly:m,setReadOnly:A}=Li(),{getJWT:ce,parseJwt:Ce}=vd(),Ne=lo.useCallback($e=>{if(A($e),console.log(`[Permissions] User has ${$e?"read-only":"write"} access`),n)try{const mt=n.getAppState().viewModeEnabled;$e&&!mt?(console.log("[Permissions] Enabling view mode via Excalidraw API"),n.updateScene({appState:{viewModeEnabled:!0}})):!$e&&mt&&(console.log("[Permissions] Disabling view mode via Excalidraw API"),n.updateScene({appState:{viewModeEnabled:!1}}))}catch(mt){console.error("[Permissions] Error updating view mode via Excalidraw API:",mt)}},[n,A]),Ge=lo.useCallback(async()=>{const{fileId:$e}=Li.getState();if(!$e)return console.warn("[Permissions] Cannot refresh read-only state: invalid fileId",$e),!1;try{const mt=await ce();if(mt){const yt=Ce(mt);if(yt&&yt.isFileReadOnly!==void 0)return console.log(`[Permissions] JWT indicates ${yt.isFileReadOnly?"read-only":"write"} access`),Ne(yt.isFileReadOnly),!0}}catch(mt){console.error("[Permissions] Error refreshing read-only state:",mt)}return!1},[ce,Ce,Ne]);return lo.useEffect(()=>{if(n){console.log(`[Permissions] Excalidraw API available, applying current read-only state: ${m}`),Ne(m);const{fileId:$e}=Li.getState();$e?(console.log(`[Permissions] Refreshing from JWT with fileId: ${$e}`),Ge()):console.warn("[Permissions] Skipping JWT refresh due to invalid fileId")}},[n,m,Ne,Ge]),lo.useEffect(()=>{const{fileId:$e}=Li.getState();$e?(console.log(`[Permissions] Initial setup with fileId: ${$e}`),Ge()):console.warn("[Permissions] Skipping initial JWT refresh due to invalid fileId")},[Ge]),{isReadOnly:m,updateReadOnlyState:Ne,refreshReadOnlyState:Ge}}const $E=lo.memo(function({fileNameWithoutExtension:n}){const m=lo.useCallback(()=>{const A=document.querySelector(".excalidraw__canvas");if(A){const ce=A.toDataURL("image/png"),Ce=document.createElement("a");Ce.href=ce,Ce.download=`${n} Screenshot.png`,document.body.appendChild(Ce),Ce.click()}},[n]);return Jo.createElement($l.MainMenu,null,Jo.createElement($l.MainMenu.DefaultItems.ToggleTheme,null),Jo.createElement($l.MainMenu.DefaultItems.ChangeCanvasBackground,null),Jo.createElement($l.MainMenu.Separator,null),Jo.createElement($l.MainMenu.DefaultItems.SaveAsImage,null),Jo.createElement($l.MainMenu.Item,{icon:Jo.createElement(uc.Icon,{path:Iw,size:"16px"}),onSelect:m},"Download screenshot"))}),VE=function({componentProps:n,component:m}){const A=Jo.useRef(null),[ce,Ce]=Jo.useState(void 0);return Jo.useEffect(()=>{async function Ne(){}return Ne(),Ce(new zl({el:A.current,data(){return{props:n}},render(Ge){return Ge(m,{props:this.props})}})),()=>{ce?.$destroy()}},[]),Jo.useEffect(()=>{ce&&Object.keys(n).forEach(Ne=>{ce.props[Ne]=n[Ne]})},[Object.values(n)]),Jo.createElement("div",{id:"vue-component",ref:A})};function YE(n){const m={text:n.link,limit:1,interactive:!0};return Jo.createElement(VE,{componentProps:m,component:jE})}const Gc=new Map($l.languages.map(n=>[n.code.toLowerCase(),n.code]));function Zm(n){const m=n.toLowerCase();if(Gc.has(m))return Gc.get(m);const A=m.replace("_","-");if(Gc.has(A))return Gc.get(A);for(const[ce,Ce]of Gc)if(ce.startsWith(m)||m.startsWith(ce.split("-")[0]))return Ce;return"en"}const GE=Rc()(n=>({lang:Zm(Zp()),updateLang:()=>{const m=Zp();n({lang:Zm(m)})},setLang:m=>n({lang:m})})),qE=n=>{switch(n){case"offline":return{icon:ch,text:"Offline",className:"network-status--offline",description:"Offline - Changes saved locally."};case"connecting":return{icon:Aw,text:"Connecting",className:"network-status--connecting",description:"Connecting to collaboration server..."};case"reconnecting":return{icon:Rw,text:"Reconnecting",className:"network-status--reconnecting",description:"Attempting to reconnect..."};case"online":return{icon:Lw,text:"Online",className:"network-status--online",description:"Connected."};default:return console.warn(`[NetworkStatusIndicator] Unknown status: ${n}`),{icon:ch,text:"Unknown",className:"network-status--offline",description:"Unknown connection status."}}},XE=()=>{const{status:n,authError:m}=Hi(Ua(t=>({status:t.status,authError:t.authError}))),[A,ce]=lo.useState(!1),[Ce]=lo.useState(!0),Ne=lo.useRef(n);lo.useEffect(()=>{if(Ne.current!==n){Ne.current=n,ce(!0);const t=setTimeout(()=>{ce(!1)},3e3);return()=>clearTimeout(t)}},[n]);const Ge=lo.useMemo(()=>qE(n),[n]),{icon:$e,text:mt,className:yt,description:Et}=Ge,ft=lo.useMemo(()=>{let t=Et;return m.isPersistent&&m.type==="jwt_secret_mismatch"?t+=" Authentication configuration issue detected.":m.consecutiveFailures>=2&&(t+=" Authentication issues detected."),t},[Et,m]),We=lo.useCallback(()=>{ce(t=>!t)},[]),te=lo.useCallback(t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),We())},[We]);return Ce?Jo.createElement("div",{className:`network-status ${yt} ${A?"network-status--expanded":""}`,onClick:We,onKeyDown:te,title:ft,role:"button","aria-live":"polite","aria-label":`Connection: ${mt}. ${A?ft:"Click to expand."}`,tabIndex:0},Jo.createElement("div",{className:"network-status__icon-container"},n==="connecting"||n==="reconnecting"?Jo.createElement(uc.Icon,{path:Pw,size:.9,spin:1,"aria-hidden":"true"}):Jo.createElement(uc.Icon,{path:$e,size:.9,"aria-hidden":"true"})),A&&Jo.createElement("div",{className:"network-status__content"},Jo.createElement("span",{className:"network-status__text"},mt))):null},Rg=lo.memo(XE);Rg.displayName="NetworkStatusIndicator";const JE=(n,m)=>{switch(n){case"jwt_secret_mismatch":return{icon:sh,title:m?"Authentication Configuration Issue":"Authentication Error",message:m?"Unable to connect to collaboration server. The JWT secret may be misconfigured. You can continue working locally, and your changes will be saved to your device.":"Temporary authentication issue. Retrying connection...",actionText:m?"Open Admin Settings":void 0,severity:m?"error":"warning"};case"token_expired":return{icon:Tw,title:"Session Expired",message:"Your session has expired. Attempting to refresh authentication...",severity:"info"};case"unauthorized":return{icon:sh,title:m?"Access Denied":"Authentication Issue",message:m?"You do not have permission to access this whiteboard for collaboration. You can continue working locally.":"Authentication issue detected. Retrying...",severity:m?"error":"warning"};default:return null}},QE=()=>{const{authError:n,clearAuthError:m}=Hi(Ua(yt=>({authError:yt.authError,clearAuthError:yt.clearAuthError}))),[A,ce]=lo.useState(!1),[Ce,Ne]=lo.useState(!1);lo.useEffect(()=>{const yt=n&&n.type!==null&&(n.isPersistent||n.consecutiveFailures>=2)&&!Ce;ce(yt)},[n,Ce]),lo.useEffect(()=>{if(A&&!n.isPersistent){const yt=setTimeout(()=>{ce(!1)},8e3);return()=>clearTimeout(yt)}},[A,n.isPersistent]);const Ge=lo.useCallback(()=>{Ne(!0),ce(!1),n&&!n.isPersistent&&m()},[n,m]),$e=lo.useCallback(()=>{if(n?.type==="jwt_secret_mismatch"&&n.isPersistent){const yt=Ac("/settings/admin/whiteboard");window.open(yt,"_blank","noopener,noreferrer")}},[n]);if(!A||!n.type)return null;const mt=JE(n.type,n.isPersistent);return mt?Jo.createElement("div",{className:`auth-error-notification auth-error-notification--${mt.severity}`},Jo.createElement("div",{className:"auth-error-notification__content"},Jo.createElement("div",{className:"auth-error-notification__icon"},Jo.createElement(uc.Icon,{path:mt.icon,size:1.2})),Jo.createElement("div",{className:"auth-error-notification__text"},Jo.createElement("div",{className:"auth-error-notification__title"},mt.title),Jo.createElement("div",{className:"auth-error-notification__message"},mt.message),n.isPersistent&&Jo.createElement("div",{className:"auth-error-notification__details"},Jo.createElement("small",null,"Local changes are automatically saved to your device. Collaboration features will be unavailable until this issue is resolved."))),Jo.createElement("div",{className:"auth-error-notification__actions"},mt.actionText&&Jo.createElement("button",{className:"auth-error-notification__action-button",onClick:$e,title:mt.actionText},Jo.createElement(uc.Icon,{path:Mw,size:.9})),Jo.createElement("button",{className:"auth-error-notification__close-button",onClick:Ge,title:"Dismiss"},Jo.createElement(uc.Icon,{path:Ow,size:.9}))))):null},e9=lo.memo(QE);function Ol(n,m){console.log(`[SyncStore] ${n} sync ${m.status}`,m.elementsCount?`elements: ${m.elementsCount}`:"",m.error?`error: ${m.error}`:"")}const hd=Rc((n,m)=>({worker:null,isWorkerReady:!1,setWorker:A=>n({worker:A}),setIsWorkerReady:A=>{n({isWorkerReady:A})},initializeWorker:()=>{console.log("[SyncStore] Initializing sync worker"),m().worker&&m().terminateWorker(),n({isWorkerReady:!1});let A=null;try{A=new Worker(new URL(""+window.OC.filePath("whiteboard","","js/syncWorker-eAUTJZ7o.js"),import.meta.url),{type:"module"}),console.log("[SyncStore] Worker initialized successfully"),A?(A.onmessage=ce=>{const{type:Ce,...Ne}=ce.data;switch(console.log(`[SyncStore] Received message from worker: ${Ce}`,Ne),Ce){case"INIT_COMPLETE":console.log("[SyncStore] Worker initialization complete"),m().setIsWorkerReady(!0);break;case"LOCAL_SYNC_COMPLETE":console.log("[SyncStore] Worker completed local sync:",Ne),Ol("local",{status:"success",elementsCount:Ne.elementsCount,error:null});break;case"LOCAL_SYNC_ERROR":console.error("[SyncStore] Worker local sync error:",Ne.error),Ol("local",{status:"error",error:Ne.error});break;case"SERVER_SYNC_COMPLETE":console.log("[SyncStore] Worker completed server sync:",Ne),Ol("server",{status:"success",elementsCount:Ne.elementsCount,error:null});break;case"SERVER_SYNC_ERROR":console.error("[SyncStore] Worker server sync error:",Ne.error),Ol("server",{status:"error",error:Ne.error});break;default:console.warn(`[SyncStore] Unknown message from worker: ${Ce}`)}},A.postMessage({type:"INIT"}),n({worker:A})):console.warn("[SyncStore] Worker not available, using fallback")}catch(ce){console.error("[SyncStore] Failed to initialize worker:",ce)}return A},terminateWorker:()=>{const{worker:A}=m();A&&(A.terminate(),n({worker:null,isWorkerReady:!1}),console.log("[SyncStore] Worker terminated"))}})),t9=1e3,n9=6e4,r9=500,o9=50;function i9(){const{fileId:n,isReadOnly:m}=Li(Ua(c=>({fileId:c.fileId,isReadOnly:c.isReadOnly}))),{initializeWorker:A,terminateWorker:ce,isWorkerReady:Ce,worker:Ne}=hd(Ua(c=>({initializeWorker:c.initializeWorker,terminateWorker:c.terminateWorker,isWorkerReady:c.isWorkerReady,worker:c.worker}))),{getJWT:Ge}=vd(Ua(c=>({getJWT:c.getJWT}))),{excalidrawAPI:$e}=fc(Ua(c=>({excalidrawAPI:c.excalidrawAPI}))),{isDedicatedSyncer:mt,status:yt,socket:Et}=Hi(Ua(c=>({isDedicatedSyncer:c.isDedicatedSyncer,status:c.status,socket:c.socket})));lo.useEffect(()=>(A(),()=>{console.log("[Sync] Terminating worker via useSync cleanup."),ce()}),[A,ce]);const ft=lo.useRef({});lo.useEffect(()=>{ft.current={},console.debug("[Sync] Cleared prevSyncedFilesRef due to fileId change:",n)},[n]);const We=lo.useCallback(async()=>{if(!Ce||!Ne||!n||!$e||m){console.debug("[Sync] Not ready for local sync:",{isWorkerReady:Ce,hasWorker:!!Ne,hasFileId:!!n,hasApi:!!$e,isReadOnly:m});return}try{console.debug(`[Sync] Preparing local sync for file ${n}`);const c=$e.getSceneElementsIncludingDeleted(),Z=$e.getAppState(),F=$e.getFiles(),_={...Z};delete _?.collaborators,delete _?.selectedElementIds,console.debug(`[Sync] Sending ${c.length} elements to worker for local sync.`),Ne.postMessage({type:"SYNC_TO_LOCAL",fileId:n,elements:c,files:F,appState:_}),Ol("local",{status:"syncing"})}catch(c){console.error("[Sync] Local sync failed:",c),Ol("local",{status:"error",error:c instanceof Error?c.message:String(c)})}},[Ce,Ne,n,$e,m]),te=lo.useCallback(async()=>{if(!Ce||!Ne||!n||!$e||!mt||m||yt!=="online"){console.debug("[Sync] Not ready for server sync:",{isWorkerReady:Ce,hasWorker:!!Ne,hasFileId:!!n,hasApi:!!$e,isDedicatedSyncer:mt,isReadOnly:m,collabStatus:yt});return}Ol("server",{status:"syncing API"});try{const c=await Ge();if(!c)throw new Error("JWT token missing for server API sync.");if(Li.getState().fileId!==n)throw new Error("FileId changed during server sync preparation.");const Z=$e.getSceneElementsIncludingDeleted(),F=$e.getFiles();Ne.postMessage({type:"SYNC_TO_SERVER",fileId:n,url:Ac(`apps/whiteboard/${n}`),jwt:c,elements:Z,files:F})}catch(c){console.error("[Sync] Server API sync failed:",c),Ol("server",{status:"error API",error:c instanceof Error?c.message:String(c)})}},[Ce,Ne,n,$e,mt,m,yt,Ge]),t=c=>{if(!c)return"";const Z=c.length,F=c.substring(0,20),_=c.substring(Math.max(0,Z-20));return`${Z}:${F}:${_}`},e=lo.useCallback(async()=>{if(!n||!$e||!Et||yt!=="online"||m){console.debug("[Sync] Not ready for websocket sync:",{hasFileId:!!n,hasApi:!!$e,hasSocket:!!Et,collabStatus:yt,isReadOnly:m});return}try{const c=$e.getSceneElementsIncludingDeleted(),Z=$e.getFiles(),F=JSON.stringify({type:"SCENE_INIT",payload:{elements:c}}),_=new TextEncoder().encode(F);if(Et.emit("server-broadcast",`${n}`,_,[]),Z&&Object.keys(Z).length>0){const h={};let x=0;for(const G in Z){const le=Z[G];if(!le?.dataURL)continue;const he=t(le.dataURL);if(h[G]=he,ft.current[G]!==he){const ve=JSON.stringify({type:"IMAGE_ADD",payload:{file:le}}),fe=new TextEncoder().encode(ve);Et.emit("server-broadcast",`${n}`,fe,[]),x++}}ft.current=h,Ol("websocket",{status:"sync success",elementsCount:c.length}),console.log(`[Sync] WebSocket sync: ${Object.keys(Z).length} files, ${x} changed`)}else Ol("websocket",{status:"sync success",elementsCount:c.length}),console.log("[Sync] WebSocket sync: 0 files"),ft.current={}}catch(c){console.error("[Sync] WebSocket sync failed:",c),Ol("websocket",{status:"sync error",error:c instanceof Error?c.message:String(c)})}},[n,$e,Et,yt,m]),w=lo.useMemo(()=>Ks.throttle(We,t9,{leading:!0,trailing:!0}),[We]),v=lo.useMemo(()=>Ks.throttle(te,n9,{leading:!0,trailing:!0}),[te]),d=lo.useMemo(()=>Ks.throttle(e,r9,{leading:!0,trailing:!0}),[e]),b=lo.useCallback(()=>{w(),v(),d(),console.debug("[Sync] Changes detected, triggered sync operations")},[w,v,d]),T=lo.useCallback(c=>{if(!n||!$e||!Et||yt!=="online"){console.debug("[Sync] Not ready for cursor sync:",{hasFileId:!!n,hasApi:!!$e,hasSocket:!!Et,collabStatus:yt});return}try{const Z={type:"MOUSE_LOCATION",payload:{pointer:c.pointer,button:c.button,selectedElementIds:$e.getAppState().selectedElementIds}},F=JSON.stringify(Z),_=new TextEncoder().encode(F);Et.emit("server-volatile-broadcast",`${n}`,_,[]),Ol("cursor",{status:"sync success"})}catch(Z){console.error("[Sync] Error syncing cursor:",Z),Ol("cursor",{status:"sync error",error:Z instanceof Error?Z.message:String(Z)})}},[n,$e,Et,yt]),S=lo.useMemo(()=>Ks.throttle(T,o9,{leading:!0,trailing:!0}),[T]),a=lo.useCallback(c=>{c.pointersMap.size<2&&S({pointer:c.pointer,button:c.button})},[S]);return lo.useEffect(()=>{const c=()=>{$e&&!m?(console.log("[Sync] Saving state locally on page unload (beforeunload)."),w.cancel(),We()):console.log("[Sync] Skipping local save on page unload (no API or read-only).")};return window.addEventListener("beforeunload",c),()=>{window.removeEventListener("beforeunload",c),console.log("[Sync] Cleaning up sync hook on unmount."),w.cancel(),v.cancel(),d.cancel(),S.cancel(),console.log("[Sync] Cancelled throttled functions on unmount.")}},[We,w,v,d,S,$e,m]),{onChange:b,onPointerUpdate:a}}var G0={exports:{}},a9=G0.exports,zm;function l9(){return zm||(zm=1,function(n,m){(function(A,ce){n.exports=ce()})(a9,function(){var A=function(be,De){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,dt){nt.__proto__=dt}||function(nt,dt){for(var xt in dt)Object.prototype.hasOwnProperty.call(dt,xt)&&(nt[xt]=dt[xt])})(be,De)},ce=function(){return(ce=Object.assign||function(be){for(var De,nt=1,dt=arguments.length;nt<dt;nt++)for(var xt in De=arguments[nt])Object.prototype.hasOwnProperty.call(De,xt)&&(be[xt]=De[xt]);return be}).apply(this,arguments)};function Ce(be,De,nt){for(var dt,xt=0,Pt=De.length;xt<Pt;xt++)!dt&&xt in De||((dt=dt||Array.prototype.slice.call(De,0,xt))[xt]=De[xt]);return be.concat(dt||Array.prototype.slice.call(De))}var Ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:qc,Ge=Object.keys,$e=Array.isArray;function mt(be,De){return typeof De!="object"||Ge(De).forEach(function(nt){be[nt]=De[nt]}),be}typeof Promise>"u"||Ne.Promise||(Ne.Promise=Promise);var yt=Object.getPrototypeOf,Et={}.hasOwnProperty;function ft(be,De){return Et.call(be,De)}function We(be,De){typeof De=="function"&&(De=De(yt(be))),(typeof Reflect>"u"?Ge:Reflect.ownKeys)(De).forEach(function(nt){t(be,nt,De[nt])})}var te=Object.defineProperty;function t(be,De,nt,dt){te(be,De,mt(nt&&ft(nt,"get")&&typeof nt.get=="function"?{get:nt.get,set:nt.set,configurable:!0}:{value:nt,configurable:!0,writable:!0},dt))}function e(be){return{from:function(De){return be.prototype=Object.create(De.prototype),t(be.prototype,"constructor",be),{extend:We.bind(null,be.prototype)}}}}var w=Object.getOwnPropertyDescriptor,v=[].slice;function d(be,De,nt){return v.call(be,De,nt)}function b(be,De){return De(be)}function T(be){if(!be)throw new Error("Assertion Failed")}function S(be){Ne.setImmediate?setImmediate(be):setTimeout(be,0)}function a(be,De){if(typeof De=="string"&&ft(be,De))return be[De];if(!De)return be;if(typeof De!="string"){for(var nt=[],dt=0,xt=De.length;dt<xt;++dt){var Pt=a(be,De[dt]);nt.push(Pt)}return nt}var en=De.indexOf(".");if(en!==-1){var Cn=be[De.substr(0,en)];return Cn==null?void 0:a(Cn,De.substr(en+1))}}function c(be,De,nt){if(be&&De!==void 0&&!("isFrozen"in Object&&Object.isFrozen(be)))if(typeof De!="string"&&"length"in De){T(typeof nt!="string"&&"length"in nt);for(var dt=0,xt=De.length;dt<xt;++dt)c(be,De[dt],nt[dt])}else{var Pt,en,Cn=De.indexOf(".");Cn!==-1?(Pt=De.substr(0,Cn),(en=De.substr(Cn+1))===""?nt===void 0?$e(be)&&!isNaN(parseInt(Pt))?be.splice(Pt,1):delete be[Pt]:be[Pt]=nt:c(Cn=!(Cn=be[Pt])||!ft(be,Pt)?be[Pt]={}:Cn,en,nt)):nt===void 0?$e(be)&&!isNaN(parseInt(De))?be.splice(De,1):delete be[De]:be[De]=nt}}function Z(be){var De,nt={};for(De in be)ft(be,De)&&(nt[De]=be[De]);return nt}var F=[].concat;function _(be){return F.apply([],be)}var Te="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(_([8,16,32,64].map(function(be){return["Int","Uint","Float"].map(function(De){return De+be+"Array"})}))).filter(function(be){return Ne[be]}),h=new Set(Te.map(function(be){return Ne[be]})),x=null;function G(be){return x=new WeakMap,be=function De(nt){if(!nt||typeof nt!="object")return nt;var dt=x.get(nt);if(dt)return dt;if($e(nt)){dt=[],x.set(nt,dt);for(var xt=0,Pt=nt.length;xt<Pt;++xt)dt.push(De(nt[xt]))}else if(h.has(nt.constructor))dt=nt;else{var en,Cn=yt(nt);for(en in dt=Cn===Object.prototype?{}:Object.create(Cn),x.set(nt,dt),nt)ft(nt,en)&&(dt[en]=De(nt[en]))}return dt}(be),x=null,be}var le={}.toString;function he(be){return le.call(be).slice(8,-1)}var ve=typeof Symbol<"u"?Symbol.iterator:"@@iterator",fe=typeof ve=="symbol"?function(be){var De;return be!=null&&(De=be[ve])&&De.apply(be)}:function(){return null};function X(be,De){return De=be.indexOf(De),0<=De&&be.splice(De,1),0<=De}var q={};function U(be){var De,nt,dt,xt;if(arguments.length===1){if($e(be))return be.slice();if(this===q&&typeof be=="string")return[be];if(xt=fe(be)){for(nt=[];!(dt=xt.next()).done;)nt.push(dt.value);return nt}if(be==null)return[be];if(typeof(De=be.length)!="number")return[be];for(nt=new Array(De);De--;)nt[De]=be[De];return nt}for(De=arguments.length,nt=new Array(De);De--;)nt[De]=arguments[De];return nt}var R=typeof Symbol<"u"?function(be){return be[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},me=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ua=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(me),B={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function M(be,De){this.name=be,this.message=De}function I(be,De){return be+". Errors: "+Object.keys(De).map(function(nt){return De[nt].toString()}).filter(function(nt,dt,xt){return xt.indexOf(nt)===dt}).join(`
`)}function E(be,De,nt,dt){this.failures=De,this.failedKeys=dt,this.successCount=nt,this.message=I(be,De)}function p(be,De){this.name="BulkError",this.failures=Object.keys(De).map(function(nt){return De[nt]}),this.failuresByPos=De,this.message=I(be,this.failures)}e(M).from(Error).extend({toString:function(){return this.name+": "+this.message}}),e(E).from(M),e(p).from(M);var r=ua.reduce(function(be,De){return be[De]=De+"Error",be},{}),o=M,g=ua.reduce(function(be,De){var nt=De+"Error";function dt(xt,Pt){this.name=nt,xt?typeof xt=="string"?(this.message="".concat(xt).concat(Pt?`
 `+Pt:""),this.inner=Pt||null):typeof xt=="object"&&(this.message="".concat(xt.name," ").concat(xt.message),this.inner=xt):(this.message=B[De]||nt,this.inner=null)}return e(dt).from(o),be[De]=dt,be},{});g.Syntax=SyntaxError,g.Type=TypeError,g.Range=RangeError;var s=me.reduce(function(be,De){return be[De+"Error"]=g[De],be},{}),u=ua.reduce(function(be,De){return["Syntax","Type","Range"].indexOf(De)===-1&&(be[De+"Error"]=g[De]),be},{});function k(){}function N(be){return be}function W(be,De){return be==null||be===N?De:function(nt){return De(be(nt))}}function O(be,De){return function(){be.apply(this,arguments),De.apply(this,arguments)}}function j(be,De){return be===k?De:function(){var nt=be.apply(this,arguments);nt!==void 0&&(arguments[0]=nt);var dt=this.onsuccess,xt=this.onerror;this.onsuccess=null,this.onerror=null;var Pt=De.apply(this,arguments);return dt&&(this.onsuccess=this.onsuccess?O(dt,this.onsuccess):dt),xt&&(this.onerror=this.onerror?O(xt,this.onerror):xt),Pt!==void 0?Pt:nt}}function L(be,De){return be===k?De:function(){be.apply(this,arguments);var nt=this.onsuccess,dt=this.onerror;this.onsuccess=this.onerror=null,De.apply(this,arguments),nt&&(this.onsuccess=this.onsuccess?O(nt,this.onsuccess):nt),dt&&(this.onerror=this.onerror?O(dt,this.onerror):dt)}}function V(be,De){return be===k?De:function(nt){var dt=be.apply(this,arguments);mt(nt,dt);var xt=this.onsuccess,Pt=this.onerror;return this.onsuccess=null,this.onerror=null,nt=De.apply(this,arguments),xt&&(this.onsuccess=this.onsuccess?O(xt,this.onsuccess):xt),Pt&&(this.onerror=this.onerror?O(Pt,this.onerror):Pt),dt===void 0?nt===void 0?void 0:nt:mt(dt,nt)}}function ie(be,De){return be===k?De:function(){return De.apply(this,arguments)!==!1&&be.apply(this,arguments)}}function se(be,De){return be===k?De:function(){var nt=be.apply(this,arguments);if(nt&&typeof nt.then=="function"){for(var dt=this,xt=arguments.length,Pt=new Array(xt);xt--;)Pt[xt]=arguments[xt];return nt.then(function(){return De.apply(dt,Pt)})}return De.apply(this,arguments)}}u.ModifyError=E,u.DexieError=M,u.BulkError=p;var ue=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function pe(be){ue=be}var Q={},ee=100,Te=typeof Promise>"u"?[]:function(){var be=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[be,yt(be),be];var De=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[De,yt(De),be]}(),me=Te[0],ua=Te[1],Te=Te[2],ua=ua&&ua.then,Ue=me&&me.constructor,qe=!!Te,Ae=function(be,De){l.push([be,De]),Ie&&(queueMicrotask(Je),Ie=!1)},Oe=!0,Ie=!0,Re=[],ke=[],xe=N,ye={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:k,pgp:!1,env:{},finalize:k},P=ye,l=[],f=0,D=[];function H(be){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var De=this._PSD=P;if(typeof be!="function"){if(be!==Q)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ae(this,this._value))}this._state=null,this._value=null,++De.ref,function nt(dt,xt){try{xt(function(Pt){if(dt._state===null){if(Pt===dt)throw new TypeError("A promise cannot be resolved with itself.");var en=dt._lib&&et();Pt&&typeof Pt.then=="function"?nt(dt,function(Cn,Wn){Pt instanceof H?Pt._then(Cn,Wn):Pt.then(Cn,Wn)}):(dt._state=!0,dt._value=Pt,ge(dt)),en&&Ke()}},ae.bind(null,dt))}catch(Pt){ae(dt,Pt)}}(this,be)}var J={get:function(){var be=P,De=ct;function nt(dt,xt){var Pt=this,en=!be.global&&(be!==P||De!==ct),Cn=en&&!Mt(),Wn=new H(function(Ot,Gt){_e(Pt,new re(jn(dt,be,en,Cn),jn(xt,be,en,Cn),Ot,Gt,be))});return this._consoleTask&&(Wn._consoleTask=this._consoleTask),Wn}return nt.prototype=Q,nt},set:function(be){t(this,"then",be&&be.prototype===Q?J:{get:function(){return be},set:J.set})}};function re(be,De,nt,dt,xt){this.onFulfilled=typeof be=="function"?be:null,this.onRejected=typeof De=="function"?De:null,this.resolve=nt,this.reject=dt,this.psd=xt}function ae(be,De){var nt,dt;ke.push(De),be._state===null&&(nt=be._lib&&et(),De=xe(De),be._state=!1,be._value=De,dt=be,Re.some(function(xt){return xt._value===dt._value})||Re.push(dt),ge(be),nt&&Ke())}function ge(be){var De=be._listeners;be._listeners=[];for(var nt=0,dt=De.length;nt<dt;++nt)_e(be,De[nt]);var xt=be._PSD;--xt.ref||xt.finalize(),f===0&&(++f,Ae(function(){--f==0&&tt()},[]))}function _e(be,De){if(be._state!==null){var nt=be._state?De.onFulfilled:De.onRejected;if(nt===null)return(be._state?De.resolve:De.reject)(be._value);++De.psd.ref,++f,Ae(ze,[nt,be,De])}else be._listeners.push(De)}function ze(be,De,nt){try{var dt,xt=De._value;!De._state&&ke.length&&(ke=[]),dt=ue&&De._consoleTask?De._consoleTask.run(function(){return be(xt)}):be(xt),De._state||ke.indexOf(xt)!==-1||function(Pt){for(var en=Re.length;en;)if(Re[--en]._value===Pt._value)return Re.splice(en,1)}(De),nt.resolve(dt)}catch(Pt){nt.reject(Pt)}finally{--f==0&&tt(),--nt.psd.ref||nt.psd.finalize()}}function Je(){on(ye,function(){et()&&Ke()})}function et(){var be=Oe;return Ie=Oe=!1,be}function Ke(){var be,De,nt;do for(;0<l.length;)for(be=l,l=[],nt=be.length,De=0;De<nt;++De){var dt=be[De];dt[0].apply(null,dt[1])}while(0<l.length);Ie=Oe=!0}function tt(){var be=Re;Re=[],be.forEach(function(dt){dt._PSD.onunhandled.call(null,dt._value,dt)});for(var De=D.slice(0),nt=De.length;nt;)De[--nt]()}function ut(be){return new H(Q,!1,be)}function ht(be,De){var nt=P;return function(){var dt=et(),xt=P;try{return rn(nt,!0),be.apply(this,arguments)}catch(Pt){De&&De(Pt)}finally{rn(xt,!1),dt&&Ke()}}}We(H.prototype,{then:J,_then:function(be,De){_e(this,new re(null,null,be,De,P))},catch:function(be){if(arguments.length===1)return this.then(null,be);var De=be,nt=arguments[1];return typeof De=="function"?this.then(null,function(dt){return(dt instanceof De?nt:ut)(dt)}):this.then(null,function(dt){return(dt&&dt.name===De?nt:ut)(dt)})},finally:function(be){return this.then(function(De){return H.resolve(be()).then(function(){return De})},function(De){return H.resolve(be()).then(function(){return ut(De)})})},timeout:function(be,De){var nt=this;return be<1/0?new H(function(dt,xt){var Pt=setTimeout(function(){return xt(new g.Timeout(De))},be);nt.then(dt,xt).finally(clearTimeout.bind(null,Pt))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&t(H.prototype,Symbol.toStringTag,"Dexie.Promise"),ye.env=Xt(),We(H,{all:function(){var be=U.apply(null,arguments).map(Zt);return new H(function(De,nt){be.length===0&&De([]);var dt=be.length;be.forEach(function(xt,Pt){return H.resolve(xt).then(function(en){be[Pt]=en,--dt||De(be)},nt)})})},resolve:function(be){return be instanceof H?be:be&&typeof be.then=="function"?new H(function(De,nt){be.then(De,nt)}):new H(Q,!0,be)},reject:ut,race:function(){var be=U.apply(null,arguments).map(Zt);return new H(function(De,nt){be.map(function(dt){return H.resolve(dt).then(De,nt)})})},PSD:{get:function(){return P},set:function(be){return P=be}},totalEchoes:{get:function(){return ct}},newPSD:wt,usePSD:on,scheduler:{get:function(){return Ae},set:function(be){Ae=be}},rejectionMapper:{get:function(){return xe},set:function(be){xe=be}},follow:function(be,De){return new H(function(nt,dt){return wt(function(xt,Pt){var en=P;en.unhandleds=[],en.onunhandled=Pt,en.finalize=O(function(){var Cn,Wn=this;Cn=function(){Wn.unhandleds.length===0?xt():Pt(Wn.unhandleds[0])},D.push(function Ot(){Cn(),D.splice(D.indexOf(Ot),1)}),++f,Ae(function(){--f==0&&tt()},[])},en.finalize),be()},De,nt,dt)})}}),Ue&&(Ue.allSettled&&t(H,"allSettled",function(){var be=U.apply(null,arguments).map(Zt);return new H(function(De){be.length===0&&De([]);var nt=be.length,dt=new Array(nt);be.forEach(function(xt,Pt){return H.resolve(xt).then(function(en){return dt[Pt]={status:"fulfilled",value:en}},function(en){return dt[Pt]={status:"rejected",reason:en}}).then(function(){return--nt||De(dt)})})})}),Ue.any&&typeof AggregateError<"u"&&t(H,"any",function(){var be=U.apply(null,arguments).map(Zt);return new H(function(De,nt){be.length===0&&nt(new AggregateError([]));var dt=be.length,xt=new Array(dt);be.forEach(function(Pt,en){return H.resolve(Pt).then(function(Cn){return De(Cn)},function(Cn){xt[en]=Cn,--dt||nt(new AggregateError(xt))})})})}),Ue.withResolvers&&(H.withResolvers=Ue.withResolvers));var He={awaits:0,echoes:0,id:0},Ee=0,Le=[],Qe=0,ct=0,bt=0;function wt(be,De,nt,dt){var xt=P,Pt=Object.create(xt);return Pt.parent=xt,Pt.ref=0,Pt.global=!1,Pt.id=++bt,ye.env,Pt.env=qe?{Promise:H,PromiseProp:{value:H,configurable:!0,writable:!0},all:H.all,race:H.race,allSettled:H.allSettled,any:H.any,resolve:H.resolve,reject:H.reject}:{},De&&mt(Pt,De),++xt.ref,Pt.finalize=function(){--this.parent.ref||this.parent.finalize()},dt=on(Pt,be,nt,dt),Pt.ref===0&&Pt.finalize(),dt}function zt(){return He.id||(He.id=++Ee),++He.awaits,He.echoes+=ee,He.id}function Mt(){return!!He.awaits&&(--He.awaits==0&&(He.id=0),He.echoes=He.awaits*ee,!0)}function Zt(be){return He.echoes&&be&&be.constructor===Ue?(zt(),be.then(function(De){return Mt(),De},function(De){return Mt(),kt(De)})):be}function sn(){var be=Le[Le.length-1];Le.pop(),rn(be,!1)}function rn(be,De){var nt,dt=P;(De?!He.echoes||Qe++&&be===P:!Qe||--Qe&&be===P)||queueMicrotask(De?function(xt){++ct,He.echoes&&--He.echoes!=0||(He.echoes=He.awaits=He.id=0),Le.push(P),rn(xt,!0)}.bind(null,be):sn),be!==P&&(P=be,dt===ye&&(ye.env=Xt()),qe&&(nt=ye.env.Promise,De=be.env,(dt.global||be.global)&&(Object.defineProperty(Ne,"Promise",De.PromiseProp),nt.all=De.all,nt.race=De.race,nt.resolve=De.resolve,nt.reject=De.reject,De.allSettled&&(nt.allSettled=De.allSettled),De.any&&(nt.any=De.any))))}function Xt(){var be=Ne.Promise;return qe?{Promise:be,PromiseProp:Object.getOwnPropertyDescriptor(Ne,"Promise"),all:be.all,race:be.race,allSettled:be.allSettled,any:be.any,resolve:be.resolve,reject:be.reject}:{}}function on(be,De,nt,dt,xt){var Pt=P;try{return rn(be,!0),De(nt,dt,xt)}finally{rn(Pt,!1)}}function jn(be,De,nt,dt){return typeof be!="function"?be:function(){var xt=P;nt&&zt(),rn(De,!0);try{return be.apply(this,arguments)}finally{rn(xt,!1),dt&&queueMicrotask(Mt)}}}function It(be){Promise===Ue&&He.echoes===0?Qe===0?be():enqueueNativeMicroTask(be):setTimeout(be,0)}(""+ua).indexOf("[native code]")===-1&&(zt=Mt=k);var kt=H.reject,Ht="￿",At="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Wt="String expected.",Kt=[],an="__dbnames",bn="readonly",hn="readwrite";function An(be,De){return be?De?function(){return be.apply(this,arguments)&&De.apply(this,arguments)}:be:De}var Yn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function tr(be){return typeof be!="string"||/\./.test(be)?function(De){return De}:function(De){return De[be]===void 0&&be in De&&delete(De=G(De))[be],De}}function Sn(){throw g.Type()}function Bt(be,De){try{var nt=dn(be),dt=dn(De);if(nt!==dt)return nt==="Array"?1:dt==="Array"?-1:nt==="binary"?1:dt==="binary"?-1:nt==="string"?1:dt==="string"?-1:nt==="Date"?1:dt!=="Date"?NaN:-1;switch(nt){case"number":case"Date":case"string":return De<be?1:be<De?-1:0;case"binary":return function(xt,Pt){for(var en=xt.length,Cn=Pt.length,Wn=en<Cn?en:Cn,Ot=0;Ot<Wn;++Ot)if(xt[Ot]!==Pt[Ot])return xt[Ot]<Pt[Ot]?-1:1;return en===Cn?0:en<Cn?-1:1}(un(be),un(De));case"Array":return function(xt,Pt){for(var en=xt.length,Cn=Pt.length,Wn=en<Cn?en:Cn,Ot=0;Ot<Wn;++Ot){var Gt=Bt(xt[Ot],Pt[Ot]);if(Gt!==0)return Gt}return en===Cn?0:en<Cn?-1:1}(be,De)}}catch{}return NaN}function dn(be){var De=typeof be;return De!="object"?De:ArrayBuffer.isView(be)?"binary":(be=he(be),be==="ArrayBuffer"?"binary":be)}function un(be){return be instanceof Uint8Array?be:ArrayBuffer.isView(be)?new Uint8Array(be.buffer,be.byteOffset,be.byteLength):new Uint8Array(be)}var Bn=(Jn.prototype._trans=function(be,De,nt){var dt=this._tx||P.trans,xt=this.name,Pt=ue&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(be==="readonly"?"read":"write"," ").concat(this.name));function en(Ot,Gt,Tt){if(!Tt.schema[xt])throw new g.NotFound("Table "+xt+" not part of transaction");return De(Tt.idbtrans,Tt)}var Cn=et();try{var Wn=dt&&dt.db._novip===this.db._novip?dt===P.trans?dt._promise(be,en,nt):wt(function(){return dt._promise(be,en,nt)},{trans:dt,transless:P.transless||P}):function Ot(Gt,Tt,mn,Jt){if(Gt.idbdb&&(Gt._state.openComplete||P.letThrough||Gt._vip)){var On=Gt._createTransaction(Tt,mn,Gt._dbSchema);try{On.create(),Gt._state.PR1398_maxLoop=3}catch(In){return In.name===r.InvalidState&&Gt.isOpen()&&0<--Gt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Gt.close({disableAutoOpen:!1}),Gt.open().then(function(){return Ot(Gt,Tt,mn,Jt)})):kt(In)}return On._promise(Tt,function(In,gn){return wt(function(){return P.trans=On,Jt(In,gn,On)})}).then(function(In){if(Tt==="readwrite")try{On.idbtrans.commit()}catch{}return Tt==="readonly"?In:On._completion.then(function(){return In})})}if(Gt._state.openComplete)return kt(new g.DatabaseClosed(Gt._state.dbOpenError));if(!Gt._state.isBeingOpened){if(!Gt._state.autoOpen)return kt(new g.DatabaseClosed);Gt.open().catch(k)}return Gt._state.dbReadyPromise.then(function(){return Ot(Gt,Tt,mn,Jt)})}(this.db,be,[this.name],en);return Pt&&(Wn._consoleTask=Pt,Wn=Wn.catch(function(Ot){return console.trace(Ot),kt(Ot)})),Wn}finally{Cn&&Ke()}},Jn.prototype.get=function(be,De){var nt=this;return be&&be.constructor===Object?this.where(be).first(De):be==null?kt(new g.Type("Invalid argument to Table.get()")):this._trans("readonly",function(dt){return nt.core.get({trans:dt,key:be}).then(function(xt){return nt.hook.reading.fire(xt)})}).then(De)},Jn.prototype.where=function(be){if(typeof be=="string")return new this.db.WhereClause(this,be);if($e(be))return new this.db.WhereClause(this,"[".concat(be.join("+"),"]"));var De=Ge(be);if(De.length===1)return this.where(De[0]).equals(be[De[0]]);var nt=this.schema.indexes.concat(this.schema.primKey).filter(function(Cn){if(Cn.compound&&De.every(function(Ot){return 0<=Cn.keyPath.indexOf(Ot)})){for(var Wn=0;Wn<De.length;++Wn)if(De.indexOf(Cn.keyPath[Wn])===-1)return!1;return!0}return!1}).sort(function(Cn,Wn){return Cn.keyPath.length-Wn.keyPath.length})[0];if(nt&&this.db._maxKey!==Ht){var Pt=nt.keyPath.slice(0,De.length);return this.where(Pt).equals(Pt.map(function(Wn){return be[Wn]}))}!nt&&ue&&console.warn("The query ".concat(JSON.stringify(be)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(De.join("+"),"]"));var dt=this.schema.idxByName;function xt(Cn,Wn){return Bt(Cn,Wn)===0}var en=De.reduce(function(Tt,Wn){var Ot=Tt[0],Gt=Tt[1],Tt=dt[Wn],mn=be[Wn];return[Ot||Tt,Ot||!Tt?An(Gt,Tt&&Tt.multi?function(Jt){return Jt=a(Jt,Wn),$e(Jt)&&Jt.some(function(On){return xt(mn,On)})}:function(Jt){return xt(mn,a(Jt,Wn))}):Gt]},[null,null]),Pt=en[0],en=en[1];return Pt?this.where(Pt.name).equals(be[Pt.keyPath]).filter(en):nt?this.filter(en):this.where(De).equals("")},Jn.prototype.filter=function(be){return this.toCollection().and(be)},Jn.prototype.count=function(be){return this.toCollection().count(be)},Jn.prototype.offset=function(be){return this.toCollection().offset(be)},Jn.prototype.limit=function(be){return this.toCollection().limit(be)},Jn.prototype.each=function(be){return this.toCollection().each(be)},Jn.prototype.toArray=function(be){return this.toCollection().toArray(be)},Jn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Jn.prototype.orderBy=function(be){return new this.db.Collection(new this.db.WhereClause(this,$e(be)?"[".concat(be.join("+"),"]"):be))},Jn.prototype.reverse=function(){return this.toCollection().reverse()},Jn.prototype.mapToClass=function(be){var De,nt=this.db,dt=this.name;function xt(){return De!==null&&De.apply(this,arguments)||this}(this.schema.mappedClass=be).prototype instanceof Sn&&(function(Wn,Ot){if(typeof Ot!="function"&&Ot!==null)throw new TypeError("Class extends value "+String(Ot)+" is not a constructor or null");function Gt(){this.constructor=Wn}A(Wn,Ot),Wn.prototype=Ot===null?Object.create(Ot):(Gt.prototype=Ot.prototype,new Gt)}(xt,De=be),Object.defineProperty(xt.prototype,"db",{get:function(){return nt},enumerable:!1,configurable:!0}),xt.prototype.table=function(){return dt},be=xt);for(var Pt=new Set,en=be.prototype;en;en=yt(en))Object.getOwnPropertyNames(en).forEach(function(Wn){return Pt.add(Wn)});function Cn(Wn){if(!Wn)return Wn;var Ot,Gt=Object.create(be.prototype);for(Ot in Wn)if(!Pt.has(Ot))try{Gt[Ot]=Wn[Ot]}catch{}return Gt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Cn,this.hook("reading",Cn),be},Jn.prototype.defineClass=function(){return this.mapToClass(function(be){mt(this,be)})},Jn.prototype.add=function(be,De){var nt=this,dt=this.schema.primKey,xt=dt.auto,Pt=dt.keyPath,en=be;return Pt&&xt&&(en=tr(Pt)(be)),this._trans("readwrite",function(Cn){return nt.core.mutate({trans:Cn,type:"add",keys:De!=null?[De]:null,values:[en]})}).then(function(Cn){return Cn.numFailures?H.reject(Cn.failures[0]):Cn.lastResult}).then(function(Cn){if(Pt)try{c(be,Pt,Cn)}catch{}return Cn})},Jn.prototype.update=function(be,De){return typeof be!="object"||$e(be)?this.where(":id").equals(be).modify(De):(be=a(be,this.schema.primKey.keyPath),be===void 0?kt(new g.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(be).modify(De))},Jn.prototype.put=function(be,De){var nt=this,dt=this.schema.primKey,xt=dt.auto,Pt=dt.keyPath,en=be;return Pt&&xt&&(en=tr(Pt)(be)),this._trans("readwrite",function(Cn){return nt.core.mutate({trans:Cn,type:"put",values:[en],keys:De!=null?[De]:null})}).then(function(Cn){return Cn.numFailures?H.reject(Cn.failures[0]):Cn.lastResult}).then(function(Cn){if(Pt)try{c(be,Pt,Cn)}catch{}return Cn})},Jn.prototype.delete=function(be){var De=this;return this._trans("readwrite",function(nt){return De.core.mutate({trans:nt,type:"delete",keys:[be]})}).then(function(nt){return nt.numFailures?H.reject(nt.failures[0]):void 0})},Jn.prototype.clear=function(){var be=this;return this._trans("readwrite",function(De){return be.core.mutate({trans:De,type:"deleteRange",range:Yn})}).then(function(De){return De.numFailures?H.reject(De.failures[0]):void 0})},Jn.prototype.bulkGet=function(be){var De=this;return this._trans("readonly",function(nt){return De.core.getMany({keys:be,trans:nt}).then(function(dt){return dt.map(function(xt){return De.hook.reading.fire(xt)})})})},Jn.prototype.bulkAdd=function(be,De,nt){var dt=this,xt=Array.isArray(De)?De:void 0,Pt=(nt=nt||(xt?void 0:De))?nt.allKeys:void 0;return this._trans("readwrite",function(en){var Ot=dt.schema.primKey,Cn=Ot.auto,Ot=Ot.keyPath;if(Ot&&xt)throw new g.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(xt&&xt.length!==be.length)throw new g.InvalidArgument("Arguments objects and keys must have the same length");var Wn=be.length,Ot=Ot&&Cn?be.map(tr(Ot)):be;return dt.core.mutate({trans:en,type:"add",keys:xt,values:Ot,wantResults:Pt}).then(function(On){var Tt=On.numFailures,mn=On.results,Jt=On.lastResult,On=On.failures;if(Tt===0)return Pt?mn:Jt;throw new p("".concat(dt.name,".bulkAdd(): ").concat(Tt," of ").concat(Wn," operations failed"),On)})})},Jn.prototype.bulkPut=function(be,De,nt){var dt=this,xt=Array.isArray(De)?De:void 0,Pt=(nt=nt||(xt?void 0:De))?nt.allKeys:void 0;return this._trans("readwrite",function(en){var Ot=dt.schema.primKey,Cn=Ot.auto,Ot=Ot.keyPath;if(Ot&&xt)throw new g.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(xt&&xt.length!==be.length)throw new g.InvalidArgument("Arguments objects and keys must have the same length");var Wn=be.length,Ot=Ot&&Cn?be.map(tr(Ot)):be;return dt.core.mutate({trans:en,type:"put",keys:xt,values:Ot,wantResults:Pt}).then(function(On){var Tt=On.numFailures,mn=On.results,Jt=On.lastResult,On=On.failures;if(Tt===0)return Pt?mn:Jt;throw new p("".concat(dt.name,".bulkPut(): ").concat(Tt," of ").concat(Wn," operations failed"),On)})})},Jn.prototype.bulkUpdate=function(be){var De=this,nt=this.core,dt=be.map(function(en){return en.key}),xt=be.map(function(en){return en.changes}),Pt=[];return this._trans("readwrite",function(en){return nt.getMany({trans:en,keys:dt,cache:"clone"}).then(function(Cn){var Wn=[],Ot=[];be.forEach(function(Tt,mn){var Jt=Tt.key,On=Tt.changes,In=Cn[mn];if(In){for(var gn=0,nr=Object.keys(On);gn<nr.length;gn++){var ur=nr[gn],dr=On[ur];if(ur===De.schema.primKey.keyPath){if(Bt(dr,Jt)!==0)throw new g.Constraint("Cannot update primary key in bulkUpdate()")}else c(In,ur,dr)}Pt.push(mn),Wn.push(Jt),Ot.push(In)}});var Gt=Wn.length;return nt.mutate({trans:en,type:"put",keys:Wn,values:Ot,updates:{keys:dt,changeSpecs:xt}}).then(function(Tt){var mn=Tt.numFailures,Jt=Tt.failures;if(mn===0)return Gt;for(var On=0,In=Object.keys(Jt);On<In.length;On++){var gn,nr=In[On],ur=Pt[Number(nr)];ur!=null&&(gn=Jt[nr],delete Jt[nr],Jt[ur]=gn)}throw new p("".concat(De.name,".bulkUpdate(): ").concat(mn," of ").concat(Gt," operations failed"),Jt)})})})},Jn.prototype.bulkDelete=function(be){var De=this,nt=be.length;return this._trans("readwrite",function(dt){return De.core.mutate({trans:dt,type:"delete",keys:be})}).then(function(en){var xt=en.numFailures,Pt=en.lastResult,en=en.failures;if(xt===0)return Pt;throw new p("".concat(De.name,".bulkDelete(): ").concat(xt," of ").concat(nt," operations failed"),en)})},Jn);function Jn(){}function cr(be){function De(en,Cn){if(Cn){for(var Wn=arguments.length,Ot=new Array(Wn-1);--Wn;)Ot[Wn-1]=arguments[Wn];return nt[en].subscribe.apply(null,Ot),be}if(typeof en=="string")return nt[en]}var nt={};De.addEventType=Pt;for(var dt=1,xt=arguments.length;dt<xt;++dt)Pt(arguments[dt]);return De;function Pt(en,Cn,Wn){if(typeof en!="object"){var Ot;Cn=Cn||ie;var Gt={subscribers:[],fire:Wn=Wn||k,subscribe:function(Tt){Gt.subscribers.indexOf(Tt)===-1&&(Gt.subscribers.push(Tt),Gt.fire=Cn(Gt.fire,Tt))},unsubscribe:function(Tt){Gt.subscribers=Gt.subscribers.filter(function(mn){return mn!==Tt}),Gt.fire=Gt.subscribers.reduce(Cn,Wn)}};return nt[en]=De[en]=Gt}Ge(Ot=en).forEach(function(Tt){var mn=Ot[Tt];if($e(mn))Pt(Tt,Ot[Tt][0],Ot[Tt][1]);else{if(mn!=="asap")throw new g.InvalidArgument("Invalid event config");var Jt=Pt(Tt,N,function(){for(var On=arguments.length,In=new Array(On);On--;)In[On]=arguments[On];Jt.subscribers.forEach(function(gn){S(function(){gn.apply(null,In)})})})}})}}function kr(be,De){return e(De).from({prototype:be}),De}function fr(be,De){return!(be.filter||be.algorithm||be.or)&&(De?be.justLimit:!be.replayFilter)}function pn(be,De){be.filter=An(be.filter,De)}function Nt(be,De,nt){var dt=be.replayFilter;be.replayFilter=dt?function(){return An(dt(),De())}:De,be.justLimit=nt&&!dt}function Ft(be,De){if(be.isPrimKey)return De.primaryKey;var nt=De.getIndexByKeyPath(be.index);if(!nt)throw new g.Schema("KeyPath "+be.index+" on object store "+De.name+" is not indexed");return nt}function qt(be,De,nt){var dt=Ft(be,De.schema);return De.openCursor({trans:nt,values:!be.keysOnly,reverse:be.dir==="prev",unique:!!be.unique,query:{index:dt,range:be.range}})}function kn(be,De,nt,dt){var xt=be.replayFilter?An(be.filter,be.replayFilter()):be.filter;if(be.or){var Pt={},en=function(Cn,Wn,Ot){var Gt,Tt;xt&&!xt(Wn,Ot,function(mn){return Wn.stop(mn)},function(mn){return Wn.fail(mn)})||((Tt=""+(Gt=Wn.primaryKey))=="[object ArrayBuffer]"&&(Tt=""+new Uint8Array(Gt)),ft(Pt,Tt)||(Pt[Tt]=!0,De(Cn,Wn,Ot)))};return Promise.all([be.or._iterate(en,nt),$n(qt(be,dt,nt),be.algorithm,en,!be.keysOnly&&be.valueMapper)])}return $n(qt(be,dt,nt),An(be.algorithm,xt),De,!be.keysOnly&&be.valueMapper)}function $n(be,De,nt,dt){var xt=ht(dt?function(Pt,en,Cn){return nt(dt(Pt),en,Cn)}:nt);return be.then(function(Pt){if(Pt)return Pt.start(function(){var en=function(){return Pt.continue()};De&&!De(Pt,function(Cn){return en=Cn},function(Cn){Pt.stop(Cn),en=k},function(Cn){Pt.fail(Cn),en=k})||xt(Pt.value,Pt,function(Cn){return en=Cn}),en()})})}var Hn=(Qn.prototype.execute=function(be){var De=this["@@propmod"];if(De.add!==void 0){var nt=De.add;if($e(nt))return Ce(Ce([],$e(be)?be:[],!0),nt).sort();if(typeof nt=="number")return(Number(be)||0)+nt;if(typeof nt=="bigint")try{return BigInt(be)+nt}catch{return BigInt(0)+nt}throw new TypeError("Invalid term ".concat(nt))}if(De.remove!==void 0){var dt=De.remove;if($e(dt))return $e(be)?be.filter(function(xt){return!dt.includes(xt)}).sort():[];if(typeof dt=="number")return Number(be)-dt;if(typeof dt=="bigint")try{return BigInt(be)-dt}catch{return BigInt(0)-dt}throw new TypeError("Invalid subtrahend ".concat(dt))}return nt=(nt=De.replacePrefix)===null||nt===void 0?void 0:nt[0],nt&&typeof be=="string"&&be.startsWith(nt)?De.replacePrefix[1]+be.substring(nt.length):be},Qn);function Qn(be){this["@@propmod"]=be}var ir=(Fn.prototype._read=function(be,De){var nt=this._ctx;return nt.error?nt.table._trans(null,kt.bind(null,nt.error)):nt.table._trans("readonly",be).then(De)},Fn.prototype._write=function(be){var De=this._ctx;return De.error?De.table._trans(null,kt.bind(null,De.error)):De.table._trans("readwrite",be,"locked")},Fn.prototype._addAlgorithm=function(be){var De=this._ctx;De.algorithm=An(De.algorithm,be)},Fn.prototype._iterate=function(be,De){return kn(this._ctx,be,De,this._ctx.table.core)},Fn.prototype.clone=function(be){var De=Object.create(this.constructor.prototype),nt=Object.create(this._ctx);return be&&mt(nt,be),De._ctx=nt,De},Fn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Fn.prototype.each=function(be){var De=this._ctx;return this._read(function(nt){return kn(De,be,nt,De.table.core)})},Fn.prototype.count=function(be){var De=this;return this._read(function(nt){var dt=De._ctx,xt=dt.table.core;if(fr(dt,!0))return xt.count({trans:nt,query:{index:Ft(dt,xt.schema),range:dt.range}}).then(function(en){return Math.min(en,dt.limit)});var Pt=0;return kn(dt,function(){return++Pt,!1},nt,xt).then(function(){return Pt})}).then(be)},Fn.prototype.sortBy=function(be,De){var nt=be.split(".").reverse(),dt=nt[0],xt=nt.length-1;function Pt(Wn,Ot){return Ot?Pt(Wn[nt[Ot]],Ot-1):Wn[dt]}var en=this._ctx.dir==="next"?1:-1;function Cn(Wn,Ot){return Bt(Pt(Wn,xt),Pt(Ot,xt))*en}return this.toArray(function(Wn){return Wn.sort(Cn)}).then(De)},Fn.prototype.toArray=function(be){var De=this;return this._read(function(nt){var dt=De._ctx;if(dt.dir==="next"&&fr(dt,!0)&&0<dt.limit){var xt=dt.valueMapper,Pt=Ft(dt,dt.table.core.schema);return dt.table.core.query({trans:nt,limit:dt.limit,values:!0,query:{index:Pt,range:dt.range}}).then(function(Cn){return Cn=Cn.result,xt?Cn.map(xt):Cn})}var en=[];return kn(dt,function(Cn){return en.push(Cn)},nt,dt.table.core).then(function(){return en})},be)},Fn.prototype.offset=function(be){var De=this._ctx;return be<=0||(De.offset+=be,fr(De)?Nt(De,function(){var nt=be;return function(dt,xt){return nt===0||(nt===1?--nt:xt(function(){dt.advance(nt),nt=0}),!1)}}):Nt(De,function(){var nt=be;return function(){return--nt<0}})),this},Fn.prototype.limit=function(be){return this._ctx.limit=Math.min(this._ctx.limit,be),Nt(this._ctx,function(){var De=be;return function(nt,dt,xt){return--De<=0&&dt(xt),0<=De}},!0),this},Fn.prototype.until=function(be,De){return pn(this._ctx,function(nt,dt,xt){return!be(nt.value)||(dt(xt),De)}),this},Fn.prototype.first=function(be){return this.limit(1).toArray(function(De){return De[0]}).then(be)},Fn.prototype.last=function(be){return this.reverse().first(be)},Fn.prototype.filter=function(be){var De;return pn(this._ctx,function(nt){return be(nt.value)}),(De=this._ctx).isMatch=An(De.isMatch,be),this},Fn.prototype.and=function(be){return this.filter(be)},Fn.prototype.or=function(be){return new this.db.WhereClause(this._ctx.table,be,this)},Fn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Fn.prototype.desc=function(){return this.reverse()},Fn.prototype.eachKey=function(be){var De=this._ctx;return De.keysOnly=!De.isMatch,this.each(function(nt,dt){be(dt.key,dt)})},Fn.prototype.eachUniqueKey=function(be){return this._ctx.unique="unique",this.eachKey(be)},Fn.prototype.eachPrimaryKey=function(be){var De=this._ctx;return De.keysOnly=!De.isMatch,this.each(function(nt,dt){be(dt.primaryKey,dt)})},Fn.prototype.keys=function(be){var De=this._ctx;De.keysOnly=!De.isMatch;var nt=[];return this.each(function(dt,xt){nt.push(xt.key)}).then(function(){return nt}).then(be)},Fn.prototype.primaryKeys=function(be){var De=this._ctx;if(De.dir==="next"&&fr(De,!0)&&0<De.limit)return this._read(function(dt){var xt=Ft(De,De.table.core.schema);return De.table.core.query({trans:dt,values:!1,limit:De.limit,query:{index:xt,range:De.range}})}).then(function(dt){return dt.result}).then(be);De.keysOnly=!De.isMatch;var nt=[];return this.each(function(dt,xt){nt.push(xt.primaryKey)}).then(function(){return nt}).then(be)},Fn.prototype.uniqueKeys=function(be){return this._ctx.unique="unique",this.keys(be)},Fn.prototype.firstKey=function(be){return this.limit(1).keys(function(De){return De[0]}).then(be)},Fn.prototype.lastKey=function(be){return this.reverse().firstKey(be)},Fn.prototype.distinct=function(){var be=this._ctx,be=be.index&&be.table.schema.idxByName[be.index];if(!be||!be.multi)return this;var De={};return pn(this._ctx,function(xt){var dt=xt.primaryKey.toString(),xt=ft(De,dt);return De[dt]=!0,!xt}),this},Fn.prototype.modify=function(be){var De=this,nt=this._ctx;return this._write(function(dt){var xt,Pt,en;en=typeof be=="function"?be:(xt=Ge(be),Pt=xt.length,function(gn){for(var nr=!1,ur=0;ur<Pt;++ur){var dr=xt[ur],jr=be[dr],Vr=a(gn,dr);jr instanceof Hn?(c(gn,dr,jr.execute(Vr)),nr=!0):Vr!==jr&&(c(gn,dr,jr),nr=!0)}return nr});var Cn=nt.table.core,Tt=Cn.schema.primaryKey,Wn=Tt.outbound,Ot=Tt.extractKey,Gt=200,Tt=De.db._options.modifyChunkSize;Tt&&(Gt=typeof Tt=="object"?Tt[Cn.name]||Tt["*"]||200:Tt);function mn(gn,dr){var ur=dr.failures,dr=dr.numFailures;On+=gn-dr;for(var jr=0,Vr=Ge(ur);jr<Vr.length;jr++){var qr=Vr[jr];Jt.push(ur[qr])}}var Jt=[],On=0,In=[];return De.clone().primaryKeys().then(function(gn){function nr(dr){var jr=Math.min(Gt,gn.length-dr);return Cn.getMany({trans:dt,keys:gn.slice(dr,dr+jr),cache:"immutable"}).then(function(Vr){for(var qr=[],Wr=[],Yr=Wn?[]:null,Tr=[],Br=0;Br<jr;++Br){var ro=Vr[Br],so={value:G(ro),primKey:gn[dr+Br]};en.call(so,so.value,so)!==!1&&(so.value==null?Tr.push(gn[dr+Br]):Wn||Bt(Ot(ro),Ot(so.value))===0?(Wr.push(so.value),Wn&&Yr.push(gn[dr+Br])):(Tr.push(gn[dr+Br]),qr.push(so.value)))}return Promise.resolve(0<qr.length&&Cn.mutate({trans:dt,type:"add",values:qr}).then(function(fo){for(var Mo in fo.failures)Tr.splice(parseInt(Mo),1);mn(qr.length,fo)})).then(function(){return(0<Wr.length||ur&&typeof be=="object")&&Cn.mutate({trans:dt,type:"put",keys:Yr,values:Wr,criteria:ur,changeSpec:typeof be!="function"&&be,isAdditionalChunk:0<dr}).then(function(fo){return mn(Wr.length,fo)})}).then(function(){return(0<Tr.length||ur&&be===yr)&&Cn.mutate({trans:dt,type:"delete",keys:Tr,criteria:ur,isAdditionalChunk:0<dr}).then(function(fo){return mn(Tr.length,fo)})}).then(function(){return gn.length>dr+jr&&nr(dr+Gt)})})}var ur=fr(nt)&&nt.limit===1/0&&(typeof be!="function"||be===yr)&&{index:nt.index,range:nt.range};return nr(0).then(function(){if(0<Jt.length)throw new E("Error modifying one or more objects",Jt,On,In);return gn.length})})})},Fn.prototype.delete=function(){var be=this._ctx,De=be.range;return fr(be)&&(be.isPrimKey||De.type===3)?this._write(function(nt){var dt=be.table.core.schema.primaryKey,xt=De;return be.table.core.count({trans:nt,query:{index:dt,range:xt}}).then(function(Pt){return be.table.core.mutate({trans:nt,type:"deleteRange",range:xt}).then(function(en){var Cn=en.failures;if(en.lastResult,en.results,en=en.numFailures,en)throw new E("Could not delete some values",Object.keys(Cn).map(function(Wn){return Cn[Wn]}),Pt-en);return Pt-en})})}):this.modify(yr)},Fn);function Fn(){}var yr=function(be,De){return De.value=null};function lr(be,De){return be<De?-1:be===De?0:1}function Gn(be,De){return De<be?-1:be===De?0:1}function Xn(be,De,nt){return be=be instanceof $r?new be.Collection(be):be,be._ctx.error=new(nt||TypeError)(De),be}function er(be){return new be.Collection(be,function(){return xr("")}).limit(0)}function pr(be,De,nt,dt){var xt,Pt,en,Cn,Wn,Ot,Gt,Tt=nt.length;if(!nt.every(function(On){return typeof On=="string"}))return Xn(be,Wt);function mn(On){xt=On==="next"?function(gn){return gn.toUpperCase()}:function(gn){return gn.toLowerCase()},Pt=On==="next"?function(gn){return gn.toLowerCase()}:function(gn){return gn.toUpperCase()},en=On==="next"?lr:Gn;var In=nt.map(function(gn){return{lower:Pt(gn),upper:xt(gn)}}).sort(function(gn,nr){return en(gn.lower,nr.lower)});Cn=In.map(function(gn){return gn.upper}),Wn=In.map(function(gn){return gn.lower}),Gt=(Ot=On)==="next"?"":dt}mn("next"),be=new be.Collection(be,function(){return vr(Cn[0],Wn[Tt-1]+dt)}),be._ondirectionchange=function(On){mn(On)};var Jt=0;return be._addAlgorithm(function(On,In,gn){var nr=On.key;if(typeof nr!="string")return!1;var ur=Pt(nr);if(De(ur,Wn,Jt))return!0;for(var dr=null,jr=Jt;jr<Tt;++jr){var Vr=function(qr,Wr,Yr,Tr,Br,ro){for(var so=Math.min(qr.length,Tr.length),fo=-1,Mo=0;Mo<so;++Mo){var Zi=Wr[Mo];if(Zi!==Tr[Mo])return Br(qr[Mo],Yr[Mo])<0?qr.substr(0,Mo)+Yr[Mo]+Yr.substr(Mo+1):Br(qr[Mo],Tr[Mo])<0?qr.substr(0,Mo)+Tr[Mo]+Yr.substr(Mo+1):0<=fo?qr.substr(0,fo)+Wr[fo]+Yr.substr(fo+1):null;Br(qr[Mo],Zi)<0&&(fo=Mo)}return so<Tr.length&&ro==="next"?qr+Yr.substr(qr.length):so<qr.length&&ro==="prev"?qr.substr(0,Yr.length):fo<0?null:qr.substr(0,fo)+Tr[fo]+Yr.substr(fo+1)}(nr,ur,Cn[jr],Wn[jr],en,Ot);Vr===null&&dr===null?Jt=jr+1:(dr===null||0<en(dr,Vr))&&(dr=Vr)}return In(dr!==null?function(){On.continue(dr+Gt)}:gn),!1}),be}function vr(be,De,nt,dt){return{type:2,lower:be,upper:De,lowerOpen:nt,upperOpen:dt}}function xr(be){return{type:1,lower:be,upper:be}}var $r=(Object.defineProperty(io.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),io.prototype.between=function(be,De,nt,dt){nt=nt!==!1,dt=dt===!0;try{return 0<this._cmp(be,De)||this._cmp(be,De)===0&&(nt||dt)&&(!nt||!dt)?er(this):new this.Collection(this,function(){return vr(be,De,!nt,!dt)})}catch{return Xn(this,At)}},io.prototype.equals=function(be){return be==null?Xn(this,At):new this.Collection(this,function(){return xr(be)})},io.prototype.above=function(be){return be==null?Xn(this,At):new this.Collection(this,function(){return vr(be,void 0,!0)})},io.prototype.aboveOrEqual=function(be){return be==null?Xn(this,At):new this.Collection(this,function(){return vr(be,void 0,!1)})},io.prototype.below=function(be){return be==null?Xn(this,At):new this.Collection(this,function(){return vr(void 0,be,!1,!0)})},io.prototype.belowOrEqual=function(be){return be==null?Xn(this,At):new this.Collection(this,function(){return vr(void 0,be)})},io.prototype.startsWith=function(be){return typeof be!="string"?Xn(this,Wt):this.between(be,be+Ht,!0,!0)},io.prototype.startsWithIgnoreCase=function(be){return be===""?this.startsWith(be):pr(this,function(De,nt){return De.indexOf(nt[0])===0},[be],Ht)},io.prototype.equalsIgnoreCase=function(be){return pr(this,function(De,nt){return De===nt[0]},[be],"")},io.prototype.anyOfIgnoreCase=function(){var be=U.apply(q,arguments);return be.length===0?er(this):pr(this,function(De,nt){return nt.indexOf(De)!==-1},be,"")},io.prototype.startsWithAnyOfIgnoreCase=function(){var be=U.apply(q,arguments);return be.length===0?er(this):pr(this,function(De,nt){return nt.some(function(dt){return De.indexOf(dt)===0})},be,Ht)},io.prototype.anyOf=function(){var be=this,De=U.apply(q,arguments),nt=this._cmp;try{De.sort(nt)}catch{return Xn(this,At)}if(De.length===0)return er(this);var dt=new this.Collection(this,function(){return vr(De[0],De[De.length-1])});dt._ondirectionchange=function(Pt){nt=Pt==="next"?be._ascending:be._descending,De.sort(nt)};var xt=0;return dt._addAlgorithm(function(Pt,en,Cn){for(var Wn=Pt.key;0<nt(Wn,De[xt]);)if(++xt===De.length)return en(Cn),!1;return nt(Wn,De[xt])===0||(en(function(){Pt.continue(De[xt])}),!1)}),dt},io.prototype.notEqual=function(be){return this.inAnyRange([[-1/0,be],[be,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},io.prototype.noneOf=function(){var be=U.apply(q,arguments);if(be.length===0)return new this.Collection(this);try{be.sort(this._ascending)}catch{return Xn(this,At)}var De=be.reduce(function(nt,dt){return nt?nt.concat([[nt[nt.length-1][1],dt]]):[[-1/0,dt]]},null);return De.push([be[be.length-1],this.db._maxKey]),this.inAnyRange(De,{includeLowers:!1,includeUppers:!1})},io.prototype.inAnyRange=function(nr,De){var nt=this,dt=this._cmp,xt=this._ascending,Pt=this._descending,en=this._min,Cn=this._max;if(nr.length===0)return er(this);if(!nr.every(function(ur){return ur[0]!==void 0&&ur[1]!==void 0&&xt(ur[0],ur[1])<=0}))return Xn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",g.InvalidArgument);var Wn=!De||De.includeLowers!==!1,Ot=De&&De.includeUppers===!0,Gt,Tt=xt;function mn(ur,dr){return Tt(ur[0],dr[0])}try{(Gt=nr.reduce(function(ur,dr){for(var jr=0,Vr=ur.length;jr<Vr;++jr){var qr=ur[jr];if(dt(dr[0],qr[1])<0&&0<dt(dr[1],qr[0])){qr[0]=en(qr[0],dr[0]),qr[1]=Cn(qr[1],dr[1]);break}}return jr===Vr&&ur.push(dr),ur},[])).sort(mn)}catch{return Xn(this,At)}var Jt=0,On=Ot?function(ur){return 0<xt(ur,Gt[Jt][1])}:function(ur){return 0<=xt(ur,Gt[Jt][1])},In=Wn?function(ur){return 0<Pt(ur,Gt[Jt][0])}:function(ur){return 0<=Pt(ur,Gt[Jt][0])},gn=On,nr=new this.Collection(this,function(){return vr(Gt[0][0],Gt[Gt.length-1][1],!Wn,!Ot)});return nr._ondirectionchange=function(ur){Tt=ur==="next"?(gn=On,xt):(gn=In,Pt),Gt.sort(mn)},nr._addAlgorithm(function(ur,dr,jr){for(var Vr,qr=ur.key;gn(qr);)if(++Jt===Gt.length)return dr(jr),!1;return!On(Vr=qr)&&!In(Vr)||(nt._cmp(qr,Gt[Jt][1])===0||nt._cmp(qr,Gt[Jt][0])===0||dr(function(){Tt===xt?ur.continue(Gt[Jt][0]):ur.continue(Gt[Jt][1])}),!1)}),nr},io.prototype.startsWithAnyOf=function(){var be=U.apply(q,arguments);return be.every(function(De){return typeof De=="string"})?be.length===0?er(this):this.inAnyRange(be.map(function(De){return[De,De+Ht]})):Xn(this,"startsWithAnyOf() only works with strings")},io);function io(){}function Eo(be){return ht(function(De){return Ro(De),be(De.target.error),!1})}function Ro(be){be.stopPropagation&&be.stopPropagation(),be.preventDefault&&be.preventDefault()}var Bo="storagemutated",Do="x-storagemutated-1",bo=cr(null,Bo),Zo=(rt.prototype._lock=function(){return T(!P.global),++this._reculock,this._reculock!==1||P.global||(P.lockOwnerFor=this),this},rt.prototype._unlock=function(){if(T(!P.global),--this._reculock==0)for(P.global||(P.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var be=this._blockedFuncs.shift();try{on(be[1],be[0])}catch{}}return this},rt.prototype._locked=function(){return this._reculock&&P.lockOwnerFor!==this},rt.prototype.create=function(be){var De=this;if(!this.mode)return this;var nt=this.db.idbdb,dt=this.db._state.dbOpenError;if(T(!this.idbtrans),!be&&!nt)switch(dt&&dt.name){case"DatabaseClosedError":throw new g.DatabaseClosed(dt);case"MissingAPIError":throw new g.MissingAPI(dt.message,dt);default:throw new g.OpenFailed(dt)}if(!this.active)throw new g.TransactionInactive;return T(this._completion._state===null),(be=this.idbtrans=be||(this.db.core||nt).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ht(function(xt){Ro(xt),De._reject(be.error)}),be.onabort=ht(function(xt){Ro(xt),De.active&&De._reject(new g.Abort(be.error)),De.active=!1,De.on("abort").fire(xt)}),be.oncomplete=ht(function(){De.active=!1,De._resolve(),"mutatedParts"in be&&bo.storagemutated.fire(be.mutatedParts)}),this},rt.prototype._promise=function(be,De,nt){var dt=this;if(be==="readwrite"&&this.mode!=="readwrite")return kt(new g.ReadOnly("Transaction is readonly"));if(!this.active)return kt(new g.TransactionInactive);if(this._locked())return new H(function(Pt,en){dt._blockedFuncs.push([function(){dt._promise(be,De,nt).then(Pt,en)},P])});if(nt)return wt(function(){var Pt=new H(function(en,Cn){dt._lock();var Wn=De(en,Cn,dt);Wn&&Wn.then&&Wn.then(en,Cn)});return Pt.finally(function(){return dt._unlock()}),Pt._lib=!0,Pt});var xt=new H(function(Pt,en){var Cn=De(Pt,en,dt);Cn&&Cn.then&&Cn.then(Pt,en)});return xt._lib=!0,xt},rt.prototype._root=function(){return this.parent?this.parent._root():this},rt.prototype.waitFor=function(be){var De,nt=this._root(),dt=H.resolve(be);nt._waitingFor?nt._waitingFor=nt._waitingFor.then(function(){return dt}):(nt._waitingFor=dt,nt._waitingQueue=[],De=nt.idbtrans.objectStore(nt.storeNames[0]),function Pt(){for(++nt._spinCount;nt._waitingQueue.length;)nt._waitingQueue.shift()();nt._waitingFor&&(De.get(-1/0).onsuccess=Pt)}());var xt=nt._waitingFor;return new H(function(Pt,en){dt.then(function(Cn){return nt._waitingQueue.push(ht(Pt.bind(null,Cn)))},function(Cn){return nt._waitingQueue.push(ht(en.bind(null,Cn)))}).finally(function(){nt._waitingFor===xt&&(nt._waitingFor=null)})})},rt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new g.Abort))},rt.prototype.table=function(be){var De=this._memoizedTables||(this._memoizedTables={});if(ft(De,be))return De[be];var nt=this.schema[be];if(!nt)throw new g.NotFound("Table "+be+" not part of transaction");return nt=new this.db.Table(be,nt,this),nt.core=this.db.core.table(be),De[be]=nt},rt);function rt(){}function Se(be,De,nt,dt,xt,Pt,en){return{name:be,keyPath:De,unique:nt,multi:dt,auto:xt,compound:Pt,src:(nt&&!en?"&":"")+(dt?"*":"")+(xt?"++":"")+Ze(De)}}function Ze(be){return typeof be=="string"?be:be?"["+[].join.call(be,"+")+"]":""}function Ve(be,De,nt){return{name:be,primKey:De,indexes:nt,mappedClass:null,idxByName:(dt=function(xt){return[xt.name,xt]},nt.reduce(function(xt,Pt,en){return en=dt(Pt,en),en&&(xt[en[0]]=en[1]),xt},{}))};var dt}var pt=function(be){try{return be.only([[]]),pt=function(){return[[]]},[[]]}catch{return pt=function(){return Ht},Ht}};function Vt(be){return be==null?function(){}:typeof be=="string"?(De=be).split(".").length===1?function(nt){return nt[De]}:function(nt){return a(nt,De)}:function(nt){return a(nt,be)};var De}function cn(be){return[].slice.call(be)}var Mn=0;function nn(be){return be==null?":id":typeof be=="string"?be:"[".concat(be.join("+"),"]")}function ln(be,De,Wn){function dt(gn){if(gn.type===3)return null;if(gn.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Jt=gn.lower,On=gn.upper,In=gn.lowerOpen,gn=gn.upperOpen;return Jt===void 0?On===void 0?null:De.upperBound(On,!!gn):On===void 0?De.lowerBound(Jt,!!In):De.bound(Jt,On,!!In,!!gn)}function xt(mn){var Jt,On=mn.name;return{name:On,schema:mn,mutate:function(In){var gn=In.trans,nr=In.type,ur=In.keys,dr=In.values,jr=In.range;return new Promise(function(Vr,qr){Vr=ht(Vr);var Wr=gn.objectStore(On),Yr=Wr.keyPath==null,Tr=nr==="put"||nr==="add";if(!Tr&&nr!=="delete"&&nr!=="deleteRange")throw new Error("Invalid operation type: "+nr);var Br,ro=(ur||dr||{length:1}).length;if(ur&&dr&&ur.length!==dr.length)throw new Error("Given keys array must have same length as given values array.");if(ro===0)return Vr({numFailures:0,failures:{},results:[],lastResult:void 0});function so(Xe){++Zi,Ro(Xe)}var fo=[],Mo=[],Zi=0;if(nr==="deleteRange"){if(jr.type===4)return Vr({numFailures:Zi,failures:Mo,results:[],lastResult:void 0});jr.type===3?fo.push(Br=Wr.clear()):fo.push(Br=Wr.delete(dt(jr)))}else{var Yr=Tr?Yr?[dr,ur]:[dr,null]:[ur,null],Ao=Yr[0],at=Yr[1];if(Tr)for(var Me=0;Me<ro;++Me)fo.push(Br=at&&at[Me]!==void 0?Wr[nr](Ao[Me],at[Me]):Wr[nr](Ao[Me])),Br.onerror=so;else for(Me=0;Me<ro;++Me)fo.push(Br=Wr[nr](Ao[Me])),Br.onerror=so}function Ye(Xe){Xe=Xe.target.result,fo.forEach(function(lt,gt){return lt.error!=null&&(Mo[gt]=lt.error)}),Vr({numFailures:Zi,failures:Mo,results:nr==="delete"?ur:fo.map(function(lt){return lt.result}),lastResult:Xe})}Br.onerror=function(Xe){so(Xe),Ye(Xe)},Br.onsuccess=Ye})},getMany:function(In){var gn=In.trans,nr=In.keys;return new Promise(function(ur,dr){ur=ht(ur);for(var jr,Vr=gn.objectStore(On),qr=nr.length,Wr=new Array(qr),Yr=0,Tr=0,Br=function(fo){fo=fo.target,Wr[fo._pos]=fo.result,++Tr===Yr&&ur(Wr)},ro=Eo(dr),so=0;so<qr;++so)nr[so]!=null&&((jr=Vr.get(nr[so]))._pos=so,jr.onsuccess=Br,jr.onerror=ro,++Yr);Yr===0&&ur(Wr)})},get:function(In){var gn=In.trans,nr=In.key;return new Promise(function(ur,dr){ur=ht(ur);var jr=gn.objectStore(On).get(nr);jr.onsuccess=function(Vr){return ur(Vr.target.result)},jr.onerror=Eo(dr)})},query:(Jt=Ot,function(In){return new Promise(function(gn,nr){gn=ht(gn);var ur,dr,jr,Yr=In.trans,Vr=In.values,qr=In.limit,Br=In.query,Wr=qr===1/0?void 0:qr,Tr=Br.index,Br=Br.range,Yr=Yr.objectStore(On),Tr=Tr.isPrimaryKey?Yr:Yr.index(Tr.name),Br=dt(Br);if(qr===0)return gn({result:[]});Jt?((Wr=Vr?Tr.getAll(Br,Wr):Tr.getAllKeys(Br,Wr)).onsuccess=function(ro){return gn({result:ro.target.result})},Wr.onerror=Eo(nr)):(ur=0,dr=!Vr&&"openKeyCursor"in Tr?Tr.openKeyCursor(Br):Tr.openCursor(Br),jr=[],dr.onsuccess=function(ro){var so=dr.result;return so?(jr.push(Vr?so.value:so.primaryKey),++ur===qr?gn({result:jr}):void so.continue()):gn({result:jr})},dr.onerror=Eo(nr))})}),openCursor:function(In){var gn=In.trans,nr=In.values,ur=In.query,dr=In.reverse,jr=In.unique;return new Promise(function(Vr,qr){Vr=ht(Vr);var Tr=ur.index,Wr=ur.range,Yr=gn.objectStore(On),Yr=Tr.isPrimaryKey?Yr:Yr.index(Tr.name),Tr=dr?jr?"prevunique":"prev":jr?"nextunique":"next",Br=!nr&&"openKeyCursor"in Yr?Yr.openKeyCursor(dt(Wr),Tr):Yr.openCursor(dt(Wr),Tr);Br.onerror=Eo(qr),Br.onsuccess=ht(function(ro){var so,fo,Mo,Zi,Ao=Br.result;Ao?(Ao.___id=++Mn,Ao.done=!1,so=Ao.continue.bind(Ao),fo=(fo=Ao.continuePrimaryKey)&&fo.bind(Ao),Mo=Ao.advance.bind(Ao),Zi=function(){throw new Error("Cursor not stopped")},Ao.trans=gn,Ao.stop=Ao.continue=Ao.continuePrimaryKey=Ao.advance=function(){throw new Error("Cursor not started")},Ao.fail=ht(qr),Ao.next=function(){var at=this,Me=1;return this.start(function(){return Me--?at.continue():at.stop()}).then(function(){return at})},Ao.start=function(at){function Me(){if(Br.result)try{at()}catch(Xe){Ao.fail(Xe)}else Ao.done=!0,Ao.start=function(){throw new Error("Cursor behind last entry")},Ao.stop()}var Ye=new Promise(function(Xe,lt){Xe=ht(Xe),Br.onerror=Eo(lt),Ao.fail=lt,Ao.stop=function(gt){Ao.stop=Ao.continue=Ao.continuePrimaryKey=Ao.advance=Zi,Xe(gt)}});return Br.onsuccess=ht(function(Xe){Br.onsuccess=Me,Me()}),Ao.continue=so,Ao.continuePrimaryKey=fo,Ao.advance=Mo,Me(),Ye},Vr(Ao)):Vr(null)},qr)})},count:function(In){var gn=In.query,nr=In.trans,ur=gn.index,dr=gn.range;return new Promise(function(jr,Vr){var qr=nr.objectStore(On),Wr=ur.isPrimaryKey?qr:qr.index(ur.name),qr=dt(dr),Wr=qr?Wr.count(qr):Wr.count();Wr.onsuccess=ht(function(Yr){return jr(Yr.target.result)}),Wr.onerror=Eo(Vr)})}}}var Pt,en,Cn,Gt=(en=Wn,Cn=cn((Pt=be).objectStoreNames),{schema:{name:Pt.name,tables:Cn.map(function(mn){return en.objectStore(mn)}).map(function(mn){var Jt=mn.keyPath,gn=mn.autoIncrement,On=$e(Jt),In={},gn={name:mn.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Jt==null,compound:On,keyPath:Jt,autoIncrement:gn,unique:!0,extractKey:Vt(Jt)},indexes:cn(mn.indexNames).map(function(nr){return mn.index(nr)}).map(function(jr){var ur=jr.name,dr=jr.unique,Vr=jr.multiEntry,jr=jr.keyPath,Vr={name:ur,compound:$e(jr),keyPath:jr,unique:dr,multiEntry:Vr,extractKey:Vt(jr)};return In[nn(jr)]=Vr}),getIndexByKeyPath:function(nr){return In[nn(nr)]}};return In[":id"]=gn.primaryKey,Jt!=null&&(In[nn(Jt)]=gn.primaryKey),gn})},hasGetAll:0<Cn.length&&"getAll"in en.objectStore(Cn[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Wn=Gt.schema,Ot=Gt.hasGetAll,Gt=Wn.tables.map(xt),Tt={};return Gt.forEach(function(mn){return Tt[mn.name]=mn}),{stack:"dbcore",transaction:be.transaction.bind(be),table:function(mn){if(!Tt[mn])throw new Error("Table '".concat(mn,"' not found"));return Tt[mn]},MIN_KEY:-1/0,MAX_KEY:pt(De),schema:Wn}}function Zn(be,De,nt,dt){var xt=nt.IDBKeyRange;return nt.indexedDB,{dbcore:(dt=ln(De,xt,dt),be.dbcore.reduce(function(Pt,en){return en=en.create,ce(ce({},Pt),en(Pt))},dt))}}function qn(be,dt){var nt=dt.db,dt=Zn(be._middlewares,nt,be._deps,dt);be.core=dt.dbcore,be.tables.forEach(function(xt){var Pt=xt.name;be.core.schema.tables.some(function(en){return en.name===Pt})&&(xt.core=be.core.table(Pt),be[Pt]instanceof be.Table&&(be[Pt].core=xt.core))})}function hr(be,De,nt,dt){nt.forEach(function(xt){var Pt=dt[xt];De.forEach(function(en){var Cn=function Wn(Ot,Gt){return w(Ot,Gt)||(Ot=yt(Ot))&&Wn(Ot,Gt)}(en,xt);(!Cn||"value"in Cn&&Cn.value===void 0)&&(en===be.Transaction.prototype||en instanceof be.Transaction?t(en,xt,{get:function(){return this.table(xt)},set:function(Wn){te(this,xt,{value:Wn,writable:!0,configurable:!0,enumerable:!0})}}):en[xt]=new be.Table(xt,Pt))})})}function br(be,De){De.forEach(function(nt){for(var dt in nt)nt[dt]instanceof be.Table&&delete nt[dt]})}function Mr(be,De){return be._cfg.version-De._cfg.version}function Or(be,De,nt,dt){var xt=be._dbSchema;nt.objectStoreNames.contains("$meta")&&!xt.$meta&&(xt.$meta=Ve("$meta",Gr("")[0],[]),be._storeNames.push("$meta"));var Pt=be._createTransaction("readwrite",be._storeNames,xt);Pt.create(nt),Pt._completion.catch(dt);var en=Pt._reject.bind(Pt),Cn=P.transless||P;wt(function(){return P.trans=Pt,P.transless=Cn,De!==0?(qn(be,nt),Ot=De,((Wn=Pt).storeNames.includes("$meta")?Wn.table("$meta").get("version").then(function(Gt){return Gt??Ot}):H.resolve(Ot)).then(function(Gt){return mn=Gt,Jt=Pt,On=nt,In=[],Gt=(Tt=be)._versions,gn=Tt._dbSchema=ei(0,Tt.idbdb,On),(Gt=Gt.filter(function(nr){return nr._cfg.version>=mn})).length!==0?(Gt.forEach(function(nr){In.push(function(){var ur=gn,dr=nr._cfg.dbschema;vi(Tt,ur,On),vi(Tt,dr,On),gn=Tt._dbSchema=dr;var jr=Cr(ur,dr);jr.add.forEach(function(Tr){no(On,Tr[0],Tr[1].primKey,Tr[1].indexes)}),jr.change.forEach(function(Tr){if(Tr.recreate)throw new g.Upgrade("Not yet support for changing primary key");var Br=On.objectStore(Tr.name);Tr.add.forEach(function(ro){return jo(Br,ro)}),Tr.change.forEach(function(ro){Br.deleteIndex(ro.name),jo(Br,ro)}),Tr.del.forEach(function(ro){return Br.deleteIndex(ro)})});var Vr=nr._cfg.contentUpgrade;if(Vr&&nr._cfg.version>mn){qn(Tt,On),Jt._memoizedTables={};var qr=Z(dr);jr.del.forEach(function(Tr){qr[Tr]=ur[Tr]}),br(Tt,[Tt.Transaction.prototype]),hr(Tt,[Tt.Transaction.prototype],Ge(qr),qr),Jt.schema=qr;var Wr,Yr=R(Vr);return Yr&&zt(),jr=H.follow(function(){var Tr;(Wr=Vr(Jt))&&Yr&&(Tr=Mt.bind(null,null),Wr.then(Tr,Tr))}),Wr&&typeof Wr.then=="function"?H.resolve(Wr):jr.then(function(){return Wr})}}),In.push(function(ur){var dr,jr,Vr=nr._cfg.dbschema;dr=Vr,jr=ur,[].slice.call(jr.db.objectStoreNames).forEach(function(qr){return dr[qr]==null&&jr.db.deleteObjectStore(qr)}),br(Tt,[Tt.Transaction.prototype]),hr(Tt,[Tt.Transaction.prototype],Tt._storeNames,Tt._dbSchema),Jt.schema=Tt._dbSchema}),In.push(function(ur){Tt.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Tt.idbdb.version/10)===nr._cfg.version?(Tt.idbdb.deleteObjectStore("$meta"),delete Tt._dbSchema.$meta,Tt._storeNames=Tt._storeNames.filter(function(dr){return dr!=="$meta"})):ur.objectStore("$meta").put(nr._cfg.version,"version"))})}),function nr(){return In.length?H.resolve(In.shift()(Jt.idbtrans)).then(nr):H.resolve()}().then(function(){yo(gn,On)})):H.resolve();var Tt,mn,Jt,On,In,gn}).catch(en)):(Ge(xt).forEach(function(Gt){no(nt,Gt,xt[Gt].primKey,xt[Gt].indexes)}),qn(be,nt),void H.follow(function(){return be.on.populate.fire(Pt)}).catch(en));var Wn,Ot})}function Er(be,De){yo(be._dbSchema,De),De.db.version%10!=0||De.objectStoreNames.contains("$meta")||De.db.createObjectStore("$meta").add(Math.ceil(De.db.version/10-1),"version");var nt=ei(0,be.idbdb,De);vi(be,be._dbSchema,De);for(var dt=0,xt=Cr(nt,be._dbSchema).change;dt<xt.length;dt++){var Pt=function(en){if(en.change.length||en.recreate)return console.warn("Unable to patch indexes of table ".concat(en.name," because it has changes on the type of index or primary key.")),{value:void 0};var Cn=De.objectStore(en.name);en.add.forEach(function(Wn){ue&&console.debug("Dexie upgrade patch: Creating missing index ".concat(en.name,".").concat(Wn.src)),jo(Cn,Wn)})}(xt[dt]);if(typeof Pt=="object")return Pt.value}}function Cr(be,De){var nt,dt={del:[],add:[],change:[]};for(nt in be)De[nt]||dt.del.push(nt);for(nt in De){var xt=be[nt],Pt=De[nt];if(xt){var en={name:nt,def:Pt,recreate:!1,del:[],add:[],change:[]};if(""+(xt.primKey.keyPath||"")!=""+(Pt.primKey.keyPath||"")||xt.primKey.auto!==Pt.primKey.auto)en.recreate=!0,dt.change.push(en);else{var Cn=xt.idxByName,Wn=Pt.idxByName,Ot=void 0;for(Ot in Cn)Wn[Ot]||en.del.push(Ot);for(Ot in Wn){var Gt=Cn[Ot],Tt=Wn[Ot];Gt?Gt.src!==Tt.src&&en.change.push(Tt):en.add.push(Tt)}(0<en.del.length||0<en.add.length||0<en.change.length)&&dt.change.push(en)}}else dt.add.push([nt,Pt])}return dt}function no(be,De,nt,dt){var xt=be.db.createObjectStore(De,nt.keyPath?{keyPath:nt.keyPath,autoIncrement:nt.auto}:{autoIncrement:nt.auto});return dt.forEach(function(Pt){return jo(xt,Pt)}),xt}function yo(be,De){Ge(be).forEach(function(nt){De.db.objectStoreNames.contains(nt)||(ue&&console.debug("Dexie: Creating missing table",nt),no(De,nt,be[nt].primKey,be[nt].indexes))})}function jo(be,De){be.createIndex(De.name,De.keyPath,{unique:De.unique,multiEntry:De.multi})}function ei(be,De,nt){var dt={};return d(De.objectStoreNames,0).forEach(function(xt){for(var Pt=nt.objectStore(xt),en=Se(Ze(Ot=Pt.keyPath),Ot||"",!0,!1,!!Pt.autoIncrement,Ot&&typeof Ot!="string",!0),Cn=[],Wn=0;Wn<Pt.indexNames.length;++Wn){var Gt=Pt.index(Pt.indexNames[Wn]),Ot=Gt.keyPath,Gt=Se(Gt.name,Ot,!!Gt.unique,!!Gt.multiEntry,!1,Ot&&typeof Ot!="string",!1);Cn.push(Gt)}dt[xt]=Ve(xt,en,Cn)}),dt}function vi(be,De,nt){for(var dt=nt.db.objectStoreNames,xt=0;xt<dt.length;++xt){var Pt=dt[xt],en=nt.objectStore(Pt);be._hasGetAll="getAll"in en;for(var Cn=0;Cn<en.indexNames.length;++Cn){var Wn=en.indexNames[Cn],Ot=en.index(Wn).keyPath,Gt=typeof Ot=="string"?Ot:"["+d(Ot).join("+")+"]";!De[Pt]||(Ot=De[Pt].idxByName[Gt])&&(Ot.name=Wn,delete De[Pt].idxByName[Gt],De[Pt].idxByName[Wn]=Ot)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ne.WorkerGlobalScope&&Ne instanceof Ne.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(be._hasGetAll=!1)}function Gr(be){return be.split(",").map(function(De,nt){var dt=(De=De.trim()).replace(/([&*]|\+\+)/g,""),xt=/^\[/.test(dt)?dt.match(/^\[(.*)\]$/)[1].split("+"):dt;return Se(dt,xt||null,/\&/.test(De),/\*/.test(De),/\+\+/.test(De),$e(xt),nt===0)})}var Ir=(uo.prototype._parseStoresSpec=function(be,De){Ge(be).forEach(function(nt){if(be[nt]!==null){var dt=Gr(be[nt]),xt=dt.shift();if(xt.unique=!0,xt.multi)throw new g.Schema("Primary key cannot be multi-valued");dt.forEach(function(Pt){if(Pt.auto)throw new g.Schema("Only primary key can be marked as autoIncrement (++)");if(!Pt.keyPath)throw new g.Schema("Index must have a name and cannot be an empty string")}),De[nt]=Ve(nt,xt,dt)}})},uo.prototype.stores=function(nt){var De=this.db;this._cfg.storesSource=this._cfg.storesSource?mt(this._cfg.storesSource,nt):nt;var nt=De._versions,dt={},xt={};return nt.forEach(function(Pt){mt(dt,Pt._cfg.storesSource),xt=Pt._cfg.dbschema={},Pt._parseStoresSpec(dt,xt)}),De._dbSchema=xt,br(De,[De._allTables,De,De.Transaction.prototype]),hr(De,[De._allTables,De,De.Transaction.prototype,this._cfg.tables],Ge(xt),xt),De._storeNames=Ge(xt),this},uo.prototype.upgrade=function(be){return this._cfg.contentUpgrade=se(this._cfg.contentUpgrade||k,be),this},uo);function uo(){}function Co(be,De){var nt=be._dbNamesDB;return nt||(nt=be._dbNamesDB=new aa(an,{addons:[],indexedDB:be,IDBKeyRange:De})).version(1).stores({dbnames:"name"}),nt.table("dbnames")}function Oo(be){return be&&typeof be.databases=="function"}function di(be){return wt(function(){return P.letThrough=!0,be()})}function ri(be){return!("from"in be)}var ni=function(be,De){if(!this){var nt=new ni;return be&&"d"in be&&mt(nt,be),nt}mt(this,arguments.length?{d:1,from:be,to:1<arguments.length?De:be}:{d:0})};function bi(be,De,nt){var dt=Bt(De,nt);if(!isNaN(dt)){if(0<dt)throw RangeError();if(ri(be))return mt(be,{from:De,to:nt,d:1});var xt=be.l,dt=be.r;if(Bt(nt,be.from)<0)return xt?bi(xt,De,nt):be.l={from:De,to:nt,d:1,l:null,r:null},ki(be);if(0<Bt(De,be.to))return dt?bi(dt,De,nt):be.r={from:De,to:nt,d:1,l:null,r:null},ki(be);Bt(De,be.from)<0&&(be.from=De,be.l=null,be.d=dt?dt.d+1:1),0<Bt(nt,be.to)&&(be.to=nt,be.r=null,be.d=be.l?be.l.d+1:1),nt=!be.r,xt&&!be.l&&ji(be,xt),dt&&nt&&ji(be,dt)}}function ji(be,De){ri(De)||function nt(dt,Wn){var Pt=Wn.from,en=Wn.to,Cn=Wn.l,Wn=Wn.r;bi(dt,Pt,en),Cn&&nt(dt,Cn),Wn&&nt(dt,Wn)}(be,De)}function wa(be,De){var nt=ka(De),dt=nt.next();if(dt.done)return!1;for(var xt=dt.value,Pt=ka(be),en=Pt.next(xt.from),Cn=en.value;!dt.done&&!en.done;){if(Bt(Cn.from,xt.to)<=0&&0<=Bt(Cn.to,xt.from))return!0;Bt(xt.from,Cn.from)<0?xt=(dt=nt.next(Cn.from)).value:Cn=(en=Pt.next(xt.from)).value}return!1}function ka(be){var De=ri(be)?null:{s:0,n:be};return{next:function(nt){for(var dt=0<arguments.length;De;)switch(De.s){case 0:if(De.s=1,dt)for(;De.n.l&&Bt(nt,De.n.from)<0;)De={up:De,n:De.n.l,s:1};else for(;De.n.l;)De={up:De,n:De.n.l,s:1};case 1:if(De.s=2,!dt||Bt(nt,De.n.to)<=0)return{value:De.n,done:!1};case 2:if(De.n.r){De.s=3,De={up:De,n:De.n.r,s:0};continue}case 3:De=De.up}return{done:!0}}}}function ki(be){var De,nt,dt=(((De=be.r)===null||De===void 0?void 0:De.d)||0)-(((nt=be.l)===null||nt===void 0?void 0:nt.d)||0),xt=1<dt?"r":dt<-1?"l":"";xt&&(De=xt=="r"?"l":"r",nt=ce({},be),dt=be[xt],be.from=dt.from,be.to=dt.to,be[xt]=dt[xt],nt[xt]=dt[De],(be[De]=nt).d=Ea(nt)),be.d=Ea(be)}function Ea(nt){var De=nt.r,nt=nt.l;return(De?nt?Math.max(De.d,nt.d):De.d:nt?nt.d:0)+1}function Ma(be,De){return Ge(De).forEach(function(nt){be[nt]?ji(be[nt],De[nt]):be[nt]=function dt(xt){var Pt,en,Cn={};for(Pt in xt)ft(xt,Pt)&&(en=xt[Pt],Cn[Pt]=!en||typeof en!="object"||h.has(en.constructor)?en:dt(en));return Cn}(De[nt])}),be}function qa(be,De){return be.all||De.all||Object.keys(be).some(function(nt){return De[nt]&&wa(De[nt],be[nt])})}We(ni.prototype,((ua={add:function(be){return ji(this,be),this},addKey:function(be){return bi(this,be,be),this},addKeys:function(be){var De=this;return be.forEach(function(nt){return bi(De,nt,nt)}),this},hasKey:function(be){var De=ka(this).next(be).value;return De&&Bt(De.from,be)<=0&&0<=Bt(De.to,be)}})[ve]=function(){return ka(this)},ua));var zi={},ra={},Ai=!1;function Ni(be){Ma(ra,be),Ai||(Ai=!0,setTimeout(function(){Ai=!1,Xa(ra,!(ra={}))},0))}function Xa(be,De){De===void 0&&(De=!1);var nt=new Set;if(be.all)for(var dt=0,xt=Object.values(zi);dt<xt.length;dt++)Aa(en=xt[dt],be,nt,De);else for(var Pt in be){var en,Cn=/^idb\:\/\/(.*)\/(.*)\//.exec(Pt);Cn&&(Pt=Cn[1],Cn=Cn[2],(en=zi["idb://".concat(Pt,"/").concat(Cn)])&&Aa(en,be,nt,De))}nt.forEach(function(Wn){return Wn()})}function Aa(be,De,nt,dt){for(var xt=[],Pt=0,en=Object.entries(be.queries.query);Pt<en.length;Pt++){for(var Cn=en[Pt],Wn=Cn[0],Ot=[],Gt=0,Tt=Cn[1];Gt<Tt.length;Gt++){var mn=Tt[Gt];qa(De,mn.obsSet)?mn.subscribers.forEach(function(gn){return nt.add(gn)}):dt&&Ot.push(mn)}dt&&xt.push([Wn,Ot])}if(dt)for(var Jt=0,On=xt;Jt<On.length;Jt++){var In=On[Jt],Wn=In[0],Ot=In[1];be.queries.query[Wn]=Ot}}function oa(be){var De=be._state,nt=be._deps.indexedDB;if(De.isBeingOpened||be.idbdb)return De.dbReadyPromise.then(function(){return De.dbOpenError?kt(De.dbOpenError):be});De.isBeingOpened=!0,De.dbOpenError=null,De.openComplete=!1;var dt=De.openCanceller,xt=Math.round(10*be.verno),Pt=!1;function en(){if(De.openCanceller!==dt)throw new g.DatabaseClosed("db.open() was cancelled")}function Cn(){return new H(function(mn,Jt){if(en(),!nt)throw new g.MissingAPI;var On=be.name,In=De.autoSchema||!xt?nt.open(On):nt.open(On,xt);if(!In)throw new g.MissingAPI;In.onerror=Eo(Jt),In.onblocked=ht(be._fireOnBlocked),In.onupgradeneeded=ht(function(gn){var nr;Gt=In.transaction,De.autoSchema&&!be._options.allowEmptyDB?(In.onerror=Ro,Gt.abort(),In.result.close(),(nr=nt.deleteDatabase(On)).onsuccess=nr.onerror=ht(function(){Jt(new g.NoSuchDatabase("Database ".concat(On," doesnt exist")))})):(Gt.onerror=Eo(Jt),gn=gn.oldVersion>Math.pow(2,62)?0:gn.oldVersion,Tt=gn<1,be.idbdb=In.result,Pt&&Er(be,Gt),Or(be,gn/10,Gt,Jt))},Jt),In.onsuccess=ht(function(){Gt=null;var gn,nr,ur,dr,jr,Vr=be.idbdb=In.result,qr=d(Vr.objectStoreNames);if(0<qr.length)try{var Wr=Vr.transaction((dr=qr).length===1?dr[0]:dr,"readonly");if(De.autoSchema)nr=Vr,ur=Wr,(gn=be).verno=nr.version/10,ur=gn._dbSchema=ei(0,nr,ur),gn._storeNames=d(nr.objectStoreNames,0),hr(gn,[gn._allTables],Ge(ur),ur);else if(vi(be,be._dbSchema,Wr),((jr=Cr(ei(0,(jr=be).idbdb,Wr),jr._dbSchema)).add.length||jr.change.some(function(Yr){return Yr.add.length||Yr.change.length}))&&!Pt)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Vr.close(),xt=Vr.version+1,Pt=!0,mn(Cn());qn(be,Wr)}catch{}Kt.push(be),Vr.onversionchange=ht(function(Yr){De.vcFired=!0,be.on("versionchange").fire(Yr)}),Vr.onclose=ht(function(Yr){be.on("close").fire(Yr)}),Tt&&(jr=be._deps,Wr=On,Vr=jr.indexedDB,jr=jr.IDBKeyRange,Oo(Vr)||Wr===an||Co(Vr,jr).put({name:Wr}).catch(k)),mn()},Jt)}).catch(function(mn){switch(mn?.name){case"UnknownError":if(0<De.PR1398_maxLoop)return De.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Cn();break;case"VersionError":if(0<xt)return xt=0,Cn()}return H.reject(mn)})}var Wn,Ot=De.dbReadyResolve,Gt=null,Tt=!1;return H.race([dt,(typeof navigator>"u"?H.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(mn){function Jt(){return indexedDB.databases().finally(mn)}Wn=setInterval(Jt,100),Jt()}).finally(function(){return clearInterval(Wn)}):Promise.resolve()).then(Cn)]).then(function(){return en(),De.onReadyBeingFired=[],H.resolve(di(function(){return be.on.ready.fire(be.vip)})).then(function mn(){if(0<De.onReadyBeingFired.length){var Jt=De.onReadyBeingFired.reduce(se,k);return De.onReadyBeingFired=[],H.resolve(di(function(){return Jt(be.vip)})).then(mn)}})}).finally(function(){De.openCanceller===dt&&(De.onReadyBeingFired=null,De.isBeingOpened=!1)}).catch(function(mn){De.dbOpenError=mn;try{Gt&&Gt.abort()}catch{}return dt===De.openCanceller&&be._close(),kt(mn)}).finally(function(){De.openComplete=!0,Ot()}).then(function(){var mn;return Tt&&(mn={},be.tables.forEach(function(Jt){Jt.schema.indexes.forEach(function(On){On.name&&(mn["idb://".concat(be.name,"/").concat(Jt.name,"/").concat(On.name)]=new ni(-1/0,[[[]]]))}),mn["idb://".concat(be.name,"/").concat(Jt.name,"/")]=mn["idb://".concat(be.name,"/").concat(Jt.name,"/:dels")]=new ni(-1/0,[[[]]])}),bo(Bo).fire(mn),Xa(mn,!0)),be})}function Ji(be){function De(Pt){return be.next(Pt)}var nt=xt(De),dt=xt(function(Pt){return be.throw(Pt)});function xt(Pt){return function(Wn){var Cn=Pt(Wn),Wn=Cn.value;return Cn.done?Wn:Wn&&typeof Wn.then=="function"?Wn.then(nt,dt):$e(Wn)?Promise.all(Wn).then(nt,dt):nt(Wn)}}return xt(De)()}function Ki(be,De,nt){for(var dt=$e(be)?be.slice():[be],xt=0;xt<nt;++xt)dt.push(De);return dt}var ca={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(be){return ce(ce({},be),{table:function(De){var nt=be.table(De),dt=nt.schema,xt={},Pt=[];function en(Tt,mn,Jt){var On=nn(Tt),In=xt[On]=xt[On]||[],gn=Tt==null?0:typeof Tt=="string"?1:Tt.length,nr=0<mn,nr=ce(ce({},Jt),{name:nr?"".concat(On,"(virtual-from:").concat(Jt.name,")"):Jt.name,lowLevelIndex:Jt,isVirtual:nr,keyTail:mn,keyLength:gn,extractKey:Vt(Tt),unique:!nr&&Jt.unique});return In.push(nr),nr.isPrimaryKey||Pt.push(nr),1<gn&&en(gn===2?Tt[0]:Tt.slice(0,gn-1),mn+1,Jt),In.sort(function(ur,dr){return ur.keyTail-dr.keyTail}),nr}De=en(dt.primaryKey.keyPath,0,dt.primaryKey),xt[":id"]=[De];for(var Cn=0,Wn=dt.indexes;Cn<Wn.length;Cn++){var Ot=Wn[Cn];en(Ot.keyPath,0,Ot)}function Gt(Tt){var mn,Jt=Tt.query.index;return Jt.isVirtual?ce(ce({},Tt),{query:{index:Jt.lowLevelIndex,range:(mn=Tt.query.range,Jt=Jt.keyTail,{type:mn.type===1?2:mn.type,lower:Ki(mn.lower,mn.lowerOpen?be.MAX_KEY:be.MIN_KEY,Jt),lowerOpen:!0,upper:Ki(mn.upper,mn.upperOpen?be.MIN_KEY:be.MAX_KEY,Jt),upperOpen:!0})}}):Tt}return ce(ce({},nt),{schema:ce(ce({},dt),{primaryKey:De,indexes:Pt,getIndexByKeyPath:function(Tt){return(Tt=xt[nn(Tt)])&&Tt[0]}}),count:function(Tt){return nt.count(Gt(Tt))},query:function(Tt){return nt.query(Gt(Tt))},openCursor:function(Tt){var mn=Tt.query.index,Jt=mn.keyTail,On=mn.isVirtual,In=mn.keyLength;return On?nt.openCursor(Gt(Tt)).then(function(nr){return nr&&gn(nr)}):nt.openCursor(Tt);function gn(nr){return Object.create(nr,{continue:{value:function(ur){ur!=null?nr.continue(Ki(ur,Tt.reverse?be.MAX_KEY:be.MIN_KEY,Jt)):Tt.unique?nr.continue(nr.key.slice(0,In).concat(Tt.reverse?be.MIN_KEY:be.MAX_KEY,Jt)):nr.continue()}},continuePrimaryKey:{value:function(ur,dr){nr.continuePrimaryKey(Ki(ur,be.MAX_KEY,Jt),dr)}},primaryKey:{get:function(){return nr.primaryKey}},key:{get:function(){var ur=nr.key;return In===1?ur[0]:ur.slice(0,In)}},value:{get:function(){return nr.value}}})}}})}})}};function ia(be,De,nt,dt){return nt=nt||{},dt=dt||"",Ge(be).forEach(function(xt){var Pt,en,Cn;ft(De,xt)?(Pt=be[xt],en=De[xt],typeof Pt=="object"&&typeof en=="object"&&Pt&&en?(Cn=he(Pt))!==he(en)?nt[dt+xt]=De[xt]:Cn==="Object"?ia(Pt,en,nt,dt+xt+"."):Pt!==en&&(nt[dt+xt]=De[xt]):Pt!==en&&(nt[dt+xt]=De[xt])):nt[dt+xt]=void 0}),Ge(De).forEach(function(xt){ft(be,xt)||(nt[dt+xt]=De[xt])}),nt}function ma(be,De){return De.type==="delete"?De.keys:De.keys||De.values.map(be.extractKey)}var ga={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(be){return ce(ce({},be),{table:function(De){var nt=be.table(De),dt=nt.schema.primaryKey;return ce(ce({},nt),{mutate:function(xt){var Pt=P.trans,en=Pt.table(De).hook,Cn=en.deleting,Wn=en.creating,Ot=en.updating;switch(xt.type){case"add":if(Wn.fire===k)break;return Pt._promise("readwrite",function(){return Gt(xt)},!0);case"put":if(Wn.fire===k&&Ot.fire===k)break;return Pt._promise("readwrite",function(){return Gt(xt)},!0);case"delete":if(Cn.fire===k)break;return Pt._promise("readwrite",function(){return Gt(xt)},!0);case"deleteRange":if(Cn.fire===k)break;return Pt._promise("readwrite",function(){return function Tt(mn,Jt,On){return nt.query({trans:mn,values:!1,query:{index:dt,range:Jt},limit:On}).then(function(In){var gn=In.result;return Gt({type:"delete",keys:gn,trans:mn}).then(function(nr){return 0<nr.numFailures?Promise.reject(nr.failures[0]):gn.length<On?{failures:[],numFailures:0,lastResult:void 0}:Tt(mn,ce(ce({},Jt),{lower:gn[gn.length-1],lowerOpen:!0}),On)})})}(xt.trans,xt.range,1e4)},!0)}return nt.mutate(xt);function Gt(Tt){var mn,Jt,On,In=P.trans,gn=Tt.keys||ma(dt,Tt);if(!gn)throw new Error("Keys missing");return(Tt=Tt.type==="add"||Tt.type==="put"?ce(ce({},Tt),{keys:gn}):ce({},Tt)).type!=="delete"&&(Tt.values=Ce([],Tt.values)),Tt.keys&&(Tt.keys=Ce([],Tt.keys)),mn=nt,On=gn,((Jt=Tt).type==="add"?Promise.resolve([]):mn.getMany({trans:Jt.trans,keys:On,cache:"immutable"})).then(function(nr){var ur=gn.map(function(dr,jr){var Vr,qr,Wr,Yr=nr[jr],Tr={onerror:null,onsuccess:null};return Tt.type==="delete"?Cn.fire.call(Tr,dr,Yr,In):Tt.type==="add"||Yr===void 0?(Vr=Wn.fire.call(Tr,dr,Tt.values[jr],In),dr==null&&Vr!=null&&(Tt.keys[jr]=dr=Vr,dt.outbound||c(Tt.values[jr],dt.keyPath,dr))):(Vr=ia(Yr,Tt.values[jr]),(qr=Ot.fire.call(Tr,Vr,dr,Yr,In))&&(Wr=Tt.values[jr],Object.keys(qr).forEach(function(Br){ft(Wr,Br)?Wr[Br]=qr[Br]:c(Wr,Br,qr[Br])}))),Tr});return nt.mutate(Tt).then(function(dr){for(var jr=dr.failures,Vr=dr.results,qr=dr.numFailures,dr=dr.lastResult,Wr=0;Wr<gn.length;++Wr){var Yr=(Vr||gn)[Wr],Tr=ur[Wr];Yr==null?Tr.onerror&&Tr.onerror(jr[Wr]):Tr.onsuccess&&Tr.onsuccess(Tt.type==="put"&&nr[Wr]?Tt.values[Wr]:Yr)}return{failures:jr,results:Vr,numFailures:qr,lastResult:dr}}).catch(function(dr){return ur.forEach(function(jr){return jr.onerror&&jr.onerror(dr)}),Promise.reject(dr)})})}}})}})}};function Ta(be,De,nt){try{if(!De||De.keys.length<be.length)return null;for(var dt=[],xt=0,Pt=0;xt<De.keys.length&&Pt<be.length;++xt)Bt(De.keys[xt],be[Pt])===0&&(dt.push(nt?G(De.values[xt]):De.values[xt]),++Pt);return dt.length===be.length?dt:null}catch{return null}}var Ka={stack:"dbcore",level:-1,create:function(be){return{table:function(De){var nt=be.table(De);return ce(ce({},nt),{getMany:function(dt){if(!dt.cache)return nt.getMany(dt);var xt=Ta(dt.keys,dt.trans._cache,dt.cache==="clone");return xt?H.resolve(xt):nt.getMany(dt).then(function(Pt){return dt.trans._cache={keys:dt.keys,values:dt.cache==="clone"?G(Pt):Pt},Pt})},mutate:function(dt){return dt.type!=="add"&&(dt.trans._cache=null),nt.mutate(dt)}})}}}};function Pa(be,De){return be.trans.mode==="readonly"&&!!be.subscr&&!be.trans.explicit&&be.trans.db._options.cache!=="disabled"&&!De.schema.primaryKey.outbound}function Ra(be,De){switch(be){case"query":return De.values&&!De.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var $i={stack:"dbcore",level:0,name:"Observability",create:function(be){var De=be.schema.name,nt=new ni(be.MIN_KEY,be.MAX_KEY);return ce(ce({},be),{transaction:function(dt,xt,Pt){if(P.subscr&&xt!=="readonly")throw new g.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(P.querier));return be.transaction(dt,xt,Pt)},table:function(dt){var xt=be.table(dt),Pt=xt.schema,en=Pt.primaryKey,Tt=Pt.indexes,Cn=en.extractKey,Wn=en.outbound,Ot=en.autoIncrement&&Tt.filter(function(Jt){return Jt.compound&&Jt.keyPath.includes(en.keyPath)}),Gt=ce(ce({},xt),{mutate:function(Jt){function On(Br){return Br="idb://".concat(De,"/").concat(dt,"/").concat(Br),dr[Br]||(dr[Br]=new ni)}var In,gn,nr,ur=Jt.trans,dr=Jt.mutatedParts||(Jt.mutatedParts={}),jr=On(""),Vr=On(":dels"),qr=Jt.type,Tr=Jt.type==="deleteRange"?[Jt.range]:Jt.type==="delete"?[Jt.keys]:Jt.values.length<50?[ma(en,Jt).filter(function(Br){return Br}),Jt.values]:[],Wr=Tr[0],Yr=Tr[1],Tr=Jt.trans._cache;return $e(Wr)?(jr.addKeys(Wr),(Tr=qr==="delete"||Wr.length===Yr.length?Ta(Wr,Tr):null)||Vr.addKeys(Wr),(Tr||Yr)&&(In=On,gn=Tr,nr=Yr,Pt.indexes.forEach(function(Br){var ro=In(Br.name||"");function so(Mo){return Mo!=null?Br.extractKey(Mo):null}function fo(Mo){return Br.multiEntry&&$e(Mo)?Mo.forEach(function(Zi){return ro.addKey(Zi)}):ro.addKey(Mo)}(gn||nr).forEach(function(Mo,at){var Ao=gn&&so(gn[at]),at=nr&&so(nr[at]);Bt(Ao,at)!==0&&(Ao!=null&&fo(Ao),at!=null&&fo(at))})}))):Wr?(Yr={from:(Yr=Wr.lower)!==null&&Yr!==void 0?Yr:be.MIN_KEY,to:(Yr=Wr.upper)!==null&&Yr!==void 0?Yr:be.MAX_KEY},Vr.add(Yr),jr.add(Yr)):(jr.add(nt),Vr.add(nt),Pt.indexes.forEach(function(Br){return On(Br.name).add(nt)})),xt.mutate(Jt).then(function(Br){return!Wr||Jt.type!=="add"&&Jt.type!=="put"||(jr.addKeys(Br.results),Ot&&Ot.forEach(function(ro){for(var so=Jt.values.map(function(Ao){return ro.extractKey(Ao)}),fo=ro.keyPath.findIndex(function(Ao){return Ao===en.keyPath}),Mo=0,Zi=Br.results.length;Mo<Zi;++Mo)so[Mo][fo]=Br.results[Mo];On(ro.name).addKeys(so)})),ur.mutatedParts=Ma(ur.mutatedParts||{},dr),Br})}}),Tt=function(On){var In=On.query,On=In.index,In=In.range;return[On,new ni((On=In.lower)!==null&&On!==void 0?On:be.MIN_KEY,(In=In.upper)!==null&&In!==void 0?In:be.MAX_KEY)]},mn={get:function(Jt){return[en,new ni(Jt.key)]},getMany:function(Jt){return[en,new ni().addKeys(Jt.keys)]},count:Tt,query:Tt,openCursor:Tt};return Ge(mn).forEach(function(Jt){Gt[Jt]=function(On){var In=P.subscr,gn=!!In,nr=Pa(P,xt)&&Ra(Jt,On)?On.obsSet={}:In;if(gn){var ur=function(Yr){return Yr="idb://".concat(De,"/").concat(dt,"/").concat(Yr),nr[Yr]||(nr[Yr]=new ni)},dr=ur(""),jr=ur(":dels"),In=mn[Jt](On),gn=In[0],In=In[1];if((Jt==="query"&&gn.isPrimaryKey&&!On.values?jr:ur(gn.name||"")).add(In),!gn.isPrimaryKey){if(Jt!=="count"){var Vr=Jt==="query"&&Wn&&On.values&&xt.query(ce(ce({},On),{values:!1}));return xt[Jt].apply(this,arguments).then(function(Yr){if(Jt==="query"){if(Wn&&On.values)return Vr.then(function(so){return so=so.result,dr.addKeys(so),Yr});var Tr=On.values?Yr.result.map(Cn):Yr.result;(On.values?dr:jr).addKeys(Tr)}else if(Jt==="openCursor"){var Br=Yr,ro=On.values;return Br&&Object.create(Br,{key:{get:function(){return jr.addKey(Br.primaryKey),Br.key}},primaryKey:{get:function(){var so=Br.primaryKey;return jr.addKey(so),so}},value:{get:function(){return ro&&dr.addKey(Br.primaryKey),Br.value}}})}return Yr})}jr.add(nt)}}return xt[Jt].apply(this,arguments)}}),Gt}})}};function mi(be,De,nt){if(nt.numFailures===0)return De;if(De.type==="deleteRange")return null;var dt=De.keys?De.keys.length:"values"in De&&De.values?De.values.length:1;return nt.numFailures===dt?null:(De=ce({},De),$e(De.keys)&&(De.keys=De.keys.filter(function(xt,Pt){return!(Pt in nt.failures)})),"values"in De&&$e(De.values)&&(De.values=De.values.filter(function(xt,Pt){return!(Pt in nt.failures)})),De)}function Qi(be,De){return nt=be,((dt=De).lower===void 0||(dt.lowerOpen?0<Bt(nt,dt.lower):0<=Bt(nt,dt.lower)))&&(be=be,(De=De).upper===void 0||(De.upperOpen?Bt(be,De.upper)<0:Bt(be,De.upper)<=0));var nt,dt}function Ri(be,De,mn,dt,xt,Pt){if(!mn||mn.length===0)return be;var en=De.query.index,Cn=en.multiEntry,Wn=De.query.range,Ot=dt.schema.primaryKey.extractKey,Gt=en.extractKey,Tt=(en.lowLevelIndex||en).extractKey,mn=mn.reduce(function(Jt,On){var In=Jt,gn=[];if(On.type==="add"||On.type==="put")for(var nr=new ni,ur=On.values.length-1;0<=ur;--ur){var dr,jr=On.values[ur],Vr=Ot(jr);nr.hasKey(Vr)||(dr=Gt(jr),(Cn&&$e(dr)?dr.some(function(Br){return Qi(Br,Wn)}):Qi(dr,Wn))&&(nr.addKey(Vr),gn.push(jr)))}switch(On.type){case"add":var qr=new ni().addKeys(De.values?Jt.map(function(ro){return Ot(ro)}):Jt),In=Jt.concat(De.values?gn.filter(function(ro){return ro=Ot(ro),!qr.hasKey(ro)&&(qr.addKey(ro),!0)}):gn.map(function(ro){return Ot(ro)}).filter(function(ro){return!qr.hasKey(ro)&&(qr.addKey(ro),!0)}));break;case"put":var Wr=new ni().addKeys(On.values.map(function(ro){return Ot(ro)}));In=Jt.filter(function(ro){return!Wr.hasKey(De.values?Ot(ro):ro)}).concat(De.values?gn:gn.map(function(ro){return Ot(ro)}));break;case"delete":var Yr=new ni().addKeys(On.keys);In=Jt.filter(function(ro){return!Yr.hasKey(De.values?Ot(ro):ro)});break;case"deleteRange":var Tr=On.range;In=Jt.filter(function(ro){return!Qi(Ot(ro),Tr)})}return In},be);return mn===be?be:(mn.sort(function(Jt,On){return Bt(Tt(Jt),Tt(On))||Bt(Ot(Jt),Ot(On))}),De.limit&&De.limit<1/0&&(mn.length>De.limit?mn.length=De.limit:be.length===De.limit&&mn.length<De.limit&&(xt.dirty=!0)),Pt?Object.freeze(mn):mn)}function Sa(be,De){return Bt(be.lower,De.lower)===0&&Bt(be.upper,De.upper)===0&&!!be.lowerOpen==!!De.lowerOpen&&!!be.upperOpen==!!De.upperOpen}function yl(be,De){return function(nt,dt,xt,Pt){if(nt===void 0)return dt!==void 0?-1:0;if(dt===void 0)return 1;if((dt=Bt(nt,dt))===0){if(xt&&Pt)return 0;if(xt)return 1;if(Pt)return-1}return dt}(be.lower,De.lower,be.lowerOpen,De.lowerOpen)<=0&&0<=function(nt,dt,xt,Pt){if(nt===void 0)return dt!==void 0?1:0;if(dt===void 0)return-1;if((dt=Bt(nt,dt))===0){if(xt&&Pt)return 0;if(xt)return-1;if(Pt)return 1}return dt}(be.upper,De.upper,be.upperOpen,De.upperOpen)}function xl(be,De,nt,dt){be.subscribers.add(nt),dt.addEventListener("abort",function(){var xt,Pt;be.subscribers.delete(nt),be.subscribers.size===0&&(xt=be,Pt=De,setTimeout(function(){xt.subscribers.size===0&&X(Pt,xt)},3e3))})}var Nl={stack:"dbcore",level:0,name:"Cache",create:function(be){var De=be.schema.name;return ce(ce({},be),{transaction:function(nt,dt,xt){var Pt,en,Cn=be.transaction(nt,dt,xt);return dt==="readwrite"&&(en=(Pt=new AbortController).signal,xt=function(Wn){return function(){if(Pt.abort(),dt==="readwrite"){for(var Ot=new Set,Gt=0,Tt=nt;Gt<Tt.length;Gt++){var mn=Tt[Gt],Jt=zi["idb://".concat(De,"/").concat(mn)];if(Jt){var On=be.table(mn),In=Jt.optimisticOps.filter(function(ro){return ro.trans===Cn});if(Cn._explicit&&Wn&&Cn.mutatedParts)for(var gn=0,nr=Object.values(Jt.queries.query);gn<nr.length;gn++)for(var ur=0,dr=(qr=nr[gn]).slice();ur<dr.length;ur++)qa((Wr=dr[ur]).obsSet,Cn.mutatedParts)&&(X(qr,Wr),Wr.subscribers.forEach(function(ro){return Ot.add(ro)}));else if(0<In.length){Jt.optimisticOps=Jt.optimisticOps.filter(function(ro){return ro.trans!==Cn});for(var jr=0,Vr=Object.values(Jt.queries.query);jr<Vr.length;jr++)for(var qr,Wr,Yr,Tr=0,Br=(qr=Vr[jr]).slice();Tr<Br.length;Tr++)(Wr=Br[Tr]).res!=null&&Cn.mutatedParts&&(Wn&&!Wr.dirty?(Yr=Object.isFrozen(Wr.res),Yr=Ri(Wr.res,Wr.req,In,On,Wr,Yr),Wr.dirty?(X(qr,Wr),Wr.subscribers.forEach(function(ro){return Ot.add(ro)})):Yr!==Wr.res&&(Wr.res=Yr,Wr.promise=H.resolve({result:Yr}))):(Wr.dirty&&X(qr,Wr),Wr.subscribers.forEach(function(ro){return Ot.add(ro)})))}}}Ot.forEach(function(ro){return ro()})}}},Cn.addEventListener("abort",xt(!1),{signal:en}),Cn.addEventListener("error",xt(!1),{signal:en}),Cn.addEventListener("complete",xt(!0),{signal:en})),Cn},table:function(nt){var dt=be.table(nt),xt=dt.schema.primaryKey;return ce(ce({},dt),{mutate:function(Pt){var en=P.trans;if(xt.outbound||en.db._options.cache==="disabled"||en.explicit||en.idbtrans.mode!=="readwrite")return dt.mutate(Pt);var Cn=zi["idb://".concat(De,"/").concat(nt)];return Cn?(en=dt.mutate(Pt),Pt.type!=="add"&&Pt.type!=="put"||!(50<=Pt.values.length||ma(xt,Pt).some(function(Wn){return Wn==null}))?(Cn.optimisticOps.push(Pt),Pt.mutatedParts&&Ni(Pt.mutatedParts),en.then(function(Wn){0<Wn.numFailures&&(X(Cn.optimisticOps,Pt),(Wn=mi(0,Pt,Wn))&&Cn.optimisticOps.push(Wn),Pt.mutatedParts&&Ni(Pt.mutatedParts))}),en.catch(function(){X(Cn.optimisticOps,Pt),Pt.mutatedParts&&Ni(Pt.mutatedParts)})):en.then(function(Wn){var Ot=mi(0,ce(ce({},Pt),{values:Pt.values.map(function(Gt,Tt){var mn;return Wn.failures[Tt]||(Gt=(mn=xt.keyPath)!==null&&mn!==void 0&&mn.includes(".")?G(Gt):ce({},Gt),c(Gt,xt.keyPath,Wn.results[Tt])),Gt})}),Wn);Cn.optimisticOps.push(Ot),queueMicrotask(function(){return Pt.mutatedParts&&Ni(Pt.mutatedParts)})}),en):dt.mutate(Pt)},query:function(Pt){if(!Pa(P,dt)||!Ra("query",Pt))return dt.query(Pt);var en=((Ot=P.trans)===null||Ot===void 0?void 0:Ot.db._options.cache)==="immutable",Tt=P,Cn=Tt.requery,Wn=Tt.signal,Ot=function(On,In,gn,nr){var ur=zi["idb://".concat(On,"/").concat(In)];if(!ur)return[];if(!(In=ur.queries[gn]))return[null,!1,ur,null];var dr=In[(nr.query?nr.query.index.name:null)||""];if(!dr)return[null,!1,ur,null];switch(gn){case"query":var jr=dr.find(function(Vr){return Vr.req.limit===nr.limit&&Vr.req.values===nr.values&&Sa(Vr.req.query.range,nr.query.range)});return jr?[jr,!0,ur,dr]:[dr.find(function(Vr){return("limit"in Vr.req?Vr.req.limit:1/0)>=nr.limit&&(!nr.values||Vr.req.values)&&yl(Vr.req.query.range,nr.query.range)}),!1,ur,dr];case"count":return jr=dr.find(function(Vr){return Sa(Vr.req.query.range,nr.query.range)}),[jr,!!jr,ur,dr]}}(De,nt,"query",Pt),Gt=Ot[0],Tt=Ot[1],mn=Ot[2],Jt=Ot[3];return Gt&&Tt?Gt.obsSet=Pt.obsSet:(Tt=dt.query(Pt).then(function(On){var In=On.result;if(Gt&&(Gt.res=In),en){for(var gn=0,nr=In.length;gn<nr;++gn)Object.freeze(In[gn]);Object.freeze(In)}else On.result=G(In);return On}).catch(function(On){return Jt&&Gt&&X(Jt,Gt),Promise.reject(On)}),Gt={obsSet:Pt.obsSet,promise:Tt,subscribers:new Set,type:"query",req:Pt,dirty:!1},Jt?Jt.push(Gt):(Jt=[Gt],(mn=mn||(zi["idb://".concat(De,"/").concat(nt)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[Pt.query.index.name||""]=Jt)),xl(Gt,Jt,Cn,Wn),Gt.promise.then(function(On){return{result:Ri(On.result,Pt,mn?.optimisticOps,dt,Gt,en)}})}})}})}};function Za(be,De){return new Proxy(be,{get:function(nt,dt,xt){return dt==="db"?De:Reflect.get(nt,dt,xt)}})}var aa=(yi.prototype.version=function(be){if(isNaN(be)||be<.1)throw new g.Type("Given version is not a positive number");if(be=Math.round(10*be)/10,this.idbdb||this._state.isBeingOpened)throw new g.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,be);var De=this._versions,nt=De.filter(function(dt){return dt._cfg.version===be})[0];return nt||(nt=new this.Version(be),De.push(nt),De.sort(Mr),nt.stores({}),this._state.autoSchema=!1,nt)},yi.prototype._whenReady=function(be){var De=this;return this.idbdb&&(this._state.openComplete||P.letThrough||this._vip)?be():new H(function(nt,dt){if(De._state.openComplete)return dt(new g.DatabaseClosed(De._state.dbOpenError));if(!De._state.isBeingOpened){if(!De._state.autoOpen)return void dt(new g.DatabaseClosed);De.open().catch(k)}De._state.dbReadyPromise.then(nt,dt)}).then(be)},yi.prototype.use=function(be){var De=be.stack,nt=be.create,dt=be.level,xt=be.name;return xt&&this.unuse({stack:De,name:xt}),be=this._middlewares[De]||(this._middlewares[De]=[]),be.push({stack:De,create:nt,level:dt??10,name:xt}),be.sort(function(Pt,en){return Pt.level-en.level}),this},yi.prototype.unuse=function(be){var De=be.stack,nt=be.name,dt=be.create;return De&&this._middlewares[De]&&(this._middlewares[De]=this._middlewares[De].filter(function(xt){return dt?xt.create!==dt:!!nt&&xt.name!==nt})),this},yi.prototype.open=function(){var be=this;return on(ye,function(){return oa(be)})},yi.prototype._close=function(){var be=this._state,De=Kt.indexOf(this);if(0<=De&&Kt.splice(De,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}be.isBeingOpened||(be.dbReadyPromise=new H(function(nt){be.dbReadyResolve=nt}),be.openCanceller=new H(function(nt,dt){be.cancelOpen=dt}))},yi.prototype.close=function(nt){var De=(nt===void 0?{disableAutoOpen:!0}:nt).disableAutoOpen,nt=this._state;De?(nt.isBeingOpened&&nt.cancelOpen(new g.DatabaseClosed),this._close(),nt.autoOpen=!1,nt.dbOpenError=new g.DatabaseClosed):(this._close(),nt.autoOpen=this._options.autoOpen||nt.isBeingOpened,nt.openComplete=!1,nt.dbOpenError=null)},yi.prototype.delete=function(be){var De=this;be===void 0&&(be={disableAutoOpen:!0});var nt=0<arguments.length&&typeof arguments[0]!="object",dt=this._state;return new H(function(xt,Pt){function en(){De.close(be);var Cn=De._deps.indexedDB.deleteDatabase(De.name);Cn.onsuccess=ht(function(){var Wn,Ot,Gt;Wn=De._deps,Ot=De.name,Gt=Wn.indexedDB,Wn=Wn.IDBKeyRange,Oo(Gt)||Ot===an||Co(Gt,Wn).delete(Ot).catch(k),xt()}),Cn.onerror=Eo(Pt),Cn.onblocked=De._fireOnBlocked}if(nt)throw new g.InvalidArgument("Invalid closeOptions argument to db.delete()");dt.isBeingOpened?dt.dbReadyPromise.then(en):en()})},yi.prototype.backendDB=function(){return this.idbdb},yi.prototype.isOpen=function(){return this.idbdb!==null},yi.prototype.hasBeenClosed=function(){var be=this._state.dbOpenError;return be&&be.name==="DatabaseClosed"},yi.prototype.hasFailed=function(){return this._state.dbOpenError!==null},yi.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(yi.prototype,"tables",{get:function(){var be=this;return Ge(this._allTables).map(function(De){return be._allTables[De]})},enumerable:!1,configurable:!0}),yi.prototype.transaction=function(){var be=function(De,nt,dt){var xt=arguments.length;if(xt<2)throw new g.InvalidArgument("Too few arguments");for(var Pt=new Array(xt-1);--xt;)Pt[xt-1]=arguments[xt];return dt=Pt.pop(),[De,_(Pt),dt]}.apply(this,arguments);return this._transaction.apply(this,be)},yi.prototype._transaction=function(be,De,nt){var dt=this,xt=P.trans;xt&&xt.db===this&&be.indexOf("!")===-1||(xt=null);var Pt,en,Cn=be.indexOf("?")!==-1;be=be.replace("!","").replace("?","");try{if(en=De.map(function(Ot){if(Ot=Ot instanceof dt.Table?Ot.name:Ot,typeof Ot!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ot}),be=="r"||be===bn)Pt=bn;else{if(be!="rw"&&be!=hn)throw new g.InvalidArgument("Invalid transaction mode: "+be);Pt=hn}if(xt){if(xt.mode===bn&&Pt===hn){if(!Cn)throw new g.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");xt=null}xt&&en.forEach(function(Ot){if(xt&&xt.storeNames.indexOf(Ot)===-1){if(!Cn)throw new g.SubTransaction("Table "+Ot+" not included in parent transaction.");xt=null}}),Cn&&xt&&!xt.active&&(xt=null)}}catch(Ot){return xt?xt._promise(null,function(Gt,Tt){Tt(Ot)}):kt(Ot)}var Wn=function Ot(Gt,Tt,mn,Jt,On){return H.resolve().then(function(){var In=P.transless||P,gn=Gt._createTransaction(Tt,mn,Gt._dbSchema,Jt);if(gn.explicit=!0,In={trans:gn,transless:In},Jt)gn.idbtrans=Jt.idbtrans;else try{gn.create(),gn.idbtrans._explicit=!0,Gt._state.PR1398_maxLoop=3}catch(dr){return dr.name===r.InvalidState&&Gt.isOpen()&&0<--Gt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Gt.close({disableAutoOpen:!1}),Gt.open().then(function(){return Ot(Gt,Tt,mn,null,On)})):kt(dr)}var nr,ur=R(On);return ur&&zt(),In=H.follow(function(){var dr;(nr=On.call(gn,gn))&&(ur?(dr=Mt.bind(null,null),nr.then(dr,dr)):typeof nr.next=="function"&&typeof nr.throw=="function"&&(nr=Ji(nr)))},In),(nr&&typeof nr.then=="function"?H.resolve(nr).then(function(dr){return gn.active?dr:kt(new g.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):In.then(function(){return nr})).then(function(dr){return Jt&&gn._resolve(),gn._completion.then(function(){return dr})}).catch(function(dr){return gn._reject(dr),kt(dr)})})}.bind(null,this,Pt,en,xt,nt);return xt?xt._promise(Pt,Wn,"lock"):P.trans?on(P.transless,function(){return dt._whenReady(Wn)}):this._whenReady(Wn)},yi.prototype.table=function(be){if(!ft(this._allTables,be))throw new g.InvalidTable("Table ".concat(be," does not exist"));return this._allTables[be]},yi);function yi(be,De){var nt=this;this._middlewares={},this.verno=0;var dt=yi.dependencies;this._options=De=ce({addons:yi.addons,autoOpen:!0,indexedDB:dt.indexedDB,IDBKeyRange:dt.IDBKeyRange,cache:"cloned"},De),this._deps={indexedDB:De.indexedDB,IDBKeyRange:De.IDBKeyRange},dt=De.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var xt,Pt,en,Cn,Wn,Ot={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:k,dbReadyPromise:null,cancelOpen:k,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:De.autoOpen};Ot.dbReadyPromise=new H(function(Tt){Ot.dbReadyResolve=Tt}),Ot.openCanceller=new H(function(Tt,mn){Ot.cancelOpen=mn}),this._state=Ot,this.name=be,this.on=cr(this,"populate","blocked","versionchange","close",{ready:[se,k]}),this.on.ready.subscribe=b(this.on.ready.subscribe,function(Tt){return function(mn,Jt){yi.vip(function(){var On,In=nt._state;In.openComplete?(In.dbOpenError||H.resolve().then(mn),Jt&&Tt(mn)):In.onReadyBeingFired?(In.onReadyBeingFired.push(mn),Jt&&Tt(mn)):(Tt(mn),On=nt,Jt||Tt(function gn(){On.on.ready.unsubscribe(mn),On.on.ready.unsubscribe(gn)}))})}}),this.Collection=(xt=this,kr(ir.prototype,function(nr,gn){this.db=xt;var Jt=Yn,On=null;if(gn)try{Jt=gn()}catch(ur){On=ur}var In=nr._ctx,gn=In.table,nr=gn.hook.reading.fire;this._ctx={table:gn,index:In.index,isPrimKey:!In.index||gn.schema.primKey.keyPath&&In.index===gn.schema.primKey.name,range:Jt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:On,or:In.or,valueMapper:nr!==N?nr:null}})),this.Table=(Pt=this,kr(Bn.prototype,function(Tt,mn,Jt){this.db=Pt,this._tx=Jt,this.name=Tt,this.schema=mn,this.hook=Pt._allTables[Tt]?Pt._allTables[Tt].hook:cr(null,{creating:[j,k],reading:[W,N],updating:[V,k],deleting:[L,k]})})),this.Transaction=(en=this,kr(Zo.prototype,function(Tt,mn,Jt,On,In){var gn=this;this.db=en,this.mode=Tt,this.storeNames=mn,this.schema=Jt,this.chromeTransactionDurability=On,this.idbtrans=null,this.on=cr(this,"complete","error","abort"),this.parent=In||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new H(function(nr,ur){gn._resolve=nr,gn._reject=ur}),this._completion.then(function(){gn.active=!1,gn.on.complete.fire()},function(nr){var ur=gn.active;return gn.active=!1,gn.on.error.fire(nr),gn.parent?gn.parent._reject(nr):ur&&gn.idbtrans&&gn.idbtrans.abort(),kt(nr)})})),this.Version=(Cn=this,kr(Ir.prototype,function(Tt){this.db=Cn,this._cfg={version:Tt,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Wn=this,kr($r.prototype,function(Tt,mn,Jt){if(this.db=Wn,this._ctx={table:Tt,index:mn===":id"?null:mn,or:Jt},this._cmp=this._ascending=Bt,this._descending=function(On,In){return Bt(In,On)},this._max=function(On,In){return 0<Bt(On,In)?On:In},this._min=function(On,In){return Bt(On,In)<0?On:In},this._IDBKeyRange=Wn._deps.IDBKeyRange,!this._IDBKeyRange)throw new g.MissingAPI})),this.on("versionchange",function(Tt){0<Tt.newVersion?console.warn("Another connection wants to upgrade database '".concat(nt.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(nt.name,"'. Closing db now to resume the delete request.")),nt.close({disableAutoOpen:!1})}),this.on("blocked",function(Tt){!Tt.newVersion||Tt.newVersion<Tt.oldVersion?console.warn("Dexie.delete('".concat(nt.name,"') was blocked")):console.warn("Upgrade '".concat(nt.name,"' blocked by other connection holding version ").concat(Tt.oldVersion/10))}),this._maxKey=pt(De.IDBKeyRange),this._createTransaction=function(Tt,mn,Jt,On){return new nt.Transaction(Tt,mn,Jt,nt._options.chromeTransactionDurability,On)},this._fireOnBlocked=function(Tt){nt.on("blocked").fire(Tt),Kt.filter(function(mn){return mn.name===nt.name&&mn!==nt&&!mn._state.vcFired}).map(function(mn){return mn.on("versionchange").fire(Tt)})},this.use(Ka),this.use(Nl),this.use($i),this.use(ca),this.use(ga);var Gt=new Proxy(this,{get:function(Tt,mn,Jt){if(mn==="_vip")return!0;if(mn==="table")return function(In){return Za(nt.table(In),Gt)};var On=Reflect.get(Tt,mn,Jt);return On instanceof Bn?Za(On,Gt):mn==="tables"?On.map(function(In){return Za(In,Gt)}):mn==="_createTransaction"?function(){return Za(On.apply(this,arguments),Gt)}:On}});this.vip=Gt,dt.forEach(function(Tt){return Tt(nt)})}var Vi,ua=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Bl=(za.prototype.subscribe=function(be,De,nt){return this._subscribe(be&&typeof be!="function"?be:{next:be,error:De,complete:nt})},za.prototype[ua]=function(){return this},za);function za(be){this._subscribe=be}try{Vi={indexedDB:Ne.indexedDB||Ne.mozIndexedDB||Ne.webkitIndexedDB||Ne.msIndexedDB,IDBKeyRange:Ne.IDBKeyRange||Ne.webkitIDBKeyRange}}catch{Vi={indexedDB:null,IDBKeyRange:null}}function Ja(be){var De,nt=!1,dt=new Bl(function(xt){var Pt=R(be),en,Cn=!1,Wn={},Ot={},Gt={get closed(){return Cn},unsubscribe:function(){Cn||(Cn=!0,en&&en.abort(),Tt&&bo.storagemutated.unsubscribe(Jt))}};xt.start&&xt.start(Gt);var Tt=!1,mn=function(){return It(On)},Jt=function(In){Ma(Wn,In),qa(Ot,Wn)&&mn()},On=function(){var In,gn,nr;!Cn&&Vi.indexedDB&&(Wn={},In={},en&&en.abort(),en=new AbortController,nr=function(ur){var dr=et();try{Pt&&zt();var jr=wt(be,ur);return jr=Pt?jr.finally(Mt):jr}finally{dr&&Ke()}}(gn={subscr:In,signal:en.signal,requery:mn,querier:be,trans:null}),Promise.resolve(nr).then(function(ur){nt=!0,De=ur,Cn||gn.signal.aborted||(Wn={},function(dr){for(var jr in dr)if(ft(dr,jr))return;return 1}(Ot=In)||Tt||(bo(Bo,Jt),Tt=!0),It(function(){return!Cn&&xt.next&&xt.next(ur)}))},function(ur){nt=!1,["DatabaseClosedError","AbortError"].includes(ur?.name)||Cn||It(function(){Cn||xt.error&&xt.error(ur)})}))};return setTimeout(mn,0),Gt});return dt.hasValue=function(){return nt},dt.getValue=function(){return De},dt}var ea=aa;function ja(be){var De=Wi;try{Wi=!0,bo.storagemutated.fire(be),Xa(be,!0)}finally{Wi=De}}We(ea,ce(ce({},u),{delete:function(be){return new ea(be,{addons:[]}).delete()},exists:function(be){return new ea(be,{addons:[]}).open().then(function(De){return De.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(be){try{return De=ea.dependencies,nt=De.indexedDB,De=De.IDBKeyRange,(Oo(nt)?Promise.resolve(nt.databases()).then(function(dt){return dt.map(function(xt){return xt.name}).filter(function(xt){return xt!==an})}):Co(nt,De).toCollection().primaryKeys()).then(be)}catch{return kt(new g.MissingAPI)}var De,nt},defineClass:function(){return function(be){mt(this,be)}},ignoreTransaction:function(be){return P.trans?on(P.transless,be):be()},vip:di,async:function(be){return function(){try{var De=Ji(be.apply(this,arguments));return De&&typeof De.then=="function"?De:H.resolve(De)}catch(nt){return kt(nt)}}},spawn:function(be,De,nt){try{var dt=Ji(be.apply(nt,De||[]));return dt&&typeof dt.then=="function"?dt:H.resolve(dt)}catch(xt){return kt(xt)}},currentTransaction:{get:function(){return P.trans||null}},waitFor:function(be,De){return De=H.resolve(typeof be=="function"?ea.ignoreTransaction(be):be).timeout(De||6e4),P.trans?P.trans.waitFor(De):De},Promise:H,debug:{get:function(){return ue},set:function(be){pe(be)}},derive:e,extend:mt,props:We,override:b,Events:cr,on:bo,liveQuery:Ja,extendObservabilitySet:Ma,getByKeyPath:a,setByKeyPath:c,delByKeyPath:function(be,De){typeof De=="string"?c(be,De,void 0):"length"in De&&[].map.call(De,function(nt){c(be,nt,void 0)})},shallowClone:Z,deepClone:G,getObjectDiff:ia,cmp:Bt,asap:S,minKey:-1/0,addons:[],connections:Kt,errnames:r,dependencies:Vi,cache:zi,semVer:"4.0.11",version:"4.0.11".split(".").map(function(be){return parseInt(be)}).reduce(function(be,De,nt){return be+De/Math.pow(10,2*nt)})})),ea.maxKey=pt(ea.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(bo(Bo,function(be){Wi||(be=new CustomEvent(Do,{detail:be}),Wi=!0,dispatchEvent(be),Wi=!1)}),addEventListener(Do,function(be){be=be.detail,Wi||ja(be)}));var Bi,Wi=!1,wl=function(){};return typeof BroadcastChannel<"u"&&((wl=function(){(Bi=new BroadcastChannel(Do)).onmessage=function(be){return be.data&&ja(be.data)}})(),typeof Bi.unref=="function"&&Bi.unref(),bo(Bo,function(be){Wi||Bi.postMessage(be)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(be){if(!aa.disableBfCache&&be.persisted){ue&&console.debug("Dexie: handling persisted pagehide"),Bi?.close();for(var De=0,nt=Kt;De<nt.length;De++)nt[De].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(be){!aa.disableBfCache&&be.persisted&&(ue&&console.debug("Dexie: handling persisted pageshow"),wl(),ja({all:new ni(-1/0,[[]])}))})),H.rejectionMapper=function(be,De){return!be||be instanceof M||be instanceof TypeError||be instanceof SyntaxError||!be.name||!s[be.name]?be:(De=new s[be.name](De||be.message,be),"stack"in be&&t(De,"stack",{get:function(){return this.inner.stack}}),De)},pe(ue),ce(aa,Object.freeze({__proto__:null,Dexie:aa,liveQuery:Ja,Entity:Sn,cmp:Bt,PropModification:Hn,replacePrefix:function(be,De){return new Hn({replacePrefix:[be,De]})},add:function(be){return new Hn({add:be})},remove:function(be){return new Hn({remove:be})},default:aa,RangeSet:ni,mergeRanges:ji,rangesOverlap:wa}),{default:aa}),aa})}(G0)),G0.exports}var s9=l9();const q0=Gm(s9),Nm=Symbol.for("Dexie"),md=globalThis[Nm]||(globalThis[Nm]=q0);if(q0.semVer!==md.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${q0.semVer} and ${md.semVer}`);const{liveQuery:x9,mergeRanges:w9,rangesOverlap:k9,RangeSet:E9,cmp:S9,Entity:_9,PropModification:C9,replacePrefix:j9,add:O9,remove:M9}=md;class c9 extends md{constructor(){super("WhiteboardDatabase");Lp(this,"whiteboards");this.version(1).stores({whiteboards:"++id, savedAt"})}async get(A){return this.whiteboards.get(A)}async put(A,ce,Ce,Ne){const Ge={id:A,elements:ce,files:Ce,appState:Ne,savedAt:Date.now()};return this.whiteboards.put(Ge)}async delete(A){return this.whiteboards.delete(A)}async clear(){return this.whiteboards.clear()}}const Bm=new c9;function u9(){const[n,m]=lo.useState(!0),A=lo.useRef(new Set),ce=lo.useRef(null),{fileId:Ce,resolveInitialData:Ne,resetInitialDataPromise:Ge}=Li(Ua(ft=>({fileId:ft.fileId,resolveInitialData:ft.resolveInitialData,resetInitialDataPromise:ft.resetInitialDataPromise}))),$e=lo.useCallback(async ft=>{console.log("[BoardDataManager] Fetching data from Nextcloud server for fileId:",ft);try{const We=await vd.getState().getJWT();if(!We)return console.error("[BoardDataManager] Failed to get JWT token for server data fetch"),null;const te=Ac(`apps/whiteboard/${ft}`),t=await fetch(te,{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:`Bearer ${We}`}});if(!t.ok)return console.error(`[BoardDataManager] Server responded with status: ${t.status} when fetching data`),null;const e=await t.json();return!e||!e.data?(console.error("[BoardDataManager] Invalid response data from server:",e),null):(console.log("[BoardDataManager] Successfully fetched data from server:",{elementCount:e.data.elements?.length||0}),e.data)}catch(We){return console.error("[BoardDataManager] Error fetching data from server:",We),null}},[]),mt=lo.useCallback(()=>{A.current.forEach(ft=>clearTimeout(ft)),A.current.clear()},[]),yt=lo.useCallback(async()=>{if(!Ce){console.warn("[BoardDataManager] No fileId provided, cannot load data"),Ne(S0),m(!1);return}ce.current=Ce,console.log("[BoardDataManager] Loading data for fileId:",Ce);try{const ft={currentItemFontFamily:3,currentItemStrokeWidth:1,currentItemRoughness:0},We=await Bm.get(Ce);if(ce.current!==Ce){console.log("[BoardDataManager] FileId changed during load, aborting");return}let te=!1,t=!1;We?(console.log("[BoardDataManager] Local data retrieved:",{elementCount:We.elements?.length||0,savedAt:We.savedAt?new Date(We.savedAt).toISOString():"unknown",fileId:We.id}),We.elements&&Array.isArray(We.elements)?We.elements.length>0?(te=!0,console.log("[BoardDataManager] Local data has elements, will use it")):(console.log("[BoardDataManager] Local data exists but has no elements, will check server"),t=!0):(console.log("[BoardDataManager] Invalid local data structure, will check server"),t=!0)):(console.log("[BoardDataManager] No local data found, will check server"),t=!0);let e=null;if(t){if(e=await $e(Ce),ce.current!==Ce){console.log("[BoardDataManager] FileId changed during server fetch, aborting");return}e&&e.elements&&Array.isArray(e.elements)?(console.log("[BoardDataManager] Using data from server and saving to IndexedDB"),await Bm.put(Ce,e.elements,e.files||{},e.appState),te=!1):console.log("[BoardDataManager] No valid data from server, will use empty state")}if(ce.current!==Ce){console.log("[BoardDataManager] FileId changed before data resolution, aborting");return}if(te&&We){const w=We.elements,v={...ft,...We.appState||{}},d=We.files||{};console.log(`[BoardDataManager] Loading data from local storage: ${w.length} elements, ${Object.keys(d).length} files`);const b=setTimeout(()=>{ce.current===Ce&&(Ne({elements:w,appState:v,files:d,scrollToContent:!0}),console.log("[BoardDataManager] Loaded data from local storage with merged settings"),m(!1)),A.current.delete(b)},50);A.current.add(b)}else if(e&&e.elements){const w=e.elements,v={...ft,...e.appState||{}},d=e.files||{};console.log(`[BoardDataManager] Loading data from server: ${w.length} elements, ${Object.keys(d||{}).length} files`);const b=setTimeout(()=>{ce.current===Ce&&(Ne({elements:w,appState:v,files:d,scrollToContent:!0}),console.log("[BoardDataManager] Loaded data from server with merged settings"),m(!1)),A.current.delete(b)},50);A.current.add(b)}else{console.log("[BoardDataManager] No valid data found in local storage or server, using defaults");const w=setTimeout(()=>{ce.current===Ce&&(Ne(S0),m(!1)),A.current.delete(w)},50);A.current.add(w)}}catch(ft){console.error("[BoardDataManager] Error loading data:",ft);const We=setTimeout(()=>{ce.current===Ce&&(Ne(S0),m(!1)),A.current.delete(We)},50);A.current.add(We)}},[Ce,Ne,$e]),Et=lo.useCallback(()=>{const ft=fc.getState().excalidrawAPI,We=Li.getState().isReadOnly;if(ft&&!We){console.log("[App] Saving final state on unmount");const te=Li.getState().fileId,t=hd.getState().worker;if(hd.getState().isWorkerReady&&t&&te)try{const e=ft.getSceneElementsIncludingDeleted(),w=ft.getAppState(),v=ft.getFiles(),d={...w,collaborators:void 0,selectedElementIds:void 0};console.log(`[App] Sending final sync with ${e.length} elements before unmount`);const b=T=>{T.data.type==="LOCAL_SYNC_COMPLETE"?(console.log("[App] Final sync completed successfully"),t.removeEventListener("message",b)):T.data.type==="LOCAL_SYNC_ERROR"&&(console.error("[App] Final sync failed:",T.data.error),t.removeEventListener("message",b))};t.addEventListener("message",b),t.postMessage({type:"SYNC_TO_LOCAL",fileId:te,elements:e,files:v,appState:d}),setTimeout(()=>{t.removeEventListener("message",b)},500)}catch(e){console.error("[App] Error during final sync on unmount:",e)}}},[]);return lo.useEffect(()=>{if(Ce){mt(),Ge();const ft=fc.getState().excalidrawAPI;ft&&(console.log("[BoardDataManager] Clearing existing Excalidraw data before loading new board"),ft.resetScene()),m(!0),yt()}},[Ce,yt,mt,Ge]),lo.useEffect(()=>()=>{mt()},[mt]),{isLoading:n,loadBoard:yt,saveOnUnmount:Et}}const d9=lo.memo($l.Excalidraw),S0={elements:[],appState:{currentItemFontFamily:3,currentItemStrokeWidth:1,currentItemRoughness:0},files:{}},f9=lo.memo(Rg),p9=lo.memo(e9),h9=lo.memo($E);function T9({fileId:n,isEmbedded:m,fileName:A,publicSharingToken:ce,collabBackendUrl:Ce}){if(!n)return console.warn("[App] Invalid fileId during initialization:",n),Jo.createElement("div",{className:"App-error"},"Invalid whiteboard ID. Please try again.");const Ne=lo.useMemo(()=>A.split(".").slice(0,-1).join("."),[A]),{excalidrawAPI:Ge,setExcalidrawAPI:$e,resetExcalidrawAPI:mt}=fc(Ua(h=>({excalidrawAPI:h.excalidrawAPI,setExcalidrawAPI:h.setExcalidrawAPI,resetExcalidrawAPI:h.resetExcalidrawAPI}))),{setConfig:yt,zenModeEnabled:Et,gridModeEnabled:ft,initialDataPromise:We,resetInitialDataPromise:te,resetStore:t}=Li(Ua(h=>({setConfig:h.setConfig,zenModeEnabled:h.zenModeEnabled,gridModeEnabled:h.gridModeEnabled,initialDataPromise:h.initialDataPromise,resetInitialDataPromise:h.resetInitialDataPromise,resetStore:h.resetStore}))),{lang:e,updateLang:w}=GE(Ua(h=>({lang:h.lang,updateLang:h.updateLang}))),{terminateWorker:v}=hd(Ua(h=>({terminateWorker:h.terminateWorker}))),{theme:d}=uw(),{renderSmartPicker:b}=UE(),{onChange:T,onPointerUpdate:S}=i9();Ew();const{isReadOnly:a}=KE();$l.useHandleLibrary({excalidrawAPI:Ge});const{saveOnUnmount:c,isLoading:Z}=u9();lo.useEffect(()=>(console.log("[App] FileId changed to:",n),Ge&&(console.log("[App] Clearing Excalidraw data for fileId change"),Ge.resetScene()),te(),()=>{Ge&&c()}),[n,Ge,te,c]),lo.useEffect(()=>(te(),console.log("[App] Reset initialDataPromise on mount"),()=>{c(),console.log("[App] Resetting all stores on unmount"),t(),mt(),v()}),[te,t,mt,v,c]),lo.useLayoutEffect(()=>{yt({fileId:n,fileName:A,publicSharingToken:ce,isEmbedded:m,collabBackendUrl:Ce}),console.log("[App] Configuration set")},[yt,n,A,ce,m,Ce]),lo.useEffect(()=>{console.log("[App] Initializing UI components"),w(),b()},[w,b]);const F=lo.useCallback((h,x)=>{const G=h.link,{nativeEvent:le}=x.detail,he=le.ctrlKey||le.metaKey,ve=le.shiftKey;(G.startsWith("/")||G.includes(window.location.origin))&&!he&&!ve&&x.preventDefault()},[]),_=lo.useCallback(()=>{!Ge||!n||Z||T()},[Ge,n,Z,T]);return Z?Jo.createElement("div",{className:"App",style:{display:"flex",flexDirection:"column"}},Jo.createElement("div",{className:"App-loading",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},"Loading whiteboard...")):Jo.createElement("div",{className:"App",style:{display:"flex",flexDirection:"column"}},Jo.createElement("div",{className:"excalidraw-wrapper",style:{flex:1,height:"100%",position:"relative"}},Jo.createElement(f9,null),Jo.createElement(p9,null),Jo.createElement(d9,{validateEmbeddable:()=>!0,renderEmbeddable:YE,excalidrawAPI:$e,initialData:We,onPointerUpdate:S,onChange:_,viewModeEnabled:a,zenModeEnabled:Et,gridModeEnabled:ft,theme:d,name:Ne,UIOptions:{canvasActions:{loadScene:!1}},onLinkOpen:F,langCode:e},Jo.createElement(h9,{fileNameWithoutExtension:Ne}))))}export{T9 as default,S0 as initialDataState};
//# sourceMappingURL=App-yJVN-JBN.chunk.mjs.map
