/*! third party licenses: js/vendor.LICENSE.txt */
import{r as ia,a as n0,c as sc,R as ji,g as Kx}from"./vendor-DscDELSF.chunk.mjs";import{B as nd,l as Yx,c as Tl,n as oi,g as rd,V as Al,d as Xx,o as sm,e as cm,u as um,f as dm,h as fm,i as pm,r as pi,w as ss,j as Ml,k as $x,m as wh,q as tl,a as pu,t as Eo,G as od,s as hm,v as Gx,C as qx,x as Jx,p as Qx,y as ew,z as tw,A as nw,D as lu,E as Nf,F as rw,H as ow,I as iw,b as Zf,J as V0,K as K0,L as zf,M as aw,O as lw,P as sw,Q as mm,R as cw,S as uw,T as dw,U as gm,W as fw,X as pw,Y as hw,Z as mw,_ as gw,N as vw,$ as kh}from"./NcLoadingIcon-DT2u8-xt.chunk.mjs";import{l as su,_ as Bf,v as is,w as Eh,f as bw,h as yw}from"./index-BZGs7a1j.chunk.mjs";import{g as Sh}from"./whiteboard-main.mjs";var _h={exports:{}},Y0,Oh;function xw(){if(Oh)return Y0;Oh=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Y0=n,Y0}var X0,Ch;function ww(){if(Ch)return X0;Ch=1;var n=xw();function h(){}function R(){}return R.resetWarningCache=h,X0=function(){function pe(Je,Qe,yt,wt,gt,pt){if(pt!==n){var Ze=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Ze.name="Invariant Violation",Ze}}pe.isRequired=pe;function Ce(){return pe}var Fe={array:pe,bigint:pe,bool:pe,func:pe,number:pe,object:pe,string:pe,symbol:pe,any:pe,arrayOf:Ce,element:pe,elementType:pe,instanceOf:Ce,node:pe,objectOf:Ce,oneOf:Ce,oneOfType:Ce,shape:Ce,exact:Ce,checkPropTypes:R,resetWarningCache:h};return Fe.PropTypes=Fe,Fe},X0}var jh;function kw(){return jh||(jh=1,_h.exports=ww()()),_h.exports}var sf=function(n){var h={};function R(pe){if(h[pe])return h[pe].exports;var Ce=h[pe]={i:pe,l:!1,exports:{}};return n[pe].call(Ce.exports,Ce,Ce.exports,R),Ce.l=!0,Ce.exports}return R.m=n,R.c=h,R.d=function(pe,Ce,Fe){R.o(pe,Ce)||Object.defineProperty(pe,Ce,{enumerable:!0,get:Fe})},R.r=function(pe){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(pe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(pe,"__esModule",{value:!0})},R.t=function(pe,Ce){if(1&Ce&&(pe=R(pe)),8&Ce||4&Ce&&typeof pe=="object"&&pe&&pe.__esModule)return pe;var Fe=Object.create(null);if(R.r(Fe),Object.defineProperty(Fe,"default",{enumerable:!0,value:pe}),2&Ce&&typeof pe!="string")for(var Je in pe)R.d(Fe,Je,function(Qe){return pe[Qe]}.bind(null,Je));return Fe},R.n=function(pe){var Ce=pe&&pe.__esModule?function(){return pe.default}:function(){return pe};return R.d(Ce,"a",Ce),Ce},R.o=function(pe,Ce){return Object.prototype.hasOwnProperty.call(pe,Ce)},R.p="",R(R.s=2)}([function(n,h){n.exports=kw()},function(n,h){n.exports=ia},function(n,h,R){R.r(h);var pe=R(1),Ce=R(0),Fe=function(){return(Fe=Object.assign||function(t){for(var e,_=1,g=arguments.length;_<g;_++)for(var p in e=arguments[_])Object.prototype.hasOwnProperty.call(e,p)&&(t[p]=e[p]);return t}).apply(this,arguments)},Je=function(t,e){var _={};for(var g in t)Object.prototype.hasOwnProperty.call(t,g)&&e.indexOf(g)<0&&(_[g]=t[g]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(g=Object.getOwnPropertySymbols(t);p<g.length;p++)e.indexOf(g[p])<0&&Object.prototype.propertyIsEnumerable.call(t,g[p])&&(_[g[p]]=t[g[p]])}return _},Qe=0,yt=pe.forwardRef(function(t,e){var _=t.title,g=_===void 0?null:_,p=t.description,y=p===void 0?null:p,T=t.size,E=T===void 0?null:T,a=t.color,u=a===void 0?"currentColor":a,N=t.horizontal,H=N===void 0?null:N,x=t.vertical,m=x===void 0?null:x,k=t.rotate,Q=k===void 0?null:k,ue=t.spin,me=ue===void 0?null:ue,ye=t.style,fe=ye===void 0?{}:ye,G=t.children,$=Je(t,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);Qe++;var U,L=me!==null&&me,F=pe.Children.map(G,function(f){var r=f;L!==!0&&(L=(me===null?r.props.spin:me)===!0);var o=r.props.size;typeof E=="number"&&typeof r.props.size=="number"&&(o=r.props.size/E);var b={size:o,color:u===null?r.props.color:u,horizontal:H===null?r.props.horizontal:H,vertical:m===null?r.props.vertical:m,rotate:Q===null?r.props.rotate:Q,spin:me===null?r.props.spin:me,inStack:!0};return pe.cloneElement(r,b)});E!==null&&(fe.width=typeof E=="string"?E:1.5*E+"rem");var I,P="stack_labelledby_"+Qe,w="stack_describedby_"+Qe;if(g)U=y?P+" "+w:P;else if(I="presentation",y)throw new Error("title attribute required when description is set");return pe.createElement("svg",Fe({ref:e,viewBox:"0 0 24 24",style:fe,role:I,"aria-labelledby":U},$),g&&pe.createElement("title",{id:P},g),y&&pe.createElement("desc",{id:w},y),L&&pe.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),F)});yt.displayName="Stack",yt.propTypes={size:Ce.oneOfType([Ce.number,Ce.string]),color:Ce.string,horizontal:Ce.bool,vertical:Ce.bool,rotate:Ce.number,spin:Ce.oneOfType([Ce.bool,Ce.number]),children:Ce.oneOfType([Ce.arrayOf(Ce.node),Ce.node]).isRequired,className:Ce.string,style:Ce.object},yt.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var wt=yt;R.d(h,"Icon",function(){return te}),R.d(h,"Stack",function(){return wt});var gt=function(){return(gt=Object.assign||function(t){for(var e,_=1,g=arguments.length;_<g;_++)for(var p in e=arguments[_])Object.prototype.hasOwnProperty.call(e,p)&&(t[p]=e[p]);return t}).apply(this,arguments)},pt=function(t,e){var _={};for(var g in t)Object.prototype.hasOwnProperty.call(t,g)&&e.indexOf(g)<0&&(_[g]=t[g]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(g=Object.getOwnPropertySymbols(t);p<g.length;p++)e.indexOf(g[p])<0&&Object.prototype.propertyIsEnumerable.call(t,g[p])&&(_[g[p]]=t[g[p]])}return _},Ze=0,te=pe.forwardRef(function(t,e){var _=t.path,g=t.id,p=g===void 0?++Ze:g,y=t.title,T=y===void 0?null:y,E=t.description,a=E===void 0?null:E,u=t.size,N=u===void 0?null:u,H=t.color,x=H===void 0?"currentColor":H,m=t.horizontal,k=m!==void 0&&m,Q=t.vertical,ue=Q!==void 0&&Q,me=t.rotate,ye=me===void 0?0:me,fe=t.spin,G=fe!==void 0&&fe,$=t.style,U=$===void 0?{}:$,L=t.inStack,F=L!==void 0&&L,I=pt(t,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),P={},w=[];N!==null&&(F?w.push("scale("+N+")"):(U.width=typeof N=="string"?N:1.5*N+"rem",U.height=U.width)),k&&w.push("scaleX(-1)"),ue&&w.push("scaleY(-1)"),ye!==0&&w.push("rotate("+ye+"deg)"),x!==null&&(P.fill=x);var f=pe.createElement("path",gt({d:_,style:P},F?I:{})),r=f;w.length>0&&(U.transform=w.join(" "),U.transformOrigin="center",F&&(r=pe.createElement("g",{style:U},f,pe.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var o,b=r,s=G===!0||typeof G!="number"?2:G,c=!F&&(k||ue);if(s<0&&(c=!c),G&&(b=pe.createElement("g",{style:{animation:"spin"+(c?"-inverse":"")+" linear "+Math.abs(s)+"s infinite",transformOrigin:"center"}},r,!(k||ue||ye!==0)&&pe.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),F)return b;var S,z="icon_labelledby_"+p,B="icon_describedby_"+p;if(T)o=a?z+" "+B:z;else if(S="presentation",a)throw new Error("title attribute required when description is set");return pe.createElement("svg",gt({ref:e,viewBox:"0 0 24 24",style:U,role:S,"aria-labelledby":o},I),T&&pe.createElement("title",{id:z},T),a&&pe.createElement("desc",{id:B},a),!F&&G&&(c?pe.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):pe.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),b)});te.displayName="Icon",te.propTypes={path:Ce.string.isRequired,size:Ce.oneOfType([Ce.number,Ce.string]),color:Ce.string,horizontal:Ce.bool,vertical:Ce.bool,rotate:Ce.number,spin:Ce.oneOfType([Ce.bool,Ce.number]),style:Ce.object,inStack:Ce.bool,className:Ce.string},te.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},h.default=te}]),Ew="M5 3H19C20.11 3 21 3.9 21 5V19C21 20.11 20.11 21 19 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3M8 17H16V15H8V17M16 10H13.5V7H10.5V10H8L12 14L16 10Z",Sw="M9,6H5V10H7V8H9M19,10H17V12H15V14H19M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2",_w="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M9.3 19H7L14.7 5H17L9.3 19Z",cf={exports:{}},Ih={exports:{}},Ph={exports:{}},Kc={},Th;function Ow(){if(Th)return Kc;Th=1;var n=ia,h=Symbol.for("react.element"),R=Symbol.for("react.fragment"),pe=Object.prototype.hasOwnProperty,Ce=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fe={key:!0,ref:!0,__self:!0,__source:!0};function Je(Qe,yt,wt){var gt,pt={},Ze=null,te=null;wt!==void 0&&(Ze=""+wt),yt.key!==void 0&&(Ze=""+yt.key),yt.ref!==void 0&&(te=yt.ref);for(gt in yt)pe.call(yt,gt)&&!Fe.hasOwnProperty(gt)&&(pt[gt]=yt[gt]);if(Qe&&Qe.defaultProps)for(gt in yt=Qe.defaultProps,yt)pt[gt]===void 0&&(pt[gt]=yt[gt]);return{$$typeof:h,type:Qe,key:Ze,ref:te,props:pt,_owner:Ce.current}}return Kc.Fragment=R,Kc.jsx=Je,Kc.jsxs=Je,Kc}var Mh;function Cw(){return Mh||(Mh=1,Ph.exports=Ow()),Ph.exports}var Ah;function jw(){return Ah||(Ah=1,function(n,h){(function(R,pe){n.exports=pe(ia,Cw(),n0)})(self,function(R,pe,Ce){return function(){var Fe,Je,Qe,yt,wt={5779:function(te,t){t.N=void 0;var e=/^([^\w]*)(javascript|data|vbscript)/im,_=/&#(\w+)(^\w|;)?/g,g=/&(newline|tab);/gi,p=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,y=/^.+(:|&colon;)/gim,T=[".","/"];t.N=function(E){var a,u=(a=E||"",a.replace(_,function(x,m){return String.fromCharCode(m)})).replace(g,"").replace(p,"").trim();if(!u)return"about:blank";if(function(x){return T.indexOf(x[0])>-1}(u))return u;var N=u.match(y);if(!N)return u;var H=N[0];return e.test(H)?"about:blank":u}},7217:function(te,t,e){function _(g,p,{checkForDefaultPrevented:y=!0}={}){return function(T){if(g?.(T),y===!1||!T.defaultPrevented)return p?.(T)}}e.d(t,{M:function(){return _}})},9335:function(te,t,e){e.d(t,{F:function(){return g},e:function(){return p}});var _=e(9787);function g(...y){return T=>y.forEach(E=>function(a,u){typeof a=="function"?a(u):a!=null&&(a.current=u)}(E,T))}function p(...y){return(0,_.useCallback)(g(...y),y)}},1267:function(te,t,e){e.d(t,{b:function(){return g}});var _=e(9787);function g(y,T=[]){let E=[];const a=()=>{const u=E.map(N=>(0,_.createContext)(N));return function(N){const H=N?.[y]||u;return(0,_.useMemo)(()=>({[`__scope${y}`]:{...N,[y]:H}}),[N,H])}};return a.scopeName=y,[function(u,N){const H=(0,_.createContext)(N),x=E.length;function m(k){const{scope:Q,children:ue,...me}=k,ye=Q?.[y][x]||H,fe=(0,_.useMemo)(()=>me,Object.values(me));return(0,_.createElement)(ye.Provider,{value:fe},ue)}return E=[...E,N],m.displayName=u+"Provider",[m,function(k,Q){const ue=Q?.[y][x]||H,me=(0,_.useContext)(ue);if(me)return me;if(N!==void 0)return N;throw new Error(`\`${k}\` must be used within \`${u}\``)}]},p(a,...T)]}function p(...y){const T=y[0];if(y.length===1)return T;const E=()=>{const a=y.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(u){const N=a.reduce((H,{useScope:x,scopeName:m})=>({...H,...x(u)[`__scope${m}`]}),{});return(0,_.useMemo)(()=>({[`__scope${T.scopeName}`]:N}),[N])}};return E.scopeName=T.scopeName,E}},5622:function(te,t,e){e.d(t,{M:function(){return T}});var _=e(9787),g=e(3348);const p=_.useId||(()=>{});let y=0;function T(E){const[a,u]=_.useState(p());return(0,g.b)(()=>{E||u(N=>N??String(y++))},[E]),E||(a?`radix-${a}`:"")}},1483:function(te,t,e){e.d(t,{z:function(){return T}});var _=e(9787),g=e(5156),p=e(9335),y=e(3348);const T=a=>{const{present:u,children:N}=a,H=function(k){const[Q,ue]=(0,_.useState)(),me=(0,_.useRef)({}),ye=(0,_.useRef)(k),fe=(0,_.useRef)("none"),G=k?"mounted":"unmounted",[$,U]=function(L,F){return(0,_.useReducer)((I,P)=>F[I][P]??I,L)}(G,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,_.useEffect)(()=>{const L=E(me.current);fe.current=$==="mounted"?L:"none"},[$]),(0,y.b)(()=>{const L=me.current,F=ye.current;if(F!==k){const I=fe.current,P=E(L);k?U("MOUNT"):P==="none"||L?.display==="none"?U("UNMOUNT"):U(F&&I!==P?"ANIMATION_OUT":"UNMOUNT"),ye.current=k}},[k,U]),(0,y.b)(()=>{if(Q){const L=I=>{const P=E(me.current).includes(I.animationName);I.target===Q&&P&&(0,g.flushSync)(()=>U("ANIMATION_END"))},F=I=>{I.target===Q&&(fe.current=E(me.current))};return Q.addEventListener("animationstart",F),Q.addEventListener("animationcancel",L),Q.addEventListener("animationend",L),()=>{Q.removeEventListener("animationstart",F),Q.removeEventListener("animationcancel",L),Q.removeEventListener("animationend",L)}}U("ANIMATION_END")},[Q,U]),{isPresent:["mounted","unmountSuspended"].includes($),ref:(0,_.useCallback)(L=>{L&&(me.current=getComputedStyle(L)),ue(L)},[])}}(u),x=typeof N=="function"?N({present:H.isPresent}):_.Children.only(N),m=(0,p.e)(H.ref,x.ref);return typeof N=="function"||H.isPresent?(0,_.cloneElement)(x,{ref:m}):null};function E(a){return a?.animationName||"none"}T.displayName="Presence"},3119:function(te,t,e){e.d(t,{WV:function(){return T},jH:function(){return E}});var _=e(11),g=e(9787),p=e(5156),y=e(4801);const T=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((a,u)=>{const N=(0,g.forwardRef)((H,x)=>{const{asChild:m,...k}=H,Q=m?y.g7:u;return(0,g.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,g.createElement)(Q,(0,_.Z)({},k,{ref:x}))});return N.displayName=`Primitive.${u}`,{...a,[u]:N}},{});function E(a,u){a&&(0,p.flushSync)(()=>a.dispatchEvent(u))}},4801:function(te,t,e){e.d(t,{g7:function(){return y}});var _=e(11),g=e(9787),p=e(9335);const y=(0,g.forwardRef)((N,H)=>{const{children:x,...m}=N,k=g.Children.toArray(x),Q=k.find(a);if(Q){const ue=Q.props.children,me=k.map(ye=>ye===Q?g.Children.count(ue)>1?g.Children.only(null):(0,g.isValidElement)(ue)?ue.props.children:null:ye);return(0,g.createElement)(T,(0,_.Z)({},m,{ref:H}),(0,g.isValidElement)(ue)?(0,g.cloneElement)(ue,void 0,me):null)}return(0,g.createElement)(T,(0,_.Z)({},m,{ref:H}),x)});y.displayName="Slot";const T=(0,g.forwardRef)((N,H)=>{const{children:x,...m}=N;return(0,g.isValidElement)(x)?(0,g.cloneElement)(x,{...u(m,x.props),ref:(0,p.F)(H,x.ref)}):g.Children.count(x)>1?g.Children.only(null):null});T.displayName="SlotClone";const E=({children:N})=>(0,g.createElement)(g.Fragment,null,N);function a(N){return(0,g.isValidElement)(N)&&N.type===E}function u(N,H){const x={...H};for(const m in H){const k=N[m],Q=H[m];/^on[A-Z]/.test(m)?k&&Q?x[m]=(...ue)=>{Q(...ue),k(...ue)}:k&&(x[m]=k):m==="style"?x[m]={...k,...Q}:m==="className"&&(x[m]=[k,Q].filter(Boolean).join(" "))}return{...N,...x}}},3060:function(te,t,e){e.d(t,{W:function(){return g}});var _=e(9787);function g(p){const y=(0,_.useRef)(p);return(0,_.useEffect)(()=>{y.current=p}),(0,_.useMemo)(()=>(...T)=>{var E;return(E=y.current)===null||E===void 0?void 0:E.call(y,...T)},[])}},2673:function(te,t,e){e.d(t,{T:function(){return p}});var _=e(9787),g=e(3060);function p({prop:y,defaultProp:T,onChange:E=()=>{}}){const[a,u]=function({defaultProp:m,onChange:k}){const Q=(0,_.useState)(m),[ue]=Q,me=(0,_.useRef)(ue),ye=(0,g.W)(k);return(0,_.useEffect)(()=>{me.current!==ue&&(ye(ue),me.current=ue)},[ue,me,ye]),Q}({defaultProp:T,onChange:E}),N=y!==void 0,H=N?y:a,x=(0,g.W)(E);return[H,(0,_.useCallback)(m=>{if(N){const k=m,Q=typeof m=="function"?k(y):m;Q!==y&&x(Q)}else u(m)},[N,y,u,x])]}},3348:function(te,t,e){e.d(t,{b:function(){return g}});var _=e(9787);const g=globalThis?.document?_.useLayoutEffect:()=>{}},45:function(te,t,e){function _(p){var y,T,E="";if(typeof p=="string"||typeof p=="number")E+=p;else if(typeof p=="object")if(Array.isArray(p))for(y=0;y<p.length;y++)p[y]&&(T=_(p[y]))&&(E&&(E+=" "),E+=T);else for(y in p)p[y]&&(E&&(E+=" "),E+=y);return E}function g(){for(var p,y,T=0,E="";T<arguments.length;)(p=arguments[T++])&&(y=_(p))&&(E&&(E+=" "),E+=y);return E}e.d(t,{Z:function(){return g}})},6233:function(te,t){var e;e=function(_){_.version="0.3.0";var g=function(){for(var T=0,E=new Array(256),a=0;a!=256;++a)T=1&(T=1&(T=1&(T=1&(T=1&(T=1&(T=1&(T=1&(T=a)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1)?-306674912^T>>>1:T>>>1,E[a]=T;return typeof Int32Array<"u"?new Int32Array(E):E}(),p=typeof nd<"u";function y(T){for(var E=-1,a=0,u=T.length-7;a<u;)E=(E=(E=(E=(E=(E=(E=(E=E>>>8^g[255&(E^T[a++])])>>>8^g[255&(E^T[a++])])>>>8^g[255&(E^T[a++])])>>>8^g[255&(E^T[a++])])>>>8^g[255&(E^T[a++])])>>>8^g[255&(E^T[a++])])>>>8^g[255&(E^T[a++])])>>>8^g[255&(E^T[a++])];for(;a<u+7;)E=E>>>8^g[255&(E^T[a++])];return-1^E}_.table=g,_.bstr=function(T){if(T.length>32768&&p)return y(new nd(T));for(var E=-1,a=T.length-1,u=0;u<a;)E=g[255&(E^T.charCodeAt(u++))]^E>>>8,E=g[255&(E^T.charCodeAt(u++))]^E>>>8;return u===a&&(E=E>>>8^g[255&(E^T.charCodeAt(u))]),-1^E},_.buf=function(T){if(T.length>1e4)return y(T);for(var E=-1,a=0,u=T.length-3;a<u;)E=(E=(E=(E=E>>>8^g[255&(E^T[a++])])>>>8^g[255&(E^T[a++])])>>>8^g[255&(E^T[a++])])>>>8^g[255&(E^T[a++])];for(;a<u+3;)E=E>>>8^g[255&(E^T[a++])];return-1^E},_.str=function(T){for(var E,a,u=-1,N=0,H=T.length;N<H;)(E=T.charCodeAt(N++))<128?u=u>>>8^g[255&(u^E)]:E<2048?u=(u=u>>>8^g[255&(u^(192|E>>6&31))])>>>8^g[255&(u^(128|63&E))]:E>=55296&&E<57344?(E=64+(1023&E),a=1023&T.charCodeAt(N++),u=(u=(u=(u=u>>>8^g[255&(u^(240|E>>8&7))])>>>8^g[255&(u^(128|E>>2&63))])>>>8^g[255&(u^(128|a>>6&15|3&E))])>>>8^g[255&(u^(128|63&a))]):u=(u=(u=u>>>8^g[255&(u^(224|E>>12&15))])>>>8^g[255&(u^(128|E>>6&63))])>>>8^g[255&(u^(128|63&E))];return-1^u}},e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})},200:function(te,t,e){var _="Expected a function",g=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,T=/^0o[0-7]+$/i,E=parseInt,a=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g,u=typeof self=="object"&&self&&self.Object===Object&&self,N=a||u||Function("return this")(),H=Object.prototype.toString,x=Math.max,m=Math.min,k=function(){return N.Date.now()};function Q(ye,fe,G){var $,U,L,F,I,P,w=0,f=!1,r=!1,o=!0;if(typeof ye!="function")throw new TypeError(_);function b(j){var C=$,A=U;return $=U=void 0,w=j,F=ye.apply(A,C)}function s(j){return w=j,I=setTimeout(S,fe),f?b(j):F}function c(j){var C=j-P;return P===void 0||C>=fe||C<0||r&&j-w>=L}function S(){var j=k();if(c(j))return z(j);I=setTimeout(S,function(C){var A=fe-(C-P);return r?m(A,L-(C-w)):A}(j))}function z(j){return I=void 0,o&&$?b(j):($=U=void 0,F)}function B(){var j=k(),C=c(j);if($=arguments,U=this,P=j,C){if(I===void 0)return s(P);if(r)return I=setTimeout(S,fe),b(P)}return I===void 0&&(I=setTimeout(S,fe)),F}return fe=me(fe)||0,ue(G)&&(f=!!G.leading,L=(r="maxWait"in G)?x(me(G.maxWait)||0,fe):L,o="trailing"in G?!!G.trailing:o),B.cancel=function(){I!==void 0&&clearTimeout(I),w=0,$=P=U=I=void 0},B.flush=function(){return I===void 0?F:z(k())},B}function ue(ye){var fe=typeof ye;return!!ye&&(fe=="object"||fe=="function")}function me(ye){if(typeof ye=="number")return ye;if(function($){return typeof $=="symbol"||function(U){return!!U&&typeof U=="object"}($)&&H.call($)=="[object Symbol]"}(ye))return NaN;if(ue(ye)){var fe=typeof ye.valueOf=="function"?ye.valueOf():ye;ye=ue(fe)?fe+"":fe}if(typeof ye!="string")return ye===0?ye:+ye;ye=ye.replace(g,"");var G=y.test(ye);return G||T.test(ye)?E(ye.slice(2),G?2:8):p.test(ye)?NaN:+ye}te.exports=function(ye,fe,G){var $=!0,U=!0;if(typeof ye!="function")throw new TypeError(_);return ue(G)&&($="leading"in G?!!G.leading:$,U="trailing"in G?!!G.trailing:U),Q(ye,fe,{leading:$,maxWait:fe,trailing:U})}},2744:function(te,t,e){var _={};(0,e(9187).assign)(_,e(4395),e(578),e(2684)),te.exports=_},4395:function(te,t,e){var _=e(6193),g=e(9187),p=e(8592),y=e(5604),T=e(249),E=Object.prototype.toString;function a(N){if(!(this instanceof a))return new a(N);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},N||{});var H=this.options;H.raw&&H.windowBits>0?H.windowBits=-H.windowBits:H.gzip&&H.windowBits>0&&H.windowBits<16&&(H.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var x=_.deflateInit2(this.strm,H.level,H.method,H.windowBits,H.memLevel,H.strategy);if(x!==0)throw new Error(y[x]);if(H.header&&_.deflateSetHeader(this.strm,H.header),H.dictionary){var m;if(m=typeof H.dictionary=="string"?p.string2buf(H.dictionary):E.call(H.dictionary)==="[object ArrayBuffer]"?new Uint8Array(H.dictionary):H.dictionary,(x=_.deflateSetDictionary(this.strm,m))!==0)throw new Error(y[x]);this._dict_set=!0}}function u(N,H){var x=new a(H);if(x.push(N,!0),x.err)throw x.msg||y[x.err];return x.result}a.prototype.push=function(N,H){var x,m,k=this.strm,Q=this.options.chunkSize;if(this.ended)return!1;m=H===~~H?H:H===!0?4:0,typeof N=="string"?k.input=p.string2buf(N):E.call(N)==="[object ArrayBuffer]"?k.input=new Uint8Array(N):k.input=N,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new g.Buf8(Q),k.next_out=0,k.avail_out=Q),(x=_.deflate(k,m))!==1&&x!==0)return this.onEnd(x),this.ended=!0,!1;k.avail_out!==0&&(k.avail_in!==0||m!==4&&m!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(g.shrinkBuf(k.output,k.next_out))):this.onData(g.shrinkBuf(k.output,k.next_out)))}while((k.avail_in>0||k.avail_out===0)&&x!==1);return m===4?(x=_.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===0):m!==2||(this.onEnd(0),k.avail_out=0,!0)},a.prototype.onData=function(N){this.chunks.push(N)},a.prototype.onEnd=function(N){N===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},t.Deflate=a,t.deflate=u,t.deflateRaw=function(N,H){return(H=H||{}).raw=!0,u(N,H)},t.gzip=function(N,H){return(H=H||{}).gzip=!0,u(N,H)}},578:function(te,t,e){var _=e(7823),g=e(9187),p=e(8592),y=e(2684),T=e(5604),E=e(249),a=e(9968),u=Object.prototype.toString;function N(x){if(!(this instanceof N))return new N(x);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},x||{});var m=this.options;m.raw&&m.windowBits>=0&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(m.windowBits>=0&&m.windowBits<16)||x&&x.windowBits||(m.windowBits+=32),m.windowBits>15&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var k=_.inflateInit2(this.strm,m.windowBits);if(k!==y.Z_OK)throw new Error(T[k]);if(this.header=new a,_.inflateGetHeader(this.strm,this.header),m.dictionary&&(typeof m.dictionary=="string"?m.dictionary=p.string2buf(m.dictionary):u.call(m.dictionary)==="[object ArrayBuffer]"&&(m.dictionary=new Uint8Array(m.dictionary)),m.raw&&(k=_.inflateSetDictionary(this.strm,m.dictionary))!==y.Z_OK))throw new Error(T[k])}function H(x,m){var k=new N(m);if(k.push(x,!0),k.err)throw k.msg||T[k.err];return k.result}N.prototype.push=function(x,m){var k,Q,ue,me,ye,fe=this.strm,G=this.options.chunkSize,$=this.options.dictionary,U=!1;if(this.ended)return!1;Q=m===~~m?m:m===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof x=="string"?fe.input=p.binstring2buf(x):u.call(x)==="[object ArrayBuffer]"?fe.input=new Uint8Array(x):fe.input=x,fe.next_in=0,fe.avail_in=fe.input.length;do{if(fe.avail_out===0&&(fe.output=new g.Buf8(G),fe.next_out=0,fe.avail_out=G),(k=_.inflate(fe,y.Z_NO_FLUSH))===y.Z_NEED_DICT&&$&&(k=_.inflateSetDictionary(this.strm,$)),k===y.Z_BUF_ERROR&&U===!0&&(k=y.Z_OK,U=!1),k!==y.Z_STREAM_END&&k!==y.Z_OK)return this.onEnd(k),this.ended=!0,!1;fe.next_out&&(fe.avail_out!==0&&k!==y.Z_STREAM_END&&(fe.avail_in!==0||Q!==y.Z_FINISH&&Q!==y.Z_SYNC_FLUSH)||(this.options.to==="string"?(ue=p.utf8border(fe.output,fe.next_out),me=fe.next_out-ue,ye=p.buf2string(fe.output,ue),fe.next_out=me,fe.avail_out=G-me,me&&g.arraySet(fe.output,fe.output,ue,me,0),this.onData(ye)):this.onData(g.shrinkBuf(fe.output,fe.next_out)))),fe.avail_in===0&&fe.avail_out===0&&(U=!0)}while((fe.avail_in>0||fe.avail_out===0)&&k!==y.Z_STREAM_END);return k===y.Z_STREAM_END&&(Q=y.Z_FINISH),Q===y.Z_FINISH?(k=_.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===y.Z_OK):Q!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),fe.avail_out=0,!0)},N.prototype.onData=function(x){this.chunks.push(x)},N.prototype.onEnd=function(x){x===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},t.Inflate=N,t.inflate=H,t.inflateRaw=function(x,m){return(m=m||{}).raw=!0,H(x,m)},t.ungzip=H},9187:function(te,t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function _(y,T){return Object.prototype.hasOwnProperty.call(y,T)}t.assign=function(y){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var E=T.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var a in E)_(E,a)&&(y[a]=E[a])}}return y},t.shrinkBuf=function(y,T){return y.length===T?y:y.subarray?y.subarray(0,T):(y.length=T,y)};var g={arraySet:function(y,T,E,a,u){if(T.subarray&&y.subarray)y.set(T.subarray(E,E+a),u);else for(var N=0;N<a;N++)y[u+N]=T[E+N]},flattenChunks:function(y){var T,E,a,u,N,H;for(a=0,T=0,E=y.length;T<E;T++)a+=y[T].length;for(H=new Uint8Array(a),u=0,T=0,E=y.length;T<E;T++)N=y[T],H.set(N,u),u+=N.length;return H}},p={arraySet:function(y,T,E,a,u){for(var N=0;N<a;N++)y[u+N]=T[E+N]},flattenChunks:function(y){return[].concat.apply([],y)}};t.setTyped=function(y){y?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,g)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,p))},t.setTyped(e)},8592:function(te,t,e){var _=e(9187),g=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var y=new _.Buf8(256),T=0;T<256;T++)y[T]=T>=252?6:T>=248?5:T>=240?4:T>=224?3:T>=192?2:1;function E(a,u){if(u<65534&&(a.subarray&&p||!a.subarray&&g))return String.fromCharCode.apply(null,_.shrinkBuf(a,u));for(var N="",H=0;H<u;H++)N+=String.fromCharCode(a[H]);return N}y[254]=y[254]=1,t.string2buf=function(a){var u,N,H,x,m,k=a.length,Q=0;for(x=0;x<k;x++)(64512&(N=a.charCodeAt(x)))==55296&&x+1<k&&(64512&(H=a.charCodeAt(x+1)))==56320&&(N=65536+(N-55296<<10)+(H-56320),x++),Q+=N<128?1:N<2048?2:N<65536?3:4;for(u=new _.Buf8(Q),m=0,x=0;m<Q;x++)(64512&(N=a.charCodeAt(x)))==55296&&x+1<k&&(64512&(H=a.charCodeAt(x+1)))==56320&&(N=65536+(N-55296<<10)+(H-56320),x++),N<128?u[m++]=N:N<2048?(u[m++]=192|N>>>6,u[m++]=128|63&N):N<65536?(u[m++]=224|N>>>12,u[m++]=128|N>>>6&63,u[m++]=128|63&N):(u[m++]=240|N>>>18,u[m++]=128|N>>>12&63,u[m++]=128|N>>>6&63,u[m++]=128|63&N);return u},t.buf2binstring=function(a){return E(a,a.length)},t.binstring2buf=function(a){for(var u=new _.Buf8(a.length),N=0,H=u.length;N<H;N++)u[N]=a.charCodeAt(N);return u},t.buf2string=function(a,u){var N,H,x,m,k=u||a.length,Q=new Array(2*k);for(H=0,N=0;N<k;)if((x=a[N++])<128)Q[H++]=x;else if((m=y[x])>4)Q[H++]=65533,N+=m-1;else{for(x&=m===2?31:m===3?15:7;m>1&&N<k;)x=x<<6|63&a[N++],m--;m>1?Q[H++]=65533:x<65536?Q[H++]=x:(x-=65536,Q[H++]=55296|x>>10&1023,Q[H++]=56320|1023&x)}return E(Q,H)},t.utf8border=function(a,u){var N;for((u=u||a.length)>a.length&&(u=a.length),N=u-1;N>=0&&(192&a[N])==128;)N--;return N<0||N===0?u:N+y[a[N]]>u?N:u}},3693:function(te){te.exports=function(t,e,_,g){for(var p=65535&t|0,y=t>>>16&65535|0,T=0;_!==0;){_-=T=_>2e3?2e3:_;do y=y+(p=p+e[g++]|0)|0;while(--T);p%=65521,y%=65521}return p|y<<16|0}},2684:function(te){te.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(te){var t=function(){for(var e,_=[],g=0;g<256;g++){e=g;for(var p=0;p<8;p++)e=1&e?3988292384^e>>>1:e>>>1;_[g]=e}return _}();te.exports=function(e,_,g,p){var y=t,T=p+g;e^=-1;for(var E=p;E<T;E++)e=e>>>8^y[255&(e^_[E])];return-1^e}},6193:function(te,t,e){var _,g=e(9187),p=e(8676),y=e(3693),T=e(8464),E=e(5604),a=-2,u=258,N=262,H=103,x=113,m=666;function k(o,b){return o.msg=E[b],b}function Q(o){return(o<<1)-(o>4?9:0)}function ue(o){for(var b=o.length;--b>=0;)o[b]=0}function me(o){var b=o.state,s=b.pending;s>o.avail_out&&(s=o.avail_out),s!==0&&(g.arraySet(o.output,b.pending_buf,b.pending_out,s,o.next_out),o.next_out+=s,b.pending_out+=s,o.total_out+=s,o.avail_out-=s,b.pending-=s,b.pending===0&&(b.pending_out=0))}function ye(o,b){p._tr_flush_block(o,o.block_start>=0?o.block_start:-1,o.strstart-o.block_start,b),o.block_start=o.strstart,me(o.strm)}function fe(o,b){o.pending_buf[o.pending++]=b}function G(o,b){o.pending_buf[o.pending++]=b>>>8&255,o.pending_buf[o.pending++]=255&b}function $(o,b){var s,c,S=o.max_chain_length,z=o.strstart,B=o.prev_length,j=o.nice_match,C=o.strstart>o.w_size-N?o.strstart-(o.w_size-N):0,A=o.window,Y=o.w_mask,ie=o.prev,le=o.strstart+u,ce=A[z+B-1],de=A[z+B];o.prev_length>=o.good_match&&(S>>=2),j>o.lookahead&&(j=o.lookahead);do if(A[(s=b)+B]===de&&A[s+B-1]===ce&&A[s]===A[z]&&A[++s]===A[z+1]){z+=2,s++;do;while(A[++z]===A[++s]&&A[++z]===A[++s]&&A[++z]===A[++s]&&A[++z]===A[++s]&&A[++z]===A[++s]&&A[++z]===A[++s]&&A[++z]===A[++s]&&A[++z]===A[++s]&&z<le);if(c=u-(le-z),z=le-u,c>B){if(o.match_start=b,B=c,c>=j)break;ce=A[z+B-1],de=A[z+B]}}while((b=ie[b&Y])>C&&--S!=0);return B<=o.lookahead?B:o.lookahead}function U(o){var b,s,c,S,z,B,j,C,A,Y,ie=o.w_size;do{if(S=o.window_size-o.lookahead-o.strstart,o.strstart>=ie+(ie-N)){g.arraySet(o.window,o.window,ie,ie,0),o.match_start-=ie,o.strstart-=ie,o.block_start-=ie,b=s=o.hash_size;do c=o.head[--b],o.head[b]=c>=ie?c-ie:0;while(--s);b=s=ie;do c=o.prev[--b],o.prev[b]=c>=ie?c-ie:0;while(--s);S+=ie}if(o.strm.avail_in===0)break;if(B=o.strm,j=o.window,C=o.strstart+o.lookahead,A=S,Y=void 0,(Y=B.avail_in)>A&&(Y=A),s=Y===0?0:(B.avail_in-=Y,g.arraySet(j,B.input,B.next_in,Y,C),B.state.wrap===1?B.adler=y(B.adler,j,Y,C):B.state.wrap===2&&(B.adler=T(B.adler,j,Y,C)),B.next_in+=Y,B.total_in+=Y,Y),o.lookahead+=s,o.lookahead+o.insert>=3)for(z=o.strstart-o.insert,o.ins_h=o.window[z],o.ins_h=(o.ins_h<<o.hash_shift^o.window[z+1])&o.hash_mask;o.insert&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[z+3-1])&o.hash_mask,o.prev[z&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=z,z++,o.insert--,!(o.lookahead+o.insert<3)););}while(o.lookahead<N&&o.strm.avail_in!==0)}function L(o,b){for(var s,c;;){if(o.lookahead<N){if(U(o),o.lookahead<N&&b===0)return 1;if(o.lookahead===0)break}if(s=0,o.lookahead>=3&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+3-1])&o.hash_mask,s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),s!==0&&o.strstart-s<=o.w_size-N&&(o.match_length=$(o,s)),o.match_length>=3)if(c=p._tr_tally(o,o.strstart-o.match_start,o.match_length-3),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=3){o.match_length--;do o.strstart++,o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+3-1])&o.hash_mask,s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart;while(--o.match_length!=0);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+1])&o.hash_mask;else c=p._tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(c&&(ye(o,!1),o.strm.avail_out===0))return 1}return o.insert=o.strstart<2?o.strstart:2,b===4?(ye(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(ye(o,!1),o.strm.avail_out===0)?1:2}function F(o,b){for(var s,c,S;;){if(o.lookahead<N){if(U(o),o.lookahead<N&&b===0)return 1;if(o.lookahead===0)break}if(s=0,o.lookahead>=3&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+3-1])&o.hash_mask,s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=2,s!==0&&o.prev_length<o.max_lazy_match&&o.strstart-s<=o.w_size-N&&(o.match_length=$(o,s),o.match_length<=5&&(o.strategy===1||o.match_length===3&&o.strstart-o.match_start>4096)&&(o.match_length=2)),o.prev_length>=3&&o.match_length<=o.prev_length){S=o.strstart+o.lookahead-3,c=p._tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-3),o.lookahead-=o.prev_length-1,o.prev_length-=2;do++o.strstart<=S&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+3-1])&o.hash_mask,s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart);while(--o.prev_length!=0);if(o.match_available=0,o.match_length=2,o.strstart++,c&&(ye(o,!1),o.strm.avail_out===0))return 1}else if(o.match_available){if((c=p._tr_tally(o,0,o.window[o.strstart-1]))&&ye(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return 1}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(c=p._tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<2?o.strstart:2,b===4?(ye(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(ye(o,!1),o.strm.avail_out===0)?1:2}function I(o,b,s,c,S){this.good_length=o,this.max_lazy=b,this.nice_length=s,this.max_chain=c,this.func=S}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(o){var b;return o&&o.state?(o.total_in=o.total_out=0,o.data_type=2,(b=o.state).pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?42:x,o.adler=b.wrap===2?0:1,b.last_flush=0,p._tr_init(b),0):k(o,a)}function f(o){var b,s=w(o);return s===0&&((b=o.state).window_size=2*b.w_size,ue(b.head),b.max_lazy_match=_[b.level].max_lazy,b.good_match=_[b.level].good_length,b.nice_match=_[b.level].nice_length,b.max_chain_length=_[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=2,b.match_available=0,b.ins_h=0),s}function r(o,b,s,c,S,z){if(!o)return a;var B=1;if(b===-1&&(b=6),c<0?(B=0,c=-c):c>15&&(B=2,c-=16),S<1||S>9||s!==8||c<8||c>15||b<0||b>9||z<0||z>4)return k(o,a);c===8&&(c=9);var j=new P;return o.state=j,j.strm=o,j.wrap=B,j.gzhead=null,j.w_bits=c,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=S+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+3-1)/3),j.window=new g.Buf8(2*j.w_size),j.head=new g.Buf16(j.hash_size),j.prev=new g.Buf16(j.w_size),j.lit_bufsize=1<<S+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new g.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=b,j.strategy=z,j.method=s,f(o)}_=[new I(0,0,0,0,function(o,b){var s=65535;for(s>o.pending_buf_size-5&&(s=o.pending_buf_size-5);;){if(o.lookahead<=1){if(U(o),o.lookahead===0&&b===0)return 1;if(o.lookahead===0)break}o.strstart+=o.lookahead,o.lookahead=0;var c=o.block_start+s;if((o.strstart===0||o.strstart>=c)&&(o.lookahead=o.strstart-c,o.strstart=c,ye(o,!1),o.strm.avail_out===0)||o.strstart-o.block_start>=o.w_size-N&&(ye(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,b===4?(ye(o,!0),o.strm.avail_out===0?3:4):(o.strstart>o.block_start&&(ye(o,!1),o.strm.avail_out),1)}),new I(4,4,8,4,L),new I(4,5,16,8,L),new I(4,6,32,32,L),new I(4,4,16,16,F),new I(8,16,32,32,F),new I(8,16,128,128,F),new I(8,32,128,256,F),new I(32,128,258,1024,F),new I(32,258,258,4096,F)],t.deflateInit=function(o,b){return r(o,b,8,15,8,0)},t.deflateInit2=r,t.deflateReset=f,t.deflateResetKeep=w,t.deflateSetHeader=function(o,b){return o&&o.state?o.state.wrap!==2?a:(o.state.gzhead=b,0):a},t.deflate=function(o,b){var s,c,S,z;if(!o||!o.state||b>5||b<0)return o?k(o,a):a;if(c=o.state,!o.output||!o.input&&o.avail_in!==0||c.status===m&&b!==4)return k(o,o.avail_out===0?-5:a);if(c.strm=o,s=c.last_flush,c.last_flush=b,c.status===42)if(c.wrap===2)o.adler=0,fe(c,31),fe(c,139),fe(c,8),c.gzhead?(fe(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),fe(c,255&c.gzhead.time),fe(c,c.gzhead.time>>8&255),fe(c,c.gzhead.time>>16&255),fe(c,c.gzhead.time>>24&255),fe(c,c.level===9?2:c.strategy>=2||c.level<2?4:0),fe(c,255&c.gzhead.os),c.gzhead.extra&&c.gzhead.extra.length&&(fe(c,255&c.gzhead.extra.length),fe(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(o.adler=T(o.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69):(fe(c,0),fe(c,0),fe(c,0),fe(c,0),fe(c,0),fe(c,c.level===9?2:c.strategy>=2||c.level<2?4:0),fe(c,3),c.status=x);else{var B=8+(c.w_bits-8<<4)<<8;B|=(c.strategy>=2||c.level<2?0:c.level<6?1:c.level===6?2:3)<<6,c.strstart!==0&&(B|=32),B+=31-B%31,c.status=x,G(c,B),c.strstart!==0&&(G(c,o.adler>>>16),G(c,65535&o.adler)),o.adler=1}if(c.status===69)if(c.gzhead.extra){for(S=c.pending;c.gzindex<(65535&c.gzhead.extra.length)&&(c.pending!==c.pending_buf_size||(c.gzhead.hcrc&&c.pending>S&&(o.adler=T(o.adler,c.pending_buf,c.pending-S,S)),me(o),S=c.pending,c.pending!==c.pending_buf_size));)fe(c,255&c.gzhead.extra[c.gzindex]),c.gzindex++;c.gzhead.hcrc&&c.pending>S&&(o.adler=T(o.adler,c.pending_buf,c.pending-S,S)),c.gzindex===c.gzhead.extra.length&&(c.gzindex=0,c.status=73)}else c.status=73;if(c.status===73)if(c.gzhead.name){S=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>S&&(o.adler=T(o.adler,c.pending_buf,c.pending-S,S)),me(o),S=c.pending,c.pending===c.pending_buf_size)){z=1;break}z=c.gzindex<c.gzhead.name.length?255&c.gzhead.name.charCodeAt(c.gzindex++):0,fe(c,z)}while(z!==0);c.gzhead.hcrc&&c.pending>S&&(o.adler=T(o.adler,c.pending_buf,c.pending-S,S)),z===0&&(c.gzindex=0,c.status=91)}else c.status=91;if(c.status===91)if(c.gzhead.comment){S=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>S&&(o.adler=T(o.adler,c.pending_buf,c.pending-S,S)),me(o),S=c.pending,c.pending===c.pending_buf_size)){z=1;break}z=c.gzindex<c.gzhead.comment.length?255&c.gzhead.comment.charCodeAt(c.gzindex++):0,fe(c,z)}while(z!==0);c.gzhead.hcrc&&c.pending>S&&(o.adler=T(o.adler,c.pending_buf,c.pending-S,S)),z===0&&(c.status=H)}else c.status=H;if(c.status===H&&(c.gzhead.hcrc?(c.pending+2>c.pending_buf_size&&me(o),c.pending+2<=c.pending_buf_size&&(fe(c,255&o.adler),fe(c,o.adler>>8&255),o.adler=0,c.status=x)):c.status=x),c.pending!==0){if(me(o),o.avail_out===0)return c.last_flush=-1,0}else if(o.avail_in===0&&Q(b)<=Q(s)&&b!==4)return k(o,-5);if(c.status===m&&o.avail_in!==0)return k(o,-5);if(o.avail_in!==0||c.lookahead!==0||b!==0&&c.status!==m){var j=c.strategy===2?function(C,A){for(var Y;;){if(C.lookahead===0&&(U(C),C.lookahead===0)){if(A===0)return 1;break}if(C.match_length=0,Y=p._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,Y&&(ye(C,!1),C.strm.avail_out===0))return 1}return C.insert=0,A===4?(ye(C,!0),C.strm.avail_out===0?3:4):C.last_lit&&(ye(C,!1),C.strm.avail_out===0)?1:2}(c,b):c.strategy===3?function(C,A){for(var Y,ie,le,ce,de=C.window;;){if(C.lookahead<=u){if(U(C),C.lookahead<=u&&A===0)return 1;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=3&&C.strstart>0&&(ie=de[le=C.strstart-1])===de[++le]&&ie===de[++le]&&ie===de[++le]){ce=C.strstart+u;do;while(ie===de[++le]&&ie===de[++le]&&ie===de[++le]&&ie===de[++le]&&ie===de[++le]&&ie===de[++le]&&ie===de[++le]&&ie===de[++le]&&le<ce);C.match_length=u-(ce-le),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=3?(Y=p._tr_tally(C,1,C.match_length-3),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(Y=p._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),Y&&(ye(C,!1),C.strm.avail_out===0))return 1}return C.insert=0,A===4?(ye(C,!0),C.strm.avail_out===0?3:4):C.last_lit&&(ye(C,!1),C.strm.avail_out===0)?1:2}(c,b):_[c.level].func(c,b);if(j!==3&&j!==4||(c.status=m),j===1||j===3)return o.avail_out===0&&(c.last_flush=-1),0;if(j===2&&(b===1?p._tr_align(c):b!==5&&(p._tr_stored_block(c,0,0,!1),b===3&&(ue(c.head),c.lookahead===0&&(c.strstart=0,c.block_start=0,c.insert=0))),me(o),o.avail_out===0))return c.last_flush=-1,0}return b!==4?0:c.wrap<=0?1:(c.wrap===2?(fe(c,255&o.adler),fe(c,o.adler>>8&255),fe(c,o.adler>>16&255),fe(c,o.adler>>24&255),fe(c,255&o.total_in),fe(c,o.total_in>>8&255),fe(c,o.total_in>>16&255),fe(c,o.total_in>>24&255)):(G(c,o.adler>>>16),G(c,65535&o.adler)),me(o),c.wrap>0&&(c.wrap=-c.wrap),c.pending!==0?0:1)},t.deflateEnd=function(o){var b;return o&&o.state?(b=o.state.status)!==42&&b!==69&&b!==73&&b!==91&&b!==H&&b!==x&&b!==m?k(o,a):(o.state=null,b===x?k(o,-3):0):a},t.deflateSetDictionary=function(o,b){var s,c,S,z,B,j,C,A,Y=b.length;if(!o||!o.state||(z=(s=o.state).wrap)===2||z===1&&s.status!==42||s.lookahead)return a;for(z===1&&(o.adler=y(o.adler,b,Y,0)),s.wrap=0,Y>=s.w_size&&(z===0&&(ue(s.head),s.strstart=0,s.block_start=0,s.insert=0),A=new g.Buf8(s.w_size),g.arraySet(A,b,Y-s.w_size,s.w_size,0),b=A,Y=s.w_size),B=o.avail_in,j=o.next_in,C=o.input,o.avail_in=Y,o.next_in=0,o.input=b,U(s);s.lookahead>=3;){c=s.strstart,S=s.lookahead-2;do s.ins_h=(s.ins_h<<s.hash_shift^s.window[c+3-1])&s.hash_mask,s.prev[c&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=c,c++;while(--S);s.strstart=c,s.lookahead=2,U(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=2,s.match_available=0,o.next_in=j,o.input=C,o.avail_in=B,s.wrap=z,0},t.deflateInfo="pako deflate (from Nodeca project)"},9968:function(te){te.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(te){te.exports=function(t,e){var _,g,p,y,T,E,a,u,N,H,x,m,k,Q,ue,me,ye,fe,G,$,U,L,F,I,P;_=t.state,g=t.next_in,I=t.input,p=g+(t.avail_in-5),y=t.next_out,P=t.output,T=y-(e-t.avail_out),E=y+(t.avail_out-257),a=_.dmax,u=_.wsize,N=_.whave,H=_.wnext,x=_.window,m=_.hold,k=_.bits,Q=_.lencode,ue=_.distcode,me=(1<<_.lenbits)-1,ye=(1<<_.distbits)-1;e:do{k<15&&(m+=I[g++]<<k,k+=8,m+=I[g++]<<k,k+=8),fe=Q[m&me];t:for(;;){if(m>>>=G=fe>>>24,k-=G,(G=fe>>>16&255)===0)P[y++]=65535&fe;else{if(!(16&G)){if(!(64&G)){fe=Q[(65535&fe)+(m&(1<<G)-1)];continue t}if(32&G){_.mode=12;break e}t.msg="invalid literal/length code",_.mode=30;break e}$=65535&fe,(G&=15)&&(k<G&&(m+=I[g++]<<k,k+=8),$+=m&(1<<G)-1,m>>>=G,k-=G),k<15&&(m+=I[g++]<<k,k+=8,m+=I[g++]<<k,k+=8),fe=ue[m&ye];n:for(;;){if(m>>>=G=fe>>>24,k-=G,!(16&(G=fe>>>16&255))){if(!(64&G)){fe=ue[(65535&fe)+(m&(1<<G)-1)];continue n}t.msg="invalid distance code",_.mode=30;break e}if(U=65535&fe,k<(G&=15)&&(m+=I[g++]<<k,(k+=8)<G&&(m+=I[g++]<<k,k+=8)),(U+=m&(1<<G)-1)>a){t.msg="invalid distance too far back",_.mode=30;break e}if(m>>>=G,k-=G,U>(G=y-T)){if((G=U-G)>N&&_.sane){t.msg="invalid distance too far back",_.mode=30;break e}if(L=0,F=x,H===0){if(L+=u-G,G<$){$-=G;do P[y++]=x[L++];while(--G);L=y-U,F=P}}else if(H<G){if(L+=u+H-G,(G-=H)<$){$-=G;do P[y++]=x[L++];while(--G);if(L=0,H<$){$-=G=H;do P[y++]=x[L++];while(--G);L=y-U,F=P}}}else if(L+=H-G,G<$){$-=G;do P[y++]=x[L++];while(--G);L=y-U,F=P}for(;$>2;)P[y++]=F[L++],P[y++]=F[L++],P[y++]=F[L++],$-=3;$&&(P[y++]=F[L++],$>1&&(P[y++]=F[L++]))}else{L=y-U;do P[y++]=P[L++],P[y++]=P[L++],P[y++]=P[L++],$-=3;while($>2);$&&(P[y++]=P[L++],$>1&&(P[y++]=P[L++]))}break}}break}}while(g<p&&y<E);g-=$=k>>3,m&=(1<<(k-=$<<3))-1,t.next_in=g,t.next_out=y,t.avail_in=g<p?p-g+5:5-(g-p),t.avail_out=y<E?E-y+257:257-(y-E),_.hold=m,_.bits=k}},7823:function(te,t,e){var _=e(9187),g=e(3693),p=e(8464),y=e(9365),T=e(6446),E=-2,a=12,u=30;function N($){return($>>>24&255)+($>>>8&65280)+((65280&$)<<8)+((255&$)<<24)}function H(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x($){var U;return $&&$.state?(U=$.state,$.total_in=$.total_out=U.total=0,$.msg="",U.wrap&&($.adler=1&U.wrap),U.mode=1,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new _.Buf32(852),U.distcode=U.distdyn=new _.Buf32(592),U.sane=1,U.back=-1,0):E}function m($){var U;return $&&$.state?((U=$.state).wsize=0,U.whave=0,U.wnext=0,x($)):E}function k($,U){var L,F;return $&&$.state?(F=$.state,U<0?(L=0,U=-U):(L=1+(U>>4),U<48&&(U&=15)),U&&(U<8||U>15)?E:(F.window!==null&&F.wbits!==U&&(F.window=null),F.wrap=L,F.wbits=U,m($))):E}function Q($,U){var L,F;return $?(F=new H,$.state=F,F.window=null,(L=k($,U))!==0&&($.state=null),L):E}var ue,me,ye=!0;function fe($){if(ye){var U;for(ue=new _.Buf32(512),me=new _.Buf32(32),U=0;U<144;)$.lens[U++]=8;for(;U<256;)$.lens[U++]=9;for(;U<280;)$.lens[U++]=7;for(;U<288;)$.lens[U++]=8;for(T(1,$.lens,0,288,ue,0,$.work,{bits:9}),U=0;U<32;)$.lens[U++]=5;T(2,$.lens,0,32,me,0,$.work,{bits:5}),ye=!1}$.lencode=ue,$.lenbits=9,$.distcode=me,$.distbits=5}function G($,U,L,F){var I,P=$.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new _.Buf8(P.wsize)),F>=P.wsize?(_.arraySet(P.window,U,L-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):((I=P.wsize-P.wnext)>F&&(I=F),_.arraySet(P.window,U,L-F,I,P.wnext),(F-=I)?(_.arraySet(P.window,U,L-F,F,0),P.wnext=F,P.whave=P.wsize):(P.wnext+=I,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=I))),0}t.inflateReset=m,t.inflateReset2=k,t.inflateResetKeep=x,t.inflateInit=function($){return Q($,15)},t.inflateInit2=Q,t.inflate=function($,U){var L,F,I,P,w,f,r,o,b,s,c,S,z,B,j,C,A,Y,ie,le,ce,de,J,ee,he=0,Pe=new _.Buf8(4),He=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return E;(L=$.state).mode===a&&(L.mode=13),w=$.next_out,I=$.output,r=$.avail_out,P=$.next_in,F=$.input,f=$.avail_in,o=L.hold,b=L.bits,s=f,c=r,de=0;e:for(;;)switch(L.mode){case 1:if(L.wrap===0){L.mode=13;break}for(;b<16;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}if(2&L.wrap&&o===35615){L.check=0,Pe[0]=255&o,Pe[1]=o>>>8&255,L.check=p(L.check,Pe,2,0),o=0,b=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&o)<<8)+(o>>8))%31){$.msg="incorrect header check",L.mode=u;break}if((15&o)!=8){$.msg="unknown compression method",L.mode=u;break}if(b-=4,ce=8+(15&(o>>>=4)),L.wbits===0)L.wbits=ce;else if(ce>L.wbits){$.msg="invalid window size",L.mode=u;break}L.dmax=1<<ce,$.adler=L.check=1,L.mode=512&o?10:a,o=0,b=0;break;case 2:for(;b<16;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}if(L.flags=o,(255&L.flags)!=8){$.msg="unknown compression method",L.mode=u;break}if(57344&L.flags){$.msg="unknown header flags set",L.mode=u;break}L.head&&(L.head.text=o>>8&1),512&L.flags&&(Pe[0]=255&o,Pe[1]=o>>>8&255,L.check=p(L.check,Pe,2,0)),o=0,b=0,L.mode=3;case 3:for(;b<32;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}L.head&&(L.head.time=o),512&L.flags&&(Pe[0]=255&o,Pe[1]=o>>>8&255,Pe[2]=o>>>16&255,Pe[3]=o>>>24&255,L.check=p(L.check,Pe,4,0)),o=0,b=0,L.mode=4;case 4:for(;b<16;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}L.head&&(L.head.xflags=255&o,L.head.os=o>>8),512&L.flags&&(Pe[0]=255&o,Pe[1]=o>>>8&255,L.check=p(L.check,Pe,2,0)),o=0,b=0,L.mode=5;case 5:if(1024&L.flags){for(;b<16;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}L.length=o,L.head&&(L.head.extra_len=o),512&L.flags&&(Pe[0]=255&o,Pe[1]=o>>>8&255,L.check=p(L.check,Pe,2,0)),o=0,b=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&((S=L.length)>f&&(S=f),S&&(L.head&&(ce=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),_.arraySet(L.head.extra,F,P,S,ce)),512&L.flags&&(L.check=p(L.check,F,S,P)),f-=S,P+=S,L.length-=S),L.length))break e;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(f===0)break e;S=0;do ce=F[P+S++],L.head&&ce&&L.length<65536&&(L.head.name+=String.fromCharCode(ce));while(ce&&S<f);if(512&L.flags&&(L.check=p(L.check,F,S,P)),f-=S,P+=S,ce)break e}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(f===0)break e;S=0;do ce=F[P+S++],L.head&&ce&&L.length<65536&&(L.head.comment+=String.fromCharCode(ce));while(ce&&S<f);if(512&L.flags&&(L.check=p(L.check,F,S,P)),f-=S,P+=S,ce)break e}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;b<16;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}if(o!==(65535&L.check)){$.msg="header crc mismatch",L.mode=u;break}o=0,b=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),$.adler=L.check=0,L.mode=a;break;case 10:for(;b<32;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}$.adler=L.check=N(o),o=0,b=0,L.mode=11;case 11:if(L.havedict===0)return $.next_out=w,$.avail_out=r,$.next_in=P,$.avail_in=f,L.hold=o,L.bits=b,2;$.adler=L.check=1,L.mode=a;case a:if(U===5||U===6)break e;case 13:if(L.last){o>>>=7&b,b-=7&b,L.mode=27;break}for(;b<3;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}switch(L.last=1&o,b-=1,3&(o>>>=1)){case 0:L.mode=14;break;case 1:if(fe(L),L.mode=20,U===6){o>>>=2,b-=2;break e}break;case 2:L.mode=17;break;case 3:$.msg="invalid block type",L.mode=u}o>>>=2,b-=2;break;case 14:for(o>>>=7&b,b-=7&b;b<32;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}if((65535&o)!=(o>>>16^65535)){$.msg="invalid stored block lengths",L.mode=u;break}if(L.length=65535&o,o=0,b=0,L.mode=15,U===6)break e;case 15:L.mode=16;case 16:if(S=L.length){if(S>f&&(S=f),S>r&&(S=r),S===0)break e;_.arraySet(I,F,P,S,w),f-=S,P+=S,r-=S,w+=S,L.length-=S;break}L.mode=a;break;case 17:for(;b<14;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}if(L.nlen=257+(31&o),o>>>=5,b-=5,L.ndist=1+(31&o),o>>>=5,b-=5,L.ncode=4+(15&o),o>>>=4,b-=4,L.nlen>286||L.ndist>30){$.msg="too many length or distance symbols",L.mode=u;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;b<3;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}L.lens[He[L.have++]]=7&o,o>>>=3,b-=3}for(;L.have<19;)L.lens[He[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,J={bits:L.lenbits},de=T(0,L.lens,0,19,L.lencode,0,L.work,J),L.lenbits=J.bits,de){$.msg="invalid code lengths set",L.mode=u;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;C=(he=L.lencode[o&(1<<L.lenbits)-1])>>>16&255,A=65535&he,!((j=he>>>24)<=b);){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}if(A<16)o>>>=j,b-=j,L.lens[L.have++]=A;else{if(A===16){for(ee=j+2;b<ee;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}if(o>>>=j,b-=j,L.have===0){$.msg="invalid bit length repeat",L.mode=u;break}ce=L.lens[L.have-1],S=3+(3&o),o>>>=2,b-=2}else if(A===17){for(ee=j+3;b<ee;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}b-=j,ce=0,S=3+(7&(o>>>=j)),o>>>=3,b-=3}else{for(ee=j+7;b<ee;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}b-=j,ce=0,S=11+(127&(o>>>=j)),o>>>=7,b-=7}if(L.have+S>L.nlen+L.ndist){$.msg="invalid bit length repeat",L.mode=u;break}for(;S--;)L.lens[L.have++]=ce}}if(L.mode===u)break;if(L.lens[256]===0){$.msg="invalid code -- missing end-of-block",L.mode=u;break}if(L.lenbits=9,J={bits:L.lenbits},de=T(1,L.lens,0,L.nlen,L.lencode,0,L.work,J),L.lenbits=J.bits,de){$.msg="invalid literal/lengths set",L.mode=u;break}if(L.distbits=6,L.distcode=L.distdyn,J={bits:L.distbits},de=T(2,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,J),L.distbits=J.bits,de){$.msg="invalid distances set",L.mode=u;break}if(L.mode=20,U===6)break e;case 20:L.mode=21;case 21:if(f>=6&&r>=258){$.next_out=w,$.avail_out=r,$.next_in=P,$.avail_in=f,L.hold=o,L.bits=b,y($,c),w=$.next_out,I=$.output,r=$.avail_out,P=$.next_in,F=$.input,f=$.avail_in,o=L.hold,b=L.bits,L.mode===a&&(L.back=-1);break}for(L.back=0;C=(he=L.lencode[o&(1<<L.lenbits)-1])>>>16&255,A=65535&he,!((j=he>>>24)<=b);){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}if(C&&!(240&C)){for(Y=j,ie=C,le=A;C=(he=L.lencode[le+((o&(1<<Y+ie)-1)>>Y)])>>>16&255,A=65535&he,!(Y+(j=he>>>24)<=b);){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}o>>>=Y,b-=Y,L.back+=Y}if(o>>>=j,b-=j,L.back+=j,L.length=A,C===0){L.mode=26;break}if(32&C){L.back=-1,L.mode=a;break}if(64&C){$.msg="invalid literal/length code",L.mode=u;break}L.extra=15&C,L.mode=22;case 22:if(L.extra){for(ee=L.extra;b<ee;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}L.length+=o&(1<<L.extra)-1,o>>>=L.extra,b-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;C=(he=L.distcode[o&(1<<L.distbits)-1])>>>16&255,A=65535&he,!((j=he>>>24)<=b);){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}if(!(240&C)){for(Y=j,ie=C,le=A;C=(he=L.distcode[le+((o&(1<<Y+ie)-1)>>Y)])>>>16&255,A=65535&he,!(Y+(j=he>>>24)<=b);){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}o>>>=Y,b-=Y,L.back+=Y}if(o>>>=j,b-=j,L.back+=j,64&C){$.msg="invalid distance code",L.mode=u;break}L.offset=A,L.extra=15&C,L.mode=24;case 24:if(L.extra){for(ee=L.extra;b<ee;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}L.offset+=o&(1<<L.extra)-1,o>>>=L.extra,b-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){$.msg="invalid distance too far back",L.mode=u;break}L.mode=25;case 25:if(r===0)break e;if(S=c-r,L.offset>S){if((S=L.offset-S)>L.whave&&L.sane){$.msg="invalid distance too far back",L.mode=u;break}S>L.wnext?(S-=L.wnext,z=L.wsize-S):z=L.wnext-S,S>L.length&&(S=L.length),B=L.window}else B=I,z=w-L.offset,S=L.length;S>r&&(S=r),r-=S,L.length-=S;do I[w++]=B[z++];while(--S);L.length===0&&(L.mode=21);break;case 26:if(r===0)break e;I[w++]=L.length,r--,L.mode=21;break;case 27:if(L.wrap){for(;b<32;){if(f===0)break e;f--,o|=F[P++]<<b,b+=8}if(c-=r,$.total_out+=c,L.total+=c,c&&($.adler=L.check=L.flags?p(L.check,I,c,w-c):g(L.check,I,c,w-c)),c=r,(L.flags?o:N(o))!==L.check){$.msg="incorrect data check",L.mode=u;break}o=0,b=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;b<32;){if(f===0)break e;f--,o+=F[P++]<<b,b+=8}if(o!==(4294967295&L.total)){$.msg="incorrect length check",L.mode=u;break}o=0,b=0}L.mode=29;case 29:de=1;break e;case u:de=-3;break e;case 31:return-4;default:return E}return $.next_out=w,$.avail_out=r,$.next_in=P,$.avail_in=f,L.hold=o,L.bits=b,(L.wsize||c!==$.avail_out&&L.mode<u&&(L.mode<27||U!==4))&&G($,$.output,$.next_out,c-$.avail_out)?(L.mode=31,-4):(s-=$.avail_in,c-=$.avail_out,$.total_in+=s,$.total_out+=c,L.total+=c,L.wrap&&c&&($.adler=L.check=L.flags?p(L.check,I,c,$.next_out-c):g(L.check,I,c,$.next_out-c)),$.data_type=L.bits+(L.last?64:0)+(L.mode===a?128:0)+(L.mode===20||L.mode===15?256:0),(s===0&&c===0||U===4)&&de===0&&(de=-5),de)},t.inflateEnd=function($){if(!$||!$.state)return E;var U=$.state;return U.window&&(U.window=null),$.state=null,0},t.inflateGetHeader=function($,U){var L;return $&&$.state&&2&(L=$.state).wrap?(L.head=U,U.done=!1,0):E},t.inflateSetDictionary=function($,U){var L,F=U.length;return $&&$.state?(L=$.state).wrap!==0&&L.mode!==11?E:L.mode===11&&g(1,U,F,0)!==L.check?-3:G($,U,F,F)?(L.mode=31,-4):(L.havedict=1,0):E},t.inflateInfo="pako inflate (from Nodeca project)"},6446:function(te,t,e){var _=e(9187),g=15,p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],T=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];te.exports=function(a,u,N,H,x,m,k,Q){var ue,me,ye,fe,G,$,U,L,F,I=Q.bits,P=0,w=0,f=0,r=0,o=0,b=0,s=0,c=0,S=0,z=0,B=null,j=0,C=new _.Buf16(16),A=new _.Buf16(16),Y=null,ie=0;for(P=0;P<=g;P++)C[P]=0;for(w=0;w<H;w++)C[u[N+w]]++;for(o=I,r=g;r>=1&&C[r]===0;r--);if(o>r&&(o=r),r===0)return x[m++]=20971520,x[m++]=20971520,Q.bits=1,0;for(f=1;f<r&&C[f]===0;f++);for(o<f&&(o=f),c=1,P=1;P<=g;P++)if(c<<=1,(c-=C[P])<0)return-1;if(c>0&&(a===0||r!==1))return-1;for(A[1]=0,P=1;P<g;P++)A[P+1]=A[P]+C[P];for(w=0;w<H;w++)u[N+w]!==0&&(k[A[u[N+w]]++]=w);if(a===0?(B=Y=k,$=19):a===1?(B=p,j-=257,Y=y,ie-=257,$=256):(B=T,Y=E,$=-1),z=0,w=0,P=f,G=m,b=o,s=0,ye=-1,fe=(S=1<<o)-1,a===1&&S>852||a===2&&S>592)return 1;for(;;){U=P-s,k[w]<$?(L=0,F=k[w]):k[w]>$?(L=Y[ie+k[w]],F=B[j+k[w]]):(L=96,F=0),ue=1<<P-s,f=me=1<<b;do x[G+(z>>s)+(me-=ue)]=U<<24|L<<16|F|0;while(me!==0);for(ue=1<<P-1;z&ue;)ue>>=1;if(ue!==0?(z&=ue-1,z+=ue):z=0,w++,--C[P]==0){if(P===r)break;P=u[N+k[w]]}if(P>o&&(z&fe)!==ye){for(s===0&&(s=o),G+=f,c=1<<(b=P-s);b+s<r&&!((c-=C[b+s])<=0);)b++,c<<=1;if(S+=1<<b,a===1&&S>852||a===2&&S>592)return 1;x[ye=z&fe]=o<<24|b<<16|G-m|0}}return z!==0&&(x[G+z]=P-s<<24|4194304|0),Q.bits=o,0}},5604:function(te){te.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(te,t,e){var _=e(9187);function g(A){for(var Y=A.length;--Y>=0;)A[Y]=0}var p=256,y=286,T=30,E=15,a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(576);g(x);var m=new Array(60);g(m);var k=new Array(512);g(k);var Q=new Array(256);g(Q);var ue=new Array(29);g(ue);var me,ye,fe,G=new Array(T);function $(A,Y,ie,le,ce){this.static_tree=A,this.extra_bits=Y,this.extra_base=ie,this.elems=le,this.max_length=ce,this.has_stree=A&&A.length}function U(A,Y){this.dyn_tree=A,this.max_code=0,this.stat_desc=Y}function L(A){return A<256?k[A]:k[256+(A>>>7)]}function F(A,Y){A.pending_buf[A.pending++]=255&Y,A.pending_buf[A.pending++]=Y>>>8&255}function I(A,Y,ie){A.bi_valid>16-ie?(A.bi_buf|=Y<<A.bi_valid&65535,F(A,A.bi_buf),A.bi_buf=Y>>16-A.bi_valid,A.bi_valid+=ie-16):(A.bi_buf|=Y<<A.bi_valid&65535,A.bi_valid+=ie)}function P(A,Y,ie){I(A,ie[2*Y],ie[2*Y+1])}function w(A,Y){var ie=0;do ie|=1&A,A>>>=1,ie<<=1;while(--Y>0);return ie>>>1}function f(A,Y,ie){var le,ce,de=new Array(16),J=0;for(le=1;le<=E;le++)de[le]=J=J+ie[le-1]<<1;for(ce=0;ce<=Y;ce++){var ee=A[2*ce+1];ee!==0&&(A[2*ce]=w(de[ee]++,ee))}}function r(A){var Y;for(Y=0;Y<y;Y++)A.dyn_ltree[2*Y]=0;for(Y=0;Y<T;Y++)A.dyn_dtree[2*Y]=0;for(Y=0;Y<19;Y++)A.bl_tree[2*Y]=0;A.dyn_ltree[512]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function o(A){A.bi_valid>8?F(A,A.bi_buf):A.bi_valid>0&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0}function b(A,Y,ie,le){var ce=2*Y,de=2*ie;return A[ce]<A[de]||A[ce]===A[de]&&le[Y]<=le[ie]}function s(A,Y,ie){for(var le=A.heap[ie],ce=ie<<1;ce<=A.heap_len&&(ce<A.heap_len&&b(Y,A.heap[ce+1],A.heap[ce],A.depth)&&ce++,!b(Y,le,A.heap[ce],A.depth));)A.heap[ie]=A.heap[ce],ie=ce,ce<<=1;A.heap[ie]=le}function c(A,Y,ie){var le,ce,de,J,ee=0;if(A.last_lit!==0)do le=A.pending_buf[A.d_buf+2*ee]<<8|A.pending_buf[A.d_buf+2*ee+1],ce=A.pending_buf[A.l_buf+ee],ee++,le===0?P(A,ce,Y):(P(A,(de=Q[ce])+p+1,Y),(J=a[de])!==0&&I(A,ce-=ue[de],J),P(A,de=L(--le),ie),(J=u[de])!==0&&I(A,le-=G[de],J));while(ee<A.last_lit);P(A,256,Y)}function S(A,Y){var ie,le,ce,de=Y.dyn_tree,J=Y.stat_desc.static_tree,ee=Y.stat_desc.has_stree,he=Y.stat_desc.elems,Pe=-1;for(A.heap_len=0,A.heap_max=573,ie=0;ie<he;ie++)de[2*ie]!==0?(A.heap[++A.heap_len]=Pe=ie,A.depth[ie]=0):de[2*ie+1]=0;for(;A.heap_len<2;)de[2*(ce=A.heap[++A.heap_len]=Pe<2?++Pe:0)]=1,A.depth[ce]=0,A.opt_len--,ee&&(A.static_len-=J[2*ce+1]);for(Y.max_code=Pe,ie=A.heap_len>>1;ie>=1;ie--)s(A,de,ie);ce=he;do ie=A.heap[1],A.heap[1]=A.heap[A.heap_len--],s(A,de,1),le=A.heap[1],A.heap[--A.heap_max]=ie,A.heap[--A.heap_max]=le,de[2*ce]=de[2*ie]+de[2*le],A.depth[ce]=(A.depth[ie]>=A.depth[le]?A.depth[ie]:A.depth[le])+1,de[2*ie+1]=de[2*le+1]=ce,A.heap[1]=ce++,s(A,de,1);while(A.heap_len>=2);A.heap[--A.heap_max]=A.heap[1],function(He,Ke){var Ae,Oe,Te,De,ke,be,ve=Ke.dyn_tree,D=Ke.max_code,l=Ke.stat_desc.static_tree,d=Ke.stat_desc.has_stree,M=Ke.stat_desc.extra_bits,V=Ke.stat_desc.extra_base,q=Ke.stat_desc.max_length,re=0;for(De=0;De<=E;De++)He.bl_count[De]=0;for(ve[2*He.heap[He.heap_max]+1]=0,Ae=He.heap_max+1;Ae<573;Ae++)(De=ve[2*ve[2*(Oe=He.heap[Ae])+1]+1]+1)>q&&(De=q,re++),ve[2*Oe+1]=De,Oe>D||(He.bl_count[De]++,ke=0,Oe>=V&&(ke=M[Oe-V]),be=ve[2*Oe],He.opt_len+=be*(De+ke),d&&(He.static_len+=be*(l[2*Oe+1]+ke)));if(re!==0){do{for(De=q-1;He.bl_count[De]===0;)De--;He.bl_count[De]--,He.bl_count[De+1]+=2,He.bl_count[q]--,re-=2}while(re>0);for(De=q;De!==0;De--)for(Oe=He.bl_count[De];Oe!==0;)(Te=He.heap[--Ae])>D||(ve[2*Te+1]!==De&&(He.opt_len+=(De-ve[2*Te+1])*ve[2*Te],ve[2*Te+1]=De),Oe--)}}(A,Y),f(de,Pe,A.bl_count)}function z(A,Y,ie){var le,ce,de=-1,J=Y[1],ee=0,he=7,Pe=4;for(J===0&&(he=138,Pe=3),Y[2*(ie+1)+1]=65535,le=0;le<=ie;le++)ce=J,J=Y[2*(le+1)+1],++ee<he&&ce===J||(ee<Pe?A.bl_tree[2*ce]+=ee:ce!==0?(ce!==de&&A.bl_tree[2*ce]++,A.bl_tree[32]++):ee<=10?A.bl_tree[34]++:A.bl_tree[36]++,ee=0,de=ce,J===0?(he=138,Pe=3):ce===J?(he=6,Pe=3):(he=7,Pe=4))}function B(A,Y,ie){var le,ce,de=-1,J=Y[1],ee=0,he=7,Pe=4;for(J===0&&(he=138,Pe=3),le=0;le<=ie;le++)if(ce=J,J=Y[2*(le+1)+1],!(++ee<he&&ce===J)){if(ee<Pe)do P(A,ce,A.bl_tree);while(--ee!=0);else ce!==0?(ce!==de&&(P(A,ce,A.bl_tree),ee--),P(A,16,A.bl_tree),I(A,ee-3,2)):ee<=10?(P(A,17,A.bl_tree),I(A,ee-3,3)):(P(A,18,A.bl_tree),I(A,ee-11,7));ee=0,de=ce,J===0?(he=138,Pe=3):ce===J?(he=6,Pe=3):(he=7,Pe=4)}}g(G);var j=!1;function C(A,Y,ie,le){I(A,0+(le?1:0),3),function(ce,de,J,ee){o(ce),F(ce,J),F(ce,~J),_.arraySet(ce.pending_buf,ce.window,de,J,ce.pending),ce.pending+=J}(A,Y,ie)}t._tr_init=function(A){j||(function(){var Y,ie,le,ce,de,J=new Array(16);for(le=0,ce=0;ce<28;ce++)for(ue[ce]=le,Y=0;Y<1<<a[ce];Y++)Q[le++]=ce;for(Q[le-1]=ce,de=0,ce=0;ce<16;ce++)for(G[ce]=de,Y=0;Y<1<<u[ce];Y++)k[de++]=ce;for(de>>=7;ce<T;ce++)for(G[ce]=de<<7,Y=0;Y<1<<u[ce]-7;Y++)k[256+de++]=ce;for(ie=0;ie<=E;ie++)J[ie]=0;for(Y=0;Y<=143;)x[2*Y+1]=8,Y++,J[8]++;for(;Y<=255;)x[2*Y+1]=9,Y++,J[9]++;for(;Y<=279;)x[2*Y+1]=7,Y++,J[7]++;for(;Y<=287;)x[2*Y+1]=8,Y++,J[8]++;for(f(x,287,J),Y=0;Y<T;Y++)m[2*Y+1]=5,m[2*Y]=w(Y,5);me=new $(x,a,257,y,E),ye=new $(m,u,0,T,E),fe=new $(new Array(0),N,0,19,7)}(),j=!0),A.l_desc=new U(A.dyn_ltree,me),A.d_desc=new U(A.dyn_dtree,ye),A.bl_desc=new U(A.bl_tree,fe),A.bi_buf=0,A.bi_valid=0,r(A)},t._tr_stored_block=C,t._tr_flush_block=function(A,Y,ie,le){var ce,de,J=0;A.level>0?(A.strm.data_type===2&&(A.strm.data_type=function(ee){var he,Pe=4093624447;for(he=0;he<=31;he++,Pe>>>=1)if(1&Pe&&ee.dyn_ltree[2*he]!==0)return 0;if(ee.dyn_ltree[18]!==0||ee.dyn_ltree[20]!==0||ee.dyn_ltree[26]!==0)return 1;for(he=32;he<p;he++)if(ee.dyn_ltree[2*he]!==0)return 1;return 0}(A)),S(A,A.l_desc),S(A,A.d_desc),J=function(ee){var he;for(z(ee,ee.dyn_ltree,ee.l_desc.max_code),z(ee,ee.dyn_dtree,ee.d_desc.max_code),S(ee,ee.bl_desc),he=18;he>=3&&ee.bl_tree[2*H[he]+1]===0;he--);return ee.opt_len+=3*(he+1)+5+5+4,he}(A),ce=A.opt_len+3+7>>>3,(de=A.static_len+3+7>>>3)<=ce&&(ce=de)):ce=de=ie+5,ie+4<=ce&&Y!==-1?C(A,Y,ie,le):A.strategy===4||de===ce?(I(A,2+(le?1:0),3),c(A,x,m)):(I(A,4+(le?1:0),3),function(ee,he,Pe,He){var Ke;for(I(ee,he-257,5),I(ee,Pe-1,5),I(ee,He-4,4),Ke=0;Ke<He;Ke++)I(ee,ee.bl_tree[2*H[Ke]+1],3);B(ee,ee.dyn_ltree,he-1),B(ee,ee.dyn_dtree,Pe-1)}(A,A.l_desc.max_code+1,A.d_desc.max_code+1,J+1),c(A,A.dyn_ltree,A.dyn_dtree)),r(A),le&&o(A)},t._tr_tally=function(A,Y,ie){return A.pending_buf[A.d_buf+2*A.last_lit]=Y>>>8&255,A.pending_buf[A.d_buf+2*A.last_lit+1]=255&Y,A.pending_buf[A.l_buf+A.last_lit]=255&ie,A.last_lit++,Y===0?A.dyn_ltree[2*ie]++:(A.matches++,Y--,A.dyn_ltree[2*(Q[ie]+p+1)]++,A.dyn_dtree[2*L(Y)]++),A.last_lit===A.lit_bufsize-1},t._tr_align=function(A){I(A,2,3),P(A,256,x),function(Y){Y.bi_valid===16?(F(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):Y.bi_valid>=8&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(A)}},249:function(te){te.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(te){te.exports=function(t){t.data&&t.name&&(t=t.data);for(var e=!0,_="",g="",p=0;p<t.length;p++){var y=t[p];if(e)y?g+=String.fromCharCode(y):e=!1;else{if(!y)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");_+=String.fromCharCode(y)}}return{keyword:g,text:_}}},9686:function(te){te.exports=function(t,e){if(t=String(t),e=String(e),!/^[\x00-\xFF]+$/.test(t)||!/^[\x00-\xFF]+$/.test(e))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(t.length>=80)throw new Error('Keyword "'+t+'" is longer than the 79-character limit imposed by the PNG specification');for(var _,g=t.length+e.length+1,p=new Uint8Array(g),y=0,T=0;T<t.length;T++){if(!(_=t.charCodeAt(T)))throw new Error("0x00 character is not permitted in tEXt keywords");p[y++]=_}p[y++]=0;for(var E=0;E<e.length;E++){if(!(_=e.charCodeAt(E)))throw new Error("0x00 character is not permitted in tEXt content");p[y++]=_}return{name:"tEXt",data:p}}},1194:function(te,t,e){t.encode=e(9686),t.decode=e(9066)},3434:function(te,t,e){var _=e(5714),g=e(6233);te.exports=function(E){var a,u=8,N=u;for(a=0;a<E.length;a++)u+=E[a].data.length,u+=12;var H=new Uint8Array(u);for(H[0]=137,H[1]=80,H[2]=78,H[3]=71,H[4]=13,H[5]=10,H[6]=26,H[7]=10,a=0;a<E.length;a++){var x=E[a],m=x.name,k=x.data,Q=k.length,ue=[m.charCodeAt(0),m.charCodeAt(1),m.charCodeAt(2),m.charCodeAt(3)];T[0]=Q,H[N++]=p[3],H[N++]=p[2],H[N++]=p[1],H[N++]=p[0],H[N++]=ue[0],H[N++]=ue[1],H[N++]=ue[2],H[N++]=ue[3];for(var me=0;me<Q;)H[N++]=k[me++];var ye=ue.concat(_(k)),fe=g.buf(ye);y[0]=fe,H[N++]=p[3],H[N++]=p[2],H[N++]=p[1],H[N++]=p[0]}return H};var p=new Uint8Array(4),y=new Int32Array(p.buffer),T=new Uint32Array(p.buffer)},2983:function(te,t,e){var _=e(6233);te.exports=function(T){if(T[0]!==137)throw new Error("Invalid .png file header");if(T[1]!==80)throw new Error("Invalid .png file header");if(T[2]!==78)throw new Error("Invalid .png file header");if(T[3]!==71)throw new Error("Invalid .png file header");if(T[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(T[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(T[6]!==26)throw new Error("Invalid .png file header");if(T[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var E=!1,a=[],u=8;u<T.length;){g[3]=T[u++],g[2]=T[u++],g[1]=T[u++],g[0]=T[u++];var N=y[0]+4,H=new Uint8Array(N);H[0]=T[u++],H[1]=T[u++],H[2]=T[u++],H[3]=T[u++];var x=String.fromCharCode(H[0])+String.fromCharCode(H[1])+String.fromCharCode(H[2])+String.fromCharCode(H[3]);if(!a.length&&x!=="IHDR")throw new Error("IHDR header missing");if(x==="IEND"){E=!0,a.push({name:x,data:new Uint8Array(0)});break}for(var m=4;m<N;m++)H[m]=T[u++];g[3]=T[u++],g[2]=T[u++],g[1]=T[u++],g[0]=T[u++];var k=p[0];if(_.buf(H)!==k)throw new Error("CRC values for "+x+" header do not match, PNG file is likely corrupted");var Q=new Uint8Array(H.buffer.slice(4));a.push({name:x,data:Q})}if(!E)throw new Error(".png file ended prematurely: no IEND header was found");return a};var g=new Uint8Array(4),p=new Int32Array(g.buffer),y=new Uint32Array(g.buffer)},1493:function(te,t,e){function _(u,N){return Math.pow(u[0]-N[0],2)+Math.pow(u[1]-N[1],2)}function g(u,N,H){const x=_(N,H);if(x===0)return _(u,N);let m=((u[0]-N[0])*(H[0]-N[0])+(u[1]-N[1])*(H[1]-N[1]))/x;return m=Math.max(0,Math.min(1,m)),_(u,p(N,H,m))}function p(u,N,H){return[u[0]+(N[0]-u[0])*H,u[1]+(N[1]-u[1])*H]}function y(u,N,H,x){const m=x||[];if(function(ue,me){const ye=ue[me+0],fe=ue[me+1],G=ue[me+2],$=ue[me+3];let U=3*fe[0]-2*ye[0]-$[0];U*=U;let L=3*fe[1]-2*ye[1]-$[1];L*=L;let F=3*G[0]-2*$[0]-ye[0];F*=F;let I=3*G[1]-2*$[1]-ye[1];return I*=I,U<F&&(U=F),L<I&&(L=I),U+L}(u,N)<H){const ue=u[N+0];m.length?(k=m[m.length-1],Q=ue,Math.sqrt(_(k,Q))>1&&m.push(ue)):m.push(ue),m.push(u[N+3])}else{const ue=u[N+0],me=u[N+1],ye=u[N+2],fe=u[N+3],G=p(ue,me,.5),$=p(me,ye,.5),U=p(ye,fe,.5),L=p(G,$,.5),F=p($,U,.5),I=p(L,F,.5);y([ue,G,L,I],0,H,m),y([I,F,U,fe],0,H,m)}var k,Q;return m}function T(u,N){return E(u,0,u.length,N)}function E(u,N,H,x,m){const k=m||[],Q=u[N],ue=u[H-1];let me=0,ye=1;for(let fe=N+1;fe<H-1;++fe){const G=g(u[fe],Q,ue);G>me&&(me=G,ye=fe)}return Math.sqrt(me)>x?(E(u,N,ye+1,x,k),E(u,ye,H,x,k)):(k.length||k.push(Q),k.push(ue)),k}function a(u,N=.15,H){const x=[],m=(u.length-1)/3;for(let k=0;k<m;k++)y(u,3*k,N,x);return H&&H>0?E(x,0,x.length,H):x}e.d(t,{og:function(){return T},sU:function(){return a}})},8128:function(te,t,e){function _(D,l,d){if(D&&D.length){const[M,V]=l,q=Math.PI/180*d,re=Math.cos(q),ae=Math.sin(q);for(const ge of D){const[Se,Re]=ge;ge[0]=(Se-M)*re-(Re-V)*ae+M,ge[1]=(Se-M)*ae+(Re-V)*re+V}}}function g(D,l){return D[0]===l[0]&&D[1]===l[1]}function p(D,l,d,M=1){const V=d,q=Math.max(l,.1),re=D[0]&&D[0][0]&&typeof D[0][0]=="number"?[D]:D,ae=[0,0];if(V)for(const Se of re)_(Se,ae,V);const ge=function(Se,Re,Ye){const Ge=[];for(const we of Se){const Me=[...we];g(Me[0],Me[Me.length-1])||Me.push([Me[0][0],Me[0][1]]),Me.length>2&&Ge.push(Me)}const We=[];Re=Math.max(Re,.1);const qe=[];for(const we of Ge)for(let Me=0;Me<we.length-1;Me++){const $e=we[Me],at=we[Me+1];if($e[1]!==at[1]){const dt=Math.min($e[1],at[1]);qe.push({ymin:dt,ymax:Math.max($e[1],at[1]),x:dt===$e[1]?$e[0]:at[0],islope:(at[0]-$e[0])/(at[1]-$e[1])})}}if(qe.sort((we,Me)=>we.ymin<Me.ymin?-1:we.ymin>Me.ymin?1:we.x<Me.x?-1:we.x>Me.x?1:we.ymax===Me.ymax?0:(we.ymax-Me.ymax)/Math.abs(we.ymax-Me.ymax)),!qe.length)return We;let lt=[],ft=qe[0].ymin,ze=0;for(;lt.length||qe.length;){if(qe.length){let we=-1;for(let Me=0;Me<qe.length&&!(qe[Me].ymin>ft);Me++)we=Me;qe.splice(0,we+1).forEach(Me=>{lt.push({s:ft,edge:Me})})}if(lt=lt.filter(we=>!(we.edge.ymax<=ft)),lt.sort((we,Me)=>we.edge.x===Me.edge.x?0:(we.edge.x-Me.edge.x)/Math.abs(we.edge.x-Me.edge.x)),(Ye!==1||ze%Re==0)&&lt.length>1)for(let we=0;we<lt.length;we+=2){const Me=we+1;if(Me>=lt.length)break;const $e=lt[we].edge,at=lt[Me].edge;We.push([[Math.round($e.x),ft],[Math.round(at.x),ft]])}ft+=Ye,lt.forEach(we=>{we.edge.x=we.edge.x+Ye*we.edge.islope}),ze++}return We}(re,q,M);if(V){for(const Se of re)_(Se,ae,-V);(function(Se,Re,Ye){const Ge=[];Se.forEach(We=>Ge.push(...We)),_(Ge,Re,Ye)})(ge,ae,-V)}return ge}function y(D,l){var d;const M=l.hachureAngle+90;let V=l.hachureGap;V<0&&(V=4*l.strokeWidth),V=Math.max(V,.1);let q=1;return l.roughness>=1&&(((d=l.randomizer)===null||d===void 0?void 0:d.next())||Math.random())>.7&&(q=V),p(D,V,M,q||1)}e.d(t,{V:function(){return ve}});class T{constructor(l){this.helper=l}fillPolygons(l,d){return this._fillPolygons(l,d)}_fillPolygons(l,d){const M=y(l,d);return{type:"fillSketch",ops:this.renderLines(M,d)}}renderLines(l,d){const M=[];for(const V of l)M.push(...this.helper.doubleLineOps(V[0][0],V[0][1],V[1][0],V[1][1],d));return M}}function E(D){const l=D[0],d=D[1];return Math.sqrt(Math.pow(l[0]-d[0],2)+Math.pow(l[1]-d[1],2))}class a extends T{fillPolygons(l,d){let M=d.hachureGap;M<0&&(M=4*d.strokeWidth),M=Math.max(M,.1);const V=y(l,Object.assign({},d,{hachureGap:M})),q=Math.PI/180*d.hachureAngle,re=[],ae=.5*M*Math.cos(q),ge=.5*M*Math.sin(q);for(const[Se,Re]of V)E([Se,Re])&&re.push([[Se[0]-ae,Se[1]+ge],[...Re]],[[Se[0]+ae,Se[1]-ge],[...Re]]);return{type:"fillSketch",ops:this.renderLines(re,d)}}}class u extends T{fillPolygons(l,d){const M=this._fillPolygons(l,d),V=Object.assign({},d,{hachureAngle:d.hachureAngle+90}),q=this._fillPolygons(l,V);return M.ops=M.ops.concat(q.ops),M}}class N{constructor(l){this.helper=l}fillPolygons(l,d){const M=y(l,d=Object.assign({},d,{hachureAngle:0}));return this.dotsOnLines(M,d)}dotsOnLines(l,d){const M=[];let V=d.hachureGap;V<0&&(V=4*d.strokeWidth),V=Math.max(V,.1);let q=d.fillWeight;q<0&&(q=d.strokeWidth/2);const re=V/4;for(const ae of l){const ge=E(ae),Se=ge/V,Re=Math.ceil(Se)-1,Ye=ge-Re*V,Ge=(ae[0][0]+ae[1][0])/2-V/4,We=Math.min(ae[0][1],ae[1][1]);for(let qe=0;qe<Re;qe++){const lt=We+Ye+qe*V,ft=Ge-re+2*Math.random()*re,ze=lt-re+2*Math.random()*re,we=this.helper.ellipse(ft,ze,q,q,d);M.push(...we.ops)}}return{type:"fillSketch",ops:M}}}class H{constructor(l){this.helper=l}fillPolygons(l,d){const M=y(l,d);return{type:"fillSketch",ops:this.dashedLine(M,d)}}dashedLine(l,d){const M=d.dashOffset<0?d.hachureGap<0?4*d.strokeWidth:d.hachureGap:d.dashOffset,V=d.dashGap<0?d.hachureGap<0?4*d.strokeWidth:d.hachureGap:d.dashGap,q=[];return l.forEach(re=>{const ae=E(re),ge=Math.floor(ae/(M+V)),Se=(ae+V-ge*(M+V))/2;let Re=re[0],Ye=re[1];Re[0]>Ye[0]&&(Re=re[1],Ye=re[0]);const Ge=Math.atan((Ye[1]-Re[1])/(Ye[0]-Re[0]));for(let We=0;We<ge;We++){const qe=We*(M+V),lt=qe+M,ft=[Re[0]+qe*Math.cos(Ge)+Se*Math.cos(Ge),Re[1]+qe*Math.sin(Ge)+Se*Math.sin(Ge)],ze=[Re[0]+lt*Math.cos(Ge)+Se*Math.cos(Ge),Re[1]+lt*Math.sin(Ge)+Se*Math.sin(Ge)];q.push(...this.helper.doubleLineOps(ft[0],ft[1],ze[0],ze[1],d))}}),q}}class x{constructor(l){this.helper=l}fillPolygons(l,d){const M=d.hachureGap<0?4*d.strokeWidth:d.hachureGap,V=d.zigzagOffset<0?M:d.zigzagOffset,q=y(l,d=Object.assign({},d,{hachureGap:M+V}));return{type:"fillSketch",ops:this.zigzagLines(q,V,d)}}zigzagLines(l,d,M){const V=[];return l.forEach(q=>{const re=E(q),ae=Math.round(re/(2*d));let ge=q[0],Se=q[1];ge[0]>Se[0]&&(ge=q[1],Se=q[0]);const Re=Math.atan((Se[1]-ge[1])/(Se[0]-ge[0]));for(let Ye=0;Ye<ae;Ye++){const Ge=2*Ye*d,We=2*(Ye+1)*d,qe=Math.sqrt(2*Math.pow(d,2)),lt=[ge[0]+Ge*Math.cos(Re),ge[1]+Ge*Math.sin(Re)],ft=[ge[0]+We*Math.cos(Re),ge[1]+We*Math.sin(Re)],ze=[lt[0]+qe*Math.cos(Re+Math.PI/4),lt[1]+qe*Math.sin(Re+Math.PI/4)];V.push(...this.helper.doubleLineOps(lt[0],lt[1],ze[0],ze[1],M),...this.helper.doubleLineOps(ze[0],ze[1],ft[0],ft[1],M))}}),V}}const m={};var k=e(8152);const Q={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function ue(D,l){return D.type===l}function me(D){const l=[],d=function(re){const ae=new Array;for(;re!=="";)if(re.match(/^([ \t\r\n,]+)/))re=re.substr(RegExp.$1.length);else if(re.match(/^([aAcChHlLmMqQsStTvVzZ])/))ae[ae.length]={type:0,text:RegExp.$1},re=re.substr(RegExp.$1.length);else{if(!re.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];ae[ae.length]={type:1,text:`${parseFloat(RegExp.$1)}`},re=re.substr(RegExp.$1.length)}return ae[ae.length]={type:2,text:""},ae}(D);let M="BOD",V=0,q=d[V];for(;!ue(q,2);){let re=0;const ae=[];if(M==="BOD"){if(q.text!=="M"&&q.text!=="m")return me("M0,0"+D);V++,re=Q[q.text],M=q.text}else ue(q,1)?re=Q[M]:(V++,re=Q[q.text],M=q.text);if(!(V+re<d.length))throw new Error("Path data ended short");for(let ge=V;ge<V+re;ge++){const Se=d[ge];if(!ue(Se,1))throw new Error("Param not a number: "+M+","+Se.text);ae[ae.length]=+Se.text}if(typeof Q[M]!="number")throw new Error("Bad segment: "+M);{const ge={key:M,data:ae};l.push(ge),V+=re,q=d[V],M==="M"&&(M="L"),M==="m"&&(M="l")}}return l}function ye(D){let l=0,d=0,M=0,V=0;const q=[];for(const{key:re,data:ae}of D)switch(re){case"M":q.push({key:"M",data:[...ae]}),[l,d]=ae,[M,V]=ae;break;case"m":l+=ae[0],d+=ae[1],q.push({key:"M",data:[l,d]}),M=l,V=d;break;case"L":q.push({key:"L",data:[...ae]}),[l,d]=ae;break;case"l":l+=ae[0],d+=ae[1],q.push({key:"L",data:[l,d]});break;case"C":q.push({key:"C",data:[...ae]}),l=ae[4],d=ae[5];break;case"c":{const ge=ae.map((Se,Re)=>Re%2?Se+d:Se+l);q.push({key:"C",data:ge}),l=ge[4],d=ge[5];break}case"Q":q.push({key:"Q",data:[...ae]}),l=ae[2],d=ae[3];break;case"q":{const ge=ae.map((Se,Re)=>Re%2?Se+d:Se+l);q.push({key:"Q",data:ge}),l=ge[2],d=ge[3];break}case"A":q.push({key:"A",data:[...ae]}),l=ae[5],d=ae[6];break;case"a":l+=ae[5],d+=ae[6],q.push({key:"A",data:[ae[0],ae[1],ae[2],ae[3],ae[4],l,d]});break;case"H":q.push({key:"H",data:[...ae]}),l=ae[0];break;case"h":l+=ae[0],q.push({key:"H",data:[l]});break;case"V":q.push({key:"V",data:[...ae]}),d=ae[0];break;case"v":d+=ae[0],q.push({key:"V",data:[d]});break;case"S":q.push({key:"S",data:[...ae]}),l=ae[2],d=ae[3];break;case"s":{const ge=ae.map((Se,Re)=>Re%2?Se+d:Se+l);q.push({key:"S",data:ge}),l=ge[2],d=ge[3];break}case"T":q.push({key:"T",data:[...ae]}),l=ae[0],d=ae[1];break;case"t":l+=ae[0],d+=ae[1],q.push({key:"T",data:[l,d]});break;case"Z":case"z":q.push({key:"Z",data:[]}),l=M,d=V}return q}function fe(D){const l=[];let d="",M=0,V=0,q=0,re=0,ae=0,ge=0;for(const{key:Se,data:Re}of D){switch(Se){case"M":l.push({key:"M",data:[...Re]}),[M,V]=Re,[q,re]=Re;break;case"C":l.push({key:"C",data:[...Re]}),M=Re[4],V=Re[5],ae=Re[2],ge=Re[3];break;case"L":l.push({key:"L",data:[...Re]}),[M,V]=Re;break;case"H":M=Re[0],l.push({key:"L",data:[M,V]});break;case"V":V=Re[0],l.push({key:"L",data:[M,V]});break;case"S":{let Ye=0,Ge=0;d==="C"||d==="S"?(Ye=M+(M-ae),Ge=V+(V-ge)):(Ye=M,Ge=V),l.push({key:"C",data:[Ye,Ge,...Re]}),ae=Re[0],ge=Re[1],M=Re[2],V=Re[3];break}case"T":{const[Ye,Ge]=Re;let We=0,qe=0;d==="Q"||d==="T"?(We=M+(M-ae),qe=V+(V-ge)):(We=M,qe=V);const lt=M+2*(We-M)/3,ft=V+2*(qe-V)/3,ze=Ye+2*(We-Ye)/3,we=Ge+2*(qe-Ge)/3;l.push({key:"C",data:[lt,ft,ze,we,Ye,Ge]}),ae=We,ge=qe,M=Ye,V=Ge;break}case"Q":{const[Ye,Ge,We,qe]=Re,lt=M+2*(Ye-M)/3,ft=V+2*(Ge-V)/3,ze=We+2*(Ye-We)/3,we=qe+2*(Ge-qe)/3;l.push({key:"C",data:[lt,ft,ze,we,We,qe]}),ae=Ye,ge=Ge,M=We,V=qe;break}case"A":{const Ye=Math.abs(Re[0]),Ge=Math.abs(Re[1]),We=Re[2],qe=Re[3],lt=Re[4],ft=Re[5],ze=Re[6];Ye===0||Ge===0?(l.push({key:"C",data:[M,V,ft,ze,ft,ze]}),M=ft,V=ze):(M!==ft||V!==ze)&&($(M,V,ft,ze,Ye,Ge,We,qe,lt).forEach(function(we){l.push({key:"C",data:we})}),M=ft,V=ze);break}case"Z":l.push({key:"Z",data:[]}),M=q,V=re}d=Se}return l}function G(D,l,d){return[D*Math.cos(d)-l*Math.sin(d),D*Math.sin(d)+l*Math.cos(d)]}function $(D,l,d,M,V,q,re,ae,ge,Se){const Re=(Ye=re,Math.PI*Ye/180);var Ye;let Ge=[],We=0,qe=0,lt=0,ft=0;if(Se)[We,qe,lt,ft]=Se;else{[D,l]=G(D,l,-Re),[d,M]=G(d,M,-Re);const Ht=(D-d)/2,$t=(l-M)/2;let pn=Ht*Ht/(V*V)+$t*$t/(q*q);pn>1&&(pn=Math.sqrt(pn),V*=pn,q*=pn);const _t=V*V,xt=q*q,At=_t*xt-_t*$t*$t-xt*Ht*Ht,It=_t*$t*$t+xt*Ht*Ht,Mt=(ae===ge?-1:1)*Math.sqrt(Math.abs(At/It));lt=Mt*V*$t/q+(D+d)/2,ft=Mt*-q*Ht/V+(l+M)/2,We=Math.asin(parseFloat(((l-ft)/q).toFixed(9))),qe=Math.asin(parseFloat(((M-ft)/q).toFixed(9))),D<lt&&(We=Math.PI-We),d<lt&&(qe=Math.PI-qe),We<0&&(We=2*Math.PI+We),qe<0&&(qe=2*Math.PI+qe),ge&&We>qe&&(We-=2*Math.PI),!ge&&qe>We&&(qe-=2*Math.PI)}let ze=qe-We;if(Math.abs(ze)>120*Math.PI/180){const Ht=qe,$t=d,pn=M;qe=ge&&qe>We?We+120*Math.PI/180*1:We+120*Math.PI/180*-1,Ge=$(d=lt+V*Math.cos(qe),M=ft+q*Math.sin(qe),$t,pn,V,q,re,0,ge,[qe,Ht,lt,ft])}ze=qe-We;const we=Math.cos(We),Me=Math.sin(We),$e=Math.cos(qe),at=Math.sin(qe),dt=Math.tan(ze/4),vt=4/3*V*dt,Tt=4/3*q*dt,Et=[D,l],jt=[D+vt*Me,l-Tt*we],Kt=[d+vt*at,M-Tt*$e],Gt=[d,M];if(jt[0]=2*Et[0]-jt[0],jt[1]=2*Et[1]-jt[1],Se)return[jt,Kt,Gt].concat(Ge);{Ge=[jt,Kt,Gt].concat(Ge);const Ht=[];for(let $t=0;$t<Ge.length;$t+=3){const pn=G(Ge[$t][0],Ge[$t][1],Re),_t=G(Ge[$t+1][0],Ge[$t+1][1],Re),xt=G(Ge[$t+2][0],Ge[$t+2][1],Re);Ht.push([pn[0],pn[1],_t[0],_t[1],xt[0],xt[1]])}return Ht}}const U={randOffset:function(D,l){return z(D,l)},randOffsetWithRange:function(D,l,d){return S(D,l,d)},ellipse:function(D,l,d,M,V){const q=w(d,M,V);return f(D,l,V,q).opset},doubleLineOps:function(D,l,d,M,V){return B(D,l,d,M,V,!0)}};function L(D,l,d,M,V){return{type:"path",ops:B(D,l,d,M,V)}}function F(D,l,d){const M=(D||[]).length;if(M>2){const V=[];for(let q=0;q<M-1;q++)V.push(...B(D[q][0],D[q][1],D[q+1][0],D[q+1][1],d));return l&&V.push(...B(D[M-1][0],D[M-1][1],D[0][0],D[0][1],d)),{type:"path",ops:V}}return M===2?L(D[0][0],D[0][1],D[1][0],D[1][1],d):{type:"path",ops:[]}}function I(D,l,d,M,V){return function(q,re){return F(q,!0,re)}([[D,l],[D+d,l],[D+d,l+M],[D,l+M]],V)}function P(D,l){let d=C(D,1*(1+.2*l.roughness),l);if(!l.disableMultiStroke){const M=C(D,1.5*(1+.22*l.roughness),function(V){const q=Object.assign({},V);return q.randomizer=void 0,V.seed&&(q.seed=V.seed+1),q}(l));d=d.concat(M)}return{type:"path",ops:d}}function w(D,l,d){const M=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(D/2,2)+Math.pow(l/2,2))/2)),V=Math.ceil(Math.max(d.curveStepCount,d.curveStepCount/Math.sqrt(200)*M)),q=2*Math.PI/V;let re=Math.abs(D/2),ae=Math.abs(l/2);const ge=1-d.curveFitting;return re+=z(re*ge,d),ae+=z(ae*ge,d),{increment:q,rx:re,ry:ae}}function f(D,l,d,M){const[V,q]=Y(M.increment,D,l,M.rx,M.ry,1,M.increment*S(.1,S(.4,1,d),d),d);let re=A(V,null,d);if(!d.disableMultiStroke&&d.roughness!==0){const[ae]=Y(M.increment,D,l,M.rx,M.ry,1.5,0,d),ge=A(ae,null,d);re=re.concat(ge)}return{estimatedPoints:q,opset:{type:"path",ops:re}}}function r(D,l,d,M,V,q,re,ae,ge){const Se=D,Re=l;let Ye=Math.abs(d/2),Ge=Math.abs(M/2);Ye+=z(.01*Ye,ge),Ge+=z(.01*Ge,ge);let We=V,qe=q;for(;We<0;)We+=2*Math.PI,qe+=2*Math.PI;qe-We>2*Math.PI&&(We=0,qe=2*Math.PI);const lt=2*Math.PI/ge.curveStepCount,ft=Math.min(lt/2,(qe-We)/2),ze=ie(ft,Se,Re,Ye,Ge,We,qe,1,ge);if(!ge.disableMultiStroke){const we=ie(ft,Se,Re,Ye,Ge,We,qe,1.5,ge);ze.push(...we)}return re&&(ae?ze.push(...B(Se,Re,Se+Ye*Math.cos(We),Re+Ge*Math.sin(We),ge),...B(Se,Re,Se+Ye*Math.cos(qe),Re+Ge*Math.sin(qe),ge)):ze.push({op:"lineTo",data:[Se,Re]},{op:"lineTo",data:[Se+Ye*Math.cos(We),Re+Ge*Math.sin(We)]})),{type:"path",ops:ze}}function o(D,l){const d=fe(ye(me(D))),M=[];let V=[0,0],q=[0,0];for(const{key:re,data:ae}of d)switch(re){case"M":q=[ae[0],ae[1]],V=[ae[0],ae[1]];break;case"L":M.push(...B(q[0],q[1],ae[0],ae[1],l)),q=[ae[0],ae[1]];break;case"C":{const[ge,Se,Re,Ye,Ge,We]=ae;M.push(...le(ge,Se,Re,Ye,Ge,We,q,l)),q=[Ge,We];break}case"Z":M.push(...B(q[0],q[1],V[0],V[1],l)),q=[V[0],V[1]]}return{type:"path",ops:M}}function b(D,l){const d=[];for(const M of D)if(M.length){const V=l.maxRandomnessOffset||0,q=M.length;if(q>2){d.push({op:"move",data:[M[0][0]+z(V,l),M[0][1]+z(V,l)]});for(let re=1;re<q;re++)d.push({op:"lineTo",data:[M[re][0]+z(V,l),M[re][1]+z(V,l)]})}}return{type:"fillPath",ops:d}}function s(D,l){return function(d,M){let V=d.fillStyle||"hachure";if(!m[V])switch(V){case"zigzag":m[V]||(m[V]=new a(M));break;case"cross-hatch":m[V]||(m[V]=new u(M));break;case"dots":m[V]||(m[V]=new N(M));break;case"dashed":m[V]||(m[V]=new H(M));break;case"zigzag-line":m[V]||(m[V]=new x(M));break;default:V="hachure",m[V]||(m[V]=new T(M))}return m[V]}(l,U).fillPolygons(D,l)}function c(D){return D.randomizer||(D.randomizer=new k.k(D.seed||0)),D.randomizer.next()}function S(D,l,d,M=1){return d.roughness*M*(c(d)*(l-D)+D)}function z(D,l,d=1){return S(-D,D,l,d)}function B(D,l,d,M,V,q=!1){const re=q?V.disableMultiStrokeFill:V.disableMultiStroke,ae=j(D,l,d,M,V,!0,!1);if(re)return ae;const ge=j(D,l,d,M,V,!0,!0);return ae.concat(ge)}function j(D,l,d,M,V,q,re){const ae=Math.pow(D-d,2)+Math.pow(l-M,2),ge=Math.sqrt(ae);let Se=1;Se=ge<200?1:ge>500?.4:-.0016668*ge+1.233334;let Re=V.maxRandomnessOffset||0;Re*Re*100>ae&&(Re=ge/10);const Ye=Re/2,Ge=.2+.2*c(V);let We=V.bowing*V.maxRandomnessOffset*(M-l)/200,qe=V.bowing*V.maxRandomnessOffset*(D-d)/200;We=z(We,V,Se),qe=z(qe,V,Se);const lt=[],ft=()=>z(Ye,V,Se),ze=()=>z(Re,V,Se),we=V.preserveVertices;return re?lt.push({op:"move",data:[D+(we?0:ft()),l+(we?0:ft())]}):lt.push({op:"move",data:[D+(we?0:z(Re,V,Se)),l+(we?0:z(Re,V,Se))]}),re?lt.push({op:"bcurveTo",data:[We+D+(d-D)*Ge+ft(),qe+l+(M-l)*Ge+ft(),We+D+2*(d-D)*Ge+ft(),qe+l+2*(M-l)*Ge+ft(),d+(we?0:ft()),M+(we?0:ft())]}):lt.push({op:"bcurveTo",data:[We+D+(d-D)*Ge+ze(),qe+l+(M-l)*Ge+ze(),We+D+2*(d-D)*Ge+ze(),qe+l+2*(M-l)*Ge+ze(),d+(we?0:ze()),M+(we?0:ze())]}),lt}function C(D,l,d){const M=[];M.push([D[0][0]+z(l,d),D[0][1]+z(l,d)]),M.push([D[0][0]+z(l,d),D[0][1]+z(l,d)]);for(let V=1;V<D.length;V++)M.push([D[V][0]+z(l,d),D[V][1]+z(l,d)]),V===D.length-1&&M.push([D[V][0]+z(l,d),D[V][1]+z(l,d)]);return A(M,null,d)}function A(D,l,d){const M=D.length,V=[];if(M>3){const q=[],re=1-d.curveTightness;V.push({op:"move",data:[D[1][0],D[1][1]]});for(let ae=1;ae+2<M;ae++){const ge=D[ae];q[0]=[ge[0],ge[1]],q[1]=[ge[0]+(re*D[ae+1][0]-re*D[ae-1][0])/6,ge[1]+(re*D[ae+1][1]-re*D[ae-1][1])/6],q[2]=[D[ae+1][0]+(re*D[ae][0]-re*D[ae+2][0])/6,D[ae+1][1]+(re*D[ae][1]-re*D[ae+2][1])/6],q[3]=[D[ae+1][0],D[ae+1][1]],V.push({op:"bcurveTo",data:[q[1][0],q[1][1],q[2][0],q[2][1],q[3][0],q[3][1]]})}}else M===3?(V.push({op:"move",data:[D[1][0],D[1][1]]}),V.push({op:"bcurveTo",data:[D[1][0],D[1][1],D[2][0],D[2][1],D[2][0],D[2][1]]})):M===2&&V.push(...B(D[0][0],D[0][1],D[1][0],D[1][1],d));return V}function Y(D,l,d,M,V,q,re,ae){const ge=[],Se=[];if(ae.roughness===0){D/=4,Se.push([l+M*Math.cos(-D),d+V*Math.sin(-D)]);for(let Re=0;Re<=2*Math.PI;Re+=D){const Ye=[l+M*Math.cos(Re),d+V*Math.sin(Re)];ge.push(Ye),Se.push(Ye)}Se.push([l+M*Math.cos(0),d+V*Math.sin(0)]),Se.push([l+M*Math.cos(D),d+V*Math.sin(D)])}else{const Re=z(.5,ae)-Math.PI/2;Se.push([z(q,ae)+l+.9*M*Math.cos(Re-D),z(q,ae)+d+.9*V*Math.sin(Re-D)]);const Ye=2*Math.PI+Re-.01;for(let Ge=Re;Ge<Ye;Ge+=D){const We=[z(q,ae)+l+M*Math.cos(Ge),z(q,ae)+d+V*Math.sin(Ge)];ge.push(We),Se.push(We)}Se.push([z(q,ae)+l+M*Math.cos(Re+2*Math.PI+.5*re),z(q,ae)+d+V*Math.sin(Re+2*Math.PI+.5*re)]),Se.push([z(q,ae)+l+.98*M*Math.cos(Re+re),z(q,ae)+d+.98*V*Math.sin(Re+re)]),Se.push([z(q,ae)+l+.9*M*Math.cos(Re+.5*re),z(q,ae)+d+.9*V*Math.sin(Re+.5*re)])}return[Se,ge]}function ie(D,l,d,M,V,q,re,ae,ge){const Se=q+z(.1,ge),Re=[];Re.push([z(ae,ge)+l+.9*M*Math.cos(Se-D),z(ae,ge)+d+.9*V*Math.sin(Se-D)]);for(let Ye=Se;Ye<=re;Ye+=D)Re.push([z(ae,ge)+l+M*Math.cos(Ye),z(ae,ge)+d+V*Math.sin(Ye)]);return Re.push([l+M*Math.cos(re),d+V*Math.sin(re)]),Re.push([l+M*Math.cos(re),d+V*Math.sin(re)]),A(Re,null,ge)}function le(D,l,d,M,V,q,re,ae){const ge=[],Se=[ae.maxRandomnessOffset||1,(ae.maxRandomnessOffset||1)+.3];let Re=[0,0];const Ye=ae.disableMultiStroke?1:2,Ge=ae.preserveVertices;for(let We=0;We<Ye;We++)We===0?ge.push({op:"move",data:[re[0],re[1]]}):ge.push({op:"move",data:[re[0]+(Ge?0:z(Se[0],ae)),re[1]+(Ge?0:z(Se[0],ae))]}),Re=Ge?[V,q]:[V+z(Se[We],ae),q+z(Se[We],ae)],ge.push({op:"bcurveTo",data:[D+z(Se[We],ae),l+z(Se[We],ae),d+z(Se[We],ae),M+z(Se[We],ae),Re[0],Re[1]]});return ge}function ce(D){return[...D]}function de(D,l){return Math.pow(D[0]-l[0],2)+Math.pow(D[1]-l[1],2)}function J(D,l,d){const M=de(l,d);if(M===0)return de(D,l);let V=((D[0]-l[0])*(d[0]-l[0])+(D[1]-l[1])*(d[1]-l[1]))/M;return V=Math.max(0,Math.min(1,V)),de(D,ee(l,d,V))}function ee(D,l,d){return[D[0]+(l[0]-D[0])*d,D[1]+(l[1]-D[1])*d]}function he(D,l,d,M){const V=M||[];if(function(ae,ge){const Se=ae[ge+0],Re=ae[ge+1],Ye=ae[ge+2],Ge=ae[ge+3];let We=3*Re[0]-2*Se[0]-Ge[0];We*=We;let qe=3*Re[1]-2*Se[1]-Ge[1];qe*=qe;let lt=3*Ye[0]-2*Ge[0]-Se[0];lt*=lt;let ft=3*Ye[1]-2*Ge[1]-Se[1];return ft*=ft,We<lt&&(We=lt),qe<ft&&(qe=ft),We+qe}(D,l)<d){const ae=D[l+0];V.length?(q=V[V.length-1],re=ae,Math.sqrt(de(q,re))>1&&V.push(ae)):V.push(ae),V.push(D[l+3])}else{const ae=D[l+0],ge=D[l+1],Se=D[l+2],Re=D[l+3],Ye=ee(ae,ge,.5),Ge=ee(ge,Se,.5),We=ee(Se,Re,.5),qe=ee(Ye,Ge,.5),lt=ee(Ge,We,.5),ft=ee(qe,lt,.5);he([ae,Ye,qe,ft],0,d,V),he([ft,lt,We,Re],0,d,V)}var q,re;return V}function Pe(D,l,d,M,V){const q=V||[],re=D[l],ae=D[d-1];let ge=0,Se=1;for(let Re=l+1;Re<d-1;++Re){const Ye=J(D[Re],re,ae);Ye>ge&&(ge=Ye,Se=Re)}return Math.sqrt(ge)>M?(Pe(D,l,Se+1,M,q),Pe(D,Se,d,M,q)):(q.length||q.push(re),q.push(ae)),q}function He(D,l){return Math.pow(D[0]-l[0],2)+Math.pow(D[1]-l[1],2)}function Ke(D,l,d){const M=He(l,d);if(M===0)return He(D,l);let V=((D[0]-l[0])*(d[0]-l[0])+(D[1]-l[1])*(d[1]-l[1]))/M;return V=Math.max(0,Math.min(1,V)),He(D,Ae(l,d,V))}function Ae(D,l,d){return[D[0]+(l[0]-D[0])*d,D[1]+(l[1]-D[1])*d]}function Oe(D,l,d,M){const V=M||[];if(function(ae,ge){const Se=ae[ge+0],Re=ae[ge+1],Ye=ae[ge+2],Ge=ae[ge+3];let We=3*Re[0]-2*Se[0]-Ge[0];We*=We;let qe=3*Re[1]-2*Se[1]-Ge[1];qe*=qe;let lt=3*Ye[0]-2*Ge[0]-Se[0];lt*=lt;let ft=3*Ye[1]-2*Ge[1]-Se[1];return ft*=ft,We<lt&&(We=lt),qe<ft&&(qe=ft),We+qe}(D,l)<d){const ae=D[l+0];V.length?(q=V[V.length-1],re=ae,Math.sqrt(He(q,re))>1&&V.push(ae)):V.push(ae),V.push(D[l+3])}else{const ae=D[l+0],ge=D[l+1],Se=D[l+2],Re=D[l+3],Ye=Ae(ae,ge,.5),Ge=Ae(ge,Se,.5),We=Ae(Se,Re,.5),qe=Ae(Ye,Ge,.5),lt=Ae(Ge,We,.5),ft=Ae(qe,lt,.5);Oe([ae,Ye,qe,ft],0,d,V),Oe([ft,lt,We,Re],0,d,V)}var q,re;return V}function Te(D,l){return De(D,0,D.length,l)}function De(D,l,d,M,V){const q=V||[],re=D[l],ae=D[d-1];let ge=0,Se=1;for(let Re=l+1;Re<d-1;++Re){const Ye=Ke(D[Re],re,ae);Ye>ge&&(ge=Ye,Se=Re)}return Math.sqrt(ge)>M?(De(D,l,Se+1,M,q),De(D,Se,d,M,q)):(q.length||q.push(re),q.push(ae)),q}function ke(D,l,d){const M=fe(ye(me(D))),V=[];let q=[],re=[0,0],ae=[];const ge=()=>{ae.length>=4&&q.push(...function(Ye,Ge=.15,We){const qe=[],lt=(Ye.length-1)/3;for(let ft=0;ft<lt;ft++)Oe(Ye,3*ft,Ge,qe);return We&&We>0?De(qe,0,qe.length,We):qe}(ae,l)),ae=[]},Se=()=>{ge(),q.length&&(V.push(q),q=[])};for(const{key:Ye,data:Ge}of M)switch(Ye){case"M":Se(),re=[Ge[0],Ge[1]],q.push(re);break;case"L":ge(),q.push([Ge[0],Ge[1]]);break;case"C":if(!ae.length){const We=q.length?q[q.length-1]:re;ae.push([We[0],We[1]])}ae.push([Ge[0],Ge[1]]),ae.push([Ge[2],Ge[3]]),ae.push([Ge[4],Ge[5]]);break;case"Z":ge(),q.push([re[0],re[1]])}if(Se(),!d)return V;const Re=[];for(const Ye of V){const Ge=Te(Ye,d);Ge.length&&Re.push(Ge)}return Re}const be="none";class ve{constructor(l){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=l||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,k.W)()}_o(l){return l?Object.assign({},this.defaultOptions,l):this.defaultOptions}_d(l,d,M){return{shape:l,sets:d||[],options:M||this.defaultOptions}}line(l,d,M,V,q){const re=this._o(q);return this._d("line",[L(l,d,M,V,re)],re)}rectangle(l,d,M,V,q){const re=this._o(q),ae=[],ge=I(l,d,M,V,re);if(re.fill){const Se=[[l,d],[l+M,d],[l+M,d+V],[l,d+V]];re.fillStyle==="solid"?ae.push(b([Se],re)):ae.push(s([Se],re))}return re.stroke!==be&&ae.push(ge),this._d("rectangle",ae,re)}ellipse(l,d,M,V,q){const re=this._o(q),ae=[],ge=w(M,V,re),Se=f(l,d,re,ge);if(re.fill)if(re.fillStyle==="solid"){const Re=f(l,d,re,ge).opset;Re.type="fillPath",ae.push(Re)}else ae.push(s([Se.estimatedPoints],re));return re.stroke!==be&&ae.push(Se.opset),this._d("ellipse",ae,re)}circle(l,d,M,V){const q=this.ellipse(l,d,M,M,V);return q.shape="circle",q}linearPath(l,d){const M=this._o(d);return this._d("linearPath",[F(l,!1,M)],M)}arc(l,d,M,V,q,re,ae=!1,ge){const Se=this._o(ge),Re=[],Ye=r(l,d,M,V,q,re,ae,!0,Se);if(ae&&Se.fill)if(Se.fillStyle==="solid"){const Ge=Object.assign({},Se);Ge.disableMultiStroke=!0;const We=r(l,d,M,V,q,re,!0,!1,Ge);We.type="fillPath",Re.push(We)}else Re.push(function(Ge,We,qe,lt,ft,ze,we){const Me=Ge,$e=We;let at=Math.abs(qe/2),dt=Math.abs(lt/2);at+=z(.01*at,we),dt+=z(.01*dt,we);let vt=ft,Tt=ze;for(;vt<0;)vt+=2*Math.PI,Tt+=2*Math.PI;Tt-vt>2*Math.PI&&(vt=0,Tt=2*Math.PI);const Et=(Tt-vt)/we.curveStepCount,jt=[];for(let Kt=vt;Kt<=Tt;Kt+=Et)jt.push([Me+at*Math.cos(Kt),$e+dt*Math.sin(Kt)]);return jt.push([Me+at*Math.cos(Tt),$e+dt*Math.sin(Tt)]),jt.push([Me,$e]),s([jt],we)}(l,d,M,V,q,re,Se));return Se.stroke!==be&&Re.push(Ye),this._d("arc",Re,Se)}curve(l,d){const M=this._o(d),V=[],q=P(l,M);if(M.fill&&M.fill!==be&&l.length>=3)if(M.fillStyle==="solid"){const re=P(l,Object.assign(Object.assign({},M),{disableMultiStroke:!0,roughness:M.roughness?M.roughness+M.fillShapeRoughnessGain:0}));V.push({type:"fillPath",ops:this._mergedShape(re.ops)})}else{const re=function(ge,Se=0){const Re=ge.length;if(Re<3)throw new Error("A curve must have at least three points.");const Ye=[];if(Re===3)Ye.push(ce(ge[0]),ce(ge[1]),ce(ge[2]),ce(ge[2]));else{const Ge=[];Ge.push(ge[0],ge[0]);for(let lt=1;lt<ge.length;lt++)Ge.push(ge[lt]),lt===ge.length-1&&Ge.push(ge[lt]);const We=[],qe=1-Se;Ye.push(ce(Ge[0]));for(let lt=1;lt+2<Ge.length;lt++){const ft=Ge[lt];We[0]=[ft[0],ft[1]],We[1]=[ft[0]+(qe*Ge[lt+1][0]-qe*Ge[lt-1][0])/6,ft[1]+(qe*Ge[lt+1][1]-qe*Ge[lt-1][1])/6],We[2]=[Ge[lt+1][0]+(qe*Ge[lt][0]-qe*Ge[lt+2][0])/6,Ge[lt+1][1]+(qe*Ge[lt][1]-qe*Ge[lt+2][1])/6],We[3]=[Ge[lt+1][0],Ge[lt+1][1]],Ye.push(We[1],We[2],We[3])}}return Ye}(l),ae=function(ge,Se=.15,Re){const Ye=[],Ge=(ge.length-1)/3;for(let We=0;We<Ge;We++)he(ge,3*We,Se,Ye);return Re&&Re>0?Pe(Ye,0,Ye.length,Re):Ye}(re,10,(1+M.roughness)/2);V.push(s([ae],M))}return M.stroke!==be&&V.push(q),this._d("curve",V,M)}polygon(l,d){const M=this._o(d),V=[],q=F(l,!0,M);return M.fill&&(M.fillStyle==="solid"?V.push(b([l],M)):V.push(s([l],M))),M.stroke!==be&&V.push(q),this._d("polygon",V,M)}path(l,d){const M=this._o(d),V=[];if(!l)return this._d("path",V,M);l=(l||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const q=M.fill&&M.fill!=="transparent"&&M.fill!==be,re=M.stroke!==be,ae=!!(M.simplification&&M.simplification<1),ge=ke(l,1,ae?4-4*(M.simplification||1):(1+M.roughness)/2),Se=o(l,M);if(q)if(M.fillStyle==="solid")if(ge.length===1){const Re=o(l,Object.assign(Object.assign({},M),{disableMultiStroke:!0,roughness:M.roughness?M.roughness+M.fillShapeRoughnessGain:0}));V.push({type:"fillPath",ops:this._mergedShape(Re.ops)})}else V.push(b(ge,M));else V.push(s(ge,M));return re&&(ae?ge.forEach(Re=>{V.push(F(Re,!1,M))}):V.push(Se)),this._d("path",V,M)}opsToPath(l,d){let M="";for(const V of l.ops){const q=typeof d=="number"&&d>=0?V.data.map(re=>+re.toFixed(d)):V.data;switch(V.op){case"move":M+=`M${q[0]} ${q[1]} `;break;case"bcurveTo":M+=`C${q[0]} ${q[1]}, ${q[2]} ${q[3]}, ${q[4]} ${q[5]} `;break;case"lineTo":M+=`L${q[0]} ${q[1]} `}}return M.trim()}toPaths(l){const d=l.sets||[],M=l.options||this.defaultOptions,V=[];for(const q of d){let re=null;switch(q.type){case"path":re={d:this.opsToPath(q),stroke:M.stroke,strokeWidth:M.strokeWidth,fill:be};break;case"fillPath":re={d:this.opsToPath(q),stroke:be,strokeWidth:0,fill:M.fill||be};break;case"fillSketch":re=this.fillSketch(q,M)}re&&V.push(re)}return V}fillSketch(l,d){let M=d.fillWeight;return M<0&&(M=d.strokeWidth/2),{d:this.opsToPath(l),stroke:d.fill||be,strokeWidth:M,fill:be}}_mergedShape(l){return l.filter((d,M)=>M===0||d.op!=="move")}}},8152:function(te,t,e){function _(){return Math.floor(Math.random()*2147483648)}e.d(t,{W:function(){return _},k:function(){return g}});class g{constructor(y){this.seed=y}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},9845:function(te,t,e){e.d(t,{Z:function(){return T}});var _=e(8128);class g{constructor(a,u){this.canvas=a,this.ctx=this.canvas.getContext("2d"),this.gen=new _.V(u)}draw(a){const u=a.sets||[],N=a.options||this.getDefaultOptions(),H=this.ctx,x=a.options.fixedDecimalPlaceDigits;for(const m of u)switch(m.type){case"path":H.save(),H.strokeStyle=N.stroke==="none"?"transparent":N.stroke,H.lineWidth=N.strokeWidth,N.strokeLineDash&&H.setLineDash(N.strokeLineDash),N.strokeLineDashOffset&&(H.lineDashOffset=N.strokeLineDashOffset),this._drawToContext(H,m,x),H.restore();break;case"fillPath":{H.save(),H.fillStyle=N.fill||"";const k=a.shape==="curve"||a.shape==="polygon"||a.shape==="path"?"evenodd":"nonzero";this._drawToContext(H,m,x,k),H.restore();break}case"fillSketch":this.fillSketch(H,m,N)}}fillSketch(a,u,N){let H=N.fillWeight;H<0&&(H=N.strokeWidth/2),a.save(),N.fillLineDash&&a.setLineDash(N.fillLineDash),N.fillLineDashOffset&&(a.lineDashOffset=N.fillLineDashOffset),a.strokeStyle=N.fill||"",a.lineWidth=H,this._drawToContext(a,u,N.fixedDecimalPlaceDigits),a.restore()}_drawToContext(a,u,N,H="nonzero"){a.beginPath();for(const x of u.ops){const m=typeof N=="number"&&N>=0?x.data.map(k=>+k.toFixed(N)):x.data;switch(x.op){case"move":a.moveTo(m[0],m[1]);break;case"bcurveTo":a.bezierCurveTo(m[0],m[1],m[2],m[3],m[4],m[5]);break;case"lineTo":a.lineTo(m[0],m[1])}}u.type==="fillPath"?a.fill(H):a.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(a,u,N,H,x){const m=this.gen.line(a,u,N,H,x);return this.draw(m),m}rectangle(a,u,N,H,x){const m=this.gen.rectangle(a,u,N,H,x);return this.draw(m),m}ellipse(a,u,N,H,x){const m=this.gen.ellipse(a,u,N,H,x);return this.draw(m),m}circle(a,u,N,H){const x=this.gen.circle(a,u,N,H);return this.draw(x),x}linearPath(a,u){const N=this.gen.linearPath(a,u);return this.draw(N),N}polygon(a,u){const N=this.gen.polygon(a,u);return this.draw(N),N}arc(a,u,N,H,x,m,k=!1,Q){const ue=this.gen.arc(a,u,N,H,x,m,k,Q);return this.draw(ue),ue}curve(a,u){const N=this.gen.curve(a,u);return this.draw(N),N}path(a,u){const N=this.gen.path(a,u);return this.draw(N),N}}const p="http://www.w3.org/2000/svg";class y{constructor(a,u){this.svg=a,this.gen=new _.V(u)}draw(a){const u=a.sets||[],N=a.options||this.getDefaultOptions(),H=this.svg.ownerDocument||window.document,x=H.createElementNS(p,"g"),m=a.options.fixedDecimalPlaceDigits;for(const k of u){let Q=null;switch(k.type){case"path":Q=H.createElementNS(p,"path"),Q.setAttribute("d",this.opsToPath(k,m)),Q.setAttribute("stroke",N.stroke),Q.setAttribute("stroke-width",N.strokeWidth+""),Q.setAttribute("fill","none"),N.strokeLineDash&&Q.setAttribute("stroke-dasharray",N.strokeLineDash.join(" ").trim()),N.strokeLineDashOffset&&Q.setAttribute("stroke-dashoffset",`${N.strokeLineDashOffset}`);break;case"fillPath":Q=H.createElementNS(p,"path"),Q.setAttribute("d",this.opsToPath(k,m)),Q.setAttribute("stroke","none"),Q.setAttribute("stroke-width","0"),Q.setAttribute("fill",N.fill||""),a.shape!=="curve"&&a.shape!=="polygon"||Q.setAttribute("fill-rule","evenodd");break;case"fillSketch":Q=this.fillSketch(H,k,N)}Q&&x.appendChild(Q)}return x}fillSketch(a,u,N){let H=N.fillWeight;H<0&&(H=N.strokeWidth/2);const x=a.createElementNS(p,"path");return x.setAttribute("d",this.opsToPath(u,N.fixedDecimalPlaceDigits)),x.setAttribute("stroke",N.fill||""),x.setAttribute("stroke-width",H+""),x.setAttribute("fill","none"),N.fillLineDash&&x.setAttribute("stroke-dasharray",N.fillLineDash.join(" ").trim()),N.fillLineDashOffset&&x.setAttribute("stroke-dashoffset",`${N.fillLineDashOffset}`),x}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(a,u){return this.gen.opsToPath(a,u)}line(a,u,N,H,x){const m=this.gen.line(a,u,N,H,x);return this.draw(m)}rectangle(a,u,N,H,x){const m=this.gen.rectangle(a,u,N,H,x);return this.draw(m)}ellipse(a,u,N,H,x){const m=this.gen.ellipse(a,u,N,H,x);return this.draw(m)}circle(a,u,N,H){const x=this.gen.circle(a,u,N,H);return this.draw(x)}linearPath(a,u){const N=this.gen.linearPath(a,u);return this.draw(N)}polygon(a,u){const N=this.gen.polygon(a,u);return this.draw(N)}arc(a,u,N,H,x,m,k=!1,Q){const ue=this.gen.arc(a,u,N,H,x,m,k,Q);return this.draw(ue)}curve(a,u){const N=this.gen.curve(a,u);return this.draw(N)}path(a,u){const N=this.gen.path(a,u);return this.draw(N)}}var T={canvas:(E,a)=>new g(E,a),svg:(E,a)=>new y(E,a),generator:E=>new _.V(E),newSeed:()=>_.V.newSeed()}},5714:function(te){te.exports=function(t,e,_){var g=[],p=t.length;if(p===0)return g;var y=e<0?Math.max(0,e+p):e||0;for(_!==void 0&&(p=_<0?_+p:_);p-- >y;)g[p-y]=t[p];return g}},2173:function(te,t,e){var _=e(9787),g=typeof Object.is=="function"?Object.is:function(N,H){return N===H&&(N!==0||1/N==1/H)||N!=N&&H!=H},p=_.useState,y=_.useEffect,T=_.useLayoutEffect,E=_.useDebugValue;function a(N){var H=N.getSnapshot;N=N.value;try{var x=H();return!g(N,x)}catch{return!0}}var u=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(N,H){return H()}:function(N,H){var x=H(),m=p({inst:{value:x,getSnapshot:H}}),k=m[0].inst,Q=m[1];return T(function(){k.value=x,k.getSnapshot=H,a(k)&&Q({inst:k})},[N,x,H]),y(function(){return a(k)&&Q({inst:k}),N(function(){a(k)&&Q({inst:k})})},[N]),E(x),x};t.useSyncExternalStore=_.useSyncExternalStore!==void 0?_.useSyncExternalStore:u},5917:function(te,t,e){var _=e(9787),g=e(1374),p=typeof Object.is=="function"?Object.is:function(N,H){return N===H&&(N!==0||1/N==1/H)||N!=N&&H!=H},y=g.useSyncExternalStore,T=_.useRef,E=_.useEffect,a=_.useMemo,u=_.useDebugValue;t.useSyncExternalStoreWithSelector=function(N,H,x,m,k){var Q=T(null);if(Q.current===null){var ue={hasValue:!1,value:null};Q.current=ue}else ue=Q.current;Q=a(function(){function ye(L){if(!$){if($=!0,fe=L,L=m(L),k!==void 0&&ue.hasValue){var F=ue.value;if(k(F,L))return G=F}return G=L}if(F=G,p(fe,L))return F;var I=m(L);return k!==void 0&&k(F,I)?F:(fe=L,G=I)}var fe,G,$=!1,U=x===void 0?null:x;return[function(){return ye(H())},U===null?void 0:function(){return ye(U())}]},[H,x,m,k]);var me=y(N,Q[0],Q[1]);return E(function(){ue.hasValue=!0,ue.value=me},[me]),u(me),me}},1374:function(te,t,e){te.exports=e(2173)},5668:function(te,t,e){te.exports=e(5917)},940:function(te,t,e){var _={"./ar-SA.json":[7822,2091],"./az-AZ.json":[9753,4568],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[2264,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kaa.json":[7941,663],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./km-KH.json":[5845,6566],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[6773,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[125,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[976,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[3458,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function g(p){if(!e.o(_,p))return Promise.resolve().then(function(){var E=new Error("Cannot find module '"+p+"'");throw E.code="MODULE_NOT_FOUND",E});var y=_[p],T=y[0];return Promise.all(y.slice(1).map(e.e)).then(function(){return e.t(T,19)})}g.keys=function(){return Object.keys(_)},g.id=940,te.exports=g},9713:function(te){te.exports=function(t,e,_){return e in t?Object.defineProperty(t,e,{value:_,enumerable:!0,configurable:!0,writable:!0}):t[e]=_,t}},6479:function(te,t,e){var _=e(7316);te.exports=function(g,p){if(g==null)return{};var y,T,E=_(g,p);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(g);for(T=0;T<a.length;T++)y=a[T],p.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(g,y)&&(E[y]=g[y])}return E}},7316:function(te){te.exports=function(t,e){if(t==null)return{};var _,g,p={},y=Object.keys(t);for(g=0;g<y.length;g++)_=y[g],e.indexOf(_)>=0||(p[_]=t[_]);return p}},4295:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p),T=e(1667),E=e.n(T),a=new URL(e(3940),e.b),u=new URL(e(3147),e.b),N=new URL(e(8303),e.b),H=new URL(e(1273),e.b),x=new URL(e(9577),e.b),m=new URL(e(9729),e.b),k=y()(g()),Q=E()(a),ue=E()(u),me=E()(N),ye=E()(H),fe=E()(x),G=E()(m);k.push([te.id,'@font-face{font-family:"Virgil";src:url('+Q+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+ue+');font-display:swap}@font-face{font-family:"Assistant";src:url('+me+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+ye+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+fe+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+G+");font-display:swap;font-weight:700}",""]),t.Z=k},6086:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px var(--color-surface-lowest)}.zoom-button,.undo-redo-buttons button{border-radius:0 !important;background-color:var(--color-surface-low) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),t.Z=y},3729:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:.75rem;font-weight:800;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),t.Z=y},3137:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p),T=e(1667),E=e.n(T),a=new URL(e(7984),e.b),u=new URL(e(1639),e.b),N=y()(g()),H=E()(a),x=E()(u);N.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+H+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+x+");--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-on-primary-container))}",""]),t.Z=N},4241:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),t.Z=y},6029:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),t.Z=y},4269:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p),T=e(1667),E=e.n(T),a=new URL(e(9669),e.b),u=y()(g()),N=E()(a);u.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .focus-visible-none:focus-visible{outline:none !important}.excalidraw .color-picker__heading{padding:0 .5rem;font-size:.75rem;text-align:left}.excalidraw .color-picker-container{display:grid;grid-template-columns:1fr 20px 1.625rem;padding:.25rem 0px;align-items:center}.excalidraw--mobile.excalidraw .color-picker-container{max-width:175px}.excalidraw .color-picker__top-picks{display:flex;justify-content:space-between}.excalidraw .color-picker__button{--radius: 0.25rem;padding:0;margin:0;width:1.35rem;height:1.35rem;border:1px solid var(--color-gray-30);border-radius:var(--radius);-webkit-filter:var(--theme-filter);filter:var(--theme-filter);background-color:var(--swatch-color);background-position:left center;position:relative;font-family:inherit;box-sizing:border-box}.excalidraw .color-picker__button:hover::after{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-gray-30);border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button.active .color-picker__button-outline{position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-primary-darkest);z-index:1;border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button:focus-visible{outline:none}.excalidraw .color-picker__button:focus-visible::after{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:3px solid var(--focus-highlight-color);border-radius:calc(var(--radius) + 1px)}.excalidraw .color-picker__button:focus-visible.active .color-picker__button-outline{display:none}.excalidraw .color-picker__button--large{--radius: 0.5rem;width:1.875rem;height:1.875rem}.excalidraw .color-picker__button.is-transparent{background-image:url('+N+")}.excalidraw .color-picker__button--no-focus-visible{border:0}.excalidraw .color-picker__button--no-focus-visible::after{display:none}.excalidraw .color-picker__button--no-focus-visible:focus-visible{outline:none !important}.excalidraw .color-picker__button.active-color{border-radius:calc(var(--radius) + 1px);width:1.625rem;height:1.625rem}.excalidraw .color-picker__button__hotkey-label{position:absolute;right:4px;bottom:4px;-webkit-filter:none;filter:none;font-size:11px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content{display:flex;flex-direction:column;gap:.75rem;outline:none}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, 1.875rem);grid-gap:.25rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+N+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-label{display:grid;grid-template-columns:auto 1fr auto auto;gap:8px;align-items:center;border:1px solid var(--default-border-color);border-radius:8px;padding:0 12px;margin:8px;box-sizing:border-box}.excalidraw .color-picker__input-label:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-hash{padding:0 .25rem}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;font-family:inherit;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),t.Z=u},9393:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),t.Z=y},6578:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;font-family:inherit;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:""}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),t.Z=y},9482:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}.excalidraw .Dialog__close{color:var(--color-gray-40);margin:0;position:absolute;top:.75rem;right:.5rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Dialog__close:hover{color:var(--color-gray-60)}.excalidraw .Dialog__close:active{color:var(--color-gray-40)}.excalidraw .Dialog__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Dialog__close{top:1.25rem;right:1.25rem}",""]),t.Z=y},6148:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),t.Z=y},5744:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw .ExcalidrawLogo{--logo-icon--xs: 2rem;--logo-text--xs: 1.5rem;--logo-icon--small: 2.5rem;--logo-text--small: 1.75rem;--logo-icon--normal: 3rem;--logo-text--normal: 2.2rem;--logo-icon--large: 90px;--logo-text--large: 65px;display:flex;align-items:center}.excalidraw .ExcalidrawLogo svg{flex:0 0 auto}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-icon{width:auto;color:var(--color-logo-icon)}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-text{margin-left:.75rem;width:auto;color:var(--color-logo-text)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-icon{height:var(--logo-icon--xs)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-text{height:var(--logo-text--xs)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-icon{height:var(--logo-icon--small)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-text{height:var(--logo-text--small)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-icon{height:var(--logo-icon--normal)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-text{height:var(--logo-text--normal)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-icon{height:var(--logo-icon--large)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-text{height:var(--logo-text--large)}",""]),t.Z=y},7955:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p),T=e(1667),E=e.n(T),a=new URL(e(9669),e.b),u=y()(g()),N=E()(a);u.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+N+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),t.Z=u},7522:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw .excalidraw-eye-dropper-container,.excalidraw .excalidraw-eye-dropper-backdrop{position:absolute;width:100%;height:100%;z-index:var(--zIndex-eyeDropperBackdrop);touch-action:none}.excalidraw .excalidraw-eye-dropper-container{pointer-events:none}.excalidraw .excalidraw-eye-dropper-backdrop{pointer-events:all}.excalidraw .excalidraw-eye-dropper-preview{pointer-events:none;width:3rem;height:3rem;position:fixed;z-index:var(--zIndex-eyeDropperPreview);border-radius:1rem;border:1px solid var(--default-border-color);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .excalidraw-eye-dropper-trigger{width:1.25rem;height:1.25rem;cursor:pointer;padding:4px;margin-right:-4px;margin-left:-2px;border-radius:.5rem;color:var(--icon-fill-color)}.excalidraw .excalidraw-eye-dropper-trigger:hover{background:var(--button-hover-bg)}.excalidraw .excalidraw-eye-dropper-trigger.selected{color:var(--color-primary);background:var(--color-primary-light)}",""]),t.Z=y},8960:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExcButton{--text-color: transparent;--border-color: transparent;--back-color: transparent;color:var(--text-color);background-color:var(--back-color);border-color:var(--border-color);display:flex;justify-content:center;align-items:center;flex-shrink:0;flex-wrap:nowrap;border-radius:.5rem;border-width:1px;border-style:solid;font-family:"Assistant";-webkit-user-select:none;user-select:none;transition:all 150ms ease-out}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled{--text-color: var(--color-surface-lowest);--back-color: var(--color-primary)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:hover{--back-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:active{--back-color: var(--color-brand-active)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon{--text-color: var(--color-primary);--border-color: var(--color-border-outline);--back-color: transparent}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:hover{--text-color: var(--color-brand-hover);--border-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:active{--text-color: var(--color-brand-active);--border-color: var(--color-brand-active)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled{--text-color: var(--color-danger-text);--back-color: var(--color-danger-dark)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:hover{--back-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:active{--back-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon{--text-color: var(--color-danger);--border-color: var(--color-danger);--back-color: transparent}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:hover{--text-color: var(--color-danger-darkest);--border-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:active{--text-color: var(--color-danger-darker);--border-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled{--text-color: var(--island-bg-color);--back-color: var(--color-gray-50)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:hover{--back-color: var(--color-gray-60)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:active{--back-color: var(--color-gray-80)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon{--text-color: var(--color-muted-background);--border-color: var(--color-muted);--back-color: var(--island-bg-color)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:hover{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:active{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled{--text-color: black;--back-color: var(--color-warning-dark)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:hover{--back-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:active{--back-color: var(--color-warning-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon{--text-color: var(--color-warning-dark);--border-color: var(--color-warning-dark);--back-color: var(--input-bg-color)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:hover{--text-color: var(--color-warning-darker);--border-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:active{--text-color: var(--color-warning-darkest);--border-color: var(--color-warning-darkest)}.excalidraw .ExcButton--size-large{font-weight:600;font-size:.875rem;min-height:3rem;padding:.5rem 1.5rem;gap:.75rem;letter-spacing:.4px}.excalidraw .ExcButton--size-medium{font-weight:600;font-size:.75rem;min-height:2.5rem;padding:.5rem 1rem;gap:.5rem;letter-spacing:normal}.excalidraw .ExcButton--variant-icon{padding:.5rem .75rem;width:3rem}.excalidraw .ExcButton--fullWidth{width:100%}.excalidraw .ExcButton__icon{width:1.25rem;height:1.25rem}',""]),t.Z=y},3195:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),t.Z=y},2978:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{--background: var(--color-surface-mid);display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;background-color:var(--background);padding:.625rem 1rem;border:1px solid var(--background);border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw.theme--dark.excalidraw .HelpDialog__btn{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .HelpDialog__btn:hover{--background: #363541}.excalidraw .HelpDialog__btn:hover{--background: var(--color-surface-high);text-decoration:none}.excalidraw .HelpDialog__btn:active{border-color:var(--color-primary)}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),t.Z=y},1587:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),t.Z=y},9478:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),t.Z=y},9706:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p),T=e(1667),E=e.n(T),a=new URL(e(9669),e.b),u=y()(g()),N=E()(a);u.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--ImageExportModal-preview-border: #d6d6d6}.excalidraw.theme--dark{--ImageExportModal-preview-border: #5c5c5c}.excalidraw .ImageExportModal{display:flex;flex-direction:row;justify-content:space-between}.excalidraw .ImageExportModal h3{font-family:"Assistant";font-style:normal;font-weight:700;font-size:1.313rem;line-height:130%;padding:0;margin:0}.excalidraw--mobile.excalidraw .ImageExportModal h3{display:none}.excalidraw .ImageExportModal>h3{display:none}.excalidraw--mobile.excalidraw .ImageExportModal>h3{display:block}.excalidraw--mobile.excalidraw .ImageExportModal{flex-direction:column;height:calc(100vh - 5rem)}.excalidraw .ImageExportModal__preview{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;height:360px;width:55%;margin-right:1.5rem}.excalidraw--mobile.excalidraw .ImageExportModal__preview{max-width:unset;margin-right:unset;width:100%;height:unset;flex-grow:1}.excalidraw .ImageExportModal__preview__filename>input{margin-top:1rem}.excalidraw .ImageExportModal__preview__canvas{box-sizing:border-box;width:100%;height:100%;display:flex;flex-grow:1;justify-content:center;align-items:center;background:url('+N+') left center;border:1px solid var(--ImageExportModal-preview-border);border-radius:12px;overflow:hidden;padding:1rem}.excalidraw .ImageExportModal__preview__canvas>canvas{max-width:calc(100% - 2rem);max-height:calc(100% - 2rem);-webkit-filter:none !important;filter:none !important}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas>canvas{max-height:100%}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas{margin-top:24px;max-width:unset}.excalidraw .ImageExportModal__settings{display:flex;flex-direction:column;flex-wrap:wrap;gap:18px}.excalidraw--mobile.excalidraw .ImageExportModal__settings{margin-left:unset;margin-top:1rem;flex-direction:row;gap:6px 34px;align-content:flex-start}.excalidraw .ImageExportModal__settings__setting{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.excalidraw--mobile.excalidraw .ImageExportModal__settings__setting{flex-direction:column;align-items:start;justify-content:unset;height:52px}.excalidraw .ImageExportModal__settings__setting__label{display:flex;flex-direction:row;align-items:center;font-family:"Assistant";font-weight:600;font-size:1rem;line-height:150%}.excalidraw .ImageExportModal__settings__setting__label svg{width:20px;height:20px;margin-left:10px}.excalidraw .ImageExportModal__settings__setting__content{display:flex;height:100%;align-items:center}.excalidraw .ImageExportModal__settings__buttons{flex-grow:1;flex-wrap:wrap;display:flex;flex-direction:row;gap:11px;align-items:flex-end;align-content:flex-end}.excalidraw--mobile.excalidraw .ImageExportModal__settings__buttons{padding-top:32px;flex-basis:100%;justify-content:center}',""]),t.Z=u},7369:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),t.Z=y},7930:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw .LaserToolOverlay{pointer-events:none;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:2}.excalidraw .LaserToolOverlay .LaserToolOverlayCanvas{image-rendering:auto;overflow:visible;position:absolute;top:0;left:0}",""]),t.Z=y},1434:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{padding:10px;position:absolute;bottom:0;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s;font-family:var(--ui-font);font-size:.75rem;font-weight:500;line-height:1;border-radius:var(--border-radius-lg);border:1px solid var(--default-border-color);background-color:var(--island-bg-color);color:var(--text-primary-color)}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:1rem}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:1rem}.excalidraw .layer-ui__wrapper .disable-zen-mode:hover{background-color:var(--button-hover-bg)}.excalidraw .layer-ui__wrapper .disable-zen-mode:active{border-color:var(--color-primary)}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s;pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left>*,.excalidraw .layer-ui__wrapper .footer-center>*,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),t.Z=y},8923:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,'.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-control-buttons{display:flex;align-items:center;justify-content:center;gap:.625rem;position:relative}.excalidraw .library-menu-control-buttons--at-bottom::before{content:"";width:calc(100% - 1.5rem);height:1px;position:absolute;top:-1px;background:var(--sidebar-border-color)}.excalidraw .library-menu-browse-button{flex:1;height:var(--lg-button-size);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-brand-hover)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-brand-active)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw.excalidraw--mobile .library-menu-browse-button{height:var(--default-button-size)}.excalidraw .layer-ui__library .dropdown-menu{width:auto;top:initial;right:0;left:initial;bottom:100%;margin-bottom:.625rem}.excalidraw .layer-ui__library .dropdown-menu .dropdown-menu-container{width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}.excalidraw .layer-ui__library .library-menu-dropdown-container{position:relative}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading{padding:0;position:absolute;top:1rem;right:.75rem;z-index:1}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading .dropdown-menu{top:100%}',""]),t.Z=y},6440:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{width:100%;display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;position:relative}.excalidraw .library-menu-items-container>div{padding-left:.75rem;padding-right:.75rem}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) 0;flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem;width:100%;padding-right:4rem;box-sizing:border-box}.excalidraw .library-menu-items-container__header--excal{margin-top:2rem}.excalidraw .library-menu-items-container__grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}.excalidraw .library-menu-items-private-library-container{min-height:3.75rem;width:100%}",""]),t.Z=y},5644:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit svg{pointer-events:none}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit--skeleton{opacity:.5;background:linear-gradient(-45deg, var(--color-gray-10), var(--color-gray-20), var(--color-gray-10));background-size:200% 200%;-webkit-animation:library-unit__skeleton-opacity-animation .2s linear;animation:library-unit__skeleton-opacity-animation .2s linear}.excalidraw.theme--dark .library-unit--skeleton{background-image:linear-gradient(-45deg, var(--color-gray-100), var(--color-gray-80), var(--color-gray-100))}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@-webkit-keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}@keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}",""]),t.Z=y},5830:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p),T=e(1667),E=e.n(T),a=new URL(e(9669),e.b),u=y()(g()),N=E()(a);u.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dialog-mermaid-title{margin-bottom:5px;margin-top:2px}.excalidraw .dialog-mermaid-desc{font-size:15px;font-style:italic;font-weight:500}.excalidraw .dialog-mermaid .Modal__content .Island{box-shadow:none}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid{padding:1.25rem}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:100%;max-height:750px}@media screen and (max-width: 860px){.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:auto;max-height:100%}}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island{height:100%;display:flex;flex-direction:column;flex:1 1 auto}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island .Dialog__content{display:flex;flex:1 1 auto}.excalidraw .dialog-mermaid-body{width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto;height:100%;-webkit-column-gap:4rem;column-gap:4rem}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-body{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels{display:grid;width:100%;grid-template-columns:1fr 1fr;justify-content:space-between;gap:4rem;grid-row:1;grid-column:1/3}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels label{font-size:14px;font-style:normal;font-weight:600;margin-bottom:4px;margin-left:4px}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels label{margin-top:4px}}.excalidraw .dialog-mermaid-panels-text{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels-text textarea{width:20rem;height:100%;resize:none;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color);white-space:pre-wrap;padding:.85rem;box-sizing:border-box;width:100%;font-family:monospace}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-text textarea{width:auto;height:10rem}}.excalidraw .dialog-mermaid-panels-preview-wrapper{display:flex;align-items:center;justify-content:center;padding:.85rem;box-sizing:border-box;width:100%;height:200px;flex-grow:1;position:relative;background:url("+N+') left center;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-preview-wrapper{height:400px;width:auto}}.excalidraw .dialog-mermaid-panels-preview-wrapper canvas{max-width:100%;max-height:100%}.excalidraw .dialog-mermaid-panels-preview-canvas-container{display:flex;width:100%;height:100%;align-items:center;justify-content:center;flex-grow:1}.excalidraw .dialog-mermaid-panels-preview{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels .mermaid-error{color:red;font-weight:800;font-size:30px;word-break:break-word;overflow:auto;max-height:100%;height:100%;width:100%;text-align:center;position:absolute;z-index:10}.excalidraw .dialog-mermaid-panels .mermaid-error p{font-weight:500;font-family:Cascadia;text-align:left;white-space:pre-wrap;font-size:.875rem;padding:0 10px}.excalidraw .dialog-mermaid-buttons{grid-column:2}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{font-family:"Assistant";font-weight:600;height:2.5rem;margin-top:1em;margin-bottom:.3em;width:7.5rem;font-size:12px;color:#fff;background-color:var(--color-primary)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:hover{background-color:var(--color-primary-darker)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:active{background-color:var(--color-primary-darkest)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{width:100%}}.excalidraw.theme--dark.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{color:var(--color-gray-100)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert span{padding-left:.5rem;display:flex}',""]),t.Z=u},6843:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:var(--zIndex-modal)}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2);-webkit-animation:Modal__background__fade-in .125s linear forwards;animation:Modal__background__fade-in .125s linear forwards}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}@-webkit-keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Modal{padding:0}.excalidraw .Dialog--fullscreen .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0;max-width:100%;border:0;border-radius:0}",""]),t.Z=y},9439:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .OverwriteConfirm{display:flex;flex-direction:column;align-items:center;gap:.75rem;isolation:isolate}.excalidraw .OverwriteConfirm h3{margin:0;font-weight:700;font-size:1.3125rem;line-height:130%;align-self:flex-start;color:var(--text-primary-color)}.excalidraw .OverwriteConfirm__Description{box-sizing:border-box;display:flex;flex-direction:row;align-items:center;width:100%;gap:1rem;padding:2.5rem;background:var(--color-danger-background);border-radius:.5rem;font-family:"Assistant";font-style:normal;font-weight:400;font-size:1rem;line-height:150%;color:var(--color-danger-color)}.excalidraw--mobile.excalidraw .OverwriteConfirm__Description{flex-direction:column;text-align:center}.excalidraw .OverwriteConfirm__Description__spacer{flex-grow:1}.excalidraw .OverwriteConfirm__Description__icon{box-sizing:border-box;display:flex;align-items:center;justify-content:center;border-radius:2.5rem;background:var(--color-danger-icon-background);width:3.5rem;height:3.5rem;padding:.75rem}.excalidraw .OverwriteConfirm__Description__icon svg{color:var(--color-danger-icon-color);width:1.5rem;height:1.5rem}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning{background:var(--color-warning-background);color:var(--color-warning-color)}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon{background:var(--color-warning-icon-background);flex:0 0 auto}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon svg{color:var(--color-warning-icon-color)}.excalidraw .OverwriteConfirm__Actions{display:flex;flex-direction:row;align-items:stretch;justify-items:stretch;justify-content:center;gap:1.5rem}.excalidraw--mobile.excalidraw .OverwriteConfirm__Actions{flex-direction:column}.excalidraw .OverwriteConfirm__Actions__Action{display:flex;flex-direction:column;align-items:center;padding:1.5rem;gap:.75rem;flex-basis:50%;flex-grow:0}.excalidraw .OverwriteConfirm__Actions__Action__content{height:100%;font-size:.875rem;text-align:center}.excalidraw .OverwriteConfirm__Actions__Action h4{font-weight:700;font-size:1.125rem;line-height:130%;margin:0;color:var(--text-primary-color)}',""]),t.Z=y},8461:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),t.Z=y},9935:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),t.Z=y},532:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),t.Z=y},7589:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),t.Z=y},6217:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--RadioGroup-background: var(--island-bg-color);--RadioGroup-border: var(--color-surface-high);--RadioGroup-choice-color-off: var(--color-primary);--RadioGroup-choice-color-off-hover: var(--color-brand-hover);--RadioGroup-choice-background-off: var(--island-bg-color);--RadioGroup-choice-background-off-active: var(--color-surface-high);--RadioGroup-choice-color-on: var(--color-surface-lowest);--RadioGroup-choice-background-on: var(--color-primary);--RadioGroup-choice-background-on-hover: var(--color-brand-hover);--RadioGroup-choice-background-on-active: var(--color-brand-active)}.excalidraw .RadioGroup{box-sizing:border-box;display:flex;flex-direction:row;align-items:flex-start;padding:3px;border-radius:10px;background:var(--RadioGroup-background);border:1px solid var(--RadioGroup-border)}.excalidraw .RadioGroup__choice{position:relative;display:flex;align-items:center;justify-content:center;width:32px;height:24px;color:var(--RadioGroup-choice-color-off);background:var(--RadioGroup-choice-background-off);border-radius:8px;font-family:"Assistant";font-style:normal;font-weight:600;font-size:.75rem;line-height:100%;-webkit-user-select:none;user-select:none;letter-spacing:.4px;transition:all 75ms ease-out}.excalidraw .RadioGroup__choice:hover{color:var(--RadioGroup-choice-color-off-hover)}.excalidraw .RadioGroup__choice:active{background:var(--RadioGroup-choice-background-off-active)}.excalidraw .RadioGroup__choice.active{color:var(--RadioGroup-choice-color-on);background:var(--RadioGroup-choice-background-on)}.excalidraw .RadioGroup__choice.active:hover{background:var(--RadioGroup-choice-background-on-hover)}.excalidraw .RadioGroup__choice.active:active{background:var(--RadioGroup-choice-background-on-active)}.excalidraw .RadioGroup__choice input{z-index:1;position:absolute;width:100%;height:100%;margin:0;padding:0;border-radius:8px;-webkit-appearance:none;appearance:none;cursor:pointer}',""]),t.Z=y},8208:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;padding:0;box-sizing:border-box;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);pointer-events:var(--ui-pointerEvents);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color)}:root[dir=rtl] .excalidraw .sidebar{left:0;right:auto}.excalidraw .sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem .75rem;position:relative}.excalidraw .sidebar__header::after{content:"";width:calc(100% - 1.5rem);height:1px;background:var(--sidebar-border-color);position:absolute;bottom:-1px}.excalidraw .sidebar__header__buttons{gap:0;display:flex;align-items:center;margin-left:auto}.excalidraw .sidebar__header__buttons button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));--button-bg: transparent;border:0 !important;width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .sidebar__header__buttons button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar__header__buttons button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar__header__buttons button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar__header__buttons button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar__header__buttons button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .sidebar__header__buttons button:hover{background:var(--button-hover-bg, var(--island-bg-color))}.excalidraw .sidebar__header__buttons .sidebar__dock.selected svg{stroke:var(--color-primary);fill:var(--color-primary)}.excalidraw .sidebar-tabs-root{display:flex;flex-direction:column;flex:1 1 auto;padding:1rem 0}.excalidraw .sidebar-tabs-root [role=tabpanel]{flex:1;outline:none;flex:1 1 auto;display:flex;flex-direction:column;outline:none}.excalidraw .sidebar-tabs-root [role=tabpanel][data-state=inactive]{display:none !important}.excalidraw .sidebar-tabs-root [role=tablist]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit, minmax(0, 1fr))}.excalidraw .sidebar-tabs-root>.sidebar__header{padding-top:0;padding-bottom:1rem}.excalidraw .sidebar-tab-trigger{--button-width: auto;--button-bg: transparent;--button-hover-bg: transparent;--button-active-bg: var(--color-primary);--button-hover-color: var(--color-primary);--button-hover-border: var(--color-primary)}.excalidraw .sidebar-tab-trigger[data-state=active]{--button-bg: var(--color-primary);--button-hover-bg: var(--color-primary-darker);--button-hover-color: var(--color-icon-white);--button-border: var(--color-primary);color:var(--color-icon-white)}.excalidraw .default-sidebar{display:flex;flex-direction:column}.excalidraw .default-sidebar .sidebar-triggers{display:flex;gap:0;padding:2px;margin-top:-3px;margin-bottom:-3px;border:1px solid var(--sidebar-border-color);background:var(--default-bg-color);border-radius:.625rem}.excalidraw .default-sidebar .sidebar-triggers .sidebar-tab-trigger{height:var(--lg-button-size);width:var(--lg-button-size);border:none}',""]),t.Z=y},7051:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar-trigger{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.excalidraw .sidebar-trigger svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar-trigger:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar-trigger:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar-trigger.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .sidebar-trigger svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .default-sidebar-trigger .sidebar-trigger__label{display:block}.excalidraw.excalidraw--mobile .default-sidebar-trigger .sidebar-trigger__label{display:none}",""]),t.Z=y},5892:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-animation-delay:var(--spinner-delay);animation-delay:var(--spinner-delay);-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),t.Z=y},3874:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),t.Z=y},2681:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:var(--ui-pointerEvents)}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),t.Z=y},7802:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--Switch-disabled-color: var(--color-border-outline);--Switch-disabled-toggled-background: var(--color-border-outline-variant);--Switch-disabled-border: var(--color-border-outline-variant);--Switch-track-background: var(--island-bg-color);--Switch-thumb-background: var(--color-on-surface);--Switch-hover-background: var(--color-brand-hover);--Switch-active-background: var(--color-brand-active)}.excalidraw .Switch{position:relative;box-sizing:border-box;width:40px;height:20px;border-radius:12px;transition-property:background,border;transition-duration:150ms;transition-timing-function:ease-out;background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-color)}.excalidraw .Switch:hover{background:var(--Switch-track-background);border:1px solid var(--Switch-hover-background)}.excalidraw .Switch:active{border:1px solid var(--Switch-active-background)}.excalidraw .Switch.toggled{background:var(--color-primary);border:1px solid var(--color-primary)}.excalidraw .Switch.toggled:hover{background:var(--color-primary-darker);border:1px solid var(--color-primary-darker)}.excalidraw .Switch.disabled{background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-border)}.excalidraw .Switch.disabled.toggled{background:var(--Switch-disabled-toggled-background);border:1px solid var(--Switch-disabled-toggled-background)}.excalidraw .Switch:before{content:"";box-sizing:border-box;display:block;pointer-events:none;position:absolute;border-radius:100%;transition:all 150ms ease-out;width:10px;height:10px;top:4px;left:4px;background:var(--Switch-thumb-background)}.excalidraw .Switch:active:before{width:12px}.excalidraw .Switch.toggled:before{width:14px;height:14px;left:22px;top:2px;background:var(--Switch-track-background)}.excalidraw .Switch.toggled:active:before{width:16px;left:20px}.excalidraw .Switch.disabled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch.disabled.toggled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch input{width:100%;height:100%;margin:0;border-radius:12px;-webkit-appearance:none;appearance:none;cursor:pointer}.excalidraw .Switch input:disabled{cursor:unset}',""]),t.Z=y},6759:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),t.Z=y},9650:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),t.Z=y},2044:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-on-primary-container)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-surface-primary-container);--keybinding-color: var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--button-active-border)}.excalidraw .ToolIcon .ToolIcon__icon:active svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}@media screen and (max-width: 450px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.8rem;height:1.8rem}}@media screen and (max-width: 379px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.5rem;height:1.5rem}}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .App-toolbar-container .ToolIcon__LaserPointer .ToolIcon__icon{width:var(--default-button-size);height:var(--default-button-size)}",""]),t.Z=y},9144:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .25rem}.excalidraw--mobile.excalidraw .App-toolbar__divider{margin:0}.excalidraw .App-toolbar__extra-tools-trigger{box-shadow:none;border:0;background-color:rgba(0,0,0,0)}.excalidraw .App-toolbar__extra-tools-trigger:active{background-color:var(--button-hover-bg);box-shadow:0 0 0 1px var(--button-active-border, var(--color-primary-darkest)) inset}.excalidraw .App-toolbar__extra-tools-trigger--selected,.excalidraw .App-toolbar__extra-tools-trigger--selected:hover{background:var(--color-primary-light);color:var(--color-primary)}.excalidraw .App-toolbar__extra-tools-dropdown{margin-top:.375rem;right:0;min-width:11.875rem;z-index:1}",""]),t.Z=y},6626:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:fixed;z-index:var(--zIndex-popup);padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),t.Z=y},6359:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),t.Z=y},7399:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{left:0;width:100%;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:var(--island-bg-color);max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-on-surface);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item--selected{background:var(--color-primary-light);--icon-fill-color: var(--color-primary-darker)}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item:active{background-color:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));width:var(--lg-button-size);height:var(--lg-button-size);--background: var(--color-surface-mid);background-color:var(--background)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw.theme--dark.excalidraw .dropdown-menu-button{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .dropdown-menu-button:hover{--background: #363541}.excalidraw .dropdown-menu-button:hover{--background: var(--color-surface-high);background-color:var(--background);text-decoration:none}.excalidraw .dropdown-menu-button:active{border-color:var(--color-primary)}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),t.Z=y},8793:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start;-webkit-margin-end:.6rem;margin-inline-end:.6rem}.footer-center>*{pointer-events:var(--ui-pointerEvents)}",""]),t.Z=y},3397:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);box-shadow:0 0 0 1px var(--color-surface-lowest);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),t.Z=y},4343:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),t.Z=y},1569:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw .welcome-screen-decor a{--color: var(--color-primary);color:var(--color);text-decoration:none;margin-bottom:-6px}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:var(--ui-pointerEvents);color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:1px solid rgba(0,0,0,0);padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw .welcome-screen-menu-item:hover{text-decoration:none;background:var(--button-hover-bg)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item:hover{background-color:var(--color-surface-low)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),t.Z=y},9915:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),t.Z=y},9310:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p),T=e(1667),E=e.n(T),a=new URL(e(7984),e.b),u=new URL(e(1639),e.b),N=y()(g()),H=E()(a),x=E()(u);N.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+H+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+x+');--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}:root{--zIndex-canvas: 1;--zIndex-interactiveCanvas: 2;--zIndex-wysiwyg: 3;--zIndex-layerUI: 4;--zIndex-eyeDropperBackdrop: 5;--zIndex-eyeDropperPreview: 6;--zIndex-modal: 1000;--zIndex-popup: 1001;--zIndex-toast: 999999;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top)}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw canvas.interactive{z-index:var(--zIndex-interactiveCanvas)}.excalidraw__canvas-wrapper,.excalidraw__canvas.static{pointer-events:none}.excalidraw__canvas{position:absolute}.excalidraw__embeddable{width:100%;height:100%;border:0}.excalidraw__embeddable-container{position:absolute;z-index:2;-webkit-transform-origin:top left;transform-origin:top left;pointer-events:none}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 1px var(--color-brand-hover)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:var(--ui-pointerEvents)}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-toolbar-content .dropdown-menu--mobile{bottom:55px;top:auto}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .App-menu_top>*{pointer-events:var(--ui-pointerEvents)}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;font-family:inherit;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:var(--ui-pointerEvents);font-family:inherit}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--button-active-border)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .help-icon.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .help-icon:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{border-color:var(--color-brand-hover)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;border-color:var(--color-brand-hover)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw select::-webkit-scrollbar{width:10px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{width:2rem;height:2rem;border-radius:0}.excalidraw .mobile-misc-tools-container .default-sidebar-trigger{border:0}.excalidraw .App-toolbar--mobile{overflow:visible;max-width:98vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.excalidraw .main-menu-trigger{border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low)}.excalidraw .main-menu-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .App-menu__left{--button-border: transparent;--button-bg: var(--color-surface-mid)}.excalidraw.theme--dark.excalidraw .App-menu__left{--button-hover-bg: #363541;--button-bg: var(--color-surface-high)}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}.excalidraw__embeddable-container .excalidraw__embeddable-container__inner{overflow:hidden;display:flex;align-items:center;justify-content:center;border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable__outer{width:100%;height:100%}.excalidraw__embeddable-container .excalidraw__embeddable__outer>*{border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable-hint{position:absolute;z-index:1;background:rgba(0,0,0,.5);padding:1rem 1.6rem;border-radius:12px;color:#fff;font-weight:bold;letter-spacing:.6px;font-family:"Assistant"}',""]),t.Z=N},6464:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,"",""]),y.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},t.Z=y},5260:function(te,t,e){var _=e(8081),g=e.n(_),p=e(3645),y=e.n(p)()(g());y.push([te.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),t.Z=y},3645:function(te){te.exports=function(t){var e=[];return e.toString=function(){return this.map(function(_){var g="",p=_[5]!==void 0;return _[4]&&(g+="@supports (".concat(_[4],") {")),_[2]&&(g+="@media ".concat(_[2]," {")),p&&(g+="@layer".concat(_[5].length>0?" ".concat(_[5]):""," {")),g+=t(_),p&&(g+="}"),_[2]&&(g+="}"),_[4]&&(g+="}"),g}).join("")},e.i=function(_,g,p,y,T){typeof _=="string"&&(_=[[null,_,void 0]]);var E={};if(p)for(var a=0;a<this.length;a++){var u=this[a][0];u!=null&&(E[u]=!0)}for(var N=0;N<_.length;N++){var H=[].concat(_[N]);p&&E[H[0]]||(T!==void 0&&(H[5]===void 0||(H[1]="@layer".concat(H[5].length>0?" ".concat(H[5]):""," {").concat(H[1],"}")),H[5]=T),g&&(H[2]&&(H[1]="@media ".concat(H[2]," {").concat(H[1],"}")),H[2]=g),y&&(H[4]?(H[1]="@supports (".concat(H[4],") {").concat(H[1],"}"),H[4]=y):H[4]="".concat(y)),e.push(H))}},e}},1667:function(te){te.exports=function(t,e){return e||(e={}),t&&(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},8081:function(te){te.exports=function(t){return t[1]}},7392:function(te,t,e){e.d(t,{JQ:function(){return fe},vD:function(){return me},y7:function(){return ue}});var _=e(1930),g=e(7169),p=e(9937),y=e(7651),T=e(583),E=e(4761),a=e(3474),u=e(4183),N=e(9827),H=e(2767);function x(G,$){var U=typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(!U){if(Array.isArray(G)||(U=function(f,r){if(f){if(typeof f=="string")return m(f,r);var o=Object.prototype.toString.call(f).slice(8,-1);if(o==="Object"&&f.constructor&&(o=f.constructor.name),o==="Map"||o==="Set")return Array.from(f);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return m(f,r)}}(G))||$){U&&(G=U);var L=0,F=function(){};return{s:F,n:function(){return L>=G.length?{done:!0}:{done:!1,value:G[L++]}},e:function(f){throw f},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I,P=!0,w=!1;return{s:function(){U=U.call(G)},n:function(){var f=U.next();return P=f.done,f},e:function(f){w=!0,I=f},f:function(){try{P||U.return==null||U.return()}finally{if(w)throw I}}}}function m(G,$){($==null||$>G.length)&&($=G.length);for(var U=0,L=new Array($);U<$;U++)L[U]=G[U];return L}function k(G,$){var U=Object.keys(G);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(G);$&&(L=L.filter(function(F){return Object.getOwnPropertyDescriptor(G,F).enumerable})),U.push.apply(U,L)}return U}function Q(G){for(var $=1;$<arguments.length;$++){var U=arguments[$]!=null?arguments[$]:{};$%2?k(Object(U),!0).forEach(function(L){(0,g.Z)(G,L,U[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(U)):k(Object(U)).forEach(function(L){Object.defineProperty(G,L,Object.getOwnPropertyDescriptor(U,L))})}return G}var ue=(0,H.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(G,$,U,L){return L.scene.getSelectedElements($).some(function(F){return(0,u.Xo)(F)})},perform:function(G,$,U,L){return L.scene.getSelectedElements($).forEach(function(F){var I=(0,E.WJ)(F);if(I){var P,w=(0,E.X1)(I.originalText,(0,N.mO)(I),I.lineHeight),f=w.width,r=w.height,o=w.baseline,b=(0,a.eR)(F.id);(0,a.kT)(F.id);var s=(0,E.FE)(F,I),c=s.x,S=s.y;(0,T.DR)(I,{containerId:null,width:f,height:r,baseline:o,text:I.originalText,x:c,y:S}),(0,T.DR)(F,{boundElements:(P=F.boundElements)===null||P===void 0?void 0:P.filter(function(z){return z.id!==I.id}),height:b||F.height})}}),{elements:G,appState:$,commitToHistory:!0}}}),me=(0,H.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(G,$,U,L){var F=L.scene.getSelectedElements($);if(F.length===2){var I,P=(0,y.iB)(F[0])||(0,y.iB)(F[1]);if((0,u.mG)(F[0])?I=F[0]:(0,u.mG)(F[1])&&(I=F[1]),P&&I&&(0,E.WJ)(I)===null)return!0}return!1},perform:function(G,$,U,L){var F,I,P=L.scene.getSelectedElements($);(0,y.iB)(P[0])&&(0,u.mG)(P[1])?(F=P[0],I=P[1]):(F=P[1],I=P[0]),(0,T.DR)(F,{containerId:I.id,verticalAlign:p.oX.MIDDLE,textAlign:p.I8.CENTER}),(0,T.DR)(I,{boundElements:(I.boundElements||[]).concat({type:"text",id:F.id})});var w=I.height;return(0,E.oN)(F,I),(0,a.h_)(I.id,w),{elements:ye(G,I,F),appState:Q(Q({},$),{},{selectedElementIds:(0,g.Z)({},I.id,!0)}),commitToHistory:!0}}}),ye=function(G,$,U){var L=G.slice(),F=L.findIndex(function(P){return P.id===U.id});L.splice(F,1);var I=L.findIndex(function(P){return P.id===$.id});return L.splice(I+1,0,U),L},fe=(0,H.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(G,$,U,L){var F=L.scene.getSelectedElements($),I=F.every(function(P){return(0,y.iB)(P)});return F.length>0&&I},perform:function(G,$,U,L){var F,I=L.scene.getSelectedElements($),P=G.slice(),w={},f=x(I);try{var r=function(){var o=F.value;if((0,y.iB)(o)){var b,s=(0,y.Up)({type:"rectangle",backgroundColor:$.currentItemBackgroundColor,boundElements:[].concat((0,_.Z)(o.boundElements||[]),[{id:o.id,type:"text"}]),angle:o.angle,fillStyle:$.currentItemFillStyle,strokeColor:$.currentItemStrokeColor,roughness:$.currentItemRoughness,strokeWidth:$.currentItemStrokeWidth,strokeStyle:$.currentItemStrokeStyle,roundness:$.currentItemRoundness==="round"?{type:(0,u.QI)("rectangle")?p.a6.ADAPTIVE_RADIUS:p.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:o.x-p.gK,y:o.y-p.gK,width:(0,E.NS)(o.width,"rectangle"),height:(0,E.NS)(o.height,"rectangle"),groupIds:o.groupIds,frameId:o.frameId});if((b=o.boundElements)!==null&&b!==void 0&&b.length){var c=o.boundElements.filter(function(S){return S.type==="arrow"}).map(function(S){return S.id});P.filter(function(S){return c.includes(S.id)}).forEach(function(S){var z,B,j=S.startBinding,C=S.endBinding;((z=j)===null||z===void 0?void 0:z.elementId)===o.id&&(j=Q(Q({},j),{},{elementId:s.id})),((B=C)===null||B===void 0?void 0:B.elementId)===o.id&&(C=Q(Q({},C),{},{elementId:s.id})),(j||C)&&(0,T.DR)(S,{startBinding:j,endBinding:C},!1)})}(0,T.DR)(o,{containerId:s.id,verticalAlign:p.oX.MIDDLE,boundElements:null,textAlign:p.I8.CENTER},!1),(0,E.oN)(o,s),P=function(S,z,B){var j=S.slice(),C=j.findIndex(function(Y){return Y.id===z.id});j.splice(C,1);var A=j.findIndex(function(Y){return Y.id===B.id});return j.splice(A,0,z),j}([].concat((0,_.Z)(P),[s]),s,o),w[s.id]=!0}};for(f.s();!(F=f.n()).done;)r()}catch(o){f.e(o)}finally{f.f()}return{elements:P,appState:Q(Q({},$),{},{selectedElementIds:w}),commitToHistory:!0}}})},6006:function(te,t,e){e.d(t,{CZ:function(){return P},JB:function(){return w},Lo:function(){return I},Zp:function(){return f},eF:function(){return r},mo:function(){return F}});var _=e(2577),g=e(7169),p=e(193),y=e(8935),T=e(1512),E=e(9937),a=e(7651),u=e(8227),N=e(5491),H=e(4105),x=e(2382),m=e(4116),k=e(9827),Q=e(2767),ue=e(8925),me=e(583),ye=e(6853),fe=e(9240),G=e(7652),$=e(1020);function U(o,b){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);b&&(c=c.filter(function(S){return Object.getOwnPropertyDescriptor(o,S).enumerable})),s.push.apply(s,c)}return s}function L(o){for(var b=1;b<arguments.length;b++){var s=arguments[b]!=null?arguments[b]:{};b%2?U(Object(s),!0).forEach(function(c){(0,g.Z)(o,c,s[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):U(Object(s)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(s,c))})}return o}(0,Q.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(o,b,s,c){return!!c.props.UIOptions.canvasActions.changeViewBackgroundColor&&!b.viewModeEnabled},perform:function(o,b,s){return{appState:L(L({},b),s),commitToHistory:!!s.viewBackgroundColor}},PanelComponent:function(o){var b=o.elements,s=o.appState,c=o.updateData;return o.appProps,(0,$.jsx)(p.z,{palette:null,topPicks:fe.ay,label:(0,u.t)("labels.canvasBackground"),type:"canvasBackground",color:s.viewBackgroundColor,onChange:function(S){return c({viewBackgroundColor:S})},"data-testid":"canvas-background-picker",elements:b,appState:s,updateData:c})}});var F=(0,Q.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(o,b,s,c){return!!c.props.UIOptions.canvasActions.clearCanvas&&!b.viewModeEnabled},perform:function(o,b,s,c){return c.imageCache.clear(),{elements:o.map(function(S){return(0,me.BE)(S,{isDeleted:!0})}),appState:L(L({},(0,ye.im)()),{},{files:{},theme:b.theme,penMode:b.penMode,penDetected:b.penDetected,exportBackground:b.exportBackground,exportEmbedScene:b.exportEmbedScene,gridSize:b.gridSize,showStats:b.showStats,pasteDialog:b.pasteDialog,activeTool:b.activeTool.type==="image"?L(L({},b.activeTool),{},{type:"selection"}):b.activeTool}),commitToHistory:!0}}}),I=(0,Q.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,b,s,c){return{appState:L(L({},b),(0,m.E)({viewportX:b.width/2+b.offsetLeft,viewportY:b.height/2+b.offsetTop,nextZoom:(0,H.j)(b.zoom.value+E.V4)},b)),commitToHistory:!1}},PanelComponent:function(o){var b=o.updateData;return(0,$.jsx)(T.V,{type:"button",className:"zoom-in-button zoom-button",icon:y.Sd,title:"".concat((0,u.t)("buttons.zoomIn"),"  ").concat((0,k.uY)("CtrlOrCmd++")),"aria-label":(0,u.t)("buttons.zoomIn"),onClick:function(){b(null)}})},keyTest:function(o){return(o.code===N.aU.EQUAL||o.code===N.aU.NUM_ADD)&&(o[N.tW.CTRL_OR_CMD]||o.shiftKey)}}),P=(0,Q.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,b,s,c){return{appState:L(L({},b),(0,m.E)({viewportX:b.width/2+b.offsetLeft,viewportY:b.height/2+b.offsetTop,nextZoom:(0,H.j)(b.zoom.value-E.V4)},b)),commitToHistory:!1}},PanelComponent:function(o){var b=o.updateData;return(0,$.jsx)(T.V,{type:"button",className:"zoom-out-button zoom-button",icon:y.xL,title:"".concat((0,u.t)("buttons.zoomOut"),"  ").concat((0,k.uY)("CtrlOrCmd+-")),"aria-label":(0,u.t)("buttons.zoomOut"),onClick:function(){b(null)}})},keyTest:function(o){return(o.code===N.aU.MINUS||o.code===N.aU.NUM_SUBTRACT)&&(o[N.tW.CTRL_OR_CMD]||o.shiftKey)}}),w=((0,Q.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,b,s,c){return{appState:L(L({},b),(0,m.E)({viewportX:b.width/2+b.offsetLeft,viewportY:b.height/2+b.offsetTop,nextZoom:(0,H.j)(1)},b)),commitToHistory:!1}},PanelComponent:function(o){var b=o.updateData,s=o.appState;return(0,$.jsx)(ue.u,{label:(0,u.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,$.jsxs)(T.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,u.t)("buttons.resetZoom"),"aria-label":(0,u.t)("buttons.resetZoom"),onClick:function(){b(null)},children:[(100*s.zoom.value).toFixed(0),"%"]})})},keyTest:function(o){return(o.code===N.aU.ZERO||o.code===N.aU.NUM_ZERO)&&(o[N.tW.CTRL_OR_CMD]||o.shiftKey)}}),function(o){var b,s,c,S=o.targetElements,z=o.appState,B=o.fitToViewport,j=B!==void 0&&B,C=o.viewportZoomFactor,A=C===void 0?.7:C,Y=(0,a.KP)((0,a.Lm)(S)),ie=(0,_.Z)(Y,4),le=ie[0],ce=ie[1],de=ie[2],J=ie[3],ee=(le+de)/2,he=(ce+J)/2;if(j){var Pe=de-le,He=J-ce;b=Math.min(z.width/Pe,z.height/He)*Math.min(1,Math.max(A,.1)),b=Math.min(Math.max(b,.1),30),s=z.width/2*(1/b)-ee,c=z.height/2*(1/b)-he}else{b=function(Ae,Oe){var Te=(0,_.Z)(Ae,4),De=Te[0],ke=Te[1],be=Te[2],ve=Te[3],D=be-De,l=Oe.width/D,d=ve-ke,M=Oe.height/d,V=Math.min(l,M),q=Math.floor(V/E.V4)*E.V4;return Math.min(Math.max(q,E.Zj),1)}(Y,{width:z.width,height:z.height});var Ke=(0,x.s)({scenePoint:{x:ee,y:he},viewportDimensions:{width:z.width,height:z.height},zoom:{value:b}});s=Ke.scrollX,c=Ke.scrollY}return{appState:L(L({},z),{},{scrollX:s,scrollY:c,zoom:{value:b}}),commitToHistory:!1}}),f=((0,Q.z)({name:"zoomToFitSelectionInViewport",trackEvent:{category:"canvas"},perform:function(o,b,s,c){var S=c.scene.getSelectedElements(b);return w({targetElements:S.length?S:o,appState:b,fitToViewport:!1})},keyTest:function(o){return o.code===N.aU.TWO&&o.shiftKey&&!o.altKey&&!o[N.tW.CTRL_OR_CMD]}}),(0,Q.z)({name:"zoomToFitSelection",trackEvent:{category:"canvas"},perform:function(o,b,s,c){var S=c.scene.getSelectedElements(b);return w({targetElements:S.length?S:o,appState:b,fitToViewport:!0})},keyTest:function(o){return o.code===N.aU.THREE&&o.shiftKey&&!o.altKey&&!o[N.tW.CTRL_OR_CMD]}}),(0,Q.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,b){return w({targetElements:o,appState:b,fitToViewport:!1})},keyTest:function(o){return o.code===N.aU.ONE&&o.shiftKey&&!o.altKey&&!o[N.tW.CTRL_OR_CMD]}}),(0,Q.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(o,b,s){return{appState:L(L({},b),{},{theme:s||(b.theme===E.C6.LIGHT?E.C6.DARK:E.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(o){return o.altKey&&o.shiftKey&&o.code===N.aU.D},predicate:function(o,b,s,c){return!!c.props.UIOptions.canvasActions.toggleTheme}})),r=((0,Q.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(o,b){var s;return s=(0,ye.EN)(b)?(0,k.Om)(b,L(L({},b.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,k.Om)(b,{type:"eraser",lastActiveToolBeforeEraser:b.activeTool}),{appState:L(L({},b),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:s}),commitToHistory:!0}},keyTest:function(o){return o.key===N.tW.E}}),(0,Q.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(o,b,s,c){var S;return(0,ye.l$)(b)?S=(0,k.Om)(b,L(L({},b.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(S=(0,k.Om)(b,{type:"hand",lastActiveToolBeforeEraser:b.activeTool}),(0,G.KJ)(c.interactiveCanvas,E.oc.GRAB)),{appState:L(L({},b),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:S}),commitToHistory:!0}},keyTest:function(o){return!o.altKey&&!o[N.tW.CTRL_OR_CMD]&&o.key===N.tW.H}}))},5047:function(te,t,e){e.d(t,{FA:function(){return L},ZM:function(){return U},jK:function(){return F},uN:function(){return G},yQ:function(){return $},zp:function(){return I}});var _=e(7169),g=e(8950),p=e(2975),y=e.n(p),T=e(5491),E=e(2767),a=e(4694),u=e(2448),N=e(2435),H=e(7651),x=e(8227),m=e(9937);function k(P,w){var f=Object.keys(P);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(P);w&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(P,o).enumerable})),f.push.apply(f,r)}return f}function Q(P){for(var w=1;w<arguments.length;w++){var f=arguments[w]!=null?arguments[w]:{};w%2?k(Object(f),!0).forEach(function(r){(0,_.Z)(P,r,f[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(f)):k(Object(f)).forEach(function(r){Object.defineProperty(P,r,Object.getOwnPropertyDescriptor(f,r))})}return P}var ue,me,ye,fe,G=(0,E.z)({name:"copy",trackEvent:{category:"element"},perform:(ue=(0,g.Z)(y().mark(function P(w,f,r,o){var b;return y().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return b=o.scene.getSelectedElements({selectedElementIds:f.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),s.prev=1,s.next=4,(0,a.vQ)(b,o.files,r);case 4:s.next=9;break;case 6:return s.prev=6,s.t0=s.catch(1),s.abrupt("return",{commitToHistory:!1,appState:Q(Q({},f),{},{errorMessage:s.t0.message})});case 9:return s.abrupt("return",{commitToHistory:!1});case 10:case"end":return s.stop()}},P,null,[[1,6]])})),function(P,w,f,r){return ue.apply(this,arguments)}),contextItemLabel:"labels.copy",keyTest:void 0}),$=(0,E.z)({name:"paste",trackEvent:{category:"element"},perform:(me=(0,g.Z)(y().mark(function P(w,f,r,o){var b;return y().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,a.Se)();case 3:b=s.sent,s.next=14;break;case 6:if(s.prev=6,s.t0=s.catch(0),s.t0.name!=="AbortError"&&s.t0.name!=="NotAllowedError"){s.next=10;break}return s.abrupt("return",!1);case 10:if(console.error("actionPaste ".concat(s.t0.name,": ").concat(s.t0.message)),!m.vU){s.next=13;break}return s.abrupt("return",{commitToHistory:!1,appState:Q(Q({},f),{},{errorMessage:(0,x.t)("hints.firefox_clipboard_write")})});case 13:return s.abrupt("return",{commitToHistory:!1,appState:Q(Q({},f),{},{errorMessage:(0,x.t)("errors.asyncPasteFailedOnRead")})});case 14:s.prev=14,o.pasteFromClipboard((0,a.OO)({types:b})),s.next=22;break;case 18:return s.prev=18,s.t1=s.catch(14),console.error(s.t1),s.abrupt("return",{commitToHistory:!1,appState:Q(Q({},f),{},{errorMessage:(0,x.t)("errors.asyncPasteFailedOnParse")})});case 22:return s.abrupt("return",{commitToHistory:!1});case 23:case"end":return s.stop()}},P,null,[[0,6],[14,18]])})),function(P,w,f,r){return me.apply(this,arguments)}),contextItemLabel:"labels.paste",keyTest:void 0}),U=(0,E.z)({name:"cut",trackEvent:{category:"element"},perform:function(P,w,f,r){return G.perform(P,w,f,r),u.X.perform(P,w)},contextItemLabel:"labels.cut",keyTest:function(P){return P[T.tW.CTRL_OR_CMD]&&P.key===T.tW.X}}),L=(0,E.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(ye=(0,g.Z)(y().mark(function P(w,f,r,o){var b,s,c;return y().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(o.canvas){S.next=2;break}return S.abrupt("return",{commitToHistory:!1});case 2:return b=(0,N.HD)(w,f,!0),s=b.exportedElements,c=b.exportingFrame,S.prev=3,S.next=6,(0,N.p1)("clipboard-svg",s,f,o.files,Q(Q({},f),{},{exportingFrame:c}));case 6:return S.abrupt("return",{commitToHistory:!1});case 9:return S.prev=9,S.t0=S.catch(3),console.error(S.t0),S.abrupt("return",{appState:Q(Q({},f),{},{errorMessage:S.t0.message}),commitToHistory:!1});case 13:case"end":return S.stop()}},P,null,[[3,9]])})),function(P,w,f,r){return ye.apply(this,arguments)}),predicate:function(P){return a.wx&&P.length>0},contextItemLabel:"labels.copyAsSvg"}),F=(0,E.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(fe=(0,g.Z)(y().mark(function P(w,f,r,o){var b,s,c,S;return y().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(o.canvas){z.next=2;break}return z.abrupt("return",{commitToHistory:!1});case 2:return b=o.scene.getSelectedElements({selectedElementIds:f.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),s=(0,N.HD)(w,f,!0),c=s.exportedElements,S=s.exportingFrame,z.prev=4,z.next=7,(0,N.p1)("clipboard",c,f,o.files,Q(Q({},f),{},{exportingFrame:S}));case 7:return z.abrupt("return",{appState:Q(Q({},f),{},{toast:{message:(0,x.t)("toast.copyToClipboardAsPng",{exportSelection:b.length?(0,x.t)("toast.selection"):(0,x.t)("toast.canvas"),exportColorScheme:f.exportWithDarkMode?(0,x.t)("buttons.darkMode"):(0,x.t)("buttons.lightMode")})}}),commitToHistory:!1});case 10:return z.prev=10,z.t0=z.catch(4),console.error(z.t0),z.abrupt("return",{appState:Q(Q({},f),{},{errorMessage:z.t0.message}),commitToHistory:!1});case 14:case"end":return z.stop()}},P,null,[[4,10]])})),function(P,w,f,r){return fe.apply(this,arguments)}),predicate:function(P){return a.vt&&P.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(P){return P.code===T.aU.C&&P.altKey&&P.shiftKey}}),I=(0,E.z)({name:"copyText",trackEvent:{category:"element"},perform:function(P,w,f,r){var o=r.scene.getSelectedElements({selectedElementIds:w.selectedElementIds,includeBoundTextElement:!0}).reduce(function(b,s){return(0,H.iB)(s)&&b.push(s.text),b},[]).join(`

`);return(0,a.dd)(o),{commitToHistory:!1}},predicate:function(P,w,f,r){return a.wx&&r.scene.getSelectedElements({selectedElementIds:w.selectedElementIds,includeBoundTextElement:!0}).some(H.iB)},contextItemLabel:"labels.copyText"})},2448:function(te,t,e){e.d(t,{X:function(){return G}});var _=e(7169),g=e(4105),p=e(5491),y=e(1512),T=e(8227),E=e(2767),a=e(7651),u=e(583),N=e(9215),H=e(7422),x=e(9645),m=e(4183),k=e(9827),Q=e(8935),ue=e(1020);function me($,U){var L=Object.keys($);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols($);U&&(F=F.filter(function(I){return Object.getOwnPropertyDescriptor($,I).enumerable})),L.push.apply(L,F)}return L}function ye($){for(var U=1;U<arguments.length;U++){var L=arguments[U]!=null?arguments[U]:{};U%2?me(Object(L),!0).forEach(function(F){(0,_.Z)($,F,L[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(L)):me(Object(L)).forEach(function(F){Object.defineProperty($,F,Object.getOwnPropertyDescriptor(L,F))})}return $}var fe=function($,U){if($.editingGroupId){var L=(0,N.Fb)((0,a.Lm)(U),$.editingGroupId);if(L.length)return ye(ye({},$),{},{selectedElementIds:(0,_.Z)({},L[0].id,!0)})}return $},G=(0,E.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function($,U){if(U.editingLinearElement){var L=U.editingLinearElement,F=L.elementId,I=L.selectedPointsIndices,P=L.startBindingElement,w=L.endBindingElement,f=H._.getElement(F);if(!f||I==null)return!1;if(f.points.length<2){var r=$.map(function(S){return S.id===f.id?(0,u.BE)(S,{isDeleted:!0}):S});return{elements:r,appState:ye(ye({},fe(U,r)),{},{editingLinearElement:null}),commitToHistory:!1}}var o={startBindingElement:I!=null&&I.includes(0)?null:P,endBindingElement:I!=null&&I.includes(f.points.length-1)?null:w};return H._.deletePoints(f,I),{elements:$,appState:ye(ye({},U),{},{editingLinearElement:ye(ye(ye({},U.editingLinearElement),o),{},{selectedPointsIndices:I?.[0]>0?[I[0]-1]:[0]})}),commitToHistory:!0}}var b=function(S,z){var B=new Set((0,g.eD)(S.filter(function(j){return j.type==="frame"}),z).map(function(j){return j.id}));return{elements:S.map(function(j){return z.selectedElementIds[j.id]||j.frameId&&B.has(j.frameId)||(0,m.Xh)(j)&&z.selectedElementIds[j.containerId]?(0,u.BE)(j,{isDeleted:!0}):j}),appState:ye(ye({},z),{},{selectedElementIds:{},selectedGroupIds:{}})}}($,U),s=b.elements,c=b.appState;return(0,x.$q)(s,$.filter(function(S){var z=S.id;return U.selectedElementIds[z]})),{elements:s,appState:ye(ye({},c=fe(c,s)),{},{activeTool:(0,k.Om)(U,{type:"selection"}),multiElement:null,activeEmbeddable:null}),commitToHistory:(0,g.N)((0,a.Lm)($),U)}},contextItemLabel:"labels.delete",keyTest:function($,U,L){return($.key===p.tW.BACKSPACE||$.key===p.tW.DELETE)&&!$[p.tW.CTRL_OR_CMD]},PanelComponent:function($){var U=$.elements,L=$.appState,F=$.updateData;return(0,ue.jsx)(y.V,{type:"button",icon:Q.XH,title:(0,T.t)("labels.delete"),"aria-label":(0,T.t)("labels.delete"),onClick:function(){return F(null)},visible:(0,g.N)((0,a.Lm)(U),L)})}})},9672:function(te,t,e){e.d(t,{$:function(){return N},U:function(){return H}});var _=e(7169),g=e(583),p=e(5491),y=e(9827),T=e(2767);function E(x,m){var k=Object.keys(x);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(x);m&&(Q=Q.filter(function(ue){return Object.getOwnPropertyDescriptor(x,ue).enumerable})),k.push.apply(k,Q)}return k}function a(x){for(var m=1;m<arguments.length;m++){var k=arguments[m]!=null?arguments[m]:{};m%2?E(Object(k),!0).forEach(function(Q){(0,_.Z)(x,Q,k[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(k)):E(Object(k)).forEach(function(Q){Object.defineProperty(x,Q,Object.getOwnPropertyDescriptor(k,Q))})}return x}var u=function(x){return x.every(function(m){return!m.locked})},N=(0,T.z)({name:"toggleElementLock",trackEvent:{category:"element"},predicate:function(x,m,k,Q){return!Q.scene.getSelectedElements(m).some(function(ue){return ue.locked&&ue.frameId})},perform:function(x,m,k,Q){var ue=Q.scene.getSelectedElements({selectedElementIds:m.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!ue.length)return!1;var me=u(ue),ye=(0,y.xn)(ue);return{elements:x.map(function(fe){return ye.has(fe.id)?(0,g.BE)(fe,{locked:me}):fe}),appState:a(a({},m),{},{selectedLinearElement:me?null:m.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(x,m,k){var Q=k.scene.getSelectedElements({selectedElementIds:m.selectedElementIds,includeBoundTextElement:!1});return Q.length===1&&Q[0].type!=="frame"?Q[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":u(Q)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(x,m,k,Q){return x.key.toLocaleLowerCase()===p.tW.L&&x[p.tW.CTRL_OR_CMD]&&x.shiftKey&&Q.scene.getSelectedElements({selectedElementIds:m.selectedElementIds,includeBoundTextElement:!1}).length>0}}),H=(0,T.z)({name:"unlockAllElements",trackEvent:{category:"canvas"},viewMode:!1,predicate:function(x){return x.some(function(m){return m.locked})},perform:function(x,m){var k=x.filter(function(Q){return Q.locked});return{elements:x.map(function(Q){return Q.locked?(0,g.BE)(Q,{locked:!1}):Q}),appState:a(a({},m),{},{selectedElementIds:Object.fromEntries(k.map(function(Q){return[Q.id,!0]}))}),commitToHistory:!0}},contextItemLabel:"labels.elementLock.unlockAll"})},4406:function(te,t,e){e.d(t,{XA:function(){return De},Du:function(){return ke},sK:function(){return Te},zX:function(){return Oe},bJ:function(){return l},_d:function(){return D},mM:function(){return ve},ns:function(){return be}});var _=e(8950),g=e(2577),p=e(7169),y=e(2975),T=e.n(y),E=e(8935),a=e(3379),u=e.n(a),N=e(7795),H=e.n(N),x=e(569),m=e.n(x),k=e(3565),Q=e.n(k),ue=e(9216),me=e.n(ue),ye=e(4589),fe=e.n(ye),G=e(6759),$={};$.styleTagTransform=fe(),$.setAttributes=Q(),$.insert=m().bind(null,"head"),$.domAPI=H(),$.insertStyleElement=me(),u()(G.Z,$),G.Z&&G.Z.locals&&G.Z.locals;var U=e(9787),L=e(9827),F=e(532),I={};I.styleTagTransform=fe(),I.setAttributes=Q(),I.insert=m().bind(null,"head"),I.domAPI=H(),I.insertStyleElement=me(),u()(F.Z,I),F.Z&&F.Z.locals&&F.Z.locals;var P=e(8242),w=e(5491),f=e(1020),r=function(d){var M=(0,P.J0)().id,V=(0,U.useState)(d.value),q=(0,g.Z)(V,2),re=q[0],ae=q[1];return(0,f.jsxs)("div",{className:"ProjectName",children:[(0,f.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(d.label).concat(d.isNameEditable?"":":")}),d.isNameEditable?(0,f.jsx)("input",{type:"text",className:"TextInput",onBlur:function(ge){d.ignoreFocus||(0,L.qz)(ge.target);var Se=ge.target.value;Se!==d.value&&d.onChange(Se)},onKeyDown:function(ge){if(ge.key===w.tW.ENTER){if(ge.preventDefault(),ge.nativeEvent.isComposing||ge.keyCode===229)return;ge.currentTarget.blur()}},id:"".concat(M,"-filename"),value:re,onChange:function(ge){return ae(ge.target.value)}}):(0,f.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(M,"-filename"),children:d.value})]})},o=e(1512),b=e(8925),s=(e(3041),e(8227)),c=e(9937),S=function(d){var M=d.title||(d.value==="dark"?(0,s.t)("buttons.lightMode"):(0,s.t)("buttons.darkMode"));return(0,f.jsx)(o.V,{type:"icon",icon:d.value===c.C6.LIGHT?z.MOON:z.SUN,title:M,"aria-label":M,onClick:function(){return d.onChange(d.value===c.C6.DARK?c.C6.LIGHT:c.C6.DARK)},"data-testid":"toggle-dark-mode"})},z={SUN:(0,f.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,f.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,f.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,f.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},B=e(2435),j=e(5796);function C(d,M){var V=Object.keys(d);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(d);M&&(q=q.filter(function(re){return Object.getOwnPropertyDescriptor(d,re).enumerable})),V.push.apply(V,q)}return V}function A(d){for(var M=1;M<arguments.length;M++){var V=arguments[M]!=null?arguments[M]:{};M%2?C(Object(V),!0).forEach(function(q){(0,p.Z)(d,q,V[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(V)):C(Object(V)).forEach(function(q){Object.defineProperty(d,q,Object.getOwnPropertyDescriptor(V,q))})}return d}var Y=function(){var d=(0,_.Z)(T().mark(function M(V,q,re){var ae,ge,Se,Re,Ye,Ge,We,qe,lt;return T().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(ge=(ae=q).exportBackground,Se=ae.viewBackgroundColor,Re=ae.name,Ye=ae.fileHandle,Ge=(0,j.Qk)(Ye),Ye&&(0,j.DQ)(Ge)){ft.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return q=A(A({},q),{},{exportEmbedScene:!0}),We=(0,B.HD)(V,q,!1),qe=We.exportedElements,lt=We.exportingFrame,ft.next=8,(0,B.p1)(Ge,qe,q,re,{exportBackground:ge,viewBackgroundColor:Se,name:Re,fileHandle:Ye,exportingFrame:lt});case 8:return ft.abrupt("return",{fileHandle:Ye});case 9:case"end":return ft.stop()}},M)}));return function(M,V,q){return d.apply(this,arguments)}}(),ie=e(2767),le=e(6238),ce=e(3668),de=e(4105),J=e(7651),ee=e(6548);function he(d,M){var V=Object.keys(d);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(d);M&&(q=q.filter(function(re){return Object.getOwnPropertyDescriptor(d,re).enumerable})),V.push.apply(V,q)}return V}function Pe(d){for(var M=1;M<arguments.length;M++){var V=arguments[M]!=null?arguments[M]:{};M%2?he(Object(V),!0).forEach(function(q){(0,p.Z)(d,q,V[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(V)):he(Object(V)).forEach(function(q){Object.defineProperty(d,q,Object.getOwnPropertyDescriptor(V,q))})}return d}var He,Ke,Ae,Oe=(0,ie.z)({name:"changeProjectName",trackEvent:!1,perform:function(d,M,V){return{appState:Pe(Pe({},M),{},{name:V}),commitToHistory:!1}},PanelComponent:function(d){var M,V=d.appState,q=d.updateData,re=d.appProps,ae=d.data;return(0,f.jsx)(r,{label:(0,s.t)("labels.fileTitle"),value:V.name||"Unnamed",onChange:function(ge){return q(ge)},isNameEditable:re.name===void 0&&!V.viewModeEnabled,ignoreFocus:(M=ae?.ignoreFocus)!==null&&M!==void 0&&M})}}),Te=(0,ie.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(d,M,V){return{appState:Pe(Pe({},M),{},{exportScale:V}),commitToHistory:!1}},PanelComponent:function(d){var M=d.elements,V=d.appState,q=d.updateData,re=(0,J.Lm)(M),ae=(0,de.N)(re,V)?(0,de.eD)(re,V):re;return(0,f.jsx)(f.Fragment,{children:c.ZB.map(function(ge){var Se=(0,ce.Cg)(ae,c.qy,ge),Re=(0,g.Z)(Se,2),Ye=Re[0],Ge=Re[1],We="".concat((0,s.t)("imageExportDialog.label.scale")," ").concat(ge,"x (").concat(Ye,"x").concat(Ge,")");return(0,f.jsx)(o.V,{size:"small",type:"radio",icon:"".concat(ge,"x"),name:"export-canvas-scale",title:We,"aria-label":We,id:"export-canvas-scale",checked:ge===V.exportScale,onChange:function(){return q(ge)}},ge)})})}}),De=(0,ie.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(d,M,V){return{appState:Pe(Pe({},M),{},{exportBackground:V}),commitToHistory:!1}},PanelComponent:function(d){var M=d.appState,V=d.updateData;return(0,f.jsx)(le.o,{checked:M.exportBackground,onChange:function(q){return V(q)},children:(0,s.t)("imageExportDialog.label.withBackground")})}}),ke=(0,ie.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(d,M,V){return{appState:Pe(Pe({},M),{},{exportEmbedScene:V}),commitToHistory:!1}},PanelComponent:function(d){var M=d.appState,V=d.updateData;return(0,f.jsxs)(le.o,{checked:M.exportEmbedScene,onChange:function(q){return V(q)},children:[(0,s.t)("imageExportDialog.label.embedScene"),(0,f.jsx)(b.u,{label:(0,s.t)("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,f.jsx)("div",{className:"excalidraw-tooltip-icon",children:E.Vl})})]})}}),be=(0,ie.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(d,M,V,q){return!!q.props.UIOptions.canvasActions.saveToActiveFile&&!!M.fileHandle&&!M.viewModeEnabled},perform:(He=(0,_.Z)(T().mark(function d(M,V,q,re){var ae,ge,Se;return T().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(ae=!!V.fileHandle,Re.prev=1,!(0,j.g8)(V.fileHandle)){Re.next=8;break}return Re.next=5,Y(M,V,re.files);case 5:Re.t0=Re.sent,Re.next=11;break;case 8:return Re.next=10,(0,B.Um)(M,V,re.files);case 10:Re.t0=Re.sent;case 11:return ge=Re.t0,Se=ge.fileHandle,Re.abrupt("return",{commitToHistory:!1,appState:Pe(Pe({},V),{},{fileHandle:Se,toast:ae?{message:Se!=null&&Se.name?(0,s.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(Se.name,'"')):(0,s.t)("toast.fileSaved")}:null})});case 16:return Re.prev=16,Re.t1=Re.catch(1),(Re.t1===null||Re.t1===void 0?void 0:Re.t1.name)!=="AbortError"?console.error(Re.t1):console.warn(Re.t1),Re.abrupt("return",{commitToHistory:!1});case 20:case"end":return Re.stop()}},d,null,[[1,16]])})),function(d,M,V,q){return He.apply(this,arguments)}),keyTest:function(d){return d.key===w.tW.S&&d[w.tW.CTRL_OR_CMD]&&!d.shiftKey}}),ve=(0,ie.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(Ke=(0,_.Z)(T().mark(function d(M,V,q,re){var ae,ge;return T().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.prev=0,Se.next=3,(0,B.Um)(M,Pe(Pe({},V),{},{fileHandle:null}),re.files);case 3:return ae=Se.sent,ge=ae.fileHandle,Se.abrupt("return",{commitToHistory:!1,appState:Pe(Pe({},V),{},{openDialog:null,fileHandle:ge,toast:{message:(0,s.t)("toast.fileSaved")}})});case 8:return Se.prev=8,Se.t0=Se.catch(0),(Se.t0===null||Se.t0===void 0?void 0:Se.t0.name)!=="AbortError"?console.error(Se.t0):console.warn(Se.t0),Se.abrupt("return",{commitToHistory:!1});case 12:case"end":return Se.stop()}},d,null,[[0,8]])})),function(d,M,V,q){return Ke.apply(this,arguments)}),keyTest:function(d){return d.key===w.tW.S&&d.shiftKey&&d[w.tW.CTRL_OR_CMD]},PanelComponent:function(d){var M=d.updateData;return(0,f.jsx)(o.V,{type:"button",icon:E.po,title:(0,s.t)("buttons.saveAs"),"aria-label":(0,s.t)("buttons.saveAs"),showAriaLabel:(0,P.Fy)().editor.isMobile,hidden:!ee.kr,onClick:function(){return M(null)},"data-testid":"save-as-button"})}}),D=(0,ie.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(d,M,V,q){return!!q.props.UIOptions.canvasActions.loadScene&&!M.viewModeEnabled},perform:(Ae=(0,_.Z)(T().mark(function d(M,V,q,re){var ae,ge,Se,Re;return T().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.prev=0,Ye.next=3,(0,B.n8)(V,M);case 3:return ae=Ye.sent,ge=ae.elements,Se=ae.appState,Re=ae.files,Ye.abrupt("return",{elements:ge,appState:Se,files:Re,commitToHistory:!0});case 10:if(Ye.prev=10,Ye.t0=Ye.catch(0),(Ye.t0===null||Ye.t0===void 0?void 0:Ye.t0.name)!=="AbortError"){Ye.next=15;break}return console.warn(Ye.t0),Ye.abrupt("return",!1);case 15:return Ye.abrupt("return",{elements:M,appState:Pe(Pe({},V),{},{errorMessage:Ye.t0.message}),files:re.files,commitToHistory:!1});case 16:case"end":return Ye.stop()}},d,null,[[0,10]])})),function(d,M,V,q){return Ae.apply(this,arguments)}),keyTest:function(d){return d[w.tW.CTRL_OR_CMD]&&d.key===w.tW.O}}),l=(0,ie.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(d,M,V){return{appState:Pe(Pe({},M),{},{exportWithDarkMode:V}),commitToHistory:!1}},PanelComponent:function(d){var M=d.appState,V=d.updateData;return(0,f.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,f.jsx)(S,{value:M.exportWithDarkMode?c.C6.DARK:c.C6.LIGHT,onChange:function(q){V(q===c.C6.DARK)},title:(0,s.t)("imageExportDialog.label.darkMode")})})}})},3361:function(te,t,e){e.d(t,{Tu:function(){return Ke},Zq:function(){return Ae}});var _=e(1930),g=e(7169),p=e(9240),y=e(3646),T=e(45),E=e(1020),a=function(Oe){return(0,E.jsx)("div",{className:"buttonList buttonListIcon",children:Oe.options.map(function(Te){var De;return Oe.type==="button"?(0,E.jsx)("button",{onClick:function(ke){return Oe.onClick(Te.value,ke)},className:(0,T.Z)({active:(De=Te.active)!==null&&De!==void 0?De:Oe.value===Te.value}),"data-testid":Te.testId,title:Te.text,children:Te.icon},Te.text):(0,E.jsxs)("label",{className:(0,T.Z)({active:Oe.value===Te.value}),title:Te.text,children:[(0,E.jsx)("input",{type:"radio",name:Oe.group,onChange:function(){return Oe.onChange(Te.value)},checked:Oe.value===Te.value,"data-testid":Te.testId}),Te.icon]},Te.text)})})},u=e(193),N=e(2577),H=e(9787),x=e.n(H),m=e(3204),k=e(3379),Q=e.n(k),ue=e(7795),me=e.n(ue),ye=e(569),fe=e.n(ye),G=e(3565),$=e.n(G),U=e(9216),L=e.n(U),F=e(4589),I=e.n(F),P=e(9478),w={};w.styleTagTransform=I(),w.setAttributes=$(),w.insert=fe().bind(null,"head"),w.domAPI=me(),w.insertStyleElement=L(),Q()(P.Z,w),P.Z&&P.Z.locals&&P.Z.locals;var f=e(5491),r=e(8227);function o(Oe,Te){var De=Object.keys(Oe);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(Oe);Te&&(ke=ke.filter(function(be){return Object.getOwnPropertyDescriptor(Oe,be).enumerable})),De.push.apply(De,ke)}return De}function b(Oe){for(var Te=1;Te<arguments.length;Te++){var De=arguments[Te]!=null?arguments[Te]:{};Te%2?o(Object(De),!0).forEach(function(ke){(0,g.Z)(Oe,ke,De[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors(De)):o(Object(De)).forEach(function(ke){Object.defineProperty(Oe,ke,Object.getOwnPropertyDescriptor(De,ke))})}return Oe}function s(Oe){var Te=Oe.options,De=Oe.value,ke=Oe.label,be=Oe.onChange,ve=Oe.onClose,D=x().useRef(),l=x().useRef(),d=x().useRef(null);return x().useEffect(function(){l.current?l.current.focus():d.current&&d.current.focus()},[]),(0,E.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":ke,onKeyDown:function(M){var V=Te.find(function(Ye){return Ye.keyBinding===M.key.toLowerCase()});if(M.metaKey||M.altKey||M.ctrlKey||!V)if(M.key===f.tW.TAB)setTimeout(function(){l.current!==document.activeElement&&ve()},0);else if((0,f.Wl)(M.key)){var q=document.activeElement,re=(0,r.G3)().rtl,ae=Array.prototype.indexOf.call(d.current.children,q);if(ae!==-1){var ge=Te.length,Se=ae;switch(M.key){case(re?f.tW.ARROW_LEFT:f.tW.ARROW_RIGHT):case f.tW.ARROW_DOWN:Se=(ae+1)%ge;break;case(re?f.tW.ARROW_RIGHT:f.tW.ARROW_LEFT):case f.tW.ARROW_UP:Se=(ge+ae-1)%ge}d.current.children[Se].focus()}M.preventDefault()}else M.key!==f.tW.ESCAPE&&M.key!==f.tW.ENTER||(M.preventDefault(),ve());else{var Re=Te.indexOf(V);d.current.children[Re].focus(),M.preventDefault()}M.nativeEvent.stopImmediatePropagation(),M.stopPropagation()},children:(0,E.jsx)("div",{className:"picker-content",ref:d,children:Te.map(function(M,V){return(0,E.jsxs)("button",{className:(0,T.Z)("picker-option",{active:De===M.value}),onClick:function(q){q.currentTarget.focus(),be(M.value)},title:"".concat(M.text,"  ").concat(M.keyBinding.toUpperCase()),"aria-label":M.text||"none","aria-keyshortcuts":M.keyBinding,ref:function(q){q&&V===0&&(D.current=q),q&&M.value===De&&(l.current=q)},onFocus:function(){be(M.value)},children:[M.icon,(0,E.jsx)("span",{className:"picker-keybinding",children:M.keyBinding})]},M.text)})})})}function c(Oe){var Te,De=Oe.value,ke=Oe.label,be=Oe.options,ve=Oe.onChange,D=Oe.group,l=D===void 0?"":D,d=x().useState(!1),M=(0,N.Z)(d,2),V=M[0],q=M[1],re=x().useRef(null),ae=(0,r.G3)().rtl;return(0,E.jsxs)("div",{children:[(0,E.jsx)("button",{name:l,className:V?"active":"","aria-label":ke,onClick:function(){return q(!V)},ref:re,children:(Te=be.find(function(ge){return ge.value===De}))===null||Te===void 0?void 0:Te.icon}),(0,E.jsx)(x().Suspense,{fallback:"",children:V?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.J,b(b({onCloseRequest:function(ge){return ge.target!==re.current&&q(!1)}},ae?{right:5.5}:{left:-5.5}),{},{children:(0,E.jsx)(s,{options:be,value:De,label:ke,onChange:ve,onClose:function(){var ge;q(!1),(ge=re.current)===null||ge===void 0||ge.focus()}})})),(0,E.jsx)("div",{className:"picker-triangle"})]}):null})]})}var S=e(8935),z=e(9937),B=e(7651),j=e(583),C=e(4761),A=e(4183),Y=e(4643),ie=e(4105),le=e(1648),ce=e(9827),de=e(2767);function J(Oe,Te){var De=Object.keys(Oe);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(Oe);Te&&(ke=ke.filter(function(be){return Object.getOwnPropertyDescriptor(Oe,be).enumerable})),De.push.apply(De,ke)}return De}function ee(Oe){for(var Te=1;Te<arguments.length;Te++){var De=arguments[Te]!=null?arguments[Te]:{};Te%2?J(Object(De),!0).forEach(function(ke){(0,g.Z)(Oe,ke,De[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors(De)):J(Object(De)).forEach(function(ke){Object.defineProperty(Oe,ke,Object.getOwnPropertyDescriptor(De,ke))})}return Oe}var he=function(Oe,Te,De){var ke=arguments.length>3&&arguments[3]!==void 0&&arguments[3],be=(0,ce.xn)((0,ie.eD)(Oe,Te,{includeBoundTextElement:ke}));return Oe.map(function(ve){var D;return be.get(ve.id)||ve.id===((D=Te.editingElement)===null||D===void 0?void 0:D.id)?De(ve):ve})},Pe=function(Oe,Te,De,ke,be){var ve,D=Te.editingElement,l=(0,B.Lm)(Oe),d=null;return D&&(d=De(D)),d||(d=(0,ie.N)(l,Te)?(ve=(0,ie.PR)(ke===!0?l:l.filter(function(M){return ke(M)}),Te,De))!==null&&ve!==void 0?ve:typeof be=="function"?be(!0):be:typeof be=="function"?be(!1):be),d},He=function(Oe,Te,De,ke){var be=new Set;return{elements:he(Oe,Te,function(ve){if((0,B.iB)(ve)){var D=De(ve);be.add(D);var l=(0,j.BE)(ve,{fontSize:D});return(0,B.oN)(l,(0,C.tl)(ve)),d=ve,M=l,l=(0,A.Xh)(M)?M:(0,j.DR)(M,{x:d.textAlign==="left"?d.x:d.x+(d.width-M.width)/(d.textAlign==="center"?2:1),y:d.y+(d.height-M.height)/2},!1)}var d,M;return ve},!0),appState:ee(ee({},Te),{},{currentItemFontSize:be.size===1?(0,_.Z)(be)[0]:ke??Te.currentItemFontSize}),commitToHistory:!0}},Ke=((0,de.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(Oe,Te,De){return ee(ee({},De.currentItemStrokeColor&&{elements:he(Oe,Te,function(ke){return(0,le.PD)(ke.type)?(0,j.BE)(ke,{strokeColor:De.currentItemStrokeColor}):ke},!0)}),{},{appState:ee(ee({},Te),De),commitToHistory:!!De.currentItemStrokeColor})},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData;return Oe.appProps,(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("h3",{"aria-hidden":"true",children:(0,r.t)("labels.stroke")}),(0,E.jsx)(u.z,{topPicks:p.fY,palette:p.Wk,type:"elementStroke",label:(0,r.t)("labels.stroke"),color:Pe(Te,De,function(be){return be.strokeColor},!0,De.currentItemStrokeColor),onChange:function(be){return ke({currentItemStrokeColor:be})},elements:Te,appState:De,updateData:ke})]})}}),(0,de.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(Oe,Te,De){return ee(ee({},De.currentItemBackgroundColor&&{elements:he(Oe,Te,function(ke){return(0,j.BE)(ke,{backgroundColor:De.currentItemBackgroundColor})})}),{},{appState:ee(ee({},Te),De),commitToHistory:!!De.currentItemBackgroundColor})},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData;return Oe.appProps,(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("h3",{"aria-hidden":"true",children:(0,r.t)("labels.background")}),(0,E.jsx)(u.z,{topPicks:p.eq,palette:p.SF,type:"elementBackground",label:(0,r.t)("labels.background"),color:Pe(Te,De,function(be){return be.backgroundColor},!0,De.currentItemBackgroundColor),onChange:function(be){return ke({currentItemBackgroundColor:be})},elements:Te,appState:De,updateData:ke})]})}}),(0,de.z)({name:"changeFillStyle",trackEvent:!1,perform:function(Oe,Te,De,ke){return(0,y.L)("element","changeFillStyle","".concat(De," (").concat(ke.device.editor.isMobile?"mobile":"desktop",")")),{elements:he(Oe,Te,function(be){return(0,j.BE)(be,{fillStyle:De})}),appState:ee(ee({},Te),{},{currentItemFillStyle:De}),commitToHistory:!0}},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData,be=(0,ie.eD)(Te,De),ve=be.length>0&&be.every(function(D){return D.fillStyle==="zigzag"});return(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,r.t)("labels.fill")}),(0,E.jsx)(a,{type:"button",options:[{value:"hachure",text:"".concat(ve?(0,r.t)("labels.zigzag"):(0,r.t)("labels.hachure")," (").concat((0,ce.uY)("Alt-Click"),")"),icon:ve?S.lF:S.a0,active:!!ve||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:(0,r.t)("labels.crossHatch"),icon:S.np,testId:"fill-cross-hatch"},{value:"solid",text:(0,r.t)("labels.solid"),icon:S.X7,testId:"fill-solid"}],value:Pe(Te,De,function(D){return D.fillStyle},function(D){return D.hasOwnProperty("fillStyle")},function(D){return D?null:De.currentItemFillStyle}),onClick:function(D,l){var d=l.altKey&&D==="hachure"&&be.every(function(M){return M.fillStyle==="hachure"})?"zigzag":D;ke(d)}})]})}}),(0,de.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(Oe,Te,De){return{elements:he(Oe,Te,function(ke){return(0,j.BE)(ke,{strokeWidth:De})}),appState:ee(ee({},Te),{},{currentItemStrokeWidth:De}),commitToHistory:!0}},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData;return(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,r.t)("labels.strokeWidth")}),(0,E.jsx)(a,{group:"stroke-width",options:[{value:z.dg.thin,text:(0,r.t)("labels.thin"),icon:S.ZA,testId:"strokeWidth-thin"},{value:z.dg.bold,text:(0,r.t)("labels.bold"),icon:S.Wl,testId:"strokeWidth-bold"},{value:z.dg.extraBold,text:(0,r.t)("labels.extraBold"),icon:S.m9,testId:"strokeWidth-extraBold"}],value:Pe(Te,De,function(be){return be.strokeWidth},function(be){return be.hasOwnProperty("strokeWidth")},function(be){return be?null:De.currentItemStrokeWidth}),onChange:function(be){return ke(be)}})]})}}),(0,de.z)({name:"changeSloppiness",trackEvent:!1,perform:function(Oe,Te,De){return{elements:he(Oe,Te,function(ke){return(0,j.BE)(ke,{seed:(0,Y.LU)(),roughness:De})}),appState:ee(ee({},Te),{},{currentItemRoughness:De}),commitToHistory:!0}},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData;return(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,r.t)("labels.sloppiness")}),(0,E.jsx)(a,{group:"sloppiness",options:[{value:0,text:(0,r.t)("labels.architect"),icon:S.bf},{value:1,text:(0,r.t)("labels.artist"),icon:S.kM},{value:2,text:(0,r.t)("labels.cartoonist"),icon:S.W2}],value:Pe(Te,De,function(be){return be.roughness},function(be){return be.hasOwnProperty("roughness")},function(be){return be?null:De.currentItemRoughness}),onChange:function(be){return ke(be)}})]})}}),(0,de.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(Oe,Te,De){return{elements:he(Oe,Te,function(ke){return(0,j.BE)(ke,{strokeStyle:De})}),appState:ee(ee({},Te),{},{currentItemStrokeStyle:De}),commitToHistory:!0}},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData;return(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,r.t)("labels.strokeStyle")}),(0,E.jsx)(a,{group:"strokeStyle",options:[{value:"solid",text:(0,r.t)("labels.strokeStyle_solid"),icon:S.ZA},{value:"dashed",text:(0,r.t)("labels.strokeStyle_dashed"),icon:S.a5},{value:"dotted",text:(0,r.t)("labels.strokeStyle_dotted"),icon:S.aT}],value:Pe(Te,De,function(be){return be.strokeStyle},function(be){return be.hasOwnProperty("strokeStyle")},function(be){return be?null:De.currentItemStrokeStyle}),onChange:function(be){return ke(be)}})]})}}),(0,de.z)({name:"changeOpacity",trackEvent:!1,perform:function(Oe,Te,De){return{elements:he(Oe,Te,function(ke){return(0,j.BE)(ke,{opacity:De})},!0),appState:ee(ee({},Te),{},{currentItemOpacity:De}),commitToHistory:!0}},PanelComponent:function(Oe){var Te,De=Oe.elements,ke=Oe.appState,be=Oe.updateData;return(0,E.jsxs)("label",{className:"control-label",children:[(0,r.t)("labels.opacity"),(0,E.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(ve){return be(+ve.target.value)},value:(Te=Pe(De,ke,function(ve){return ve.opacity},!0,ke.currentItemOpacity))!==null&&Te!==void 0?Te:void 0})]})}}),(0,de.z)({name:"changeFontSize",trackEvent:!1,perform:function(Oe,Te,De){return He(Oe,Te,function(){return De},De)},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData;return(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,r.t)("labels.fontSize")}),(0,E.jsx)(a,{group:"font-size",options:[{value:16,text:(0,r.t)("labels.small"),icon:S.q0,testId:"fontSize-small"},{value:20,text:(0,r.t)("labels.medium"),icon:S.nq,testId:"fontSize-medium"},{value:28,text:(0,r.t)("labels.large"),icon:S.tW,testId:"fontSize-large"},{value:36,text:(0,r.t)("labels.veryLarge"),icon:S.OA,testId:"fontSize-veryLarge"}],value:Pe(Te,De,function(be){if((0,B.iB)(be))return be.fontSize;var ve=(0,C.WJ)(be);return ve?ve.fontSize:null},function(be){return(0,B.iB)(be)||(0,C.WJ)(be)!==null},function(be){return be?null:De.currentItemFontSize||z.n5}),onChange:function(be){return ke(be)}})]})}}),(0,de.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(Oe,Te,De){return He(Oe,Te,function(ke){return Math.round(1/1.1*ke.fontSize)})},keyTest:function(Oe){return Oe[f.tW.CTRL_OR_CMD]&&Oe.shiftKey&&(Oe.key===f.tW.CHEVRON_LEFT||Oe.key===f.tW.COMMA)}})),Ae=(0,de.z)({name:"increaseFontSize",trackEvent:!1,perform:function(Oe,Te,De){return He(Oe,Te,function(ke){return Math.round(1.1*ke.fontSize)})},keyTest:function(Oe){return Oe[f.tW.CTRL_OR_CMD]&&Oe.shiftKey&&(Oe.key===f.tW.CHEVRON_RIGHT||Oe.key===f.tW.PERIOD)}});(0,de.z)({name:"changeFontFamily",trackEvent:!1,perform:function(Oe,Te,De){return{elements:he(Oe,Te,function(ke){if((0,B.iB)(ke)){var be=(0,j.BE)(ke,{fontFamily:De,lineHeight:(0,C.PT)(De)});return(0,B.oN)(be,(0,C.tl)(ke)),be}return ke},!0),appState:ee(ee({},Te),{},{currentItemFontFamily:De}),commitToHistory:!0}},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData,be=[{value:z.ut.Virgil,text:(0,r.t)("labels.handDrawn"),icon:S.Pm,testId:"font-family-virgil"},{value:z.ut.Helvetica,text:(0,r.t)("labels.normal"),icon:S.vo,testId:"font-family-normal"},{value:z.ut.Cascadia,text:(0,r.t)("labels.code"),icon:S.z6,testId:"font-family-code"}];return(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,r.t)("labels.fontFamily")}),(0,E.jsx)(a,{group:"font-family",options:be,value:Pe(Te,De,function(ve){if((0,B.iB)(ve))return ve.fontFamily;var D=(0,C.WJ)(ve);return D?D.fontFamily:null},function(ve){return(0,B.iB)(ve)||(0,C.WJ)(ve)!==null},function(ve){return ve?null:De.currentItemFontFamily||z.rk}),onChange:function(ve){return ke(ve)}})]})}}),(0,de.z)({name:"changeTextAlign",trackEvent:!1,perform:function(Oe,Te,De){return{elements:he(Oe,Te,function(ke){if((0,B.iB)(ke)){var be=(0,j.BE)(ke,{textAlign:De});return(0,B.oN)(be,(0,C.tl)(ke)),be}return ke},!0),appState:ee(ee({},Te),{},{currentItemTextAlign:De}),commitToHistory:!0}},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData;return(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,r.t)("labels.textAlign")}),(0,E.jsx)(a,{group:"text-align",options:[{value:"left",text:(0,r.t)("labels.left"),icon:S.rr,testId:"align-left"},{value:"center",text:(0,r.t)("labels.center"),icon:S.o3,testId:"align-horizontal-center"},{value:"right",text:(0,r.t)("labels.right"),icon:S.oT,testId:"align-right"}],value:Pe(Te,De,function(be){if((0,B.iB)(be))return be.textAlign;var ve=(0,C.WJ)(be);return ve?ve.textAlign:null},function(be){return(0,B.iB)(be)||(0,C.WJ)(be)!==null},function(be){return be?null:De.currentItemTextAlign}),onChange:function(be){return ke(be)}})]})}}),(0,de.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(Oe,Te,De){return{elements:he(Oe,Te,function(ke){if((0,B.iB)(ke)){var be=(0,j.BE)(ke,{verticalAlign:De});return(0,B.oN)(be,(0,C.tl)(ke)),be}return ke},!0),appState:ee({},Te),commitToHistory:!0}},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData;return(0,E.jsx)("fieldset",{children:(0,E.jsx)(a,{group:"text-align",options:[{value:z.oX.TOP,text:(0,r.t)("labels.alignTop"),icon:(0,E.jsx)(S.EO,{theme:De.theme}),testId:"align-top"},{value:z.oX.MIDDLE,text:(0,r.t)("labels.centerVertically"),icon:(0,E.jsx)(S.P7,{theme:De.theme}),testId:"align-middle"},{value:z.oX.BOTTOM,text:(0,r.t)("labels.alignBottom"),icon:(0,E.jsx)(S.aA,{theme:De.theme}),testId:"align-bottom"}],value:Pe(Te,De,function(be){if((0,B.iB)(be)&&be.containerId)return be.verticalAlign;var ve=(0,C.WJ)(be);return ve?ve.verticalAlign:null},function(be){return(0,B.iB)(be)||(0,C.WJ)(be)!==null},function(be){return be?null:z.oX.MIDDLE}),onChange:function(be){return ke(be)}})})}}),(0,de.z)({name:"changeRoundness",trackEvent:!1,perform:function(Oe,Te,De){return{elements:he(Oe,Te,function(ke){return(0,j.BE)(ke,{roundness:De==="round"?{type:(0,A.QI)(ke.type)?z.a6.ADAPTIVE_RADIUS:z.a6.PROPORTIONAL_RADIUS}:null})}),appState:ee(ee({},Te),{},{currentItemRoundness:De}),commitToHistory:!0}},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData,be=(0,ie.Zs)((0,B.Lm)(Te),De).some(function(ve){var D;return((D=ve.roundness)===null||D===void 0?void 0:D.type)===z.a6.LEGACY});return(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,r.t)("labels.edges")}),(0,E.jsx)(a,{group:"edges",options:[{value:"sharp",text:(0,r.t)("labels.sharp"),icon:S.wr},{value:"round",text:(0,r.t)("labels.round"),icon:S.DS}],value:Pe(Te,De,function(ve){return be?null:ve.roundness?"round":"sharp"},function(ve){return ve.hasOwnProperty("roundness")},function(ve){return ve?null:De.currentItemRoundness}),onChange:function(ve){return ke(ve)}})]})}}),(0,de.z)({name:"changeArrowhead",trackEvent:!1,perform:function(Oe,Te,De){return{elements:he(Oe,Te,function(ke){if((0,A.bt)(ke)){var be=De.position,ve=De.type;if(be==="start")return(0,j.BE)(ke,{startArrowhead:ve});if(be==="end")return(0,j.BE)(ke,{endArrowhead:ve})}return ke}),appState:ee(ee({},Te),{},(0,g.Z)({},De.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",De.type)),commitToHistory:!0}},PanelComponent:function(Oe){var Te=Oe.elements,De=Oe.appState,ke=Oe.updateData,be=(0,r.G3)().rtl;return(0,E.jsxs)("fieldset",{children:[(0,E.jsx)("legend",{children:(0,r.t)("labels.arrowheads")}),(0,E.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,E.jsx)(c,{label:"arrowhead_start",options:[{value:null,text:(0,r.t)("labels.arrowhead_none"),icon:S.fr,keyBinding:"q"},{value:"arrow",text:(0,r.t)("labels.arrowhead_arrow"),icon:(0,E.jsx)(S.il,{flip:!be}),keyBinding:"w"},{value:"bar",text:(0,r.t)("labels.arrowhead_bar"),icon:(0,E.jsx)(S.m,{flip:!be}),keyBinding:"e"},{value:"dot",text:(0,r.t)("labels.arrowhead_dot"),icon:(0,E.jsx)(S.tn,{flip:!be}),keyBinding:"r"},{value:"triangle",text:(0,r.t)("labels.arrowhead_triangle"),icon:(0,E.jsx)(S.j8,{flip:!be}),keyBinding:"t"}],value:Pe(Te,De,function(ve){return(0,A.bt)(ve)&&(0,ie.Un)(ve.type)?ve.startArrowhead:De.currentItemStartArrowhead},!0,De.currentItemStartArrowhead),onChange:function(ve){return ke({position:"start",type:ve})}}),(0,E.jsx)(c,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,r.t)("labels.arrowhead_none"),keyBinding:"q",icon:S.fr},{value:"arrow",text:(0,r.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,E.jsx)(S.il,{flip:be})},{value:"bar",text:(0,r.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,E.jsx)(S.m,{flip:be})},{value:"dot",text:(0,r.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,E.jsx)(S.tn,{flip:be})},{value:"triangle",text:(0,r.t)("labels.arrowhead_triangle"),icon:(0,E.jsx)(S.j8,{flip:be}),keyBinding:"t"}],value:Pe(Te,De,function(ve){return(0,A.bt)(ve)&&(0,ie.Un)(ve.type)?ve.endArrowhead:De.currentItemEndArrowhead},!0,De.currentItemEndArrowhead),onChange:function(ve){return ke({position:"end",type:ve})}})]})]})}})},7080:function(te,t,e){e.d(t,{u:function(){return E}});var _=e(7169),g=e(2767),p=e(5491);function y(a,u){var N=Object.keys(a);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(a);u&&(H=H.filter(function(x){return Object.getOwnPropertyDescriptor(a,x).enumerable})),N.push.apply(N,H)}return N}function T(a){for(var u=1;u<arguments.length;u++){var N=arguments[u]!=null?arguments[u]:{};u%2?y(Object(N),!0).forEach(function(H){(0,_.Z)(a,H,N[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(N)):y(Object(N)).forEach(function(H){Object.defineProperty(a,H,Object.getOwnPropertyDescriptor(N,H))})}return a}var E=(0,g.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(a,u){return{appState:T(T({},u),{},{showStats:!this.checked(u)}),commitToHistory:!1}},checked:function(a){return a.showStats},contextItemLabel:"stats.title",keyTest:function(a){return!a[p.tW.CTRL_OR_CMD]&&a.altKey&&a.code===p.aU.SLASH}})},5463:function(te,t,e){e.d(t,{FL:function(){return Jt},vD:function(){return xo.vD},yA:function(){return s},BZ:function(){return S},mo:function(){return be.mo},uN:function(){return er.uN},jK:function(){return er.jK},FA:function(){return er.FA},pw:function(){return ge},ZM:function(){return er.ZM},X9:function(){return _.X},xF:function(){return De},pL:function(){return M},jl:function(){return Cn},kt:function(){return Dn},EQ:function(){return $e},nz:function(){return jo.nz},_d:function(){return V._d},W3:function(){return Se},mM:function(){return V.mM},ns:function(){return V.ns},Yy:function(){return ie},V:function(){return b},zi:function(){return c},jY:function(){return Ge},$h:function(){return ho.$},Pb:function(){return Rn},Qs:function(){return et},pm:function(){return Xr},u0:function(){return po.u},Zp:function(){return be.Zp},JN:function(){return nr},y7:function(){return xo.y7},s:function(){return at},zp:function(){return er.zp}});var _=e(2448),g=e(2577),p=e(1930),y=e(583),T=e(4183),E=e(9215),a=e(4105),u=e(457),N=e(9827);function H(Ee,Le){var Ue=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!Ue){if(Array.isArray(Ee)||(Ue=function(Vt,wn){if(Vt){if(typeof Vt=="string")return x(Vt,wn);var Mn=Object.prototype.toString.call(Vt).slice(8,-1);if(Mn==="Object"&&Vt.constructor&&(Mn=Vt.constructor.name),Mn==="Map"||Mn==="Set")return Array.from(Vt);if(Mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mn))return x(Vt,wn)}}(Ee))||Le){Ue&&(Ee=Ue);var st=0,Zt=function(){};return{s:Zt,n:function(){return st>=Ee.length?{done:!0}:{done:!1,value:Ee[st++]}},e:function(Vt){throw Vt},f:Zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qt,mn=!0,Xt=!1;return{s:function(){Ue=Ue.call(Ee)},n:function(){var Vt=Ue.next();return mn=Vt.done,Vt},e:function(Vt){Xt=!0,qt=Vt},f:function(){try{mn||Ue.return==null||Ue.return()}finally{if(Xt)throw qt}}}}function x(Ee,Le){(Le==null||Le>Ee.length)&&(Le=Ee.length);for(var Ue=0,st=new Array(Le);Ue<Le;Ue++)st[Ue]=Ee[Ue];return st}var m=function(Ee,Le){return Ee.frameId===Le||Ee.id===Le},k=function(Ee,Le,Ue){for(var st=[],Zt=[],qt=null,mn=-1,Xt=(0,N.xn)(Ue||(0,a.eD)(Ee,Le,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++mn<Ee.length;){var Vt=Ee[mn];Xt.get(Vt.id)?(Zt.length&&(st=st.concat(Zt),Zt=[]),st.push(mn),qt=mn+1):Vt.isDeleted&&qt===mn?(qt=mn+1,Zt.push(mn)):Zt=[]}return st},Q=function(Ee,Le,Ue){if("containerId"in Ee&&Ee.containerId){if(Ue!=="left")return Le.indexOf(Ee);var st=u.Z.getScene(Ee).getElement(Ee.containerId);if(st)return Le.indexOf(st)}else{var Zt,qt,mn=(Zt=Ee.boundElements)===null||Zt===void 0||(qt=Zt.find(function(Vt){return Vt.type!=="arrow"}))===null||qt===void 0?void 0:qt.id;if(mn){if(Ue==="left")return Le.indexOf(Ee);var Xt=u.Z.getScene(Ee).getElement(mn);if(Xt)return Le.indexOf(Xt)}}},ue=function(Ee,Le,Ue,st,Zt){var qt,mn,Xt,Vt,wn,Mn=Le[Ue],qn=function(Gr){return!Gr.isDeleted&&(Zt?Gr.frameId===Zt:!Ee.editingGroupId||Gr.groupIds.includes(Ee.editingGroupId))},Qn=st==="left"?(0,N.qr)(Le,function(Gr){return qn(Gr)},Math.max(0,Ue-1)):(0,N.cx)(Le,function(Gr){return qn(Gr)},Ue+1),dr=Le[Qn];if(!dr)return-1;if(Ee.editingGroupId){var ur;if(Mn?.groupIds.join("")===dr?.groupIds.join(""))return(ur=Q(dr,Le,st))!==null&&ur!==void 0?ur:Qn;if(dr==null||!dr.groupIds.includes(Ee.editingGroupId))return-1}if(!Zt&&(dr.frameId||dr.type==="frame")){var ir=(qt=Le,mn=dr.frameId||dr.id,Xt=-1,Vt=-1,qt.forEach(function(Gr,so){m(Gr,mn)&&(Xt===-1&&(Xt=so),Vt=so)}),Xt===-1?[]:qt.slice(Xt,Vt+1));return st==="left"?Le.indexOf(ir[0]):Le.indexOf(ir[ir.length-1])}if(!dr.groupIds.length)return(wn=Q(dr,Le,st))!==null&&wn!==void 0?wn:Qn;var cr=Ee.editingGroupId?dr.groupIds[dr.groupIds.indexOf(Ee.editingGroupId)-1]:dr.groupIds[dr.groupIds.length-1],Ar=(0,E.Fb)(Le,cr);return Ar.length?st==="left"?Le.indexOf(Ar[0]):Le.indexOf(Ar[Ar.length-1]):Qn},me=function(Ee,Le){return Le.reduce(function(Ue,st){var Zt=Ee[st];return Ue[Zt.id]=Zt,Ue},{})},ye=function(Ee,Le,Ue){var st=k(Ee,Le),Zt=me(Ee,st),qt=function(Xt){var Vt=0;return Xt.reduce(function(wn,Mn,qn){return qn>0&&Xt[qn-1]!==Mn-1&&(Vt=++Vt),(wn[Vt]||(wn[Vt]=[])).push(Mn),wn},[])}(st);Ue==="right"&&(qt=qt.reverse());var mn=new Set(st.filter(function(Xt){return Ee[Xt].type==="frame"}).map(function(Xt){return Ee[Xt].id}));return qt.forEach(function(Xt,Vt){var wn,Mn=Xt[0],qn=Xt[Xt.length-1],Qn=Ue==="left"?Mn:qn,dr=Xt.some(function(so){var zo=Ee[so];return zo.frameId&&mn.has(zo.frameId)})?null:(wn=Ee[Qn])===null||wn===void 0?void 0:wn.frameId,ur=ue(Le,Ee,Qn,Ue,dr);if(ur!==-1&&Qn!==ur){var ir=Ue==="left"?Ee.slice(0,ur):Ee.slice(0,Mn),cr=Ee.slice(Mn,qn+1),Ar=Ue==="left"?Ee.slice(ur,Mn):Ee.slice(qn+1,ur+1),Gr=Ue==="left"?Ee.slice(qn+1):Ee.slice(ur+1);Ee=Ue==="left"?[].concat((0,p.Z)(ir),(0,p.Z)(cr),(0,p.Z)(Ar),(0,p.Z)(Gr)):[].concat((0,p.Z)(ir),(0,p.Z)(Ar),(0,p.Z)(cr),(0,p.Z)(Gr))}}),Ee.map(function(Xt){return Zt[Xt.id]?(0,y.ZP)(Xt):Xt})},fe=function(Ee,Le,Ue,st,Zt){var qt,mn,Xt=k(Ee,Le,Zt),Vt=me(Ee,Xt),wn=[];if(Ue==="left"){if(st)qt=(0,N.cx)(Ee,function(cr){return m(cr,st)});else if(Le.editingGroupId){var Mn=(0,E.Fb)(Ee,Le.editingGroupId);if(!Mn.length)return Ee;qt=Ee.indexOf(Mn[0])}else qt=0;mn=Xt[Xt.length-1]}else{if(st)mn=(0,N.qr)(Ee,function(cr){return m(cr,st)});else if(Le.editingGroupId){var qn=(0,E.Fb)(Ee,Le.editingGroupId);if(!qn.length)return Ee;mn=Ee.indexOf(qn[qn.length-1])}else mn=Ee.length-1;qt=Xt[0]}qt===-1&&(qt=0);for(var Qn=qt;Qn<mn+1;Qn++)Xt.includes(Qn)||wn.push(Ee[Qn]);var dr=Object.values(Vt).map(function(cr){return(0,y.ZP)(cr)}),ur=Ee.slice(0,qt),ir=Ee.slice(mn+1);return Ue==="left"?[].concat((0,p.Z)(ur),(0,p.Z)(dr),wn,(0,p.Z)(ir)):[].concat((0,p.Z)(ur),wn,(0,p.Z)(dr),(0,p.Z)(ir))};function G(Ee,Le,Ue,st){var Zt,qt=(0,N.xn)((0,a.eD)(Ee,Le,{includeBoundTextElement:!0,includeElementsInFrames:!0})),mn={regularElements:[],frameChildren:new Map},Xt=new Set,Vt=H(Ee);try{for(Vt.s();!(Zt=Vt.n()).done;){var wn=Zt.value;qt.has(wn.id)&&(0,T.He)(wn)&&Xt.add(wn.id)}}catch(Gr){Vt.e(Gr)}finally{Vt.f()}var Mn,qn=H(Ee);try{for(qn.s();!(Mn=qn.n()).done;){var Qn=Mn.value;if(qt.has(Qn.id))if((0,T.He)(Qn)||Qn.frameId&&Xt.has(Qn.frameId))mn.regularElements.push(Qn);else if(Qn.frameId){var dr=mn.frameChildren.get(Qn.frameId)||[];dr.push(Qn),mn.frameChildren.set(Qn.frameId,dr)}else mn.regularElements.push(Qn)}}catch(Gr){qn.e(Gr)}finally{qn.f()}for(var ur=Ee,ir=0,cr=Array.from(mn.frameChildren.entries());ir<cr.length;ir++){var Ar=(0,g.Z)(cr[ir],2);ur=st(Ee,Le,Ue,Ar[0],Ar[1])}return st(ur,Le,Ue,null,mn.regularElements)}var $=function(Ee,Le){return ye(Ee,Le,"left")},U=function(Ee,Le){return ye(Ee,Le,"right")},L=function(Ee,Le){return G(Ee,Le,"left",fe)},F=function(Ee,Le){return G(Ee,Le,"right",fe)},I=e(5491),P=e(8227),w=e(2767),f=e(8935),r=e(9937),o=e(1020),b=(0,w.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(Ee,Le){return{elements:$(Ee,Le),appState:Le,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&!Ee.shiftKey&&Ee.code===I.aU.BRACKET_LEFT},PanelComponent:function(Ee){var Le=Ee.updateData;return Ee.appState,(0,o.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Le(null)},title:"".concat((0,P.t)("labels.sendBackward"),"  ").concat((0,N.uY)("CtrlOrCmd+[")),children:f.Gc})}}),s=(0,w.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(Ee,Le){return{elements:U(Ee,Le),appState:Le,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&!Ee.shiftKey&&Ee.code===I.aU.BRACKET_RIGHT},PanelComponent:function(Ee){var Le=Ee.updateData;return Ee.appState,(0,o.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Le(null)},title:"".concat((0,P.t)("labels.bringForward"),"  ").concat((0,N.uY)("CtrlOrCmd+]")),children:f.t5})}}),c=(0,w.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(Ee,Le){return{elements:L(Ee,Le),appState:Le,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(Ee){return r.Um?Ee[I.tW.CTRL_OR_CMD]&&Ee.altKey&&Ee.code===I.aU.BRACKET_LEFT:Ee[I.tW.CTRL_OR_CMD]&&Ee.shiftKey&&Ee.code===I.aU.BRACKET_LEFT},PanelComponent:function(Ee){var Le=Ee.updateData;return Ee.appState,(0,o.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Le(null)},title:"".concat((0,P.t)("labels.sendToBack"),"  ").concat(r.Um?(0,N.uY)("CtrlOrCmd+Alt+["):(0,N.uY)("CtrlOrCmd+Shift+[")),children:f.pw})}}),S=(0,w.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(Ee,Le){return{elements:F(Ee,Le),appState:Le,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(Ee){return r.Um?Ee[I.tW.CTRL_OR_CMD]&&Ee.altKey&&Ee.code===I.aU.BRACKET_RIGHT:Ee[I.tW.CTRL_OR_CMD]&&Ee.shiftKey&&Ee.code===I.aU.BRACKET_RIGHT},PanelComponent:function(Ee){var Le=Ee.updateData;return Ee.appState,(0,o.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(Ue){return Le(null)},title:"".concat((0,P.t)("labels.bringToFront"),"  ").concat(r.Um?(0,N.uY)("CtrlOrCmd+Alt+]"):(0,N.uY)("CtrlOrCmd+Shift+]")),children:f.IN})}}),z=e(7169),B=e(7651),j=e(7422),C=e(6264);function A(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function Y(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?A(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):A(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}var ie=(0,w.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(Ee,Le,Ue,st){if(Le.editingLinearElement)return!1;var Zt=(0,C.aI)(Ee.filter(function(qt){return!(qt.isDeleted||(0,B.iB)(qt)&&qt.containerId||qt.locked)})).reduce(function(qt,mn){return qt[mn.id]=!0,qt},{});return{appState:Y(Y(Y({},Le),(0,E.bO)({editingGroupId:null,selectedElementIds:Zt},(0,B.Lm)(Ee),Le,st)),{},{selectedLinearElement:Object.keys(Zt).length===1&&(0,T.bt)(Ee[0])?new j._(Ee[0],st.scene):null}),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&Ee.key===I.tW.A}}),le=e(1512),ce=e(9645),de=e(4761);function J(Ee,Le){var Ue=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!Ue){if(Array.isArray(Ee)||(Ue=function(Vt,wn){if(Vt){if(typeof Vt=="string")return ee(Vt,wn);var Mn=Object.prototype.toString.call(Vt).slice(8,-1);if(Mn==="Object"&&Vt.constructor&&(Mn=Vt.constructor.name),Mn==="Map"||Mn==="Set")return Array.from(Vt);if(Mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mn))return ee(Vt,wn)}}(Ee))||Le){Ue&&(Ee=Ue);var st=0,Zt=function(){};return{s:Zt,n:function(){return st>=Ee.length?{done:!0}:{done:!1,value:Ee[st++]}},e:function(Vt){throw Vt},f:Zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qt,mn=!0,Xt=!1;return{s:function(){Ue=Ue.call(Ee)},n:function(){var Vt=Ue.next();return mn=Vt.done,Vt},e:function(Vt){Xt=!0,qt=Vt},f:function(){try{mn||Ue.return==null||Ue.return()}finally{if(Xt)throw qt}}}}function ee(Ee,Le){(Le==null||Le>Ee.length)&&(Le=Ee.length);for(var Ue=0,st=new Array(Le);Ue<Le;Ue++)st[Ue]=Ee[Ue];return st}var he=function(Ee){var Le=Ee.slice(),Ue=new Set,st=function qt(mn){var Xt,Vt,wn,Mn=(Xt=mn[0])===null||Xt===void 0||(Vt=Xt.groupIds)===null||Vt===void 0?void 0:Vt.join(""),qn=[mn[0]],Qn=[],dr=J(mn.slice(1));try{for(dr.s();!(wn=dr.n()).done;){var ur,ir=wn.value;((ur=ir.groupIds)===null||ur===void 0?void 0:ur.join(""))===Mn?qn.push(ir):Qn.push(ir)}}catch(cr){dr.e(cr)}finally{dr.f()}return Qn.length?[].concat(qn,(0,p.Z)(qt(Qn))):qn},Zt=new Map;return Le.forEach(function(qt,mn){var Xt;if(!Zt.has(qt.id))if((Xt=qt.groupIds)!==null&&Xt!==void 0&&Xt.length){var Vt,wn=qt.groupIds[qt.groupIds.length-1],Mn=Le.slice(mn).filter(function(dr){var ur,ir=dr==null||(ur=dr.groupIds)===null||ur===void 0?void 0:ur.some(function(cr){return cr===wn});return ir&&Zt.set(dr.id,!0),ir}),qn=J(st(Mn));try{for(qn.s();!(Vt=qn.n()).done;){var Qn=Vt.value;Ue.add(Qn)}}catch(dr){qn.e(dr)}finally{qn.f()}}else Ue.add(qt)}),Ue.size!==Ee.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),Ee):(0,p.Z)(Ue)},Pe=function(Ee){var Le=function(Ue){var st=(0,N.I4)(Ue),Zt=Ue.slice(),qt=new Set;return Zt.forEach(function(mn,Xt){var Vt;if(mn)if((Vt=mn.boundElements)!==null&&Vt!==void 0&&Vt.length)qt.add(mn),Zt[Xt]=null,mn.boundElements.forEach(function(qn){var Qn=st.get(qn.id);Qn&&qn.type==="text"&&(qt.add(Qn[0]),Zt[Qn[1]]=null)});else if(mn.type==="text"&&mn.containerId){var wn,Mn=st.get(mn.containerId);Mn!=null&&(wn=Mn[0].boundElements)!==null&&wn!==void 0&&wn.find(function(qn){return qn.id===mn.id})||(qt.add(mn),Zt[Xt]=null)}else qt.add(mn),Zt[Xt]=null}),qt.size!==Ue.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),Ue):(0,p.Z)(qt)}(he(Ee));return Le},He=e(4682);function Ke(Ee,Le){var Ue=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!Ue){if(Array.isArray(Ee)||(Ue=function(Vt,wn){if(Vt){if(typeof Vt=="string")return Ae(Vt,wn);var Mn=Object.prototype.toString.call(Vt).slice(8,-1);if(Mn==="Object"&&Vt.constructor&&(Mn=Vt.constructor.name),Mn==="Map"||Mn==="Set")return Array.from(Vt);if(Mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mn))return Ae(Vt,wn)}}(Ee))||Le){Ue&&(Ee=Ue);var st=0,Zt=function(){};return{s:Zt,n:function(){return st>=Ee.length?{done:!0}:{done:!1,value:Ee[st++]}},e:function(Vt){throw Vt},f:Zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qt,mn=!0,Xt=!1;return{s:function(){Ue=Ue.call(Ee)},n:function(){var Vt=Ue.next();return mn=Vt.done,Vt},e:function(Vt){Xt=!0,qt=Vt},f:function(){try{mn||Ue.return==null||Ue.return()}finally{if(Xt)throw qt}}}}function Ae(Ee,Le){(Le==null||Le>Ee.length)&&(Le=Ee.length);for(var Ue=0,st=new Array(Le);Ue<Le;Ue++)st[Ue]=Ee[Ue];return st}function Oe(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function Te(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?Oe(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):Oe(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}var De=(0,w.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(Ee,Le){if(Le.editingLinearElement){var Ue=j._.duplicateSelectedPoints(Le);return!!Ue&&{elements:Ee,appState:Ue.appState,commitToHistory:!0}}return Te(Te({},ke(Ee,Le)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&Ee.key===I.tW.D},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData;return(0,o.jsx)(le.V,{type:"button",icon:f.NA,title:"".concat((0,P.t)("labels.duplicateSelection"),"  ").concat((0,N.uY)("CtrlOrCmd+D")),"aria-label":(0,P.t)("labels.duplicateSelection"),onClick:function(){return st(null)},visible:(0,a.N)((0,B.Lm)(Le),Ue)})}}),ke=function(Ee,Le){for(var Ue=Pe(Ee),st=new Map,Zt=[],qt=[],mn=new Map,Xt=function(Ur){var no=(0,B.Sy)(Le.editingGroupId,st,Ur,{x:Ur.x+r.k/2,y:Ur.y+r.k/2});return mn.set(Ur.id,no.id),qt.push(Ur),Zt.push(no),no},Vt=(0,N.xn)((0,C.eD)(Ue,Le,{includeBoundTextElement:!0,includeElementsInFrames:!0})),wn=new Map,Mn=function(Ur){var no,ao=Ke(Ur);try{for(ao.s();!(no=ao.n()).done;){var Xo=no.value;wn.set(Xo.id,!0)}}catch(Ho){ao.e(Ho)}finally{ao.f()}return Ur},qn=[],Qn=-1;++Qn<Ue.length;){var dr=Ue[Qn];if(!wn.get(dr.id)){var ur=(0,de.WJ)(dr),ir=(0,T.He)(dr);if(Vt.get(dr.id)){if(dr.groupIds.length||ur||ir){var cr=(0,E.yO)(Le,dr);if(cr){var Ar=(0,E.Fb)(Ue,cr).flatMap(function(Ur){return(0,T.He)(Ur)?[].concat((0,p.Z)((0,He.zD)(Ee,Ur.id)),[Ur]):[Ur]});qn.push.apply(qn,(0,p.Z)(Mn([].concat((0,p.Z)(Ar),(0,p.Z)(Ar.map(function(Ur){return Xt(Ur)}))))));continue}if(ur){qn.push.apply(qn,(0,p.Z)(Mn([dr,ur,Xt(dr),Xt(ur)])));continue}if(ir){var Gr=(0,He.zD)(Ue,dr.id);qn.push.apply(qn,(0,p.Z)(Mn([].concat((0,p.Z)(Gr),[dr],(0,p.Z)(Gr.map(function(Ur){return Xt(Ur)})),[Xt(dr)]))));continue}}dr.frameId&&Vt.has(dr.frameId)||qn.push.apply(qn,(0,p.Z)(Mn([dr,Xt(dr)])))}else qn.push.apply(qn,(0,p.Z)(Mn([dr])))}}var so=[],zo=new Map;for(Qn=qn.length;--Qn>=0;){var ii=qn[Qn];zo.get(ii.id)||(zo.set(ii.id,!0),so.push(ii))}var Ir=so.reverse();(0,de.P7)(qn,qt,mn),(0,ce.ek)(qn,qt,mn),(0,He.xr)(Ir,qt,mn);var hr=(0,C.aI)(Zt);return{elements:Ir,appState:Te(Te({},Le),(0,E.bO)({editingGroupId:Le.editingGroupId,selectedElementIds:hr.reduce(function(Ur,no){return(0,T.Xh)(no)||(Ur[no.id]=!0),Ur},{})},(0,B.Lm)(Ir),Le,null))}},be=(e(3361),e(6006)),ve=e(2361),D=e(7652);function l(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function d(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?l(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):l(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}var M=(0,w.z)({name:"finalize",trackEvent:!1,perform:function(Ee,Le,Ue,st){var Zt,qt=st.interactiveCanvas,mn=st.focusContainer,Xt=st.scene;if(Le.editingLinearElement){var Vt=Le.editingLinearElement,wn=Vt.elementId,Mn=Vt.startBindingElement,qn=Vt.endBindingElement,Qn=j._.getElement(wn);if(Qn)return(0,T.Mn)(Qn)&&(0,ce.HG)(Qn,Mn,qn),{elements:Qn.points.length<2||(0,B.QD)(Qn)?Ee.filter(function(ao){return ao.id!==Qn.id}):void 0,appState:d(d({},Le),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var dr=Ee,ur=Le.pendingImageElementId&&Xt.getElement(Le.pendingImageElementId);ur&&(0,y.DR)(ur,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&mn();var ir,cr=Le.multiElement?Le.multiElement:((Zt=Le.editingElement)===null||Zt===void 0?void 0:Zt.type)==="freedraw"?Le.editingElement:null;if(cr){if(cr.type!=="freedraw"&&Le.lastPointerDownWith!=="touch"){var Ar=cr.points,Gr=cr.lastCommittedPoint;Gr&&Ar[Ar.length-1]===Gr||(0,y.DR)(cr,{points:cr.points.slice(0,-1)})}(0,B.QD)(cr)&&(dr=dr.filter(function(ao){return ao.id!==cr.id}));var so=(0,ve.g6)(cr.points,Le.zoom.value);if((cr.type==="line"||cr.type==="freedraw")&&so){var zo=cr.points,ii=zo[0];(0,y.DR)(cr,{points:zo.map(function(ao,Xo){return Xo===zo.length-1?[ii[0],ii[1]]:ao})})}if((0,T.Mn)(cr)&&!so&&cr.points.length>1){var Ir=j._.getPointAtIndexGlobalCoordinates(cr,-1),hr=(0,g.Z)(Ir,2),Ur=hr[0],no=hr[1];(0,ce.R)(cr,Le,u.Z.getScene(cr),{x:Ur,y:no})}}return(Le.activeTool.locked||Le.activeTool.type==="freedraw")&&cr||(0,D.z8)(qt),ir=Le.activeTool.type==="eraser"?(0,N.Om)(Le,d(d({},Le.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,N.Om)(Le,{type:"selection"}),{elements:dr,appState:d(d({},Le),{},{cursorButton:"up",activeTool:(Le.activeTool.locked||Le.activeTool.type==="freedraw")&&cr?Le.activeTool:ir,activeEmbeddable:null,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:cr&&!Le.activeTool.locked&&Le.activeTool.type!=="freedraw"?d(d({},Le.selectedElementIds),{},(0,z.Z)({},cr.id,!0)):Le.selectedElementIds,selectedLinearElement:cr&&(0,T.bt)(cr)?new j._(cr,Xt):Le.selectedLinearElement,pendingImageElementId:null}),commitToHistory:Le.activeTool.type==="freedraw"}},keyTest:function(Ee,Le){return Ee.key===I.tW.ESCAPE&&(Le.editingLinearElement!==null||!Le.draggingElement&&Le.multiElement===null)||(Ee.key===I.tW.ESCAPE||Ee.key===I.tW.ENTER)&&Le.multiElement!==null},PanelComponent:function(Ee){var Le=Ee.appState,Ue=Ee.updateData,st=Ee.data;return(0,o.jsx)(le.V,{type:"button",icon:f.$c,title:(0,P.t)("buttons.done"),"aria-label":(0,P.t)("buttons.done"),onClick:Ue,visible:Le.multiElement!=null,size:st?.size||"medium"})}}),V=e(4406);function q(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function re(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?q(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):q(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}var ae="{}",ge=(0,w.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(Ee,Le){var Ue=[],st=Ee.find(function(qt){return Le.selectedElementIds[qt.id]});if(Ue.push(st),st&&(0,T.Xo)(st)){var Zt=(0,de.WJ)(st);Ue.push(Zt)}return st&&(ae=JSON.stringify(Ue)),{appState:re(re({},Le),{},{toast:{message:(0,P.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&Ee.altKey&&Ee.code===I.aU.C}}),Se=(0,w.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(Ee,Le){var Ue=JSON.parse(ae),st=Ue[0],Zt=Ue[1];if(!(0,B.r2)(st))return{elements:Ee,commitToHistory:!1};var qt=(0,a.eD)(Ee,Le,{includeBoundTextElement:!0}),mn=qt.map(function(Xt){return Xt.id});return{elements:Ee.map(function(Xt){if(mn.includes(Xt.id)){var Vt,wn,Mn,qn,Qn,dr,ur,ir=st;if((0,B.iB)(Xt)&&Xt.containerId&&(ir=Zt),!ir)return Xt;var cr=(0,y.BE)(Xt,{backgroundColor:(Vt=ir)===null||Vt===void 0?void 0:Vt.backgroundColor,strokeWidth:(wn=ir)===null||wn===void 0?void 0:wn.strokeWidth,strokeColor:(Mn=ir)===null||Mn===void 0?void 0:Mn.strokeColor,strokeStyle:(qn=ir)===null||qn===void 0?void 0:qn.strokeStyle,fillStyle:(Qn=ir)===null||Qn===void 0?void 0:Qn.fillStyle,opacity:(dr=ir)===null||dr===void 0?void 0:dr.opacity,roughness:(ur=ir)===null||ur===void 0?void 0:ur.roughness,roundness:ir.roundness?(0,T.eK)(ir.roundness.type,Xt)?ir.roundness:(0,T.UQ)(Xt):null});if((0,B.iB)(cr)){var Ar=ir.fontSize||r.n5,Gr=ir.fontFamily||r.rk,so=null;(cr=(0,y.BE)(cr,{fontSize:Ar,fontFamily:Gr,textAlign:ir.textAlign||r.Hg,lineHeight:ir.lineHeight||(0,de.PT)(Gr)})).containerId&&(so=qt.find(function(zo){return(0,B.iB)(cr)&&zo.id===cr.containerId})||null),(0,B.oN)(cr,so)}return cr.type==="arrow"&&(0,T.Yv)(ir)&&(cr=(0,y.BE)(cr,{startArrowhead:ir.startArrowhead,endArrowhead:ir.endArrowhead})),(0,T.He)(Xt)&&(cr=(0,y.BE)(cr,{roundness:null,backgroundColor:"transparent"})),cr}return Xt}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&Ee.altKey&&Ee.code===I.aU.V}});function Re(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function Ye(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?Re(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):Re(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}(0,w.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(Ee,Le){return{appState:Ye(Ye({},Le),{},{openMenu:Le.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(Ee){var Le=Ee.appState,Ue=Ee.updateData;return(0,o.jsx)(le.V,{type:"button",icon:f.RY,"aria-label":(0,P.t)("buttons.menu"),onClick:Ue,selected:Le.openMenu==="canvas"})}}),(0,w.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(Ee,Le){return{appState:Ye(Ye({},Le),{},{openMenu:Le.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData;return(0,o.jsx)(le.V,{visible:(0,B.RT)(Ue,(0,B.Lm)(Le)),type:"button",icon:f.DG,"aria-label":(0,P.t)("buttons.edit"),onClick:st,selected:Ue.openMenu==="shape"})}});var Ge=(0,w.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(Ee,Le,Ue,st){var Zt=st.focusContainer;return Le.openDialog==="help"&&Zt(),{appState:Ye(Ye({},Le),{},{openDialog:Le.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(Ee){return Ee.key===I.tW.QUESTION_MARK}}),We=e(6655),qe=e(4643);function lt(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function ft(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?lt(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):lt(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}function ze(Ee,Le){var Ue=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!Ue){if(Array.isArray(Ee)||(Ue=function(Vt,wn){if(Vt){if(typeof Vt=="string")return we(Vt,wn);var Mn=Object.prototype.toString.call(Vt).slice(8,-1);if(Mn==="Object"&&Vt.constructor&&(Mn=Vt.constructor.name),Mn==="Map"||Mn==="Set")return Array.from(Vt);if(Mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mn))return we(Vt,wn)}}(Ee))||Le){Ue&&(Ee=Ue);var st=0,Zt=function(){};return{s:Zt,n:function(){return st>=Ee.length?{done:!0}:{done:!1,value:Ee[st++]}},e:function(Vt){throw Vt},f:Zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qt,mn=!0,Xt=!1;return{s:function(){Ue=Ue.call(Ee)},n:function(){var Vt=Ue.next();return mn=Vt.done,Vt},e:function(Vt){Xt=!0,qt=Vt},f:function(){try{mn||Ue.return==null||Ue.return()}finally{if(Xt)throw qt}}}}function we(Ee,Le){(Le==null||Le>Ee.length)&&(Le=Ee.length);for(var Ue=0,st=new Array(Le);Ue<Le;Ue++)st[Ue]=Ee[Ue];return st}var Me=function(Ee,Le,Ue){var st=Ue.scene.getSelectedElements({selectedElementIds:Le.selectedElementIds,includeBoundTextElement:!0});return st.length>=2&&!function(Zt){if(Zt.length>=2){var qt,mn=ze(Zt[0].groupIds);try{var Xt=function(){var wn=qt.value;if(Zt.reduce(function(Mn,qn){return Mn&&(0,E.Nd)(qn,wn)},!0))return{v:!0}};for(mn.s();!(qt=mn.n()).done;){var Vt=Xt();if((0,We.Z)(Vt)==="object")return Vt.v}}catch(wn){mn.e(wn)}finally{mn.f()}}return!1}(st)},$e=(0,w.z)({name:"group",trackEvent:{category:"element"},perform:function(Ee,Le,Ue,st){var Zt=st.scene.getSelectedElements({selectedElementIds:Le.selectedElementIds,includeBoundTextElement:!0});if(Zt.length<2)return{appState:Le,elements:Ee,commitToHistory:!1};var qt=(0,E.iJ)(Le);if(qt.length===1){var mn=qt[0],Xt=new Set((0,E.Fb)(Ee,mn).map(function(Ar){return Ar.id})),Vt=new Set(Zt.map(function(Ar){return Ar.id}));if(new Set([].concat((0,p.Z)(Array.from(Xt)),(0,p.Z)(Array.from(Vt)))).size===Xt.size)return{appState:Le,elements:Ee,commitToHistory:!1}}var wn=(0,p.Z)(Ee);new Set(Zt.map(function(Ar){return Ar.frameId})).size>1&&(0,He.SH)(Zt).forEach(function(Ar,Gr){wn=(0,He.lz)(wn,Ar,Le)});var Mn=(0,qe.kb)(),qn=(0,N.xn)(Zt);wn=wn.map(function(Ar){return qn.get(Ar.id)?(0,y.BE)(Ar,{groupIds:(0,E.S_)(Ar.groupIds,Mn,Le.editingGroupId)}):Ar});var Qn=(0,E.Fb)(wn,Mn),dr=Qn[Qn.length-1],ur=wn.lastIndexOf(dr),ir=wn.slice(ur+1),cr=wn.slice(0,ur).filter(function(Ar){return!(0,E.Nd)(Ar,Mn)});return wn=[].concat((0,p.Z)(cr),(0,p.Z)(Qn),(0,p.Z)(ir)),{appState:ft(ft({},Le),(0,E.F$)(Mn,ft(ft({},Le),{},{selectedGroupIds:{}}),(0,B.Lm)(wn))),elements:wn,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(Ee,Le,Ue,st){return Me(0,Le,st)},keyTest:function(Ee){return!Ee.shiftKey&&Ee[I.tW.CTRL_OR_CMD]&&Ee.key===I.tW.G},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData,Zt=Ee.app;return(0,o.jsx)(le.V,{hidden:!Me(0,Ue,Zt),type:"button",icon:(0,o.jsx)(f.BF,{theme:Ue.theme}),onClick:function(){return st(null)},title:"".concat((0,P.t)("labels.group"),"  ").concat((0,N.uY)("CtrlOrCmd+G")),"aria-label":(0,P.t)("labels.group"),visible:(0,a.N)((0,B.Lm)(Le),Ue)})}}),at=(0,w.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(Ee,Le,Ue,st){if((0,E.iJ)(Le).length===0)return{appState:Le,elements:Ee,commitToHistory:!1};var Zt=(0,p.Z)(Ee),qt=[];Zt=Zt.map(function(wn){(0,T.Xh)(wn)&&qt.push(wn.id);var Mn=(0,E.h6)(wn.groupIds,Le.selectedGroupIds);return Mn.length===wn.groupIds.length?wn:(0,y.BE)(wn,{groupIds:Mn})});var mn=(0,E.bO)(Le,(0,B.Lm)(Zt),Le,null),Xt=st.scene.getSelectedElements(Le),Vt=new Set(Xt.filter(function(wn){return wn.frameId}).map(function(wn){return wn.frameId}));return(0,He.wO)(Ee).filter(function(wn){return Vt.has(wn.id)}).forEach(function(wn){wn&&(Zt=(0,He.pr)(Zt,(0,He.ni)(Zt,wn,Le),wn,Le))}),mn.selectedElementIds=Object.entries(mn.selectedElementIds).reduce(function(wn,Mn){var qn=(0,g.Z)(Mn,2),Qn=qn[0];return qn[1]&&!qt.includes(Qn)&&(wn[Qn]=!0),wn},{}),{appState:ft(ft({},Le),mn),elements:Zt,commitToHistory:!0}},keyTest:function(Ee){return Ee.shiftKey&&Ee[I.tW.CTRL_OR_CMD]&&Ee.key===I.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(Ee,Le){return(0,E.iJ)(Le).length>0},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData;return(0,o.jsx)(le.V,{type:"button",hidden:(0,E.iJ)(Ue).length===0,icon:(0,o.jsx)(f.RJ,{theme:Ue.theme}),onClick:function(){return st(null)},title:"".concat((0,P.t)("labels.ungroup"),"  ").concat((0,N.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,P.t)("labels.ungroup"),visible:(0,a.N)((0,B.Lm)(Le),Ue)})}}),dt=e(957),vt=e(3379),Tt=e.n(vt),Et=e(7795),jt=e.n(Et),Kt=e(569),Gt=e.n(Kt),Ht=e(3565),$t=e.n(Ht),pn=e(9216),_t=e.n(pn),xt=e(4589),At=e.n(xt),It=e(3729),Mt={};Mt.styleTagTransform=At(),Mt.setAttributes=$t(),Mt.insert=Gt().bind(null,"head"),Mt.domAPI=jt(),Mt.insertStyleElement=_t(),Tt()(It.Z,Mt),It.Z&&It.Z.locals&&It.Z.locals;var Nt=e(9787),Yt=function(Ee){var Le=Ee.color,Ue=Ee.onClick,st=Ee.name,Zt=Ee.src,qt=(0,dt.l)(st),mn=(0,Nt.useState)(!1),Xt=(0,g.Z)(mn,2),Vt=Xt[0],wn=Xt[1],Mn=!Vt&&Zt,qn=Mn?void 0:{background:Le};return(0,o.jsx)("div",{className:"Avatar",style:qn,onClick:Ue,children:Mn?(0,o.jsx)("img",{className:"Avatar-img",src:Zt,alt:qt,referrerPolicy:"no-referrer",onError:function(){return wn(!0)}}):qt})},ln=e(2382);function an(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function kn(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?an(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):an(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}(0,w.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(Ee,Le,Ue){var st=Ue;return st?{appState:kn(kn(kn({},Le),(0,ln.s)({scenePoint:st,viewportDimensions:{width:Le.width,height:Le.height},zoom:Le.zoom})),{},{openMenu:Le.openMenu==="canvas"?null:Le.openMenu}),commitToHistory:!1}:{appState:Le,commitToHistory:!1}},PanelComponent:function(Ee){var Le=Ee.updateData,Ue=Ee.data,st=(0,g.Z)(Ue,2),Zt=st[0],qt=st[1],mn=(0,dt.G)(Zt);return(0,o.jsx)(Yt,{color:mn,onClick:function(){return Le(qt.pointer)},name:qt.username||"",src:qt.avatarUrl})}});var Tn=e(5742);function zn(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function un(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?zn(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):zn(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}function zt(Ee,Le){var Ue=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!Ue){if(Array.isArray(Ee)||(Ue=function(Vt,wn){if(Vt){if(typeof Vt=="string")return en(Vt,wn);var Mn=Object.prototype.toString.call(Vt).slice(8,-1);if(Mn==="Object"&&Vt.constructor&&(Mn=Vt.constructor.name),Mn==="Map"||Mn==="Set")return Array.from(Vt);if(Mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mn))return en(Vt,wn)}}(Ee))||Le){Ue&&(Ee=Ue);var st=0,Zt=function(){};return{s:Zt,n:function(){return st>=Ee.length?{done:!0}:{done:!1,value:Ee[st++]}},e:function(Vt){throw Vt},f:Zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qt,mn=!0,Xt=!1;return{s:function(){Ue=Ue.call(Ee)},n:function(){var Vt=Ue.next();return mn=Vt.done,Vt},e:function(Vt){Xt=!0,qt=Vt},f:function(){try{mn||Ue.return==null||Ue.return()}finally{if(Xt)throw qt}}}}function en(Ee,Le){(Le==null||Le>Ee.length)&&(Le=Ee.length);for(var Ue=0,st=new Array(Le);Ue<Le;Ue++)st[Ue]=Ee[Ue];return st}var Jt=(0,w.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(Ee,Le,Ue,st){var Zt,qt=st.scene.getSelectedElements({selectedElementIds:Le.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),mn=zt(r.PR);try{var Xt=function(){var wn=Zt.value;if(qt.some(function(Mn){return Mn.type===wn}))return{v:{commitToHistory:!1,appState:un(un({},Le),{},{errorMessage:(0,P.t)("errors.libraryElementTypeError.".concat(wn))})}}};for(mn.s();!(Zt=mn.n()).done;){var Vt=Xt();if((0,We.Z)(Vt)==="object")return Vt.v}}catch(wn){mn.e(wn)}finally{mn.f()}return st.library.getLatestLibrary().then(function(wn){return st.library.setLibrary([{id:(0,qe.kb)(),status:"unpublished",elements:qt.map(Tn.OL),created:Date.now()}].concat((0,p.Z)(wn)))}).then(function(){return{commitToHistory:!1,appState:un(un({},Le),{},{toast:{message:(0,P.t)("toast.addedToLibrary")}})}}).catch(function(wn){return{commitToHistory:!1,appState:un(un({},Le),{},{errorMessage:wn.message})}})},contextItemLabel:"labels.addToLibrary"}),Sn=e(4949);function Hn(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function Yn(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?Hn(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):Hn(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}var or=function(Ee,Le,Ue){var st=Ue.axis,Zt=Ue.position,qt=(0,Sn.v2)(Ee),mn=st==="x"?["minX","maxX"]:["minY","maxY"],Xt=(0,g.Z)(mn,2),Vt=Xt[0],wn=Xt[1],Mn={x:0,y:0};return Yn(Yn({},Mn),{},Zt==="start"?(0,z.Z)({},st,Le[Vt]-qt[Vt]):Zt==="end"?(0,z.Z)({},st,Le[wn]-qt[wn]):(0,z.Z)({},st,(Le[Vt]+Le[wn])/2-(qt[Vt]+qt[wn])/2))},$n=function(Ee,Le,Ue,st){var Zt=st.scene.getSelectedElements(Le);return Zt.length>1&&!Zt.some(function(qt){return qt.type==="frame"})},rn=function(Ee,Le,Ue,st){var Zt=function(mn,Xt){var Vt=(0,E.AI)(mn),wn=(0,Sn.v2)(mn);return Vt.flatMap(function(Mn){var qn=or(Mn,wn,Xt);return Mn.map(function(Qn){return(0,y.BE)(Qn,{x:Qn.x+qn.x,y:Qn.y+qn.y})})})}(Ue.scene.getSelectedElements(Le),st),qt=(0,N.xn)(Zt);return(0,He.Tq)(Ee.map(function(mn){return qt.get(mn.id)||mn}),Le,Ue)};(0,w.z)({name:"alignTop",trackEvent:{category:"element"},predicate:$n,perform:function(Ee,Le,Ue,st){return{appState:Le,elements:rn(Ee,Le,st,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&Ee.shiftKey&&Ee.key===I.tW.ARROW_UP},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData,Zt=Ee.app;return(0,o.jsx)(le.V,{hidden:!$n(0,Ue,0,Zt),type:"button",icon:f.Ct,onClick:function(){return st(null)},title:"".concat((0,P.t)("labels.alignTop"),"  ").concat((0,N.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,P.t)("labels.alignTop"),visible:(0,a.N)((0,B.Lm)(Le),Ue)})}}),(0,w.z)({name:"alignBottom",trackEvent:{category:"element"},predicate:$n,perform:function(Ee,Le,Ue,st){return{appState:Le,elements:rn(Ee,Le,st,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&Ee.shiftKey&&Ee.key===I.tW.ARROW_DOWN},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData,Zt=Ee.app;return(0,o.jsx)(le.V,{hidden:!$n(0,Ue,0,Zt),type:"button",icon:f.HL,onClick:function(){return st(null)},title:"".concat((0,P.t)("labels.alignBottom"),"  ").concat((0,N.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,P.t)("labels.alignBottom"),visible:(0,a.N)((0,B.Lm)(Le),Ue)})}}),(0,w.z)({name:"alignLeft",trackEvent:{category:"element"},predicate:$n,perform:function(Ee,Le,Ue,st){return{appState:Le,elements:rn(Ee,Le,st,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&Ee.shiftKey&&Ee.key===I.tW.ARROW_LEFT},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData,Zt=Ee.app;return(0,o.jsx)(le.V,{hidden:!$n(0,Ue,0,Zt),type:"button",icon:f.xs,onClick:function(){return st(null)},title:"".concat((0,P.t)("labels.alignLeft"),"  ").concat((0,N.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,P.t)("labels.alignLeft"),visible:(0,a.N)((0,B.Lm)(Le),Ue)})}}),(0,w.z)({name:"alignRight",trackEvent:{category:"element"},predicate:$n,perform:function(Ee,Le,Ue,st){return{appState:Le,elements:rn(Ee,Le,st,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&Ee.shiftKey&&Ee.key===I.tW.ARROW_RIGHT},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData,Zt=Ee.app;return(0,o.jsx)(le.V,{hidden:!$n(0,Ue,0,Zt),type:"button",icon:f.mh,onClick:function(){return st(null)},title:"".concat((0,P.t)("labels.alignRight"),"  ").concat((0,N.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,P.t)("labels.alignRight"),visible:(0,a.N)((0,B.Lm)(Le),Ue)})}}),(0,w.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},predicate:$n,perform:function(Ee,Le,Ue,st){return{appState:Le,elements:rn(Ee,Le,st,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData,Zt=Ee.app;return(0,o.jsx)(le.V,{hidden:!$n(0,Ue,0,Zt),type:"button",icon:f.ST,onClick:function(){return st(null)},title:(0,P.t)("labels.centerVertically"),"aria-label":(0,P.t)("labels.centerVertically"),visible:(0,a.N)((0,B.Lm)(Le),Ue)})}}),(0,w.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},predicate:$n,perform:function(Ee,Le,Ue,st){return{appState:Le,elements:rn(Ee,Le,st,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData,Zt=Ee.app;return(0,o.jsx)(le.V,{hidden:!$n(0,Ue,0,Zt),type:"button",icon:f.gK,onClick:function(){return st(null)},title:(0,P.t)("labels.centerHorizontally"),"aria-label":(0,P.t)("labels.centerHorizontally"),visible:(0,a.N)((0,B.Lm)(Le),Ue)})}});function Pt(Ee,Le){var Ue=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!Ue){if(Array.isArray(Ee)||(Ue=function(Vt,wn){if(Vt){if(typeof Vt=="string")return Dt(Vt,wn);var Mn=Object.prototype.toString.call(Vt).slice(8,-1);if(Mn==="Object"&&Vt.constructor&&(Mn=Vt.constructor.name),Mn==="Map"||Mn==="Set")return Array.from(Vt);if(Mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mn))return Dt(Vt,wn)}}(Ee))||Le){Ue&&(Ee=Ue);var st=0,Zt=function(){};return{s:Zt,n:function(){return st>=Ee.length?{done:!0}:{done:!1,value:Ee[st++]}},e:function(Vt){throw Vt},f:Zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qt,mn=!0,Xt=!1;return{s:function(){Ue=Ue.call(Ee)},n:function(){var Vt=Ue.next();return mn=Vt.done,Vt},e:function(Vt){Xt=!0,qt=Vt},f:function(){try{mn||Ue.return==null||Ue.return()}finally{if(Xt)throw qt}}}}function Dt(Ee,Le){(Le==null||Le>Ee.length)&&(Le=Ee.length);for(var Ue=0,st=new Array(Le);Ue<Le;Ue++)st[Ue]=Ee[Ue];return st}var Ft=function(Ee,Le){var Ue=Le.scene.getSelectedElements(Ee);return Ue.length>1&&!Ue.some(function(st){return st.type==="frame"})},dn=function(Ee,Le,Ue,st){var Zt=function(mn,Xt){var Vt,wn=Xt.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],Mn=(0,g.Z)(wn,4),qn=Mn[0],Qn=Mn[1],dr=Mn[2],ur=Mn[3],ir=(0,Sn.v2)(mn),cr=(0,E.AI)(mn).map(function(no){return[no,(0,Sn.v2)(no)]}).sort(function(no,ao){return no[1][Qn]-ao[1][Qn]}),Ar=0,Gr=Pt(cr);try{for(Gr.s();!(Vt=Gr.n()).done;)Ar+=Vt.value[1][ur]}catch(no){Gr.e(no)}finally{Gr.f()}var so=(ir[ur]-Ar)/(cr.length-1);if(so<0){var zo=cr.findIndex(function(no){return no[1][qn]===ir[qn]}),ii=cr.findIndex(function(no){return no[1][dr]===ir[dr]}),Ir=(cr[ii][1][Qn]-cr[zo][1][Qn])/(cr.length-1),hr=cr[zo][1][Qn];return cr.flatMap(function(no,ao){var Xo=(0,g.Z)(no,2),Ho=Xo[0],di=Xo[1],ai={x:0,y:0};return ao!==zo&&ao!==ii&&(hr+=Ir,ai[Xt.axis]=hr-di[Qn]),Ho.map(function(ui){return(0,y.BE)(ui,{x:ui.x+ai.x,y:ui.y+ai.y})})})}var Ur=ir[qn];return cr.flatMap(function(no){var ao=(0,g.Z)(no,2),Xo=ao[0],Ho=ao[1],di={x:0,y:0};return di[Xt.axis]=Ur-Ho[qn],Ur+=so,Ur+=Ho[ur],Xo.map(function(ai){return(0,y.BE)(ai,{x:ai.x+di.x,y:ai.y+di.y})})})}(Ue.scene.getSelectedElements(Le),st),qt=(0,N.xn)(Zt);return(0,He.Tq)(Ee.map(function(mn){return qt.get(mn.id)||mn}),Le,Ue)},jn=((0,w.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(Ee,Le,Ue,st){return{appState:Le,elements:dn(Ee,Le,st,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(Ee){return!Ee[I.tW.CTRL_OR_CMD]&&Ee.altKey&&Ee.code===I.aU.H},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData,Zt=Ee.app;return(0,o.jsx)(le.V,{hidden:!Ft(Ue,Zt),type:"button",icon:f.uD,onClick:function(){return st(null)},title:"".concat((0,P.t)("labels.distributeHorizontally"),"  ").concat((0,N.uY)("Alt+H")),"aria-label":(0,P.t)("labels.distributeHorizontally"),visible:(0,a.N)((0,B.Lm)(Le),Ue)})}}),(0,w.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(Ee,Le,Ue,st){return{appState:Le,elements:dn(Ee,Le,st,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(Ee){return!Ee[I.tW.CTRL_OR_CMD]&&Ee.altKey&&Ee.code===I.aU.V},PanelComponent:function(Ee){var Le=Ee.elements,Ue=Ee.appState,st=Ee.updateData,Zt=Ee.app;return(0,o.jsx)(le.V,{hidden:!Ft(Ue,Zt),type:"button",icon:f.W5,onClick:function(){return st(null)},title:"".concat((0,P.t)("labels.distributeVertically"),"  ").concat((0,N.uY)("Alt+V")),"aria-label":(0,P.t)("labels.distributeVertically"),visible:(0,a.N)((0,B.Lm)(Le),Ue)})}}),e(4381)),Cn=(0,w.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(Ee,Le,Ue,st){return{elements:(0,He.Tq)(Wn(Ee,Le,"horizontal"),Le,st),appState:Le,commitToHistory:!0}},keyTest:function(Ee){return Ee.shiftKey&&Ee.code===I.aU.H},contextItemLabel:"labels.flipHorizontal"}),Dn=(0,w.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(Ee,Le,Ue,st){return{elements:(0,He.Tq)(Wn(Ee,Le,"vertical"),Le,st),appState:Le,commitToHistory:!0}},keyTest:function(Ee){return Ee.shiftKey&&Ee.code===I.aU.V&&!Ee[I.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical"}),Wn=function(Ee,Le,Ue){var st=(0,a.eD)((0,B.Lm)(Ee),Le,{includeBoundTextElement:!0,includeElementsInFrames:!0}),Zt=Ln(st,Le,Ue),qt=(0,N.xn)(Zt);return Ee.map(function(mn){return qt.get(mn.id)||mn})},Ln=function(Ee,Le,Ue){var st=(0,Sn.v2)(Ee),Zt=st.minX,qt=st.minY,mn=st.maxX,Xt=st.maxY;return(0,jn.LM)({originalElements:(0,N.xn)(Ee)},Ee,"nw",!0,Ue==="horizontal"?mn:Zt,Ue==="horizontal"?qt:Xt),((0,ce.N1)(Le)?ce.el:ce.H)(Ee),Ee},er=e(5047);function Vn(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function Pn(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?Vn(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):Vn(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}var Rn=(0,w.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(Ee){return!Ee.gridSize}},perform:function(Ee,Le){return{appState:Pn(Pn({},Le),{},{gridSize:this.checked(Le)?null:r.k,objectsSnapModeEnabled:!1}),commitToHistory:!1}},checked:function(Ee){return Ee.gridSize!==null},predicate:function(Ee,Le,Ue){return Ue.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(Ee){return Ee[I.tW.CTRL_OR_CMD]&&Ee.code===I.aU.QUOTE}});function Nn(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function Gn(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?Nn(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):Nn(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}var nr=(0,w.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(Ee){return!Ee.zenModeEnabled}},perform:function(Ee,Le){return{appState:Gn(Gn({},Le),{},{zenModeEnabled:!this.checked(Le)}),commitToHistory:!1}},checked:function(Ee){return Ee.zenModeEnabled},predicate:function(Ee,Le,Ue){return Ue.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(Ee){return!Ee[I.tW.CTRL_OR_CMD]&&Ee.altKey&&Ee.code===I.aU.Z}});function rr(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function Or(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?rr(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):rr(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}var Xr=(0,w.z)({name:"objectsSnapMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(Ee){return!Ee.objectsSnapModeEnabled}},perform:function(Ee,Le){return{appState:Or(Or({},Le),{},{objectsSnapModeEnabled:!this.checked(Le),gridSize:null}),commitToHistory:!1}},checked:function(Ee){return Ee.objectsSnapModeEnabled},predicate:function(Ee,Le,Ue){return Ue.objectsSnapModeEnabled===void 0},contextItemLabel:"buttons.objectsSnapMode",keyTest:function(Ee){return!Ee[I.tW.CTRL_OR_CMD]&&Ee.altKey&&Ee.code===I.aU.S}}),po=e(7080),xo=e(7392),jo=e(5992),ho=e(9672);function Qr(Ee,Le){var Ue=Object.keys(Ee);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(Ee);Le&&(st=st.filter(function(Zt){return Object.getOwnPropertyDescriptor(Ee,Zt).enumerable})),Ue.push.apply(Ue,st)}return Ue}function go(Ee){for(var Le=1;Le<arguments.length;Le++){var Ue=arguments[Le]!=null?arguments[Le]:{};Le%2?Qr(Object(Ue),!0).forEach(function(st){(0,z.Z)(Ee,st,Ue[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ue)):Qr(Object(Ue)).forEach(function(st){Object.defineProperty(Ee,st,Object.getOwnPropertyDescriptor(Ue,st))})}return Ee}var et=(0,w.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(Ee,Le,Ue,st){var Zt=st.scene.getSelectedElements(Le);return!(Zt.length!==1||!(0,T.bt)(Zt[0]))},perform:function(Ee,Le,Ue,st){var Zt,qt=st.scene.getSelectedElements({selectedElementIds:Le.selectedElementIds,includeBoundTextElement:!0})[0],mn=((Zt=Le.editingLinearElement)===null||Zt===void 0?void 0:Zt.elementId)===qt.id?null:new j._(qt,st.scene);return{appState:go(go({},Le),{},{editingLinearElement:mn}),commitToHistory:!1}},contextItemLabel:function(Ee,Le,Ue){var st,Zt=Ue.scene.getSelectedElements({selectedElementIds:Le.selectedElementIds,includeBoundTextElement:!0})[0];return((st=Le.editingLinearElement)===null||st===void 0?void 0:st.elementId)===Zt.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},2767:function(te,t,e){e.d(t,{N:function(){return _},z:function(){return g}});var _=[],g=function(p){return _=_.concat(p),p}},2529:function(te,t,e){e.d(t,{C:function(){return T}});var _=e(9937),g=e(8227),p=e(9827),y={toggleTheme:[(0,p.uY)("Shift+Alt+D")],saveScene:[(0,p.uY)("CtrlOrCmd+S")],loadScene:[(0,p.uY)("CtrlOrCmd+O")],clearCanvas:[(0,p.uY)("CtrlOrCmd+Delete")],imageExport:[(0,p.uY)("CtrlOrCmd+Shift+E")],cut:[(0,p.uY)("CtrlOrCmd+X")],copy:[(0,p.uY)("CtrlOrCmd+C")],paste:[(0,p.uY)("CtrlOrCmd+V")],copyStyles:[(0,p.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,p.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,p.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,p.uY)("Delete")],duplicateSelection:[(0,p.uY)("CtrlOrCmd+D"),(0,p.uY)("Alt+".concat((0,g.t)("helpDialog.drag")))],sendBackward:[(0,p.uY)("CtrlOrCmd+[")],bringForward:[(0,p.uY)("CtrlOrCmd+]")],sendToBack:[_.Um?(0,p.uY)("CtrlOrCmd+Alt+["):(0,p.uY)("CtrlOrCmd+Shift+[")],bringToFront:[_.Um?(0,p.uY)("CtrlOrCmd+Alt+]"):(0,p.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,p.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,p.uY)("CtrlOrCmd+G")],ungroup:[(0,p.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,p.uY)("CtrlOrCmd+'")],zenMode:[(0,p.uY)("Alt+Z")],objectsSnapMode:[(0,p.uY)("Alt+S")],stats:[(0,p.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,p.uY)("Shift+H")],flipVertical:[(0,p.uY)("Shift+V")],viewMode:[(0,p.uY)("Alt+R")],hyperlink:[(0,p.uY)("CtrlOrCmd+K")],toggleElementLock:[(0,p.uY)("CtrlOrCmd+Shift+L")]},T=function(E){var a=y[E];return a&&a.length>0?a[0]:""}},3646:function(te,t,e){e.d(t,{L:function(){return _}});var _=function(g,p,y,T){try{if(typeof window>"u"||{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_WORKER_ID||![].includes(g))return;window.sa_event&&window.sa_event(p,{category:g,label:y,value:T})}catch(E){console.error("error during analytics",E)}}},6853:function(te,t,e){e.d(t,{EN:function(){return x},eS:function(){return H},im:function(){return E},l$:function(){return m},s:function(){return N}});var _=e(9240),g=e(9937),p=e(8227),y=e(9827),T=g.ZB.includes(devicePixelRatio)?devicePixelRatio:1,E=function(){return{showWelcomeScreen:!1,theme:g.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:g.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:g.HN.fillStyle,currentItemFontFamily:g.rk,currentItemFontSize:g.n5,currentItemOpacity:g.HN.opacity,currentItemRoughness:g.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:g.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:g.HN.strokeStyle,currentItemStrokeWidth:g.HN.strokeWidth,currentItemTextAlign:g.Hg,cursorButton:"up",activeEmbeddable:null,draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:g.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:T,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,p.t)("labels.untitled"),"-").concat((0,y.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:_.HO.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1}},a={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1}},u=function(k,Q){for(var ue={},me=0,ye=Object.keys(k);me<ye.length;me++){var fe=ye[me],G=a[fe];if(G!=null&&G[Q]){var $=k[fe];ue[fe]=$}}return ue},N=function(k){return u(k,"export")},H=function(k){return u(k,"server")},x=function(k){return k.activeTool.type==="eraser"},m=function(k){return k.activeTool.type==="hand"}},901:function(te,t,e){e.d(t,{dz:function(){return $},i$:function(){return me},ps:function(){return P}});var _=e(1930),g=e(7169),p=e(2577),y=e(9240),T=e(9937),E=e(7651),a=e(4643);function u(w,f){var r=typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(!r){if(Array.isArray(w)||(r=function(z,B){if(z){if(typeof z=="string")return N(z,B);var j=Object.prototype.toString.call(z).slice(8,-1);if(j==="Object"&&z.constructor&&(j=z.constructor.name),j==="Map"||j==="Set")return Array.from(z);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return N(z,B)}}(w))||f){r&&(w=r);var o=0,b=function(){};return{s:b,n:function(){return o>=w.length?{done:!0}:{done:!1,value:w[o++]}},e:function(z){throw z},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,c=!0,S=!1;return{s:function(){r=r.call(w)},n:function(){var z=r.next();return c=z.done,z},e:function(z){S=!0,s=z},f:function(){try{c||r.return==null||r.return()}finally{if(S)throw s}}}}function N(w,f){(f==null||f>w.length)&&(f=w.length);for(var r=0,o=new Array(f);r<f;r++)o[r]=w[r];return o}function H(w,f){var r=Object.keys(w);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(w);f&&(o=o.filter(function(b){return Object.getOwnPropertyDescriptor(w,b).enumerable})),r.push.apply(r,o)}return r}function x(w){for(var f=1;f<arguments.length;f++){var r=arguments[f]!=null?arguments[f]:{};f%2?H(Object(r),!0).forEach(function(o){(0,g.Z)(w,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(o){Object.defineProperty(w,o,Object.getOwnPropertyDescriptor(r,o))})}return w}var m=32,k=12,Q=256,ue="NOT_SPREADSHEET",me="VALID_SPREADSHEET",ye=function(w){var f=/^([-+]?)[$]?([-+]?)([\d.,]+)[%]?$/.exec(w);return f?parseFloat("".concat((f[1]||f[2])+f[3]).replace(/,/g,"")):null},fe=function(w,f){return w.slice(1).every(function(r){return ye(r[f])!==null})},G=function(w){var f=w[0].length;if(f>2)return{type:ue,reason:"More than 2 columns"};if(f===1){if(!fe(w,0))return{type:ue,reason:"Value is not numeric"};var r=ye(w[0][0])===null,o=(r?w.slice(1):w).map(function(A){return ye(A[0])});return o.length<2?{type:ue,reason:"Less than two rows"}:{type:me,spreadsheet:{title:r?w[0][0]:null,labels:null,values:o}}}var b=fe(w,0),s=fe(w,1);if(!b&&!s)return{type:ue,reason:"Value is not numeric"};var c=s?[0,1]:[1,0],S=(0,p.Z)(c,2),z=S[0],B=S[1],j=ye(w[0][B])===null,C=j?w.slice(1):w;return C.length<2?{type:ue,reason:"Less than 2 rows"}:{type:me,spreadsheet:{title:j?w[0][B]:null,labels:C.map(function(A){return A[z]}),values:C.map(function(A){return ye(A[B])})}}},$=function(w){var f=w.trim().split(`
`).map(function(s){return s.trim().split("	")});if(f.length&&f[0].length!==2&&(f=w.trim().split(`
`).map(function(s){return s.trim().split(",")})),f.length===0)return{type:ue,reason:"No values"};var r=f[0].length;if(!f.every(function(s){return s.length===r}))return{type:ue,reason:"All rows don't have same number of columns"};var o=G(f);if(o.type!==me){var b=G(function(s){for(var c=[],S=0;S<s[0].length;S++){for(var z=[],B=0;B<s.length;B++)z.push(s[B][S]);c.push(z)}return c}(f));if(b.type===me)return b}return o},U=(0,y.sF)(y.C2),L={fillStyle:"hachure",fontFamily:T.rk,fontSize:T.n5,opacity:100,roughness:1,strokeColor:y.HO.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:T.oX.MIDDLE,locked:!1},F=function(w){return{chartWidth:44*w.values.length+k,chartHeight:280}},I=function(w,f,r,o,b,s){var c=F(w),S=c.chartWidth,z=w.title?(0,E.VL)(x(x({backgroundColor:b,groupIds:[o]},L),{},{text:w.title,x:f+S/2,y:r-Q-24-T.n5,roundness:null,textAlign:"center"})):null;return[].concat((0,_.Z)([]),(0,_.Z)(z?[z]:[]),(0,_.Z)(function(B,j,C,A,Y){var ie;return((ie=B.labels)===null||ie===void 0?void 0:ie.map(function(le,ce){return(0,E.VL)(x(x({groupIds:[A],backgroundColor:Y},L),{},{text:le.length>8?"".concat(le.slice(0,5),"..."):le,x:j+44*ce+24,y:C+6,width:m,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(w,f,r,o,b)),(0,_.Z)(function(B,j,C,A,Y){var ie=(0,E.VL)(x(x({groupIds:[A],backgroundColor:Y},L),{},{x:j-k,y:C-k,text:"0",textAlign:"right"}));return[ie,(0,E.VL)(x(x({groupIds:[A],backgroundColor:Y},L),{},{x:j-k,y:C-Q-ie.height/2,text:Math.max.apply(Math,(0,_.Z)(B.values)).toLocaleString(),textAlign:"right"}))]}(w,f,r,o,b)),(0,_.Z)(function(B,j,C,A,Y){var ie=F(B),le=ie.chartWidth,ce=ie.chartHeight;return[(0,E.y8)(x(x({backgroundColor:Y,groupIds:[A]},L),{},{type:"line",x:j,y:C,startArrowhead:null,endArrowhead:null,width:le,points:[[0,0],[le,0]]})),(0,E.y8)(x(x({backgroundColor:Y,groupIds:[A]},L),{},{type:"line",x:j,y:C,startArrowhead:null,endArrowhead:null,height:ce,points:[[0,0],[0,-ce]]})),(0,E.y8)(x(x({backgroundColor:Y,groupIds:[A]},L),{},{type:"line",x:j,y:C-Q-k,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:le,opacity:50,points:[[0,0],[le,0]]}))]}(w,f,r,o,b)))},P=function(w,f,r,o){return w==="line"?function(b,s,c){var S,z=Math.max.apply(Math,(0,_.Z)(b.values)),B=(0,a.kb)(),j=U[Math.floor(Math.random()*U.length)],C=0,A=[],Y=u(b.values);try{for(Y.s();!(S=Y.n()).done;){var ie=S.value,le=44*C,ce=-ie/z*Q;A.push([le,ce]),C++}}catch(Ae){Y.e(Ae)}finally{Y.f()}var de=Math.max.apply(Math,(0,_.Z)(A.map(function(Ae){return Ae[0]}))),J=Math.max.apply(Math,(0,_.Z)(A.map(function(Ae){return Ae[1]}))),ee=Math.min.apply(Math,(0,_.Z)(A.map(function(Ae){return Ae[0]}))),he=Math.min.apply(Math,(0,_.Z)(A.map(function(Ae){return Ae[1]}))),Pe=(0,E.y8)(x(x({backgroundColor:j,groupIds:[B]},L),{},{type:"line",x:s+k+16,y:c-k,startArrowhead:null,endArrowhead:null,height:J-he,width:de-ee,strokeWidth:2,points:A})),He=b.values.map(function(Ae,Oe){var Te=44*Oe+6,De=-Ae/z*Q+6;return(0,E.Up)(x(x({backgroundColor:j,groupIds:[B]},L),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:s+Te+16,y:c+De-24,width:k,height:k}))}),Ke=b.values.map(function(Ae,Oe){var Te=44*Oe+6,De=Ae/z*Q+6+k;return(0,E.y8)(x(x({backgroundColor:j,groupIds:[B]},L),{},{type:"line",x:s+Te+16+6,y:c-De,startArrowhead:null,endArrowhead:null,height:De,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,De]]}))});return[].concat((0,_.Z)(I(b,s,c,B,j)),[Pe],(0,_.Z)(Ke),(0,_.Z)(He))}(f,r,o):function(b,s,c){var S=Math.max.apply(Math,(0,_.Z)(b.values)),z=(0,a.kb)(),B=U[Math.floor(Math.random()*U.length)],j=b.values.map(function(C,A){var Y=C/S*Q;return(0,E.Up)(x(x({backgroundColor:B,groupIds:[z]},L),{},{type:"rectangle",x:s+44*A+k,y:c-Y-k,width:m,height:Y}))});return[].concat((0,_.Z)(j),(0,_.Z)(I(b,s,c,z,B)))}(f,r,o)}},957:function(te,t,e){e.d(t,{G:function(){return _},l:function(){return g}});var _=function(p){var y=Math.abs(function(T){var E=0;if(T.length===0)return E;for(var a=0;a<T.length;a++)E=(E<<5)-E+T.charCodeAt(a);return E}(p));return"hsl(".concat(y%37*10,", ").concat(100,"%, ").concat(83,"%)")},g=function(p){var y,T=p==null||(y=p.trim())===null||y===void 0?void 0:y.codePointAt(0);return(T?String.fromCodePoint(T):"?").toUpperCase()}},4694:function(te,t,e){e.d(t,{OO:function(){return G},Se:function(){return P},dd:function(){return o},mQ:function(){return f},uR:function(){return r},vQ:function(){return U},vt:function(){return ye},wx:function(){return me}});var _=e(7169),g=e(8950),p=e(2577),y=e(2975),T=e.n(y),E=e(901),a=e(9937),u=e(4183),N=e(5742),H=e(583),x=e(4682),m=e(9827),k=e(8227);function Q(s,c){var S=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!S){if(Array.isArray(s)||(S=function(Y,ie){if(Y){if(typeof Y=="string")return ue(Y,ie);var le=Object.prototype.toString.call(Y).slice(8,-1);if(le==="Object"&&Y.constructor&&(le=Y.constructor.name),le==="Map"||le==="Set")return Array.from(Y);if(le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le))return ue(Y,ie)}}(s))||c){S&&(s=S);var z=0,B=function(){};return{s:B,n:function(){return z>=s.length?{done:!0}:{done:!1,value:s[z++]}},e:function(Y){throw Y},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,C=!0,A=!1;return{s:function(){S=S.call(s)},n:function(){var Y=S.next();return C=Y.done,Y},e:function(Y){A=!0,j=Y},f:function(){try{C||S.return==null||S.return()}finally{if(A)throw j}}}}function ue(s,c){(c==null||c>s.length)&&(c=s.length);for(var S=0,z=new Array(c);S<c;S++)z[S]=s[S];return z}var me="clipboard"in navigator&&"writeText"in navigator.clipboard,ye="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,fe=function(s){return!(![a.r8.excalidraw,a.r8.excalidrawClipboard,a.r8.excalidrawClipboardWithAPI].includes(s?.type)||!Array.isArray(s.elements))},G=function(s){var c=s.types,S=s.files;c||S||console.warn("createPasteEvent: no types or files provided");var z=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(c)for(var B=0,j=Object.entries(c);B<j.length;B++){var C=(0,p.Z)(j[B],2),A=C[0],Y=C[1];try{var ie,le;if((ie=z.clipboardData)===null||ie===void 0||ie.setData(A,Y),((le=z.clipboardData)===null||le===void 0?void 0:le.getData(A))!==Y)throw new Error('Failed to set "'.concat(A,'" as clipboardData item'))}catch(He){throw new Error(He.message)}}if(S){var ce,de=-1,J=Q(S);try{for(J.s();!(ce=J.n()).done;){var ee=ce.value;de++;try{var he,Pe;if((he=z.clipboardData)===null||he===void 0||he.items.add(ee),((Pe=z.clipboardData)===null||Pe===void 0?void 0:Pe.files[de])!==ee)throw new Error('Failed to set file "'.concat(ee.name,'" as clipboardData item'))}catch(He){throw new Error(He.message)}}}catch(He){J.e(He)}finally{J.f()}}return z},$=function(s){var c=s.elements,S=s.files,z=new Set(c.filter(function(A){return A.type==="frame"})),B=!1,j=c.reduce(function(A,Y){return(0,u.wi)(Y)&&(B=!0,S&&S[Y.fileId]&&(A[Y.fileId]=S[Y.fileId])),A},{});B&&!S&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var C={type:a.r8.excalidrawClipboard,elements:c.map(function(A){if((0,x.$Z)(A)&&!z.has((0,x.$Z)(A))){var Y=(0,N.OL)(A);return(0,H.DR)(Y,{frameId:null}),Y}return A}),files:S?j:void 0};return JSON.stringify(C)},U=function(){var s=(0,g.Z)(T().mark(function c(S,z,B){return T().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,o($({elements:S,files:z}),B);case 2:case"end":return j.stop()}},c)}));return function(c,S,z){return s.apply(this,arguments)}}(),L=function(s){var c=(0,E.dz)(s);return c.type===E.i$?{spreadsheet:c.spreadsheet}:null};function F(s){var c,S=[],z=Q(s.childNodes);try{for(z.s();!(c=z.n()).done;){var B=c.value;if(B.nodeType===3){var j,C=(j=B.textContent)===null||j===void 0?void 0:j.trim();C&&S.push({type:"text",value:C})}else if(B instanceof HTMLImageElement){var A=B.getAttribute("src");A&&A.startsWith("http")&&S.push({type:"imageUrl",value:A})}else S=S.concat(F(B))}}catch(Y){z.e(Y)}finally{z.f()}return S}var I=function(s){var c,S=(c=s.clipboardData)===null||c===void 0?void 0:c.getData("text/html");if(!S)return null;try{var z=F(new DOMParser().parseFromString(S,"text/html").body);if(z.length)return{type:"mixedContent",value:z}}catch(B){console.error("error in parseHTMLFromPaste: ".concat(B.message))}return null},P=function(){var s=(0,g.Z)(T().mark(function c(){var S,z,B,j,C,A,Y,ie,le,ce,de,J;return T().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(S={},ee.prev=1,(z=navigator.clipboard)===null||z===void 0||!z.readText){ee.next=7;break}return ee.next=5,(B=navigator.clipboard)===null||B===void 0?void 0:B.readText();case 5:return ee.t0=ee.sent,ee.abrupt("return",{"text/plain":ee.t0});case 7:ee.next=16;break;case 9:if(ee.prev=9,ee.t1=ee.catch(1),(j=navigator.clipboard)===null||j===void 0||!j.read){ee.next=15;break}console.warn("navigator.clipboard.readText() failed (".concat(ee.t1.message,"). Failling back to navigator.clipboard.read()")),ee.next=16;break;case 15:throw ee.t1;case 16:return ee.prev=16,ee.next=19,(A=navigator.clipboard)===null||A===void 0?void 0:A.read();case 19:C=ee.sent,ee.next=28;break;case 22:if(ee.prev=22,ee.t2=ee.catch(16),ee.t2.name!=="DataError"){ee.next=27;break}return console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(ee.t2.message)),ee.abrupt("return",S);case 27:throw ee.t2;case 28:Y=Q(C),ee.prev=29,Y.s();case 31:if((ie=Y.n()).done){ee.next=63;break}le=ie.value,ce=Q(le.types),ee.prev=34,ce.s();case 36:if((de=ce.n()).done){ee.next=53;break}if(J=de.value,(0,m.XF)(a.wL,J)){ee.next=40;break}return ee.abrupt("continue",51);case 40:return ee.prev=40,ee.next=43,le.getType(J);case 43:return ee.next=45,ee.sent.text();case 45:S[J]=ee.sent,ee.next=51;break;case 48:ee.prev=48,ee.t3=ee.catch(40),console.warn("Cannot retrieve ".concat(J," from clipboardItem: ").concat(ee.t3.message));case 51:ee.next=36;break;case 53:ee.next=58;break;case 55:ee.prev=55,ee.t4=ee.catch(34),ce.e(ee.t4);case 58:return ee.prev=58,ce.f(),ee.finish(58);case 61:ee.next=31;break;case 63:ee.next=68;break;case 65:ee.prev=65,ee.t5=ee.catch(29),Y.e(ee.t5);case 68:return ee.prev=68,Y.f(),ee.finish(68);case 71:if(Object.keys(S).length!==0){ee.next=74;break}return console.warn("No clipboard data found from clipboard.read()."),ee.abrupt("return",S);case 74:return ee.abrupt("return",S);case 75:case"end":return ee.stop()}},c,null,[[1,9],[16,22],[29,65,68,71],[34,55,58,61],[40,48]])}));return function(){return s.apply(this,arguments)}}(),w=function(){var s=(0,g.Z)(T().mark(function c(S){var z,B,j,C,A,Y=arguments;return T().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(z=Y.length>1&&Y[1]!==void 0&&Y[1],ie.prev=1,!(j=!z&&S&&I(S))){ie.next=7;break}if(!j.value.every(function(le){return le.type==="text"})){ie.next=6;break}return ie.abrupt("return",{type:"text",value:((C=S.clipboardData)===null||C===void 0?void 0:C.getData("text/plain"))||j.value.map(function(le){return le.value}).join(`
`).trim()});case 6:return ie.abrupt("return",j);case 7:return A=(B=S.clipboardData)===null||B===void 0?void 0:B.getData("text/plain"),ie.abrupt("return",{type:"text",value:(A||"").trim()});case 11:return ie.prev=11,ie.t0=ie.catch(1),ie.abrupt("return",{type:"text",value:""});case 14:case"end":return ie.stop()}},c,null,[[1,11]])}));return function(c){return s.apply(this,arguments)}}(),f=function(){var s=(0,g.Z)(T().mark(function c(S){var z,B,j,C,A,Y=arguments;return T().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return z=Y.length>1&&Y[1]!==void 0&&Y[1],ie.next=3,w(S,z);case 3:if((B=ie.sent).type!=="mixedContent"){ie.next=6;break}return ie.abrupt("return",{mixedContent:B.value});case 6:if(ie.prev=6,!(j=!z&&L(B.value))){ie.next=10;break}return ie.abrupt("return",j);case 10:ie.next=15;break;case 12:ie.prev=12,ie.t0=ie.catch(6),console.error(ie.t0);case 15:if(ie.prev=15,C=JSON.parse(B.value),A=C.type===a.r8.excalidrawClipboardWithAPI,!fe(C)){ie.next=20;break}return ie.abrupt("return",{elements:C.elements,files:C.files,text:z?JSON.stringify(C.elements,null,2):void 0,programmaticAPI:A});case 20:ie.next=24;break;case 22:ie.prev=22,ie.t1=ie.catch(15);case 24:return ie.abrupt("return",{text:B.value});case 25:case"end":return ie.stop()}},c,null,[[6,12],[15,22]])}));return function(c){return s.apply(this,arguments)}}(),r=function(){var s=(0,g.Z)(T().mark(function c(S){return T().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,navigator.clipboard.write([new window.ClipboardItem((0,_.Z)({},a.LO.png,S))]);case 3:case 21:z.next=24;break;case 5:if(z.prev=5,z.t0=z.catch(0),!(0,m.y8)(S)){z.next=23;break}return z.t1=navigator.clipboard,z.t2=window.ClipboardItem,z.t3=_.Z,z.t4={},z.t5=a.LO.png,z.next=15,S;case 15:return z.t6=z.sent,z.t7=(0,z.t3)(z.t4,z.t5,z.t6),z.t8=new z.t2(z.t7),z.t9=[z.t8],z.next=21,z.t1.write.call(z.t1,z.t9);case 23:throw z.t0;case 24:case"end":return z.stop()}},c,null,[[0,5]])}));return function(c){return s.apply(this,arguments)}}(),o=function(){var s=(0,g.Z)(T().mark(function c(S,z){var B,j;return T().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!me){C.next=10;break}return C.prev=1,C.next=4,navigator.clipboard.writeText(S||"");case 4:return C.abrupt("return");case 7:C.prev=7,C.t0=C.catch(1),console.error(C.t0);case 10:if(C.prev=10,!z){C.next=16;break}if((B=z.clipboardData)===null||B===void 0||B.setData("text/plain",S||""),((j=z.clipboardData)===null||j===void 0?void 0:j.getData("text/plain"))===S){C.next=15;break}throw new Error("Failed to setData on clipboardEvent");case 15:return C.abrupt("return");case 16:C.next=21;break;case 18:C.prev=18,C.t1=C.catch(10),console.error(C.t1);case 21:if(b(S)){C.next=23;break}throw new Error((0,k.t)("errors.copyToSystemClipboardFailed"));case 23:case"end":return C.stop()}},c,null,[[1,7],[10,18]])}));return function(c,S){return s.apply(this,arguments)}}(),b=function(s){s||(s=" ");var c=document.documentElement.getAttribute("dir")==="rtl",S=document.createElement("textarea");S.style.border="0",S.style.padding="0",S.style.margin="0",S.style.position="absolute",S.style[c?"right":"left"]="-9999px";var z=window.pageYOffset||document.documentElement.scrollTop;S.style.top="".concat(z,"px"),S.style.fontSize="12pt",S.setAttribute("readonly",""),S.value=s,document.body.appendChild(S);var B=!1;try{S.select(),S.setSelectionRange(0,S.value.length),B=document.execCommand("copy")}catch(j){console.error(j)}return S.remove(),B}},9240:function(te,t,e){e.d(t,{C2:function(){return u},HO:function(){return k},Lx:function(){return E},SF:function(){return G},Wk:function(){return fe},_T:function(){return H},ay:function(){return ye},dC:function(){return a},eq:function(){return me},fY:function(){return ue},sF:function(){return $},vq:function(){return U},z8:function(){return N}});var _=e(7169),g=e(5284);function p(L,F){var I=Object.keys(L);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(L);F&&(P=P.filter(function(w){return Object.getOwnPropertyDescriptor(L,w).enumerable})),I.push.apply(I,P)}return I}function y(L){for(var F=1;F<arguments.length;F++){var I=arguments[F]!=null?arguments[F]:{};F%2?p(Object(I),!0).forEach(function(P){(0,_.Z)(L,P,I[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(I)):p(Object(I)).forEach(function(P){Object.defineProperty(L,P,Object.getOwnPropertyDescriptor(I,P))})}return L}var T,E=5,a=5,u=4,N=4,H=1,x=[0,2,4,6,8],m=function(L,F){return F.map(function(I){return g[L][I]})},k={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:m("gray",x),red:m("red",x),pink:m("pink",x),grape:m("grape",x),violet:m("violet",x),blue:m("blue",x),cyan:m("cyan",x),teal:m("teal",x),green:m("green",x),yellow:m("yellow",x),orange:m("orange",x),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},Q=(T=k,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"].reduce(function(L,F){return F in T&&(L[F]=T[F]),L},{})),ue=[k.black,k.red[N],k.green[N],k.blue[N],k.yellow[N]],me=[k.transparent,k.red[H],k.green[H],k.blue[H],k.yellow[H]],ye=[k.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],fe=y({transparent:k.transparent,white:k.white,gray:k.gray,black:k.black,bronze:k.bronze},Q),G=y({transparent:k.transparent,white:k.white,gray:k.gray,black:k.black,bronze:k.bronze},Q),$=function(L){return[k.cyan[L],k.blue[L],k.violet[L],k.grape[L],k.pink[L],k.green[L],k.teal[L],k.yellow[L],k.orange[L],k.red[L]]},U=function(L,F,I){return"#".concat(((1<<24)+(L<<16)+(F<<8)+I).toString(16).slice(1))}},8973:function(te,t,e){e.d(t,{o:function(){return H},w:function(){return N}});var _=e(2577),g=e(3607),p=e(5463),y=e(8227),T=e(453),E=e(8242),a=e(6887),u=e(1020),N=(0,g.cn)(null),H=function(){var x=(0,g.KO)(N,T.yE),m=(0,_.Z)(x,2),k=m[0],Q=m[1],ue=(0,E.eh)();return k&&k==="clearCanvas"?(0,u.jsx)(a.Z,{onConfirm:function(){ue.executeAction(p.mo),Q(null)},onCancel:function(){return Q(null)},title:(0,y.t)("clearCanvasDialog.title"),children:(0,u.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,y.t)("alerts.clearReset")]})}):null}},8242:function(te,t,e){e.d(t,{ZP:function(){return Z},qD:function(){return Is},hY:function(){return ms},Fy:function(){return Jl},eh:function(){return Ds},gF:function(){return Ms},J0:function(){return Ps},bd:function(){return Ts},n9:function(){return As}});var _=e(6655),g=e(2577),p=e(1930),y=e(8950),T=e(8821),E=e(5169),a=e(3173),u=e(2248),N=e(7245),H=e(2312),x=e(7169),m=e(2975),k=e.n(m),Q=e(9787),ue=e.n(Q),me=e(5156),ye=e(9845),fe=e(45),G=e(5605),$=e(5463),U=e(8935),L=e(1512),F=e(8227),I=e(5491),P=e(583),w=e(9645),f=e(9827),r=e(9937),o=e(1020);function b(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}function s(i){for(var O=1;O<arguments.length;O++){var W=arguments[O]!=null?arguments[O]:{};O%2?b(Object(W),!0).forEach(function(oe){(0,x.Z)(i,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(W)):b(Object(W)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(W,oe))})}return i}var c=function(i,O,W){var oe=!1;if(!(O.multiElement||O.resizingElement||O.editingElement||O.draggingElement)){var xe=W();if(xe===null)return{commitToHistory:oe};var se=(0,f.xn)(i),K=xe.elements,ne=(0,f.xn)(K),Ie=i.filter(function(Be){return!ne.has(Be.id)}),Ne=K.map(function(Be){return(0,P.BE)(se.get(Be.id)||Be,Be)}).concat(Ie.map(function(Be){return(0,P.BE)(Be,{isDeleted:!0})}));return(0,w.$q)(Ne,Ie),{elements:Ne,appState:s(s({},O),xe.appState),commitToHistory:oe,syncHistory:!0}}return{commitToHistory:oe}},S=e(3646),z=function(i,O,W,oe,xe,se){if(i.trackEvent)try{(0,_.Z)(i.trackEvent)==="object"&&(!i.trackEvent.predicate||i.trackEvent.predicate(W,oe,se))&&(0,S.L)(i.trackEvent.category,i.trackEvent.action||i.name,"".concat(O," (").concat(xe.device.editor.isMobile?"mobile":"desktop",")"))}catch(K){console.error("error while logging action:",K)}},B=function(){function i(O,W,oe,xe){var se=this;(0,T.Z)(this,i),this.actions={},this.renderAction=function(K,ne){var Ie=se.app.props.UIOptions.canvasActions;if(se.actions[K]&&"PanelComponent"in se.actions[K]&&(!(K in Ie)||Ie[K])){var Ne=se.actions[K],Be=Ne.PanelComponent;Be.displayName="PanelComponent";var nt=se.getElementsIncludingDeleted(),it=se.getAppState();return(0,o.jsx)(Be,{elements:se.getElementsIncludingDeleted(),appState:se.getAppState(),updateData:function(ct){z(Ne,"ui",it,nt,se.app,ct),se.updater(Ne.perform(se.getElementsIncludingDeleted(),se.getAppState(),ct,se.app))},appProps:se.app.props,app:se.app,data:ne})}return null},this.isActionEnabled=function(K){var ne=se.getElementsIncludingDeleted(),Ie=se.getAppState();return!K.predicate||K.predicate(ne,Ie,se.app.props,se.app)},this.updater=function(K){if(!K||!("then"in K))return O(K);K.then(function(ne){return O(ne)})},this.getAppState=W,this.getElementsIncludingDeleted=oe,this.app=xe}return(0,E.Z)(i,[{key:"registerAction",value:function(O){this.actions[O.name]=O}},{key:"registerAll",value:function(O){var W=this;O.forEach(function(oe){return W.registerAction(oe)})}},{key:"handleKeyDown",value:function(O){var W=this,oe=this.app.props.UIOptions.canvasActions,xe=Object.values(this.actions).sort(function(Ie,Ne){return(Ne.keyPriority||0)-(Ie.keyPriority||0)}).filter(function(Ie){return(!(Ie.name in oe)||oe[Ie.name])&&Ie.keyTest&&Ie.keyTest(O,W.getAppState(),W.getElementsIncludingDeleted(),W.app)});if(xe.length!==1)return xe.length>1&&console.warn("Canceling as multiple actions match this shortcut",xe),!1;var se=xe[0];if(this.getAppState().viewModeEnabled&&se.viewMode!==!0)return!1;var K=this.getElementsIncludingDeleted(),ne=this.getAppState();return z(se,"keyboard",ne,K,this.app,null),O.preventDefault(),O.stopPropagation(),this.updater(xe[0].perform(K,ne,null,this.app)),!0}},{key:"executeAction",value:function(O){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,xe=this.getElementsIncludingDeleted(),se=this.getAppState();z(O,W,se,xe,this.app,oe),this.updater(O.perform(xe,se,oe,this.app))}}]),i}(),j=e(2767),C=e(6853),A=e(4694),Y=e(2435),ie=e(9326),le=e(7994),ce=e(7651),de=e(7422),J=e(5742),ee=e(4183),he=function(i){var O=Array.from(i.values());return{x:He(O,function(W){return W.x})/O.length,y:He(O,function(W){return W.y})/O.length}},Pe=function(i){var O=(0,g.Z)(i,2),W=O[0],oe=O[1];return Math.hypot(W.x-oe.x,W.y-oe.y)},He=function(i,O){return i.reduce(function(W,oe){return W+O(oe)},0)},Ke=e(9215);function Ae(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}function Oe(i){for(var O=1;O<arguments.length;O++){var W=arguments[O]!=null?arguments[O]:{};O%2?Ae(Object(W),!0).forEach(function(oe){(0,x.Z)(i,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(W)):Ae(Object(W)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(W,oe))})}return i}var Te=function(i){return{selectedElementIds:i.selectedElementIds,selectedGroupIds:i.selectedGroupIds,viewBackgroundColor:i.viewBackgroundColor,editingLinearElement:i.editingLinearElement,editingGroupId:i.editingGroupId,name:i.name}},De=function(){function i(){var O=this;(0,T.Z)(this,i),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(W,oe){return O.dehydrateHistoryEntry({appState:Te(W),elements:oe.reduce(function(xe,se){if((0,ee.bt)(se)&&W.multiElement&&W.multiElement.id===se.id){if(W.multiElement&&W.multiElement.id===se.id&&se.points.length<2)return xe;xe.push(Oe(Oe({},se),{},{points:se.lastCommittedPoint!==se.points[se.points.length-1]?se.points.slice(0,-1):se.points}))}else xe.push(se);return xe},[])})}}return(0,E.Z)(i,[{key:"hydrateHistoryEntry",value:function(O){var W=this,oe=O.appState,xe=O.elements;return{appState:JSON.parse(oe),elements:xe.map(function(se){var K,ne=(K=W.elementCache.get(se.id))===null||K===void 0?void 0:K.get(se.versionNonce);if(!ne)throw new Error("Element not found: ".concat(se.id,":").concat(se.versionNonce));return ne})}}},{key:"dehydrateHistoryEntry",value:function(O){var W=this,oe=O.appState,xe=O.elements;return{appState:JSON.stringify(oe),elements:xe.map(function(se){W.elementCache.has(se.id)||W.elementCache.set(se.id,new Map);var K=W.elementCache.get(se.id);return K.has(se.versionNonce)||K.set(se.versionNonce,(0,J.OL)(se)),{id:se.id,versionNonce:se.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var O=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(W){return O.hydrateHistoryEntry(W)}),redoStack:this.redoStack.map(function(W){return O.hydrateHistoryEntry(W)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(O){var W,oe=this.lastEntry;if(!oe||O.elements.length!==oe.elements.length)return!0;for(var xe=O.elements.length-1;xe>-1;xe--){var se=O.elements[xe],K=oe.elements[xe];if(!se||!K||se.id!==K.id||se.versionNonce!==K.versionNonce)return!0}for(W in O.appState){var ne,Ie;if(!(W==="editingLinearElement"&&((ne=O.appState[W])===null||ne===void 0?void 0:ne.elementId)===((Ie=oe.appState[W])===null||Ie===void 0?void 0:Ie.elementId))&&W!=="selectedElementIds"&&W!=="selectedGroupIds"&&O.appState[W]!==oe.appState[W])return!0}return!1}},{key:"pushEntry",value:function(O,W){var oe=this.generateEntry(O,W),xe=this.hydrateHistoryEntry(oe);if(xe){if(!this.shouldCreateEntry(xe))return;this.stateHistory.push(oe),this.lastEntry=xe,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var O=this.redoStack.pop();return O!==void 0?(this.stateHistory.push(O),this.hydrateHistoryEntry(O)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var O=this.stateHistory.pop(),W=this.stateHistory[this.stateHistory.length-1];return O!==void 0?(this.redoStack.push(O),this.hydrateHistoryEntry(W)):null}},{key:"setCurrentState",value:function(O,W){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(O,W))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(O,W){this.recording&&(this.pushEntry(O,W),this.recording=!1)}}]),i}(),ke=e(7935),be=e(2361),ve=e(4105),D=e(457),l=e(4116),d=[{icon:U.zu,value:"selection",key:I.tW.V,numericKey:I.tW[1],fillable:!0},{icon:U.OW,value:"rectangle",key:I.tW.R,numericKey:I.tW[2],fillable:!0},{icon:U.nb,value:"diamond",key:I.tW.D,numericKey:I.tW[3],fillable:!0},{icon:U.Re,value:"ellipse",key:I.tW.O,numericKey:I.tW[4],fillable:!0},{icon:U.e0,value:"arrow",key:I.tW.A,numericKey:I.tW[5],fillable:!0},{icon:U.zb,value:"line",key:I.tW.L,numericKey:I.tW[6],fillable:!0},{icon:U.Pm,value:"freedraw",key:[I.tW.P,I.tW.X],numericKey:I.tW[7],fillable:!1},{icon:U.VL,value:"text",key:I.tW.T,numericKey:I.tW[8],fillable:!1},{icon:U.XB,value:"image",key:null,numericKey:I.tW[9],fillable:!1},{icon:U.$q,value:"eraser",key:I.tW.E,numericKey:I.tW[0],fillable:!1}],M=e(761),V=e(3204),q=e(3379),re=e.n(q),ae=e(7795),ge=e.n(ae),Se=e(569),Re=e.n(Se),Ye=e(3565),Ge=e.n(Ye),We=e(9216),qe=e.n(We),lt=e(4589),ft=e.n(lt),ze=e(6578),we={};we.styleTagTransform=ft(),we.setAttributes=Ge(),we.insert=Re().bind(null,"head"),we.domAPI=ge(),we.insertStyleElement=qe(),re()(ze.Z,we),ze.Z&&ze.Z.locals&&ze.Z.locals;var Me=e(2529),$e="separator",at=ue().memo(function(i){var O=i.actionManager,W=i.items,oe=i.top,xe=i.left,se=i.onClose,K=Ms(),ne=Ts(),Ie=W.reduce(function(Ne,Be){return!Be||Be!==$e&&Be.predicate&&!Be.predicate(ne,K,O.app.props,O.app)||Ne.push(Be),Ne},[]);return(0,o.jsx)(V.J,{onCloseRequest:function(){se()},top:oe,left:xe,fitInViewport:!0,offsetLeft:K.offsetLeft,offsetTop:K.offsetTop,viewportWidth:K.width,viewportHeight:K.height,children:(0,o.jsx)("ul",{className:"context-menu",onContextMenu:function(Ne){return Ne.preventDefault()},children:Ie.map(function(Ne,Be){var nt;if(Ne===$e)return Ie[Be-1]&&Ie[Be-1]!==$e?(0,o.jsx)("hr",{className:"context-menu-item-separator"},Be):null;var it=Ne.name,ct="";return Ne.contextItemLabel&&(ct=typeof Ne.contextItemLabel=="function"?(0,F.t)(Ne.contextItemLabel(ne,K,O.app)):(0,F.t)(Ne.contextItemLabel)),(0,o.jsx)("li",{"data-testid":it,onClick:function(){se(function(){O.executeAction(Ne,"contextMenu")})},children:(0,o.jsxs)("button",{className:(0,fe.Z)("context-menu-item",{dangerous:it==="deleteSelectedElements",checkmark:(nt=Ne.checked)===null||nt===void 0?void 0:nt.call(Ne,K)}),children:[(0,o.jsx)("div",{className:"context-menu-item__label",children:ct}),(0,o.jsx)("kbd",{className:"context-menu-item__shortcut",children:it?(0,Me.C)(it):""})]})},Be)})})})}),dt=e(2726),vt=e(2540),Tt=e(1648),Et=e(8925),jt=e(4761),Kt=e(6086),Gt={};Gt.styleTagTransform=ft(),Gt.setAttributes=Ge(),Gt.insert=Re().bind(null,"head"),Gt.domAPI=ge(),Gt.insertStyleElement=qe(),re()(Kt.Z,Gt),Kt.Z&&Kt.Z.locals&&Kt.Z.locals;var Ht=e(7104);function $t(i,O){var W=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!W){if(Array.isArray(i)||(W=function(Ie,Ne){if(Ie){if(typeof Ie=="string")return pn(Ie,Ne);var Be=Object.prototype.toString.call(Ie).slice(8,-1);if(Be==="Object"&&Ie.constructor&&(Be=Ie.constructor.name),Be==="Map"||Be==="Set")return Array.from(Ie);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return pn(Ie,Ne)}}(i))||O){W&&(i=W);var oe=0,xe=function(){};return{s:xe,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Ie){throw Ie},f:xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,K=!0,ne=!1;return{s:function(){W=W.call(i)},n:function(){var Ie=W.next();return K=Ie.done,Ie},e:function(Ie){ne=!0,se=Ie},f:function(){try{K||W.return==null||W.return()}finally{if(ne)throw se}}}}function pn(i,O){(O==null||O>i.length)&&(O=i.length);for(var W=0,oe=new Array(O);W<O;W++)oe[W]=i[W];return oe}var _t=function(i){var O,W=i.appState,oe=i.elements,xe=i.renderAction,se=(0,ve.Zs)((0,ce.Lm)(oe),W),K=!1;se.length===2&&((0,ee.Xo)(se[0])||(0,ee.Xo)(se[1]))&&(K=!0);var ne,Ie=!!W.editingElement,Ne=Jl(),Be=document.documentElement.getAttribute("dir")==="rtl",nt=(0,ve.$b)(W.activeTool.type)&&!(0,f.Qm)(W.currentItemBackgroundColor)||se.some(function(Wt){return(0,ve.$b)(Wt.type)&&!(0,f.Qm)(Wt.backgroundColor)}),it=(0,ve.$b)(W.activeTool.type)||se.some(function(Wt){return(0,ve.$b)(Wt.type)}),ct=se.length===1||K,kt=((O=se[0])===null||O===void 0?void 0:O.type)||null,Ot=$t(se);try{for(Ot.s();!(ne=Ot.n()).done;)if(ne.value.type!==kt){kt=null;break}}catch(Wt){Ot.e(Wt)}finally{Ot.f()}return(0,o.jsxs)("div",{className:"panelColumn",children:[(0,o.jsx)("div",{children:((0,Tt.PD)(W.activeTool.type)&&W.activeTool.type!=="image"&&kt!=="image"&&kt!=="frame"||se.some(function(Wt){return(0,Tt.PD)(Wt.type)}))&&xe("changeStrokeColor")}),it&&(0,o.jsx)("div",{children:xe("changeBackgroundColor")}),nt&&xe("changeFillStyle"),((0,ve.Zd)(W.activeTool.type)||se.some(function(Wt){return(0,ve.Zd)(Wt.type)}))&&xe("changeStrokeWidth"),(W.activeTool.type==="freedraw"||se.some(function(Wt){return Wt.type==="freedraw"}))&&xe("changeStrokeShape"),((0,ve.M9)(W.activeTool.type)||se.some(function(Wt){return(0,ve.M9)(Wt.type)}))&&(0,o.jsxs)(o.Fragment,{children:[xe("changeStrokeStyle"),xe("changeSloppiness")]}),((0,ve.sh)(W.activeTool.type)||se.some(function(Wt){return(0,ve.sh)(Wt.type)}))&&(0,o.jsx)(o.Fragment,{children:xe("changeRoundness")}),(W.activeTool.type==="text"||se.some(ee.iB))&&(0,o.jsxs)(o.Fragment,{children:[xe("changeFontSize"),xe("changeFontFamily"),(W.activeTool.type==="text"||(0,jt.aV)(se))&&xe("changeTextAlign")]}),(0,jt.cn)(se)&&xe("changeVerticalAlign"),((0,ve.Un)(W.activeTool.type)||se.some(function(Wt){return(0,ve.Un)(Wt.type)}))&&(0,o.jsx)(o.Fragment,{children:xe("changeArrowhead")}),xe("changeOpacity"),(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,F.t)("labels.layers")}),(0,o.jsxs)("div",{className:"buttonList",children:[xe("sendToBack"),xe("sendBackward"),xe("bringToFront"),xe("bringForward")]})]}),se.length>1&&!K&&(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,F.t)("labels.align")}),(0,o.jsxs)("div",{className:"buttonList",children:[Be?(0,o.jsxs)(o.Fragment,{children:[xe("alignRight"),xe("alignHorizontallyCentered"),xe("alignLeft")]}):(0,o.jsxs)(o.Fragment,{children:[xe("alignLeft"),xe("alignHorizontallyCentered"),xe("alignRight")]}),se.length>2&&xe("distributeHorizontally"),(0,o.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,o.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[xe("alignTop"),xe("alignVerticallyCentered"),xe("alignBottom"),se.length>2&&xe("distributeVertically")]})]})]}),!Ie&&se.length>0&&(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,F.t)("labels.actions")}),(0,o.jsxs)("div",{className:"buttonList",children:[!Ne.editor.isMobile&&xe("duplicateSelection"),!Ne.editor.isMobile&&xe("deleteSelectedElements"),xe("group"),xe("ungroup"),ct&&xe("hyperlink")]})]})]})},xt=function(i){var O=i.activeTool,W=i.appState,oe=i.app,xe=i.UIOptions,se=(0,Q.useState)(!1),K=(0,g.Z)(se,2),ne=K[0],Ie=K[1],Ne=O.type==="frame",Be=O.type==="laser",nt=O.type==="embeddable";return(0,o.jsxs)(o.Fragment,{children:[d.map(function(it,ct){var kt,Ot=it.value,Wt=it.icon,tn=it.key,Rt=it.numericKey,Lt=it.fillable;if(((kt=xe.tools)===null||kt===void 0?void 0:kt[Ot])===!1)return null;var Ut=(0,F.t)("toolBar.".concat(Ot)),on=tn&&(0,f.Oo)(typeof tn=="string"?tn:tn[0]),vn=on?"".concat(on," ").concat((0,F.t)("helpDialog.or")," ").concat(Rt):"".concat(Rt);return(0,o.jsx)(L.V,{className:(0,fe.Z)("Shape",{fillable:Lt}),type:"radio",icon:Wt,checked:O.type===Ot,name:"editor-current-shape",title:"".concat((0,f.Oo)(Ut),"  ").concat(vn),keyBindingLabel:Rt||on,"aria-label":(0,f.Oo)(Ut),"aria-keyshortcuts":vn,"data-testid":"toolbar-".concat(Ot),onPointerDown:function(cn){var nn=cn.pointerType;W.penDetected||nn!=="pen"||oe.togglePenMode(!0)},onChange:function(cn){var nn=cn.pointerType;W.activeTool.type!==Ot&&(0,S.L)("toolbar",Ot,"ui"),Ot==="image"?oe.setActiveTool({type:Ot,insertOnCanvasDirectly:nn!=="mouse"}):oe.setActiveTool({type:Ot})}},Ot)}),(0,o.jsx)("div",{className:"App-toolbar__divider"}),(0,o.jsxs)(Ht.Z,{open:ne,children:[(0,o.jsx)(Ht.Z.Trigger,{className:(0,fe.Z)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":Ne||nt||Be&&!oe.props.isCollaborating}),onToggle:function(){return Ie(!ne)},title:(0,F.t)("toolBar.extraTools"),children:U.dg}),(0,o.jsxs)(Ht.Z.Content,{onClickOutside:function(){return Ie(!1)},onSelect:function(){return Ie(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,o.jsx)(Ht.Z.Item,{onSelect:function(){return oe.setActiveTool({type:"frame"})},icon:U.zl,shortcut:I.tW.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:Ne,children:(0,F.t)("toolBar.frame")}),(0,o.jsx)(Ht.Z.Item,{onSelect:function(){return oe.setActiveTool({type:"embeddable"})},icon:U.FL,"data-testid":"toolbar-embeddable",selected:nt,children:(0,F.t)("toolBar.embeddable")}),(0,o.jsx)(Ht.Z.Item,{onSelect:function(){return oe.setActiveTool({type:"laser"})},icon:U.d,"data-testid":"toolbar-laser",selected:Be,shortcut:I.tW.K.toLocaleUpperCase(),children:(0,F.t)("toolBar.laser")}),(0,o.jsx)(Ht.Z.Item,{onSelect:function(){return oe.setOpenDialog("mermaid")},icon:U.II,"data-testid":"toolbar-embeddable",children:(0,F.t)("toolBar.mermaidToExcalidraw")})]})]})]})},At=function(i){var O=i.renderAction;return i.zoom,(0,o.jsx)(vt.Z.Col,{gap:1,className:"zoom-actions",children:(0,o.jsxs)(vt.Z.Row,{align:"center",children:[O("zoomOut"),O("resetZoom"),O("zoomIn")]})})},It=function(i){var O=i.renderAction,W=i.className;return(0,o.jsxs)("div",{className:"undo-redo-buttons ".concat(W),children:[(0,o.jsx)("div",{className:"undo-button-container",children:(0,o.jsx)(Et.u,{label:(0,F.t)("buttons.undo"),children:O("undo")})}),(0,o.jsx)("div",{className:"redo-button-container",children:(0,o.jsxs)(Et.u,{label:(0,F.t)("buttons.redo"),children:[" ",O("redo")]})})]})},Mt=function(i){var O=i.actionManager,W=i.showExitZenModeBtn;return(0,o.jsx)("button",{className:(0,fe.Z)("disable-zen-mode",{"disable-zen-mode--visible":W}),onClick:function(){return O.executeAction($.JN)},children:(0,F.t)("buttons.exitZenMode")})},Nt=function(i){var O=i.renderAction,W=i.className;return(0,o.jsx)("div",{className:"finalize-button ".concat(W),children:O("finalize",{size:"small"})})},Yt=e(1300),ln=function(i){var O=i.children,W=i.onClose,oe=(0,Q.useState)(!!O),xe=(0,g.Z)(oe,2),se=xe[0],K=xe[1],ne=Ps().container,Ie=ue().useCallback(function(){K(!1),W&&W(),ne?.focus()},[W,ne]);return(0,o.jsx)(o.Fragment,{children:se&&(0,o.jsx)(Yt.V,{size:"small",onCloseRequest:Ie,title:(0,F.t)("errorDialog.title"),children:(0,o.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:O})})})},an=e(4406),kn=e(5796),Tn=e(6548),zn=e(507),un=e(6217),zt={};zt.styleTagTransform=ft(),zt.setAttributes=Ge(),zt.insert=Re().bind(null,"head"),zt.domAPI=ge(),zt.insertStyleElement=qe(),re()(un.Z,zt),un.Z&&un.Z.locals&&un.Z.locals;var en=function(i){var O=i.onChange,W=i.value,oe=i.choices,xe=i.name;return(0,o.jsx)("div",{className:"RadioGroup",children:oe.map(function(se){return(0,o.jsxs)("div",{className:(0,fe.Z)("RadioGroup__choice",{active:se.value===W}),children:[(0,o.jsx)("input",{name:xe,type:"radio",checked:se.value===W,onChange:function(){return O(se.value)}}),se.label]},se.label)})})},Jt=e(7802),Sn={};Sn.styleTagTransform=ft(),Sn.setAttributes=Ge(),Sn.insert=Re().bind(null,"head"),Sn.domAPI=ge(),Sn.insertStyleElement=qe(),re()(Jt.Z,Sn),Jt.Z&&Jt.Z.locals&&Jt.Z.locals;var Hn=function(i){var O=i.title,W=i.name,oe=i.checked,xe=i.onChange,se=i.disabled,K=se!==void 0&&se;return(0,o.jsx)("div",{className:(0,fe.Z)("Switch",{toggled:oe,disabled:K}),children:(0,o.jsx)("input",{name:W,id:W,title:O,type:"checkbox",checked:oe,disabled:K,onChange:function(){return xe(!oe)},onKeyDown:function(ne){ne.key===" "&&xe(!oe)}})})},Yn=e(9706),or={};or.styleTagTransform=ft(),or.setAttributes=Ge(),or.insert=Re().bind(null,"head"),or.domAPI=ge(),or.insertStyleElement=qe(),re()(Yn.Z,or),Yn.Z&&Yn.Z.locals&&Yn.Z.locals;var $n=e(8960),rn={};rn.styleTagTransform=ft(),rn.setAttributes=Ge(),rn.insert=Re().bind(null,"head"),rn.domAPI=ge(),rn.insertStyleElement=qe(),re()($n.Z,rn),$n.Z&&$n.Z.locals&&$n.Z.locals;var Pt=(0,Q.forwardRef)(function(i,O){var W=i.children,oe=i.startIcon,xe=i.onClick,se=i.label,K=i.variant,ne=K===void 0?"filled":K,Ie=i.color,Ne=Ie===void 0?"primary":Ie,Be=i.size,nt=Be===void 0?"medium":Be,it=i.fullWidth,ct=i.className;return(0,o.jsxs)("button",{className:(0,fe.Z)("ExcButton","ExcButton--color-".concat(Ne),"ExcButton--variant-".concat(ne),"ExcButton--size-".concat(nt),{"ExcButton--fullWidth":it},ct),onClick:xe,type:"button","aria-label":se,ref:O,children:[oe&&(0,o.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:oe}),ne!=="icon"&&(W??se)]})});function Dt(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}function Ft(i){for(var O=1;O<arguments.length;O++){var W=arguments[O]!=null?arguments[O]:{};O%2?Dt(Object(W),!0).forEach(function(oe){(0,x.Z)(i,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(W)):Dt(Object(W)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(W,oe))})}return i}var dn="filter"in document.createElement("canvas").getContext("2d"),jn=function(){return(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:(0,F.t)("canvasError.cannotShowPreview")}),(0,o.jsx)("p",{children:(0,o.jsx)("span",{children:(0,F.t)("canvasError.canvasTooBig")})}),(0,o.jsxs)("em",{children:["(",(0,F.t)("canvasError.canvasTooBigTip"),")"]})]})},Cn=function(i){var O=i.appStateSnapshot,W=i.elementsSnapshot,oe=i.files,xe=i.actionManager,se=i.onExportImage,K=(0,ve.N)(W,O),ne=ms(),Ie=(0,Q.useState)(O.name),Ne=(0,g.Z)(Ie,2),Be=Ne[0],nt=Ne[1],it=(0,Q.useState)(K),ct=(0,g.Z)(it,2),kt=ct[0],Ot=ct[1],Wt=(0,Q.useState)(O.exportBackground),tn=(0,g.Z)(Wt,2),Rt=tn[0],Lt=tn[1],Ut=(0,Q.useState)(O.exportWithDarkMode),on=(0,g.Z)(Ut,2),vn=on[0],cn=on[1],nn=(0,Q.useState)(O.exportEmbedScene),_n=(0,g.Z)(nn,2),Xn=_n[0],sr=_n[1],yr=(0,Q.useState)(O.exportScale),Mr=(0,g.Z)(yr,2),Dr=Mr[0],br=Mr[1],xr=(0,Q.useRef)(null),Sr=(0,Q.useState)(null),kr=(0,g.Z)(Sr,2),Br=kr[0],qr=kr[1],Jr=(0,Y.HD)(W,O,kt),ro=Jr.exportedElements,Hr=Jr.exportingFrame;return(0,Q.useEffect)(function(){var Lr=xr.current;if(Lr){var io=Lr.offsetWidth,Po=Lr.offsetHeight;io&&(0,zn.NL)({elements:ro,appState:Ft(Ft({},O),{},{name:Be,exportBackground:Rt,exportWithDarkMode:vn,exportScale:Dr,exportEmbedScene:Xn}),files:oe,exportPadding:r.qy,maxWidthOrHeight:Math.max(io,Po),exportingFrame:Hr}).then(function(wo){return qr(null),(0,kn._c)(wo).then(function(){Lr.replaceChildren(wo)})}).catch(function(wo){console.error(wo),qr(wo)})}},[O,oe,ro,Hr,Be,Rt,vn,Dr,Xn]),(0,o.jsxs)("div",{className:"ImageExportModal",children:[(0,o.jsx)("h3",{children:(0,F.t)("imageExportDialog.header")}),(0,o.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,o.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:xr,children:Br&&(0,o.jsx)(jn,{})}),(0,o.jsx)("div",{className:"ImageExportModal__preview__filename",children:!Tn.kr&&(0,o.jsx)("input",{type:"text",className:"TextInput",value:Be,style:{width:"30ch"},disabled:ne.name!==void 0||O.viewModeEnabled,onChange:function(Lr){nt(Lr.target.value),xe.executeAction(an.zX,"ui",Lr.target.value)}})})]}),(0,o.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,o.jsx)("h3",{children:(0,F.t)("imageExportDialog.header")}),K&&(0,o.jsx)(Dn,{label:(0,F.t)("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,o.jsx)(Hn,{name:"exportOnlySelected",checked:kt,onChange:function(Lr){Ot(Lr)}})}),(0,o.jsx)(Dn,{label:(0,F.t)("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,o.jsx)(Hn,{name:"exportBackgroundSwitch",checked:Rt,onChange:function(Lr){Lt(Lr),xe.executeAction(an.XA,"ui",Lr)}})}),dn&&(0,o.jsx)(Dn,{label:(0,F.t)("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,o.jsx)(Hn,{name:"exportDarkModeSwitch",checked:vn,onChange:function(Lr){cn(Lr),xe.executeAction(an.bJ,"ui",Lr)}})}),(0,o.jsx)(Dn,{label:(0,F.t)("imageExportDialog.label.embedScene"),tooltip:(0,F.t)("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,o.jsx)(Hn,{name:"exportEmbedSwitch",checked:Xn,onChange:function(Lr){sr(Lr),xe.executeAction(an.Du,"ui",Lr)}})}),(0,o.jsx)(Dn,{label:(0,F.t)("imageExportDialog.label.scale"),name:"exportScale",children:(0,o.jsx)(en,{name:"exportScale",value:Dr,onChange:function(Lr){br(Lr),xe.executeAction(an.sK,"ui",Lr)},choices:r.ZB.map(function(Lr){return{value:Lr,label:"".concat(Lr,"")}})})}),(0,o.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,o.jsx)(Pt,{className:"ImageExportModal__settings__buttons__button",label:(0,F.t)("imageExportDialog.title.exportToPng"),onClick:function(){return se(r.I_.png,ro,{exportingFrame:Hr})},startIcon:U.aL,children:(0,F.t)("imageExportDialog.button.exportToPng")}),(0,o.jsx)(Pt,{className:"ImageExportModal__settings__buttons__button",label:(0,F.t)("imageExportDialog.title.exportToSvg"),onClick:function(){return se(r.I_.svg,ro,{exportingFrame:Hr})},startIcon:U.aL,children:(0,F.t)("imageExportDialog.button.exportToSvg")}),(A.vt||r.vU)&&(0,o.jsx)(Pt,{className:"ImageExportModal__settings__buttons__button",label:(0,F.t)("imageExportDialog.title.copyPngToClipboard"),onClick:function(){return se(r.I_.clipboard,ro,{exportingFrame:Hr})},startIcon:U.UI,children:(0,F.t)("imageExportDialog.button.copyPngToClipboard")})]})]})]})},Dn=function(i){var O=i.label,W=i.children,oe=i.tooltip,xe=i.name;return(0,o.jsxs)("div",{className:"ImageExportModal__settings__setting",title:O,children:[(0,o.jsxs)("label",{htmlFor:xe,className:"ImageExportModal__settings__setting__label",children:[O,oe&&(0,o.jsx)(Et.u,{label:oe,long:!0,children:U.mv})]}),(0,o.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:W})]})},Wn=function(i){var O=i.elements,W=i.appState,oe=i.files,xe=i.actionManager,se=i.onExportImage,K=i.onCloseRequest,ne=(0,Q.useState)(function(){return{appStateSnapshot:(0,f.xU)(W),elementsSnapshot:(0,f.xU)(O)}}),Ie=(0,g.Z)(ne,1)[0],Ne=Ie.appStateSnapshot,Be=Ie.elementsSnapshot;return(0,o.jsx)(Yt.V,{onCloseRequest:K,size:"wide",title:!1,children:(0,o.jsx)(Cn,{elementsSnapshot:Be,appStateSnapshot:Ne,files:oe,actionManager:xe,onExportImage:se})})},Ln=e(3195),er={};er.styleTagTransform=ft(),er.setAttributes=Ge(),er.insert=Re().bind(null,"head"),er.domAPI=ge(),er.insertStyleElement=qe(),re()(Ln.Z,er),Ln.Z&&Ln.Z.locals&&Ln.Z.locals;var Vn=function(i){var O=i.children,W=i.side,oe=i.className;return(0,o.jsx)("div",{className:(0,fe.Z)("FixedSideContainer","FixedSideContainer_side_".concat(W),oe),children:O})},Pn=e(1587),Rn={};Rn.styleTagTransform=ft(),Rn.setAttributes=Ge(),Rn.insert=Re().bind(null,"head"),Rn.domAPI=ge(),Rn.insertStyleElement=qe(),re()(Pn.Z,Rn),Pn.Z&&Pn.Z.locals&&Pn.Z.locals;var Nn=function(i){var O=function(W){var oe=W.appState,xe=W.isMobile,se=W.device,K=W.app,ne=oe.activeTool,Ie=oe.isResizing,Ne=oe.isRotating,Be=oe.lastPointerDownWith,nt=oe.multiElement!==null;if(oe.openSidebar&&!se.editor.canFitSidebar)return null;if((0,C.EN)(oe))return(0,F.t)("hints.eraserRevert");if(ne.type==="arrow"||ne.type==="line")return nt?(0,F.t)("hints.linearElementMulti"):(0,F.t)("hints.linearElement");if(ne.type==="freedraw")return(0,F.t)("hints.freeDraw");if(ne.type==="text")return(0,F.t)("hints.text");if(ne.type==="embeddable")return(0,F.t)("hints.embeddable");if(oe.activeTool.type==="image"&&oe.pendingImageElementId)return(0,F.t)("hints.placeImage");var it=K.scene.getSelectedElements(oe);if(Ie&&Be==="mouse"&&it.length===1){var ct=it[0];return(0,ee.bt)(ct)&&ct.points.length===2?(0,F.t)("hints.lockAngle"):(0,ee.pC)(ct)?(0,F.t)("hints.resizeImage"):(0,F.t)("hints.resize")}if(Ne&&Be==="mouse")return(0,F.t)("hints.rotate");if(it.length===1&&(0,ee.iB)(it[0]))return(0,F.t)("hints.text_selected");if(oe.editingElement&&(0,ee.iB)(oe.editingElement))return(0,F.t)("hints.text_editing");if(ne.type==="selection"){var kt;if(((kt=oe.draggingElement)===null||kt===void 0?void 0:kt.type)==="selection"&&!it.length&&!oe.editingElement&&!oe.editingLinearElement)return(0,F.t)("hints.deepBoxSelect");if(oe.gridSize&&oe.draggingElement)return(0,F.t)("hints.disableSnapping");if(!it.length&&!xe)return(0,F.t)("hints.canvasPanning");if(it.length===1){if((0,ee.bt)(it[0]))return oe.editingLinearElement?oe.editingLinearElement.selectedPointsIndices?(0,F.t)("hints.lineEditor_pointSelected"):(0,F.t)("hints.lineEditor_nothingSelected"):(0,F.t)("hints.lineEditor_info");if(!oe.draggingElement&&(0,ee.mG)(it[0]))return(0,F.t)("hints.bindTextToElement")}}return null}({appState:i.appState,isMobile:i.isMobile,device:i.device,app:i.app});return O?(O=(0,f.uY)(O),(0,o.jsx)("div",{className:"HintViewer",children:(0,o.jsx)("span",{children:O})})):null},Gn=e(1404),nr=e(7165),rr=(e(3041),{CHECKED:U.FC,UNCHECKED:U._C}),Or=function(i){return(0,o.jsxs)("label",{className:(0,fe.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":i.isMobile}),title:"".concat(i.title,"  Q"),children:[(0,o.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:i.name,onChange:i.onChange,checked:i.checked,"aria-label":i.title,"data-testid":"toolbar-lock"}),(0,o.jsx)("div",{className:"ToolIcon__icon",children:i.checked?rr.CHECKED:rr.UNCHECKED})]})},Xr=["heading","children"];function po(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}function xo(i){for(var O=1;O<arguments.length;O++){var W=arguments[O]!=null?arguments[O]:{};O%2?po(Object(W),!0).forEach(function(oe){(0,x.Z)(i,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(W)):po(Object(W)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(W,oe))})}return i}var jo=function(i){var O=i.heading,W=i.children,oe=(0,dt.Z)(i,Xr),xe=Ps().id,se=(0,o.jsx)("h2",{className:"visually-hidden",id:"".concat(xe,"-").concat(O,"-title"),children:(0,F.t)("headings.".concat(O))});return(0,o.jsx)("section",xo(xo({},oe),{},{"aria-labelledby":"".concat(xe,"-").concat(O,"-title"),children:typeof W=="function"?W(se):(0,o.jsxs)(o.Fragment,{children:[se,W]})}))},ho=e(4726),Qr=function(i){return i.penDetected?(0,o.jsxs)("label",{className:(0,fe.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":i.isMobile}),title:"".concat(i.title),children:[(0,o.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:i.name,onChange:i.onChange,checked:i.checked,"aria-label":i.title}),(0,o.jsx)("div",{className:"ToolIcon__icon",children:U.tb})]}):null},go=e(4949),et=e(2681),Ee={};Ee.styleTagTransform=ft(),Ee.setAttributes=Ge(),Ee.insert=Re().bind(null,"head"),Ee.domAPI=ge(),Ee.insertStyleElement=qe(),re()(et.Z,Ee),et.Z&&et.Z.locals&&et.Z.locals;var Le=function(i){var O,W=(0,go.KP)(i.elements),oe=(0,ve.Zs)(i.elements,i.appState),xe=(0,go.KP)(oe);return(0,o.jsx)("div",{className:"Stats",children:(0,o.jsxs)(Gn.W,{padding:2,children:[(0,o.jsx)("div",{className:"close",onClick:i.onClose,children:U.Tw}),(0,o.jsx)("h3",{children:(0,F.t)("stats.title")}),(0,o.jsx)("table",{children:(0,o.jsxs)("tbody",{children:[(0,o.jsx)("tr",{children:(0,o.jsx)("th",{colSpan:2,children:(0,F.t)("stats.scene")})}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,F.t)("stats.elements")}),(0,o.jsx)("td",{children:i.elements.length})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,F.t)("stats.width")}),(0,o.jsx)("td",{children:Math.round(W[2])-Math.round(W[0])})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,F.t)("stats.height")}),(0,o.jsx)("td",{children:Math.round(W[3])-Math.round(W[1])})]}),oe.length===1&&(0,o.jsx)("tr",{children:(0,o.jsx)("th",{colSpan:2,children:(0,F.t)("stats.element")})}),oe.length>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("tr",{children:(0,o.jsx)("th",{colSpan:2,children:(0,F.t)("stats.selected")})}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,F.t)("stats.elements")}),(0,o.jsx)("td",{children:oe.length})]})]}),oe.length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"x"}),(0,o.jsx)("td",{children:Math.round(xe[0])})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"y"}),(0,o.jsx)("td",{children:Math.round(xe[1])})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,F.t)("stats.width")}),(0,o.jsx)("td",{children:Math.round(xe[2]-xe[0])})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,F.t)("stats.height")}),(0,o.jsx)("td",{children:Math.round(xe[3]-xe[1])})]})]}),oe.length===1&&(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,F.t)("stats.angle")}),(0,o.jsx)("td",{children:"".concat(Math.round(180*oe[0].angle/Math.PI),"")})]}),(O=i.renderCustomStats)===null||O===void 0?void 0:O.call(i,i.elements,i.appState)]})})]})})},Ue=function(i){return(0,o.jsx)(L.V,{className:(0,fe.Z)("Shape",{fillable:!1}),type:"radio",icon:U.Hk,name:"editor-current-shape",checked:i.checked,title:"".concat(i.title,"  H"),keyBindingLabel:i.isMobile?void 0:I.tW.H.toLocaleUpperCase(),"aria-label":"".concat(i.title,"  H"),"aria-keyshortcuts":I.tW.H,"data-testid":"toolbar-hand",onChange:function(){var O;return(O=i.onChange)===null||O===void 0?void 0:O.call(i)}})},st=e(4572);function Zt(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}var qt=function(i){var O=i.appState,W=i.elements,oe=i.actionManager,xe=i.setAppState,se=i.onLockToggle,K=i.onHandToolToggle,ne=i.onPenModeToggle,Ie=i.renderTopRightUI,Ne=i.renderCustomStats,Be=i.renderSidebars,nt=i.device,it=i.renderWelcomeScreen,ct=i.UIOptions,kt=i.app,Ot=(0,st.R6)(),Wt=Ot.WelcomeScreenCenterTunnel,tn=Ot.MainMenuTunnel,Rt=Ot.DefaultSidebarTriggerTunnel;return(0,o.jsxs)(o.Fragment,{children:[Be(),!O.viewModeEnabled&&(0,o.jsxs)(Vn,{side:"top",className:"App-top-bar",children:[it&&(0,o.jsx)(Wt.Out,{}),(0,o.jsx)(jo,{heading:"shapes",children:function(Lt){return(0,o.jsx)(vt.Z.Col,{gap:4,align:"center",children:(0,o.jsxs)(vt.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,o.jsxs)(Gn.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[Lt,(0,o.jsx)(vt.Z.Row,{gap:1,children:(0,o.jsx)(xt,{appState:O,activeTool:O.activeTool,UIOptions:ct,app:kt})})]}),Ie&&Ie(!0,O),(0,o.jsxs)("div",{className:"mobile-misc-tools-container",children:[!O.viewModeEnabled&&(0,o.jsx)(Rt.Out,{}),(0,o.jsx)(Qr,{checked:O.penMode,onChange:function(){return ne(null)},title:(0,F.t)("toolBar.penMode"),isMobile:!0,penDetected:O.penDetected}),(0,o.jsx)(Or,{checked:O.activeTool.locked,onChange:se,title:(0,F.t)("toolBar.lock"),isMobile:!0}),(0,o.jsx)(Ue,{checked:(0,C.l$)(O),onChange:function(){return K()},title:(0,F.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,o.jsx)(Nn,{appState:O,isMobile:!0,device:nt,app:kt})]}),!O.openMenu&&O.showStats&&(0,o.jsx)(Le,{appState:O,setAppState:xe,elements:W,onClose:function(){oe.executeAction($.u0)},renderCustomStats:Ne}),(0,o.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:ho.nn+2*ho.WM,marginLeft:ho.nn+2*ho.WM,marginRight:ho.nn+2*ho.WM},children:(0,o.jsxs)(Gn.W,{padding:0,children:[O.openMenu==="shape"&&!O.viewModeEnabled&&(0,ce.RT)(O,W)?(0,o.jsx)(jo,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,o.jsx)(_t,{appState:O,elements:W,renderAction:oe.renderAction})}):null,(0,o.jsxs)("footer",{className:"App-toolbar",children:[O.viewModeEnabled?(0,o.jsx)("div",{className:"App-toolbar-content",children:(0,o.jsx)(tn.Out,{})}):(0,o.jsxs)("div",{className:"App-toolbar-content",children:[(0,o.jsx)(tn.Out,{}),oe.renderAction("toggleEditMenu"),oe.renderAction("undo"),oe.renderAction("redo"),oe.renderAction(O.multiElement?"finalize":"duplicateSelection"),oe.renderAction("deleteSelectedElements")]}),O.scrolledOutside&&!O.openMenu&&!O.openSidebar&&(0,o.jsx)("button",{className:"scroll-back-to-content",onClick:function(){xe(function(Lt){return function(Ut){for(var on=1;on<arguments.length;on++){var vn=arguments[on]!=null?arguments[on]:{};on%2?Zt(Object(vn),!0).forEach(function(cn){(0,x.Z)(Ut,cn,vn[cn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(vn)):Zt(Object(vn)).forEach(function(cn){Object.defineProperty(Ut,cn,Object.getOwnPropertyDescriptor(vn,cn))})}return Ut}({},(0,ve.W)(W,Lt))})},children:(0,F.t)("buttons.scrollBackToContent")})]})]})})]})},mn=e(5284),Xt=e(901),Vt=e(3668),wn=e(8461),Mn={};Mn.styleTagTransform=ft(),Mn.setAttributes=Ge(),Mn.insert=Re().bind(null,"head"),Mn.domAPI=ge(),Mn.insertStyleElement=qe(),re()(wn.Z,Mn),wn.Z&&wn.Z.locals&&wn.Z.locals;var qn=function(i){var O=(0,Q.useRef)(null),W=(0,Q.useState)(null),oe=(0,g.Z)(W,2),xe=oe[0],se=oe[1];return(0,Q.useLayoutEffect)(function(){if(i.spreadsheet){var K,ne=(0,Xt.ps)(i.chartType,i.spreadsheet,0,0);se(ne);var Ie=O.current;return(0,y.Z)(k().mark(function Ne(){var Be;return k().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.next=2,(0,Vt.$D)(ne,{exportBackground:!1,viewBackgroundColor:mn.white},null);case 2:K=nt.sent,(Be=K.querySelector(".style-fonts"))===null||Be===void 0||Be.remove(),Ie.replaceChildren(),Ie.appendChild(K),i.selected&&Ie.parentNode.focus();case 7:case"end":return nt.stop()}},Ne)}))(),function(){Ie.replaceChildren()}}},[i.spreadsheet,i.chartType,i.selected]),(0,o.jsx)("button",{className:"ChartPreview",onClick:function(){xe&&i.onClick(i.chartType,xe)},children:(0,o.jsx)("div",{ref:O})})},Qn=function(i){var O=i.setAppState,W=i.appState,oe=i.onClose,xe=Is().onInsertElements,se=ue().useCallback(function(){oe&&oe()},[oe]),K=function(ne,Ie){xe(Ie),(0,S.L)("magic","chart",ne),O({currentChartType:ne,pasteDialog:{shown:!1,data:null}})};return(0,o.jsx)(Yt.V,{size:"small",onCloseRequest:se,title:(0,F.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)(qn,{chartType:"bar",spreadsheet:W.pasteDialog.data,selected:W.currentChartType==="bar",onClick:K}),(0,o.jsx)(qn,{chartType:"line",spreadsheet:W.pasteDialog.data,selected:W.currentChartType==="line",onClick:K})]})})},dr=e(2978),ur={};ur.styleTagTransform=ft(),ur.setAttributes=Ge(),ur.insert=Re().bind(null,"head"),ur.domAPI=ge(),ur.insertStyleElement=qe(),re()(dr.Z,ur),dr.Z&&dr.Z.locals&&dr.Z.locals;function ir(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}var cr=k().mark(Ir);function Ar(i,O){var W=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!W){if(Array.isArray(i)||(W=function(Ie,Ne){if(Ie){if(typeof Ie=="string")return Gr(Ie,Ne);var Be=Object.prototype.toString.call(Ie).slice(8,-1);if(Be==="Object"&&Ie.constructor&&(Be=Ie.constructor.name),Be==="Map"||Be==="Set")return Array.from(Ie);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return Gr(Ie,Ne)}}(i))||O){W&&(i=W);var oe=0,xe=function(){};return{s:xe,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Ie){throw Ie},f:xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,K=!0,ne=!1;return{s:function(){W=W.call(i)},n:function(){var Ie=W.next();return K=Ie.done,Ie},e:function(Ie){ne=!0,se=Ie},f:function(){try{K||W.return==null||W.return()}finally{if(ne)throw se}}}}function Gr(i,O){(O==null||O>i.length)&&(O=i.length);for(var W=0,oe=new Array(O);W<O;W++)oe[W]=i[W];return oe}var so=function(){return(0,o.jsxs)("div",{className:"HelpDialog__header",children:[(0,o.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,F.t)("helpDialog.documentation"),(0,o.jsx)("div",{className:"HelpDialog__link-icon",children:U.h0})]}),(0,o.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,F.t)("helpDialog.blog"),(0,o.jsx)("div",{className:"HelpDialog__link-icon",children:U.h0})]}),(0,o.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,F.t)("helpDialog.github"),(0,o.jsx)("div",{className:"HelpDialog__link-icon",children:U.h0})]})]})},zo=function(i){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{children:i.title}),(0,o.jsx)("div",{className:"HelpDialog__islands-container",children:i.children})]})},ii=function(i){return(0,o.jsxs)("div",{className:"HelpDialog__island ".concat(i.className),children:[(0,o.jsx)("h4",{className:"HelpDialog__island-title",children:i.caption}),(0,o.jsx)("div",{className:"HelpDialog__island-content",children:i.children})]})};function Ir(i,O){var W,oe,xe,se;return k().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:W=!0,oe=Ar(i),K.prev=2,oe.s();case 4:if((xe=oe.n()).done){K.next=14;break}if(se=xe.value,W){K.next=9;break}return K.next=9,O;case 9:return W=!1,K.next=12,se;case 12:K.next=4;break;case 14:K.next=19;break;case 16:K.prev=16,K.t0=K.catch(2),oe.e(K.t0);case 19:return K.prev=19,oe.f(),K.finish(19);case 22:case"end":return K.stop()}},cr,null,[[2,16,19,22]])}var hr=function(i){var O=i.label,W=i.shortcuts,oe=i.isOr,xe=oe===void 0||oe,se=W.map(function(K){return(K.endsWith("++")?[].concat((0,p.Z)(K.slice(0,-2).split("+")),["+"]):K.split("+")).map(function(ne){return(0,o.jsx)(Ur,{children:(Ie=ne,Ie.replace(/\b[a-z]\b/,function(Ne){return Ne.toUpperCase()}))},ne);var Ie})});return(0,o.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,o.jsx)("div",{children:O}),(0,o.jsx)("div",{className:"HelpDialog__key-container",children:(0,p.Z)(Ir(se,xe?(0,F.t)("helpDialog.or"):null))})]})},Ur=function(i){return(0,o.jsx)("kbd",function(O){for(var W=1;W<arguments.length;W++){var oe=arguments[W]!=null?arguments[W]:{};W%2?ir(Object(oe),!0).forEach(function(xe){(0,x.Z)(O,xe,oe[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(oe)):ir(Object(oe)).forEach(function(xe){Object.defineProperty(O,xe,Object.getOwnPropertyDescriptor(oe,xe))})}return O}({className:"HelpDialog__key"},i))},no=function(i){var O=i.onClose,W=ue().useCallback(function(){O&&O()},[O]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(Yt.V,{onCloseRequest:W,title:(0,F.t)("helpDialog.title"),className:"HelpDialog",children:[(0,o.jsx)(so,{}),(0,o.jsxs)(zo,{title:(0,F.t)("helpDialog.shortcuts"),children:[(0,o.jsxs)(ii,{className:"HelpDialog__island--tools",caption:(0,F.t)("helpDialog.tools"),children:[(0,o.jsx)(hr,{label:(0,F.t)("toolBar.hand"),shortcuts:[I.tW.H]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.selection"),shortcuts:[I.tW.V,I.tW[1]]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.rectangle"),shortcuts:[I.tW.R,I.tW[2]]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.diamond"),shortcuts:[I.tW.D,I.tW[3]]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.ellipse"),shortcuts:[I.tW.O,I.tW[4]]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.arrow"),shortcuts:[I.tW.A,I.tW[5]]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.line"),shortcuts:[I.tW.L,I.tW[6]]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.freedraw"),shortcuts:[I.tW.P,I.tW[7]]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.text"),shortcuts:[I.tW.T,I.tW[8]]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.image"),shortcuts:[I.tW[9]]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.eraser"),shortcuts:[I.tW.E,I.tW[0]]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.frame"),shortcuts:[I.tW.F]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.laser"),shortcuts:[I.tW.K]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.eyeDropper"),shortcuts:[I.tW.I,"Shift+S","Shift+G"]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,f.uY)("CtrlOrCmd+Enter")]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.editText"),shortcuts:[(0,f.uY)("Enter")]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.textNewLine"),shortcuts:[(0,f.uY)("Enter"),(0,f.uY)("Shift+Enter")]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.textFinish"),shortcuts:[(0,f.uY)("Esc"),(0,f.uY)("CtrlOrCmd+Enter")]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,F.t)("helpDialog.click"),(0,F.t)("helpDialog.click"),(0,F.t)("helpDialog.click")],isOr:!1}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.curvedLine"),shortcuts:["L",(0,F.t)("helpDialog.click"),(0,F.t)("helpDialog.click"),(0,F.t)("helpDialog.click")],isOr:!1}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.lock"),shortcuts:[I.tW.Q]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.preventBinding"),shortcuts:[(0,f.uY)("CtrlOrCmd")]}),(0,o.jsx)(hr,{label:(0,F.t)("toolBar.link"),shortcuts:[(0,f.uY)("CtrlOrCmd+K")]})]}),(0,o.jsxs)(ii,{className:"HelpDialog__island--view",caption:(0,F.t)("helpDialog.view"),children:[(0,o.jsx)(hr,{label:(0,F.t)("buttons.zoomIn"),shortcuts:[(0,f.uY)("CtrlOrCmd++")]}),(0,o.jsx)(hr,{label:(0,F.t)("buttons.zoomOut"),shortcuts:[(0,f.uY)("CtrlOrCmd+-")]}),(0,o.jsx)(hr,{label:(0,F.t)("buttons.resetZoom"),shortcuts:[(0,f.uY)("CtrlOrCmd+0")]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,o.jsx)(hr,{label:(0,F.t)("buttons.zenMode"),shortcuts:[(0,f.uY)("Alt+Z")]}),(0,o.jsx)(hr,{label:(0,F.t)("buttons.objectsSnapMode"),shortcuts:[(0,f.uY)("Alt+S")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.showGrid"),shortcuts:[(0,f.uY)("CtrlOrCmd+'")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.viewMode"),shortcuts:[(0,f.uY)("Alt+R")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.toggleTheme"),shortcuts:[(0,f.uY)("Alt+Shift+D")]}),(0,o.jsx)(hr,{label:(0,F.t)("stats.title"),shortcuts:[(0,f.uY)("Alt+/")]})]}),(0,o.jsxs)(ii,{className:"HelpDialog__island--editor",caption:(0,F.t)("helpDialog.editor"),children:[(0,o.jsx)(hr,{label:(0,F.t)("labels.moveCanvas"),shortcuts:[(0,f.uY)("Space+".concat((0,F.t)("helpDialog.drag"))),(0,f.uY)("Wheel+".concat((0,F.t)("helpDialog.drag")))],isOr:!0}),(0,o.jsx)(hr,{label:(0,F.t)("buttons.clearReset"),shortcuts:[(0,f.uY)("CtrlOrCmd+Delete")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.delete"),shortcuts:[(0,f.uY)("Delete")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.cut"),shortcuts:[(0,f.uY)("CtrlOrCmd+X")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.copy"),shortcuts:[(0,f.uY)("CtrlOrCmd+C")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.paste"),shortcuts:[(0,f.uY)("CtrlOrCmd+V")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.pasteAsPlaintext"),shortcuts:[(0,f.uY)("CtrlOrCmd+Shift+V")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.selectAll"),shortcuts:[(0,f.uY)("CtrlOrCmd+A")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.multiSelect"),shortcuts:[(0,f.uY)("Shift+".concat((0,F.t)("helpDialog.click")))]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.deepSelect"),shortcuts:[(0,f.uY)("CtrlOrCmd+".concat((0,F.t)("helpDialog.click")))]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,f.uY)("CtrlOrCmd+".concat((0,F.t)("helpDialog.drag")))]}),(A.vt||r.vU)&&(0,o.jsx)(hr,{label:(0,F.t)("labels.copyAsPng"),shortcuts:[(0,f.uY)("Shift+Alt+C")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.copyStyles"),shortcuts:[(0,f.uY)("CtrlOrCmd+Alt+C")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.pasteStyles"),shortcuts:[(0,f.uY)("CtrlOrCmd+Alt+V")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.sendToBack"),shortcuts:[r.Um?(0,f.uY)("CtrlOrCmd+Alt+["):(0,f.uY)("CtrlOrCmd+Shift+[")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.bringToFront"),shortcuts:[r.Um?(0,f.uY)("CtrlOrCmd+Alt+]"):(0,f.uY)("CtrlOrCmd+Shift+]")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.sendBackward"),shortcuts:[(0,f.uY)("CtrlOrCmd+[")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.bringForward"),shortcuts:[(0,f.uY)("CtrlOrCmd+]")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.alignTop"),shortcuts:[(0,f.uY)("CtrlOrCmd+Shift+Up")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.alignBottom"),shortcuts:[(0,f.uY)("CtrlOrCmd+Shift+Down")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.alignLeft"),shortcuts:[(0,f.uY)("CtrlOrCmd+Shift+Left")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.alignRight"),shortcuts:[(0,f.uY)("CtrlOrCmd+Shift+Right")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.duplicateSelection"),shortcuts:[(0,f.uY)("CtrlOrCmd+D"),(0,f.uY)("Alt+".concat((0,F.t)("helpDialog.drag")))]}),(0,o.jsx)(hr,{label:(0,F.t)("helpDialog.toggleElementLock"),shortcuts:[(0,f.uY)("CtrlOrCmd+Shift+L")]}),(0,o.jsx)(hr,{label:(0,F.t)("buttons.undo"),shortcuts:[(0,f.uY)("CtrlOrCmd+Z")]}),(0,o.jsx)(hr,{label:(0,F.t)("buttons.redo"),shortcuts:r.ED?[(0,f.uY)("CtrlOrCmd+Y"),(0,f.uY)("CtrlOrCmd+Shift+Z")]:[(0,f.uY)("CtrlOrCmd+Shift+Z")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.group"),shortcuts:[(0,f.uY)("CtrlOrCmd+G")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.ungroup"),shortcuts:[(0,f.uY)("CtrlOrCmd+Shift+G")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.flipHorizontal"),shortcuts:[(0,f.uY)("Shift+H")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.flipVertical"),shortcuts:[(0,f.uY)("Shift+V")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.showStroke"),shortcuts:[(0,f.uY)("S")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.showBackground"),shortcuts:[(0,f.uY)("G")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.decreaseFontSize"),shortcuts:[(0,f.uY)("CtrlOrCmd+Shift+<")]}),(0,o.jsx)(hr,{label:(0,F.t)("labels.increaseFontSize"),shortcuts:[(0,f.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},ao=e(4704),Xo=e(4241),Ho={};Ho.styleTagTransform=ft(),Ho.setAttributes=Ge(),Ho.insert=Re().bind(null,"head"),Ho.domAPI=ge(),Ho.insertStyleElement=qe(),re()(Xo.Z,Ho),Xo.Z&&Xo.Z.locals&&Xo.Z.locals;var di=function(i){var O,W=i.children,oe=i.color;return(0,o.jsx)("div",{className:"Card",style:(O={},(0,x.Z)(O,"--card-color",oe==="primary"?"var(--color-primary)":mn[oe][7]),(0,x.Z)(O,"--card-color-darker",oe==="primary"?"var(--color-primary-darker)":mn[oe][8]),(0,x.Z)(O,"--card-color-darkest",oe==="primary"?"var(--color-primary-darkest)":mn[oe][9]),O),children:W})},ai=e(7955),ui={};ui.styleTagTransform=ft(),ui.setAttributes=Ge(),ui.insert=Re().bind(null,"head"),ui.domAPI=ge(),ui.insertStyleElement=qe(),re()(ai.Z,ui),ai.Z&&ai.Z.locals&&ai.Z.locals;var ua=function(i){var O=i.elements,W=i.appState,oe=i.setAppState,xe=i.files,se=i.actionManager,K=i.exportOpts,ne=i.canvas,Ie=i.onCloseRequest,Ne=K.onExportToBackend;return(0,o.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,o.jsxs)("div",{className:"ExportDialog-cards",children:[K.saveFileToDisk&&(0,o.jsxs)(di,{color:"lime",children:[(0,o.jsx)("div",{className:"Card-icon",children:U.TP}),(0,o.jsx)("h2",{children:(0,F.t)("exportDialog.disk_title")}),(0,o.jsxs)("div",{className:"Card-details",children:[(0,F.t)("exportDialog.disk_details"),!Tn.kr&&se.renderAction("changeProjectName")]}),(0,o.jsx)(L.V,{className:"Card-button",type:"button",title:(0,F.t)("exportDialog.disk_button"),"aria-label":(0,F.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){se.executeAction(an.mM,"ui")}})]}),Ne&&(0,o.jsxs)(di,{color:"pink",children:[(0,o.jsx)("div",{className:"Card-icon",children:U.xP}),(0,o.jsx)("h2",{children:(0,F.t)("exportDialog.link_title")}),(0,o.jsx)("div",{className:"Card-details",children:(0,F.t)("exportDialog.link_details")}),(0,o.jsx)(L.V,{className:"Card-button",type:"button",title:(0,F.t)("exportDialog.link_button"),"aria-label":(0,F.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:(0,y.Z)(k().mark(function Be(){return k().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.prev=0,(0,S.L)("export","link","ui (".concat((0,f.$h)(),")")),nt.next=4,Ne(O,W,xe,ne);case 4:Ie(),nt.next=10;break;case 7:nt.prev=7,nt.t0=nt.catch(0),oe({errorMessage:nt.t0.message});case 10:case"end":return nt.stop()}},Be,null,[[0,7]])}))})]}),K.renderCustomUI&&K.renderCustomUI(O,W,xe,ne)]})})},Ca=function(i){var O=i.elements,W=i.appState,oe=i.files,xe=i.actionManager,se=i.exportOpts,K=i.canvas,ne=i.setAppState,Ie=ue().useCallback(function(){ne({openDialog:null})},[ne]);return(0,o.jsx)(o.Fragment,{children:W.openDialog==="jsonExport"&&(0,o.jsx)(Yt.V,{onCloseRequest:Ie,title:(0,F.t)("buttons.export"),children:(0,o.jsx)(ua,{elements:O,appState:W,setAppState:ne,files:oe,actionManager:xe,onCloseRequest:Ie,exportOpts:se,canvas:K})})})},ti=e(7080),da=function(i){return(0,o.jsx)("button",{className:"help-icon",onClick:i.onClick,type:"button",title:"".concat((0,F.t)("helpDialog.title"),"  ?"),"aria-label":(0,F.t)("helpDialog.title"),children:U.by})},nl=function(i){var O=i.appState,W=i.actionManager,oe=i.showExitZenModeBtn,xe=i.renderWelcomeScreen,se=(0,st.R6)(),K=se.FooterCenterTunnel,ne=se.WelcomeScreenHelpHintTunnel,Ie=Jl(),Ne=!O.viewModeEnabled&&O.multiElement&&Ie.isTouchScreen;return(0,o.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,o.jsx)("div",{className:(0,fe.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":O.zenModeEnabled}),children:(0,o.jsx)(vt.Z.Col,{gap:2,children:(0,o.jsxs)(jo,{heading:"canvasActions",children:[(0,o.jsx)(At,{renderAction:W.renderAction,zoom:O.zoom}),!O.viewModeEnabled&&(0,o.jsx)(It,{renderAction:W.renderAction,className:(0,fe.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":O.zenModeEnabled})}),Ne&&(0,o.jsx)(Nt,{renderAction:W.renderAction,className:(0,fe.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":O.zenModeEnabled})})]})})}),(0,o.jsx)(K.Out,{}),(0,o.jsx)("div",{className:(0,fe.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":O.zenModeEnabled}),children:(0,o.jsxs)("div",{style:{position:"relative"},children:[xe&&(0,o.jsx)(ne.Out,{}),(0,o.jsx)(da,{onClick:function(){return W.executeAction($.jY)}})]})}),(0,o.jsx)(Mt,{actionManager:W,showExitZenModeBtn:oe})]})},Dl=nl;nl.displayName="Footer";var Qi=e(5902),ea=e(453),bi=e(3607),Ii=e(7021),Ll=e(8973),Va=e(6922),Ri=e(7827),Ui=function(i){var O=i.title,W=i.children,oe=i.actionLabel,xe=i.onClick;return(0,o.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,o.jsx)("h4",{children:O}),(0,o.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:W}),(0,o.jsx)(Pt,{variant:"outlined",color:"muted",label:oe,size:"large",fullWidth:!0,onClick:xe})]})},Vi=Object.assign(function(i){var O=i.children;return(0,o.jsx)("div",{className:"OverwriteConfirm__Actions",children:O})},{ExportToImage:function(){var i=(0,F.QT)().t,O=Ds(),W=As();return(0,o.jsx)(Ui,{title:i("overwriteConfirm.action.exportToImage.title"),actionLabel:i("overwriteConfirm.action.exportToImage.button"),onClick:function(){O.executeAction(an.Du,"ui",!0),W({openDialog:"imageExport"})},children:i("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var i=(0,F.QT)().t,O=Ds();return(0,o.jsx)(Ui,{title:i("overwriteConfirm.action.saveToDisk.title"),actionLabel:i("overwriteConfirm.action.saveToDisk.button"),onClick:function(){O.executeAction($.mM,"ui")},children:i("overwriteConfirm.action.saveToDisk.description")})}}),Ki=e(9439),ta={};ta.styleTagTransform=ft(),ta.setAttributes=Ge(),ta.insert=Re().bind(null,"head"),ta.domAPI=ge(),ta.insertStyleElement=qe(),re()(Ki.Z,ta),Ki.Z&&Ki.Z.locals&&Ki.Z.locals;function fa(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}function na(i){for(var O=1;O<arguments.length;O++){var W=arguments[O]!=null?arguments[O]:{};O%2?fa(Object(W),!0).forEach(function(oe){(0,x.Z)(i,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(W)):fa(Object(W)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(W,oe))})}return i}var ja=Object.assign((0,Va.$)("OverwriteConfirmDialog",function(i){var O=i.children,W=(0,st.R6)().OverwriteConfirmDialogTunnel,oe=(0,bi.KO)(Ri.K,ea.yE),xe=(0,g.Z)(oe,2),se=xe[0],K=xe[1];return se.active?(0,o.jsx)(W.In,{children:(0,o.jsx)(Yt.V,{onCloseRequest:function(){se.onClose(),K(function(ne){return na(na({},ne),{},{active:!1})})},title:!1,size:916,children:(0,o.jsxs)("div",{className:"OverwriteConfirm",children:[(0,o.jsx)("h3",{children:se.title}),(0,o.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(se.color),children:[(0,o.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:U.UT}),(0,o.jsx)("div",{children:se.description}),(0,o.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,o.jsx)(Pt,{color:se.color,size:"large",label:se.actionLabel,onClick:function(){se.onConfirm(),K(function(ne){return na(na({},ne),{},{active:!1})})}})]}),(0,o.jsx)(Vi,{children:O})]})})}):null}),{Actions:Vi,Action:Ui}),Ka=e(100),Ia=e(1925),Ya=e(8924),Ei=e(1434),$o={};$o.styleTagTransform=ft(),$o.setAttributes=Ge(),$o.insert=Re().bind(null,"head"),$o.domAPI=ge(),$o.insertStyleElement=qe(),re()(Ei.Z,$o),Ei.Z&&Ei.Z.locals&&Ei.Z.locals;var Yi=e(9144),hi={};hi.styleTagTransform=ft(),hi.setAttributes=Ge(),hi.insert=Re().bind(null,"head"),hi.domAPI=ge(),hi.insertStyleElement=qe(),re()(Yi.Z,hi),Yi.Z&&Yi.Z.locals&&Yi.Z.locals;var pa=e(2921),Rl=function(i){return(0,o.jsxs)("label",{className:(0,fe.Z)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":i.isMobile}),title:"".concat(i.title),children:[(0,o.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:i.name,onChange:i.onChange,checked:i.checked,"aria-label":i.title,"data-testid":"toolbar-LaserPointer"}),(0,o.jsx)("div",{className:"ToolIcon__icon",children:U.d})]})},Nl=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],cs=["canvas","appState"],bl=["canvas","appState"];function rl(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}function Pa(i,O){var W=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!W){if(Array.isArray(i)||(W=function(Ie,Ne){if(Ie){if(typeof Ie=="string")return Xi(Ie,Ne);var Be=Object.prototype.toString.call(Ie).slice(8,-1);if(Be==="Object"&&Ie.constructor&&(Be=Ie.constructor.name),Be==="Map"||Be==="Set")return Array.from(Ie);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return Xi(Ie,Ne)}}(i))||O){W&&(i=W);var oe=0,xe=function(){};return{s:xe,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Ie){throw Ie},f:xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,K=!0,ne=!1;return{s:function(){W=W.call(i)},n:function(){var Ie=W.next();return K=Ie.done,Ie},e:function(Ie){ne=!0,se=Ie},f:function(){try{K||W.return==null||W.return()}finally{if(ne)throw se}}}}function Xi(i,O){(O==null||O>i.length)&&(O=i.length);for(var W=0,oe=new Array(O);W<O;W++)oe[W]=i[W];return oe}var us=function(i){var O=i.UIOptions;return(0,o.jsxs)(Ii.Z,{__fallback:!0,children:[(0,o.jsx)(Ii.Z.DefaultItems.LoadScene,{}),(0,o.jsx)(Ii.Z.DefaultItems.SaveToActiveFile,{}),O.canvasActions.export&&(0,o.jsx)(Ii.Z.DefaultItems.Export,{}),O.canvasActions.saveAsImage&&(0,o.jsx)(Ii.Z.DefaultItems.SaveAsImage,{}),(0,o.jsx)(Ii.Z.DefaultItems.Help,{}),(0,o.jsx)(Ii.Z.DefaultItems.ClearCanvas,{}),(0,o.jsx)(Ii.Z.Separator,{}),(0,o.jsx)(Ii.Z.Group,{title:"Excalidraw links",children:(0,o.jsx)(Ii.Z.DefaultItems.Socials,{})}),(0,o.jsx)(Ii.Z.Separator,{}),(0,o.jsx)(Ii.Z.DefaultItems.ToggleTheme,{}),(0,o.jsx)(Ii.Z.DefaultItems.ChangeCanvasBackground,{})]})},ds=function(){return(0,o.jsxs)(ja,{__fallback:!0,children:[(0,o.jsx)(ja.Actions.SaveToDisk,{}),(0,o.jsx)(ja.Actions.ExportToImage,{})]})},ol=function(i){var O,W,oe=i.actionManager,xe=i.appState,se=i.files,K=i.setAppState,ne=i.elements,Ie=i.canvas,Ne=i.onLockToggle,Be=i.onHandToolToggle,nt=i.onPenModeToggle,it=i.showExitZenModeBtn,ct=i.renderTopRightUI,kt=i.renderCustomStats,Ot=i.UIOptions,Wt=i.onExportImage,tn=i.renderWelcomeScreen,Rt=i.children,Lt=i.app,Ut=i.isCollaborating,on=Jl(),vn=(0,st.ZC)(),cn=(0,bi.KO)(Ya.$,ea.yE),nn=(0,g.Z)(cn,2),_n=nn[0],Xn=nn[1],sr=function(){return Ot.canvasActions.export?(0,o.jsx)(Ca,{elements:ne,appState:xe,files:se,actionManager:oe,exportOpts:Ot.canvasActions.export,canvas:Ie,setAppState:K}):null},yr=function(){return Ot.canvasActions.saveAsImage&&xe.openDialog==="imageExport"?(0,o.jsx)(Wn,{elements:ne,appState:xe,files:se,actionManager:oe,onExportImage:Wt,onCloseRequest:function(){return K({openDialog:null})}}):null},Mr=function(){return(0,o.jsx)(Ia.O,{__fallback:!0,onDock:function(xr){(0,S.L)("sidebar","toggleDock (".concat(xr?"dock":"undock",")"),"(".concat(on.editor.isMobile?"mobile":"desktop",")"))}})},Dr=(0,bi.Dv)(Qi.t6,ea.yE),br=(0,o.jsxs)(o.Fragment,{children:[Rt,(0,o.jsx)(us,{UIOptions:Ot}),(0,o.jsx)(Ia.O.Trigger,{__fallback:!0,icon:U.Vq,title:(0,f.Oo)((0,F.t)("toolBar.library")),onToggle:function(xr){xr&&(0,S.L)("sidebar","".concat(r.Cc.name," (open)"),"button (".concat(on.editor.isMobile?"mobile":"desktop",")"))},tab:r.Cc.defaultTab,children:(0,F.t)("toolBar.library")}),(0,o.jsx)(ds,{}),xe.isLoading&&(0,o.jsx)(nr.z,{delay:250}),xe.errorMessage&&(0,o.jsx)(ln,{onClose:function(){return K({errorMessage:null})},children:xe.errorMessage}),_n&&!on.editor.isMobile&&(0,o.jsx)(Ya.p,{colorPickerType:_n.colorPickerType,onCancel:function(){Xn(null)},onChange:function(xr,Sr,kr,Br){var qr=Br.altKey;if(xr==="elementBackground"||xr==="elementStroke")if(kr.length){var Jr,ro,Hr=Pa(kr);try{for(Hr.s();!(ro=Hr.n()).done;){var Lr=ro.value;(0,P.DR)(Lr,(0,x.Z)({},qr&&_n.swapPreviewOnAlt?xr==="elementBackground"?"strokeColor":"backgroundColor":xr==="elementBackground"?"backgroundColor":"strokeColor",Sr),!1),pa.R.delete(Lr)}}catch(io){Hr.e(io)}finally{Hr.f()}(Jr=D.Z.getScene(kr[0]))===null||Jr===void 0||Jr.informMutation()}else K(xr==="elementBackground"?{currentItemBackgroundColor:Sr}:{currentItemStrokeColor:Sr})},onSelect:function(xr,Sr){var kr;Xn(function(Br){return Br!=null&&Br.keepOpenOnAlt&&Sr.altKey?Br:null}),_n==null||(kr=_n.onSelect)===null||kr===void 0||kr.call(_n,xr,Sr)}}),xe.openDialog==="help"&&(0,o.jsx)(no,{onClose:function(){K({openDialog:null})}}),(0,o.jsx)(Ll.o,{}),(0,o.jsx)(vn.OverwriteConfirmDialogTunnel.Out,{}),yr(),sr(),xe.pasteDialog.shown&&(0,o.jsx)(Qn,{setAppState:K,appState:xe,onClose:function(){return K({pasteDialog:{shown:!1,data:null}})}}),on.editor.isMobile&&(0,o.jsx)(qt,{app:Lt,appState:xe,elements:ne,actionManager:oe,renderJSONExportDialog:sr,renderImageExportDialog:yr,setAppState:K,onLockToggle:Ne,onHandToolToggle:Be,onPenModeToggle:nt,renderTopRightUI:ct,renderCustomStats:kt,renderSidebars:Mr,device:on,renderWelcomeScreen:tn,UIOptions:Ot}),!on.editor.isMobile&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"layer-ui__wrapper",style:xe.openSidebar&&Dr&&on.editor.canFitSidebar?{width:"calc(100% - ".concat(r.EE,"px)")}:{},children:[tn&&(0,o.jsx)(vn.WelcomeScreenCenterTunnel.Out,{}),(W=(0,ce.RT)(xe,ne),(0,o.jsx)(Vn,{side:"top",children:(0,o.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,o.jsxs)(vt.Z.Col,{gap:6,className:(0,fe.Z)("App-menu_top__left"),children:[(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)(vn.MainMenuTunnel.Out,{}),tn&&(0,o.jsx)(vn.WelcomeScreenMenuHintTunnel.Out,{})]}),W&&(0,o.jsx)(jo,{heading:"selectedShapeActions",className:(0,fe.Z)("selected-shape-actions zen-mode-transition",{"transition-left":xe.zenModeEnabled}),children:(0,o.jsx)(Gn.W,{className:r.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(xe.height-166,"px")},children:(0,o.jsx)(_t,{appState:xe,elements:ne,renderAction:oe.renderAction})})})]}),!xe.viewModeEnabled&&(0,o.jsx)(jo,{heading:"shapes",className:"shapes-section",children:function(xr){return(0,o.jsxs)("div",{style:{position:"relative"},children:[tn&&(0,o.jsx)(vn.WelcomeScreenToolbarHintTunnel.Out,{}),(0,o.jsx)(vt.Z.Col,{gap:4,align:"start",children:(0,o.jsxs)(vt.Z.Row,{gap:1,className:(0,fe.Z)("App-toolbar-container",{"zen-mode":xe.zenModeEnabled}),children:[(0,o.jsxs)(Gn.W,{padding:1,className:(0,fe.Z)("App-toolbar",{"zen-mode":xe.zenModeEnabled}),children:[(0,o.jsx)(Nn,{appState:xe,isMobile:on.editor.isMobile,device:on,app:Lt}),xr,(0,o.jsxs)(vt.Z.Row,{gap:1,children:[(0,o.jsx)(Qr,{zenModeEnabled:xe.zenModeEnabled,checked:xe.penMode,onChange:function(){return nt(null)},title:(0,F.t)("toolBar.penMode"),penDetected:xe.penDetected}),(0,o.jsx)(Or,{checked:xe.activeTool.locked,onChange:Ne,title:(0,F.t)("toolBar.lock")}),(0,o.jsx)("div",{className:"App-toolbar__divider"}),(0,o.jsx)(Ue,{checked:(0,C.l$)(xe),onChange:function(){return Be()},title:(0,F.t)("toolBar.hand"),isMobile:!0}),(0,o.jsx)(xt,{appState:xe,activeTool:xe.activeTool,UIOptions:Ot,app:Lt})]})]}),Ut&&(0,o.jsx)(Gn.W,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,o.jsx)(Rl,{title:(0,F.t)("toolBar.laser"),checked:xe.activeTool.type==="laser",onChange:function(){return Lt.setActiveTool({type:"laser"})},isMobile:!0})})]})})]})}}),(0,o.jsxs)("div",{className:(0,fe.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":xe.zenModeEnabled}),children:[(0,o.jsx)(ao.Z,{collaborators:xe.collaborators}),ct?.(on.editor.isMobile,xe),!xe.viewModeEnabled&&(!Dr||((O=xe.openSidebar)===null||O===void 0?void 0:O.name)!==r.Cc.name)&&(0,o.jsx)(vn.DefaultSidebarTriggerTunnel.Out,{})]})]})})),(0,o.jsx)(Dl,{appState:xe,actionManager:oe,showExitZenModeBtn:it,renderWelcomeScreen:tn}),xe.showStats&&(0,o.jsx)(Le,{appState:xe,setAppState:K,elements:ne,onClose:function(){oe.executeAction(ti.u)},renderCustomStats:kt}),xe.scrolledOutside&&(0,o.jsx)("button",{className:"scroll-back-to-content",onClick:function(){K(function(xr){return function(Sr){for(var kr=1;kr<arguments.length;kr++){var Br=arguments[kr]!=null?arguments[kr]:{};kr%2?rl(Object(Br),!0).forEach(function(qr){(0,x.Z)(Sr,qr,Br[qr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Sr,Object.getOwnPropertyDescriptors(Br)):rl(Object(Br)).forEach(function(qr){Object.defineProperty(Sr,qr,Object.getOwnPropertyDescriptor(Br,qr))})}return Sr}({},(0,ve.W)(ne,xr))})},children:(0,F.t)("buttons.scrollBackToContent")})]}),Mr()]})]});return(0,o.jsx)(Ka.k.Provider,{value:xe,children:(0,o.jsx)(bi.zt,{scope:vn.jotaiScope,children:(0,o.jsx)(st.A3.Provider,{value:vn,children:br})})})},yl=function(i){return i.suggestedBindings,i.startBoundElement,i.cursorButton,i.scrollX,i.scrollY,(0,dt.Z)(i,Nl)},ya=function(i,O){if(i.children!==O.children)return!1;i.canvas;var W=i.appState,oe=(0,dt.Z)(i,cs),xe=(O.canvas,O.appState),se=(0,dt.Z)(O,bl);return(0,f.w8)(yl(W),yl(xe),{selectedElementIds:f.w8,selectedGroupIds:f.w8})&&(0,f.w8)(oe,se)},Ta=ue().memo(ol,ya),Ni=e(9650),aa={};aa.styleTagTransform=ft(),aa.setAttributes=Ge(),aa.insert=Re().bind(null,"head"),aa.domAPI=ge(),aa.insertStyleElement=qe(),re()(Ni.Z,aa),Ni.Z&&Ni.Z.locals&&Ni.Z.locals;var Yl=function(i){var O=i.message,W=i.onClose,oe=i.closable,xe=oe!==void 0&&oe,se=i.duration,K=se===void 0?5e3:se,ne=(0,Q.useRef)(0),Ie=K!==1/0,Ne=(0,Q.useCallback)(function(){Ie&&(ne.current=window.setTimeout(function(){return W()},K))},[W,K,Ie]);(0,Q.useEffect)(function(){if(Ie)return Ne(),function(){return clearTimeout(ne.current)}},[Ne,O,K,Ie]);var Be=Ie?function(){return clearTimeout(ne?.current)}:void 0,nt=Ie?Ne:void 0;return(0,o.jsxs)("div",{className:"Toast",onMouseEnter:Be,onMouseLeave:nt,children:[(0,o.jsx)("p",{className:"Toast__message",children:O}),xe&&(0,o.jsx)(L.V,{icon:U.Tw,"aria-label":"close",type:"icon",onClick:W,className:"close"})]})};function xa(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}function Pi(i){for(var O=1;O<arguments.length;O++){var W=arguments[O]!=null?arguments[O]:{};O%2?xa(Object(W),!0).forEach(function(oe){(0,x.Z)(i,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(W)):xa(Object(W)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(W,oe))})}return i}var Ma=(0,j.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(i){return!i.viewModeEnabled}},perform:function(i,O){return{appState:Pi(Pi({},O),{},{viewModeEnabled:!this.checked(O)}),commitToHistory:!1}},checked:function(i){return i.viewModeEnabled},predicate:function(i,O,W){return W.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(i){return!i[I.tW.CTRL_OR_CMD]&&i.altKey&&i.code===I.aU.R}}),il=e(4178),Xl=e(200),$l=e.n(Xl),wa=e(3528),ra=e(5992),la=e(8020),An=e(4048),lr=e(9672);function Jn(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}var Cr=(0,E.Z)(function i(O){var W=this,oe=O.scene,xe=O.onSceneUpdated;(0,T.Z)(this,i),this.onFontsLoaded=function(se){if(se.every(function(ne){var Ie="".concat(ne.family,"-").concat(ne.style,"-").concat(ne.weight);return!!i.loadedFontFaces.has(Ie)||(i.loadedFontFaces.add(Ie),!1)}))return!1;var K=!1;W.scene.mapElements(function(ne){return(0,ce.iB)(ne)&&!(0,ee.Xh)(ne)?(pa.R.delete(ne),K=!0,(0,P.BE)(ne,function(Ie){for(var Ne=1;Ne<arguments.length;Ne++){var Be=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?Jn(Object(Be),!0).forEach(function(nt){(0,x.Z)(Ie,nt,Be[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(Be)):Jn(Object(Be)).forEach(function(nt){Object.defineProperty(Ie,nt,Object.getOwnPropertyDescriptor(Be,nt))})}return Ie}({},(0,ce.JZ)(ne)))):ne}),K&&W.onSceneUpdated()},this.loadFontsForElements=function(){var se=(0,y.Z)(k().mark(function K(ne){var Ie;return k().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Ne.next=2,Promise.all((0,p.Z)(new Set(ne.filter(function(Be){return(0,ce.iB)(Be)}).map(function(Be){return Be.fontFamily}))).map(function(Be){var nt,it,ct,kt,Ot=(0,f.mO)({fontFamily:Be,fontSize:16});if((nt=document.fonts)===null||nt===void 0||(it=nt.check)===null||it===void 0||!it.call(nt,Ot))return(ct=document.fonts)===null||ct===void 0||(kt=ct.load)===null||kt===void 0?void 0:kt.call(ct,Ot)}));case 2:Ie=Ne.sent,W.onFontsLoaded(Ie.flat().filter(Boolean));case 4:case"end":return Ne.stop()}},K)}));return function(K){return se.apply(this,arguments)}}(),this.scene=oe,this.onSceneUpdated=xe});Cr.loadedFontFaces=new Set;var wr=e(4682),Kr=e(6264),Vr=e(5047),zr=e(7652);function Si(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}function Zi(i){for(var O=1;O<arguments.length;O++){var W=arguments[O]!=null?arguments[O]:{};O%2?Si(Object(W),!0).forEach(function(oe){(0,x.Z)(i,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(W)):Si(Object(W)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(W,oe))})}return i}var zi=function(i,O){var W=O.scene.getSelectedElements(i);return W.length===1&&W[0].type==="frame"},xl=(0,j.z)({name:"selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(i,O,W,oe){var xe=oe.scene.getSelectedElements(O)[0];if(xe&&xe.type==="frame"){var se=(0,wr.zD)((0,ce.Lm)(i),xe.id).filter(function(K){return!(K.type==="text"&&K.containerId)});return{elements:i,appState:Zi(Zi({},O),{},{selectedElementIds:se.reduce(function(K,ne){return K[ne.id]=!0,K},{})}),commitToHistory:!1}}return{elements:i,appState:O,commitToHistory:!1}},contextItemLabel:"labels.selectAllElementsInFrame",predicate:function(i,O,W,oe){return zi(O,oe)}}),Gl=(0,j.z)({name:"removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(i,O,W,oe){var xe=oe.scene.getSelectedElements(O)[0];return xe&&xe.type==="frame"?{elements:(0,wr.yZ)(i,xe,O),appState:Zi(Zi({},O),{},{selectedElementIds:(0,x.Z)({},xe.id,!0)}),commitToHistory:!0}:{elements:i,appState:O,commitToHistory:!1}},contextItemLabel:"labels.removeAllElementsFromFrame",predicate:function(i,O,W,oe){return zi(O,oe)}}),Aa=((0,j.z)({name:"updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(i,O){return{elements:i,appState:Zi(Zi({},O),{},{frameRendering:Zi(Zi({},O.frameRendering),{},{enabled:!O.frameRendering.enabled})}),commitToHistory:!1}},contextItemLabel:"labels.updateFrameRendering",checked:function(i){return i.frameRendering.enabled}}),(0,j.z)({name:"setFrameAsActiveTool",trackEvent:{category:"toolbar"},perform:function(i,O,W,oe){var xe=(0,f.Om)(O,{type:"frame"});return(0,zr.Uk)(oe.interactiveCanvas,Zi(Zi({},O),{},{activeTool:xe})),{elements:i,appState:Zi(Zi({},O),{},{activeTool:(0,f.Om)(O,{type:"frame"})}),commitToHistory:!1}},keyTest:function(i){return!i[I.tW.CTRL_OR_CMD]&&!i.shiftKey&&!i.altKey&&i.key.toLocaleLowerCase()===I.tW.F}}),e(6006)),al=e(3506);function Xa(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}function So(i){for(var O=1;O<arguments.length;O++){var W=arguments[O]!=null?arguments[O]:{};O%2?Xa(Object(W),!0).forEach(function(oe){(0,x.Z)(i,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(W)):Xa(Object(W)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(W,oe))})}return i}function _i(i,O){var W=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!W){if(Array.isArray(i)||(W=function(Ie,Ne){if(Ie){if(typeof Ie=="string")return Ti(Ie,Ne);var Be=Object.prototype.toString.call(Ie).slice(8,-1);if(Be==="Object"&&Ie.constructor&&(Be=Ie.constructor.name),Be==="Map"||Be==="Set")return Array.from(Ie);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return Ti(Ie,Ne)}}(i))||O){W&&(i=W);var oe=0,xe=function(){};return{s:xe,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Ie){throw Ie},f:xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,K=!0,ne=!1;return{s:function(){W=W.call(i)},n:function(){var Ie=W.next();return K=Ie.done,Ie},e:function(Ie){ne=!0,se=Ie},f:function(){try{K||W.return==null||W.return()}finally{if(ne)throw se}}}}function Ti(i,O){(O==null||O>i.length)&&(O=i.length);for(var W=0,oe=new Array(O);W<O;W++)oe[W]=i[W];return oe}var Lo=function(i){return 8/i},Wo=(0,E.Z)(function i(){(0,T.Z)(this,i)});Wo.referenceSnapPoints=null,Wo.visibleGaps=null,Wo.setReferenceSnapPoints=function(i){Wo.referenceSnapPoints=i},Wo.getReferenceSnapPoints=function(){return Wo.referenceSnapPoints},Wo.setVisibleGaps=function(i){Wo.visibleGaps=i},Wo.getVisibleGaps=function(){return Wo.visibleGaps},Wo.destroy=function(){Wo.referenceSnapPoints=null,Wo.visibleGaps=null};var Bi=function(i){var O=i.event,W=i.appState,oe=i.selectedElements;return O?W.objectsSnapModeEnabled&&!O[I.tW.CTRL_OR_CMD]||!W.objectsSnapModeEnabled&&O[I.tW.CTRL_OR_CMD]&&W.gridSize===null:(oe.length!==1||oe[0].type!=="arrow")&&W.objectsSnapModeEnabled},$a=function(i){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{omitCenter:!1,boundingBoxCorners:!1},W=O.omitCenter,oe=O.boundingBoxCorners,xe=O.dragOffset,se=[];if(i.length===1){var K=i[0],ne=(0,go.qf)(K),Ie=(0,g.Z)(ne,6),Ne=Ie[0],Be=Ie[1],nt=Ie[2],it=Ie[3],ct=Ie[4],kt=Ie[5];xe&&(Ne+=xe.x,nt+=xe.x,ct+=xe.x,Be+=xe.y,it+=xe.y,kt+=xe.y);var Ot=(nt-Ne)/2,Wt=(it-Be)/2;if(K.type!=="diamond"&&K.type!=="ellipse"||oe){var tn=(0,be.xj)([Ne,Be],[ct,kt],K.angle),Rt=(0,be.xj)([nt,Be],[ct,kt],K.angle),Lt=(0,be.xj)([Ne,it],[ct,kt],K.angle),Ut=(0,be.xj)([nt,it],[ct,kt],K.angle),on=[ct,kt];se=W?[tn,Rt,Lt,Ut]:[tn,Rt,Lt,Ut,on]}else{var vn=(0,be.xj)([Ne,Be+Wt],[ct,kt],K.angle),cn=(0,be.xj)([Ne+Ot,Be],[ct,kt],K.angle),nn=(0,be.xj)([nt,Be+Wt],[ct,kt],K.angle),_n=(0,be.xj)([Ne+Ot,it],[ct,kt],K.angle),Xn=[ct,kt];se=W?[vn,cn,nn,_n]:[vn,cn,nn,_n,Xn]}}else if(i.length>1){var sr=(0,go.hC)(i,xe??{x:0,y:0}),yr=(0,g.Z)(sr,4),Mr=yr[0],Dr=yr[1],br=yr[2],xr=yr[3],Sr=br-Mr,kr=xr-Dr,Br=[Mr,Dr],qr=[br,Dr],Jr=[Mr,xr],ro=[br,xr],Hr=[Mr+Sr/2,Dr+kr/2];se=W?[Br,qr,Jr,ro]:[Br,qr,Jr,ro,Hr]}return se.map(function(Lr){return[rt(Lr[0]),rt(Lr[1])]})},ll=function(i,O,W){var oe=O.filter(function(xe){return(0,ee.He)(xe)}).map(function(xe){return xe.id});return(0,Kr.CF)(i,O,W).filter(function(xe){return!(xe.frameId&&oe.includes(xe.frameId))})},ot=function(i,O,W){var oe=ll(i,O,W),xe=(0,Ke.AI)(oe).filter(function(kr){return!(kr.length===1&&(0,ee.Xh)(kr[0]))}).map(function(kr){return(0,go.KP)(kr).map(function(Br){return rt(Br)})}),se=xe.sort(function(kr,Br){return kr[0]-Br[0]}),K=[],ne=0;e:for(var Ie=0;Ie<se.length;Ie++)for(var Ne=se[Ie],Be=Ie+1;Be<se.length;Be++){if(++ne>99999)break e;var nt=se[Be],it=(0,g.Z)(Ne,4),ct=it[1],kt=it[2],Ot=it[3],Wt=(0,g.Z)(nt,4),tn=Wt[0],Rt=Wt[1],Lt=Wt[3];kt<tn&&(0,be.ep)([ct,Ot],[Rt,Lt])&&K.push({startBounds:Ne,endBounds:nt,startSide:[[kt,ct],[kt,Ot]],endSide:[[tn,Rt],[tn,Lt]],length:tn-kt,overlap:(0,be.mW)([ct,Ot],[Rt,Lt])})}var Ut=xe.sort(function(kr,Br){return kr[1]-Br[1]}),on=[];ne=0;e:for(var vn=0;vn<Ut.length;vn++)for(var cn=Ut[vn],nn=vn+1;nn<Ut.length;nn++){if(++ne>99999)break e;var _n=Ut[nn],Xn=(0,g.Z)(cn,4),sr=Xn[0],yr=Xn[2],Mr=Xn[3],Dr=(0,g.Z)(_n,3),br=Dr[0],xr=Dr[1],Sr=Dr[2];Mr<xr&&(0,be.ep)([sr,yr],[br,Sr])&&on.push({startBounds:cn,endBounds:_n,startSide:[[sr,Mr],[yr,Mr]],endSide:[[br,xr],[Sr,xr]],length:xr-Mr,overlap:(0,be.mW)([sr,yr],[br,Sr])})}return{horizontalGaps:K,verticalGaps:on}},je=function(i,O,W,oe,xe,se,K){if(!Bi({appState:W,event:oe,selectedElements:i}))return[];if(i.length===0)return[];var ne=Wo.getVisibleGaps();if(ne){var Ie,Ne=ne.horizontalGaps,Be=ne.verticalGaps,nt=(0,go.hC)(i,O).map(function(wo){return rt(wo)}),it=(0,g.Z)(nt,4),ct=it[0],kt=it[1],Ot=it[2],Wt=it[3],tn=(ct+Ot)/2,Rt=(kt+Wt)/2,Lt=_i(Ne);try{for(Lt.s();!(Ie=Lt.n()).done;){var Ut=Ie.value;if((0,be.ep)([kt,Wt],Ut.overlap)){var on=Ut.startSide[0][0]+Ut.length/2,vn=rt(on-tn);if(Ut.length>Ot-ct&&Math.abs(vn)<=K.x){Math.abs(vn)<K.x&&(xe.length=0),K.x=Math.abs(vn);var cn={type:"gap",direction:"center_horizontal",gap:Ut,offset:vn};xe.push(cn)}else{var nn=ct-(0,g.Z)(Ut.endBounds,3)[2],_n=rt(Ut.length-nn);if(Math.abs(_n)<=K.x){Math.abs(_n)<K.x&&(xe.length=0),K.x=Math.abs(_n);var Xn={type:"gap",direction:"side_right",gap:Ut,offset:_n};xe.push(Xn)}else{var sr=(0,g.Z)(Ut.startBounds,3)[0],yr=rt(sr-Ot-Ut.length);if(Math.abs(yr)<=K.x){Math.abs(yr)<K.x&&(xe.length=0),K.x=Math.abs(yr);var Mr={type:"gap",direction:"side_left",gap:Ut,offset:yr};xe.push(Mr)}}}}}}catch(wo){Lt.e(wo)}finally{Lt.f()}var Dr,br=_i(Be);try{for(br.s();!(Dr=br.n()).done;){var xr=Dr.value;if((0,be.ep)([ct,Ot],xr.overlap)){var Sr=xr.startSide[0][1]+xr.length/2,kr=rt(Sr-Rt);if(xr.length>Wt-kt&&Math.abs(kr)<=K.y){Math.abs(kr)<K.y&&(se.length=0),K.y=Math.abs(kr);var Br={type:"gap",direction:"center_vertical",gap:xr,offset:kr};se.push(Br)}else{var qr=(0,g.Z)(xr.startBounds,3)[1],Jr=rt(qr-Wt-xr.length);if(Math.abs(Jr)<=K.y){Math.abs(Jr)<K.y&&(se.length=0),K.y=Math.abs(Jr);var ro={type:"gap",direction:"side_top",gap:xr,offset:Jr};se.push(ro)}else{var Hr=(0,g.Z)(xr.endBounds,4)[3],Lr=rt(kt-Hr),io=xr.length-Lr;if(Math.abs(io)<=K.y){Math.abs(io)<K.y&&(se.length=0),K.y=Math.abs(io);var Po={type:"gap",direction:"side_bottom",gap:xr,offset:io};se.push(Po)}}}}}}catch(wo){br.e(wo)}finally{br.f()}}},Ve=function(i,O,W){var oe=ll(i,O,W);return(0,Ke.AI)(oe).filter(function(xe){return!(xe.length===1&&(0,ee.Xh)(xe[0]))}).flatMap(function(xe){return $a(xe)})},Xe=function(i,O,W,oe,xe,se,K){if(!Bi({appState:W,event:oe,selectedElements:i})||i.length===0&&O.length===0)return[];var ne=Wo.getReferenceSnapPoints();if(ne){var Ie,Ne=_i(O);try{for(Ne.s();!(Ie=Ne.n()).done;){var Be,nt=Ie.value,it=_i(ne);try{for(it.s();!(Be=it.n()).done;){var ct=Be.value,kt=ct[0]-nt[0],Ot=ct[1]-nt[1];Math.abs(kt)<=K.x&&(Math.abs(kt)<K.x&&(xe.length=0),xe.push({type:"point",points:[nt,ct],offset:kt}),K.x=Math.abs(kt)),Math.abs(Ot)<=K.y&&(Math.abs(Ot)<K.y&&(se.length=0),se.push({type:"point",points:[nt,ct],offset:Ot}),K.y=Math.abs(Ot))}}catch(Wt){it.e(Wt)}finally{it.f()}}}catch(Wt){Ne.e(Wt)}finally{Ne.f()}}},rt=function(i){return Math.round(i*Math.pow(10,6))/Math.pow(10,6)},ut=function(i){var O,W=new Map,oe=_i(i);try{for(oe.s();!(O=oe.n()).done;){var xe=O.value,se=xe.join(",");W.has(se)||W.set(se,xe)}}catch(K){oe.e(K)}finally{oe.f()}return Array.from(W.values())},bt=function(i,O){var W={},oe={};if(i.length>0){var xe,se=_i(i);try{for(se.s();!(xe=se.n()).done;){var K=xe.value;if(K.type==="point"){var ne,Ie=rt(K.points[0][0]);W[Ie]||(W[Ie]=[]),(ne=W[Ie]).push.apply(ne,(0,p.Z)(K.points.map(function(kt){return[rt(kt[0]),rt(kt[1])]})))}}}catch(kt){se.e(kt)}finally{se.f()}}if(O.length>0){var Ne,Be=_i(O);try{for(Be.s();!(Ne=Be.n()).done;){var nt=Ne.value;if(nt.type==="point"){var it,ct=rt(nt.points[0][1]);oe[ct]||(oe[ct]=[]),(it=oe[ct]).push.apply(it,(0,p.Z)(nt.points.map(function(kt){return[rt(kt[0]),rt(kt[1])]})))}}}catch(kt){Be.e(kt)}finally{Be.f()}}return Object.entries(W).map(function(kt){var Ot=(0,g.Z)(kt,2),Wt=Ot[0],tn=Ot[1];return{type:"points",points:ut(tn.map(function(Rt){return[Number(Wt),Rt[1]]}).sort(function(Rt,Lt){return Rt[1]-Lt[1]}))}}).concat(Object.entries(oe).map(function(kt){var Ot=(0,g.Z)(kt,2),Wt=Ot[0],tn=Ot[1];return{type:"points",points:ut(tn.map(function(Rt){return[Rt[0],Number(Wt)]}).sort(function(Rt,Lt){return Rt[0]-Lt[0]}))}}))},mt=function(i,O,W){var oe,xe=(0,go.hC)(i,O),se=(0,g.Z)(xe,4),K=se[0],ne=se[1],Ie=se[2],Ne=se[3],Be=[],nt=_i(W);try{for(nt.s();!(oe=nt.n()).done;){var it=oe.value,ct=(0,g.Z)(it.gap.startBounds,4),kt=ct[0],Ot=ct[1],Wt=ct[2],tn=ct[3],Rt=(0,g.Z)(it.gap.endBounds,4),Lt=Rt[0],Ut=Rt[1],on=Rt[2],vn=Rt[3],cn=(0,be.mW)([ne,Ne],it.gap.overlap),nn=(0,be.mW)([K,Ie],it.gap.overlap);switch(it.direction){case"center_horizontal":if(cn){var _n=(cn[0]+cn[1])/2;Be.push({type:"gap",direction:"horizontal",points:[[it.gap.startSide[0][0],_n],[K,_n]]},{type:"gap",direction:"horizontal",points:[[Ie,_n],[it.gap.endSide[0][0],_n]]})}break;case"center_vertical":if(nn){var Xn=(nn[0]+nn[1])/2;Be.push({type:"gap",direction:"vertical",points:[[Xn,it.gap.startSide[0][1]],[Xn,ne]]},{type:"gap",direction:"vertical",points:[[Xn,Ne],[Xn,it.gap.endSide[0][1]]]})}break;case"side_right":if(cn){var sr=(cn[0]+cn[1])/2;Be.push({type:"gap",direction:"horizontal",points:[[Wt,sr],[Lt,sr]]},{type:"gap",direction:"horizontal",points:[[on,sr],[K,sr]]})}break;case"side_left":if(cn){var yr=(cn[0]+cn[1])/2;Be.push({type:"gap",direction:"horizontal",points:[[Ie,yr],[kt,yr]]},{type:"gap",direction:"horizontal",points:[[Wt,yr],[Lt,yr]]})}break;case"side_top":if(nn){var Mr=(nn[0]+nn[1])/2;Be.push({type:"gap",direction:"vertical",points:[[Mr,Ne],[Mr,Ot]]},{type:"gap",direction:"vertical",points:[[Mr,tn],[Mr,Ut]]})}break;case"side_bottom":if(nn){var Dr=(nn[0]+nn[1])/2;Be.push({type:"gap",direction:"vertical",points:[[Dr,tn],[Dr,Ut]]},{type:"gap",direction:"vertical",points:[[Dr,vn],[Dr,ne]]})}}}}catch(br){nt.e(br)}finally{nt.f()}return function(br){var xr,Sr=new Map,kr=_i(br);try{for(kr.s();!(xr=kr.n()).done;){var Br=xr.value,qr=Br.points.flat().map(function(Jr){return[rt(Jr)]}).join(",");Sr.has(qr)||Sr.set(qr,Br)}}catch(Jr){kr.e(Jr)}finally{kr.f()}return Array.from(Sr.values())}(Be.map(function(br){return So(So({},br),{},{points:br.points.map(function(xr){return[rt(xr[0]),rt(xr[1])]})})}))},St=function(i,O,W,oe,xe,se){var K,ne,Ie,Ne;if(!Bi({event:oe,selectedElements:i,appState:W})||i.length===0||i.length===1&&!function(yr,Mr){var Dr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.01;return Math.abs(yr-Mr)<=Dr}(i[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var Be=(0,go.KP)(O),nt=(0,g.Z)(Be,4),it=nt[0],ct=nt[1],kt=nt[2],Ot=nt[3];se&&(se.includes("e")?kt+=xe.x:se.includes("w")&&(it+=xe.x),se.includes("n")?ct+=xe.y:se.includes("s")&&(Ot+=xe.y));var Wt=[];if(se)switch(se){case"e":Wt.push([kt,ct],[kt,Ot]);break;case"w":Wt.push([it,ct],[it,Ot]);break;case"n":Wt.push([it,ct],[kt,ct]);break;case"s":Wt.push([it,Ot],[kt,Ot]);break;case"ne":Wt.push([kt,ct]);break;case"nw":Wt.push([it,ct]);break;case"se":Wt.push([kt,Ot]);break;case"sw":Wt.push([it,Ot])}var tn=Lo(W.zoom.value),Rt={x:tn,y:tn},Lt=[],Ut=[];Xe(O,Wt,W,oe,Lt,Ut,Rt);var on={x:(K=(ne=Lt[0])===null||ne===void 0?void 0:ne.offset)!==null&&K!==void 0?K:0,y:(Ie=(Ne=Ut[0])===null||Ne===void 0?void 0:Ne.offset)!==null&&Ie!==void 0?Ie:0};Rt.x=0,Rt.y=0,Lt.length=0,Ut.length=0;var vn=(0,go.KP)(i).map(function(yr){return rt(yr)}),cn=(0,g.Z)(vn,4),nn=cn[0],_n=cn[1],Xn=cn[2],sr=cn[3];return Xe(i,[[nn,_n],[nn,sr],[Xn,_n],[Xn,sr]],W,oe,Lt,Ut,Rt),{snapOffset:on,snapLines:bt(Lt,Ut)}},sn=e(7392),gn=e(9247),Qt=function(){return(0,o.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,o.jsx)("p",{children:(0,o.jsx)(gn.Z,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(i){return(0,o.jsx)("span",{style:{fontWeight:600},children:i})}})}),(0,o.jsx)("p",{children:(0,o.jsx)(gn.Z,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(i){return(0,o.jsx)("span",{style:{fontWeight:600},children:i})}})}),(0,o.jsx)("p",{children:(0,o.jsx)(gn.Z,{i18nKey:"errors.brave_measure_text_error.line3",link:function(i){return(0,o.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:i})}})}),(0,o.jsx)("p",{children:(0,o.jsx)(gn.Z,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(i){return(0,o.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:i})},discordLink:function(i){return(0,o.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[i,"."]})}})})]})},fn=e(6199),xn=e(7766),En=function(i){var O=(0,Q.useRef)(!1);return(0,Q.useEffect)(function(){var W;if(O.current){var oe={},xe={},se={},K={},ne={};i.appState.collaborators.forEach(function(Ne,Be){if(Ne.selectedElementIds)for(var nt=0,it=Object.keys(Ne.selectedElementIds);nt<it.length;nt++){var ct=it[nt];ct in se||(se[ct]=[]),se[ct].push(Be)}Ne.pointer&&(Ne.username&&(K[Be]=Ne.username),Ne.userState&&(ne[Be]=Ne.userState),xe[Be]=(0,f._i)({sceneX:Ne.pointer.x,sceneY:Ne.pointer.y},i.appState),oe[Be]=Ne.button)});var Ie=((W=i.containerRef)===null||W===void 0?void 0:W.current)&&getComputedStyle(i.containerRef.current).getPropertyValue("--color-selection")||"#6965db";(0,xn.tp)({canvas:i.canvas,elements:i.elements,visibleElements:i.visibleElements,selectedElements:i.selectedElements,scale:window.devicePixelRatio,appState:i.appState,renderConfig:{remotePointerViewportCoords:xe,remotePointerButton:oe,remoteSelectedElementIds:se,remotePointerUsernames:K,remotePointerUserStates:ne,selectionColor:Ie,renderScrollbars:!1},callback:i.renderInteractiveSceneCallback},(0,f.G9)())}else O.current=!0}),(0,o.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:i.appState.width,height:i.appState.height,cursor:i.appState.viewModeEnabled?r.oc.GRAB:r.oc.AUTO},width:i.appState.width*i.scale,height:i.appState.height*i.scale,ref:i.handleCanvasRef,onContextMenu:i.onContextMenu,onPointerMove:i.onPointerMove,onPointerUp:i.onPointerUp,onPointerCancel:i.onPointerCancel,onTouchMove:i.onTouchMove,onPointerDown:i.onPointerDown,onDoubleClick:i.appState.viewModeEnabled?void 0:i.onDoubleClick,children:(0,F.t)("labels.drawingCanvas")})},yn=function(i){return{zoom:i.zoom,scrollX:i.scrollX,scrollY:i.scrollY,width:i.width,height:i.height,viewModeEnabled:i.viewModeEnabled,editingGroupId:i.editingGroupId,editingLinearElement:i.editingLinearElement,selectedElementIds:i.selectedElementIds,frameToHighlight:i.frameToHighlight,offsetLeft:i.offsetLeft,offsetTop:i.offsetTop,theme:i.theme,pendingImageElementId:i.pendingImageElementId,selectionElement:i.selectionElement,selectedGroupIds:i.selectedGroupIds,selectedLinearElement:i.selectedLinearElement,multiElement:i.multiElement,isBindingEnabled:i.isBindingEnabled,suggestedBindings:i.suggestedBindings,isRotating:i.isRotating,elementsToHighlight:i.elementsToHighlight,openSidebar:i.openSidebar,showHyperlinkPopup:i.showHyperlinkPopup,collaborators:i.collaborators,activeEmbeddable:i.activeEmbeddable,snapLines:i.snapLines,zenModeEnabled:i.zenModeEnabled}},hn=function(i,O){return i.selectionNonce===O.selectionNonce&&i.versionNonce===O.versionNonce&&i.scale===O.scale&&i.elements===O.elements&&i.visibleElements===O.visibleElements&&i.selectedElements===O.selectedElements&&(0,f.w8)(yn(i.appState),yn(O.appState))},In=ue().memo(En,hn),Un=function(i){var O=(0,Q.useRef)(null),W=(0,Q.useRef)(!1);return(0,Q.useEffect)(function(){var oe=O.current;if(oe){var xe=i.canvas;W.current||(W.current=!0,oe.replaceChildren(xe),xe.classList.add("excalidraw__canvas","static"));var se="".concat(i.appState.width,"px"),K="".concat(i.appState.height,"px");xe.style.width!==se&&(xe.style.width=se),xe.style.height!==K&&(xe.style.height=K);var ne=i.appState.width*i.scale,Ie=i.appState.height*i.scale;xe.width!==ne&&(xe.width=ne),xe.height!==Ie&&(xe.height=Ie),(0,xn.AW)({canvas:xe,rc:i.rc,scale:i.scale,elements:i.elements,visibleElements:i.visibleElements,appState:i.appState,renderConfig:i.renderConfig},(0,f.G9)())}}),(0,o.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:O})},Kn=function(i){return{zoom:i.zoom,scrollX:i.scrollX,scrollY:i.scrollY,width:i.width,height:i.height,viewModeEnabled:i.viewModeEnabled,offsetLeft:i.offsetLeft,offsetTop:i.offsetTop,theme:i.theme,pendingImageElementId:i.pendingImageElementId,shouldCacheIgnoreZoom:i.shouldCacheIgnoreZoom,viewBackgroundColor:i.viewBackgroundColor,exportScale:i.exportScale,selectedElementsAreBeingDragged:i.selectedElementsAreBeingDragged,gridSize:i.gridSize,frameRendering:i.frameRendering,selectedElementIds:i.selectedElementIds,frameToHighlight:i.frameToHighlight,editingGroupId:i.editingGroupId}},Bn=function(i,O){return i.versionNonce===O.versionNonce&&i.scale===O.scale&&i.elements===O.elements&&i.visibleElements===O.visibleElements&&(0,f.w8)(Kn(i.appState),Kn(O.appState))&&(0,f.w8)(i.renderConfig,O.renderConfig)},Fn=ue().memo(Un,Bn),fr=function(){function i(O){var W=this;(0,T.Z)(this,i),this.getRenderableElements=(0,f.HP)(function(oe){var xe=oe.zoom,se=oe.offsetLeft,K=oe.offsetTop,ne=oe.scrollX,Ie=oe.scrollY,Ne=oe.height,Be=oe.width,nt=oe.editingElement,it=oe.pendingImageElementId,ct=(oe.versionNonce,function(Ot){var Wt=Ot.editingElement,tn=Ot.elements,Rt=Ot.pendingImageElementId;return tn.filter(function(Lt){return!((0,ee.pC)(Lt)&&Rt===Lt.id||Wt&&Wt.type==="text"&&Lt.id===Wt.id)})}({elements:W.scene.getNonDeletedElements(),editingElement:nt,pendingImageElementId:it})),kt=function(Ot){var Wt=Ot.elements,tn=Ot.zoom,Rt=Ot.offsetLeft,Lt=Ot.offsetTop,Ut=Ot.scrollX,on=Ot.scrollY,vn=Ot.height,cn=Ot.width;return Wt.filter(function(nn){return(0,ke.PZ)(nn,cn,vn,{zoom:tn,offsetLeft:Rt,offsetTop:Lt,scrollX:Ut,scrollY:on})})}({elements:ct,zoom:xe,offsetLeft:se,offsetTop:K,scrollX:ne,scrollY:Ie,height:Ne,width:Be});return{canvasElements:ct,visibleElements:kt}}),this.scene=O}return(0,E.Z)(i,[{key:"destroy",value:function(){(0,xn.n_)(),this.getRenderableElements.clear()}}]),i}(),Tr=e(8806),mr=e(4864),pr=e(8531),_r=e(5830),Pr={};Pr.styleTagTransform=ft(),Pr.setAttributes=Ge(),Pr.insert=Re().bind(null,"head"),Pr.domAPI=ge(),Pr.insertStyleElement=qe(),re()(_r.Z,Pr),_r.Z&&_r.Z.locals&&_r.Z.locals;var Nr="mermaid-to-excalidraw",Yr=function(i){var O=i.error;return(0,o.jsxs)("div",{"data-testid":"mermaid-error",className:"mermaid-error",children:["Error! ",(0,o.jsx)("p",{children:O})]})},$r=function(){var i=(0,Q.useState)({loaded:!1,api:null}),O=(0,g.Z)(i,2),W=O[0],oe=O[1],xe=(0,Q.useState)(""),se=(0,g.Z)(xe,2),K=se[0],ne=se[1],Ie=(0,Q.useDeferredValue)(K.trim()),Ne=(0,Q.useState)(null),Be=(0,g.Z)(Ne,2),nt=Be[0],it=Be[1],ct=(0,Q.useRef)(null),kt=(0,Q.useRef)({elements:[],files:null}),Ot=Is(),Wt=function(){var Rt=ct.current;if(Rt){var Lt=Rt.parentElement;Lt&&(Lt.style.background="",it(null),Rt.replaceChildren())}};(0,Q.useEffect)(function(){var Rt=function(){var Lt=(0,y.Z)(k().mark(function Ut(){var on;return k().wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:return vn.next=2,e.e(4736).then(e.bind(e,1049));case 2:on=vn.sent,oe({loaded:!0,api:on});case 4:case"end":return vn.stop()}},Ut)}));return function(){return Lt.apply(this,arguments)}}();Rt()},[]),(0,Q.useEffect)(function(){var Rt=function(){try{var Lt=localStorage.getItem(Nr);if(Lt)return Lt}catch(Ut){console.error(Ut)}return null}()||`flowchart TD
 A[Christmas] -->|Get money| B(Go shopping)
 B --> C{Let me think}
 C -->|One| D[Laptop]
 C -->|Two| E[iPhone]
 C -->|Three| F[Car]`;ne(Rt)},[]),(0,Q.useEffect)(function(){var Rt=function(){var Lt=(0,y.Z)(k().mark(function Ut(){var on,vn,cn,nn,_n,Xn;return k().wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:if(on=ct.current,vn=on?.parentElement,W.loaded&&on&&vn&&W.api){sr.next=4;break}return sr.abrupt("return");case 4:if(Ie){sr.next=7;break}return Wt(),sr.abrupt("return");case 7:return sr.prev=7,sr.next=10,W.api.parseMermaidToExcalidraw(Ie,{fontSize:r.n5});case 10:return cn=sr.sent,nn=cn.elements,_n=cn.files,it(null),kt.current={elements:(0,mr.wc)(nn,{regenerateIds:!0}),files:_n},sr.next=17,(0,mr.NL)({elements:kt.current.elements,files:kt.current.files,exportPadding:r.qy,maxWidthOrHeight:Math.max(vn.offsetWidth,vn.offsetHeight)*window.devicePixelRatio});case 17:return Xn=sr.sent,sr.next=20,(0,kn._c)(Xn);case 20:vn.style.background="var(--default-bg-color)",on.replaceChildren(Xn),sr.next=28;break;case 24:sr.prev=24,sr.t0=sr.catch(7),vn.style.background="var(--default-bg-color)",Ie&&it(sr.t0.message);case 28:case"end":return sr.stop()}},Ut,null,[[7,24]])}));return function(){return Lt.apply(this,arguments)}}();Rt()},[Ie,W]);var tn=function(){Ot.setOpenDialog(null),function(Rt){try{localStorage.setItem(Nr,Rt)}catch(Lt){console.error(Lt)}}(K)};return(0,o.jsx)(Yt.V,{className:"dialog-mermaid",onCloseRequest:tn,size:1200,title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"dialog-mermaid-title",children:(0,F.t)("mermaid.title")}),(0,o.jsxs)("span",{className:"dialog-mermaid-desc",children:[(0,o.jsx)(gn.Z,{i18nKey:"mermaid.description",flowchartLink:function(Rt){return(0,o.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:Rt})},sequenceLink:function(Rt){return(0,o.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:Rt})}}),(0,o.jsx)("br",{})]})]}),children:(0,o.jsxs)("div",{className:"dialog-mermaid-body",children:[(0,o.jsxs)("div",{className:"dialog-mermaid-panels",children:[(0,o.jsxs)("div",{className:"dialog-mermaid-panels-text",children:[(0,o.jsx)("label",{children:(0,F.t)("mermaid.syntax")}),(0,o.jsx)("textarea",{onChange:function(Rt){return ne(Rt.target.value)},value:K})]}),(0,o.jsxs)("div",{className:"dialog-mermaid-panels-preview",children:[(0,o.jsx)("label",{children:(0,F.t)("mermaid.preview")}),(0,o.jsxs)("div",{className:"dialog-mermaid-panels-preview-wrapper",children:[nt&&(0,o.jsx)(Yr,{error:nt}),W.loaded?(0,o.jsx)("div",{ref:ct,style:{opacity:nt?"0.15":1},className:"dialog-mermaid-panels-preview-canvas-container"}):(0,o.jsx)(pr.Z,{size:"2rem"})]})]})]}),(0,o.jsx)("div",{className:"dialog-mermaid-buttons",children:(0,o.jsxs)(Tr.z,{className:"dialog-mermaid-insert",onSelect:function(){var Rt=kt.current,Lt=Rt.elements,Ut=Rt.files;Ot.addElementsFromPasteOrLibrary({elements:Lt,files:Ut,position:"center",fitToContent:!0}),tn()},children:[(0,F.t)("mermaid.button"),(0,o.jsx)("span",{children:U.LZ})]})})]})})},to=e(7930),Io={};Io.styleTagTransform=ft(),Io.setAttributes=Ge(),Io.insert=Re().bind(null,"head"),Io.domAPI=ge(),Io.insertStyleElement=qe(),re()(to.Z,Io),to.Z&&to.Z.locals&&to.Z.locals;var Go=function(i){var O=i.manager,W=(0,Q.useRef)(null);return(0,Q.useEffect)(function(){return W.current&&O.start(W.current),function(){O.stop()}},[O]),(0,o.jsx)("div",{className:"LaserToolOverlay",children:(0,o.jsx)("svg",{ref:W,className:"LaserToolOverlayCanvas"})})},qo,Mi,yi,Ro;function Uo([i,O,W],[oe,xe,se]){return[i+oe,O+xe,W+se]}function Ko([i,O,W],[oe,xe,se]){return[i-oe,O-xe,W-se]}function Ao([i,O,W],oe){return[i*oe,O*oe,W*oe]}function No([i,O,W]){return[i/Math.sqrt(i**2+O**2),O/Math.sqrt(i**2+O**2),W]}function li([i,O,W],oe){return[Math.cos(oe)*i-Math.sin(oe)*O,Math.sin(oe)*i+Math.cos(oe)*O,W]}function Ct(i,O,W){return Math.atan2(W[1]-i[1],W[0]-i[0])-Math.atan2(O[1]-i[1],O[0]-i[0])}function mi(i){return Math.atan2(Math.sin(i),Math.cos(i))}function gi([i,O]){return Math.sqrt(i**2+O**2)}function si([i,O],[W,oe]){return Math.sqrt((W-i)**2+(oe-O)**2)}qo={},Mi="LaserPointer",yi=()=>ha,Object.defineProperty(qo,Mi,{get:yi,set:Ro,enumerable:!0,configurable:!0});function _o(i,O,W){const oe=si(O,W);if(oe===0)return si(i,O);const xe=((se,K,ne)=>Math.max(K,Math.min(ne,se)))(((i[0]-O[0])*(W[0]-O[0])+(i[1]-O[1])*(W[1]-O[1]))/oe**2,0,1);return si([O[0]+xe*(W[0]-O[0]),O[1]+xe*(W[1]-O[1]),i[2]],i)}function $i(i,O){if(O===0||i.length<=2)return i;const W=i[0],oe=i[i.length-1],[xe,se]=i.reduce(([K,ne],Ie,Ne)=>{const Be=_o(Ie,W,oe);return Be>K?[Be,Ne]:[K,ne]},[0,-1]);if(xe>=O){const K=i[se];return[...$i([W,...i.slice(1,se),K],O).slice(0,-1),K,...$i([K,...i.slice(se,-1),oe],O).slice(1)]}return[W,oe]}class ha{static#e=(()=>{this.defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",sizeMapping:()=>1}})();static#t=(()=>{this.constants={cornerDetectionMaxAngle:120,cornerDetectionVariance:O=>O>35?.5:1,maxTailLength:50}})();constructor(O){this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},ha.defaults,O)}get lastPoint(){return this.tailPoints[this.tailPoints.length-1]??this.stablePoints[this.stablePoints.length-1]}addPoint(O){const W=this.originalPoints[this.originalPoints.length-1];if(!W||W[0]!==O[0]||W[1]!==O[1]){if(this.originalPoints.push(O),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(O);var oe,xe,se;this.options.streamline>0&&(oe=this.lastPoint,xe=O,se=1-this.options.streamline,O=Uo(oe,Ao(Ko(xe,oe),se))),this.tailPoints.push(O),function(K){if(K.length<2)return 0;let ne=0;for(let Ie=1;Ie<=K.length-1;Ie++)ne+=si(K[Ie-1],K[Ie]);return ne+=si(K[K.length-2],K[K.length-1]),ne}(this.tailPoints)>ha.constants.maxTailLength&&this.stabilizeTail()}}close(){this.stabilizeTail()}stabilizeTail(){if(this.options.simplify>0&&this.options.simplifyPhase=="tail")throw new Error("Not implemented yet");this.stablePoints.push(...this.tailPoints),this.tailPoints=[]}getSize(O,W,oe,xe,se){return(O??this.options.size)*this.options.sizeMapping({pressure:W,runningLength:se,currentIndex:oe,totalLength:xe})}getStrokeOutline(O){if(this.isFresh)return[];let W=[...this.stablePoints,...this.tailPoints];this.options.simplify>0&&this.options.simplifyPhase==="input"&&(W=$i(W,this.options.simplify));const oe=W.length;if(oe===0)return[];if(oe===1){const cn=W[0],nn=[];for(let _n=0;_n<=2*Math.PI;_n+=Math.PI/16)nn.push(Uo(cn,Ao(li([1,0,0],_n),this.getSize(O,cn[2],0,oe,0))));return nn.push(Uo(cn,Ao([1,0,0],this.getSize(O,cn[2],0,oe,0)))),nn}if(oe===2){const cn=W[0],nn=W[1],_n=[],Xn=Ct(cn,[cn[0],cn[1]-100,cn[2]],nn);for(let sr=Xn;sr<=Math.PI+Xn;sr+=Math.PI/16)_n.push(Uo(cn,Ao(li([1,0,0],sr),this.getSize(O,cn[2],0,oe,0))));for(let sr=Math.PI+Xn;sr<=2*Math.PI+Xn;sr+=Math.PI/16)_n.push(Uo(nn,Ao(li([1,0,0],sr),this.getSize(O,nn[2],0,oe,0))));return _n.push(_n[0]),_n}const xe=[],se=[];let K=0,ne=0,Ie=0,Ne=0;for(let cn=1;cn<oe-1;cn++){const nn=W[cn-1],_n=W[cn],Xn=W[cn+1];let sr=_n[2];const yr=si(nn,_n);Ne+=yr,K=ne+.2*(yr-ne);const Mr=this.getSize(O,sr,cn,oe,Ne);if(Mr===0){Ie=cn+1;continue}const Dr=No(Ko(nn,_n)),br=No(Ko(Xn,_n)),xr=li(Dr,Math.PI/2),Sr=li(Dr,-Math.PI/2),kr=li(br,Math.PI/2),Br=li(br,-Math.PI/2),qr=Uo(_n,Ao(xr,Mr)),Jr=Uo(_n,Ao(Sr,Mr)),ro=Uo(_n,Ao(kr,Mr)),Hr=Uo(_n,Ao(Br,Mr)),Lr=Uo(xr,Br),io=Uo(Sr,kr),Po=Uo(_n,Ao(gi(Lr)===0?Dr:No(Lr),Mr)),wo=Uo(_n,Ao(gi(io)===0?br:No(io),Mr)),mo=mi(Ct(_n,nn,Xn)),co=ha.constants.cornerDetectionMaxAngle/180*Math.PI*ha.constants.cornerDetectionVariance(K);if(Math.abs(mo)<co){const Co=Math.abs(mi(Math.PI-mo));if(Co===0)continue;if(mo<0){se.push(Jr,wo);for(let eo=0;eo<=Co;eo+=Co/4)xe.push(Uo(_n,li(Ao(xr,Mr),eo)));for(let eo=Co;eo>=0;eo-=Co/4)se.push(Uo(_n,li(Ao(xr,Mr),eo)));se.push(wo,ro)}else{xe.push(qr,Po);for(let eo=0;eo<=Co;eo+=Co/4)se.push(Uo(_n,li(Ao(xr,-Mr),-eo)));for(let eo=Co;eo>=0;eo-=Co/4)xe.push(Uo(_n,li(Ao(xr,-Mr),-eo)));xe.push(Po,Hr)}}else xe.push(Po),se.push(wo);ne=K}const Be=W[Ie],nt=W[Ie+1],it=W[oe-2],ct=W[oe-1];if(Ie>=oe-2)return[];const kt=No(Ko(nt,Be)),Ot=No(Ko(it,ct)),Wt=li(kt,-Math.PI/2),tn=li(Ot,Math.PI/2),Rt=this.getSize(O,Be[2],0,oe,0),Lt=[],Ut=this.getSize(O,it[2],oe-2,oe,Ne),on=[];for(let cn=0;cn<=Math.PI;cn+=Math.PI/16)Lt.unshift(Uo(Be,li(Ao(Wt,Rt),-cn)));Lt.unshift(Uo(Be,Ao(Wt,-Rt)));for(let cn=0;cn<=Math.PI;cn+=Math.PI/16)on.push(Uo(ct,li(Ao(tn,-Ut),-cn)));const vn=[...Lt,...xe,...on.reverse(),...se.reverse()];return Lt.length>0&&vn.push(Lt[0]),this.options.simplify>0&&this.options.simplifyPhase==="output"?$i(vn,this.options.simplify):vn}}var ql=e(957);function ma(i,O){var W=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!W){if(Array.isArray(i)||(W=function(Ie,Ne){if(Ie){if(typeof Ie=="string")return Zl(Ie,Ne);var Be=Object.prototype.toString.call(Ie).slice(8,-1);if(Be==="Object"&&Ie.constructor&&(Be=Ie.constructor.name),Be==="Map"||Be==="Set")return Array.from(Ie);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return Zl(Ie,Ne)}}(i))||O){W&&(i=W);var oe=0,xe=function(){};return{s:xe,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Ie){throw Ie},f:xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,K=!0,ne=!1;return{s:function(){W=W.call(i)},n:function(){var Ie=W.next();return K=Ie.done,Ie},e:function(Ie){ne=!0,se=Ie},f:function(){try{K||W.return==null||W.return()}finally{if(ne)throw se}}}}function Zl(i,O){(O==null||O>i.length)&&(O=i.length);for(var W=0,oe=new Array(O);W<O;W++)oe[W]=i[W];return oe}var sl=1e3,cl=function(i,O){return(i+O)/2};function ga(i){return 1-Math.pow(1-i,3)}function Fi(){return{currentPath:void 0,finishedPaths:[],lastPoint:[-1e4,-1e4],svg:document.createElementNS("http://www.w3.org/2000/svg","path")}}function Oi(){return ha.constants.cornerDetectionMaxAngle=70,new ha({simplify:0,streamline:.4,sizeMapping:function(i){var O=Math.max(0,1-(performance.now()-i.pressure)/1e3),W=(50-Math.min(50,i.totalLength-i.currentIndex))/50;return Math.min(ga(W),ga(O))}})}var fi=function(){function i(O){(0,T.Z)(this,i),this.app=O,this.collaboratorsState=new Map,this.isDrawing=!1,this.isRunning=!1,this.ownState=Fi()}return(0,E.Z)(i,[{key:"destroy",value:function(){this.stop(),this.isDrawing=!1,this.ownState=Fi(),this.collaboratorsState=new Map}},{key:"startPath",value:function(O,W){this.ownState.currentPath=Oi(),this.ownState.currentPath.addPoint([O,W,performance.now()]),this.updatePath(this.ownState)}},{key:"addPointToPath",value:function(O,W){var oe;this.ownState.currentPath&&((oe=this.ownState.currentPath)===null||oe===void 0||oe.addPoint([O,W,performance.now()]),this.updatePath(this.ownState))}},{key:"endPath",value:function(){this.ownState.currentPath&&(this.ownState.currentPath.close(),this.ownState.finishedPaths.push(this.ownState.currentPath),this.updatePath(this.ownState))}},{key:"updatePath",value:function(O){this.isDrawing=!0,this.isRunning||this.start()}},{key:"start",value:function(O){O&&(this.container=O,this.container.appendChild(this.ownState.svg)),this.stop(),this.isRunning=!0,this.loop()}},{key:"stop",value:function(){this.isRunning=!1,this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=void 0}},{key:"loop",value:function(){this.rafId=requestAnimationFrame(this.loop.bind(this)),this.updateCollabolatorsState(),this.isDrawing?this.update():this.isRunning=!1}},{key:"draw",value:function(O){var W=this;return function(oe){var xe=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],se=oe.length;if(se<4)return"";for(var K=oe[0],ne=oe[1],Ie=oe[2],Ne="M".concat(K[0].toFixed(2),",").concat(K[1].toFixed(2)," Q").concat(ne[0].toFixed(2),",").concat(ne[1].toFixed(2)," ").concat(cl(ne[0],Ie[0]).toFixed(2),",").concat(cl(ne[1],Ie[1]).toFixed(2)," T"),Be=2,nt=se-1;Be<nt;Be++)K=oe[Be],ne=oe[Be+1],Ne+="".concat(cl(K[0],ne[0]).toFixed(2),",").concat(cl(K[1],ne[1]).toFixed(2)," ");return xe&&(Ne+="Z"),Ne}(O.getStrokeOutline(O.options.size/this.app.state.zoom.value).map(function(oe){var xe=(0,g.Z)(oe,2),se=xe[0],K=xe[1],ne=(0,f._i)({sceneX:se,sceneY:K},W.app.state);return[ne.x,ne.y]}),!0)}},{key:"updateCollabolatorsState",value:function(){if(this.container&&this.app.state.collaborators.size){var O,W=ma(this.app.state.collaborators.entries());try{for(W.s();!(O=W.n()).done;){var oe=(0,g.Z)(O.value,2),xe=oe[0],se=oe[1];if(!this.collaboratorsState.has(xe)){var K=Fi();this.container.appendChild(K.svg),this.collaboratorsState.set(xe,K),this.updatePath(K)}var ne=this.collaboratorsState.get(xe);se.pointer&&se.pointer.tool==="laser"&&(se.button==="down"&&ne.currentPath===void 0&&(ne.lastPoint=[se.pointer.x,se.pointer.y],ne.currentPath=Oi(),ne.currentPath.addPoint([se.pointer.x,se.pointer.y,performance.now()]),this.updatePath(ne)),se.button==="down"&&ne.currentPath!==void 0&&(se.pointer.x===ne.lastPoint[0]&&se.pointer.y===ne.lastPoint[1]||(ne.lastPoint=[se.pointer.x,se.pointer.y],ne.currentPath.addPoint([se.pointer.x,se.pointer.y,performance.now()]),this.updatePath(ne))),se.button==="up"&&ne.currentPath!==void 0&&(ne.lastPoint=[se.pointer.x,se.pointer.y],ne.currentPath.addPoint([se.pointer.x,se.pointer.y,performance.now()]),ne.currentPath.close(),ne.finishedPaths.push(ne.currentPath),ne.currentPath=void 0,this.updatePath(ne)))}}catch(Ie){W.e(Ie)}finally{W.f()}}}},{key:"update",value:function(){var O=this;if(this.container){var W,oe=!1,xe=ma(this.collaboratorsState.entries());try{for(xe.s();!(W=xe.n()).done;){var se=(0,g.Z)(W.value,2),K=se[0],ne=se[1];if(this.app.state.collaborators.has(K)){ne.finishedPaths=ne.finishedPaths.filter(function(Be){var nt=Be.originalPoints[Be.originalPoints.length-1];return!(nt&&nt[2]<performance.now()-sl)});var Ie=ne.finishedPaths.map(function(Be){return O.draw(Be)}).join(" ");ne.currentPath&&(Ie+=" ".concat(this.draw(ne.currentPath))),Ie.trim()&&(oe=!0),ne.svg.setAttribute("d",Ie),ne.svg.setAttribute("fill",(0,ql.G)(K))}else ne.svg.remove(),this.collaboratorsState.delete(K)}}catch(Be){xe.e(Be)}finally{xe.f()}this.ownState.finishedPaths=this.ownState.finishedPaths.filter(function(Be){var nt=Be.originalPoints[Be.originalPoints.length-1];return!(nt&&nt[2]<performance.now()-sl)});var Ne=this.ownState.finishedPaths.map(function(Be){return O.draw(Be)}).join(" ");this.ownState.currentPath&&(Ne+=" ".concat(this.draw(this.ownState.currentPath))),(Ne=Ne.trim())&&(oe=!0),this.ownState.svg.setAttribute("d",Ne),this.ownState.svg.setAttribute("fill","red"),oe||(this.isDrawing=!1)}}}]),i}(),ni=function(){function i(O){var W;(0,T.Z)(this,i),this.subscribers=[],this.updateOnChangeOnly=(W=O?.updateOnChangeOnly)!==null&&W!==void 0&&W,this.value=O?.initialState}return(0,E.Z)(i,[{key:"on",value:function(){for(var O,W=this,oe=arguments.length,xe=new Array(oe),se=0;se<oe;se++)xe[se]=arguments[se];var K=xe.flat().filter(function(ne){return typeof ne=="function"});return(O=this.subscribers).push.apply(O,(0,p.Z)(K)),function(){return W.off(K)}}},{key:"off",value:function(){for(var O=arguments.length,W=new Array(O),oe=0;oe<O;oe++)W[oe]=arguments[oe];var xe=W.flat();this.subscribers=this.subscribers.filter(function(se){return!xe.includes(se)})}},{key:"trigger",value:function(){for(var O=arguments.length,W=new Array(O),oe=0;oe<O;oe++)W[oe]=arguments[oe];return this.updateOnChangeOnly&&this.value===W?[]:(this.value=W,this.subscribers.map(function(xe){return xe.apply(void 0,W)}))}},{key:"destroy",value:function(){this.subscribers=[],this.value=void 0}}]),i}();function Ai(i,O){var W=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!W){if(Array.isArray(i)||(W=function(Ie,Ne){if(Ie){if(typeof Ie=="string")return Da(Ie,Ne);var Be=Object.prototype.toString.call(Ie).slice(8,-1);if(Be==="Object"&&Ie.constructor&&(Be=Ie.constructor.name),Be==="Map"||Be==="Set")return Array.from(Ie);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return Da(Ie,Ne)}}(i))||O){W&&(i=W);var oe=0,xe=function(){};return{s:xe,n:function(){return oe>=i.length?{done:!0}:{done:!1,value:i[oe++]}},e:function(Ie){throw Ie},f:xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,K=!0,ne=!1;return{s:function(){W=W.call(i)},n:function(){var Ie=W.next();return K=Ie.done,Ie},e:function(Ie){ne=!0,se=Ie},f:function(){try{K||W.return==null||W.return()}finally{if(ne)throw se}}}}function Da(i,O){(O==null||O>i.length)&&(O=i.length);for(var W=0,oe=new Array(O);W<O;W++)oe[W]=i[W];return oe}function ul(i){var O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,oe=(0,H.Z)(i);if(O){var xe=(0,H.Z)(this).constructor;W=Reflect.construct(oe,arguments,xe)}else W=oe.apply(this,arguments);return(0,N.Z)(this,W)}}function tr(i,O){var W=Object.keys(i);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(i);O&&(oe=oe.filter(function(xe){return Object.getOwnPropertyDescriptor(i,xe).enumerable})),W.push.apply(W,oe)}return W}function ar(i){for(var O=1;O<arguments.length;O++){var W=arguments[O]!=null?arguments[O]:{};O%2?tr(Object(W),!0).forEach(function(oe){(0,x.Z)(i,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(W)):tr(Object(W)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(W,oe))})}return i}var La=ue().createContext(null),Ra=ue().createContext(null),Na={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},wl=ue().createContext(Na);wl.displayName="DeviceContext";var Za=ue().createContext({container:null,id:null});Za.displayName="ExcalidrawContainerContext";var fs=ue().createContext([]);fs.displayName="ExcalidrawElementsContext";var ps=ue().createContext(ar(ar({},(0,C.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));ps.displayName="ExcalidrawAppStateContext";var oa=ue().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});oa.displayName="ExcalidrawSetAppStateContext";var hs=ue().createContext(null);hs.displayName="ExcalidrawActionManagerContext";var Is=function(){return(0,Q.useContext)(La)},ms=function(){return(0,Q.useContext)(Ra)},Jl=function(){return(0,Q.useContext)(wl)},Ps=function(){return(0,Q.useContext)(Za)},Ts=function(){return(0,Q.useContext)(fs)},Ms=function(){return(0,Q.useContext)(ps)},As=function(){return(0,Q.useContext)(oa)},Ds=function(){return(0,Q.useContext)(hs)},kl=typeof window<"u"&&"ResizeObserver"in window,za=!1,ka=0,Ba=!1,El=!1,gs=!1,Di={horizontal:null,vertical:null},sa=0,va=!1,Gi=new Map,Ls=!1,Rs=0,Ga=!1,Oo=null,To={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},Ns=function(i){(0,u.Z)(se,i);var O,W,oe,xe=ul(se);function se(K){var ne;(0,T.Z)(this,se),ne=xe.call(this,K),Fc.call((0,a.Z)(ne));var Ie,Ne=(0,C.im)(),Be=K.excalidrawAPI,nt=K.viewModeEnabled,it=nt!==void 0&&nt,ct=K.zenModeEnabled,kt=ct!==void 0&&ct,Ot=K.gridModeEnabled,Wt=Ot!==void 0&&Ot,tn=K.objectsSnapModeEnabled,Rt=tn!==void 0&&tn,Lt=K.theme,Ut=Lt===void 0?Ne.theme:Lt,on=K.name,vn=on===void 0?Ne.name:on;if(ne.state=ar(ar(ar({},Ne),{},{theme:Ut,isLoading:!0},ne.getCanvasOffsets()),{},{viewModeEnabled:it,zenModeEnabled:kt,objectsSnapModeEnabled:Rt,gridSize:Wt?r.k:null,name:vn,width:window.innerWidth,height:window.innerHeight}),ne.id=(0,G.x0)(),ne.library=new ie.ZP((0,a.Z)(ne)),ne.scene=new D.Z,ne.canvas=document.createElement("canvas"),ne.rc=ye.Z.canvas(ne.canvas),ne.renderer=new fr(ne.scene),Be){var cn={updateScene:ne.updateScene,updateLibrary:ne.library.updateLibrary,addFiles:ne.addFiles,resetScene:ne.resetScene,getSceneElementsIncludingDeleted:ne.getSceneElementsIncludingDeleted,history:{clear:ne.resetHistory},scrollToContent:ne.scrollToContent,getSceneElements:ne.getSceneElements,getAppState:function(){return ne.state},getFiles:function(){return ne.files},refresh:ne.refresh,setToast:ne.setToast,id:ne.id,setActiveTool:ne.setActiveTool,setCursor:ne.setCursor,resetCursor:ne.resetCursor,updateFrameRendering:ne.updateFrameRendering,toggleSidebar:ne.toggleSidebar,onChange:function(nn){return ne.onChangeEmitter.on(nn)},onPointerDown:function(nn){return ne.onPointerDownEmitter.on(nn)},onPointerUp:function(nn){return ne.onPointerUpEmitter.on(nn)}};typeof Be=="function"?Be(cn):console.error("excalidrawAPI should be a function!")}return ne.excalidrawContainerValue={container:ne.excalidrawContainerRef.current,id:ne.id},ne.fonts=new Cr({scene:ne.scene,onSceneUpdated:ne.onSceneUpdated}),ne.history=new De,ne.actionManager=new B(ne.syncActionResult,function(){return ne.state},function(){return ne.scene.getElementsIncludingDeleted()},(0,a.Z)(ne)),ne.actionManager.registerAll(j.N),ne.actionManager.registerAction((Ie=ne.history,{name:"undo",trackEvent:{category:"history"},perform:function(nn,_n){return c(nn,_n,function(){return Ie.undoOnce()})},keyTest:function(nn){return nn[I.tW.CTRL_OR_CMD]&&nn.key.toLowerCase()===I.tW.Z&&!nn.shiftKey},PanelComponent:function(nn){var _n=nn.updateData,Xn=nn.data;return(0,o.jsx)(L.V,{type:"button",icon:U.UE,"aria-label":(0,F.t)("buttons.undo"),onClick:_n,size:Xn?.size||"medium"})},commitToHistory:function(){return!1}})),ne.actionManager.registerAction(function(nn){return{name:"redo",trackEvent:{category:"history"},perform:function(_n,Xn){return c(_n,Xn,function(){return nn.redoOnce()})},keyTest:function(_n){return _n[I.tW.CTRL_OR_CMD]&&_n.shiftKey&&_n.key.toLowerCase()===I.tW.Z||r.ED&&_n.ctrlKey&&!_n.shiftKey&&_n.key===I.tW.Y},PanelComponent:function(_n){var Xn=_n.updateData,sr=_n.data;return(0,o.jsx)(L.V,{type:"button",icon:U.zG,"aria-label":(0,F.t)("buttons.redo"),onClick:Xn,size:sr?.size||"medium"})},commitToHistory:function(){return!1}}}(ne.history)),ne}return(0,E.Z)(se,[{key:"onWindowMessage",value:function(K){if(K.origin==="https://player.vimeo.com"||K.origin==="https://www.youtube.com"){var ne=null;try{ne=JSON.parse(K.data)}catch{}if(ne)switch(K.origin){case"https://player.vimeo.com":if(ne.method==="paused"){var Ie,Ne=null,Be=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!Be)break;var nt,it=Ai(Be);try{for(it.s();!(nt=it.n()).done;){var ct=nt.value;ct.contentWindow===K.source&&(Ne=ct.contentWindow)}}catch(Wt){it.e(Wt)}finally{it.f()}(Ie=Ne)===null||Ie===void 0||Ie.postMessage(JSON.stringify({method:ne.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if(ne.event==="infoDelivery"&&ne.info&&ne.id&&typeof ne.info.playerState=="number"){var kt=ne.id,Ot=ne.info.playerState;Object.values(r.vf).includes(Ot)&&Gi.set(kt,Ot)}}}}},{key:"updateEmbeddableRef",value:function(K,ne){ne&&this.iFrameRefs.set(K,ne)}},{key:"getHTMLIFrameElement",value:function(K){return this.iFrameRefs.get(K)}},{key:"handleEmbeddableCenterClick",value:function(K){var ne,Ie,Ne,Be,nt=this;if(((ne=this.state.activeEmbeddable)===null||ne===void 0?void 0:ne.element)!==K||((Ie=this.state.activeEmbeddable)===null||Ie===void 0?void 0:Ie.state)!=="active"){setTimeout(function(){nt.setState({activeEmbeddable:{element:K,state:"active"},selectedElementIds:(0,x.Z)({},K.id,!0),draggingElement:null,selectionElement:null})},100);var it=this.getHTMLIFrameElement(K.id);if(it!=null&&it.contentWindow){if(it.src.includes("youtube")){var ct=Gi.get(K.id);switch(ct||(Gi.set(K.id,r.vf.UNSTARTED),it.contentWindow.postMessage(JSON.stringify({event:"listening",id:K.id}),"*")),ct){case r.vf.PLAYING:case r.vf.BUFFERING:(Ne=it.contentWindow)===null||Ne===void 0||Ne.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:(Be=it.contentWindow)===null||Be===void 0||Be.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}it.src.includes("player.vimeo.com")&&it.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isEmbeddableCenter",value:function(K,ne,Ie,Ne){var Be,nt;return K&&!ne.altKey&&!ne.shiftKey&&!ne.metaKey&&!ne.ctrlKey&&(((Be=this.state.activeEmbeddable)===null||Be===void 0?void 0:Be.element)!==K||((nt=this.state.activeEmbeddable)===null||nt===void 0?void 0:nt.state)==="hover"||!this.state.activeEmbeddable)&&Ie>=K.x+K.width/3&&Ie<=K.x+2*K.width/3&&Ne>=K.y+K.height/3&&Ne<=K.y+2*K.height/3}},{key:"renderEmbeddables",value:function(){var K=this,ne=this.state.zoom.value,Ie=this.state.width,Ne=this.state.height,Be=this.scene.getNonDeletedElements().filter(function(nt){return(0,ee.gs)(nt)&&!!nt.validated});return(0,o.jsx)(o.Fragment,{children:Be.map(function(nt){var it,ct,kt,Ot,Wt,tn,Rt,Lt,Ut,on=(0,f._i)({sceneX:nt.x,sceneY:nt.y},K.state),vn=on.x,cn=on.y,nn=(0,M.LM)((0,la.ye)(nt.link||"")),_n=(0,ke.PZ)(nt,Ie,Ne,K.state),Xn=((it=K.state.activeEmbeddable)===null||it===void 0?void 0:it.element)===nt&&((ct=K.state.activeEmbeddable)===null||ct===void 0?void 0:ct.state)==="active",sr=((kt=K.state.activeEmbeddable)===null||kt===void 0?void 0:kt.element)===nt&&((Ot=K.state.activeEmbeddable)===null||Ot===void 0?void 0:Ot.state)==="hover";return(0,o.jsx)("div",{className:(0,fe.Z)("excalidraw__embeddable-container",{"is-hovered":sr}),style:(0,x.Z)({transform:_n?"translate(".concat(vn-K.state.offsetLeft,"px, ").concat(cn-K.state.offsetTop,"px) scale(").concat(ne,")"):"none",display:_n?"block":"none",opacity:nt.opacity/100},"--embeddable-radius","".concat((0,be.yW)(Math.min(nt.width,nt.height),nt),"px")),children:(0,o.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:_n?"".concat(nt.width,"px"):0,height:_n?"".concat(nt.height,"px"):0,transform:_n?"rotate(".concat(nt.angle,"rad)"):"none",pointerEvents:Xn?r.XI.enabled:r.XI.disabled},children:[sr&&(0,o.jsx)("div",{className:"excalidraw__embeddable-hint",children:(0,F.t)("buttons.embeddableInteractionButton")}),(0,o.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(nt.strokeWidth,"px")},children:(Wt=(tn=(Rt=K.props).renderEmbeddable)===null||tn===void 0?void 0:tn.call(Rt,nt,K.state))!==null&&Wt!==void 0?Wt:(0,o.jsx)("iframe",{ref:function(yr){return K.updateEmbeddableRef(nt.id,yr)},className:"excalidraw__embeddable",srcDoc:nn?.type==="document"?nn.srcdoc(K.state.theme):void 0,src:nn?.type!=="document"?(Lt=nn?.link)!==null&&Lt!==void 0?Lt:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"".concat(nn!=null&&(Ut=nn.sandbox)!==null&&Ut!==void 0&&Ut.allowSameOrigin?"allow-same-origin":""," allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads")})})]})},nt.id)})})}},{key:"render",value:function(){var K,ne,Ie,Ne=this,Be=this.scene.getSelectedElements(this.state),nt=this.props,it=nt.renderTopRightUI,ct=nt.renderCustomStats,kt=this.scene.getVersionNonce(),Ot=this.renderer.getRenderableElements({versionNonce:kt,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingElement:this.state.editingElement,pendingImageElementId:this.state.pendingImageElementId}),Wt=Ot.canvasElements,tn=Ot.visibleElements,Rt=!(this.state.editingElement&&(0,ee.bt)(this.state.editingElement))&&(this.state.selectionElement||this.state.draggingElement||this.state.resizingElement||this.state.activeTool.type==="laser"&&this.state.cursorButton==="down"||this.state.editingElement&&!(0,ce.iB)(this.state.editingElement));return(0,o.jsx)("div",{className:(0,fe.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.editor.isMobile}),style:(0,x.Z)({},"--ui-pointerEvents",Rt?r.XI.disabled:r.XI.enabled),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,o.jsx)(La.Provider,{value:this,children:(0,o.jsx)(Ra.Provider,{value:this.props,children:(0,o.jsx)(Za.Provider,{value:this.excalidrawContainerValue,children:(0,o.jsx)(wl.Provider,{value:this.device,children:(0,o.jsx)(oa.Provider,{value:this.setAppState,children:(0,o.jsx)(ps.Provider,{value:this.state,children:(0,o.jsxs)(fs.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,o.jsxs)(hs.Provider,{value:this.actionManager,children:[(0,o.jsxs)(Ta,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:(0,F.G3)().code,renderTopRightUI:it,renderCustomStats:ct,showExitZenModeBtn:((K=this.props)===null||K===void 0?void 0:K.zenModeEnabled)===void 0&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,children:[this.props.children,this.state.openDialog==="mermaid"&&(0,o.jsx)($r,{})]}),(0,o.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,o.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,o.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,o.jsx)(Go,{manager:this.laserPathManager}),Be.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,o.jsx)(ra.nW,{element:Be[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast},Be[0].id),this.state.toast!==null&&(0,o.jsx)(Yl,{message:this.state.toast.message,onClose:function(){return Ne.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,o.jsx)(at,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function(Lt){Ne.setState({contextMenu:null},function(){Ne.focusContainer(),Lt?.()})}}),(0,o.jsx)(Fn,{canvas:this.canvas,rc:this.rc,elements:Wt,visibleElements:tn,versionNonce:kt,selectionNonce:(ne=this.state.selectionElement)===null||ne===void 0?void 0:ne.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!0}}),(0,o.jsx)(In,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elements:Wt,visibleElements:tn,selectedElements:Be,versionNonce:kt,selectionNonce:(Ie=this.state.selectionElement)===null||Ie===void 0?void 0:Ie.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"componentDidMount",value:(oe=(0,y.Z)(k().mark(function K(){var ne,Ie=this;return k().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,r.Vi.TEST==="production"&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return Ie.state}},setState:{configurable:!0,value:function(){return Ie.setState.apply(Ie,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),(0,f.h2)()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),kl&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver(function(){Ie.refreshEditorBreakpoints(),Ie.updateDOMRect()}),(ne=this.resizeObserver)===null||ne===void 0||ne.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,r.jP)()&&!(0,jt.eB)()&&this.setState({errorMessage:(0,o.jsx)(Qt,{})});case 11:case"end":return Ne.stop()}},K,this)})),function(){return oe.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var K;this.renderer.destroy(),this.scene=new D.Z,this.renderer=new fr(this.scene),this.files={},this.imageCache.clear(),(K=this.resizeObserver)===null||K===void 0||K.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),this.library.destroy(),this.laserPathManager.destroy(),this.onChangeEmitter.destroy(),pa.R.destroy(),Wo.destroy(),clearTimeout(sa),ve.N.clearCache(),Ke.bO.clearCache(),sa=0}},{key:"removeEventListeners",value:function(){var K,ne,Ie,Ne;document.removeEventListener(r.Ks.POINTER_UP,this.removePointer),document.removeEventListener(r.Ks.COPY,this.onCopy),document.removeEventListener(r.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(r.Ks.CUT,this.onCut),(K=this.excalidrawContainerRef.current)===null||K===void 0||K.removeEventListener(r.Ks.WHEEL,this.onWheel),(ne=this.nearestScrollableContainer)===null||ne===void 0||ne.removeEventListener(r.Ks.SCROLL,this.onScroll),document.removeEventListener(r.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(r.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(r.Ks.KEYUP,this.onKeyUp),window.removeEventListener(r.Ks.RESIZE,this.onResize,!1),window.removeEventListener(r.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(r.Ks.BLUR,this.onBlur,!1),(Ie=this.excalidrawContainerRef.current)===null||Ie===void 0||Ie.removeEventListener(r.Ks.DRAG_OVER,this.disableEvent,!1),(Ne=this.excalidrawContainerRef.current)===null||Ne===void 0||Ne.removeEventListener(r.Ks.DROP,this.disableEvent,!1),document.removeEventListener(r.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(r.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(r.Ks.GESTURE_END,this.onGestureEnd,!1),window.removeEventListener(r.Ks.MESSAGE,this.onWindowMessage,!1)}},{key:"addEventListeners",value:function(){var K,ne,Ie,Ne,Be,nt=this;this.removeEventListeners(),window.addEventListener(r.Ks.MESSAGE,this.onWindowMessage,!1),document.addEventListener(r.Ks.POINTER_UP,this.removePointer),document.addEventListener(r.Ks.COPY,this.onCopy),(K=this.excalidrawContainerRef.current)===null||K===void 0||K.addEventListener(r.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(r.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(r.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(r.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(ne=document.fonts)===null||ne===void 0||(Ie=ne.addEventListener)===null||Ie===void 0||Ie.call(ne,"loadingdone",function(it){var ct=it.fontfaces;nt.fonts.onFontsLoaded(ct)}),document.addEventListener(r.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(r.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(r.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(r.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(r.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,f.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(r.Ks.SCROLL,this.onScroll)),window.addEventListener(r.Ks.RESIZE,this.onResize,!1),window.addEventListener(r.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(r.Ks.BLUR,this.onBlur,!1),(Ne=this.excalidrawContainerRef.current)===null||Ne===void 0||Ne.addEventListener(r.Ks.DRAG_OVER,this.disableEvent,!1),(Be=this.excalidrawContainerRef.current)===null||Be===void 0||Be.addEventListener(r.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(K,ne){var Ie,Ne,Be,nt,it=this;this.updateEmbeddables(),this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),K.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),(ne.scrollX!==this.state.scrollX||ne.scrollY!==this.state.scrollY)&&((Be=this.props)===null||Be===void 0||(nt=Be.onScrollChange)===null||nt===void 0||nt.call(Be,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,C.EN)(this.state)&&this.setState({activeTool:(0,f.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&ne.theme!==this.state.theme&&(0,zr.OF)(this.interactiveCanvas,this.state.theme),ne.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),K.langCode!==this.props.langCode&&this.updateLanguage(),K.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),ne.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),K.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),K.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),K.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?r.k:null}),this.props.name&&K.name!==this.props.name&&this.setState({name:this.props.name}),(Ie=this.excalidrawContainerRef.current)===null||Ie===void 0||Ie.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){it.state.editingLinearElement&&it.actionManager.executeAction($.pL)}),(Ne=this.state.editingElement)!==null&&Ne!==void 0&&Ne.isDeleted&&this.setState({editingElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var ct,kt,Ot=ne.multiElement;ne.activeTool!==this.state.activeTool&&Ot!=null&&(0,w.N1)(this.state)&&(0,ee.Mn)(Ot,!1)&&(0,w.R)(Ot,this.state,this.scene,(0,f.AK)(de._.getPointAtIndexGlobalCoordinates(Ot,-1))),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||((ct=(kt=this.props).onChange)===null||ct===void 0||ct.call(kt,this.scene.getElementsIncludingDeleted(),this.state,this.files),this.onChangeEmitter.trigger(this.scene.getElementsIncludingDeleted(),this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:(W=(0,y.Z)(k().mark(function K(ne,Ie){var Ne,Be,nt,it,ct,kt,Ot,Wt,tn,Rt,Lt,Ut,on,vn,cn;return k().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:if(Ne=Ie.isPlainPaste,Be=Ie.sceneX,nt=Ie.sceneY,Ne||!ne.some(function(_n){return _n.type==="imageUrl"})||!this.isToolSupported("image")){nn.next=35;break}return it=ne.filter(function(_n){return _n.type==="imageUrl"}).map(function(_n){return _n.value}),nn.next=5,Promise.all(it.map(function(){var _n=(0,y.Z)(k().mark(function Xn(sr){return k().wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:return yr.prev=0,yr.next=3,(0,kn._p)(sr);case 3:return yr.t0=yr.sent,yr.abrupt("return",{file:yr.t0});case 7:return yr.prev=7,yr.t1=yr.catch(0),yr.abrupt("return",{errorMessage:yr.t1.message});case 10:case"end":return yr.stop()}},Xn,null,[[0,7]])}));return function(Xn){return _n.apply(this,arguments)}}()));case 5:ct=nn.sent,kt=nt,Ot=!1,Wt={},tn=Ai(ct),nn.prev=10,tn.s();case 12:if((Rt=tn.n()).done){nn.next=22;break}if(!(Lt=Rt.value).file){nn.next=20;break}return Ut=this.createImageElement({sceneX:Be,sceneY:kt}),nn.next=18,this.insertImageElement(Ut,Lt.file);case 18:(on=nn.sent)&&(Ot||(Ot=!0,kt-=on.height/2),(0,P.DR)(on,{y:kt},!1),kt=Ut.y+Ut.height+25,Wt[Ut.id]=!0);case 20:nn.next=12;break;case 22:nn.next=27;break;case 24:nn.prev=24,nn.t0=nn.catch(10),tn.e(nn.t0);case 27:return nn.prev=27,tn.f(),nn.finish(27);case 30:this.setState({selectedElementIds:(0,Kr.Oh)(Wt,this.state)}),vn=ct.find(function(_n){return!!_n.errorMessage}),vn&&vn.errorMessage&&this.setState({errorMessage:vn.errorMessage}),nn.next=37;break;case 35:(cn=ne.filter(function(_n){return _n.type==="text"})).length&&this.addTextFromPaste(cn.map(function(_n){return _n.value}).join(`

`),Ne);case 37:case"end":return nn.stop()}},K,this,[[10,24,27,30]])})),function(K,ne){return W.apply(this,arguments)})},{key:"addTextFromPaste",value:function(K){var ne=this,Ie=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ne=(0,f.dE)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),Be=Ne.x,nt=Ne.y,it={x:Be,y:nt,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:K,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:r.hs,locked:!1},ct=10,kt=nt,Ot=Ie?[K]:K.split(`
`),Wt=Ot.reduce(function(Rt,Lt,Ut){var on=Lt.trim(),vn=(0,jt.PT)(it.fontFamily);if(on.length){var cn=ne.getTopLayerFrameAtSceneCoords({x:Be,y:kt}),nn=(0,ce.VL)(ar(ar({},it),{},{x:Be,y:kt,text:on,lineHeight:vn,frameId:cn?cn.id:null}));Rt.push(nn),kt+=nn.height+ct}else{var _n;!((_n=Ot[Ut-1])===null||_n===void 0)&&_n.trim()&&(kt+=(0,jt.Rg)(it.fontSize,vn)+ct)}return Rt},[]);if(Wt.length!==0){var tn=Wt[0].frameId;tn?this.scene.insertElementsAtIndex(Wt,this.scene.getElementIndex(tn)):this.scene.replaceAllElements([].concat((0,p.Z)(this.scene.getElementsIncludingDeleted()),(0,p.Z)(Wt))),this.setState({selectedElementIds:(0,Kr.Oh)(Object.fromEntries(Wt.map(function(Rt){return[Rt.id,!0]})),this.state)}),!Ie&&Wt.length>1&&Ga===!1&&!this.device.editor.isMobile&&(this.setToast({message:(0,F.t)("toast.pasteAsSingleElement",{shortcut:(0,f.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),Ga=!0),this.history.resumeRecording()}}},{key:"handleTextWysiwyg",value:function(K,ne){var Ie=this,Ne=ne.isExistingElement,Be=Ne!==void 0&&Ne,nt=function(it,ct,kt){Ie.scene.replaceAllElements((0,p.Z)(Ie.scene.getElementsIncludingDeleted().map(function(Ot){return Ot.id===K.id&&(0,ce.iB)(Ot)?(0,ce.N_)(Ot,{text:it,isDeleted:kt,originalText:ct}):Ot})))};(0,ce.b_)({id:K.id,canvas:this.canvas,getViewportCoords:function(it,ct){var kt=(0,f._i)({sceneX:it,sceneY:ct},Ie.state),Ot=kt.x,Wt=kt.y;return[Ot-Ie.state.offsetLeft,Wt-Ie.state.offsetTop]},onChange:(0,f.tH)(function(it){nt(it,it,!1),(0,ce.qP)(K)&&(0,w.Ww)(K)}),onSubmit:(0,f.tH)(function(it){var ct=it.text,kt=it.viaKeyboard,Ot=it.originalText,Wt=!ct.trim();if(nt(ct,Ot,Wt),!Wt&&kt){var tn=K.containerId?K.containerId:K.id;Ie.setState(function(Rt){return{selectedElementIds:(0,Kr.Oh)(ar(ar({},Rt.selectedElementIds),{},(0,x.Z)({},tn,!0)),Rt)}})}Wt&&(0,w.$q)(Ie.scene.getNonDeletedElements(),[K]),Wt&&!Be||Ie.history.resumeRecording(),Ie.setState({draggingElement:null,editingElement:null}),Ie.state.activeTool.locked&&(0,zr.Uk)(Ie.interactiveCanvas,Ie.state),Ie.focusContainer()}),element:K,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),nt(K.text,K.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,Kr.Oh)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function(K,ne){var Ie=this.getElementAtPosition(K,ne,{includeBoundTextElement:!0});return Ie&&(0,ce.iB)(Ie)&&!Ie.isDeleted?Ie:null}},{key:"getElementAtPosition",value:function(K,ne,Ie){var Ne=this.getElementsAtPosition(K,ne,Ie?.includeBoundTextElement,Ie?.includeLockedElements);if(Ne.length>1){if(Ie!=null&&Ie.preferSelected){for(var Be=Ne.length-1;Be>-1;Be--)if(this.state.selectedElementIds[Ne[Be].id])return Ne[Be]}var nt=Ne[Ne.length-1];return(0,ce.wB)(nt,this.state,this.frameNameBoundsCache,K,ne)?Ne[Ne.length-2]:nt}return Ne.length===1?Ne[0]:null}},{key:"getElementsAtPosition",value:function(K,ne){var Ie=this,Ne=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Be=arguments.length>3&&arguments[3]!==void 0&&arguments[3],nt=Ne&&Be?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(it){return(Be||!it.locked)&&(Ne||!((0,ce.iB)(it)&&it.containerId))});return(0,ve.CJ)(nt,function(it){return(0,ce.wX)(it,Ie.state,Ie.frameNameBoundsCache,K,ne)}).filter(function(it){var ct=(0,wr.$Z)(it);return!(ct&&Ie.state.frameRendering.enabled&&Ie.state.frameRendering.clip)||(0,wr.Dn)({x:K,y:ne},ct)})}},{key:"handleHoverSelectedLinearElement",value:function(K,ne,Ie){var Ne=de._.getElement(K.elementId),Be=(0,jt.WJ)(Ne);if(Ne)if(this.state.selectedLinearElement){var nt=-1,it=null;(0,wa.Qu)(Ne,this.state,this.frameNameBoundsCache,[ne,Ie])?(nt=de._.getPointIndexUnderCursor(Ne,this.state.zoom,ne,Ie),it=de._.getSegmentMidpointHitCoords(K,{x:ne,y:Ie},this.state),nt>=0||it?(0,zr.KJ)(this.interactiveCanvas,r.oc.POINTER):(0,zr.KJ)(this.interactiveCanvas,r.oc.MOVE)):((0,An.oY)([Ne],this.state)&&(0,ce.wB)(Ne,this.state,this.frameNameBoundsCache,ne,Ie)||Be&&(0,ce.wX)(Be,this.state,this.frameNameBoundsCache,ne,Ie))&&(0,zr.KJ)(this.interactiveCanvas,r.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==nt&&this.setState({selectedLinearElement:ar(ar({},this.state.selectedLinearElement),{},{hoverPointIndex:nt})}),de._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,it)||this.setState({selectedLinearElement:ar(ar({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:it})})}else(0,zr.KJ)(this.interactiveCanvas,r.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(K){Oo!==null&&Oo(K)}},{key:"updateGestureOnPointerDown",value:function(K){To.pointers.set(K.pointerId,{x:K.clientX,y:K.clientY}),To.pointers.size===2&&(To.lastCenter=he(To.pointers),To.initialScale=this.state.zoom.value,To.initialDistance=Pe(Array.from(To.pointers.values())))}},{key:"initialPointerDownState",value:function(K){var ne=(0,f.dE)(K,this.state),Ie=this.scene.getSelectedElements(this.state),Ne=(0,ce.KP)(Ie),Be=(0,g.Z)(Ne,4),nt=Be[0],it=Be[1],ct=Be[2],kt=Be[3];return{origin:ne,withCmdOrCtrl:K[I.tW.CTRL_OR_CMD],originInGrid:(0,f.AK)((0,be.wC)(ne.x,ne.y,K[I.tW.CTRL_OR_CMD]?null:this.state.gridSize)),scrollbars:(0,ve._4)(Di,K.clientX-this.state.offsetLeft,K.clientY-this.state.offsetTop),lastCoords:ar({},ne),originalElements:this.scene.getNonDeletedElements().reduce(function(Ot,Wt){return Ot.set(Wt.id,(0,J.OL)(Wt)),Ot},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(ct+nt)/2,y:(kt+it)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(ne,Ie)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(K,ne){var Ie=this;if(!ne.scrollbars.isOverEither||this.state.multiElement)return!1;gs=!0,ne.lastCoords.x=K.clientX,ne.lastCoords.y=K.clientY;var Ne=(0,f.$9)(function(nt){nt.target instanceof HTMLElement&&Ie.handlePointerMoveOverScrollbars(nt,ne)}),Be=(0,f.tH)(function(){gs=!1,(0,zr.Uk)(Ie.interactiveCanvas,Ie.state),Oo=null,Ie.setState({cursorButton:"up"}),Ie.savePointer(K.clientX,K.clientY,"up"),window.removeEventListener(r.Ks.POINTER_MOVE,Ne),window.removeEventListener(r.Ks.POINTER_UP,Be),Ne.flush()});return Oo=Be,window.addEventListener(r.Ks.POINTER_MOVE,Ne),window.addEventListener(r.Ks.POINTER_UP,Be),!0}},{key:"isASelectedElement",value:function(K){return K!=null&&this.state.selectedElementIds[K.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(K,ne){if(ne.length<2)return!1;var Ie=10/this.state.zoom.value,Ne=(0,ce.KP)(ne),Be=(0,g.Z)(Ne,4),nt=Be[0],it=Be[1],ct=Be[2],kt=Be[3];return K.x>nt-Ie&&K.x<ct+Ie&&K.y>it-Ie&&K.y<kt+Ie}},{key:"getCurrentItemRoundness",value:function(K){return this.state.currentItemRoundness==="round"?{type:(0,ee.QI)(K)?r.a6.ADAPTIVE_RADIUS:r.a6.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function(K,ne){var Ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!Bi({event:K,appState:this.state,selectedElements:ne})||!Ie&&Wo.getReferenceSnapPoints()||Wo.setReferenceSnapPoints(Ve(this.scene.getNonDeletedElements(),ne,this.state))}},{key:"maybeCacheVisibleGaps",value:function(K,ne){var Ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!Bi({event:K,appState:this.state,selectedElements:ne})||!Ie&&Wo.getVisibleGaps()||Wo.setVisibleGaps(ot(this.scene.getNonDeletedElements(),ne,this.state))}},{key:"onKeyDownFromPointerDownHandler",value:function(K){var ne=this;return(0,f.tH)(function(Ie){ne.maybeHandleResize(K,Ie)||ne.maybeDragNewGenericElement(K,Ie)})}},{key:"onKeyUpFromPointerDownHandler",value:function(K){var ne=this;return(0,f.tH)(function(Ie){Ie.key===I.tW.ALT&&Ie.preventDefault(),ne.maybeHandleResize(K,Ie)||ne.maybeDragNewGenericElement(K,Ie)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(K){var ne=this;return(0,f.$9)(function(Ie){var Ne;if(K.drag.offset===null&&(K.drag.offset=(0,f.AK)((0,ce.$V)(ne.scene.getSelectedElements(ne.state),K.origin.x,K.origin.y))),Ie.target instanceof HTMLElement&&!ne.handlePointerMoveOverScrollbars(Ie,K)){var Be=(0,f.dE)(Ie,ne.state);if((0,C.EN)(ne.state))ne.handleEraser(Ie,K,Be);else{ne.state.activeTool.type==="laser"&&ne.laserPathManager.addPointToPath(Be.x,Be.y);var nt=(0,be.wC)(Be.x,Be.y,Ie[I.tW.CTRL_OR_CMD]?null:ne.state.gridSize),it=(0,g.Z)(nt,2),ct=it[0],kt=it[1];if(K.drag.hasOccurred||ne.state.activeTool.type!=="arrow"&&ne.state.activeTool.type!=="line"||!((0,be.LW)(Be.x,Be.y,K.origin.x,K.origin.y)<r.f)){if(K.resize.isResizing&&(K.lastCoords.x=Be.x,K.lastCoords.y=Be.y,ne.maybeHandleResize(K,Ie)))return!0;if(ne.state.selectedLinearElement){var Ot=ne.state.editingLinearElement||ne.state.selectedLinearElement;if(de._.shouldAddMidpoint(ne.state.selectedLinearElement,Be,ne.state)){var Wt=de._.addMidpoint(ne.state.selectedLinearElement,Be,ne.state,!Ie[I.tW.CTRL_OR_CMD]);return Wt?void(0,me.flushSync)(function(){ne.state.selectedLinearElement&&ne.setState({selectedLinearElement:ar(ar({},ne.state.selectedLinearElement),{},{pointerDownState:Wt.pointerDownState,selectedPointsIndices:Wt.selectedPointsIndices})}),ne.state.editingLinearElement&&ne.setState({editingLinearElement:ar(ar({},ne.state.editingLinearElement),{},{pointerDownState:Wt.pointerDownState,selectedPointsIndices:Wt.selectedPointsIndices})})}):void 0}if(Ot.pointerDownState.segmentMidpoint.value!==null&&!Ot.pointerDownState.segmentMidpoint.added)return;var tn=de._.handlePointDragging(Ie,ne.state,Be.x,Be.y,function(lo,Qo){ne.maybeSuggestBindingsForLinearElementAtCoords(lo,Qo)},Ot);if(tn)return K.lastCoords.x=Be.x,K.lastCoords.y=Be.y,K.drag.hasOccurred=!0,ne.state.editingLinearElement&&!ne.state.editingLinearElement.isDragging&&ne.setState({editingLinearElement:ar(ar({},ne.state.editingLinearElement),{},{isDragging:!0})}),void(ne.state.selectedLinearElement.isDragging||ne.setState({selectedLinearElement:ar(ar({},ne.state.selectedLinearElement),{},{isDragging:!0})}))}var Rt=K.hit.allHitElements.some(function(lo){return ne.isASelectedElement(lo)}),Lt=ne.state.editingLinearElement&&Ie.shiftKey&&ne.state.editingLinearElement.elementId===((Ne=K.hit.element)===null||Ne===void 0?void 0:Ne.id);if((Rt||K.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!Lt){var Ut,on=ne.scene.getSelectedElements(ne.state);if(on.every(function(lo){return lo.locked}))return;var vn=on.find(function(lo){return(0,ee.He)(lo)}),cn=ne.getTopLayerFrameAtSceneCoords(Be);if(ne.setState({frameToHighlight:cn&&!vn?cn:null}),K.drag.hasOccurred=!0,ne.setState({selectedElementsAreBeingDragged:!0}),on.length>0&&!K.withCmdOrCtrl&&!ne.state.editingElement&&((Ut=ne.state.activeEmbeddable)===null||Ut===void 0?void 0:Ut.state)!=="active"){var nn={x:Be.x-K.origin.x,y:Be.y-K.origin.y},_n=(0,p.Z)(K.originalElements.values()),Xn=Ie.shiftKey;if(Xn){var sr=Math.abs(nn.x),yr=Math.abs(nn.y),Mr=Xn&&sr>yr;Xn&&sr<yr&&(nn.x=0),Mr&&(nn.y=0)}ne.maybeCacheVisibleGaps(Ie,on),ne.maybeCacheReferenceSnapPoints(Ie,on);var Dr=function(lo,Qo,wi,vi){var Ea,zl,Ql,ba;if(!Bi({appState:wi,event:vi,selectedElements:lo})||lo.length===0)return{snapOffset:{x:0,y:0},snapLines:[]};Qo.x=rt(Qo.x),Qo.y=rt(Qo.y);var qi=[],Fa=[],Sl=Lo(wi.zoom.value),_l={x:Sl,y:Sl},vs=$a(lo,{dragOffset:Qo});Xe(lo,vs,wi,vi,qi,Fa,_l),je(lo,Qo,wi,vi,qi,Fa,_l);var Sa={x:(Ea=(zl=qi[0])===null||zl===void 0?void 0:zl.offset)!==null&&Ea!==void 0?Ea:0,y:(Ql=(ba=Fa[0])===null||ba===void 0?void 0:ba.offset)!==null&&Ql!==void 0?Ql:0};_l.x=0,_l.y=0,qi.length=0,Fa.length=0;var tc={x:rt(Qo.x+Sa.x),y:rt(Qo.y+Sa.y)};Xe(lo,$a(lo,{dragOffset:tc}),wi,vi,qi,Fa,_l),je(lo,tc,wi,vi,qi,Fa,_l);var Ol=bt(qi,Fa),vc=mt(lo,tc,[].concat(qi,Fa).filter(function(bu){return bu.type==="gap"}));return{snapOffset:Sa,snapLines:[].concat(Ol,vc)}}((0,ve.eD)(_n,ne.state),nn,ne.state,Ie),br=Dr.snapOffset,xr=Dr.snapLines;if(ne.setState({snapLines:xr}),!ne.state.editingFrame&&(0,ce.o8)(K,on,nn,ne.state,ne.scene,br,Ie[I.tW.CTRL_OR_CMD]?null:ne.state.gridSize),ne.maybeSuggestBindingForAll(on),Ie.altKey&&!K.hit.hasBeenDuplicated){K.hit.hasBeenDuplicated=!0;var Sr,kr=[],Br=[],qr=new Map,Jr=new Map,ro=K.hit.element,Hr=new Set(ne.scene.getSelectedElements({selectedElementIds:ne.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map(function(lo){return lo.id})),Lr=Ai(ne.scene.getElementsIncludingDeleted());try{for(Lr.s();!(Sr=Lr.n()).done;){var io=Sr.value;if(Hr.has(io.id)||io.id===ro?.id&&K.hit.wasAddedToSelection){var Po=(0,ce.Sy)(ne.state.editingGroupId,qr,io),wo=K.originalElements.get(io.id);(0,P.DR)(Po,{x:wo.x,y:wo.y}),K.originalElements.set(Po.id,Po),kr.push(Po),Br.push(io),Jr.set(io.id,Po.id)}else kr.push(io)}}catch(lo){Lr.e(lo)}finally{Lr.f()}var mo=[].concat(kr,Br);(0,jt.P7)(kr,Br,Jr),(0,w.ek)(mo,Br,Jr,"duplicatesServeAsOld"),(0,wr.xr)(mo,Br,Jr),ne.scene.replaceAllElements(mo),ne.maybeCacheVisibleGaps(Ie,on,!0),ne.maybeCacheReferenceSnapPoints(Ie,on,!0)}return}}var co=ne.state.draggingElement;if(co){if(co.type==="freedraw"){var Co=co.points,eo=Be.x-co.x,Rr=Be.y-co.y,xi=Co.length>0&&Co[Co.length-1];if(!(xi&&xi[0]===eo&&xi[1]===Rr)){var Fr=co.simulatePressure?co.pressures:[].concat((0,p.Z)(co.pressures),[Ie.pressure]);(0,P.DR)(co,{points:[].concat((0,p.Z)(Co),[[eo,Rr]]),pressures:Fr})}}else if((0,ee.bt)(co)){K.drag.hasOccurred=!0,ne.setState({selectedElementsAreBeingDragged:!0});var jr=co.points,uo=ct-co.x,Mo=kt-co.y;if((0,I.Ge)(Ie)&&jr.length===2){var Vo=(0,ce.o4)(co.x,co.y,Be.x,Be.y);uo=Vo.width,Mo=Vo.height}jr.length===1?(0,P.DR)(co,{points:[].concat((0,p.Z)(jr),[[uo,Mo]])}):jr.length===2&&(0,P.DR)(co,{points:[].concat((0,p.Z)(jr.slice(0,-1)),[[uo,Mo]])}),(0,ee.Mn)(co,!1)&&ne.maybeSuggestBindingsForLinearElementAtCoords(co,[Be],ne.state.startBoundElement)}else K.lastCoords.x=Be.x,K.lastCoords.y=Be.y,ne.maybeDragNewGenericElement(K,Ie);if(ne.state.activeTool.type==="selection"){K.boxSelection.hasOccurred=!0;var ko=ne.scene.getNonDeletedElements();if(ne.state.editingLinearElement)de._.handleBoxSelection(Ie,ne.state,ne.setState.bind(ne));else{var Jo=!0;!Ie.shiftKey&&(0,ve.N)(ko,ne.state)&&(K.withCmdOrCtrl&&K.hit.element?ne.setState(function(lo){return(0,Ke.bO)(ar(ar({},lo),{},{selectedElementIds:(0,x.Z)({},K.hit.element.id,!0)}),ne.scene.getNonDeletedElements(),lo,ne)}):Jo=!1);var fo=(0,ve.Yp)(ko,co);ne.setState(function(lo){var Qo=ar(ar({},Jo&&lo.selectedElementIds),fo.reduce(function(wi,vi){return wi[vi.id]=!0,wi},{}));return K.hit.element&&(fo.length?delete Qo[K.hit.element.id]:Qo[K.hit.element.id]=!0),lo=Jo?lo:ar(ar({},lo),{},{selectedGroupIds:{},editingGroupId:null}),ar(ar({},(0,Ke.bO)({editingGroupId:lo.editingGroupId,selectedElementIds:Qo},ne.scene.getNonDeletedElements(),lo,ne)),{},{selectedLinearElement:fo.length===1&&(0,ee.bt)(fo[0])?new de._(fo[0],ne.scene):null,showHyperlinkPopup:!(fo.length!==1||!fo[0].link&&!(0,ee.gs)(fo[0]))&&"info"})})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(K,ne){if(ne.scrollbars.isOverHorizontal){var Ie=K.clientX,Ne=Ie-ne.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-Ne/this.state.zoom.value}),ne.lastCoords.x=Ie,!0}if(ne.scrollbars.isOverVertical){var Be=K.clientY,nt=Be-ne.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-nt/this.state.zoom.value}),ne.lastCoords.y=Be,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(K){var ne=this;return(0,f.tH)(function(Ie){var Ne;K.eventListeners.onMove&&K.eventListeners.onMove.flush();var Be,nt,it=ne.state,ct=it.draggingElement,kt=it.resizingElement,Ot=it.multiElement,Wt=it.activeTool,tn=it.isResizing,Rt=it.isRotating;if(ne.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",editingElement:Ot||(0,ce.iB)(ne.state.editingElement)?ne.state.editingElement:null,snapLines:[],originSnapOffset:null}),Wo.setReferenceSnapPoints(null),Wo.setVisibleGaps(null),ne.savePointer(Ie.clientX,Ie.clientY,"up"),ne.setState({selectedElementsAreBeingDragged:!1}),ne.state.editingLinearElement)if(K.boxSelection.hasOccurred||((Be=K.hit)===null||Be===void 0||(nt=Be.element)===null||nt===void 0?void 0:nt.id)===ne.state.editingLinearElement.elementId){var Lt=de._.handlePointerUp(Ie,ne.state.editingLinearElement,ne.state);Lt!==ne.state.editingLinearElement&&ne.setState({editingLinearElement:Lt,suggestedBindings:[]})}else ne.actionManager.executeAction($.pL);else if(ne.state.selectedLinearElement){var Ut,on;if(((Ut=K.hit)===null||Ut===void 0||(on=Ut.element)===null||on===void 0?void 0:on.id)!==ne.state.selectedLinearElement.elementId)ne.scene.getSelectedElements(ne.state).length>1&&ne.setState({selectedLinearElement:null});else{var vn=de._.handlePointerUp(Ie,ne.state.selectedLinearElement,ne.state),cn=vn.startBindingElement,nn=vn.endBindingElement,_n=ne.scene.getElement(vn.elementId);(0,ee.Mn)(_n)&&(0,w.HG)(_n,cn,nn),vn!==ne.state.selectedLinearElement&&ne.setState({selectedLinearElement:ar(ar({},vn),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(Oo=null,window.removeEventListener(r.Ks.POINTER_MOVE,K.eventListeners.onMove),window.removeEventListener(r.Ks.POINTER_UP,K.eventListeners.onUp),window.removeEventListener(r.Ks.KEYDOWN,K.eventListeners.onKeyDown),window.removeEventListener(r.Ks.KEYUP,K.eventListeners.onKeyUp),ne.state.pendingImageElementId&&ne.setState({pendingImageElementId:null}),ne.onPointerUpEmitter.trigger(ne.state.activeTool,K,Ie),ct?.type==="freedraw"){var Xn=(0,f.dE)(Ie,ne.state),sr=ct.points,yr=Xn.x-ct.x,Mr=Xn.y-ct.y;yr===sr[0][0]&&Mr===sr[0][1]&&(Mr+=1e-4,yr+=1e-4);var Dr=ct.simulatePressure?[]:[].concat((0,p.Z)(ct.pressures),[Ie.pressure]);return(0,P.DR)(ct,{points:[].concat((0,p.Z)(sr),[[yr,Mr]]),pressures:Dr,lastCommittedPoint:[yr,Mr]}),void ne.actionManager.executeAction($.pL)}if((0,ee.pC)(ct)){var br=ct;try{ne.initializeImageDimensions(br),ne.setState({selectedElementIds:(0,Kr.Oh)((0,x.Z)({},br.id,!0),ne.state)},function(){ne.actionManager.executeAction($.pL)})}catch(jr){console.error(jr),ne.scene.replaceAllElements(ne.scene.getElementsIncludingDeleted().filter(function(uo){return uo.id!==br.id})),ne.actionManager.executeAction($.pL)}}else if((0,ee.bt)(ct)){ct.points.length>1&&ne.history.resumeRecording();var xr=(0,f.dE)(Ie,ne.state);K.drag.hasOccurred||!ct||Ot?K.drag.hasOccurred&&!Ot&&((0,w.N1)(ne.state)&&(0,ee.Mn)(ct,!1)&&(0,w.R)(ct,ne.state,ne.scene,xr),ne.setState({suggestedBindings:[],startBoundElement:null}),Wt.locked?ne.setState(function(jr){return{draggingElement:null}}):((0,zr.z8)(ne.interactiveCanvas),ne.setState(function(jr){return{draggingElement:null,activeTool:(0,f.Om)(ne.state,{type:"selection"}),selectedElementIds:(0,Kr.Oh)(ar(ar({},jr.selectedElementIds),{},(0,x.Z)({},ct.id,!0)),jr),selectedLinearElement:new de._(ct,ne.scene)}}))):((0,P.DR)(ct,{points:[].concat((0,p.Z)(ct.points),[[xr.x-ct.x,xr.y-ct.y]])}),ne.setState({multiElement:ct,editingElement:ne.state.draggingElement}))}else{if(Wt.type!=="selection"&&ct&&(0,ce.QD)(ct))return ne.scene.replaceAllElements(ne.scene.getElementsIncludingDeleted().filter(function(jr){return jr.id!==ct.id})),void ne.setState({draggingElement:null});if(ct){if(K.drag.hasOccurred){var Sr=(0,f.dE)(Ie,ne.state);if(ne.state.selectedLinearElement&&ne.state.selectedLinearElement.isDragging){var kr=ne.scene.getElement(ne.state.selectedLinearElement.elementId);if(kr!=null&&kr.frameId){var Br=(0,wr.$Z)(kr);Br&&kr&&((0,wr.cO)(kr,Br)||((0,P.DR)(kr,{groupIds:[]}),ne.scene.replaceAllElements((0,wr.lz)(ne.scene.getElementsIncludingDeleted(),[kr],ne.state))))}}else{var qr=ne.getTopLayerFrameAtSceneCoords(Sr),Jr=ne.scene.getSelectedElements(ne.state),ro=ne.scene.getElementsIncludingDeleted(),Hr=function(jr){if(jr.length>0){var uo,Mo=Ai(jr);try{for(Mo.s();!(uo=Mo.n()).done;){var Vo=uo.value,ko=Vo.groupIds.indexOf(ne.state.editingGroupId);(0,P.DR)(Vo,{groupIds:Vo.groupIds.slice(0,ko)},!1)}}catch(Jo){Mo.e(Jo)}finally{Mo.f()}ro.forEach(function(Jo){Jo.groupIds.length&&(0,Ke.Fb)(ro,Jo.groupIds[Jo.groupIds.length-1]).length<2&&(0,P.DR)(Jo,{groupIds:[]},!1)}),ne.setState({editingGroupId:null})}};if(qr&&!ne.state.selectedElementIds[qr.id]){var Lr=Jr.filter(function(jr){return jr.frameId!==qr.id&&(0,wr.Qs)(jr,ro,ne.state)});ne.state.editingGroupId&&Hr(Lr),ro=(0,wr.A_)(ro,Lr,qr)}else if(!qr&&ne.state.editingGroupId){var io=Jr.filter(function(jr){return jr.frameId&&!(0,wr.Qs)(jr,ro,ne.state)});Hr(io)}ro=(0,wr.Tq)(ro,ne.state,ne),ne.scene.replaceAllElements(ro)}}if(ct.type==="frame"){var Po=(0,wr.fj)(ne.scene.getElementsIncludingDeleted(),ct);ne.scene.replaceAllElements((0,wr.A_)(ne.scene.getElementsIncludingDeleted(),Po,ct))}(0,P.DR)(ct,(0,ce.Qp)(ct))}if(kt&&ne.history.resumeRecording(),kt&&(0,ce.QD)(kt)&&ne.scene.replaceAllElements(ne.scene.getElementsIncludingDeleted().filter(function(jr){return jr.id!==kt.id})),K.resize.isResizing){var wo,mo=(0,wr.Tq)(ne.scene.getElementsIncludingDeleted(),ne.state,ne),co=ne.scene.getSelectedElements(ne.state).filter(function(jr){return jr.type==="frame"}),Co=Ai(co);try{for(Co.s();!(wo=Co.n()).done;){var eo=wo.value;mo=(0,wr.pr)(mo,(0,wr.ni)(ne.scene.getElementsIncludingDeleted(),eo,ne.state),eo,ne.state)}}catch(jr){Co.e(jr)}finally{Co.f()}ne.scene.replaceAllElements(mo)}var Rr=K.hit.element;if(((Ne=ne.state.selectedLinearElement)===null||Ne===void 0?void 0:Ne.elementId)!==Rr?.id&&(0,ee.bt)(Rr)&&ne.scene.getSelectedElements(ne.state).length===1&&ne.setState({selectedLinearElement:new de._(Rr,ne.scene)}),(0,C.EN)(ne.state)){if((0,be.LW)(ne.lastPointerDownEvent.clientX,ne.lastPointerDownEvent.clientY,ne.lastPointerUpEvent.clientX,ne.lastPointerUpEvent.clientY)===0){var xi=(0,f.dE)({clientX:ne.lastPointerUpEvent.clientX,clientY:ne.lastPointerUpEvent.clientY},ne.state);ne.getElementsAtPosition(xi.x,xi.y).forEach(function(jr){return K.elementIdsToErase[jr.id]={erase:!0,opacity:jr.opacity}})}ne.eraseElements(K)}else{var Fr;Object.keys(K.elementIdsToErase).length&&ne.restoreReadyToEraseElements(K),Rr&&!K.drag.hasOccurred&&!K.hit.wasAddedToSelection&&(!ne.state.editingLinearElement||!K.boxSelection.hasOccurred)&&(Ie.shiftKey&&!ne.state.editingLinearElement?ne.state.selectedElementIds[Rr.id]?(0,Ke.zq)(ne.state,Rr)?ne.setState(function(jr){var uo,Mo=ar({},jr.selectedElementIds),Vo=Ai(Rr.groupIds.flatMap(function(ko){return(0,Ke.Fb)(ne.scene.getNonDeletedElements(),ko)}));try{for(Vo.s();!(uo=Vo.n()).done;)delete Mo[uo.value.id]}catch(ko){Vo.e(ko)}finally{Vo.f()}return{selectedGroupIds:ar(ar({},jr.selectedElementIds),Rr.groupIds.map(function(ko){return(0,x.Z)({},ko,!1)}).reduce(function(ko,Jo){return ar(ar({},ko),Jo)},{})),selectedElementIds:(0,Kr.Oh)(Mo,jr)}}):(Fr=ne.state.selectedLinearElement)!==null&&Fr!==void 0&&Fr.isDragging||ne.setState(function(jr){var uo=ar({},jr.selectedElementIds);delete uo[Rr.id];var Mo=(0,ve.eD)(ne.scene.getNonDeletedElements(),{selectedElementIds:uo});return ar(ar({},(0,Ke.bO)({editingGroupId:jr.editingGroupId,selectedElementIds:uo},ne.scene.getNonDeletedElements(),jr,ne)),{},{selectedLinearElement:Mo.length===1&&(0,ee.bt)(Mo[0])?new de._(Mo[0],ne.scene):jr.selectedLinearElement})}):Rr.frameId&&ne.state.selectedElementIds[Rr.frameId]?ne.setState(function(jr){var uo,Mo,Vo=ar(ar({},jr.selectedElementIds),{},(0,x.Z)({},Rr.id,!0));return delete Vo[Rr.frameId],((uo=(Mo=ne.scene.getElement(Rr.frameId))===null||Mo===void 0?void 0:Mo.groupIds)!==null&&uo!==void 0?uo:[]).flatMap(function(ko){return(0,Ke.Fb)(ne.scene.getNonDeletedElements(),ko)}).forEach(function(ko){delete Vo[ko.id]}),ar(ar({},(0,Ke.bO)({editingGroupId:jr.editingGroupId,selectedElementIds:Vo},ne.scene.getNonDeletedElements(),jr,ne)),{},{showHyperlinkPopup:!(!Rr.link&&!(0,ee.gs)(Rr))&&"info"})}):ne.setState(function(jr){return{selectedElementIds:(0,Kr.Oh)(ar(ar({},jr.selectedElementIds),{},(0,x.Z)({},Rr.id,!0)),jr)}}):ne.setState(function(jr){var uo;return ar(ar({},(0,Ke.bO)({editingGroupId:jr.editingGroupId,selectedElementIds:(0,x.Z)({},Rr.id,!0)},ne.scene.getNonDeletedElements(),jr,ne)),{},{selectedLinearElement:(0,ee.bt)(Rr)&&((uo=jr.selectedLinearElement)===null||uo===void 0?void 0:uo.elementId)!==Rr.id?new de._(Rr,ne.scene):jr.selectedLinearElement})})),K.drag.hasOccurred||ne.state.isResizing||!(Rr&&(0,ce.wB)(Rr,ne.state,ne.frameNameBoundsCache,K.origin.x,K.origin.y)||!Rr&&K.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Wt.locked&&Wt.type!=="freedraw"&&ct&&ct.type!=="selection"&&ne.setState(function(jr){return{selectedElementIds:(0,Kr.Oh)(ar(ar({},jr.selectedElementIds),{},(0,x.Z)({},ct.id,!0)),jr),showHyperlinkPopup:(0,ee.gs)(ct)&&!ct.link?"editor":jr.showHyperlinkPopup}}),(Wt.type!=="selection"||(0,ve.N)(ne.scene.getNonDeletedElements(),ne.state))&&ne.history.resumeRecording(),(K.drag.hasOccurred||tn||Rt)&&((0,w.N1)(ne.state)?w.el:w.H)(ne.scene.getSelectedElements(ne.state)),Wt.type!=="laser"?(Wt.locked||Wt.type==="freedraw"?ne.setState({draggingElement:null,suggestedBindings:[]}):((0,zr.z8)(ne.interactiveCanvas),ne.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,f.Om)(ne.state,{type:"selection"})})),Rr&&ne.lastPointerUpEvent&&ne.lastPointerDownEvent&&ne.lastPointerUpEvent.timeStamp-ne.lastPointerDownEvent.timeStamp<300&&To.pointers.size<=1&&(0,ee.gs)(Rr)&&ne.isEmbeddableCenter(Rr,ne.lastPointerUpEvent,K.origin.x,K.origin.y)&&ne.handleEmbeddableCenterClick(Rr)):ne.laserPathManager.endPath()):ne.state.editingLinearElement?ne.setState({editingLinearElement:null}):ne.setState({selectedElementIds:(0,Kr.Oh)({},ne.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(K){if(!(K.length>50)){var ne=(0,w.ZB)(K);this.setState({suggestedBindings:ne})}}},{key:"clearSelection",value:function(K){this.setState(function(ne){return{selectedElementIds:(0,Kr.Oh)({},ne),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:ne.editingGroupId&&K!=null&&(0,Ke.Nd)(K,ne.editingGroupId)?ne.editingGroupId:null}}),this.setState({selectedElementIds:(0,Kr.Oh)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(K,ne,Ie,Ne){if(Ne){var Be=Ne.x+Ne.width/2,nt=Ne.y+Ne.height/2,it=(0,jt.TP)(Ne,Ie);if(it&&(Be=it.x,nt=it.y),Math.hypot(K-Be,ne-nt)<r.wZ){var ct=(0,f._i)({sceneX:Be,sceneY:nt},Ie);return{viewportX:ct.x,viewportY:ct.y,elementCenterX:Be,elementCenterY:nt}}}}},{key:"getCanvasOffsets",value:function(){var K;if((K=this.excalidrawContainerRef)!==null&&K!==void 0&&K.current){var ne=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:ne.left,offsetTop:ne.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(O=(0,y.Z)(k().mark(function K(){var ne,Ie=this;return k().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return ne=F.Mj.find(function(Be){return Be.code===Ie.props.langCode})||F.Fp,Ne.next=3,(0,F.m0)(ne);case 3:this.setAppState({});case 4:case"end":return Ne.stop()}},K,this)})),function(){return O.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){za=!1}}]),se}(ue().Component);Ns.defaultProps={UIOptions:r.cW};var Fc=function(){var i=this;this.interactiveCanvas=null,this.unmounted=!1,this.device=Na,this.excalidrawContainerRef=ue().createRef(),this.files={},this.imageCache=new Map,this.iFrameRefs=new Map,this.lastPointerDownEvent=null,this.lastPointerUpEvent=null,this.lastViewportPosition={x:0,y:0},this.laserPathManager=new fi(this),this.onChangeEmitter=new ni,this.onPointerDownEmitter=new ni,this.onPointerUpEmitter=new ni,this.updateEmbeddables=function(){var O=new Map,W=!1;i.scene.getNonDeletedElements().filter(function(oe){if((0,ee.gs)(oe)&&(O.set(oe.id,!0),oe.validated==null)){W=!0;var xe=(0,M.xm)(oe.link,i.props.validateEmbeddable);(0,P.DR)(oe,{validated:xe},!1),pa.R.delete(oe)}return!1}),W&&i.scene.informMutation(),i.iFrameRefs.forEach(function(oe,xe){O.has(xe)||i.iFrameRefs.delete(xe)})},this.getFrameNameDOMId=function(O){return"".concat(i.id,"-frame-name-").concat(O.id)},this.frameNameBoundsCache={get:function(O){var W=i.frameNameBoundsCache._cache.get(O.id);if(!W||W.zoom!==i.state.zoom.value||W.versionNonce!==O.versionNonce){var oe=document.getElementById(i.getFrameNameDOMId(O));if(oe){var xe=oe.getBoundingClientRect(),se=(0,f.dE)({clientX:xe.x,clientY:xe.y},i.state),K=(0,f.dE)({clientX:xe.right,clientY:xe.bottom},i.state);return W={x:se.x,y:se.y,width:K.x-se.x,height:K.y-se.y,angle:0,zoom:i.state.zoom.value,versionNonce:O.versionNonce},i.frameNameBoundsCache._cache.set(O.id,W),W}return null}return W},_cache:new Map},this.renderFrameNames=function(){if(!i.state.frameRendering.enabled||!i.state.frameRendering.name)return null;var O=i.state.theme==="dark";return i.scene.getNonDeletedFrames().map(function(W,oe){if(!(0,ke.PZ)(W,i.canvas.width/window.devicePixelRatio,i.canvas.height/window.devicePixelRatio,{offsetLeft:i.state.offsetLeft,offsetTop:i.state.offsetTop,scrollX:i.state.scrollX,scrollY:i.state.scrollY,zoom:i.state.zoom}))return null;var xe,se=(0,f._i)({sceneX:W.x,sceneY:W.y},i.state),K=se.x,ne=se.y,Ie=function(){var Be;((Be=W.name)===null||Be===void 0?void 0:Be.trim())===""&&(0,P.DR)(W,{name:null}),i.setState({editingFrame:null})};if(W.id===i.state.editingFrame){var Ne=W.name==null?"Frame ".concat(oe+1):W.name;xe=(0,o.jsx)("input",{autoFocus:!0,value:Ne,onChange:function(Be){(0,P.DR)(W,{name:Be.target.value})},onBlur:function(){return Ie()},onKeyDown:function(Be){Be.key!==I.tW.ESCAPE&&Be.key!==I.tW.ENTER||Ie()},style:{background:i.state.viewBackgroundColor,filter:O?r.ZF:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:"translate(-".concat(6,"px, ").concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(document.body.clientWidth-K-6,"px")},size:Ne.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else xe=W.name==null||W.name.trim()===""?"Frame ".concat(oe+1):W.name.trim();return(0,o.jsx)("div",{id:i.getFrameNameDOMId(W),style:{position:"absolute",bottom:"".concat(i.state.height+r.iG.nameOffsetY-ne+i.state.offsetTop,"px"),left:"".concat(K-i.state.offsetLeft,"px"),zIndex:2,fontSize:r.iG.nameFontSize,color:O?r.iG.nameColorDarkTheme:r.iG.nameColorLightTheme,lineHeight:r.iG.nameLineHeight,width:"max-content",maxWidth:"".concat(W.width,"px"),overflow:W.id===i.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:r.oc.MOVE,pointerEvents:i.state.viewModeEnabled?r.XI.disabled:r.XI.enabled},onPointerDown:function(Be){return i.handleCanvasPointerDown(Be)},onWheel:function(Be){return i.handleWheel(Be)},onContextMenu:i.handleCanvasContextMenu,onDoubleClick:function(){i.setState({editingFrame:W.id})},children:xe},W.id)})},this.focusContainer=function(){var O;(O=i.excalidrawContainerRef.current)===null||O===void 0||O.focus()},this.getSceneElementsIncludingDeleted=function(){return i.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return i.scene.getNonDeletedElements()},this.onInsertElements=function(O){i.addElementsFromPasteOrLibrary({elements:O,position:"center",files:null})},this.onExportImage=function(){var O=(0,y.Z)(k().mark(function W(oe,xe,se){var K;return k().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return(0,S.L)("export",oe,"ui"),ne.next=3,(0,Y.p1)(oe,xe,i.state,i.files,{exportBackground:i.state.exportBackground,name:i.state.name,viewBackgroundColor:i.state.viewBackgroundColor,exportingFrame:se.exportingFrame}).catch(f.FG).catch(function(Ie){console.error(Ie),i.setState({errorMessage:Ie.message})});case 3:K=ne.sent,i.state.exportEmbedScene&&K&&(0,kn.g8)(K)&&i.setState({fileHandle:K});case 5:case"end":return ne.stop()}},W)}));return function(W,oe,xe){return O.apply(this,arguments)}}(),this.openEyeDropper=function(O){var W=O.type;ea.e_.set(Ya.$,{swapPreviewOnAlt:!0,colorPickerType:W==="stroke"?"elementStroke":"elementBackground",onSelect:function(oe,xe){var se=W==="background"&&xe.altKey||W==="stroke"&&!xe.altKey;i.scene.getSelectedElements(i.state).length&&i.state.activeTool.type==="selection"?i.updateScene({elements:i.scene.getElementsIncludingDeleted().map(function(K){return i.state.selectedElementIds[K.id]?(0,P.BE)(K,(0,x.Z)({},se?"strokeColor":"backgroundColor",oe)):K})}):se?i.syncActionResult({appState:ar(ar({},i.state),{},{currentItemStrokeColor:oe}),commitToHistory:!0}):i.syncActionResult({appState:ar(ar({},i.state),{},{currentItemBackgroundColor:oe}),commitToHistory:!0})},keepOpenOnAlt:!1})},this.syncActionResult=(0,f.tH)(function(O){if(!i.unmounted&&O!==!1){var W=null;if(O.elements&&(O.elements.forEach(function(Lt){var Ut;((Ut=i.state.editingElement)===null||Ut===void 0?void 0:Ut.id)===Lt.id&&i.state.editingElement!==Lt&&(0,ce.qP)(Lt)&&(W=Lt)}),i.scene.replaceAllElements(O.elements),O.commitToHistory&&i.history.resumeRecording()),O.files&&(i.files=O.replaceFiles?O.files:ar(ar({},i.files),O.files),i.addNewImagesToImageCache()),O.appState||W||i.state.contextMenu){var oe,xe,se,K,ne,Ie,Ne,Be,nt,it;O.commitToHistory&&i.history.resumeRecording();var ct=(O==null||(oe=O.appState)===null||oe===void 0?void 0:oe.viewModeEnabled)||!1,kt=(O==null||(xe=O.appState)===null||xe===void 0?void 0:xe.zenModeEnabled)||!1,Ot=(O==null||(se=O.appState)===null||se===void 0?void 0:se.gridSize)||null,Wt=(O==null||(K=O.appState)===null||K===void 0?void 0:K.theme)||i.props.theme||r.C6.LIGHT,tn=(ne=O==null||(Ie=O.appState)===null||Ie===void 0?void 0:Ie.name)!==null&&ne!==void 0?ne:i.state.name,Rt=(Ne=O==null||(Be=O.appState)===null||Be===void 0?void 0:Be.errorMessage)!==null&&Ne!==void 0?Ne:i.state.errorMessage;i.props.viewModeEnabled!==void 0&&(ct=i.props.viewModeEnabled),i.props.zenModeEnabled!==void 0&&(kt=i.props.zenModeEnabled),i.props.gridModeEnabled!==void 0&&(Ot=i.props.gridModeEnabled?r.k:null),i.props.name!==void 0&&(tn=i.props.name),(it=W=W||((nt=O.appState)===null||nt===void 0?void 0:nt.editingElement)||null)!==null&&it!==void 0&&it.isDeleted&&(W=null),i.setState(function(Lt){return Object.assign(O.appState||{},{contextMenu:null,editingElement:W,viewModeEnabled:ct,zenModeEnabled:kt,gridSize:Ot,theme:Wt,name:tn,errorMessage:Rt})},function(){O.syncHistory&&i.history.setCurrentState(i.state,i.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,f.tH)(function(){Ba=!1,i.setState({isBindingEnabled:!0})}),this.onUnload=function(){i.onBlur()},this.disableEvent=function(O){O.preventDefault()},this.resetHistory=function(){i.history.clear()},this.resetScene=(0,f.tH)(function(O){i.scene.replaceAllElements([]),i.setState(function(W){return ar(ar({},(0,C.im)()),{},{isLoading:(O==null||!O.resetLoadingState)&&W.isLoading,theme:i.state.theme})}),i.resetHistory()}),this.initializeScene=(0,y.Z)(k().mark(function O(){var W,oe,xe,se,K;return k().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var Ie=(0,y.Z)(k().mark(function Ne(Be){var nt,it;return k().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(Be.files.length){ct.next=2;break}return ct.abrupt("return");case 2:return nt=Be.files[0],ct.next=5,nt.getFile();case 5:it=ct.sent,i.loadFileToCanvas(new File([it],it.name||"",{type:it.type}),nt);case 7:case"end":return ct.stop()}},Ne)}));return function(Ne){return Ie.apply(this,arguments)}}()),i.props.theme&&i.setState({theme:i.props.theme}),i.state.isLoading||i.setState({isLoading:!0}),xe=null,ne.prev=4,ne.next=7,i.props.initialData;case 7:if(ne.t0=ne.sent,ne.t0){ne.next=10;break}ne.t0=null;case 10:xe=ne.t0,(se=xe)!==null&&se!==void 0&&se.libraryItems&&i.library.updateLibrary({libraryItems:xe.libraryItems,merge:!0}).catch(function(Ie){console.error(Ie)}),ne.next=18;break;case 14:ne.prev=14,ne.t1=ne.catch(4),console.error(ne.t1),xe={appState:{errorMessage:ne.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(K=(0,le.nu)(xe,null,null,{repairBindings:!0})).appState=ar(ar({},K.appState),{},{theme:i.props.theme||K.appState.theme,openSidebar:((W=K.appState)===null||W===void 0?void 0:W.openSidebar)||i.state.openSidebar,activeTool:K.appState.activeTool.type==="image"?ar(ar({},K.appState.activeTool),{},{type:"selection"}):K.appState.activeTool,isLoading:!1,toast:i.state.toast}),(oe=xe)!==null&&oe!==void 0&&oe.scrollToContent&&(K.appState=ar(ar({},K.appState),(0,ve.W)(K.elements,ar(ar({},K.appState),{},{width:i.state.width,height:i.state.height,offsetTop:i.state.offsetTop,offsetLeft:i.state.offsetLeft})))),i.fonts.loadFontsForElements(K.elements),i.resetHistory(),i.syncActionResult(ar(ar({},K),{},{commitToHistory:!0}));case 24:case"end":return ne.stop()}},O,null,[[4,14]])})),this.isMobileBreakpoint=function(O,W){return O<r.kV||W<r.Yx&&O<r.sS},this.refreshViewportBreakpoints=function(){if(i.excalidrawContainerRef.current){var O=document.body,W=O.clientWidth,oe=O.clientHeight,xe=i.device.viewport,se=(0,f.v4)(xe,{isLandscape:W>oe,isMobile:i.isMobileBreakpoint(W,oe)});return xe!==se&&(i.device=ar(ar({},i.device),{},{viewport:se}),!0)}},this.refreshEditorBreakpoints=function(){var O=i.excalidrawContainerRef.current;if(O){var W=O.getBoundingClientRect(),oe=W.width,xe=W.height,se=i.props.UIOptions.dockedSidebarBreakpoint!=null?i.props.UIOptions.dockedSidebarBreakpoint:r.sk,K=i.device.editor,ne=(0,f.v4)(K,{isMobile:i.isMobileBreakpoint(oe,xe),canFitSidebar:oe>se});return K!==ne&&(i.device=ar(ar({},i.device),{},{editor:ne}),!0)}},this.onResize=(0,f.tH)(function(){i.scene.getElementsIncludingDeleted().forEach(function(O){return pa.R.delete(O)}),i.refreshViewportBreakpoints(),i.updateDOMRect(),kl||i.refreshEditorBreakpoints(),i.setState({})}),this.renderInteractiveSceneCallback=function(O){var W=O.atLeastOneVisibleElement,oe=O.scrollBars,xe=O.elements;oe&&(Di=oe);var se=!(0,ce.iB)(i.state.editingElement)&&!W&&xe.length>0;i.state.scrolledOutside!==se&&i.setState({scrolledOutside:se}),i.scheduleImageRefresh()},this.onScroll=(0,f.Ds)(function(){var O=i.getCanvasOffsets(),W=O.offsetTop,oe=O.offsetLeft;i.setState(function(xe){return xe.offsetLeft===oe&&xe.offsetTop===W?null:{offsetTop:W,offsetLeft:oe}})},r.HM),this.onCut=(0,f.tH)(function(O){var W;!((W=i.excalidrawContainerRef.current)===null||W===void 0)&&W.contains(document.activeElement)&&!(0,f.s)(O.target)&&(i.actionManager.executeAction($.ZM,"keyboard",O),O.preventDefault(),O.stopPropagation())}),this.onCopy=(0,f.tH)(function(O){var W;!((W=i.excalidrawContainerRef.current)===null||W===void 0)&&W.contains(document.activeElement)&&!(0,f.s)(O.target)&&(i.actionManager.executeAction($.uN,"keyboard",O),O.preventDefault(),O.stopPropagation())}),this.onTouchStart=function(O){if(r.Dt||O.preventDefault(),!za)return za=!0,clearTimeout(ka),void(ka=window.setTimeout(Ns.resetTapTwice,r.Gj));if(za&&O.touches.length===1){var W=O.touches[0];i.handleCanvasDoubleClick({clientX:W.clientX,clientY:W.clientY}),za=!1,clearTimeout(ka)}r.Dt&&O.preventDefault(),O.touches.length===2&&i.setState({selectedElementIds:(0,Kr.Oh)({},i.state),activeEmbeddable:null})},this.onTouchEnd=function(O){i.resetContextMenuTimer(),O.touches.length>0?i.setState({previousSelectedElementIds:{},selectedElementIds:(0,Kr.Oh)(i.state.previousSelectedElementIds,i.state)}):To.pointers.clear()},this.pasteFromClipboard=(0,f.tH)(function(){var O=(0,y.Z)(k().mark(function W(oe){var xe,se,K,ne,Ie,Ne,Be,nt,it,ct,kt,Ot,Wt,tn,Rt,Lt,Ut;return k().wrap(function(on){for(;;)switch(on.prev=on.next){case 0:if(K=!!Ls,ne=document.activeElement,Ie=(xe=i.excalidrawContainerRef.current)===null||xe===void 0?void 0:xe.contains(ne),!oe||Ie){on.next=5;break}return on.abrupt("return");case 5:if(Ne=document.elementFromPoint(i.lastViewportPosition.x,i.lastViewportPosition.y),!oe||Ne instanceof HTMLCanvasElement&&!(0,f.s)(ne)){on.next=8;break}return on.abrupt("return");case 8:return Be=(0,f.dE)({clientX:i.lastViewportPosition.x,clientY:i.lastViewportPosition.y},i.state),nt=Be.x,it=Be.y,ct=oe==null||(se=oe.clipboardData)===null||se===void 0?void 0:se.files[0],on.next=12,(0,A.mQ)(oe,K);case 12:if(kt=on.sent,ct||K){on.next=19;break}if(!kt.mixedContent){on.next=18;break}return on.abrupt("return",i.addElementsFromMixedContentPaste(kt.mixedContent,{isPlainPaste:K,sceneX:nt,sceneY:it}));case 18:kt.text&&(Ot=kt.text.trim()).startsWith("<svg")&&Ot.endsWith("</svg>")&&(ct=(0,kn.Pn)(Ot));case 19:if(!(0,kn.Wr)(ct)||kt.spreadsheet){on.next=28;break}if(i.isToolSupported("image")){on.next=23;break}return i.setState({errorMessage:(0,F.t)("errors.imageToolNotSupported")}),on.abrupt("return");case 23:return Wt=i.createImageElement({sceneX:nt,sceneY:it}),i.insertImageElement(Wt,ct),i.initializeImageDimensions(Wt),i.setState({selectedElementIds:(0,Kr.Oh)((0,x.Z)({},Wt.id,!0),i.state)}),on.abrupt("return");case 28:if(!i.props.onPaste){on.next=40;break}return on.prev=29,on.next=32,i.props.onPaste(kt,oe);case 32:if(on.t0=on.sent,on.t0!==!1){on.next=35;break}return on.abrupt("return");case 35:on.next=40;break;case 37:on.prev=37,on.t1=on.catch(29),console.error(on.t1);case 40:if(!kt.errorMessage){on.next=44;break}i.setState({errorMessage:kt.errorMessage}),on.next=60;break;case 44:if(!kt.spreadsheet||K){on.next=48;break}i.setState({pasteDialog:{data:kt.spreadsheet,shown:!0}}),on.next=60;break;case 48:if(!kt.elements){on.next=53;break}tn=kt.programmaticAPI?(0,fn.w)(kt.elements):kt.elements,i.addElementsFromPasteOrLibrary({elements:tn,files:kt.files||null,position:"cursor",retainSeed:K}),on.next=60;break;case 53:if(!kt.text){on.next=60;break}if(Lt=(0,M.eX)(kt.text),K||!(0,M.xm)(Lt,i.props.validateEmbeddable)||!/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(Lt)&&((Rt=(0,M.LM)(Lt))===null||Rt===void 0?void 0:Rt.type)!=="video"){on.next=59;break}return(Ut=i.insertEmbeddableElement({sceneX:nt,sceneY:it,link:(0,la.$u)(Lt)}))&&i.setState({selectedElementIds:(0,x.Z)({},Ut.id,!0)}),on.abrupt("return");case 59:i.addTextFromPaste(kt.text,K);case 60:i.setActiveTool({type:"selection"}),oe?.preventDefault();case 62:case"end":return on.stop()}},W,null,[[29,37]])}));return function(W){return O.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(O){var W=(0,le.ET)(O.elements,null,void 0),oe=(0,ce.KP)(W),xe=(0,g.Z)(oe,4),se=xe[0],K=xe[1],ne=xe[2],Ie=xe[3],Ne=(0,f.TE)(se,ne)/2,Be=(0,f.TE)(K,Ie)/2,nt=(0,_.Z)(O.position)==="object"?O.position.clientX:O.position==="cursor"?i.lastViewportPosition.x:i.state.width/2+i.state.offsetLeft,it=(0,_.Z)(O.position)==="object"?O.position.clientY:O.position==="cursor"?i.lastViewportPosition.y:i.state.height/2+i.state.offsetTop,ct=(0,f.dE)({clientX:nt,clientY:it},i.state),kt=ct.x-Ne,Ot=ct.y-Be,Wt=(0,be.wC)(kt,Ot,i.state.gridSize),tn=(0,g.Z)(Wt,2),Rt=tn[0],Lt=tn[1],Ut=(0,J._N)(W.map(function(cn){return(0,P.BE)(cn,{x:cn.x+Rt-se,y:cn.y+Lt-K})}),{randomizeSeed:!O.retainSeed}),on=[].concat((0,p.Z)(i.scene.getElementsIncludingDeleted()),(0,p.Z)(Ut));i.scene.replaceAllElements(on),Ut.forEach(function(cn){if((0,ce.iB)(cn)&&(0,ee.Xh)(cn)){var nn=(0,jt.tl)(cn);(0,ce.oN)(cn,nn)}}),O.files&&(i.files=ar(ar({},i.files),O.files)),i.history.resumeRecording();var vn=(0,Kr.aI)(Ut);i.setState(ar(ar({},i.state),{},{openSidebar:i.state.openSidebar&&i.device.editor.canFitSidebar&&ea.e_.get(Qi.t6)?i.state.openSidebar:null},(0,Ke.bO)({editingGroupId:null,selectedElementIds:vn.reduce(function(cn,nn){return(0,ee.Xh)(nn)||(cn[nn.id]=!0),cn},{})},i.scene.getNonDeletedElements(),i.state,i)),function(){O.files&&i.addNewImagesToImageCache()}),i.setActiveTool({type:"selection"}),O.fitToContent&&i.scrollToContent(Ut,{fitToContent:!0})},this.setAppState=function(O,W){i.setState(O,W)},this.removePointer=function(O){sa&&i.resetContextMenuTimer(),To.pointers.delete(O.pointerId)},this.toggleLock=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";i.state.activeTool.locked||(0,S.L)("toolbar","toggleLock","".concat(O," (").concat(i.device.editor.isMobile?"mobile":"desktop",")")),i.setState(function(W){return{activeTool:ar(ar(ar({},W.activeTool),(0,f.Om)(i.state,W.activeTool.locked?{type:"selection"}:W.activeTool)),{},{locked:!W.activeTool.locked})}})},this.updateFrameRendering=function(O){i.setState(function(W){var oe,xe,se,K,ne=typeof O=="function"?O(W.frameRendering):O;return{frameRendering:{enabled:(oe=ne?.enabled)!==null&&oe!==void 0?oe:W.frameRendering.enabled,clip:(xe=ne?.clip)!==null&&xe!==void 0?xe:W.frameRendering.clip,name:(se=ne?.name)!==null&&se!==void 0?se:W.frameRendering.name,outline:(K=ne?.outline)!==null&&K!==void 0?K:W.frameRendering.outline}}})},this.togglePenMode=function(O){i.setState(function(W){return{penMode:O??!W.penMode,penDetected:!0}})},this.onHandToolToggle=function(){i.actionManager.executeAction(Aa.eF)},this.zoomCanvas=function(O){i.setState(ar({},(0,l.E)({viewportX:i.state.width/2+i.state.offsetLeft,viewportY:i.state.height/2+i.state.offsetTop,nextZoom:(0,ve.j)(O)},i.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var O,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.scene.getNonDeletedElements(),oe=arguments.length>1?arguments[1]:void 0;(O=i.cancelInProgresAnimation)===null||O===void 0||O.call(i);var xe=Array.isArray(W)?W:[W],se=i.state.zoom,K=i.state.scrollX,ne=i.state.scrollY;if(oe!=null&&oe.fitToContent||oe!=null&&oe.fitToViewport){var Ie=(0,Aa.JB)({targetElements:xe,appState:i.state,fitToViewport:!(oe==null||!oe.fitToViewport),viewportZoomFactor:oe?.viewportZoomFactor}),Ne=Ie.appState;se=Ne.zoom,K=Ne.scrollX,ne=Ne.scrollY}else{var Be=(0,ve.W)(xe,i.state);K=Be.scrollX,ne=Be.scrollY}if(oe!=null&&oe.animate){var nt,it=i.state.scrollX,ct=i.state.scrollY,kt=i.state.zoom.value,Ot=(0,f.B4)({fromValues:{scrollX:it,scrollY:ct,zoom:kt},toValues:{scrollX:K,scrollY:ne,zoom:se.value},interpolateValue:function(Wt,tn,Rt,Lt){if(Lt==="zoom")return Wt*Math.pow(tn/Wt,(0,f.Vv)(Rt))},onStep:function(Wt){var tn=Wt.scrollX,Rt=Wt.scrollY,Lt=Wt.zoom;i.setState({scrollX:tn,scrollY:Rt,zoom:{value:Lt}})},onStart:function(){i.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){i.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){i.setState({shouldCacheIgnoreZoom:!1})},duration:(nt=oe?.duration)!==null&&nt!==void 0?nt:500});i.cancelInProgresAnimation=function(){Ot(),i.cancelInProgresAnimation=null}}else i.setState({scrollX:K,scrollY:ne,zoom:se})},this.translateCanvas=function(O){var W;(W=i.cancelInProgresAnimation)===null||W===void 0||W.call(i),i.setState(O)},this.setToast=function(O){i.setState({toast:O})},this.restoreFileFromShare=(0,y.Z)(k().mark(function O(){var W,oe,xe,se;return k().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.prev=0,K.next=3,caches.open("web-share-target");case 3:return W=K.sent,K.next=6,W.match("shared-file");case 6:if(!(oe=K.sent)){K.next=16;break}return K.next=10,oe.blob();case 10:return xe=K.sent,se=new File([xe],xe.name||"",{type:xe.type}),i.loadFileToCanvas(se,null),K.next=15,W.delete("shared-file");case 15:window.history.replaceState(null,r.iC,window.location.pathname);case 16:K.next=21;break;case 18:K.prev=18,K.t0=K.catch(0),i.setState({errorMessage:K.t0.message});case 21:case"end":return K.stop()}},O,null,[[0,18]])})),this.addFiles=(0,f.tH)(function(O){var W=O.reduce(function(oe,xe){return oe.set(xe.id,xe),oe},new Map);i.files=ar(ar({},i.files),Object.fromEntries(W)),i.scene.getNonDeletedElements().forEach(function(oe){(0,ee.wi)(oe)&&W.has(oe.fileId)&&(i.imageCache.delete(oe.fileId),pa.R.delete(oe))}),i.scene.informMutation(),i.addNewImagesToImageCache()}),this.updateScene=(0,f.tH)(function(O){O.commitToHistory&&i.history.resumeRecording(),O.appState&&i.setState(O.appState),O.elements&&i.scene.replaceAllElements(O.elements),O.collaborators&&i.setState({collaborators:O.collaborators})}),this.onSceneUpdated=function(){i.setState({})},this.toggleSidebar=function(O){var W,oe,xe=O.name,se=O.tab,K=O.force;return K===void 0?W=((oe=i.state.openSidebar)===null||oe===void 0?void 0:oe.name)===xe?null:xe:W=K?xe:null,i.setState({openSidebar:W?{name:W,tab:se}:null}),!!W},this.updateCurrentCursorPosition=(0,f.tH)(function(O){i.lastViewportPosition.x=O.clientX,i.lastViewportPosition.y=O.clientY}),this.onKeyDown=(0,f.tH)(function(O){if("Proxy"in window&&(!O.shiftKey&&/^[A-Z]$/.test(O.key)||O.shiftKey&&/^[a-z]$/.test(O.key))&&(O=new Proxy(O,{get:function(Rt,Lt){var Ut=Rt[Lt];return typeof Ut=="function"?Ut.bind(Rt):Lt==="key"?O.shiftKey?Rt.key.toUpperCase():Rt.key.toLowerCase():Ut}})),O[I.tW.CTRL_OR_CMD]&&O.key.toLowerCase()===I.tW.V&&(Ls=O.shiftKey,clearTimeout(Rs),Rs=window.setTimeout(function(){Ls=!1},100)),!O[I.tW.CTRL_OR_CMD]||!(0,f.s)(O.target)||O.code!==I.aU.MINUS&&O.code!==I.aU.EQUAL){if(!((0,f.s)(O.target)&&O.key!==I.tW.ESCAPE||(0,I.Wl)(O.key)&&(0,f._Z)(O.target)))if(O.key!==I.tW.QUESTION_MARK){if(O.key.toLowerCase()===I.tW.E&&O.shiftKey&&O[I.tW.CTRL_OR_CMD])return O.preventDefault(),void i.setState({openDialog:"imageExport"});if(O.key===I.tW.PAGE_UP||O.key===I.tW.PAGE_DOWN){var W=(O.shiftKey?i.state.width:i.state.height)/i.state.zoom.value;O.key===I.tW.PAGE_DOWN&&(W=-W),O.shiftKey?i.translateCanvas(function(Rt){return{scrollX:Rt.scrollX+W}}):i.translateCanvas(function(Rt){return{scrollY:Rt.scrollY+W}})}if(!i.actionManager.handleKeyDown(O)&&!i.state.viewModeEnabled){if(O[I.tW.CTRL_OR_CMD]&&i.state.isBindingEnabled&&i.setState({isBindingEnabled:!1}),(0,I.Wl)(O.key)){var oe=i.state.gridSize&&(O.shiftKey?r.$e:i.state.gridSize)||(O.shiftKey?r.Iw:r.$e),xe=0,se=0;O.key===I.tW.ARROW_LEFT?xe=-oe:O.key===I.tW.ARROW_RIGHT?xe=oe:O.key===I.tW.ARROW_UP?se=-oe:O.key===I.tW.ARROW_DOWN&&(se=oe);var K=i.scene.getSelectedElements({selectedElementIds:i.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});K.forEach(function(Rt){(0,P.DR)(Rt,{x:Rt.x+xe,y:Rt.y+se}),(0,w.Ww)(Rt,{simultaneouslyUpdated:K})}),i.maybeSuggestBindingForAll(K),O.preventDefault()}else if(O.key===I.tW.ENTER){var ne=i.scene.getSelectedElements(i.state);if(ne.length===1){var Ie=ne[0];if(O[I.tW.CTRL_OR_CMD])(0,ee.bt)(Ie)&&(i.state.editingLinearElement&&i.state.editingLinearElement.elementId===ne[0].id||(i.history.resumeRecording(),i.setState({editingLinearElement:new de._(Ie,i.scene)})));else{if((0,ce.iB)(Ie)||(0,jt.Zr)(Ie)){var Ne;(0,ce.iB)(Ie)||(Ne=Ie);var Be=(0,jt.TP)(Ie,i.state),nt=Be.x,it=Be.y;return i.startTextEditing({sceneX:nt,sceneY:it,container:Ne}),void O.preventDefault()}(0,ee.He)(Ie)&&i.setState({editingFrame:Ie.id})}}}else if(!O.ctrlKey&&!O.altKey&&!O.metaKey&&i.state.draggingElement===null){var ct=function(Rt){var Lt=d.find(function(Ut,on){return Ut.numericKey!=null&&Rt===Ut.numericKey.toString()||Ut.key&&(typeof Ut.key=="string"?Ut.key===Rt:Ut.key.includes(Rt))});return Lt?.value||null}(O.key);ct?(i.state.activeTool.type!==ct&&(0,S.L)("toolbar",ct,"keyboard (".concat(i.device.editor.isMobile?"mobile":"desktop",")")),i.setActiveTool({type:ct}),O.stopPropagation()):O.key===I.tW.Q&&(i.toggleLock("keyboard"),O.stopPropagation())}if(O.key===I.tW.SPACE&&To.pointers.size===0&&(Ba=!0,(0,zr.KJ)(i.interactiveCanvas,r.oc.GRAB),O.preventDefault()),!(O.key!==I.tW.G&&O.key!==I.tW.S||O.altKey||O[I.tW.CTRL_OR_CMD])){var kt=i.scene.getSelectedElements(i.state);if(i.state.activeTool.type==="selection"&&!kt.length)return;O.key===I.tW.G&&((0,ve.$b)(i.state.activeTool.type)||kt.some(function(Rt){return(0,ve.$b)(Rt.type)}))&&(i.setState({openPopup:"elementBackground"}),O.stopPropagation()),O.key===I.tW.S&&(i.setState({openPopup:"elementStroke"}),O.stopPropagation())}if(O.key!==I.tW.K||O.altKey||O[I.tW.CTRL_OR_CMD]){!O[I.tW.CTRL_OR_CMD]||O.key!==I.tW.BACKSPACE&&O.key!==I.tW.DELETE||ea.e_.set(Ll.w,"clearCanvas");var Ot=O.key.toLocaleLowerCase(),Wt=Ot===I.tW.S&&O.shiftKey,tn=O.key===I.tW.I||Ot===I.tW.G&&O.shiftKey;(Wt||tn)&&i.openEyeDropper({type:Wt?"stroke":"background"})}else i.state.activeTool.type==="laser"?i.setActiveTool({type:"selection"}):i.setActiveTool({type:"laser"})}}else i.setState({openDialog:"help"})}else O.preventDefault()}),this.onWheel=(0,f.tH)(function(O){O.target instanceof HTMLCanvasElement||!O.ctrlKey||O.preventDefault()}),this.onKeyUp=(0,f.tH)(function(O){if(O.key===I.tW.SPACE&&(i.state.viewModeEnabled?(0,zr.KJ)(i.interactiveCanvas,r.oc.GRAB):i.state.activeTool.type==="selection"?(0,zr.z8)(i.interactiveCanvas):((0,zr.Uk)(i.interactiveCanvas,i.state),i.setState({selectedElementIds:(0,Kr.Oh)({},i.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),Ba=!1),O[I.tW.CTRL_OR_CMD]||i.state.isBindingEnabled||i.setState({isBindingEnabled:!0}),(0,I.Wl)(O.key)){var W=i.scene.getSelectedElements(i.state);(0,w.N1)(i.state)?(0,w.el)(W):(0,w.H)(W),i.setState({suggestedBindings:[]})}}),this.isToolSupported=function(O){var W;return((W=i.props.UIOptions.tools)===null||W===void 0?void 0:W[O])!==!1},this.setActiveTool=function(O){if(i.isToolSupported(O.type)){var W,oe=(0,f.Om)(i.state,O);oe.type==="hand"?(0,zr.KJ)(i.interactiveCanvas,r.oc.GRAB):Ba||(0,zr.Uk)(i.interactiveCanvas,i.state),(0,f.wO)(document.activeElement)&&i.focusContainer(),(0,ee.dt)(oe.type)||i.setState({suggestedBindings:[]}),oe.type==="image"&&i.onImageAction({insertOnCanvasDirectly:(W=O.type==="image"&&O.insertOnCanvasDirectly)!==null&&W!==void 0&&W}),i.setState(function(xe){var se={snapLines:xe.snapLines.length?[]:xe.snapLines,originSnapOffset:null,activeEmbeddable:null};return oe.type!=="selection"?ar(ar({},xe),{},{activeTool:oe,selectedElementIds:(0,Kr.Oh)({},xe),selectedGroupIds:(0,Kr.Oh)({},xe),editingGroupId:null,multiElement:null},se):ar(ar({},xe),{},{activeTool:oe},se)})}else console.warn('"'.concat(O.type,'" tool is disabled via "UIOptions.canvasActions.tools.').concat(O.type,'"'))},this.setOpenDialog=function(O){i.setState({openDialog:O})},this.setCursor=function(O){(0,zr.KJ)(i.interactiveCanvas,O)},this.resetCursor=function(){(0,zr.z8)(i.interactiveCanvas)},this.isTouchScreenMultiTouchGesture=function(){return To.pointers.size>=2},this.onGestureStart=(0,f.tH)(function(O){O.preventDefault(),i.isTouchScreenMultiTouchGesture()&&i.setState({selectedElementIds:(0,Kr.Oh)({},i.state),activeEmbeddable:null}),To.initialScale=i.state.zoom.value}),this.onGestureChange=(0,f.tH)(function(O){if(O.preventDefault(),!i.isTouchScreenMultiTouchGesture()){var W=To.initialScale;W&&i.setState(function(oe){return ar({},(0,l.E)({viewportX:i.lastViewportPosition.x,viewportY:i.lastViewportPosition.y,nextZoom:(0,ve.j)(W*O.scale)},oe))})}}),this.onGestureEnd=(0,f.tH)(function(O){O.preventDefault(),i.isTouchScreenMultiTouchGesture()&&i.setState({previousSelectedElementIds:{},selectedElementIds:(0,Kr.Oh)(i.state.previousSelectedElementIds,i.state)}),To.initialScale=null}),this.startTextEditing=function(O){var W,oe,xe,se,K=O.sceneX,ne=O.sceneY,Ie=O.insertAtParentCenter,Ne=Ie===void 0||Ie,Be=O.container,nt=!1,it=Ne&&i.getTextWysiwygSnappedToCenterPosition(K,ne,i.state,Be);Be&&it&&((0,jt.WJ)(Be)||(nt=!0));var ct=null,kt=i.scene.getSelectedElements(i.state),Ot=((W=ct=kt.length===1?(0,ce.iB)(kt[0])?kt[0]:Be?(0,jt.WJ)(kt[0]):i.getTextElementAtPosition(K,ne):i.getTextElementAtPosition(K,ne))===null||W===void 0?void 0:W.fontFamily)||i.state.currentItemFontFamily,Wt=((oe=ct)===null||oe===void 0?void 0:oe.lineHeight)||(0,jt.PT)(Ot),tn=i.state.currentItemFontSize;if(!ct&&nt&&Be&&!(0,ee.Yv)(Be)){var Rt={fontSize:tn,fontFamily:Ot},Lt=(0,jt.AT)((0,f.mO)(Rt),Wt),Ut=(0,jt.w_)(tn,Wt),on=Math.max(Be.height,Ut),vn=Math.max(Be.width,Lt);(0,P.DR)(Be,{height:on,width:vn}),K=Be.x+vn/2,ne=Be.y+on/2,it&&(it=i.getTextWysiwygSnappedToCenterPosition(K,ne,i.state,Be))}var cn=i.getTopLayerFrameAtSceneCoords({x:K,y:ne}),nn=ct||(0,ce.VL)({x:it?it.elementCenterX:K,y:it?it.elementCenterY:ne,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity,text:"",fontSize:tn,fontFamily:Ot,textAlign:it?"center":i.state.currentItemTextAlign,verticalAlign:it?r.oX.MIDDLE:r.hs,containerId:nt?Be?.id:void 0,groupIds:(xe=Be?.groupIds)!==null&&xe!==void 0?xe:[],lineHeight:Wt,angle:(se=Be?.angle)!==null&&se!==void 0?se:0,frameId:cn?cn.id:null});if(!ct&&nt&&Be&&(0,P.DR)(Be,{boundElements:(Be.boundElements||[]).concat({type:"text",id:nn.id})}),i.setState({editingElement:nn}),!ct)if(Be&&nt){var _n=i.scene.getElementIndex(Be.id);i.scene.insertElementAtIndex(nn,_n+1)}else i.scene.addNewElement(nn);i.setState({editingElement:nn}),i.handleTextWysiwyg(nn,{isExistingElement:!!ct})},this.handleCanvasDoubleClick=function(O){if(!i.state.multiElement&&i.state.activeTool.type==="selection"){var W=i.scene.getSelectedElements(i.state);if(W.length===1&&(0,ee.bt)(W[0])){if(O[I.tW.CTRL_OR_CMD]&&(!i.state.editingLinearElement||i.state.editingLinearElement.elementId!==W[0].id))return i.history.resumeRecording(),void i.setState({editingLinearElement:new de._(W[0],i.scene)});if(i.state.editingLinearElement&&i.state.editingLinearElement.elementId===W[0].id)return}(0,zr.z8)(i.interactiveCanvas);var oe=(0,f.dE)(O,i.state),xe=oe.x,se=oe.y;if((0,Ke.iJ)(i.state).length>0){var K=i.getElementAtPosition(xe,se),ne=K&&(0,Ke.YS)(K,i.state.selectedGroupIds);if(ne)return void i.setState(function(nt){return ar(ar({},nt),(0,Ke.bO)({editingGroupId:ne,selectedElementIds:(0,x.Z)({},K.id,!0)},i.scene.getNonDeletedElements(),nt,i))})}if((0,zr.z8)(i.interactiveCanvas),!O[I.tW.CTRL_OR_CMD]&&!i.state.viewModeEnabled){var Ie=i.getElementAtPosition(xe,se);if((0,ee.gs)(Ie))return void i.setState({activeEmbeddable:{element:Ie,state:"active"}});var Ne=(0,jt.OW)(i.scene.getNonDeletedElements(),i.state,xe,se);if(Ne&&((0,ee.Xo)(Ne)||!(0,f.Qm)(Ne.backgroundColor)||(0,wa.Qu)(Ne,i.state,i.frameNameBoundsCache,[xe,se]))){var Be=(0,jt.TP)(Ne,i.state);xe=Be.x,se=Be.y}i.startTextEditing({sceneX:xe,sceneY:se,insertAtParentCenter:!O.altKey,container:Ne})}}},this.getElementLinkAtPosition=function(O,W){var oe=i.scene.getNonDeletedElements().slice().reverse(),xe=1/0;return oe.find(function(se,K){return W&&se.id===W.id&&(xe=K),se.link&&K<=xe&&(0,ra.Ni)(se,i.state,[O.x,O.y],i.device.editor.isMobile)})},this.redirectToLink=function(O,W){var oe=(0,be.LW)(i.lastPointerDownEvent.clientX,i.lastPointerDownEvent.clientY,i.lastPointerUpEvent.clientX,i.lastPointerUpEvent.clientY);if(!(!i.hitLinkElement||W&&oe>r.f||!W&&oe!==0)){var xe=(0,f.dE)(i.lastPointerDownEvent,i.state),se=(0,ra.Ni)(i.hitLinkElement,i.state,[xe.x,xe.y],i.device.editor.isMobile),K=(0,f.dE)(i.lastPointerUpEvent,i.state),ne=(0,ra.Ni)(i.hitLinkElement,i.state,[K.x,K.y],i.device.editor.isMobile);if(se&&ne){var Ie,Ne,Be=i.hitLinkElement.link;if(Be&&(Be=(0,la.$u)(Be),i.props.onLinkOpen&&(Ne=(0,f.ag)(r.Ks.EXCALIDRAW_LINK,O.nativeEvent),i.props.onLinkOpen(ar(ar({},i.hitLinkElement),{},{link:Be}),Ne)),(Ie=Ne)===null||Ie===void 0||!Ie.defaultPrevented)){var nt=(0,la.q$)(Be)?"_self":"_blank",it=window.open(void 0,nt);it&&(it.opener=null,it.location=Be)}}}},this.getTopLayerFrameAtSceneCoords=function(O){var W=i.scene.getNonDeletedFrames().filter(function(oe){return(0,wr.Dn)(O,oe)});return W.length?W[W.length-1]:null},this.handleCanvasPointerMove=function(O){i.savePointer(O.clientX,O.clientY,i.state.cursorButton),To.pointers.has(O.pointerId)&&To.pointers.set(O.pointerId,{x:O.clientX,y:O.clientY});var W=To.initialScale;if(To.pointers.size===2&&To.lastCenter&&W&&To.initialDistance){var oe=he(To.pointers),xe=oe.x-To.lastCenter.x,se=oe.y-To.lastCenter.y;To.lastCenter=oe;var K=Pe(Array.from(To.pointers.values())),ne=i.state.activeTool.type==="freedraw"&&i.state.penMode?1:K/To.initialDistance,Ie=ne?(0,ve.j)(W*ne):i.state.zoom.value;i.setState(function(wo){var mo=(0,l.E)({viewportX:oe.x,viewportY:oe.y,nextZoom:Ie},wo);i.translateCanvas({zoom:mo.zoom,scrollX:mo.scrollX+xe/Ie,scrollY:mo.scrollY+se/Ie,shouldCacheIgnoreZoom:!0})}),i.resetShouldCacheIgnoreZoomDebounced()}else To.lastCenter=To.initialDistance=To.initialScale=null;if(!(Ba||El||gs||(0,C.l$)(i.state))){var Ne=(0,ve._4)(Di,O.clientX-i.state.offsetLeft,O.clientY-i.state.offsetTop).isOverEither;i.state.draggingElement||i.state.multiElement||(Ne?(0,zr.z8)(i.interactiveCanvas):(0,zr.Uk)(i.interactiveCanvas,i.state));var Be,nt=(0,f.dE)(O,i.state),it=nt.x,ct=nt.y;if(i.state.draggingElement||(Be=i.state.activeTool.type)!=="rectangle"&&Be!=="ellipse"&&Be!=="diamond"&&Be!=="frame"&&Be!=="image")i.state.draggingElement||i.setState({snapLines:[]});else{var kt=function(wo,mo,co,Co){if(!Bi({event:Co,selectedElements:[],appState:mo}))return{originOffset:{x:0,y:0},snapLines:[]};var eo,Rr=(0,Kr.CF)(wo,[],mo),xi=Lo(mo.zoom.value),Fr={x:xi,y:xi},jr=[],uo=[],Mo=_i(Rr);try{for(Mo.s();!(eo=Mo.n()).done;){var Vo,ko=eo.value,Jo=_i($a([ko]));try{for(Jo.s();!(Vo=Jo.n()).done;){var fo=Vo.value,lo=fo[0]-co.x;Math.abs(lo)<=Math.abs(Fr.x)&&(Math.abs(lo)<Math.abs(Fr.x)&&(uo.length=0),uo.push({type:"pointer",points:[fo,[fo[0],co.y]],direction:"vertical"}),Fr.x=lo);var Qo=fo[1]-co.y;Math.abs(Qo)<=Math.abs(Fr.y)&&(Math.abs(Qo)<Math.abs(Fr.y)&&(jr.length=0),jr.push({type:"pointer",points:[fo,[co.x,fo[1]]],direction:"horizontal"}),Fr.y=Qo)}}catch(wi){Jo.e(wi)}finally{Jo.f()}}}catch(wi){Mo.e(wi)}finally{Mo.f()}return{originOffset:{x:uo.length>0?uo[0].points[0][0]-co.x:0,y:jr.length>0?jr[0].points[0][1]-co.y:0},snapLines:[].concat(uo,jr)}}(i.scene.getNonDeletedElements(),i.state,{x:it,y:ct},O),Ot=kt.originOffset,Wt=kt.snapLines;i.setState({snapLines:Wt,originSnapOffset:Ot})}if(i.state.editingLinearElement&&!i.state.editingLinearElement.isDragging){var tn=de._.handlePointerMove(O,it,ct,i.state);tn&&tn!==i.state.editingLinearElement&&(0,me.flushSync)(function(){i.setState({editingLinearElement:tn})}),tn?.lastUncommittedPoint!=null?i.maybeSuggestBindingAtCursor(nt):(0,me.flushSync)(function(){i.setState({suggestedBindings:[]})})}if((0,ee.Lx)(i.state.activeTool.type)){var Rt=i.state.draggingElement;(0,ee.Mn)(Rt,!1)?i.maybeSuggestBindingsForLinearElementAtCoords(Rt,[nt],i.state.startBoundElement):i.maybeSuggestBindingAtCursor(nt)}if(i.state.multiElement){var Lt=i.state.multiElement,Ut=Lt.x,on=Lt.y,vn=Lt.points,cn=Lt.lastCommittedPoint,nn=vn[vn.length-1];if((0,zr.Uk)(i.interactiveCanvas,i.state),nn===cn)(0,be.LW)(it-Ut,ct-on,nn[0],nn[1])>=r.qx?(0,P.DR)(Lt,{points:[].concat((0,p.Z)(vn),[[it-Ut,ct-on]])}):(0,zr.KJ)(i.interactiveCanvas,r.oc.POINTER);else if(vn.length>2&&cn&&(0,be.LW)(it-Ut,ct-on,cn[0],cn[1])<r.qx)(0,zr.KJ)(i.interactiveCanvas,r.oc.POINTER),(0,P.DR)(Lt,{points:vn.slice(0,-1)});else{var _n,Xn=(0,be.wC)(it,ct,O[I.tW.CTRL_OR_CMD]?null:i.state.gridSize),sr=(0,g.Z)(Xn,2),yr=sr[0],Mr=sr[1],Dr=(_n=Lt?.lastCommittedPoint)!==null&&_n!==void 0?_n:[0,0],br=(0,g.Z)(Dr,2),xr=br[0],Sr=br[1],kr=yr-Ut-xr,Br=Mr-on-Sr;if((0,I.Ge)(O)){var qr=(0,ce.o4)(xr+Ut,Sr+on,yr,Mr);kr=qr.width,Br=qr.height}(0,be.g6)(vn,i.state.zoom.value)&&(0,zr.KJ)(i.interactiveCanvas,r.oc.POINTER),(0,P.DR)(Lt,{points:[].concat((0,p.Z)(vn.slice(0,-1)),[[xr+kr,Sr+Br]])})}}else if(!(O.buttons||i.state.activeTool.type!=="selection"&&i.state.activeTool.type!=="text"&&i.state.activeTool.type!=="eraser")){var Jr=i.scene.getNonDeletedElements(),ro=i.scene.getSelectedElements(i.state);if(ro.length!==1||Ne||i.state.editingLinearElement){if(ro.length>1&&!Ne){var Hr=(0,ce.n2)((0,ce.KP)(ro),it,ct,i.state.zoom,O.pointerType);if(Hr)return void(0,zr.KJ)(i.interactiveCanvas,(0,ce.Un)({transformHandleType:Hr}))}}else{var Lr=(0,ce.jt)(Jr,i.state,it,ct,i.state.zoom,O.pointerType);if(Lr&&Lr.transformHandleType)return void(0,zr.KJ)(i.interactiveCanvas,(0,ce.Un)(Lr))}var io=i.getElementAtPosition(nt.x,nt.y);if(i.hitLinkElement=i.getElementLinkAtPosition(nt,io),!(0,C.EN)(i.state))if(i.hitLinkElement&&!i.state.selectedElementIds[i.hitLinkElement.id])(0,zr.KJ)(i.interactiveCanvas,r.oc.POINTER),(0,ra.Pp)(i.hitLinkElement,i.state);else if((0,ra.lV)(),io&&(io.link||(0,ee.gs)(io))&&i.state.selectedElementIds[io.id]&&!i.state.contextMenu&&!i.state.showHyperlinkPopup)i.setState({showHyperlinkPopup:"info"});else if(i.state.activeTool.type==="text")(0,zr.KJ)(i.interactiveCanvas,(0,ce.iB)(io)?r.oc.TEXT:r.oc.CROSSHAIR);else if(i.state.viewModeEnabled)(0,zr.KJ)(i.interactiveCanvas,r.oc.GRAB);else if(Ne)(0,zr.KJ)(i.interactiveCanvas,r.oc.AUTO);else if(i.state.selectedLinearElement)i.handleHoverSelectedLinearElement(i.state.selectedLinearElement,it,ct);else if(O[I.tW.CTRL_OR_CMD])(0,zr.KJ)(i.interactiveCanvas,r.oc.AUTO);else{var Po;(io||i.isHittingCommonBoundingBoxOfSelectedElements(nt,ro))&&(io==null||!io.locked)&&(io&&(0,ee.gs)(io)&&i.isEmbeddableCenter(io,O,it,ct)?((0,zr.KJ)(i.interactiveCanvas,r.oc.POINTER),i.setState({activeEmbeddable:{element:io,state:"hover"}})):((0,zr.KJ)(i.interactiveCanvas,r.oc.MOVE),((Po=i.state.activeEmbeddable)===null||Po===void 0?void 0:Po.state)==="hover"&&i.setState({activeEmbeddable:null})))}}}},this.handleEraser=function(O,W,oe){for(var xe=function(kt){kt.forEach(function(Ot){Ot.locked||(se.push(Ot.id),O.altKey?W.elementIdsToErase[Ot.id]&&W.elementIdsToErase[Ot.id].erase&&(W.elementIdsToErase[Ot.id].erase=!1):W.elementIdsToErase[Ot.id]||(W.elementIdsToErase[Ot.id]={erase:!0,opacity:Ot.opacity}))})},se=[],K=(0,be.LW)(W.lastCoords.x,W.lastCoords.y,oe.x,oe.y),ne=10/i.state.zoom.value,Ie=ar({},W.lastCoords),Ne=0;Ne<=K&&(xe(i.getElementsAtPosition(Ie.x,Ie.y)),Ne!==K);){var Be=(Ne=Math.min(Ne+ne,K))/K,nt=(1-Be)*Ie.x+Be*oe.x,it=(1-Be)*Ie.y+Be*oe.y;Ie.x=nt,Ie.y=it}var ct=i.scene.getElementsIncludingDeleted().map(function(kt){var Ot=(0,ee.Xh)(kt)&&se.includes(kt.containerId)?kt.containerId:kt.id;if(se.includes(Ot)){if(!O.altKey)return(0,P.BE)(kt,{opacity:r.xY});if(W.elementIdsToErase[Ot]&&W.elementIdsToErase[Ot].erase===!1)return(0,P.BE)(kt,{opacity:W.elementIdsToErase[Ot].opacity})}return kt});i.scene.replaceAllElements(ct),W.lastCoords.x=oe.x,W.lastCoords.y=oe.y},this.handleTouchMove=function(O){va=!0},this.handleCanvasPointerDown=function(O){var W,oe;if(i.state.contextMenu&&i.setState({contextMenu:null}),i.state.snapLines&&i.setAppState({snapLines:[]}),i.updateGestureOnPointerDown(O),O.pointerType==="touch"&&i.state.draggingElement&&i.state.draggingElement.type==="freedraw"){var xe=i.state.draggingElement;i.updateScene(ar(ar({},xe.points.length<10?{elements:i.scene.getElementsIncludingDeleted().filter(function(Wt){return Wt.id!==xe.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,Kr.Oh)(Object.keys(i.state.selectedElementIds).filter(function(Wt){return Wt!==xe.id}).reduce(function(Wt,tn){return Wt[tn]=i.state.selectedElementIds[tn],Wt},{}),i.state)}}))}else{var se=document.getSelection();if(se!=null&&se.anchorNode&&se.removeAllRanges(),i.maybeOpenContextMenuAfterPointerDownOnTouchDevices(O),i.maybeCleanupAfterMissingPointerUp(O),i.state.penDetected||O.pointerType!=="pen"||i.setState(function(Wt){return{penMode:!0,penDetected:!0}}),!i.device.isTouchScreen&&["pen","touch"].includes(O.pointerType)&&(i.device=(0,f.v4)(i.device,{isTouchScreen:!0})),!(El||(i.lastPointerDownEvent=O,i.handleCanvasPanUsingWheelOrSpaceDrag(O)||(i.setState({lastPointerDownWith:O.pointerType,cursorButton:"down"}),i.savePointer(O.clientX,O.clientY,"down"),O.button!==r.Oh.MAIN&&O.button!==r.Oh.TOUCH||To.pointers.size>1)))){var K=i.initialPointerDownState(O);if(i.setState({selectedElementsAreBeingDragged:!1}),!i.handleDraggingScrollBar(O,K)&&(i.clearSelectionIfNotUsingSelection(),i.updateBindingEnabledOnPointerMove(O),!i.handleSelectionOnPointerDown(O,K)&&(!i.state.penMode||O.pointerType!=="touch"||i.state.activeTool.type==="selection"||i.state.activeTool.type==="text"||i.state.activeTool.type==="image")))if(i.state.activeTool.type!=="text"){if(i.state.activeTool.type==="arrow"||i.state.activeTool.type==="line")i.handleLinearElementOnPointerDown(O,i.state.activeTool.type,K);else if(i.state.activeTool.type==="image"){(0,zr.KJ)(i.interactiveCanvas,r.oc.CROSSHAIR);var ne=i.state.pendingImageElementId&&i.scene.getElement(i.state.pendingImageElementId);if(!ne)return;i.setState({draggingElement:ne,editingElement:ne,pendingImageElementId:null,multiElement:null});var Ie=(0,f.dE)(O,i.state),Ne=Ie.x,Be=Ie.y,nt=i.getTopLayerFrameAtSceneCoords({x:Ne,y:Be});(0,P.DR)(ne,{x:Ne,y:Be,frameId:nt?nt.id:null})}else i.state.activeTool.type==="freedraw"?i.handleFreeDrawElementOnPointerDown(O,i.state.activeTool.type,K):i.state.activeTool.type==="custom"?(0,zr.Uk)(i.interactiveCanvas,i.state):i.state.activeTool.type==="frame"?i.createFrameElementOnPointerDown(K):i.state.activeTool.type==="laser"?i.laserPathManager.startPath(K.lastCoords.x,K.lastCoords.y):i.state.activeTool.type!=="eraser"&&i.state.activeTool.type!=="hand"&&i.createGenericElementOnPointerDown(i.state.activeTool.type,K);(W=i.props)===null||W===void 0||(oe=W.onPointerDown)===null||oe===void 0||oe.call(W,i.state.activeTool,K),i.onPointerDownEmitter.trigger(i.state.activeTool,K,O);var it=i.onPointerMoveFromPointerDownHandler(K),ct=i.onPointerUpFromPointerDownHandler(K),kt=i.onKeyDownFromPointerDownHandler(K),Ot=i.onKeyUpFromPointerDownHandler(K);Oo=ct,i.state.viewModeEnabled&&i.state.activeTool.type!=="laser"||(window.addEventListener(r.Ks.POINTER_MOVE,it),window.addEventListener(r.Ks.POINTER_UP,ct),window.addEventListener(r.Ks.KEYDOWN,kt),window.addEventListener(r.Ks.KEYUP,Ot),K.eventListeners.onMove=it,K.eventListeners.onUp=ct,K.eventListeners.onKeyUp=Ot,K.eventListeners.onKeyDown=kt)}else i.handleTextOnPointerDown(O,K)}}},this.handleCanvasPointerUp=function(O){var W,oe;i.removePointer(O),i.lastPointerUpEvent=O;var xe=(0,f.dE)({clientX:O.clientX,clientY:O.clientY},i.state),se=O.timeStamp-((W=(oe=i.lastPointerDownEvent)===null||oe===void 0?void 0:oe.timeStamp)!==null&&W!==void 0?W:0);if(i.device.editor.isMobile&&se<300){var K=i.getElementAtPosition(xe.x,xe.y);if((0,ee.gs)(K)&&i.isEmbeddableCenter(K,O,xe.x,xe.y))return void i.handleEmbeddableCenterClick(K)}if(i.device.isTouchScreen){var ne=i.getElementAtPosition(xe.x,xe.y);i.hitLinkElement=i.getElementLinkAtPosition(xe,ne)}i.hitLinkElement&&!i.state.selectedElementIds[i.hitLinkElement.id]?se<300&&i.hitLinkElement.type==="embeddable"&&!(0,ra.wq)(i.hitLinkElement,i.state,[xe.x,xe.y])?i.handleEmbeddableCenterClick(i.hitLinkElement):i.redirectToLink(O,i.device.isTouchScreen):i.state.viewModeEnabled&&i.setState({activeEmbeddable:null,selectedElementIds:{}})},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(O){O.pointerType==="touch"&&(va=!1,sa?va=!0:sa=window.setTimeout(function(){sa=0,va||i.handleCanvasContextMenu(O)},r.nM))},this.resetContextMenuTimer=function(){clearTimeout(sa),sa=0,va=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(O){if(!(To.pointers.size<=1&&(O.button===r.Oh.WHEEL||O.button===r.Oh.MAIN&&Ba||(0,C.l$)(i.state)||i.state.viewModeEnabled))||(0,ce.iB)(i.state.editingElement))return!1;El=!0,O.preventDefault();var W=!1,oe=/Linux/.test(window.navigator.platform);(0,zr.KJ)(i.interactiveCanvas,r.oc.GRABBING);var xe=O.clientX,se=O.clientY,K=(0,f.$9)(function(Ie){var Ne=xe-Ie.clientX,Be=se-Ie.clientY;if(xe=Ie.clientX,se=Ie.clientY,oe&&!W&&(Math.abs(Ne)>1||Math.abs(Be)>1)){W=!0;var nt=function it(ct){document.body.removeEventListener(r.Ks.PASTE,it),ct.stopPropagation()};document.body.addEventListener(r.Ks.PASTE,nt),window.addEventListener(r.Ks.POINTER_UP,function it(){setTimeout(function(){document.body.removeEventListener(r.Ks.PASTE,nt),window.removeEventListener(r.Ks.POINTER_UP,it)},100)})}i.translateCanvas({scrollX:i.state.scrollX-Ne/i.state.zoom.value,scrollY:i.state.scrollY-Be/i.state.zoom.value})}),ne=(0,f.tH)(Oo=function(){Oo=null,El=!1,Ba||(i.state.viewModeEnabled?(0,zr.KJ)(i.interactiveCanvas,r.oc.GRAB):(0,zr.Uk)(i.interactiveCanvas,i.state)),i.setState({cursorButton:"up"}),i.savePointer(O.clientX,O.clientY,"up"),window.removeEventListener(r.Ks.POINTER_MOVE,K),window.removeEventListener(r.Ks.POINTER_UP,ne),window.removeEventListener(r.Ks.BLUR,ne),K.flush()});return window.addEventListener(r.Ks.BLUR,ne),window.addEventListener(r.Ks.POINTER_MOVE,K,{passive:!0}),window.addEventListener(r.Ks.POINTER_UP,ne),!0},this.clearSelectionIfNotUsingSelection=function(){i.state.activeTool.type!=="selection"&&i.setState({selectedElementIds:(0,Kr.Oh)({},i.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})},this.handleSelectionOnPointerDown=function(O,W){if(i.state.activeTool.type==="selection"){var oe=i.scene.getNonDeletedElements(),xe=i.scene.getSelectedElements(i.state);if(xe.length!==1||i.state.editingLinearElement)xe.length>1&&(W.resize.handleType=(0,ce.n2)((0,ce.KP)(xe),W.origin.x,W.origin.y,i.state.zoom,O.pointerType));else{var se=(0,ce.jt)(oe,i.state,W.origin.x,W.origin.y,i.state.zoom,O.pointerType);se!=null&&(i.setState({resizingElement:se.element}),W.resize.handleType=se.transformHandleType)}if(W.resize.handleType)W.resize.isResizing=!0,W.resize.offset=(0,f.AK)((0,ce.xx)(W.resize.handleType,xe,W.origin.x,W.origin.y)),xe.length===1&&(0,ee.bt)(xe[0])&&xe[0].points.length===2&&(W.resize.arrowDirection=(0,ce.T)(W.resize.handleType,xe[0]));else{var K;if(i.state.selectedLinearElement){var ne=i.state.editingLinearElement||i.state.selectedLinearElement,Ie=de._.handlePointerDown(O,i.state,i.history,W.origin,ne);if(Ie.hitElement&&(W.hit.element=Ie.hitElement),Ie.linearElementEditor&&(i.setState({selectedLinearElement:Ie.linearElementEditor}),i.state.editingLinearElement&&i.setState({editingLinearElement:Ie.linearElementEditor})),Ie.didAddPoint)return!0}if(W.hit.element=(K=W.hit.element)!==null&&K!==void 0?K:i.getElementAtPosition(W.origin.x,W.origin.y),W.hit.element&&i.getElementLinkAtPosition({x:W.origin.x,y:W.origin.y},W.hit.element))return!1;W.hit.allHitElements=i.getElementsAtPosition(W.origin.x,W.origin.y);var Ne=W.hit.element,Be=W.hit.allHitElements.some(function(nt){return i.isASelectedElement(nt)});if(Ne!==null&&Be||O.shiftKey||W.hit.hasHitCommonBoundingBoxOfSelectedElements||i.clearSelection(Ne),i.state.editingLinearElement)i.setState({selectedElementIds:(0,Kr.Oh)((0,x.Z)({},i.state.editingLinearElement.elementId,!0),i.state)});else if(Ne!=null){if(O[I.tW.CTRL_OR_CMD])return i.state.selectedElementIds[Ne.id]||(W.hit.wasAddedToSelection=!0),i.setState(function(nt){return ar(ar({},(0,Ke.iE)(nt,Ne)),{},{previousSelectedElementIds:i.state.selectedElementIds})}),!1;i.state.selectedElementIds[Ne.id]||(i.state.editingGroupId&&!(0,Ke.Nd)(Ne,i.state.editingGroupId)&&i.setState({selectedElementIds:(0,Kr.Oh)({},i.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),Be||W.hit.hasHitCommonBoundingBoxOfSelectedElements||(i.setState(function(nt){var it=ar(ar({},nt.selectedElementIds),{},(0,x.Z)({},Ne.id,!0)),ct=[];if(Object.keys(nt.selectedElementIds).forEach(function(Wt){var tn=i.scene.getElement(Wt);tn&&ct.push(tn)}),Ne.type==="frame")(0,wr.zD)(ct,Ne.id).forEach(function(Wt){delete it[Wt.id]});else if(Ne.frameId)it[Ne.frameId]&&delete it[Ne.id];else{var kt=Ne.groupIds,Ot=new Set(kt.flatMap(function(Wt){return(0,Ke.Fb)(i.scene.getNonDeletedElements(),Wt)}).filter(function(Wt){return Wt.type==="frame"}).map(function(Wt){return Wt.id}));Ot.size>0&&ct.forEach(function(Wt){Wt.frameId&&Ot.has(Wt.frameId)&&(delete it[Wt.id],Wt.groupIds.flatMap(function(tn){return(0,Ke.Fb)(i.scene.getNonDeletedElements(),tn)}).forEach(function(tn){delete it[tn.id]}))})}return ar(ar({},(0,Ke.bO)({editingGroupId:nt.editingGroupId,selectedElementIds:it},i.scene.getNonDeletedElements(),nt,i)),{},{showHyperlinkPopup:!(!Ne.link&&!(0,ee.gs)(Ne))&&"info"})}),W.hit.wasAddedToSelection=!0))}i.setState({previousSelectedElementIds:i.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(O,W){if(!(0,ce.iB)(i.state.editingElement)){var oe=W.origin.x,xe=W.origin.y,se=i.getElementAtPosition(oe,xe,{includeBoundTextElement:!0}),K=(0,jt.OW)(i.scene.getNonDeletedElements(),i.state,oe,xe);(0,ee.Xo)(se)&&(K=se,oe=se.x+se.width/2,xe=se.y+se.height/2),i.startTextEditing({sceneX:oe,sceneY:xe,insertAtParentCenter:!O.altKey,container:K}),(0,zr.z8)(i.interactiveCanvas),i.state.activeTool.locked||i.setState({activeTool:(0,f.Om)(i.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(O,W,oe){var xe=(0,be.wC)(oe.origin.x,oe.origin.y,null),se=(0,g.Z)(xe,2),K=se[0],ne=se[1],Ie=i.getTopLayerFrameAtSceneCoords({x:K,y:ne}),Ne=(0,J.KE)({type:W,x:K,y:ne,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity,roundness:null,simulatePressure:O.pressure===.5,locked:!1,frameId:Ie?Ie.id:null});i.setState(function(it){var ct=ar({},it.selectedElementIds);return delete ct[Ne.id],{selectedElementIds:(0,Kr.Oh)(ct,it)}});var Be=Ne.simulatePressure?Ne.pressures:[].concat((0,p.Z)(Ne.pressures),[O.pressure]);(0,P.DR)(Ne,{points:[[0,0]],pressures:Be});var nt=(0,w.Y9)(oe.origin,i.scene);i.scene.addNewElement(Ne),i.setState({draggingElement:Ne,editingElement:Ne,startBoundElement:nt,suggestedBindings:[]})},this.insertEmbeddableElement=function(O){var W,oe=O.sceneX,xe=O.sceneY,se=O.link,K=(0,be.wC)(oe,xe,(W=i.lastPointerDownEvent)!==null&&W!==void 0&&W[I.tW.CTRL_OR_CMD]?null:i.state.gridSize),ne=(0,g.Z)(K,2),Ie=ne[0],Ne=ne[1],Be=(0,M.LM)(se);if(Be){Be.warning&&i.setToast({message:Be.warning,closable:!0});var nt=(0,J.M)({type:"embeddable",x:Ie,y:Ne,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,roundness:i.getCurrentItemRoundness("embeddable"),opacity:i.state.currentItemOpacity,locked:!1,width:Be.aspectRatio.w,height:Be.aspectRatio.h,link:se,validated:null});return i.scene.replaceAllElements([].concat((0,p.Z)(i.scene.getElementsIncludingDeleted()),[nt])),nt}},this.createImageElement=function(O){var W,oe=O.sceneX,xe=O.sceneY,se=O.addToFrameUnderCursor,K=se===void 0||se,ne=(0,be.wC)(oe,xe,(W=i.lastPointerDownEvent)!==null&&W!==void 0&&W[I.tW.CTRL_OR_CMD]?null:i.state.gridSize),Ie=(0,g.Z)(ne,2),Ne=Ie[0],Be=Ie[1],nt=K?i.getTopLayerFrameAtSceneCoords({x:Ne,y:Be}):null;return(0,ce.vw)({type:"image",x:Ne,y:Be,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,roundness:null,opacity:i.state.currentItemOpacity,locked:!1,frameId:nt?nt.id:null})},this.handleLinearElementOnPointerDown=function(O,W,oe){if(i.state.multiElement){var xe=i.state.multiElement;if(xe.type==="line"&&(0,be.g6)(xe.points,i.state.zoom.value))return(0,P.DR)(xe,{lastCommittedPoint:xe.points[xe.points.length-1]}),void i.actionManager.executeAction($.pL);var se=xe.x,K=xe.y,ne=xe.lastCommittedPoint;if(xe.points.length>1&&ne&&(0,be.LW)(oe.origin.x-se,oe.origin.y-K,ne[0],ne[1])<r.qx)return void i.actionManager.executeAction($.pL);i.setState(function(vn){return{selectedElementIds:(0,Kr.Oh)(ar(ar({},vn.selectedElementIds),{},(0,x.Z)({},xe.id,!0)),vn)}}),(0,P.DR)(xe,{lastCommittedPoint:xe.points[xe.points.length-1]}),(0,zr.KJ)(i.interactiveCanvas,r.oc.POINTER)}else{var Ie=(0,be.wC)(oe.origin.x,oe.origin.y,O[I.tW.CTRL_OR_CMD]?null:i.state.gridSize),Ne=(0,g.Z)(Ie,2),Be=Ne[0],nt=Ne[1],it=i.getTopLayerFrameAtSceneCoords({x:Be,y:nt}),ct=i.state,kt=ct.currentItemStartArrowhead,Ot=ct.currentItemEndArrowhead,Wt=W==="arrow"?[kt,Ot]:[null,null],tn=(0,g.Z)(Wt,2),Rt=tn[0],Lt=tn[1],Ut=(0,ce.y8)({type:W,x:Be,y:nt,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity,roundness:i.state.currentItemRoundness==="round"?{type:r.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:Rt,endArrowhead:Lt,locked:!1,frameId:it?it.id:null});i.setState(function(vn){var cn=ar({},vn.selectedElementIds);return delete cn[Ut.id],{selectedElementIds:(0,Kr.Oh)(cn,vn)}}),(0,P.DR)(Ut,{points:[].concat((0,p.Z)(Ut.points),[[0,0]])});var on=(0,w.Y9)(oe.origin,i.scene);i.scene.addNewElement(Ut),i.setState({draggingElement:Ut,editingElement:Ut,startBoundElement:on,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(O,W){var oe,xe,se=(0,be.wC)(W.origin.x,W.origin.y,(oe=i.lastPointerDownEvent)!==null&&oe!==void 0&&oe[I.tW.CTRL_OR_CMD]?null:i.state.gridSize),K=(0,g.Z)(se,2),ne=K[0],Ie=K[1],Ne=i.getTopLayerFrameAtSceneCoords({x:ne,y:Ie}),Be={x:ne,y:Ie,strokeColor:i.state.currentItemStrokeColor,backgroundColor:i.state.currentItemBackgroundColor,fillStyle:i.state.currentItemFillStyle,strokeWidth:i.state.currentItemStrokeWidth,strokeStyle:i.state.currentItemStrokeStyle,roughness:i.state.currentItemRoughness,opacity:i.state.currentItemOpacity,roundness:i.getCurrentItemRoundness(O),locked:!1,frameId:Ne?Ne.id:null};(xe=O==="embeddable"?(0,J.M)(ar({type:"embeddable",validated:null},Be)):(0,ce.Up)(ar({type:O},Be))).type==="selection"?i.setState({selectionElement:xe,draggingElement:xe}):(i.scene.addNewElement(xe),i.setState({multiElement:null,draggingElement:xe,editingElement:xe}))},this.createFrameElementOnPointerDown=function(O){var W,oe=(0,be.wC)(O.origin.x,O.origin.y,(W=i.lastPointerDownEvent)!==null&&W!==void 0&&W[I.tW.CTRL_OR_CMD]?null:i.state.gridSize),xe=(0,g.Z)(oe,2),se=xe[0],K=xe[1],ne=(0,J.M3)(ar({x:se,y:K,opacity:i.state.currentItemOpacity,locked:!1},r.iG));i.scene.replaceAllElements([].concat((0,p.Z)(i.scene.getElementsIncludingDeleted()),[ne])),i.setState({multiElement:null,draggingElement:ne,editingElement:ne})},this.restoreReadyToEraseElements=function(O){var W=i.scene.getElementsIncludingDeleted().map(function(oe){return O.elementIdsToErase[oe.id]&&O.elementIdsToErase[oe.id].erase?(0,P.BE)(oe,{opacity:O.elementIdsToErase[oe.id].opacity}):(0,ee.Xh)(oe)&&O.elementIdsToErase[oe.containerId]&&O.elementIdsToErase[oe.containerId].erase?(0,P.BE)(oe,{opacity:O.elementIdsToErase[oe.containerId].opacity}):oe.frameId&&O.elementIdsToErase[oe.frameId]&&O.elementIdsToErase[oe.frameId].erase?(0,P.BE)(oe,{opacity:O.elementIdsToErase[oe.frameId].opacity}):oe});i.scene.replaceAllElements(W)},this.eraseElements=function(O){var W=i.scene.getElementsIncludingDeleted().map(function(oe){return O.elementIdsToErase[oe.id]&&O.elementIdsToErase[oe.id].erase||(0,ee.Xh)(oe)&&O.elementIdsToErase[oe.containerId]&&O.elementIdsToErase[oe.containerId].erase||oe.frameId&&O.elementIdsToErase[oe.frameId]&&O.elementIdsToErase[oe.frameId].erase?(0,P.BE)(oe,{isDeleted:!0}):oe});i.history.resumeRecording(),i.scene.replaceAllElements(W)},this.initializeImage=function(){var O=(0,y.Z)(k().mark(function W(oe){var xe,se,K,ne,Ie,Ne,Be,nt,it,ct,kt,Ot,Wt,tn,Rt;return k().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:if(ne=oe.imageFile,Ie=oe.imageElement,Ne=oe.showCursorImagePreview,Be=Ne!==void 0&&Ne,(0,kn.Wr)(ne)){Lt.next=3;break}throw new Error((0,F.t)("errors.unsupportedFileType"));case 3:if(nt=ne.type,(0,zr.KJ)(i.interactiveCanvas,"wait"),nt!==r.LO.svg){Lt.next=23;break}return Lt.prev=6,Lt.t0=kn.Pn,Lt.t1=il.bp,Lt.next=11,ne.text();case 11:return Lt.t2=Lt.sent,Lt.next=14,(0,Lt.t1)(Lt.t2);case 14:Lt.t3=Lt.sent,Lt.t4=ne.name,ne=(0,Lt.t0)(Lt.t3,Lt.t4),Lt.next=23;break;case 19:throw Lt.prev=19,Lt.t5=Lt.catch(6),console.warn(Lt.t5),new Error((0,F.t)("errors.svgImageInsertError"));case 23:return Lt.next=25,((xe=(se=i.props).generateIdForFile)===null||xe===void 0?void 0:xe.call(se,ne))||(0,kn.tW)(ne);case 25:if(it=Lt.sent){Lt.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,F.t)("errors.imageInsertError"));case 29:if((ct=i.files[it])!=null&&ct.dataURL){Lt.next=42;break}return Lt.prev=31,Lt.next=34,(0,kn.Tu)(ne,{maxWidthOrHeight:r.h6});case 34:ne=Lt.sent,Lt.next=40;break;case 37:Lt.prev=37,Lt.t6=Lt.catch(31),console.error("error trying to resing image file on insertion",Lt.t6);case 40:if(!(ne.size>r.$n)){Lt.next=42;break}throw new Error((0,F.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(r.$n/1024/1024),"MB")}));case 42:if(Be&&(Ot=(kt=i.files[it])===null||kt===void 0?void 0:kt.dataURL,Wt=Ot&&(0,kn.KG)(Ot),i.setImagePreviewCursor(Wt||ne)),Lt.t7=(K=i.files[it])===null||K===void 0?void 0:K.dataURL,Lt.t7){Lt.next=48;break}return Lt.next=47,(0,kn.Sf)(ne);case 47:Lt.t7=Lt.sent;case 48:return tn=Lt.t7,Rt=(0,P.DR)(Ie,{fileId:it},!1),Lt.abrupt("return",new Promise(function(){var Ut=(0,y.Z)(k().mark(function on(vn,cn){var nn,_n;return k().wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:if(Xn.prev=0,i.files=ar(ar({},i.files),{},(0,x.Z)({},it,{mimeType:nt,id:it,dataURL:tn,created:Date.now(),lastRetrieved:Date.now()})),_n=i.imageCache.get(it)){Xn.next=7;break}return i.addNewImagesToImageCache(),Xn.next=7,i.updateImageCache([Rt]);case 7:if(!(_n?.image instanceof Promise)){Xn.next=10;break}return Xn.next=10,_n.image;case 10:i.state.pendingImageElementId!==Rt.id&&((nn=i.state.draggingElement)===null||nn===void 0?void 0:nn.id)!==Rt.id&&i.initializeImageDimensions(Rt,!0),vn(Rt),Xn.next=18;break;case 14:Xn.prev=14,Xn.t0=Xn.catch(0),console.error(Xn.t0),cn(new Error((0,F.t)("errors.imageInsertError")));case 18:return Xn.prev=18,Be||(0,zr.z8)(i.interactiveCanvas),Xn.finish(18);case 21:case"end":return Xn.stop()}},on,null,[[0,14,18,21]])}));return function(on,vn){return Ut.apply(this,arguments)}}()));case 51:case"end":return Lt.stop()}},W,null,[[6,19],[31,37]])}));return function(W){return O.apply(this,arguments)}}(),this.insertImageElement=function(){var O=(0,y.Z)(k().mark(function W(oe,xe,se){return k().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(i.isToolSupported("image")){K.next=3;break}return i.setState({errorMessage:(0,F.t)("errors.imageToolNotSupported")}),K.abrupt("return");case 3:return i.scene.addNewElement(oe),K.prev=4,K.next=7,i.initializeImage({imageFile:xe,imageElement:oe,showCursorImagePreview:se});case 7:return K.abrupt("return",K.sent);case 10:return K.prev=10,K.t0=K.catch(4),(0,P.DR)(oe,{isDeleted:!0}),i.actionManager.executeAction($.pL),i.setState({errorMessage:K.t0.message||(0,F.t)("errors.imageInsertError")}),K.abrupt("return",null);case 16:case"end":return K.stop()}},W,null,[[4,10]])}));return function(W,oe,xe){return O.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var O=(0,y.Z)(k().mark(function W(oe){var xe,se,K,ne,Ie,Ne,Be;return k().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return xe=96,nt.next=3,(0,kn.Tu)(oe,{maxWidthOrHeight:xe});case 3:return se=nt.sent,nt.next=6,(0,kn.Sf)(se);case 6:if(K=nt.sent,oe.type!==r.LO.svg){nt.next=20;break}return nt.next=10,(0,il.PK)(K);case 10:ne=nt.sent,Ie=Math.min(ne.height,xe),(Ne=Ie*(ne.width/ne.height))>xe&&(Ie=(Ne=xe)*(ne.height/ne.width)),(Be=document.createElement("canvas")).height=Ie,Be.width=Ne,Be.getContext("2d").drawImage(ne,0,0,Ne,Ie),K=Be.toDataURL(r.LO.svg);case 20:i.state.pendingImageElementId&&(0,zr.KJ)(i.interactiveCanvas,"url(".concat(K,") 4 4, auto"));case 21:case"end":return nt.stop()}},W)}));return function(W){return O.apply(this,arguments)}}(),this.onImageAction=function(){var O=(0,y.Z)(k().mark(function W(oe){var xe,se,K,ne,Ie,Ne,Be,nt;return k().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return xe=oe.insertOnCanvasDirectly,it.prev=1,se=i.state.width/2+i.state.offsetLeft,K=i.state.height/2+i.state.offsetTop,ne=(0,f.dE)({clientX:se,clientY:K},i.state),Ie=ne.x,Ne=ne.y,it.next=7,(0,Tn.I$)({description:"Image",extensions:Object.keys(r.KL)});case 7:Be=it.sent,nt=i.createImageElement({sceneX:Ie,sceneY:Ne,addToFrameUnderCursor:!1}),xe?(i.insertImageElement(nt,Be),i.initializeImageDimensions(nt),i.setState({selectedElementIds:(0,Kr.Oh)((0,x.Z)({},nt.id,!0),i.state)},function(){i.actionManager.executeAction($.pL)})):i.setState({pendingImageElementId:nt.id},function(){i.insertImageElement(nt,Be,!0)}),it.next=16;break;case 12:it.prev=12,it.t0=it.catch(1),it.t0.name!=="AbortError"?console.error(it.t0):console.warn(it.t0),i.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,f.Om)(i.state,{type:"selection"})},function(){i.actionManager.executeAction($.pL)});case 16:case"end":return it.stop()}},W,null,[[1,12]])}));return function(W){return O.apply(this,arguments)}}(),this.initializeImageDimensions=function(O){var W,oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],xe=(0,ee.wi)(O)&&((W=i.imageCache.get(O.fileId))===null||W===void 0?void 0:W.image);if(!xe||xe instanceof Promise){if(O.width<r.f/i.state.zoom.value&&O.height<r.f/i.state.zoom.value){var se=100/i.state.zoom.value;(0,P.DR)(O,{x:O.x-se/2,y:O.y-se/2,width:se,height:se})}}else if(oe||O.width<r.f/i.state.zoom.value&&O.height<r.f/i.state.zoom.value){var K=Math.max(i.state.height-120,160),ne=Math.min(K,Math.floor(.5*i.state.height)/i.state.zoom.value),Ie=Math.min(xe.naturalHeight,ne),Ne=Ie*(xe.naturalWidth/xe.naturalHeight),Be=O.x+O.width/2-Ne/2,nt=O.y+O.height/2-Ie/2;(0,P.DR)(O,{x:Be,y:nt,width:Ne,height:Ie})}},this.updateImageCache=function(){var O=(0,y.Z)(k().mark(function W(oe){var xe,se,K,ne,Ie,Ne,Be,nt=arguments;return k().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return xe=nt.length>1&&nt[1]!==void 0?nt[1]:i.files,it.next=3,(0,il.Xx)({imageCache:i.imageCache,fileIds:oe.map(function(ct){return ct.fileId}),files:xe});case 3:if(se=it.sent,K=se.updatedFiles,ne=se.erroredFiles,K.size||ne.size){Ie=Ai(oe);try{for(Ie.s();!(Ne=Ie.n()).done;)Be=Ne.value,K.has(Be.fileId)&&pa.R.delete(Be)}catch(ct){Ie.e(ct)}finally{Ie.f()}}return ne.size&&i.scene.replaceAllElements(i.scene.getElementsIncludingDeleted().map(function(ct){return(0,ee.wi)(ct)&&ne.has(ct.fileId)?(0,P.BE)(ct,{status:"error"}):ct})),it.abrupt("return",{updatedFiles:K,erroredFiles:ne});case 9:case"end":return it.stop()}},W)}));return function(W){return O.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,y.Z)(k().mark(function O(){var W,oe,xe,se,K=arguments;return k().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(W=K.length>0&&K[0]!==void 0?K[0]:(0,il.oA)(i.scene.getNonDeletedElements()),oe=K.length>1&&K[1]!==void 0?K[1]:i.files,!(xe=W.filter(function(Ie){return!Ie.isDeleted&&!i.imageCache.has(Ie.fileId)})).length){ne.next=9;break}return ne.next=6,i.updateImageCache(xe,oe);case 6:se=ne.sent,se.updatedFiles.size&&i.scene.informMutation();case 9:case"end":return ne.stop()}},O)})),this.scheduleImageRefresh=$l()(function(){i.addNewImagesToImageCache()},r.LL),this.updateBindingEnabledOnPointerMove=function(O){var W=(0,w.cz)(O);i.state.isBindingEnabled!==W&&i.setState({isBindingEnabled:W})},this.maybeSuggestBindingAtCursor=function(O){var W=(0,w.Y9)(O,i.scene);i.setState({suggestedBindings:W!=null?[W]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(O,W,oe){if(W.length){var xe=W.reduce(function(se,K){var ne=(0,w.Y9)(K,i.scene);return ne==null||(0,w.DK)(O,oe?.id,ne)||se.push(ne),se},[]);i.setState({suggestedBindings:xe})}},this.handleInteractiveCanvasRef=function(O){var W,oe,xe;O!==null?(i.interactiveCanvas=O,i.interactiveCanvas.addEventListener(r.Ks.WHEEL,i.handleWheel),i.interactiveCanvas.addEventListener(r.Ks.TOUCH_START,i.onTouchStart),i.interactiveCanvas.addEventListener(r.Ks.TOUCH_END,i.onTouchEnd)):((W=i.interactiveCanvas)===null||W===void 0||W.removeEventListener(r.Ks.WHEEL,i.handleWheel),(oe=i.interactiveCanvas)===null||oe===void 0||oe.removeEventListener(r.Ks.TOUCH_START,i.onTouchStart),(xe=i.interactiveCanvas)===null||xe===void 0||xe.removeEventListener(r.Ks.TOUCH_END,i.onTouchEnd))},this.handleAppOnDrop=function(){var O=(0,y.Z)(k().mark(function W(oe){var xe,se,K,ne,Ie,Ne,Be,nt,it,ct,kt,Ot,Wt,tn,Rt,Lt;return k().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return Ut.next=2,(0,kn.bv)(oe);case 2:if(K=Ut.sent,ne=K.file,Ie=K.fileHandle,Ne=(0,f.dE)(oe,i.state),Be=Ne.x,nt=Ne.y,Ut.prev=6,!(0,kn.Wr)(ne)||!i.isToolSupported("image")){Ut.next=26;break}if(ne?.type!==r.LO.png&&ne?.type!==r.LO.svg){Ut.next=21;break}return Ut.prev=9,Ut.next=12,(0,Y.cT)(ne,i.state,i.scene.getElementsIncludingDeleted(),Ie);case 12:return it=Ut.sent,i.syncActionResult(ar(ar({},it),{},{appState:ar(ar({},it.appState||i.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Ut.abrupt("return");case 17:if(Ut.prev=17,Ut.t0=Ut.catch(9),Ut.t0.name==="EncodingError"){Ut.next=21;break}throw Ut.t0;case 21:return ct=i.createImageElement({sceneX:Be,sceneY:nt}),i.insertImageElement(ct,ne),i.initializeImageDimensions(ct),i.setState({selectedElementIds:(0,Kr.Oh)((0,x.Z)({},ct.id,!0),i.state)}),Ut.abrupt("return");case 26:Ut.next=31;break;case 28:return Ut.prev=28,Ut.t1=Ut.catch(6),Ut.abrupt("return",i.setState({isLoading:!1,errorMessage:Ut.t1.message}));case 31:if(!(kt=oe.dataTransfer.getData(r.LO.excalidrawlib))||typeof kt!="string"){Ut.next=35;break}try{Ot=(0,kn.wf)(kt),i.addElementsFromPasteOrLibrary({elements:(0,ie.WV)(Ot),position:oe,files:null})}catch(on){i.setState({errorMessage:on.message})}return Ut.abrupt("return");case 35:if(!ne){Ut.next=38;break}return Ut.next=38,i.loadFileToCanvas(ne,Ie);case 38:(xe=oe.dataTransfer)!==null&&xe!==void 0&&(se=xe.types)!==null&&se!==void 0&&se.includes("text/plain")&&(Rt=(Wt=oe.dataTransfer)===null||Wt===void 0?void 0:Wt.getData("text"))&&(0,M.xm)(Rt,i.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(Rt)||((tn=(0,M.LM)(Rt))===null||tn===void 0?void 0:tn.type)==="video")&&(Lt=i.insertEmbeddableElement({sceneX:Be,sceneY:nt,link:(0,la.$u)(Rt)}))&&i.setState({selectedElementIds:(0,x.Z)({},Lt.id,!0)});case 39:case"end":return Ut.stop()}},W,null,[[6,28],[9,17]])}));return function(W){return O.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var O=(0,y.Z)(k().mark(function W(oe,xe){var se;return k().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,kn.gY)(oe);case 2:return oe=K.sent,K.prev=3,K.next=6,(0,kn.ZY)(oe,i.state,i.scene.getElementsIncludingDeleted(),xe);case 6:if((se=K.sent).type!==r.LO.excalidraw){K.next=12;break}i.setState({isLoading:!0}),i.syncActionResult(ar(ar({},se.data),{},{appState:ar(ar({},se.data.appState||i.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),K.next=15;break;case 12:if(se.type!==r.LO.excalidrawlib){K.next=15;break}return K.next=15,i.library.updateLibrary({libraryItems:oe,merge:!0,openLibraryMenu:!0}).catch(function(ne){console.error(ne),i.setState({errorMessage:(0,F.t)("errors.importLibraryError")})});case 15:K.next=23;break;case 17:if(K.prev=17,K.t0=K.catch(3),!(K.t0 instanceof al.jk&&K.t0.code==="IMAGE_NOT_CONTAINS_SCENE_DATA")||i.isToolSupported("image")){K.next=22;break}return i.setState({isLoading:!1,errorMessage:(0,F.t)("errors.imageToolNotSupported")}),K.abrupt("return");case 22:i.setState({isLoading:!1,errorMessage:K.t0.message});case 23:case"end":return K.stop()}},W,null,[[3,17]])}));return function(W,oe){return O.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(O){if(O.preventDefault(),!("pointerType"in O.nativeEvent&&O.nativeEvent.pointerType==="touch"||"pointerType"in O.nativeEvent&&O.nativeEvent.pointerType==="pen"&&O.button!==r.Oh.SECONDARY)||i.state.activeTool.type==="selection"){var W=(0,f.dE)(O,i.state),oe=W.x,xe=W.y,se=i.getElementAtPosition(oe,xe,{preferSelected:!0,includeLockedElements:!0}),K=i.scene.getSelectedElements(i.state),ne=i.isHittingCommonBoundingBoxOfSelectedElements({x:oe,y:xe},K),Ie=se||ne?"element":"canvas",Ne=i.excalidrawContainerRef.current.getBoundingClientRect(),Be=Ne.top,nt=Ne.left,it=O.clientX-nt,ct=O.clientY-Be;(0,S.L)("contextMenu","openContextMenu",Ie),i.setState(ar(ar({},se&&!i.state.selectedElementIds[se.id]?ar(ar(ar({},i.state),(0,Ke.bO)({editingGroupId:i.state.editingGroupId,selectedElementIds:(0,x.Z)({},se.id,!0)},i.scene.getNonDeletedElements(),i.state,i)),{},{selectedLinearElement:(0,ee.bt)(se)?new de._(se,i.scene):null}):i.state),{},{showHyperlinkPopup:!1}),function(){i.setState({contextMenu:{top:ct,left:it,items:i.getContextMenuItems(Ie)}})})}},this.maybeDragNewGenericElement=function(O,W){var oe=i.state.draggingElement,xe=O.lastCoords;if(oe)if(oe.type==="selection"&&i.state.activeTool.type!=="eraser")(0,ce.EJ)(oe,i.state.activeTool.type,O.origin.x,O.origin.y,xe.x,xe.y,(0,f.TE)(O.origin.x,xe.x),(0,f.TE)(O.origin.y,xe.y),(0,I.E0)(W),(0,I.OA)(W));else{var se,K,ne,Ie,Ne,Be=(0,be.wC)(xe.x,xe.y,W[I.tW.CTRL_OR_CMD]?null:i.state.gridSize),nt=(0,g.Z)(Be,2),it=nt[0],ct=nt[1],kt=(0,ee.wi)(oe)&&((se=i.imageCache.get(oe.fileId))===null||se===void 0?void 0:se.image),Ot=!kt||kt instanceof Promise?null:kt.width/kt.height;i.maybeCacheReferenceSnapPoints(W,[oe]);var Wt=function(Lt,Ut,on,vn,cn){var nn,_n,Xn,sr;if(!Bi({event:on,selectedElements:[Lt],appState:Ut}))return{snapOffset:{x:0,y:0},snapLines:[]};var yr=[[vn.x+cn.x,vn.y+cn.y]],Mr=Lo(Ut.zoom.value),Dr={x:Mr,y:Mr},br=[],xr=[];Xe([Lt],yr,Ut,on,br,xr,Dr);var Sr={x:(nn=(_n=br[0])===null||_n===void 0?void 0:_n.offset)!==null&&nn!==void 0?nn:0,y:(Xn=(sr=xr[0])===null||sr===void 0?void 0:sr.offset)!==null&&Xn!==void 0?Xn:0};Dr.x=0,Dr.y=0,br.length=0,xr.length=0;var kr=$a([Lt],{boundingBoxCorners:!0,omitCenter:!0});return Xe([Lt],kr,Ut,on,br,xr,Dr),{snapOffset:Sr,snapLines:bt(br,xr)}}(oe,i.state,W,{x:O.originInGrid.x+((K=(ne=i.state.originSnapOffset)===null||ne===void 0?void 0:ne.x)!==null&&K!==void 0?K:0),y:O.originInGrid.y+((Ie=(Ne=i.state.originSnapOffset)===null||Ne===void 0?void 0:Ne.y)!==null&&Ie!==void 0?Ie:0)},{x:it-O.originInGrid.x,y:ct-O.originInGrid.y}),tn=Wt.snapOffset,Rt=Wt.snapLines;it+=tn.x,ct+=tn.y,i.setState({snapLines:Rt}),(0,ce.EJ)(oe,i.state.activeTool.type,O.originInGrid.x,O.originInGrid.y,it,ct,(0,f.TE)(O.originInGrid.x,it),(0,f.TE)(O.originInGrid.y,ct),(0,ee.pC)(oe)?!(0,I.E0)(W):(0,I.E0)(W),(0,I.OA)(W),Ot,i.state.originSnapOffset),i.maybeSuggestBindingForAll([oe]),i.state.activeTool.type==="frame"&&i.setState({elementsToHighlight:(0,wr.ni)(i.scene.getNonDeletedElements(),oe,i.state)})}},this.maybeHandleResize=function(O,W){var oe=i.scene.getSelectedElements(i.state),xe=oe.filter(function(vn){return vn.type==="frame"}),se=O.resize.handleType;if(xe.length>0&&se==="rotation")return!1;i.setState({isResizing:se&&se!=="rotation",isRotating:se==="rotation",activeEmbeddable:null});var K=O.lastCoords,ne=(0,be.wC)(K.x-O.resize.offset.x,K.y-O.resize.offset.y,W[I.tW.CTRL_OR_CMD]?null:i.state.gridSize),Ie=(0,g.Z)(ne,2),Ne=Ie[0],Be=Ie[1],nt=new Map;if(xe.forEach(function(vn){(0,wr.zD)(i.scene.getNonDeletedElements(),vn.id).forEach(function(cn){nt.set(vn.id+cn.id,{x:cn.x-vn.x,y:cn.y-vn.y})})}),!i.state.selectedElementsAreBeingDragged){var it=(0,be.wC)(K.x,K.y,W[I.tW.CTRL_OR_CMD]?null:i.state.gridSize),ct=(0,g.Z)(it,2),kt=ct[0],Ot=ct[1],Wt={x:kt-O.originInGrid.x,y:Ot-O.originInGrid.y},tn=(0,p.Z)(O.originalElements.values());i.maybeCacheReferenceSnapPoints(W,oe);var Rt=St(oe,(0,ve.eD)(tn,i.state),i.state,W,Wt,se),Lt=Rt.snapOffset,Ut=Rt.snapLines;Ne+=Lt.x,Be+=Lt.y,i.setState({snapLines:Ut})}if((0,ce.vY)(O,se,oe,O.resize.arrowDirection,(0,I.Ge)(W),(0,I.OA)(W),oe.length===1&&(0,ee.pC)(oe[0])?!(0,I.E0)(W):(0,I.E0)(W),Ne,Be,O.resize.center.x,O.resize.center.y,i.state)){i.maybeSuggestBindingForAll(oe);var on=new Set;return xe.forEach(function(vn){var cn=(0,wr.zD)(i.scene.getNonDeletedElements(),vn.id);se&&(se.includes("w")&&cn.forEach(function(nn){var _n,Xn;(0,P.DR)(nn,{x:vn.x+(((_n=nt.get(vn.id+nn.id))===null||_n===void 0?void 0:_n.x)||0),y:vn.y+(((Xn=nt.get(vn.id+nn.id))===null||Xn===void 0?void 0:Xn.y)||0)})}),se.includes("n")&&cn.forEach(function(nn){var _n,Xn;(0,P.DR)(nn,{x:vn.x+(((_n=nt.get(vn.id+nn.id))===null||_n===void 0?void 0:_n.x)||0),y:vn.y+(((Xn=nt.get(vn.id+nn.id))===null||Xn===void 0?void 0:Xn.y)||0)})})),(0,wr.ni)(i.scene.getNonDeletedElements(),vn,i.state).forEach(function(nn){return on.add(nn)})}),i.setState({elementsToHighlight:(0,p.Z)(on)}),!0}return!1},this.getContextMenuItems=function(O){var W=[];return W.push($.jK,$.FA),O==="canvas"?i.state.viewModeEnabled?[].concat(W,[$.Pb,$.JN,Ma,$.u0]):[Vr.yQ,$e,$.jK,$.FA,$.zp,$e,$.Yy,lr.U,$e,$.Pb,$.pm,$.JN,Ma,$.u0]:(W.push($.zp),i.state.viewModeEnabled?[$.uN].concat(W):[$.ZM,$.uN,Vr.yQ,xl,Gl,$e].concat(W,[$e,$.pw,$.W3,$e,$.EQ,$.y7,$.vD,sn.JQ,$.s,$e,$.FL,$e,$.V,$.yA,$.zi,$.BZ,$e,$.jl,$.kt,$e,$.Qs,$.nz,$.xF,$.$h,$e,$.X9]))},this.handleWheel=(0,f.tH)(function(O){if(O.preventDefault(),!El){var W=O.deltaX,oe=O.deltaY;if(O.metaKey||O.ctrlKey){var xe=Math.sign(oe),se=100*r.V4,K=Math.abs(oe),ne=oe;K>se&&(ne=se*xe);var Ie=i.state.zoom.value-ne/100;return Ie+=Math.log10(Math.max(1,i.state.zoom.value))*-xe*Math.min(1,K/20),i.translateCanvas(function(Ne){return ar(ar({},(0,l.E)({viewportX:i.lastViewportPosition.x,viewportY:i.lastViewportPosition.y,nextZoom:(0,ve.j)(Ie)},Ne)),{},{shouldCacheIgnoreZoom:!0})}),void i.resetShouldCacheIgnoreZoomDebounced()}O.shiftKey?i.translateCanvas(function(Ne){var Be=Ne.zoom;return{scrollX:Ne.scrollX-(oe||W)/Be.value}}):i.translateCanvas(function(Ne){var Be=Ne.zoom,nt=Ne.scrollX,it=Ne.scrollY;return{scrollX:nt-W/Be.value,scrollY:it-oe/Be.value}})}}),this.savePointer=function(O,W,oe){var xe,se;if(O&&W){var K=(0,f.dE)({clientX:O,clientY:W},i.state),ne=K.x,Ie=K.y,Ne={x:ne,y:Ie,tool:i.state.activeTool.type==="laser"?"laser":"pointer"};(xe=(se=i.props).onPointerUpdate)===null||xe===void 0||xe.call(se,{pointer:Ne,button:oe,pointersMap:To.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,f.Ds)(function(){i.unmounted||i.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(O){var W;if((W=i.excalidrawContainerRef)!==null&&W!==void 0&&W.current){var oe=i.excalidrawContainerRef.current.getBoundingClientRect(),xe=oe.width,se=oe.height,K=oe.left,ne=oe.top,Ie=i.state,Ne=Ie.width,Be=Ie.height,nt=Ie.offsetTop,it=Ie.offsetLeft;if(xe===Ne&&se===Be&&K===it&&ne===nt)return void(O&&O());i.setState({width:xe,height:se,offsetLeft:K,offsetTop:ne},function(){O&&O()})}},this.refresh=function(){i.setState(ar({},i.getCanvasOffsets()))}};r.Vi.TEST==="production"&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var i;return(i=this.app)===null||i===void 0?void 0:i.scene.getElementsIncludingDeleted()},set:function(i){var O;return(O=this.app)===null||O===void 0?void 0:O.scene.replaceAllElements(i)}}}));var Z=Ns},8806:function(te,t,e){e.d(t,{z:function(){return F}});var _=e(7169),g=e(2726),p=e(45),y=e(9827),T=e(3379),E=e.n(T),a=e(7795),u=e.n(a),N=e(569),H=e.n(N),x=e(3565),m=e.n(x),k=e(9216),Q=e.n(k),ue=e(4589),me=e.n(ue),ye=e(3137),fe={};fe.styleTagTransform=me(),fe.setAttributes=m(),fe.insert=H().bind(null,"head"),fe.domAPI=u(),fe.insertStyleElement=Q(),E()(ye.Z,fe),ye.Z&&ye.Z.locals&&ye.Z.locals;var G=e(1020),$=["type","onSelect","selected","children","className"];function U(I,P){var w=Object.keys(I);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(I);P&&(f=f.filter(function(r){return Object.getOwnPropertyDescriptor(I,r).enumerable})),w.push.apply(w,f)}return w}function L(I){for(var P=1;P<arguments.length;P++){var w=arguments[P]!=null?arguments[P]:{};P%2?U(Object(w),!0).forEach(function(f){(0,_.Z)(I,f,w[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(w)):U(Object(w)).forEach(function(f){Object.defineProperty(I,f,Object.getOwnPropertyDescriptor(w,f))})}return I}var F=function(I){var P=I.type,w=P===void 0?"button":P,f=I.onSelect,r=I.selected,o=I.children,b=I.className,s=b===void 0?"":b,c=(0,g.Z)(I,$);return(0,G.jsx)("button",L(L({onClick:(0,y.Mj)(c.onClick,function(S){f()}),type:w,className:(0,p.Z)("excalidraw-button",s,{selected:r})},c),{},{children:o}))}},6238:function(te,t,e){e.d(t,{o:function(){return fe}});var _=e(45),g=e(8935),p=e(3379),y=e.n(p),T=e(7795),E=e.n(T),a=e(569),u=e.n(a),N=e(3565),H=e.n(N),x=e(9216),m=e.n(x),k=e(4589),Q=e.n(k),ue=e(6029),me={};me.styleTagTransform=Q(),me.setAttributes=H(),me.insert=u().bind(null,"head"),me.domAPI=E(),me.insertStyleElement=m(),y()(ue.Z,me),ue.Z&&ue.Z.locals&&ue.Z.locals;var ye=e(1020),fe=function(G){var $=G.children,U=G.checked,L=G.onChange,F=G.className;return(0,ye.jsxs)("div",{className:(0,_.Z)("Checkbox",F,{"is-checked":U}),onClick:function(I){L(!U,I),I.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,ye.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":U,children:g.eQ}),(0,ye.jsx)("div",{className:"Checkbox-label",children:$})]})}},193:function(te,t,e){e.d(t,{z:function(){return ot},L:function(){return Bi}});var _=e(2577),g=e(9827),p=e(45),y=e(9240),T=e(1020),E=function(je){var Ve,Xe=je.onChange,rt=je.type,ut=je.activeColor,bt=je.topPicks;return rt==="elementStroke"&&(Ve=y.fY),rt==="elementBackground"&&(Ve=y.eq),rt==="canvasBackground"&&(Ve=y.ay),bt&&(Ve=bt),Ve?(0,T.jsx)("div",{className:"color-picker__top-picks",children:Ve.map(function(mt){return(0,T.jsx)("button",{className:(0,p.Z)("color-picker__button",{active:mt===ut,"is-transparent":mt==="transparent"||!mt}),style:{"--swatch-color":mt},type:"button",title:mt,onClick:function(){return Xe(mt)},"data-testid":"color-top-pick-".concat(mt),children:(0,T.jsx)("div",{className:"color-picker__button-outline"})},mt)})}):(console.error("Invalid type for TopPicks"),null)},a=e(9787),u=e.n(a),N=e(8227),H=e(3607),x=e(1930),m=function(je){for(var Ve=je.palette,Xe=je.color,rt=0,ut=Object.entries(Ve);rt<ut.length;rt++){var bt=(0,_.Z)(ut[rt],2),mt=bt[0],St=bt[1];if(Array.isArray(St)){var sn=St.indexOf(Xe);if(sn>-1)return{colorName:mt,shade:sn}}else if(St===Xe)return{colorName:mt,shade:null}}return null},k=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),Q=function(je){var Ve=je.color,Xe=je.palette;return!Object.values(Xe).flat().includes(Ve)},ue=(0,H.cn)(null),me=function(je,Ve,Xe){return(299*je+587*Ve+114*Xe)/1e3>=160?"black":"white"},ye=function(je,Ve){if(Ve){var Xe=new Option().style;if(Xe.color=je,Xe.color){var rt=Xe.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),ut=parseInt(rt[0]),bt=parseInt(rt[1]),mt=parseInt(rt[2]);return me(ut,bt,mt)}}if(je==="transparent")return"black";var St=parseInt(je.substring(1,3),16),sn=parseInt(je.substring(3,5),16),gn=parseInt(je.substring(5,7),16);return me(St,sn,gn)},fe=function(je){var Ve=je.color,Xe=je.keyLabel,rt=je.isCustomColor,ut=rt!==void 0&&rt,bt=je.isShade,mt=bt!==void 0&&bt;return(0,T.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:ye(Ve,ut)},children:[mt&&"",Xe]})},G=function(je){var Ve=je.hex,Xe=je.onChange,rt=je.palette,ut=m({color:Ve||"transparent",palette:rt}),bt=(0,H.KO)(ue),mt=(0,_.Z)(bt,2),St=mt[0],sn=mt[1],gn=(0,a.useRef)(null);if((0,a.useEffect)(function(){gn.current&&St==="shades"&&gn.current.focus()},[ut,St]),ut){var Qt=ut.colorName,fn=ut.shade,xn=rt[Qt];if(Array.isArray(xn))return(0,T.jsx)("div",{className:"color-picker-content--default shades",children:xn.map(function(En,yn){return(0,T.jsxs)("button",{ref:yn===fn&&St==="shades"?gn:void 0,tabIndex:-1,type:"button",className:(0,p.Z)("color-picker__button color-picker__button--large",{active:yn===fn}),"aria-label":"Shade",title:"".concat(Qt," - ").concat(yn+1),style:En?{"--swatch-color":En}:void 0,onClick:function(){Xe(En),sn("shades")},children:[(0,T.jsx)("div",{className:"color-picker__button-outline"}),(0,T.jsx)(fe,{color:En,keyLabel:yn+1,isShade:!0})]},yn)})})}return(0,T.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,T.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,T.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:(0,N.t)("colorPicker.noShades")})]})},$=function(je){var Ve=je.palette,Xe=je.color,rt=je.onChange,ut=(je.label,je.activeShade),bt=m({color:Xe||"transparent",palette:Ve}),mt=(0,H.KO)(ue),St=(0,_.Z)(mt,2),sn=St[0],gn=St[1],Qt=(0,a.useRef)(null);return(0,a.useEffect)(function(){Qt.current&&sn==="baseColors"&&Qt.current.focus()},[bt?.colorName,sn]),(0,T.jsx)("div",{className:"color-picker-content--default",children:Object.entries(Ve).map(function(fn,xn){var En=(0,_.Z)(fn,2),yn=En[0],hn=En[1],In=(Array.isArray(hn)?hn[ut]:hn)||"transparent",Un=k[xn],Kn=(0,N.t)("colors.".concat(yn.replace(/\d+/,"")),null,"");return(0,T.jsxs)("button",{ref:bt?.colorName===yn?Qt:void 0,tabIndex:-1,type:"button",className:(0,p.Z)("color-picker__button color-picker__button--large",{active:bt?.colorName===yn,"is-transparent":In==="transparent"||!In}),onClick:function(){rt(In),gn("baseColors")},title:"".concat(Kn).concat(In.startsWith("#")?" ".concat(In):"","  ").concat(Un),"aria-label":"".concat(Kn,"  ").concat(Un),style:In?{"--swatch-color":In}:void 0,"data-testid":"color-".concat(yn),children:[(0,T.jsx)("div",{className:"color-picker__button-outline"}),(0,T.jsx)(fe,{color:In,keyLabel:Un})]},yn)})})},U=function(je){var Ve=je.colors,Xe=je.color,rt=je.onChange,ut=je.label,bt=(0,H.KO)(ue),mt=(0,_.Z)(bt,2),St=mt[0],sn=mt[1],gn=(0,a.useRef)(null);return(0,a.useEffect)(function(){gn.current&&gn.current.focus()},[Xe,St]),(0,T.jsx)("div",{className:"color-picker-content--default",children:Ve.map(function(Qt,fn){return(0,T.jsxs)("button",{ref:Xe===Qt?gn:void 0,tabIndex:-1,type:"button",className:(0,p.Z)("color-picker__button color-picker__button--large",{active:Xe===Qt,"is-transparent":Qt==="transparent"||!Qt}),onClick:function(){rt(Qt),sn("custom")},title:Qt,"aria-label":ut,style:{"--swatch-color":Qt},children:[(0,T.jsx)("div",{className:"color-picker__button-outline"}),(0,T.jsx)(fe,{color:Qt,keyLabel:fn+1,isCustomColor:!0})]},fn)})})},L=e(5491),F=function(je,Ve,Xe){var rt,ut=Math.ceil(Xe/y.dC);switch(Ve=(rt=Ve)!==null&&rt!==void 0?rt:-1,je){case"ArrowLeft":var bt=Ve-1;return bt<0?Xe-1:bt;case"ArrowRight":return(Ve+1)%Xe;case"ArrowDown":var mt=Ve+y.dC;return mt>=Xe?Ve%y.dC:mt;case"ArrowUp":var St=Ve-y.dC,sn=St<0?y.dC*ut+St:St;return sn>=Xe?void 0:sn}},I=function(je){var Ve=je.event,Xe=je.activeColorPickerSection,rt=je.palette,ut=je.color,bt=je.onChange,mt=je.customColors,St=je.setActiveColorPickerSection,sn=je.activeShade,gn=je.onEyeDropperToggle,Qt=je.onEscape;if(Ve[L.tW.CTRL_OR_CMD])return!1;if(Ve.key===L.tW.ESCAPE)return Qt(Ve),!0;if(Ve.key===L.tW.ALT)return gn(!0),!0;if(Ve.key===L.tW.I)return gn(),!0;var fn=m({color:ut,palette:rt});if(Ve.key===L.tW.TAB){var xn={custom:!!mt.length,baseColors:!0,shades:fn?.shade!=null,hex:!0},En=Object.entries(xn).reduce(function(Pr,Nr){var Yr=(0,_.Z)(Nr,2),$r=Yr[0];return Yr[1]&&Pr.push($r),Pr},[]),yn=En.indexOf(Xe),hn=Ve.shiftKey?-1:1,In=En[yn+hn>En.length-1?0:yn+hn<0?En.length-1:yn+hn];return In&&St(In),In==="custom"?bt(mt[0]):In==="baseColors"&&(Object.entries(rt).find(function(Pr){var Nr=(0,_.Z)(Pr,2),Yr=Nr[0],$r=Nr[1];return Array.isArray($r)?$r.includes(ut):$r===ut?Yr:null})||bt(y.HO.black)),Ve.preventDefault(),Ve.stopPropagation(),!0}if(function(Pr){var Nr=Pr.e,Yr=Pr.colorObj,$r=Pr.onChange,to=Pr.palette,Io=Pr.customColors,Go=Pr.setActiveColorPickerSection,qo=Pr.activeShade;if(Yr?.shade!=null&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(Nr.code)&&Nr.shiftKey){var Mi=Number(Nr.code.slice(-1))-1;return $r(to[Yr.colorName][Mi]),Go("shades"),!0}if(["1","2","3","4","5"].includes(Nr.key)&&Io[Number(Nr.key)-1])return $r(Io[Number(Nr.key)-1]),Go("custom"),!0;if(k.includes(Nr.key)){var yi=k.indexOf(Nr.key),Ro=to[Object.keys(to)[yi]];return $r(Array.isArray(Ro)?Ro[qo]:Ro),Go("baseColors"),!0}return!1}({e:Ve,colorObj:fn,onChange:bt,palette:rt,customColors:mt,setActiveColorPickerSection:St,activeShade:sn}))return!0;if(Xe==="shades"&&fn){var Un=fn.shade,Kn=F(Ve.key,Un,y.dC);if(Kn!==void 0)return bt(rt[fn.colorName][Kn]),!0}if(Xe==="baseColors"&&fn){var Bn=fn.colorName,Fn=Object.keys(rt),fr=Fn.indexOf(Bn),Tr=F(Ve.key,fr,Fn.length);if(Tr!==void 0){var mr=rt[Fn[Tr]];return bt(Array.isArray(mr)?mr[sn]:mr),!0}}if(Xe==="custom"){var pr=mt.indexOf(ut),_r=F(Ve.key,pr,mt.length);if(_r!==void 0)return bt(mt[_r]),!0}return!1},P=function(je){var Ve=je.children;return(0,T.jsx)("div",{className:"color-picker__heading",children:Ve})},w=e(9937),f=function(je){var Ve,Xe=je.color,rt=je.onChange,ut=je.label,bt=je.type,mt=je.elements,St=je.palette,sn=je.updateData,gn=je.children,Qt=je.onEyeDropperToggle,fn=je.onEscape,xn=u().useState(function(){return bt==="canvasBackground"?[]:function(pr,_r,Pr){var Nr={elementBackground:"backgroundColor",elementStroke:"strokeColor"},Yr=pr.filter(function(to){if(to.isDeleted)return!1;var Io=to[Nr[_r]];return Q({color:Io,palette:Pr})}),$r=new Map;return Yr.forEach(function(to){var Io=to[Nr[_r]];$r.has(Io)?$r.set(Io,$r.get(Io)+1):$r.set(Io,1)}),(0,x.Z)($r.entries()).sort(function(to,Io){return Io[1]-to[1]}).map(function(to){return to[0]}).slice(0,y.Lx)}(mt,bt,St)}),En=(0,_.Z)(xn,1)[0],yn=(0,H.KO)(ue),hn=(0,_.Z)(yn,2),In=hn[0],Un=hn[1],Kn=m({color:Xe,palette:St});(0,a.useEffect)(function(){if(!In){var pr=Q({color:Xe,palette:St}),_r=pr&&!En.includes(Xe);Un(_r?"hex":pr?"custom":Kn?.shade!=null?"shades":"baseColors")}},[In,Xe,St,Un,Kn,En]);var Bn=(0,a.useState)((Ve=Kn?.shade)!==null&&Ve!==void 0?Ve:bt==="elementBackground"?y._T:y.z8),Fn=(0,_.Z)(Bn,2),fr=Fn[0],Tr=Fn[1];(0,a.useEffect)(function(){Kn?.shade!=null&&Tr(Kn.shade);var pr=function(_r){_r.key===L.tW.ALT&&Qt(!1)};return document.addEventListener(w.Ks.KEYUP,pr,{capture:!0}),function(){document.removeEventListener(w.Ks.KEYUP,pr,{capture:!0})}},[Kn,Qt]);var mr=u().useRef(null);return(0,T.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":(0,N.t)("labels.colorPicker"),children:(0,T.jsxs)("div",{ref:mr,onKeyDown:function(pr){I({event:pr,activeColorPickerSection:In,palette:St,color:Xe,onChange:rt,onEyeDropperToggle:Qt,customColors:En,setActiveColorPickerSection:Un,updateData:sn,activeShade:fr,onEscape:fn})&&(pr.preventDefault(),pr.stopPropagation())},className:"color-picker-content",tabIndex:-1,children:[!!En.length&&(0,T.jsxs)("div",{children:[(0,T.jsx)(P,{children:(0,N.t)("colorPicker.mostUsedCustomColors")}),(0,T.jsx)(U,{colors:En,color:Xe,label:(0,N.t)("colorPicker.mostUsedCustomColors"),onChange:rt})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)(P,{children:(0,N.t)("colorPicker.colors")}),(0,T.jsx)($,{color:Xe,label:ut,palette:St,onChange:rt,activeShade:fr})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)(P,{children:(0,N.t)("colorPicker.shades")}),(0,T.jsx)(G,{hex:Xe,onChange:rt,palette:St})]}),gn]})})},r=e(11),o=e(7217),b=e(9335),s=e(1267),c=e(3119),S=e(3060);const z="dismissableLayer.update",B="dismissableLayer.pointerDownOutside",j="dismissableLayer.focusOutside";let C;const A=(0,a.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Y=(0,a.forwardRef)((je,Ve)=>{var Xe;const{disableOutsidePointerEvents:rt=!1,onEscapeKeyDown:ut,onPointerDownOutside:bt,onFocusOutside:mt,onInteractOutside:St,onDismiss:sn,...gn}=je,Qt=(0,a.useContext)(A),[fn,xn]=(0,a.useState)(null),En=(Xe=fn?.ownerDocument)!==null&&Xe!==void 0?Xe:globalThis?.document,[,yn]=(0,a.useState)({}),hn=(0,b.e)(Ve,pr=>xn(pr)),In=Array.from(Qt.layers),[Un]=[...Qt.layersWithOutsidePointerEventsDisabled].slice(-1),Kn=In.indexOf(Un),Bn=fn?In.indexOf(fn):-1,Fn=Qt.layersWithOutsidePointerEventsDisabled.size>0,fr=Bn>=Kn,Tr=function(pr,_r=globalThis?.document){const Pr=(0,S.W)(pr),Nr=(0,a.useRef)(!1),Yr=(0,a.useRef)(()=>{});return(0,a.useEffect)(()=>{const $r=Io=>{if(Io.target&&!Nr.current){let Go=function(){le(B,Pr,qo,{discrete:!0})};const qo={originalEvent:Io};Io.pointerType==="touch"?(_r.removeEventListener("click",Yr.current),Yr.current=Go,_r.addEventListener("click",Yr.current,{once:!0})):Go()}Nr.current=!1},to=window.setTimeout(()=>{_r.addEventListener("pointerdown",$r)},0);return()=>{window.clearTimeout(to),_r.removeEventListener("pointerdown",$r),_r.removeEventListener("click",Yr.current)}},[_r,Pr]),{onPointerDownCapture:()=>Nr.current=!0}}(pr=>{const _r=pr.target,Pr=[...Qt.branches].some(Nr=>Nr.contains(_r));fr&&!Pr&&(bt?.(pr),St?.(pr),pr.defaultPrevented||sn==null||sn())},En),mr=function(pr,_r=globalThis?.document){const Pr=(0,S.W)(pr),Nr=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{const Yr=$r=>{$r.target&&!Nr.current&&le(j,Pr,{originalEvent:$r},{discrete:!1})};return _r.addEventListener("focusin",Yr),()=>_r.removeEventListener("focusin",Yr)},[_r,Pr]),{onFocusCapture:()=>Nr.current=!0,onBlurCapture:()=>Nr.current=!1}}(pr=>{const _r=pr.target;[...Qt.branches].some(Pr=>Pr.contains(_r))||(mt?.(pr),St?.(pr),pr.defaultPrevented||sn==null||sn())},En);return function(pr,_r=globalThis?.document){const Pr=(0,S.W)(pr);(0,a.useEffect)(()=>{const Nr=Yr=>{Yr.key==="Escape"&&Pr(Yr)};return _r.addEventListener("keydown",Nr),()=>_r.removeEventListener("keydown",Nr)},[Pr,_r])}(pr=>{Bn===Qt.layers.size-1&&(ut?.(pr),!pr.defaultPrevented&&sn&&(pr.preventDefault(),sn()))},En),(0,a.useEffect)(()=>{if(fn)return rt&&(Qt.layersWithOutsidePointerEventsDisabled.size===0&&(C=En.body.style.pointerEvents,En.body.style.pointerEvents="none"),Qt.layersWithOutsidePointerEventsDisabled.add(fn)),Qt.layers.add(fn),ie(),()=>{rt&&Qt.layersWithOutsidePointerEventsDisabled.size===1&&(En.body.style.pointerEvents=C)}},[fn,En,rt,Qt]),(0,a.useEffect)(()=>()=>{fn&&(Qt.layers.delete(fn),Qt.layersWithOutsidePointerEventsDisabled.delete(fn),ie())},[fn,Qt]),(0,a.useEffect)(()=>{const pr=()=>yn({});return document.addEventListener(z,pr),()=>document.removeEventListener(z,pr)},[]),(0,a.createElement)(c.WV.div,(0,r.Z)({},gn,{ref:hn,style:{pointerEvents:Fn?fr?"auto":"none":void 0,...je.style},onFocusCapture:(0,o.M)(je.onFocusCapture,mr.onFocusCapture),onBlurCapture:(0,o.M)(je.onBlurCapture,mr.onBlurCapture),onPointerDownCapture:(0,o.M)(je.onPointerDownCapture,Tr.onPointerDownCapture)}))});function ie(){const je=new CustomEvent(z);document.dispatchEvent(je)}function le(je,Ve,Xe,{discrete:rt}){const ut=Xe.originalEvent.target,bt=new CustomEvent(je,{bubbles:!1,cancelable:!0,detail:Xe});Ve&&ut.addEventListener(je,Ve,{once:!0}),rt?(0,c.jH)(ut,bt):ut.dispatchEvent(bt)}let ce=0;function de(){(0,a.useEffect)(()=>{var je,Ve;const Xe=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(je=Xe[0])!==null&&je!==void 0?je:J()),document.body.insertAdjacentElement("beforeend",(Ve=Xe[1])!==null&&Ve!==void 0?Ve:J()),ce++,()=>{ce===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(rt=>rt.remove()),ce--}},[])}function J(){const je=document.createElement("span");return je.setAttribute("data-radix-focus-guard",""),je.tabIndex=0,je.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",je}const ee="focusScope.autoFocusOnMount",he="focusScope.autoFocusOnUnmount",Pe={bubbles:!1,cancelable:!0},He=(0,a.forwardRef)((je,Ve)=>{const{loop:Xe=!1,trapped:rt=!1,onMountAutoFocus:ut,onUnmountAutoFocus:bt,...mt}=je,[St,sn]=(0,a.useState)(null),gn=(0,S.W)(ut),Qt=(0,S.W)(bt),fn=(0,a.useRef)(null),xn=(0,b.e)(Ve,hn=>sn(hn)),En=(0,a.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,a.useEffect)(()=>{if(rt){let hn=function(Un){if(En.paused||!St)return;const Kn=Un.target;St.contains(Kn)?fn.current=Kn:Te(fn.current,{select:!0})},In=function(Un){!En.paused&&St&&(St.contains(Un.relatedTarget)||Te(fn.current,{select:!0}))};return document.addEventListener("focusin",hn),document.addEventListener("focusout",In),()=>{document.removeEventListener("focusin",hn),document.removeEventListener("focusout",In)}}},[rt,St,En.paused]),(0,a.useEffect)(()=>{if(St){De.add(En);const In=document.activeElement;if(!St.contains(In)){const Un=new CustomEvent(ee,Pe);St.addEventListener(ee,gn),St.dispatchEvent(Un),Un.defaultPrevented||(function(Kn,{select:Bn=!1}={}){const Fn=document.activeElement;for(const fr of Kn)if(Te(fr,{select:Bn}),document.activeElement!==Fn)return}((hn=Ke(St),hn.filter(Kn=>Kn.tagName!=="A")),{select:!0}),document.activeElement===In&&Te(St))}return()=>{St.removeEventListener(ee,gn),setTimeout(()=>{const Un=new CustomEvent(he,Pe);St.addEventListener(he,Qt),St.dispatchEvent(Un),Un.defaultPrevented||Te(In??document.body,{select:!0}),St.removeEventListener(he,Qt),De.remove(En)},0)}}var hn},[St,gn,Qt,En]);const yn=(0,a.useCallback)(hn=>{if(!Xe&&!rt||En.paused)return;const In=hn.key==="Tab"&&!hn.altKey&&!hn.ctrlKey&&!hn.metaKey,Un=document.activeElement;if(In&&Un){const Kn=hn.currentTarget,[Bn,Fn]=function(fr){const Tr=Ke(fr),mr=Ae(Tr,fr),pr=Ae(Tr.reverse(),fr);return[mr,pr]}(Kn);Bn&&Fn?hn.shiftKey||Un!==Fn?hn.shiftKey&&Un===Bn&&(hn.preventDefault(),Xe&&Te(Fn,{select:!0})):(hn.preventDefault(),Xe&&Te(Bn,{select:!0})):Un===Kn&&hn.preventDefault()}},[Xe,rt,En.paused]);return(0,a.createElement)(c.WV.div,(0,r.Z)({tabIndex:-1},mt,{ref:xn,onKeyDown:yn}))});function Ke(je){const Ve=[],Xe=document.createTreeWalker(je,NodeFilter.SHOW_ELEMENT,{acceptNode:rt=>{const ut=rt.tagName==="INPUT"&&rt.type==="hidden";return rt.disabled||rt.hidden||ut?NodeFilter.FILTER_SKIP:rt.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;Xe.nextNode();)Ve.push(Xe.currentNode);return Ve}function Ae(je,Ve){for(const Xe of je)if(!Oe(Xe,{upTo:Ve}))return Xe}function Oe(je,{upTo:Ve}){if(getComputedStyle(je).visibility==="hidden")return!0;for(;je;){if(Ve!==void 0&&je===Ve)return!1;if(getComputedStyle(je).display==="none")return!0;je=je.parentElement}return!1}function Te(je,{select:Ve=!1}={}){if(je&&je.focus){const Xe=document.activeElement;je.focus({preventScroll:!0}),je!==Xe&&function(rt){return rt instanceof HTMLInputElement&&"select"in rt}(je)&&Ve&&je.select()}}const De=function(){let je=[];return{add(Ve){const Xe=je[0];Ve!==Xe&&Xe?.pause(),je=ke(je,Ve),je.unshift(Ve)},remove(Ve){var Xe;je=ke(je,Ve),(Xe=je[0])===null||Xe===void 0||Xe.resume()}}}();function ke(je,Ve){const Xe=[...je],rt=Xe.indexOf(Ve);return rt!==-1&&Xe.splice(rt,1),Xe}var be=e(5622);function ve(je){return je.split("-")[0]}function D(je){return je.split("-")[1]}function l(je){return["top","bottom"].includes(ve(je))?"x":"y"}function d(je){return je==="y"?"height":"width"}function M(je,Ve,Xe){let{reference:rt,floating:ut}=je;const bt=rt.x+rt.width/2-ut.width/2,mt=rt.y+rt.height/2-ut.height/2,St=l(Ve),sn=d(St),gn=rt[sn]/2-ut[sn]/2,Qt=St==="x";let fn;switch(ve(Ve)){case"top":fn={x:bt,y:rt.y-ut.height};break;case"bottom":fn={x:bt,y:rt.y+rt.height};break;case"right":fn={x:rt.x+rt.width,y:mt};break;case"left":fn={x:rt.x-ut.width,y:mt};break;default:fn={x:rt.x,y:rt.y}}switch(D(Ve)){case"start":fn[St]-=gn*(Xe&&Qt?-1:1);break;case"end":fn[St]+=gn*(Xe&&Qt?-1:1)}return fn}function V(je){return typeof je!="number"?function(Ve){return{top:0,right:0,bottom:0,left:0,...Ve}}(je):{top:je,right:je,bottom:je,left:je}}function q(je){return{...je,top:je.y,left:je.x,right:je.x+je.width,bottom:je.y+je.height}}async function re(je,Ve){var Xe;Ve===void 0&&(Ve={});const{x:rt,y:ut,platform:bt,rects:mt,elements:St,strategy:sn}=je,{boundary:gn="clippingAncestors",rootBoundary:Qt="viewport",elementContext:fn="floating",altBoundary:xn=!1,padding:En=0}=Ve,yn=V(En),hn=St[xn?fn==="floating"?"reference":"floating":fn],In=q(await bt.getClippingRect({element:(Xe=await(bt.isElement==null?void 0:bt.isElement(hn)))==null||Xe?hn:hn.contextElement||await(bt.getDocumentElement==null?void 0:bt.getDocumentElement(St.floating)),boundary:gn,rootBoundary:Qt,strategy:sn})),Un=q(bt.convertOffsetParentRelativeRectToViewportRelativeRect?await bt.convertOffsetParentRelativeRectToViewportRelativeRect({rect:fn==="floating"?{...mt.floating,x:rt,y:ut}:mt.reference,offsetParent:await(bt.getOffsetParent==null?void 0:bt.getOffsetParent(St.floating)),strategy:sn}):mt[fn]);return{top:In.top-Un.top+yn.top,bottom:Un.bottom-In.bottom+yn.bottom,left:In.left-Un.left+yn.left,right:Un.right-In.right+yn.right}}const ae=Math.min,ge=Math.max;function Se(je,Ve,Xe){return ge(je,ae(Ve,Xe))}const Re=je=>({name:"arrow",options:je,async fn(Ve){const{element:Xe,padding:rt=0}=je??{},{x:ut,y:bt,placement:mt,rects:St,platform:sn}=Ve;if(Xe==null)return{};const gn=V(rt),Qt={x:ut,y:bt},fn=l(mt),xn=D(mt),En=d(fn),yn=await sn.getDimensions(Xe),hn=fn==="y"?"top":"left",In=fn==="y"?"bottom":"right",Un=St.reference[En]+St.reference[fn]-Qt[fn]-St.floating[En],Kn=Qt[fn]-St.reference[fn],Bn=await(sn.getOffsetParent==null?void 0:sn.getOffsetParent(Xe));let Fn=Bn?fn==="y"?Bn.clientHeight||0:Bn.clientWidth||0:0;Fn===0&&(Fn=St.floating[En]);const fr=Un/2-Kn/2,Tr=gn[hn],mr=Fn-yn[En]-gn[In],pr=Fn/2-yn[En]/2+fr,_r=Se(Tr,pr,mr),Pr=(xn==="start"?gn[hn]:gn[In])>0&&pr!==_r&&St.reference[En]<=St.floating[En];return{[fn]:Qt[fn]-(Pr?pr<Tr?Tr-pr:mr-pr:0),data:{[fn]:_r,centerOffset:pr-_r}}}}),Ye={left:"right",right:"left",bottom:"top",top:"bottom"};function Ge(je){return je.replace(/left|right|bottom|top/g,Ve=>Ye[Ve])}function We(je,Ve,Xe){Xe===void 0&&(Xe=!1);const rt=D(je),ut=l(je),bt=d(ut);let mt=ut==="x"?rt===(Xe?"end":"start")?"right":"left":rt==="start"?"bottom":"top";return Ve.reference[bt]>Ve.floating[bt]&&(mt=Ge(mt)),{main:mt,cross:Ge(mt)}}const qe={start:"end",end:"start"};function lt(je){return je.replace(/start|end/g,Ve=>qe[Ve])}const ft=["top","right","bottom","left"],ze=(ft.reduce((je,Ve)=>je.concat(Ve,Ve+"-start",Ve+"-end"),[]),function(je){return je===void 0&&(je={}),{name:"flip",options:je,async fn(Ve){var Xe;const{placement:rt,middlewareData:ut,rects:bt,initialPlacement:mt,platform:St,elements:sn}=Ve,{mainAxis:gn=!0,crossAxis:Qt=!0,fallbackPlacements:fn,fallbackStrategy:xn="bestFit",flipAlignment:En=!0,...yn}=je,hn=ve(rt),In=fn||(hn!==mt&&En?function(pr){const _r=Ge(pr);return[lt(pr),_r,lt(_r)]}(mt):[Ge(mt)]),Un=[mt,...In],Kn=await re(Ve,yn),Bn=[];let Fn=((Xe=ut.flip)==null?void 0:Xe.overflows)||[];if(gn&&Bn.push(Kn[hn]),Qt){const{main:pr,cross:_r}=We(rt,bt,await(St.isRTL==null?void 0:St.isRTL(sn.floating)));Bn.push(Kn[pr],Kn[_r])}if(Fn=[...Fn,{placement:rt,overflows:Bn}],!Bn.every(pr=>pr<=0)){var fr,Tr;const pr=((fr=(Tr=ut.flip)==null?void 0:Tr.index)!=null?fr:0)+1,_r=Un[pr];if(_r)return{data:{index:pr,overflows:Fn},reset:{placement:_r}};let Pr="bottom";switch(xn){case"bestFit":{var mr;const Nr=(mr=Fn.map(Yr=>[Yr,Yr.overflows.filter($r=>$r>0).reduce(($r,to)=>$r+to,0)]).sort((Yr,$r)=>Yr[1]-$r[1])[0])==null?void 0:mr[0].placement;Nr&&(Pr=Nr);break}case"initialPlacement":Pr=mt}if(rt!==Pr)return{reset:{placement:Pr}}}return{}}}});function we(je,Ve){return{top:je.top-Ve.height,right:je.right-Ve.width,bottom:je.bottom-Ve.height,left:je.left-Ve.width}}function Me(je){return ft.some(Ve=>je[Ve]>=0)}const $e=function(je){let{strategy:Ve="referenceHidden",...Xe}=je===void 0?{}:je;return{name:"hide",async fn(rt){const{rects:ut}=rt;switch(Ve){case"referenceHidden":{const bt=we(await re(rt,{...Xe,elementContext:"reference"}),ut.reference);return{data:{referenceHiddenOffsets:bt,referenceHidden:Me(bt)}}}case"escaped":{const bt=we(await re(rt,{...Xe,altBoundary:!0}),ut.floating);return{data:{escapedOffsets:bt,escaped:Me(bt)}}}default:return{}}}}},at=function(je){return je===void 0&&(je=0),{name:"offset",options:je,async fn(Ve){const{x:Xe,y:rt}=Ve,ut=await async function(bt,mt){const{placement:St,platform:sn,elements:gn}=bt,Qt=await(sn.isRTL==null?void 0:sn.isRTL(gn.floating)),fn=ve(St),xn=D(St),En=l(St)==="x",yn=["left","top"].includes(fn)?-1:1,hn=Qt&&En?-1:1,In=typeof mt=="function"?mt(bt):mt;let{mainAxis:Un,crossAxis:Kn,alignmentAxis:Bn}=typeof In=="number"?{mainAxis:In,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...In};return xn&&typeof Bn=="number"&&(Kn=xn==="end"?-1*Bn:Bn),En?{x:Kn*hn,y:Un*yn}:{x:Un*yn,y:Kn*hn}}(Ve,je);return{x:Xe+ut.x,y:rt+ut.y,data:ut}}}};function dt(je){return je==="x"?"y":"x"}const vt=function(je){return je===void 0&&(je={}),{name:"shift",options:je,async fn(Ve){const{x:Xe,y:rt,placement:ut}=Ve,{mainAxis:bt=!0,crossAxis:mt=!1,limiter:St={fn:In=>{let{x:Un,y:Kn}=In;return{x:Un,y:Kn}}},...sn}=je,gn={x:Xe,y:rt},Qt=await re(Ve,sn),fn=l(ve(ut)),xn=dt(fn);let En=gn[fn],yn=gn[xn];if(bt){const In=fn==="y"?"bottom":"right";En=Se(En+Qt[fn==="y"?"top":"left"],En,En-Qt[In])}if(mt){const In=xn==="y"?"bottom":"right";yn=Se(yn+Qt[xn==="y"?"top":"left"],yn,yn-Qt[In])}const hn=St.fn({...Ve,[fn]:En,[xn]:yn});return{...hn,data:{x:hn.x-Xe,y:hn.y-rt}}}}},Tt=function(je){return je===void 0&&(je={}),{options:je,fn(Ve){const{x:Xe,y:rt,placement:ut,rects:bt,middlewareData:mt}=Ve,{offset:St=0,mainAxis:sn=!0,crossAxis:gn=!0}=je,Qt={x:Xe,y:rt},fn=l(ut),xn=dt(fn);let En=Qt[fn],yn=Qt[xn];const hn=typeof St=="function"?St({...bt,placement:ut}):St,In=typeof hn=="number"?{mainAxis:hn,crossAxis:0}:{mainAxis:0,crossAxis:0,...hn};if(sn){const fr=fn==="y"?"height":"width",Tr=bt.reference[fn]-bt.floating[fr]+In.mainAxis,mr=bt.reference[fn]+bt.reference[fr]-In.mainAxis;En<Tr?En=Tr:En>mr&&(En=mr)}if(gn){var Un,Kn,Bn,Fn;const fr=fn==="y"?"width":"height",Tr=["top","left"].includes(ve(ut)),mr=bt.reference[xn]-bt.floating[fr]+(Tr&&(Un=(Kn=mt.offset)==null?void 0:Kn[xn])!=null?Un:0)+(Tr?0:In.crossAxis),pr=bt.reference[xn]+bt.reference[fr]+(Tr?0:(Bn=(Fn=mt.offset)==null?void 0:Fn[xn])!=null?Bn:0)-(Tr?In.crossAxis:0);yn<mr?yn=mr:yn>pr&&(yn=pr)}return{[fn]:En,[xn]:yn}}}},Et=function(je){return je===void 0&&(je={}),{name:"size",options:je,async fn(Ve){const{placement:Xe,rects:rt,platform:ut,elements:bt}=Ve,{apply:mt,...St}=je,sn=await re(Ve,St),gn=ve(Xe),Qt=D(Xe);let fn,xn;gn==="top"||gn==="bottom"?(fn=gn,xn=Qt===(await(ut.isRTL==null?void 0:ut.isRTL(bt.floating))?"start":"end")?"left":"right"):(xn=gn,fn=Qt==="end"?"top":"bottom");const En=ge(sn.left,0),yn=ge(sn.right,0),hn=ge(sn.top,0),In=ge(sn.bottom,0),Un={availableHeight:rt.floating.height-(["left","right"].includes(Xe)?2*(hn!==0||In!==0?hn+In:ge(sn.top,sn.bottom)):sn[fn]),availableWidth:rt.floating.width-(["top","bottom"].includes(Xe)?2*(En!==0||yn!==0?En+yn:ge(sn.left,sn.right)):sn[xn])},Kn=await ut.getDimensions(bt.floating);mt?.({...Ve,...Un});const Bn=await ut.getDimensions(bt.floating);return Kn.width!==Bn.width||Kn.height!==Bn.height?{reset:{rects:!0}}:{}}}};function jt(je){return je&&je.document&&je.location&&je.alert&&je.setInterval}function Kt(je){if(je==null)return window;if(!jt(je)){const Ve=je.ownerDocument;return Ve&&Ve.defaultView||window}return je}function Gt(je){return Kt(je).getComputedStyle(je)}function Ht(je){return jt(je)?"":je?(je.nodeName||"").toLowerCase():""}function $t(){const je=navigator.userAgentData;return je!=null&&je.brands?je.brands.map(Ve=>Ve.brand+"/"+Ve.version).join(" "):navigator.userAgent}function pn(je){return je instanceof Kt(je).HTMLElement}function _t(je){return je instanceof Kt(je).Element}function xt(je){return typeof ShadowRoot<"u"&&(je instanceof Kt(je).ShadowRoot||je instanceof ShadowRoot)}function At(je){const{overflow:Ve,overflowX:Xe,overflowY:rt}=Gt(je);return/auto|scroll|overlay|hidden/.test(Ve+rt+Xe)}function It(je){return["table","td","th"].includes(Ht(je))}function Mt(je){const Ve=/firefox/i.test($t()),Xe=Gt(je);return Xe.transform!=="none"||Xe.perspective!=="none"||Xe.contain==="paint"||["transform","perspective"].includes(Xe.willChange)||Ve&&Xe.willChange==="filter"||Ve&&!!Xe.filter&&Xe.filter!=="none"}function Nt(){return!/^((?!chrome|android).)*safari/i.test($t())}const Yt=Math.min,ln=Math.max,an=Math.round;function kn(je,Ve,Xe){var rt,ut,bt,mt;Ve===void 0&&(Ve=!1),Xe===void 0&&(Xe=!1);const St=je.getBoundingClientRect();let sn=1,gn=1;Ve&&pn(je)&&(sn=je.offsetWidth>0&&an(St.width)/je.offsetWidth||1,gn=je.offsetHeight>0&&an(St.height)/je.offsetHeight||1);const Qt=_t(je)?Kt(je):window,fn=!Nt()&&Xe,xn=(St.left+(fn&&(rt=(ut=Qt.visualViewport)==null?void 0:ut.offsetLeft)!=null?rt:0))/sn,En=(St.top+(fn&&(bt=(mt=Qt.visualViewport)==null?void 0:mt.offsetTop)!=null?bt:0))/gn,yn=St.width/sn,hn=St.height/gn;return{width:yn,height:hn,top:En,right:xn+yn,bottom:En+hn,left:xn,x:xn,y:En}}function Tn(je){return(Ve=je,(Ve instanceof Kt(Ve).Node?je.ownerDocument:je.document)||window.document).documentElement;var Ve}function zn(je){return _t(je)?{scrollLeft:je.scrollLeft,scrollTop:je.scrollTop}:{scrollLeft:je.pageXOffset,scrollTop:je.pageYOffset}}function un(je){return kn(Tn(je)).left+zn(je).scrollLeft}function zt(je,Ve,Xe){const rt=pn(Ve),ut=Tn(Ve),bt=kn(je,rt&&function(sn){const gn=kn(sn);return an(gn.width)!==sn.offsetWidth||an(gn.height)!==sn.offsetHeight}(Ve),Xe==="fixed");let mt={scrollLeft:0,scrollTop:0};const St={x:0,y:0};if(rt||!rt&&Xe!=="fixed")if((Ht(Ve)!=="body"||At(ut))&&(mt=zn(Ve)),pn(Ve)){const sn=kn(Ve,!0);St.x=sn.x+Ve.clientLeft,St.y=sn.y+Ve.clientTop}else ut&&(St.x=un(ut));return{x:bt.left+mt.scrollLeft-St.x,y:bt.top+mt.scrollTop-St.y,width:bt.width,height:bt.height}}function en(je){return Ht(je)==="html"?je:je.assignedSlot||je.parentNode||(xt(je)?je.host:null)||Tn(je)}function Jt(je){return pn(je)&&getComputedStyle(je).position!=="fixed"?je.offsetParent:null}function Sn(je){const Ve=Kt(je);let Xe=Jt(je);for(;Xe&&It(Xe)&&getComputedStyle(Xe).position==="static";)Xe=Jt(Xe);return Xe&&(Ht(Xe)==="html"||Ht(Xe)==="body"&&getComputedStyle(Xe).position==="static"&&!Mt(Xe))?Ve:Xe||function(rt){let ut=en(rt);for(xt(ut)&&(ut=ut.host);pn(ut)&&!["html","body"].includes(Ht(ut));){if(Mt(ut))return ut;ut=ut.parentNode}return null}(je)||Ve}function Hn(je){if(pn(je))return{width:je.offsetWidth,height:je.offsetHeight};const Ve=kn(je);return{width:Ve.width,height:Ve.height}}function Yn(je){const Ve=en(je);return["html","body","#document"].includes(Ht(Ve))?je.ownerDocument.body:pn(Ve)&&At(Ve)?Ve:Yn(Ve)}function or(je,Ve){var Xe;Ve===void 0&&(Ve=[]);const rt=Yn(je),ut=rt===((Xe=je.ownerDocument)==null?void 0:Xe.body),bt=Kt(rt),mt=ut?[bt].concat(bt.visualViewport||[],At(rt)?rt:[]):rt,St=Ve.concat(mt);return ut?St:St.concat(or(mt))}function $n(je,Ve,Xe){return Ve==="viewport"?q(function(rt,ut){const bt=Kt(rt),mt=Tn(rt),St=bt.visualViewport;let sn=mt.clientWidth,gn=mt.clientHeight,Qt=0,fn=0;if(St){sn=St.width,gn=St.height;const xn=Nt();(xn||!xn&&ut==="fixed")&&(Qt=St.offsetLeft,fn=St.offsetTop)}return{width:sn,height:gn,x:Qt,y:fn}}(je,Xe)):_t(Ve)?function(rt,ut){const bt=kn(rt,!1,ut==="fixed"),mt=bt.top+rt.clientTop,St=bt.left+rt.clientLeft;return{top:mt,left:St,x:St,y:mt,right:St+rt.clientWidth,bottom:mt+rt.clientHeight,width:rt.clientWidth,height:rt.clientHeight}}(Ve,Xe):q(function(rt){var ut;const bt=Tn(rt),mt=zn(rt),St=(ut=rt.ownerDocument)==null?void 0:ut.body,sn=ln(bt.scrollWidth,bt.clientWidth,St?St.scrollWidth:0,St?St.clientWidth:0),gn=ln(bt.scrollHeight,bt.clientHeight,St?St.scrollHeight:0,St?St.clientHeight:0);let Qt=-mt.scrollLeft+un(rt);const fn=-mt.scrollTop;return Gt(St||bt).direction==="rtl"&&(Qt+=ln(bt.clientWidth,St?St.clientWidth:0)-sn),{width:sn,height:gn,x:Qt,y:fn}}(Tn(je)))}function rn(je){const Ve=or(je),Xe=["absolute","fixed"].includes(Gt(je).position)&&pn(je)?Sn(je):je;return _t(Xe)?Ve.filter(rt=>_t(rt)&&function(ut,bt){const mt=bt.getRootNode==null?void 0:bt.getRootNode();if(ut.contains(bt))return!0;if(mt&&xt(mt)){let St=bt;do{if(St&&ut===St)return!0;St=St.parentNode||St.host}while(St)}return!1}(rt,Xe)&&Ht(rt)!=="body"):[]}const Pt={getClippingRect:function(je){let{element:Ve,boundary:Xe,rootBoundary:rt,strategy:ut}=je;const bt=[...Xe==="clippingAncestors"?rn(Ve):[].concat(Xe),rt],mt=bt[0],St=bt.reduce((sn,gn)=>{const Qt=$n(Ve,gn,ut);return sn.top=ln(Qt.top,sn.top),sn.right=Yt(Qt.right,sn.right),sn.bottom=Yt(Qt.bottom,sn.bottom),sn.left=ln(Qt.left,sn.left),sn},$n(Ve,mt,ut));return{width:St.right-St.left,height:St.bottom-St.top,x:St.left,y:St.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(je){let{rect:Ve,offsetParent:Xe,strategy:rt}=je;const ut=pn(Xe),bt=Tn(Xe);if(Xe===bt)return Ve;let mt={scrollLeft:0,scrollTop:0};const St={x:0,y:0};if((ut||!ut&&rt!=="fixed")&&((Ht(Xe)!=="body"||At(bt))&&(mt=zn(Xe)),pn(Xe))){const sn=kn(Xe,!0);St.x=sn.x+Xe.clientLeft,St.y=sn.y+Xe.clientTop}return{...Ve,x:Ve.x-mt.scrollLeft+St.x,y:Ve.y-mt.scrollTop+St.y}},isElement:_t,getDimensions:Hn,getOffsetParent:Sn,getDocumentElement:Tn,getElementRects:je=>{let{reference:Ve,floating:Xe,strategy:rt}=je;return{reference:zt(Ve,Sn(Xe),rt),floating:{...Hn(Xe),x:0,y:0}}},getClientRects:je=>Array.from(je.getClientRects()),isRTL:je=>Gt(je).direction==="rtl"};function Dt(je,Ve,Xe,rt){rt===void 0&&(rt={});const{ancestorScroll:ut=!0,ancestorResize:bt=!0,elementResize:mt=!0,animationFrame:St=!1}=rt,sn=ut&&!St,gn=bt&&!St,Qt=sn||gn?[..._t(je)?or(je):[],...or(Ve)]:[];Qt.forEach(yn=>{sn&&yn.addEventListener("scroll",Xe,{passive:!0}),gn&&yn.addEventListener("resize",Xe)});let fn,xn=null;if(mt){let yn=!0;xn=new ResizeObserver(()=>{yn||Xe(),yn=!1}),_t(je)&&!St&&xn.observe(je),xn.observe(Ve)}let En=St?kn(je):null;return St&&function yn(){const hn=kn(je);!En||hn.x===En.x&&hn.y===En.y&&hn.width===En.width&&hn.height===En.height||Xe(),En=hn,fn=requestAnimationFrame(yn)}(),Xe(),()=>{var yn;Qt.forEach(hn=>{sn&&hn.removeEventListener("scroll",Xe),gn&&hn.removeEventListener("resize",Xe)}),(yn=xn)==null||yn.disconnect(),xn=null,St&&cancelAnimationFrame(fn)}}const Ft=(je,Ve,Xe)=>(async(rt,ut,bt)=>{const{placement:mt="bottom",strategy:St="absolute",middleware:sn=[],platform:gn}=bt,Qt=await(gn.isRTL==null?void 0:gn.isRTL(ut));let fn=await gn.getElementRects({reference:rt,floating:ut,strategy:St}),{x:xn,y:En}=M(fn,mt,Qt),yn=mt,hn={},In=0;for(let Un=0;Un<sn.length;Un++){const{name:Kn,fn:Bn}=sn[Un],{x:Fn,y:fr,data:Tr,reset:mr}=await Bn({x:xn,y:En,initialPlacement:mt,placement:yn,strategy:St,middlewareData:hn,rects:fn,platform:gn,elements:{reference:rt,floating:ut}});xn=Fn??xn,En=fr??En,hn={...hn,[Kn]:{...hn[Kn],...Tr}},mr&&In<=50&&(In++,typeof mr=="object"&&(mr.placement&&(yn=mr.placement),mr.rects&&(fn=mr.rects===!0?await gn.getElementRects({reference:rt,floating:ut,strategy:St}):mr.rects),{x:xn,y:En}=M(fn,yn,Qt)),Un=-1)}return{x:xn,y:En,placement:yn,strategy:St,middlewareData:hn}})(je,Ve,{platform:Pt,...Xe});var dn=e(5156),jn=e.n(dn),Cn=typeof document<"u"?a.useLayoutEffect:a.useEffect;function Dn(je,Ve){if(je===Ve)return!0;if(typeof je!=typeof Ve)return!1;if(typeof je=="function"&&je.toString()===Ve.toString())return!0;let Xe,rt,ut;if(je&&Ve&&typeof je=="object"){if(Array.isArray(je)){if(Xe=je.length,Xe!=Ve.length)return!1;for(rt=Xe;rt--!=0;)if(!Dn(je[rt],Ve[rt]))return!1;return!0}if(ut=Object.keys(je),Xe=ut.length,Xe!==Object.keys(Ve).length)return!1;for(rt=Xe;rt--!=0;)if(!Object.prototype.hasOwnProperty.call(Ve,ut[rt]))return!1;for(rt=Xe;rt--!=0;){const bt=ut[rt];if((bt!=="_owner"||!je.$$typeof)&&!Dn(je[bt],Ve[bt]))return!1}return!0}return je!=je&&Ve!=Ve}function Wn(je){let{middleware:Ve,placement:Xe="bottom",strategy:rt="absolute",whileElementsMounted:ut}=je===void 0?{}:je;const bt=a.useRef(null),mt=a.useRef(null),St=function(Bn){const Fn=a.useRef(Bn);return Cn(()=>{Fn.current=Bn}),Fn}(ut),sn=a.useRef(null),[gn,Qt]=a.useState({x:null,y:null,strategy:rt,placement:Xe,middlewareData:{}}),[fn,xn]=a.useState(Ve);Dn(fn?.map(Bn=>{let{options:Fn}=Bn;return Fn}),Ve?.map(Bn=>{let{options:Fn}=Bn;return Fn}))||xn(Ve);const En=a.useCallback(()=>{bt.current&&mt.current&&Ft(bt.current,mt.current,{middleware:fn,placement:Xe,strategy:rt}).then(Bn=>{yn.current&&dn.flushSync(()=>{Qt(Bn)})})},[fn,Xe,rt]);Cn(()=>{yn.current&&En()},[En]);const yn=a.useRef(!1);Cn(()=>(yn.current=!0,()=>{yn.current=!1}),[]);const hn=a.useCallback(()=>{if(typeof sn.current=="function"&&(sn.current(),sn.current=null),bt.current&&mt.current)if(St.current){const Bn=St.current(bt.current,mt.current,En);sn.current=Bn}else En()},[En,St]),In=a.useCallback(Bn=>{bt.current=Bn,hn()},[hn]),Un=a.useCallback(Bn=>{mt.current=Bn,hn()},[hn]),Kn=a.useMemo(()=>({reference:bt,floating:mt}),[]);return a.useMemo(()=>({...gn,update:En,refs:Kn,reference:In,floating:Un}),[gn,En,Kn,In,Un])}const Ln=je=>{const{element:Ve,padding:Xe}=je;return{name:"arrow",options:je,fn(rt){return ut=Ve,Object.prototype.hasOwnProperty.call(ut,"current")?Ve.current!=null?Re({element:Ve.current,padding:Xe}).fn(rt):{}:Ve?Re({element:Ve,padding:Xe}).fn(rt):{};var ut}}},er=(0,a.forwardRef)((je,Ve)=>{const{children:Xe,width:rt=10,height:ut=5,...bt}=je;return(0,a.createElement)(c.WV.svg,(0,r.Z)({},bt,{ref:Ve,width:rt,height:ut,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),je.asChild?Xe:(0,a.createElement)("polygon",{points:"0,0 30,0 15,10"}))}),Vn=er;var Pn=e(3348);const Rn="Popper",[Nn,Gn]=(0,s.b)(Rn),[nr,rr]=Nn(Rn),Or=je=>{const{__scopePopper:Ve,children:Xe}=je,[rt,ut]=(0,a.useState)(null);return(0,a.createElement)(nr,{scope:Ve,anchor:rt,onAnchorChange:ut},Xe)},Xr="PopperAnchor",po=(0,a.forwardRef)((je,Ve)=>{const{__scopePopper:Xe,virtualRef:rt,...ut}=je,bt=rr(Xr,Xe),mt=(0,a.useRef)(null),St=(0,b.e)(Ve,mt);return(0,a.useEffect)(()=>{bt.onAnchorChange(rt?.current||mt.current)}),rt?null:(0,a.createElement)(c.WV.div,(0,r.Z)({},ut,{ref:St}))}),xo="PopperContent",[jo,ho]=Nn(xo),[Qr,go]=Nn(xo,{hasParent:!1,positionUpdateFns:new Set}),et=(0,a.forwardRef)((je,Ve)=>{var Xe,rt,ut,bt,mt,St,sn,gn;const{__scopePopper:Qt,side:fn="bottom",sideOffset:xn=0,align:En="center",alignOffset:yn=0,arrowPadding:hn=0,collisionBoundary:In=[],collisionPadding:Un=0,sticky:Kn="partial",hideWhenDetached:Bn=!1,avoidCollisions:Fn=!0,onPlaced:fr,...Tr}=je,mr=rr(xo,Qt),[pr,_r]=(0,a.useState)(null),Pr=(0,b.e)(Ve,ni=>_r(ni)),[Nr,Yr]=(0,a.useState)(null),$r=function(ni){const[Ai,Da]=(0,a.useState)(void 0);return(0,Pn.b)(()=>{if(ni){Da({width:ni.offsetWidth,height:ni.offsetHeight});const ul=new ResizeObserver(tr=>{if(!Array.isArray(tr)||!tr.length)return;const ar=tr[0];let La,Ra;if("borderBoxSize"in ar){const Na=ar.borderBoxSize,wl=Array.isArray(Na)?Na[0]:Na;La=wl.inlineSize,Ra=wl.blockSize}else La=ni.offsetWidth,Ra=ni.offsetHeight;Da({width:La,height:Ra})});return ul.observe(ni,{box:"border-box"}),()=>ul.unobserve(ni)}Da(void 0)},[ni]),Ai}(Nr),to=(Xe=$r?.width)!==null&&Xe!==void 0?Xe:0,Io=(rt=$r?.height)!==null&&rt!==void 0?rt:0,Go=fn+(En!=="center"?"-"+En:""),qo=typeof Un=="number"?Un:{top:0,right:0,bottom:0,left:0,...Un},Mi=Array.isArray(In)?In:[In],yi=Mi.length>0,Ro={padding:qo,boundary:Mi.filter(Zt),altBoundary:yi},{reference:Uo,floating:Ko,strategy:Ao,x:No,y:li,placement:Ct,middlewareData:mi,update:gi}=Wn({strategy:"fixed",placement:Go,whileElementsMounted:Dt,middleware:[qt(),at({mainAxis:xn+Io,alignmentAxis:yn}),Fn?vt({mainAxis:!0,crossAxis:!1,limiter:Kn==="partial"?Tt():void 0,...Ro}):void 0,Nr?Ln({element:Nr,padding:hn}):void 0,Fn?ze({...Ro}):void 0,Et({...Ro,apply:({elements:ni,availableWidth:Ai,availableHeight:Da})=>{ni.floating.style.setProperty("--radix-popper-available-width",`${Ai}px`),ni.floating.style.setProperty("--radix-popper-available-height",`${Da}px`)}}),mn({arrowWidth:to,arrowHeight:Io}),Bn?$e({strategy:"referenceHidden"}):void 0].filter(st)});(0,Pn.b)(()=>{Uo(mr.anchor)},[Uo,mr.anchor]);const si=No!==null&&li!==null,[_o,$i]=Xt(Ct),ha=(0,S.W)(fr);(0,Pn.b)(()=>{si&&ha?.()},[si,ha]);const ql=(ut=mi.arrow)===null||ut===void 0?void 0:ut.x,ma=(bt=mi.arrow)===null||bt===void 0?void 0:bt.y,Zl=((mt=mi.arrow)===null||mt===void 0?void 0:mt.centerOffset)!==0,[sl,cl]=(0,a.useState)();(0,Pn.b)(()=>{pr&&cl(window.getComputedStyle(pr).zIndex)},[pr]);const{hasParent:ga,positionUpdateFns:Fi}=go(xo,Qt),Oi=!ga;(0,a.useLayoutEffect)(()=>{if(!Oi)return Fi.add(gi),()=>{Fi.delete(gi)}},[Oi,Fi,gi]),(0,Pn.b)(()=>{Oi&&si&&Array.from(Fi).reverse().forEach(ni=>requestAnimationFrame(ni))},[Oi,si,Fi]);const fi={"data-side":_o,"data-align":$i,...Tr,ref:Pr,style:{...Tr.style,animation:si?void 0:"none",opacity:(St=mi.hide)!==null&&St!==void 0&&St.referenceHidden?0:void 0}};return(0,a.createElement)("div",{ref:Ko,"data-radix-popper-content-wrapper":"",style:{position:Ao,left:0,top:0,transform:si?`translate3d(${Math.round(No)}px, ${Math.round(li)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:sl,"--radix-popper-transform-origin":[(sn=mi.transformOrigin)===null||sn===void 0?void 0:sn.x,(gn=mi.transformOrigin)===null||gn===void 0?void 0:gn.y].join(" ")},dir:je.dir},(0,a.createElement)(jo,{scope:Qt,placedSide:_o,onArrowChange:Yr,arrowX:ql,arrowY:ma,shouldHideArrow:Zl},Oi?(0,a.createElement)(Qr,{scope:Qt,hasParent:!0,positionUpdateFns:Fi},(0,a.createElement)(c.WV.div,fi)):(0,a.createElement)(c.WV.div,fi)))}),Ee="PopperArrow",Le={top:"bottom",right:"left",bottom:"top",left:"right"},Ue=(0,a.forwardRef)(function(je,Ve){const{__scopePopper:Xe,...rt}=je,ut=ho(Ee,Xe),bt=Le[ut.placedSide];return(0,a.createElement)("span",{ref:ut.onArrowChange,style:{position:"absolute",left:ut.arrowX,top:ut.arrowY,[bt]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[ut.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[ut.placedSide],visibility:ut.shouldHideArrow?"hidden":void 0}},(0,a.createElement)(Vn,(0,r.Z)({},rt,{ref:Ve,style:{...rt.style,display:"block"}})))});function st(je){return je!==void 0}function Zt(je){return je!==null}const qt=()=>({name:"anchorCssProperties",fn(je){const{rects:Ve,elements:Xe}=je,{width:rt,height:ut}=Ve.reference;return Xe.floating.style.setProperty("--radix-popper-anchor-width",`${rt}px`),Xe.floating.style.setProperty("--radix-popper-anchor-height",`${ut}px`),{}}}),mn=je=>({name:"transformOrigin",options:je,fn(Ve){var Xe,rt,ut,bt,mt;const{placement:St,rects:sn,middlewareData:gn}=Ve,Qt=((Xe=gn.arrow)===null||Xe===void 0?void 0:Xe.centerOffset)!==0,fn=Qt?0:je.arrowWidth,xn=Qt?0:je.arrowHeight,[En,yn]=Xt(St),hn={start:"0%",center:"50%",end:"100%"}[yn],In=((rt=(ut=gn.arrow)===null||ut===void 0?void 0:ut.x)!==null&&rt!==void 0?rt:0)+fn/2,Un=((bt=(mt=gn.arrow)===null||mt===void 0?void 0:mt.y)!==null&&bt!==void 0?bt:0)+xn/2;let Kn="",Bn="";return En==="bottom"?(Kn=Qt?hn:`${In}px`,Bn=-xn+"px"):En==="top"?(Kn=Qt?hn:`${In}px`,Bn=`${sn.floating.height+xn}px`):En==="right"?(Kn=-xn+"px",Bn=Qt?hn:`${Un}px`):En==="left"&&(Kn=`${sn.floating.width+xn}px`,Bn=Qt?hn:`${Un}px`),{data:{x:Kn,y:Bn}}}});function Xt(je){const[Ve,Xe="center"]=je.split("-");return[Ve,Xe]}const Vt=Or,wn=po,Mn=et,qn=Ue,Qn=(0,a.forwardRef)((je,Ve)=>{var Xe;const{container:rt=globalThis==null||(Xe=globalThis.document)===null||Xe===void 0?void 0:Xe.body,...ut}=je;return rt?jn().createPortal((0,a.createElement)(c.WV.div,(0,r.Z)({},ut,{ref:Ve})),rt):null});var dr=e(1483),ur=e(4801),ir=e(2673),cr=function(je){return typeof document>"u"?null:(Array.isArray(je)?je[0]:je).ownerDocument.body},Ar=new WeakMap,Gr=new WeakMap,so={},zo=0,ii=function(je){return je&&(je.host||ii(je.parentNode))},Ir=function(je,Ve,Xe,rt){var ut=function(fn,xn){return xn.map(function(En){if(fn.contains(En))return En;var yn=ii(En);return yn&&fn.contains(yn)?yn:(console.error("aria-hidden",En,"in not contained inside",fn,". Doing nothing"),null)}).filter(function(En){return!!En})}(Ve,Array.isArray(je)?je:[je]);so[Xe]||(so[Xe]=new WeakMap);var bt=so[Xe],mt=[],St=new Set,sn=new Set(ut),gn=function(fn){fn&&!St.has(fn)&&(St.add(fn),gn(fn.parentNode))};ut.forEach(gn);var Qt=function(fn){fn&&!sn.has(fn)&&Array.prototype.forEach.call(fn.children,function(xn){if(St.has(xn))Qt(xn);else{var En=xn.getAttribute(rt),yn=En!==null&&En!=="false",hn=(Ar.get(xn)||0)+1,In=(bt.get(xn)||0)+1;Ar.set(xn,hn),bt.set(xn,In),mt.push(xn),hn===1&&yn&&Gr.set(xn,!0),In===1&&xn.setAttribute(Xe,"true"),yn||xn.setAttribute(rt,"true")}})};return Qt(Ve),St.clear(),zo++,function(){mt.forEach(function(fn){var xn=Ar.get(fn)-1,En=bt.get(fn)-1;Ar.set(fn,xn),bt.set(fn,En),xn||(Gr.has(fn)||fn.removeAttribute(rt),Gr.delete(fn)),En||fn.removeAttribute(Xe)}),--zo||(Ar=new WeakMap,Ar=new WeakMap,Gr=new WeakMap,so={})}},hr=function(je,Ve,Xe){Xe===void 0&&(Xe="data-aria-hidden");var rt=Array.from(Array.isArray(je)?je:[je]),ut=cr(je);return ut?(rt.push.apply(rt,Array.from(ut.querySelectorAll("[aria-live]"))),Ir(rt,ut,Xe,"aria-hidden")):function(){return null}},Ur=function(){return Ur=Object.assign||function(je){for(var Ve,Xe=1,rt=arguments.length;Xe<rt;Xe++)for(var ut in Ve=arguments[Xe])Object.prototype.hasOwnProperty.call(Ve,ut)&&(je[ut]=Ve[ut]);return je},Ur.apply(this,arguments)};function no(je,Ve){var Xe={};for(var rt in je)Object.prototype.hasOwnProperty.call(je,rt)&&Ve.indexOf(rt)<0&&(Xe[rt]=je[rt]);if(je!=null&&typeof Object.getOwnPropertySymbols=="function"){var ut=0;for(rt=Object.getOwnPropertySymbols(je);ut<rt.length;ut++)Ve.indexOf(rt[ut])<0&&Object.prototype.propertyIsEnumerable.call(je,rt[ut])&&(Xe[rt[ut]]=je[rt[ut]])}return Xe}var ao="right-scroll-bar-position",Xo="width-before-scroll-bar";function Ho(je,Ve){return Xe=null,rt=function(bt){return je.forEach(function(mt){return function(St,sn){return typeof St=="function"?St(sn):St&&(St.current=sn),St}(mt,bt)})},(ut=(0,a.useState)(function(){return{value:Xe,callback:rt,facade:{get current(){return ut.value},set current(bt){var mt=ut.value;mt!==bt&&(ut.value=bt,ut.callback(bt,mt))}}}})[0]).callback=rt,ut.facade;var Xe,rt,ut}function di(je){return je}function ai(je,Ve){Ve===void 0&&(Ve=di);var Xe=[],rt=!1,ut={read:function(){if(rt)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return Xe.length?Xe[Xe.length-1]:je},useMedium:function(bt){var mt=Ve(bt,rt);return Xe.push(mt),function(){Xe=Xe.filter(function(St){return St!==mt})}},assignSyncMedium:function(bt){for(rt=!0;Xe.length;){var mt=Xe;Xe=[],mt.forEach(bt)}Xe={push:function(St){return bt(St)},filter:function(){return Xe}}},assignMedium:function(bt){rt=!0;var mt=[];if(Xe.length){var St=Xe;Xe=[],St.forEach(bt),mt=Xe}var sn=function(){var Qt=mt;mt=[],Qt.forEach(bt)},gn=function(){return Promise.resolve().then(sn)};gn(),Xe={push:function(Qt){mt.push(Qt),gn()},filter:function(Qt){return mt=mt.filter(Qt),Xe}}}};return ut}var ui=function(je){je===void 0&&(je={});var Ve=ai(null);return Ve.options=Ur({async:!0,ssr:!1},je),Ve}(),ua=function(){},Ca=a.forwardRef(function(je,Ve){var Xe=a.useRef(null),rt=a.useState({onScrollCapture:ua,onWheelCapture:ua,onTouchMoveCapture:ua}),ut=rt[0],bt=rt[1],mt=je.forwardProps,St=je.children,sn=je.className,gn=je.removeScrollBar,Qt=je.enabled,fn=je.shards,xn=je.sideCar,En=je.noIsolation,yn=je.inert,hn=je.allowPinchZoom,In=je.as,Un=In===void 0?"div":In,Kn=no(je,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),Bn=xn,Fn=Ho([Xe,Ve]),fr=Ur(Ur({},Kn),ut);return a.createElement(a.Fragment,null,Qt&&a.createElement(Bn,{sideCar:ui,removeScrollBar:gn,shards:fn,noIsolation:En,inert:yn,setCallbacks:bt,allowPinchZoom:!!hn,lockRef:Xe}),mt?a.cloneElement(a.Children.only(St),Ur(Ur({},fr),{ref:Fn})):a.createElement(Un,Ur({},fr,{className:sn,ref:Fn}),St))});Ca.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ca.classNames={fullWidth:Xo,zeroRight:ao};var ti=function(je){var Ve=je.sideCar,Xe=no(je,["sideCar"]);if(!Ve)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var rt=Ve.read();if(!rt)throw new Error("Sidecar medium not found");return a.createElement(rt,Ur({},Xe))};ti.isSideCarExport=!0;function da(){if(!document)return null;var je=document.createElement("style");je.type="text/css";var Ve=e.nc;return Ve&&je.setAttribute("nonce",Ve),je}var nl=function(){var je=0,Ve=null;return{add:function(Xe){var rt,ut;je==0&&(Ve=da())&&(ut=Xe,(rt=Ve).styleSheet?rt.styleSheet.cssText=ut:rt.appendChild(document.createTextNode(ut)),function(bt){(document.head||document.getElementsByTagName("head")[0]).appendChild(bt)}(Ve)),je++},remove:function(){!--je&&Ve&&(Ve.parentNode&&Ve.parentNode.removeChild(Ve),Ve=null)}}},Dl=function(){var je,Ve=(je=nl(),function(Xe,rt){a.useEffect(function(){return je.add(Xe),function(){je.remove()}},[Xe&&rt])});return function(Xe){var rt=Xe.styles,ut=Xe.dynamic;return Ve(rt,ut),null}},Qi={left:0,top:0,right:0,gap:0},ea=function(je){return parseInt(je||"",10)||0},bi=function(je){if(je===void 0&&(je="margin"),typeof window>"u")return Qi;var Ve=function(ut){var bt=window.getComputedStyle(document.body),mt=bt[ut==="padding"?"paddingLeft":"marginLeft"],St=bt[ut==="padding"?"paddingTop":"marginTop"],sn=bt[ut==="padding"?"paddingRight":"marginRight"];return[ea(mt),ea(St),ea(sn)]}(je),Xe=document.documentElement.clientWidth,rt=window.innerWidth;return{left:Ve[0],top:Ve[1],right:Ve[2],gap:Math.max(0,rt-Xe+Ve[2]-Ve[0])}},Ii=Dl(),Ll=function(je,Ve,Xe,rt){var ut=je.left,bt=je.top,mt=je.right,St=je.gap;return Xe===void 0&&(Xe="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(rt,`;
   padding-right: `).concat(St,"px ").concat(rt,`;
  }
  body {
    overflow: hidden `).concat(rt,`;
    overscroll-behavior: contain;
    `).concat([Ve&&"position: relative ".concat(rt,";"),Xe==="margin"&&`
    padding-left: `.concat(ut,`px;
    padding-top: `).concat(bt,`px;
    padding-right: `).concat(mt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(St,"px ").concat(rt,`;
    `),Xe==="padding"&&"padding-right: ".concat(St,"px ").concat(rt,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ao,` {
    right: `).concat(St,"px ").concat(rt,`;
  }
  
  .`).concat(Xo,` {
    margin-right: `).concat(St,"px ").concat(rt,`;
  }
  
  .`).concat(ao," .").concat(ao,` {
    right: 0 `).concat(rt,`;
  }
  
  .`).concat(Xo," .").concat(Xo,` {
    margin-right: 0 `).concat(rt,`;
  }
  
  body {
    `).concat("--removed-body-scroll-bar-size",": ").concat(St,`px;
  }
`)},Va=function(je){var Ve=je.noRelative,Xe=je.noImportant,rt=je.gapMode,ut=rt===void 0?"margin":rt,bt=a.useMemo(function(){return bi(ut)},[ut]);return a.createElement(Ii,{styles:Ll(bt,!Ve,ut,Xe?"":"!important")})},Ri=!1;if(typeof window<"u")try{var Ui=Object.defineProperty({},"passive",{get:function(){return Ri=!0,!0}});window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Ri=!1}var Vi=!!Ri&&{passive:!1},Ki=function(je,Ve){var Xe=window.getComputedStyle(je);return Xe[Ve]!=="hidden"&&!(Xe.overflowY===Xe.overflowX&&!function(rt){return rt.tagName==="TEXTAREA"}(je)&&Xe[Ve]==="visible")},ta=function(je,Ve){var Xe=Ve;do{if(typeof ShadowRoot<"u"&&Xe instanceof ShadowRoot&&(Xe=Xe.host),fa(je,Xe)){var rt=na(je,Xe);if(rt[1]>rt[2])return!0}Xe=Xe.parentNode}while(Xe&&Xe!==document.body);return!1},fa=function(je,Ve){return je==="v"?function(Xe){return Ki(Xe,"overflowY")}(Ve):function(Xe){return Ki(Xe,"overflowX")}(Ve)},na=function(je,Ve){return je==="v"?[(Xe=Ve).scrollTop,Xe.scrollHeight,Xe.clientHeight]:function(rt){return[rt.scrollLeft,rt.scrollWidth,rt.clientWidth]}(Ve);var Xe},ja=function(je){return"changedTouches"in je?[je.changedTouches[0].clientX,je.changedTouches[0].clientY]:[0,0]},Ka=function(je){return[je.deltaX,je.deltaY]},Ia=function(je){return je&&"current"in je?je.current:je},Ya=function(je){return`
  .block-interactivity-`.concat(je,` {pointer-events: none;}
  .allow-interactivity-`).concat(je,` {pointer-events: all;}
`)},Ei=0,$o=[],Yi,hi=(Yi=function(je){var Ve=a.useRef([]),Xe=a.useRef([0,0]),rt=a.useRef(),ut=a.useState(Ei++)[0],bt=a.useState(function(){return Dl()})[0],mt=a.useRef(je);a.useEffect(function(){mt.current=je},[je]),a.useEffect(function(){if(je.inert){document.body.classList.add("block-interactivity-".concat(ut));var hn=function(In,Un,Kn){for(var Bn,Fn=0,fr=Un.length;Fn<fr;Fn++)!Bn&&Fn in Un||(Bn||(Bn=Array.prototype.slice.call(Un,0,Fn)),Bn[Fn]=Un[Fn]);return In.concat(Bn||Array.prototype.slice.call(Un))}([je.lockRef.current],(je.shards||[]).map(Ia)).filter(Boolean);return hn.forEach(function(In){return In.classList.add("allow-interactivity-".concat(ut))}),function(){document.body.classList.remove("block-interactivity-".concat(ut)),hn.forEach(function(In){return In.classList.remove("allow-interactivity-".concat(ut))})}}},[je.inert,je.lockRef.current,je.shards]);var St=a.useCallback(function(hn,In){if("touches"in hn&&hn.touches.length===2)return!mt.current.allowPinchZoom;var Un,Kn=ja(hn),Bn=Xe.current,Fn="deltaX"in hn?hn.deltaX:Bn[0]-Kn[0],fr="deltaY"in hn?hn.deltaY:Bn[1]-Kn[1],Tr=hn.target,mr=Math.abs(Fn)>Math.abs(fr)?"h":"v";if("touches"in hn&&mr==="h"&&Tr.type==="range")return!1;var pr=ta(mr,Tr);if(!pr)return!0;if(pr?Un=mr:(Un=mr==="v"?"h":"v",pr=ta(mr,Tr)),!pr)return!1;if(!rt.current&&"changedTouches"in hn&&(Fn||fr)&&(rt.current=Un),!Un)return!0;var _r=rt.current||Un;return function(Pr,Nr,Yr,$r,to){var Io=function(Ct,mi){return Ct==="h"&&mi==="rtl"?-1:1}(Pr,window.getComputedStyle(Nr).direction),Go=Io*$r,qo=Yr.target,Mi=Nr.contains(qo),yi=!1,Ro=Go>0,Uo=0,Ko=0;do{var Ao=na(Pr,qo),No=Ao[0],li=Ao[1]-Ao[2]-Io*No;(No||li)&&fa(Pr,qo)&&(Uo+=li,Ko+=No),qo=qo.parentNode}while(!Mi&&qo!==document.body||Mi&&(Nr.contains(qo)||Nr===qo));return(Ro&&(Uo===0||!to)||!Ro&&(Ko===0||!to))&&(yi=!0),yi}(_r,In,hn,_r==="h"?Fn:fr,!0)},[]),sn=a.useCallback(function(hn){var In=hn;if($o.length&&$o[$o.length-1]===bt){var Un="deltaY"in In?Ka(In):ja(In),Kn=Ve.current.filter(function(Fn){return Fn.name===In.type&&Fn.target===In.target&&function(fr,Tr){return fr[0]===Tr[0]&&fr[1]===Tr[1]}(Fn.delta,Un)})[0];if(Kn&&Kn.should)In.cancelable&&In.preventDefault();else if(!Kn){var Bn=(mt.current.shards||[]).map(Ia).filter(Boolean).filter(function(Fn){return Fn.contains(In.target)});(Bn.length>0?St(In,Bn[0]):!mt.current.noIsolation)&&In.cancelable&&In.preventDefault()}}},[]),gn=a.useCallback(function(hn,In,Un,Kn){var Bn={name:hn,delta:In,target:Un,should:Kn};Ve.current.push(Bn),setTimeout(function(){Ve.current=Ve.current.filter(function(Fn){return Fn!==Bn})},1)},[]),Qt=a.useCallback(function(hn){Xe.current=ja(hn),rt.current=void 0},[]),fn=a.useCallback(function(hn){gn(hn.type,Ka(hn),hn.target,St(hn,je.lockRef.current))},[]),xn=a.useCallback(function(hn){gn(hn.type,ja(hn),hn.target,St(hn,je.lockRef.current))},[]);a.useEffect(function(){return $o.push(bt),je.setCallbacks({onScrollCapture:fn,onWheelCapture:fn,onTouchMoveCapture:xn}),document.addEventListener("wheel",sn,Vi),document.addEventListener("touchmove",sn,Vi),document.addEventListener("touchstart",Qt,Vi),function(){$o=$o.filter(function(hn){return hn!==bt}),document.removeEventListener("wheel",sn,Vi),document.removeEventListener("touchmove",sn,Vi),document.removeEventListener("touchstart",Qt,Vi)}},[]);var En=je.removeScrollBar,yn=je.inert;return a.createElement(a.Fragment,null,yn?a.createElement(bt,{styles:Ya(ut)}):null,En?a.createElement(Va,{gapMode:"margin"}):null)},ui.useMedium(Yi),ti),pa=a.forwardRef(function(je,Ve){return a.createElement(Ca,Ur({},je,{ref:Ve,sideCar:hi}))});pa.classNames=Ca.classNames;var Rl=pa;const Nl="Popover",[cs,bl]=(0,s.b)(Nl,[Gn]),rl=Gn(),[Pa,Xi]=cs(Nl),us=je=>{const{__scopePopover:Ve,children:Xe,open:rt,defaultOpen:ut,onOpenChange:bt,modal:mt=!1}=je,St=rl(Ve),sn=(0,a.useRef)(null),[gn,Qt]=(0,a.useState)(!1),[fn=!1,xn]=(0,ir.T)({prop:rt,defaultProp:ut,onChange:bt});return(0,a.createElement)(Vt,St,(0,a.createElement)(Pa,{scope:Ve,contentId:(0,be.M)(),triggerRef:sn,open:fn,onOpenChange:xn,onOpenToggle:(0,a.useCallback)(()=>xn(En=>!En),[xn]),hasCustomAnchor:gn,onCustomAnchorAdd:(0,a.useCallback)(()=>Qt(!0),[]),onCustomAnchorRemove:(0,a.useCallback)(()=>Qt(!1),[]),modal:mt},Xe))},ds="PopoverTrigger",ol=(0,a.forwardRef)((je,Ve)=>{const{__scopePopover:Xe,...rt}=je,ut=Xi(ds,Xe),bt=rl(Xe),mt=(0,b.e)(Ve,ut.triggerRef),St=(0,a.createElement)(c.WV.button,(0,r.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":ut.open,"aria-controls":ut.contentId,"data-state":Xl(ut.open)},rt,{ref:mt,onClick:(0,o.M)(je.onClick,ut.onOpenToggle)}));return ut.hasCustomAnchor?St:(0,a.createElement)(wn,(0,r.Z)({asChild:!0},bt),St)}),yl="PopoverPortal",[ya,Ta]=cs(yl,{forceMount:void 0}),Ni=je=>{const{__scopePopover:Ve,forceMount:Xe,children:rt,container:ut}=je,bt=Xi(yl,Ve);return(0,a.createElement)(ya,{scope:Ve,forceMount:Xe},(0,a.createElement)(dr.z,{present:Xe||bt.open},(0,a.createElement)(Qn,{asChild:!0,container:ut},rt)))},aa="PopoverContent",Yl=(0,a.forwardRef)((je,Ve)=>{const Xe=Ta(aa,je.__scopePopover),{forceMount:rt=Xe.forceMount,...ut}=je,bt=Xi(aa,je.__scopePopover);return(0,a.createElement)(dr.z,{present:rt||bt.open},bt.modal?(0,a.createElement)(xa,(0,r.Z)({},ut,{ref:Ve})):(0,a.createElement)(Pi,(0,r.Z)({},ut,{ref:Ve})))}),xa=(0,a.forwardRef)((je,Ve)=>{const Xe=Xi(aa,je.__scopePopover),rt=(0,a.useRef)(null),ut=(0,b.e)(Ve,rt),bt=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{const mt=rt.current;if(mt)return hr(mt)},[]),(0,a.createElement)(Rl,{as:ur.g7,allowPinchZoom:!0},(0,a.createElement)(Ma,(0,r.Z)({},je,{ref:ut,trapFocus:Xe.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.M)(je.onCloseAutoFocus,mt=>{var St;mt.preventDefault(),bt.current||(St=Xe.triggerRef.current)===null||St===void 0||St.focus()}),onPointerDownOutside:(0,o.M)(je.onPointerDownOutside,mt=>{const St=mt.detail.originalEvent,sn=St.button===0&&St.ctrlKey===!0,gn=St.button===2||sn;bt.current=gn},{checkForDefaultPrevented:!1}),onFocusOutside:(0,o.M)(je.onFocusOutside,mt=>mt.preventDefault(),{checkForDefaultPrevented:!1})})))}),Pi=(0,a.forwardRef)((je,Ve)=>{const Xe=Xi(aa,je.__scopePopover),rt=(0,a.useRef)(!1);return(0,a.createElement)(Ma,(0,r.Z)({},je,{ref:Ve,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:ut=>{var bt,mt;(bt=je.onCloseAutoFocus)===null||bt===void 0||bt.call(je,ut),ut.defaultPrevented||(rt.current||(mt=Xe.triggerRef.current)===null||mt===void 0||mt.focus(),ut.preventDefault()),rt.current=!1},onInteractOutside:ut=>{var bt,mt;(bt=je.onInteractOutside)===null||bt===void 0||bt.call(je,ut),ut.defaultPrevented||(rt.current=!0);const St=ut.target;!((mt=Xe.triggerRef.current)===null||mt===void 0)&&mt.contains(St)&&ut.preventDefault()}}))}),Ma=(0,a.forwardRef)((je,Ve)=>{const{__scopePopover:Xe,trapFocus:rt,onOpenAutoFocus:ut,onCloseAutoFocus:bt,disableOutsidePointerEvents:mt,onEscapeKeyDown:St,onPointerDownOutside:sn,onFocusOutside:gn,onInteractOutside:Qt,...fn}=je,xn=Xi(aa,Xe),En=rl(Xe);return de(),(0,a.createElement)(He,{asChild:!0,loop:!0,trapped:rt,onMountAutoFocus:ut,onUnmountAutoFocus:bt},(0,a.createElement)(Y,{asChild:!0,disableOutsidePointerEvents:mt,onInteractOutside:Qt,onEscapeKeyDown:St,onPointerDownOutside:sn,onFocusOutside:gn,onDismiss:()=>xn.onOpenChange(!1)},(0,a.createElement)(Mn,(0,r.Z)({"data-state":Xl(xn.open),role:"dialog",id:xn.contentId},En,fn,{ref:Ve,style:{...fn.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))}),il=(0,a.forwardRef)((je,Ve)=>{const{__scopePopover:Xe,...rt}=je,ut=rl(Xe);return(0,a.createElement)(qn,(0,r.Z)({},ut,rt,{ref:Ve}))});function Xl(je){return je?"open":"closed"}const $l=us,wa=ol,ra=Ni,la=Yl,An=il;var lr=e(8242),Jn=e(453),Cr=e(8935),wr=e(8924),Kr=function(je){var Ve=je.color,Xe=je.onChange,rt=je.label,ut=je.colorPickerType,bt=(0,lr.Fy)(),mt=(0,a.useState)(Ve),St=(0,_.Z)(mt,2),sn=St[0],gn=St[1],Qt=(0,H.KO)(ue),fn=(0,_.Z)(Qt,2),xn=fn[0],En=fn[1];(0,a.useEffect)(function(){gn(Ve)},[Ve]);var yn=(0,a.useCallback)(function(fr){var Tr=fr.toLowerCase(),mr=Bi(Tr);mr&&Xe(mr),gn(Tr)},[Xe]),hn=(0,a.useRef)(null),In=(0,a.useRef)(null);(0,a.useEffect)(function(){hn.current&&hn.current.focus()},[xn]);var Un=(0,H.KO)(wr.$,Jn.yE),Kn=(0,_.Z)(Un,2),Bn=Kn[0],Fn=Kn[1];return(0,a.useEffect)(function(){return function(){Fn(null)}},[Fn]),(0,T.jsxs)("div",{className:"color-picker__input-label",children:[(0,T.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,T.jsx)("input",{ref:xn==="hex"?hn:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":rt,onChange:function(fr){yn(fr.target.value)},value:(sn||"").replace(/^#/,""),onBlur:function(){gn(Ve)},tabIndex:-1,onFocus:function(){return En("hex")},onKeyDown:function(fr){var Tr;fr.key!==L.tW.TAB&&(fr.key===L.tW.ESCAPE&&((Tr=In.current)===null||Tr===void 0||Tr.focus()),fr.stopPropagation())}}),!bt.editor.isMobile&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,T.jsx)("div",{ref:In,className:(0,p.Z)("excalidraw-eye-dropper-trigger",{selected:Bn}),onClick:function(){return Fn(function(fr){return fr?null:{keepOpenOnAlt:!1,onSelect:function(Tr){return Xe(Tr)},colorPickerType:ut}})},title:"".concat((0,N.t)("labels.eyeDropper"),"  ").concat(L.tW.I.toLocaleUpperCase()," or ").concat((0,g.uY)("Alt")," "),children:Cr.$W})]})]})},Vr=e(3379),zr=e.n(Vr),Si=e(7795),Zi=e.n(Si),zi=e(569),xl=e.n(zi),Gl=e(3565),Aa=e.n(Gl),al=e(9216),Xa=e.n(al),So=e(4589),_i=e.n(So),Ti=e(4269),Lo={};Lo.styleTagTransform=_i(),Lo.setAttributes=Aa(),Lo.insert=xl().bind(null,"head"),Lo.domAPI=Zi(),Lo.insertStyleElement=Xa(),zr()(Ti.Z,Lo),Ti.Z&&Ti.Z.locals&&Ti.Z.locals;var Wo=function(je){var Ve=new Option().style;return Ve.color=je,!!Ve.color},Bi=function(je){return(0,g.Qm)(je)?je:Wo("#".concat(je))?"#".concat(je):Wo(je)?je:null},$a=function(je){var Ve=je.type,Xe=je.color,rt=je.onChange,ut=je.label,bt=je.elements,mt=je.palette,St=mt===void 0?y.HO:mt,sn=je.updateData,gn=(0,H.KO)(ue),Qt=(0,_.Z)(gn,2)[1],fn=(0,H.KO)(wr.$,Jn.yE),xn=(0,_.Z)(fn,2),En=xn[0],yn=xn[1],hn=(0,lr.J0)().container,In=(0,lr.Fy)(),Un=(0,T.jsxs)("div",{children:[(0,T.jsx)(P,{children:(0,N.t)("colorPicker.hexCode")}),(0,T.jsx)(Kr,{color:Xe,label:ut,onChange:function(Fn){rt(Fn)},colorPickerType:Ve})]}),Kn=(0,a.useRef)(null),Bn=function(){var Fn,fr;(Fn=Kn.current)===null||Fn===void 0||(fr=Fn.querySelector(".color-picker-content"))===null||fr===void 0||fr.focus()};return(0,T.jsx)(ra,{container:hn,children:(0,T.jsxs)(la,{ref:Kn,className:"focus-visible-none","data-prevent-outside-click":!0,onFocusOutside:function(Fn){Bn(),Fn.preventDefault()},onPointerDownOutside:function(Fn){En&&Fn.preventDefault()},onCloseAutoFocus:function(Fn){Fn.stopPropagation(),Fn.preventDefault(),hn&&!(0,g.y1)(document.activeElement)&&hn.focus(),sn({openPopup:null}),Qt(null)},side:In.editor.isMobile&&!In.viewport.isLandscape?"bottom":"right",align:In.editor.isMobile&&!In.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-layerUI)",backgroundColor:"var(--popup-bg-color)",maxWidth:"208px",maxHeight:window.innerHeight,padding:"12px",borderRadius:"8px",boxSizing:"border-box",overflowY:"auto",boxShadow:"0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702)"},children:[St?(0,T.jsx)(f,{palette:St,color:Xe,onChange:function(Fn){rt(Fn)},onEyeDropperToggle:function(Fn){yn(function(fr){return Fn?((fr=fr||{keepOpenOnAlt:!0,onSelect:rt,colorPickerType:Ve}).keepOpenOnAlt=!0,fr):Fn===!1||fr?null:{keepOpenOnAlt:!1,onSelect:rt,colorPickerType:Ve}})},onEscape:function(Fn){En?yn(null):(0,g.s)(Fn.target)?Bn():sn({openPopup:null})},label:ut,type:Ve,elements:bt,updateData:sn,children:Un}):Un,(0,T.jsx)(An,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})},ll=function(je){var Ve=je.label,Xe=je.color,rt=je.type;return(0,T.jsx)(wa,{type:"button",className:(0,p.Z)("color-picker__button active-color",{"is-transparent":Xe==="transparent"||!Xe}),"aria-label":Ve,style:Xe?{"--swatch-color":Xe}:void 0,title:rt==="elementStroke"?(0,N.t)("labels.showStroke"):(0,N.t)("labels.showBackground"),children:(0,T.jsx)("div",{className:"color-picker__button-outline"})})},ot=function(je){var Ve=je.type,Xe=je.color,rt=je.onChange,ut=je.label,bt=je.elements,mt=je.palette,St=mt===void 0?y.HO:mt,sn=je.topPicks,gn=je.updateData,Qt=je.appState;return(0,T.jsx)("div",{children:(0,T.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,T.jsx)(E,{activeColor:Xe,onChange:rt,type:Ve,topPicks:sn}),(0,T.jsx)("div",{style:{width:1,height:"100%",backgroundColor:"var(--default-border-color)",margin:"0 auto"}}),(0,T.jsxs)($l,{open:Qt.openPopup===Ve,onOpenChange:function(fn){gn({openPopup:fn?Ve:null})},children:[(0,T.jsx)(ll,{color:Xe,label:ut,type:Ve}),Qt.openPopup===Ve&&(0,T.jsx)($a,{type:Ve,color:Xe,onChange:rt,label:ut,elements:bt,palette:St,updateData:gn})]})]})})}},6887:function(te,t,e){e.d(t,{Z:function(){return r}});var _=e(7169),g=e(2726),p=e(8227),y=e(1300),T=e(3379),E=e.n(T),a=e(7795),u=e.n(a),N=e(569),H=e.n(N),x=e(3565),m=e.n(x),k=e(9216),Q=e.n(k),ue=e(4589),me=e.n(ue),ye=e(9393),fe={};fe.styleTagTransform=me(),fe.setAttributes=m(),fe.insert=H().bind(null,"head"),fe.domAPI=u(),fe.insertStyleElement=Q(),E()(ye.Z,fe),ye.Z&&ye.Z.locals&&ye.Z.locals;var G=e(4932),$=e(3607),U=e(3116),L=e(8242),F=e(453),I=e(1020),P=["onConfirm","onCancel","children","confirmText","cancelText","className"];function w(o,b){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);b&&(c=c.filter(function(S){return Object.getOwnPropertyDescriptor(o,S).enumerable})),s.push.apply(s,c)}return s}function f(o){for(var b=1;b<arguments.length;b++){var s=arguments[b]!=null?arguments[b]:{};b%2?w(Object(s),!0).forEach(function(c){(0,_.Z)(o,c,s[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(s,c))})}return o}var r=function(o){var b=o.onConfirm,s=o.onCancel,c=o.children,S=o.confirmText,z=S===void 0?(0,p.t)("buttons.confirm"):S,B=o.cancelText,j=B===void 0?(0,p.t)("buttons.cancel"):B,C=o.className,A=C===void 0?"":C,Y=(0,g.Z)(o,P),ie=(0,L.n9)(),le=(0,$.b9)(U.uh,F.yE),ce=(0,L.J0)().container;return(0,I.jsxs)(y.V,f(f({onCloseRequest:s,size:"small"},Y),{},{className:"confirm-dialog ".concat(A),children:[c,(0,I.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,I.jsx)(G.Z,{label:j,onClick:function(){ie({openMenu:null}),le(!1),s(),ce?.focus()}}),(0,I.jsx)(G.Z,{label:z,onClick:function(){ie({openMenu:null}),le(!1),b(),ce?.focus()},actionType:"danger"})]})]}))}},1925:function(te,t,e){e.d(t,{O:function(){return U}});var _=e(2726),g=e(7169),p=e(45),y=e(9937),T=e(4572),E=e(100),a=e(8227),u=e(9827),N=e(8242),H=e(6922),x=e(3116),m=e(5902),k=e(1020),Q=e(9787),ue=["children"],me=["children","className","onDock","docked"];function ye(L,F){var I=Object.keys(L);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(L);F&&(P=P.filter(function(w){return Object.getOwnPropertyDescriptor(L,w).enumerable})),I.push.apply(I,P)}return I}function fe(L){for(var F=1;F<arguments.length;F++){var I=arguments[F]!=null?arguments[F]:{};F%2?ye(Object(I),!0).forEach(function(P){(0,g.Z)(L,P,I[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(I)):ye(Object(I)).forEach(function(P){Object.defineProperty(L,P,Object.getOwnPropertyDescriptor(I,P))})}return L}var G=(0,H.$)("DefaultSidebarTrigger",function(L){var F=(0,T.R6)().DefaultSidebarTriggerTunnel;return(0,k.jsx)(F.In,{children:(0,k.jsx)(m.YE.Trigger,fe(fe({},L),{},{className:"default-sidebar-trigger",name:y.Cc.name}))})});G.displayName="DefaultSidebarTrigger";var $=function(L){var F=L.children,I=(0,_.Z)(L,ue),P=(0,T.R6)().DefaultSidebarTabTriggersTunnel;return(0,k.jsx)(P.In,{children:(0,k.jsx)(m.YE.TabTriggers,fe(fe({},I),{},{children:F}))})};$.displayName="DefaultTabTriggers";var U=Object.assign((0,H.$)("DefaultSidebar",function(L){var F=L.children,I=L.className,P=L.onDock,w=L.docked,f=(0,_.Z)(L,me),r=(0,E.I)(),o=(0,N.n9)(),b=(0,T.R6)().DefaultSidebarTabTriggersTunnel;return(0,Q.createElement)(m.YE,fe(fe({},f),{},{name:"default",key:"default",className:(0,p.Z)("default-sidebar",I),docked:w??r.defaultSidebarDockedPreference,onDock:P===!1||!P&&w!=null?void 0:(0,u.Mj)(P,function(s){o({defaultSidebarDockedPreference:s})})}),(0,k.jsxs)(m.YE.Tabs,{children:[(0,k.jsxs)(m.YE.Header,{children:[f.__fallback&&(0,k.jsx)("div",{style:{color:"var(--color-primary)",fontSize:"1.2em",fontWeight:"bold",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"1em"},children:(0,a.t)("toolBar.library")}),(0,k.jsx)(b.Out,{})]}),(0,k.jsx)(m.YE.Tab,{tab:y.tf,children:(0,k.jsx)(x.rY,{})}),F]}))}),{Trigger:G,TabTriggers:$})},1300:function(te,t,e){e.d(t,{V:function(){return z}});var _=e(2577),g=e(45),p=e(9787),y=e(8227),T=e(8242),E=e(5491),a=e(3379),u=e.n(a),N=e(7795),H=e.n(N),x=e(569),m=e.n(x),k=e(3565),Q=e.n(k),ue=e(9216),me=e.n(ue),ye=e(4589),fe=e.n(ye),G=e(9482),$={};$.styleTagTransform=fe(),$.setAttributes=Q(),$.insert=m().bind(null,"head"),$.domAPI=H(),$.insertStyleElement=me(),u()(G.Z,$),G.Z&&G.Z.locals&&G.Z.locals;var U=e(8935),L=e(1404),F=e(6843),I={};I.styleTagTransform=fe(),I.setAttributes=Q(),I.insert=m().bind(null,"head"),I.domAPI=H(),I.insertStyleElement=me(),u()(F.Z,I),F.Z&&F.Z.locals&&F.Z.locals;var P=e(5156),w=e(334),f=e(1020),r=function(B){var j=B.closeOnClickOutside,C=j===void 0||j,A=(0,w.F)({className:"excalidraw-modal-container"});return A?(0,P.createPortal)((0,f.jsxs)("div",{className:(0,g.Z)("Modal",B.className),role:"dialog","aria-modal":"true",onKeyDown:function(Y){Y.key===E.tW.ESCAPE&&(Y.nativeEvent.stopImmediatePropagation(),Y.stopPropagation(),B.onCloseRequest())},"aria-labelledby":B.labelledBy,"data-prevent-outside-click":!0,children:[(0,f.jsx)("div",{className:"Modal__background",onClick:C?B.onCloseRequest:void 0}),(0,f.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(B.maxWidth,"px")},tabIndex:0,children:B.children})]}),A):null},o=e(9827),b=e(3607),s=e(3116),c=e(453);function S(B){if(B&&typeof B=="number")return B;switch(B){case"small":return 550;case"wide":return 1024;default:return 800}}var z=function(B){var j=function(){var Pe=(0,p.useState)(null),He=(0,_.Z)(Pe,2),Ke=He[0],Ae=He[1];return[Ke,(0,p.useCallback)(function(Oe){return Ae(Oe)},[])]}(),C=(0,_.Z)(j,2),A=C[0],Y=C[1],ie=(0,p.useState)(document.activeElement),le=(0,_.Z)(ie,1)[0],ce=(0,T.J0)().id,de=(0,T.Fy)().viewport.isMobile;(0,p.useEffect)(function(){if(A){var Pe=(0,o.xp)(A);Pe.length>0&&B.autofocus!==!1&&(Pe[1]||Pe[0]).focus();var He=function(Ke){if(Ke.key===E.tW.TAB){var Ae=(0,o.xp)(A),Oe=document.activeElement,Te=Ae.findIndex(function(De){return De===Oe});Te===0&&Ke.shiftKey?(Ae[Ae.length-1].focus(),Ke.preventDefault()):Te!==Ae.length-1||Ke.shiftKey||(Ae[0].focus(),Ke.preventDefault())}};return A.addEventListener("keydown",He),function(){return A.removeEventListener("keydown",He)}}},[A,B.autofocus]);var J=(0,T.n9)(),ee=(0,b.b9)(s.uh,c.yE),he=function(){J({openMenu:null}),ee(!1),le.focus(),B.onCloseRequest()};return(0,f.jsx)(r,{className:(0,g.Z)("Dialog",B.className,{"Dialog--fullscreen":de}),labelledBy:"dialog-title",maxWidth:S(B.size),onCloseRequest:he,closeOnClickOutside:B.closeOnClickOutside,children:(0,f.jsxs)(L.W,{ref:Y,children:[B.title&&(0,f.jsx)("h2",{id:"".concat(ce,"-dialog-title"),className:"Dialog__title",children:(0,f.jsx)("span",{className:"Dialog__titleContent",children:B.title})}),(0,f.jsx)("button",{className:"Dialog__close",onClick:he,title:(0,y.t)("buttons.close"),"aria-label":(0,y.t)("buttons.close"),children:de?U.op:U.Tw}),(0,f.jsx)("div",{className:"Dialog__content",children:B.children})]})})}},4932:function(te,t,e){e.d(t,{Z:function(){return F}});var _=e(7169),g=e(2726),p=e(45),y=e(3379),T=e.n(y),E=e(7795),a=e.n(E),u=e(569),N=e.n(u),H=e(3565),x=e.n(H),m=e(9216),k=e.n(m),Q=e(4589),ue=e.n(Q),me=e(6148),ye={};ye.styleTagTransform=ue(),ye.setAttributes=x(),ye.insert=N().bind(null,"head"),ye.domAPI=a(),ye.insertStyleElement=k(),T()(me.Z,ye),me.Z&&me.Z.locals&&me.Z.locals;var fe=e(8531),G=e(1020),$=["label","onClick","className","children","actionType","type","isLoading"];function U(I,P){var w=Object.keys(I);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(I);P&&(f=f.filter(function(r){return Object.getOwnPropertyDescriptor(I,r).enumerable})),w.push.apply(w,f)}return w}function L(I){for(var P=1;P<arguments.length;P++){var w=arguments[P]!=null?arguments[P]:{};P%2?U(Object(w),!0).forEach(function(f){(0,_.Z)(I,f,w[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(w)):U(Object(w)).forEach(function(f){Object.defineProperty(I,f,Object.getOwnPropertyDescriptor(w,f))})}return I}var F=function(I){var P=I.label,w=I.onClick,f=I.className,r=I.children,o=I.actionType,b=I.type,s=b===void 0?"button":b,c=I.isLoading,S=(0,g.Z)(I,$),z=o?"Dialog__action-button--".concat(o):"";return(0,G.jsxs)("button",L(L({className:(0,p.Z)("Dialog__action-button",z,f),type:s,"aria-label":P,onClick:w},S),{},{children:[r&&(0,G.jsx)("div",{style:c?{visibility:"hidden"}:{},children:r}),(0,G.jsx)("div",{style:c?{visibility:"hidden"}:{},children:P}),c&&(0,G.jsx)("div",{style:{position:"absolute",inset:0},children:(0,G.jsx)(fe.Z,{})})]}))}},8924:function(te,t,e){e.d(t,{p:function(){return r},$:function(){return f}});var _=e(3607),g=e(9787),p=e(5156),y=e(9240),T=e(9937),E=e(100),a=e(334),u=e(1901),N=e(5491),H=e(4105),x=e(8242),m=e(3379),k=e.n(m),Q=e(7795),ue=e.n(Q),me=e(569),ye=e.n(me),fe=e(3565),G=e.n(fe),$=e(9216),U=e.n($),L=e(4589),F=e.n(L),I=e(7522),P={};P.styleTagTransform=F(),P.setAttributes=G(),P.insert=ye().bind(null,"head"),P.domAPI=ue(),P.insertStyleElement=U(),k()(I.Z,P),I.Z&&I.Z.locals&&I.Z.locals;var w=e(1020),f=(0,_.cn)(null),r=function(o){var b=o.onCancel,s=o.onChange,c=o.onSelect,S=o.colorPickerType,z=(0,a.F)({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),B=(0,E.I)(),j=(0,x.bd)(),C=(0,x.qD)(),A=(0,H.eD)(j,B),Y=function(ce){var de=(0,g.useRef)(ce);return Object.assign(de.current,ce),de.current}({app:C,onCancel:b,onChange:s,onSelect:c,selectedElements:A}),ie=(0,x.J0)().container;(0,g.useEffect)(function(){var ce=le.current;if(ce&&C.canvas&&z){var de=!1,J=C.canvas.getContext("2d"),ee=function(Oe){var Te=Oe.clientX,De=Oe.clientY,ke=J.getImageData((Te-B.offsetLeft)*window.devicePixelRatio,(De-B.offsetTop)*window.devicePixelRatio,1,1).data;return(0,y.vq)(ke[0],ke[1],ke[2])},he=function(Oe){var Te=Oe.clientX,De=Oe.clientY,ke=Oe.altKey;ce.style.top="".concat(De+20,"px"),ce.style.left="".concat(Te+20,"px");var be=ee({clientX:Te,clientY:De});de&&Y.onChange(S,be,Y.selectedElements,{altKey:ke}),ce.style.background=be},Pe=function(){Y.onCancel()},He=function(Oe){de=!0,Oe.stopImmediatePropagation()},Ke=function(Oe){de=!1,ie?.focus(),Oe.stopImmediatePropagation(),Oe.preventDefault(),function(Te,De){Y.onSelect(Te,De)}(ee(Oe),Oe)},Ae=function(Oe){Oe.key===N.tW.ESCAPE&&(Oe.preventDefault(),Oe.stopImmediatePropagation(),Pe())};return z.tabIndex=-1,z.focus(),he({clientX:Y.app.lastViewportPosition.x,clientY:Y.app.lastViewportPosition.y,altKey:!1}),z.addEventListener(T.Ks.KEYDOWN,Ae),z.addEventListener(T.Ks.POINTER_DOWN,He),z.addEventListener(T.Ks.POINTER_UP,Ke),window.addEventListener("pointermove",he,{passive:!0}),window.addEventListener(T.Ks.BLUR,Pe),function(){de=!1,z.removeEventListener(T.Ks.KEYDOWN,Ae),z.removeEventListener(T.Ks.POINTER_DOWN,He),z.removeEventListener(T.Ks.POINTER_UP,Ke),window.removeEventListener("pointermove",he),window.removeEventListener(T.Ks.BLUR,Pe)}}},[Y,C.canvas,z,S,ie,B.offsetLeft,B.offsetTop]);var le=(0,g.useRef)(null);return(0,u.O)(le,function(){b()},function(ce){return!!ce.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")}),z?(0,p.createPortal)((0,w.jsx)("div",{ref:le,className:"excalidraw-eye-dropper-preview"}),z):null}},1404:function(te,t,e){e.d(t,{W:function(){return L}});var _=e(7169),g=e(3379),p=e.n(g),y=e(7795),T=e.n(y),E=e(569),a=e.n(E),u=e(3565),N=e.n(u),H=e(9216),x=e.n(H),m=e(4589),k=e.n(m),Q=e(7369),ue={};ue.styleTagTransform=k(),ue.setAttributes=N(),ue.insert=a().bind(null,"head"),ue.domAPI=T(),ue.insertStyleElement=x(),p()(Q.Z,ue),Q.Z&&Q.Z.locals&&Q.Z.locals;var me=e(9787),ye=e.n(me),fe=e(45),G=e(1020);function $(F,I){var P=Object.keys(F);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(F);I&&(w=w.filter(function(f){return Object.getOwnPropertyDescriptor(F,f).enumerable})),P.push.apply(P,w)}return P}function U(F){for(var I=1;I<arguments.length;I++){var P=arguments[I]!=null?arguments[I]:{};I%2?$(Object(P),!0).forEach(function(w){(0,_.Z)(F,w,P[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(P)):$(Object(P)).forEach(function(w){Object.defineProperty(F,w,Object.getOwnPropertyDescriptor(P,w))})}return F}var L=ye().forwardRef(function(F,I){var P=F.children,w=F.padding,f=F.className,r=F.style;return(0,G.jsx)("div",{className:(0,fe.Z)("Island",f),style:U({"--padding":w},r),ref:I,children:P})})},3116:function(te,t,e){e.d(t,{rY:function(){return _t},uh:function(){return Ht}});var _=e(6655),g=e(1930),p=e(8950),y=e(2577),T=e(2975),E=e.n(T),a=e(9787),u=e.n(a),N=e(9326),H=e(8227),x=e(4643),m=e(7169),k=e(4419),Q=e(9827),ue=e(2540),me=e(9937),ye=e(8531),fe=e(5742),G=e(1020),$=function(xt){var At=xt.theme,It=xt.id,Mt=xt.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,G.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(Mt,"&useHash=true&token=").concat(It,"&theme=").concat(At,"&version=").concat(me.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,H.t)("labels.libraries")})},U=e(45),L=function(xt){var At=xt.libraryReturnUrl,It=xt.theme,Mt=xt.id,Nt=xt.style,Yt=xt.children,ln=xt.className;return(0,G.jsxs)("div",{className:(0,U.Z)("library-menu-control-buttons",ln),style:Nt,children:[(0,G.jsx)($,{id:Mt,libraryReturnUrl:At,theme:It}),Yt]})},F=e(9247),I=e(453),P=e(8242),w=e(8935),f=e(1512),r=e(6548),o=e(3607),b=e(6887),s=e(5284),c=e(1300),S=e(507),z=e(5796),B=e(4932),j=e(3379),C=e.n(j),A=e(7795),Y=e.n(A),ie=e(569),le=e.n(ie),ce=e(3565),de=e.n(ce),J=e(9216),ee=e.n(J),he=e(4589),Pe=e.n(he),He=e(7589),Ke={};Ke.styleTagTransform=Pe(),Ke.setAttributes=de(),Ke.insert=le().bind(null,"head"),Ke.domAPI=Y(),Ke.insertStyleElement=ee(),C()(He.Z,Ke),He.Z&&He.Z.locals&&He.Z.locals;function Ae(xt,At){var It=Object.keys(xt);if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(xt);At&&(Mt=Mt.filter(function(Nt){return Object.getOwnPropertyDescriptor(xt,Nt).enumerable})),It.push.apply(It,Mt)}return It}function Oe(xt){for(var At=1;At<arguments.length;At++){var It=arguments[At]!=null?arguments[At]:{};At%2?Ae(Object(It),!0).forEach(function(Mt){(0,m.Z)(xt,Mt,It[Mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(It)):Ae(Object(It)).forEach(function(Mt){Object.defineProperty(xt,Mt,Object.getOwnPropertyDescriptor(It,Mt))})}return xt}function Te(xt,At){var It=typeof Symbol<"u"&&xt[Symbol.iterator]||xt["@@iterator"];if(!It){if(Array.isArray(xt)||(It=function(kn,Tn){if(kn){if(typeof kn=="string")return De(kn,Tn);var zn=Object.prototype.toString.call(kn).slice(8,-1);if(zn==="Object"&&kn.constructor&&(zn=kn.constructor.name),zn==="Map"||zn==="Set")return Array.from(kn);if(zn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(zn))return De(kn,Tn)}}(xt))||At){It&&(xt=It);var Mt=0,Nt=function(){};return{s:Nt,n:function(){return Mt>=xt.length?{done:!0}:{done:!1,value:xt[Mt++]}},e:function(kn){throw kn},f:Nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Yt,ln=!0,an=!1;return{s:function(){It=It.call(xt)},n:function(){var kn=It.next();return ln=kn.done,kn},e:function(kn){an=!0,Yt=kn},f:function(){try{ln||It.return==null||It.return()}finally{if(an)throw Yt}}}}function De(xt,At){(At==null||At>xt.length)&&(At=xt.length);for(var It=0,Mt=new Array(At);It<At;It++)Mt[It]=xt[It];return Mt}var ke="publish-library-data",be=function(){var xt=(0,p.Z)(E().mark(function At(It){var Mt,Nt,Yt,ln,an,kn,Tn,zn,un,zt,en,Jt,Sn,Hn,Yn,or,$n;return E().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:Mt=6,Nt=128,Yt=Math.round(Nt/16),ln=Math.max(Math.round(Nt/64),2),an=(0,Q.yo)(It,Mt),(kn=document.createElement("canvas")).width=an[0].length*Nt+(an[0].length+1)*(2*Yt)-2*Yt,kn.height=an.length*Nt+(an.length+1)*(2*Yt)-2*Yt,(Tn=kn.getContext("2d")).fillStyle=s.white,Tn.fillRect(0,0,kn.width,kn.height),zn=Te(It.entries()),rn.prev=12,zn.s();case 14:if((un=zn.n()).done){rn.next=28;break}return zt=(0,y.Z)(un.value,2),en=zt[0],Jt=zt[1],rn.next=18,(0,S.NL)({elements:Jt.elements,files:null,maxWidthOrHeight:Nt});case 18:Sn=rn.sent,Hn=Sn.width,Yn=Sn.height,or=Math.floor(en/Mt)*(Nt+2*Yt),$n=en%Mt*(Nt+2*Yt),Tn.drawImage(Sn,$n+(Nt-Hn)/2+Yt,or+(Nt-Yn)/2+Yt),Tn.lineWidth=ln,Tn.strokeStyle=s.gray[4],Tn.strokeRect($n+Yt/2,or+Yt/2,Nt+Yt,Nt+Yt);case 26:rn.next=14;break;case 28:rn.next=33;break;case 30:rn.prev=30,rn.t0=rn.catch(12),zn.e(rn.t0);case 33:return rn.prev=33,zn.f(),rn.finish(33);case 36:return rn.t1=z.Tu,rn.t2=File,rn.next=40,(0,z._c)(kn);case 40:return rn.t3=rn.sent,rn.t4=[rn.t3],rn.t5={type:me.LO.png},rn.t6=new rn.t2(rn.t4,"preview",rn.t5),rn.t7={outputType:me.LO.jpg,maxWidthOrHeight:5e3},rn.next=47,(0,rn.t1)(rn.t6,rn.t7);case 47:return rn.abrupt("return",rn.sent);case 48:case"end":return rn.stop()}},At,null,[[12,30,33,36]])}));return function(At){return xt.apply(this,arguments)}}(),ve=function(xt){var At=xt.libItem,It=xt.appState,Mt=xt.index,Nt=xt.onChange,Yt=xt.onRemove,ln=(0,a.useRef)(null),an=(0,a.useRef)(null);return(0,a.useEffect)(function(){var kn=ln.current;kn&&(0,p.Z)(E().mark(function Tn(){var zn;return E().wrap(function(un){for(;;)switch(un.prev=un.next){case 0:return un.next=2,(0,S.$D)({elements:At.elements,appState:Oe(Oe({},It),{},{viewBackgroundColor:s.white,exportBackground:!0}),files:null});case 2:zn=un.sent,kn.innerHTML=zn.outerHTML;case 4:case"end":return un.stop()}},Tn)}))()},[At.elements,It]),(0,G.jsxs)("div",{className:"single-library-item",children:[At.status==="published"&&(0,G.jsx)("span",{className:"single-library-item-status",children:(0,H.t)("labels.statusPublished")}),(0,G.jsx)("div",{ref:ln,className:"single-library-item__svg"}),(0,G.jsx)(f.V,{"aria-label":(0,H.t)("buttons.remove"),type:"button",icon:w.Tw,className:"single-library-item--remove",onClick:Yt.bind(null,At.id),title:(0,H.t)("buttons.remove")}),(0,G.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,G.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,G.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,G.jsx)("span",{style:{fontWeight:500,color:s.gray[6]},children:(0,H.t)("publishDialog.itemName")}),(0,G.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,G.jsx)("input",{type:"text",ref:an,style:{width:"80%",padding:"0.2rem"},defaultValue:At.name,placeholder:"Item name",onChange:function(kn){Nt(kn.target.value,Mt)}})]}),(0,G.jsx)("span",{className:"error",children:At.error})]})]})},D=function(xt){var At=xt.onClose,It=xt.libraryItems,Mt=xt.appState,Nt=xt.onSuccess,Yt=xt.onError,ln=xt.updateItemsInStorage,an=xt.onRemove,kn=(0,a.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),Tn=(0,y.Z)(kn,2),zn=Tn[0],un=Tn[1],zt=(0,a.useState)(!1),en=(0,y.Z)(zt,2),Jt=en[0],Sn=en[1];(0,a.useEffect)(function(){var Cn=function(){try{var Dn=localStorage.getItem(ke);if(Dn)return JSON.parse(Dn)}catch(Wn){console.error(Wn)}return null}();Cn&&un(Cn)},[]);var Hn=(0,a.useState)(It.slice()),Yn=(0,y.Z)(Hn,2),or=Yn[0],$n=Yn[1];(0,a.useEffect)(function(){$n(It.slice())},[It]);var rn,Pt=function(Cn){un(Oe(Oe({},zn),{},(0,m.Z)({},Cn.target.name,Cn.target.value)))},Dt=function(){var Cn=(0,p.Z)(E().mark(function Dn(Wn){var Ln,er,Vn,Pn,Rn,Nn,Gn;return E().wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:if(Wn.preventDefault(),Sn(!0),Ln=[],er=!1,or.forEach(function(rr){var Or="";rr.name||(Or=(0,H.t)("publishDialog.errors.required"),er=!0),Ln.push(Oe(Oe({},rr),{},{error:Or}))}),!er){nr.next=9;break}return $n(Ln),Sn(!1),nr.abrupt("return");case 9:return nr.next=11,be(or);case 11:Vn=nr.sent,Pn={type:me.r8.excalidrawLibrary,version:me.Kr.excalidrawLibrary,source:me.pb,libraryItems:or},Rn=JSON.stringify(Pn,null,2),Nn=new Blob([Rn],{type:"application/json"}),(Gn=new FormData).append("excalidrawLib",Nn),Gn.append("previewImage",Vn),Gn.append("previewImageType",Vn.type),Gn.append("title",zn.name),Gn.append("authorName",zn.authorName),Gn.append("githubHandle",zn.githubHandle),Gn.append("name",zn.name),Gn.append("description",zn.description),Gn.append("twitterHandle",zn.twitterHandle),Gn.append("website",zn.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:Gn}).then(function(rr){return rr.ok?rr.json().then(function(Or){var Xr=Or.url;localStorage.removeItem(ke),Nt({url:Xr,authorName:zn.authorName,items:or})}):rr.json().catch(function(){throw new Error(rr.statusText||"something went wrong")}).then(function(Or){throw new Error(Or.message||rr.statusText||"something went wrong")})},function(rr){console.error(rr),Yt(rr),Sn(!1)}).catch(function(rr){console.error(rr),Yt(rr),Sn(!1)});case 27:case"end":return nr.stop()}},Dn)}));return function(Dn){return Cn.apply(this,arguments)}}(),Ft=(0,a.useCallback)(function(){ln(or),function(Cn){try{localStorage.setItem(ke,JSON.stringify(Cn))}catch(Dn){console.error(Dn)}}(zn),At()},[or,At,ln,zn]),dn=!!It.length,jn=It.some(function(Cn){return Cn.status==="published"});return(0,G.jsx)(c.V,{onCloseRequest:Ft,title:(0,H.t)("publishDialog.title"),className:"publish-library",children:dn?(0,G.jsxs)("form",{onSubmit:Dt,children:[(0,G.jsx)("div",{className:"publish-library-note",children:(0,G.jsx)(F.Z,{i18nKey:"publishDialog.noteDescription",link:function(Cn){return(0,G.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:Cn})}})}),(0,G.jsx)("span",{className:"publish-library-note",children:(0,G.jsx)(F.Z,{i18nKey:"publishDialog.noteGuidelines",link:function(Cn){return(0,G.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:Cn})}})}),(0,G.jsx)("div",{className:"publish-library-note",children:(0,H.t)("publishDialog.noteItems")}),jn&&(0,G.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,H.t)("publishDialog.republishWarning")}),(rn=[],or.forEach(function(Cn,Dn){rn.push((0,G.jsx)("div",{className:"single-library-item-wrapper",children:(0,G.jsx)(ve,{libItem:Cn,appState:Mt,index:Dn,onChange:function(Wn,Ln){var er=or.slice();er[Ln].name=Wn,$n(er)},onRemove:an})},Dn))}),(0,G.jsx)("div",{className:"selected-library-items",children:rn})),(0,G.jsxs)("div",{className:"publish-library__fields",children:[(0,G.jsxs)("label",{children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("span",{children:(0,H.t)("publishDialog.libraryName")}),(0,G.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,G.jsx)("input",{type:"text",name:"name",required:!0,value:zn.name,onChange:Pt,placeholder:(0,H.t)("publishDialog.placeholder.libraryName")})]}),(0,G.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("span",{children:(0,H.t)("publishDialog.libraryDesc")}),(0,G.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,G.jsx)("textarea",{name:"description",rows:4,required:!0,value:zn.description,onChange:Pt,placeholder:(0,H.t)("publishDialog.placeholder.libraryDesc")})]}),(0,G.jsxs)("label",{children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("span",{children:(0,H.t)("publishDialog.authorName")}),(0,G.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,G.jsx)("input",{type:"text",name:"authorName",required:!0,value:zn.authorName,onChange:Pt,placeholder:(0,H.t)("publishDialog.placeholder.authorName")})]}),(0,G.jsxs)("label",{children:[(0,G.jsx)("span",{children:(0,H.t)("publishDialog.githubUsername")}),(0,G.jsx)("input",{type:"text",name:"githubHandle",value:zn.githubHandle,onChange:Pt,placeholder:(0,H.t)("publishDialog.placeholder.githubHandle")})]}),(0,G.jsxs)("label",{children:[(0,G.jsx)("span",{children:(0,H.t)("publishDialog.twitterUsername")}),(0,G.jsx)("input",{type:"text",name:"twitterHandle",value:zn.twitterHandle,onChange:Pt,placeholder:(0,H.t)("publishDialog.placeholder.twitterHandle")})]}),(0,G.jsxs)("label",{children:[(0,G.jsx)("span",{children:(0,H.t)("publishDialog.website")}),(0,G.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,H.t)("publishDialog.errors.website"),value:zn.website,onChange:Pt,placeholder:(0,H.t)("publishDialog.placeholder.website")})]}),(0,G.jsx)("span",{className:"publish-library-note",children:(0,G.jsx)(F.Z,{i18nKey:"publishDialog.noteLicense",link:function(Cn){return(0,G.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:Cn})}})})]}),(0,G.jsxs)("div",{className:"publish-library__buttons",children:[(0,G.jsx)(B.Z,{label:(0,H.t)("buttons.cancel"),onClick:Ft,"data-testid":"cancel-clear-canvas-button"}),(0,G.jsx)(B.Z,{type:"submit",label:(0,H.t)("buttons.submit"),actionType:"primary",isLoading:Jt})]})]}):(0,G.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,H.t)("publishDialog.atleastOneLibItem")})})},l=e(7104),d=e(100),M=e(5832),V=function(xt,At){return xt.filter(function(It){return At.includes(It.id)})},q=function(xt){var At,It,Mt=xt.setAppState,Nt=xt.selectedItems,Yt=xt.library,ln=xt.onRemoveFromLibrary,an=xt.resetLibrary,kn=xt.onSelectItems,Tn=xt.appState,zn=xt.className,un=(0,o.KO)(N.rF,I.yE),zt=(0,y.Z)(un,1)[0],en=(0,o.KO)(Ht,I.yE),Jt=(0,y.Z)(en,2),Sn=Jt[0],Hn=Jt[1],Yn=(0,a.useState)(!1),or=(0,y.Z)(Yn,2),$n=or[0],rn=or[1],Pt=!!Nt.length,Dt=Pt?zt.libraryItems.filter(function(Gn){return Nt.includes(Gn.id)}):zt.libraryItems,Ft=Pt?(0,H.t)("buttons.remove"):(0,H.t)("buttons.resetLibrary"),dn=(0,a.useState)(!1),jn=(0,y.Z)(dn,2),Cn=jn[0],Dn=jn[1],Wn=(0,a.useState)(null),Ln=(0,y.Z)(Wn,2),er=Ln[0],Vn=Ln[1],Pn=(0,a.useCallback)(function(){return(0,G.jsxs)(c.V,{onCloseRequest:function(){return Vn(null)},title:(0,H.t)("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,G.jsx)("p",{children:(0,G.jsx)(F.Z,{i18nKey:"publishSuccessDialog.content",authorName:er.authorName,link:function(Gn){return(0,G.jsx)("a",{href:er?.url,target:"_blank",rel:"noopener noreferrer",children:Gn})}})}),(0,G.jsx)(f.V,{type:"button",title:(0,H.t)("buttons.close"),"aria-label":(0,H.t)("buttons.close"),label:(0,H.t)("buttons.close"),onClick:function(){return Vn(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[Vn,er]),Rn=function(){var Gn=(0,p.Z)(E().mark(function nr(){return E().wrap(function(rr){for(;;)switch(rr.prev=rr.next){case 0:return rr.prev=0,rr.next=3,Yt.updateLibrary({libraryItems:(0,r.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:rr.next=11;break;case 5:if(rr.prev=5,rr.t0=rr.catch(0),(rr.t0===null||rr.t0===void 0?void 0:rr.t0.name)!=="AbortError"){rr.next=10;break}return console.warn(rr.t0),rr.abrupt("return");case 10:Mt({errorMessage:(0,H.t)("errors.importLibraryError")});case 11:case"end":return rr.stop()}},nr,null,[[0,5]])}));return function(){return Gn.apply(this,arguments)}}(),Nn=function(){var Gn=(0,p.Z)(E().mark(function nr(){var rr;return E().wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:if(!Pt){Or.next=4;break}Or.t0=Dt,Or.next=7;break;case 4:return Or.next=6,Yt.getLatestLibrary();case 6:Or.t0=Or.sent;case 7:rr=Or.t0,(0,k.t1)(rr).catch(Q.FG).catch(function(Xr){Mt({errorMessage:Xr.message})});case 9:case"end":return Or.stop()}},nr)}));return function(){return Gn.apply(this,arguments)}}();return(0,G.jsxs)("div",{className:(0,U.Z)("library-menu-dropdown-container",zn),children:[(0,G.jsxs)(l.Z,{open:Sn,children:[(0,G.jsx)(l.Z.Trigger,{onToggle:function(){return Hn(!Sn)},children:w.YA}),(0,G.jsxs)(l.Z.Content,{onClickOutside:function(){return Hn(!1)},onSelect:function(){return Hn(!1)},className:"library-menu",children:[!Pt&&(0,G.jsx)(l.Z.Item,{onSelect:Rn,icon:w.Tl,"data-testid":"lib-dropdown--load",children:(0,H.t)("buttons.load")}),!!Dt.length&&(0,G.jsx)(l.Z.Item,{onSelect:Nn,icon:w.Hy,"data-testid":"lib-dropdown--export",children:(0,H.t)("buttons.export")}),!!Dt.length&&(0,G.jsx)(l.Z.Item,{onSelect:function(){return rn(!0)},icon:w.XH,children:Ft}),Pt&&(0,G.jsx)(l.Z.Item,{icon:w.Nw,onSelect:function(){return Dn(!0)},"data-testid":"lib-dropdown--remove",children:(0,H.t)("buttons.publishLibrary")})]})]}),Nt.length>0&&(0,G.jsx)("div",{className:"library-actions-counter",children:Nt.length}),$n&&(At=Nt.length?(0,H.t)("alerts.removeItemsFromsLibrary",{count:Nt.length}):(0,H.t)("alerts.resetLibrary"),It=Nt.length?(0,H.t)("confirmDialog.removeItemsFromLib"):(0,H.t)("confirmDialog.resetLibrary"),(0,G.jsx)(b.Z,{onConfirm:function(){Nt.length?ln():an(),rn(!1)},onCancel:function(){rn(!1)},title:It,children:(0,G.jsx)("p",{children:At})})),Cn&&(0,G.jsx)(D,{onClose:function(){return Dn(!1)},libraryItems:V(zt.libraryItems,Nt),appState:Tn,onSuccess:function(Gn){return function(nr,rr){Dn(!1),Vn({url:nr.url,authorName:nr.authorName});var Or=rr.slice();Or.forEach(function(Xr){Nt.includes(Xr.id)&&(Xr.status="published")}),Yt.setLibrary(Or)}(Gn,zt.libraryItems)},onError:function(Gn){return window.alert(Gn)},updateItemsInStorage:function(){return Yt.setLibrary(zt.libraryItems)},onRemove:function(Gn){return kn(Nt.filter(function(nr){return nr!==Gn}))}}),er&&Pn()]})},re=function(xt){var At=xt.selectedItems,It=xt.onSelectItems,Mt=xt.className,Nt=(0,P.qD)().library,Yt=(0,M.yT)(),ln=Yt.clearLibraryCache,an=Yt.deleteItemsFromLibraryCache,kn=(0,d.I)(),Tn=(0,P.n9)(),zn=(0,o.KO)(N.rF,I.yE),un=(0,y.Z)(zn,1)[0],zt=function(){var en=(0,p.Z)(E().mark(function Jt(Sn){var Hn;return E().wrap(function(Yn){for(;;)switch(Yn.prev=Yn.next){case 0:Hn=Sn.filter(function(or){return!At.includes(or.id)}),Nt.setLibrary(Hn).catch(function(){Tn({errorMessage:(0,H.t)("alerts.errorRemovingFromLibrary")})}),an(At),It([]);case 4:case"end":return Yn.stop()}},Jt)}));return function(Jt){return en.apply(this,arguments)}}();return(0,G.jsx)(q,{appState:kn,setAppState:Tn,selectedItems:At,onSelectItems:It,library:Nt,onRemoveFromLibrary:function(){return zt(un.libraryItems)},resetLibrary:function(){Nt.resetLibrary(),ln()},className:Mt})},ae=e(5644),ge={};ge.styleTagTransform=Pe(),ge.setAttributes=de(),ge.insert=le().bind(null,"head"),ge.domAPI=Y(),ge.insertStyleElement=ee(),C()(ae.Z,ge),ae.Z&&ae.Z.locals&&ae.Z.locals;var Se=e(6238),Re=(0,a.memo)(function(xt){var At=xt.id,It=xt.elements,Mt=xt.isPending,Nt=xt.onClick,Yt=xt.selected,ln=xt.onToggle,an=xt.onDrag,kn=xt.svgCache,Tn=(0,a.useRef)(null),zn=(0,M.mF)(At,It,kn);(0,a.useEffect)(function(){var Yn=Tn.current;if(Yn)return zn&&(Yn.innerHTML=zn.outerHTML),function(){Yn.innerHTML=""}},[zn]);var un=(0,a.useState)(!1),zt=(0,y.Z)(un,2),en=zt[0],Jt=zt[1],Sn=(0,P.Fy)().editor.isMobile,Hn=Mt&&(0,G.jsx)("div",{className:"library-unit__adder",children:w.pO});return(0,G.jsxs)("div",{className:(0,U.Z)("library-unit",{"library-unit__active":It,"library-unit--hover":It&&en,"library-unit--selected":Yt,"library-unit--skeleton":!zn}),onMouseEnter:function(){return Jt(!0)},onMouseLeave:function(){return Jt(!1)},children:[(0,G.jsx)("div",{className:(0,U.Z)("library-unit__dragger",{"library-unit__pulse":!!Mt}),ref:Tn,draggable:!!It,onClick:It||Mt?function(Yn){At&&Yn.shiftKey?ln(At,Yn):Nt(At)}:void 0,onDragStart:function(Yn){At?(Jt(!1),an(At,Yn)):Yn.preventDefault()}}),Hn,At&&It&&(en||Sn||Yt)&&(0,G.jsx)(Se.o,{checked:Yt,onChange:function(Yn,or){return ln(At,or)},className:"library-unit__checkbox"})]})}),Ye=function(){return(0,G.jsx)("div",{className:"library-unit library-unit--skeleton"})},Ge=u().useTransition||function(){return[!1,(0,a.useCallback)(function(xt){return xt()},[])]},We=function(xt){var At=xt.children;return(0,G.jsx)("div",{className:"library-menu-items-container__grid",children:At})},qe=(0,a.memo)(function(xt){var At=xt.items,It=xt.onItemSelectToggle,Mt=xt.onItemDrag,Nt=xt.isItemSelected,Yt=xt.onClick,ln=xt.svgCache,an=xt.itemsRenderedPerBatch,kn=Ge(),Tn=(0,y.Z)(kn,2)[1],zn=(0,a.useState)(0),un=(0,y.Z)(zn,2),zt=un[0],en=un[1];return(0,a.useEffect)(function(){zt<At.length&&Tn(function(){en(zt+an)})},[zt,At.length,Tn,an]),(0,G.jsx)(G.Fragment,{children:At.map(function(Jt,Sn){var Hn;return Sn<zt?(0,G.jsx)(Re,{elements:Jt?.elements,isPending:!(Jt!=null&&Jt.id||Jt==null||!Jt.elements),onClick:Yt,svgCache:ln,id:Jt?.id,selected:Nt(Jt.id),onToggle:It,onDrag:Mt},(Hn=Jt?.id)!==null&&Hn!==void 0?Hn:Sn):(0,G.jsx)(Ye,{},Sn)})})}),lt=e(200),ft=e.n(lt),ze=(0,o.cn)(0),we=e(6440),Me={};Me.styleTagTransform=Pe(),Me.setAttributes=de(),Me.insert=le().bind(null,"head"),Me.domAPI=Y(),Me.insertStyleElement=ee(),C()(we.Z,Me),we.Z&&we.Z.locals&&we.Z.locals;function $e(xt,At){var It=Object.keys(xt);if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(xt);At&&(Mt=Mt.filter(function(Nt){return Object.getOwnPropertyDescriptor(xt,Nt).enumerable})),It.push.apply(It,Mt)}return It}function at(xt){for(var At=1;At<arguments.length;At++){var It=arguments[At]!=null?arguments[At]:{};At%2?$e(Object(It),!0).forEach(function(Mt){(0,m.Z)(xt,Mt,It[Mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(It)):$e(Object(It)).forEach(function(Mt){Object.defineProperty(xt,Mt,Object.getOwnPropertyDescriptor(It,Mt))})}return xt}function dt(xt){var At=xt.isLoading,It=xt.libraryItems,Mt=xt.onAddToLibrary,Nt=xt.onInsertLibraryItems,Yt=xt.pendingElements,ln=xt.theme,an=xt.id,kn=xt.libraryReturnUrl,Tn=xt.onSelectItems,zn=xt.selectedItems,un=(0,a.useRef)(null),zt=function(Ln){var er=(0,o.KO)(ze),Vn=(0,y.Z)(er,2),Pn=Vn[0],Rn=Vn[1];return(0,a.useEffect)(function(){var Nn=Ln.current;if(Nn){var Gn=ft()(function(){var nr=Nn.scrollTop;Rn(nr)},200);return Nn.addEventListener("scroll",Gn),function(){Gn.cancel(),Nn.removeEventListener("scroll",Gn)}}},[Ln,Rn]),Pn}(un);(0,a.useEffect)(function(){var Ln;zt>0&&((Ln=un.current)===null||Ln===void 0||Ln.scrollTo(0,zt))},[]);var en=(0,M.yT)().svgCache,Jt=(0,a.useMemo)(function(){return It.filter(function(Ln){return Ln.status!=="published"})},[It]),Sn=(0,a.useMemo)(function(){return It.filter(function(Ln){return Ln.status==="published"})},[It]),Hn=!It.length&&!Yt.length,Yn=!Yt.length&&!Jt.length&&!Sn.length,or=(0,a.useState)(null),$n=(0,y.Z)(or,2),rn=$n[0],Pt=$n[1],Dt=(0,a.useCallback)(function(Ln,er){var Vn=!zn.includes(Ln),Pn=[].concat((0,g.Z)(Jt),(0,g.Z)(Sn));if(Vn){if(er.shiftKey&&rn){var Rn=Pn.findIndex(function(rr){return rr.id===rn}),Nn=Pn.findIndex(function(rr){return rr.id===Ln});if(Rn===-1||Nn===-1)return void Tn([].concat((0,g.Z)(zn),[Ln]));var Gn=(0,Q.xn)(zn),nr=Pn.reduce(function(rr,Or,Xr){return(Xr>=Rn&&Xr<=Nn||Gn.has(Or.id))&&rr.push(Or.id),rr},[]);Tn(nr)}else Tn([].concat((0,g.Z)(zn),[Ln]));Pt(Ln)}else Pt(null),Tn(zn.filter(function(rr){return rr!==Ln}))},[rn,Tn,Sn,zn,Jt]),Ft=(0,a.useCallback)(function(Ln){return(zn.includes(Ln)?It.filter(function(er){return zn.includes(er.id)}):It.filter(function(er){return er.id===Ln})).map(function(er){return at(at({},er),{},{elements:(0,fe._N)(er.elements,{randomizeSeed:!0})})})},[It,zn]),dn=(0,a.useCallback)(function(Ln,er){er.dataTransfer.setData(me.LO.excalidrawlib,(0,k.NI)(Ft(Ln)))},[Ft]),jn=(0,a.useCallback)(function(Ln){return!!Ln&&zn.includes(Ln)},[zn]),Cn=(0,a.useCallback)(function(){Mt(Yt)},[Yt,Mt]),Dn=(0,a.useCallback)(function(Ln){Ln&&Nt(Ft(Ln))},[Ft,Nt]),Wn=en.size>=It.length?64:17;return(0,G.jsxs)("div",{className:"library-menu-items-container",style:Yt.length||Jt.length||Sn.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!Yn&&(0,G.jsx)(re,{selectedItems:zn,onSelectItems:Tn,className:"library-menu-dropdown-container--in-heading"}),(0,G.jsxs)(ue.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:Sn.length>0?1:"0 1 auto",marginBottom:0},ref:un,children:[(0,G.jsxs)(G.Fragment,{children:[!Yn&&(0,G.jsx)("div",{className:"library-menu-items-container__header",children:(0,H.t)("labels.personalLib")}),At&&(0,G.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,G.jsx)(ye.Z,{})}),Yt.length||Jt.length?(0,G.jsxs)(We,{children:[Yt.length>0&&(0,G.jsx)(qe,{itemsRenderedPerBatch:Wn,items:[{id:null,elements:Yt}],onItemSelectToggle:Dt,onItemDrag:dn,onClick:Cn,isItemSelected:jn,svgCache:en}),(0,G.jsx)(qe,{itemsRenderedPerBatch:Wn,items:Jt,onItemSelectToggle:Dt,onItemDrag:dn,onClick:Dn,isItemSelected:jn,svgCache:en})]}):(0,G.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,G.jsx)("div",{className:"library-menu-items__no-items__label",children:(0,H.t)("library.noItems")}),(0,G.jsx)("div",{className:"library-menu-items__no-items__hint",children:Sn.length>0?(0,H.t)("library.hint_emptyPrivateLibrary"):(0,H.t)("library.hint_emptyLibrary")})]})]}),(0,G.jsxs)(G.Fragment,{children:[(Sn.length>0||Yt.length>0||Jt.length>0)&&(0,G.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,H.t)("labels.excalidrawLib")}),Sn.length>0?(0,G.jsx)(We,{children:(0,G.jsx)(qe,{itemsRenderedPerBatch:Wn,items:Sn,onItemSelectToggle:Dt,onItemDrag:dn,onClick:Dn,isItemSelected:jn,svgCache:en})}):Jt.length>0?(0,G.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,H.t)("library.noItems")}):null]}),Hn&&(0,G.jsx)(L,{style:{padding:"16px 0",width:"100%"},id:an,libraryReturnUrl:kn,theme:ln,children:(0,G.jsx)(re,{selectedItems:zn,onSelectItems:Tn})})]})]})}var vt=e(3646),Tt=e(4105),Et=e(8923),jt={};jt.styleTagTransform=Pe(),jt.setAttributes=de(),jt.insert=le().bind(null,"head"),jt.domAPI=Y(),jt.insertStyleElement=ee(),C()(Et.Z,jt),Et.Z&&Et.Z.locals&&Et.Z.locals;function Kt(xt,At){var It=typeof Symbol<"u"&&xt[Symbol.iterator]||xt["@@iterator"];if(!It){if(Array.isArray(xt)||(It=function(kn,Tn){if(kn){if(typeof kn=="string")return Gt(kn,Tn);var zn=Object.prototype.toString.call(kn).slice(8,-1);if(zn==="Object"&&kn.constructor&&(zn=kn.constructor.name),zn==="Map"||zn==="Set")return Array.from(kn);if(zn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(zn))return Gt(kn,Tn)}}(xt))||At){It&&(xt=It);var Mt=0,Nt=function(){};return{s:Nt,n:function(){return Mt>=xt.length?{done:!0}:{done:!1,value:xt[Mt++]}},e:function(kn){throw kn},f:Nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Yt,ln=!0,an=!1;return{s:function(){It=It.call(xt)},n:function(){var kn=It.next();return ln=kn.done,kn},e:function(kn){an=!0,Yt=kn},f:function(){try{ln||It.return==null||It.return()}finally{if(an)throw Yt}}}}function Gt(xt,At){(At==null||At>xt.length)&&(At=xt.length);for(var It=0,Mt=new Array(At);It<At;It++)Mt[It]=xt[It];return Mt}var Ht=(0,o.cn)(!1),$t=function(xt){var At=xt.children;return(0,G.jsx)("div",{className:"layer-ui__library",children:At})},pn=function(xt){var At=xt.onInsertLibraryItems,It=xt.pendingElements,Mt=xt.onAddToLibrary,Nt=xt.setAppState,Yt=xt.libraryReturnUrl,ln=xt.library,an=xt.id,kn=xt.theme,Tn=xt.selectedItems,zn=xt.onSelectItems,un=(0,o.KO)(N.rF,I.yE),zt=(0,y.Z)(un,1)[0],en=(0,a.useCallback)(function(Hn){var Yn=function(){var or=(0,p.Z)(E().mark(function $n(rn,Pt){var Dt,Ft,dn,jn,Cn;return E().wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:(0,vt.L)("element","addToLibrary","ui"),Dt=Kt(me.PR),Dn.prev=2,dn=function(){var Wn=Ft.value;if(rn.some(function(Ln){return Ln.type===Wn}))return{v:Nt({errorMessage:(0,H.t)("errors.libraryElementTypeError.".concat(Wn))})}},Dt.s();case 5:if((Ft=Dt.n()).done){Dn.next=11;break}if(jn=dn(),(0,_.Z)(jn)!=="object"){Dn.next=9;break}return Dn.abrupt("return",jn.v);case 9:Dn.next=5;break;case 11:Dn.next=16;break;case 13:Dn.prev=13,Dn.t0=Dn.catch(2),Dt.e(Dn.t0);case 16:return Dn.prev=16,Dt.f(),Dn.finish(16);case 19:Cn=[{status:"unpublished",elements:rn,id:(0,x.kb)(),created:Date.now()}].concat((0,g.Z)(Pt)),Mt(),ln.setLibrary(Cn).catch(function(){Nt({errorMessage:(0,H.t)("alerts.errorAddingToLibrary")})});case 22:case"end":return Dn.stop()}},$n,null,[[2,13,16,19]])}));return function($n,rn){return or.apply(this,arguments)}}();Yn(Hn,zt.libraryItems)},[Mt,ln,Nt,zt.libraryItems]),Jt=(0,a.useMemo)(function(){return zt.libraryItems},[zt]);if(zt.status==="loading"&&!zt.isInitialized)return(0,G.jsx)($t,{children:(0,G.jsx)("div",{className:"layer-ui__library-message",children:(0,G.jsxs)("div",{children:[(0,G.jsx)(ye.Z,{size:"2em"}),(0,G.jsx)("span",{children:(0,H.t)("labels.libraryLoadingMessage")})]})})});var Sn=zt.libraryItems.length>0||It.length>0;return(0,G.jsxs)($t,{children:[(0,G.jsx)(dt,{isLoading:zt.status==="loading",libraryItems:Jt,onAddToLibrary:en,onInsertLibraryItems:At,pendingElements:It,id:an,libraryReturnUrl:Yt,theme:kn,onSelectItems:zn,selectedItems:Tn}),Sn&&(0,G.jsx)(L,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:an,libraryReturnUrl:Yt,theme:kn})]})},_t=function(){var xt=(0,P.qD)(),At=xt.library,It=xt.id,Mt=xt.onInsertElements,Nt=(0,P.hY)(),Yt=(0,d.I)(),ln=(0,P.n9)(),an=(0,P.bd)(),kn=(0,a.useState)([]),Tn=(0,y.Z)(kn,2),zn=Tn[0],un=Tn[1],zt=(0,a.useMemo)(function(){return At},[At]),en=function(Hn,Yn){var or=function(){return(0,Tt.eD)(Yn,Hn,{includeBoundTextElement:!0,includeElementsInFrames:!0})},$n=(0,a.useRef)(or()),rn=(0,a.useRef)(Hn),Pt=(0,a.useRef)(Yn);return(0,Q.w8)(Hn.selectedElementIds,rn.current.selectedElementIds)&&(0,Q.w8)(Yn,Pt.current)||($n.current=or(),rn.current=Hn,Pt.current=Yn),$n.current}(Yt,an),Jt=(0,a.useCallback)(function(Hn){Mt((0,N.WV)(Hn))},[Mt]),Sn=(0,a.useCallback)(function(){ln({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})},[ln]);return(0,G.jsx)(pn,{pendingElements:en,onInsertLibraryItems:Jt,onAddToLibrary:Sn,setAppState:ln,libraryReturnUrl:Nt.libraryReturnUrl,library:zt,id:It,theme:Yt.theme,selectedItems:zn,onSelectItems:un})}},7165:function(te,t,e){e.d(t,{z:function(){return u}});var _=e(2577),g=e(8227),p=e(9787),y=e(8531),T=e(45),E=e(9937),a=e(1020),u=function(N){var H=N.delay,x=N.theme,m=(0,p.useState)(!!H),k=(0,_.Z)(m,2),Q=k[0],ue=k[1];return(0,p.useEffect)(function(){if(H){var me=setTimeout(function(){ue(!1)},H);return function(){return clearTimeout(me)}}},[H]),Q?null:(0,a.jsxs)("div",{className:(0,T.Z)("LoadingMessage",{"LoadingMessage--dark":x===E.C6.DARK}),children:[(0,a.jsx)("div",{children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("div",{className:"LoadingMessage-text",children:(0,g.t)("labels.loadingScene")})]})}},7827:function(te,t,e){e.d(t,{K:function(){return E},_:function(){return a}});var _=e(8950),g=e(2975),p=e.n(g),y=e(3607),T=e(453),E=(0,y.cn)({active:!1});function a(N){return u.apply(this,arguments)}function u(){return(u=(0,_.Z)(p().mark(function N(H){var x,m,k,Q;return p().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return x=H.title,m=H.description,k=H.actionLabel,Q=H.color,ue.abrupt("return",new Promise(function(me){T.e_.set(E,{active:!0,onConfirm:function(){return me(!0)},onClose:function(){return me(!1)},onReject:function(){return me(!1)},title:x,description:m,actionLabel:k,color:Q})}));case 2:case"end":return ue.stop()}},N)}))).apply(this,arguments)}},3204:function(te,t,e){e.d(t,{J:function(){return $}});var _=e(9787),g=e(3379),p=e.n(g),y=e(7795),T=e.n(y),E=e(569),a=e.n(E),u=e(3565),N=e.n(u),H=e(9216),x=e.n(H),m=e(4589),k=e.n(m),Q=e(9935),ue={};ue.styleTagTransform=k(),ue.setAttributes=N(),ue.insert=a().bind(null,"head"),ue.domAPI=T(),ue.insertStyleElement=x(),p()(Q.Z,ue),Q.Z&&Q.Z.locals&&Q.Z.locals;var me=e(5156),ye=e(9827),fe=e(5491),G=e(1020),$=function(U){var L=U.children,F=U.left,I=U.top,P=U.onCloseRequest,w=U.fitInViewport,f=w!==void 0&&w,r=U.offsetLeft,o=r===void 0?0:r,b=U.offsetTop,s=b===void 0?0:b,c=U.viewportWidth,S=c===void 0?window.innerWidth:c,z=U.viewportHeight,B=z===void 0?window.innerHeight:z,j=(0,_.useRef)(null);(0,_.useEffect)(function(){var A=j.current;if(A){A.contains(document.activeElement)||A.focus();var Y=function(ie){if(ie.key===fe.tW.TAB){var le=(0,ye.xp)(A),ce=document.activeElement,de=le.findIndex(function(Pe){return Pe===ce});if(ce===A){var J;ie.shiftKey?(J=le[le.length-1])===null||J===void 0||J.focus():le[0].focus(),ie.preventDefault(),ie.stopImmediatePropagation()}else if(de===0&&ie.shiftKey){var ee;(ee=le[le.length-1])===null||ee===void 0||ee.focus(),ie.preventDefault(),ie.stopImmediatePropagation()}else if(de===le.length-1&&!ie.shiftKey){var he;(he=le[0])===null||he===void 0||he.focus(),ie.preventDefault(),ie.stopImmediatePropagation()}}};return A.addEventListener("keydown",Y),function(){return A.removeEventListener("keydown",Y)}}},[]);var C=(0,_.useRef)(null);return(0,_.useLayoutEffect)(function(){if(f&&j.current&&I!=null&&F!=null){var A,Y,ie=j.current,le=ie.getBoundingClientRect(),ce=le.width,de=le.height;if(((A=C.current)===null||A===void 0?void 0:A.top)===I&&((Y=C.current)===null||Y===void 0?void 0:Y.left)===F)return;C.current={top:I,left:F},ce>=S?(ie.style.width="".concat(S,"px"),ie.style.left="0px",ie.style.overflowX="scroll"):ie.style.left="".concat(F+ce-o>S?S-ce-10:F,"px"),de>=B?(ie.style.height="".concat(B-20,"px"),ie.style.top="10px",ie.style.overflowY="scroll"):ie.style.top="".concat(I+de-s>B?B-de:I,"px")}},[I,F,f,S,B,o,s]),(0,_.useEffect)(function(){if(P){var A=function(Y){var ie;(ie=j.current)!==null&&ie!==void 0&&ie.contains(Y.target)||(0,me.unstable_batchedUpdates)(function(){return P(Y)})};return document.addEventListener("pointerdown",A,!1),function(){return document.removeEventListener("pointerdown",A,!1)}}},[P]),(0,G.jsx)("div",{className:"popover",ref:j,tabIndex:-1,children:L})}},5902:function(te,t,e){e.d(t,{YE:function(){return rn},t6:function(){return or}});var _=e(2577),g=e(7169),p=e(2726),y=e(9787),T=e.n(y),E=e(1404),a=e(3607),u=e(453),N=T().createContext({}),H=e(45),x=e(8227),m=e(8242),k=e(8935),Q=e(8925),ue=e(8806),me=e(1020),ye=function(Pt){var Dt=Pt.children,Ft=Pt.className,dn=(0,m.Fy)(),jn=(0,y.useContext)(N),Cn=!(!dn.editor.canFitSidebar||!jn.shouldRenderDockButton);return(0,me.jsxs)("div",{className:(0,H.Z)("sidebar__header",Ft),"data-testid":"sidebar-header",children:[Dt,(0,me.jsxs)("div",{className:"sidebar__header__buttons",children:[Cn&&(0,me.jsx)(Q.u,{label:(0,x.t)("labels.sidebarLock"),children:(0,me.jsx)(ue.z,{onSelect:function(){var Dn;return(Dn=jn.onDock)===null||Dn===void 0?void 0:Dn.call(jn,!jn.docked)},selected:!!jn.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":(0,x.t)("labels.sidebarLock"),children:k.qQ})}),(0,me.jsx)(ue.z,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:jn.onCloseRequest,"aria-label":(0,x.t)("buttons.close"),children:k.Tw})]})]})};ye.displayName="SidebarHeader";var fe=e(9827),G=e(5491),$=e(9937),U=e(100),L=e(3379),F=e.n(L),I=e(7795),P=e.n(I),w=e(569),f=e.n(w),r=e(3565),o=e.n(r),b=e(9216),s=e.n(b),c=e(4589),S=e.n(c),z=e(7051),B={};B.styleTagTransform=S(),B.setAttributes=o(),B.insert=f().bind(null,"head"),B.domAPI=P(),B.insertStyleElement=s(),F()(z.Z,B),z.Z&&z.Z.locals&&z.Z.locals;var j=function(Pt){var Dt,Ft=Pt.name,dn=Pt.tab,jn=Pt.icon,Cn=Pt.title,Dn=Pt.children,Wn=Pt.onToggle,Ln=Pt.className,er=Pt.style,Vn=(0,m.n9)(),Pn=(0,U.I)();return(0,me.jsxs)("label",{title:Cn,children:[(0,me.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(Rn){var Nn;(Nn=document.querySelector(".layer-ui__wrapper"))===null||Nn===void 0||Nn.classList.remove("animate");var Gn=Rn.target.checked;Vn({openSidebar:Gn?{name:Ft,tab:dn}:null}),Wn?.(Gn)},checked:((Dt=Pn.openSidebar)===null||Dt===void 0?void 0:Dt.name)===Ft,"aria-label":Cn,"aria-keyshortcuts":"0"}),(0,me.jsxs)("div",{className:(0,H.Z)("sidebar-trigger",Ln),style:er,children:[jn&&(0,me.jsx)("div",{children:jn}),Dn&&(0,me.jsx)("div",{className:"sidebar-trigger__label",children:Dn})]})]})};j.displayName="SidebarTrigger";var C=e(11),A=e(7217),Y=e(1267),ie=e(9335),le=e(4801),ce=e(5622),de=e(3119),J=e(3060),ee=e(2673);const he=(0,y.createContext)(void 0);function Pe(Pt){const Dt=(0,y.useContext)(he);return Pt||Dt||"ltr"}const He="rovingFocusGroup.onEntryFocus",Ke={bubbles:!1,cancelable:!0},Ae="RovingFocusGroup",[Oe,Te,De]=function(Pt){const Dt=Pt+"CollectionProvider",[Ft,dn]=(0,Y.b)(Dt),[jn,Cn]=Ft(Dt,{collectionRef:{current:null},itemMap:new Map}),Dn=Rn=>{const{scope:Nn,children:Gn}=Rn,nr=T().useRef(null),rr=T().useRef(new Map).current;return T().createElement(jn,{scope:Nn,itemMap:rr,collectionRef:nr},Gn)},Wn=Pt+"CollectionSlot",Ln=T().forwardRef((Rn,Nn)=>{const{scope:Gn,children:nr}=Rn,rr=Cn(Wn,Gn),Or=(0,ie.e)(Nn,rr.collectionRef);return T().createElement(le.g7,{ref:Or},nr)}),er=Pt+"CollectionItemSlot",Vn="data-radix-collection-item",Pn=T().forwardRef((Rn,Nn)=>{const{scope:Gn,children:nr,...rr}=Rn,Or=T().useRef(null),Xr=(0,ie.e)(Nn,Or),po=Cn(er,Gn);return T().useEffect(()=>(po.itemMap.set(Or,{ref:Or,...rr}),()=>{po.itemMap.delete(Or)})),T().createElement(le.g7,{[Vn]:"",ref:Xr},nr)});return[{Provider:Dn,Slot:Ln,ItemSlot:Pn},function(Rn){const Nn=Cn(Pt+"CollectionConsumer",Rn);return T().useCallback(()=>{const Gn=Nn.collectionRef.current;if(!Gn)return[];const nr=Array.from(Gn.querySelectorAll(`[${Vn}]`));return Array.from(Nn.itemMap.values()).sort((rr,Or)=>nr.indexOf(rr.ref.current)-nr.indexOf(Or.ref.current))},[Nn.collectionRef,Nn.itemMap])},dn]}(Ae),[ke,be]=(0,Y.b)(Ae,[De]),[ve,D]=ke(Ae),l=(0,y.forwardRef)((Pt,Dt)=>(0,y.createElement)(Oe.Provider,{scope:Pt.__scopeRovingFocusGroup},(0,y.createElement)(Oe.Slot,{scope:Pt.__scopeRovingFocusGroup},(0,y.createElement)(d,(0,C.Z)({},Pt,{ref:Dt}))))),d=(0,y.forwardRef)((Pt,Dt)=>{const{__scopeRovingFocusGroup:Ft,orientation:dn,loop:jn=!1,dir:Cn,currentTabStopId:Dn,defaultCurrentTabStopId:Wn,onCurrentTabStopIdChange:Ln,onEntryFocus:er,...Vn}=Pt,Pn=(0,y.useRef)(null),Rn=(0,ie.e)(Dt,Pn),Nn=Pe(Cn),[Gn=null,nr]=(0,ee.T)({prop:Dn,defaultProp:Wn,onChange:Ln}),[rr,Or]=(0,y.useState)(!1),Xr=(0,J.W)(er),po=Te(Ft),xo=(0,y.useRef)(!1),[jo,ho]=(0,y.useState)(0);return(0,y.useEffect)(()=>{const Qr=Pn.current;if(Qr)return Qr.addEventListener(He,Xr),()=>Qr.removeEventListener(He,Xr)},[Xr]),(0,y.createElement)(ve,{scope:Ft,orientation:dn,dir:Nn,loop:jn,currentTabStopId:Gn,onItemFocus:(0,y.useCallback)(Qr=>nr(Qr),[nr]),onItemShiftTab:(0,y.useCallback)(()=>Or(!0),[]),onFocusableItemAdd:(0,y.useCallback)(()=>ho(Qr=>Qr+1),[]),onFocusableItemRemove:(0,y.useCallback)(()=>ho(Qr=>Qr-1),[])},(0,y.createElement)(de.WV.div,(0,C.Z)({tabIndex:rr||jo===0?-1:0,"data-orientation":dn},Vn,{ref:Rn,style:{outline:"none",...Pt.style},onMouseDown:(0,A.M)(Pt.onMouseDown,()=>{xo.current=!0}),onFocus:(0,A.M)(Pt.onFocus,Qr=>{const go=!xo.current;if(Qr.target===Qr.currentTarget&&go&&!rr){const et=new CustomEvent(He,Ke);if(Qr.currentTarget.dispatchEvent(et),!et.defaultPrevented){const Ee=po().filter(Le=>Le.focusable);re([Ee.find(Le=>Le.active),Ee.find(Le=>Le.id===Gn),...Ee].filter(Boolean).map(Le=>Le.ref.current))}}xo.current=!1}),onBlur:(0,A.M)(Pt.onBlur,()=>Or(!1))})))}),M="RovingFocusGroupItem",V=(0,y.forwardRef)((Pt,Dt)=>{const{__scopeRovingFocusGroup:Ft,focusable:dn=!0,active:jn=!1,tabStopId:Cn,...Dn}=Pt,Wn=(0,ce.M)(),Ln=Cn||Wn,er=D(M,Ft),Vn=er.currentTabStopId===Ln,Pn=Te(Ft),{onFocusableItemAdd:Rn,onFocusableItemRemove:Nn}=er;return(0,y.useEffect)(()=>{if(dn)return Rn(),()=>Nn()},[dn,Rn,Nn]),(0,y.createElement)(Oe.ItemSlot,{scope:Ft,id:Ln,focusable:dn,active:jn},(0,y.createElement)(de.WV.span,(0,C.Z)({tabIndex:Vn?0:-1,"data-orientation":er.orientation},Dn,{ref:Dt,onMouseDown:(0,A.M)(Pt.onMouseDown,Gn=>{dn?er.onItemFocus(Ln):Gn.preventDefault()}),onFocus:(0,A.M)(Pt.onFocus,()=>er.onItemFocus(Ln)),onKeyDown:(0,A.M)(Pt.onKeyDown,Gn=>{if(Gn.key==="Tab"&&Gn.shiftKey)return void er.onItemShiftTab();if(Gn.target!==Gn.currentTarget)return;const nr=function(Xr,po,xo){const jo=function(ho,Qr){return Qr!=="rtl"?ho:ho==="ArrowLeft"?"ArrowRight":ho==="ArrowRight"?"ArrowLeft":ho}(Xr.key,xo);return po==="vertical"&&["ArrowLeft","ArrowRight"].includes(jo)||po==="horizontal"&&["ArrowUp","ArrowDown"].includes(jo)?void 0:q[jo]}(Gn,er.orientation,er.dir);if(nr!==void 0){Gn.preventDefault();let Xr=Pn().filter(po=>po.focusable).map(po=>po.ref.current);if(nr==="last")Xr.reverse();else if(nr==="prev"||nr==="next"){nr==="prev"&&Xr.reverse();const po=Xr.indexOf(Gn.currentTarget);Xr=er.loop?(Or=po+1,(rr=Xr).map((xo,jo)=>rr[(Or+jo)%rr.length])):Xr.slice(po+1)}setTimeout(()=>re(Xr))}var rr,Or})})))}),q={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function re(Pt){const Dt=document.activeElement;for(const Ft of Pt)if(Ft===Dt||(Ft.focus(),document.activeElement!==Dt))return}const ae=l,ge=V;var Se=e(1483);const Re="Tabs",[Ye,Ge]=(0,Y.b)(Re,[be]),We=be(),[qe,lt]=Ye(Re),ft=(0,y.forwardRef)((Pt,Dt)=>{const{__scopeTabs:Ft,value:dn,onValueChange:jn,defaultValue:Cn,orientation:Dn="horizontal",dir:Wn,activationMode:Ln="automatic",...er}=Pt,Vn=Pe(Wn),[Pn,Rn]=(0,ee.T)({prop:dn,onChange:jn,defaultProp:Cn});return(0,y.createElement)(qe,{scope:Ft,baseId:(0,ce.M)(),value:Pn,onValueChange:Rn,orientation:Dn,dir:Vn,activationMode:Ln},(0,y.createElement)(de.WV.div,(0,C.Z)({dir:Vn,"data-orientation":Dn},er,{ref:Dt})))}),ze="TabsList",we=(0,y.forwardRef)((Pt,Dt)=>{const{__scopeTabs:Ft,loop:dn=!0,...jn}=Pt,Cn=lt(ze,Ft),Dn=We(Ft);return(0,y.createElement)(ae,(0,C.Z)({asChild:!0},Dn,{orientation:Cn.orientation,dir:Cn.dir,loop:dn}),(0,y.createElement)(de.WV.div,(0,C.Z)({role:"tablist","aria-orientation":Cn.orientation},jn,{ref:Dt})))}),Me="TabsTrigger",$e=(0,y.forwardRef)((Pt,Dt)=>{const{__scopeTabs:Ft,value:dn,disabled:jn=!1,...Cn}=Pt,Dn=lt(Me,Ft),Wn=We(Ft),Ln=vt(Dn.baseId,dn),er=Tt(Dn.baseId,dn),Vn=dn===Dn.value;return(0,y.createElement)(ge,(0,C.Z)({asChild:!0},Wn,{focusable:!jn,active:Vn}),(0,y.createElement)(de.WV.button,(0,C.Z)({type:"button",role:"tab","aria-selected":Vn,"aria-controls":er,"data-state":Vn?"active":"inactive","data-disabled":jn?"":void 0,disabled:jn,id:Ln},Cn,{ref:Dt,onMouseDown:(0,A.M)(Pt.onMouseDown,Pn=>{jn||Pn.button!==0||Pn.ctrlKey!==!1?Pn.preventDefault():Dn.onValueChange(dn)}),onKeyDown:(0,A.M)(Pt.onKeyDown,Pn=>{[" ","Enter"].includes(Pn.key)&&Dn.onValueChange(dn)}),onFocus:(0,A.M)(Pt.onFocus,()=>{const Pn=Dn.activationMode!=="manual";Vn||jn||!Pn||Dn.onValueChange(dn)})})))}),at="TabsContent",dt=(0,y.forwardRef)((Pt,Dt)=>{const{__scopeTabs:Ft,value:dn,forceMount:jn,children:Cn,...Dn}=Pt,Wn=lt(at,Ft),Ln=vt(Wn.baseId,dn),er=Tt(Wn.baseId,dn),Vn=dn===Wn.value,Pn=(0,y.useRef)(Vn);return(0,y.useEffect)(()=>{const Rn=requestAnimationFrame(()=>Pn.current=!1);return()=>cancelAnimationFrame(Rn)},[]),(0,y.createElement)(Se.z,{present:jn||Vn},({present:Rn})=>(0,y.createElement)(de.WV.div,(0,C.Z)({"data-state":Vn?"active":"inactive","data-orientation":Wn.orientation,role:"tabpanel","aria-labelledby":Ln,hidden:!Rn,id:er,tabIndex:0},Dn,{ref:Dt,style:{...Pt.style,animationDuration:Pn.current?"0s":void 0}}),Rn&&Cn))});function vt(Pt,Dt){return`${Pt}-trigger-${Dt}`}function Tt(Pt,Dt){return`${Pt}-content-${Dt}`}const Et=ft,jt=we,Kt=$e,Gt=dt;var Ht=["children"];function $t(Pt,Dt){var Ft=Object.keys(Pt);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(Pt);Dt&&(dn=dn.filter(function(jn){return Object.getOwnPropertyDescriptor(Pt,jn).enumerable})),Ft.push.apply(Ft,dn)}return Ft}function pn(Pt){for(var Dt=1;Dt<arguments.length;Dt++){var Ft=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?$t(Object(Ft),!0).forEach(function(dn){(0,g.Z)(Pt,dn,Ft[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pt,Object.getOwnPropertyDescriptors(Ft)):$t(Object(Ft)).forEach(function(dn){Object.defineProperty(Pt,dn,Object.getOwnPropertyDescriptor(Ft,dn))})}return Pt}var _t=function(Pt){var Dt=Pt.children,Ft=(0,p.Z)(Pt,Ht);return(0,me.jsx)(jt,pn(pn({className:"sidebar-triggers"},Ft),{},{children:Dt}))};_t.displayName="SidebarTabTriggers";var xt=["children","tab","onSelect"];function At(Pt,Dt){var Ft=Object.keys(Pt);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(Pt);Dt&&(dn=dn.filter(function(jn){return Object.getOwnPropertyDescriptor(Pt,jn).enumerable})),Ft.push.apply(Ft,dn)}return Ft}function It(Pt){for(var Dt=1;Dt<arguments.length;Dt++){var Ft=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?At(Object(Ft),!0).forEach(function(dn){(0,g.Z)(Pt,dn,Ft[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pt,Object.getOwnPropertyDescriptors(Ft)):At(Object(Ft)).forEach(function(dn){Object.defineProperty(Pt,dn,Object.getOwnPropertyDescriptor(Ft,dn))})}return Pt}var Mt=function(Pt){var Dt=Pt.children,Ft=Pt.tab,dn=Pt.onSelect,jn=(0,p.Z)(Pt,xt);return(0,me.jsx)(Kt,{value:Ft,asChild:!0,onSelect:dn,children:(0,me.jsx)("button",It(It({type:"button",className:"excalidraw-button sidebar-tab-trigger"},jn),{},{children:Dt}))})};Mt.displayName="SidebarTabTrigger";var Nt=["children"];function Yt(Pt,Dt){var Ft=Object.keys(Pt);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(Pt);Dt&&(dn=dn.filter(function(jn){return Object.getOwnPropertyDescriptor(Pt,jn).enumerable})),Ft.push.apply(Ft,dn)}return Ft}function ln(Pt){for(var Dt=1;Dt<arguments.length;Dt++){var Ft=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?Yt(Object(Ft),!0).forEach(function(dn){(0,g.Z)(Pt,dn,Ft[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pt,Object.getOwnPropertyDescriptors(Ft)):Yt(Object(Ft)).forEach(function(dn){Object.defineProperty(Pt,dn,Object.getOwnPropertyDescriptor(Ft,dn))})}return Pt}var an=function(Pt){var Dt=Pt.children,Ft=(0,p.Z)(Pt,Nt),dn=(0,U.I)(),jn=(0,m.n9)();if(!dn.openSidebar)return null;var Cn=dn.openSidebar.name;return(0,me.jsx)(Et,ln(ln({className:"sidebar-tabs-root",value:dn.openSidebar.tab,onValueChange:function(Dn){return jn(function(Wn){return ln(ln({},Wn),{},{openSidebar:ln(ln({},Wn.openSidebar),{},{name:Cn,tab:Dn})})})}},Ft),{},{children:Dt}))};an.displayName="SidebarTabs";var kn=["tab","children"];function Tn(Pt,Dt){var Ft=Object.keys(Pt);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(Pt);Dt&&(dn=dn.filter(function(jn){return Object.getOwnPropertyDescriptor(Pt,jn).enumerable})),Ft.push.apply(Ft,dn)}return Ft}function zn(Pt){for(var Dt=1;Dt<arguments.length;Dt++){var Ft=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?Tn(Object(Ft),!0).forEach(function(dn){(0,g.Z)(Pt,dn,Ft[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pt,Object.getOwnPropertyDescriptors(Ft)):Tn(Object(Ft)).forEach(function(dn){Object.defineProperty(Pt,dn,Object.getOwnPropertyDescriptor(Ft,dn))})}return Pt}var un=function(Pt){var Dt=Pt.tab,Ft=Pt.children,dn=(0,p.Z)(Pt,kn);return(0,me.jsx)(Gt,zn(zn({},dn),{},{value:Dt,children:Ft}))};un.displayName="SidebarTab";var zt=e(1901),en=e(8208),Jt={};Jt.styleTagTransform=S(),Jt.setAttributes=o(),Jt.insert=f().bind(null,"head"),Jt.domAPI=P(),Jt.insertStyleElement=s(),F()(en.Z,Jt),en.Z&&en.Z.locals&&en.Z.locals;var Sn=["name","children","onDock","docked","className"];function Hn(Pt,Dt){var Ft=Object.keys(Pt);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(Pt);Dt&&(dn=dn.filter(function(jn){return Object.getOwnPropertyDescriptor(Pt,jn).enumerable})),Ft.push.apply(Ft,dn)}return Ft}function Yn(Pt){for(var Dt=1;Dt<arguments.length;Dt++){var Ft=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?Hn(Object(Ft),!0).forEach(function(dn){(0,g.Z)(Pt,dn,Ft[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pt,Object.getOwnPropertyDescriptors(Ft)):Hn(Object(Ft)).forEach(function(dn){Object.defineProperty(Pt,dn,Object.getOwnPropertyDescriptor(Ft,dn))})}return Pt}var or=(0,a.cn)(!1),$n=(0,y.forwardRef)(function(Pt,Dt){Pt.name;var Ft=Pt.children,dn=Pt.onDock,jn=Pt.docked,Cn=Pt.className,Dn=(0,p.Z)(Pt,Sn),Wn=(0,m.n9)(),Ln=(0,a.b9)(or,u.yE);(0,y.useLayoutEffect)(function(){return Ln(!!jn),function(){Ln(!1)}},[Ln,jn]);var er=(0,y.useRef)({});er.current.onCloseRequest=function(){Wn({openSidebar:null})},er.current.onDock=function(Nn){return dn?.(Nn)},er.current=(0,fe.v4)(er.current,{docked:jn,shouldRenderDockButton:!!dn&&jn!=null});var Vn=(0,y.useRef)(null);(0,y.useImperativeHandle)(Dt,function(){return Vn.current});var Pn=(0,m.Fy)(),Rn=(0,y.useCallback)(function(){document.querySelector(".Dialog")||Wn({openSidebar:null})},[Wn]);return(0,zt.O)(Vn,(0,y.useCallback)(function(Nn){Nn.target.closest(".sidebar-trigger")||jn&&Pn.editor.canFitSidebar||Rn()},[Rn,jn,Pn.editor.canFitSidebar])),(0,y.useEffect)(function(){var Nn=function(Gn){Gn.key!==G.tW.ESCAPE||jn&&Pn.editor.canFitSidebar||Rn()};return document.addEventListener($.Ks.KEYDOWN,Nn),function(){document.removeEventListener($.Ks.KEYDOWN,Nn)}},[Rn,jn,Pn.editor.canFitSidebar]),(0,me.jsx)(E.W,Yn(Yn({},Dn),{},{className:(0,H.Z)("sidebar",{"sidebar--docked":jn},Cn),ref:Vn,children:(0,me.jsx)(N.Provider,{value:er.current,children:Ft})}))});$n.displayName="SidebarInner";var rn=Object.assign((0,y.forwardRef)(function(Pt,Dt){var Ft,dn=(0,U.I)(),jn=Pt.onStateChange,Cn=(0,y.useRef)(dn.openSidebar);(0,y.useEffect)(function(){var Vn,Pn,Rn,Nn,Gn;(!dn.openSidebar&&(Cn==null||(Vn=Cn.current)===null||Vn===void 0?void 0:Vn.name)===Pt.name||((Pn=dn.openSidebar)===null||Pn===void 0?void 0:Pn.name)===Pt.name&&(Cn==null||(Rn=Cn.current)===null||Rn===void 0?void 0:Rn.name)!==Pt.name||((Nn=Cn.current)===null||Nn===void 0?void 0:Nn.name)===Pt.name)&&dn.openSidebar!==Cn.current&&jn?.(((Gn=dn.openSidebar)===null||Gn===void 0?void 0:Gn.name)!==Pt.name?null:dn.openSidebar),Cn.current=dn.openSidebar},[dn.openSidebar,jn,Pt.name]);var Dn=(0,y.useState)(!1),Wn=(0,_.Z)(Dn,2),Ln=Wn[0],er=Wn[1];return(0,y.useLayoutEffect)(function(){return er(!0),function(){return er(!1)}},[]),Ln&&((Ft=dn.openSidebar)===null||Ft===void 0?void 0:Ft.name)===Pt.name?(0,y.createElement)($n,Yn(Yn({},Pt),{},{ref:Dt,key:Pt.name})):null}),{Header:ye,TabTriggers:_t,TabTrigger:Mt,Tabs:an,Tab:un,Trigger:j});rn.displayName="Sidebar"},8531:function(te,t,e){e.d(t,{Z:function(){return G}});var _=e(7169),g=e(9787),p=e.n(g),y=e(3379),T=e.n(y),E=e(7795),a=e.n(E),u=e(569),N=e.n(u),H=e(3565),x=e.n(H),m=e(9216),k=e.n(m),Q=e(4589),ue=e.n(Q),me=e(5892),ye={};ye.styleTagTransform=ue(),ye.setAttributes=x(),ye.insert=N().bind(null,"head"),ye.domAPI=a(),ye.insertStyleElement=k(),T()(me.Z,ye),me.Z&&me.Z.locals&&me.Z.locals;var fe=e(1020),G=function($){var U=$.size,L=U===void 0?"1em":U,F=$.circleWidth,I=F===void 0?8:F,P=$.synchronized,w=P!==void 0&&P,f=-p().useRef(Date.now()).current%1600;return(0,fe.jsx)("div",{className:"Spinner",children:(0,fe.jsx)("svg",{viewBox:"0 0 100 100",style:(0,_.Z)({width:L,height:L},"--spinner-delay",w?"".concat(f,"ms"):0),children:(0,fe.jsx)("circle",{cx:"50",cy:"50",r:50-I/2,strokeWidth:I,fill:"none",strokeMiterlimit:"10"})})})}},2540:function(te,t,e){e.d(t,{Z:function(){return U}});var _=e(7169),g=e(3379),p=e.n(g),y=e(7795),T=e.n(y),E=e(569),a=e.n(E),u=e(3565),N=e.n(u),H=e(9216),x=e.n(H),m=e(4589),k=e.n(m),Q=e(3874),ue={};ue.styleTagTransform=k(),ue.setAttributes=N(),ue.insert=a().bind(null,"head"),ue.domAPI=T(),ue.insertStyleElement=x(),p()(Q.Z,ue),Q.Z&&Q.Z.locals&&Q.Z.locals;var me=e(9787),ye=e(45),fe=e(1020);function G(L,F){var I=Object.keys(L);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(L);F&&(P=P.filter(function(w){return Object.getOwnPropertyDescriptor(L,w).enumerable})),I.push.apply(I,P)}return I}function $(L){for(var F=1;F<arguments.length;F++){var I=arguments[F]!=null?arguments[F]:{};F%2?G(Object(I),!0).forEach(function(P){(0,_.Z)(L,P,I[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(I)):G(Object(I)).forEach(function(P){Object.defineProperty(L,P,Object.getOwnPropertyDescriptor(I,P))})}return L}var U={Row:(0,me.forwardRef)(function(L,F){var I=L.children,P=L.gap,w=L.align,f=L.justifyContent,r=L.className,o=L.style;return(0,fe.jsx)("div",{className:(0,ye.Z)("Stack Stack_horizontal",r),style:$({"--gap":P,alignItems:w,justifyContent:f},o),ref:F,children:I})}),Col:(0,me.forwardRef)(function(L,F){var I=L.children,P=L.gap,w=L.align,f=L.justifyContent,r=L.className,o=L.style;return(0,fe.jsx)("div",{className:(0,ye.Z)("Stack Stack_vertical",r),style:$({"--gap":P,justifyItems:w,justifyContent:f},o),ref:F,children:I})})}},1512:function(te,t,e){e.d(t,{V:function(){return m}});var _=e(8950),g=e(2577),p=e(2975),y=e.n(p),T=(e(3041),e(9787)),E=e.n(T),a=e(45),u=e(8242),N=e(3506),H=e(8531),x=e(1020),m=E().forwardRef(function(k,Q){var ue=(0,u.J0)().id,me=E().useRef(null);E().useImperativeHandle(Q,function(){return me.current});var ye="ToolIcon_size_".concat(k.size),fe=(0,T.useState)(!1),G=(0,g.Z)(fe,2),$=G[0],U=G[1],L=(0,T.useRef)(!0),F=function(){var w=(0,_.Z)(y().mark(function f(r){var o,b;return y().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(b="onClick"in k&&((o=k.onClick)===null||o===void 0?void 0:o.call(k,r)))||!("then"in b)){s.next=18;break}return s.prev=2,U(!0),s.next=6,b;case 6:s.next=15;break;case 8:if(s.prev=8,s.t0=s.catch(2),s.t0 instanceof N._L){s.next=14;break}throw s.t0;case 14:console.warn(s.t0);case 15:return s.prev=15,L.current&&U(!1),s.finish(15);case 18:case"end":return s.stop()}},f,null,[[2,8,15,18]])}));return function(f){return w.apply(this,arguments)}}();(0,T.useEffect)(function(){return L.current=!0,function(){L.current=!1}},[]);var I=(0,T.useRef)(null);if(k.type==="button"||k.type==="icon"||k.type==="submit"){var P=k.type==="icon"?"button":k.type;return(0,x.jsxs)("button",{className:(0,a.Z)("ToolIcon_type_button",ye,k.className,k.visible&&!k.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!k.hidden,"ToolIcon--selected":k.selected,"ToolIcon--plain":k.type==="icon"}),style:k.style,"data-testid":k["data-testid"],hidden:k.hidden,title:k.title,"aria-label":k["aria-label"],type:P,onClick:F,ref:me,disabled:$||k.isLoading,children:[(k.icon||k.label)&&(0,x.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[k.icon||k.label,k.keyBindingLabel&&(0,x.jsx)("span",{className:"ToolIcon__keybinding",children:k.keyBindingLabel}),k.isLoading&&(0,x.jsx)(H.Z,{})]}),k.showAriaLabel&&(0,x.jsxs)("div",{className:"ToolIcon__label",children:[k["aria-label"]," ",$&&(0,x.jsx)(H.Z,{})]}),k.children]})}return(0,x.jsxs)("label",{className:(0,a.Z)("ToolIcon",k.className),title:k.title,onPointerDown:function(w){var f;I.current=w.pointerType||null,(f=k.onPointerDown)===null||f===void 0||f.call(k,{pointerType:w.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){I.current=null})},children:[(0,x.jsx)("input",{className:"ToolIcon_type_radio ".concat(ye),type:"radio",name:k.name,"aria-label":k["aria-label"],"aria-keyshortcuts":k["aria-keyshortcuts"],"data-testid":k["data-testid"],id:"".concat(ue,"-").concat(k.id),onChange:function(){var w;(w=k.onChange)===null||w===void 0||w.call(k,{pointerType:I.current})},checked:k.checked,ref:me}),(0,x.jsxs)("div",{className:"ToolIcon__icon",children:[k.icon,k.keyBindingLabel&&(0,x.jsx)("span",{className:"ToolIcon__keybinding",children:k.keyBindingLabel})]})]})});m.defaultProps={visible:!0,className:"",size:"medium"},m.displayName="ToolButton"},8925:function(te,t,e){e.d(t,{u:function(){return G},bK:function(){return ye},Js:function(){return fe}});var _=e(3379),g=e.n(_),p=e(7795),y=e.n(p),T=e(569),E=e.n(T),a=e(3565),u=e.n(a),N=e(9216),H=e.n(N),x=e(4589),m=e.n(x),k=e(6626),Q={};Q.styleTagTransform=m(),Q.setAttributes=u(),Q.insert=E().bind(null,"head"),Q.domAPI=y(),Q.insertStyleElement=H(),g()(k.Z,Q),k.Z&&k.Z.locals&&k.Z.locals;var ue=e(9787),me=e(1020),ye=function(){var $=document.querySelector(".excalidraw-tooltip");if($)return $;var U=document.createElement("div");return document.body.appendChild(U),U.classList.add("excalidraw-tooltip"),U},fe=function($,U){var L,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",I=$.getBoundingClientRect(),P=window.innerWidth,w=window.innerHeight,f=5,r=U.left+U.width/2-I.width/2;r<0?r=f:r+I.width>=P&&(r=P-I.width-f),F==="bottom"?(L=U.top+U.height+f)+I.height>=w&&(L=U.top-I.height-f):(L=U.top-I.height-f)<0&&(L=U.top+U.height+f),Object.assign($.style,{top:"".concat(L,"px"),left:"".concat(r,"px")})},G=function($){var U=$.children,L=$.label,F=$.long,I=F!==void 0&&F,P=$.style;return(0,ue.useEffect)(function(){return function(){return ye().classList.remove("excalidraw-tooltip--visible")}},[]),(0,me.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(w){return function(f,r,o,b){r.classList.add("excalidraw-tooltip--visible"),r.style.minWidth=b?"50ch":"10ch",r.style.maxWidth=b?"50ch":"15ch",r.textContent=o;var s=f.getBoundingClientRect();fe(r,s)}(w.currentTarget,ye(),L,I)},onPointerLeave:function(){return ye().classList.remove("excalidraw-tooltip--visible")},style:P,children:U})}},9247:function(te,t,e){var _=e(2726),g=e(1930),p=e(9787),y=e.n(p),T=e(8227),E=["i18nKey","children"],a=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,u=/{{([\w-]+)}}/,N=/<([\w-]+)>/,H=/<\/([\w-]+)>/;t.Z=function(x){var m=x.i18nKey,k=(x.children,(0,_.Z)(x,E)),Q=(0,T.QT)().t;return y().createElement.apply(y(),[y().Fragment,{}].concat((0,g.Z)(function(ue,me){var ye=[{name:"",children:[]}];return ue.split(a).filter(Boolean).forEach(function(fe){var G=fe.match(N),$=fe.match(H),U=fe.match(u);if(G!==null){var L=G[1];me.hasOwnProperty(L)?ye.push({name:L,children:[]}):console.warn("Trans: missed to pass in prop ".concat(L," for interpolating ").concat(ue))}else if($!==null)if($[1]===ye[ye.length-1].name){var F=ye.pop(),I=y().createElement.apply(y(),[y().Fragment,{}].concat((0,g.Z)(F.children))),P=me[F.name];typeof P=="function"&&ye[ye.length-1].children.push(P(I))}else console.warn("Trans: unexpected end tag ".concat(fe," for interpolating ").concat(ue));else if(U!==null){var w=U[1];me.hasOwnProperty(w)?ye[ye.length-1].children.push(me[w]):console.warn("Trans: key ".concat(w," not in props for interpolating ").concat(ue))}else ye[ye.length-1].children.push(fe)}),ye.length!==1&&console.warn("Trans: stack not empty for interpolating ".concat(ue)),ye[0].children}(Q(m),k))))}},4704:function(te,t,e){e.d(t,{Z:function(){return L}});var _=e(2577),g=e(3379),p=e.n(g),y=e(7795),T=e.n(y),E=e(569),a=e.n(E),u=e(3565),N=e.n(u),H=e(9216),x=e.n(H),m=e(4589),k=e.n(m),Q=e(6359),ue={};ue.styleTagTransform=k(),ue.setAttributes=N(),ue.insert=a().bind(null,"head"),ue.domAPI=T(),ue.insertStyleElement=x(),p()(Q.Z,ue),Q.Z&&Q.Z.locals&&Q.Z.locals;var me=e(9787),ye=e.n(me),fe=e(45),G=e(8925),$=e(8242),U=e(1020),L=function(F){var I=F.className,P=F.mobile,w=F.collaborators,f=(0,$.eh)(),r=new Map;w.forEach(function(b,s){r.set(b.id||s,b)});var o=r.size>0&&Array.from(r).filter(function(b){var s=(0,_.Z)(b,2),c=(s[0],s[1]);return Object.keys(c).length!==0}).map(function(b){var s=(0,_.Z)(b,2),c=s[0],S=s[1],z=f.renderAction("goToCollaborator",[c,S]);return P?(0,U.jsx)(G.u,{label:S.username||"Unknown user",children:z},c):(0,U.jsx)(ye().Fragment,{children:z},c)});return(0,U.jsx)("div",{className:(0,fe.Z)("UserList",I,{UserList_mobile:P}),children:o})}},7104:function(te,t,e){e.d(t,{Z:function(){return J}});var _=e(7169),g=e(2726),p=e(45),y=e(8242),T=e(1020),E=["className","children","onToggle","title"];function a(ee,he){var Pe=Object.keys(ee);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(ee);he&&(He=He.filter(function(Ke){return Object.getOwnPropertyDescriptor(ee,Ke).enumerable})),Pe.push.apply(Pe,He)}return Pe}function u(ee){for(var he=1;he<arguments.length;he++){var Pe=arguments[he]!=null?arguments[he]:{};he%2?a(Object(Pe),!0).forEach(function(He){(0,_.Z)(ee,He,Pe[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Pe)):a(Object(Pe)).forEach(function(He){Object.defineProperty(ee,He,Object.getOwnPropertyDescriptor(Pe,He))})}return ee}var N=function(ee){var he=ee.className,Pe=he===void 0?"":he,He=ee.children,Ke=ee.onToggle,Ae=ee.title,Oe=(0,g.Z)(ee,E),Te=(0,y.Fy)(),De=(0,p.Z)("dropdown-menu-button ".concat(Pe),"zen-mode-transition",{"dropdown-menu-button--mobile":Te.editor.isMobile}).trim();return(0,T.jsx)("button",u(u({"data-prevent-outside-click":!0,className:De,onClick:Ke,type:"button","data-testid":"dropdown-menu-button",title:Ae},Oe),{},{children:He}))},H=N;N.displayName="DropdownMenuTrigger";var x=e(5735),m=function(){return(0,T.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},k=m;m.displayName="DropdownMenuSeparator";var Q=function(ee){var he=ee.children,Pe=ee.className,He=Pe===void 0?"":Pe,Ke=ee.style,Ae=ee.title;return(0,T.jsxs)("div",{className:"dropdown-menu-group ".concat(He),style:Ke,children:[Ae&&(0,T.jsx)("p",{className:"dropdown-menu-group-title",children:Ae}),he]})},ue=Q;Q.displayName="DropdownMenuGroup";var me=e(1404),ye=e(2540),fe=e(9787),G=e.n(fe),$=e(7009),U=e(1901),L=function(ee){var he=ee.children,Pe=ee.onClickOutside,He=ee.className,Ke=He===void 0?"":He,Ae=ee.onSelect,Oe=ee.style,Te=(0,y.Fy)(),De=(0,fe.useRef)(null);(0,U.O)(De,function(){Pe?.()});var ke=(0,p.Z)("dropdown-menu ".concat(Ke),{"dropdown-menu--mobile":Te.editor.isMobile}).trim();return(0,T.jsx)($.N7.Provider,{value:{onSelect:Ae},children:(0,T.jsx)("div",{ref:De,className:ke,style:Oe,"data-testid":"dropdown-menu",children:Te.editor.isMobile?(0,T.jsx)(ye.Z.Col,{className:"dropdown-menu-container",children:he}):(0,T.jsx)(me.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:he})})})};L.displayName="DropdownMenuContent";var F=L,I=e(3858),P=["children","className","selected"];function w(ee,he){var Pe=Object.keys(ee);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(ee);he&&(He=He.filter(function(Ke){return Object.getOwnPropertyDescriptor(ee,Ke).enumerable})),Pe.push.apply(Pe,He)}return Pe}function f(ee){for(var he=1;he<arguments.length;he++){var Pe=arguments[he]!=null?arguments[he]:{};he%2?w(Object(Pe),!0).forEach(function(He){(0,_.Z)(ee,He,Pe[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Pe)):w(Object(Pe)).forEach(function(He){Object.defineProperty(ee,He,Object.getOwnPropertyDescriptor(Pe,He))})}return ee}var r=function(ee){var he=ee.children,Pe=ee.className,He=Pe===void 0?"":Pe,Ke=ee.selected,Ae=(0,g.Z)(ee,P);return(0,T.jsx)("div",f(f({},Ae),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(He," ").concat(Ke?"dropdown-menu-item--selected":"").trim(),children:he}))},o=e(3379),b=e.n(o),s=e(7795),c=e.n(s),S=e(569),z=e.n(S),B=e(3565),j=e.n(B),C=e(9216),A=e.n(C),Y=e(4589),ie=e.n(Y),le=e(7399),ce={};ce.styleTagTransform=ie(),ce.setAttributes=j(),ce.insert=z().bind(null,"head"),ce.domAPI=c(),ce.insertStyleElement=A(),b()(le.Z,ce),le.Z&&le.Z.locals&&le.Z.locals;var de=function(ee){var he=ee.children,Pe=ee.open,He=function(Ae){return G().Children.toArray(Ae).find(function(Oe){return G().isValidElement(Oe)&&typeof Oe.type!="string"&&Oe?.type.displayName&&Oe.type.displayName==="DropdownMenuTrigger"})||null}(he),Ke=function(Ae){return G().Children.toArray(Ae).find(function(Oe){return G().isValidElement(Oe)&&typeof Oe.type!="string"&&Oe?.type.displayName&&Oe.type.displayName==="DropdownMenuContent"})||null}(he);return(0,T.jsxs)(T.Fragment,{children:[He,Pe&&Ke]})};de.Trigger=H,de.Content=F,de.Item=x.Z,de.ItemLink=I.Z,de.ItemCustom=r,de.Group=ue,de.Separator=k;var J=de;de.displayName="DropdownMenu"},5735:function(te,t,e){var _=e(7169),g=e(2726),p=e(7009),y=e(6732),T=e(1020),E=["icon","onSelect","children","shortcut","className","selected"];function a(H,x){var m=Object.keys(H);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(H);x&&(k=k.filter(function(Q){return Object.getOwnPropertyDescriptor(H,Q).enumerable})),m.push.apply(m,k)}return m}function u(H){for(var x=1;x<arguments.length;x++){var m=arguments[x]!=null?arguments[x]:{};x%2?a(Object(m),!0).forEach(function(k){(0,_.Z)(H,k,m[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(m)):a(Object(m)).forEach(function(k){Object.defineProperty(H,k,Object.getOwnPropertyDescriptor(m,k))})}return H}var N=function(H){var x,m=H.icon,k=H.onSelect,Q=H.children,ue=H.shortcut,me=H.className,ye=H.selected,fe=(0,g.Z)(H,E),G=(0,p.qZ)(fe.onClick,k);return(0,T.jsx)("button",u(u({},fe),{},{onClick:G,type:"button",className:(0,p.n)(me,ye),title:(x=fe.title)!==null&&x!==void 0?x:fe["aria-label"],children:(0,T.jsx)(y.Z,{icon:m,shortcut:ue,children:Q})}))};t.Z=N,N.displayName="DropdownMenuItem"},6732:function(te,t,e){var _=e(8242),g=e(1020);t.Z=function(p){var y=p.icon,T=p.shortcut,E=p.children,a=(0,_.Fy)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"dropdown-menu-item__icon",children:y}),(0,g.jsx)("div",{className:"dropdown-menu-item__text",children:E}),T&&!a.editor.isMobile&&(0,g.jsx)("div",{className:"dropdown-menu-item__shortcut",children:T})]})}},3858:function(te,t,e){var _=e(7169),g=e(2726),p=e(6732),y=e(7009),T=e(1020),E=["icon","shortcut","href","children","onSelect","className","selected"];function a(H,x){var m=Object.keys(H);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(H);x&&(k=k.filter(function(Q){return Object.getOwnPropertyDescriptor(H,Q).enumerable})),m.push.apply(m,k)}return m}function u(H){for(var x=1;x<arguments.length;x++){var m=arguments[x]!=null?arguments[x]:{};x%2?a(Object(m),!0).forEach(function(k){(0,_.Z)(H,k,m[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(m)):a(Object(m)).forEach(function(k){Object.defineProperty(H,k,Object.getOwnPropertyDescriptor(m,k))})}return H}var N=function(H){var x,m=H.icon,k=H.shortcut,Q=H.href,ue=H.children,me=H.onSelect,ye=H.className,fe=ye===void 0?"":ye,G=H.selected,$=(0,g.Z)(H,E),U=(0,y.qZ)($.onClick,me);return(0,T.jsx)("a",u(u({},$),{},{href:Q,target:"_blank",rel:"noreferrer",className:(0,y.n)(fe,G),title:(x=$.title)!==null&&x!==void 0?x:$["aria-label"],onClick:U,children:(0,T.jsx)(p.Z,{icon:m,shortcut:k,children:ue})}))};t.Z=N,N.displayName="DropdownMenuItemLink"},7009:function(te,t,e){e.d(t,{N7:function(){return T},n:function(){return E},qZ:function(){return a}});var _=e(9787),g=e.n(_),p=e(9937),y=e(9827),T=g().createContext({}),E=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",N=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"dropdown-menu-item dropdown-menu-item-base ".concat(u," ").concat(N?"dropdown-menu-item--selected":"").trim()},a=function(u,N){var H=(0,_.useContext)(T);return(0,y.Mj)(u,function(x){var m,k=new CustomEvent(p.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});N?.(k),k.defaultPrevented||(m=H.onSelect)===null||m===void 0||m.call(H,k)})}},6922:function(te,t,e){e.d(t,{$:function(){return u}});var _=e(7169),g=e(2577),p=e(3607),y=e(9787),T=e(4572),E=e(1020);function a(N,H){var x=Object.keys(N);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(N);H&&(m=m.filter(function(k){return Object.getOwnPropertyDescriptor(N,k).enumerable})),x.push.apply(x,m)}return x}var u=function(N,H){var x=(0,p.cn)(0),m=function(k){var Q=(0,T.R6)().jotaiScope,ue=(0,p.KO)(x,Q),me=(0,g.Z)(ue,2)[1],ye=(0,y.useRef)({preferHost:!1,counter:0});return(0,y.useLayoutEffect)(function(){var fe=ye.current;return me(function(G){var $=G+1;return fe.counter=$,$}),function(){me(function(G){var $=G-1;return fe.counter=$,$||(fe.preferHost=!1),$})}},[me]),k.__fallback||(ye.current.preferHost=!0),!ye.current.counter&&k.__fallback&&ye.current.preferHost||ye.current.counter>1&&k.__fallback?null:(0,E.jsx)(H,function(fe){for(var G=1;G<arguments.length;G++){var $=arguments[G]!=null?arguments[G]:{};G%2?a(Object($),!0).forEach(function(U){(0,_.Z)(fe,U,$[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors($)):a(Object($)).forEach(function(U){Object.defineProperty(fe,U,Object.getOwnPropertyDescriptor($,U))})}return fe}({},k))};return m.displayName=N,m}},8935:function(te,t,e){e.d(t,{$W:function(){return Cn},$c:function(){return l},$q:function(){return B},BF:function(){return $e},Ct:function(){return Se},D7:function(){return He},DG:function(){return be},DJ:function(){return I},DS:function(){return It},EO:function(){return Yn},ET:function(){return Pe},FC:function(){return U},FL:function(){return Y},Gc:function(){return re},HL:function(){return Re},Hk:function(){return Pt},Hy:function(){return J},II:function(){return Ln},IN:function(){return ae},J8:function(){return ve},LZ:function(){return er},NA:function(){return ie},NW:function(){return ce},Nw:function(){return rn},OA:function(){return un},OW:function(){return w},P7:function(){return $n},Pm:function(){return c},RJ:function(){return at},RY:function(){return de},Re:function(){return r},ST:function(){return lt},Sd:function(){return j},TP:function(){return D},Tl:function(){return ke},Tw:function(){return we},UE:function(){return d},UI:function(){return Ft},UT:function(){return jn},VL:function(){return S},Vl:function(){return V},Vq:function(){return me},W2:function(){return xt},W5:function(){return qe},Wl:function(){return Kt},X7:function(){return Et},XB:function(){return z},XH:function(){return A},YA:function(){return fe},ZA:function(){return jt},Zm:function(){return Ke},_C:function(){return $},_U:function(){return F},a0:function(){return vt},a1:function(){return Te},a5:function(){return Ht},aA:function(){return or},aL:function(){return Dt},aT:function(){return $t},bf:function(){return pn},by:function(){return ee},d:function(){return Vn},dg:function(){return Dn},e0:function(){return o},eQ:function(){return Ae},fr:function(){return Mt},gK:function(){return ft},h0:function(){return he},il:function(){return Nt},j8:function(){return an},jn:function(){return ze},kL:function(){return le},kM:function(){return _t},lF:function(){return dt},m:function(){return ln},m9:function(){return Gt},mh:function(){return Ge},mv:function(){return dn},nb:function(){return f},np:function(){return Tt},nq:function(){return Tn},o3:function(){return Sn},oQ:function(){return L},oT:function(){return Hn},op:function(){return Me},pO:function(){return ye},po:function(){return De},pw:function(){return ge},q0:function(){return kn},qQ:function(){return G},rr:function(){return Jt},t5:function(){return q},tW:function(){return zn},tb:function(){return s},tn:function(){return Yt},uD:function(){return We},vo:function(){return zt},wr:function(){return At},xL:function(){return C},xP:function(){return Oe},xs:function(){return Ye},z6:function(){return en},zG:function(){return M},zb:function(){return b},zl:function(){return Wn},zu:function(){return P}});var _=e(7169),g=e(2726),p=e(9787),y=e.n(p),T=e(5284),E=e(45),a=e(9937),u=e(1020),N=["width","height","mirror","style"];function H(Pn,Rn){var Nn=Object.keys(Pn);if(Object.getOwnPropertySymbols){var Gn=Object.getOwnPropertySymbols(Pn);Rn&&(Gn=Gn.filter(function(nr){return Object.getOwnPropertyDescriptor(Pn,nr).enumerable})),Nn.push.apply(Nn,Gn)}return Nn}function x(Pn){for(var Rn=1;Rn<arguments.length;Rn++){var Nn=arguments[Rn]!=null?arguments[Rn]:{};Rn%2?H(Object(Nn),!0).forEach(function(Gn){(0,_.Z)(Pn,Gn,Nn[Gn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pn,Object.getOwnPropertyDescriptors(Nn)):H(Object(Nn)).forEach(function(Gn){Object.defineProperty(Pn,Gn,Object.getOwnPropertyDescriptor(Nn,Gn))})}return Pn}var m=function(Pn){return Pn===a.C6.LIGHT?T.white:"#1e1e1e"},k=function(Pn){var Rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,Nn=typeof Rn=="number"?{width:Rn}:Rn,Gn=Nn.width,nr=Gn===void 0?512:Gn,rr=Nn.height,Or=rr===void 0?nr:rr,Xr=Nn.mirror,po=Nn.style,xo=(0,g.Z)(Nn,N);return(0,u.jsx)("svg",x(x({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(nr," ").concat(Or),className:(0,E.Z)({"rtl-mirror":Xr}),style:po},xo),{},{children:typeof Pn=="string"?(0,u.jsx)("path",{fill:"currentColor",d:Pn}):Pn}))},Q={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ue={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},me=(k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,u.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,u.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,u.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),Q),k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,u.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,u.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,u.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,u.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),Q)),ye=k((0,u.jsxs)("svg",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,u.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Q),fe=k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,u.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,u.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),Q),G=k((0,u.jsxs)("svg",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,u.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,u.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),Q),$=k((0,u.jsxs)("g",{children:[(0,u.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,u.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,u.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,u.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),ue),U=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,u.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,u.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),ue),L=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),F=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),I=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),P=(k((0,u.jsx)("g",{fill:"currentColor",children:(0,u.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),k((0,u.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,u.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),w=k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),Q),f=k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),Q),r=k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),Q),o=k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,u.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,u.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),Q),b=k((0,u.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),ue),s=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,u.jsx)("path",{d:"M16 7h4"}),(0,u.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),Q),c=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,u.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),ue),S=k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,u.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,u.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,u.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,u.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),Q),z=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M12.5 6.667h.01"}),(0,u.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,u.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,u.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),ue),B=k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,u.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),Q),j=k((0,u.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),ue),C=k((0,u.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),ue),A=k((0,u.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),ue),Y=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,u.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),ue),ie=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,u.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),ue),le=k((0,u.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),ue),ce=k((0,u.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,u.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),ue),de=k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,u.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,u.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),Q),J=k((0,u.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),ue),ee=k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,u.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,u.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),Q),he=k((0,u.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),ue),Pe=k((0,u.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),ue),He=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,u.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),ue),Ke=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),Q),Ae=k((0,u.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Oe=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,u.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),ue),Te=k("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),De=k("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),ke=k((0,u.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),ue),be=(k("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),k("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),ve=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M15 8h.01"}),(0,u.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,u.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,u.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,u.jsx)("path",{d:"M19 16v6"}),(0,u.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),Q),D=k("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),l=(k("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),k("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),k("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),d=(k("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),k((0,u.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),ue)),M=k((0,u.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),ue),V=k("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),q=(k((0,u.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),ue),k("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,u.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),k((0,u.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue)),re=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,u.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),ae=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),ge=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",children:[(0,u.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,u.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,u.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),Se=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),Re=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),Ye=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),Ge=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),We=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),qe=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),lt=k((0,u.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),ue),ft=k((0,u.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),ue),ze=k((0,u.jsxs)("g",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,u.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,u.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,u.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),Q),we=(k("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),k("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,u.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue)),Me=k("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),$e=(k("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),k("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),k("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),y().memo(function(Pn){var Rn=Pn.theme;return k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,u.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,u.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,u.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,u.jsxs)("g",{fill:m(Rn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,u.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),at=y().memo(function(Pn){var Rn=Pn.theme;return k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,u.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,u.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,u.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,u.jsxs)("g",{fill:m(Rn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,u.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,u.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),dt=k((0,u.jsx)("g",{strokeWidth:1.25,children:(0,u.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),ue),vt=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,u.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,u.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,u.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),ue),Tt=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("g",{clipPath:"url(#a)",children:[(0,u.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,u.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,u.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,u.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),Et=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",children:(0,u.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),x(x({},ue),{},{fill:"currentColor"})),jt=k((0,u.jsx)(u.Fragment,{children:(0,u.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),ue),Kt=k((0,u.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),ue),Gt=k((0,u.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),ue),Ht=k((0,u.jsxs)("g",{strokeWidth:"2",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M5 12h2"}),(0,u.jsx)("path",{d:"M17 12h2"}),(0,u.jsx)("path",{d:"M11 12h2"})]}),Q),$t=k((0,u.jsxs)("g",{strokeWidth:"2",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M4 12v.01"}),(0,u.jsx)("path",{d:"M8 12v.01"}),(0,u.jsx)("path",{d:"M12 12v.01"}),(0,u.jsx)("path",{d:"M16 12v.01"}),(0,u.jsx)("path",{d:"M20 12v.01"})]}),Q),pn=k((0,u.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),ue),_t=k((0,u.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),ue),xt=k((0,u.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),ue),At=k((0,u.jsxs)("svg",{strokeWidth:"1.5",children:[(0,u.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,u.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,u.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,u.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,u.jsx)("path",{d:"M16.6667 10V10.01"}),(0,u.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,u.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,u.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,u.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,u.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,u.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,u.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),ue),It=k((0,u.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,u.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,u.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,u.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,u.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,u.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,u.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,u.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,u.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,u.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,u.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,u.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),Q),Mt=k((0,u.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Nt=y().memo(function(Pn){var Rn=Pn.flip,Nn=Rn!==void 0&&Rn;return k((0,u.jsxs)("g",{transform:Nn?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,u.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,u.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),Yt=y().memo(function(Pn){var Rn=Pn.flip,Nn=Rn!==void 0&&Rn;return k((0,u.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Nn?"translate(40, 0) scale(-1, 1)":"",children:[(0,u.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,u.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),ln=y().memo(function(Pn){var Rn=Pn.flip,Nn=Rn!==void 0&&Rn;return k((0,u.jsx)("g",{transform:Nn?"translate(40, 0) scale(-1, 1)":"",children:(0,u.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),an=y().memo(function(Pn){var Rn=Pn.flip,Nn=Rn!==void 0&&Rn;return k((0,u.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Nn?"translate(40, 0) scale(-1, 1)":"",children:[(0,u.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,u.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),kn=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",children:(0,u.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),Tn=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",children:(0,u.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),zn=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",children:(0,u.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),un=k((0,u.jsx)(u.Fragment,{children:(0,u.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),ue),zt=k((0,u.jsx)(u.Fragment,{children:(0,u.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,u.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),ue),en=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,u.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"a",children:(0,u.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ue),Jt=k((0,u.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,u.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,u.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),Q),Sn=k((0,u.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,u.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,u.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),Q),Hn=k((0,u.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,u.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,u.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),Q),Yn=y().memo(function(Pn){return Pn.theme,k((0,u.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,u.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),Q)}),or=y().memo(function(Pn){return Pn.theme,k((0,u.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,u.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),Q)}),$n=y().memo(function(Pn){return Pn.theme,k((0,u.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,u.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,u.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),Q)}),rn=k((0,u.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),Pt=(k((0,u.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),k((0,u.jsxs)("g",{strokeWidth:1.25,children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,u.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,u.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,u.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),Q)),Dt=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,u.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,u.jsx)("path",{d:"M12 4l0 12"})]}),Q),Ft=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,u.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),Q),dn=k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,u.jsx)("path",{d:"M12 17l0 .01"}),(0,u.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),Q),jn=(k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M7 4v16l13 -8z"})]}),Q),k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),Q),k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),Q),k((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,u.jsx)("path",{d:"M12 9v4"}),(0,u.jsx)("path",{d:"M12 17h.01"})]}),Q)),Cn=k((0,u.jsxs)("g",{strokeWidth:1.25,children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M11 7l6 6"}),(0,u.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),Q),Dn=k((0,u.jsxs)("g",{strokeWidth:1.5,children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,u.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,u.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),Q),Wn=k((0,u.jsxs)("g",{strokeWidth:1.5,children:[(0,u.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,u.jsx)("path",{d:"M4 7l16 0"}),(0,u.jsx)("path",{d:"M4 17l16 0"}),(0,u.jsx)("path",{d:"M7 4l0 16"}),(0,u.jsx)("path",{d:"M17 4l0 16"})]}),Q),Ln=k((0,u.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),er=k((0,u.jsxs)("g",{strokeWidth:"1.25",children:[(0,u.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,u.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,u.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),ue),Vn=k((0,u.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,u.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,u.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20)},7021:function(te,t,e){e.d(t,{Z:function(){return Ke}});var _={};e.r(_),e.d(_,{ChangeCanvasBackground:function(){return le},ClearCanvas:function(){return Y},Export:function(){return ce},Help:function(){return A},LiveCollaborationTrigger:function(){return J},LoadScene:function(){return B},SaveAsImage:function(){return C},SaveToActiveFile:function(){return j},Socials:function(){return de},ToggleTheme:function(){return ie}});var g=e(8242),p=e(7104),y=e(8950),T=e(2975),E=e.n(T),a=e(2529),u=e(8227),N=e(8935),H=e(5735),x=e(3858),m=e(5463),k=e(3379),Q=e.n(k),ue=e(7795),me=e.n(ue),ye=e(569),fe=e.n(ye),G=e(3565),$=e.n(G),U=e(9216),L=e.n(U),F=e(4589),I=e.n(F),P=e(4343),w={};w.styleTagTransform=I(),w.setAttributes=$(),w.insert=fe().bind(null,"head"),w.domAPI=me(),w.insertStyleElement=L(),Q()(P.Z,w),P.Z&&P.Z.locals&&P.Z.locals;var f=e(45),r=e(3607),o=e(8973),b=e(453),s=e(100),c=e(7827),S=e(9247),z=e(1020),B=function(){var Ae=(0,u.QT)().t,Oe=(0,g.eh)(),Te=(0,g.bd)();if(!Oe.isActionEnabled(m._d))return null;var De=function(){var ke=(0,y.Z)(E().mark(function be(){return E().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(ve.t0=!Te.length,ve.t0){ve.next=5;break}return ve.next=4,(0,c._)({title:Ae("overwriteConfirm.modal.loadFromFile.title"),actionLabel:Ae("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,z.jsx)(S.Z,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(D){return(0,z.jsx)("strong",{children:D})},br:function(){return(0,z.jsx)("br",{})}})});case 4:ve.t0=ve.sent;case 5:if(!ve.t0){ve.next=7;break}Oe.executeAction(m._d);case 7:case"end":return ve.stop()}},be)}));return function(){return ke.apply(this,arguments)}}();return(0,z.jsx)(H.Z,{icon:N.Tl,onSelect:De,"data-testid":"load-button",shortcut:(0,a.C)("loadScene"),"aria-label":Ae("buttons.load"),children:Ae("buttons.load")})};B.displayName="LoadScene";var j=function(){var Ae=(0,u.QT)().t,Oe=(0,g.eh)();return Oe.isActionEnabled(m.ns)?(0,z.jsx)(H.Z,{shortcut:(0,a.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return Oe.executeAction(m.ns)},icon:N.a1,"aria-label":"".concat(Ae("buttons.save")),children:"".concat(Ae("buttons.save"))}):null};j.displayName="SaveToActiveFile";var C=function(){var Ae=(0,g.n9)(),Oe=(0,u.QT)().t;return(0,z.jsx)(H.Z,{icon:N.J8,"data-testid":"image-export-button",onSelect:function(){return Ae({openDialog:"imageExport"})},shortcut:(0,a.C)("imageExport"),"aria-label":Oe("buttons.exportImage"),children:Oe("buttons.exportImage")})};C.displayName="SaveAsImage";var A=function(){var Ae=(0,u.QT)().t,Oe=(0,g.eh)();return(0,z.jsx)(H.Z,{"data-testid":"help-menu-item",icon:N.by,onSelect:function(){return Oe.executeAction(m.jY)},shortcut:"?","aria-label":Ae("helpDialog.title"),children:Ae("helpDialog.title")})};A.displayName="Help";var Y=function(){var Ae=(0,u.QT)().t,Oe=(0,r.b9)(o.w,b.yE);return(0,g.eh)().isActionEnabled(m.mo)?(0,z.jsx)(H.Z,{icon:N.XH,onSelect:function(){return Oe("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":Ae("buttons.clearReset"),children:Ae("buttons.clearReset")}):null};Y.displayName="ClearCanvas";var ie=function(){var Ae=(0,u.QT)().t,Oe=(0,s.I)(),Te=(0,g.eh)();return Te.isActionEnabled(m.Zp)?(0,z.jsx)(H.Z,{onSelect:function(De){return De.preventDefault(),Te.executeAction(m.Zp)},icon:Oe.theme==="dark"?N.NW:N.kL,"data-testid":"toggle-dark-mode",shortcut:(0,a.C)("toggleTheme"),"aria-label":Oe.theme==="dark"?Ae("buttons.lightMode"):Ae("buttons.darkMode"),children:Oe.theme==="dark"?Ae("buttons.lightMode"):Ae("buttons.darkMode")}):null};ie.displayName="ToggleTheme";var le=function(){var Ae=(0,u.QT)().t,Oe=(0,s.I)(),Te=(0,g.eh)(),De=(0,g.hY)();return Oe.viewModeEnabled||!De.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,z.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,z.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:Ae("labels.canvasBackground")}),(0,z.jsx)("div",{style:{padding:"0 0.625rem"},children:Te.renderAction("changeViewBackgroundColor")})]})};le.displayName="ChangeCanvasBackground";var ce=function(){var Ae=(0,u.QT)().t,Oe=(0,g.n9)();return(0,z.jsx)(H.Z,{icon:N.Hy,onSelect:function(){Oe({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":Ae("buttons.export"),children:Ae("buttons.export")})};ce.displayName="Export";var de=function(){return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(x.Z,{icon:N.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,z.jsx)(x.Z,{icon:N.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,z.jsx)(x.Z,{icon:N.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};de.displayName="Socials";var J=function(Ae){var Oe=Ae.onSelect,Te=Ae.isCollaborating,De=(0,u.QT)().t;return(0,z.jsx)(H.Z,{"data-testid":"collab-button",icon:N.jn,className:(0,f.Z)({"active-collab":Te}),onSelect:Oe,children:De("labels.liveCollaboration")})};J.displayName="LiveCollaborationTrigger";var ee=e(4704),he=e(6922),Pe=e(9827),He=e(4572),Ke=Object.assign((0,he.$)("MainMenu",function(Ae){var Oe=Ae.children,Te=Ae.onSelect,De=(0,He.R6)().MainMenuTunnel,ke=(0,g.Fy)(),be=(0,s.I)(),ve=(0,g.n9)(),D=ke.editor.isMobile?void 0:function(){return ve({openMenu:null})};return(0,z.jsx)(De.In,{children:(0,z.jsxs)(p.Z,{open:be.openMenu==="canvas",children:[(0,z.jsx)(p.Z.Trigger,{onToggle:function(){ve({openMenu:be.openMenu==="canvas"?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:N.RY}),(0,z.jsxs)(p.Z.Content,{onClickOutside:D,onSelect:(0,Pe.Mj)(Te,function(){ve({openMenu:null})}),children:[Oe,ke.editor.isMobile&&be.collaborators.size>0&&(0,z.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,z.jsx)("legend",{children:(0,u.t)("labels.collaborators")}),(0,z.jsx)(ee.Z,{mobile:!0,collaborators:be.collaborators})]})]})]})})}),{Trigger:p.Z.Trigger,Item:p.Z.Item,ItemLink:p.Z.ItemLink,ItemCustom:p.Z.ItemCustom,Group:p.Z.Group,Separator:p.Z.Separator,DefaultItems:_})},9937:function(te,t,e){e.d(t,{wL:function(){return Ae},iC:function(){return w},vL:function(){return vt},bY:function(){return dt},gK:function(){return at},$C:function(){return A},oc:function(){return S},_9:function(){return Gt},HN:function(){return xt},qy:function(){return ft},rk:function(){return ee},n5:function(){return J},h6:function(){return ze},Rx:function(){return Kt},Cc:function(){return It},Hg:function(){return he},cW:function(){return ge},hs:function(){return Pe},f:function(){return f},xY:function(){return jt},Iw:function(){return o},$e:function(){return b},Vi:function(){return C},Ks:function(){return G},r8:function(){return De},I_:function(){return Te},ZB:function(){return lt},pb:function(){return ke},ut:function(){return Y},iG:function(){return le},k:function(){return He},sA:function(){return V},KL:function(){return Ke},LL:function(){return be},PR:function(){return Mt},tf:function(){return At},EE:function(){return We},qx:function(){return r},$n:function(){return we},zK:function(){return qe},LO:function(){return Oe},CP:function(){return de},Zj:function(){return M},Yx:function(){return Ye},sS:function(){return Re},kV:function(){return Se},sk:function(){return Ge},Oh:function(){return z},XI:function(){return B},WR:function(){return $t},$h:function(){return pn},a6:function(){return Ht},HM:function(){return l},ay:function(){return c},dg:function(){return _t},hR:function(){return Me},Gj:function(){return ve},I8:function(){return Et},wZ:function(){return s},C6:function(){return ie},ZF:function(){return q},nM:function(){return D},ah:function(){return ae},UO:function(){return re},Kr:function(){return $e},oX:function(){return Tt},_D:function(){return ce},vf:function(){return j},V4:function(){return d},Dt:function(){return L},jP:function(){return P},Um:function(){return $},vU:function(){return F},G6:function(){return I},ED:function(){return U}});var _=e(7169),g=e(3379),p=e.n(g),y=e(7795),T=e.n(y),E=e(569),a=e.n(E),u=e(3565),N=e.n(u),H=e(9216),x=e.n(H),m=e(4589),k=e.n(m),Q=e(6464),ue={};ue.styleTagTransform=k(),ue.setAttributes=N(),ue.insert=a().bind(null,"head"),ue.domAPI=T(),ue.insertStyleElement=x(),p()(Q.Z,ue);var me=Q.Z&&Q.Z.locals?Q.Z.locals:void 0,ye=e(9240);function fe(Nt,Yt){var ln=Object.keys(Nt);if(Object.getOwnPropertySymbols){var an=Object.getOwnPropertySymbols(Nt);Yt&&(an=an.filter(function(kn){return Object.getOwnPropertyDescriptor(Nt,kn).enumerable})),ln.push.apply(ln,an)}return ln}var G,$=/Mac|iPod|iPhone|iPad/.test(navigator.platform),U=/^Win/.test(navigator.platform),L=/\b(android)\b/i.test(navigator.userAgent),F="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,I=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,P=function(){var Nt,Yt;return((Nt=navigator.brave)===null||Nt===void 0||(Yt=Nt.isBrave)===null||Yt===void 0?void 0:Yt.name)==="isBrave"},w="Excalidraw",f=10,r=8,o=5,b=1,s=30,c=Math.PI/12,S={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},z={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1},B={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"};(function(Nt){Nt.COPY="copy",Nt.PASTE="paste",Nt.CUT="cut",Nt.KEYDOWN="keydown",Nt.KEYUP="keyup",Nt.MOUSE_MOVE="mousemove",Nt.RESIZE="resize",Nt.UNLOAD="unload",Nt.FOCUS="focus",Nt.BLUR="blur",Nt.DRAG_OVER="dragover",Nt.DROP="drop",Nt.GESTURE_END="gestureend",Nt.BEFORE_UNLOAD="beforeunload",Nt.GESTURE_START="gesturestart",Nt.GESTURE_CHANGE="gesturechange",Nt.POINTER_MOVE="pointermove",Nt.POINTER_DOWN="pointerdown",Nt.POINTER_UP="pointerup",Nt.STATE_CHANGE="statechange",Nt.WHEEL="wheel",Nt.TOUCH_START="touchstart",Nt.TOUCH_END="touchend",Nt.HASHCHANGE="hashchange",Nt.VISIBILITY_CHANGE="visibilitychange",Nt.SCROLL="scroll",Nt.EXCALIDRAW_LINK="excalidraw-link",Nt.MENU_ITEM_SELECT="menu.itemSelect",Nt.MESSAGE="message"})(G||(G={}));var j={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},C={TEST:"test",DEVELOPMENT:"development"},A={SHAPE_ACTIONS_MENU:"App-menu__left"},Y={Virgil:1,Helvetica:2,Cascadia:3,Assistant:4},ie={LIGHT:"light",DARK:"dark"},le={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},ce="Segoe UI Emoji",de=1,J=20,ee=Y.Virgil,he="left",Pe="top",He=20,Ke={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},Ae=["text/plain","text/html"],Oe=function(Nt){for(var Yt=1;Yt<arguments.length;Yt++){var ln=arguments[Yt]!=null?arguments[Yt]:{};Yt%2?fe(Object(ln),!0).forEach(function(an){(0,_.Z)(Nt,an,ln[an])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(ln)):fe(Object(ln)).forEach(function(an){Object.defineProperty(Nt,an,Object.getOwnPropertyDescriptor(ln,an))})}return Nt}({json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},Ke),Te={png:"png",svg:"svg",clipboard:"clipboard"},De={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},ke=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,be=500,ve=300,D=500,l=100,d=.1,M=.1,V=300,q=me.themeFilter,re={addLibrary:"addLibrary"},ae={addLibrary:"addLibrary"},ge={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},Se=730,Re=1e3,Ye=500,Ge=1229,We=parseInt(me.rightSidebarWidth),qe=2,lt=[1,2,3],ft=10,ze=1440,we=2097152,Me="http://www.w3.org/2000/svg",$e={excalidraw:2,excalidrawLibrary:2},at=5,dt=.7,vt=11,Tt={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Et={LEFT:"left",CENTER:"center",RIGHT:"right"},jt=20,Kt=.25,Gt=32,Ht={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},$t="__precedingElement__",pn={architect:0,artist:1,cartoonist:2},_t={thin:1,bold:2,extraBold:4},xt={strokeColor:ye.HO.black,backgroundColor:ye.HO.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:pn.artist,opacity:100,locked:!1},At="library",It={name:"default",defaultTab:At},Mt=new Set(["embeddable","image"])},4572:function(te,t,e){e.d(t,{A3:function(){return k},ZC:function(){return ue},R6:function(){return Q}});var _=e(9787),g=e.n(_);const p=me=>{let ye;const fe=new Set,G=(L,F)=>{const I=typeof L=="function"?L(ye):L;if(!Object.is(I,ye)){const P=ye;ye=F??typeof I!="object"?I:Object.assign({},ye,I),fe.forEach(w=>w(ye,P))}},$=()=>ye,U={setState:G,getState:$,subscribe:L=>(fe.add(L),()=>fe.delete(L)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),fe.clear()}};return ye=me(G,$,U),U},y=me=>me?p(me):p;var T=e(5668);const{useSyncExternalStoreWithSelector:E}=T,a=me=>{typeof me!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const ye=typeof me=="function"?y(me):me,fe=(G,$)=>function(U,L=U.getState,F){const I=E(U.subscribe,U.getState,U.getServerState||U.getState,L,F);return(0,_.useDebugValue)(I),I}(ye,G,$);return Object.assign(fe,ye),fe},u=me=>me?a(me):a;var N,H;const x=typeof window<"u"&&((N=window.document)!=null&&N.createElement||((H=window.navigator)==null?void 0:H.product)==="ReactNative")?g().useLayoutEffect:g().useEffect;function m(){const me=u(ye=>({current:new Array,version:0,set:ye}));return{In:({children:ye})=>{const fe=me($=>$.set),G=me($=>$.version);return x(()=>{fe($=>({version:$.version+1}))},[]),x(()=>(fe(({current:$})=>({current:[...$,ye]})),()=>fe(({current:$})=>({current:$.filter(U=>U!==ye)}))),[ye,G]),null},Out:()=>{const ye=me(fe=>fe.current);return g().createElement(g().Fragment,null,ye)}}}var k=g().createContext(null),Q=function(){return g().useContext(k)},ue=function(){return g().useMemo(function(){return{MainMenuTunnel:m(),WelcomeScreenMenuHintTunnel:m(),WelcomeScreenToolbarHintTunnel:m(),WelcomeScreenHelpHintTunnel:m(),WelcomeScreenCenterTunnel:m(),FooterCenterTunnel:m(),DefaultSidebarTriggerTunnel:m(),DefaultSidebarTabTriggersTunnel:m(),OverwriteConfirmDialogTunnel:m(),jotaiScope:Symbol()}},[])}},100:function(te,t,e){e.d(t,{I:function(){return y},k:function(){return p}});var _=e(9787),g=e.n(_),p=g().createContext(null),y=function(){return g().useContext(p)}},7652:function(te,t,e){e.d(t,{KJ:function(){return x},OF:function(){return m},Uk:function(){return k},z8:function(){return H}});var _,g,p=e(9937),y=e(5284),T=e(6853),E='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',a='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',u="data:".concat(p.LO.svg,",").concat(encodeURIComponent("".concat(E).concat(a,"</svg>"))),N="data:".concat(p.LO.svg,",").concat(encodeURIComponent("".concat(E).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(a,"</svg>"))),H=function(Q){Q&&(Q.style.cursor="")},x=function(Q,ue){Q&&(Q.style.cursor=ue)},m=function(Q,ue){_&&_.theme===ue||function(){var me=ue===p.C6.DARK;(_=document.createElement("canvas")).theme=ue,_.height=20,_.width=20;var ye=_.getContext("2d");ye.lineWidth=1,ye.beginPath(),ye.arc(_.width/2,_.height/2,5,0,2*Math.PI),ye.fillStyle=me?y.black:y.white,ye.fill(),ye.strokeStyle=me?y.white:y.black,ye.stroke(),g=_.toDataURL(p.LO.svg)}(),x(Q,"url(".concat(g,") ").concat(10," ").concat(10,", auto"))},k=function(Q,ue){if(Q)if(ue.activeTool.type==="selection")H(Q);else if((0,T.l$)(ue))Q.style.cursor=p.oc.GRAB;else if((0,T.EN)(ue))m(Q,ue.theme);else if(ue.activeTool.type==="laser"){var me=ue.theme===p.C6.LIGHT?u:N;Q.style.cursor="url(".concat(me,"), auto")}else["image","custom"].includes(ue.activeTool.type)?ue.activeTool.type!=="image"&&(Q.style.cursor=p.oc.AUTO):Q.style.cursor=p.oc.CROSSHAIR}},5796:function(te,t,e){e.d(t,{DQ:function(){return L},KG:function(){return c},Pn:function(){return z},Qk:function(){return U},Sf:function(){return s},Tu:function(){return S},Wr:function(){return I},ZY:function(){return P},_c:function(){return o},_p:function(){return B},bv:function(){return j},cT:function(){return w},g8:function(){return F},gY:function(){return ie},lV:function(){return r},tW:function(){return b},vZ:function(){return le},wf:function(){return f}});var _=e(1930),g=e(2577),p=e(7169),y=e(8950),T=e(2975),E=e.n(T),a=e(5605),u=e(6853),N=e(9937),H=e(7651),x=e(3506),m=e(8227),k=e(4105),Q=e(9827),ue=e(6548),me=e(4419),ye=e(7994);function fe(ce,de){var J=Object.keys(ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(ce);de&&(ee=ee.filter(function(he){return Object.getOwnPropertyDescriptor(ce,he).enumerable})),J.push.apply(J,ee)}return J}function G(ce){for(var de=1;de<arguments.length;de++){var J=arguments[de]!=null?arguments[de]:{};de%2?fe(Object(J),!0).forEach(function(ee){(0,p.Z)(ce,ee,J[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(J)):fe(Object(J)).forEach(function(ee){Object.defineProperty(ce,ee,Object.getOwnPropertyDescriptor(J,ee))})}return ce}var $=function(){var ce=(0,y.Z)(E().mark(function de(J){var ee;return E().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(J.type!==N.LO.png){he.next=18;break}return he.prev=1,he.next=4,Promise.resolve().then(e.bind(e,250));case 4:return he.next=6,he.sent.decodePngMetadata(J);case 6:return he.abrupt("return",he.sent);case 9:if(he.prev=9,he.t0=he.catch(1),he.t0.message!=="INVALID"){he.next=15;break}throw new x.jk((0,m.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 15:throw new x.jk((0,m.t)("alerts.cannotRestoreFromImage"));case 16:he.next=43;break;case 18:if(!("text"in Blob)){he.next=24;break}return he.next=21,J.text();case 21:ee=he.sent,he.next=27;break;case 24:return he.next=26,new Promise(function(Pe){var He=new FileReader;He.readAsText(J,"utf8"),He.onloadend=function(){He.readyState===FileReader.DONE&&Pe(He.result)}});case 26:ee=he.sent;case 27:if(J.type!==N.LO.svg){he.next=43;break}return he.prev=28,he.next=31,Promise.resolve().then(e.bind(e,250));case 31:return he.next=33,he.sent.decodeSvgMetadata({svg:ee});case 33:return he.abrupt("return",he.sent);case 36:if(he.prev=36,he.t1=he.catch(28),he.t1.message!=="INVALID"){he.next=42;break}throw new x.jk((0,m.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 42:throw new x.jk((0,m.t)("alerts.cannotRestoreFromImage"));case 43:return he.abrupt("return",ee);case 44:case"end":return he.stop()}},de,null,[[1,9],[28,36]])}));return function(de){return ce.apply(this,arguments)}}(),U=function(ce){var de;return ce&&((de=ce.name.match(/\.(json|excalidraw|png|svg)$/))===null||de===void 0?void 0:de[1])||null},L=function(ce){return ce==="png"||ce==="svg"},F=function(ce){var de=U(ce);return de==="png"||de==="svg"},I=function(ce){var de=(ce||{}).type;return!!de&&Object.values(N.KL).includes(de)},P=function(){var ce=(0,y.Z)(E().mark(function de(J,ee,he,Pe){var He,Ke;return E().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,$(J);case 2:He=Ae.sent,Ae.prev=3,Ae.prev=4,Ke=JSON.parse(He),Ae.next=13;break;case 8:if(Ae.prev=8,Ae.t0=Ae.catch(4),!I(J)){Ae.next=12;break}throw new x.jk((0,m.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 12:throw Ae.t0;case 13:if(!(0,me.dS)(Ke)){Ae.next=17;break}return Ae.abrupt("return",{type:N.LO.excalidraw,data:(0,ye.nu)({elements:(0,H._M)(Ke.elements||[]),appState:G(G({theme:ee?.theme,fileHandle:Pe||J.handle||null},(0,u.s)(Ke.appState||{})),ee?(0,k.W)(Ke.elements||[],ee):{}),files:Ke.files},ee,he,{repairBindings:!0,refreshDimensions:!1})});case 17:if(!(0,me.HT)(Ke)){Ae.next=19;break}return Ae.abrupt("return",{type:N.LO.excalidrawlib,data:Ke});case 19:case 26:throw new Error((0,m.t)("alerts.couldNotLoadInvalidFile"));case 22:if(Ae.prev=22,Ae.t1=Ae.catch(3),!(Ae.t1 instanceof x.jk)){Ae.next=26;break}throw Ae.t1;case 27:case"end":return Ae.stop()}},de,null,[[3,22],[4,8]])}));return function(de,J,ee,he){return ce.apply(this,arguments)}}(),w=function(){var ce=(0,y.Z)(E().mark(function de(J,ee,he,Pe){var He;return E().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return Ke.next=2,P(J,ee,he,Pe);case 2:if((He=Ke.sent).type===N.LO.excalidraw){Ke.next=5;break}throw new Error((0,m.t)("alerts.couldNotLoadInvalidFile"));case 5:return Ke.abrupt("return",He.data);case 6:case"end":return Ke.stop()}},de)}));return function(de,J,ee,he){return ce.apply(this,arguments)}}(),f=function(ce){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",J=JSON.parse(ce);if(!(0,me.HT)(J))throw new Error("Invalid library");var ee=J.libraryItems||J.library;return(0,ye.wJ)(ee,de)},r=function(){var ce=(0,y.Z)(E().mark(function de(J){var ee,he=arguments;return E().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return ee=he.length>1&&he[1]!==void 0?he[1]:"unpublished",Pe.t0=f,Pe.next=4,$(J);case 4:return Pe.t1=Pe.sent,Pe.t2=ee,Pe.abrupt("return",(0,Pe.t0)(Pe.t1,Pe.t2));case 7:case"end":return Pe.stop()}},de)}));return function(de){return ce.apply(this,arguments)}}(),o=function(){var ce=(0,y.Z)(E().mark(function de(J){return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.abrupt("return",new Promise(function(){var he=(0,y.Z)(E().mark(function Pe(He,Ke){return E().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(Ae.prev=0,!(0,Q.y8)(J)){Ae.next=5;break}return Ae.next=4,J;case 4:J=Ae.sent;case 5:J.toBlob(function(Oe){if(!Oe)return Ke(new x.lp((0,m.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));He(Oe)}),Ae.next=11;break;case 8:Ae.prev=8,Ae.t0=Ae.catch(0),Ke(Ae.t0);case 11:case"end":return Ae.stop()}},Pe,null,[[0,8]])}));return function(Pe,He){return he.apply(this,arguments)}}()));case 1:case"end":return ee.stop()}},de)}));return function(de){return ce.apply(this,arguments)}}(),b=function(){var ce=(0,y.Z)(E().mark(function de(J){var ee;return E().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.prev=0,he.t0=window.crypto.subtle,he.next=4,le(J);case 4:return he.t1=he.sent,he.next=7,he.t0.digest.call(he.t0,"SHA-1",he.t1);case 7:return ee=he.sent,he.abrupt("return",(0,Q.G3)(new Uint8Array(ee)));case 11:return he.prev=11,he.t2=he.catch(0),console.error(he.t2),he.abrupt("return",(0,a.x0)(40));case 15:case"end":return he.stop()}},de,null,[[0,11]])}));return function(de){return ce.apply(this,arguments)}}(),s=function(){var ce=(0,y.Z)(E().mark(function de(J){return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.abrupt("return",new Promise(function(he,Pe){var He=new FileReader;He.onload=function(){var Ke=He.result;he(Ke)},He.onerror=function(Ke){return Pe(Ke)},He.readAsDataURL(J)}));case 1:case"end":return ee.stop()}},de)}));return function(de){return ce.apply(this,arguments)}}(),c=function(ce){for(var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",J=ce.indexOf(","),ee=atob(ce.slice(J+1)),he=ce.slice(0,J).split(":")[1].split(";")[0],Pe=new ArrayBuffer(ee.length),He=new Uint8Array(Pe),Ke=0;Ke<ee.length;Ke++)He[Ke]=ee.charCodeAt(Ke);return new File([Pe],de,{type:he})},S=function(){var ce=(0,y.Z)(E().mark(function de(J,ee){var he,Pe,He,Ke,Ae,Oe;return E().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(J.type!==N.LO.svg){Te.next=2;break}return Te.abrupt("return",J);case 2:return Te.next=4,Promise.all([e.e(4736).then(e.t.bind(e,4881,23)).then(function(De){return De.default}),e.e(4736).then(e.bind(e,5446)).then(function(De){return De.default})]);case 4:if(he=Te.sent,Pe=(0,g.Z)(he,2),He=Pe[0],Ke=Pe[1],Ae=Ke({pica:He({features:["js","wasm"]})}),ee.outputType&&(Oe=ee.outputType,Ae._create_blob=function(De){return this.pica.toBlob(De.out_canvas,Oe,.8).then(function(ke){return De.out_blob=ke,De})}),I(J)){Te.next=12;break}throw new Error((0,m.t)("errors.unsupportedFileType"));case 12:return Te.t0=File,Te.next=15,Ae.toBlob(J,{max:ee.maxWidthOrHeight});case 15:return Te.t1=Te.sent,Te.t2=[Te.t1],Te.t3=J.name,Te.t4={type:ee.outputType||J.type},Te.abrupt("return",new Te.t0(Te.t2,Te.t3,Te.t4));case 20:case"end":return Te.stop()}},de)}));return function(de,J){return ce.apply(this,arguments)}}(),z=function(ce){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(ce)],de,{type:N.LO.svg})},B=function(){var ce=(0,y.Z)(E().mark(function de(J){var ee,he,Pe,He,Ke=arguments;return E().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return ee=Ke.length>1&&Ke[1]!==void 0?Ke[1]:"",Ae.prev=1,Ae.next=4,fetch(J);case 4:he=Ae.sent,Ae.next=10;break;case 7:throw Ae.prev=7,Ae.t0=Ae.catch(1),new Error((0,m.t)("errors.failedToFetchImage"));case 10:if(he.ok){Ae.next=12;break}throw new Error((0,m.t)("errors.failedToFetchImage"));case 12:return Ae.next=14,he.blob();case 14:if(!(Pe=Ae.sent).type||!I(Pe)){Ae.next=18;break}return He=ee||Pe.name||"",Ae.abrupt("return",new File([Pe],He,{type:Pe.type}));case 18:throw new Error((0,m.t)("errors.unsupportedFileType"));case 19:case"end":return Ae.stop()}},de,null,[[1,7]])}));return function(de){return ce.apply(this,arguments)}}(),j=function(){var ce=(0,y.Z)(E().mark(function de(J){var ee,he;return E().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return ee=J.dataTransfer.files.item(0),Pe.next=3,C(J);case 3:if(he=Pe.sent,!ee){Pe.next=10;break}return Pe.next=7,ie(ee);case 7:Pe.t0=Pe.sent,Pe.next=11;break;case 10:Pe.t0=null;case 11:return Pe.t1=Pe.t0,Pe.t2=he,Pe.abrupt("return",{file:Pe.t1,fileHandle:Pe.t2});case 14:case"end":return Pe.stop()}},de)}));return function(de){return ce.apply(this,arguments)}}(),C=function(){var ce=(0,y.Z)(E().mark(function de(J){var ee,he;return E().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:if(!ue.kr){Pe.next=16;break}return Pe.prev=1,ee=J.dataTransfer.items[0],Pe.next=5,ee.getAsFileSystemHandle();case 5:if(Pe.t0=Pe.sent,Pe.t0){Pe.next=8;break}Pe.t0=null;case 8:return he=Pe.t0,Pe.abrupt("return",he);case 12:return Pe.prev=12,Pe.t1=Pe.catch(1),console.warn(Pe.t1.name,Pe.t1.message),Pe.abrupt("return",null);case 16:return Pe.abrupt("return",null);case 17:case"end":return Pe.stop()}},de,null,[[1,12]])}));return function(de){return ce.apply(this,arguments)}}(),A=function(ce){var de=null,J="".concat((0,_.Z)(new Uint8Array(ce).slice(0,8)).join(" ")," "),ee="255 216 255 ",he="71 73 70 56 57 97 ";return J==="137 80 78 71 13 10 26 10 "?de=N.LO.png:J.startsWith(ee)?de=N.LO.jpg:J.startsWith(he)&&(de=N.LO.gif),de},Y=function(ce,de,J){return new File([ce],J||"",{type:de})},ie=function(){var ce=(0,y.Z)(E().mark(function de(J){var ee,he,Pe,He,Ke,Ae,Oe,Te;return E().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(J.type){De.next=28;break}if((ee=J)===null||ee===void 0||(he=ee.name)===null||he===void 0||!he.endsWith(".excalidrawlib")){De.next=11;break}return De.t0=Y,De.next=5,le(J);case 5:De.t1=De.sent,De.t2=N.LO.excalidrawlib,De.t3=J.name,J=(0,De.t0)(De.t1,De.t2,De.t3),De.next=26;break;case 11:if((Pe=J)===null||Pe===void 0||(He=Pe.name)===null||He===void 0||!He.endsWith(".excalidraw")){De.next=21;break}return De.t4=Y,De.next=15,le(J);case 15:De.t5=De.sent,De.t6=N.LO.excalidraw,De.t7=J.name,J=(0,De.t4)(De.t5,De.t6,De.t7),De.next=26;break;case 21:return De.next=23,le(J);case 23:Ke=De.sent,(Ae=A(Ke))&&(J=Y(Ke,Ae,J.name));case 26:De.next=34;break;case 28:if(!I(J)){De.next=34;break}return De.next=31,le(J);case 31:Oe=De.sent,(Te=A(Oe))&&Te!==J.type&&(J=Y(Oe,Te,J.name));case 34:return De.abrupt("return",J);case 35:case"end":return De.stop()}},de)}));return function(de){return ce.apply(this,arguments)}}(),le=function(ce){return"arrayBuffer"in ce?ce.arrayBuffer():new Promise(function(de,J){var ee=new FileReader;ee.onload=function(he){var Pe;if((Pe=he.target)===null||Pe===void 0||!Pe.result)return J(new Error("Couldn't convert blob to ArrayBuffer"));de(he.target.result)},ee.readAsArrayBuffer(ce)})}},6548:function(te,t,e){e.d(t,{I$:function(){return m},NL:function(){return k},kr:function(){return y}});var _=e(1930),g=e(8950),p=e(2975),y=function(){return typeof self>"u"?!1:!("top"in self&&self!==top)&&"showOpenFilePicker"in self?"showOpenFilePicker":!1}(),T=y?e.e(4736).then(e.bind(e,7464)):e.e(4736).then(e.bind(e,3948));function E(){return E=(0,g.Z)(p.mark(function Q(){var ue,me=arguments;return p.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.next=2,T;case 2:return ye.abrupt("return",(ue=ye.sent).default.apply(ue,me));case 3:case"end":return ye.stop()}},Q)})),E.apply(this,arguments)}y?e.e(4736).then(e.bind(e,4036)):e.e(4736).then(e.bind(e,7693));var a=y?e.e(4736).then(e.bind(e,357)):e.e(4736).then(e.bind(e,341));function u(){return u=(0,g.Z)(p.mark(function Q(){var ue,me=arguments;return p.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.next=2,a;case 2:return ye.abrupt("return",(ue=ye.sent).default.apply(ue,me));case 3:case"end":return ye.stop()}},Q)})),u.apply(this,arguments)}var N=e(9937),H=e(3506),x=e(9827),m=function(Q){var ue,me,ye,fe=(ue=Q.extensions)===null||ue===void 0?void 0:ue.reduce(function($,U){return $.push(N.LO[U]),$},[]),G=(me=Q.extensions)===null||me===void 0?void 0:me.reduce(function($,U){return U==="jpg"?$.concat(".jpg",".jpeg"):$.concat(".".concat(U))},[]);return function(){return E.apply(this,arguments)}({description:Q.description,extensions:G,mimeTypes:fe,multiple:(ye=Q.multiple)!==null&&ye!==void 0&&ye,legacySetup:function($,U,L){var F=(0,x.Ds)(U,500),I=function(){P(),document.addEventListener(N.Ks.KEYUP,F),document.addEventListener(N.Ks.POINTER_UP,F),F()},P=function(){var f;if((f=L.files)!==null&&f!==void 0&&f.length){var r=Q.multiple?(0,_.Z)(L.files):L.files[0];$(r)}};requestAnimationFrame(function(){window.addEventListener(N.Ks.FOCUS,I)});var w=window.setInterval(function(){P()},500);return function(f){clearInterval(w),F.cancel(),window.removeEventListener(N.Ks.FOCUS,I),document.removeEventListener(N.Ks.KEYUP,F),document.removeEventListener(N.Ks.POINTER_UP,F),f&&(console.warn("Opening the file was canceled (legacy-fs)."),f(new H._L))}}})},k=function(Q,ue){return function(){return u.apply(this,arguments)}(Q,{fileName:"".concat(ue.name,".").concat(ue.extension),description:ue.description,extensions:[".".concat(ue.extension)]},ue.fileHandle)}},250:function(te,t,e){e.r(t),e.d(t,{decodePngMetadata:function(){return U},decodeSvgMetadata:function(){return F},encodePngMetadata:function(){return $},encodeSvgMetadata:function(){return L},getTEXtChunk:function(){return G}});var _=e(8950),g=e(2975),p=e.n(g),y=e(2983),T=e.n(y),E=e(1194),a=e(3434),u=e.n(a),N=e(2744),H=e(9937),x=e(5796),m=function(I){return new Promise(function(P,w){var f=typeof I=="string"?new Blob([new TextEncoder().encode(I)]):new Blob([I instanceof Uint8Array?I:new Uint8Array(I)]),r=new FileReader;r.onload=function(o){if(!o.target||typeof o.target.result!="string")return w(new Error("couldn't convert to byte string"));P(o.target.result)},r.readAsBinaryString(f)})},k=function(I){for(var P=new ArrayBuffer(I.length),w=new Uint8Array(P),f=0,r=I.length;f<r;f++)w[f]=I.charCodeAt(f);return P},Q=function(I){return new TextDecoder("utf-8").decode(k(I))},ue=function(){var I=(0,_.Z)(p().mark(function P(w){var f=arguments;return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(f.length>1&&f[1]!==void 0&&f[1])){r.next=5;break}r.t0=window.btoa(w),r.next=10;break;case 5:return r.t1=window,r.next=8,m(w);case 8:r.t2=r.sent,r.t0=r.t1.btoa.call(r.t1,r.t2);case 10:return r.abrupt("return",r.t0);case 11:case"end":return r.stop()}},P)}));return function(P){return I.apply(this,arguments)}}(),me=function(){var I=(0,_.Z)(p().mark(function P(w){var f,r=arguments;return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return f=r.length>1&&r[1]!==void 0&&r[1],o.abrupt("return",f?window.atob(w):Q(window.atob(w)));case 2:case"end":return o.stop()}},P)}));return function(P){return I.apply(this,arguments)}}(),ye=function(){var I=(0,_.Z)(p().mark(function P(w){var f,r;return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(f=w.text,w.compress===!1){o.next=11;break}return o.prev=2,o.next=5,m((0,N.deflate)(f));case 5:r=o.sent,o.next=11;break;case 8:o.prev=8,o.t0=o.catch(2),console.error("encode: cannot deflate",o.t0);case 11:if(o.t1=!!r,o.t2=r,o.t2){o.next=17;break}return o.next=16,m(f);case 16:o.t2=o.sent;case 17:return o.t3=o.t2,o.abrupt("return",{version:"1",encoding:"bstring",compressed:o.t1,encoded:o.t3});case 19:case"end":return o.stop()}},P,null,[[2,8]])}));return function(P){return I.apply(this,arguments)}}(),fe=function(){var I=(0,_.Z)(p().mark(function P(w){var f;return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=w.encoding,r.next=r.t0==="bstring"?3:12;break;case 3:if(!w.compressed){r.next=7;break}r.t1=w.encoded,r.next=10;break;case 7:return r.next=9,Q(w.encoded);case 9:r.t1=r.sent;case 10:return f=r.t1,r.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(w.encoding,'"'));case 13:if(!w.compressed){r.next=15;break}return r.abrupt("return",(0,N.inflate)(new Uint8Array(k(f)),{to:"string"}));case 15:return r.abrupt("return",f);case 16:case"end":return r.stop()}},P)}));return function(P){return I.apply(this,arguments)}}(),G=function(){var I=(0,_.Z)(p().mark(function P(w){var f,r;return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=T(),o.t1=Uint8Array,o.next=4,(0,x.vZ)(w);case 4:if(o.t2=o.sent,o.t3=new o.t1(o.t2),f=(0,o.t0)(o.t3),!(r=f.find(function(b){return b.name==="tEXt"}))){o.next=10;break}return o.abrupt("return",E.decode(r.data));case 10:return o.abrupt("return",null);case 11:case"end":return o.stop()}},P)}));return function(P){return I.apply(this,arguments)}}(),$=function(){var I=(0,_.Z)(p().mark(function P(w){var f,r,o,b;return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return f=w.blob,r=w.metadata,s.t0=T(),s.t1=Uint8Array,s.next=5,(0,x.vZ)(f);case 5:return s.t2=s.sent,s.t3=new s.t1(s.t2),o=(0,s.t0)(s.t3),s.t4=E,s.t5=H.LO.excalidraw,s.t6=JSON,s.next=13,ye({text:r,compress:!0});case 13:return s.t7=s.sent,s.t8=s.t6.stringify.call(s.t6,s.t7),b=s.t4.encode.call(s.t4,s.t5,s.t8),o.splice(-1,0,b),s.abrupt("return",new Blob([u()(o)],{type:H.LO.png}));case 18:case"end":return s.stop()}},P)}));return function(P){return I.apply(this,arguments)}}(),U=function(){var I=(0,_.Z)(p().mark(function P(w){var f,r;return p().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,G(w);case 2:if(((f=o.sent)==null?void 0:f.keyword)!==H.LO.excalidraw){o.next=19;break}if(o.prev=4,"encoded"in(r=JSON.parse(f.text))){o.next=10;break}if(!("type"in r)||r.type!==H.r8.excalidraw){o.next=9;break}return o.abrupt("return",f.text);case 9:throw new Error("FAILED");case 10:return o.next=12,fe(r);case 12:return o.abrupt("return",o.sent);case 15:throw o.prev=15,o.t0=o.catch(4),console.error(o.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return o.stop()}},P,null,[[4,15]])}));return function(P){return I.apply(this,arguments)}}(),L=function(){var I=(0,_.Z)(p().mark(function P(w){var f,r,o;return p().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f=w.text,b.t0=ue,b.t1=JSON,b.next=5,ye({text:f});case 5:return b.t2=b.sent,b.t3=b.t1.stringify.call(b.t1,b.t2),b.next=9,(0,b.t0)(b.t3,!0);case 9:return r=b.sent,o="",o+="<!-- payload-type:".concat(H.LO.excalidraw," -->"),o+="<!-- payload-version:2 -->",o+="<!-- payload-start -->",o+=r,o+="<!-- payload-end -->",b.abrupt("return",o);case 17:case"end":return b.stop()}},P)}));return function(P){return I.apply(this,arguments)}}(),F=function(){var I=(0,_.Z)(p().mark(function P(w){var f,r,o,b,s,c,S;return p().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!(f=w.svg).includes("payload-type:".concat(H.LO.excalidraw))){z.next=26;break}if(r=f.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){z.next=5;break}throw new Error("INVALID");case 5:return o=f.match(/<!-- payload-version:(\d+) -->/),b=o?.[1]||"1",s=b!=="1",z.prev=8,z.next=11,me(r[1],s);case 11:if(c=z.sent,"encoded"in(S=JSON.parse(c))){z.next=17;break}if(!("type"in S)||S.type!==H.r8.excalidraw){z.next=16;break}return z.abrupt("return",c);case 16:throw new Error("FAILED");case 17:return z.next=19,fe(S);case 19:return z.abrupt("return",z.sent);case 22:throw z.prev=22,z.t0=z.catch(8),console.error(z.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return z.stop()}},P,null,[[8,22]])}));return function(P){return I.apply(this,arguments)}}()},2435:function(te,t,e){e.d(t,{HD:function(){return ue},Um:function(){return Q.Um},cT:function(){return m.cT},n8:function(){return Q.n8},p1:function(){return me}});var _=e(8950),g=e(2975),p=e.n(g),y=e(4694),T=e(9937),E=e(7651),a=e(8227),u=e(6013),N=e(4105),H=e(3668),x=e(9827),m=e(5796),k=e(6548),Q=e(4419),ue=function(ye,fe,G){var $=fe.selectedElementIds;ye=(0,E.Lm)(ye);var U=G&&(0,N.N)(ye,{selectedElementIds:$}),L=null,F=U?(0,N.eD)(ye,{selectedElementIds:$},{includeBoundTextElement:!0}):ye;return U&&(F.length===1&&(0,E.He)(F[0])?(L=F[0],F=(0,u.Xs)({elements:ye,bounds:L,type:"overlap"})):F.length>1&&(F=(0,N.eD)(ye,{selectedElementIds:$},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:L,exportedElements:(0,x.xU)(F)}},me=function(){var ye=(0,_.Z)(p().mark(function fe(G,$,U,L,F){var I,P,w,f,r,o,b,s,c,S,z,B,j;return p().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(I=F.exportBackground,P=F.exportPadding,w=P===void 0?T.qy:P,f=F.viewBackgroundColor,r=F.name,o=F.fileHandle,b=o===void 0?null:o,s=F.exportingFrame,c=s===void 0?null:s,$.length!==0){C.next=3;break}throw new Error((0,a.t)("alerts.cannotExportEmptyCanvas"));case 3:if(G!=="svg"&&G!=="clipboard-svg"){C.next=17;break}return C.next=6,(0,H.$D)($,{exportBackground:I,exportWithDarkMode:U.exportWithDarkMode,viewBackgroundColor:f,exportPadding:w,exportScale:U.exportScale,exportEmbedScene:U.exportEmbedScene&&G==="svg"},L,{exportingFrame:c});case 6:if(S=C.sent,G!=="svg"){C.next=13;break}return C.next=10,(0,k.NL)(new Blob([S.outerHTML],{type:T.LO.svg}),{description:"Export to SVG",name:r,extension:U.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:b});case 10:return C.abrupt("return",C.sent);case 13:if(G!=="clipboard-svg"){C.next=17;break}return C.next=16,(0,y.dd)(S.outerHTML);case 16:return C.abrupt("return");case 17:if(z=(0,H.NL)($,U,L,{exportBackground:I,viewBackgroundColor:f,exportPadding:w,exportingFrame:c}),G!=="png"){C.next=33;break}return C.next=21,(0,m._c)(z);case 21:if(B=C.sent,!U.exportEmbedScene){C.next=28;break}return C.next=25,Promise.resolve().then(e.bind(e,250));case 25:return C.next=27,C.sent.encodePngMetadata({blob:B,metadata:(0,Q.I_)($,U,L,"local")});case 27:B=C.sent;case 28:return C.next=30,(0,k.NL)(B,{description:"Export to PNG",name:r,extension:"png",fileHandle:b});case 30:return C.abrupt("return",C.sent);case 33:if(G!=="clipboard"){C.next=52;break}return C.prev=34,j=(0,m._c)(z),C.next=38,(0,y.uR)(j);case 38:C.next=50;break;case 40:if(C.prev=40,C.t0=C.catch(34),console.warn(C.t0),C.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){C.next=45;break}throw C.t0;case 45:if(!T.vU||C.t0.name!=="TypeError"){C.next=49;break}throw new Error("".concat((0,a.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,a.t)("hints.firefox_clipboard_write")));case 49:throw new Error((0,a.t)("alerts.couldNotCopyToClipboard"));case 50:C.next=53;break;case 52:throw new Error("Unsupported export type");case 53:case"end":return C.stop()}},fe,null,[[34,40]])}));return function(fe,G,$,U,L){return ye.apply(this,arguments)}}()},4419:function(te,t,e){e.d(t,{HT:function(){return ye},I_:function(){return k},NI:function(){return fe},Um:function(){return Q},dS:function(){return me},n8:function(){return ue},t1:function(){return G}});var _=e(6655),g=e(8950),p=e(2975),y=e.n(p),T=e(6548),E=e(6853),a=e(9937),u=e(7651),N=e(5796);function H($,U){var L=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!L){if(Array.isArray($)||(L=function(r,o){if(r){if(typeof r=="string")return x(r,o);var b=Object.prototype.toString.call(r).slice(8,-1);if(b==="Object"&&r.constructor&&(b=r.constructor.name),b==="Map"||b==="Set")return Array.from(r);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return x(r,o)}}($))||U){L&&($=L);var F=0,I=function(){};return{s:I,n:function(){return F>=$.length?{done:!0}:{done:!1,value:$[F++]}},e:function(r){throw r},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,w=!0,f=!1;return{s:function(){L=L.call($)},n:function(){var r=L.next();return w=r.done,r},e:function(r){f=!0,P=r},f:function(){try{w||L.return==null||L.return()}finally{if(f)throw P}}}}function x($,U){(U==null||U>$.length)&&(U=$.length);for(var L=0,F=new Array(U);L<U;L++)F[L]=$[L];return F}var m=function($,U){var L,F={},I=H($);try{for(I.s();!(L=I.n()).done;){var P=L.value;!P.isDeleted&&"fileId"in P&&P.fileId&&U[P.fileId]&&(F[P.fileId]=U[P.fileId])}}catch(w){I.e(w)}finally{I.f()}return F},k=function($,U,L,F){var I={type:a.r8.excalidraw,version:a.Kr.excalidraw,source:a.pb,elements:F==="local"?(0,u._M)($):(0,u.BQ)($),appState:F==="local"?(0,E.s)(U):(0,E.eS)(U),files:F==="local"?m($,L):void 0};return JSON.stringify(I,null,2)},Q=function(){var $=(0,g.Z)(y().mark(function U(L,F,I){var P,w,f;return y().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return P=k(L,F,I,"local"),w=new Blob([P],{type:a.LO.excalidraw}),r.next=4,(0,T.NL)(w,{name:F.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,N.g8)(F.fileHandle)?null:F.fileHandle});case 4:return f=r.sent,r.abrupt("return",{fileHandle:f});case 6:case"end":return r.stop()}},U)}));return function(U,L,F){return $.apply(this,arguments)}}(),ue=function(){var $=(0,g.Z)(y().mark(function U(L,F){var I;return y().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,T.I$)({description:"Excalidraw files"});case 2:return I=P.sent,P.t0=N.cT,P.next=6,(0,N.gY)(I);case 6:return P.t1=P.sent,P.t2=L,P.t3=F,P.t4=I.handle,P.abrupt("return",(0,P.t0)(P.t1,P.t2,P.t3,P.t4));case 11:case"end":return P.stop()}},U)}));return function(U,L){return $.apply(this,arguments)}}(),me=function($){return $?.type===a.r8.excalidraw&&(!$.elements||Array.isArray($.elements)&&(!$.appState||(0,_.Z)($.appState)==="object"))},ye=function($){return(0,_.Z)($)==="object"&&$&&$.type===a.r8.excalidrawLibrary&&($.version===1||$.version===2)},fe=function($){var U={type:a.r8.excalidrawLibrary,version:a.Kr.excalidrawLibrary,source:a.pb,libraryItems:$};return JSON.stringify(U,null,2)},G=function(){var $=(0,g.Z)(y().mark(function U(L){var F;return y().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return F=fe(L),I.next=3,(0,T.NL)(new Blob([F],{type:a.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return I.stop()}},U)}));return function(U){return $.apply(this,arguments)}}()},9326:function(te,t,e){e.d(t,{Di:function(){return o},WV:function(){return r},rF:function(){return F},xS:function(){return b},zh:function(){return w}});var _=e(7169),g=e(8950),p=e(5169),y=e(8821),T=e(1930),E=e(2975),a=e.n(E),u=e(5796),N=e(7994),H=e(3607),x=e(453),m=e(4949),k=e(3506),Q=e(8227),ue=e(9787),me=e(9937),ye=e(5832),fe=e(9827);function G(s,c){var S=Object.keys(s);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(s);c&&(z=z.filter(function(B){return Object.getOwnPropertyDescriptor(s,B).enumerable})),S.push.apply(S,z)}return S}function $(s){for(var c=1;c<arguments.length;c++){var S=arguments[c]!=null?arguments[c]:{};c%2?G(Object(S),!0).forEach(function(z){(0,_.Z)(s,z,S[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(S)):G(Object(S)).forEach(function(z){Object.defineProperty(s,z,Object.getOwnPropertyDescriptor(S,z))})}return s}function U(s,c){var S=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!S){if(Array.isArray(s)||(S=function(Y,ie){if(Y){if(typeof Y=="string")return L(Y,ie);var le=Object.prototype.toString.call(Y).slice(8,-1);if(le==="Object"&&Y.constructor&&(le=Y.constructor.name),le==="Map"||le==="Set")return Array.from(Y);if(le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le))return L(Y,ie)}}(s))||c){S&&(s=S);var z=0,B=function(){};return{s:B,n:function(){return z>=s.length?{done:!0}:{done:!1,value:s[z++]}},e:function(Y){throw Y},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,C=!0,A=!1;return{s:function(){S=S.call(s)},n:function(){var Y=S.next();return C=Y.done,Y},e:function(Y){A=!0,j=Y},f:function(){try{C||S.return==null||S.return()}finally{if(A)throw j}}}}function L(s,c){(c==null||c>s.length)&&(c=s.length);for(var S=0,z=new Array(c);S<c;S++)z[S]=s[S];return z}var F=(0,H.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),I=function(s){return(0,fe.xU)(s)},P=function(s,c){return!s.find(function(S){return S.elements.length===c.elements.length&&S.elements.every(function(z,B){return z.id===c.elements[B].id&&z.versionNonce===c.elements[B].versionNonce})})},w=function(s,c){var S,z=[],B=U(c);try{for(B.s();!(S=B.n()).done;){var j=S.value;P(s,j)&&z.push(j)}}catch(C){B.e(C)}finally{B.f()}return[].concat(z,(0,T.Z)(s))},f=(0,p.Z)(function s(c){var S=this;(0,y.Z)(this,s),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return S.updateQueue[S.updateQueue.length-1]},this.notifyListeners=function(){if(S.updateQueue.length>0)x.e_.set(F,{status:"loading",libraryItems:S.lastLibraryItems,isInitialized:S.isInitialized});else{S.isInitialized=!0,x.e_.set(F,{status:"loaded",libraryItems:S.lastLibraryItems,isInitialized:S.isInitialized});try{var z,B;(z=(B=S.app.props).onLibraryChange)===null||z===void 0||z.call(B,I(S.lastLibraryItems))}catch(j){console.error(j)}}},this.destroy=function(){S.isInitialized=!1,S.updateQueue=[],S.lastLibraryItems=[],x.e_.set(ye.YX,new Map)},this.resetLibrary=function(){return S.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var z=(0,g.Z)(a().mark(function B(j){var C;return a().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,S.getLastUpdateTask()||S.lastLibraryItems;case 3:C=A.sent,S.updateQueue.length>0?j(S.getLatestLibrary()):j(I(C)),A.next=10;break;case 7:return A.prev=7,A.t0=A.catch(0),A.abrupt("return",j(S.lastLibraryItems));case 10:case"end":return A.stop()}},B,null,[[0,7]])}));return function(B){return z.apply(this,arguments)}}())},this.updateLibrary=function(){var z=(0,g.Z)(a().mark(function B(j){var C,A,Y,ie,le,ce,de,J,ee;return a().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return C=j.libraryItems,A=j.prompt,Y=A!==void 0&&A,ie=j.merge,le=ie!==void 0&&ie,ce=j.openLibraryMenu,de=ce!==void 0&&ce,J=j.defaultStatus,ee=J===void 0?"unpublished":J,de&&S.app.setState({openSidebar:{name:me.Cc.name,tab:me.tf}}),he.abrupt("return",S.setLibrary(function(){return new Promise(function(){var Pe=(0,g.Z)(a().mark(function He(Ke,Ae){var Oe,Te;return a().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.prev=0,De.next=3,typeof C!="function"||C instanceof Blob?C:C(S.lastLibraryItems);case 3:if(!((Oe=De.sent)instanceof Blob)){De.next=10;break}return De.next=7,(0,u.lV)(Oe,ee);case 7:Te=De.sent,De.next=11;break;case 10:Te=(0,N.wJ)(Oe,ee);case 11:!Y||window.confirm((0,Q.t)("alerts.confirmAddLibrary",{numShapes:Te.length}))?(Y&&S.app.focusContainer(),Ke(le?w(S.lastLibraryItems,Te):Te)):Ae(new k._L),De.next=17;break;case 14:De.prev=14,De.t0=De.catch(0),Ae(De.t0);case 17:case"end":return De.stop()}},He,null,[[0,14]])}));return function(He,Ke){return Pe.apply(this,arguments)}}())}));case 3:case"end":return he.stop()}},B)}));return function(B){return z.apply(this,arguments)}}(),this.setLibrary=function(z){var B=new Promise(function(){var j=(0,g.Z)(a().mark(function C(A,Y){return a().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.prev=0,ie.next=3,S.getLastUpdateTask();case 3:return typeof z=="function"&&(z=z(S.lastLibraryItems)),ie.t0=I,ie.next=7,z;case 7:ie.t1=ie.sent,S.lastLibraryItems=(0,ie.t0)(ie.t1),A(S.lastLibraryItems),ie.next=15;break;case 12:ie.prev=12,ie.t2=ie.catch(0),Y(ie.t2);case 15:case"end":return ie.stop()}},C,null,[[0,12]])}));return function(C,A){return j.apply(this,arguments)}}()).catch(function(j){if(j.name==="AbortError")return console.warn("Library update aborted by user"),S.lastLibraryItems;throw j}).finally(function(){S.updateQueue=S.updateQueue.filter(function(j){return j!==B}),S.notifyListeners()});return S.updateQueue.push(B),S.notifyListeners(),B},this.app=c});t.ZP=f;var r=function(s){var c,S=Math.ceil(Math.sqrt(s.length)),z=[],B=0,j=0,C=0,A=0,Y=0,ie=0,le=0,ce=U(s);try{var de=function(){var J=c.value;Y&&Y%S==0&&(j+=C+50,B=0,ie=0,le++),ie===0&&(C=function(Te){return s.slice(Te*S,Te*S+S).reduce(function(De,ke){var be=(0,m.v2)(ke.elements).height;return Math.max(De,be)},0)}(le)),A=function(Te){var De,ke=0,be=0,ve=0,D=U(s);try{for(D.s();!(De=D.n()).done;){var l=De.value;if(ke%S==0&&(be=0),be===Te){var d=(0,m.v2)(l.elements).width;ve=Math.max(ve,d)}ke++,be++}}catch(M){D.e(M)}finally{D.f()}return ve}(ie);var ee=(0,m.v2)(J.elements),he=ee.minX,Pe=ee.minY,He=ee.width,Ke=ee.height,Ae=(A-He)/2,Oe=(C-Ke)/2;z.push.apply(z,(0,T.Z)(J.elements.map(function(Te){return $($({},Te),{},{x:Te.x+B+Ae-he,y:Te.y+j+Oe-Pe})}))),B+=A+50,Y++,ie++};for(ce.s();!(c=ce.n()).done;)de()}catch(J){ce.e(J)}finally{ce.f()}return z},o=function(){var s=new URLSearchParams(window.location.hash.slice(1)).get(me.ah.addLibrary)||new URLSearchParams(window.location.search).get(me.UO.addLibrary),c=s?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return s?{libraryUrl:s,idToken:c}:null},b=function(s){var c=s.excalidrawAPI,S=s.getInitialLibraryItems,z=(0,ue.useRef)(S);(0,ue.useEffect)(function(){if(c){var B=function(){var A=(0,g.Z)(a().mark(function Y(ie){var le,ce,de,J,ee,he;return a().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return le=ie.libraryUrl,ce=ie.idToken,de=new Promise(function(){var He=(0,g.Z)(a().mark(function Ke(Ae,Oe){var Te,De;return a().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.prev=0,ke.next=3,fetch(decodeURIComponent(le));case 3:return Te=ke.sent,ke.next=6,Te.blob();case 6:De=ke.sent,Ae(De),ke.next=13;break;case 10:ke.prev=10,ke.t0=ke.catch(0),Oe(ke.t0);case 13:case"end":return ke.stop()}},Ke,null,[[0,10]])}));return function(Ke,Ae){return He.apply(this,arguments)}}()),J=ce!==c.id,Pe.next=5,J&&document.hidden?new Promise(function(He){window.addEventListener("focus",function(){return He()},{once:!0})}):null;case 5:return Pe.prev=5,Pe.next=8,c.updateLibrary({libraryItems:de,prompt:J,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:Pe.next=13;break;case 10:throw Pe.prev=10,Pe.t0=Pe.catch(5),Pe.t0;case 13:return Pe.prev=13,window.location.hash.includes(me.ah.addLibrary)?((ee=new URLSearchParams(window.location.hash.slice(1))).delete(me.ah.addLibrary),window.history.replaceState({},me.iC,"#".concat(ee.toString()))):window.location.search.includes(me.UO.addLibrary)&&((he=new URLSearchParams(window.location.search)).delete(me.UO.addLibrary),window.history.replaceState({},me.iC,"?".concat(he.toString()))),Pe.finish(13);case 16:case"end":return Pe.stop()}},Y,null,[[5,10,13,16]])}));return function(Y){return A.apply(this,arguments)}}(),j=function(A){A.preventDefault();var Y=o();Y&&(A.stopImmediatePropagation(),window.history.replaceState({},"",A.oldURL),B(Y))};z.current&&c.updateLibrary({libraryItems:z.current()});var C=o();return C&&B(C),window.addEventListener(me.Ks.HASHCHANGE,j),function(){window.removeEventListener(me.Ks.HASHCHANGE,j)}}},[c])}},7994:function(te,t,e){e.d(t,{ET:function(){return I},lY:function(){return f},nu:function(){return r},wJ:function(){return b}});var _=e(2577),g=e(7169),p=e(7651),y=e(4183),T=e(4643),E=e(9937),a=e(6853),u=e(7422),N=e(583),H=e(9827),x=e(4761),m=e(8020);function k(s,c){var S=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!S){if(Array.isArray(s)||(S=function(Y,ie){if(Y){if(typeof Y=="string")return Q(Y,ie);var le=Object.prototype.toString.call(Y).slice(8,-1);if(le==="Object"&&Y.constructor&&(le=Y.constructor.name),le==="Map"||le==="Set")return Array.from(Y);if(le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le))return Q(Y,ie)}}(s))||c){S&&(s=S);var z=0,B=function(){};return{s:B,n:function(){return z>=s.length?{done:!0}:{done:!1,value:s[z++]}},e:function(Y){throw Y},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,C=!0,A=!1;return{s:function(){S=S.call(s)},n:function(){var Y=S.next();return C=Y.done,Y},e:function(Y){A=!0,j=Y},f:function(){try{C||S.return==null||S.return()}finally{if(A)throw j}}}}function Q(s,c){(c==null||c>s.length)&&(c=s.length);for(var S=0,z=new Array(c);S<c;S++)z[S]=s[S];return z}function ue(s,c){var S=Object.keys(s);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(s);c&&(z=z.filter(function(B){return Object.getOwnPropertyDescriptor(s,B).enumerable})),S.push.apply(S,z)}return S}function me(s){for(var c=1;c<arguments.length;c++){var S=arguments[c]!=null?arguments[c]:{};c%2?ue(Object(S),!0).forEach(function(z){(0,g.Z)(s,z,S[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(S)):ue(Object(S)).forEach(function(z){Object.defineProperty(s,z,Object.getOwnPropertyDescriptor(S,z))})}return s}var ye={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1},fe=function(s){return Object.keys(E.ut).includes(s)?E.ut[s]:E.rk},G=function(s){return s?me(me({},s),{},{focus:s.focus||0}):null},$=function(s,c){var S,z,B,j,C,A,Y,ie,le,ce,de,J,ee,he,Pe={type:c.type||s.type,version:s.version||1,versionNonce:(S=s.versionNonce)!==null&&S!==void 0?S:0,isDeleted:(z=s.isDeleted)!==null&&z!==void 0&&z,id:s.id||(0,T.kb)(),fillStyle:s.fillStyle||E.HN.fillStyle,strokeWidth:s.strokeWidth||E.HN.strokeWidth,strokeStyle:(B=s.strokeStyle)!==null&&B!==void 0?B:E.HN.strokeStyle,roughness:(j=s.roughness)!==null&&j!==void 0?j:E.HN.roughness,opacity:s.opacity==null?E.HN.opacity:s.opacity,angle:s.angle||0,x:(C=(A=c.x)!==null&&A!==void 0?A:s.x)!==null&&C!==void 0?C:0,y:(Y=(ie=c.y)!==null&&ie!==void 0?ie:s.y)!==null&&Y!==void 0?Y:0,strokeColor:s.strokeColor||E.HN.strokeColor,backgroundColor:s.backgroundColor||E.HN.backgroundColor,width:s.width||0,height:s.height||0,seed:(le=s.seed)!==null&&le!==void 0?le:1,groupIds:(ce=s.groupIds)!==null&&ce!==void 0?ce:[],frameId:(de=s.frameId)!==null&&de!==void 0?de:null,roundness:s.roundness?s.roundness:s.strokeSharpness==="round"?{type:(0,y.QI)(s.type)?E.a6.LEGACY:E.a6.PROPORTIONAL_RADIUS}:null,boundElements:s.boundElementIds?s.boundElementIds.map(function(He){return{type:"arrow",id:He}}):(J=s.boundElements)!==null&&J!==void 0?J:[],updated:(ee=s.updated)!==null&&ee!==void 0?ee:(0,H.C3)(),link:s.link?(0,m.$u)(s.link):null,locked:(he=s.locked)!==null&&he!==void 0&&he};return"customData"in s&&(Pe.customData=s.customData),E.WR in s&&(Pe[E.WR]=s[E.WR]),me(me(me({},Pe),(0,p.Qp)(Pe)),c)},U=function(s,c){if(s.boundElements){var S=s.boundElements.slice(),z=new Set;s.boundElements=S.reduce(function(B,j){var C=c.get(j.id);if(C&&!z.has(j.id)){if(z.add(j.id),C.isDeleted)return B;B.push(j),(0,y.iB)(C)&&!C.containerId&&(C.containerId=s.id)}return B},[])}},L=function(s,c){var S=s.containerId?c.get(s.containerId):null;if(S){if(!s.isDeleted&&S.boundElements&&!S.boundElements.find(function(B){return B.id===s.id})){var z=(S.boundElements||(S.boundElements=[])).slice();z.push({type:"text",id:s.id}),S.boundElements=z}}else s.containerId=null},F=function(s,c){s.frameId&&(c.get(s.frameId)||(s.frameId=null))},I=function(s,c,S){var z=new Set,B=c?(0,H.xn)(c):null,j=(s||[]).reduce(function(le,ce){if(ce.type!=="selection"&&!(0,p.QD)(ce)){var de=function(ee){var he,Pe,He=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(ee.type){case"text":var Ke=ee.fontSize,Ae=ee.fontFamily;if("font"in ee){var Oe=ee.font.split(" "),Te=(0,_.Z)(Oe,2),De=Te[0],ke=Te[1];Ke=parseFloat(De),Ae=fe(ke)}var be=typeof ee.text=="string"&&ee.text||"",ve=ee.lineHeight||(ee.height?(0,x.$2)(ee):(0,x.PT)(ee.fontFamily)),D=(0,x.R8)(ee.text,(0,H.mO)(ee),ve);return ee=$(ee,{fontSize:Ke,fontFamily:Ae,text:be,textAlign:ee.textAlign||E.Hg,verticalAlign:ee.verticalAlign||E.hs,containerId:(he=ee.containerId)!==null&&he!==void 0?he:null,originalText:ee.originalText||be,lineHeight:ve,baseline:D}),be||ee.isDeleted||(ee=me(me({},ee),{},{originalText:be,isDeleted:!0}),ee=(0,N.ZP)(ee)),He&&(ee=me(me({},ee),(0,p.JZ)(ee))),ee;case"freedraw":return $(ee,{points:ee.points,lastCommittedPoint:null,simulatePressure:ee.simulatePressure,pressures:ee.pressures});case"image":return $(ee,{status:ee.status||"pending",fileId:ee.fileId,scale:ee.scale||[1,1]});case"line":case"draw":case"arrow":var l=ee,d=l.startArrowhead,M=d===void 0?null:d,V=l.endArrowhead,q=V===void 0?ee.type==="arrow"?"arrow":null:V,re=ee.x,ae=ee.y,ge=!Array.isArray(ee.points)||ee.points.length<2?[[0,0],[ee.width,ee.height]]:ee.points;if(ge[0][0]!==0||ge[0][1]!==0){var Se=u._.getNormalizedPoints(ee);ge=Se.points,re=Se.x,ae=Se.y}return $(ee,{type:ee.type==="draw"?"line":ee.type,startBinding:G(ee.startBinding),endBinding:G(ee.endBinding),lastCommittedPoint:null,startArrowhead:M,endArrowhead:q,points:ge,x:re,y:ae});case"ellipse":case"rectangle":case"diamond":return $(ee,{});case"embeddable":return $(ee,{validated:null});case"frame":return $(ee,{name:(Pe=ee.name)!==null&&Pe!==void 0?Pe:null})}return null}(ce,S?.refreshDimensions);if(de){var J=B?.get(ce.id);J&&J.version>de.version&&(de=(0,N.ZP)(de,J.version)),z.has(de.id)&&(de=me(me({},de),{},{id:(0,T.kb)()})),z.add(de.id),le.push(de)}}return le},[]);if(S==null||!S.repairBindings)return j;var C,A=(0,H.xn)(j),Y=k(j);try{for(Y.s();!(C=Y.n()).done;){var ie=C.value;ie.frameId&&F(ie,A),(0,y.iB)(ie)&&ie.containerId?L(ie,A):ie.boundElements&&U(ie,A)}}catch(le){Y.e(le)}finally{Y.f()}return j},P=function(s,c,S){var z=c[s];return z!==void 0?z:S[s]},w={isSidebarDocked:function(s,c){var S;return["defaultSidebarDockedPreference",(S=s.isSidebarDocked)!==null&&S!==void 0?S:P("defaultSidebarDockedPreference",s,c)]}},f=function(s,c){var S,z,B,j;s=s||{};for(var C=(0,a.im)(),A={},Y=0,ie=Object.keys(w);Y<ie.length;Y++){var le=ie[Y];if(le in s){var ce=w[le](s,C),de=(0,_.Z)(ce,2),J=de[0],ee=de[1];A[J]=ee}}for(var he=0,Pe=Object.entries(C);he<Pe.length;he++){var He=(0,_.Z)(Pe[he],2),Ke=He[0],Ae=He[1],Oe=s[Ke],Te=c?c[Ke]:void 0;A[Ke]=Oe!==void 0?Oe:Te!==void 0?Te:Ae}return me(me({},A),{},{cursorButton:c?.cursorButton||"up",penDetected:(S=c?.penDetected)!==null&&S!==void 0?S:!!s.penMode&&(z=s.penDetected)!==null&&z!==void 0&&z,activeTool:me(me({},(0,H.Om)(C,A.activeTool.type&&ye[A.activeTool.type]?A.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(B=A.activeTool.locked)!==null&&B!==void 0&&B}),zoom:typeof s.zoom=="number"?{value:s.zoom}:(j=s.zoom)!==null&&j!==void 0&&j.value?s.zoom:C.zoom,openSidebar:typeof s.openSidebar=="string"?{name:E.Cc.name}:A.openSidebar})},r=function(s,c,S,z){return{elements:I(s?.elements,S,z),appState:f(s?.appState,c||null),files:s?.files||{}}},o=function(s){var c=I((0,p.Lm)(s.elements),null);return c.length?me(me({},s),{},{elements:c}):null},b=function(){var s,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=arguments.length>1?arguments[1]:void 0,z=[],B=k(c);try{for(B.s();!(s=B.n()).done;){var j=s.value;if(Array.isArray(j)){var C=o({status:S,elements:j,id:(0,T.kb)(),created:Date.now()});C&&z.push(C)}else{var A=j,Y=o(me(me({},A),{},{id:A.id||(0,T.kb)(),status:A.status||S,created:A.created||Date.now()}));Y&&z.push(Y)}}}catch(ie){B.e(ie)}finally{B.f()}return z}},6199:function(te,t,e){e.d(t,{w:function(){return F}});var _=e(2577),g=e(5169),p=e(8821),y=e(7169),T=e(9937),E=e(7651),a=e(9645),u=e(5742),N=e(4761),H=e(9827),x=e(5999),m=e(4643);function k(I,P){var w=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(!w){if(Array.isArray(I)||(w=function(c,S){if(c){if(typeof c=="string")return Q(c,S);var z=Object.prototype.toString.call(c).slice(8,-1);if(z==="Object"&&c.constructor&&(z=c.constructor.name),z==="Map"||z==="Set")return Array.from(c);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return Q(c,S)}}(I))||P){w&&(I=w);var f=0,r=function(){};return{s:r,n:function(){return f>=I.length?{done:!0}:{done:!1,value:I[f++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,b=!0,s=!1;return{s:function(){w=w.call(I)},n:function(){var c=w.next();return b=c.done,c},e:function(c){s=!0,o=c},f:function(){try{b||w.return==null||w.return()}finally{if(s)throw o}}}}function Q(I,P){(P==null||P>I.length)&&(P=I.length);for(var w=0,f=new Array(P);w<P;w++)f[w]=I[w];return f}function ue(I,P){var w=Object.keys(I);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(I);P&&(f=f.filter(function(r){return Object.getOwnPropertyDescriptor(I,r).enumerable})),w.push.apply(w,f)}return w}function me(I){for(var P=1;P<arguments.length;P++){var w=arguments[P]!=null?arguments[P]:{};P%2?ue(Object(w),!0).forEach(function(f){(0,y.Z)(I,f,w[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(w)):ue(Object(w)).forEach(function(f){Object.defineProperty(I,f,Object.getOwnPropertyDescriptor(w,f))})}return I}var ye=100,fe=0,G=100,$=function(I,P){var w=(0,u.VL)(me(me({x:0,y:0,textAlign:T.I8.CENTER,verticalAlign:T.oX.MIDDLE},P),{},{containerId:I.id,strokeColor:P.strokeColor||I.strokeColor}));return Object.assign(I,{boundElements:(I.boundElements||[]).concat({type:"text",id:w.id})}),(0,E.oN)(w,I),[I,w]},U=function(I,P,w,f){var r,o;if(Object.assign(I,{startBinding:I?.startBinding||null,endBinding:I.endBinding||null}),P){var b,s,c,S=(b=P?.width)!==null&&b!==void 0?b:G,z=(s=P?.height)!==null&&s!==void 0?s:G;P.id&&((c=f.getElement(P.id))||console.error("No element for start binding with id ".concat(P.id," found")));var B=P.x||I.x-S,j=P.y||I.y-z/2,C=c?c.type:P.type;if(C){if(C==="text"){var A="";c&&c.type==="text"?A=c.text:P.type==="text"&&(A=P.text),A||console.error("No text found for start binding text element for ".concat(I.id)),r=(0,u.VL)(me(me(me({x:B,y:j,type:"text"},c),P),{},{text:A})),Object.assign(r,{x:P.x||I.x-r.width,y:P.y||I.y-r.height/2})}else switch(C){case"rectangle":case"ellipse":case"diamond":r=(0,E.Up)(me(me(me({x:B,y:j,width:S,height:z},c),P),{},{type:C}));break;default:(0,H.vE)(I,'Unhandled element start type "'.concat(P.type,'"'),!0)}(0,a.UZ)(I,r,"start")}}if(w){var Y,ie,le,ce=(Y=w?.height)!==null&&Y!==void 0?Y:G,de=(ie=w?.width)!==null&&ie!==void 0?ie:G;w.id&&((le=f.getElement(w.id))||console.error("No element for end binding with id ".concat(w.id," found")));var J=w.x||I.x+I.width,ee=w.y||I.y-ce/2,he=le?le.type:w.type;if(he){if(he==="text"){var Pe="";le&&le.type==="text"?Pe=le.text:w.type==="text"&&(Pe=w.text),Pe||console.error("No text found for end binding text element for ".concat(I.id)),o=(0,u.VL)(me(me(me({x:J,y:ee,type:"text"},le),w),{},{text:Pe})),Object.assign(o,{y:w.y||I.y-o.height/2})}else switch(he){case"rectangle":case"ellipse":case"diamond":o=(0,E.Up)(me(me(me({x:J,y:ee,width:de,height:ce},le),w),{},{type:he}));break;default:(0,H.vE)(I,'Unhandled element end type "'.concat(he,'"'),!0)}(0,a.UZ)(I,o,"end")}}var He=I.points.length-1,Ke=.5,Ae=(0,H.xU)(I.points);return I.points[He][0]>I.points[He-1][0]&&(Ae[0][0]=Ke,Ae[He][0]-=Ke),I.points[He][0]<I.points[He-1][0]&&(Ae[0][0]=-.5,Ae[He][0]+=Ke),I.points[He][1]>I.points[He-1][1]&&(Ae[0][1]=Ke,Ae[He][1]-=Ke),I.points[He][1]<I.points[He-1][1]&&(Ae[0][1]=-.5,Ae[He][1]+=Ke),Object.assign(I,{points:Ae}),{linearElement:I,startBoundElement:r,endBoundElement:o}},L=(0,g.Z)(function I(){var P=this;(0,p.Z)(this,I),this.excalidrawElements=new Map,this.add=function(w){w&&P.excalidrawElements.set(w.id,w)},this.getElements=function(){return Array.from(P.excalidrawElements.values())},this.getElement=function(w){return P.excalidrawElements.get(w)}}),F=function(I,P){if(!I)return[];var w,f=(0,H.xU)(I),r=new L,o=new Map,b=new Map,s=k(f);try{for(s.s();!(w=s.n()).done;){var c=w.value,S=void 0,z=c.id;switch(P?.regenerateIds!==!1&&Object.assign(c,{id:(0,m.kb)()}),c.type){case"rectangle":case"ellipse":case"diamond":var B,j,C=c!=null&&(B=c.label)!==null&&B!==void 0&&B.text&&c.width===void 0?0:c?.width||G,A=c!=null&&(j=c.label)!==null&&j!==void 0&&j.text&&c.height===void 0?0:c?.height||G;S=(0,E.Up)(me(me({},c),{},{width:C,height:A}));break;case"line":var Y=c.width||ye,ie=c.height||fe;S=(0,E.y8)(me({width:Y,height:ie,points:[[0,0],[Y,ie]]},c));break;case"arrow":var le=c.width||ye,ce=c.height||fe;S=(0,E.y8)(me({width:le,height:ce,endArrowhead:"arrow",points:[[0,0],[le,ce]]},c)),Object.assign(S,(0,x.k)(S.points));break;case"text":var de,J=c?.fontFamily||T.rk,ee=c?.fontSize||T.n5,he=c?.lineHeight||(0,N.PT)(J),Pe=(de=c.text)!==null&&de!==void 0?de:"",He=(0,N.bG)(Pe),Ke=(0,N.X1)(He,(0,H.mO)({fontFamily:J,fontSize:ee}),he);S=(0,u.VL)(me({width:Ke.width,height:Ke.height,fontFamily:J,fontSize:ee},c));break;case"image":S=(0,u.vw)(me({width:c?.width||G,height:c?.height||G},c));break;case"frame":S=(0,u.M3)(me({x:0,y:0},c));break;case"freedraw":case"embeddable":S=c;break;default:S=c,(0,H.vE)(c,'Unhandled element type "'.concat(c.type,'"'),!0)}r.getElement(S.id)?console.error("Duplicate id found for ".concat(S.id)):(r.add(S),o.set(S.id,c),z&&b.set(z,S.id))}}catch(vt){s.e(vt)}finally{s.f()}var Ae,Oe=k(o);try{for(Oe.s();!(Ae=Oe.n()).done;){var Te=(0,_.Z)(Ae.value,2),De=Te[0],ke=Te[1],be=r.getElement(De);switch(ke.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var ve;if((ve=ke.label)!==null&&ve!==void 0&&ve.text){var D=$(be,ke?.label),l=(0,_.Z)(D,2),d=l[0],M=l[1];if(r.add(d),r.add(M),d.type==="arrow"){var V=ke.type==="arrow"?ke?.start:void 0,q=ke.type==="arrow"?ke?.end:void 0;if(V&&V.id){var re=b.get(V.id);re&&Object.assign(V,{id:re})}if(q&&q.id){var ae=b.get(q.id);ae&&Object.assign(q,{id:ae})}var ge=U(d,V,q,r),Se=ge.linearElement,Re=ge.startBoundElement,Ye=ge.endBoundElement;d=Se,r.add(Se),r.add(Re),r.add(Ye)}}else if(ke.type==="arrow"){var Ge=ke.start,We=ke.end;if(Ge&&Ge.id){var qe=b.get(Ge.id);Object.assign(Ge,{id:qe})}if(We&&We.id){var lt=b.get(We.id);Object.assign(We,{id:lt})}var ft=U(be,Ge,We,r),ze=ft.linearElement,we=ft.startBoundElement,Me=ft.endBoundElement;r.add(ze),r.add(we),r.add(Me)}}}}catch(vt){Oe.e(vt)}finally{Oe.f()}var $e,at=k(o);try{var dt=function(){var vt=(0,_.Z)($e.value,2),Tt=vt[0],Et=vt[1];if(Et.type!=="frame")return"continue";var jt=r.getElement(Tt);if(!jt)throw new Error("Excalidraw element with id ".concat(Tt," doesn't exist"));var Kt=[];Et.children.forEach(function(Mt){var Nt,Yt=b.get(Mt);if(!Yt)throw new Error("Element with ".concat(Mt," wasn't mapped correctly"));var ln=r.getElement(Yt);if(!ln)throw new Error("Frame element with id ".concat(Yt," doesn't exist"));Object.assign(ln,{frameId:jt.id}),ln==null||(Nt=ln.boundElements)===null||Nt===void 0||Nt.forEach(function(an){var kn=r.getElement(an.id);if(!kn)throw new Error("Bound element with id ".concat(an.id," doesn't exist"));Object.assign(kn,{frameId:jt.id}),Kt.push(kn)}),Kt.push(ln)});var Gt=(0,E.KP)(Kt),Ht=(0,_.Z)(Gt,4),$t=Ht[0],pn=Ht[1],_t=Ht[2],xt=Ht[3];$t-=10,pn-=10,_t+=10,xt+=10;var At=Math.max(jt?.width,_t-$t),It=Math.max(jt?.height,xt-pn);Object.assign(jt,{x:$t,y:pn,width:At,height:It})};for(at.s();!($e=at.n()).done;)dt()}catch(vt){at.e(vt)}finally{at.f()}return r.getElements()}},8020:function(te,t,e){e.d(t,{$u:function(){return p},q$:function(){return y},tO:function(){return g},ye:function(){return T}});var _=e(5779),g=function(E){return E.replace(/"/g,"&quot;")},p=function(E){return(E=E.trim())?(0,_.N)(g(E)):E},y=function(E){return!!(E!=null&&E.includes(location.origin)||E!=null&&E.startsWith("/"))},T=function(E){if((E=p(E)).startsWith("/"))return"".concat(location.origin).concat(E);try{new URL(E)}catch{return"about:blank"}return E}},5992:function(te,t,e){e.d(t,{rj:function(){return ce},nW:function(){return ee},nz:function(){return Pe},sw:function(){return Ke},lV:function(){return be},Ni:function(){return Oe},wq:function(){return Ae},Pp:function(){return De}});var _=e(7169),g=e(2577),p=e(9827),y=e(761),T=e(583),E=e(2767),a=e(1512),u=e(8935),N=e(8227),H=e(9787),x=e(45),m=e(5491),k=e(9660),Q=e(2361),ue=e(9937),me=e(8925),ye=e(4105),fe=e(3528),G=e(7651),$=e(8020),U=e(3379),L=e.n(U),F=e(7795),I=e.n(F),P=e(569),w=e.n(P),f=e(3565),r=e.n(f),o=e(9216),b=e.n(o),s=e(4589),c=e.n(s),S=e(5260),z={};z.styleTagTransform=c(),z.setAttributes=r(),z.insert=w().bind(null,"head"),z.domAPI=I(),z.insertStyleElement=b(),L()(S.Z,z),S.Z&&S.Z.locals&&S.Z.locals;var B=e(3646),j=e(8242),C=e(4183),A=e(2921),Y=e(1020);function ie(D,l){var d=Object.keys(D);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(D);l&&(M=M.filter(function(V){return Object.getOwnPropertyDescriptor(D,V).enumerable})),d.push.apply(d,M)}return d}function le(D){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?ie(Object(d),!0).forEach(function(M){(0,_.Z)(D,M,d[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(d)):ie(Object(d)).forEach(function(M){Object.defineProperty(D,M,Object.getOwnPropertyDescriptor(d,M))})}return D}var ce=document.createElement("img");ce.src="data:".concat(ue.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var de=!1,J=new Map,ee=function(D){var l=D.element,d=D.setAppState,M=D.onLinkOpen,V=D.setToast,q=(0,j.gF)(),re=(0,j.hY)(),ae=l.link||"",ge=(0,H.useState)(ae),Se=(0,g.Z)(ge,2),Re=Se[0],Ye=Se[1],Ge=(0,H.useRef)(null),We=q.showHyperlinkPopup==="editor",qe=(0,H.useCallback)(function(){if(Ge.current){var Me=(0,$.$u)(Ge.current.value)||null;if(!l.link&&Me&&(0,B.L)("hyperlink","create"),(0,C.gs)(l)){var $e;if((($e=q.activeEmbeddable)===null||$e===void 0?void 0:$e.element)===l&&d({activeEmbeddable:null}),!Me)return void(0,T.DR)(l,{validated:!1,link:null});if((0,y.xm)(Me,re.validateEmbeddable)){var at=l.width,dt=l.height,vt=(0,y.LM)(Me);vt!=null&&vt.warning&&V({message:vt.warning,closable:!0});var Tt=vt?vt.aspectRatio.w/vt.aspectRatio.h:1,Et=J.get(l.id)!==l.link;(0,T.DR)(l,le(le({},Et?{width:vt?.type==="video"?at>dt?at:dt*Tt:at,height:vt?.type==="video"&&at>dt?at/Tt:dt}:{}),{},{validated:!0,link:Me})),A.R.delete(l),J.has(l.id)&&J.delete(l.id)}else Me&&V({message:(0,N.t)("toast.unableToEmbed"),closable:!0}),l.link&&J.set(l.id,l.link),(0,T.DR)(l,{validated:!1,link:Me}),A.R.delete(l)}else(0,T.DR)(l,{link:Me})}},[l,V,re.validateEmbeddable,q.activeEmbeddable,d]);(0,H.useLayoutEffect)(function(){return function(){qe()}},[qe]),(0,H.useEffect)(function(){var Me=null,$e=function(at){We||(Me&&clearTimeout(Me),ve(l,q,[at.clientX,at.clientY])&&(Me=window.setTimeout(function(){d({showHyperlinkPopup:!1})},500)))};return window.addEventListener(ue.Ks.POINTER_MOVE,$e,!1),function(){window.removeEventListener(ue.Ks.POINTER_MOVE,$e,!1),Me&&clearTimeout(Me)}},[q,l,We,d]);var lt=(0,H.useCallback)(function(){(0,B.L)("hyperlink","delete"),(0,T.DR)(l,{link:null}),We&&(Ge.current.value=""),d({showHyperlinkPopup:!1})},[d,l,We]),ft=he(l,q),ze=ft.x,we=ft.y;return q.draggingElement||q.resizingElement||q.isRotating||q.openMenu||q.viewModeEnabled?null:(0,Y.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(we,"px"),left:"".concat(ze,"px"),width:320,padding:5},onClick:function(){l.link||We||d({showHyperlinkPopup:"editor"})},children:[We?(0,Y.jsx)("input",{className:(0,x.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:Ge,value:Re,onChange:function(Me){return Ye(Me.target.value)},autoFocus:!0,onKeyDown:function(Me){Me.stopPropagation(),Me[m.tW.CTRL_OR_CMD]&&Me.key===m.tW.K&&Me.preventDefault(),Me.key!==m.tW.ENTER&&Me.key!==m.tW.ESCAPE||(qe(),d({showHyperlinkPopup:"info"}))}}):l.link?(0,Y.jsx)("a",{href:(0,$.$u)(l.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,$.q$)(l.link)?"_self":"_blank",onClick:function(Me){if(l.link&&M){var $e=(0,p.ag)(ue.Ks.EXCALIDRAW_LINK,Me.nativeEvent);M(le(le({},l),{},{link:(0,$.$u)(l.link)}),$e),$e.defaultPrevented&&Me.preventDefault()}},rel:"noopener noreferrer",children:l.link}):(0,Y.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:(0,N.t)("labels.link.empty")}),(0,Y.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!We&&(0,Y.jsx)(a.V,{type:"button",title:(0,N.t)("buttons.edit"),"aria-label":(0,N.t)("buttons.edit"),label:(0,N.t)("buttons.edit"),onClick:function(){(0,B.L)("hyperlink","edit","popup-ui"),d({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:u.Pm}),ae&&!(0,C.gs)(l)&&(0,Y.jsx)(a.V,{type:"button",title:(0,N.t)("buttons.remove"),"aria-label":(0,N.t)("buttons.remove"),label:(0,N.t)("buttons.remove"),onClick:lt,className:"excalidraw-hyperlinkContainer--remove",icon:u.XH})]})]})},he=function(D,l){var d=(0,G.qf)(D),M=(0,g.Z)(d,2),V=M[0],q=M[1],re=(0,p._i)({sceneX:V+D.width/2,sceneY:q},l),ae=re.x,ge=re.y;return{x:ae-l.offsetLeft-160,y:ge-l.offsetTop-85}},Pe=(0,E.z)({name:"hyperlink",perform:function(D,l){return l.showHyperlinkPopup!=="editor"&&{elements:D,appState:le(le({},l),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(D){return D[m.tW.CTRL_OR_CMD]&&D.key===m.tW.K},contextItemLabel:function(D,l){return He(D,l)},predicate:function(D,l){return(0,ye.eD)(D,l).length===1},PanelComponent:function(D){var l=D.elements,d=D.appState,M=D.updateData,V=(0,ye.eD)(l,d);return(0,Y.jsx)(a.V,{type:"button",icon:u.xP,"aria-label":(0,N.t)(He(l,d)),title:"".concat((0,C.gs)(l[0])?(0,N.t)("labels.link.labelEmbed"):(0,N.t)("labels.link.label")," - ").concat((0,p.uY)("CtrlOrCmd+K")),onClick:function(){return M(null)},selected:V.length===1&&!!V[0].link})}}),He=function(D,l){var d=(0,ye.eD)(D,l);return d[0].link?(0,C.gs)(d[0])?"labels.link.editEmbed":"labels.link.edit":(0,C.gs)(d[0])?"labels.link.createEmbed":"labels.link.create"},Ke=function(D,l,d){var M=(0,g.Z)(D,4),V=M[0],q=M[1],re=M[2],ae=M[3],ge=k.Dn,Se=ge/d.zoom.value,Re=ge/d.zoom.value,Ye=ge/d.zoom.value,Ge=(V+re)/2,We=(q+ae)/2,qe=(ge-8)/(2*d.zoom.value),lt=4/d.zoom.value,ft=re+lt-qe,ze=q-lt-Ye+qe,we=(0,Q.U1)(ft+Se/2,ze+Re/2,Ge,We,l),Me=(0,g.Z)(we,2);return[Me[0]-Se/2,Me[1]-Re/2,Se,Re]},Ae=function(D,l,d){var M=(0,g.Z)(d,2),V=M[0],q=M[1],re=4/l.zoom.value,ae=(0,G.qf)(D),ge=(0,g.Z)(ae,4),Se=ge[0],Re=ge[1],Ye=ge[2],Ge=ge[3],We=Ke([Se,Re,Ye,Ge],D.angle,l),qe=(0,g.Z)(We,4),lt=qe[0],ft=qe[1],ze=qe[2],we=qe[3];return V>lt-re&&V<lt+re+ze&&q>ft-re&&q<ft+we+re},Oe=function(D,l,d,M){var V=(0,g.Z)(d,2),q=V[0],re=V[1];if(!D.link||l.selectedElementIds[D.id])return!1;var ae=4/l.zoom.value;return!(M||!l.viewModeEnabled||!(0,fe.pX)(D,[q,re],ae,null))||Ae(D,l,[q,re])},Te=null,De=function(D,l){Te&&clearTimeout(Te),Te=window.setTimeout(function(){return ke(D,l)},ue.sA)},ke=function(D,l){if(D.link){var d=(0,me.bK)();d.classList.add("excalidraw-tooltip--visible"),d.style.maxWidth="20rem",d.textContent=D.link;var M=(0,G.qf)(D),V=(0,g.Z)(M,4),q=V[0],re=V[1],ae=V[2],ge=V[3],Se=Ke([q,re,ae,ge],D.angle,l),Re=(0,g.Z)(Se,4),Ye=Re[0],Ge=Re[1],We=Re[2],qe=Re[3],lt=(0,p._i)({sceneX:Ye,sceneY:Ge},l);(0,me.Js)(d,{left:lt.x,top:lt.y,width:We,height:qe},"top"),(0,B.L)("hyperlink","tooltip","link-icon"),de=!0}},be=function(){Te&&clearTimeout(Te),de&&(de=!1,(0,me.bK)().classList.remove("excalidraw-tooltip--visible"))},ve=function(D,l,d){var M=(0,g.Z)(d,2),V=M[0],q=M[1],re=(0,p.dE)({clientX:V,clientY:q},l),ae=re.x,ge=re.y,Se=15/l.zoom.value;if((0,fe.pX)(D,[ae,ge],Se,null))return!1;var Re=(0,G.qf)(D),Ye=(0,g.Z)(Re,3),Ge=Ye[0],We=Ye[1],qe=Ye[2];if(ae>=Ge&&ae<=qe&&ge>=We-85&&ge<=We)return!1;var lt=he(D,l),ft=lt.x,ze=lt.y;return!(V>=ft-Se&&V<=ft+320+10+Se&&q>=ze-Se&&q<=ze+Se+10+42)}},9645:function(te,t,e){e.d(t,{$q:function(){return le},DK:function(){return F},H:function(){return I},HG:function(){return me},N1:function(){return Q},R:function(){return $},UZ:function(){return U},Ww:function(){return r},Y9:function(){return w},ZB:function(){return S},cz:function(){return k},ek:function(){return Y},el:function(){return fe}});var _=e(7169),g=e(2577),p=e(4105),y=e(4183),T=e(3528),E=e(583),a=e(457),u=e(7422),N=e(9827),H=e(5491),x=e(4761);function m(J,ee){var he=Object.keys(J);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(J);ee&&(Pe=Pe.filter(function(He){return Object.getOwnPropertyDescriptor(J,He).enumerable})),he.push.apply(he,Pe)}return he}var k=function(J){return!J[H.tW.CTRL_OR_CMD]},Q=function(J){return J.isBindingEnabled},ue=function(J,ee){var he=[];return ee.forEach(function(Pe){var He=J.getNonDeletedElement(Pe);He!=null&&he.push(He)}),he},me=function(J,ee,he){var Pe=new Set,He=new Set;ye(J,ee,he,"start",Pe,He),ye(J,he,ee,"end",Pe,He);var Ke=Array.from(He).filter(function(Ae){return!Pe.has(Ae)});ue(a.Z.getScene(J),Ke).forEach(function(Ae){var Oe;(0,E.DR)(Ae,{boundElements:(Oe=Ae.boundElements)===null||Oe===void 0?void 0:Oe.filter(function(Te){return Te.type!=="arrow"||Te.id!==J.id})})})},ye=function(J,ee,he,Pe,He,Ke){if(ee!=="keep")if(ee!=null)he!=null&&(he==="keep"?L(J,ee,Pe):Pe!=="start"&&he.id===ee.id)||(U(J,ee,Pe),He.add(ee.id));else{var Ae=P(J,Pe);Ae!=null&&Ke.add(Ae)}},fe=function(J){J.forEach(function(ee){(0,y.Mn)(ee)?me(ee,B(ee,"start"),B(ee,"end")):(0,y.f0)(ee)&&G(ee)})},G=function(J){C(J).forEach(function(ee){var he=(0,g.Z)(ee,2),Pe=he[0],He=he[1];return me(Pe,He==="end"?"keep":J,He==="start"?"keep":J)})},$=function(J,ee,he,Pe){ee.startBoundElement!=null&&U(J,ee.startBoundElement,"start");var He=w(Pe,he);He==null||L(J,He,"end")||U(J,He,"end")},U=function(J,ee,he){(0,E.DR)(J,(0,_.Z)({},he==="start"?"startBinding":"endBinding",function(Pe){for(var He=1;He<arguments.length;He++){var Ke=arguments[He]!=null?arguments[He]:{};He%2?m(Object(Ke),!0).forEach(function(Ae){(0,_.Z)(Pe,Ae,Ke[Ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(Ke)):m(Object(Ke)).forEach(function(Ae){Object.defineProperty(Pe,Ae,Object.getOwnPropertyDescriptor(Ke,Ae))})}return Pe}({elementId:ee.id},f(J,ee,he)))),(0,N.xn)(ee.boundElements||[]).has(J.id)||(0,E.DR)(ee,{boundElements:(ee.boundElements||[]).concat({id:J.id,type:"arrow"})})},L=function(J,ee,he){var Pe=J[he==="start"?"endBinding":"startBinding"];return F(J,Pe?.elementId,ee)},F=function(J,ee,he){return ee===he.id&&J.points.length<3},I=function(J){J.forEach(function(ee){(0,y.Mn)(ee)&&me(ee,null,null)})},P=function(J,ee){var he=ee==="start"?"startBinding":"endBinding",Pe=J[he];return Pe==null?null:((0,E.DR)(J,(0,_.Z)({},he,null)),Pe.elementId)},w=function(J,ee){return(0,p.QG)(ee.getNonDeletedElements(),function(he){return(0,y.f0)(he,!1)&&(0,T.uu)(he,J)})},f=function(J,ee,he){var Pe=he==="start"?-1:1,He=Pe===-1?0:J.points.length-1,Ke=He-Pe,Ae=u._.getPointAtIndexGlobalCoordinates(J,He),Oe=u._.getPointAtIndexGlobalCoordinates(J,Ke);return{focus:(0,T.T_)(ee,Oe,Ae),gap:Math.max(1,(0,T.oT)(ee,Ae))}},r=function(J,ee){var he,Pe=((he=J.boundElements)!==null&&he!==void 0?he:[]).filter(function(Te){return Te.type==="arrow"});if(Pe.length!==0){var He=ee??{},Ke=He.newSize,Ae=He.simultaneouslyUpdated,Oe=b(Ae);ue(a.Z.getScene(J),Pe.map(function(Te){return Te.id})).forEach(function(Te){if((0,y.bt)(Te)){var De=J;if(o(Te,De)){var ke=c(De,Te.startBinding,Ke),be=c(De,Te.endBinding,Ke);Oe.has(Te.id)?(0,E.DR)(Te,{startBinding:ke,endBinding:be}):(s(Te,"start",ke,J),s(Te,"end",be,J),(0,x.WJ)(Te)&&(0,x.RB)(Te,!1))}}})}},o=function(J,ee){var he,Pe;return((he=J.startBinding)===null||he===void 0?void 0:he.elementId)===ee.id||((Pe=J.endBinding)===null||Pe===void 0?void 0:Pe.elementId)===ee.id},b=function(J){return new Set((J||[]).map(function(ee){return ee.id}))},s=function(J,ee,he,Pe){if(!(he==null||he.elementId!==Pe.id&&J.points.length>2)){var He=a.Z.getScene(J).getElement(he.elementId);if(He!=null){var Ke,Ae=ee==="start"?-1:1,Oe=Ae===-1?0:J.points.length-1,Te=Oe-Ae,De=u._.getPointAtIndexGlobalCoordinates(J,Te),ke=(0,T.j_)(He,he.focus,De);if(he.gap===0)Ke=ke;else{var be=(0,T.MZ)(He,De,ke,he.gap);Ke=be.length===0?ke:be[0]}u._.movePoints(J,[{index:Oe,point:u._.pointFromAbsoluteCoords(J,Ke)}],(0,_.Z)({},ee==="start"?"startBinding":"endBinding",he))}}},c=function(J,ee,he){if(ee==null||he==null)return ee;var Pe=ee.gap,He=ee.focus,Ke=ee.elementId,Ae=he.width,Oe=he.height,Te=J.width,De=J.height;return{elementId:Ke,gap:Math.max(1,Math.min((0,T.fb)(J,Ae,Oe),Pe*(Ae<Oe?Ae/Te:Oe/De))),focus:He}},S=function(J){var ee=new Set(J.map(function(he){return he.id}));return J.flatMap(function(he){return(0,y.Mn)(he,!1)?z(he).filter(function(Pe){return!ee.has(Pe.id)}):(0,y.f0)(he,!1)?C(he).filter(function(Pe){return!ee.has(Pe[0].id)}):[]})},z=function(J){return[B(J,"start"),B(J,"end")].filter(function(ee){return ee!=null})},B=function(J,ee){return w(j(J,ee),a.Z.getScene(J))},j=function(J,ee){var he=ee==="start"?0:-1;return(0,N.AK)(u._.getPointAtIndexGlobalCoordinates(J,he))},C=function(J){return a.Z.getScene(J).getNonDeletedElements().map(function(ee){if(!(0,y.Mn)(ee,!1))return null;var he=A(ee,"start",J),Pe=A(ee,"end",J);return he||Pe?[ee,he&&Pe?"both":he?"start":"end",J]:null}).filter(function(ee){return ee!=null})},A=function(J,ee,he){return J[ee==="start"?"startBinding":"endBinding"]==null&&!L(J,he,ee)&&(0,T.uu)(he,j(J,ee))},Y=function(J,ee,he,Pe){var He=new Set,Ke=new Set,Ae=Pe==="duplicatesServeAsOld";ee.forEach(function(Oe){var Te=Oe.boundElements;if(Te!=null&&Te.length>0&&(Te.forEach(function(be){Ae&&!he.has(be.id)&&He.add(be.id)}),Ke.add(he.get(Oe.id))),(0,y.Mn)(Oe)){if(Oe.startBinding!=null){var De=Oe.startBinding.elementId;Ae&&!he.has(De)&&Ke.add(De)}if(Oe.endBinding!=null){var ke=Oe.endBinding.elementId;Ae&&!he.has(ke)&&Ke.add(ke)}Oe.startBinding==null&&Oe.endBinding==null||He.add(he.get(Oe.id))}}),J.filter(function(Oe){var Te=Oe.id;return He.has(Te)}).forEach(function(Oe){var Te=Oe.startBinding,De=Oe.endBinding;(0,E.DR)(Oe,{startBinding:ie(Te,he),endBinding:ie(De,he)})}),J.filter(function(Oe){var Te=Oe.id;return Ke.has(Te)}).forEach(function(Oe){var Te=Oe.boundElements;Te!=null&&Te.length>0&&(0,E.DR)(Oe,{boundElements:Te.map(function(De){return he.has(De.id)?{id:he.get(De.id),type:De.type}:De})})})},ie=function(J,ee){var he;if(J==null)return null;var Pe=J.elementId;return{focus:J.focus,gap:J.gap,elementId:(he=ee.get(Pe))!==null&&he!==void 0?he:Pe}},le=function(J,ee){var he=new Set(ee.map(function(He){return He.id})),Pe=new Set;ee.forEach(function(He){var Ke;(0,y.f0)(He)?(Ke=He.boundElements)===null||Ke===void 0||Ke.forEach(function(Ae){he.has(Ae.id)||Pe.add(Ae.id)}):(0,y.Mn)(He)&&(He.startBinding&&Pe.add(He.startBinding.elementId),He.endBinding&&Pe.add(He.endBinding.elementId))}),J.filter(function(He){var Ke=He.id;return Pe.has(Ke)}).forEach(function(He){(0,y.f0)(He)?(0,E.DR)(He,{boundElements:de(He.boundElements,he)}):(0,y.Mn)(He)&&(0,E.DR)(He,{startBinding:ce(He.startBinding,he),endBinding:ce(He.endBinding,he)})})},ce=function(J,ee){return J==null||ee.has(J.elementId)?null:J},de=function(J,ee){return J?J.filter(function(he){return!ee.has(he.id)}):null}},4949:function(te,t,e){e.d(t,{CM:function(){return U},GJ:function(){return fe},IX:function(){return I},KP:function(){return b},M$:function(){return G},Pi:function(){return o},UC:function(){return $},Ut:function(){return S},Y5:function(){return f},hC:function(){return s},os:function(){return z},qf:function(){return ye},v2:function(){return B},wC:function(){return c}});var _=e(1930),g=e(2577),p=e(8821),y=e(5169),T=e(2361),E=e(9845),a=e(6049),u=e(4183),N=e(5999),H=e(4761),x=e(7422),m=e(2921),k=e(457);function Q(j,C){var A=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!A){if(Array.isArray(j)||(A=function(J,ee){if(J){if(typeof J=="string")return ue(J,ee);var he=Object.prototype.toString.call(J).slice(8,-1);if(he==="Object"&&J.constructor&&(he=J.constructor.name),he==="Map"||he==="Set")return Array.from(J);if(he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return ue(J,ee)}}(j))||C){A&&(j=A);var Y=0,ie=function(){};return{s:ie,n:function(){return Y>=j.length?{done:!0}:{done:!1,value:j[Y++]}},e:function(J){throw J},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,ce=!0,de=!1;return{s:function(){A=A.call(j)},n:function(){var J=A.next();return ce=J.done,J},e:function(J){de=!0,le=J},f:function(){try{ce||A.return==null||A.return()}finally{if(de)throw le}}}}function ue(j,C){(C==null||C>j.length)&&(C=j.length);for(var A=0,Y=new Array(C);A<C;A++)Y[A]=j[A];return Y}var me=function(){function j(){(0,p.Z)(this,j)}return(0,y.Z)(j,null,[{key:"getBounds",value:function(C){var A=j.boundsCache.get(C);if(A!=null&&A.version&&A.version===C.version&&!(0,u.Xh)(C))return A.bounds;var Y=j.calculateBounds(C);return k.Z.getScene(C)&&j.boundsCache.set(C,{version:C.version,bounds:Y}),Y}},{key:"calculateBounds",value:function(C){var A,Y=ye(C),ie=(0,g.Z)(Y,6),le=ie[0],ce=ie[1],de=ie[2],J=ie[3],ee=ie[4],he=ie[5];if((0,u.F9)(C)){var Pe=P(C.points.map(function(At){var It=(0,g.Z)(At,2),Mt=It[0],Nt=It[1];return(0,T.U1)(Mt,Nt,ee-C.x,he-C.y,C.angle)})),He=(0,g.Z)(Pe,4),Ke=He[0],Ae=He[1],Oe=He[2],Te=He[3];return[Ke+C.x,Ae+C.y,Oe+C.x,Te+C.y]}if((0,u.bt)(C))A=r(C,ee,he);else if(C.type==="diamond"){var De=(0,T.U1)(ee,ce,ee,he,C.angle),ke=(0,g.Z)(De,2),be=ke[0],ve=ke[1],D=(0,T.U1)(ee,J,ee,he,C.angle),l=(0,g.Z)(D,2),d=l[0],M=l[1],V=(0,T.U1)(le,he,ee,he,C.angle),q=(0,g.Z)(V,2),re=q[0],ae=q[1],ge=(0,T.U1)(de,he,ee,he,C.angle),Se=(0,g.Z)(ge,2),Re=Se[0],Ye=Se[1];A=[Math.min(be,d,re,Re),Math.min(ve,M,ae,Ye),Math.max(be,d,re,Re),Math.max(ve,M,ae,Ye)]}else if(C.type==="ellipse"){var Ge=(de-le)/2,We=(J-ce)/2,qe=Math.cos(C.angle),lt=Math.sin(C.angle),ft=Math.hypot(Ge*qe,We*lt),ze=Math.hypot(We*qe,Ge*lt);A=[ee-ft,he-ze,ee+ft,he+ze]}else{var we=(0,T.U1)(le,ce,ee,he,C.angle),Me=(0,g.Z)(we,2),$e=Me[0],at=Me[1],dt=(0,T.U1)(le,J,ee,he,C.angle),vt=(0,g.Z)(dt,2),Tt=vt[0],Et=vt[1],jt=(0,T.U1)(de,J,ee,he,C.angle),Kt=(0,g.Z)(jt,2),Gt=Kt[0],Ht=Kt[1],$t=(0,T.U1)(de,ce,ee,he,C.angle),pn=(0,g.Z)($t,2),_t=pn[0],xt=pn[1];A=[Math.min($e,Tt,Gt,_t),Math.min(at,Et,Ht,xt),Math.max($e,Tt,Gt,_t),Math.max(at,Et,Ht,xt)]}return A}}]),j}();me.boundsCache=new WeakMap;var ye=function(j){var C=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,u.F9)(j))return w(j);if((0,u.bt)(j))return x._.getElementAbsoluteCoords(j,C);if((0,u.iB)(j)){var A=(0,H.tl)(j);if((0,u.Yv)(A)){var Y=x._.getBoundTextElementPosition(A,j);return[Y.x,Y.y,Y.x+j.width,Y.y+j.height,Y.x+j.width/2,Y.y+j.height/2]}}return[j.x,j.y,j.x+j.width,j.y+j.height,j.x+j.width/2,j.y+j.height/2]},fe=function(j){var C=ye(j),A=(0,g.Z)(C,6),Y=A[0],ie=A[1],le=A[2],ce=A[3],de=A[4],J=A[5],ee=[de,J];if((0,u.bt)(j)||(0,u.F9)(j)){for(var he=[],Pe=0;Pe<j.points.length-1;)he.push([(0,T.xj)([j.points[Pe][0]+j.x,j.points[Pe][1]+j.y],ee,j.angle),(0,T.xj)([j.points[Pe+1][0]+j.x,j.points[Pe+1][1]+j.y],ee,j.angle)]),Pe++;return he}var He=[[Y,ie],[le,ie],[Y,ce],[le,ce],[de,ie],[de,ce],[Y,J],[le,J]].map(function(l){return(0,T.xj)(l,ee,j.angle)}),Ke=(0,g.Z)(He,8),Ae=Ke[0],Oe=Ke[1],Te=Ke[2],De=Ke[3],ke=Ke[4],be=Ke[5],ve=Ke[6],D=Ke[7];return j.type==="diamond"?[[ke,ve],[ke,D],[be,ve],[be,D]]:j.type==="ellipse"?[[ke,ve],[ke,D],[be,ve],[be,D],[ke,ve],[ke,D],[be,ve],[be,D]]:[[Ae,Oe],[Te,De],[Ae,Te],[Oe,De],[Ae,D],[Te,D],[Oe,ve],[De,ve]]},G=function(j){return[j.x,j.y,j.x+j.width,j.y+j.height,j.x+j.width/2,j.y+j.height/2]},$=function(j){var C=Math.floor(j.width/2)+1,A=j.width,Y=Math.floor(j.height/2)+1;return[C,0,A,Y,C,j.height,0,Y]},U=function(j){var C,A=Q(j.sets);try{for(A.s();!(C=A.n()).done;){var Y=C.value;if(Y.type==="path")return Y.ops}}catch(ie){A.e(ie)}finally{A.f()}return j.sets[0].ops},L=function(j,C,A,Y,ie){var le=1-j;return Math.pow(le,3)*C+3*Math.pow(le,2)*j*A+3*le*Math.pow(j,2)*Y+Math.pow(j,3)*ie},F=function(j,C,A,Y){var ie=C-j,le=A-C,ce=3*ie-6*le+3*(Y-A),de=6*le-6*ie,J=3*ie,ee=de*de-4*ce*J;if(!(ee>=0))return!1;var he=null,Pe=null,He=1/0,Ke=1/0;return ce===0?He=Ke=-J/de:(He=(-de+Math.sqrt(ee))/(2*ce),Ke=(-de-Math.sqrt(ee))/(2*ce)),He>=0&&He<=1&&(he=L(He,j,C,A,Y)),Ke>=0&&Ke<=1&&(Pe=L(Ke,j,C,A,Y)),[he,Pe]},I=function(j,C){var A=[0,0],Y=j.reduce(function(ie,le){var ce=le.op,de=le.data;if(ce==="move")A=de;else if(ce==="bcurveTo"){var J=[de[0],de[1]],ee=[de[2],de[3]],he=[de[4],de[5]],Pe=C?C.apply(void 0,J):J,He=C?C.apply(void 0,ee):ee,Ke=C?C.apply(void 0,he):he,Ae=C?C.apply(void 0,(0,_.Z)(A)):A;A=he;var Oe=function(D,l,d,M){var V=F(D[0],l[0],d[0],M[0]),q=F(D[1],l[1],d[1],M[1]),re=Math.min(D[0],M[0]),ae=Math.max(D[0],M[0]);if(V){var ge=V.filter(function(Ge){return Ge!==null});re=Math.min.apply(Math,[re].concat((0,_.Z)(ge))),ae=Math.max.apply(Math,[ae].concat((0,_.Z)(ge)))}var Se=Math.min(D[1],M[1]),Re=Math.max(D[1],M[1]);if(q){var Ye=q.filter(function(Ge){return Ge!==null});Se=Math.min.apply(Math,[Se].concat((0,_.Z)(Ye))),Re=Math.max.apply(Math,[Re].concat((0,_.Z)(Ye)))}return[re,Se,ae,Re]}(Ae,Pe,He,Ke),Te=(0,g.Z)(Oe,4),De=Te[0],ke=Te[1],be=Te[2],ve=Te[3];ie.minX=Math.min(ie.minX,De),ie.minY=Math.min(ie.minY,ke),ie.maxX=Math.max(ie.maxX,be),ie.maxY=Math.max(ie.maxY,ve)}return ie},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[Y.minX,Y.minY,Y.maxX,Y.maxY]},P=function(j){var C,A=1/0,Y=1/0,ie=-1/0,le=-1/0,ce=Q(j);try{for(ce.s();!(C=ce.n()).done;){var de=(0,g.Z)(C.value,2),J=de[0],ee=de[1];A=Math.min(A,J),Y=Math.min(Y,ee),ie=Math.max(ie,J),le=Math.max(le,ee)}}catch(he){ce.e(he)}finally{ce.f()}return[A,Y,ie,le]},w=function(j){var C=P(j.points),A=(0,g.Z)(C,4),Y=A[0],ie=A[1],le=A[2],ce=A[3],de=Y+j.x,J=ie+j.y,ee=le+j.x,he=ce+j.y;return[de,J,ee,he,(de+ee)/2,(J+he)/2]},f=function(j,C,A,Y){var ie=U(C[0]);if(ie.length<1)return null;var le=A==="start"?1:ie.length-1,ce=ie[le].data,de=[ce[4],ce[5]],J=[ce[2],ce[3]],ee=[ce[0],ce[1]],he=ie[le-1],Pe=[0,0];he.op==="move"?Pe=he.data:he.op==="bcurveTo"&&(Pe=[he.data[4],he.data[5]]);var He=function(Ht,$t){return Math.pow(1-Ht,3)*de[$t]+3*Ht*Math.pow(1-Ht,2)*J[$t]+3*Math.pow(Ht,2)*(1-Ht)*ee[$t]+Pe[$t]*Math.pow(Ht,3)},Ke=A==="start"?Pe:de,Ae=(0,g.Z)(Ke,2),Oe=Ae[0],Te=Ae[1],De=[He(.3,0),He(.3,1)],ke=De[0],be=De[1],ve=Math.hypot(Oe-ke,Te-be),D=(Oe-ke)/ve,l=(Te-be)/ve,d={arrow:30,bar:15,dot:15,triangle:15}[Y],M=0;if(Y==="arrow"){var V=(0,g.Z)(j.points[j.points.length-1],2),q=V[0],re=V[1],ae=j.points.length>1?j.points[j.points.length-2]:[0,0],ge=(0,g.Z)(ae,2),Se=ge[0],Re=ge[1];M=Math.hypot(q-Se,re-Re)}else for(var Ye=0;Ye<j.points.length;Ye++){var Ge=j.points[Ye-1]||[0,0],We=(0,g.Z)(Ge,2),qe=We[0],lt=We[1],ft=(0,g.Z)(j.points[Ye],2),ze=ft[0],we=ft[1];M+=Math.hypot(ze-qe,we-lt)}var Me=Math.min(d,M/2),$e=Oe-D*Me,at=Te-l*Me;if(Y==="dot")return[Oe,Te,Math.hypot(at-Te,$e-Oe)+j.strokeWidth];var dt={arrow:20,bar:90,triangle:25}[Y],vt=(0,T.U1)($e,at,Oe,Te,-dt*Math.PI/180),Tt=(0,g.Z)(vt,2),Et=Tt[0],jt=Tt[1],Kt=(0,T.U1)($e,at,Oe,Te,dt*Math.PI/180),Gt=(0,g.Z)(Kt,2);return[Oe,Te,Et,jt,Gt[0],Gt[1]]},r=function(j,C,A){var Y;if(j.points.length<2){var ie=(0,g.Z)(j.points[0],2),le=ie[0],ce=ie[1],de=(0,T.U1)(j.x+le,j.y+ce,C,A,j.angle),J=(0,g.Z)(de,2),ee=J[0],he=J[1],Pe=[ee,he,ee,he],He=(0,H.WJ)(j);if(He){var Ke=x._.getMinMaxXYWithBoundText(j,[ee,he,ee,he],He);Pe=[Ke[0],Ke[1],Ke[2],Ke[3]]}return Pe}var Ae=(Y=m.R.get(j))===null||Y===void 0?void 0:Y[0],Oe=Ae??function(D){var l=E.Z.generator(),d=(0,a.Z)(D);return l[D.roundness?"curve":d.fill?"polygon":"linearPath"](D.points,d)}(j),Te=U(Oe),De=I(Te,function(D,l){return(0,T.U1)(j.x+D,j.y+l,C,A,j.angle)}),ke=[De[0],De[1],De[2],De[3]],be=(0,H.WJ)(j);if(be){var ve=x._.getMinMaxXYWithBoundText(j,ke,be);ke=[ve[0],ve[1],ve[2],ve[3]]}return ke},o=function(j){return me.getBounds(j)},b=function(j){if(!j.length)return[0,0,0,0];var C=1/0,A=-1/0,Y=1/0,ie=-1/0;return j.forEach(function(le){var ce=o(le),de=(0,g.Z)(ce,4),J=de[0],ee=de[1],he=de[2],Pe=de[3];C=Math.min(C,J),Y=Math.min(Y,ee),A=Math.max(A,he),ie=Math.max(ie,Pe)}),[C,Y,A,ie]},s=function(j,C){var A=b(j),Y=(0,g.Z)(A,4),ie=Y[0],le=Y[1],ce=Y[2],de=Y[3];return[ie+C.x,le+C.y,ce+C.x,de+C.y]},c=function(j,C,A,Y){if(!(0,u.bt)(j)&&!(0,u.F9)(j))return[j.x,j.y,j.x+C,j.y+A];var ie,le=(0,N.z)(0,C,(0,N.z)(1,A,j.points,Y),Y);if((0,u.F9)(j))ie=P(le);else{var ce=E.Z.generator(),de=j.roundness?ce.curve(le,(0,a.Z)(j)):ce.linearPath(le,(0,a.Z)(j)),J=U(de);ie=I(J)}var ee=ie,he=(0,g.Z)(ee,4),Pe=he[0],He=he[1],Ke=he[2],Ae=he[3];return[Pe+j.x,He+j.y,Ke+j.x,Ae+j.y]},S=function(j,C){var A=E.Z.generator(),Y=j.roundness==null?A.linearPath(C,(0,a.Z)(j)):A.curve(C,(0,a.Z)(j)),ie=U(Y),le=I(ie),ce=(0,g.Z)(le,4),de=ce[0],J=ce[1],ee=ce[2],he=ce[3];return[de+j.x,J+j.y,ee+j.x,he+j.y]},z=function(j,C){if(!j.length)return[0,0,0,0];var A=1/0,Y=j[0];return j.forEach(function(ie){var le=o(ie),ce=(0,g.Z)(le,4),de=ce[0],J=ce[1],ee=ce[2],he=ce[3],Pe=(0,T.LW)((de+ee)/2,(J+he)/2,C.x,C.y);Pe<A&&(A=Pe,Y=ie)}),o(Y)},B=function(j){var C=b(j),A=(0,g.Z)(C,4),Y=A[0],ie=A[1],le=A[2],ce=A[3];return{minX:Y,minY:ie,maxX:le,maxY:ce,width:le-Y,height:ce-ie,midX:(Y+le)/2,midY:(ie+ce)/2}}},3528:function(te,t,e){e.d(t,{uu:function(){return de},T_:function(){return q},j_:function(){return re},oT:function(){return he},wX:function(){return A},MZ:function(){return ae},wB:function(){return Y},Qu:function(){return ie},pX:function(){return ce},fb:function(){return J}});var _=e(2577),g=function(we,Me){return[0,0,0,0,Me,we,1,0]},p=function(we,Me){return[0,0,0,0,Me,we,0,0]},y=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$e=[0,0,0,0,0,0,0,0];if(Me<0||Me>7)throw new Error("Expected `index` between 0 and 7, got `".concat(Me,"`"));return we!==0&&($e[Me]=we),$e},T=function(we){return[we[0],we[1],we[2],we[3],-we[4],-we[5],-we[6],-we[7]]},E=function(we,Me){return Q(Me)?[we[0]-Me,we[1],we[2],we[3],we[4],we[5],we[6],we[7]]:[we[0]-Me[0],we[1]-Me[1],we[2]-Me[2],we[3]-Me[3],we[4]-Me[4],we[5]-Me[5],we[6]-Me[6],we[7]-Me[7]]},a=function(we,Me){return Q(Me)?[we[0]*Me,we[1]*Me,we[2]*Me,we[3]*Me,we[4]*Me,we[5]*Me,we[6]*Me,we[7]*Me]:[u(we,Me),Me[1]*we[0]+Me[0]*we[1]-Me[4]*we[2]+Me[5]*we[3]+Me[2]*we[4]-Me[3]*we[5]-Me[7]*we[6]-Me[6]*we[7],Me[2]*we[0]+Me[0]*we[2]-Me[6]*we[3]+Me[3]*we[6],Me[3]*we[0]+Me[6]*we[2]+Me[0]*we[3]-Me[2]*we[6],Me[4]*we[0]+Me[2]*we[1]-Me[1]*we[2]+Me[7]*we[3]+Me[0]*we[4]+Me[6]*we[5]-Me[5]*we[6]+Me[3]*we[7],Me[5]*we[0]-Me[3]*we[1]+Me[7]*we[2]+Me[1]*we[3]-Me[6]*we[4]+Me[0]*we[5]+Me[4]*we[6]+Me[2]*we[7],Me[6]*we[0]+Me[3]*we[2]-Me[2]*we[3]+Me[0]*we[6],Me[7]*we[0]+Me[6]*we[1]+Me[5]*we[2]+Me[4]*we[3]+Me[3]*we[4]+Me[2]*we[5]+Me[1]*we[6]+Me[0]*we[7]]},u=function(we,Me){return Me[0]*we[0]+Me[2]*we[2]+Me[3]*we[3]-Me[6]*we[6]},N=function(we,Me){return[H(we,Me),we[1]*Me[7]+we[4]*Me[5]-we[5]*Me[4]+we[7]*Me[1],we[2]*Me[7]-we[4]*Me[6]+we[6]*Me[4]+we[7]*Me[2],we[3]*Me[7]+we[5]*Me[6]-we[6]*Me[5]+we[7]*Me[3],we[4]*Me[7]+we[7]*Me[4],we[5]*Me[7]+we[7]*Me[5],we[6]*Me[7]+we[7]*Me[6],we[7]*Me[7]]},H=function(we,Me){return we[0]*Me[7]+we[1]*Me[6]+we[2]*Me[5]+we[3]*Me[4]+we[4]*Me[3]+we[5]*Me[2]+we[6]*Me[1]+we[7]*Me[0]},x=function(we){return Math.sqrt(Math.abs(we[0]*we[0]-we[2]*we[2]-we[3]*we[3]+we[6]*we[6]))},m=function(we){var Me=x(we);if(Me===0||Me===1)return we;var $e=we[6]<0?-1:1;return a(we,$e/Me)},k=function(we){var Me=function($e){return Math.sqrt(Math.abs($e[7]*$e[7]-$e[5]*$e[5]-$e[4]*$e[4]+$e[1]*$e[1]))}(we);return Me===0||Me===1?we:a(we,1/Me)},Q=function(we){return typeof we=="number"},ue=(y(1,1),y(1,2),y(1,3),y(1,4),y(1,5),y(1,6),y(1,7),function(we,Me,$e){return m([0,$e,we,Me,0,0,0,0])}),me=function(we,Me){return m(N(Me,we))},ye=function(we,Me){return $e=we,[(at=Me)[0]*$e[0]+at[2]*$e[2]+at[3]*$e[3]-at[6]*$e[6],at[1]*$e[0]+at[0]*$e[1]-at[4]*$e[2]+at[5]*$e[3]+at[2]*$e[4]-at[3]*$e[5]-at[7]*$e[6]-at[6]*$e[7],at[2]*$e[0]+at[0]*$e[2]-at[6]*$e[3]+at[3]*$e[6],at[3]*$e[0]+at[6]*$e[2]+at[0]*$e[3]-at[2]*$e[6],at[4]*$e[0]+at[7]*$e[3]+at[0]*$e[4]+at[3]*$e[7],at[5]*$e[0]+at[7]*$e[2]+at[0]*$e[5]+at[2]*$e[7],at[6]*$e[0]+at[0]*$e[6],at[7]*$e[0]+at[0]*$e[7]];var $e,at},fe=function(we){var Me=(0,_.Z)(we,2),$e=Me[0];return[0,0,0,0,Me[1],$e,1,0]},G=function(we){return[we[5],we[4]]},$=function(we){return[0,0,0,0,Math.abs(we[4]),Math.abs(we[5]),1,0]},U=function(we,Me){return m(($e=we,[(at=Me)[0]*$e[0],at[1]*$e[0]+at[0]*$e[1],at[2]*$e[0]+at[0]*$e[2],at[3]*$e[0]+at[0]*$e[3],at[4]*$e[0]+at[2]*$e[1]-at[1]*$e[2]+at[0]*$e[4],at[5]*$e[0]-at[3]*$e[1]+at[1]*$e[3]+at[0]*$e[5],at[6]*$e[0]+at[3]*$e[2]-at[2]*$e[3]+at[0]*$e[6],at[7]*$e[0]+at[6]*$e[1]+at[5]*$e[2]+at[4]*$e[3]+at[3]*$e[4]+at[2]*$e[5]+at[1]*$e[6]]));var $e,at},L=function(we,Me){return x(N(we,Me))},F=function(we,Me){return H(we,Me)},I=function(we){return[0,0,0,0,we[4],we[5],0,0]},P=function(we,Me){return $e=a(we,Math.sin(Me/2)),at=Math.cos(Me/2),Q(at)?[$e[0]+at,$e[1],$e[2],$e[3],$e[4],$e[5],$e[6],$e[7]]:[$e[0]+at[0],$e[1]+at[1],$e[2]+at[2],$e[3]+at[3],$e[4]+at[4],$e[5]+at[5],$e[6]+at[6],$e[7]+at[7]];var $e,at},w=function(we,Me){return m(a(a(we,Me),T(we)))},f=e(2361),r=e(1493),o=e(4949),b=e(4183),s=e(7651),c=e(9827),S=e(4048),z=e(4761),B=e(2921);function j(we,Me){var $e=typeof Symbol<"u"&&we[Symbol.iterator]||we["@@iterator"];if(!$e){if(Array.isArray(we)||($e=function(jt,Kt){if(jt){if(typeof jt=="string")return C(jt,Kt);var Gt=Object.prototype.toString.call(jt).slice(8,-1);if(Gt==="Object"&&jt.constructor&&(Gt=jt.constructor.name),Gt==="Map"||Gt==="Set")return Array.from(jt);if(Gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Gt))return C(jt,Kt)}}(we))||Me){$e&&(we=$e);var at=0,dt=function(){};return{s:dt,n:function(){return at>=we.length?{done:!0}:{done:!1,value:we[at++]}},e:function(jt){throw jt},f:dt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vt,Tt=!0,Et=!1;return{s:function(){$e=$e.call(we)},n:function(){var jt=$e.next();return Tt=jt.done,jt},e:function(jt){Et=!0,vt=jt},f:function(){try{Tt||$e.return==null||$e.return()}finally{if(Et)throw vt}}}}function C(we,Me){(Me==null||Me>we.length)&&(Me=we.length);for(var $e=0,at=new Array(Me);$e<Me;$e++)at[$e]=we[$e];return at}var A=function we(Me,$e,at,dt,vt){var Tt=10/$e.zoom.value,Et=[dt,vt];if(le($e,Me)&&(0,S.oY)([Me],$e))return ce(Me,Et,Tt,at);var jt=(0,z.WJ)(Me);return jt&&we(jt,$e,at,dt,vt)?!0:ie(Me,$e,at,Et)},Y=function(we,Me,$e,at,dt){var vt=10/Me.zoom.value,Tt=(0,z.WJ)(we);return(!Tt||!A(Tt,Me,$e,at,dt))&&!ie(we,Me,$e,[at,dt])&&ce(we,[at,dt],vt,$e)},ie=function(we,Me,$e,at){var dt=10/Me.zoom.value,vt=(0,s.iB)(we)?Pe:function(Tt){if(Tt.type==="arrow")return!1;if(Tt.type==="freedraw")return!0;var Et=!(0,c.Qm)(Tt.backgroundColor)||(0,b.Xo)(Tt)||(0,b.gs)(Tt);return Tt.type==="line"?Et&&(0,f.g6)(Tt.points):Et||(0,b.pC)(Tt)}(we)?He:Ke;return ee({element:we,point:at,threshold:dt,check:vt,frameNameBoundsCache:$e})},le=function(we,Me){return we.selectedElementIds[Me.id]},ce=function(we,Me,$e,at){var dt=(0,_.Z)(Me,2),vt=dt[0],Tt=dt[1];if(we.type==="frame")return ee({element:we,point:[vt,Tt],threshold:$e,check:He,frameNameBoundsCache:at});var Et=(0,o.qf)(we),jt=(0,_.Z)(Et,4),Kt=jt[0],Gt=jt[1],Ht=jt[2],$t=jt[3],pn=(Kt+Ht)/2,_t=(Gt+$t)/2,xt=(0,f.U1)(vt,Tt,pn,_t,-we.angle),At=(0,_.Z)(xt,2),It=At[0],Mt=At[1];return It>Kt-$e&&It<Ht+$e&&Mt>Gt-$e&&Mt<$t+$e},de=function(we,Me){var $e=Me.x,at=Me.y,dt=J(we,we.width,we.height);return ee({element:we,point:[$e,at],threshold:dt,check:Ae,frameNameBoundsCache:null})},J=function(we,Me,$e){var at=(we.type==="diamond"?1/Math.sqrt(2):1)*Math.min(Me,$e);return Math.max(16,Math.min(.25*at,32))},ee=function(we){switch(we.element.type){case"rectangle":case"embeddable":case"image":case"text":case"diamond":case"ellipse":var Me=he(we.element,we.point);return we.check(Me,we.threshold);case"freedraw":return!!we.check(Oe(we.element,we.point),we.threshold)&&ve(we.element,we.point,we.threshold);case"arrow":case"line":return D(we);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1;case"frame":var $e;if(we.check(he(we.element,we.point),we.threshold))return!0;var at=($e=we.frameNameBoundsCache)===null||$e===void 0?void 0:$e.get(we.element);return!!at&&we.check(Te(at,we.point),we.threshold)}},he=function(we,Me){switch(we.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return Oe(we,Me);case"diamond":return De(we,Me);case"ellipse":return ke(we,Me)}},Pe=function(we,Me){return we<0},He=function(we,Me){return we<Me},Ke=function(we,Me){return Math.abs(we)<Me},Ae=function(we,Me){return 0<=we&&we<Me},Oe=function(we,Me){var $e=l(we,Me),at=(0,_.Z)($e,4),dt=at[1],vt=at[2],Tt=at[3];return Math.max(F(dt,ue(0,1,-Tt)),F(dt,ue(1,0,-vt)))},Te=function(we,Me){var $e=d(Me,we),at=(0,_.Z)($e,4),dt=at[1],vt=at[2],Tt=at[3];return Math.max(F(dt,ue(0,1,-Tt)),F(dt,ue(1,0,-vt)))},De=function(we,Me){var $e=l(we,Me),at=(0,_.Z)($e,4),dt=at[1],vt=at[2],Tt=at[3],Et=ue(Tt,vt,-Tt*vt);return F(dt,Et)},ke=function(we,Me){var $e,at=be(we,Me),dt=(0,_.Z)(at,2),vt=dt[0],Tt=dt[1];return $e=Tt,-Math.sign($e[1])*F(vt,Tt)},be=function(we,Me){var $e=l(we,Me),at=(0,_.Z)($e,4),dt=at[1],vt=at[2],Tt=at[3],Et=G(dt),jt=(0,_.Z)(Et,2),Kt=jt[0],Gt=jt[1],Ht=.707,$t=.707,pn=vt,_t=Tt;[0,1,2,3].forEach(function(It){var Mt=pn*Ht,Nt=_t*$t,Yt=(pn*pn-_t*_t)*Math.pow(Ht,3)/pn,ln=(_t*_t-pn*pn)*Math.pow($t,3)/_t,an=Mt-Yt,kn=Nt-ln,Tn=Kt-Yt,zn=Gt-ln,un=Math.hypot(kn,an),zt=Math.hypot(zn,Tn);Ht=Math.min(1,Math.max(0,(Tn*un/zt+Yt)/pn)),$t=Math.min(1,Math.max(0,(zn*un/zt+ln)/_t));var en=Math.hypot($t,Ht);Ht/=en,$t/=en});var xt,At=g(pn*Ht,_t*$t);return[dt,ye(me(dt,xt=At),xt)]},ve=function(we,Me,$e){var at,dt;if(we.angle===0)at=Me[0]-we.x,dt=Me[1]-we.y;else{var vt=(0,o.qf)(we),Tt=(0,_.Z)(vt,4),Et=Tt[0],jt=Tt[1],Kt=Tt[2],Gt=Tt[3],Ht=(0,f.xj)(Me,[Et+(Kt-Et)/2,jt+(Gt-jt)/2],-we.angle);at=Ht[0]-we.x,dt=Ht[1]-we.y}var $t,pn=(0,_.Z)(we.points,2),_t=pn[0],xt=pn[1];if((0,f.LW)(_t[0],_t[1],at,dt)<$e||(0,f.LW)(xt[0],xt[1],at,dt)<$e)return!0;for(var At=0;At<we.points.length;At++){var It=[xt[0]-_t[0],xt[1]-_t[1]],Mt=Math.hypot(It[1],It[0]),Nt=[It[0]/Mt,It[1]/Mt],Yt=[at-_t[0],dt-_t[1]],ln=(Yt[0]*Nt[0]+Yt[1]*Nt[1])/Math.hypot(Nt[1],Nt[0]);$t=[_t[0]+Nt[0]*ln,_t[1]+Nt[1]*ln];var an=(0,f.LW)($t[0],$t[1],_t[0],_t[1]),kn=(0,f.LW)($t[0],$t[1],xt[0],xt[1]);if($t=kn<an&&an>Mt?xt:an<kn&&kn>Mt?_t:$t,Math.hypot(dt-$t[1],at-$t[0])<$e)return!0;_t=xt,xt=we.points[At+1]}var Tn=B.R.get(we);return!(!Tn||!Tn.sets.length)&&(we.fillStyle==="solid"?ft(Tn,at,dt,"round"):ze(Tn,at,dt,$e))},D=function(we){var Me=we.element,$e=we.threshold;if(!B.R.get(Me))return!1;var at=l(we.element,we.point),dt=(0,_.Z)(at,4),vt=dt[0],Tt=dt[1],Et=dt[2],jt=dt[3],Kt=ue(0,1,-jt),Gt=ue(1,0,-Et);if(!He(F(Tt,Kt),$e)||!He(F(Tt,Gt),$e))return!1;var Ht=G(vt),$t=(0,_.Z)(Ht,2),pn=$t[0],_t=$t[1],xt=B.R.get(Me);return xt?we.check===He&&xt.some(function(At){return ft(At,pn,_t,Me.roundness?"round":"sharp")})?!0:xt.some(function(At){return ze(At,pn,_t,$e)}):!1},l=function(we,Me){var $e=fe(Me),at=(0,o.qf)(we),dt=(0,_.Z)(at,4),vt=dt[0],Tt=dt[1],Et=dt[2],jt=dt[3],Kt=V(vt,Tt,Et,jt),Gt=P(Kt,we.angle),Ht=w(Gt,$e),$t=E(Ht,I(Kt)),pn=$($t),_t=p(we.x,we.y);return[E(Ht,_t),pn,(Et-vt)/2,(jt-Tt)/2]},d=function(we,Me){var $e=fe(we),at=(0,o.M$)(Me),dt=(0,_.Z)(at,4),vt=dt[0],Tt=dt[1],Et=dt[2],jt=dt[3],Kt=V(vt,Tt,Et,jt),Gt=P(Kt,Me.angle),Ht=w(Gt,$e),$t=E(Ht,I(Kt)),pn=$($t),_t=p(Me.x,Me.y);return[E(Ht,_t),pn,(Et-vt)/2,(jt-Tt)/2]},M=function(we){var Me=(0,o.qf)(we),$e=(0,_.Z)(Me,4),at=$e[0],dt=$e[1],vt=$e[2],Tt=$e[3],Et=V(at,dt,vt,Tt),jt=P(Et,we.angle),Kt=T(function(Gt){return[1,0,0,0,-.5*Gt[5],.5*Gt[4],0,0]}(I(Et)));return a(Kt,jt)},V=function(we,Me,$e,at){return g((we+$e)/2,(Me+at)/2)},q=function(we,Me,$e){var at,dt=M(we),vt=w(dt,fe(Me)),Tt=w(dt,fe($e)),Et=me(vt,Tt),jt=we.height/we.width,Kt=we.width/2,Gt=we.height/2,Ht=Et[2],$t=Et[3],pn=Et[1],_t=Math.abs($t),xt=Math.abs(Ht);switch(we.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":at=pn/(Kt*(xt+jt*_t));break;case"diamond":at=_t<xt?pn/(xt*Kt):pn/(_t*Gt);break;case"ellipse":at=pn/(Kt*Math.sqrt(Math.pow(Ht,2)+Math.pow(jt,2)*Math.pow($t,2)))}return at||0},re=function(we,Me,$e){if(Me===0){var at=(0,o.qf)(we),dt=(0,_.Z)(at,4),vt=dt[0],Tt=dt[1],Et=dt[2],jt=dt[3],Kt=V(vt,Tt,Et,jt);return G(Kt)}var Gt,Ht=M(we),$t=w(Ht,fe($e)),pn=T(Ht);switch(we.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":Gt=lt(we,Me,$t);break;case"ellipse":Gt=qe(we,Me,$t)}return G(w(pn,Gt))},ae=function(we,Me,$e){var at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,dt=M(we),vt=w(dt,fe(Me)),Tt=w(dt,fe($e)),Et=me(vt,Tt),jt=T(dt),Kt=ge(we,Et,vt,at);return Kt.map(function(Gt){return G(w(jt,Gt))})},ge=function(we,Me,$e){var at,dt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(we.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":var vt=Se(we);at=vt.flatMap(function(Et,jt){var Kt=[Et,vt[(jt+1)%4]];return Re(Me,Ye(Kt,dt))}).concat(vt.flatMap(function(Et){return We(Et,dt,Me)}));break;case"ellipse":at=Ge(we,dt,Me)}if(at.length<2)return[];var Tt=at.sort(function(Et,jt){return L(Et,$e)-L(jt,$e)});return[Tt[0],Tt[Tt.length-1]]},Se=function(we){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$e=Me*we.width/2,at=Me*we.height/2;switch(we.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return[g($e,at),g($e,-at),g(-$e,-at),g(-$e,at)];case"diamond":return[g(0,at),g($e,0),g(0,-at),g(-$e,0)]}},Re=function(we,Me){var $e=(0,_.Z)(Me,2),at=$e[0],dt=$e[1];return F(at,we)*F(dt,we)>=0?[]:[U(we,me(at,dt))]},Ye=function(we,Me){var $e=(0,_.Z)(we,2),at=$e[0],dt=$e[1],vt=function(Tt,Et){var jt=.5*Et;return[1,0,0,0,jt*Tt[4],jt*Tt[5],0,0]}(function(Tt,Et){return k([0,0,0,0,Et[4]-Tt[4],Et[5]-Tt[5],0,0])}(at,dt),Me);return[w(vt,at),w(vt,dt)]},Ge=function(we,Me,$e){var at=we.width/2+Me,dt=we.height/2+Me,vt=$e[2],Tt=$e[3],Et=$e[1],jt=at*at*vt*vt+dt*dt*Tt*Tt,Kt=jt-Et*Et;if(jt===0||Kt<=0)return[];var Gt=Math.sqrt(Kt),Ht=-at*at*vt*Et,$t=-dt*dt*Tt*Et;return[g((Ht+at*dt*Tt*Gt)/jt,($t-at*dt*vt*Gt)/jt),g((Ht-at*dt*Tt*Gt)/jt,($t+at*dt*vt*Gt)/jt)]},We=function(we,Me,$e){if(Me===0)return F($e,we)===0?[we]:[];var at=$e[2],dt=$e[3],vt=$e[1],Tt=G(we),Et=(0,_.Z)(Tt,2),jt=Et[0],Kt=Et[1],Gt=at*at+dt*dt,Ht=Me*Me*Gt-Math.pow(at*jt+dt*Kt+vt,2);if(Gt===0||Ht<=0)return[];var $t=Math.sqrt(Ht),pn=jt*dt*dt-Kt*at*dt-at*vt,_t=Kt*at*at-jt*at*dt-dt*vt;return[g((pn+dt*$t)/Gt,(_t-at*$t)/Gt),g((pn-dt*$t)/Gt,(_t+at*$t)/Gt)]},qe=function(we,Me,$e){var at=Math.abs(Me),dt=we.width*at/2,vt=we.height*at/2,Tt=Math.sign(Me),Et=G($e),jt=(0,_.Z)(Et,2),Kt=jt[0],Gt=jt[1],Ht=Gt===0?1e-4:Gt,$t=Math.pow(Kt,2)*Math.pow(vt,2)+Math.pow(Ht,2)*Math.pow(dt,2),pn=(-Kt*Math.pow(vt,2)+Tt*Ht*Math.sqrt(Math.max(0,$t-Math.pow(dt,2)*Math.pow(vt,2))))/$t,_t=(-pn*Kt-1)/Ht;_t===0&&(_t=.01*(Object.is(_t,-0)?-1:1));var xt=-Math.pow(dt,2)*pn/(Math.pow(_t,2)*Math.pow(vt,2)+Math.pow(pn,2)*Math.pow(dt,2));return g(xt,(-pn*xt-1)/_t)},lt=function(we,Me,$e){var at=Math.abs(Me),dt=Math.sign(Me),vt=Se(we,at),Tt=0,Et=null;return vt.forEach(function(jt){var Kt=dt*me($e,jt)[1];Kt>Tt&&(Tt=Kt,Et=jt)}),Et},ft=function(we,Me,$e,at){var dt,vt=[],Tt=!1,Et=j((0,o.CM)(we));try{for(Et.s();!(dt=Et.n()).done;){var jt=dt.value;jt.op==="move"?(Tt=!Tt)&&vt.push([jt.data[0],jt.data[1]]):jt.op==="bcurveTo"?Tt&&(vt.push([jt.data[0],jt.data[1]]),vt.push([jt.data[2],jt.data[3]]),vt.push([jt.data[4],jt.data[5]])):jt.op==="lineTo"&&Tt&&vt.push([jt.data[0],jt.data[1]])}}catch(Gt){Et.e(Gt)}finally{Et.f()}if(vt.length>=4){if(at==="sharp")return(0,f.c9)(vt,Me,$e);var Kt=(0,r.sU)(vt,10,5);return(0,f.c9)(Kt,Me,$e)}return!1},ze=function(we,Me,$e,at){var dt=(0,o.CM)(we),vt=[0,0];return dt.some(function(Tt,Et){var jt=Tt.op,Kt=Tt.data;if(jt==="move")vt=Kt;else{if(jt==="bcurveTo"){var Gt=[Kt[0],Kt[1]],Ht=[Kt[2],Kt[3]],$t=[Kt[4],Kt[5]],pn=vt;vt=$t;var _t=function(xt,At,It,Mt,Nt,Yt){for(var ln=(0,_.Z)(Nt,2),an=ln[0],kn=ln[1],Tn=function(en,Jt){return Math.pow(1-en,3)*Mt[Jt]+3*en*Math.pow(1-en,2)*It[Jt]+3*Math.pow(en,2)*(1-en)*At[Jt]+xt[Jt]*Math.pow(en,3)},zn=0;zn<=1;){var un=Tn(zn,0),zt=Tn(zn,1);if(Math.sqrt(Math.pow(un-an,2)+Math.pow(zt-kn,2))<Yt)return!0;zn+=.01}return!1}(pn,Gt,Ht,$t,[Me,$e],at);return _t}if(jt==="lineTo")return ft(we,Me,$e,"sharp");jt==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},761:function(te,t,e){e.d(t,{LM:function(){return b},eX:function(){return z},g0:function(){return c},uU:function(){return s},xm:function(){return B}});var _=e(7169),g=e(2577),p=e(2767),y=e(9937),T=e(8227),E=e(9827),a=e(7652),u=e(5742),N=e(4761),H=e(4183),x=e(8020);function m(j,C){var A=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!A){if(Array.isArray(j)||(A=function(J,ee){if(J){if(typeof J=="string")return k(J,ee);var he=Object.prototype.toString.call(J).slice(8,-1);if(he==="Object"&&J.constructor&&(he=J.constructor.name),he==="Map"||he==="Set")return Array.from(J);if(he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return k(J,ee)}}(j))||C){A&&(j=A);var Y=0,ie=function(){};return{s:ie,n:function(){return Y>=j.length?{done:!0}:{done:!1,value:j[Y++]}},e:function(J){throw J},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,ce=!0,de=!1;return{s:function(){A=A.call(j)},n:function(){var J=A.next();return ce=J.done,J},e:function(J){de=!0,le=J},f:function(){try{ce||A.return==null||A.return()}finally{if(de)throw le}}}}function k(j,C){(C==null||C>j.length)&&(C=j.length);for(var A=0,Y=new Array(C);A<C;A++)Y[A]=j[A];return Y}function Q(j,C){var A=Object.keys(j);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(j);C&&(Y=Y.filter(function(ie){return Object.getOwnPropertyDescriptor(j,ie).enumerable})),A.push.apply(A,Y)}return A}function ue(j){for(var C=1;C<arguments.length;C++){var A=arguments[C]!=null?arguments[C]:{};C%2?Q(Object(A),!0).forEach(function(Y){(0,_.Z)(j,Y,A[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(A)):Q(Object(A)).forEach(function(Y){Object.defineProperty(j,Y,Object.getOwnPropertyDescriptor(A,Y))})}return j}var me=new Map,ye=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,fe=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}\.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,G=/^https:\/\/(?:www\.)?figma\.com/,$=/^https:\/\/gist\.github\.com\/([\w_-]+)\/([\w_-]+)/,U=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist\.github\.com\/.*?)\.js["']/i,L=/(?:https?:\/\/)?(?:(?:w){3}\.)?(?:twitter|x)\.com\/[^/]+\/status\/(\d+)/,F=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:twitter|x)\.com\/[^"']*)/i,I=/^https:\/\/(?:www\.)?val\.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,P=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,w=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,f=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com"]),r=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com"]),o=function(j){return"<html><body>".concat(j,"</body></html>")},b=function(j){if(!j)return null;if(me.has(j))return me.get(j);var C=j,A=r.has(S(j,r)||""),Y="generic",ie={w:560,h:840},le=j.match(ye);if(le!=null&&le[2]){var ce=le[3]?"&start=".concat(le[3]):"",de=j.includes("shorts");switch(Y="video",le[1]){case"embed/":case"watch?v=":case"shorts/":default:j="https://www.youtube.com/embed/".concat(le[2],"?enablejsapi=1").concat(ce);break;case"playlist?list=":case"embed/videoseries?list=":j="https://www.youtube.com/embed/videoseries?list=".concat(le[2],"&enablejsapi=1").concat(ce)}return ie=de?{w:315,h:560}:{w:560,h:315},me.set(C,{link:j,aspectRatio:ie,type:Y,sandbox:{allowSameOrigin:A}}),{link:j,aspectRatio:ie,type:Y,sandbox:{allowSameOrigin:A}}}var J=j.match(fe);if(J!=null&&J[1]){var ee=J?.[1],he=/^\d+$/.test(ee)?void 0:(0,T.t)("toast.unrecognizedLinkFormat");return Y="video",j="https://player.vimeo.com/video/".concat(ee,"?api=1"),ie={w:560,h:315},me.set(C,{link:j,aspectRatio:ie,type:Y,sandbox:{allowSameOrigin:A}}),{link:j,aspectRatio:ie,type:Y,warning:he,sandbox:{allowSameOrigin:A}}}if(j.match(G))return Y="generic",j="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(j)),ie={w:550,h:550},me.set(C,{link:j,aspectRatio:ie,type:Y,sandbox:{allowSameOrigin:A}}),{link:j,aspectRatio:ie,type:Y,sandbox:{allowSameOrigin:A}};var Pe=j.match(I);if(Pe)return j=Pe[1]==="embed"?Pe[0]:Pe[0].replace("/v","/embed"),me.set(C,{link:j,aspectRatio:ie,type:Y,sandbox:{allowSameOrigin:A}}),{link:j,aspectRatio:ie,type:Y,sandbox:{allowSameOrigin:A}};if(L.test(j)){var He=j.match(L)[1],Ke=(0,x.tO)("https://twitter.com/x/status/".concat(He)),Ae={type:"document",srcdoc:function(D){return o('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(D,'"><a href="').concat(Ke,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},aspectRatio:{w:480,h:480},sandbox:{allowSameOrigin:A}};return me.set(C,Ae),Ae}if($.test(j)){var Oe=j.match($),Te=(0,g.Z)(Oe,3),De=Te[1],ke=Te[2],be=(0,x.tO)("https://gist.github.com/".concat(De,"/").concat(ke)),ve={type:"document",srcdoc:function(){return o(`
          <script src="`.concat(be,`.js"><\/script>
          <style type="text/css">
            * { margin: 0px; }
            table, .gist { height: 100%; }
            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
          </style>
        `))},aspectRatio:{w:550,h:720},sandbox:{allowSameOrigin:A}};return me.set(j,ve),ve}return me.set(j,{link:j,aspectRatio:ie,type:Y,sandbox:{allowSameOrigin:A}}),{link:j,aspectRatio:ie,type:Y,sandbox:{allowSameOrigin:A}}},s=function(j){if((0,H.gs)(j))return!0;if(j.type==="text"){var C=(0,N.tl)(j);if(C&&(0,H.gs)(C))return!0}return!1},c=function(j){var C,A=j.link&&j?.link!==""?j.link:"Empty Web-Embed",Y=Math.max(Math.min(j.width/2,j.width/A.length),j.width/30),ie=y.ut.Helvetica,le=(0,E.mO)({fontSize:Y,fontFamily:ie});return(0,u.VL)({x:j.x+j.width/2,y:j.y+j.height/2,strokeColor:j.strokeColor!=="transparent"?j.strokeColor:"black",backgroundColor:"transparent",fontFamily:ie,fontSize:Y,text:(0,N.lD)(A,le,j.width-20),textAlign:"center",verticalAlign:y.oX.MIDDLE,angle:(C=j.angle)!==null&&C!==void 0?C:0})},S=((0,p.z)({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},perform:function(j,C,A,Y){var ie=(0,E.Om)(C,{type:"embeddable"});return(0,a.Uk)(Y.canvas,ue(ue({},C),{},{activeTool:ie})),{elements:j,appState:ue(ue({},C),{},{activeTool:(0,E.Om)(C,{type:"embeddable"})}),commitToHistory:!1}}}),function(j,C){try{var A=new URL(j).hostname.replace(/^www\./,"");if(C instanceof Set){if(f.has(A))return A;var Y=A.replace(/^([^.]+)/,"*");return f.has(Y)?Y:null}var ie=C.replace(/^www\./,"");if(A===ie)return ie}catch{}return null}),z=function(j){var C=j.match(F);if(C&&C.length===2)return C[1];var A=j.match(U);if(A&&A.length===2)return A[1];if(w.test(j))return"https://giphy.com/embed/".concat(w.exec(j)[1]);var Y=j.match(P);return Y&&Y.length===2?Y[1]:j},B=function(j,C){if(!j)return!1;if(C!=null)if(typeof C=="function"){var A=C(j);if(typeof A=="boolean")return A}else{if(typeof C=="boolean")return C;if(C instanceof RegExp)return C.test(j);if(Array.isArray(C)){var Y,ie=m(C);try{for(ie.s();!(Y=ie.n()).done;){var le=Y.value;if(le instanceof RegExp){if(j.match(le))return!0}else if(S(j,le))return!0}}catch(ce){ie.e(ce)}finally{ie.f()}return!1}}return!!S(j,f)}},4178:function(te,t,e){e.d(t,{PK:function(){return x},Xx:function(){return m},bp:function(){return Q},oA:function(){return k}});var _=e(2577),g=e(7169),p=e(8950),y=e(2975),T=e.n(y),E=e(9937),a=e(8227),u=e(4183);function N(ue,me){var ye=Object.keys(ue);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(ue);me&&(fe=fe.filter(function(G){return Object.getOwnPropertyDescriptor(ue,G).enumerable})),ye.push.apply(ye,fe)}return ye}function H(ue){for(var me=1;me<arguments.length;me++){var ye=arguments[me]!=null?arguments[me]:{};me%2?N(Object(ye),!0).forEach(function(fe){(0,g.Z)(ue,fe,ye[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(ye)):N(Object(ye)).forEach(function(fe){Object.defineProperty(ue,fe,Object.getOwnPropertyDescriptor(ye,fe))})}return ue}var x=function(ue){return new Promise(function(me,ye){var fe=new Image;fe.onload=function(){me(fe)},fe.onerror=function(G){ye(G)},fe.src=ue})},m=function(){var ue=(0,p.Z)(T().mark(function me(ye){var fe,G,$,U,L;return T().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return fe=ye.fileIds,G=ye.files,$=ye.imageCache,U=new Map,L=new Map,F.next=5,Promise.all(fe.reduce(function(I,P){var w=G[P];return w&&!U.has(P)?(U.set(P,!0),I.concat((0,p.Z)(T().mark(function f(){var r,o,b;return T().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,w.mimeType!==E.LO.binary){s.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return r=x(w.dataURL),o={image:r,mimeType:w.mimeType},$.set(P,o),s.next=8,r;case 8:b=s.sent,$.set(P,H(H({},o),{},{image:b})),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(0),L.set(P,!0);case 15:case"end":return s.stop()}},f,null,[[0,12]])}))())):I},[]));case 5:return F.abrupt("return",{imageCache:$,updatedFiles:U,erroredFiles:L});case 6:case"end":return F.stop()}},me)}));return function(me){return ue.apply(this,arguments)}}(),k=function(ue){return ue.filter(function(me){return(0,u.wi)(me)})},Q=function(){var ue=(0,p.Z)(T().mark(function me(ye){var fe,G,$,U,L,F,I;return T().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(fe=new DOMParser().parseFromString(ye,E.LO.svg),G=fe.querySelector("svg"),!fe.querySelector("parsererror")&&((w=G)==null?void 0:w.nodeName.toLowerCase())==="svg"){P.next=7;break}throw new Error((0,a.t)("errors.invalidSVGString"));case 7:return G.hasAttribute("xmlns")||G.setAttribute("xmlns",E.hR),G.hasAttribute("width")&&G.hasAttribute("height")||($=G.getAttribute("viewBox"),U=G.getAttribute("width")||"50",L=G.getAttribute("height")||"50",$&&(F=$.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(I=(0,_.Z)(F,3),U=I[1],L=I[2]),G.setAttribute("width",U),G.setAttribute("height",L)),P.abrupt("return",G.outerHTML);case 10:case"end":return P.stop()}var w},me)}));return function(me){return ue.apply(this,arguments)}}()},7651:function(te,t,e){e.d(t,{ox:function(){return E.ox},BQ:function(){return A},_M:function(){return Y},EJ:function(){return w},o8:function(){return L},Sy:function(){return y.Sy},Y5:function(){return T.Y5},os:function(){return T.os},KP:function(){return T.KP},Un:function(){return ue},UC:function(){return T.UC},$V:function(){return P},qf:function(){return T.qf},Pi:function(){return T.Pi},jt:function(){return m},o4:function(){return g.o4},Lm:function(){return z},Xf:function(){return B},Qp:function(){return g.Qp},T:function(){return me.T},xx:function(){return me.xx},Uo:function(){return c},n2:function(){return k},PC:function(){return E.PC},kK:function(){return E.kK},n_:function(){return S},wX:function(){return a.wX},r2:function(){return p.r2},He:function(){return p.He},wB:function(){return a.wB},QD:function(){return g.QD},qP:function(){return j},iB:function(){return p.iB},Up:function(){return y.Up},vw:function(){return y.vw},y8:function(){return y.y8},VL:function(){return y.VL},oN:function(){return G.oN},JZ:function(){return y.JZ},RT:function(){return o},b_:function(){return f.b_},vY:function(){return me.vY},N_:function(){return y.N_}});var _=e(7169),g=e(7935),p=e(4183),y=e(5742),T=e(4949),E=e(4048),a=e(3528),u=e(2577),N=e(2726),H=["rotation"],x=function(ie,le,ce){return le>=ie[0]&&le<=ie[0]+ie[2]&&ce>=ie[1]&&ce<=ie[1]+ie[3]},m=function(ie,le,ce,de,J,ee){return ie.reduce(function(he,Pe){if(he)return he;var He=function(Ke,Ae,Oe,Te,De,ke){if(!Ae.selectedElementIds[Ke.id])return!1;var be=(0,E.PC)(Ke,De,ke),ve=be.rotation,D=(0,N.Z)(be,H);if(ve&&x(ve,Oe,Te))return"rotation";var l=Object.keys(D).filter(function(d){var M=D[d];return!!M&&x(M,Oe,Te)});return l.length>0&&l[0]}(Pe,le,ce,de,J,ee);return He?{element:Pe,transformHandleType:He}:null},null)},k=function(ie,le,ce,de,J){var ee=(0,u.Z)(ie,4),he=ee[0],Pe=ee[1],He=ee[2],Ke=ee[3],Ae=(0,E.kK)([he,Pe,He,Ke,(he+He)/2,(Pe+Ke)/2],0,de,J,E.ox);return Object.keys(Ae).find(function(Oe){var Te=Ae[Oe];return Te&&x(Te,le,ce)})||!1},Q=["ns","nesw","ew","nwse"],ue=function(ie){var le=ie.element,ce=ie.transformHandleType,de=le&&Math.sign(le.height)*Math.sign(le.width)==-1,J=null;switch(ce){case"n":case"s":J="ns";break;case"w":case"e":J="ew";break;case"nw":case"se":J=de?"nesw":"nwse";break;case"ne":case"sw":J=de?"nwse":"nesw";break;case"rotation":return"grab"}return J&&le&&(J=function(ee,he){var Pe=Q.indexOf(ee);if(Pe>=0){var He=Math.round(he/(Math.PI/4));ee=Q[(Pe+He)%Q.length]}return ee}(J,le.angle)),J?"".concat(J,"-resize"):""},me=e(4381),ye=e(9645),fe=e(583),G=e(4761),$=e(9215),U=e(2361),L=function(ie,le,ce,de,J,ee,he){var Pe=new Set(le),He=le.filter(function(Oe){return(0,p.He)(Oe)}).map(function(Oe){return Oe.id});He.length>0&&J.getNonDeletedElements().filter(function(Oe){return!(0,p.Xh)(Oe)}).filter(function(Oe){return Oe.frameId!==null}).filter(function(Oe){return He.includes(Oe.frameId)}).forEach(function(Oe){return Pe.add(Oe)});var Ke=(0,T.KP)(Array.from(Pe).map(function(Oe){var Te;return(Te=ie.originalElements.get(Oe.id))!==null&&Te!==void 0?Te:Oe})),Ae=F(Ke,ce,ee,he);Pe.forEach(function(Oe){if(I(ie,Oe,Ae),!(0,p.Yv)(Oe)&&(!Oe.groupIds.length||de.editingGroupId&&!(0,$.zq)(de,Oe))){var Te=(0,G.WJ)(Oe);Te&&I(ie,Te,Ae)}(0,ye.Ww)(Oe,{simultaneouslyUpdated:Array.from(Pe)})})},F=function(ie,le,ce,de){var J=(0,u.Z)(ie,2),ee=J[0],he=J[1],Pe=ee+le.x+ce.x,He=he+le.y+ce.y;if(ce.x===0||ce.y===0){var Ke=(0,U.wC)(ee+le.x,he+le.y,de),Ae=(0,u.Z)(Ke,2),Oe=Ae[0],Te=Ae[1];ce.x===0&&(Pe=Oe),ce.y===0&&(He=Te)}return{x:Pe-ee,y:He-he}},I=function(ie,le,ce){var de,J=(de=ie.originalElements.get(le.id))!==null&&de!==void 0?de:le,ee=J.x+ce.x,he=J.y+ce.y;(0,fe.DR)(le,{x:ee,y:he})},P=function(ie,le,ce){var de=(0,T.KP)(ie),J=(0,u.Z)(de,2);return[le-J[0],ce-J[1]]},w=function(ie,le,ce,de,J,ee,he,Pe,He,Ke,Ae){var Oe=arguments.length>11&&arguments[11]!==void 0?arguments[11]:null;if(He&&ie.type!=="selection")if(Ae)Pe=he/Ae;else{if(Math.abs(ee-de)>Math.abs(J-ce)){var Te=(0,g.uK)(le,Pe,J<ce?-he:he);he=Te.width,Pe=Te.height}else{var De=(0,g.uK)(le,he,ee<de?-Pe:Pe);he=De.width,Pe=De.height}Pe<0&&(Pe=-Pe)}var ke,be,ve=J<ce?ce-he:ce,D=ee<de?de-Pe:de;Ke&&(ve=ce-(he+=he)/2,D=de-(Pe+=Pe)/2),he!==0&&Pe!==0&&(0,fe.DR)(ie,{x:ve+((ke=Oe?.x)!==null&&ke!==void 0?ke:0),y:D+((be=Oe?.y)!==null&&be!==void 0?be:0),width:he,height:Pe})},f=e(3474),r=e(4105),o=function(ie,le){return!!(!ie.viewModeEnabled&&(ie.activeTool.type!=="custom"&&(ie.editingElement||ie.activeTool.type!=="selection"&&ie.activeTool.type!=="eraser"&&ie.activeTool.type!=="hand"&&ie.activeTool.type!=="laser")||(0,r.eD)(le,ie).length))};function b(ie,le){var ce=Object.keys(ie);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(ie);le&&(de=de.filter(function(J){return Object.getOwnPropertyDescriptor(ie,J).enumerable})),ce.push.apply(ce,de)}return ce}function s(ie){for(var le=1;le<arguments.length;le++){var ce=arguments[le]!=null?arguments[le]:{};le%2?b(Object(ce),!0).forEach(function(de){(0,_.Z)(ie,de,ce[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(ce)):b(Object(ce)).forEach(function(de){Object.defineProperty(ie,de,Object.getOwnPropertyDescriptor(ce,de))})}return ie}var c=function(ie){return ie.reduce(function(le,ce){return le+ce.version},0)},S=function(ie){return ie.filter(function(le){return!le.isDeleted&&!(0,g.QD)(le)})},z=function(ie){return ie.filter(function(le){return!le.isDeleted})},B=function(ie){return ie.filter(function(le){return!le.isDeleted})},j=function(ie){return!ie.isDeleted},C=function(ie){return z(ie).map(function(le){return(0,p.dt)(le.type)?s(s({},le),{},{lastCommittedPoint:null}):le})},A=function(ie){return C(ie)},Y=function(ie){return C(ie)}},7422:function(te,t,e){e.d(t,{_:function(){return F}});var _=e(1930),g=e(7169),p=e(2577),y=e(8821),T=e(5169),E=e(2361),a=e(7651),u=e(4949),N=e(583),H=e(457),x=e(9645),m=e(9827),k=e(4183),Q=e(5491),ue=e(4761),me=e(9937),ye=e(2921);function fe(P,w){var f=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!f){if(Array.isArray(P)||(f=function(S,z){if(S){if(typeof S=="string")return G(S,z);var B=Object.prototype.toString.call(S).slice(8,-1);if(B==="Object"&&S.constructor&&(B=S.constructor.name),B==="Map"||B==="Set")return Array.from(S);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return G(S,z)}}(P))||w){f&&(P=f);var r=0,o=function(){};return{s:o,n:function(){return r>=P.length?{done:!0}:{done:!1,value:P[r++]}},e:function(S){throw S},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,s=!0,c=!1;return{s:function(){f=f.call(P)},n:function(){var S=f.next();return s=S.done,S},e:function(S){c=!0,b=S},f:function(){try{s||f.return==null||f.return()}finally{if(c)throw b}}}}function G(P,w){(w==null||w>P.length)&&(w=P.length);for(var f=0,r=new Array(w);f<w;f++)r[f]=P[f];return r}function $(P,w){var f=Object.keys(P);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(P);w&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(P,o).enumerable})),f.push.apply(f,r)}return f}function U(P){for(var w=1;w<arguments.length;w++){var f=arguments[w]!=null?arguments[w]:{};w%2?$(Object(f),!0).forEach(function(r){(0,g.Z)(P,r,f[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(f)):$(Object(f)).forEach(function(r){Object.defineProperty(P,r,Object.getOwnPropertyDescriptor(f,r))})}return P}var L={version:null,points:[],zoom:null},F=function(){function P(w,f){(0,y.Z)(this,P),this.elementId=w.id,H.Z.mapElementToScene(this.elementId,f),P.normalizePoints(w),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,T.Z)(P,null,[{key:"getElement",value:function(w){var f,r=(f=H.Z.getScene(w))===null||f===void 0?void 0:f.getNonDeletedElement(w);return r||null}},{key:"handleBoxSelection",value:function(w,f,r){var o;if(!f.editingLinearElement||((o=f.draggingElement)===null||o===void 0?void 0:o.type)!=="selection")return!1;var b=f.editingLinearElement,s=b.selectedPointsIndices,c=b.elementId,S=P.getElement(c);if(!S)return!1;var z=(0,a.qf)(f.draggingElement),B=(0,p.Z)(z,4),j=B[0],C=B[1],A=B[2],Y=B[3],ie=P.getPointsGlobalCoordinates(S).reduce(function(le,ce,de){return(ce[0]>=j&&ce[0]<=A&&ce[1]>=C&&ce[1]<=Y||w.shiftKey&&s!=null&&s.includes(de))&&le.push(de),le},[]);r({editingLinearElement:U(U({},b),{},{selectedPointsIndices:ie.length?ie:null})})}},{key:"handlePointDragging",value:function(w,f,r,o,b,s){if(!s)return!1;var c=s.selectedPointsIndices,S=s.elementId,z=P.getElement(S);if(!z)return!1;var B=z.points[s.pointerDownState.lastClickedPoint];if(c&&B){if((0,Q.Ge)(w)&&c.length===1&&z.points.length>1){var j=c[0],C=z.points[j===0?1:j-1],A=P._getShiftLockedDelta(z,C,[r,o],w[Q.tW.CTRL_OR_CMD]?null:f.gridSize),Y=(0,p.Z)(A,2),ie=Y[0],le=Y[1];P.movePoints(z,[{index:j,point:[ie+C[0],le+C[1]],isDragging:j===s.pointerDownState.lastClickedPoint}])}else{var ce=P.createPointAt(z,r-s.pointerOffset.x,o-s.pointerOffset.y,w[Q.tW.CTRL_OR_CMD]?null:f.gridSize),de=ce[0]-B[0],J=ce[1]-B[1];P.movePoints(z,c.map(function(Pe){return{index:Pe,point:Pe===s.pointerDownState.lastClickedPoint?P.createPointAt(z,r-s.pointerOffset.x,o-s.pointerOffset.y,w[Q.tW.CTRL_OR_CMD]?null:f.gridSize):[z.points[Pe][0]+de,z.points[Pe][1]+J],isDragging:Pe===s.pointerDownState.lastClickedPoint}}))}if((0,ue.WJ)(z)&&(0,ue.RB)(z,!1),(0,k.Mn)(z,!1)){var ee=[];c[0]===0&&ee.push((0,m.AK)(P.getPointGlobalCoordinates(z,z.points[0])));var he=c[c.length-1];he===z.points.length-1&&ee.push((0,m.AK)(P.getPointGlobalCoordinates(z,z.points[he]))),ee.length&&b(z,ee)}return!0}return!1}},{key:"handlePointerUp",value:function(w,f,r){var o,b=f.elementId,s=f.selectedPointsIndices,c=f.isDragging,S=f.pointerDownState,z=P.getElement(b);if(!z)return f;var B={};if(c&&s){var j,C=fe(s);try{for(C.s();!(j=C.n()).done;){var A=j.value;if(A===0||A===z.points.length-1){(0,E.g6)(z.points,r.zoom.value)&&P.movePoints(z,[{index:A,point:A===0?z.points[z.points.length-1]:z.points[0]}]);var Y=(0,x.N1)(r)?(0,x.Y9)((0,m.AK)(P.getPointAtIndexGlobalCoordinates(z,A)),H.Z.getScene(z)):null;B[A===0?"startBindingElement":"endBindingElement"]=Y}}}catch(ie){C.e(ie)}finally{C.f()}}return U(U(U({},f),B),{},{selectedPointsIndices:c||w.shiftKey?!c&&w.shiftKey&&(o=S.prevSelectedPointsIndices)!==null&&o!==void 0&&o.includes(S.lastClickedPoint)?s&&s.filter(function(ie){return ie!==S.lastClickedPoint}):s:s!=null&&s.includes(S.lastClickedPoint)?[S.lastClickedPoint]:s,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(w,f,r,o){var b=(0,E.LW)(f[0],f[1],r[0],r[1]);return w.points.length>2&&w.roundness&&(b=(0,E.eH)(w,r)),b*o.value<4*P.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(w,f,r,o){var b=(0,E.H5)(f,r);if(w.points.length>2&&w.roundness){var s=(0,E.yB)(w,w.points[o]);if(s){var c=(0,E.lk)(w,w.points[o],.5),S=(0,E.N_)(s[0],s[1],s[2],s[3],c),z=(0,p.Z)(S,2),B=z[0],j=z[1];b=P.getPointGlobalCoordinates(w,[B,j])}}return b}},{key:"getSegmentMidPointIndex",value:function(w,f,r){var o=P.getElement(w.elementId);if(!o)return-1;for(var b=P.getEditorMidPoints(o,f),s=0;s<b.length;){if(P.arePointsEqual(r,b[s]))return s+1;s++}return-1}},{key:"handlePointerDown",value:function(w,f,r,o,b){var s,c={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!b)return c;var S=b.elementId,z=P.getElement(S);if(!z)return c;var B=P.getSegmentMidpointHitCoords(b,o,f),j=null;if(B&&(j=P.getSegmentMidPointIndex(b,f,B)),w.altKey&&f.editingLinearElement)return b.lastUncommittedPoint==null&&((0,N.DR)(z,{points:[].concat((0,_.Z)(z.points),[P.createPointAt(z,o.x,o.y,w[Q.tW.CTRL_OR_CMD]?null:f.gridSize)])}),c.didAddPoint=!0),r.resumeRecording(),c.linearElementEditor=U(U({},b),{},{pointerDownState:{prevSelectedPointsIndices:b.selectedPointsIndices,lastClickedPoint:-1,origin:{x:o.x,y:o.y},segmentMidpoint:{value:B,index:j,added:!1}},selectedPointsIndices:[z.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,x.Y9)(o,H.Z.getScene(z))}),c.didAddPoint=!0,c;var C=P.getPointIndexUnderCursor(z,f.zoom,o.x,o.y);if(C>=0||B)c.hitElement=z;else{var A=b.startBindingElement,Y=b.endBindingElement;(0,x.N1)(f)&&(0,k.Mn)(z)&&(0,x.HG)(z,A,Y)}var ie=(0,a.qf)(z),le=(0,p.Z)(ie,4),ce=le[0],de=le[1],J=(ce+le[2])/2,ee=(de+le[3])/2,he=C>-1&&(0,E.U1)(z.x+z.points[C][0],z.y+z.points[C][1],J,ee,z.angle),Pe=C>-1||w.shiftKey?w.shiftKey||(s=b.selectedPointsIndices)!==null&&s!==void 0&&s.includes(C)?I([].concat((0,_.Z)(b.selectedPointsIndices||[]),[C])):[C]:null;return c.linearElementEditor=U(U({},b),{},{pointerDownState:{prevSelectedPointsIndices:b.selectedPointsIndices,lastClickedPoint:C,origin:{x:o.x,y:o.y},segmentMidpoint:{value:B,index:j,added:!1}},selectedPointsIndices:Pe,pointerOffset:he?{x:o.x-he[0],y:o.y-he[1]}:{x:0,y:0}}),c}},{key:"arePointsEqual",value:function(w,f){return!w&&!f||!(!w||!f)&&(0,E.Jj)(w,f)}},{key:"handlePointerMove",value:function(w,f,r,o){if(!o.editingLinearElement)return null;var b=o.editingLinearElement,s=b.elementId,c=b.lastUncommittedPoint,S=P.getElement(s);if(!S)return o.editingLinearElement;var z,B=S.points,j=B[B.length-1];if(!w.altKey)return j===c&&P.deletePoints(S,[B.length-1]),U(U({},o.editingLinearElement),{},{lastUncommittedPoint:null});if((0,Q.Ge)(w)&&B.length>=2){var C=B[B.length-2],A=P._getShiftLockedDelta(S,C,[f,r],w[Q.tW.CTRL_OR_CMD]?null:o.gridSize),Y=(0,p.Z)(A,2),ie=Y[0],le=Y[1];z=[ie+C[0],le+C[1]]}else z=P.createPointAt(S,f-o.editingLinearElement.pointerOffset.x,r-o.editingLinearElement.pointerOffset.y,w[Q.tW.CTRL_OR_CMD]?null:o.gridSize);return j===c?P.movePoints(S,[{index:S.points.length-1,point:z}]):P.addPoints(S,o,[{point:z}]),U(U({},o.editingLinearElement),{},{lastUncommittedPoint:S.points[S.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(w,f){var r=(0,a.qf)(w),o=(0,p.Z)(r,4),b=o[0],s=o[1],c=(b+o[2])/2,S=(s+o[3])/2,z=w.x,B=w.y,j=(0,E.U1)(z+f[0],B+f[1],c,S,w.angle),C=(0,p.Z)(j,2);return[z=C[0],B=C[1]]}},{key:"getPointsGlobalCoordinates",value:function(w){var f=(0,a.qf)(w),r=(0,p.Z)(f,4),o=r[0],b=r[1],s=r[2],c=r[3],S=(o+s)/2,z=(b+c)/2;return w.points.map(function(B){var j=w.x,C=w.y,A=(0,E.U1)(j+B[0],C+B[1],S,z,w.angle),Y=(0,p.Z)(A,2);return[j=Y[0],C=Y[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(w,f){var r=f<0?w.points.length+f:f,o=(0,a.qf)(w),b=(0,p.Z)(o,4),s=b[0],c=b[1],S=(s+b[2])/2,z=(c+b[3])/2,B=w.points[r],j=w.x,C=w.y;return B?(0,E.U1)(j+B[0],C+B[1],S,z,w.angle):(0,E.U1)(j,C,S,z,w.angle)}},{key:"pointFromAbsoluteCoords",value:function(w,f){var r=(0,a.qf)(w),o=(0,p.Z)(r,4),b=o[0],s=o[1],c=(b+o[2])/2,S=(s+o[3])/2,z=(0,E.U1)(f[0],f[1],c,S,-w.angle),B=(0,p.Z)(z,2),j=B[0],C=B[1];return[j-w.x,C-w.y]}},{key:"getPointIndexUnderCursor",value:function(w,f,r,o){for(var b=P.getPointsGlobalCoordinates(w),s=b.length;--s>-1;){var c=b[s];if((0,E.LW)(r,o,c[0],c[1])*f.value<P.POINT_HANDLE_SIZE+1)return s}return-1}},{key:"createPointAt",value:function(w,f,r,o){var b=(0,E.wC)(f,r,o),s=(0,a.qf)(w),c=(0,p.Z)(s,4),S=c[0],z=c[1],B=(S+c[2])/2,j=(z+c[3])/2,C=(0,E.U1)(b[0],b[1],B,j,-w.angle),A=(0,p.Z)(C,2),Y=A[0],ie=A[1];return[Y-w.x,ie-w.y]}},{key:"getNormalizedPoints",value:function(w){var f=w.points,r=f[0][0],o=f[0][1];return{points:f.map(function(b,s){return[b[0]-r,b[1]-o]}),x:w.x+r,y:w.y+o}}},{key:"normalizePoints",value:function(w){(0,N.DR)(w,P.getNormalizedPoints(w))}},{key:"duplicateSelectedPoints",value:function(w){if(!w.editingLinearElement)return!1;var f=w.editingLinearElement,r=f.selectedPointsIndices,o=f.elementId,b=P.getElement(o);if(!b||r===null)return!1;var s=b.points,c=[],S=!1,z=-1,B=s.reduce(function(C,A,Y){if(++z,C.push(A),r.includes(Y)){var ie=s[Y+1];ie||(S=!0),C.push(ie?[(A[0]+ie[0])/2,(A[1]+ie[1])/2]:[A[0],A[1]]),c.push(z+1),++z}return C},[]);if((0,N.DR)(b,{points:B}),S){var j=b.points[b.points.length-1];P.movePoints(b,[{index:b.points.length-1,point:[j[0]+30,j[1]+30]}])}return{appState:U(U({},w),{},{editingLinearElement:U(U({},w.editingLinearElement),{},{selectedPointsIndices:c})})}}},{key:"deletePoints",value:function(w,f){var r=0,o=0;if(f.includes(0)){var b=w.points.find(function(c,S){return!f.includes(S)});b&&(r=b[0],o=b[1])}var s=w.points.reduce(function(c,S,z){return f.includes(z)||c.push(c.length?[S[0]-r,S[1]-o]:[0,0]),c},[]);P._updatePoints(w,s,r,o)}},{key:"addPoints",value:function(w,f,r){var o=[].concat((0,_.Z)(w.points),(0,_.Z)(r.map(function(b){return b.point})));P._updatePoints(w,o,0,0)}},{key:"movePoints",value:function(w,f,r){var o=w.points,b=0,s=0,c=f.find(function(z){return z.index===0});c&&(b=c.point[0]+o[c.index][0],s=c.point[1]+o[c.index][1]);var S=o.map(function(z,B){var j=f.find(function(Y){return Y.index===B});if(j){if(c)return z;var C=j.point[0]-o[j.index][0],A=j.point[1]-o[j.index][1];return[z[0]+C,z[1]+A]}return b||s?[z[0]-b,z[1]-s]:z});P._updatePoints(w,S,b,s,r)}},{key:"shouldAddMidpoint",value:function(w,f,r){if(!P.getElement(w.elementId))return!1;var o=w.pointerDownState.segmentMidpoint;if(o.added||o.value===null||o.index===null||w.pointerDownState.origin===null)return!1;var b=w.pointerDownState.origin,s=(0,E.LW)(b.x,b.y,f.x,f.y);return!(!r.editingLinearElement&&s<me.f/r.zoom.value)}},{key:"addMidpoint",value:function(w,f,r,o){var b=P.getElement(w.elementId);if(b){var s=w.pointerDownState.segmentMidpoint,c={pointerDownState:w.pointerDownState,selectedPointsIndices:w.selectedPointsIndices},S=P.createPointAt(b,f.x,f.y,o?r.gridSize:null),z=[].concat((0,_.Z)(b.points.slice(0,s.index)),[S],(0,_.Z)(b.points.slice(s.index)));return(0,N.DR)(b,{points:z}),c.pointerDownState=U(U({},w.pointerDownState),{},{segmentMidpoint:U(U({},w.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:s.index}),c.selectedPointsIndices=[s.index],c}}},{key:"_updatePoints",value:function(w,f,r,o,b){var s=(0,u.Ut)(w,f),c=(0,u.Ut)(w,w.points),S=(s[0]+s[2])/2,z=(s[1]+s[3])/2,B=(c[0]+c[2])/2-S,j=(c[1]+c[3])/2-z,C=(0,E.U1)(r,o,B,j,w.angle);(0,N.DR)(w,U(U({},b),{},{points:f,x:w.x+C[0],y:w.y+C[1]}))}},{key:"_getShiftLockedDelta",value:function(w,f,r,o){var b=P.getPointGlobalCoordinates(w,f),s=(0,E.wC)(r[0],r[1],o),c=(0,p.Z)(s,2),S=c[0],z=c[1],B=(0,a.o4)(b[0],b[1],S,z),j=B.width,C=B.height;return(0,E.xj)([j,C],[0,0],-w.angle)}}]),P}();F.POINT_HANDLE_SIZE=10,F.getEditorMidPoints=function(P,w){var f=(0,ue.WJ)(P);return!w.editingLinearElement&&P.points.length>2&&!f?[]:(L.version===P.version&&L.zoom===w.zoom.value||F.updateEditorMidPointsCache(P,w),L.points)},F.updateEditorMidPointsCache=function(P,w){for(var f=F.getPointsGlobalCoordinates(P),r=0,o=[];r<f.length-1;)if(F.isSegmentTooShort(P,P.points[r],P.points[r+1],w.zoom))o.push(null),r++;else{var b=F.getSegmentMidPoint(P,f[r],f[r+1],r+1);o.push(b),r++}L.points=o,L.version=P.version,L.zoom=w.zoom.value},F.getSegmentMidpointHitCoords=function(P,w,f){var r=P.elementId,o=F.getElement(r);if(!o||F.getPointIndexUnderCursor(o,f.zoom,w.x,w.y)>=0||F.getPointsGlobalCoordinates(o).length>=3&&!f.editingLinearElement)return null;var b=F.POINT_HANDLE_SIZE/f.zoom.value,s=P.segmentMidPointHoveredCoords;if(s&&(0,E.LW)(s[0],s[1],w.x,w.y)<=b)return s;for(var c=0,S=F.getEditorMidPoints(o,f);c<S.length;){if(S[c]!==null&&(0,E.LW)(S[c][0],S[c][1],w.x,w.y)<=b)return S[c];c++}return null},F.getBoundTextElementPosition=function(P,w){var f=F.getPointsGlobalCoordinates(P);f.length<2&&(0,N.DR)(w,{isDeleted:!0});var r=0,o=0;if(P.points.length%2==1){var b=Math.floor(P.points.length/2),s=F.getPointGlobalCoordinates(P,P.points[b]);r=s[0]-w.width/2,o=s[1]-w.height/2}else{var c=P.points.length/2-1,S=L.points[c];P.points.length===2&&(S=(0,E.H5)(f[0],f[1])),S&&L.version===P.version||(S=F.getSegmentMidPoint(P,f[c],f[c+1],c+1)),r=S[0]-w.width/2,o=S[1]-w.height/2}return{x:r,y:o}},F.getMinMaxXYWithBoundText=function(P,w,f){var r=(0,p.Z)(w,4),o=r[0],b=r[1],s=r[2],c=r[3],S=(o+s)/2,z=(b+c)/2,B=F.getBoundTextElementPosition(P,f),j=B.x,C=B.y,A=j+f.width,Y=C+f.height,ie=(0,E.xj)([o,b],[S,z],P.angle),le=(0,E.xj)([s,b],[S,z],P.angle),ce=(0,E.xj)([j,C],[S,z],-P.angle),de=(0,E.xj)([A,C],[S,z],-P.angle),J=(0,E.xj)([j,Y],[S,z],-P.angle),ee=(0,E.xj)([A,Y],[S,z],-P.angle);return ie[0]<le[0]&&ie[1]>=le[1]?(o=Math.min(o,J[0]),s=Math.max(s,Math.max(de[0],ee[0])),b=Math.min(b,ce[1]),c=Math.max(c,ee[1])):ie[0]>=le[0]&&ie[1]>le[1]?(o=Math.min(o,ee[0]),s=Math.max(s,Math.max(ce[0],de[0])),b=Math.min(b,J[1]),c=Math.max(c,de[1])):ie[0]>=le[0]?(o=Math.min(o,de[0]),s=Math.max(s,J[0]),b=Math.min(b,ee[1]),c=Math.max(c,ce[1])):ie[1]<=le[1]&&(o=Math.min(o,Math.min(de[0],ce[0])),s=Math.max(s,ee[0]),b=Math.min(b,de[1]),c=Math.max(c,J[1])),[o,b,s,c,S,z]},F.getElementAbsoluteCoords=function(P){var w,f,r,o,b,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(P.points.length<2||!ye.R.get(P)){var c=P.points.reduce(function(He,Ke){var Ae=(0,p.Z)(Ke,2),Oe=Ae[0],Te=Ae[1];return He.minY=Math.min(He.minY,Te),He.minX=Math.min(He.minX,Oe),He.maxX=Math.max(He.maxX,Oe),He.maxY=Math.max(He.maxY,Te),He},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),S=c.minX,z=c.minY,B=c.maxX,j=c.maxY;f=S+P.x,r=z+P.y,o=B+P.x,b=j+P.y}else{var C=ye.R.generateElementShape(P),A=(0,u.CM)(C[0]),Y=(0,u.IX)(A),ie=(0,p.Z)(Y,4),le=ie[0],ce=ie[1],de=ie[2],J=ie[3];f=le+P.x,r=ce+P.y,o=de+P.x,b=J+P.y}var ee=(f+o)/2,he=(r+b)/2;if(w=[f,r,o,b,ee,he],!s)return w;var Pe=(0,ue.WJ)(P);return Pe&&(w=F.getMinMaxXYWithBoundText(P,[f,r,o,b],Pe)),w};var I=function(P){var w=(0,_.Z)(new Set(P.filter(function(f){return f!==null&&f!==-1})));return(w=w.sort(function(f,r){return f-r})).length?w:null}},583:function(te,t,e){e.d(t,{BE:function(){return x},DR:function(){return H},ZP:function(){return m}});var _=e(6655),g=e(7169),p=e(457),y=e(5999),T=e(4643),E=e(9827),a=e(2921);function u(k,Q){var ue=Object.keys(k);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(k);Q&&(me=me.filter(function(ye){return Object.getOwnPropertyDescriptor(k,ye).enumerable})),ue.push.apply(ue,me)}return ue}function N(k){for(var Q=1;Q<arguments.length;Q++){var ue=arguments[Q]!=null?arguments[Q]:{};Q%2?u(Object(ue),!0).forEach(function(me){(0,g.Z)(k,me,ue[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(ue)):u(Object(ue)).forEach(function(me){Object.defineProperty(k,me,Object.getOwnPropertyDescriptor(ue,me))})}return k}var H=function(k,Q){var ue,me=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ye=!1,fe=Q,G=fe.points,$=fe.fileId;for(var U in G!==void 0&&(Q=N(N({},(0,y.k)(G)),Q)),Q){var L=Q[U];if(L!==void 0){if(k[U]===L&&((0,_.Z)(L)!=="object"||L===null||U==="groupIds"||U==="scale"))continue;if(U==="scale"){var F=k[U],I=L;if(F[0]===I[0]&&F[1]===I[1])continue}else if(U==="points"){var P=k[U],w=L;if(P.length===w.length){for(var f=!1,r=P.length;--r;){var o=P[r],b=w[r];if(o[0]!==b[0]||o[1]!==b[1]){f=!0;break}}if(!f)continue}}k[U]=L,ye=!0}}return ye&&(Q.height===void 0&&Q.width===void 0&&$===void 0&&G===void 0||a.R.delete(k),k.version++,k.versionNonce=(0,T.LU)(),k.updated=(0,E.C3)(),me&&((ue=p.Z.getScene(k))===null||ue===void 0||ue.informMutation())),k},x=function(k,Q){var ue=!1;for(var me in Q){var ye=Q[me];if(ye!==void 0){if(k[me]===ye&&((0,_.Z)(ye)!=="object"||ye===null))continue;ue=!0}}return ue?N(N(N({},k),Q),{},{updated:(0,E.C3)(),version:k.version+1,versionNonce:(0,T.LU)()}):k},m=function(k,Q){return k.version=(Q??k.version)+1,k.versionNonce=(0,T.LU)(),k.updated=(0,E.C3)(),k}},5742:function(te,t,e){e.d(t,{JZ:function(){return w},KE:function(){return r},M:function(){return U},M3:function(){return L},N_:function(){return f},OL:function(){return c},Sy:function(){return z},Up:function(){return $},VL:function(){return I},_N:function(){return B},vw:function(){return b},y8:function(){return o}});var _=e(6655),g=e(2577),p=e(7169),y=e(2726),T=e(9827),E=e(4643),a=e(583),u=e(9215),N=e(7651),H=e(2361),x=e(4949),m=e(4761),k=e(9937),Q=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","roundness","boundElements","link","locked"];function ue(j,C){var A=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!A){if(Array.isArray(j)||(A=function(J,ee){if(J){if(typeof J=="string")return me(J,ee);var he=Object.prototype.toString.call(J).slice(8,-1);if(he==="Object"&&J.constructor&&(he=J.constructor.name),he==="Map"||he==="Set")return Array.from(J);if(he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return me(J,ee)}}(j))||C){A&&(j=A);var Y=0,ie=function(){};return{s:ie,n:function(){return Y>=j.length?{done:!0}:{done:!1,value:j[Y++]}},e:function(J){throw J},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,ce=!0,de=!1;return{s:function(){A=A.call(j)},n:function(){var J=A.next();return ce=J.done,J},e:function(J){de=!0,le=J},f:function(){try{ce||A.return==null||A.return()}finally{if(de)throw le}}}}function me(j,C){(C==null||C>j.length)&&(C=j.length);for(var A=0,Y=new Array(C);A<C;A++)Y[A]=j[A];return Y}function ye(j,C){var A=Object.keys(j);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(j);C&&(Y=Y.filter(function(ie){return Object.getOwnPropertyDescriptor(j,ie).enumerable})),A.push.apply(A,Y)}return A}function fe(j){for(var C=1;C<arguments.length;C++){var A=arguments[C]!=null?arguments[C]:{};C%2?ye(Object(A),!0).forEach(function(Y){(0,p.Z)(j,Y,A[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(A)):ye(Object(A)).forEach(function(Y){Object.defineProperty(j,Y,Object.getOwnPropertyDescriptor(A,Y))})}return j}var G=function(j,C){var A,Y,ie=C.x,le=C.y,ce=C.strokeColor,de=ce===void 0?k.HN.strokeColor:ce,J=C.backgroundColor,ee=J===void 0?k.HN.backgroundColor:J,he=C.fillStyle,Pe=he===void 0?k.HN.fillStyle:he,He=C.strokeWidth,Ke=He===void 0?k.HN.strokeWidth:He,Ae=C.strokeStyle,Oe=Ae===void 0?k.HN.strokeStyle:Ae,Te=C.roughness,De=Te===void 0?k.HN.roughness:Te,ke=C.opacity,be=ke===void 0?k.HN.opacity:ke,ve=C.width,D=ve===void 0?0:ve,l=C.height,d=l===void 0?0:l,M=C.angle,V=M===void 0?0:M,q=C.groupIds,re=q===void 0?[]:q,ae=C.frameId,ge=ae===void 0?null:ae,Se=C.roundness,Re=Se===void 0?null:Se,Ye=C.boundElements,Ge=Ye===void 0?null:Ye,We=C.link,qe=We===void 0?null:We,lt=C.locked,ft=lt===void 0?k.HN.locked:lt,ze=(0,y.Z)(C,Q);return{id:ze.id||(0,E.kb)(),type:j,x:ie,y:le,width:D,height:d,angle:V,strokeColor:de,backgroundColor:ee,fillStyle:Pe,strokeWidth:Ke,strokeStyle:Oe,roughness:De,opacity:be,groupIds:re,frameId:ge,roundness:Re,seed:(A=ze.seed)!==null&&A!==void 0?A:(0,E.LU)(),version:ze.version||1,versionNonce:(Y=ze.versionNonce)!==null&&Y!==void 0?Y:0,isDeleted:!1,boundElements:Ge,updated:(0,T.C3)(),link:qe,locked:ft,customData:ze.customData}},$=function(j){return G(j.type,j)},U=function(j){return fe(fe({},G("embeddable",j)),{},{validated:j.validated})},L=function(j){return(0,a.BE)(fe(fe({},G("frame",j)),{},{type:"frame",name:j?.name||null}),{})},F=function(j,C){return{x:j.textAlign==="center"?C.width/2:j.textAlign==="right"?C.width:0,y:j.verticalAlign==="middle"?C.height/2:0}},I=function(j){var C=j.fontFamily||k.rk,A=j.fontSize||k.n5,Y=j.lineHeight||(0,m.PT)(C),ie=(0,m.bG)(j.text),le=(0,m.X1)(ie,(0,T.mO)({fontFamily:C,fontSize:A}),Y),ce=j.textAlign||k.Hg,de=j.verticalAlign||k.hs,J=F({textAlign:ce,verticalAlign:de},le);return(0,a.BE)(fe(fe({},G("text",j)),{},{text:ie,fontSize:A,fontFamily:C,textAlign:ce,verticalAlign:de,x:j.x-J.x,y:j.y-J.y,width:le.width,height:le.height,baseline:le.baseline,containerId:j.containerId||null,originalText:ie,lineHeight:Y}),{})},P=function(j,C){var A,Y,ie=(0,m.X1)(C,(0,T.mO)(j),j.lineHeight),le=ie.width,ce=ie.height,de=ie.baseline,J=j.textAlign,ee=j.verticalAlign;if(J!=="center"||ee!==k.oX.MIDDLE||j.containerId){var he=(0,N.qf)(j),Pe=(0,g.Z)(he,4),He=Pe[0],Ke=Pe[1],Ae=Pe[2],Oe=Pe[3],Te=(0,x.wC)(j,le,ce,!1),De=(0,g.Z)(Te,4),ke=(He-De[0])/2,be=(Ke-De[1])/2,ve=(Ae-De[2])/2,D=(Oe-De[3])/2,l=(0,H.yq)({s:!0,e:J==="center"||J==="left",w:J==="center"||J==="right"},j.x,j.y,j.angle,ke,be,ve,D),d=(0,g.Z)(l,2);A=d[0],Y=d[1]}else{var M=(0,m.X1)(j.text,(0,T.mO)(j),j.lineHeight),V=F(j,{width:le-M.width,height:ce-M.height});A=j.x-V.x,Y=j.y-V.y}return{width:le,height:ce,baseline:de,x:Number.isFinite(A)?A:j.x,y:Number.isFinite(Y)?Y:j.y}},w=function(j){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.text;if(!j.isDeleted){var A=(0,m.tl)(j);A&&(C=(0,m.lD)(C,(0,T.mO)(j),(0,m.iZ)(A)));var Y=P(j,C);return fe({text:C},Y)}},f=function(j,C){C.text;var A=C.isDeleted,Y=C.originalText;return(0,a.BE)(j,fe({originalText:Y,isDeleted:A??j.isDeleted},w(j,Y)))},r=function(j){return fe(fe({},G(j.type,j)),{},{points:j.points||[],pressures:[],simulatePressure:j.simulatePressure,lastCommittedPoint:null})},o=function(j){return fe(fe({},G(j.type,j)),{},{points:j.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:j.startArrowhead||null,endArrowhead:j.endArrowhead||null})},b=function(j){var C,A,Y;return fe(fe({},G("image",j)),{},{strokeColor:"transparent",status:(C=j.status)!==null&&C!==void 0?C:"pending",fileId:(A=j.fileId)!==null&&A!==void 0?A:null,scale:(Y=j.scale)!==null&&Y!==void 0?Y:[1,1]})},s=function j(C){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(C==null||(0,_.Z)(C)!=="object")return C;var Y=Object.prototype.toString.call(C);if(Y==="[object Object]"){var ie=typeof C.constructor=="function"?Object.create(Object.getPrototypeOf(C)):{};for(var le in C)if(C.hasOwnProperty(le)){if(A===0&&(le==="shape"||le==="canvas"))continue;ie[le]=j(C[le],A+1)}return ie}if(Array.isArray(C)){for(var ce=C.length,de=new Array(ce);ce--;)de[ce]=j(C[ce],A+1);return de}return C},c=function(j){return s(j)},S=function(j){if((0,T.h2)()&&j){var C,A,Y="".concat(j,"_copy");return(C=window.h)!==null&&C!==void 0&&(A=C.app)!==null&&A!==void 0&&A.getSceneElementsIncludingDeleted().find(function(ie){return ie.id===Y})&&(Y+="_copy"),Y}return(0,E.kb)()},z=function(j,C,A,Y){var ie=c(A);return ie.id=S(ie.id),ie.boundElements=null,ie.updated=(0,T.C3)(),ie.seed=(0,E.LU)(),ie.groupIds=(0,u.Qy)(ie.groupIds,j,function(le){return C.has(le)||C.set(le,S(le)),C.get(le)}),Y&&(ie=Object.assign(ie,Y)),ie},B=function(j,C){var A,Y=[],ie=(0,T.xn)(j),le=new Map,ce=function(Ae){if(le.has(Ae))return le.get(Ae);if(ie.has(Ae)){var Oe=S(Ae);return le.set(Ae,Oe),Oe}return null},de=new Map,J=ue(j);try{for(J.s();!(A=J.n()).done;){var ee=A.value,he=s(ee);if(he.id=ce(ee.id),C!=null&&C.randomizeSeed&&(he.seed=(0,E.LU)(),(0,a.ZP)(he)),he.groupIds&&(he.groupIds=he.groupIds.map(function(Ae){return de.has(Ae)||de.set(Ae,S(Ae)),de.get(Ae)})),"containerId"in he&&he.containerId){var Pe=ce(he.containerId);he.containerId=Pe}if("boundElements"in he&&he.boundElements&&(he.boundElements=he.boundElements.reduce(function(Ae,Oe){var Te=ce(Oe.id);return Te&&Ae.push(fe(fe({},Oe),{},{id:Te})),Ae},[])),"endBinding"in he&&he.endBinding){var He=ce(he.endBinding.elementId);he.endBinding=He?fe(fe({},he.endBinding),{},{elementId:He}):null}if("startBinding"in he&&he.startBinding){var Ke=ce(he.startBinding.elementId);he.startBinding=Ke?fe(fe({},he.startBinding),{},{elementId:Ke}):null}he.frameId&&(he.frameId=ce(he.frameId)),Y.push(he)}}catch(Ae){J.e(Ae)}finally{J.f()}return Y}},4381:function(te,t,e){e.d(t,{LM:function(){return r},T:function(){return s},vY:function(){return L},xx:function(){return b}});var _=e(2726),g=e(1930),p=e(7169),y=e(2577),T=e(9937),E=e(5999),a=e(2361),u=e(4949),N=e(4183),H=e(583),x=e(9827),m=e(9645),k=e(457),Q=e(4761),ue=e(7422),me=["boundTextFontSize"];function ye(c,S){var z=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!z){if(Array.isArray(c)||(z=function(ie,le){if(ie){if(typeof ie=="string")return fe(ie,le);var ce=Object.prototype.toString.call(ie).slice(8,-1);if(ce==="Object"&&ie.constructor&&(ce=ie.constructor.name),ce==="Map"||ce==="Set")return Array.from(ie);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return fe(ie,le)}}(c))||S){z&&(c=z);var B=0,j=function(){};return{s:j,n:function(){return B>=c.length?{done:!0}:{done:!1,value:c[B++]}},e:function(ie){throw ie},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,A=!0,Y=!1;return{s:function(){z=z.call(c)},n:function(){var ie=z.next();return A=ie.done,ie},e:function(ie){Y=!0,C=ie},f:function(){try{A||z.return==null||z.return()}finally{if(Y)throw C}}}}function fe(c,S){(S==null||S>c.length)&&(S=c.length);for(var z=0,B=new Array(S);z<S;z++)B[z]=c[z];return B}function G(c,S){var z=Object.keys(c);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(c);S&&(B=B.filter(function(j){return Object.getOwnPropertyDescriptor(c,j).enumerable})),z.push.apply(z,B)}return z}function $(c){for(var S=1;S<arguments.length;S++){var z=arguments[S]!=null?arguments[S]:{};S%2?G(Object(z),!0).forEach(function(B){(0,p.Z)(c,B,z[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(z)):G(Object(z)).forEach(function(B){Object.defineProperty(c,B,Object.getOwnPropertyDescriptor(z,B))})}return c}var U=function(c){return c<0?c+2*Math.PI:c>=2*Math.PI?c-2*Math.PI:c},L=function(c,S,z,B,j,C,A,Y,ie,le,ce,de){if(z.length===1){var J=(0,y.Z)(z,1)[0];return S==="rotation"?(F(J,Y,ie,j,c.originalElements),(0,m.Ww)(J)):!(0,N.iB)(J)||S!=="nw"&&S!=="ne"&&S!=="sw"&&S!=="se"?S&&f(c.originalElements,A,J,S,C,Y,ie):(w(J,S,C,Y,ie),(0,m.Ww)(J)),!0}if(z.length>1){if(S==="rotation")return o(c,z,Y,ie,j,le,ce),!0;if(S==="nw"||S==="ne"||S==="sw"||S==="se")return r(c,z,S,C,Y,ie),!0}return!1},F=function(c,S,z,B,j){var C,A=(0,u.qf)(c),Y=(0,y.Z)(A,4),ie=Y[0],le=Y[1],ce=(ie+Y[2])/2,de=(le+Y[3])/2;(0,N.He)(c)?C=0:(C=5*Math.PI/2+Math.atan2(z-de,S-ce),B&&(C+=T.ay/2,C-=C%T.ay),C=U(C));var J=(0,Q.xB)(c);if((0,H.DR)(c,{angle:C}),J){var ee,he=(ee=k.Z.getScene(c))===null||ee===void 0?void 0:ee.getElement(J);he&&!(0,N.Yv)(c)&&(0,H.DR)(he,{angle:C})}},I=function(c,S,z,B){return(0,N.bt)(c)||(0,N.F9)(c)?{points:(0,E.z)(0,S,(0,E.z)(1,z,c.points,B),B)}:{}},P=function(c,S,z){var B=c.width;if((0,N.Xh)(c)){var j=(0,Q.tl)(c);j&&(B=(0,Q.iZ)(j))}var C=c.fontSize*(S/B);if(C<T.CP)return null;var A=(0,Q.X1)(c.text,(0,x.mO)({fontSize:C,fontFamily:c.fontFamily}),c.lineHeight);return{size:C,baseline:A.baseline+(z-A.height)}},w=function(c,S,z,B,j){var C,A=(0,u.qf)(c),Y=(0,y.Z)(A,4),ie=Y[0],le=Y[1],ce=Y[2],de=Y[3],J=(ie+ce)/2,ee=(le+de)/2,he=(0,a.U1)(B,j,J,ee,-c.angle),Pe=(0,y.Z)(he,2),He=Pe[0],Ke=Pe[1];switch(S){case"se":C=Math.max((He-ie)/(ce-ie),(Ke-le)/(de-le));break;case"nw":C=Math.max((ce-He)/(ce-ie),(de-Ke)/(de-le));break;case"ne":C=Math.max((He-ie)/(ce-ie),(de-Ke)/(de-le));break;case"sw":C=Math.max((ce-He)/(ce-ie),(Ke-le)/(de-le))}if(C>0){var Ae=c.width*C,Oe=c.height*C,Te=P(c,Ae,Oe);if(Te===null)return;var De=(0,u.wC)(c,Ae,Oe,!1),ke=(0,y.Z)(De,4),be=(ie-ke[0])/2,ve=(le-ke[1])/2,D=(ce-ke[2])/2,l=(de-ke[3])/2,d=(0,a.yq)(function(re,ae){return{n:/^(n|ne|nw)$/.test(re)||ae&&/^(s|se|sw)$/.test(re),s:/^(s|se|sw)$/.test(re)||ae&&/^(n|ne|nw)$/.test(re),w:/^(w|nw|sw)$/.test(re)||ae&&/^(e|ne|se)$/.test(re),e:/^(e|ne|se)$/.test(re)||ae&&/^(w|nw|sw)$/.test(re)}}(S,z),c.x,c.y,c.angle,be,ve,D,l),M=(0,y.Z)(d,2),V=M[0],q=M[1];(0,H.DR)(c,{fontSize:Te.size,width:Ae,height:Oe,baseline:Te.baseline,x:V,y:q})}},f=function(c,S,z,B,j,C,A){var Y=c.get(z.id),ie=(0,u.wC)(Y,Y.width,Y.height,!0),le=(0,y.Z)(ie,4),ce=[le[0],le[1]],de=[le[2],le[3]],J=(0,a.H5)(ce,de),ee=(0,a.xj)([C,A],J,-Y.angle),he=(0,u.wC)(z,z.width,z.height,!0),Pe=(0,y.Z)(he,4),He=Pe[0],Ke=Pe[1],Ae=Pe[2]-He,Oe=Pe[3]-Ke,Te=(de[0]-ce[0])/Ae,De=(de[1]-ce[1])/Oe,ke={},be=(0,Q.WJ)(z);B.includes("e")&&(Te=(ee[0]-ce[0])/Ae),B.includes("s")&&(De=(ee[1]-ce[1])/Oe),B.includes("w")&&(Te=(de[0]-ee[0])/Ae),B.includes("n")&&(De=(de[1]-ee[1])/Oe);var ve=Y.width,D=Y.height,l=z.width*Te,d=z.height*De;if(j&&(l=2*l-ve,d=2*d-D),S){var M=Math.abs(l)/ve,V=Math.abs(d)/D;if(B.length===1&&(d*=M,l*=V),B.length===2){var q=Math.max(M,V);l=ve*q*Math.sign(l),d=D*q*Math.sign(d)}}if(be){var re=c.get(be.id);if(re&&(ke={fontSize:re.fontSize,baseline:re.baseline}),S){var ae=$($({},z),{},{width:l,height:d}),ge=P(be,(0,Q.iZ)(ae),(0,Q.D9)(ae,be));if(ge===null)return;ke={fontSize:ge.size,baseline:ge.baseline}}else{var Se=(0,Q.AT)((0,x.mO)(be),be.lineHeight),Re=(0,Q.w_)(be.fontSize,be.lineHeight);l=Math.max(l,Se),d=Math.max(d,Re)}}var Ye=(0,u.wC)(Y,l,d,!0),Ge=(0,y.Z)(Ye,4),We=Ge[0],qe=Ge[1],lt=Ge[2],ft=Ge[3],ze=lt-We,we=ft-qe,Me=[].concat(ce);if(["n","w","nw"].includes(B)&&(Me=[de[0]-Math.abs(ze),de[1]-Math.abs(we)]),B==="ne"){var $e=[ce[0],de[1]];Me=[$e[0],$e[1]-Math.abs(we)]}if(B==="sw"){var at=[de[0],ce[1]];Me=[at[0]-Math.abs(ze),at[1]]}S&&(["s","n"].includes(B)&&(Me[0]=J[0]-ze/2),["e","w"].includes(B)&&(Me[1]=J[1]-we/2));var dt=d<0;l<0&&(B.includes("e")&&(Me[0]-=Math.abs(ze)),B.includes("w")&&(Me[0]+=Math.abs(ze))),dt&&(B.includes("s")&&(Me[1]-=Math.abs(we)),B.includes("n")&&(Me[1]+=Math.abs(we))),j&&(Me[0]=J[0]-Math.abs(ze)/2,Me[1]=J[1]-Math.abs(we)/2);var vt=Y.angle,Tt=(0,a.xj)(Me,J,vt),Et=[Me[0]+Math.abs(ze)/2,Me[1]+Math.abs(we)/2],jt=(0,a.xj)(Et,J,vt);Me=(0,a.xj)(Tt,jt,-vt);var Kt=(0,g.Z)(Me),Gt=Y.x-We,Ht=Y.y-qe;Kt[0]+=Gt,Kt[1]+=Ht;var $t,pn,_t=Kt[0],xt=Kt[1];((0,N.bt)(z)||(0,N.F9)(z))&&($t=(0,E.z)(1,d,Y.points,!0),pn=(0,E.z)(0,l,$t,!0));var At={width:Math.abs(l),height:Math.abs(d),x:_t,y:xt,points:pn};if("scale"in z&&"scale"in Y&&(0,H.DR)(z,{scale:[(Math.sign(lt-Y.x)||Y.scale[0])*Y.scale[0],(Math.sign(ft-Y.y)||Y.scale[1])*Y.scale[1]]}),(0,N.Yv)(z)&&be&&S){var It=At.width/z.width*be.fontSize;if(It<T.CP)return;ke.fontSize=It}At.width!==0&&At.height!==0&&Number.isFinite(At.x)&&Number.isFinite(At.y)&&((0,H.DR)(z,At),(0,m.Ww)(z,{newSize:{width:At.width,height:At.height}}),be&&ke!=null&&(0,H.DR)(be,{fontSize:ke.fontSize,baseline:ke.baseline}),(0,Q.RB)(z,B,S))},r=function(c,S,z,B,j,C){var A,Y=S.reduce(function(It,Mt){var Nt=c.originalElements.get(Mt.id);return Nt&&It.push({orig:Nt,latest:Mt}),It},[]),ie=Y.reduce(function(It,Mt){var Nt,Yt=Mt.orig;if(!(0,N.bt)(Yt))return It;var ln=(0,Q.xB)(Yt);if(!ln)return It;var an=(Nt=c.originalElements.get(ln))!==null&&Nt!==void 0?Nt:null;if(!(0,N.Xh)(an))return It;var kn=ue._.getBoundTextElementPosition(Yt,an);return[].concat((0,g.Z)(It),[$($({},an),kn)])},[]),le=(0,u.v2)(Y.map(function(It){return It.orig}).concat(ie)),ce=le.minX,de=le.minY,J=le.maxX,ee=le.maxY,he=le.midX,Pe=le.midY,He=z,Ke=B?[he,Pe]:{ne:[ce,ee],se:[ce,de],sw:[J,de],nw:[J,ee]}[He],Ae=(0,y.Z)(Ke,2),Oe=Ae[0],Te=Ae[1],De=Math.max(Math.abs(j-Oe)/(J-ce)||0,Math.abs(C-Te)/(ee-de)||0)*(B?2:1);if(De!==0){var ke,be={ne:[j>=Oe,C<=Te],se:[j>=Oe,C>=Te],sw:[j<=Oe,C>=Te],nw:[j<=Oe,C<=Te]}[He].map(function(It){return It?1:-1}),ve=(0,y.Z)(be,2),D=ve[0],l=ve[1],d=D<0,M=l<0,V=[],q=ye(Y);try{for(q.s();!(ke=q.n()).done;){var re,ae=ke.value,ge=ae.orig,Se=ae.latest;if(!(0,N.iB)(ge)||!(0,N.Xh)(ge)){var Re=ge.width*De,Ye=ge.height*De,Ge=U(ge.angle*D*l),We=(0,N.bt)(ge)||(0,N.F9)(ge),qe=ge.x-Oe,lt=ge.y-Te,ft=Oe+D*(qe*De+(d&&!We?Re:0)),ze=Te+l*(lt*De+(M&&!We?Ye:0)),we=I(ge,Re*D,Ye*l,!1),Me=$({x:ft,y:ze,width:Re,height:Ye,angle:Ge},we);if((0,N.pC)(ge)&&Y.length===1&&(Me.scale=[ge.scale[0]*D,ge.scale[1]*l]),(0,N.bt)(ge)&&(d||M)&&function(){var It=(0,u.Ut)(ge,ge.points),Mt=(0,u.Ut)($($({},ge),{},{x:ft,y:ze}),we.points),Nt=[ge.x,ge.y],Yt=[ft,ze],ln=function(an){var kn=an==="x"?0:1;return(Mt[kn+2]-Yt[kn]-(Nt[kn]-It[kn])*De+(It[kn+2]-Nt[kn])*De-(Yt[kn]-Mt[kn]))/2};d&&(Me.x-=ln("x")),M&&(Me.y-=ln("y"))}(),(0,N.iB)(ge)){var $e=P(ge,Re,Ye);if(!$e)return;Me.fontSize=$e.size,Me.baseline=$e.baseline}var at=c.originalElements.get((re=(0,Q.xB)(ge))!==null&&re!==void 0?re:"");if(at){var dt=at.fontSize*De;if(dt<T.CP)return;Me.boundTextFontSize=dt}V.push({element:Se,update:Me})}}}catch(It){q.e(It)}finally{q.f()}for(var vt=V.map(function(It){return It.element}),Tt=0,Et=V;Tt<Et.length;Tt++){var jt=Et[Tt],Kt=jt.element,Gt=jt.update,Ht=Gt.boundTextFontSize,$t=(0,_.Z)(Gt,me),pn=$t.width,_t=$t.height,xt=$t.angle;(0,H.DR)(Kt,$t,!1),(0,m.Ww)(Kt,{simultaneouslyUpdated:vt,newSize:{width:pn,height:_t}});var At=(0,Q.WJ)(Kt);At&&Ht&&((0,H.DR)(At,{fontSize:Ht,angle:(0,N.bt)(Kt)?void 0:xt},!1),(0,Q.RB)(Kt,z,!0))}(A=k.Z.getScene(V[0].element))===null||A===void 0||A.informMutation()}},o=function(c,S,z,B,j,C,A){var Y,ie=5*Math.PI/2+Math.atan2(B-A,z-C);j&&(ie+=T.ay/2,ie-=ie%T.ay),S.filter(function(le){return le.type!=="frame"}).forEach(function(le){var ce,de,J=(0,u.qf)(le),ee=(0,y.Z)(J,4),he=ee[0],Pe=ee[1],He=(he+ee[2])/2,Ke=(Pe+ee[3])/2,Ae=(ce=(de=c.originalElements.get(le.id))===null||de===void 0?void 0:de.angle)!==null&&ce!==void 0?ce:le.angle,Oe=(0,a.U1)(He,Ke,C,A,ie+Ae-le.angle),Te=(0,y.Z)(Oe,2),De=Te[0],ke=Te[1];(0,H.DR)(le,{x:le.x+(De-He),y:le.y+(ke-Ke),angle:U(ie+Ae)},!1),(0,m.Ww)(le,{simultaneouslyUpdated:S});var be=(0,Q.WJ)(le);be&&!(0,N.Yv)(le)&&(0,H.DR)(be,{x:be.x+(De-He),y:be.y+(ke-Ke),angle:U(ie+Ae)},!1)}),(Y=k.Z.getScene(S[0]))===null||Y===void 0||Y.informMutation()},b=function(c,S,z,B){var j=S.length===1?(0,u.qf)(S[0]):(0,u.KP)(S),C=(0,y.Z)(j,4),A=C[0],Y=C[1],ie=C[2],le=C[3],ce=(A+ie)/2,de=(Y+le)/2,J=S.length===1?S[0].angle:0,ee=(0,a.U1)(z,B,ce,de,-J),he=(0,y.Z)(ee,2);switch(z=he[0],B=he[1],c){case"n":return(0,a.U1)(z-(A+ie)/2,B-Y,0,0,J);case"s":return(0,a.U1)(z-(A+ie)/2,B-le,0,0,J);case"w":return(0,a.U1)(z-A,B-(Y+le)/2,0,0,J);case"e":return(0,a.U1)(z-ie,B-(Y+le)/2,0,0,J);case"nw":return(0,a.U1)(z-A,B-Y,0,0,J);case"ne":return(0,a.U1)(z-ie,B-Y,0,0,J);case"sw":return(0,a.U1)(z-A,B-le,0,0,J);case"se":return(0,a.U1)(z-ie,B-le,0,0,J);default:return[0,0]}},s=function(c,S){var z=(0,y.Z)(S.points,2),B=(0,y.Z)(z[1],2),j=B[0],C=B[1];return c==="nw"&&(j<0||C<0)||c==="ne"&&j>=0||c==="sw"&&j<=0||c==="se"&&(j>0||C>0)?"end":"origin"}},7935:function(te,t,e){e.d(t,{PZ:function(){return a},QD:function(){return E},Qp:function(){return H},o4:function(){return N},uK:function(){return u}});var _=e(2577),g=(e(583),e(4183)),p=e(9937),y=e(4949),T=e(9827),E=function(x){return(0,g.bt)(x)||(0,g.F9)(x)?x.points.length<2:x.width===0&&x.height===0},a=function(x,m,k,Q){var ue=(0,y.Pi)(x),me=(0,_.Z)(ue,4),ye=me[0],fe=me[1],G=me[2],$=me[3],U=(0,T.dE)({clientX:Q.offsetLeft,clientY:Q.offsetTop},Q),L=(0,T.dE)({clientX:Q.offsetLeft+m,clientY:Q.offsetTop+k},Q);return U.x<=G&&U.y<=$&&L.x>=ye&&L.y>=fe},u=function(x,m,k){var Q=Math.abs(m),ue=Math.abs(k);if(x==="line"||x==="arrow"||x==="freedraw"){var me=Math.round(Math.atan(ue/Q)/p.ay)*p.ay;me===0?k=0:me===Math.PI/2?m=0:k=Q*Math.tan(me)*Math.sign(k)||k}else x!=="selection"&&(k=Q*Math.sign(k));return{width:m,height:k}},N=function(x,m,k,Q){var ue=k-x,me=Q-m,ye=Math.round(Math.atan(me/ue)/p.ay)*p.ay;if(ye===0)me=0;else if(ye===Math.PI/2)ue=0;else{var fe=Math.tan(ye),G=m-fe*x,$=-1/fe,U=Q-$*k;ue=(-1*U- -1*G)/(-1*fe- -1*$)-x,me=(G*$-U*fe)/(-1*fe- -1*$)-m}return{width:ue,height:me}},H=function(x){var m={width:x.width,height:x.height,x:x.x,y:x.y};if(x.width<0){var k=Math.abs(x.width);m.width=k,m.x=x.x-k}if(x.height<0){var Q=Math.abs(x.height);m.height=Q,m.y=x.y-Q}return m}},4761:function(te,t,e){e.d(t,{$2:function(){return f},AT:function(){return j},D9:function(){return Oe},FE:function(){return I},H_:function(){return de},NS:function(){return Ke},OW:function(){return he},P7:function(){return L},PT:function(){return ke},R8:function(){return w},RB:function(){return F},Rg:function(){return r},TP:function(){return le},WJ:function(){return Y},X1:function(){return P},Zr:function(){return He},aV:function(){return ee},bG:function(){return G},cn:function(){return J},cw:function(){return ce},eB:function(){return Te},iZ:function(){return Ae},lD:function(){return S},mY:function(){return s},oN:function(){return U},tl:function(){return ie},w_:function(){return o},xB:function(){return A}});var _,g=e(2577),p=e(1930),y=e(7169),T=e(9827),E=e(583),a=e(9937),u=e(457),N=e(7651),H=e(4183),x=e(7422),m=e(4105),k=e(3528),Q=e(3474);function ue(be,ve){var D=Object.keys(be);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(be);ve&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(be,d).enumerable})),D.push.apply(D,l)}return D}function me(be){for(var ve=1;ve<arguments.length;ve++){var D=arguments[ve]!=null?arguments[ve]:{};ve%2?ue(Object(D),!0).forEach(function(l){(0,y.Z)(be,l,D[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(D)):ue(Object(D)).forEach(function(l){Object.defineProperty(be,l,Object.getOwnPropertyDescriptor(D,l))})}return be}var ye,fe,G=function(be){return be.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},$=function(be){return G(be).split(`
`)},U=function(be,ve){var D=void 0,l={x:be.x,y:be.y,text:be.text,width:be.width,height:be.height,baseline:be.baseline};l.text=be.text,ve&&(D=Ae(ve,be),l.text=S(be.originalText,(0,T.mO)(be),D));var d=P(l.text,(0,T.mO)(be),be.lineHeight);if(l.width=d.width,l.height=d.height,l.baseline=d.baseline,ve){var M=Oe(ve,be),V=Ae(ve);if(!(0,H.Yv)(ve)&&d.height>M){var q=Ke(d.height,ve.type);(0,E.DR)(ve,{height:q}),(0,Q.h_)(ve.id,q)}if(d.width>V){var re=Ke(d.width,ve.type);(0,E.DR)(ve,{width:re})}var ae=me(me({},be),l),ge=I(ve,ae),Se=ge.x,Re=ge.y;l.x=Se,l.y=Re}(0,E.DR)(be,l)},L=function(be,ve,D){var l=(0,T.xn)(be);ve.forEach(function(d){var M=D.get(d.id),V=A(d);if(V){var q=D.get(V);if(q){var re=l.get(M);re&&(0,E.DR)(re,{boundElements:(d.boundElements||[]).filter(function(ge){return ge.id!==q&&ge.id!==V}).concat({type:"text",id:q})});var ae=l.get(q);ae&&(0,N.iB)(ae)&&(0,E.DR)(ae,{containerId:re?M:null})}}})},F=function(be,ve){var D=arguments.length>2&&arguments[2]!==void 0&&arguments[2],l=A(be);if(l){(0,Q.kT)(be.id);var d=u.Z.getScene(be).getElement(l);if(d&&d.text){if(!be)return;var M=(d=u.Z.getScene(be).getElement(l)).text,V=d.height,q=d.width,re=Ae(be),ae=Oe(be,d),ge=be.height,Se=d.baseline;if(D||ve!=="n"&&ve!=="s"){M&&(M=S(d.originalText,(0,T.mO)(d),re));var Re=P(M,(0,T.mO)(d),d.lineHeight);V=Re.height,q=Re.width,Se=Re.baseline}if(V>ae){var Ye=(ge=Ke(V,be.type))-be.height,Ge=(0,H.Yv)(be)||ve!=="ne"&&ve!=="nw"&&ve!=="n"?be.y:be.y-Ye;(0,E.DR)(be,{height:ge,y:Ge})}(0,E.DR)(d,{text:M,width:q,height:V,baseline:Se}),(0,H.Yv)(be)||(0,E.DR)(d,I(be,d))}}},I=function(be,ve){if((0,H.Yv)(be))return x._.getBoundTextElementPosition(be,ve);var D,l=ce(be),d=Oe(be,ve),M=Ae(be);return D=ve.verticalAlign===a.oX.TOP?l.y:ve.verticalAlign===a.oX.BOTTOM?l.y+(d-ve.height):l.y+(d/2-ve.height/2),{x:ve.textAlign===a.I8.LEFT?l.x:ve.textAlign===a.I8.RIGHT?l.x+(M-ve.width):l.x+(M/2-ve.width/2),y:D}},P=function(be,ve,D){be=be.split(`
`).map(function(M){return M||" "}).join(`
`);var l=parseFloat(ve),d=c(be,l,D);return{width:s(be,ve),height:d,baseline:w(be,ve,D)}},w=function(be,ve,D,l){var d=document.createElement("div");d.style.position="absolute",d.style.whiteSpace="pre",d.style.font=ve,d.style.minHeight="1em",l&&(d.style.overflow="hidden",d.style.wordBreak="break-word",d.style.whiteSpace="pre-wrap"),d.style.lineHeight=String(D),d.innerText=be,document.body.appendChild(d);var M=document.createElement("span");M.style.display="inline-block",M.style.overflow="hidden",M.style.width="1px",M.style.height="1px",d.appendChild(M);var V=M.offsetTop+M.offsetHeight,q=d.offsetHeight;if(a.G6){var re=c(be,parseFloat(ve),D),ae=parseFloat(ve),ge=c(be,Math.round(ae),D);re>q&&(V+=re-ge),q>re&&(V-=ge-re)}return document.body.removeChild(d),V},f=function(be){var ve=$(be.text).length;return be.height/ve/be.fontSize},r=function(be,ve){return be*ve},o=function(be,ve){return r(be,ve)+2*a.gK},b=function(be,ve){ye||(ye=document.createElement("canvas"));var D=ye.getContext("2d");D.font=ve;var l=D.measureText(be).width;return(0,T.h2)()?10*l:l},s=function(be,ve){var D=$(be),l=0;return D.forEach(function(d){l=Math.max(l,b(d,ve))}),l},c=function(be,ve,D){var l=$(be).length;return r(ve,D)*l},S=function(be,ve,D){if(!Number.isFinite(D)||D<0)return be;var l=[],d=be.split(`
`),M=b(" ",ve),V="",q=0,re=function(ge){ge.trim()&&l.push(ge)},ae=function(){V="",q=0};return d.forEach(function(ge){if(s(ge,ve)<=D)l.push(ge);else{var Se=function(ft){var ze=ft.split("-");return ze.length>1&&ze.forEach(function(we,Me){Me!==ze.length-1&&(ze[Me]=we+="-")}),ze.join(" ").split(" ")}(ge);ae();for(var Re=0;Re<Se.length;){var Ye=b(Se[Re],ve);if(Ye===D)re(Se[Re]),Re++;else if(Ye>D){for(re(V),ae();Se[Re].length>0;){var Ge=String.fromCodePoint(Se[Re].codePointAt(0)),We=z.calculate(Ge,ve);q+=We,Se[Re]=Se[Re].slice(Ge.length),q>=D?(re(V),V=Ge,q=We):V+=Ge}q+M>=D?(re(V),ae()):V.endsWith("-")||(V+=" ",q+=M),Re++}else for(;q<D&&Re<Se.length;){var qe=Se[Re];if((q=b(V+qe,ve))>D){re(V),ae();break}Re++;var lt=!qe.endsWith("-");if(V+=qe,lt&&(V+=" "),q+M>=D){lt?l.push(V.slice(0,-1)):l.push(V),ae();break}}}V.slice(-1)===" "&&(V=V.slice(0,-1),re(V))}}),l.join(`
`)},z=(fe={},{calculate:function(be,ve){var D=be.charCodeAt(0);if(fe[ve]||(fe[ve]=[]),!fe[ve][D]){var l=b(be,ve);fe[ve][D]=l}return fe[ve][D]},getCache:function(be){return fe[be]}}),B="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),j=function(be,ve){var D=C(be);return D===0?P(B.split("").join(`
`),be,ve).width+2*a.gK:D+2*a.gK},C=function(be){var ve=z.getCache(be);if(!ve)return 0;var D=ve.filter(function(l){return l!==void 0});return Math.max.apply(Math,(0,p.Z)(D))},A=function(be){var ve,D,l;return be!=null&&(ve=be.boundElements)!==null&&ve!==void 0&&ve.length&&(be==null||(D=be.boundElements)===null||D===void 0||(l=D.filter(function(d){return d.type==="text"})[0])===null||l===void 0?void 0:l.id)||null},Y=function(be){if(!be)return null;var ve,D=A(be);return D&&((ve=u.Z.getScene(be))===null||ve===void 0?void 0:ve.getElement(D))||null},ie=function(be){return be&&be.containerId&&((ve=u.Z.getScene(be))===null||ve===void 0?void 0:ve.getElement(be.containerId))||null;var ve},le=function(be,ve){if(!(0,H.Yv)(be))return{x:be.x+be.width/2,y:be.y+be.height/2};var D=x._.getPointsGlobalCoordinates(be);if(D.length%2==1){var l=Math.floor(be.points.length/2),d=x._.getPointGlobalCoordinates(be,be.points[l]);return{x:d[0],y:d[1]}}var M=be.points.length/2-1,V=x._.getEditorMidPoints(be,ve)[M];return V||(V=x._.getSegmentMidPoint(be,D[M],D[M+1],M+1)),{x:V[0],y:V[1]}},ce=function(be){var ve=a.gK,D=a.gK;return be.type==="ellipse"&&(ve+=be.width/2*(1-Math.sqrt(2)/2),D+=be.height/2*(1-Math.sqrt(2)/2)),be.type==="diamond"&&(ve+=be.width/4,D+=be.height/4),{x:be.x+ve,y:be.y+D}},de=function(be){var ve=ie(be);return!ve||(0,H.Yv)(ve)?be.angle:ve.angle},J=function(be){return be.some(function(ve){if((0,H.Xh)(ve)){var D=ie(ve);return!(0,N.iB)(ve)||!(0,H.Yv)(D)}return!1})},ee=function(be){return be.some(function(ve){if((0,H.Xh)(ve)){var D=ie(ve);return!(0,N.iB)(ve)||!(0,H.Yv)(D)}return(0,N.iB)(ve)})},he=function(be,ve,D,l){var d=(0,m.eD)(be,ve);if(d.length===1)return(0,H.mG)(d[0],!1)?d[0]:null;for(var M=null,V=be.length-1;V>=0;--V)if(!be[V].isDeleted){var q=(0,N.qf)(be[V]),re=(0,g.Z)(q,4),ae=re[0],ge=re[1],Se=re[2],Re=re[3];if((0,H.Yv)(be[V])&&(0,k.Qu)(be[V],ve,null,[D,l])){M=be[V];break}if(ae<D&&D<Se&&ge<l&&l<Re){M=be[V];break}}return(0,H.mG)(M,!1)?M:null},Pe=new Set(["rectangle","ellipse","diamond","arrow"]),He=function(be){return Pe.has(be.type)},Ke=function(be,ve){be=Math.ceil(be);var D=2*a.gK;return ve==="ellipse"?Math.round((be+D)/Math.sqrt(2)*2):ve==="arrow"?be+8*D:ve==="diamond"?2*(be+D):be+D},Ae=function(be){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y(be),D=be.width;if((0,H.Yv)(be)){var l,d=((l=ve?.fontSize)!==null&&l!==void 0?l:a.n5)*a.vL;return Math.max(a.bY*D,d)}return be.type==="ellipse"?Math.round(D/2*Math.sqrt(2))-2*a.gK:be.type==="diamond"?Math.round(D/2)-2*a.gK:D-2*a.gK},Oe=function(be,ve){var D=be.height;return(0,H.Yv)(be)?D-8*a.gK*2<=0?ve.height:D:be.type==="ellipse"?Math.round(D/2*Math.sqrt(2))-2*a.gK:be.type==="diamond"?Math.round(D/2)-2*a.gK:D-2*a.gK},Te=function(){return s(B,(0,T.mO)({fontSize:a.n5,fontFamily:a.rk}))>0},De=(_={},(0,y.Z)(_,a.ut.Virgil,1.25),(0,y.Z)(_,a.ut.Helvetica,1.15),(0,y.Z)(_,a.ut.Cascadia,1.2),_),ke=function(be){return be in De?De[be]:De[a.rk]}},3474:function(te,t,e){e.d(t,{b_:function(){return I},eR:function(){return F},h_:function(){return U},kT:function(){return L}});var _=e(8950),g=e(7169),p=e(2577),y=e(2975),T=e.n(y),E=e(5491),a=e(9827),u=e(457),N=e(4183),H=e(9937),x=e(583),m=e(4761),k=e(3361),Q=e(6006),ue=e(7422),me=e(4694);function ye(P,w){var f=Object.keys(P);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(P);w&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(P,o).enumerable})),f.push.apply(f,r)}return f}function fe(P){for(var w=1;w<arguments.length;w++){var f=arguments[w]!=null?arguments[w]:{};w%2?ye(Object(f),!0).forEach(function(r){(0,g.Z)(P,r,f[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(f)):ye(Object(f)).forEach(function(r){Object.defineProperty(P,r,Object.getOwnPropertyDescriptor(f,r))})}return P}var G=function(P,w,f,r,o,b){var s=r.zoom,c=180*f/Math.PI,S=P*(s.value-1)/2,z=w*(s.value-1)/2;return P>o&&s.value!==1&&(S=o*(s.value-1)/2),w>b&&s.value!==1&&(z=b*(s.value-1)/2),"translate(".concat(S,"px, ").concat(z,"px) scale(").concat(s.value,") rotate(").concat(c,"deg)")},$={},U=function(P,w){var f=$[P]||($[P]={height:w});return f.height=w,f},L=function(P){$[P]&&delete $[P]},F=function(P){var w,f;return(w=(f=$[P])===null||f===void 0?void 0:f.height)!==null&&w!==void 0?w:null},I=function(P){var w=P.id,f=P.onChange,r=P.onSubmit,o=P.getViewportCoords,b=P.element,s=P.canvas,c=P.excalidrawContainer,S=P.app,z=function(){var Te,De=S.state,ke=(Te=u.Z.getScene(b))===null||Te===void 0?void 0:Te.getElement(w);if(ke){var be=ke.textAlign,ve=ke.verticalAlign;if(ke&&(0,N.iB)(ke)){var D=ke.x,l=ke.y,d=(0,m.tl)(ke),M=ke.width,V=ke.height,q=ke.width,re=ke.height;if(d&&ke.containerId){if((0,N.Yv)(d)){var ae=ue._.getBoundTextElementPosition(d,ke);D=ae.x,l=ae.y}var ge,Se=function(dt,vt){if(!vt.style.fontFamily||!vt.style.fontSize)return!1;var Tt=vt.style.fontFamily.replace(/"/g,"");return(0,a.$g)({fontFamily:dt.fontFamily})!==Tt||"".concat(dt.fontSize,"px")!==vt.style.fontSize}(ke,B);if(Se?ge=U(d.id,d.height):(ge=$[d.id])||(ge=U(d.id,d.height)),M=(0,m.iZ)(d),V=(0,m.D9)(d,ke),!(0,N.Yv)(d)&&re>V){var Re=(0,m.NS)(re,d.type);return void(0,x.DR)(d,{height:Re})}if(!(0,N.Yv)(d)&&d.height>ge.height&&re<V){var Ye=(0,m.NS)(re,d.type);(0,x.DR)(d,{height:Ye})}else l=(0,m.FE)(d,ke).y}var Ge=o(D,l),We=(0,p.Z)(Ge,2),qe=We[0],lt=We[1],ft=B.selectionStart,ze=B.selectionEnd,we=B.value.length;if(ft===ze&&ze!==we){var Me=we-ze;B.selectionStart=B.value.length-Me,B.selectionEnd=B.value.length-Me}d?q+=.5:(M=(De.width-8-qe)/De.zoom.value,q=Math.min(q,M));var $e=ke.lineHeight;H.G6&&($e=(0,m.$2)(fe(fe({},ke),{},{fontSize:Math.round(ke.fontSize)})));var at=(De.height-lt)/De.zoom.value;Object.assign(B.style,{font:(0,a.mO)(ke),lineHeight:$e,width:"".concat(q,"px"),height:"".concat(re,"px"),left:"".concat(qe,"px"),top:"".concat(lt,"px"),transform:G(q,re,(0,m.H_)(ke),De,M,at),textAlign:be,verticalAlign:ve,color:ke.strokeColor,opacity:ke.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(at,"px")}),B.scrollTop=0,(0,a.h2)()&&(B.style.fontFamily=(0,a.$g)(ke)),(0,x.DR)(ke,{x:D,y:l})}}},B=document.createElement("textarea");B.dir="auto",B.tabIndex=0,B.dataset.type="wysiwyg",B.wrap="off",B.classList.add("excalidraw-wysiwyg");var j="pre",C="normal";(0,N.Xh)(b)&&(j="pre-wrap",C="break-word"),Object.assign(B.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:C,whiteSpace:j,overflowWrap:"break-word",boxSizing:"content-box"}),B.value=b.originalText,z(),f&&(B.onpaste=function(){var Te=(0,_.Z)(T().mark(function De(ke){var be,ve,D,l,d,M;return T().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,me.mQ)(ke,!0);case 2:if((be=V.sent).text){V.next=5;break}return V.abrupt("return");case 5:if(ve=(0,m.bG)(be.text)){V.next=8;break}return V.abrupt("return");case 8:D=(0,m.tl)(b),l=(0,a.mO)({fontSize:S.state.currentItemFontSize,fontFamily:S.state.currentItemFontFamily}),D&&(d=(0,m.lD)("".concat(B.value).concat(ve),l,(0,m.iZ)(D)),M=(0,m.mY)(d,l),B.style.width="".concat(M,"px"));case 11:case"end":return V.stop()}},De)}));return function(De){return Te.apply(this,arguments)}}(),B.oninput=function(){f((0,m.bG)(B.value))}),B.onkeydown=function(Te){if(!Te.shiftKey&&Q.Lo.keyTest(Te))Te.preventDefault(),S.actionManager.executeAction(Q.Lo),z();else if(!Te.shiftKey&&Q.CZ.keyTest(Te))Te.preventDefault(),S.actionManager.executeAction(Q.CZ),z();else if(k.Tu.keyTest(Te))S.actionManager.executeAction(k.Tu);else if(k.Zq.keyTest(Te))S.actionManager.executeAction(k.Zq);else if(Te.key===E.tW.ESCAPE)Te.preventDefault(),J=!0,ee();else if(Te.key===E.tW.ENTER&&Te[E.tW.CTRL_OR_CMD]){if(Te.preventDefault(),Te.isComposing||Te.keyCode===229)return;J=!0,ee()}else if(Te.key===E.tW.TAB||Te[E.tW.CTRL_OR_CMD]&&(Te.code===E.aU.BRACKET_LEFT||Te.code===E.aU.BRACKET_RIGHT)){if(Te.preventDefault(),Te.isComposing)return;Te.shiftKey||Te.code===E.aU.BRACKET_LEFT?le():ie(),B.dispatchEvent(new Event("input"))}};var A=" ".repeat(4),Y=new RegExp("^ {1,".concat(4,"}")),ie=function(){var Te=B.selectionStart,De=B.selectionEnd,ke=ce(),be=B.value;ke.forEach(function(ve){var D=be.slice(0,ve),l=be.slice(ve);be="".concat(D).concat(A).concat(l)}),B.value=be,B.selectionStart=Te+4,B.selectionEnd=De+4*ke.length},le=function(){var Te=B.selectionStart,De=B.selectionEnd,ke=ce(),be=[],ve=B.value;ke.forEach(function(D){var l=ve.slice(D,D+4).match(Y);if(l){var d=ve.slice(0,D),M=ve.slice(D+l[0].length);ve="".concat(d).concat(M),be.push(D)}}),B.value=ve,be.length&&(Te>be[be.length-1]?B.selectionStart=Math.max(Te-4,be[be.length-1]):B.selectionStart=Te,B.selectionEnd=Math.max(B.selectionStart,De-4*be.length))},ce=function(){var Te=B.selectionStart,De=B.selectionEnd,ke=B.value,be=ke.slice(0,Te).match(/[^\n]*$/)[0].length;return Te-=be,ke.slice(Te,De).split(`
`).reduce(function(ve,D,l,d){return ve.concat(l?ve[l-1]+d[l-1].length+1:Te)},[]).reverse()},de=function(Te){Te.preventDefault(),Te.stopPropagation()},J=!1,ee=function(){var Te;he();var De=(Te=u.Z.getScene(b))===null||Te===void 0?void 0:Te.getElement(b.id);if(De){var ke=B.value,be=(0,m.tl)(De);if(be){if(ke=De.text,B.value.trim()){var ve=(0,m.xB)(be);ve&&ve===b.id?(0,N.Yv)(be)&&(0,x.ZP)(be):(0,x.DR)(be,{boundElements:(be.boundElements||[]).concat({type:"text",id:b.id})})}else{var D;(0,x.DR)(be,{boundElements:(D=be.boundElements)===null||D===void 0?void 0:D.filter(function(l){return!(0,N.iB)(l)})})}(0,m.oN)(De,be)}r({text:ke,viaKeyboard:J,originalText:B.value})}},he=function(){Ae||(Ae=!0,B.onblur=null,B.oninput=null,B.onkeydown=null,Oe&&Oe.disconnect(),window.removeEventListener("resize",z),window.removeEventListener("wheel",de,!0),window.removeEventListener("pointerdown",He),window.removeEventListener("pointerup",Pe),window.removeEventListener("blur",ee),window.removeEventListener("beforeunload",ee),Ke(),B.remove())},Pe=function Te(De){window.removeEventListener("pointerup",Te);var ke=De?.target,be=ke instanceof HTMLElement&&ke.classList.contains("active-color");setTimeout(function(){if(B.onblur=ee,be){var ve=new MutationObserver(function(D,l){D.find(function(d){var M;return d.removedNodes.length>0&&((M=d.removedNodes[0].dataset)===null||M===void 0?void 0:M.radixPopperContentWrapper)!==void 0})&&(setTimeout(function(){B.focus()}),l.disconnect())});ve.observe(document.querySelector(".excalidraw-container"),{childList:!0})}be||B.focus()})},He=function(Te){var De=Te.target instanceof HTMLElement&&Te.target.classList.contains("active-color");((Te.target instanceof HTMLElement||Te.target instanceof SVGElement)&&Te.target.closest(".".concat(H.$C.SHAPE_ACTIONS_MENU))&&!(0,a.s)(Te.target)||De)&&(B.onblur=null,window.addEventListener("pointerup",Pe),window.addEventListener("blur",ee))},Ke=u.Z.getScene(b).addCallback(function(){var Te;z(),!((Te=document.activeElement)===null||Te===void 0||!Te.closest(".color-picker-content"))||B.focus()}),Ae=!1;B.select(),Pe();var Oe=null;s&&"ResizeObserver"in window?(Oe=new window.ResizeObserver(function(){z()})).observe(s):window.addEventListener("resize",z),window.addEventListener("pointerdown",He),window.addEventListener("wheel",de,{passive:!1,capture:!0}),window.addEventListener("beforeunload",ee),c?.querySelector(".excalidraw-textEditorContainer").appendChild(B)}},4048:function(te,t,e){e.d(t,{Fn:function(){return N},PC:function(){return ue},kK:function(){return Q},oY:function(){return me},ox:function(){return u}});var _=e(2577),g=e(4949),p=e(2361),y=e(7651),T=e(4183),E=e(7766),a={mouse:8,pen:16,touch:28},u={e:!0,s:!0,n:!0,w:!0},N={e:!0,s:!0,n:!0,w:!0,rotation:!0},H={e:!0,s:!0,n:!0,w:!0},x={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},m={e:!0,s:!0,n:!0,w:!0},k=function(ye,fe,G,$,U,L,F){var I=(0,p.U1)(ye+G/2,fe+$/2,U,L,F),P=(0,_.Z)(I,2);return[P[0]-G/2,P[1]-$/2,G,$]},Q=function(ye,fe,G,$){var U=(0,_.Z)(ye,6),L=U[0],F=U[1],I=U[2],P=U[3],w=U[4],f=U[5],r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,b=a[$],s=b/G.value,c=b/G.value,S=b/G.value,z=b/G.value,B=I-L,j=P-F,C=o/G.value,A=(b-2*E.Lu)/(2*G.value),Y={nw:r.nw?void 0:k(L-C-S+A,F-C-z+A,s,c,w,f,fe),ne:r.ne?void 0:k(I+C-A,F-C-z+A,s,c,w,f,fe),sw:r.sw?void 0:k(L-C-S+A,P+C-A,s,c,w,f,fe),se:r.se?void 0:k(I+C-A,P+C-A,s,c,w,f,fe),rotation:r.rotation?void 0:k(L+B/2-s/2,F-C-z+A-16/G.value,s,c,w,f,fe)},ie=5*a.mouse/G.value;return Math.abs(B)>ie&&(r.n||(Y.n=k(L+B/2-s/2,F-C-z+A,s,c,w,f,fe)),r.s||(Y.s=k(L+B/2-s/2,P+C-A,s,c,w,f,fe))),Math.abs(j)>ie&&(r.w||(Y.w=k(L-C-S+A,F+j/2-c/2,s,c,w,f,fe)),r.e||(Y.e=k(I+C-A,F+j/2-c/2,s,c,w,f,fe))),Y},ue=function(ye,fe){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(ye.locked)return{};var $={};if(ye.type==="freedraw"||(0,T.bt)(ye)){if(ye.points.length===2){var U=(0,_.Z)(ye.points,2),L=U[1];L[0]===0||L[1]===0?$=m:L[0]>0&&L[1]<0?$=x:L[0]>0&&L[1]>0?$=m:L[0]<0&&L[1]>0?$=x:L[0]<0&&L[1]<0&&($=m)}}else(0,y.iB)(ye)?$=H:(0,T.He)(ye)&&($={rotation:!0});var F=(0,T.bt)(ye)?E.Lu+8:E.Lu;return Q((0,g.qf)(ye,!0),ye.angle,fe,G,$,F)},me=function(ye,fe){if(fe.editingLinearElement)return!1;if(ye.length>1)return!0;var G=ye[0];return!(0,T.bt)(G)||G.points.length>2}},4183:function(te,t,e){e.d(t,{F9:function(){return u},He:function(){return a},Lx:function(){return Q},Mn:function(){return k},QI:function(){return $},UQ:function(){return F},Xh:function(){return G},Xo:function(){return fe},Yv:function(){return x},bt:function(){return H},dt:function(){return m},eK:function(){return L},f0:function(){return ue},gs:function(){return T},iB:function(){return E},mG:function(){return me},pC:function(){return y},r2:function(){return ye},wi:function(){return p}});var _=e(9937),g=e(9827),p=function(I){return!!I&&I.type==="image"&&!!I.fileId},y=function(I){return!!I&&I.type==="image"},T=function(I){return!!I&&I.type==="embeddable"},E=function(I){return I!=null&&I.type==="text"},a=function(I){return I!=null&&I.type==="frame"},u=function(I){return I!=null&&N(I.type)},N=function(I){return I==="freedraw"},H=function(I){return I!=null&&m(I.type)},x=function(I){return I!=null&&I.type==="arrow"},m=function(I){return I==="arrow"||I==="line"},k=function(I){var P=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return I!=null&&(!I.locked||P===!0)&&Q(I.type)},Q=function(I){return I==="arrow"},ue=function(I){var P=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(I==null||I.locked&&P!==!0||I.type!=="rectangle"&&I.type!=="diamond"&&I.type!=="ellipse"&&I.type!=="image"&&I.type!=="embeddable"&&I.type!=="frame"&&(I.type!=="text"||I.containerId))},me=function(I){var P=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return I!=null&&(!I.locked||P===!0)&&(I.type==="rectangle"||I.type==="diamond"||I.type==="ellipse"||x(I))},ye=function(I){var P=I?.type;if(!P)return!1;switch(P){case"text":case"diamond":case"rectangle":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"image":case"selection":return!0;default:return(0,g.vE)(P,null),!1}},fe=function(I){var P;return me(I)&&!((P=I.boundElements)===null||P===void 0||!P.some(function(w){return w.type==="text"}))},G=function(I){return I!==null&&"containerId"in I&&I.containerId!==null&&E(I)},$=function(I){return I==="rectangle"||I==="embeddable"},U=function(I){return I==="line"||I==="arrow"||I==="diamond"},L=function(I,P){return!(I!==_.a6.ADAPTIVE_RADIUS&&I!==_.a6.LEGACY||!$(P.type))||!(I!==_.a6.PROPORTIONAL_RADIUS||!U(P.type))},F=function(I){return U(I.type)?{type:_.a6.PROPORTIONAL_RADIUS}:$(I.type)?{type:_.a6.ADAPTIVE_RADIUS}:null}},3506:function(te,t,e){e.d(t,{_L:function(){return m},lp:function(){return x},jk:function(){return k}});var _=e(5169),g=e(8821),p=e(2248),y=e(7245),T=e(2312),E=e(5901);function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(Q,ue,me){return u=a()?Reflect.construct.bind():function(ye,fe,G){var $=[null];$.push.apply($,fe);var U=new(Function.bind.apply(ye,$));return G&&(0,E.Z)(U,G.prototype),U},u.apply(null,arguments)}function N(Q){var ue=typeof Map=="function"?new Map:void 0;return N=function(me){if(me===null||(ye=me,Function.toString.call(ye).indexOf("[native code]")===-1))return me;var ye;if(typeof me!="function")throw new TypeError("Super expression must either be null or a function");if(ue!==void 0){if(ue.has(me))return ue.get(me);ue.set(me,fe)}function fe(){return u(me,arguments,(0,T.Z)(this).constructor)}return fe.prototype=Object.create(me.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),(0,E.Z)(fe,me)},N(Q)}function H(Q){var ue=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var me,ye=(0,T.Z)(Q);if(ue){var fe=(0,T.Z)(this).constructor;me=Reflect.construct(ye,arguments,fe)}else me=ye.apply(this,arguments);return(0,y.Z)(this,me)}}var x=function(Q){(0,p.Z)(me,Q);var ue=H(me);function me(){var ye,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,g.Z)(this,me),(ye=ue.call(this)).name=G,ye.message=fe,ye}return(0,_.Z)(me)}(N(Error)),m=function(Q){(0,p.Z)(me,Q);var ue=H(me);function me(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,g.Z)(this,me),ue.call(this,ye,"AbortError")}return(0,_.Z)(me)}(N(DOMException)),k=function(Q){(0,p.Z)(me,Q);var ue=H(me);function me(){var ye,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Image Scene Data Error",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"IMAGE_SCENE_DATA_ERROR";return(0,g.Z)(this,me),(ye=ue.call(this,fe)).name="EncodingError",ye.code=G,ye}return(0,_.Z)(me)}(N(Error))},4682:function(te,t,e){e.d(t,{$Z:function(){return r},A_:function(){return o},Dn:function(){return U},Qs:function(){return j},SH:function(){return L},Tq:function(){return S},_h:function(){return P},cH:function(){return B},cO:function(){return $},fj:function(){return f},lz:function(){return b},ni:function(){return w},pr:function(){return c},wO:function(){return I},xr:function(){return ue},yZ:function(){return s},zD:function(){return F}});var _=e(1930),g=e(2577),p=e(7651),y=e(2361),T=e(4761),E=e(9827),a=e(583),u=e(4105),N=e(9215),H=e(457),x=e(4949),m=e(507);function k(C,A){var Y=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!Y){if(Array.isArray(C)||(Y=function(ee,he){if(ee){if(typeof ee=="string")return Q(ee,he);var Pe=Object.prototype.toString.call(ee).slice(8,-1);if(Pe==="Object"&&ee.constructor&&(Pe=ee.constructor.name),Pe==="Map"||Pe==="Set")return Array.from(ee);if(Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return Q(ee,he)}}(C))||A){Y&&(C=Y);var ie=0,le=function(){};return{s:le,n:function(){return ie>=C.length?{done:!0}:{done:!1,value:C[ie++]}},e:function(ee){throw ee},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ce,de=!0,J=!1;return{s:function(){Y=Y.call(C)},n:function(){var ee=Y.next();return de=ee.done,ee},e:function(ee){J=!0,ce=ee},f:function(){try{de||Y.return==null||Y.return()}finally{if(J)throw ce}}}}function Q(C,A){(A==null||A>C.length)&&(A=C.length);for(var Y=0,ie=new Array(A);Y<A;Y++)ie[Y]=C[Y];return ie}var ue=function(C,A,Y){var ie,le=(0,E.xn)(C),ce=k(A);try{for(ce.s();!(ie=ce.n()).done;){var de=ie.value;if(de.frameId){var J=Y.get(de.id),ee=Y.get(de.frameId);if(J){var he=le.get(J);he&&(0,a.DR)(he,{frameId:ee??de.frameId},!1)}}}}catch(Pe){ce.e(Pe)}finally{ce.f()}};function me(C,A){var Y=(0,x.GJ)(A),ie=(0,x.GJ)(C);return Y.some(function(le){return ie.some(function(ce){return(0,m.y8)(le,ce)})})}var ye=function(C,A){return z((0,u.Yp)(C,A,!1)).filter(function(Y){return Y.type!=="frame"&&!Y.frameId||Y.frameId===A.id})},fe=function(C,A,Y){return(0,u.Yp)(C,A).some(function(ie){return ie.id===Y.id})},G=function(C,A){var Y=(0,p.qf)(A),ie=(0,g.Z)(Y,4),le=ie[0],ce=ie[1],de=ie[2],J=ie[3],ee=(0,p.KP)(C),he=(0,g.Z)(ee,4),Pe=he[0],He=he[1],Ke=he[2],Ae=he[3];return le<=Pe&&ce<=He&&de>=Ke&&J>=Ae},$=function(C,A){return G([C],A)||me(C,A)||fe([A],C,A)},U=function(C,A){var Y=(0,p.qf)(A),ie=(0,g.Z)(Y,4),le=ie[0],ce=ie[1],de=ie[2],J=ie[3];return(0,y.Ni)([le,ce],[C.x,C.y],[de,J])},L=function(C){var A,Y=new Map,ie=k(C);try{for(ie.s();!(A=ie.n()).done;){var le=A.value,ce=(0,p.He)(le)?le.id:le.frameId;ce&&!Y.has(ce)&&Y.set(ce,F(C,ce))}}catch(de){ie.e(de)}finally{ie.f()}return Y},F=function(C,A){return C.filter(function(Y){return Y.frameId===A})},I=function(C){return C.filter(function(A){return(0,p.He)(A)})},P=function(C){var A=(0,E.xn)(I(C));return C.filter(function(Y){return A.has(Y.id)||!Y.frameId||!A.has(Y.frameId)})},w=function(C,A,Y){var ie,le=F(C,A.id),ce=new Set(le),de=new Set([].concat((0,_.Z)(ye(C,A)),(0,_.Z)(le.filter(function(lt){return fe(C,lt,A)})))),J=le.filter(function(lt){return!de.has(lt)}),ee=new Set(Array.from(de).flatMap(function(lt){return lt.groupIds})),he=k(J);try{for(he.s();!(ie=he.n()).done;){var Pe=ie.value;if(me(Pe,A)){if(Pe.groupIds.length>0){var He,Ke=k(Pe.groupIds);try{for(Ke.s();!(He=Ke.n()).done;){var Ae=He.value;ee.add(Ae)}}catch(lt){Ke.e(lt)}finally{Ke.f()}}}else Pe.groupIds.length===0&&ce.delete(Pe)}}catch(lt){he.e(lt)}finally{he.f()}var Oe,Te=k(J);try{for(Te.s();!(Oe=Te.n()).done;){var De=Oe.value;if(De.groupIds.length>0){var ke,be=!0,ve=k(De.groupIds);try{for(ve.s();!(ke=ve.n()).done;){var D=ke.value;ee.has(D)&&(be=!1)}}catch(lt){ve.e(lt)}finally{ve.f()}be&&ce.delete(De)}}}catch(lt){Te.e(lt)}finally{Te.f()}var l,d=Array.from(de).filter(function(lt){return lt.groupIds.length===0}),M=k(d);try{for(M.s();!(l=M.n()).done;){var V=l.value;ce.add(V)}}catch(lt){M.e(lt)}finally{M.f()}for(var q=Array.from(de).filter(function(lt){return lt.groupIds.length>0}),re=(0,N.yR)(q,Y),ae=0,ge=Object.entries(re);ae<ge.length;ae++){var Se=(0,g.Z)(ge[ae],2),Re=Se[0];if(Se[1]){var Ye=(0,N.Fb)(C,Re);if(G(Ye,A)){var Ge,We=k(Ye);try{for(We.s();!(Ge=We.n()).done;){var qe=Ge.value;ce.add(qe)}}catch(lt){We.e(lt)}finally{We.f()}}}}return(0,_.Z)(ce).filter(function(lt){return!((0,p.iB)(lt)&&lt.containerId)})},f=function(C,A){return z(C,ye(C,A))},r=function(C,A){var Y;return C.frameId?A?A.get(C.frameId)||null:((Y=H.Z.getScene(C))===null||Y===void 0?void 0:Y.getElement(C.frameId))||null:null},o=function(C,A,Y){var ie,le=C.reduce(function(Oe,Te,De){return Te.frameId===Y.id&&Oe.currTargetFrameChildrenMap.set(Te.id,!0),Oe},{currTargetFrameChildrenMap:new Map}),ce=le.currTargetFrameChildrenMap,de=new Set(A.map(function(Oe){return Oe.id})),J=[],ee=k(z(C,A));try{for(ee.s();!(ie=ee.n()).done;){var he=ie.value;ce.has(he.id)||J.push(he);var Pe=(0,T.WJ)(he);!Pe||de.has(Pe.id)||ce.has(Pe.id)||J.push(Pe)}}catch(Oe){ee.e(Oe)}finally{ee.f()}for(var He=0,Ke=J;He<Ke.length;He++){var Ae=Ke[He];(0,a.DR)(Ae,{frameId:Y.id},!1)}return C.slice()},b=function(C,A,Y){var ie,le=new Map,ce=new Map,de=k(A);try{for(de.s();!(ie=de.n()).done;){var J=ie.value;if(J.frameId){le.set(J.id,J);var ee=ce.get(J.frameId)||[];ee.push(J);var he=(0,T.WJ)(J);he&&(le.set(he.id,he),ee.push(he)),ce.set(J.frameId,ee)}}}catch(Ae){de.e(Ae)}finally{de.f()}var Pe,He=k(le);try{for(He.s();!(Pe=He.n()).done;){var Ke=(0,g.Z)(Pe.value,2)[1];(0,a.DR)(Ke,{frameId:null},!1)}}catch(Ae){He.e(Ae)}finally{He.f()}return C.slice()},s=function(C,A,Y){var ie=F(C,A.id);return b(C,ie)},c=function(C,A,Y,ie){return o(s(C,Y),A,Y)},S=function(C,A,Y){var ie=Y.scene.getSelectedElements({selectedElementIds:A.selectedElementIds,elements:C}),le=new Set(ie);if(A.editingGroupId){var ce,de=k(ie);try{for(de.s();!(ce=de.n()).done;){var J=ce.value;J.groupIds.length===0?le.add(J):J.groupIds.flatMap(function(he){return(0,N.Fb)(C,he)}).forEach(function(he){return le.add(he)})}}catch(he){de.e(he)}finally{de.f()}}var ee=new Set;return le.forEach(function(he){!he.frameId||(0,p.He)(he)||j(he,C,A)||ee.add(he)}),ee.size>0?b(C,(0,_.Z)(ee)):C},z=function(C,A){var Y,ie=new Set,le=k(A||C);try{for(le.s();!(Y=le.n()).done;){var ce=Y.value,de=ce.groupIds[ce.groupIds.length-1];de&&ie.add(de)}}catch(He){le.e(He)}finally{le.f()}var J,ee=new Set,he=k(ie);try{for(he.s();!(J=he.n()).done;){var Pe=J.value;(0,N.Fb)(C,Pe).some(function(He){return(0,p.He)(He)})&&ee.add(Pe)}}catch(He){he.e(He)}finally{he.f()}return(A||C).filter(function(He){return!ee.has(He.groupIds[He.groupIds.length-1])})},B=function(C,A){var Y=(0,p.iB)(C)&&(0,T.tl)(C)||C;return A.selectedElementIds[Y.id]&&A.selectedElementsAreBeingDragged?A.frameToHighlight:r(Y)},j=function(C,A,Y){var ie=B(C,Y),le=(0,p.iB)(C)&&(0,T.tl)(C)||C;if(ie){if(!Y.selectedElementIds[C.id]||!Y.selectedElementsAreBeingDragged)return!0;if(le.groupIds.length===0)return $(le,ie);var ce=new Set(le.groupIds.flatMap(function(Ae){return(0,N.Fb)(A,Ae)}));if(Y.editingGroupId&&Y.selectedElementsAreBeingDragged){var de=new Set((0,u.eD)(A,Y));if(Y.frameToHighlight!==null)return!0;de.forEach(function(Ae){ce.delete(Ae)})}var J,ee=k(ce);try{for(ee.s();!(J=ee.n()).done;){var he=J.value;if((0,p.He)(he))return!1}}catch(Ae){ee.e(Ae)}finally{ee.f()}var Pe,He=k(ce);try{for(He.s();!(Pe=He.n()).done;){var Ke=Pe.value;if($(Ke,ie))return!0}}catch(Ae){He.e(Ae)}finally{He.f()}}return!1}},9215:function(te,t,e){e.d(t,{AI:function(){return I},F$:function(){return x},Fb:function(){return G},Nd:function(){return fe},Qy:function(){return U},S_:function(){return L},YS:function(){return $},bO:function(){return m},h6:function(){return F},iE:function(){return ye},iJ:function(){return ue},yO:function(){return Q},yR:function(){return me},zq:function(){return k}});var _=e(1930),g=e(2577),p=e(7169),y=e(4105),T=e(4761),E=e(6264);function a(P,w){var f=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!f){if(Array.isArray(P)||(f=function(S,z){if(S){if(typeof S=="string")return u(S,z);var B=Object.prototype.toString.call(S).slice(8,-1);if(B==="Object"&&S.constructor&&(B=S.constructor.name),B==="Map"||B==="Set")return Array.from(S);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return u(S,z)}}(P))||w){f&&(P=f);var r=0,o=function(){};return{s:o,n:function(){return r>=P.length?{done:!0}:{done:!1,value:P[r++]}},e:function(S){throw S},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,s=!0,c=!1;return{s:function(){f=f.call(P)},n:function(){var S=f.next();return s=S.done,S},e:function(S){c=!0,b=S},f:function(){try{s||f.return==null||f.return()}finally{if(c)throw b}}}}function u(P,w){(w==null||w>P.length)&&(w=P.length);for(var f=0,r=new Array(w);f<w;f++)r[f]=P[f];return r}function N(P,w){var f=Object.keys(P);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(P);w&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(P,o).enumerable})),f.push.apply(f,r)}return f}function H(P){for(var w=1;w<arguments.length;w++){var f=arguments[w]!=null?arguments[w]:{};w%2?N(Object(f),!0).forEach(function(r){(0,p.Z)(P,r,f[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(f)):N(Object(f)).forEach(function(r){Object.defineProperty(P,r,Object.getOwnPropertyDescriptor(f,r))})}return P}var x=function(P,w,f){var r=f.reduce(function(o,b){return b.groupIds.includes(P)&&(o[b.id]=!0),o},{});return Object.keys(r).length<2?w.selectedGroupIds[P]||w.editingGroupId===P?{selectedElementIds:w.selectedElementIds,selectedGroupIds:H(H({},w.selectedGroupIds),{},(0,p.Z)({},P,!1)),editingGroupId:null}:w:{editingGroupId:w.editingGroupId,selectedGroupIds:H(H({},w.selectedGroupIds),{},(0,p.Z)({},P,!0)),selectedElementIds:H(H({},w.selectedElementIds),r)}},m=function(){var P=null,w=null,f=null,r=function(o,b,s,c){var S=c?c.scene.getSelectedElements({selectedElementIds:o.selectedElementIds,elements:b}):(0,y.eD)(b,o);return S.length?function(z,B,j,C){var A;if(f!==void 0&&B===w&&z===P&&j.editingGroupId===((A=f)===null||A===void 0?void 0:A.editingGroupId))return f;var Y,ie={},le=a(z);try{for(le.s();!(Y=le.n()).done;){var ce=Y.value.groupIds;if(j.editingGroupId){var de=ce.indexOf(j.editingGroupId);de>-1&&(ce=ce.slice(0,de))}if(ce.length>0){var J=ce[ce.length-1];ie[J]=!0}}}catch(Ae){le.e(Ae)}finally{le.f()}for(var ee={},he=B.reduce(function(Ae,Oe){var Te=Oe.groupIds.find(function(De){return ie[De]});return Te&&(Ae[Oe.id]=!0,Array.isArray(ee[Te])?ee[Te].push(Oe.id):ee[Te]=[Oe.id]),Ae},{}),Pe=0,He=Object.keys(ee);Pe<He.length;Pe++){var Ke=He[Pe];ee[Ke].length<2&&ie[Ke]&&(ie[Ke]=!1)}return w=B,P=z,f={editingGroupId:j.editingGroupId,selectedGroupIds:ie,selectedElementIds:(0,E.Oh)(H(H({},j.selectedElementIds),he),C)}}(S,b,o,s):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:(0,E.Oh)(o.selectedElementIds,s)}};return r.clearCache=function(){w=null,P=null,f=null},r}(),k=function(P,w){return Q(P,w)!=null},Q=function(P,w){return w.groupIds.filter(function(f){return f!==P.editingGroupId}).find(function(f){return P.selectedGroupIds[f]})},ue=function(P){return Object.entries(P.selectedGroupIds).filter(function(w){var f=(0,g.Z)(w,2);return f[0],f[1]}).map(function(w){var f=(0,g.Z)(w,2),r=f[0];return f[1],r})},me=function(P,w){var f,r=H(H({},w),{},{selectedGroupIds:{}}),o=a(P);try{for(o.s();!(f=o.n()).done;){var b=f.value.groupIds;if(w.editingGroupId){var s=b.indexOf(w.editingGroupId);s>-1&&(b=b.slice(0,s))}if(b.length>0){var c=b[b.length-1];r=H(H({},r),x(c,r,P))}}}catch(S){o.e(S)}finally{o.f()}return r.selectedGroupIds},ye=function(P,w){return H(H({},P),{},{editingGroupId:w.groupIds.length?w.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,p.Z)({},w.id,!0)})},fe=function(P,w){return P.groupIds.includes(w)},G=function(P,w){return P.filter(function(f){return fe(f,w)})},$=function(P,w){return P.groupIds.find(function(f){return w[f]})},U=function(P,w,f){for(var r=(0,_.Z)(P),o=w?P.indexOf(w):-1,b=o>-1?o:P.length,s=0;s<b;s++)r[s]=f(r[s]);return r},L=function(P,w,f){var r=(0,_.Z)(P),o=f?r.indexOf(f):-1,b=o>-1?o:r.length;return r.splice(b,0,w),r},F=function(P,w){return P.filter(function(f){return!w[f]})},I=function(P){var w=new Map;return P.forEach(function(f){var r=f.groupIds.length===0?f.id:f.groupIds[f.groupIds.length-1],o=w.get(r)||[],b=(0,T.WJ)(f);b&&o.push(b),w.set(r,[].concat((0,_.Z)(o),[f]))}),Array.from(w.values())}},334:function(te,t,e){e.d(t,{F:function(){return E}});var _=e(1930),g=e(2577),p=e(9787),y=e(8242),T=e(100),E=function(a){var u=(0,p.useState)(null),N=(0,g.Z)(u,2),H=N[0],x=N[1],m=(0,y.Fy)(),k=(0,T.I)().theme,Q=(0,y.J0)().container;return(0,p.useLayoutEffect)(function(){var ue,me;H&&(H.className="",(ue=H.classList).add.apply(ue,["excalidraw"].concat((0,_.Z)((a==null||(me=a.className)===null||me===void 0?void 0:me.split(/\s+/))||[]))),H.classList.toggle("excalidraw--mobile",m.editor.isMobile),H.classList.toggle("theme--dark",k==="dark"))},[H,k,m.editor.isMobile,a?.className]),(0,p.useLayoutEffect)(function(){var ue=a!=null&&a.parentSelector?Q?.querySelector(a.parentSelector):document.body;if(ue){var me=document.createElement("div");return ue.appendChild(me),x(me),function(){ue.removeChild(me)}}},[Q,a?.parentSelector]),H}},5832:function(te,t,e){e.d(t,{YX:function(){return H},mF:function(){return m},yT:function(){return k}});var _=e(2577),g=e(8950),p=e(2975),y=e.n(p),T=e(3607),E=e(9787),a=e(9240),u=e(453),N=e(507),H=(0,T.cn)(new Map),x=function(){var Q=(0,g.Z)(y().mark(function ue(me){return y().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.next=2,(0,N.$D)({elements:me,appState:{exportBackground:!1,viewBackgroundColor:a.HO.white},files:null,renderEmbeddables:!1});case 2:return ye.abrupt("return",ye.sent);case 3:case"end":return ye.stop()}},ue)}));return function(ue){return Q.apply(this,arguments)}}(),m=function(Q,ue,me){var ye=(0,E.useState)(),fe=(0,_.Z)(ye,2),G=fe[0],$=fe[1];return(0,E.useEffect)(function(){if(ue)if(Q){var U=me.get(Q);U?$(U):(0,g.Z)(y().mark(function L(){var F,I;return y().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,x(ue);case 2:I=P.sent,(F=I.querySelector(".style-fonts"))===null||F===void 0||F.remove(),I&&(me.set(Q,I),$(I));case 5:case"end":return P.stop()}},L)}))()}else(0,g.Z)(y().mark(function L(){var F;return y().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,x(ue);case 2:F=I.sent,$(F);case 4:case"end":return I.stop()}},L)}))()},[Q,ue,me,$]),G},k=function(){var Q=(0,T.KO)(H,u.yE),ue=(0,_.Z)(Q,1)[0];return{clearLibraryCache:function(){return ue.clear()},deleteItemsFromLibraryCache:function(me){me.forEach(function(ye){return ue.delete(ye)})},svgCache:ue}}},1901:function(te,t,e){e.d(t,{O:function(){return p}});var _=e(9787),g=e(9937);function p(y,T,E){(0,_.useEffect)(function(){function a(u){var N=u;if(y.current){var H=E?.(N,y.current);if(H!==!0){if(H===!1)return T(N);!y.current.contains(N.target)&&document.documentElement.contains(N.target)&&(N.target.closest("[data-radix-portal]")||N.target===document.documentElement&&document.body.style.pointerEvents==="none"||N.target.closest("[data-prevent-outside-click]")||T(N))}}}return document.addEventListener(g.Ks.POINTER_DOWN,a),document.addEventListener(g.Ks.TOUCH_START,a),function(){document.removeEventListener(g.Ks.POINTER_DOWN,a),document.removeEventListener(g.Ks.TOUCH_START,a)}},[y,T,E])}},8227:function(te,t,e){e.d(t,{Fp:function(){return N},G3:function(){return ue},Mj:function(){return H},QT:function(){return G},m0:function(){return Q},t:function(){return ye}});var _=e(8950),g=e(1930),p=e(2975),y=e.n(p),T=e(1463),E=e(4451),a=e(453),u=e(3607),N={code:"en",label:"English"},H=[N].concat((0,g.Z)([{code:"ar-SA",label:"",rtl:!0},{code:"bg-BG",label:""},{code:"ca-ES",label:"Catal"},{code:"cs-CZ",label:"esky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:""},{code:"es-ES",label:"Espaol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Franais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"",rtl:!0},{code:"hi-IN",label:""},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:""},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:" "},{code:"ko-KR",label:""},{code:"ku-TR",label:"Kurd"},{code:"lt-LT",label:"Lietuvi"},{code:"lv-LV",label:"Latvieu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokml"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:""},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugus Brasileiro"},{code:"pt-PT",label:"Portugus"},{code:"ro-RO",label:"Romn"},{code:"ru-RU",label:""},{code:"sk-SK",label:"Slovenina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenina"},{code:"tr-TR",label:"Trke"},{code:"uk-UA",label:""},{code:"zh-CN",label:""},{code:"zh-TW",label:""},{code:"vi-VN",label:"Ting Vit"},{code:"mr-IN",label:""}].filter(function($){return E[$.code]>=85}).sort(function($,U){return $.label>U.label?1:-1}))),x="__test__",m=N,k={},Q=function(){var $=(0,_.Z)(y().mark(function U(L){return y().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(m=L,document.documentElement.dir=m.rtl?"rtl":"ltr",document.documentElement.lang=m.code,!L.code.startsWith(x)){F.next=7;break}k={},F.next=17;break;case 7:return F.prev=7,F.next=10,e(940)("./".concat(m.code,".json"));case 10:k=F.sent,F.next=17;break;case 13:F.prev=13,F.t0=F.catch(7),console.error("Failed to load language ".concat(L.code,":"),F.t0.message),k=T;case 17:a.e_.set(fe,L.code);case 18:case"end":return F.stop()}},U,null,[[7,13]])}));return function(U){return $.apply(this,arguments)}}(),ue=function(){return m},me=function($,U){for(var L=0;L<U.length;++L){var F=U[L];if($[F]===void 0)return;$=$[F]}if(typeof $=="string")return $},ye=function($,U,L){if(m.code.startsWith(x)){var F=U?"".concat($,"(").concat(JSON.stringify(U).slice(1,-1),")"):$;return"[[".concat(F,"]]")}var I=$.split("."),P=me(k,I)||me(T,I)||L;if(P===void 0){var w="Can't find translation for ".concat($);return console.warn(w),""}if(U)for(var f in U)P=P.replace("{{".concat(f,"}}"),String(U[f]));return P},fe=(0,u.cn)(N.code),G=function(){var $=(0,u.Dv)(fe,a.yE);return{t:ye,langCode:$}}},453:function(te,t,e){e.d(t,{e_:function(){return p},yE:function(){return g}});var _=e(3607),g=(e(9787),Symbol()),p=(0,_.Vv)()},5491:function(te,t,e){e.d(t,{E0:function(){return E},Ge:function(){return a},OA:function(){return T},Wl:function(){return y},aU:function(){return g},tW:function(){return p}});var _=e(9937),g={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR",S:"KeyS"},p={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:_.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},y=function(u){return u===p.ARROW_LEFT||u===p.ARROW_RIGHT||u===p.ARROW_DOWN||u===p.ARROW_UP},T=function(u){return u.altKey},E=function(u){return u.shiftKey},a=function(u){return u.shiftKey}},2361:function(te,t,e){e.d(t,{EK:function(){return F},H5:function(){return N},Jj:function(){return L},LW:function(){return u},N_:function(){return fe},Ni:function(){return m},U1:function(){return T},Xt:function(){return w},c9:function(){return x},eH:function(){return $},ep:function(){return I},g6:function(){return H},lk:function(){return U},mW:function(){return P},wC:function(){return ue},xj:function(){return E},yB:function(){return ye},yW:function(){return me},yq:function(){return a}});var _=e(2577),g=e(9937),p=e(4949),y=e(2921),T=function(f,r,o,b,s){return[(f-o)*Math.cos(s)-(r-b)*Math.sin(s)+o,(f-o)*Math.sin(s)+(r-b)*Math.cos(s)+b]},E=function(f,r,o){return T(f[0],f[1],r[0],r[1],o)},a=function(f,r,o,b,s,c,S,z){var B=Math.cos(b),j=Math.sin(b);return f.e&&f.w?r+=s+S:f.e?(r+=s*(1+B),o+=s*j,r+=S*(1-B),o+=S*-j):f.w&&(r+=s*(1-B),o+=s*-j,r+=S*(1+B),o+=S*j),f.n&&f.s?o+=c+z:f.n?(r+=c*j,o+=c*(1-B),r+=z*-j,o+=z*(1+B)):f.s&&(r+=c*-j,o+=c*(1+B),r+=z*j,o+=z*(1-B)),[r,o]},u=function(f,r,o,b){var s=o-f,c=b-r;return Math.hypot(s,c)},N=function(f,r){return[(f[0]+r[0])/2,(f[1]+r[1])/2]},H=function(f){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(f.length>=3){var o=[f[0],f[f.length-1]],b=o[0],s=o[1],c=u(b[0],b[1],s[0],s[1]);return c<=g.qx/r}return!1},x=function(f,r,o){var b=f.length;if(b<3)return!1;for(var s=[Number.MAX_SAFE_INTEGER,o],c=[r,o],S=0,z=0;z<b;z++){var B=f[z],j=f[(z+1)%b];if(Q(B,j,c,s)){if(k(B,c,j)===0)return m(B,c,j);S++}}return S%2==1},m=function(f,r,o){return r[0]<=Math.max(f[0],o[0])&&r[0]>=Math.min(f[0],o[0])&&r[1]<=Math.max(f[1],o[1])&&r[1]>=Math.min(f[1],o[1])},k=function(f,r,o){var b=(r[1]-f[1])*(o[0]-r[0])-(r[0]-f[0])*(o[1]-r[1]);return b===0?0:b>0?1:2},Q=function(f,r,o,b){var s=k(f,r,o),c=k(f,r,b),S=k(o,b,f),z=k(o,b,r);return s!==c&&S!==z||!(s!==0||!m(f,o,r))||!(c!==0||!m(f,b,r))||!(S!==0||!m(o,f,b))||!(z!==0||!m(o,r,b))},ue=function(f,r,o){return o?[Math.round(f/o)*o,Math.round(r/o)*o]:[f,r]},me=function(f,r){var o,b,s;if(((o=r.roundness)===null||o===void 0?void 0:o.type)===g.a6.PROPORTIONAL_RADIUS||((b=r.roundness)===null||b===void 0?void 0:b.type)===g.a6.LEGACY)return f*g.Rx;if(((s=r.roundness)===null||s===void 0?void 0:s.type)===g.a6.ADAPTIVE_RADIUS){var c,S,z=(c=(S=r.roundness)===null||S===void 0?void 0:S.value)!==null&&c!==void 0?c:g._9;return f<=z/g.Rx?f*g.Rx:z}return 0},ye=function(f,r){var o=y.R.generateElementShape(f);if(!o)return null;for(var b=(0,p.CM)(o[0]),s=[0,0],c=0,S=1/0,z=null;c<b.length;){var B=b[c],j=B.op,C=B.data;if(j==="move"&&(s=C),j==="bcurveTo"){var A=s,Y=[C[0],C[1]],ie=[C[2],C[3]],le=[C[4],C[5]],ce=u(le[0],le[1],r[0],r[1]);ce<S&&(S=ce,z=[A,Y,ie,le]),s=le}c++}return z},fe=function(f,r,o,b,s){var c=function(S,z){return Math.pow(1-S,3)*b[z]+3*S*Math.pow(1-S,2)*o[z]+3*Math.pow(S,2)*(1-S)*r[z]+f[z]*Math.pow(S,3)};return[c(s,0),c(s,1)]},G=function(f,r){var o=[];o[0]=0;for(var b=function(S,z){var B=ye(S,z);if(!B)return[];for(var j=[],C=1;C>0;){var A=fe(B[0],B[1],B[2],B[3],C);j.push([A[0],A[1]]),C-=.05}return j.length&&L(j.at(-1),z)&&j.push([z[0],z[1]]),j}(f,r),s=0,c=0;s<b.length-1;)c+=u(b[s][0],b[s][1],b[s+1][0],b[s+1][1]),o.push(c),s++;return o},$=function(f,r){return G(f,r).at(-1)},U=function(f,r,o){for(var b=G(f,r),s=b.length-1,c=o*b.at(-1),S=0,z=s,B=0;S<z;)b[B=Math.floor(S+(z-S)/2)]<c?S=B+1:z=B;return b[B]>c&&B--,b[B]===c?B/s:1-(B+(c-b[B])/(b[B+1]-b[B]))/s},L=function(f,r){return f[0]===r[0]&&f[1]===r[1]},F=function(f){return Math.round(f/Math.PI*1e4)%5e3==0},I=function(f,r){var o=(0,_.Z)(f,2),b=o[0],s=o[1],c=(0,_.Z)(r,2),S=c[0],z=c[1];return b<=S?s>=S:b>=S&&z>=b},P=function(f,r){var o=Math.max(f[0],r[0]),b=Math.min(f[1],r[1]);return o<=b?[o,b]:null},w=function(f,r,o){return f>=r&&f<=o}},4864:function(te,t,e){e.d(t,{zx:function(){return we.z},Or:function(){return xt.O},Eb:function(){return un},ut:function(){return S.ut},$_:function(){return ce},vO:function(){return Et},LO:function(){return S.LO},lb:function(){return de.Z},YE:function(){return _t.YE},C6:function(){return S.C6},B4:function(){return ze},ZP:function(){return $t.ZP},wc:function(){return It.w},Fp:function(){return m.Fp},sQ:function(){return Nt.sQ},Xs:function(){return Nt.Xs},Fl:function(){return Gt.Fl},NL:function(){return Gt.NL},i1:function(){return Gt.i1},$D:function(){return Gt.$D},KP:function(){return Mt.KP},N7:function(){return Gt.N7},Lm:function(){return jt.Lm},Uo:function(){return jt.Uo},Ne:function(){return Nt.Ne},QD:function(){return jt.QD},bt:function(){return Ht.bt},Mj:function(){return m.Mj},cT:function(){return Gt.cT},lV:function(){return Gt.lV},ZY:function(){return Gt.ZY},zh:function(){return Gt.zh},DR:function(){return $t.DR},BE:function(){return $t.BE},$u:function(){return At.$u},Di:function(){return pn.Di},nu:function(){return Kt.nu},lY:function(){return Kt.lY},ET:function(){return Kt.ET},wJ:function(){return Kt.wJ},_i:function(){return me._i},I_:function(){return Gt.I_},NI:function(){return Gt.NI},Fy:function(){return ue.Fy},xS:function(){return pn.xS},QT:function(){return m.QT},dE:function(){return me.dE}});var _=e(6479),g=e.n(_),p=e(9713),y=e.n(p),T=e(9787),E=e.n(T),a=e(8950),u=e(2577),N=e(2975),H=e.n(N),x=e(7165),m=e(8227),k=e(1020),Q=function(zt){var en=(0,T.useState)(!0),Jt=(0,u.Z)(en,2),Sn=Jt[0],Hn=Jt[1];return(0,T.useEffect)(function(){var Yn=function(){var $n=(0,a.Z)(H().mark(function rn(){return H().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Pt.next=2,(0,m.m0)(or);case 2:Hn(!1);case 3:case"end":return Pt.stop()}},rn)}));return function(){return $n.apply(this,arguments)}}(),or=m.Mj.find(function($n){return $n.code===zt.langCode})||m.Fp;Yn()},[zt.langCode]),Sn?(0,k.jsx)(x.z,{theme:zt.theme}):zt.children},ue=e(8242),me=e(9827),ye=e(3379),fe=e.n(ye),G=e(7795),$=e.n(G),U=e(569),L=e.n(U),F=e(3565),I=e.n(F),P=e(9216),w=e.n(P),f=e(4589),r=e.n(f),o=e(9915),b={};b.styleTagTransform=r(),b.setAttributes=I(),b.insert=L().bind(null,"head"),b.domAPI=$(),b.insertStyleElement=w(),fe()(o.Z,b),o.Z&&o.Z.locals&&o.Z.locals;var s=e(9310),c={};c.styleTagTransform=r(),c.setAttributes=I(),c.insert=L().bind(null,"head"),c.domAPI=$(),c.insertStyleElement=w(),fe()(s.Z,c),s.Z&&s.Z.locals&&s.Z.locals;var S=e(9937),z=e(3607),B=e(453),j=e(45),C=e(4572),A=e(8793),Y={};Y.styleTagTransform=r(),Y.setAttributes=I(),Y.insert=L().bind(null,"head"),Y.domAPI=$(),Y.insertStyleElement=w(),fe()(A.Z,Y),A.Z&&A.Z.locals&&A.Z.locals;var ie=e(100),le=function(zt){var en=zt.children,Jt=(0,C.R6)().FooterCenterTunnel,Sn=(0,ie.I)();return(0,k.jsx)(Jt.In,{children:(0,k.jsx)("div",{className:(0,j.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Sn.zenModeEnabled}),children:en})})},ce=le;le.displayName="FooterCenter";var de=e(7021),J=e(7169),ee=e(2726),he=e(5463),Pe=e(2529),He=e(8935),Ke=e(5744),Ae={};Ae.styleTagTransform=r(),Ae.setAttributes=I(),Ae.insert=L().bind(null,"head"),Ae.domAPI=$(),Ae.insertStyleElement=w(),fe()(Ke.Z,Ae),Ke.Z&&Ke.Z.locals&&Ke.Z.locals;var Oe=function(){return(0,k.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,k.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})})},Te=function(){return(0,k.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,k.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,k.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,k.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,k.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]})},De=function(zt){var en=zt.style,Jt=zt.size,Sn=Jt===void 0?"small":Jt,Hn=zt.withText;return(0,k.jsxs)("div",{className:"ExcalidrawLogo is-".concat(Sn),style:en,children:[(0,k.jsx)(Oe,{}),Hn&&(0,k.jsx)(Te,{})]})},ke=["onSelect","children","icon","shortcut","className"],be=["children","href","icon","shortcut","className"];function ve(zt,en){var Jt=Object.keys(zt);if(Object.getOwnPropertySymbols){var Sn=Object.getOwnPropertySymbols(zt);en&&(Sn=Sn.filter(function(Hn){return Object.getOwnPropertyDescriptor(zt,Hn).enumerable})),Jt.push.apply(Jt,Sn)}return Jt}function D(zt){for(var en=1;en<arguments.length;en++){var Jt=arguments[en]!=null?arguments[en]:{};en%2?ve(Object(Jt),!0).forEach(function(Sn){(0,J.Z)(zt,Sn,Jt[Sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors(Jt)):ve(Object(Jt)).forEach(function(Sn){Object.defineProperty(zt,Sn,Object.getOwnPropertyDescriptor(Jt,Sn))})}return zt}var l=function(zt){var en=zt.icon,Jt=zt.shortcut,Sn=zt.children,Hn=(0,ue.Fy)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"welcome-screen-menu-item__icon",children:en}),(0,k.jsx)("div",{className:"welcome-screen-menu-item__text",children:Sn}),Jt&&!Hn.editor.isMobile&&(0,k.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:Jt})]})};l.displayName="WelcomeScreenMenuItemContent";var d=function(zt){var en=zt.onSelect,Jt=zt.children,Sn=zt.icon,Hn=zt.shortcut,Yn=zt.className,or=Yn===void 0?"":Yn,$n=(0,ee.Z)(zt,ke);return(0,k.jsx)("button",D(D({},$n),{},{type:"button",className:"welcome-screen-menu-item ".concat(or),onClick:en,children:(0,k.jsx)(l,{icon:Sn,shortcut:Hn,children:Jt})}))};d.displayName="WelcomeScreenMenuItem";var M=function(zt){var en=zt.children,Jt=zt.href,Sn=zt.icon,Hn=zt.shortcut,Yn=zt.className,or=Yn===void 0?"":Yn,$n=(0,ee.Z)(zt,be);return(0,k.jsx)("a",D(D({},$n),{},{className:"welcome-screen-menu-item ".concat(or),href:Jt,target:"_blank",rel:"noreferrer",children:(0,k.jsx)(l,{icon:Sn,shortcut:Hn,children:en})}))};M.displayName="WelcomeScreenMenuItemLink";var V=function(zt){var en=zt.children,Jt=(0,C.R6)().WelcomeScreenCenterTunnel;return(0,k.jsx)(Jt.In,{children:(0,k.jsx)("div",{className:"welcome-screen-center",children:en||(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(q,{}),(0,k.jsx)(re,{children:(0,m.t)("welcomeScreen.defaults.center_heading")}),(0,k.jsxs)(ae,{children:[(0,k.jsx)(Se,{}),(0,k.jsx)(ge,{})]})]})})})};V.displayName="Center";var q=function(zt){var en=zt.children;return(0,k.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:en||(0,k.jsx)(De,{withText:!0})})};q.displayName="Logo";var re=function(zt){var en=zt.children;return(0,k.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:en})};re.displayName="Heading";var ae=function(zt){var en=zt.children;return(0,k.jsx)("div",{className:"welcome-screen-menu",children:en})};ae.displayName="Menu";var ge=function(){var zt=(0,ue.eh)();return(0,k.jsx)(d,{onSelect:function(){return zt.executeAction(he.jY)},shortcut:"?",icon:He.by,children:(0,m.t)("helpDialog.title")})};ge.displayName="MenuItemHelp";var Se=function(){var zt=(0,ie.I)(),en=(0,ue.eh)();return zt.viewModeEnabled?null:(0,k.jsx)(d,{onSelect:function(){return en.executeAction(he._d)},shortcut:(0,Pe.C)("loadScene"),icon:He.Tl,children:(0,m.t)("buttons.load")})};Se.displayName="MenuItemLoadScene";var Re=function(zt){var en=zt.onSelect,Jt=(0,m.QT)().t;return(0,k.jsx)(d,{shortcut:null,onSelect:en,icon:He.jn,children:Jt("labels.liveCollaboration")})};Re.displayName="MenuItemLiveCollaborationTrigger",V.Logo=q,V.Heading=re,V.Menu=ae,V.MenuItem=d,V.MenuItemLink=M,V.MenuItemHelp=ge,V.MenuItemLoadScene=Se,V.MenuItemLiveCollaborationTrigger=Re;var Ye=function(zt){var en=zt.children,Jt=(0,C.R6)().WelcomeScreenMenuHintTunnel;return(0,k.jsx)(Jt.In,{children:(0,k.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[He.oQ,(0,k.jsx)("div",{className:"welcome-screen-decor-hint__label",children:en||(0,m.t)("welcomeScreen.defaults.menuHint")})]})})};Ye.displayName="MenuHint";var Ge=function(zt){var en=zt.children,Jt=(0,C.R6)().WelcomeScreenToolbarHintTunnel;return(0,k.jsx)(Jt.In,{children:(0,k.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,k.jsx)("div",{className:"welcome-screen-decor-hint__label",children:en||(0,m.t)("welcomeScreen.defaults.toolbarHint")}),He.DJ]})})};Ge.displayName="ToolbarHint";var We=function(zt){var en=zt.children,Jt=(0,C.R6)().WelcomeScreenHelpHintTunnel;return(0,k.jsx)(Jt.In,{children:(0,k.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,k.jsx)("div",{children:en||(0,m.t)("welcomeScreen.defaults.helpHint")}),He._U]})})};We.displayName="HelpHint";var qe=e(1569),lt={};lt.styleTagTransform=r(),lt.setAttributes=I(),lt.insert=L().bind(null,"head"),lt.domAPI=$(),lt.insertStyleElement=w(),fe()(qe.Z,lt),qe.Z&&qe.Z.locals&&qe.Z.locals;var ft=function(zt){return(0,k.jsx)(k.Fragment,{children:zt.children||(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(V,{}),(0,k.jsx)(Ye,{}),(0,k.jsx)(Ge,{}),(0,k.jsx)(We,{})]})})};ft.displayName="WelcomeScreen",ft.Center=V,ft.Hints={MenuHint:Ye,ToolbarHint:Ge,HelpHint:We};var ze=ft,we=e(8806),Me=e(3397),$e={};$e.styleTagTransform=r(),$e.setAttributes=I(),$e.insert=L().bind(null,"head"),$e.domAPI=$(),$e.insertStyleElement=w(),fe()(Me.Z,$e),Me.Z&&Me.Z.locals&&Me.Z.locals;var at=["isCollaborating","onSelect"];function dt(zt,en){var Jt=Object.keys(zt);if(Object.getOwnPropertySymbols){var Sn=Object.getOwnPropertySymbols(zt);en&&(Sn=Sn.filter(function(Hn){return Object.getOwnPropertyDescriptor(zt,Hn).enumerable})),Jt.push.apply(Jt,Sn)}return Jt}function vt(zt){for(var en=1;en<arguments.length;en++){var Jt=arguments[en]!=null?arguments[en]:{};en%2?dt(Object(Jt),!0).forEach(function(Sn){(0,J.Z)(zt,Sn,Jt[Sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors(Jt)):dt(Object(Jt)).forEach(function(Sn){Object.defineProperty(zt,Sn,Object.getOwnPropertyDescriptor(Jt,Sn))})}return zt}var Tt=function(zt){var en=zt.isCollaborating,Jt=zt.onSelect,Sn=(0,ee.Z)(zt,at),Hn=(0,ie.I)();return(0,k.jsxs)(we.z,vt(vt({},Sn),{},{className:(0,j.Z)("collab-button",{active:en}),type:"button",onSelect:Jt,style:{position:"relative"},title:(0,m.t)("labels.liveCollaboration"),children:[He.jn,Hn.collaborators.size>0&&(0,k.jsx)("div",{className:"CollabButton-collaborators",children:Hn.collaborators.size})]}))},Et=Tt;Tt.displayName="LiveCollaborationTrigger";var jt=e(7651),Kt=e(7994),Gt=e(507),Ht=e(4183),$t=e(583),pn=e(9326),_t=e(5902),xt=e(1925),At=e(8020),It=e(6199),Mt=e(4949),Nt=e(6013),Yt=["initialData","UIOptions"],ln=["initialData","UIOptions"];function an(zt,en){var Jt=Object.keys(zt);if(Object.getOwnPropertySymbols){var Sn=Object.getOwnPropertySymbols(zt);en&&(Sn=Sn.filter(function(Hn){return Object.getOwnPropertyDescriptor(zt,Hn).enumerable})),Jt.push.apply(Jt,Sn)}return Jt}function kn(zt){for(var en=1;en<arguments.length;en++){var Jt=arguments[en]!=null?arguments[en]:{};en%2?an(Object(Jt),!0).forEach(function(Sn){y()(zt,Sn,Jt[Sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors(Jt)):an(Object(Jt)).forEach(function(Sn){Object.defineProperty(zt,Sn,Object.getOwnPropertyDescriptor(Jt,Sn))})}return zt}var Tn=function(zt){var en,Jt,Sn,Hn,Yn,or,$n=zt.onChange,rn=zt.initialData,Pt=zt.excalidrawAPI,Dt=zt.isCollaborating,Ft=Dt!==void 0&&Dt,dn=zt.onPointerUpdate,jn=zt.renderTopRightUI,Cn=zt.langCode,Dn=Cn===void 0?m.Fp.code:Cn,Wn=zt.viewModeEnabled,Ln=zt.zenModeEnabled,er=zt.gridModeEnabled,Vn=zt.libraryReturnUrl,Pn=zt.theme,Rn=zt.name,Nn=zt.renderCustomStats,Gn=zt.onPaste,nr=zt.detectScroll,rr=nr===void 0||nr,Or=zt.handleKeyboardGlobally,Xr=Or!==void 0&&Or,po=zt.onLibraryChange,xo=zt.autoFocus,jo=xo!==void 0&&xo,ho=zt.generateIdForFile,Qr=zt.onLinkOpen,go=zt.onPointerDown,et=zt.onScrollChange,Ee=zt.children,Le=zt.validateEmbeddable,Ue=zt.renderEmbeddable,st=(en=zt.UIOptions)===null||en===void 0?void 0:en.canvasActions,Zt=kn(kn({},zt.UIOptions),{},{canvasActions:kn(kn({},S.cW.canvasActions),st),tools:{image:(Jt=(Sn=zt.UIOptions)===null||Sn===void 0||(Hn=Sn.tools)===null||Hn===void 0?void 0:Hn.image)===null||Jt===void 0||Jt}});return st!=null&&st.export&&(Zt.canvasActions.export.saveFileToDisk=(Yn=(or=st.export)===null||or===void 0?void 0:or.saveFileToDisk)!==null&&Yn!==void 0?Yn:S.cW.canvasActions.export.saveFileToDisk),Zt.canvasActions.toggleTheme===null&&Pn===void 0&&(Zt.canvasActions.toggleTheme=!0),(0,T.useEffect)(function(){var qt=function(mn){typeof mn.scale=="number"&&mn.scale!==1&&mn.preventDefault()};return document.addEventListener("touchmove",qt,{passive:!1}),function(){document.removeEventListener("touchmove",qt)}},[]),(0,k.jsx)(z.zt,{unstable_createStore:function(){return B.e_},scope:B.yE,children:(0,k.jsx)(Q,{langCode:Dn,theme:Pn,children:(0,k.jsx)(ue.ZP,{onChange:$n,initialData:rn,excalidrawAPI:Pt,isCollaborating:Ft,onPointerUpdate:dn,renderTopRightUI:jn,langCode:Dn,viewModeEnabled:Wn,zenModeEnabled:Ln,gridModeEnabled:er,libraryReturnUrl:Vn,theme:Pn,name:Rn,renderCustomStats:Nn,UIOptions:Zt,onPaste:Gn,detectScroll:rr,handleKeyboardGlobally:Xr,onLibraryChange:po,autoFocus:jo,generateIdForFile:ho,onLinkOpen:Qr,onPointerDown:go,onScrollChange:et,validateEmbeddable:Le,renderEmbeddable:Ue,children:Ee})})})},zn=function(zt,en){if(zt.children!==en.children)return!1;zt.initialData;var Jt=zt.UIOptions,Sn=Jt===void 0?{}:Jt,Hn=g()(zt,Yt),Yn=(en.initialData,en.UIOptions),or=Yn===void 0?{}:Yn,$n=g()(en,ln),rn=Object.keys(Sn),Pt=Object.keys(or);return rn.length===Pt.length&&rn.every(function(Dt){return Dt==="canvasActions"?Object.keys(Sn.canvasActions).every(function(Ft){var dn,jn,Cn,Dn;return Ft==="export"&&Sn!=null&&(dn=Sn.canvasActions)!==null&&dn!==void 0&&dn.export&&or!=null&&(jn=or.canvasActions)!==null&&jn!==void 0&&jn.export?Sn.canvasActions.export.saveFileToDisk===or.canvasActions.export.saveFileToDisk:(Sn==null||(Cn=Sn.canvasActions)===null||Cn===void 0?void 0:Cn[Ft])===(or==null||(Dn=or.canvasActions)===null||Dn===void 0?void 0:Dn[Ft])}):Sn[Dt]===or[Dt]})&&(0,me.w8)(Hn,$n)},un=E().memo(Tn,zn);un.displayName="Excalidraw"},507:function(te,t,e){e.d(t,{y8:function(){return fe},Fl:function(){return P},NL:function(){return I},i1:function(){return f},$D:function(){return w},N7:function(){return $.N7},cT:function(){return G.cT},lV:function(){return G.lV},ZY:function(){return G.ZY},zh:function(){return U.zh},I_:function(){return H.I_},NI:function(){return H.NI}});var _=e(8950),g=e(7169),p=e(2975),y=e.n(p),T=e(3668),E=e(6853),a=e(7994),u=e(9937),N=e(250),H=e(4419),x=e(4694);function m(r){return[Math.min(r[0][0],r[1][0]),Math.min(r[0][1],r[1][1]),Math.max(r[0][0],r[1][0]),Math.max(r[0][1],r[1][1])]}function k(r,o){return r[0]*o[1]-o[0]*r[1]}function Q(r,o){return[r[0]-o[0],r[1]-o[1]]}function ue(r,o){var b=k(Q(r[1],r[0]),Q(o,r[0]));return Math.abs(b)<1e-6}function me(r,o){return k(Q(r[1],r[0]),Q(o,r[0]))<0}function ye(r,o){return ue(r,o[0])||ue(r,o[1])||(me(r,o[0])?!me(r,o[1]):me(r,o[1]))}function fe(r,o){return function(b,s){return b[0]<=s[2]&&b[2]>=s[0]&&b[1]<=s[3]&&b[3]>=s[1]}(m(r),m(o))&&ye(r,o)&&ye(o,r)}e(6013);var G=e(5796),$=e(9660),U=e(9326);function L(r,o){var b=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);o&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),b.push.apply(b,s)}return b}function F(r){for(var o=1;o<arguments.length;o++){var b=arguments[o]!=null?arguments[o]:{};o%2?L(Object(b),!0).forEach(function(s){(0,g.Z)(r,s,b[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(b)):L(Object(b)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(b,s))})}return r}var I=function(r){var o=r.elements,b=r.appState,s=r.files,c=r.maxWidthOrHeight,S=r.getDimensions,z=r.exportPadding,B=r.exportingFrame,j=(0,a.nu)({elements:o,appState:b},null,null),C=j.elements,A=j.appState,Y=A.exportBackground,ie=A.viewBackgroundColor;return(0,T.NL)(C,F(F({},A),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),s||{},{exportBackground:Y,exportPadding:z,viewBackgroundColor:ie,exportingFrame:B},function(le,ce){var de,J=document.createElement("canvas");if(c){var ee;typeof S=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var he=Math.max(le,ce),Pe=c<he?c/he:(ee=b?.exportScale)!==null&&ee!==void 0?ee:1;return J.width=le*Pe,J.height=ce*Pe,{canvas:J,scale:Pe}}var He=S?.(le,ce)||{width:le,height:ce};return J.width=He.width,J.height=He.height,{canvas:J,scale:(de=He.scale)!==null&&de!==void 0?de:1}})},P=function(){var r=(0,_.Z)(y().mark(function o(b){var s,c,S,z,B,j;return y().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return S=(c=b).mimeType,z=S===void 0?u.LO.png:S,B=c.quality,z===u.LO.png&&typeof B=="number"&&console.warn('"quality" will be ignored for "'.concat(u.LO.png,'" mimeType')),z==="image/jpg"&&(z=u.LO.jpg),z!==u.LO.jpg||(s=b.appState)!==null&&s!==void 0&&s.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(u.LO.jpg,'" mimeType')),b=F(F({},b),{},{appState:F(F({},b.appState),{},{exportBackground:!0})})),C.next=6,I(b);case 6:return j=C.sent,B=B||(/image\/jpe?g/.test(z)?.92:.8),C.abrupt("return",new Promise(function(A,Y){j.toBlob(function(){var ie=(0,_.Z)(y().mark(function le(ce){var de;return y().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(ce){J.next=2;break}return J.abrupt("return",Y(new Error("couldn't export to blob")));case 2:if(!ce||z!==u.LO.png||(de=b.appState)===null||de===void 0||!de.exportEmbedScene){J.next=6;break}return J.next=5,(0,N.encodePngMetadata)({blob:ce,metadata:(0,H.I_)(b.elements,b.appState,b.files||{},"local")});case 5:ce=J.sent;case 6:A(ce);case 7:case"end":return J.stop()}},le)}));return function(le){return ie.apply(this,arguments)}}(),z,B)}));case 9:case"end":return C.stop()}},o)}));return function(o){return r.apply(this,arguments)}}(),w=function(){var r=(0,_.Z)(y().mark(function o(b){var s,c,S,z,B,j,C,A,Y,ie,le,ce;return y().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return s=b.elements,c=b.appState,S=c===void 0?(0,E.im)():c,z=b.files,B=z===void 0?{}:z,j=b.exportPadding,C=b.renderEmbeddables,A=b.exportingFrame,Y=(0,a.nu)({elements:s,appState:S},null,null),ie=Y.elements,le=Y.appState,ce=F(F({},le),{},{exportPadding:j}),de.abrupt("return",(0,T.$D)(ie,ce,B,{exportingFrame:A,renderEmbeddables:C}));case 4:case"end":return de.stop()}},o)}));return function(o){return r.apply(this,arguments)}}(),f=function(){var r=(0,_.Z)(y().mark(function o(b){var s;return y().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(b.type!=="svg"){c.next=8;break}return c.next=3,w(b);case 3:return s=c.sent,c.next=6,(0,x.dd)(s.outerHTML);case 6:case 11:case 16:c.next=19;break;case 8:if(b.type!=="png"){c.next=13;break}return c.next=11,(0,x.uR)(P(b));case 13:if(b.type!=="json"){c.next=18;break}return c.next=16,(0,x.vQ)(b.elements,b.files);case 18:throw new Error("Invalid export type");case 19:case"end":return c.stop()}},o)}));return function(o){return r.apply(this,arguments)}}()},6013:function(te,t,e){e.d(t,{Ne:function(){return N},Xs:function(){return x},sQ:function(){return H}});var _=e(2577),g=e(4183),p=e(2361),y=e(4949);function T(m,k){var Q=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!Q){if(Array.isArray(m)||(Q=function($,U){if($){if(typeof $=="string")return E($,U);var L=Object.prototype.toString.call($).slice(8,-1);if(L==="Object"&&$.constructor&&(L=$.constructor.name),L==="Map"||L==="Set")return Array.from($);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return E($,U)}}(m))||k){Q&&(m=Q);var ue=0,me=function(){};return{s:me,n:function(){return ue>=m.length?{done:!0}:{done:!1,value:m[ue++]}},e:function($){throw $},f:me}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,fe=!0,G=!1;return{s:function(){Q=Q.call(m)},n:function(){var $=Q.next();return fe=$.done,$},e:function($){G=!0,ye=$},f:function(){try{fe||Q.return==null||Q.return()}finally{if(G)throw ye}}}}function E(m,k){(k==null||k>m.length)&&(k=m.length);for(var Q=0,ue=new Array(k);Q<k;Q++)ue[Q]=m[Q];return ue}var a=function(m){var k=m.reduce(function(Q,ue){var me=(0,_.Z)(ue,2),ye=me[0],fe=me[1];return Q.minY=Math.min(Q.minY,fe),Q.minX=Math.min(Q.minX,ye),Q.maxX=Math.max(Q.maxX,ye),Q.maxY=Math.max(Q.maxY,fe),Q},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return k.cx=(k.maxX+k.minX)/2,k.cy=(k.maxY+k.minY)/2,k},u=function(m){var k=function(L){return(0,g.bt)(L)||(0,g.F9)(L)?L.points:function(F){return F.type==="diamond"?[[F.width/2,0],[F.width,F.height/2],[F.width/2,F.height],[0,F.height/2]]:[[0,0],[0+F.width,0],[0+F.width,F.height],[0,F.height]]}(L)}(m),Q=a(k),ue=[Q.cx,Q.cy],me=k.map(function(L){return(0,p.xj)([L[0],L[1]],ue,m.angle)}),ye=a(me),fe=ye.minX,G=ye.minY,$=ye.maxX,U=ye.maxY;return[fe+m.x,G+m.y,$+m.x,U+m.y]},N=function(m,k){var Q=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ue=u(m),me=k[0]<=ue[0]&&k[2]>=ue[2]&&k[1]<=ue[1]&&k[3]>=ue[3];return Q?!!me||ue[0]<=k[0]&&ue[2]>=k[2]&&ue[1]<=k[1]&&ue[3]>=k[3]:me},H=function(m,k){var Q=u(m);return((0,p.Xt)(Q[0],k[0],k[2])||(0,p.Xt)(k[0],Q[0],Q[2]))&&((0,p.Xt)(Q[1],k[1],k[3])||(0,p.Xt)(k[1],Q[1],Q[3]))},x=function(m){var k=m.elements,Q=m.bounds,ue=m.type,me=m.errorMargin,ye=me===void 0?0:me;(0,g.r2)(Q)&&(Q=(0,y.Pi)(Q));var fe,G=[Q[0]-ye,Q[1]-ye,Q[2]+ye,Q[3]+ye],$=new Set,U=T(k);try{for(U.s();!(fe=U.n()).done;){var L=fe.value;if(!$.has(L.id)&&(ue==="overlap"?H(L,G):ue==="inside"?N(L,G):N(L,G,!0))){if($.add(L.id),L.boundElements){var F,I=T(L.boundElements);try{for(I.s();!(F=I.n()).done;){var P=F.value;$.add(P.id)}}catch(f){I.e(f)}finally{I.f()}}var w;(0,g.iB)(L)&&L.containerId&&$.add(L.containerId),(0,g.Yv)(L)&&(L.startBinding&&$.add(L.startBinding.elementId),L.endBinding&&$.add((w=L.endBinding)===null||w===void 0?void 0:w.elementId))}}}catch(f){U.e(f)}finally{U.f()}return k.filter(function(f){return $.has(f.id)})}},5999:function(te,t,e){e.d(t,{k:function(){return g},z:function(){return p}});var _=e(1930),g=function(y){var T=y.map(function(a){return a[0]}),E=y.map(function(a){return a[1]});return{width:Math.max.apply(Math,(0,_.Z)(T))-Math.min.apply(Math,(0,_.Z)(T)),height:Math.max.apply(Math,(0,_.Z)(E))-Math.min.apply(Math,(0,_.Z)(E))}},p=function(y,T,E,a){var u=E.map(function(me){return me[y]}),N=Math.max.apply(Math,(0,_.Z)(u)),H=Math.min.apply(Math,(0,_.Z)(u)),x=N-H,m=x===0?1:T/x,k=1/0,Q=E.map(function(me){var ye=me[y]*m,fe=(0,_.Z)(me);return fe[y]=ye,ye<k&&(k=ye),fe});if(!a||Q.length===2)return Q;var ue=H-k;return Q.map(function(me){return me.map(function(ye,fe){return fe===y?ye+ue:ye})})}},4643:function(te,t,e){e.d(t,{LU:function(){return E},kb:function(){return a}});var _=e(8152),g=e(5605),p=e(9827),y=new _.k(Date.now()),T=0,E=function(){return Math.floor(y.next()*Math.pow(2,31))},a=function(){return(0,p.h2)()?"id".concat(T++):(0,g.x0)()}},9660:function(te,t,e){e.d(t,{Dn:function(){return le},Xx:function(){return ee},Lc:function(){return ke},N7:function(){return be},lw:function(){return Ke},Rg:function(){return Te},uI:function(){return He}});var _=e(7169),g=e(2577),p=e(4183),y=e(4949),T=e(9827),E=e(2361),a=e(9845),u=e(6853),N=e(9937);function H(l,d,M,V=q=>q){return l*V(.5-d*(.5-M))}function x(l,d){return[l[0]+d[0],l[1]+d[1]]}function m(l,d){return[l[0]-d[0],l[1]-d[1]]}function k(l,d){return[l[0]*d,l[1]*d]}function Q(l){return[l[1],-l[0]]}function ue(l,d){return l[0]*d[0]+l[1]*d[1]}function me(l,d){return l[0]===d[0]&&l[1]===d[1]}function ye(l,d){return function(M){return M[0]*M[0]+M[1]*M[1]}(m(l,d))}function fe(l){return function(d,M){return[d[0]/M,d[1]/M]}(l,function(d){return Math.hypot(d[0],d[1])}(l))}function G(l,d){return Math.hypot(l[1]-d[1],l[0]-d[0])}function $(l,d,M){let V=Math.sin(M),q=Math.cos(M),re=l[0]-d[0],ae=l[1]-d[1],ge=re*V+ae*q;return[re*q-ae*V+d[0],ge+d[1]]}function U(l,d,M){return x(l,k(m(d,l),M))}function L(l,d,M){return x(l,k(d,M))}var{min:F,PI:I}=Math,P=I+1e-4;function w(l,d={}){return function(M,V={}){let{size:q=16,smoothing:re=.5,thinning:ae=.5,simulatePressure:ge=!0,easing:Se=Mt=>Mt,start:Re={},end:Ye={},last:Ge=!1}=V,{cap:We=!0,easing:qe=Mt=>Mt*(2-Mt)}=Re,{cap:lt=!0,easing:ft=Mt=>--Mt*Mt*Mt+1}=Ye;if(M.length===0||q<=0)return[];let ze,we=M[M.length-1].runningLength,Me=Re.taper===!1?0:Re.taper===!0?Math.max(q,we):Re.taper,$e=Ye.taper===!1?0:Ye.taper===!0?Math.max(q,we):Ye.taper,at=Math.pow(q*re,2),dt=[],vt=[],Tt=M.slice(0,10).reduce((Mt,Nt)=>{let Yt=Nt.pressure;if(ge){let ln=F(1,Nt.distance/q),an=F(1,1-ln);Yt=F(1,Mt+.275*ln*(an-Mt))}return(Mt+Yt)/2},M[0].pressure),Et=H(q,ae,M[M.length-1].pressure,Se),jt=M[0].vector,Kt=M[0].point,Gt=Kt,Ht=Kt,$t=Gt,pn=!1;for(let Mt=0;Mt<M.length;Mt++){let{pressure:Nt}=M[Mt],{point:Yt,vector:ln,distance:an,runningLength:kn}=M[Mt];if(Mt<M.length-1&&we-kn<3)continue;if(ae){if(ge){let Sn=F(1,an/q),Hn=F(1,1-Sn);Nt=F(1,Tt+.275*Sn*(Hn-Tt))}Et=H(q,ae,Nt,Se)}else Et=q/2;ze===void 0&&(ze=Et);let Tn=kn<Me?qe(kn/Me):1,zn=we-kn<$e?ft((we-kn)/$e):1;Et=Math.max(.01,Et*Math.min(Tn,zn));let un=(Mt<M.length-1?M[Mt+1]:M[Mt]).vector,zt=Mt<M.length-1?ue(ln,un):1,en=zt!==null&&zt<0;if(ue(ln,jt)<0&&!pn||en){let Sn=k(Q(jt),Et);for(let Hn=.07692307692307693,Yn=0;Yn<=1;Yn+=Hn)Ht=$(m(Yt,Sn),Yt,P*Yn),dt.push(Ht),$t=$(x(Yt,Sn),Yt,P*-Yn),vt.push($t);Kt=Ht,Gt=$t,en&&(pn=!0);continue}if(pn=!1,Mt===M.length-1){let Sn=k(Q(ln),Et);dt.push(m(Yt,Sn)),vt.push(x(Yt,Sn));continue}let Jt=k(Q(U(un,ln,zt)),Et);Ht=m(Yt,Jt),(Mt<=1||ye(Kt,Ht)>at)&&(dt.push(Ht),Kt=Ht),$t=x(Yt,Jt),(Mt<=1||ye(Gt,$t)>at)&&(vt.push($t),Gt=$t),Tt=Nt,jt=ln}let _t=M[0].point.slice(0,2),xt=M.length>1?M[M.length-1].point.slice(0,2):x(M[0].point,[1,1]),At=[],It=[];if(M.length===1){if(!Me&&!$e||Ge){let Mt=L(_t,fe(Q(m(_t,xt))),-(ze||Et)),Nt=[];for(let Yt=.07692307692307693,ln=Yt;ln<=1;ln+=Yt)Nt.push($(Mt,_t,2*P*ln));return Nt}}else{if(!(Me||$e&&M.length===1))if(We)for(let Nt=.07692307692307693,Yt=Nt;Yt<=1;Yt+=Nt){let ln=$(vt[0],_t,P*Yt);At.push(ln)}else{let Nt=m(dt[0],vt[0]),Yt=k(Nt,.5),ln=k(Nt,.51);At.push(m(_t,Yt),m(_t,ln),x(_t,ln),x(_t,Yt))}let Mt=Q(function(Nt){return[-Nt[0],-Nt[1]]}(M[M.length-1].vector));if($e||Me&&M.length===1)It.push(xt);else if(lt){let Nt=L(xt,Mt,Et);for(let Yt=.034482758620689655,ln=Yt;ln<1;ln+=Yt)It.push($(Nt,xt,3*P*ln))}else It.push(x(xt,k(Mt,Et)),x(xt,k(Mt,.99*Et)),m(xt,k(Mt,.99*Et)),m(xt,k(Mt,Et)))}return dt.concat(It,vt.reverse(),At)}(function(M,V={}){var q;let{streamline:re=.5,size:ae=16,last:ge=!1}=V;if(M.length===0)return[];let Se=.15+.85*(1-re),Re=Array.isArray(M[0])?M:M.map(({x:ft,y:ze,pressure:we=.5})=>[ft,ze,we]);if(Re.length===2){let ft=Re[1];Re=Re.slice(0,-1);for(let ze=1;ze<5;ze++)Re.push(U(Re[0],ft,ze/4))}Re.length===1&&(Re=[...Re,[...x(Re[0],[1,1]),...Re[0].slice(2)]]);let Ye=[{point:[Re[0][0],Re[0][1]],pressure:Re[0][2]>=0?Re[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],Ge=!1,We=0,qe=Ye[0],lt=Re.length-1;for(let ft=1;ft<Re.length;ft++){let ze=ge&&ft===lt?Re[ft].slice(0,2):U(qe.point,Re[ft],Se);if(me(qe.point,ze))continue;let we=G(ze,qe.point);if(We+=we,ft<lt&&!Ge){if(We<ae)continue;Ge=!0}qe={point:ze,pressure:Re[ft][2]>=0?Re[ft][2]:.5,vector:fe(m(qe.point,ze)),distance:we,runningLength:We},Ye.push(qe)}return Ye[0].vector=((q=Ye[1])==null?void 0:q.vector)||[0,0],Ye}(l,d),d)}var f=e(4761),r=e(7422),o=e(761),b=e(4682),s=e(8020),c=e(2921);function S(l,d){var M=Object.keys(l);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(l);d&&(V=V.filter(function(q){return Object.getOwnPropertyDescriptor(l,q).enumerable})),M.push.apply(M,V)}return M}function z(l){for(var d=1;d<arguments.length;d++){var M=arguments[d]!=null?arguments[d]:{};d%2?S(Object(M),!0).forEach(function(V){(0,_.Z)(l,V,M[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(M)):S(Object(M)).forEach(function(V){Object.defineProperty(l,V,Object.getOwnPropertyDescriptor(M,V))})}return l}var B="invert(100%) hue-rotate(180deg) saturate(1.25)",j=(0,u.im)(),C=function(l,d){return(0,p.wi)(l)&&!d.imageCache.has(l.fileId)},A=function(l,d,M){var V;return M.theme==="dark"&&(0,p.wi)(l)&&!C(l,d)&&((V=d.imageCache.get(l.fileId))===null||V===void 0?void 0:V.mimeType)!==N.LO.svg},Y=function(l){return l.type==="freedraw"?12*l.strokeWidth:20},ie=function(l,d,M,V){var q,re,ae=document.createElement("canvas"),ge=ae.getContext("2d"),Se=Y(l),Re=function(at,dt){var vt=16777216,Tt=32767,Et=Y(at),jt=(0,y.qf)(at),Kt=(0,g.Z)(jt,4),Gt=Kt[0],Ht=Kt[1],$t=Kt[2],pn=Kt[3],_t=(0,p.bt)(at)||(0,p.F9)(at)?(0,T.TE)(Gt,$t):at.width,xt=(0,p.bt)(at)||(0,p.F9)(at)?(0,T.TE)(Ht,pn):at.height,At=_t*window.devicePixelRatio+2*Et,It=xt*window.devicePixelRatio+2*Et,Mt=dt.value;return(At*Mt>Tt||It*Mt>Tt)&&(Mt=Math.min(Tt/At,Tt/It)),At*It*Mt*Mt>vt&&(Mt=Math.sqrt(vt/(At*It))),{width:At=Math.floor(At*Mt),height:It=Math.floor(It*Mt),scale:Mt}}(l,d),Ye=Re.width,Ge=Re.height,We=Re.scale;ae.width=Ye,ae.height=Ge;var qe=0,lt=0;if((0,p.bt)(l)||(0,p.F9)(l)){var ft=(0,y.qf)(l),ze=(0,g.Z)(ft,2),we=ze[0],Me=ze[1];qe=l.x>we?(0,T.TE)(l.x,we)*window.devicePixelRatio*We:0,lt=l.y>Me?(0,T.TE)(l.y,Me)*window.devicePixelRatio*We:0,ge.translate(qe,lt)}ge.save(),ge.translate(Se*We,Se*We),ge.scale(window.devicePixelRatio*We,window.devicePixelRatio*We);var $e=a.Z.canvas(ae);return A(l,M,V)&&(ge.filter=B),J(l,$e,ge,M,V),ge.restore(),{element:l,canvas:ae,theme:V.theme,scale:We,zoomValue:d.value,canvasOffsetX:qe,canvasOffsetY:lt,boundTextElementVersion:((q=(0,f.WJ)(l))===null||q===void 0?void 0:q.version)||null,containingFrameOpacity:((re=(0,b.$Z)(l))===null||re===void 0?void 0:re.opacity)||100}},le=14,ce=document.createElement("img");ce.src="data:".concat(N.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var de=document.createElement("img");de.src="data:".concat(N.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var J=function(l,d,M,V,q){var re,ae;switch(M.globalAlpha=((re=(ae=(0,b.$Z)(l))===null||ae===void 0?void 0:ae.opacity)!==null&&re!==void 0?re:100)*l.opacity/1e4,l.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":M.lineJoin="round",M.lineCap="round",d.draw(c.R.get(l));break;case"arrow":case"line":M.lineJoin="round",M.lineCap="round",c.R.get(l).forEach(function(Me){d.draw(Me)});break;case"freedraw":M.save(),M.fillStyle=l.strokeColor;var ge=function(Me){return De.get(Me)}(l),Se=c.R.get(l);Se&&d.draw(Se),M.fillStyle=l.strokeColor,M.fill(ge),M.restore();break;case"image":var Re,Ye=(0,p.wi)(l)?(Re=V.imageCache.get(l.fileId))===null||Re===void 0?void 0:Re.image:void 0;Ye==null||Ye instanceof Promise?function(Me,$e,at){$e.fillStyle="#E7E7E7",$e.fillRect(0,0,Me.width,Me.height);var dt=Math.min(Me.width,Me.height),vt=Math.min(dt,Math.min(.4*dt,100));$e.drawImage(Me.status==="error"?de:ce,Me.width/2-vt/2,Me.height/2-vt/2,vt,vt)}(l,M,q.zoom.value):M.drawImage(Ye,0,0,l.width,l.height);break;default:if(!(0,p.iB)(l))throw new Error("Unimplemented type ".concat(l.type));var Ge=(0,T.dZ)(l.text),We=Ge&&!M.canvas.isConnected;We&&document.body.appendChild(M.canvas),M.canvas.setAttribute("dir",Ge?"rtl":"ltr"),M.save(),M.font=(0,T.mO)(l),M.fillStyle=l.strokeColor,M.textAlign=l.textAlign;for(var qe=l.text.replace(/\r\n?/g,`
`).split(`
`),lt=l.textAlign==="center"?l.width/2:l.textAlign==="right"?l.width:0,ft=(0,f.Rg)(l.fontSize,l.lineHeight),ze=l.height-l.baseline,we=0;we<qe.length;we++)M.fillText(qe[we],lt,(we+1)*ft-ze);M.restore(),We&&M.canvas.remove()}M.globalAlpha=1},ee=new WeakMap,he=function(l,d,M){var V,q,re=d?M.zoom:j.zoom,ae=ee.get(l),ge=ae&&ae.zoomValue!==re.value&&!(M!=null&&M.shouldCacheIgnoreZoom),Se=((V=(0,f.WJ)(l))===null||V===void 0?void 0:V.version)||null,Re=((q=(0,b.$Z)(l))===null||q===void 0?void 0:q.opacity)||100;if(!ae||ge||ae.theme!==M.theme||ae.boundTextElementVersion!==Se||ae.containingFrameOpacity!==Re){var Ye=ie(l,re,d,M);return ee.set(l,Ye),Ye}return ae},Pe=function(l,d,M,V){var q=l.element,re=Y(q),ae=l.scale,ge=(0,y.qf)(q),Se=(0,g.Z)(ge,4),Re=Se[0],Ye=Se[1],Ge=Se[2],We=Se[3];(0,p.F9)(q)&&(Re=Math.floor(Re),Ge=Math.ceil(Ge),Ye=Math.floor(Ye),We=Math.ceil(We));var qe=((Re+Ge)/2+V.scrollX)*window.devicePixelRatio,lt=((Ye+We)/2+V.scrollY)*window.devicePixelRatio;d.save(),d.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var ft=(0,f.WJ)(q);if((0,p.Yv)(q)&&ft){var ze=document.createElement("canvas"),we=ze.getContext("2d"),Me=Math.max((0,T.TE)(Re,Ge),(0,T.TE)(Ye,We));ze.width=Me*window.devicePixelRatio*ae+re*l.scale*10,ze.height=Me*window.devicePixelRatio*ae+re*l.scale*10;var $e=(ze.width-l.canvas.width)/2,at=(ze.height-l.canvas.height)/2;we.translate(ze.width/2,ze.height/2),we.rotate(q.angle),we.drawImage(l.canvas,-l.canvas.width/2,-l.canvas.height/2,l.canvas.width,l.canvas.height);var dt=(0,y.qf)(ft),vt=(0,g.Z)(dt,6),Tt=vt[4],Et=vt[5];we.rotate(-q.angle);var jt=ze.width/2-(Tt-Re)*window.devicePixelRatio*ae-$e-re*ae,Kt=ze.height/2-(Et-Ye)*window.devicePixelRatio*ae-at-re*ae;we.translate(-jt,-Kt),we.clearRect(-(ft.width/2+N.gK)*window.devicePixelRatio*ae,-(ft.height/2+N.gK)*window.devicePixelRatio*ae,(ft.width+2*N.gK)*window.devicePixelRatio*ae,(ft.height+2*N.gK)*window.devicePixelRatio*ae),d.translate(qe,lt),d.drawImage(ze,-(Ge-Re)/2*window.devicePixelRatio-$e/ae-re,-(We-Ye)/2*window.devicePixelRatio-at/ae-re,ze.width/ae,ze.height/ae)}else if(d.translate(qe,lt),d.rotate(q.angle),"scale"in l.element&&!C(q,M)&&d.scale(l.element.scale[0],l.element.scale[1]),d.translate(-qe,-lt),d.drawImage(l.canvas,(Re+V.scrollX)*window.devicePixelRatio-re*l.scale/l.scale,(Ye+V.scrollY)*window.devicePixelRatio-re*l.scale/l.scale,l.canvas.width/l.scale,l.canvas.height/l.scale),{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,p.Xo)(q)){var Gt=(0,f.WJ)(q),Ht=(0,f.cw)(q);d.strokeStyle="#c92a2a",d.lineWidth=3,d.strokeRect((Ht.x+V.scrollX)*window.devicePixelRatio,(Ht.y+V.scrollY)*window.devicePixelRatio,(0,f.iZ)(q)*window.devicePixelRatio,(0,f.D9)(q,Gt)*window.devicePixelRatio)}d.restore()},He=function(l,d,M){d.save(),d.translate(l.x+M.scrollX,l.y+M.scrollY),d.fillStyle="rgba(0, 0, 200, 0.04)";var V=.5/M.zoom.value;d.fillRect(V,V,l.width,l.height),d.lineWidth=1/M.zoom.value,d.strokeStyle=" rgb(105, 101, 219)",d.strokeRect(V,V,l.width,l.height),d.restore()},Ke=function(l,d,M,V,q){switch(l.type){case"frame":q.frameRendering.enabled&&q.frameRendering.outline&&(M.save(),M.translate(l.x+q.scrollX,l.y+q.scrollY),M.fillStyle="rgba(0, 0, 200, 0.04)",M.lineWidth=N.iG.strokeWidth/q.zoom.value,M.strokeStyle=N.iG.strokeColor,N.iG.radius&&M.roundRect?(M.beginPath(),M.roundRect(0,0,l.width,l.height,N.iG.radius/q.zoom.value),M.stroke(),M.closePath()):M.strokeRect(0,0,l.width,l.height),M.restore());break;case"freedraw":if(c.R.generateElementShape(l),V.isExporting){var re=(0,y.qf)(l),ae=(0,g.Z)(re,4),ge=ae[0],Se=ae[1],Re=ae[2],Ye=ae[3],Ge=(ge+Re)/2+q.scrollX,We=(Se+Ye)/2+q.scrollY,qe=(Re-ge)/2-(l.x-ge),lt=(Ye-Se)/2-(l.y-Se);M.save(),M.translate(Ge,We),M.rotate(l.angle),M.translate(-qe,-lt),J(l,d,M,V,q),M.restore()}else{var ft=he(l,V,q);Pe(ft,M,V,q)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"embeddable":if(c.R.generateElementShape(l,V.isExporting),V.isExporting){var ze=(0,y.qf)(l),we=(0,g.Z)(ze,4),Me=we[0],$e=we[1],at=we[2],dt=we[3],vt=(Me+at)/2+q.scrollX,Tt=($e+dt)/2+q.scrollY,Et=(at-Me)/2-(l.x-Me),jt=(dt-$e)/2-(l.y-$e);if((0,p.iB)(l)){var Kt=(0,f.tl)(l);if((0,p.Yv)(Kt)){var Gt=r._.getBoundTextElementPosition(Kt,l);Et=(at-Me)/2-(Gt.x-Me),jt=(dt-$e)/2-(Gt.y-$e)}}M.save(),M.translate(vt,Tt),A(l,V,q)&&(M.filter="none");var Ht=(0,f.WJ)(l);if((0,p.Yv)(l)&&Ht){var $t=document.createElement("canvas"),pn=$t.getContext("2d"),_t=Math.max((0,T.TE)(Me,at),(0,T.TE)($e,dt)),xt=Y(l);$t.width=_t*q.exportScale+10*xt*q.exportScale,$t.height=_t*q.exportScale+10*xt*q.exportScale,pn.translate($t.width/2,$t.height/2),pn.scale(q.exportScale,q.exportScale),Et=l.width/2-(l.x-Me),jt=l.height/2-(l.y-$e),pn.rotate(l.angle);var At=a.Z.canvas($t);pn.translate(-Et,-jt),J(l,At,pn,V,q),pn.translate(Et,jt),pn.rotate(-l.angle);var It=(0,y.qf)(Ht),Mt=(0,g.Z)(It,6),Nt=(Me+at)/2-Mt[4],Yt=($e+dt)/2-Mt[5];pn.translate(-Nt,-Yt),pn.clearRect(-Ht.width/2,-Ht.height/2,Ht.width,Ht.height),M.scale(1/q.exportScale,1/q.exportScale),M.drawImage($t,-$t.width/2,-$t.height/2,$t.width,$t.height)}else M.rotate(l.angle),l.type==="image"&&M.scale(l.scale[0],l.scale[1]),M.translate(-Et,-jt),J(l,d,M,V,q);M.restore()}else{var ln=he(l,V,q),an=M.imageSmoothingEnabled;q!=null&&q.shouldCacheIgnoreZoom||l.angle&&!(0,E.EK)(l.angle)||(M.imageSmoothingEnabled=!1),Pe(ln,M,V,q),M.imageSmoothingEnabled=an}break;default:throw new Error("Unimplemented type ".concat(l.type))}},Ae=function(l,d,M){if(M===void 0)return l.draw(d);var V={sets:d.sets,shape:d.shape,options:z(z({},d.options),{},{fixedDecimalPlaceDigits:M})};return l.draw(V)},Oe=function(l,d,M,V){if(!V.enabled||!V.clip)return null;var q=(0,b.$Z)(l);if(q){var re=d.ownerDocument.createElementNS(N.hR,"g");return re.setAttributeNS(N.hR,"clip-path","url(#".concat(q.id,")")),M.forEach(function(ae){return re.appendChild(ae)}),re}return null},Te=function l(d,M,V,q,re,ae,ge){var Se,Re,Ye=re,Ge=ae,We=(0,y.qf)(d),qe=(0,g.Z)(We,4),lt=qe[0],ft=qe[1],ze=qe[2],we=qe[3],Me=(ze-lt)/2-(d.x-lt),$e=(we-ft)/2-(d.y-ft);if((0,p.iB)(d)){var at=(0,f.tl)(d);if((0,p.Yv)(at)){var dt=(0,y.qf)(at),vt=(0,g.Z)(dt,4),Tt=vt[0],Et=vt[1],jt=vt[2],Kt=vt[3],Gt=r._.getBoundTextElementPosition(at,d);Me=(jt-Tt)/2-(Gt.x-Tt),$e=(Kt-Et)/2-(Gt.y-Et),re=re+Gt.x-d.x,ae=ae+Gt.y-d.y}}var Ht=180*d.angle/Math.PI,$t=V;if(d.link){var pn=V.ownerDocument.createElementNS(N.hR,"a");pn.setAttribute("href",(0,s.$u)(d.link)),$t.appendChild(pn),$t=pn}var _t=function(et,Ee){(0,T.h2)()&&et.setAttribute("data-id",Ee.id),$t.appendChild(et)},xt=((Se=(Re=(0,b.$Z)(d))===null||Re===void 0?void 0:Re.opacity)!==null&&Se!==void 0?Se:100)*d.opacity/1e4;switch(d.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var At=c.R.generateElementShape(d),It=Ae(M,At,N.zK);xt!==1&&(It.setAttribute("stroke-opacity","".concat(xt)),It.setAttribute("fill-opacity","".concat(xt))),It.setAttribute("stroke-linecap","round"),It.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Ht," ").concat(Me," ").concat($e,")")),_t(Oe(d,$t,[It],ge.frameRendering)||It,d);break;case"embeddable":var Mt=c.R.generateElementShape(d,!0),Nt=Ae(M,Mt,N.zK),Yt=d.opacity/100;Yt!==1&&(Nt.setAttribute("stroke-opacity","".concat(Yt)),Nt.setAttribute("fill-opacity","".concat(Yt))),Nt.setAttribute("stroke-linecap","round"),Nt.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Ht," ").concat(Me," ").concat($e,")")),_t(Nt,d);var ln=(0,o.g0)(d);l(ln,M,$t,q,ln.x+Ye-d.x,ln.y+Ge-d.y,ge);var an=Ae(M,Mt,N.zK);for(an.setAttribute("stroke-linecap","round"),an.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Ht," ").concat(Me," ").concat($e,")"));an.firstChild;)an.removeChild(an.firstChild);var kn=(0,E.yW)(Math.min(d.width,d.height),d),Tn=(0,o.LM)((0,s.ye)(d.link||""));if(ge.renderEmbeddables===!1||Tn?.type==="document"){var zn=V.ownerDocument.createElementNS(N.hR,"a");zn.setAttribute("href",(0,s.$u)(d.link||"")),zn.setAttribute("target","_blank"),zn.setAttribute("rel","noopener noreferrer"),zn.style.borderRadius="".concat(kn,"px"),an.appendChild(zn)}else{var un,zt=V.ownerDocument.createElementNS(N.hR,"foreignObject");zt.style.width="".concat(d.width,"px"),zt.style.height="".concat(d.height,"px"),zt.style.border="none";var en=zt.ownerDocument.createElementNS(N.hR,"div");en.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),en.style.width="100%",en.style.height="100%";var Jt=en.ownerDocument.createElement("iframe");Jt.src=(un=Tn?.link)!==null&&un!==void 0?un:"",Jt.style.width="100%",Jt.style.height="100%",Jt.style.border="none",Jt.style.borderRadius="".concat(kn,"px"),Jt.style.top="0",Jt.style.left="0",Jt.allowFullscreen=!0,en.appendChild(Jt),zt.appendChild(en),an.appendChild(zt)}_t(an,d);break;case"line":case"arrow":var Sn=(0,f.WJ)(d),Hn=V.ownerDocument.createElementNS(N.hR,"mask");if(Sn){Hn.setAttribute("id","mask-".concat(d.id));var Yn=V.ownerDocument.createElementNS(N.hR,"rect");re=re||0,ae=ae||0,Yn.setAttribute("x","0"),Yn.setAttribute("y","0"),Yn.setAttribute("fill","#fff"),Yn.setAttribute("width","".concat(d.width+100+re)),Yn.setAttribute("height","".concat(d.height+100+ae)),Hn.appendChild(Yn);var or=V.ownerDocument.createElementNS(N.hR,"rect"),$n=r._.getBoundTextElementPosition(d,Sn),rn=re+$n.x-d.x,Pt=ae+$n.y-d.y;or.setAttribute("x",rn.toString()),or.setAttribute("y",Pt.toString()),or.setAttribute("fill","#000"),or.setAttribute("width","".concat(Sn.width)),or.setAttribute("height","".concat(Sn.height)),or.setAttribute("opacity","1"),Hn.appendChild(or)}var Dt=V.ownerDocument.createElementNS(N.hR,"g");Sn&&Dt.setAttribute("mask","url(#mask-".concat(d.id,")")),Dt.setAttribute("stroke-linecap","round"),c.R.generateElementShape(d).forEach(function(et){var Ee=Ae(M,et,N.zK);xt!==1&&(Ee.setAttribute("stroke-opacity","".concat(xt)),Ee.setAttribute("fill-opacity","".concat(xt))),Ee.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Ht," ").concat(Me," ").concat($e,")")),d.type==="line"&&(0,E.g6)(d.points)&&d.backgroundColor!=="transparent"&&Ee.setAttribute("fill-rule","evenodd"),Dt.appendChild(Ee)});var Ft=Oe(d,$t,[Dt,Hn],ge.frameRendering);Ft?(_t(Ft,d),$t.appendChild(Ft)):(_t(Dt,d),$t.append(Hn));break;case"freedraw":var dn=c.R.generateElementShape(d),jn=dn?Ae(M,dn,N.zK):V.ownerDocument.createElementNS(N.hR,"g");xt!==1&&(jn.setAttribute("stroke-opacity","".concat(xt)),jn.setAttribute("fill-opacity","".concat(xt))),jn.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Ht," ").concat(Me," ").concat($e,")")),jn.setAttribute("stroke","none");var Cn=V.ownerDocument.createElementNS(N.hR,"path");Cn.setAttribute("fill",d.strokeColor),Cn.setAttribute("d",be(d)),jn.appendChild(Cn),_t(Oe(d,$t,[jn],ge.frameRendering)||jn,d);break;case"image":var Dn=Math.round(d.width),Wn=Math.round(d.height),Ln=(0,p.wi)(d)&&q[d.fileId];if(Ln){var er="image-".concat(Ln.id),Vn=V.querySelector("#".concat(er));if(!Vn){(Vn=V.ownerDocument.createElementNS(N.hR,"symbol")).id=er;var Pn=V.ownerDocument.createElementNS(N.hR,"image");Pn.setAttribute("width","100%"),Pn.setAttribute("height","100%"),Pn.setAttribute("href",Ln.dataURL),Vn.appendChild(Pn),$t.prepend(Vn)}var Rn=V.ownerDocument.createElementNS(N.hR,"use");if(Rn.setAttribute("href","#".concat(er)),ge.exportWithDarkMode&&Ln.mimeType!==N.LO.svg&&Rn.setAttribute("filter",B),Rn.setAttribute("width","".concat(Dn)),Rn.setAttribute("height","".concat(Wn)),Rn.setAttribute("opacity","".concat(xt)),d.scale[0]!==1||d.scale[1]!==1){var Nn=d.scale[0]!==1?-Dn:0,Gn=d.scale[1]!==1?-Wn:0;Rn.setAttribute("transform","scale(".concat(d.scale[0],", ").concat(d.scale[1],") translate(").concat(Nn," ").concat(Gn,")"))}var nr=V.ownerDocument.createElementNS(N.hR,"g");nr.appendChild(Rn),nr.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Ht," ").concat(Me," ").concat($e,")")),_t(Oe(d,$t,[nr],ge.frameRendering)||nr,d)}break;case"frame":if(ge.frameRendering.enabled&&ge.frameRendering.outline){var rr=document.createElementNS(N.hR,"rect");rr.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Ht," ").concat(Me," ").concat($e,")")),rr.setAttribute("width","".concat(d.width,"px")),rr.setAttribute("height","".concat(d.height,"px")),rr.setAttribute("rx",N.iG.radius.toString()),rr.setAttribute("ry",N.iG.radius.toString()),rr.setAttribute("fill","none"),rr.setAttribute("stroke",N.iG.strokeColor),rr.setAttribute("stroke-width",N.iG.strokeWidth.toString()),_t(rr,d)}break;default:if(!(0,p.iB)(d))throw new Error("Unimplemented type ".concat(d.type));var Or=V.ownerDocument.createElementNS(N.hR,"g");xt!==1&&(Or.setAttribute("stroke-opacity","".concat(xt)),Or.setAttribute("fill-opacity","".concat(xt))),Or.setAttribute("transform","translate(".concat(re||0," ").concat(ae||0,") rotate(").concat(Ht," ").concat(Me," ").concat($e,")"));for(var Xr=d.text.replace(/\r\n?/g,`
`).split(`
`),po=(0,f.Rg)(d.fontSize,d.lineHeight),xo=d.textAlign==="center"?d.width/2:d.textAlign==="right"?d.width:0,jo=(0,T.dZ)(d.text)?"rtl":"ltr",ho=d.textAlign==="center"?"middle":d.textAlign==="right"||jo==="rtl"?"end":"start",Qr=0;Qr<Xr.length;Qr++){var go=V.ownerDocument.createElementNS(N.hR,"text");go.textContent=Xr[Qr],go.setAttribute("x","".concat(xo)),go.setAttribute("y","".concat(Qr*po)),go.setAttribute("font-family",(0,T.$g)(d)),go.setAttribute("font-size","".concat(d.fontSize,"px")),go.setAttribute("fill",d.strokeColor),go.setAttribute("text-anchor",ho),go.setAttribute("style","white-space: pre;"),go.setAttribute("direction",jo),go.setAttribute("dominant-baseline","text-before-edge"),Or.appendChild(go)}_t(Oe(d,$t,[Or],ge.frameRendering)||Or,d)}},De=new WeakMap([]);function ke(l){var d=be(l),M=new Path2D(d);return De.set(l,M),M}function be(l){return function(d){if(!d.length)return"";var M=d.length-1;return d.reduce(function(V,q,re,ae){return re===M?V.push(q,ve(q,ae[0]),"L",ae[0],"Z"):V.push(q,ve(q,ae[re+1])),V},["M",d[0],"Q"]).join(" ").replace(D,"$1")}(w(l.simulatePressure?l.points:l.points.length?l.points.map(function(d,M){var V=(0,g.Z)(d,2);return[V[0],V[1],l.pressures[M]]}):[[0,0,.5]],{simulatePressure:l.simulatePressure,size:4.25*l.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(d){return Math.sin(d*Math.PI/2)},last:!!l.lastCommittedPoint}))}function ve(l,d){return[(l[0]+d[0])/2,(l[1]+d[1])/2]}var D=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},7766:function(te,t,e){e.d(t,{Lu:function(){return S},n_:function(){return He},tp:function(){return ee},M_:function(){return D},AW:function(){return Pe}});var _,g=e(1930),p=e(2577),y=e(5284),T=e(7651),E=function(l,d,M,V,q,re,ae){l.beginPath(),l.moveTo(d+re,M),l.lineTo(d+V-re,M),l.quadraticCurveTo(d+V,M,d+V,M+re),l.lineTo(d+V,M+q-re),l.quadraticCurveTo(d+V,M+q,d+V-re,M+q),l.lineTo(d+re,M+q),l.quadraticCurveTo(d,M+q,d,M+q-re),l.lineTo(d,M+re),l.quadraticCurveTo(d,M,d+re,M),l.closePath(),l.fill(),ae&&(l.strokeStyle=ae),l.stroke()},a=e(4726),u=e(9660),N=e(957),H=e(7422),x=e(9215),m=e(3528),k=e(4048),Q=e(9827);(function(l){l.ACTIVE="active",l.AWAY="away",l.IDLE="idle"})(_||(_={}));var ue=e(9937),me=e(5992);function ye(l,d){var M=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!M){if(Array.isArray(l)||(M=function(Se,Re){if(Se){if(typeof Se=="string")return fe(Se,Re);var Ye=Object.prototype.toString.call(Se).slice(8,-1);if(Ye==="Object"&&Se.constructor&&(Ye=Se.constructor.name),Ye==="Map"||Ye==="Set")return Array.from(Se);if(Ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ye))return fe(Se,Re)}}(l))||d){M&&(l=M);var V=0,q=function(){};return{s:q,n:function(){return V>=l.length?{done:!0}:{done:!1,value:l[V++]}},e:function(Se){throw Se},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,ae=!0,ge=!1;return{s:function(){M=M.call(l)},n:function(){var Se=M.next();return ae=Se.done,Se},e:function(Se){ge=!0,re=Se},f:function(){try{ae||M.return==null||M.return()}finally{if(ge)throw re}}}}function fe(l,d){(d==null||d>l.length)&&(d=l.length);for(var M=0,V=new Array(d);M<d;M++)V[M]=l[M];return V}var G=function(l,d,M){if(!M.zenModeEnabled){var V=l.points[0],q=l.points[l.points.length-1];L(V,q,d)}var re,ae=ye(l.points);try{for(ae.s();!(re=ae.n()).done;){var ge=re.value;U(ge,M,d)}}catch(Se){ae.e(Se)}finally{ae.f()}},$=function(l,d,M){U(l.points[0],M,d),M.zenModeEnabled||L(l.points[0],l.points[1],d)},U=function(l,d,M){var V=(0,p.Z)(l,2),q=V[0],re=V[1];M.save();var ae=(d.zenModeEnabled?3:2)/d.zoom.value;M.beginPath(),M.moveTo(q-ae,re-ae),M.lineTo(q+ae,re+ae),M.moveTo(q+ae,re-ae),M.lineTo(q-ae,re+ae),M.stroke(),M.restore()},L=function(l,d,M){M.beginPath(),M.lineTo.apply(M,(0,g.Z)(l)),M.lineTo.apply(M,(0,g.Z)(d)),M.stroke()},F=function(l,d,M,V,q){var re=8/V.zoom.value,ae=re/2,ge=re/4;if(M==="horizontal"){var Se=[(l[0]+d[0])/2,l[1]];V.zenModeEnabled||L([l[0],l[1]-re],[l[0],l[1]+re],q),L([Se[0]-ge,Se[1]-ae],[Se[0]-ge,Se[1]+ae],q),L([Se[0]+ge,Se[1]-ae],[Se[0]+ge,Se[1]+ae],q),V.zenModeEnabled||(L([d[0],d[1]-re],[d[0],d[1]+re],q),L(l,d,q))}else{var Re=[l[0],(l[1]+d[1])/2];V.zenModeEnabled||L([l[0]-re,l[1]],[l[0]+re,l[1]],q),L([Re[0]-ae,Re[1]-ge],[Re[0]+ae,Re[1]-ge],q),L([Re[0]-ae,Re[1]+ge],[Re[0]+ae,Re[1]+ge],q),V.zenModeEnabled||(L([d[0]-re,d[1]],[d[0]+re,d[1]],q),L(l,d,q))}},I=e(4183),P=e(761),w=e(4682),f=e(6655);function r(l,d){var M=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!M){if(Array.isArray(l)||(M=function(Se,Re){if(Se){if(typeof Se=="string")return o(Se,Re);var Ye=Object.prototype.toString.call(Se).slice(8,-1);if(Ye==="Object"&&Se.constructor&&(Ye=Se.constructor.name),Ye==="Map"||Ye==="Set")return Array.from(Se);if(Ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ye))return o(Se,Re)}}(l))||d){M&&(l=M);var V=0,q=function(){};return{s:q,n:function(){return V>=l.length?{done:!0}:{done:!1,value:l[V++]}},e:function(Se){throw Se},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,ae=!0,ge=!1;return{s:function(){M=M.call(l)},n:function(){var Se=M.next();return ae=Se.done,Se},e:function(Se){ge=!0,re=Se},f:function(){try{ae||M.return==null||M.return()}finally{if(ge)throw re}}}}function o(l,d){(d==null||d>l.length)&&(d=l.length);for(var M=0,V=new Array(d);M<d;M++)V[M]=l[M];return V}function b(l,d){var M=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!M){if(Array.isArray(l)||(M=function(Se,Re){if(Se){if(typeof Se=="string")return s(Se,Re);var Ye=Object.prototype.toString.call(Se).slice(8,-1);if(Ye==="Object"&&Se.constructor&&(Ye=Se.constructor.name),Ye==="Map"||Ye==="Set")return Array.from(Se);if(Ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ye))return s(Se,Re)}}(l))||d){M&&(l=M);var V=0,q=function(){};return{s:q,n:function(){return V>=l.length?{done:!0}:{done:!1,value:l[V++]}},e:function(Se){throw Se},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,ae=!0,ge=!1;return{s:function(){M=M.call(l)},n:function(){var Se=M.next();return ae=Se.done,Se},e:function(Se){ge=!0,re=Se},f:function(){try{ae||M.return==null||M.return()}finally{if(ge)throw re}}}}function s(l,d){(d==null||d>l.length)&&(d=l.length);for(var M=0,V=new Array(d);M<d;M++)V[M]=l[M];return V}(function(){var l,d,M,V,q,re;(d=(l=Path2D.prototype).roundRect)!==null&&d!==void 0||(l.roundRect=ae),globalThis.CanvasRenderingContext2D&&((V=(M=globalThis.CanvasRenderingContext2D.prototype).roundRect)!==null&&V!==void 0||(M.roundRect=ae)),globalThis.OffscreenCanvasRenderingContext2D&&((re=(q=globalThis.OffscreenCanvasRenderingContext2D.prototype).roundRect)!==null&&re!==void 0||(q.roundRect=ae));function ae(Se,Re,Ye,Ge,We){if([Se,Re,Ye,Ge].every(function(vt){return Number.isFinite(vt)})){var qe,lt,ft,ze;if((We=function(vt){var Tt=(0,f.Z)(vt);return Tt==="undefined"||vt===null?[0]:Tt==="function"?[NaN]:Tt==="object"?typeof vt[Symbol.iterator]=="function"?(0,g.Z)(vt).map(function(Et){var jt=(0,f.Z)(Et);return jt==="undefined"||Et===null?0:jt==="function"?NaN:jt==="object"?$e(Et):at(Et)}):[$e(vt)]:[at(vt)]}(We)).length===4)qe=dt(We[0]),lt=dt(We[1]),ft=dt(We[2]),ze=dt(We[3]);else if(We.length===3)qe=dt(We[0]),lt=dt(We[1]),ze=dt(We[1]),ft=dt(We[2]);else if(We.length===2)qe=dt(We[0]),ft=dt(We[0]),lt=dt(We[1]),ze=dt(We[1]);else{if(We.length!==1)throw new RangeError("".concat(ge(this)," ").concat(We.length," is not a valid size for radii sequence."));qe=dt(We[0]),lt=dt(We[0]),ft=dt(We[0]),ze=dt(We[0])}var we=[qe,lt,ft,ze],Me=we.find(function(vt){var Tt=vt.x,Et=vt.y;return Tt<0||Et<0});if(Me?.x<0?Me.x:Me?.y,!we.some(function(vt){var Tt=vt.x,Et=vt.y;return!Number.isFinite(Tt)||!Number.isFinite(Et)})){if(Me)throw new RangeError("".concat(ge(this)," Radius value ").concat(Me," is negative."));(function(vt){var Tt=(0,p.Z)(vt,4),Et=Tt[0],jt=Tt[1],Kt=Tt[2],Gt=Tt[3],Ht=[Math.abs(Ye)/(Et.x+jt.x),Math.abs(Ge)/(jt.y+Kt.y),Math.abs(Ye)/(Kt.x+Gt.x),Math.abs(Ge)/(Et.y+Gt.y)],$t=Math.min.apply(Math,Ht);if($t<=1){var pn,_t=r(vt);try{for(_t.s();!(pn=_t.n()).done;){var xt=pn.value;xt.x*=$t,xt.y*=$t}}catch(At){_t.e(At)}finally{_t.f()}}})(we),Ye<0&&Ge<0?(this.moveTo(Se-qe.x,Re),this.ellipse(Se+Ye+lt.x,Re-lt.y,lt.x,lt.y,0,1.5*-Math.PI,-Math.PI),this.ellipse(Se+Ye+ft.x,Re+Ge+ft.y,ft.x,ft.y,0,-Math.PI,-Math.PI/2),this.ellipse(Se-ze.x,Re+Ge+ze.y,ze.x,ze.y,0,-Math.PI/2,0),this.ellipse(Se-qe.x,Re-qe.y,qe.x,qe.y,0,0,-Math.PI/2)):Ye<0?(this.moveTo(Se-qe.x,Re),this.ellipse(Se+Ye+lt.x,Re+lt.y,lt.x,lt.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(Se+Ye+ft.x,Re+Ge-ft.y,ft.x,ft.y,0,-Math.PI,1.5*-Math.PI,1),this.ellipse(Se-ze.x,Re+Ge-ze.y,ze.x,ze.y,0,Math.PI/2,0,1),this.ellipse(Se-qe.x,Re+qe.y,qe.x,qe.y,0,0,-Math.PI/2,1)):Ge<0?(this.moveTo(Se+qe.x,Re),this.ellipse(Se+Ye-lt.x,Re-lt.y,lt.x,lt.y,0,Math.PI/2,0,1),this.ellipse(Se+Ye-ft.x,Re+Ge+ft.y,ft.x,ft.y,0,0,-Math.PI/2,1),this.ellipse(Se+ze.x,Re+Ge+ze.y,ze.x,ze.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(Se+qe.x,Re-qe.y,qe.x,qe.y,0,-Math.PI,1.5*-Math.PI,1)):(this.moveTo(Se+qe.x,Re),this.ellipse(Se+Ye-lt.x,Re+lt.y,lt.x,lt.y,0,-Math.PI/2,0),this.ellipse(Se+Ye-ft.x,Re+Ge-ft.y,ft.x,ft.y,0,0,Math.PI/2),this.ellipse(Se+ze.x,Re+Ge-ze.y,ze.x,ze.y,0,Math.PI/2,Math.PI),this.ellipse(Se+qe.x,Re+qe.y,qe.x,qe.y,0,Math.PI,1.5*Math.PI)),this.closePath(),this.moveTo(Se,Re)}}function $e(vt){return{x:vt.x,y:vt.y,z:vt.z,w:vt.w}}function at(vt){return+vt}function dt(vt){var Tt,Et,jt=at(vt);return Number.isFinite(jt)?{x:jt,y:jt}:Object(vt)===vt?{x:at((Tt=vt.x)!==null&&Tt!==void 0?Tt:0),y:at((Et=vt.y)!==null&&Et!==void 0?Et:0)}:{x:NaN,y:NaN}}}function ge(Se){return"Failed to execute 'roundRect' on '".concat(function(Re){return Object(Re)===Re&&Re instanceof Path2D?"Path2D":Re instanceof globalThis?.CanvasRenderingContext2D?"CanvasRenderingContext2D":Re instanceof globalThis?.OffscreenCanvasRenderingContext2D?"OffscreenCanvasRenderingContext2D":Re?.constructor.name||Re}(Se),"':")}})();var c,S=2,z=function(l,d,M,V,q,re,ae,ge){var Se=arguments.length>8&&arguments[8]!==void 0&&arguments[8],Re=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0;l.save(),l.translate(re,ae),l.rotate(ge),Se&&l.fillRect(d-re,M-ae,V,q),Re&&l.roundRect?(l.beginPath(),l.roundRect(d-re,M-ae,V,q,Re),l.stroke(),l.closePath()):l.strokeRect(d-re,M-ae,V,q),l.restore()},B=function(l,d,M,V){var q=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];l.beginPath(),l.arc(d,M,V,0,2*Math.PI),l.fill(),q&&l.stroke()},j=function(l,d,M,V,q){var re=arguments.length>5&&arguments[5]!==void 0&&arguments[5];l.strokeStyle="#5e5ad8",l.setLineDash([]),l.fillStyle="rgba(255, 255, 255, 0.9)",q?l.fillStyle="rgba(134, 131, 226, 0.9)":re&&(l.fillStyle="rgba(177, 151, 252, 0.7)"),B(l,M[0],M[1],V/d.zoom.value,!re)},C=function(l,d,M){if(d.selectedLinearElement){l.save(),l.translate(d.scrollX,d.scrollY),l.lineWidth=1/d.zoom.value;var V=H._.getPointsGlobalCoordinates(M),q=H._.POINT_HANDLE_SIZE,re=d.editingLinearElement?q:q/2;V.forEach(function(ae,ge){var Se,Re,Ye=!((Se=d.editingLinearElement)===null||Se===void 0||(Re=Se.selectedPointsIndices)===null||Re===void 0||!Re.includes(ge));j(l,d,ae,re,Ye)}),H._.getEditorMidPoints(M,d).filter(function(ae){return ae!==null}).forEach(function(ae){var ge;d!=null&&(ge=d.selectedLinearElement)!==null&&ge!==void 0&&ge.segmentMidPointHoveredCoords&&H._.arePointsEqual(ae,d.selectedLinearElement.segmentMidPointHoveredCoords)?d.editingLinearElement?(j(l,d,ae,re,!1),A(ae,l,d)):(A(ae,l,d),j(l,d,ae,re,!1)):(d.editingLinearElement||V.length===2)&&j(l,d,ae,q/2,!1,!0)}),l.restore()}},A=function(l,d,M){d.fillStyle="rgba(105, 101, 219, 0.4)",B(d,l[0],l[1],H._.POINT_HANDLE_SIZE/M.zoom.value,!1)},Y=function(l,d,M,V){d.translate(l.x+V.scrollX,l.y+V.scrollY),d.beginPath(),d.roundRect?d.roundRect(0,0,l.width,l.height,ue.iG.radius/V.zoom.value):d.rect(0,0,l.width,l.height),d.clip(),d.translate(-(l.x+V.scrollX),-(l.y+V.scrollY))},ie=function(l,d){return[l.width/d,l.height/d]},le=function(l){var d=l.canvas,M=l.scale,V=l.normalizedWidth,q=l.normalizedHeight,re=l.theme,ae=l.isExporting,ge=l.viewBackgroundColor,Se=d.getContext("2d");return Se.setTransform(1,0,0,1,0,0),Se.scale(M,M),ae&&re==="dark"&&(Se.filter=ue.ZF),typeof ge=="string"?((ge==="transparent"||ge.length===5||ge.length===9||/(hsla|rgba)\(/.test(ge))&&Se.clearRect(0,0,V,q),Se.save(),Se.fillStyle=ge,Se.fillRect(0,0,V,q),Se.restore()):Se.clearRect(0,0,V,q),Se},ce=function(l){var d,M=l.canvas,V=l.elements,q=l.visibleElements,re=l.selectedElements,ae=l.scale,ge=l.appState,Se=l.renderConfig;if(M===null)return{atLeastOneVisibleElement:!1,elements:V};var Re=ie(M,ae),Ye=(0,p.Z)(Re,2),Ge=Ye[0],We=Ye[1],qe=le({canvas:M,scale:ae,normalizedWidth:Ge,normalizedHeight:We});qe.save(),qe.scale(ge.zoom.value,ge.zoom.value);var lt=void 0;if(q.forEach(function(Dt){var Ft;((Ft=ge.editingLinearElement)===null||Ft===void 0?void 0:Ft.elementId)===Dt.id&&Dt&&(lt=Dt)}),lt&&C(qe,ge,lt),ge.selectionElement)try{(0,u.uI)(ge.selectionElement,qe,ge)}catch(Dt){console.error(Dt)}ge.isBindingEnabled&&ge.suggestedBindings.filter(function(Dt){return Dt!=null}).forEach(function(Dt){Oe(qe,ge,Dt)}),ge.frameToHighlight&&De(qe,ge,ge.frameToHighlight),ge.elementsToHighlight&&ke(qe,ge,ge.elementsToHighlight);var ft,ze=re.some(function(Dt){return(0,I.He)(Dt)});if(re.length===1&&((d=ge.editingLinearElement)===null||d===void 0?void 0:d.elementId)===re[0].id&&C(qe,ge,re[0]),ge.selectedLinearElement&&ge.selectedLinearElement.hoverPointIndex>=0&&function(Dt,Ft){var dn,jn,Cn=Ft.selectedLinearElement,Dn=Cn.elementId,Wn=Cn.hoverPointIndex;if((dn=Ft.editingLinearElement)===null||dn===void 0||(jn=dn.selectedPointsIndices)===null||jn===void 0||!jn.includes(Wn)){var Ln=H._.getElement(Dn);if(Ln){var er=H._.getPointAtIndexGlobalCoordinates(Ln,Wn);Dt.save(),Dt.translate(Ft.scrollX,Ft.scrollY),A(er,Dt,Ft),Dt.restore()}}}(qe,ge),!ge.multiElement&&!ge.editingLinearElement){var we,Me=(0,k.oY)(re,ge);re.length===1&&(0,I.bt)(re[0])&&((we=ge.selectedLinearElement)===null||we===void 0?void 0:we.elementId)===re[0].id&&!re[0].locked&&C(qe,ge,re[0]);var $e=Se.selectionColor||y.black;if(Me){var at,dt=re.reduce(function(Dt,Ft){return Dt[Ft.id]=!0,Dt},{}),vt=V.reduce(function(Dt,Ft){var dn=[];if(dt[Ft.id]&&!(0,x.zq)(ge,Ft)&&dn.push($e),Se.remoteSelectedElementIds[Ft.id]&&dn.push.apply(dn,(0,g.Z)(Se.remoteSelectedElementIds[Ft.id].map(function(Nn){return(0,N.G)(Nn)}))),dn.length){var jn,Cn=(0,T.qf)(Ft,!0),Dn=(0,p.Z)(Cn,6),Wn=Dn[0],Ln=Dn[1],er=Dn[2],Vn=Dn[3],Pn=Dn[4],Rn=Dn[5];Dt.push({angle:Ft.angle,elementX1:Wn,elementY1:Ln,elementX2:er,elementY2:Vn,selectionColors:dn,dashed:!!Se.remoteSelectedElementIds[Ft.id],cx:Pn,cy:Rn,activeEmbeddable:((jn=ge.activeEmbeddable)===null||jn===void 0?void 0:jn.element)===Ft&&ge.activeEmbeddable.state==="active"})}return Dt},[]),Tt=function(Dt){var Ft=(0,x.Fb)(V,Dt),dn=(0,T.KP)(Ft),jn=(0,p.Z)(dn,4),Cn=jn[0],Dn=jn[1],Wn=jn[2],Ln=jn[3];vt.push({angle:0,elementX1:Cn,elementX2:Wn,elementY1:Dn,elementY2:Ln,selectionColors:[y.black],dashed:!0,cx:Cn+(Wn-Cn)/2,cy:Dn+(Ln-Dn)/2,activeEmbeddable:!1})},Et=b((0,x.iJ)(ge));try{for(Et.s();!(at=Et.n()).done;)Tt(at.value)}catch(Dt){Et.e(Dt)}finally{Et.f()}ge.editingGroupId&&Tt(ge.editingGroupId),vt.forEach(function(Dt){return Ae(qe,ge,Dt)})}if(qe.save(),qe.translate(ge.scrollX,ge.scrollY),re.length===1){qe.fillStyle=y.white;var jt=(0,T.PC)(re[0],ge.zoom,"mouse");!ge.viewModeEnabled&&Me&&Ke(qe,Se,ge,jt,re[0].angle)}else if(re.length>1&&!ge.isRotating){var Kt=2*S/ge.zoom.value;qe.fillStyle=y.white;var Gt=(0,T.KP)(re),Ht=(0,p.Z)(Gt,4),$t=Ht[0],pn=Ht[1],_t=Ht[2],xt=Ht[3],At=qe.getLineDash();qe.setLineDash([2/ge.zoom.value]);var It=qe.lineWidth;qe.lineWidth=1/ge.zoom.value,qe.strokeStyle=$e,z(qe,$t-Kt,pn-Kt,_t-$t+2*Kt,xt-pn+2*Kt,($t+_t)/2,(pn+xt)/2,0),qe.lineWidth=It,qe.setLineDash(At);var Mt=(0,T.kK)([$t,pn,_t,xt,($t+_t)/2,(pn+xt)/2],0,ge.zoom,"mouse",ze?k.Fn:T.ox);re.some(function(Dt){return!Dt.locked})&&Ke(qe,Se,ge,Mt,0)}qe.restore()}for(var Nt in function(Dt,Ft){if(Ft.snapLines.length){var dn=Ft.theme==="light"||Ft.zenModeEnabled?"#ff6b6b":"#ff0000",jn=(Ft.zenModeEnabled?1.5:1)/Ft.zoom.value;Dt.save(),Dt.translate(Ft.scrollX,Ft.scrollY);var Cn,Dn=ye(Ft.snapLines);try{for(Dn.s();!(Cn=Dn.n()).done;){var Wn=Cn.value;Wn.type==="pointer"?(Dt.lineWidth=jn,Dt.strokeStyle=dn,$(Wn,Dt,Ft)):Wn.type==="gap"?(Dt.lineWidth=jn,Dt.strokeStyle=dn,F(Wn.points[0],Wn.points[1],Wn.direction,Ft,Dt)):Wn.type==="points"&&(Dt.lineWidth=jn,Dt.strokeStyle=dn,G(Wn,Dt,Ft))}}catch(Ln){Dn.e(Ln)}finally{Dn.f()}Dt.restore()}}(qe,ge),qe.restore(),Se.remotePointerViewportCoords){var Yt=Se.remotePointerViewportCoords[Nt],ln=Yt.x,an=Yt.y;ln-=ge.offsetLeft,an-=ge.offsetTop;var kn=ln<0||ln>Ge-11||an<0||an>We-14;ln=Math.max(ln,0),ln=Math.min(ln,Ge-11),an=Math.max(an,0),an=Math.min(an,We-14);var Tn=(0,N.G)(Nt);qe.save(),qe.strokeStyle=Tn,qe.fillStyle=Tn;var zn=Se.remotePointerUserStates[Nt],un=kn||zn===_.IDLE||zn===_.AWAY;un&&(qe.globalAlpha=.3),Se.remotePointerButton&&Se.remotePointerButton[Nt]==="down"&&(qe.beginPath(),qe.arc(ln,an,15,0,2*Math.PI,!1),qe.lineWidth=3,qe.strokeStyle="#ffffff88",qe.stroke(),qe.closePath(),qe.beginPath(),qe.arc(ln,an,15,0,2*Math.PI,!1),qe.lineWidth=1,qe.strokeStyle=Tn,qe.stroke(),qe.closePath()),qe.fillStyle=y.white,qe.strokeStyle=y.white,qe.lineWidth=6,qe.lineJoin="round",qe.beginPath(),qe.moveTo(ln,an),qe.lineTo(ln+0,an+14),qe.lineTo(ln+4,an+9),qe.lineTo(ln+11,an+8),qe.closePath(),qe.stroke(),qe.fill(),qe.fillStyle=Tn,qe.strokeStyle=Tn,qe.lineWidth=2,qe.lineJoin="round",qe.beginPath(),un?(qe.moveTo(ln-1,an-1),qe.lineTo(ln-1,an+15),qe.lineTo(ln+5,an+10),qe.lineTo(ln+12,an+9),qe.closePath(),qe.fill()):(qe.moveTo(ln,an),qe.lineTo(ln+0,an+14),qe.lineTo(ln+4,an+9),qe.lineTo(ln+11,an+8),qe.closePath(),qe.fill(),qe.stroke());var zt=Se.remotePointerUsernames[Nt]||"";if(!kn&&zt){qe.font="600 12px sans-serif";var en=ln+5.5,Jt=an+14+2,Sn=qe.measureText(zt),Hn=Sn.actualBoundingBoxDescent+Sn.actualBoundingBoxAscent,Yn=Math.max(Hn,12),or=en-1,$n=Jt-1,rn=Sn.width+2+10+2,Pt=Yn+2+6+2;qe.roundRect?(qe.beginPath(),qe.roundRect(or,$n,rn,Pt,8),qe.fillStyle=Tn,qe.fill(),qe.strokeStyle=y.white,qe.stroke()):E(qe,or,$n,rn,Pt,8,y.white),qe.fillStyle=y.black,qe.fillText(zt,en+5+1,Jt+3+Sn.actualBoundingBoxAscent+Math.floor((Yn-Hn)/2)+2)}qe.restore(),qe.closePath()}return Se.renderScrollbars&&(ft=(0,a.tJ)(V,Ge,We,ge),qe.save(),qe.fillStyle=a.w1,qe.strokeStyle="rgba(255,255,255,0.8)",[ft.horizontal,ft.vertical].forEach(function(Dt){Dt&&E(qe,Dt.x,Dt.y,Dt.width,Dt.height,a.nn/2)}),qe.restore()),{scrollBars:ft,atLeastOneVisibleElement:q.length>0,elements:V}},de=function(l){var d=l.canvas,M=l.rc,V=l.elements,q=l.visibleElements,re=l.scale,ae=l.appState,ge=l.renderConfig;if(d!==null){var Se=ge.renderGrid,Re=Se===void 0||Se,Ye=ge.isExporting,Ge=ie(d,re),We=(0,p.Z)(Ge,2),qe=We[0],lt=We[1],ft=le({canvas:d,scale:re,normalizedWidth:qe,normalizedHeight:lt,theme:ae.theme,isExporting:Ye,viewBackgroundColor:ae.viewBackgroundColor});ft.scale(ae.zoom.value,ae.zoom.value),Re&&ae.gridSize&&function(we,Me,$e,at,dt,vt,Tt){var Et;(function(It){It.Bold="#cccccc",It.Regular="#e5e5e5"})(Et||(Et={}));var jt=-Math.round(dt.value/Me)*Me+$e%Me,Kt=-Math.round(dt.value/Me)*Me+at%Me,Gt=Math.min(1/dt.value,1),Ht=1/dt.value,$t=[3*Gt,Ht+(Gt+Ht)];we.save(),we.lineWidth=Gt;for(var pn=jt;pn<jt+vt+2*Me;pn+=Me){var _t=Math.round(pn-$e)%(5*Me)==0;we.beginPath(),we.setLineDash(_t?[]:$t),we.strokeStyle=_t?Et.Bold:Et.Regular,we.moveTo(pn,Kt-Me),we.lineTo(pn,Kt+Tt+2*Me),we.stroke()}for(var xt=Kt;xt<Kt+Tt+2*Me;xt+=Me){var At=Math.round(xt-at)%(5*Me)==0;we.beginPath(),we.setLineDash(At?[]:$t),we.strokeStyle=At?Et.Bold:Et.Regular,we.moveTo(jt-Me,xt),we.lineTo(jt+vt+2*Me,xt),we.stroke()}we.restore()}(ft,ae.gridSize,ae.scrollX,ae.scrollY,ae.zoom,qe/ae.zoom.value,lt/ae.zoom.value);var ze=new Set;q.forEach(function(we){we.groupIds.length>0&&ae.frameToHighlight&&ae.selectedElementIds[we.id]&&((0,w.cO)(we,ae.frameToHighlight)||we.groupIds.find(function(Me){return ze.has(Me)}))&&we.groupIds.forEach(function(Me){return ze.add(Me)})}),q.filter(function(we){return!(0,P.uU)(we)}).forEach(function(we){try{var Me;if((we.frameId||!((Me=ae.frameToHighlight)===null||Me===void 0)&&Me.id)&&ae.frameRendering.enabled&&ae.frameRendering.clip){ft.save();var $e=(0,w.cH)(we,ae);$e&&(0,w.Qs)(we,V,ae)&&Y($e,ft,0,ae),(0,u.lw)(we,M,ft,ge,ae),ft.restore()}else(0,u.lw)(we,M,ft,ge,ae);Ye||ve(we,ft,ae)}catch(at){console.error(at)}}),q.filter(function(we){return(0,P.uU)(we)}).forEach(function(we){try{var Me,$e=function(){if((0,u.lw)(we,M,ft,ge,ae),(0,I.gs)(we)&&(Ye||!we.validated)&&we.width&&we.height){var dt=(0,P.g0)(we);(0,u.lw)(dt,M,ft,ge,ae)}Ye||ve(we,ft,ae)};if((we.frameId||!((Me=ae.frameToHighlight)===null||Me===void 0)&&Me.id)&&ae.frameRendering.enabled&&ae.frameRendering.clip){ft.save();var at=(0,w.cH)(we,ae);at&&(0,w.Qs)(we,V,ae)&&Y(at,ft,0,ae),$e(),ft.restore()}else $e()}catch(dt){console.error(dt)}})}},J=(0,Q.hR)(function(l){var d,M=ce(l);(d=l.callback)===null||d===void 0||d.call(l,M)},{trailing:!0}),ee=function(l,d){if(!d){var M=ce(l);return l.callback(M),M}J(l)},he=(0,Q.hR)(function(l){de(l)},{trailing:!0}),Pe=function(l,d){d?he(l):de(l)},He=function(){J.cancel(),he.cancel()},Ke=function(l,d,M,V,q){Object.keys(V).forEach(function(re){var ae=V[re];if(ae!==void 0){var ge=(0,p.Z)(ae,4),Se=ge[0],Re=ge[1],Ye=ge[2],Ge=ge[3];l.save(),l.lineWidth=1/M.zoom.value,d.selectionColor&&(l.strokeStyle=d.selectionColor),re==="rotation"?B(l,Se+Ye/2,Re+Ge/2,Ye/2):l.roundRect?(l.beginPath(),l.roundRect(Se,Re,Ye,Ge,2/M.zoom.value),l.fill(),l.stroke()):z(l,Se,Re,Ye,Ge,Se+Ye/2,Re+Ge/2,q,!0),l.restore()}})},Ae=function(l,d,M){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*S,q=M.angle,re=M.elementX1,ae=M.elementY1,ge=M.elementX2,Se=M.elementY2,Re=M.selectionColors,Ye=M.cx,Ge=M.cy,We=M.dashed,qe=M.activeEmbeddable,lt=ge-re,ft=Se-ae,ze=V/d.zoom.value,we=8/d.zoom.value,Me=4/d.zoom.value;l.save(),l.translate(d.scrollX,d.scrollY),l.lineWidth=(qe?4:1)/d.zoom.value;for(var $e=Re.length,at=0;at<$e;++at)l.strokeStyle=Re[at],We&&l.setLineDash([we,Me+(we+Me)*($e-1)]),l.lineDashOffset=(we+Me)*at,z(l,re-ze,ae-ze,lt+2*ze,ft+2*ze,Ye,Ge,q);l.restore()},Oe=function(l,d,M){var V=Array.isArray(M)?be:Te;l.save(),l.translate(d.scrollX,d.scrollY),V(l,M),l.restore()},Te=function(l,d){var M=(0,T.qf)(d),V=(0,p.Z)(M,4),q=V[0],re=V[1],ae=V[2]-q,ge=V[3]-re,Se=(0,m.fb)(d,ae,ge);l.strokeStyle="rgba(0,0,0,.05)",l.lineWidth=Se-4;var Re=2+Se/2;switch(d.type){case"rectangle":case"text":case"image":case"embeddable":case"frame":z(l,q-Re,re-Re,ae+2*Re,ge+2*Re,q+ae/2,re+ge/2,d.angle);break;case"diamond":var Ye=Math.hypot(ae,ge);(function(Ge,We,qe,lt,ft,ze){Ge.save(),Ge.translate(lt,ft),Ge.rotate(ze),Ge.beginPath(),Ge.moveTo(0,qe/2),Ge.lineTo(We/2,0),Ge.lineTo(0,-qe/2),Ge.lineTo(-We/2,0),Ge.closePath(),Ge.stroke(),Ge.restore()})(l,ae+2*(Re*Ye/ge),ge+2*(Re*Ye/ae),q+ae/2,re+ge/2,d.angle);break;case"ellipse":(function(Ge,We,qe,lt,ft,ze){Ge.beginPath(),Ge.ellipse(lt,ft,We/2,qe/2,ze,0,2*Math.PI),Ge.stroke()})(l,ae+2*Re,ge+2*Re,q+ae/2,re+ge/2,d.angle)}},De=function(l,d,M){var V=(0,T.qf)(M),q=(0,p.Z)(V,4),re=q[0],ae=q[1],ge=q[2]-re,Se=q[3]-ae;l.strokeStyle="rgb(0,118,255)",l.lineWidth=ue.iG.strokeWidth/d.zoom.value,l.save(),l.translate(d.scrollX,d.scrollY),z(l,re,ae,ge,Se,re+ge/2,ae+Se/2,M.angle,!1,ue.iG.radius/d.zoom.value),l.restore()},ke=function(l,d,M){var V=M.filter(function(ae){return ae.groupIds.length===0}),q=M.filter(function(ae){return ae.groupIds.length>0}),re=function(ae){var ge=(0,T.KP)(ae),Se=(0,p.Z)(ge,4),Re=Se[0],Ye=Se[1],Ge=Se[2],We=Se[3];return{angle:0,elementX1:Re,elementX2:Ge,elementY1:Ye,elementY2:We,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:Re+(Ge-Re)/2,cy:Ye+(We-Ye)/2,activeEmbeddable:!1}};Object.entries((0,x.yR)(q,d)).filter(function(ae){var ge=(0,p.Z)(ae,2);return ge[0],ge[1]}).map(function(ae){var ge=(0,p.Z)(ae,2),Se=ge[0];return ge[1],Se}).map(function(ae){return function(ge){var Se=(0,x.Fb)(M,ge);return re(Se)}(ae)}).concat(V.map(function(ae){return re([ae])})).forEach(function(ae){return Ae(l,d,ae)})},be=function(l,d){var M=(0,p.Z)(d,3),V=M[0],q=M[1],re=M[2],ae=(0,m.fb)(re,re.width,re.height);l.strokeStyle="rgba(0,0,0,0)",l.fillStyle="rgba(0,0,0,.05)",(q==="both"?[0,-1]:q==="start"?[0]:[-1]).forEach(function(ge){var Se=H._.getPointAtIndexGlobalCoordinates(V,ge),Re=(0,p.Z)(Se,2),Ye=Re[0],Ge=Re[1];B(l,Ye,Ge,ae)})},ve=function(l,d,M){if(l.link&&!M.selectedElementIds[l.id]){var V=(0,T.qf)(l),q=(0,p.Z)(V,4),re=q[0],ae=q[1],ge=q[2],Se=q[3],Re=(0,me.sw)([re,ae,ge,Se],l.angle,M),Ye=(0,p.Z)(Re,4),Ge=Ye[0],We=Ye[1],qe=Ye[2],lt=Ye[3],ft=Ge+qe/2,ze=We+lt/2;if(d.save(),d.translate(M.scrollX+ft,M.scrollY+ze),d.rotate(l.angle),c&&c.zoom===M.zoom.value)d.drawImage(c,Ge-ft,We-ze,qe,lt);else{(c=document.createElement("canvas")).zoom=M.zoom.value,c.width=qe*window.devicePixelRatio*M.zoom.value,c.height=lt*window.devicePixelRatio*M.zoom.value;var we=c.getContext("2d");we.scale(window.devicePixelRatio*M.zoom.value,window.devicePixelRatio*M.zoom.value),we.fillStyle="#fff",we.fillRect(0,0,qe,lt),we.drawImage(me.rj,0,0,qe,lt),we.restore(),d.drawImage(c,Ge-ft,We-ze,qe,lt)}d.restore()}},D=function(l,d,M,V,q){var re=q.offsetX,ae=re===void 0?0:re,ge=q.offsetY,Se=ge===void 0?0:ge,Re=q.exportWithDarkMode,Ye=q.renderEmbeddables,Ge=q.frameRendering;if(M){var We={exportWithDarkMode:Re,renderEmbeddables:Ye,frameRendering:Ge};l.filter(function(qe){return!(0,P.uU)(qe)}).forEach(function(qe){if(!qe.isDeleted)try{(0,u.Rg)(qe,d,M,V,qe.x+ae,qe.y+Se,We)}catch(lt){console.error(lt)}}),l.filter(function(qe){return(0,I.gs)(qe)}).forEach(function(qe){if(!qe.isDeleted)try{(0,u.Rg)(qe,d,M,V,qe.x+ae,qe.y+Se,We)}catch(lt){console.error(lt)}})}}},457:function(te,t,e){var _=e(1930),g=e(8821),p=e(5169),y=e(7651),T=e(4183),E=e(6264),a=e(4643),u=function(H){return typeof H=="string"},N=function(){function H(){var x=this;(0,g.Z)(this,H),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap=new Map,this.selectedElementsCache={selectedElementIds:null,elements:null,cache:new Map},this.addNewElement=function(m){m.frameId?x.insertElementAtIndex(m,x.getElementIndex(m.frameId)):x.replaceAllElements([].concat((0,_.Z)(x.elements),[m]))}}return(0,p.Z)(H,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(x){var m=function(me){for(var ye="",fe=0,G=["includeBoundTextElement","includeElementsInFrames"];fe<G.length;fe++){var $=G[fe];ye+="".concat($,":").concat(me[$]?"1":"0")}return ye}(x),k=x?.elements||this.nonDeletedElements;if(this.selectedElementsCache.elements===k&&this.selectedElementsCache.selectedElementIds===x.selectedElementIds){var Q=this.selectedElementsCache.cache.get(m);if(Q)return Q}else x?.elements==null&&this.selectedElementsCache.cache.clear();var ue=(0,E.eD)(k,{selectedElementIds:x.selectedElementIds},x);return x?.elements==null&&(this.selectedElementsCache.selectedElementIds=x.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(m,ue)),ue}},{key:"getNonDeletedFrames",value:function(){return this.nonDeletedFrames}},{key:"getElement",value:function(x){return this.elementsMap.get(x)||null}},{key:"getVersionNonce",value:function(){return this.versionNonce}},{key:"getNonDeletedElement",value:function(x){var m=this.getElement(x);return m&&(0,y.qP)(m)?m:null}},{key:"mapElements",value:function(x){var m=!1,k=this.elements.map(function(Q){var ue=x(Q);return ue!==Q&&(m=!0),ue});return m&&this.replaceAllElements(k),m}},{key:"replaceAllElements",value:function(x){var m=this;this.elements=x;var k=[];this.elementsMap.clear(),x.forEach(function(Q){(0,T.He)(Q)&&k.push(Q),m.elementsMap.set(Q.id,Q),H.mapElementToScene(Q,m)}),this.nonDeletedElements=(0,y.Lm)(this.elements),this.frames=k,this.nonDeletedFrames=(0,y.Xf)(this.frames),this.informMutation()}},{key:"informMutation",value:function(){this.versionNonce=(0,a.LU)();for(var x=0,m=Array.from(this.callbacks);x<m.length;x++)(0,m[x])()}},{key:"addCallback",value:function(x){var m=this;if(this.callbacks.has(x))throw new Error;return this.callbacks.add(x),function(){if(!m.callbacks.has(x))throw new Error;m.callbacks.delete(x)}}},{key:"destroy",value:function(){var x=this;this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),H.sceneMapById.forEach(function(m,k){m===x&&H.sceneMapById.delete(k)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(x,m){if(!Number.isFinite(m)||m<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var k=[].concat((0,_.Z)(this.elements.slice(0,m)),[x],(0,_.Z)(this.elements.slice(m)));this.replaceAllElements(k)}},{key:"insertElementsAtIndex",value:function(x,m){if(!Number.isFinite(m)||m<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var k=[].concat((0,_.Z)(this.elements.slice(0,m)),(0,_.Z)(x),(0,_.Z)(this.elements.slice(m)));this.replaceAllElements(k)}},{key:"getElementIndex",value:function(x){return this.elements.findIndex(function(m){return m.id===x})}}],[{key:"mapElementToScene",value:function(x,m){var k=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(u(x)){if(!k)return;this.sceneMapById.set(x,m)}else this.sceneMapByElement.set(x,m),k||this.sceneMapById.set(x.id,m)}},{key:"getScene",value:function(x){return u(x)?this.sceneMapById.get(x)||null:this.sceneMapByElement.get(x)||null}}]),H}();N.sceneMapByElement=new WeakMap,N.sceneMapById=new Map,t.Z=N},6049:function(te,t,e){e.d(t,{Z:function(){return ye},i:function(){return G}});var _=e(1930),g=e(2577),p=e(7169),y=e(7651),T=e(2361),E=e(9660),a=e(9827),u=e(1493),N=e(9937),H=e(4183),x=e(1648);function m($,U){var L=Object.keys($);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols($);U&&(F=F.filter(function(I){return Object.getOwnPropertyDescriptor($,I).enumerable})),L.push.apply(L,F)}return L}function k($){for(var U=1;U<arguments.length;U++){var L=arguments[U]!=null?arguments[U]:{};U%2?m(Object(L),!0).forEach(function(F){(0,p.Z)($,F,L[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(L)):m(Object(L)).forEach(function(F){Object.defineProperty($,F,Object.getOwnPropertyDescriptor(L,F))})}return $}var Q=function($){return[8,8+$]},ue=function($){return[1.5,6+$]};function me($){var U=$.roughness,L=Math.max($.width,$.height),F=Math.min($.width,$.height);return F>=20&&L>=50||F>=15&&$.roundness&&(0,x.sh)($.type)||(0,H.bt)($)&&L>=50?U:Math.min(U/(L<10?3:2),2.5)}var ye=function($){var U=arguments.length>1&&arguments[1]!==void 0&&arguments[1],L={seed:$.seed,strokeLineDash:$.strokeStyle==="dashed"?Q($.strokeWidth):$.strokeStyle==="dotted"?ue($.strokeWidth):void 0,disableMultiStroke:$.strokeStyle!=="solid",strokeWidth:$.strokeStyle!=="solid"?$.strokeWidth+.5:$.strokeWidth,fillWeight:$.strokeWidth/2,hachureGap:4*$.strokeWidth,roughness:me($),stroke:$.strokeColor,preserveVertices:U||$.roughness<N.$h.cartoonist};switch($.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":return L.fillStyle=$.fillStyle,L.fill=(0,a.Qm)($.backgroundColor)?void 0:$.backgroundColor,$.type==="ellipse"&&(L.curveFitting=1),L;case"line":case"freedraw":return(0,T.g6)($.points)&&(L.fillStyle=$.fillStyle,L.fill=$.backgroundColor==="transparent"?void 0:$.backgroundColor),L;case"arrow":return L;default:throw new Error("Unimplemented type ".concat($.type))}},fe=function($,U){return $.type==="embeddable"&&(U||!$.validated)&&(0,a.Qm)($.backgroundColor)&&(0,a.Qm)($.strokeColor)?k(k({},$),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):$},G=function($,U){var L=arguments.length>2&&arguments[2]!==void 0&&arguments[2];switch($.type){case"rectangle":case"embeddable":var F;if($.roundness){var I=$.width,P=$.height,w=(0,T.yW)(Math.min(I,P),$);F=U.path("M ".concat(w," 0 L ").concat(I-w," 0 Q ").concat(I," 0, ").concat(I," ").concat(w," L ").concat(I," ").concat(P-w," Q ").concat(I," ").concat(P,", ").concat(I-w," ").concat(P," L ").concat(w," ").concat(P," Q 0 ").concat(P,", 0 ").concat(P-w," L 0 ").concat(w," Q 0 0, ").concat(w," 0"),ye(fe($,L),!0))}else F=U.rectangle(0,0,$.width,$.height,ye(fe($,L),!1));return F;case"diamond":var f,r=(0,y.UC)($),o=(0,g.Z)(r,8),b=o[0],s=o[1],c=o[2],S=o[3],z=o[4],B=o[5],j=o[6],C=o[7];if($.roundness){var A=(0,T.yW)(Math.abs(b-j),$),Y=(0,T.yW)(Math.abs(S-s),$);f=U.path("M ".concat(b+A," ").concat(s+Y," L ").concat(c-A," ").concat(S-Y,`
            C `).concat(c," ").concat(S,", ").concat(c," ").concat(S,", ").concat(c-A," ").concat(S+Y,`
            L `).concat(z+A," ").concat(B-Y,`
            C `).concat(z," ").concat(B,", ").concat(z," ").concat(B,", ").concat(z-A," ").concat(B-Y,`
            L `).concat(j+A," ").concat(C+Y,`
            C `).concat(j," ").concat(C,", ").concat(j," ").concat(C,", ").concat(j+A," ").concat(C-Y,`
            L `).concat(b-A," ").concat(s+Y,`
            C `).concat(b," ").concat(s,", ").concat(b," ").concat(s,", ").concat(b+A," ").concat(s+Y),ye($,!0))}else f=U.polygon([[b,s],[c,S],[z,B],[j,C]],ye($));return f;case"ellipse":var ie=U.ellipse($.width/2,$.height/2,$.width,$.height,ye($));return ie;case"line":case"arrow":var le,ce=ye($),de=$.points.length?$.points:[[0,0]];if(le=$.roundness?[U.curve(de,ce)]:ce.fill?[U.polygon(de,ce)]:[U.linearPath(de,ce)],$.type==="arrow"){var J=$.startArrowhead,ee=J===void 0?null:J,he=$.endArrowhead,Pe=he===void 0?"arrow":he,He=function(ve,D,l,d){var M=(0,y.Y5)(ve,D,l,d);if(M===null)return[];if(d==="dot"){var V=(0,g.Z)(M,3),q=V[0],re=V[1],ae=V[2];return[U.circle(q,re,ae,k(k({},ce),{},{fill:ve.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(d==="triangle"){var ge=(0,g.Z)(M,6),Se=ge[0],Re=ge[1],Ye=ge[2],Ge=ge[3],We=ge[4],qe=ge[5];return delete ce.strokeLineDash,[U.polygon([[Se,Re],[Ye,Ge],[We,qe],[Se,Re]],k(k({},ce),{},{fill:ve.strokeColor,fillStyle:"solid"}))]}var lt=(0,g.Z)(M,6),ft=lt[0],ze=lt[1],we=lt[2],Me=lt[3],$e=lt[4],at=lt[5];if(ve.strokeStyle==="dotted"){var dt=ue(ve.strokeWidth-1);ce.strokeLineDash=[dt[0],dt[1]-1]}else delete ce.strokeLineDash;return[U.line(we,Me,ft,ze,ce),U.line($e,at,ft,ze,ce)]};if(ee!==null){var Ke,Ae=He($,le,"start",ee);(Ke=le).push.apply(Ke,(0,_.Z)(Ae))}if(Pe!==null){var Oe,Te=He($,le,"end",Pe);(Oe=le).push.apply(Oe,(0,_.Z)(Te))}}return le;case"freedraw":var De;if((0,E.Lc)($),(0,T.g6)($.points)){var ke=(0,u.og)($.points,.75);De=U.curve(ke,k(k({},ye($)),{},{stroke:"none"}))}else De=null;return De;case"frame":case"text":case"image":var be=null;return be;default:return(0,a.vE)($,"generateElementShape(): Unimplemented type ".concat($?.type)),null}}},2921:function(te,t,e){e.d(t,{R:function(){return E}});var _=e(5169),g=e(8821),p=e(8128),y=e(9660),T=e(6049),E=(0,_.Z)(function a(){(0,g.Z)(this,a)});E.rg=new p.V,E.cache=new WeakMap,E.get=function(a){return E.cache.get(a)},E.set=function(a,u){return E.cache.set(a,u)},E.delete=function(a){return E.cache.delete(a)},E.destroy=function(){E.cache=new WeakMap},E.generateElementShape=function(a){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1],N=u?void 0:E.get(a);if(N!==void 0)return N;y.Xx.delete(a);var H=(0,T.i)(a,E.rg,u);return E.cache.set(a,H),H}},1648:function(te,t,e){e.d(t,{$b:function(){return g},CJ:function(){return N},M9:function(){return T},PD:function(){return p},QG:function(){return u},Un:function(){return a},Zd:function(){return y},sh:function(){return E}});var _=e(4183),g=function(H){return H==="rectangle"||H==="embeddable"||H==="ellipse"||H==="diamond"||H==="line"||H==="freedraw"},p=function(H){return H!=="image"&&H!=="frame"},y=function(H){return H==="rectangle"||H==="embeddable"||H==="ellipse"||H==="diamond"||H==="freedraw"||H==="arrow"||H==="line"},T=function(H){return H==="rectangle"||H==="embeddable"||H==="ellipse"||H==="diamond"||H==="arrow"||H==="line"},E=function(H){return H==="rectangle"||H==="embeddable"||H==="arrow"||H==="line"||H==="diamond"},a=function(H){return H==="arrow"},u=function(H,x){for(var m=null,k=H.length-1;k>=0;--k){var Q=H[k];if(!Q.isDeleted&&x(Q)){m=Q;break}}return m},N=function(H,x){var m=[];return H.filter(function(k){return!(k.isDeleted||!x(k))&&(!(0,_.gs)(k)||(m.push(k),!1))}).concat(m)}},3668:function(te,t,e){e.d(t,{$D:function(){return r},Cg:function(){return b},NL:function(){return f}});var _=e(7169),g=e(2577),p=e(8950),y=e(2975),T=e.n(y),E=e(9845),a=e(4949),u=e(7766),N=e(9827),H=e(9937),x=e(6853),m=e(4419),k=e(4178),Q=e(6013),ue=e(4682),me=e(7651),ye=e(583),fe=e(457);function G(s,c){var S=Object.keys(s);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(s);c&&(z=z.filter(function(B){return Object.getOwnPropertyDescriptor(s,B).enumerable})),S.push.apply(S,z)}return S}function $(s){for(var c=1;c<arguments.length;c++){var S=arguments[c]!=null?arguments[c]:{};c%2?G(Object(S),!0).forEach(function(z){(0,_.Z)(s,z,S[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(S)):G(Object(S)).forEach(function(z){Object.defineProperty(s,z,Object.getOwnPropertyDescriptor(S,z))})}return s}function U(s,c){var S=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!S){if(Array.isArray(s)||(S=function(Y,ie){if(Y){if(typeof Y=="string")return L(Y,ie);var le=Object.prototype.toString.call(Y).slice(8,-1);if(le==="Object"&&Y.constructor&&(le=Y.constructor.name),le==="Map"||le==="Set")return Array.from(Y);if(le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le))return L(Y,ie)}}(s))||c){S&&(s=S);var z=0,B=function(){};return{s:B,n:function(){return z>=s.length?{done:!0}:{done:!1,value:s[z++]}},e:function(Y){throw Y},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,C=!0,A=!1;return{s:function(){S=S.call(s)},n:function(){var Y=S.next();return C=Y.done,Y},e:function(Y){A=!0,j=Y},f:function(){try{C||S.return==null||S.return()}finally{if(A)throw j}}}}function L(s,c){(c==null||c>s.length)&&(c=s.length);for(var S=0,z=new Array(c);S<c;S++)z[S]=s[S];return z}var F=function(s){var c=new fe.Z;return c.replaceAllElements((0,N.xU)(s),!1),c},I=function(s,c){if(s.width<=c)return s;var S=document.createElement("canvas").getContext("2d");S.font=(0,N.mO)({fontFamily:s.fontFamily,fontSize:s.fontSize});var z=s.text;if(S.measureText(z).width>c)for(var B=z.length;B>0;B--){var j="".concat(z.slice(0,B),"...");if(S.measureText(j).width<=c){z=j;break}}return(0,ye.BE)(s,{text:z,width:c})},P=function(s,c){return c=c||(0,x.im)().frameRendering,{enabled:!!s||c.enabled,outline:!s&&c.outline,name:!s&&c.name,clip:!!s||c.clip}},w=function(s){var c=s.elements,S=s.exportingFrame,z=s.frameRendering,B=s.exportWithDarkMode;return S?(0,Q.Xs)({elements:c,bounds:S,type:"overlap"}):z.enabled&&z.name?function(j,C){var A,Y=[],ie=0,le=U(j);try{for(le.s();!(A=le.n()).done;){var ce=A.value;if((0,me.He)(ce)){ie++;var de=(0,me.VL)({x:ce.x,y:ce.y-H.iG.nameOffsetY,fontFamily:H.ut.Assistant,fontSize:H.iG.nameFontSize,lineHeight:H.iG.nameLineHeight,strokeColor:C.exportWithDarkMode?H.iG.nameColorDarkTheme:H.iG.nameColorLightTheme,text:ce.name||"Frame ".concat(ie)});de.y-=de.height,de=I(de,ce.width),Y.push(de)}Y.push(ce)}}catch(J){le.e(J)}finally{le.f()}return Y}(c,{exportWithDarkMode:B}):c},f=function(){var s=(0,p.Z)(T().mark(function c(S,z,B,j){var C,A,Y,ie,le,ce,de,J,ee,he,Pe,He,Ke,Ae,Oe,Te,De,ke,be,ve,D,l,d,M=arguments;return T().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return A=j.exportBackground,Y=j.exportPadding,ie=Y===void 0?H.qy:Y,le=j.viewBackgroundColor,ce=j.exportingFrame,de=M.length>4&&M[4]!==void 0?M[4]:function(q,re){var ae=document.createElement("canvas");return ae.width=q*z.exportScale,ae.height=re*z.exportScale,{canvas:ae,scale:z.exportScale}},J=F(S),S=J.getNonDeletedElements(),ee=P(ce??null,(C=z.frameRendering)!==null&&C!==void 0?C:null),he=w({elements:S,exportingFrame:ce,exportWithDarkMode:z.exportWithDarkMode,frameRendering:ee}),ce&&(ie=0),Pe=o(ce?[ce]:(0,ue._h)(he),ie),He=(0,g.Z)(Pe,4),Ke=He[0],Ae=He[1],Oe=He[2],Te=He[3],De=de(Oe,Te),ke=De.canvas,be=De.scale,ve=be===void 0?1:be,D=(0,x.im)(),V.next=12,(0,k.Xx)({imageCache:new Map,fileIds:(0,k.oA)(he).map(function(q){return q.fileId}),files:B});case 12:return l=V.sent,d=l.imageCache,(0,u.AW)({canvas:ke,rc:E.Z.canvas(ke),elements:he,visibleElements:he,scale:ve,appState:$($({},z),{},{frameRendering:ee,viewBackgroundColor:A?le:null,scrollX:-Ke+ie,scrollY:-Ae+ie,zoom:D.zoom,shouldCacheIgnoreZoom:!1,theme:z.exportWithDarkMode?"dark":"light"}),renderConfig:{imageCache:d,renderGrid:!1,isExporting:!0}}),J.destroy(),V.abrupt("return",ke);case 17:case"end":return V.stop()}},c)}));return function(c,S,z,B){return s.apply(this,arguments)}}(),r=function(){var s=(0,p.Z)(T().mark(function c(S,z,B,j){var C,A,Y,ie,le,ce,de,J,ee,he,Pe,He,Ke,Ae,Oe,Te,De,ke,be,ve,D,l,d,M,V,q,re,ae,ge,Se,Re,Ye,Ge,We,qe,lt,ft,ze,we,Me,$e,at,dt;return T().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(ie=F(S),S=ie.getNonDeletedElements(),le=P((C=j?.exportingFrame)!==null&&C!==void 0?C:null,(A=z.frameRendering)!==null&&A!==void 0?A:null),ce=z.exportPadding,de=ce===void 0?H.qy:ce,J=z.exportWithDarkMode,ee=J!==void 0&&J,he=z.viewBackgroundColor,Pe=z.exportScale,He=Pe===void 0?1:Pe,Ke=z.exportEmbedScene,Ae=(j||{}).exportingFrame,Te=w({elements:S,exportingFrame:Oe=Ae===void 0?null:Ae,exportWithDarkMode:ee,frameRendering:le}),Oe&&(de=0),De="",!Ke){vt.next=20;break}return vt.prev=9,vt.next=12,Promise.resolve().then(e.bind(e,250));case 12:return vt.next=14,vt.sent.encodeSvgMetadata({text:(0,m.I_)(S,z,B||{},"local")});case 14:De=vt.sent,vt.next=20;break;case 17:vt.prev=17,vt.t0=vt.catch(9),console.error(vt.t0);case 20:ke=o(Oe?[Oe]:(0,ue._h)(Te),de),be=(0,g.Z)(ke,4),ve=be[0],D=be[1],l=be[2],d=be[3],(M=document.createElementNS(H.hR,"svg")).setAttribute("version","1.1"),M.setAttribute("xmlns",H.hR),M.setAttribute("viewBox","0 0 ".concat(l," ").concat(d)),M.setAttribute("width","".concat(l*He)),M.setAttribute("height","".concat(d*He)),ee&&M.setAttribute("filter",H.ZF),V="https://excalidraw.com/",V=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat({VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.PKG_VERSION),(q=V)!==null&&q!==void 0&&q.startsWith("/")&&(V=V.replace("/","".concat(window.location.origin,"/"))),V="".concat(V,"/dist/excalidraw-assets/"),re=-ve+de,ae=-D+de,ge=(0,ue.wO)(S),Se="",Re=U(ge);try{for(Re.s();!(Ye=Re.n()).done;)Ge=Ye.value,We=(0,a.qf)(Ge),qe=(0,g.Z)(We,4),lt=qe[0],ft=qe[1],ze=qe[2],we=qe[3],Me=(ze-lt)/2-(Ge.x-lt),$e=(we-ft)/2-(Ge.y-ft),Se+="<clipPath id=".concat(Ge.id,`>
            <rect transform="translate(`).concat(Ge.x+re," ").concat(Ge.y+ae,") rotate(").concat(Ge.angle," ").concat(Me," ").concat($e,`)"
          width="`).concat(Ge.width,`"
          height="`).concat(Ge.height,`"
          >
          </rect>
        </clipPath>`)}catch(Tt){Re.e(Tt)}finally{Re.f()}return M.innerHTML=`
  `.concat("<!-- svg-source:excalidraw -->",`
  `).concat(De,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(V,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(V,`Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("`).concat(V,`Assistant-Regular.woff2");
      }
    </style>
    `).concat(Se,`
  </defs>
  `),z.exportBackground&&he&&((at=M.ownerDocument.createElementNS(H.hR,"rect")).setAttribute("x","0"),at.setAttribute("y","0"),at.setAttribute("width","".concat(l)),at.setAttribute("height","".concat(d)),at.setAttribute("fill",he),M.appendChild(at)),dt=E.Z.svg(M),(0,u.M_)(Te,dt,M,B||{},{offsetX:re,offsetY:ae,exportWithDarkMode:ee,renderEmbeddables:(Y=j?.renderEmbeddables)!==null&&Y!==void 0&&Y,frameRendering:le}),ie.destroy(),vt.abrupt("return",M);case 42:case"end":return vt.stop()}},c,null,[[9,17]])}));return function(c,S,z,B){return s.apply(this,arguments)}}(),o=function(s,c){var S=(0,a.KP)(s),z=(0,g.Z)(S,4),B=z[0],j=z[1],C=z[2],A=z[3];return[B,j,(0,N.TE)(B,C)+2*c,(0,N.TE)(j,A)+2*c]},b=function(s,c,S){var z=o(s,c).map(function(j){return Math.trunc(j*S)}),B=(0,g.Z)(z,4);return[B[2],B[3]]}},4105:function(te,t,e){e.d(t,{$b:function(){return y.$b},CJ:function(){return y.CJ},M9:function(){return y.M9},N:function(){return g.N},PR:function(){return g.PR},QG:function(){return y.QG},Un:function(){return y.Un},W:function(){return p.W},Yp:function(){return g.Yp},Zd:function(){return y.Zd},Zs:function(){return g.Zs},_4:function(){return _._4},eD:function(){return g.eD},j:function(){return T.j},sh:function(){return y.sh}});var _=e(4726),g=e(6264),p=e(2382),y=e(1648),T=e(4116)},2382:function(te,t,e){e.d(t,{W:function(){return T},s:function(){return y}});var _=e(2577),g=e(7651),p=e(9827),y=function(E){var a=E.scenePoint,u=E.viewportDimensions,N=E.zoom;return{scrollX:u.width/2/N.value-a.x,scrollY:u.height/2/N.value-a.y}},T=function(E,a){if(!(E=(0,g.n_)(E)).length)return{scrollX:0,scrollY:0};var u=(0,g.KP)(E),N=(0,_.Z)(u,4),H=N[0],x=N[1],m=N[2],k=N[3];if(function(me,ye){var fe=(0,_.Z)(ye,4),G=fe[0],$=fe[1],U=fe[2],L=fe[3],F=(0,p._i)({sceneX:G,sceneY:$},me),I=F.x,P=F.y,w=(0,p._i)({sceneX:U,sceneY:L},me),f=w.x,r=w.y;return f-I>me.width||r-P>me.height}(a,[H,x,m,k])){var Q=(0,g.os)(E,(0,p.dE)({clientX:a.scrollX,clientY:a.scrollY},a)),ue=(0,_.Z)(Q,4);H=ue[0],x=ue[1],m=ue[2],k=ue[3]}return y({scenePoint:{x:(H+m)/2,y:(x+k)/2},viewportDimensions:{width:a.width,height:a.height},zoom:a.zoom})}},4726:function(te,t,e){e.d(t,{WM:function(){return T},_4:function(){return N},nn:function(){return E},tJ:function(){return u},w1:function(){return a}});var _=e(2577),g=e(7651),p=e(9827),y=e(8227),T=4,E=6,a="rgba(0,0,0,0.3)",u=function(H,x,m,k){if(H.length===0)return{horizontal:null,vertical:null};var Q=(0,g.KP)(H),ue=(0,_.Z)(Q,4),me=ue[0],ye=ue[1],fe=ue[2],G=ue[3],$=x/k.zoom.value,U=m/k.zoom.value,L=x-$,F=m-U,I={top:parseInt((0,p.IH)("sat"))||0,bottom:parseInt((0,p.IH)("sab"))||0,left:parseInt((0,p.IH)("sal"))||0,right:parseInt((0,p.IH)("sar"))||0},P=(0,y.G3)().rtl,w=-k.scrollX+L/2+I.left,f=-k.scrollY+F/2+I.top,r=w+$-I.right,o=f+U-I.bottom,b=Math.min(me,w),s=Math.min(ye,f),c=Math.max(fe,r),S=Math.max(G,o);return{horizontal:w===b&&r===c?null:{x:Math.max(I.left,T)+(w-b)/(c-b)*x,y:m-E-Math.max(T,I.bottom),width:(r-w)/(c-b)*x-Math.max(2*T,I.left+I.right),height:E},vertical:f===s&&o===S?null:{x:P?Math.max(I.left,T):x-E-Math.max(I.right,T),y:(f-s)/(S-s)*m+Math.max(I.top,T),width:E,height:(o-f)/(S-s)*m-Math.max(2*T,I.top+I.bottom)}}},N=function(H,x,m){var k=[H.horizontal,H.vertical].map(function(ye){return ye!=null&&ye.x<=x&&x<=ye.x+ye.width&&ye.y<=m&&m<=ye.y+ye.height}),Q=(0,_.Z)(k,2),ue=Q[0],me=Q[1];return{isOverEither:ue||me,isOverHorizontal:ue,isOverVertical:me}}},6264:function(te,t,e){e.d(t,{CF:function(){return k},N:function(){return Q},Oh:function(){return fe},PR:function(){return ue},Yp:function(){return m},Zs:function(){return ye},aI:function(){return x},eD:function(){return me}});var _,g,p,y,T=e(2577),E=e(7651),a=e(4183),u=e(4682),N=e(9827),H=e(7935),x=function(G){var $=new Set;return G.forEach(function(U){U.type==="frame"&&$.add(U.id)}),G.filter(function(U){return!U.frameId||!$.has(U.frameId)})},m=function(G,$){var U=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],L=(0,E.qf)($),F=(0,T.Z)(L,4),I=F[0],P=F[1],w=F[2],f=F[3],r=G.filter(function(o){var b=(0,E.Pi)(o),s=(0,T.Z)(b,4),c=s[0],S=s[1],z=s[2],B=s[3],j=(0,u.$Z)(o);if(j){var C=(0,E.Pi)(j),A=(0,T.Z)(C,4),Y=A[0],ie=A[1],le=A[2],ce=A[3];c=Math.max(Y,c),S=Math.max(ie,S),z=Math.min(le,z),B=Math.min(ce,B)}return o.locked===!1&&o.type!=="selection"&&!(0,a.Xh)(o)&&I<=c&&P<=S&&w>=z&&f>=B});return r=(r=U?x(r):r).filter(function(o){var b=(0,u.$Z)(o);return!b||(0,u.cO)(o,b)})},k=function(G,$,U){var L=new Set($.map(function(F){return F.id}));return G.filter(function(F){var I=(0,H.PZ)(F,U.width,U.height,U);return!L.has(F.id)&&I})},Q=(_=null,g=null,p=null,(y=function(G,$){return p!=null&&G===_&&$.selectedElementIds===g||(p=G.some(function(U){return $.selectedElementIds[U.id]}),_=G,g=$.selectedElementIds),p}).clearCache=function(){_=null,g=null,p=null},y),ue=function(G,$,U){var L=Array.from(new Set(me(G,$).map(function(F){return U(F)})));return L.length===1?L[0]:null},me=function(G,$,U){var L=G.filter(function(I){return $.selectedElementIds[I.id]||U!=null&&U.includeBoundTextElement&&(0,a.Xh)(I)&&$.selectedElementIds[I?.containerId]?I:null});if(U!=null&&U.includeElementsInFrames){var F=[];return L.forEach(function(I){I.type==="frame"&&(0,u.zD)(G,I.id).forEach(function(P){return F.push(P)}),F.push(I)}),F}return L},ye=function(G,$){return $.editingElement?[$.editingElement]:me(G,$,{includeBoundTextElement:!0})},fe=function(G,$){return(0,N.w8)($.selectedElementIds,G)?$.selectedElementIds:G}},4116:function(te,t,e){e.d(t,{E:function(){return p},j:function(){return g}});var _=e(9937),g=function(y){return Math.max(_.Zj,Math.min(y,30))},p=function(y,T){var E=y.viewportX,a=y.viewportY,u=y.nextZoom,N=E-T.offsetLeft,H=a-T.offsetTop,x=T.zoom.value;return{scrollX:T.scrollX+(N-N/x)+-(N-N/u),scrollY:T.scrollY+(H-H/x)+-(H-H/u),zoom:{value:u}}}},9827:function(te,t,e){e.d(t,{$9:function(){return ce},$g:function(){return $},$h:function(){return Te},AK:function(){return j},B4:function(){return w},C3:function(){return he},Ds:function(){return L},FG:function(){return C},Fc:function(){return Q},G3:function(){return ee},G9:function(){return d},HP:function(){return l},I4:function(){return He},IH:function(){return S},Ip:function(){return de},Mj:function(){return ve},Om:function(){return o},Oo:function(){return ue},Qm:function(){return ie},TE:function(){return r},Vv:function(){return I},XF:function(){return M},_Z:function(){return ye},_i:function(){return c},ag:function(){return Ae},cx:function(){return A},dE:function(){return s},dZ:function(){return B},h2:function(){return Ke},hR:function(){return F},mO:function(){return U},qr:function(){return Y},qz:function(){return J},s:function(){return G},tH:function(){return le},uY:function(){return b},v4:function(){return Oe},vE:function(){return D},w8:function(){return be},wO:function(){return me},xU:function(){return V},xn:function(){return Pe},xp:function(){return ke},y1:function(){return fe},y8:function(){return De},yo:function(){return f}});var _=e(6655),g=e(7169),p=e(1930),y=e(2577),T=e(9240),E=e(9937),a=e(5156),u=e(9787),N=e.n(u);function H(q,re){var ae=typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(!ae){if(Array.isArray(q)||(ae=function(We,qe){if(We){if(typeof We=="string")return x(We,qe);var lt=Object.prototype.toString.call(We).slice(8,-1);if(lt==="Object"&&We.constructor&&(lt=We.constructor.name),lt==="Map"||lt==="Set")return Array.from(We);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return x(We,qe)}}(q))||re){ae&&(q=ae);var ge=0,Se=function(){};return{s:Se,n:function(){return ge>=q.length?{done:!0}:{done:!1,value:q[ge++]}},e:function(We){throw We},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Re,Ye=!0,Ge=!1;return{s:function(){ae=ae.call(q)},n:function(){var We=ae.next();return Ye=We.done,We},e:function(We){Ge=!0,Re=We},f:function(){try{Ye||ae.return==null||ae.return()}finally{if(Ge)throw Re}}}}function x(q,re){(re==null||re>q.length)&&(re=q.length);for(var ae=0,ge=new Array(re);ae<re;ae++)ge[ae]=q[ae];return ge}function m(q,re){var ae=Object.keys(q);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(q);re&&(ge=ge.filter(function(Se){return Object.getOwnPropertyDescriptor(q,Se).enumerable})),ae.push.apply(ae,ge)}return ae}function k(q){for(var re=1;re<arguments.length;re++){var ae=arguments[re]!=null?arguments[re]:{};re%2?m(Object(ae),!0).forEach(function(ge){(0,g.Z)(q,ge,ae[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(ae)):m(Object(ae)).forEach(function(ge){Object.defineProperty(q,ge,Object.getOwnPropertyDescriptor(ae,ge))})}return q}var Q=function(){var q=new Date,re=q.getFullYear(),ae="".concat(q.getMonth()+1).padStart(2,"0"),ge="".concat(q.getDate()).padStart(2,"0"),Se="".concat(q.getHours()).padStart(2,"0"),Re="".concat(q.getMinutes()).padStart(2,"0");return"".concat(re,"-").concat(ae,"-").concat(ge,"-").concat(Se).concat(Re)},ue=function(q){return q.charAt(0).toUpperCase()+q.slice(1)},me=function(q){return q instanceof HTMLElement&&q.className.includes("ToolIcon")},ye=function(q){return q instanceof HTMLElement&&q.dataset.type==="wysiwyg"||q instanceof HTMLBRElement||q instanceof HTMLInputElement||q instanceof HTMLTextAreaElement||q instanceof HTMLSelectElement},fe=function(q){return ye(q)||q instanceof Element&&!!q.closest("label, button")},G=function(q){return q instanceof HTMLElement&&q.dataset.type==="wysiwyg"||q instanceof HTMLBRElement||q instanceof HTMLTextAreaElement||q instanceof HTMLInputElement&&(q.type==="text"||q.type==="number")},$=function(q){for(var re=q.fontFamily,ae=0,ge=Object.entries(E.ut);ae<ge.length;ae++){var Se=(0,y.Z)(ge[ae],2),Re=Se[0];if(Se[1]===re)return"".concat(Re,", ").concat(E._D)}return E._D},U=function(q){var re=q.fontSize,ae=q.fontFamily;return"".concat(re,"px ").concat($({fontFamily:ae}))},L=function(q,re){var ae=0,ge=null,Se=function(){for(var Re=arguments.length,Ye=new Array(Re),Ge=0;Ge<Re;Ge++)Ye[Ge]=arguments[Ge];ge=Ye,clearTimeout(ae),ae=window.setTimeout(function(){ge=null,q.apply(void 0,Ye)},re)};return Se.flush=function(){if(clearTimeout(ae),ge){var Re=ge;ge=null,q.apply(void 0,(0,p.Z)(Re))}},Se.cancel=function(){ge=null,clearTimeout(ae)},Se},F=function(q,re){var ae=null,ge=null,Se=null,Re=function Ge(We){ae=window.requestAnimationFrame(function(){ae=null,q.apply(void 0,(0,p.Z)(We)),ge=null,Se&&(ge=Se,Se=null,Ge(ge))})},Ye=function(){for(var Ge=arguments.length,We=new Array(Ge),qe=0;qe<Ge;qe++)We[qe]=arguments[qe];ge=We,ae===null?Re(ge):re!=null&&re.trailing&&(Se=We)};return Ye.flush=function(){ae!==null&&(cancelAnimationFrame(ae),ae=null),ge&&(q.apply(void 0,(0,p.Z)(Se||ge)),ge=Se=null)},Ye.cancel=function(){ge=Se=null,ae!==null&&(cancelAnimationFrame(ae),ae=null)},Ye},I=function(q){return 1-Math.pow(1-q,4)},P=function(q,re,ae){return(re-q)*I(ae)+q},w=function(q){var re,ae=q.fromValues,ge=q.toValues,Se=q.onStep,Re=q.duration,Ye=Re===void 0?250:Re,Ge=q.interpolateValue,We=q.onStart,qe=q.onEnd,lt=q.onCancel,ft=!1,ze=0;return ze=window.requestAnimationFrame(function we(Me){if(!ft){re===void 0&&(re=Me,We?.());var $e=Math.min(Me-re,Ye),at=I($e/Ye),dt={};if(Object.keys(ae).forEach(function(Et){var jt=Et,Kt=(ge[jt]-ae[jt])*at+ae[jt];dt[jt]=Kt}),Se(dt),$e<Ye){var vt=$e/Ye,Tt={};Object.keys(ae).forEach(function(Et){var jt,Kt=Et,Gt=ae[Kt],Ht=ge[Kt];(jt=Ge?Ge(Gt,Ht,vt,Kt):P(Gt,Ht,vt))==null&&(jt=P(Gt,Ht,vt)),Tt[Kt]=jt}),Se(Tt),ze=window.requestAnimationFrame(we)}else Se(ge),qe?.()}}),function(){lt?.(),ft=!0,window.cancelAnimationFrame(ze)}},f=function(q,re){if(!q.length||re<1)return[];for(var ae=0,ge=0,Se=Array(Math.ceil(q.length/re));ae<q.length;)Se[ge++]=q.slice(ae,ae+=re);return Se},r=function(q,re){return Math.abs(q-re)},o=function(q,re){var ae,ge;return re.type==="custom"?k(k({},q.activeTool),{},{type:"custom",customType:re.customType,locked:(ge=re.locked)!==null&&ge!==void 0?ge:q.activeTool.locked}):k(k({},q.activeTool),{},{lastActiveTool:re.lastActiveToolBeforeEraser===void 0?q.activeTool.lastActiveTool:re.lastActiveToolBeforeEraser,type:re.type,customType:null,locked:(ae=re.locked)!==null&&ae!==void 0?ae:q.activeTool.locked})},b=function(q){return q=q.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),E.Um?q.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):q.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},s=function(q,re){var ae=q.clientX,ge=q.clientY,Se=re.zoom,Re=re.offsetLeft,Ye=re.offsetTop,Ge=re.scrollX,We=re.scrollY;return{x:(ae-Re)/Se.value-Ge,y:(ge-Ye)/Se.value-We}},c=function(q,re){var ae=q.sceneX,ge=q.sceneY,Se=re.zoom,Re=re.offsetLeft,Ye=re.offsetTop,Ge=re.scrollX,We=re.scrollY;return{x:(ae+Ge)*Se.value+Re,y:(ge+We)*Se.value+Ye}},S=function(q){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(q))},z=new RegExp("^[^".concat("A-Za-z--------","]*[").concat("---","]")),B=function(q){return z.test(q)},j=function(q){var re=(0,y.Z)(q,2);return{x:re[0],y:re[1]}},C=function(q){if(q?.name!=="AbortError")throw q;console.warn(q)},A=function(q,re){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;ae<0&&(ae=q.length+ae);for(var ge=(ae=Math.min(q.length,Math.max(ae,0)))-1;++ge<q.length;)if(re(q[ge],ge,q))return ge;return-1},Y=function(q,re){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q.length-1;ae<0&&(ae=q.length+ae);for(var ge=(ae=Math.min(q.length-1,Math.max(ae,0)))+1;--ge>-1;)if(re(q[ge],ge,q))return ge;return-1},ie=function(q){var re=q.length===5&&q.substr(4,1)==="0",ae=q.length===9&&q.substr(7,2)==="00";return re||ae||q===T.HO.transparent},le=function(q){return function(re){(0,a.unstable_batchedUpdates)(q,re)}},ce=function(q){return F(function(re){(0,a.unstable_batchedUpdates)(q,re)})},de=function(q){for(var re=q.parentElement;re;){if(re===document.body)return document;var ae=window.getComputedStyle(re).overflowY;if(re.scrollHeight>re.clientHeight&&(ae==="auto"||ae==="scroll"||ae==="overlay"))return re;re=re.parentElement}return document},J=function(q){for(var re=q.parentElement;re;){if(re.tabIndex>-1)return void re.focus();re=re.parentElement}},ee=function(q){return Array.from(q).map(function(re){return"0".concat(re.toString(16)).slice(-2)}).join("")},he=function(){return Ke()?1:Date.now()},Pe=function(q){return q.reduce(function(re,ae){return re.set(typeof ae=="string"?ae:ae.id,ae),re},new Map)},He=function(q){return q.reduce(function(re,ae,ge){return re.set(ae.id,[ae,ge]),re},new Map)},Ke=function(){return!1},Ae=function(q,re){return new CustomEvent(q,{detail:{nativeEvent:re},cancelable:!0})},Oe=function(q,re){var ae=!1;for(var ge in re){var Se=re[ge];if(Se!==void 0){if(q[ge]===Se&&((0,_.Z)(Se)!=="object"||Se===null))continue;ae=!0}}return ae?k(k({},q),re):q},Te=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},De=function(q){return!!q&&(0,_.Z)(q)==="object"&&"then"in q&&"catch"in q&&"finally"in q},ke=function(q){var re=q?.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return re?Array.from(re).filter(function(ae){return ae.tabIndex>-1&&!ae.disabled}):[]},be=function(q,re,ae){var ge=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Se=Object.keys(q),Re=Object.keys(re);return Se.length===Re.length&&Se.every(function(Ye){var Ge=ae?.[Ye],We=Ge?Ge(q[Ye],re[Ye]):q[Ye]===re[Ye];return!We&&ge&&console.info("%cisShallowEqual: ".concat(Ye," not equal ->"),"color: #8B4000",q[Ye],re[Ye]),We})},ve=function(q,re){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=ae.checkForDefaultPrevented,Se=ge===void 0||ge;return function(Re){if(q?.(Re),!Se||!Re.defaultPrevented)return re?.(Re)}},D=function(q,re,ae){if(!re)return q;if(ae)return console.error(re),q;throw new Error(re)},l=function(q){var re,ae,ge=function(Se){var Re=Object.entries(Se);if(re){var Ye,Ge=!0,We=H(Re);try{for(We.s();!(Ye=We.n()).done;){var qe=(0,y.Z)(Ye.value,2),lt=qe[0],ft=qe[1];if(re.get(lt)!==ft){Ge=!1;break}}}catch(we){We.e(we)}finally{We.f()}if(Ge)return ae}var ze=q(Se);return re=new Map(Re),ae=ze,ze};return ge.clear=function(){re=void 0,ae=void 0},ge},d=function(){var q;try{var re=N().version.split(".");q=Number(re[0])>17}catch{q=!1}var ae=!1;return function(){return window.EXCALIDRAW_THROTTLE_RENDER===!0&&(!!q||(ae||(ae=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),M=function(q,re){return q instanceof Set||q instanceof Map?q.has(re):"includes"in q?q.includes(re):q.hasOwnProperty(re)},V=function(q){return JSON.parse(JSON.stringify(q))}},3041:function(te,t,e){var _=e(3379),g=e.n(_),p=e(7795),y=e.n(p),T=e(569),E=e.n(T),a=e(3565),u=e.n(a),N=e(9216),H=e.n(N),x=e(4589),m=e.n(x),k=e(2044),Q={};Q.styleTagTransform=m(),Q.setAttributes=u(),Q.insert=E().bind(null,"head"),Q.domAPI=y(),Q.insertStyleElement=H(),g()(k.Z,Q),k.Z&&k.Z.locals&&k.Z.locals},3379:function(te){var t=[];function e(p){for(var y=-1,T=0;T<t.length;T++)if(t[T].identifier===p){y=T;break}return y}function _(p,y){for(var T={},E=[],a=0;a<p.length;a++){var u=p[a],N=y.base?u[0]+y.base:u[0],H=T[N]||0,x="".concat(N," ").concat(H);T[N]=H+1;var m=e(x),k={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(m!==-1)t[m].references++,t[m].updater(k);else{var Q=g(k,y);y.byIndex=a,t.splice(a,0,{identifier:x,updater:Q,references:1})}E.push(x)}return E}function g(p,y){var T=y.domAPI(y);return T.update(p),function(E){if(E){if(E.css===p.css&&E.media===p.media&&E.sourceMap===p.sourceMap&&E.supports===p.supports&&E.layer===p.layer)return;T.update(p=E)}else T.remove()}}te.exports=function(p,y){var T=_(p=p||[],y=y||{});return function(E){E=E||[];for(var a=0;a<T.length;a++){var u=e(T[a]);t[u].references--}for(var N=_(E,y),H=0;H<T.length;H++){var x=e(T[H]);t[x].references===0&&(t[x].updater(),t.splice(x,1))}T=N}}},569:function(te){var t={};te.exports=function(e,_){var g=function(p){if(t[p]===void 0){var y=document.querySelector(p);if(window.HTMLIFrameElement&&y instanceof window.HTMLIFrameElement)try{y=y.contentDocument.head}catch{y=null}t[p]=y}return t[p]}(e);if(!g)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");g.appendChild(_)}},9216:function(te){te.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:function(te,t,e){te.exports=function(_){var g=e.nc;g&&_.setAttribute("nonce",g)}},7795:function(te){te.exports=function(t){if(typeof document>"u")return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(_){(function(g,p,y){var T="";y.supports&&(T+="@supports (".concat(y.supports,") {")),y.media&&(T+="@media ".concat(y.media," {"));var E=y.layer!==void 0;E&&(T+="@layer".concat(y.layer.length>0?" ".concat(y.layer):""," {")),T+=y.css,E&&(T+="}"),y.media&&(T+="}"),y.supports&&(T+="}");var a=y.sourceMap;a&&typeof btoa<"u"&&(T+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),p.styleTagTransform(T,g,p.options)})(e,t,_)},remove:function(){(function(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_)})(e)}}}},4589:function(te){te.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},9669:function(te){te.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(te){te.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(te){te.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(te,t,e){te.exports=e.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(te,t,e){te.exports=e.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(te,t,e){te.exports=e.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(te,t,e){te.exports=e.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(te,t,e){te.exports=e.p+"excalidraw-assets/Cascadia.woff2"},3940:function(te,t,e){te.exports=e.p+"excalidraw-assets/Virgil.woff2"},9787:function(te){te.exports=R},5156:function(te){te.exports=Ce},1020:function(te){te.exports=pe},9649:function(te,t,e){var _=e(8114).default;function g(){te.exports=g=function(){return p},te.exports.__esModule=!0,te.exports.default=te.exports;var p={},y=Object.prototype,T=y.hasOwnProperty,E=Object.defineProperty||function(s,c,S){s[c]=S.value},a=typeof Symbol=="function"?Symbol:{},u=a.iterator||"@@iterator",N=a.asyncIterator||"@@asyncIterator",H=a.toStringTag||"@@toStringTag";function x(s,c,S){return Object.defineProperty(s,c,{value:S,enumerable:!0,configurable:!0,writable:!0}),s[c]}try{x({},"")}catch{x=function(s,c,S){return s[c]=S}}function m(s,c,S,z){var B=c&&c.prototype instanceof ue?c:ue,j=Object.create(B.prototype),C=new r(z||[]);return E(j,"_invoke",{value:I(s,S,C)}),j}function k(s,c,S){try{return{type:"normal",arg:s.call(c,S)}}catch(z){return{type:"throw",arg:z}}}p.wrap=m;var Q={};function ue(){}function me(){}function ye(){}var fe={};x(fe,u,function(){return this});var G=Object.getPrototypeOf,$=G&&G(G(o([])));$&&$!==y&&T.call($,u)&&(fe=$);var U=ye.prototype=ue.prototype=Object.create(fe);function L(s){["next","throw","return"].forEach(function(c){x(s,c,function(S){return this._invoke(c,S)})})}function F(s,c){function S(B,j,C,A){var Y=k(s[B],s,j);if(Y.type!=="throw"){var ie=Y.arg,le=ie.value;return le&&_(le)=="object"&&T.call(le,"__await")?c.resolve(le.__await).then(function(ce){S("next",ce,C,A)},function(ce){S("throw",ce,C,A)}):c.resolve(le).then(function(ce){ie.value=ce,C(ie)},function(ce){return S("throw",ce,C,A)})}A(Y.arg)}var z;E(this,"_invoke",{value:function(B,j){function C(){return new c(function(A,Y){S(B,j,A,Y)})}return z=z?z.then(C,C):C()}})}function I(s,c,S){var z="suspendedStart";return function(B,j){if(z==="executing")throw new Error("Generator is already running");if(z==="completed"){if(B==="throw")throw j;return b()}for(S.method=B,S.arg=j;;){var C=S.delegate;if(C){var A=P(C,S);if(A){if(A===Q)continue;return A}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(z==="suspendedStart")throw z="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);z="executing";var Y=k(s,c,S);if(Y.type==="normal"){if(z=S.done?"completed":"suspendedYield",Y.arg===Q)continue;return{value:Y.arg,done:S.done}}Y.type==="throw"&&(z="completed",S.method="throw",S.arg=Y.arg)}}}function P(s,c){var S=c.method,z=s.iterator[S];if(z===void 0)return c.delegate=null,S==="throw"&&s.iterator.return&&(c.method="return",c.arg=void 0,P(s,c),c.method==="throw")||S!=="return"&&(c.method="throw",c.arg=new TypeError("The iterator does not provide a '"+S+"' method")),Q;var B=k(z,s.iterator,c.arg);if(B.type==="throw")return c.method="throw",c.arg=B.arg,c.delegate=null,Q;var j=B.arg;return j?j.done?(c[s.resultName]=j.value,c.next=s.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,Q):j:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,Q)}function w(s){var c={tryLoc:s[0]};1 in s&&(c.catchLoc=s[1]),2 in s&&(c.finallyLoc=s[2],c.afterLoc=s[3]),this.tryEntries.push(c)}function f(s){var c=s.completion||{};c.type="normal",delete c.arg,s.completion=c}function r(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(w,this),this.reset(!0)}function o(s){if(s){var c=s[u];if(c)return c.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var S=-1,z=function B(){for(;++S<s.length;)if(T.call(s,S))return B.value=s[S],B.done=!1,B;return B.value=void 0,B.done=!0,B};return z.next=z}}return{next:b}}function b(){return{value:void 0,done:!0}}return me.prototype=ye,E(U,"constructor",{value:ye,configurable:!0}),E(ye,"constructor",{value:me,configurable:!0}),me.displayName=x(ye,H,"GeneratorFunction"),p.isGeneratorFunction=function(s){var c=typeof s=="function"&&s.constructor;return!!c&&(c===me||(c.displayName||c.name)==="GeneratorFunction")},p.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,ye):(s.__proto__=ye,x(s,H,"GeneratorFunction")),s.prototype=Object.create(U),s},p.awrap=function(s){return{__await:s}},L(F.prototype),x(F.prototype,N,function(){return this}),p.AsyncIterator=F,p.async=function(s,c,S,z,B){B===void 0&&(B=Promise);var j=new F(m(s,c,S,z),B);return p.isGeneratorFunction(c)?j:j.next().then(function(C){return C.done?C.value:j.next()})},L(U),x(U,H,"Generator"),x(U,u,function(){return this}),x(U,"toString",function(){return"[object Generator]"}),p.keys=function(s){var c=Object(s),S=[];for(var z in c)S.push(z);return S.reverse(),function B(){for(;S.length;){var j=S.pop();if(j in c)return B.value=j,B.done=!1,B}return B.done=!0,B}},p.values=o,r.prototype={constructor:r,reset:function(s){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(f),!s)for(var c in this)c.charAt(0)==="t"&&T.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=void 0)},stop:function(){this.done=!0;var s=this.tryEntries[0].completion;if(s.type==="throw")throw s.arg;return this.rval},dispatchException:function(s){if(this.done)throw s;var c=this;function S(Y,ie){return j.type="throw",j.arg=s,c.next=Y,ie&&(c.method="next",c.arg=void 0),!!ie}for(var z=this.tryEntries.length-1;z>=0;--z){var B=this.tryEntries[z],j=B.completion;if(B.tryLoc==="root")return S("end");if(B.tryLoc<=this.prev){var C=T.call(B,"catchLoc"),A=T.call(B,"finallyLoc");if(C&&A){if(this.prev<B.catchLoc)return S(B.catchLoc,!0);if(this.prev<B.finallyLoc)return S(B.finallyLoc)}else if(C){if(this.prev<B.catchLoc)return S(B.catchLoc,!0)}else{if(!A)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return S(B.finallyLoc)}}}},abrupt:function(s,c){for(var S=this.tryEntries.length-1;S>=0;--S){var z=this.tryEntries[S];if(z.tryLoc<=this.prev&&T.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var B=z;break}}B&&(s==="break"||s==="continue")&&B.tryLoc<=c&&c<=B.finallyLoc&&(B=null);var j=B?B.completion:{};return j.type=s,j.arg=c,B?(this.method="next",this.next=B.finallyLoc,Q):this.complete(j)},complete:function(s,c){if(s.type==="throw")throw s.arg;return s.type==="break"||s.type==="continue"?this.next=s.arg:s.type==="return"?(this.rval=this.arg=s.arg,this.method="return",this.next="end"):s.type==="normal"&&c&&(this.next=c),Q},finish:function(s){for(var c=this.tryEntries.length-1;c>=0;--c){var S=this.tryEntries[c];if(S.finallyLoc===s)return this.complete(S.completion,S.afterLoc),f(S),Q}},catch:function(s){for(var c=this.tryEntries.length-1;c>=0;--c){var S=this.tryEntries[c];if(S.tryLoc===s){var z=S.completion;if(z.type==="throw"){var B=z.arg;f(S)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(s,c,S){return this.delegate={iterator:o(s),resultName:c,nextLoc:S},this.method==="next"&&(this.arg=void 0),Q}},p}te.exports=g,te.exports.__esModule=!0,te.exports.default=te.exports},8114:function(te){function t(e){return te.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},te.exports.__esModule=!0,te.exports.default=te.exports,t(e)}te.exports=t,te.exports.__esModule=!0,te.exports.default=te.exports},2975:function(te,t,e){var _=e(9649)();te.exports=_;try{regeneratorRuntime=_}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=_:Function("r","regeneratorRuntime = r")(_)}},7017:function(te,t,e){function _(g,p){(p==null||p>g.length)&&(p=g.length);for(var y=0,T=new Array(p);y<p;y++)T[y]=g[y];return T}e.d(t,{Z:function(){return _}})},3173:function(te,t,e){function _(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}e.d(t,{Z:function(){return _}})},8950:function(te,t,e){function _(p,y,T,E,a,u,N){try{var H=p[u](N),x=H.value}catch(m){return void T(m)}H.done?y(x):Promise.resolve(x).then(E,a)}function g(p){return function(){var y=this,T=arguments;return new Promise(function(E,a){var u=p.apply(y,T);function N(x){_(u,E,a,N,H,"next",x)}function H(x){_(u,E,a,N,H,"throw",x)}N(void 0)})}}e.d(t,{Z:function(){return g}})},8821:function(te,t,e){function _(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}e.d(t,{Z:function(){return _}})},5169:function(te,t,e){e.d(t,{Z:function(){return p}});var _=e(3525);function g(y,T){for(var E=0;E<T.length;E++){var a=T[E];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(y,(0,_.Z)(a.key),a)}}function p(y,T,E){return T&&g(y.prototype,T),E&&g(y,E),Object.defineProperty(y,"prototype",{writable:!1}),y}},7169:function(te,t,e){e.d(t,{Z:function(){return g}});var _=e(3525);function g(p,y,T){return(y=(0,_.Z)(y))in p?Object.defineProperty(p,y,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[y]=T,p}},11:function(te,t,e){function _(){return _=Object.assign?Object.assign.bind():function(g){for(var p=1;p<arguments.length;p++){var y=arguments[p];for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(g[T]=y[T])}return g},_.apply(this,arguments)}e.d(t,{Z:function(){return _}})},2312:function(te,t,e){function _(g){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},_(g)}e.d(t,{Z:function(){return _}})},2248:function(te,t,e){e.d(t,{Z:function(){return g}});var _=e(5901);function g(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),y&&(0,_.Z)(p,y)}},2726:function(te,t,e){function _(g,p){if(g==null)return{};var y,T,E=function(u,N){if(u==null)return{};var H,x,m={},k=Object.keys(u);for(x=0;x<k.length;x++)H=k[x],N.indexOf(H)>=0||(m[H]=u[H]);return m}(g,p);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(g);for(T=0;T<a.length;T++)y=a[T],p.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(g,y)&&(E[y]=g[y])}return E}e.d(t,{Z:function(){return _}})},7245:function(te,t,e){e.d(t,{Z:function(){return p}});var _=e(6655),g=e(3173);function p(y,T){if(T&&((0,_.Z)(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,g.Z)(y)}},5901:function(te,t,e){function _(g,p){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,T){return y.__proto__=T,y},_(g,p)}e.d(t,{Z:function(){return _}})},2577:function(te,t,e){e.d(t,{Z:function(){return g}});var _=e(9139);function g(p,y){return function(T){if(Array.isArray(T))return T}(p)||function(T,E){var a=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(a!=null){var u,N,H,x,m=[],k=!0,Q=!1;try{if(H=(a=a.call(T)).next,E===0){if(Object(a)!==a)return;k=!1}else for(;!(k=(u=H.call(a)).done)&&(m.push(u.value),m.length!==E);k=!0);}catch(ue){Q=!0,N=ue}finally{try{if(!k&&a.return!=null&&(x=a.return(),Object(x)!==x))return}finally{if(Q)throw N}}return m}}(p,y)||(0,_.Z)(p,y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(te,t,e){e.d(t,{Z:function(){return p}});var _=e(7017),g=e(9139);function p(y){return function(T){if(Array.isArray(T))return(0,_.Z)(T)}(y)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(y)||(0,g.Z)(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},3525:function(te,t,e){e.d(t,{Z:function(){return g}});var _=e(6655);function g(p){var y=function(T,E){if((0,_.Z)(T)!=="object"||T===null)return T;var a=T[Symbol.toPrimitive];if(a!==void 0){var u=a.call(T,E||"default");if((0,_.Z)(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(T)}(p,"string");return(0,_.Z)(y)==="symbol"?y:String(y)}},6655:function(te,t,e){function _(g){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},_(g)}e.d(t,{Z:function(){return _}})},9139:function(te,t,e){e.d(t,{Z:function(){return g}});var _=e(7017);function g(p,y){if(p){if(typeof p=="string")return(0,_.Z)(p,y);var T=Object.prototype.toString.call(p).slice(8,-1);return T==="Object"&&p.constructor&&(T=p.constructor.name),T==="Map"||T==="Set"?Array.from(p):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?(0,_.Z)(p,y):void 0}}},3607:function(te,t,e){e.d(t,{zt:function(){return $},cn:function(){return U},Vv:function(){return me},KO:function(){return I},Dv:function(){return L},b9:function(){return F}});var _=e(9787);let g=0;const p=Symbol(),y=P=>!!P[p],T=P=>!P[p].c,E=P=>{var w;const{b:f,c:r}=P[p];r&&(r(),(w=N.get(f))==null||w())},a=(P,w)=>{const f=P[p].o,r=w[p].o;return f===r||P===r||y(f)&&a(f,w)},u=(P,w)=>{const f={b:P,o:w,c:null},r=new Promise(o=>{f.c=()=>{f.c=null,o()},w.finally(f.c)});return r[p]=f,r},N=new WeakMap,H=P=>"init"in P,x="r",m="w",k="c",Q="s",ue=P=>{const w=new WeakMap,f=new WeakMap,r=new Map;let o,b;if(o=new Set,b=new Set,P)for(const[ke,be]of P){const ve={v:be,r:0,y:!0,d:new Map};Object.freeze(ve),H(ke)||console.warn("Found initial value for derived atom which can cause unexpected behavior",ke),w.set(ke,ve)}const s=new WeakMap,c=new WeakMap,S=ke=>{let be=c.get(ke);return be||(be=new Map,c.set(ke,be)),be},z=(ke,be)=>{if(ke){const ve=S(ke);let D=ve.get(be);return D||(D=z(ke.p,be),D&&"p"in D&&T(D.p)&&(D=void 0),D&&ve.set(be,D)),D}return w.get(be)},B=(ke,be,ve)=>{if(Object.freeze(ve),ke)S(ke).set(be,ve);else{const D=w.get(be);w.set(be,ve),r.has(be)||r.set(be,D)}},j=(ke,be=new Map,ve)=>{if(!ve)return be;const D=new Map;let l=!1;return ve.forEach(d=>{var M;const V=((M=z(ke,d))==null?void 0:M.r)||0;D.set(d,V),be.get(d)!==V&&(l=!0)}),be.size!==D.size||l?D:be},C=(ke,be,ve,D,l)=>{const d=z(ke,be);if(d){if(l&&(!("p"in d)||!a(d.p,l)))return d;"p"in d&&E(d.p)}const M={v:ve,r:d?.r||0,y:!0,d:j(ke,d?.d,D)};let V=!d?.y;return d&&"v"in d&&Object.is(d.v,ve)?M.d===d.d||M.d.size===d.d.size&&Array.from(M.d.keys()).every(q=>d.d.has(q))||(V=!0,Promise.resolve().then(()=>{Ae(ke)})):(V=!0,++M.r,M.d.has(be)&&(M.d=new Map(M.d).set(be,M.r))),d&&!V?d:(B(ke,be,M),M)},A=(ke,be,ve,D,l)=>{const d=z(ke,be);if(d){if(l&&(!("p"in d)||!a(d.p,l)))return d;"p"in d&&E(d.p)}const M={e:ve,r:(d?.r||0)+1,y:!0,d:j(ke,d?.d,D)};return B(ke,be,M),M},Y=(ke,be,ve,D)=>{const l=z(ke,be);if(l&&"p"in l){if(a(l.p,ve)&&!T(l.p))return l.y?l:{...l,y:!0};E(l.p)}((M,V,q)=>{let re=s.get(V);re||(re=new Map,s.set(V,re)),q.then(()=>{re.get(M)===q&&(re.delete(M),re.size||s.delete(V))}),re.set(M,q)})(ke,be,ve);const d={p:ve,r:(l?.r||0)+1,y:!0,d:j(ke,l?.d,D)};return B(ke,be,d),d},ie=(ke,be,ve,D)=>{if(ve instanceof Promise){const l=u(ve,ve.then(d=>{C(ke,be,d,D,l)}).catch(d=>{if(d instanceof Promise)return y(d)?d.then(()=>{le(ke,be,!0)}):d;A(ke,be,d,D,l)}));return Y(ke,be,l,D)}return C(ke,be,ve,D)},le=(ke,be,ve)=>{if(!ve){const l=z(ke,be);if(l){if(l.y&&"p"in l&&!T(l.p))return l;if(l.d.forEach((d,M)=>{if(M!==be)if(f.has(M)){const V=z(ke,M);V&&!V.y&&le(ke,M)}else le(ke,M)}),Array.from(l.d).every(([d,M])=>{const V=z(ke,d);return V&&!("p"in V)&&V.r===M}))return l.y?l:{...l,y:!0}}}const D=new Set;try{const l=be.read(d=>{D.add(d);const M=d===be?z(ke,d):le(ke,d);if(M){if("e"in M)throw M.e;if("p"in M)throw M.p;return M.v}if(H(d))return d.init;throw new Error("no atom init")});return ie(ke,be,l,D)}catch(l){if(l instanceof Promise){const d=y(l)&&T(l)?(M=>u(M[p].b,M[p].o))(l):u(l,l);return Y(ke,be,d,D)}return A(ke,be,l,D)}},ce=(ke,be)=>le(be,ke),de=(ke,be)=>!be.l.size&&(!be.t.size||be.t.size===1&&be.t.has(ke)),J=(ke,be)=>{f.get(be)?.t.forEach(D=>{D!==be&&(((l,d)=>{const M=z(l,d);if(M){const V={...M,y:!1};B(l,d,V)}else console.warn("[Bug] could not invalidate non existing atom",d)})(ke,D),J(ke,D))})},ee=(ke,be,ve)=>{let D=!0;const l=(M,V)=>{const q=le(ke,M);if("e"in q)throw q.e;if("p"in q){if(V?.unstable_promise)return q.p.then(()=>{const re=z(ke,M);return re&&"p"in re&&re.p===q.p?new Promise(ae=>setTimeout(ae)).then(()=>l(M,V)):l(M,V)});throw console.info("Reading pending atom state in write operation. We throw a promise for now.",M),q.p}if("v"in q)return q.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",M),new Error("no value found")},d=be.write(l,(M,V)=>{let q;if(M===be){if(!H(M))throw new Error("atom not writable");(re=>{const ae=new Set,ge=s.get(re);return ge&&(s.delete(re),ge.forEach((Se,Re)=>{E(Se),ae.add(Re)})),ae})(M).forEach(re=>{re!==ke&&ie(re,M,V)}),z(ke,M)!==ie(ke,M,V)&&J(ke,M)}else q=ee(ke,M,V);return D||Ae(ke),q},ve);return D=!1,d},he=(ke,be,ve)=>{const D=ee(ve,ke,be);return Ae(ve),D},Pe=(ke,be,ve)=>{const D={t:new Set(ve&&[ve]),l:new Set};if(f.set(be,D),b.add(be),le(void 0,be).d.forEach((l,d)=>{const M=f.get(d);M?M.t.add(be):d!==be&&Pe(ke,d,be)}),(l=>!!l.write)(be)&&be.onMount){const l=M=>he(be,M,ke),d=be.onMount(l);ke=void 0,d&&(D.u=d)}return D},He=(ke,be)=>{var ve;const D=(ve=f.get(be))==null?void 0:ve.u;D&&D(),f.delete(be),b.delete(be);const l=z(ke,be);l?("p"in l&&E(l.p),l.d.forEach((d,M)=>{if(M!==be){const V=f.get(M);V&&(V.t.delete(be),de(M,V)&&He(ke,M))}})):console.warn("[Bug] could not find atom state to unmount",be)},Ke=(ke,be,ve,D)=>{const l=new Set(ve.d.keys());D?.forEach((d,M)=>{if(l.has(M))return void l.delete(M);const V=f.get(M);V&&(V.t.delete(be),de(M,V)&&He(ke,M))}),l.forEach(d=>{const M=f.get(d);M?M.t.add(be):f.has(be)&&Pe(ke,d,be)})},Ae=ke=>{if(ke)S(ke).forEach((be,ve)=>{be!==w.get(ve)&&f.get(ve)?.l.forEach(l=>l(ke))});else{for(;r.size;){const be=Array.from(r);r.clear(),be.forEach(([ve,D])=>{const l=z(void 0,ve);if(l&&l.d!==D?.d&&Ke(void 0,ve,l,D?.d),D&&!D.y&&l?.y)return;f.get(ve)?.l.forEach(M=>M())})}o.forEach(be=>be())}},Oe=(ke,be)=>{be&&(ve=>{S(ve).forEach((D,l)=>{const d=w.get(l);(!d||D.r>d.r||D.y!==d.y||D.r===d.r&&D.d!==d.d)&&(w.set(l,D),D.d!==d?.d&&Ke(ve,l,D,d?.d))})})(be),Ae(void 0)},Te=(ke,be,ve)=>{const D=((d,M)=>{let V=f.get(M);return V||(V=Pe(d,M)),V})(ve,ke),l=D.l;return l.add(be),()=>{l.delete(be),((d,M)=>{const V=f.get(M);V&&de(M,V)&&He(d,M)})(ve,ke)}},De=(ke,be)=>{for(const[ve,D]of ke)H(ve)&&(ie(be,ve,D),J(be,ve));Ae(be)};return{[x]:ce,[m]:he,[k]:Oe,[Q]:Te,h:De,n:ke=>(o.add(ke),()=>{o.delete(ke)}),l:()=>b.values(),a:ke=>w.get(ke),m:ke=>f.get(ke)}},me=P=>{const w=ue(P),f=r=>new Promise((o,b)=>{const s=w.r(r);"e"in s?b(s.e):o("p"in s?s.p.then(()=>f(r)):s.v)});return{get:r=>{const o=w.r(r);if("e"in o)throw o.e;if(!("p"in o))return o.v},asyncGet:f,set:(r,o)=>w.w(r,o),sub:(r,o)=>w.s(r,o),SECRET_INTERNAL_store:w}},ye=(P,w)=>({s:w?w(P).SECRET_INTERNAL_store:ue(P)}),fe=new Map,G=P=>(fe.has(P)||fe.set(P,(0,_.createContext)(ye())),fe.get(P)),$=({children:P,initialValues:w,scope:f,unstable_createStore:r,unstable_enableVersionedWrite:o})=>{const[b,s]=(0,_.useState)({});(0,_.useEffect)(()=>{const z=c.current;z.w&&(z.s.c(null,b),delete b.p,z.v=b)},[b]);const c=(0,_.useRef)();if(!c.current){const z=ye(w,r);if(o){let B=0;z.w=j=>{s(C=>{const A=B?C:{p:C};return j(A),A})},z.v=b,z.r=j=>{++B,j(),--B}}c.current=z}const S=G(f);return(0,_.createElement)(S.Provider,{value:c.current},P)};function U(P,w){return function(f,r){const o="atom"+ ++g,b={toString:()=>o};return typeof f=="function"?b.read=f:(b.init=f,b.read=s=>s(b),b.write=(s,c,S)=>c(b,typeof S=="function"?S(s(b)):S)),r&&(b.write=r),b}(P,w)}function L(P,w){const f=G(w),r=(0,_.useContext)(f),{s:o,v:b}=r,s=C=>{const A=o.r(P,C);if(!A.y)throw new Error("should not be invalidated");if("e"in A)throw A.e;if("p"in A)throw A.p;if("v"in A)return A.v;throw new Error("no atom value")},[[c,S,z],B]=(0,_.useReducer)((C,A)=>{const Y=s(A);return Object.is(C[1],Y)&&C[2]===P?C:[A,Y,P]},b,C=>[C,s(C),P]);let j=S;return z!==P&&(B(c),j=s(c)),(0,_.useEffect)(()=>{const{v:C}=r;C&&o.c(P,C);const A=o.s(P,B,C);return B(C),A},[o,P,r]),(0,_.useEffect)(()=>{o.c(P,c)}),(0,_.useDebugValue)(j),j}function F(P,w){const f=G(w),{s:r,w:o}=(0,_.useContext)(f);return(0,_.useCallback)(b=>{if(!("write"in P))throw new Error("not writable atom");const s=c=>r.w(P,b,c);return o?o(s):s()},[r,o,P])}function I(P,w){return"scope"in P&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),w=P.scope),[L(P,w),F(P,w)]}},5605:function(te,t,e){e.d(t,{x0:function(){return _}});let _=(g=21)=>crypto.getRandomValues(new Uint8Array(g)).reduce((p,y)=>p+=(y&=63)<36?y.toString(36):y<62?(y-26).toString(36).toUpperCase():y>62?"-":"_","")},5284:function(te){te.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(te){te.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library","libraries":"Browse libraries","loadingScene":"Loading scene","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","editEmbed":"Edit link & embed","create":"Create link","createEmbed":"Create link & embed","label":"Link","labelEmbed":"Link & embed","empty":"No link is set"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open","selectAllElementsInFrame":"Select all elements in frame","removeAllElementsFromFrame":"Remove all elements from frame","eyeDropper":"Pick color from canvas"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","copyToClipboard":"Copy to clipboard","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","objectsSnapMode":"Snap to objects","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","embed":"Toggle embedding","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm","embeddableInteractionButton":"Click to interact"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","failedToFetchImage":"Failed to fetch image.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","imageToolNotSupported":"Images are disabled.","brave_measure_text_error":{"line1":"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.","line2":"This could result in breaking the <bold>Text Elements</bold> in your drawings.","line3":"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.","line4":"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},"libraryElementTypeError":{"embeddable":"Embeddable elements cannot be added to the library.","image":"Support for adding images to the library coming soon!"},"asyncPasteFailedOnRead":"Couldn't paste (couldn't read from system clipboard).","asyncPasteFailedOnParse":"Couldn't paste.","copyToSystemClipboardFailed":"Couldn't copy to clipboard."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","frame":"Frame tool","embeddable":"Web Embed","laser":"Laser pointer","hand":"Hand (panning tool)","extraTools":"More tools","mermaidToExcalidraw":"Mermaid to Excalidraw"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","embeddable":"Click-drag to create a website embed","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page.","disableSnapping":"Hold CtrlOrCmd to disable snapping"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain":"Encountered an error. Try <button>reloading the page</button>.","clearCanvasMessage":"If reloading doesn't work, try <button>clearing the canvas</button>.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry":"The error with identifier {{eventId}} was tracked on our system.","openIssueMessage":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.","noteGuidelines":"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.","noteLicense":"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.","noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"imageExportDialog":{"header":"Export image","label":{"withBackground":"Background","onlySelected":"Only selected","darkMode":"Dark mode","embedScene":"Embed scene","scale":"Scale","padding":"Padding"},"tooltip":{"embedScene":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size."},"title":{"exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyPngToClipboard":"Copy PNG to clipboard"},"button":{"exportToPng":"PNG","exportToSvg":"SVG","copyPngToClipboard":"Copy to clipboard"}},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor","unableToEmbed":"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted","unrecognizedLinkFormat":"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site"},"colors":{"transparent":"Transparent","black":"Black","white":"White","red":"Red","pink":"Pink","grape":"Grape","violet":"Violet","gray":"Gray","blue":"Blue","cyan":"Cyan","teal":"Teal","green":"Green","yellow":"Yellow","orange":"Orange","bronze":"Bronze"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}},"colorPicker":{"mostUsedCustomColors":"Most used custom colors","colors":"Colors","shades":"Shades","hexCode":"Hex code","noShades":"No shades available for this color"},"overwriteConfirm":{"action":{"exportToImage":{"title":"Export as image","button":"Export as image","description":"Export the scene data as an image from which you can import later."},"saveToDisk":{"title":"Save to disk","button":"Save to disk","description":"Export the scene data to a file from which you can import later."},"excalidrawPlus":{"title":"Excalidraw+","button":"Export to Excalidraw+","description":"Save the scene to your Excalidraw+ workspace."}},"modal":{"loadFromFile":{"title":"Load from file","button":"Load from file","description":"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},"shareableLink":{"title":"Load from link","button":"Replace my content","description":"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},"mermaid":{"title":"Mermaid to Excalidraw","button":"Insert","description":"Currently only <flowchartLink>Flowcharts</flowchartLink> and <sequenceLink>Sequence Diagrams</sequenceLink> are supported. The other types will be rendered as image in Excalidraw.","syntax":"Mermaid Syntax","preview":"Preview"}}`)},4451:function(te){te.exports=JSON.parse('{"ar-SA":99,"az-AZ":18,"bg-BG":75,"bn-BD":55,"ca-ES":81,"cs-CZ":91,"da-DK":31,"de-DE":100,"el-GR":85,"en":100,"es-ES":96,"eu-ES":99,"fa-IR":87,"fi-FI":81,"fr-FR":98,"gl-ES":90,"he-IL":81,"hi-IN":75,"hu-HU":70,"id-ID":96,"it-IT":99,"ja-JP":95,"kaa":34,"kab-KAB":80,"kk-KZ":20,"km-KH":87,"ko-KR":100,"ku-TR":92,"lt-LT":51,"lv-LV":82,"mr-IN":92,"my-MM":37,"nb-NO":99,"nl-NL":79,"nn-NO":71,"oc-FR":79,"pa-IN":82,"pl-PL":100,"pt-BR":96,"pt-PT":88,"ro-RO":98,"ru-RU":94,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":85,"th-TH":46,"tr-TR":91,"uk-UA":99,"vi-VN":51,"zh-CN":99,"zh-HK":24,"zh-TW":100}')}},gt={};function pt(te){var t=gt[te];if(t!==void 0)return t.exports;var e=gt[te]={id:te,exports:{}};return wt[te].call(e.exports,e,e.exports,pt),e.exports}pt.m=wt,pt.n=function(te){var t=te&&te.__esModule?function(){return te.default}:function(){return te};return pt.d(t,{a:t}),t},Je=Object.getPrototypeOf?function(te){return Object.getPrototypeOf(te)}:function(te){return te.__proto__},pt.t=function(te,t){if(1&t&&(te=this(te)),8&t||typeof te=="object"&&te&&(4&t&&te.__esModule||16&t&&typeof te.then=="function"))return te;var e=Object.create(null);pt.r(e);var _={};Fe=Fe||[null,Je({}),Je([]),Je(Je)];for(var g=2&t&&te;typeof g=="object"&&!~Fe.indexOf(g);g=Je(g))Object.getOwnPropertyNames(g).forEach(function(p){_[p]=function(){return te[p]}});return _.default=function(){return te},pt.d(e,_),e},pt.d=function(te,t){for(var e in t)pt.o(t,e)&&!pt.o(te,e)&&Object.defineProperty(te,e,{enumerable:!0,get:t[e]})},pt.f={},pt.e=function(te){return Promise.all(Object.keys(pt.f).reduce(function(t,e){return pt.f[e](te,t),t},[]))},pt.u=function(te){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",663:"locales/kaa-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4568:"locales/az-AZ-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6566:"locales/km-KH-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[te]+"-"+{22:"2224f237cc93465f126f",537:"9a390d3cc7a7a6226b63",663:"4d0a4868835d0334a549",1204:"2cb067da0fb518e73564",1302:"4921d4298abfa256fe6f",1477:"3ba296b6fcf2a2197a7c",1513:"4cbc2dbda5a5df636ee1",1628:"42fb0378311f3ade2627",1690:"644a5eaa1311f70cb697",1790:"a94944ac6fa9756d2fac",2091:"db7c644ccbeb85d54a47",2312:"a7bc2a673875b2e655e1",2359:"798d785698d467e76fcf",2404:"2fa1854af68381c61913",2943:"d11c7966c3c2f95756e0",3024:"2cf913fe2f491c5d7075",3031:"bafa8865ed7002bb249e",3082:"d82053ab52357510811b",3162:"165c5c2760688033b2cc",3397:"ad1359c30c334d05eee0",3421:"5a3fa7cacfa83c411d89",3512:"64c8902f10425e1b2e81",3674:"35c1f168f53af24b657a",3682:"d16a471290ba26a6c66a",3721:"370215dc506c58ee3217",3808:"6542dd92ab54a2c1c48e",3885:"aa607835ad9408789c5f",4e3:"9c1c2a9fa9d6b5a58223",4568:"08a6de50238dbb21926c",4680:"069c304b5011429be615",4736:"677e88ca78c86bddf13d",4977:"fc9b16e9dc2be2660439",5089:"3c32b962880e225d3416",5130:"a6b2c18f7e85cfd11599",5330:"76b039039b043cc4280c",5395:"6f3d80656622a222b4e2",6071:"efb839ef0456f5c72e6e",6239:"ab410570df07304cb0ca",6265:"ea03835d73f9b921f7c4",6566:"cbe8e2e8d26d30a3175c",6768:"f7f9363e42ee2e3a7c67",6844:"c2387972637d47f15765",7368:"0419027d32efac73d518",7429:"9ad9e5ae95c4c66297b1",7759:"82753e98dced302ac187",7920:"d9bf1e4e2d1f8650c680",8081:"671a4afcfce7b0a7660b",8124:"e1f4ed9d2d074f778304",8340:"9b7e91a51b90ee551cad",8534:"cfab3adbd37dd273c61e",8750:"27b59d7e026675f929c4",8759:"7afb66536ee40d852fa2",9551:"0d400ba2836cc0752cd6",9828:"4947c9dace32cc3c6eef"}[te]+".js"},pt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),pt.o=function(te,t){return Object.prototype.hasOwnProperty.call(te,t)},Qe={},yt="ExcalidrawLib:",pt.l=function(te,t,e,_){if(Qe[te])Qe[te].push(t);else{var g,p;if(e!==void 0)for(var y=document.getElementsByTagName("script"),T=0;T<y.length;T++){var E=y[T];if(E.getAttribute("src")==te||E.getAttribute("data-webpack")==yt+e){g=E;break}}g||(p=!0,(g=document.createElement("script")).charset="utf-8",g.timeout=120,pt.nc&&g.setAttribute("nonce",pt.nc),g.setAttribute("data-webpack",yt+e),g.src=te),Qe[te]=[t];var a=function(N,H){g.onerror=g.onload=null,clearTimeout(u);var x=Qe[te];if(delete Qe[te],g.parentNode&&g.parentNode.removeChild(g),x&&x.forEach(function(m){return m(H)}),N)return N(H)},u=setTimeout(a.bind(null,void 0,{type:"timeout",target:g}),12e4);g.onerror=a.bind(null,g.onerror),g.onload=a.bind(null,g.onload),p&&document.head.appendChild(g)}},pt.r=function(te){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(te,"__esModule",{value:!0})},pt.p="",function(){pt.b=document.baseURI||self.location.href;var te={2848:0};pt.f.j=function(_,g){var p=pt.o(te,_)?te[_]:void 0;if(p!==0)if(p)g.push(p[2]);else{var y=new Promise(function(a,u){p=te[_]=[a,u]});g.push(p[2]=y);var T=pt.p+pt.u(_),E=new Error;pt.l(T,function(a){if(pt.o(te,_)&&((p=te[_])!==0&&(te[_]=void 0),p)){var u=a&&(a.type==="load"?"missing":a.type),N=a&&a.target&&a.target.src;E.message="Loading chunk "+_+` failed.
(`+u+": "+N+")",E.name="ChunkLoadError",E.type=u,E.request=N,p[1](E)}},"chunk-"+_,_)}};var t=function(_,g){var p,y,T=g[0],E=g[1],a=g[2],u=0;if(T.some(function(N){return te[N]!==0})){for(p in E)pt.o(E,p)&&(pt.m[p]=E[p]);a&&a(pt)}for(_&&_(g);u<T.length;u++)y=T[u],pt.o(te,y)&&te[y]&&te[y][0](),te[y]=0},e=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}(),pt.nc=void 0;var Ze={};return function(){pt.r(Ze),pt.d(Ze,{Button:function(){return k.zx},DefaultSidebar:function(){return k.Or},Excalidraw:function(){return k.Eb},FONT_FAMILY:function(){return k.ut},Footer:function(){return k.$_},LiveCollaborationTrigger:function(){return k.vO},MIME_TYPES:function(){return k.LO},MainMenu:function(){return k.lb},Sidebar:function(){return k.YE},THEME:function(){return k.C6},WelcomeScreen:function(){return k.B4},bumpVersion:function(){return k.ZP},convertToExcalidrawElements:function(){return k.wc},defaultLang:function(){return k.Fp},elementPartiallyOverlapsWithOrContainsBBox:function(){return k.sQ},elementsOverlappingBBox:function(){return k.Xs},exportToBlob:function(){return k.Fl},exportToCanvas:function(){return k.NL},exportToClipboard:function(){return k.i1},exportToSvg:function(){return k.$D},getCommonBounds:function(){return k.KP},getFreeDrawSvgPath:function(){return k.N7},getNonDeletedElements:function(){return k.Lm},getSceneVersion:function(){return k.Uo},isElementInsideBBox:function(){return k.Ne},isInvisiblySmallElement:function(){return k.QD},isLinearElement:function(){return k.bt},languages:function(){return k.Mj},loadFromBlob:function(){return k.cT},loadLibraryFromBlob:function(){return k.lV},loadSceneOrLibraryFromBlob:function(){return k.ZY},mergeLibraryItems:function(){return k.zh},mutateElement:function(){return k.DR},newElementWith:function(){return k.BE},normalizeLink:function(){return k.$u},parseLibraryTokensFromUrl:function(){return k.Di},restore:function(){return k.nu},restoreAppState:function(){return k.lY},restoreElements:function(){return k.ET},restoreLibraryItems:function(){return k.wJ},sceneCoordsToViewportCoords:function(){return k._i},serializeAsJSON:function(){return k.I_},serializeLibraryAsJSON:function(){return k.NI},useDevice:function(){return k.Fy},useHandleLibrary:function(){return k.xS},useI18n:function(){return k.QT},viewportCoordsToSceneCoords:function(){return k.dE}}),pt(9937).Vi.TEST!=="production"&&(pt.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.17.6","/dist/"));var te=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(Q){if((Q=Math.trunc(Q)||0)<0&&(Q+=this.length),!(Q<0||Q>=this.length))return this[Q]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(){this.innerHTML="",this.append.apply(this,arguments)})},t=pt(3379),e=pt.n(t),_=pt(7795),g=pt.n(_),p=pt(569),y=pt.n(p),T=pt(3565),E=pt.n(T),a=pt(9216),u=pt.n(a),N=pt(4589),H=pt.n(N),x=pt(4295),m={};m.styleTagTransform=H(),m.setAttributes=E(),m.insert=y().bind(null,"head"),m.domAPI=g(),m.insertStyleElement=u(),e()(x.Z,m),x.Z&&x.Z.locals&&x.Z.locals;var k=pt(4864);te()}(),Ze}()})}(Ih)),Ih.exports}var Dh={exports:{}},Lh;function Iw(){return Lh||(Lh=1,function(n,h){(function(R,pe){n.exports=pe(ia,n0)})(self,function(R,pe){return function(){var Ce,Fe,Je,Qe,yt={5779:function(Ze,te){te.N=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,e=/&#(\w+)(^\w|;)?/g,_=/&(newline|tab);/gi,g=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,p=/^.+(:|&colon;)/gim,y=[".","/"];te.N=function(T){var E,a=(E=T||"",E.replace(e,function(H,x){return String.fromCharCode(x)})).replace(_,"").replace(g,"").trim();if(!a)return"about:blank";if(function(H){return y.indexOf(H[0])>-1}(a))return a;var u=a.match(p);if(!u)return a;var N=u[0];return t.test(N)?"about:blank":a}},7217:function(Ze,te,t){function e(_,g,{checkForDefaultPrevented:p=!0}={}){return function(y){if(_?.(y),p===!1||!y.defaultPrevented)return g?.(y)}}t.d(te,{M:function(){return e}})},9335:function(Ze,te,t){t.d(te,{F:function(){return _},e:function(){return g}});var e=t(9787);function _(...p){return y=>p.forEach(T=>function(E,a){typeof E=="function"?E(a):E!=null&&(E.current=a)}(T,y))}function g(...p){return(0,e.useCallback)(_(...p),p)}},1267:function(Ze,te,t){t.d(te,{b:function(){return _}});var e=t(9787);function _(p,y=[]){let T=[];const E=()=>{const a=T.map(u=>(0,e.createContext)(u));return function(u){const N=u?.[p]||a;return(0,e.useMemo)(()=>({[`__scope${p}`]:{...u,[p]:N}}),[u,N])}};return E.scopeName=p,[function(a,u){const N=(0,e.createContext)(u),H=T.length;function x(m){const{scope:k,children:Q,...ue}=m,me=k?.[p][H]||N,ye=(0,e.useMemo)(()=>ue,Object.values(ue));return(0,e.createElement)(me.Provider,{value:ye},Q)}return T=[...T,u],x.displayName=a+"Provider",[x,function(m,k){const Q=k?.[p][H]||N,ue=(0,e.useContext)(Q);if(ue)return ue;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${a}\``)}]},g(E,...y)]}function g(...p){const y=p[0];if(p.length===1)return y;const T=()=>{const E=p.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){const u=E.reduce((N,{useScope:H,scopeName:x})=>({...N,...H(a)[`__scope${x}`]}),{});return(0,e.useMemo)(()=>({[`__scope${y.scopeName}`]:u}),[u])}};return T.scopeName=y.scopeName,T}},5622:function(Ze,te,t){t.d(te,{M:function(){return y}});var e=t(9787),_=t(3348);const g=e.useId||(()=>{});let p=0;function y(T){const[E,a]=e.useState(g());return(0,_.b)(()=>{T||a(u=>u??String(p++))},[T]),T||(E?`radix-${E}`:"")}},1483:function(Ze,te,t){t.d(te,{z:function(){return y}});var e=t(9787),_=t(5156),g=t(9335),p=t(3348);const y=E=>{const{present:a,children:u}=E,N=function(m){const[k,Q]=(0,e.useState)(),ue=(0,e.useRef)({}),me=(0,e.useRef)(m),ye=(0,e.useRef)("none"),fe=m?"mounted":"unmounted",[G,$]=function(U,L){return(0,e.useReducer)((F,I)=>L[F][I]??F,U)}(fe,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,e.useEffect)(()=>{const U=T(ue.current);ye.current=G==="mounted"?U:"none"},[G]),(0,p.b)(()=>{const U=ue.current,L=me.current;if(L!==m){const F=ye.current,I=T(U);m?$("MOUNT"):I==="none"||U?.display==="none"?$("UNMOUNT"):$(L&&F!==I?"ANIMATION_OUT":"UNMOUNT"),me.current=m}},[m,$]),(0,p.b)(()=>{if(k){const U=F=>{const I=T(ue.current).includes(F.animationName);F.target===k&&I&&(0,_.flushSync)(()=>$("ANIMATION_END"))},L=F=>{F.target===k&&(ye.current=T(ue.current))};return k.addEventListener("animationstart",L),k.addEventListener("animationcancel",U),k.addEventListener("animationend",U),()=>{k.removeEventListener("animationstart",L),k.removeEventListener("animationcancel",U),k.removeEventListener("animationend",U)}}$("ANIMATION_END")},[k,$]),{isPresent:["mounted","unmountSuspended"].includes(G),ref:(0,e.useCallback)(U=>{U&&(ue.current=getComputedStyle(U)),Q(U)},[])}}(a),H=typeof u=="function"?u({present:N.isPresent}):e.Children.only(u),x=(0,g.e)(N.ref,H.ref);return typeof u=="function"||N.isPresent?(0,e.cloneElement)(H,{ref:x}):null};function T(E){return E?.animationName||"none"}y.displayName="Presence"},3119:function(Ze,te,t){t.d(te,{WV:function(){return y},jH:function(){return T}});var e=t(11),_=t(9787),g=t(5156),p=t(4801);const y=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((E,a)=>{const u=(0,_.forwardRef)((N,H)=>{const{asChild:x,...m}=N,k=x?p.g7:a;return(0,_.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,_.createElement)(k,(0,e.Z)({},m,{ref:H}))});return u.displayName=`Primitive.${a}`,{...E,[a]:u}},{});function T(E,a){E&&(0,g.flushSync)(()=>E.dispatchEvent(a))}},4801:function(Ze,te,t){t.d(te,{g7:function(){return p}});var e=t(11),_=t(9787),g=t(9335);const p=(0,_.forwardRef)((u,N)=>{const{children:H,...x}=u,m=_.Children.toArray(H),k=m.find(E);if(k){const Q=k.props.children,ue=m.map(me=>me===k?_.Children.count(Q)>1?_.Children.only(null):(0,_.isValidElement)(Q)?Q.props.children:null:me);return(0,_.createElement)(y,(0,e.Z)({},x,{ref:N}),(0,_.isValidElement)(Q)?(0,_.cloneElement)(Q,void 0,ue):null)}return(0,_.createElement)(y,(0,e.Z)({},x,{ref:N}),H)});p.displayName="Slot";const y=(0,_.forwardRef)((u,N)=>{const{children:H,...x}=u;return(0,_.isValidElement)(H)?(0,_.cloneElement)(H,{...a(x,H.props),ref:(0,g.F)(N,H.ref)}):_.Children.count(H)>1?_.Children.only(null):null});y.displayName="SlotClone";const T=({children:u})=>(0,_.createElement)(_.Fragment,null,u);function E(u){return(0,_.isValidElement)(u)&&u.type===T}function a(u,N){const H={...N};for(const x in N){const m=u[x],k=N[x];/^on[A-Z]/.test(x)?m&&k?H[x]=(...Q)=>{k(...Q),m(...Q)}:m&&(H[x]=m):x==="style"?H[x]={...m,...k}:x==="className"&&(H[x]=[m,k].filter(Boolean).join(" "))}return{...u,...H}}},3060:function(Ze,te,t){t.d(te,{W:function(){return _}});var e=t(9787);function _(g){const p=(0,e.useRef)(g);return(0,e.useEffect)(()=>{p.current=g}),(0,e.useMemo)(()=>(...y)=>{var T;return(T=p.current)===null||T===void 0?void 0:T.call(p,...y)},[])}},2673:function(Ze,te,t){t.d(te,{T:function(){return g}});var e=t(9787),_=t(3060);function g({prop:p,defaultProp:y,onChange:T=()=>{}}){const[E,a]=function({defaultProp:x,onChange:m}){const k=(0,e.useState)(x),[Q]=k,ue=(0,e.useRef)(Q),me=(0,_.W)(m);return(0,e.useEffect)(()=>{ue.current!==Q&&(me(Q),ue.current=Q)},[Q,ue,me]),k}({defaultProp:y,onChange:T}),u=p!==void 0,N=u?p:E,H=(0,_.W)(T);return[N,(0,e.useCallback)(x=>{if(u){const m=x,k=typeof x=="function"?m(p):x;k!==p&&H(k)}else a(x)},[u,p,a,H])]}},3348:function(Ze,te,t){t.d(te,{b:function(){return _}});var e=t(9787);const _=globalThis?.document?e.useLayoutEffect:()=>{}},45:function(Ze,te,t){function e(g){var p,y,T="";if(typeof g=="string"||typeof g=="number")T+=g;else if(typeof g=="object")if(Array.isArray(g))for(p=0;p<g.length;p++)g[p]&&(y=e(g[p]))&&(T&&(T+=" "),T+=y);else for(p in g)g[p]&&(T&&(T+=" "),T+=p);return T}function _(){for(var g,p,y=0,T="";y<arguments.length;)(g=arguments[y++])&&(p=e(g))&&(T&&(T+=" "),T+=p);return T}t.d(te,{Z:function(){return _}})},6233:function(Ze,te){var t;t=function(e){e.version="0.3.0";var _=function(){for(var y=0,T=new Array(256),E=0;E!=256;++E)y=1&(y=1&(y=1&(y=1&(y=1&(y=1&(y=1&(y=1&(y=E)?-306674912^y>>>1:y>>>1)?-306674912^y>>>1:y>>>1)?-306674912^y>>>1:y>>>1)?-306674912^y>>>1:y>>>1)?-306674912^y>>>1:y>>>1)?-306674912^y>>>1:y>>>1)?-306674912^y>>>1:y>>>1)?-306674912^y>>>1:y>>>1,T[E]=y;return typeof Int32Array<"u"?new Int32Array(T):T}(),g=typeof nd<"u";function p(y){for(var T=-1,E=0,a=y.length-7;E<a;)T=(T=(T=(T=(T=(T=(T=(T=T>>>8^_[255&(T^y[E++])])>>>8^_[255&(T^y[E++])])>>>8^_[255&(T^y[E++])])>>>8^_[255&(T^y[E++])])>>>8^_[255&(T^y[E++])])>>>8^_[255&(T^y[E++])])>>>8^_[255&(T^y[E++])])>>>8^_[255&(T^y[E++])];for(;E<a+7;)T=T>>>8^_[255&(T^y[E++])];return-1^T}e.table=_,e.bstr=function(y){if(y.length>32768&&g)return p(new nd(y));for(var T=-1,E=y.length-1,a=0;a<E;)T=_[255&(T^y.charCodeAt(a++))]^T>>>8,T=_[255&(T^y.charCodeAt(a++))]^T>>>8;return a===E&&(T=T>>>8^_[255&(T^y.charCodeAt(a))]),-1^T},e.buf=function(y){if(y.length>1e4)return p(y);for(var T=-1,E=0,a=y.length-3;E<a;)T=(T=(T=(T=T>>>8^_[255&(T^y[E++])])>>>8^_[255&(T^y[E++])])>>>8^_[255&(T^y[E++])])>>>8^_[255&(T^y[E++])];for(;E<a+3;)T=T>>>8^_[255&(T^y[E++])];return-1^T},e.str=function(y){for(var T,E,a=-1,u=0,N=y.length;u<N;)(T=y.charCodeAt(u++))<128?a=a>>>8^_[255&(a^T)]:T<2048?a=(a=a>>>8^_[255&(a^(192|T>>6&31))])>>>8^_[255&(a^(128|63&T))]:T>=55296&&T<57344?(T=64+(1023&T),E=1023&y.charCodeAt(u++),a=(a=(a=(a=a>>>8^_[255&(a^(240|T>>8&7))])>>>8^_[255&(a^(128|T>>2&63))])>>>8^_[255&(a^(128|E>>6&15|3&T))])>>>8^_[255&(a^(128|63&E))]):a=(a=(a=a>>>8^_[255&(a^(224|T>>12&15))])>>>8^_[255&(a^(128|T>>6&63))])>>>8^_[255&(a^(128|63&T))];return-1^a}},t(typeof DO_NOT_EXPORT_CRC>"u"?te:{})},200:function(Ze,te,t){var e="Expected a function",_=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,y=/^0o[0-7]+$/i,T=parseInt,E=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,a=typeof self=="object"&&self&&self.Object===Object&&self,u=E||a||Function("return this")(),N=Object.prototype.toString,H=Math.max,x=Math.min,m=function(){return u.Date.now()};function k(me,ye,fe){var G,$,U,L,F,I,P=0,w=!1,f=!1,r=!0;if(typeof me!="function")throw new TypeError(e);function o(B){var j=G,C=$;return G=$=void 0,P=B,L=me.apply(C,j)}function b(B){return P=B,F=setTimeout(c,ye),w?o(B):L}function s(B){var j=B-I;return I===void 0||j>=ye||j<0||f&&B-P>=U}function c(){var B=m();if(s(B))return S(B);F=setTimeout(c,function(j){var C=ye-(j-I);return f?x(C,U-(j-P)):C}(B))}function S(B){return F=void 0,r&&G?o(B):(G=$=void 0,L)}function z(){var B=m(),j=s(B);if(G=arguments,$=this,I=B,j){if(F===void 0)return b(I);if(f)return F=setTimeout(c,ye),o(I)}return F===void 0&&(F=setTimeout(c,ye)),L}return ye=ue(ye)||0,Q(fe)&&(w=!!fe.leading,U=(f="maxWait"in fe)?H(ue(fe.maxWait)||0,ye):U,r="trailing"in fe?!!fe.trailing:r),z.cancel=function(){F!==void 0&&clearTimeout(F),P=0,G=I=$=F=void 0},z.flush=function(){return F===void 0?L:S(m())},z}function Q(me){var ye=typeof me;return!!me&&(ye=="object"||ye=="function")}function ue(me){if(typeof me=="number")return me;if(function(G){return typeof G=="symbol"||function($){return!!$&&typeof $=="object"}(G)&&N.call(G)=="[object Symbol]"}(me))return NaN;if(Q(me)){var ye=typeof me.valueOf=="function"?me.valueOf():me;me=Q(ye)?ye+"":ye}if(typeof me!="string")return me===0?me:+me;me=me.replace(_,"");var fe=p.test(me);return fe||y.test(me)?T(me.slice(2),fe?2:8):g.test(me)?NaN:+me}Ze.exports=function(me,ye,fe){var G=!0,$=!0;if(typeof me!="function")throw new TypeError(e);return Q(fe)&&(G="leading"in fe?!!fe.leading:G,$="trailing"in fe?!!fe.trailing:$),k(me,ye,{leading:G,maxWait:ye,trailing:$})}},2744:function(Ze,te,t){var e={};(0,t(9187).assign)(e,t(4395),t(578),t(2684)),Ze.exports=e},4395:function(Ze,te,t){var e=t(6193),_=t(9187),g=t(8592),p=t(5604),y=t(249),T=Object.prototype.toString;function E(u){if(!(this instanceof E))return new E(u);this.options=_.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},u||{});var N=this.options;N.raw&&N.windowBits>0?N.windowBits=-N.windowBits:N.gzip&&N.windowBits>0&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var H=e.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(H!==0)throw new Error(p[H]);if(N.header&&e.deflateSetHeader(this.strm,N.header),N.dictionary){var x;if(x=typeof N.dictionary=="string"?g.string2buf(N.dictionary):T.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(H=e.deflateSetDictionary(this.strm,x))!==0)throw new Error(p[H]);this._dict_set=!0}}function a(u,N){var H=new E(N);if(H.push(u,!0),H.err)throw H.msg||p[H.err];return H.result}E.prototype.push=function(u,N){var H,x,m=this.strm,k=this.options.chunkSize;if(this.ended)return!1;x=N===~~N?N:N===!0?4:0,typeof u=="string"?m.input=g.string2buf(u):T.call(u)==="[object ArrayBuffer]"?m.input=new Uint8Array(u):m.input=u,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new _.Buf8(k),m.next_out=0,m.avail_out=k),(H=e.deflate(m,x))!==1&&H!==0)return this.onEnd(H),this.ended=!0,!1;m.avail_out!==0&&(m.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(_.shrinkBuf(m.output,m.next_out))):this.onData(_.shrinkBuf(m.output,m.next_out)))}while((m.avail_in>0||m.avail_out===0)&&H!==1);return x===4?(H=e.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===0):x!==2||(this.onEnd(0),m.avail_out=0,!0)},E.prototype.onData=function(u){this.chunks.push(u)},E.prototype.onEnd=function(u){u===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},te.Deflate=E,te.deflate=a,te.deflateRaw=function(u,N){return(N=N||{}).raw=!0,a(u,N)},te.gzip=function(u,N){return(N=N||{}).gzip=!0,a(u,N)}},578:function(Ze,te,t){var e=t(7823),_=t(9187),g=t(8592),p=t(2684),y=t(5604),T=t(249),E=t(9968),a=Object.prototype.toString;function u(H){if(!(this instanceof u))return new u(H);this.options=_.assign({chunkSize:16384,windowBits:0,to:""},H||{});var x=this.options;x.raw&&x.windowBits>=0&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(x.windowBits>=0&&x.windowBits<16)||H&&H.windowBits||(x.windowBits+=32),x.windowBits>15&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var m=e.inflateInit2(this.strm,x.windowBits);if(m!==p.Z_OK)throw new Error(y[m]);if(this.header=new E,e.inflateGetHeader(this.strm,this.header),x.dictionary&&(typeof x.dictionary=="string"?x.dictionary=g.string2buf(x.dictionary):a.call(x.dictionary)==="[object ArrayBuffer]"&&(x.dictionary=new Uint8Array(x.dictionary)),x.raw&&(m=e.inflateSetDictionary(this.strm,x.dictionary))!==p.Z_OK))throw new Error(y[m])}function N(H,x){var m=new u(x);if(m.push(H,!0),m.err)throw m.msg||y[m.err];return m.result}u.prototype.push=function(H,x){var m,k,Q,ue,me,ye=this.strm,fe=this.options.chunkSize,G=this.options.dictionary,$=!1;if(this.ended)return!1;k=x===~~x?x:x===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof H=="string"?ye.input=g.binstring2buf(H):a.call(H)==="[object ArrayBuffer]"?ye.input=new Uint8Array(H):ye.input=H,ye.next_in=0,ye.avail_in=ye.input.length;do{if(ye.avail_out===0&&(ye.output=new _.Buf8(fe),ye.next_out=0,ye.avail_out=fe),(m=e.inflate(ye,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&G&&(m=e.inflateSetDictionary(this.strm,G)),m===p.Z_BUF_ERROR&&$===!0&&(m=p.Z_OK,$=!1),m!==p.Z_STREAM_END&&m!==p.Z_OK)return this.onEnd(m),this.ended=!0,!1;ye.next_out&&(ye.avail_out!==0&&m!==p.Z_STREAM_END&&(ye.avail_in!==0||k!==p.Z_FINISH&&k!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(Q=g.utf8border(ye.output,ye.next_out),ue=ye.next_out-Q,me=g.buf2string(ye.output,Q),ye.next_out=ue,ye.avail_out=fe-ue,ue&&_.arraySet(ye.output,ye.output,Q,ue,0),this.onData(me)):this.onData(_.shrinkBuf(ye.output,ye.next_out)))),ye.avail_in===0&&ye.avail_out===0&&($=!0)}while((ye.avail_in>0||ye.avail_out===0)&&m!==p.Z_STREAM_END);return m===p.Z_STREAM_END&&(k=p.Z_FINISH),k===p.Z_FINISH?(m=e.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===p.Z_OK):k!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),ye.avail_out=0,!0)},u.prototype.onData=function(H){this.chunks.push(H)},u.prototype.onEnd=function(H){H===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},te.Inflate=u,te.inflate=N,te.inflateRaw=function(H,x){return(x=x||{}).raw=!0,N(H,x)},te.ungzip=N},9187:function(Ze,te){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(p,y){return Object.prototype.hasOwnProperty.call(p,y)}te.assign=function(p){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var T=y.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var E in T)e(T,E)&&(p[E]=T[E])}}return p},te.shrinkBuf=function(p,y){return p.length===y?p:p.subarray?p.subarray(0,y):(p.length=y,p)};var _={arraySet:function(p,y,T,E,a){if(y.subarray&&p.subarray)p.set(y.subarray(T,T+E),a);else for(var u=0;u<E;u++)p[a+u]=y[T+u]},flattenChunks:function(p){var y,T,E,a,u,N;for(E=0,y=0,T=p.length;y<T;y++)E+=p[y].length;for(N=new Uint8Array(E),a=0,y=0,T=p.length;y<T;y++)u=p[y],N.set(u,a),a+=u.length;return N}},g={arraySet:function(p,y,T,E,a){for(var u=0;u<E;u++)p[a+u]=y[T+u]},flattenChunks:function(p){return[].concat.apply([],p)}};te.setTyped=function(p){p?(te.Buf8=Uint8Array,te.Buf16=Uint16Array,te.Buf32=Int32Array,te.assign(te,_)):(te.Buf8=Array,te.Buf16=Array,te.Buf32=Array,te.assign(te,g))},te.setTyped(t)},8592:function(Ze,te,t){var e=t(9187),_=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var p=new e.Buf8(256),y=0;y<256;y++)p[y]=y>=252?6:y>=248?5:y>=240?4:y>=224?3:y>=192?2:1;function T(E,a){if(a<65534&&(E.subarray&&g||!E.subarray&&_))return String.fromCharCode.apply(null,e.shrinkBuf(E,a));for(var u="",N=0;N<a;N++)u+=String.fromCharCode(E[N]);return u}p[254]=p[254]=1,te.string2buf=function(E){var a,u,N,H,x,m=E.length,k=0;for(H=0;H<m;H++)(64512&(u=E.charCodeAt(H)))==55296&&H+1<m&&(64512&(N=E.charCodeAt(H+1)))==56320&&(u=65536+(u-55296<<10)+(N-56320),H++),k+=u<128?1:u<2048?2:u<65536?3:4;for(a=new e.Buf8(k),x=0,H=0;x<k;H++)(64512&(u=E.charCodeAt(H)))==55296&&H+1<m&&(64512&(N=E.charCodeAt(H+1)))==56320&&(u=65536+(u-55296<<10)+(N-56320),H++),u<128?a[x++]=u:u<2048?(a[x++]=192|u>>>6,a[x++]=128|63&u):u<65536?(a[x++]=224|u>>>12,a[x++]=128|u>>>6&63,a[x++]=128|63&u):(a[x++]=240|u>>>18,a[x++]=128|u>>>12&63,a[x++]=128|u>>>6&63,a[x++]=128|63&u);return a},te.buf2binstring=function(E){return T(E,E.length)},te.binstring2buf=function(E){for(var a=new e.Buf8(E.length),u=0,N=a.length;u<N;u++)a[u]=E.charCodeAt(u);return a},te.buf2string=function(E,a){var u,N,H,x,m=a||E.length,k=new Array(2*m);for(N=0,u=0;u<m;)if((H=E[u++])<128)k[N++]=H;else if((x=p[H])>4)k[N++]=65533,u+=x-1;else{for(H&=x===2?31:x===3?15:7;x>1&&u<m;)H=H<<6|63&E[u++],x--;x>1?k[N++]=65533:H<65536?k[N++]=H:(H-=65536,k[N++]=55296|H>>10&1023,k[N++]=56320|1023&H)}return T(k,N)},te.utf8border=function(E,a){var u;for((a=a||E.length)>E.length&&(a=E.length),u=a-1;u>=0&&(192&E[u])==128;)u--;return u<0||u===0?a:u+p[E[u]]>a?u:a}},3693:function(Ze){Ze.exports=function(te,t,e,_){for(var g=65535&te|0,p=te>>>16&65535|0,y=0;e!==0;){e-=y=e>2e3?2e3:e;do p=p+(g=g+t[_++]|0)|0;while(--y);g%=65521,p%=65521}return g|p<<16|0}},2684:function(Ze){Ze.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(Ze){var te=function(){for(var t,e=[],_=0;_<256;_++){t=_;for(var g=0;g<8;g++)t=1&t?3988292384^t>>>1:t>>>1;e[_]=t}return e}();Ze.exports=function(t,e,_,g){var p=te,y=g+_;t^=-1;for(var T=g;T<y;T++)t=t>>>8^p[255&(t^e[T])];return-1^t}},6193:function(Ze,te,t){var e,_=t(9187),g=t(8676),p=t(3693),y=t(8464),T=t(5604),E=-2,a=258,u=262,N=103,H=113,x=666;function m(r,o){return r.msg=T[o],o}function k(r){return(r<<1)-(r>4?9:0)}function Q(r){for(var o=r.length;--o>=0;)r[o]=0}function ue(r){var o=r.state,b=o.pending;b>r.avail_out&&(b=r.avail_out),b!==0&&(_.arraySet(r.output,o.pending_buf,o.pending_out,b,r.next_out),r.next_out+=b,o.pending_out+=b,r.total_out+=b,r.avail_out-=b,o.pending-=b,o.pending===0&&(o.pending_out=0))}function me(r,o){g._tr_flush_block(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,o),r.block_start=r.strstart,ue(r.strm)}function ye(r,o){r.pending_buf[r.pending++]=o}function fe(r,o){r.pending_buf[r.pending++]=o>>>8&255,r.pending_buf[r.pending++]=255&o}function G(r,o){var b,s,c=r.max_chain_length,S=r.strstart,z=r.prev_length,B=r.nice_match,j=r.strstart>r.w_size-u?r.strstart-(r.w_size-u):0,C=r.window,A=r.w_mask,Y=r.prev,ie=r.strstart+a,le=C[S+z-1],ce=C[S+z];r.prev_length>=r.good_match&&(c>>=2),B>r.lookahead&&(B=r.lookahead);do if(C[(b=o)+z]===ce&&C[b+z-1]===le&&C[b]===C[S]&&C[++b]===C[S+1]){S+=2,b++;do;while(C[++S]===C[++b]&&C[++S]===C[++b]&&C[++S]===C[++b]&&C[++S]===C[++b]&&C[++S]===C[++b]&&C[++S]===C[++b]&&C[++S]===C[++b]&&C[++S]===C[++b]&&S<ie);if(s=a-(ie-S),S=ie-a,s>z){if(r.match_start=o,z=s,s>=B)break;le=C[S+z-1],ce=C[S+z]}}while((o=Y[o&A])>j&&--c!=0);return z<=r.lookahead?z:r.lookahead}function $(r){var o,b,s,c,S,z,B,j,C,A,Y=r.w_size;do{if(c=r.window_size-r.lookahead-r.strstart,r.strstart>=Y+(Y-u)){_.arraySet(r.window,r.window,Y,Y,0),r.match_start-=Y,r.strstart-=Y,r.block_start-=Y,o=b=r.hash_size;do s=r.head[--o],r.head[o]=s>=Y?s-Y:0;while(--b);o=b=Y;do s=r.prev[--o],r.prev[o]=s>=Y?s-Y:0;while(--b);c+=Y}if(r.strm.avail_in===0)break;if(z=r.strm,B=r.window,j=r.strstart+r.lookahead,C=c,A=void 0,(A=z.avail_in)>C&&(A=C),b=A===0?0:(z.avail_in-=A,_.arraySet(B,z.input,z.next_in,A,j),z.state.wrap===1?z.adler=p(z.adler,B,A,j):z.state.wrap===2&&(z.adler=y(z.adler,B,A,j)),z.next_in+=A,z.total_in+=A,A),r.lookahead+=b,r.lookahead+r.insert>=3)for(S=r.strstart-r.insert,r.ins_h=r.window[S],r.ins_h=(r.ins_h<<r.hash_shift^r.window[S+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[S+3-1])&r.hash_mask,r.prev[S&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=S,S++,r.insert--,!(r.lookahead+r.insert<3)););}while(r.lookahead<u&&r.strm.avail_in!==0)}function U(r,o){for(var b,s;;){if(r.lookahead<u){if($(r),r.lookahead<u&&o===0)return 1;if(r.lookahead===0)break}if(b=0,r.lookahead>=3&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,b=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),b!==0&&r.strstart-b<=r.w_size-u&&(r.match_length=G(r,b)),r.match_length>=3)if(s=g._tr_tally(r,r.strstart-r.match_start,r.match_length-3),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=3){r.match_length--;do r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,b=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!=0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else s=g._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(s&&(me(r,!1),r.strm.avail_out===0))return 1}return r.insert=r.strstart<2?r.strstart:2,o===4?(me(r,!0),r.strm.avail_out===0?3:4):r.last_lit&&(me(r,!1),r.strm.avail_out===0)?1:2}function L(r,o){for(var b,s,c;;){if(r.lookahead<u){if($(r),r.lookahead<u&&o===0)return 1;if(r.lookahead===0)break}if(b=0,r.lookahead>=3&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,b=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=2,b!==0&&r.prev_length<r.max_lazy_match&&r.strstart-b<=r.w_size-u&&(r.match_length=G(r,b),r.match_length<=5&&(r.strategy===1||r.match_length===3&&r.strstart-r.match_start>4096)&&(r.match_length=2)),r.prev_length>=3&&r.match_length<=r.prev_length){c=r.strstart+r.lookahead-3,s=g._tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-3),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=c&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+3-1])&r.hash_mask,b=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!=0);if(r.match_available=0,r.match_length=2,r.strstart++,s&&(me(r,!1),r.strm.avail_out===0))return 1}else if(r.match_available){if((s=g._tr_tally(r,0,r.window[r.strstart-1]))&&me(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return 1}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(s=g._tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<2?r.strstart:2,o===4?(me(r,!0),r.strm.avail_out===0?3:4):r.last_lit&&(me(r,!1),r.strm.avail_out===0)?1:2}function F(r,o,b,s,c){this.good_length=r,this.max_lazy=o,this.nice_length=b,this.max_chain=s,this.func=c}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _.Buf16(1146),this.dyn_dtree=new _.Buf16(122),this.bl_tree=new _.Buf16(78),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _.Buf16(16),this.heap=new _.Buf16(573),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _.Buf16(573),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function P(r){var o;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=2,(o=r.state).pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap?42:H,r.adler=o.wrap===2?0:1,o.last_flush=0,g._tr_init(o),0):m(r,E)}function w(r){var o,b=P(r);return b===0&&((o=r.state).window_size=2*o.w_size,Q(o.head),o.max_lazy_match=e[o.level].max_lazy,o.good_match=e[o.level].good_length,o.nice_match=e[o.level].nice_length,o.max_chain_length=e[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=2,o.match_available=0,o.ins_h=0),b}function f(r,o,b,s,c,S){if(!r)return E;var z=1;if(o===-1&&(o=6),s<0?(z=0,s=-s):s>15&&(z=2,s-=16),c<1||c>9||b!==8||s<8||s>15||o<0||o>9||S<0||S>4)return m(r,E);s===8&&(s=9);var B=new I;return r.state=B,B.strm=r,B.wrap=z,B.gzhead=null,B.w_bits=s,B.w_size=1<<B.w_bits,B.w_mask=B.w_size-1,B.hash_bits=c+7,B.hash_size=1<<B.hash_bits,B.hash_mask=B.hash_size-1,B.hash_shift=~~((B.hash_bits+3-1)/3),B.window=new _.Buf8(2*B.w_size),B.head=new _.Buf16(B.hash_size),B.prev=new _.Buf16(B.w_size),B.lit_bufsize=1<<c+6,B.pending_buf_size=4*B.lit_bufsize,B.pending_buf=new _.Buf8(B.pending_buf_size),B.d_buf=1*B.lit_bufsize,B.l_buf=3*B.lit_bufsize,B.level=o,B.strategy=S,B.method=b,w(r)}e=[new F(0,0,0,0,function(r,o){var b=65535;for(b>r.pending_buf_size-5&&(b=r.pending_buf_size-5);;){if(r.lookahead<=1){if($(r),r.lookahead===0&&o===0)return 1;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var s=r.block_start+b;if((r.strstart===0||r.strstart>=s)&&(r.lookahead=r.strstart-s,r.strstart=s,me(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-u&&(me(r,!1),r.strm.avail_out===0))return 1}return r.insert=0,o===4?(me(r,!0),r.strm.avail_out===0?3:4):(r.strstart>r.block_start&&(me(r,!1),r.strm.avail_out),1)}),new F(4,4,8,4,U),new F(4,5,16,8,U),new F(4,6,32,32,U),new F(4,4,16,16,L),new F(8,16,32,32,L),new F(8,16,128,128,L),new F(8,32,128,256,L),new F(32,128,258,1024,L),new F(32,258,258,4096,L)],te.deflateInit=function(r,o){return f(r,o,8,15,8,0)},te.deflateInit2=f,te.deflateReset=w,te.deflateResetKeep=P,te.deflateSetHeader=function(r,o){return r&&r.state?r.state.wrap!==2?E:(r.state.gzhead=o,0):E},te.deflate=function(r,o){var b,s,c,S;if(!r||!r.state||o>5||o<0)return r?m(r,E):E;if(s=r.state,!r.output||!r.input&&r.avail_in!==0||s.status===x&&o!==4)return m(r,r.avail_out===0?-5:E);if(s.strm=r,b=s.last_flush,s.last_flush=o,s.status===42)if(s.wrap===2)r.adler=0,ye(s,31),ye(s,139),ye(s,8),s.gzhead?(ye(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),ye(s,255&s.gzhead.time),ye(s,s.gzhead.time>>8&255),ye(s,s.gzhead.time>>16&255),ye(s,s.gzhead.time>>24&255),ye(s,s.level===9?2:s.strategy>=2||s.level<2?4:0),ye(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(ye(s,255&s.gzhead.extra.length),ye(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(r.adler=y(r.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(ye(s,0),ye(s,0),ye(s,0),ye(s,0),ye(s,0),ye(s,s.level===9?2:s.strategy>=2||s.level<2?4:0),ye(s,3),s.status=H);else{var z=8+(s.w_bits-8<<4)<<8;z|=(s.strategy>=2||s.level<2?0:s.level<6?1:s.level===6?2:3)<<6,s.strstart!==0&&(z|=32),z+=31-z%31,s.status=H,fe(s,z),s.strstart!==0&&(fe(s,r.adler>>>16),fe(s,65535&r.adler)),r.adler=1}if(s.status===69)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(r.adler=y(r.adler,s.pending_buf,s.pending-c,c)),ue(r),c=s.pending,s.pending!==s.pending_buf_size));)ye(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(r.adler=y(r.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(s.status===73)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(r.adler=y(r.adler,s.pending_buf,s.pending-c,c)),ue(r),c=s.pending,s.pending===s.pending_buf_size)){S=1;break}S=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,ye(s,S)}while(S!==0);s.gzhead.hcrc&&s.pending>c&&(r.adler=y(r.adler,s.pending_buf,s.pending-c,c)),S===0&&(s.gzindex=0,s.status=91)}else s.status=91;if(s.status===91)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(r.adler=y(r.adler,s.pending_buf,s.pending-c,c)),ue(r),c=s.pending,s.pending===s.pending_buf_size)){S=1;break}S=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,ye(s,S)}while(S!==0);s.gzhead.hcrc&&s.pending>c&&(r.adler=y(r.adler,s.pending_buf,s.pending-c,c)),S===0&&(s.status=N)}else s.status=N;if(s.status===N&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&ue(r),s.pending+2<=s.pending_buf_size&&(ye(s,255&r.adler),ye(s,r.adler>>8&255),r.adler=0,s.status=H)):s.status=H),s.pending!==0){if(ue(r),r.avail_out===0)return s.last_flush=-1,0}else if(r.avail_in===0&&k(o)<=k(b)&&o!==4)return m(r,-5);if(s.status===x&&r.avail_in!==0)return m(r,-5);if(r.avail_in!==0||s.lookahead!==0||o!==0&&s.status!==x){var B=s.strategy===2?function(j,C){for(var A;;){if(j.lookahead===0&&($(j),j.lookahead===0)){if(C===0)return 1;break}if(j.match_length=0,A=g._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++,A&&(me(j,!1),j.strm.avail_out===0))return 1}return j.insert=0,C===4?(me(j,!0),j.strm.avail_out===0?3:4):j.last_lit&&(me(j,!1),j.strm.avail_out===0)?1:2}(s,o):s.strategy===3?function(j,C){for(var A,Y,ie,le,ce=j.window;;){if(j.lookahead<=a){if($(j),j.lookahead<=a&&C===0)return 1;if(j.lookahead===0)break}if(j.match_length=0,j.lookahead>=3&&j.strstart>0&&(Y=ce[ie=j.strstart-1])===ce[++ie]&&Y===ce[++ie]&&Y===ce[++ie]){le=j.strstart+a;do;while(Y===ce[++ie]&&Y===ce[++ie]&&Y===ce[++ie]&&Y===ce[++ie]&&Y===ce[++ie]&&Y===ce[++ie]&&Y===ce[++ie]&&Y===ce[++ie]&&ie<le);j.match_length=a-(le-ie),j.match_length>j.lookahead&&(j.match_length=j.lookahead)}if(j.match_length>=3?(A=g._tr_tally(j,1,j.match_length-3),j.lookahead-=j.match_length,j.strstart+=j.match_length,j.match_length=0):(A=g._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++),A&&(me(j,!1),j.strm.avail_out===0))return 1}return j.insert=0,C===4?(me(j,!0),j.strm.avail_out===0?3:4):j.last_lit&&(me(j,!1),j.strm.avail_out===0)?1:2}(s,o):e[s.level].func(s,o);if(B!==3&&B!==4||(s.status=x),B===1||B===3)return r.avail_out===0&&(s.last_flush=-1),0;if(B===2&&(o===1?g._tr_align(s):o!==5&&(g._tr_stored_block(s,0,0,!1),o===3&&(Q(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),ue(r),r.avail_out===0))return s.last_flush=-1,0}return o!==4?0:s.wrap<=0?1:(s.wrap===2?(ye(s,255&r.adler),ye(s,r.adler>>8&255),ye(s,r.adler>>16&255),ye(s,r.adler>>24&255),ye(s,255&r.total_in),ye(s,r.total_in>>8&255),ye(s,r.total_in>>16&255),ye(s,r.total_in>>24&255)):(fe(s,r.adler>>>16),fe(s,65535&r.adler)),ue(r),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?0:1)},te.deflateEnd=function(r){var o;return r&&r.state?(o=r.state.status)!==42&&o!==69&&o!==73&&o!==91&&o!==N&&o!==H&&o!==x?m(r,E):(r.state=null,o===H?m(r,-3):0):E},te.deflateSetDictionary=function(r,o){var b,s,c,S,z,B,j,C,A=o.length;if(!r||!r.state||(S=(b=r.state).wrap)===2||S===1&&b.status!==42||b.lookahead)return E;for(S===1&&(r.adler=p(r.adler,o,A,0)),b.wrap=0,A>=b.w_size&&(S===0&&(Q(b.head),b.strstart=0,b.block_start=0,b.insert=0),C=new _.Buf8(b.w_size),_.arraySet(C,o,A-b.w_size,b.w_size,0),o=C,A=b.w_size),z=r.avail_in,B=r.next_in,j=r.input,r.avail_in=A,r.next_in=0,r.input=o,$(b);b.lookahead>=3;){s=b.strstart,c=b.lookahead-2;do b.ins_h=(b.ins_h<<b.hash_shift^b.window[s+3-1])&b.hash_mask,b.prev[s&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=s,s++;while(--c);b.strstart=s,b.lookahead=2,$(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=2,b.match_available=0,r.next_in=B,r.input=j,r.avail_in=z,b.wrap=S,0},te.deflateInfo="pako deflate (from Nodeca project)"},9968:function(Ze){Ze.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(Ze){Ze.exports=function(te,t){var e,_,g,p,y,T,E,a,u,N,H,x,m,k,Q,ue,me,ye,fe,G,$,U,L,F,I;e=te.state,_=te.next_in,F=te.input,g=_+(te.avail_in-5),p=te.next_out,I=te.output,y=p-(t-te.avail_out),T=p+(te.avail_out-257),E=e.dmax,a=e.wsize,u=e.whave,N=e.wnext,H=e.window,x=e.hold,m=e.bits,k=e.lencode,Q=e.distcode,ue=(1<<e.lenbits)-1,me=(1<<e.distbits)-1;e:do{m<15&&(x+=F[_++]<<m,m+=8,x+=F[_++]<<m,m+=8),ye=k[x&ue];t:for(;;){if(x>>>=fe=ye>>>24,m-=fe,(fe=ye>>>16&255)===0)I[p++]=65535&ye;else{if(!(16&fe)){if(!(64&fe)){ye=k[(65535&ye)+(x&(1<<fe)-1)];continue t}if(32&fe){e.mode=12;break e}te.msg="invalid literal/length code",e.mode=30;break e}G=65535&ye,(fe&=15)&&(m<fe&&(x+=F[_++]<<m,m+=8),G+=x&(1<<fe)-1,x>>>=fe,m-=fe),m<15&&(x+=F[_++]<<m,m+=8,x+=F[_++]<<m,m+=8),ye=Q[x&me];n:for(;;){if(x>>>=fe=ye>>>24,m-=fe,!(16&(fe=ye>>>16&255))){if(!(64&fe)){ye=Q[(65535&ye)+(x&(1<<fe)-1)];continue n}te.msg="invalid distance code",e.mode=30;break e}if($=65535&ye,m<(fe&=15)&&(x+=F[_++]<<m,(m+=8)<fe&&(x+=F[_++]<<m,m+=8)),($+=x&(1<<fe)-1)>E){te.msg="invalid distance too far back",e.mode=30;break e}if(x>>>=fe,m-=fe,$>(fe=p-y)){if((fe=$-fe)>u&&e.sane){te.msg="invalid distance too far back",e.mode=30;break e}if(U=0,L=H,N===0){if(U+=a-fe,fe<G){G-=fe;do I[p++]=H[U++];while(--fe);U=p-$,L=I}}else if(N<fe){if(U+=a+N-fe,(fe-=N)<G){G-=fe;do I[p++]=H[U++];while(--fe);if(U=0,N<G){G-=fe=N;do I[p++]=H[U++];while(--fe);U=p-$,L=I}}}else if(U+=N-fe,fe<G){G-=fe;do I[p++]=H[U++];while(--fe);U=p-$,L=I}for(;G>2;)I[p++]=L[U++],I[p++]=L[U++],I[p++]=L[U++],G-=3;G&&(I[p++]=L[U++],G>1&&(I[p++]=L[U++]))}else{U=p-$;do I[p++]=I[U++],I[p++]=I[U++],I[p++]=I[U++],G-=3;while(G>2);G&&(I[p++]=I[U++],G>1&&(I[p++]=I[U++]))}break}}break}}while(_<g&&p<T);_-=G=m>>3,x&=(1<<(m-=G<<3))-1,te.next_in=_,te.next_out=p,te.avail_in=_<g?g-_+5:5-(_-g),te.avail_out=p<T?T-p+257:257-(p-T),e.hold=x,e.bits=m}},7823:function(Ze,te,t){var e=t(9187),_=t(3693),g=t(8464),p=t(9365),y=t(6446),T=-2,E=12,a=30;function u(G){return(G>>>24&255)+(G>>>8&65280)+((65280&G)<<8)+((255&G)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function H(G){var $;return G&&G.state?($=G.state,G.total_in=G.total_out=$.total=0,G.msg="",$.wrap&&(G.adler=1&$.wrap),$.mode=1,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new e.Buf32(852),$.distcode=$.distdyn=new e.Buf32(592),$.sane=1,$.back=-1,0):T}function x(G){var $;return G&&G.state?(($=G.state).wsize=0,$.whave=0,$.wnext=0,H(G)):T}function m(G,$){var U,L;return G&&G.state?(L=G.state,$<0?(U=0,$=-$):(U=1+($>>4),$<48&&($&=15)),$&&($<8||$>15)?T:(L.window!==null&&L.wbits!==$&&(L.window=null),L.wrap=U,L.wbits=$,x(G))):T}function k(G,$){var U,L;return G?(L=new N,G.state=L,L.window=null,(U=m(G,$))!==0&&(G.state=null),U):T}var Q,ue,me=!0;function ye(G){if(me){var $;for(Q=new e.Buf32(512),ue=new e.Buf32(32),$=0;$<144;)G.lens[$++]=8;for(;$<256;)G.lens[$++]=9;for(;$<280;)G.lens[$++]=7;for(;$<288;)G.lens[$++]=8;for(y(1,G.lens,0,288,Q,0,G.work,{bits:9}),$=0;$<32;)G.lens[$++]=5;y(2,G.lens,0,32,ue,0,G.work,{bits:5}),me=!1}G.lencode=Q,G.lenbits=9,G.distcode=ue,G.distbits=5}function fe(G,$,U,L){var F,I=G.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new e.Buf8(I.wsize)),L>=I.wsize?(e.arraySet(I.window,$,U-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):((F=I.wsize-I.wnext)>L&&(F=L),e.arraySet(I.window,$,U-L,F,I.wnext),(L-=F)?(e.arraySet(I.window,$,U-L,L,0),I.wnext=L,I.whave=I.wsize):(I.wnext+=F,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=F))),0}te.inflateReset=x,te.inflateReset2=m,te.inflateResetKeep=H,te.inflateInit=function(G){return k(G,15)},te.inflateInit2=k,te.inflate=function(G,$){var U,L,F,I,P,w,f,r,o,b,s,c,S,z,B,j,C,A,Y,ie,le,ce,de,J,ee=0,he=new e.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&G.avail_in!==0)return T;(U=G.state).mode===E&&(U.mode=13),P=G.next_out,F=G.output,f=G.avail_out,I=G.next_in,L=G.input,w=G.avail_in,r=U.hold,o=U.bits,b=w,s=f,ce=0;e:for(;;)switch(U.mode){case 1:if(U.wrap===0){U.mode=13;break}for(;o<16;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}if(2&U.wrap&&r===35615){U.check=0,he[0]=255&r,he[1]=r>>>8&255,U.check=g(U.check,he,2,0),r=0,o=0,U.mode=2;break}if(U.flags=0,U.head&&(U.head.done=!1),!(1&U.wrap)||(((255&r)<<8)+(r>>8))%31){G.msg="incorrect header check",U.mode=a;break}if((15&r)!=8){G.msg="unknown compression method",U.mode=a;break}if(o-=4,le=8+(15&(r>>>=4)),U.wbits===0)U.wbits=le;else if(le>U.wbits){G.msg="invalid window size",U.mode=a;break}U.dmax=1<<le,G.adler=U.check=1,U.mode=512&r?10:E,r=0,o=0;break;case 2:for(;o<16;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}if(U.flags=r,(255&U.flags)!=8){G.msg="unknown compression method",U.mode=a;break}if(57344&U.flags){G.msg="unknown header flags set",U.mode=a;break}U.head&&(U.head.text=r>>8&1),512&U.flags&&(he[0]=255&r,he[1]=r>>>8&255,U.check=g(U.check,he,2,0)),r=0,o=0,U.mode=3;case 3:for(;o<32;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}U.head&&(U.head.time=r),512&U.flags&&(he[0]=255&r,he[1]=r>>>8&255,he[2]=r>>>16&255,he[3]=r>>>24&255,U.check=g(U.check,he,4,0)),r=0,o=0,U.mode=4;case 4:for(;o<16;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}U.head&&(U.head.xflags=255&r,U.head.os=r>>8),512&U.flags&&(he[0]=255&r,he[1]=r>>>8&255,U.check=g(U.check,he,2,0)),r=0,o=0,U.mode=5;case 5:if(1024&U.flags){for(;o<16;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}U.length=r,U.head&&(U.head.extra_len=r),512&U.flags&&(he[0]=255&r,he[1]=r>>>8&255,U.check=g(U.check,he,2,0)),r=0,o=0}else U.head&&(U.head.extra=null);U.mode=6;case 6:if(1024&U.flags&&((c=U.length)>w&&(c=w),c&&(U.head&&(le=U.head.extra_len-U.length,U.head.extra||(U.head.extra=new Array(U.head.extra_len)),e.arraySet(U.head.extra,L,I,c,le)),512&U.flags&&(U.check=g(U.check,L,c,I)),w-=c,I+=c,U.length-=c),U.length))break e;U.length=0,U.mode=7;case 7:if(2048&U.flags){if(w===0)break e;c=0;do le=L[I+c++],U.head&&le&&U.length<65536&&(U.head.name+=String.fromCharCode(le));while(le&&c<w);if(512&U.flags&&(U.check=g(U.check,L,c,I)),w-=c,I+=c,le)break e}else U.head&&(U.head.name=null);U.length=0,U.mode=8;case 8:if(4096&U.flags){if(w===0)break e;c=0;do le=L[I+c++],U.head&&le&&U.length<65536&&(U.head.comment+=String.fromCharCode(le));while(le&&c<w);if(512&U.flags&&(U.check=g(U.check,L,c,I)),w-=c,I+=c,le)break e}else U.head&&(U.head.comment=null);U.mode=9;case 9:if(512&U.flags){for(;o<16;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}if(r!==(65535&U.check)){G.msg="header crc mismatch",U.mode=a;break}r=0,o=0}U.head&&(U.head.hcrc=U.flags>>9&1,U.head.done=!0),G.adler=U.check=0,U.mode=E;break;case 10:for(;o<32;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}G.adler=U.check=u(r),r=0,o=0,U.mode=11;case 11:if(U.havedict===0)return G.next_out=P,G.avail_out=f,G.next_in=I,G.avail_in=w,U.hold=r,U.bits=o,2;G.adler=U.check=1,U.mode=E;case E:if($===5||$===6)break e;case 13:if(U.last){r>>>=7&o,o-=7&o,U.mode=27;break}for(;o<3;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}switch(U.last=1&r,o-=1,3&(r>>>=1)){case 0:U.mode=14;break;case 1:if(ye(U),U.mode=20,$===6){r>>>=2,o-=2;break e}break;case 2:U.mode=17;break;case 3:G.msg="invalid block type",U.mode=a}r>>>=2,o-=2;break;case 14:for(r>>>=7&o,o-=7&o;o<32;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}if((65535&r)!=(r>>>16^65535)){G.msg="invalid stored block lengths",U.mode=a;break}if(U.length=65535&r,r=0,o=0,U.mode=15,$===6)break e;case 15:U.mode=16;case 16:if(c=U.length){if(c>w&&(c=w),c>f&&(c=f),c===0)break e;e.arraySet(F,L,I,c,P),w-=c,I+=c,f-=c,P+=c,U.length-=c;break}U.mode=E;break;case 17:for(;o<14;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}if(U.nlen=257+(31&r),r>>>=5,o-=5,U.ndist=1+(31&r),r>>>=5,o-=5,U.ncode=4+(15&r),r>>>=4,o-=4,U.nlen>286||U.ndist>30){G.msg="too many length or distance symbols",U.mode=a;break}U.have=0,U.mode=18;case 18:for(;U.have<U.ncode;){for(;o<3;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}U.lens[Pe[U.have++]]=7&r,r>>>=3,o-=3}for(;U.have<19;)U.lens[Pe[U.have++]]=0;if(U.lencode=U.lendyn,U.lenbits=7,de={bits:U.lenbits},ce=y(0,U.lens,0,19,U.lencode,0,U.work,de),U.lenbits=de.bits,ce){G.msg="invalid code lengths set",U.mode=a;break}U.have=0,U.mode=19;case 19:for(;U.have<U.nlen+U.ndist;){for(;j=(ee=U.lencode[r&(1<<U.lenbits)-1])>>>16&255,C=65535&ee,!((B=ee>>>24)<=o);){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}if(C<16)r>>>=B,o-=B,U.lens[U.have++]=C;else{if(C===16){for(J=B+2;o<J;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}if(r>>>=B,o-=B,U.have===0){G.msg="invalid bit length repeat",U.mode=a;break}le=U.lens[U.have-1],c=3+(3&r),r>>>=2,o-=2}else if(C===17){for(J=B+3;o<J;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}o-=B,le=0,c=3+(7&(r>>>=B)),r>>>=3,o-=3}else{for(J=B+7;o<J;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}o-=B,le=0,c=11+(127&(r>>>=B)),r>>>=7,o-=7}if(U.have+c>U.nlen+U.ndist){G.msg="invalid bit length repeat",U.mode=a;break}for(;c--;)U.lens[U.have++]=le}}if(U.mode===a)break;if(U.lens[256]===0){G.msg="invalid code -- missing end-of-block",U.mode=a;break}if(U.lenbits=9,de={bits:U.lenbits},ce=y(1,U.lens,0,U.nlen,U.lencode,0,U.work,de),U.lenbits=de.bits,ce){G.msg="invalid literal/lengths set",U.mode=a;break}if(U.distbits=6,U.distcode=U.distdyn,de={bits:U.distbits},ce=y(2,U.lens,U.nlen,U.ndist,U.distcode,0,U.work,de),U.distbits=de.bits,ce){G.msg="invalid distances set",U.mode=a;break}if(U.mode=20,$===6)break e;case 20:U.mode=21;case 21:if(w>=6&&f>=258){G.next_out=P,G.avail_out=f,G.next_in=I,G.avail_in=w,U.hold=r,U.bits=o,p(G,s),P=G.next_out,F=G.output,f=G.avail_out,I=G.next_in,L=G.input,w=G.avail_in,r=U.hold,o=U.bits,U.mode===E&&(U.back=-1);break}for(U.back=0;j=(ee=U.lencode[r&(1<<U.lenbits)-1])>>>16&255,C=65535&ee,!((B=ee>>>24)<=o);){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}if(j&&!(240&j)){for(A=B,Y=j,ie=C;j=(ee=U.lencode[ie+((r&(1<<A+Y)-1)>>A)])>>>16&255,C=65535&ee,!(A+(B=ee>>>24)<=o);){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}r>>>=A,o-=A,U.back+=A}if(r>>>=B,o-=B,U.back+=B,U.length=C,j===0){U.mode=26;break}if(32&j){U.back=-1,U.mode=E;break}if(64&j){G.msg="invalid literal/length code",U.mode=a;break}U.extra=15&j,U.mode=22;case 22:if(U.extra){for(J=U.extra;o<J;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}U.length+=r&(1<<U.extra)-1,r>>>=U.extra,o-=U.extra,U.back+=U.extra}U.was=U.length,U.mode=23;case 23:for(;j=(ee=U.distcode[r&(1<<U.distbits)-1])>>>16&255,C=65535&ee,!((B=ee>>>24)<=o);){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}if(!(240&j)){for(A=B,Y=j,ie=C;j=(ee=U.distcode[ie+((r&(1<<A+Y)-1)>>A)])>>>16&255,C=65535&ee,!(A+(B=ee>>>24)<=o);){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}r>>>=A,o-=A,U.back+=A}if(r>>>=B,o-=B,U.back+=B,64&j){G.msg="invalid distance code",U.mode=a;break}U.offset=C,U.extra=15&j,U.mode=24;case 24:if(U.extra){for(J=U.extra;o<J;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}U.offset+=r&(1<<U.extra)-1,r>>>=U.extra,o-=U.extra,U.back+=U.extra}if(U.offset>U.dmax){G.msg="invalid distance too far back",U.mode=a;break}U.mode=25;case 25:if(f===0)break e;if(c=s-f,U.offset>c){if((c=U.offset-c)>U.whave&&U.sane){G.msg="invalid distance too far back",U.mode=a;break}c>U.wnext?(c-=U.wnext,S=U.wsize-c):S=U.wnext-c,c>U.length&&(c=U.length),z=U.window}else z=F,S=P-U.offset,c=U.length;c>f&&(c=f),f-=c,U.length-=c;do F[P++]=z[S++];while(--c);U.length===0&&(U.mode=21);break;case 26:if(f===0)break e;F[P++]=U.length,f--,U.mode=21;break;case 27:if(U.wrap){for(;o<32;){if(w===0)break e;w--,r|=L[I++]<<o,o+=8}if(s-=f,G.total_out+=s,U.total+=s,s&&(G.adler=U.check=U.flags?g(U.check,F,s,P-s):_(U.check,F,s,P-s)),s=f,(U.flags?r:u(r))!==U.check){G.msg="incorrect data check",U.mode=a;break}r=0,o=0}U.mode=28;case 28:if(U.wrap&&U.flags){for(;o<32;){if(w===0)break e;w--,r+=L[I++]<<o,o+=8}if(r!==(4294967295&U.total)){G.msg="incorrect length check",U.mode=a;break}r=0,o=0}U.mode=29;case 29:ce=1;break e;case a:ce=-3;break e;case 31:return-4;default:return T}return G.next_out=P,G.avail_out=f,G.next_in=I,G.avail_in=w,U.hold=r,U.bits=o,(U.wsize||s!==G.avail_out&&U.mode<a&&(U.mode<27||$!==4))&&fe(G,G.output,G.next_out,s-G.avail_out)?(U.mode=31,-4):(b-=G.avail_in,s-=G.avail_out,G.total_in+=b,G.total_out+=s,U.total+=s,U.wrap&&s&&(G.adler=U.check=U.flags?g(U.check,F,s,G.next_out-s):_(U.check,F,s,G.next_out-s)),G.data_type=U.bits+(U.last?64:0)+(U.mode===E?128:0)+(U.mode===20||U.mode===15?256:0),(b===0&&s===0||$===4)&&ce===0&&(ce=-5),ce)},te.inflateEnd=function(G){if(!G||!G.state)return T;var $=G.state;return $.window&&($.window=null),G.state=null,0},te.inflateGetHeader=function(G,$){var U;return G&&G.state&&2&(U=G.state).wrap?(U.head=$,$.done=!1,0):T},te.inflateSetDictionary=function(G,$){var U,L=$.length;return G&&G.state?(U=G.state).wrap!==0&&U.mode!==11?T:U.mode===11&&_(1,$,L,0)!==U.check?-3:fe(G,$,L,L)?(U.mode=31,-4):(U.havedict=1,0):T},te.inflateInfo="pako inflate (from Nodeca project)"},6446:function(Ze,te,t){var e=t(9187),_=15,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Ze.exports=function(E,a,u,N,H,x,m,k){var Q,ue,me,ye,fe,G,$,U,L,F=k.bits,I=0,P=0,w=0,f=0,r=0,o=0,b=0,s=0,c=0,S=0,z=null,B=0,j=new e.Buf16(16),C=new e.Buf16(16),A=null,Y=0;for(I=0;I<=_;I++)j[I]=0;for(P=0;P<N;P++)j[a[u+P]]++;for(r=F,f=_;f>=1&&j[f]===0;f--);if(r>f&&(r=f),f===0)return H[x++]=20971520,H[x++]=20971520,k.bits=1,0;for(w=1;w<f&&j[w]===0;w++);for(r<w&&(r=w),s=1,I=1;I<=_;I++)if(s<<=1,(s-=j[I])<0)return-1;if(s>0&&(E===0||f!==1))return-1;for(C[1]=0,I=1;I<_;I++)C[I+1]=C[I]+j[I];for(P=0;P<N;P++)a[u+P]!==0&&(m[C[a[u+P]]++]=P);if(E===0?(z=A=m,G=19):E===1?(z=g,B-=257,A=p,Y-=257,G=256):(z=y,A=T,G=-1),S=0,P=0,I=w,fe=x,o=r,b=0,me=-1,ye=(c=1<<r)-1,E===1&&c>852||E===2&&c>592)return 1;for(;;){$=I-b,m[P]<G?(U=0,L=m[P]):m[P]>G?(U=A[Y+m[P]],L=z[B+m[P]]):(U=96,L=0),Q=1<<I-b,w=ue=1<<o;do H[fe+(S>>b)+(ue-=Q)]=$<<24|U<<16|L|0;while(ue!==0);for(Q=1<<I-1;S&Q;)Q>>=1;if(Q!==0?(S&=Q-1,S+=Q):S=0,P++,--j[I]==0){if(I===f)break;I=a[u+m[P]]}if(I>r&&(S&ye)!==me){for(b===0&&(b=r),fe+=w,s=1<<(o=I-b);o+b<f&&!((s-=j[o+b])<=0);)o++,s<<=1;if(c+=1<<o,E===1&&c>852||E===2&&c>592)return 1;H[me=S&ye]=r<<24|o<<16|fe-x|0}}return S!==0&&(H[fe+S]=I-b<<24|4194304|0),k.bits=r,0}},5604:function(Ze){Ze.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(Ze,te,t){var e=t(9187);function _(C){for(var A=C.length;--A>=0;)C[A]=0}var g=256,p=286,y=30,T=15,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(576);_(H);var x=new Array(60);_(x);var m=new Array(512);_(m);var k=new Array(256);_(k);var Q=new Array(29);_(Q);var ue,me,ye,fe=new Array(y);function G(C,A,Y,ie,le){this.static_tree=C,this.extra_bits=A,this.extra_base=Y,this.elems=ie,this.max_length=le,this.has_stree=C&&C.length}function $(C,A){this.dyn_tree=C,this.max_code=0,this.stat_desc=A}function U(C){return C<256?m[C]:m[256+(C>>>7)]}function L(C,A){C.pending_buf[C.pending++]=255&A,C.pending_buf[C.pending++]=A>>>8&255}function F(C,A,Y){C.bi_valid>16-Y?(C.bi_buf|=A<<C.bi_valid&65535,L(C,C.bi_buf),C.bi_buf=A>>16-C.bi_valid,C.bi_valid+=Y-16):(C.bi_buf|=A<<C.bi_valid&65535,C.bi_valid+=Y)}function I(C,A,Y){F(C,Y[2*A],Y[2*A+1])}function P(C,A){var Y=0;do Y|=1&C,C>>>=1,Y<<=1;while(--A>0);return Y>>>1}function w(C,A,Y){var ie,le,ce=new Array(16),de=0;for(ie=1;ie<=T;ie++)ce[ie]=de=de+Y[ie-1]<<1;for(le=0;le<=A;le++){var J=C[2*le+1];J!==0&&(C[2*le]=P(ce[J]++,J))}}function f(C){var A;for(A=0;A<p;A++)C.dyn_ltree[2*A]=0;for(A=0;A<y;A++)C.dyn_dtree[2*A]=0;for(A=0;A<19;A++)C.bl_tree[2*A]=0;C.dyn_ltree[512]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function r(C){C.bi_valid>8?L(C,C.bi_buf):C.bi_valid>0&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function o(C,A,Y,ie){var le=2*A,ce=2*Y;return C[le]<C[ce]||C[le]===C[ce]&&ie[A]<=ie[Y]}function b(C,A,Y){for(var ie=C.heap[Y],le=Y<<1;le<=C.heap_len&&(le<C.heap_len&&o(A,C.heap[le+1],C.heap[le],C.depth)&&le++,!o(A,ie,C.heap[le],C.depth));)C.heap[Y]=C.heap[le],Y=le,le<<=1;C.heap[Y]=ie}function s(C,A,Y){var ie,le,ce,de,J=0;if(C.last_lit!==0)do ie=C.pending_buf[C.d_buf+2*J]<<8|C.pending_buf[C.d_buf+2*J+1],le=C.pending_buf[C.l_buf+J],J++,ie===0?I(C,le,A):(I(C,(ce=k[le])+g+1,A),(de=E[ce])!==0&&F(C,le-=Q[ce],de),I(C,ce=U(--ie),Y),(de=a[ce])!==0&&F(C,ie-=fe[ce],de));while(J<C.last_lit);I(C,256,A)}function c(C,A){var Y,ie,le,ce=A.dyn_tree,de=A.stat_desc.static_tree,J=A.stat_desc.has_stree,ee=A.stat_desc.elems,he=-1;for(C.heap_len=0,C.heap_max=573,Y=0;Y<ee;Y++)ce[2*Y]!==0?(C.heap[++C.heap_len]=he=Y,C.depth[Y]=0):ce[2*Y+1]=0;for(;C.heap_len<2;)ce[2*(le=C.heap[++C.heap_len]=he<2?++he:0)]=1,C.depth[le]=0,C.opt_len--,J&&(C.static_len-=de[2*le+1]);for(A.max_code=he,Y=C.heap_len>>1;Y>=1;Y--)b(C,ce,Y);le=ee;do Y=C.heap[1],C.heap[1]=C.heap[C.heap_len--],b(C,ce,1),ie=C.heap[1],C.heap[--C.heap_max]=Y,C.heap[--C.heap_max]=ie,ce[2*le]=ce[2*Y]+ce[2*ie],C.depth[le]=(C.depth[Y]>=C.depth[ie]?C.depth[Y]:C.depth[ie])+1,ce[2*Y+1]=ce[2*ie+1]=le,C.heap[1]=le++,b(C,ce,1);while(C.heap_len>=2);C.heap[--C.heap_max]=C.heap[1],function(Pe,He){var Ke,Ae,Oe,Te,De,ke,be=He.dyn_tree,ve=He.max_code,D=He.stat_desc.static_tree,l=He.stat_desc.has_stree,d=He.stat_desc.extra_bits,M=He.stat_desc.extra_base,V=He.stat_desc.max_length,q=0;for(Te=0;Te<=T;Te++)Pe.bl_count[Te]=0;for(be[2*Pe.heap[Pe.heap_max]+1]=0,Ke=Pe.heap_max+1;Ke<573;Ke++)(Te=be[2*be[2*(Ae=Pe.heap[Ke])+1]+1]+1)>V&&(Te=V,q++),be[2*Ae+1]=Te,Ae>ve||(Pe.bl_count[Te]++,De=0,Ae>=M&&(De=d[Ae-M]),ke=be[2*Ae],Pe.opt_len+=ke*(Te+De),l&&(Pe.static_len+=ke*(D[2*Ae+1]+De)));if(q!==0){do{for(Te=V-1;Pe.bl_count[Te]===0;)Te--;Pe.bl_count[Te]--,Pe.bl_count[Te+1]+=2,Pe.bl_count[V]--,q-=2}while(q>0);for(Te=V;Te!==0;Te--)for(Ae=Pe.bl_count[Te];Ae!==0;)(Oe=Pe.heap[--Ke])>ve||(be[2*Oe+1]!==Te&&(Pe.opt_len+=(Te-be[2*Oe+1])*be[2*Oe],be[2*Oe+1]=Te),Ae--)}}(C,A),w(ce,he,C.bl_count)}function S(C,A,Y){var ie,le,ce=-1,de=A[1],J=0,ee=7,he=4;for(de===0&&(ee=138,he=3),A[2*(Y+1)+1]=65535,ie=0;ie<=Y;ie++)le=de,de=A[2*(ie+1)+1],++J<ee&&le===de||(J<he?C.bl_tree[2*le]+=J:le!==0?(le!==ce&&C.bl_tree[2*le]++,C.bl_tree[32]++):J<=10?C.bl_tree[34]++:C.bl_tree[36]++,J=0,ce=le,de===0?(ee=138,he=3):le===de?(ee=6,he=3):(ee=7,he=4))}function z(C,A,Y){var ie,le,ce=-1,de=A[1],J=0,ee=7,he=4;for(de===0&&(ee=138,he=3),ie=0;ie<=Y;ie++)if(le=de,de=A[2*(ie+1)+1],!(++J<ee&&le===de)){if(J<he)do I(C,le,C.bl_tree);while(--J!=0);else le!==0?(le!==ce&&(I(C,le,C.bl_tree),J--),I(C,16,C.bl_tree),F(C,J-3,2)):J<=10?(I(C,17,C.bl_tree),F(C,J-3,3)):(I(C,18,C.bl_tree),F(C,J-11,7));J=0,ce=le,de===0?(ee=138,he=3):le===de?(ee=6,he=3):(ee=7,he=4)}}_(fe);var B=!1;function j(C,A,Y,ie){F(C,0+(ie?1:0),3),function(le,ce,de,J){r(le),L(le,de),L(le,~de),e.arraySet(le.pending_buf,le.window,ce,de,le.pending),le.pending+=de}(C,A,Y)}te._tr_init=function(C){B||(function(){var A,Y,ie,le,ce,de=new Array(16);for(ie=0,le=0;le<28;le++)for(Q[le]=ie,A=0;A<1<<E[le];A++)k[ie++]=le;for(k[ie-1]=le,ce=0,le=0;le<16;le++)for(fe[le]=ce,A=0;A<1<<a[le];A++)m[ce++]=le;for(ce>>=7;le<y;le++)for(fe[le]=ce<<7,A=0;A<1<<a[le]-7;A++)m[256+ce++]=le;for(Y=0;Y<=T;Y++)de[Y]=0;for(A=0;A<=143;)H[2*A+1]=8,A++,de[8]++;for(;A<=255;)H[2*A+1]=9,A++,de[9]++;for(;A<=279;)H[2*A+1]=7,A++,de[7]++;for(;A<=287;)H[2*A+1]=8,A++,de[8]++;for(w(H,287,de),A=0;A<y;A++)x[2*A+1]=5,x[2*A]=P(A,5);ue=new G(H,E,257,p,T),me=new G(x,a,0,y,T),ye=new G(new Array(0),u,0,19,7)}(),B=!0),C.l_desc=new $(C.dyn_ltree,ue),C.d_desc=new $(C.dyn_dtree,me),C.bl_desc=new $(C.bl_tree,ye),C.bi_buf=0,C.bi_valid=0,f(C)},te._tr_stored_block=j,te._tr_flush_block=function(C,A,Y,ie){var le,ce,de=0;C.level>0?(C.strm.data_type===2&&(C.strm.data_type=function(J){var ee,he=4093624447;for(ee=0;ee<=31;ee++,he>>>=1)if(1&he&&J.dyn_ltree[2*ee]!==0)return 0;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return 1;for(ee=32;ee<g;ee++)if(J.dyn_ltree[2*ee]!==0)return 1;return 0}(C)),c(C,C.l_desc),c(C,C.d_desc),de=function(J){var ee;for(S(J,J.dyn_ltree,J.l_desc.max_code),S(J,J.dyn_dtree,J.d_desc.max_code),c(J,J.bl_desc),ee=18;ee>=3&&J.bl_tree[2*N[ee]+1]===0;ee--);return J.opt_len+=3*(ee+1)+5+5+4,ee}(C),le=C.opt_len+3+7>>>3,(ce=C.static_len+3+7>>>3)<=le&&(le=ce)):le=ce=Y+5,Y+4<=le&&A!==-1?j(C,A,Y,ie):C.strategy===4||ce===le?(F(C,2+(ie?1:0),3),s(C,H,x)):(F(C,4+(ie?1:0),3),function(J,ee,he,Pe){var He;for(F(J,ee-257,5),F(J,he-1,5),F(J,Pe-4,4),He=0;He<Pe;He++)F(J,J.bl_tree[2*N[He]+1],3);z(J,J.dyn_ltree,ee-1),z(J,J.dyn_dtree,he-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,de+1),s(C,C.dyn_ltree,C.dyn_dtree)),f(C),ie&&r(C)},te._tr_tally=function(C,A,Y){return C.pending_buf[C.d_buf+2*C.last_lit]=A>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&A,C.pending_buf[C.l_buf+C.last_lit]=255&Y,C.last_lit++,A===0?C.dyn_ltree[2*Y]++:(C.matches++,A--,C.dyn_ltree[2*(k[Y]+g+1)]++,C.dyn_dtree[2*U(A)]++),C.last_lit===C.lit_bufsize-1},te._tr_align=function(C){F(C,2,3),I(C,256,H),function(A){A.bi_valid===16?(L(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):A.bi_valid>=8&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)}(C)}},249:function(Ze){Ze.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(Ze){Ze.exports=function(te){te.data&&te.name&&(te=te.data);for(var t=!0,e="",_="",g=0;g<te.length;g++){var p=te[g];if(t)p?_+=String.fromCharCode(p):t=!1;else{if(!p)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");e+=String.fromCharCode(p)}}return{keyword:_,text:e}}},9686:function(Ze){Ze.exports=function(te,t){if(te=String(te),t=String(t),!/^[\x00-\xFF]+$/.test(te)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(te.length>=80)throw new Error('Keyword "'+te+'" is longer than the 79-character limit imposed by the PNG specification');for(var e,_=te.length+t.length+1,g=new Uint8Array(_),p=0,y=0;y<te.length;y++){if(!(e=te.charCodeAt(y)))throw new Error("0x00 character is not permitted in tEXt keywords");g[p++]=e}g[p++]=0;for(var T=0;T<t.length;T++){if(!(e=t.charCodeAt(T)))throw new Error("0x00 character is not permitted in tEXt content");g[p++]=e}return{name:"tEXt",data:g}}},1194:function(Ze,te,t){te.encode=t(9686),te.decode=t(9066)},3434:function(Ze,te,t){var e=t(5714),_=t(6233);Ze.exports=function(T){var E,a=8,u=a;for(E=0;E<T.length;E++)a+=T[E].data.length,a+=12;var N=new Uint8Array(a);for(N[0]=137,N[1]=80,N[2]=78,N[3]=71,N[4]=13,N[5]=10,N[6]=26,N[7]=10,E=0;E<T.length;E++){var H=T[E],x=H.name,m=H.data,k=m.length,Q=[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)];y[0]=k,N[u++]=g[3],N[u++]=g[2],N[u++]=g[1],N[u++]=g[0],N[u++]=Q[0],N[u++]=Q[1],N[u++]=Q[2],N[u++]=Q[3];for(var ue=0;ue<k;)N[u++]=m[ue++];var me=Q.concat(e(m)),ye=_.buf(me);p[0]=ye,N[u++]=g[3],N[u++]=g[2],N[u++]=g[1],N[u++]=g[0]}return N};var g=new Uint8Array(4),p=new Int32Array(g.buffer),y=new Uint32Array(g.buffer)},2983:function(Ze,te,t){var e=t(6233);Ze.exports=function(y){if(y[0]!==137)throw new Error("Invalid .png file header");if(y[1]!==80)throw new Error("Invalid .png file header");if(y[2]!==78)throw new Error("Invalid .png file header");if(y[3]!==71)throw new Error("Invalid .png file header");if(y[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(y[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(y[6]!==26)throw new Error("Invalid .png file header");if(y[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var T=!1,E=[],a=8;a<y.length;){_[3]=y[a++],_[2]=y[a++],_[1]=y[a++],_[0]=y[a++];var u=p[0]+4,N=new Uint8Array(u);N[0]=y[a++],N[1]=y[a++],N[2]=y[a++],N[3]=y[a++];var H=String.fromCharCode(N[0])+String.fromCharCode(N[1])+String.fromCharCode(N[2])+String.fromCharCode(N[3]);if(!E.length&&H!=="IHDR")throw new Error("IHDR header missing");if(H==="IEND"){T=!0,E.push({name:H,data:new Uint8Array(0)});break}for(var x=4;x<u;x++)N[x]=y[a++];_[3]=y[a++],_[2]=y[a++],_[1]=y[a++],_[0]=y[a++];var m=g[0];if(e.buf(N)!==m)throw new Error("CRC values for "+H+" header do not match, PNG file is likely corrupted");var k=new Uint8Array(N.buffer.slice(4));E.push({name:H,data:k})}if(!T)throw new Error(".png file ended prematurely: no IEND header was found");return E};var _=new Uint8Array(4),g=new Int32Array(_.buffer),p=new Uint32Array(_.buffer)},1493:function(Ze,te,t){function e(a,u){return Math.pow(a[0]-u[0],2)+Math.pow(a[1]-u[1],2)}function _(a,u,N){const H=e(u,N);if(H===0)return e(a,u);let x=((a[0]-u[0])*(N[0]-u[0])+(a[1]-u[1])*(N[1]-u[1]))/H;return x=Math.max(0,Math.min(1,x)),e(a,g(u,N,x))}function g(a,u,N){return[a[0]+(u[0]-a[0])*N,a[1]+(u[1]-a[1])*N]}function p(a,u,N,H){const x=H||[];if(function(Q,ue){const me=Q[ue+0],ye=Q[ue+1],fe=Q[ue+2],G=Q[ue+3];let $=3*ye[0]-2*me[0]-G[0];$*=$;let U=3*ye[1]-2*me[1]-G[1];U*=U;let L=3*fe[0]-2*G[0]-me[0];L*=L;let F=3*fe[1]-2*G[1]-me[1];return F*=F,$<L&&($=L),U<F&&(U=F),$+U}(a,u)<N){const Q=a[u+0];x.length?(m=x[x.length-1],k=Q,Math.sqrt(e(m,k))>1&&x.push(Q)):x.push(Q),x.push(a[u+3])}else{const Q=a[u+0],ue=a[u+1],me=a[u+2],ye=a[u+3],fe=g(Q,ue,.5),G=g(ue,me,.5),$=g(me,ye,.5),U=g(fe,G,.5),L=g(G,$,.5),F=g(U,L,.5);p([Q,fe,U,F],0,N,x),p([F,L,$,ye],0,N,x)}var m,k;return x}function y(a,u){return T(a,0,a.length,u)}function T(a,u,N,H,x){const m=x||[],k=a[u],Q=a[N-1];let ue=0,me=1;for(let ye=u+1;ye<N-1;++ye){const fe=_(a[ye],k,Q);fe>ue&&(ue=fe,me=ye)}return Math.sqrt(ue)>H?(T(a,u,me+1,H,m),T(a,me,N,H,m)):(m.length||m.push(k),m.push(Q)),m}function E(a,u=.15,N){const H=[],x=(a.length-1)/3;for(let m=0;m<x;m++)p(a,3*m,u,H);return N&&N>0?T(H,0,H.length,N):H}t.d(te,{og:function(){return y},sU:function(){return E}})},6094:function(Ze,te,t){var e=t(9787),_=Symbol.for("react.element"),g=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,y=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T={key:!0,ref:!0,__self:!0,__source:!0};function E(a,u,N){var H,x={},m=null,k=null;for(H in N!==void 0&&(m=""+N),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(k=u.ref),u)p.call(u,H)&&!T.hasOwnProperty(H)&&(x[H]=u[H]);if(a&&a.defaultProps)for(H in u=a.defaultProps)x[H]===void 0&&(x[H]=u[H]);return{$$typeof:_,type:a,key:m,ref:k,props:x,_owner:y.current}}te.Fragment=g,te.jsx=E,te.jsxs=E},4512:function(Ze,te,t){Ze.exports=t(6094)},8128:function(Ze,te,t){function e(ve,D,l){if(ve&&ve.length){const[d,M]=D,V=Math.PI/180*l,q=Math.cos(V),re=Math.sin(V);for(const ae of ve){const[ge,Se]=ae;ae[0]=(ge-d)*q-(Se-M)*re+d,ae[1]=(ge-d)*re+(Se-M)*q+M}}}function _(ve,D){return ve[0]===D[0]&&ve[1]===D[1]}function g(ve,D,l,d=1){const M=l,V=Math.max(D,.1),q=ve[0]&&ve[0][0]&&typeof ve[0][0]=="number"?[ve]:ve,re=[0,0];if(M)for(const ge of q)e(ge,re,M);const ae=function(ge,Se,Re){const Ye=[];for(const ze of ge){const we=[...ze];_(we[0],we[we.length-1])||we.push([we[0][0],we[0][1]]),we.length>2&&Ye.push(we)}const Ge=[];Se=Math.max(Se,.1);const We=[];for(const ze of Ye)for(let we=0;we<ze.length-1;we++){const Me=ze[we],$e=ze[we+1];if(Me[1]!==$e[1]){const at=Math.min(Me[1],$e[1]);We.push({ymin:at,ymax:Math.max(Me[1],$e[1]),x:at===Me[1]?Me[0]:$e[0],islope:($e[0]-Me[0])/($e[1]-Me[1])})}}if(We.sort((ze,we)=>ze.ymin<we.ymin?-1:ze.ymin>we.ymin?1:ze.x<we.x?-1:ze.x>we.x?1:ze.ymax===we.ymax?0:(ze.ymax-we.ymax)/Math.abs(ze.ymax-we.ymax)),!We.length)return Ge;let qe=[],lt=We[0].ymin,ft=0;for(;qe.length||We.length;){if(We.length){let ze=-1;for(let we=0;we<We.length&&!(We[we].ymin>lt);we++)ze=we;We.splice(0,ze+1).forEach(we=>{qe.push({s:lt,edge:we})})}if(qe=qe.filter(ze=>!(ze.edge.ymax<=lt)),qe.sort((ze,we)=>ze.edge.x===we.edge.x?0:(ze.edge.x-we.edge.x)/Math.abs(ze.edge.x-we.edge.x)),(Re!==1||ft%Se==0)&&qe.length>1)for(let ze=0;ze<qe.length;ze+=2){const we=ze+1;if(we>=qe.length)break;const Me=qe[ze].edge,$e=qe[we].edge;Ge.push([[Math.round(Me.x),lt],[Math.round($e.x),lt]])}lt+=Re,qe.forEach(ze=>{ze.edge.x=ze.edge.x+Re*ze.edge.islope}),ft++}return Ge}(q,V,d);if(M){for(const ge of q)e(ge,re,-M);(function(ge,Se,Re){const Ye=[];ge.forEach(Ge=>Ye.push(...Ge)),e(Ye,Se,Re)})(ae,re,-M)}return ae}function p(ve,D){var l;const d=D.hachureAngle+90;let M=D.hachureGap;M<0&&(M=4*D.strokeWidth),M=Math.max(M,.1);let V=1;return D.roughness>=1&&(((l=D.randomizer)===null||l===void 0?void 0:l.next())||Math.random())>.7&&(V=M),g(ve,M,d,V||1)}t.d(te,{V:function(){return be}});class y{constructor(D){this.helper=D}fillPolygons(D,l){return this._fillPolygons(D,l)}_fillPolygons(D,l){const d=p(D,l);return{type:"fillSketch",ops:this.renderLines(d,l)}}renderLines(D,l){const d=[];for(const M of D)d.push(...this.helper.doubleLineOps(M[0][0],M[0][1],M[1][0],M[1][1],l));return d}}function T(ve){const D=ve[0],l=ve[1];return Math.sqrt(Math.pow(D[0]-l[0],2)+Math.pow(D[1]-l[1],2))}class E extends y{fillPolygons(D,l){let d=l.hachureGap;d<0&&(d=4*l.strokeWidth),d=Math.max(d,.1);const M=p(D,Object.assign({},l,{hachureGap:d})),V=Math.PI/180*l.hachureAngle,q=[],re=.5*d*Math.cos(V),ae=.5*d*Math.sin(V);for(const[ge,Se]of M)T([ge,Se])&&q.push([[ge[0]-re,ge[1]+ae],[...Se]],[[ge[0]+re,ge[1]-ae],[...Se]]);return{type:"fillSketch",ops:this.renderLines(q,l)}}}class a extends y{fillPolygons(D,l){const d=this._fillPolygons(D,l),M=Object.assign({},l,{hachureAngle:l.hachureAngle+90}),V=this._fillPolygons(D,M);return d.ops=d.ops.concat(V.ops),d}}class u{constructor(D){this.helper=D}fillPolygons(D,l){const d=p(D,l=Object.assign({},l,{hachureAngle:0}));return this.dotsOnLines(d,l)}dotsOnLines(D,l){const d=[];let M=l.hachureGap;M<0&&(M=4*l.strokeWidth),M=Math.max(M,.1);let V=l.fillWeight;V<0&&(V=l.strokeWidth/2);const q=M/4;for(const re of D){const ae=T(re),ge=ae/M,Se=Math.ceil(ge)-1,Re=ae-Se*M,Ye=(re[0][0]+re[1][0])/2-M/4,Ge=Math.min(re[0][1],re[1][1]);for(let We=0;We<Se;We++){const qe=Ge+Re+We*M,lt=Ye-q+2*Math.random()*q,ft=qe-q+2*Math.random()*q,ze=this.helper.ellipse(lt,ft,V,V,l);d.push(...ze.ops)}}return{type:"fillSketch",ops:d}}}class N{constructor(D){this.helper=D}fillPolygons(D,l){const d=p(D,l);return{type:"fillSketch",ops:this.dashedLine(d,l)}}dashedLine(D,l){const d=l.dashOffset<0?l.hachureGap<0?4*l.strokeWidth:l.hachureGap:l.dashOffset,M=l.dashGap<0?l.hachureGap<0?4*l.strokeWidth:l.hachureGap:l.dashGap,V=[];return D.forEach(q=>{const re=T(q),ae=Math.floor(re/(d+M)),ge=(re+M-ae*(d+M))/2;let Se=q[0],Re=q[1];Se[0]>Re[0]&&(Se=q[1],Re=q[0]);const Ye=Math.atan((Re[1]-Se[1])/(Re[0]-Se[0]));for(let Ge=0;Ge<ae;Ge++){const We=Ge*(d+M),qe=We+d,lt=[Se[0]+We*Math.cos(Ye)+ge*Math.cos(Ye),Se[1]+We*Math.sin(Ye)+ge*Math.sin(Ye)],ft=[Se[0]+qe*Math.cos(Ye)+ge*Math.cos(Ye),Se[1]+qe*Math.sin(Ye)+ge*Math.sin(Ye)];V.push(...this.helper.doubleLineOps(lt[0],lt[1],ft[0],ft[1],l))}}),V}}class H{constructor(D){this.helper=D}fillPolygons(D,l){const d=l.hachureGap<0?4*l.strokeWidth:l.hachureGap,M=l.zigzagOffset<0?d:l.zigzagOffset,V=p(D,l=Object.assign({},l,{hachureGap:d+M}));return{type:"fillSketch",ops:this.zigzagLines(V,M,l)}}zigzagLines(D,l,d){const M=[];return D.forEach(V=>{const q=T(V),re=Math.round(q/(2*l));let ae=V[0],ge=V[1];ae[0]>ge[0]&&(ae=V[1],ge=V[0]);const Se=Math.atan((ge[1]-ae[1])/(ge[0]-ae[0]));for(let Re=0;Re<re;Re++){const Ye=2*Re*l,Ge=2*(Re+1)*l,We=Math.sqrt(2*Math.pow(l,2)),qe=[ae[0]+Ye*Math.cos(Se),ae[1]+Ye*Math.sin(Se)],lt=[ae[0]+Ge*Math.cos(Se),ae[1]+Ge*Math.sin(Se)],ft=[qe[0]+We*Math.cos(Se+Math.PI/4),qe[1]+We*Math.sin(Se+Math.PI/4)];M.push(...this.helper.doubleLineOps(qe[0],qe[1],ft[0],ft[1],d),...this.helper.doubleLineOps(ft[0],ft[1],lt[0],lt[1],d))}}),M}}const x={};var m=t(8152);const k={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Q(ve,D){return ve.type===D}function ue(ve){const D=[],l=function(q){const re=new Array;for(;q!=="";)if(q.match(/^([ \t\r\n,]+)/))q=q.substr(RegExp.$1.length);else if(q.match(/^([aAcChHlLmMqQsStTvVzZ])/))re[re.length]={type:0,text:RegExp.$1},q=q.substr(RegExp.$1.length);else{if(!q.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];re[re.length]={type:1,text:`${parseFloat(RegExp.$1)}`},q=q.substr(RegExp.$1.length)}return re[re.length]={type:2,text:""},re}(ve);let d="BOD",M=0,V=l[M];for(;!Q(V,2);){let q=0;const re=[];if(d==="BOD"){if(V.text!=="M"&&V.text!=="m")return ue("M0,0"+ve);M++,q=k[V.text],d=V.text}else Q(V,1)?q=k[d]:(M++,q=k[V.text],d=V.text);if(!(M+q<l.length))throw new Error("Path data ended short");for(let ae=M;ae<M+q;ae++){const ge=l[ae];if(!Q(ge,1))throw new Error("Param not a number: "+d+","+ge.text);re[re.length]=+ge.text}if(typeof k[d]!="number")throw new Error("Bad segment: "+d);{const ae={key:d,data:re};D.push(ae),M+=q,V=l[M],d==="M"&&(d="L"),d==="m"&&(d="l")}}return D}function me(ve){let D=0,l=0,d=0,M=0;const V=[];for(const{key:q,data:re}of ve)switch(q){case"M":V.push({key:"M",data:[...re]}),[D,l]=re,[d,M]=re;break;case"m":D+=re[0],l+=re[1],V.push({key:"M",data:[D,l]}),d=D,M=l;break;case"L":V.push({key:"L",data:[...re]}),[D,l]=re;break;case"l":D+=re[0],l+=re[1],V.push({key:"L",data:[D,l]});break;case"C":V.push({key:"C",data:[...re]}),D=re[4],l=re[5];break;case"c":{const ae=re.map((ge,Se)=>Se%2?ge+l:ge+D);V.push({key:"C",data:ae}),D=ae[4],l=ae[5];break}case"Q":V.push({key:"Q",data:[...re]}),D=re[2],l=re[3];break;case"q":{const ae=re.map((ge,Se)=>Se%2?ge+l:ge+D);V.push({key:"Q",data:ae}),D=ae[2],l=ae[3];break}case"A":V.push({key:"A",data:[...re]}),D=re[5],l=re[6];break;case"a":D+=re[5],l+=re[6],V.push({key:"A",data:[re[0],re[1],re[2],re[3],re[4],D,l]});break;case"H":V.push({key:"H",data:[...re]}),D=re[0];break;case"h":D+=re[0],V.push({key:"H",data:[D]});break;case"V":V.push({key:"V",data:[...re]}),l=re[0];break;case"v":l+=re[0],V.push({key:"V",data:[l]});break;case"S":V.push({key:"S",data:[...re]}),D=re[2],l=re[3];break;case"s":{const ae=re.map((ge,Se)=>Se%2?ge+l:ge+D);V.push({key:"S",data:ae}),D=ae[2],l=ae[3];break}case"T":V.push({key:"T",data:[...re]}),D=re[0],l=re[1];break;case"t":D+=re[0],l+=re[1],V.push({key:"T",data:[D,l]});break;case"Z":case"z":V.push({key:"Z",data:[]}),D=d,l=M}return V}function ye(ve){const D=[];let l="",d=0,M=0,V=0,q=0,re=0,ae=0;for(const{key:ge,data:Se}of ve){switch(ge){case"M":D.push({key:"M",data:[...Se]}),[d,M]=Se,[V,q]=Se;break;case"C":D.push({key:"C",data:[...Se]}),d=Se[4],M=Se[5],re=Se[2],ae=Se[3];break;case"L":D.push({key:"L",data:[...Se]}),[d,M]=Se;break;case"H":d=Se[0],D.push({key:"L",data:[d,M]});break;case"V":M=Se[0],D.push({key:"L",data:[d,M]});break;case"S":{let Re=0,Ye=0;l==="C"||l==="S"?(Re=d+(d-re),Ye=M+(M-ae)):(Re=d,Ye=M),D.push({key:"C",data:[Re,Ye,...Se]}),re=Se[0],ae=Se[1],d=Se[2],M=Se[3];break}case"T":{const[Re,Ye]=Se;let Ge=0,We=0;l==="Q"||l==="T"?(Ge=d+(d-re),We=M+(M-ae)):(Ge=d,We=M);const qe=d+2*(Ge-d)/3,lt=M+2*(We-M)/3,ft=Re+2*(Ge-Re)/3,ze=Ye+2*(We-Ye)/3;D.push({key:"C",data:[qe,lt,ft,ze,Re,Ye]}),re=Ge,ae=We,d=Re,M=Ye;break}case"Q":{const[Re,Ye,Ge,We]=Se,qe=d+2*(Re-d)/3,lt=M+2*(Ye-M)/3,ft=Ge+2*(Re-Ge)/3,ze=We+2*(Ye-We)/3;D.push({key:"C",data:[qe,lt,ft,ze,Ge,We]}),re=Re,ae=Ye,d=Ge,M=We;break}case"A":{const Re=Math.abs(Se[0]),Ye=Math.abs(Se[1]),Ge=Se[2],We=Se[3],qe=Se[4],lt=Se[5],ft=Se[6];Re===0||Ye===0?(D.push({key:"C",data:[d,M,lt,ft,lt,ft]}),d=lt,M=ft):(d!==lt||M!==ft)&&(G(d,M,lt,ft,Re,Ye,Ge,We,qe).forEach(function(ze){D.push({key:"C",data:ze})}),d=lt,M=ft);break}case"Z":D.push({key:"Z",data:[]}),d=V,M=q}l=ge}return D}function fe(ve,D,l){return[ve*Math.cos(l)-D*Math.sin(l),ve*Math.sin(l)+D*Math.cos(l)]}function G(ve,D,l,d,M,V,q,re,ae,ge){const Se=(Re=q,Math.PI*Re/180);var Re;let Ye=[],Ge=0,We=0,qe=0,lt=0;if(ge)[Ge,We,qe,lt]=ge;else{[ve,D]=fe(ve,D,-Se),[l,d]=fe(l,d,-Se);const Gt=(ve-l)/2,Ht=(D-d)/2;let $t=Gt*Gt/(M*M)+Ht*Ht/(V*V);$t>1&&($t=Math.sqrt($t),M*=$t,V*=$t);const pn=M*M,_t=V*V,xt=pn*_t-pn*Ht*Ht-_t*Gt*Gt,At=pn*Ht*Ht+_t*Gt*Gt,It=(re===ae?-1:1)*Math.sqrt(Math.abs(xt/At));qe=It*M*Ht/V+(ve+l)/2,lt=It*-V*Gt/M+(D+d)/2,Ge=Math.asin(parseFloat(((D-lt)/V).toFixed(9))),We=Math.asin(parseFloat(((d-lt)/V).toFixed(9))),ve<qe&&(Ge=Math.PI-Ge),l<qe&&(We=Math.PI-We),Ge<0&&(Ge=2*Math.PI+Ge),We<0&&(We=2*Math.PI+We),ae&&Ge>We&&(Ge-=2*Math.PI),!ae&&We>Ge&&(We-=2*Math.PI)}let ft=We-Ge;if(Math.abs(ft)>120*Math.PI/180){const Gt=We,Ht=l,$t=d;We=ae&&We>Ge?Ge+120*Math.PI/180*1:Ge+120*Math.PI/180*-1,Ye=G(l=qe+M*Math.cos(We),d=lt+V*Math.sin(We),Ht,$t,M,V,q,0,ae,[We,Gt,qe,lt])}ft=We-Ge;const ze=Math.cos(Ge),we=Math.sin(Ge),Me=Math.cos(We),$e=Math.sin(We),at=Math.tan(ft/4),dt=4/3*M*at,vt=4/3*V*at,Tt=[ve,D],Et=[ve+dt*we,D-vt*ze],jt=[l+dt*$e,d-vt*Me],Kt=[l,d];if(Et[0]=2*Tt[0]-Et[0],Et[1]=2*Tt[1]-Et[1],ge)return[Et,jt,Kt].concat(Ye);{Ye=[Et,jt,Kt].concat(Ye);const Gt=[];for(let Ht=0;Ht<Ye.length;Ht+=3){const $t=fe(Ye[Ht][0],Ye[Ht][1],Se),pn=fe(Ye[Ht+1][0],Ye[Ht+1][1],Se),_t=fe(Ye[Ht+2][0],Ye[Ht+2][1],Se);Gt.push([$t[0],$t[1],pn[0],pn[1],_t[0],_t[1]])}return Gt}}const $={randOffset:function(ve,D){return S(ve,D)},randOffsetWithRange:function(ve,D,l){return c(ve,D,l)},ellipse:function(ve,D,l,d,M){const V=P(l,d,M);return w(ve,D,M,V).opset},doubleLineOps:function(ve,D,l,d,M){return z(ve,D,l,d,M,!0)}};function U(ve,D,l,d,M){return{type:"path",ops:z(ve,D,l,d,M)}}function L(ve,D,l){const d=(ve||[]).length;if(d>2){const M=[];for(let V=0;V<d-1;V++)M.push(...z(ve[V][0],ve[V][1],ve[V+1][0],ve[V+1][1],l));return D&&M.push(...z(ve[d-1][0],ve[d-1][1],ve[0][0],ve[0][1],l)),{type:"path",ops:M}}return d===2?U(ve[0][0],ve[0][1],ve[1][0],ve[1][1],l):{type:"path",ops:[]}}function F(ve,D,l,d,M){return function(V,q){return L(V,!0,q)}([[ve,D],[ve+l,D],[ve+l,D+d],[ve,D+d]],M)}function I(ve,D){let l=j(ve,1*(1+.2*D.roughness),D);if(!D.disableMultiStroke){const d=j(ve,1.5*(1+.22*D.roughness),function(M){const V=Object.assign({},M);return V.randomizer=void 0,M.seed&&(V.seed=M.seed+1),V}(D));l=l.concat(d)}return{type:"path",ops:l}}function P(ve,D,l){const d=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(ve/2,2)+Math.pow(D/2,2))/2)),M=Math.ceil(Math.max(l.curveStepCount,l.curveStepCount/Math.sqrt(200)*d)),V=2*Math.PI/M;let q=Math.abs(ve/2),re=Math.abs(D/2);const ae=1-l.curveFitting;return q+=S(q*ae,l),re+=S(re*ae,l),{increment:V,rx:q,ry:re}}function w(ve,D,l,d){const[M,V]=A(d.increment,ve,D,d.rx,d.ry,1,d.increment*c(.1,c(.4,1,l),l),l);let q=C(M,null,l);if(!l.disableMultiStroke&&l.roughness!==0){const[re]=A(d.increment,ve,D,d.rx,d.ry,1.5,0,l),ae=C(re,null,l);q=q.concat(ae)}return{estimatedPoints:V,opset:{type:"path",ops:q}}}function f(ve,D,l,d,M,V,q,re,ae){const ge=ve,Se=D;let Re=Math.abs(l/2),Ye=Math.abs(d/2);Re+=S(.01*Re,ae),Ye+=S(.01*Ye,ae);let Ge=M,We=V;for(;Ge<0;)Ge+=2*Math.PI,We+=2*Math.PI;We-Ge>2*Math.PI&&(Ge=0,We=2*Math.PI);const qe=2*Math.PI/ae.curveStepCount,lt=Math.min(qe/2,(We-Ge)/2),ft=Y(lt,ge,Se,Re,Ye,Ge,We,1,ae);if(!ae.disableMultiStroke){const ze=Y(lt,ge,Se,Re,Ye,Ge,We,1.5,ae);ft.push(...ze)}return q&&(re?ft.push(...z(ge,Se,ge+Re*Math.cos(Ge),Se+Ye*Math.sin(Ge),ae),...z(ge,Se,ge+Re*Math.cos(We),Se+Ye*Math.sin(We),ae)):ft.push({op:"lineTo",data:[ge,Se]},{op:"lineTo",data:[ge+Re*Math.cos(Ge),Se+Ye*Math.sin(Ge)]})),{type:"path",ops:ft}}function r(ve,D){const l=ye(me(ue(ve))),d=[];let M=[0,0],V=[0,0];for(const{key:q,data:re}of l)switch(q){case"M":V=[re[0],re[1]],M=[re[0],re[1]];break;case"L":d.push(...z(V[0],V[1],re[0],re[1],D)),V=[re[0],re[1]];break;case"C":{const[ae,ge,Se,Re,Ye,Ge]=re;d.push(...ie(ae,ge,Se,Re,Ye,Ge,V,D)),V=[Ye,Ge];break}case"Z":d.push(...z(V[0],V[1],M[0],M[1],D)),V=[M[0],M[1]]}return{type:"path",ops:d}}function o(ve,D){const l=[];for(const d of ve)if(d.length){const M=D.maxRandomnessOffset||0,V=d.length;if(V>2){l.push({op:"move",data:[d[0][0]+S(M,D),d[0][1]+S(M,D)]});for(let q=1;q<V;q++)l.push({op:"lineTo",data:[d[q][0]+S(M,D),d[q][1]+S(M,D)]})}}return{type:"fillPath",ops:l}}function b(ve,D){return function(l,d){let M=l.fillStyle||"hachure";if(!x[M])switch(M){case"zigzag":x[M]||(x[M]=new E(d));break;case"cross-hatch":x[M]||(x[M]=new a(d));break;case"dots":x[M]||(x[M]=new u(d));break;case"dashed":x[M]||(x[M]=new N(d));break;case"zigzag-line":x[M]||(x[M]=new H(d));break;default:M="hachure",x[M]||(x[M]=new y(d))}return x[M]}(D,$).fillPolygons(ve,D)}function s(ve){return ve.randomizer||(ve.randomizer=new m.k(ve.seed||0)),ve.randomizer.next()}function c(ve,D,l,d=1){return l.roughness*d*(s(l)*(D-ve)+ve)}function S(ve,D,l=1){return c(-ve,ve,D,l)}function z(ve,D,l,d,M,V=!1){const q=V?M.disableMultiStrokeFill:M.disableMultiStroke,re=B(ve,D,l,d,M,!0,!1);if(q)return re;const ae=B(ve,D,l,d,M,!0,!0);return re.concat(ae)}function B(ve,D,l,d,M,V,q){const re=Math.pow(ve-l,2)+Math.pow(D-d,2),ae=Math.sqrt(re);let ge=1;ge=ae<200?1:ae>500?.4:-.0016668*ae+1.233334;let Se=M.maxRandomnessOffset||0;Se*Se*100>re&&(Se=ae/10);const Re=Se/2,Ye=.2+.2*s(M);let Ge=M.bowing*M.maxRandomnessOffset*(d-D)/200,We=M.bowing*M.maxRandomnessOffset*(ve-l)/200;Ge=S(Ge,M,ge),We=S(We,M,ge);const qe=[],lt=()=>S(Re,M,ge),ft=()=>S(Se,M,ge),ze=M.preserveVertices;return q?qe.push({op:"move",data:[ve+(ze?0:lt()),D+(ze?0:lt())]}):qe.push({op:"move",data:[ve+(ze?0:S(Se,M,ge)),D+(ze?0:S(Se,M,ge))]}),q?qe.push({op:"bcurveTo",data:[Ge+ve+(l-ve)*Ye+lt(),We+D+(d-D)*Ye+lt(),Ge+ve+2*(l-ve)*Ye+lt(),We+D+2*(d-D)*Ye+lt(),l+(ze?0:lt()),d+(ze?0:lt())]}):qe.push({op:"bcurveTo",data:[Ge+ve+(l-ve)*Ye+ft(),We+D+(d-D)*Ye+ft(),Ge+ve+2*(l-ve)*Ye+ft(),We+D+2*(d-D)*Ye+ft(),l+(ze?0:ft()),d+(ze?0:ft())]}),qe}function j(ve,D,l){const d=[];d.push([ve[0][0]+S(D,l),ve[0][1]+S(D,l)]),d.push([ve[0][0]+S(D,l),ve[0][1]+S(D,l)]);for(let M=1;M<ve.length;M++)d.push([ve[M][0]+S(D,l),ve[M][1]+S(D,l)]),M===ve.length-1&&d.push([ve[M][0]+S(D,l),ve[M][1]+S(D,l)]);return C(d,null,l)}function C(ve,D,l){const d=ve.length,M=[];if(d>3){const V=[],q=1-l.curveTightness;M.push({op:"move",data:[ve[1][0],ve[1][1]]});for(let re=1;re+2<d;re++){const ae=ve[re];V[0]=[ae[0],ae[1]],V[1]=[ae[0]+(q*ve[re+1][0]-q*ve[re-1][0])/6,ae[1]+(q*ve[re+1][1]-q*ve[re-1][1])/6],V[2]=[ve[re+1][0]+(q*ve[re][0]-q*ve[re+2][0])/6,ve[re+1][1]+(q*ve[re][1]-q*ve[re+2][1])/6],V[3]=[ve[re+1][0],ve[re+1][1]],M.push({op:"bcurveTo",data:[V[1][0],V[1][1],V[2][0],V[2][1],V[3][0],V[3][1]]})}}else d===3?(M.push({op:"move",data:[ve[1][0],ve[1][1]]}),M.push({op:"bcurveTo",data:[ve[1][0],ve[1][1],ve[2][0],ve[2][1],ve[2][0],ve[2][1]]})):d===2&&M.push(...z(ve[0][0],ve[0][1],ve[1][0],ve[1][1],l));return M}function A(ve,D,l,d,M,V,q,re){const ae=[],ge=[];if(re.roughness===0){ve/=4,ge.push([D+d*Math.cos(-ve),l+M*Math.sin(-ve)]);for(let Se=0;Se<=2*Math.PI;Se+=ve){const Re=[D+d*Math.cos(Se),l+M*Math.sin(Se)];ae.push(Re),ge.push(Re)}ge.push([D+d*Math.cos(0),l+M*Math.sin(0)]),ge.push([D+d*Math.cos(ve),l+M*Math.sin(ve)])}else{const Se=S(.5,re)-Math.PI/2;ge.push([S(V,re)+D+.9*d*Math.cos(Se-ve),S(V,re)+l+.9*M*Math.sin(Se-ve)]);const Re=2*Math.PI+Se-.01;for(let Ye=Se;Ye<Re;Ye+=ve){const Ge=[S(V,re)+D+d*Math.cos(Ye),S(V,re)+l+M*Math.sin(Ye)];ae.push(Ge),ge.push(Ge)}ge.push([S(V,re)+D+d*Math.cos(Se+2*Math.PI+.5*q),S(V,re)+l+M*Math.sin(Se+2*Math.PI+.5*q)]),ge.push([S(V,re)+D+.98*d*Math.cos(Se+q),S(V,re)+l+.98*M*Math.sin(Se+q)]),ge.push([S(V,re)+D+.9*d*Math.cos(Se+.5*q),S(V,re)+l+.9*M*Math.sin(Se+.5*q)])}return[ge,ae]}function Y(ve,D,l,d,M,V,q,re,ae){const ge=V+S(.1,ae),Se=[];Se.push([S(re,ae)+D+.9*d*Math.cos(ge-ve),S(re,ae)+l+.9*M*Math.sin(ge-ve)]);for(let Re=ge;Re<=q;Re+=ve)Se.push([S(re,ae)+D+d*Math.cos(Re),S(re,ae)+l+M*Math.sin(Re)]);return Se.push([D+d*Math.cos(q),l+M*Math.sin(q)]),Se.push([D+d*Math.cos(q),l+M*Math.sin(q)]),C(Se,null,ae)}function ie(ve,D,l,d,M,V,q,re){const ae=[],ge=[re.maxRandomnessOffset||1,(re.maxRandomnessOffset||1)+.3];let Se=[0,0];const Re=re.disableMultiStroke?1:2,Ye=re.preserveVertices;for(let Ge=0;Ge<Re;Ge++)Ge===0?ae.push({op:"move",data:[q[0],q[1]]}):ae.push({op:"move",data:[q[0]+(Ye?0:S(ge[0],re)),q[1]+(Ye?0:S(ge[0],re))]}),Se=Ye?[M,V]:[M+S(ge[Ge],re),V+S(ge[Ge],re)],ae.push({op:"bcurveTo",data:[ve+S(ge[Ge],re),D+S(ge[Ge],re),l+S(ge[Ge],re),d+S(ge[Ge],re),Se[0],Se[1]]});return ae}function le(ve){return[...ve]}function ce(ve,D){return Math.pow(ve[0]-D[0],2)+Math.pow(ve[1]-D[1],2)}function de(ve,D,l){const d=ce(D,l);if(d===0)return ce(ve,D);let M=((ve[0]-D[0])*(l[0]-D[0])+(ve[1]-D[1])*(l[1]-D[1]))/d;return M=Math.max(0,Math.min(1,M)),ce(ve,J(D,l,M))}function J(ve,D,l){return[ve[0]+(D[0]-ve[0])*l,ve[1]+(D[1]-ve[1])*l]}function ee(ve,D,l,d){const M=d||[];if(function(re,ae){const ge=re[ae+0],Se=re[ae+1],Re=re[ae+2],Ye=re[ae+3];let Ge=3*Se[0]-2*ge[0]-Ye[0];Ge*=Ge;let We=3*Se[1]-2*ge[1]-Ye[1];We*=We;let qe=3*Re[0]-2*Ye[0]-ge[0];qe*=qe;let lt=3*Re[1]-2*Ye[1]-ge[1];return lt*=lt,Ge<qe&&(Ge=qe),We<lt&&(We=lt),Ge+We}(ve,D)<l){const re=ve[D+0];M.length?(V=M[M.length-1],q=re,Math.sqrt(ce(V,q))>1&&M.push(re)):M.push(re),M.push(ve[D+3])}else{const re=ve[D+0],ae=ve[D+1],ge=ve[D+2],Se=ve[D+3],Re=J(re,ae,.5),Ye=J(ae,ge,.5),Ge=J(ge,Se,.5),We=J(Re,Ye,.5),qe=J(Ye,Ge,.5),lt=J(We,qe,.5);ee([re,Re,We,lt],0,l,M),ee([lt,qe,Ge,Se],0,l,M)}var V,q;return M}function he(ve,D,l,d,M){const V=M||[],q=ve[D],re=ve[l-1];let ae=0,ge=1;for(let Se=D+1;Se<l-1;++Se){const Re=de(ve[Se],q,re);Re>ae&&(ae=Re,ge=Se)}return Math.sqrt(ae)>d?(he(ve,D,ge+1,d,V),he(ve,ge,l,d,V)):(V.length||V.push(q),V.push(re)),V}function Pe(ve,D){return Math.pow(ve[0]-D[0],2)+Math.pow(ve[1]-D[1],2)}function He(ve,D,l){const d=Pe(D,l);if(d===0)return Pe(ve,D);let M=((ve[0]-D[0])*(l[0]-D[0])+(ve[1]-D[1])*(l[1]-D[1]))/d;return M=Math.max(0,Math.min(1,M)),Pe(ve,Ke(D,l,M))}function Ke(ve,D,l){return[ve[0]+(D[0]-ve[0])*l,ve[1]+(D[1]-ve[1])*l]}function Ae(ve,D,l,d){const M=d||[];if(function(re,ae){const ge=re[ae+0],Se=re[ae+1],Re=re[ae+2],Ye=re[ae+3];let Ge=3*Se[0]-2*ge[0]-Ye[0];Ge*=Ge;let We=3*Se[1]-2*ge[1]-Ye[1];We*=We;let qe=3*Re[0]-2*Ye[0]-ge[0];qe*=qe;let lt=3*Re[1]-2*Ye[1]-ge[1];return lt*=lt,Ge<qe&&(Ge=qe),We<lt&&(We=lt),Ge+We}(ve,D)<l){const re=ve[D+0];M.length?(V=M[M.length-1],q=re,Math.sqrt(Pe(V,q))>1&&M.push(re)):M.push(re),M.push(ve[D+3])}else{const re=ve[D+0],ae=ve[D+1],ge=ve[D+2],Se=ve[D+3],Re=Ke(re,ae,.5),Ye=Ke(ae,ge,.5),Ge=Ke(ge,Se,.5),We=Ke(Re,Ye,.5),qe=Ke(Ye,Ge,.5),lt=Ke(We,qe,.5);Ae([re,Re,We,lt],0,l,M),Ae([lt,qe,Ge,Se],0,l,M)}var V,q;return M}function Oe(ve,D){return Te(ve,0,ve.length,D)}function Te(ve,D,l,d,M){const V=M||[],q=ve[D],re=ve[l-1];let ae=0,ge=1;for(let Se=D+1;Se<l-1;++Se){const Re=He(ve[Se],q,re);Re>ae&&(ae=Re,ge=Se)}return Math.sqrt(ae)>d?(Te(ve,D,ge+1,d,V),Te(ve,ge,l,d,V)):(V.length||V.push(q),V.push(re)),V}function De(ve,D,l){const d=ye(me(ue(ve))),M=[];let V=[],q=[0,0],re=[];const ae=()=>{re.length>=4&&V.push(...function(Re,Ye=.15,Ge){const We=[],qe=(Re.length-1)/3;for(let lt=0;lt<qe;lt++)Ae(Re,3*lt,Ye,We);return Ge&&Ge>0?Te(We,0,We.length,Ge):We}(re,D)),re=[]},ge=()=>{ae(),V.length&&(M.push(V),V=[])};for(const{key:Re,data:Ye}of d)switch(Re){case"M":ge(),q=[Ye[0],Ye[1]],V.push(q);break;case"L":ae(),V.push([Ye[0],Ye[1]]);break;case"C":if(!re.length){const Ge=V.length?V[V.length-1]:q;re.push([Ge[0],Ge[1]])}re.push([Ye[0],Ye[1]]),re.push([Ye[2],Ye[3]]),re.push([Ye[4],Ye[5]]);break;case"Z":ae(),V.push([q[0],q[1]])}if(ge(),!l)return M;const Se=[];for(const Re of M){const Ye=Oe(Re,l);Ye.length&&Se.push(Ye)}return Se}const ke="none";class be{constructor(D){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=D||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,m.W)()}_o(D){return D?Object.assign({},this.defaultOptions,D):this.defaultOptions}_d(D,l,d){return{shape:D,sets:l||[],options:d||this.defaultOptions}}line(D,l,d,M,V){const q=this._o(V);return this._d("line",[U(D,l,d,M,q)],q)}rectangle(D,l,d,M,V){const q=this._o(V),re=[],ae=F(D,l,d,M,q);if(q.fill){const ge=[[D,l],[D+d,l],[D+d,l+M],[D,l+M]];q.fillStyle==="solid"?re.push(o([ge],q)):re.push(b([ge],q))}return q.stroke!==ke&&re.push(ae),this._d("rectangle",re,q)}ellipse(D,l,d,M,V){const q=this._o(V),re=[],ae=P(d,M,q),ge=w(D,l,q,ae);if(q.fill)if(q.fillStyle==="solid"){const Se=w(D,l,q,ae).opset;Se.type="fillPath",re.push(Se)}else re.push(b([ge.estimatedPoints],q));return q.stroke!==ke&&re.push(ge.opset),this._d("ellipse",re,q)}circle(D,l,d,M){const V=this.ellipse(D,l,d,d,M);return V.shape="circle",V}linearPath(D,l){const d=this._o(l);return this._d("linearPath",[L(D,!1,d)],d)}arc(D,l,d,M,V,q,re=!1,ae){const ge=this._o(ae),Se=[],Re=f(D,l,d,M,V,q,re,!0,ge);if(re&&ge.fill)if(ge.fillStyle==="solid"){const Ye=Object.assign({},ge);Ye.disableMultiStroke=!0;const Ge=f(D,l,d,M,V,q,!0,!1,Ye);Ge.type="fillPath",Se.push(Ge)}else Se.push(function(Ye,Ge,We,qe,lt,ft,ze){const we=Ye,Me=Ge;let $e=Math.abs(We/2),at=Math.abs(qe/2);$e+=S(.01*$e,ze),at+=S(.01*at,ze);let dt=lt,vt=ft;for(;dt<0;)dt+=2*Math.PI,vt+=2*Math.PI;vt-dt>2*Math.PI&&(dt=0,vt=2*Math.PI);const Tt=(vt-dt)/ze.curveStepCount,Et=[];for(let jt=dt;jt<=vt;jt+=Tt)Et.push([we+$e*Math.cos(jt),Me+at*Math.sin(jt)]);return Et.push([we+$e*Math.cos(vt),Me+at*Math.sin(vt)]),Et.push([we,Me]),b([Et],ze)}(D,l,d,M,V,q,ge));return ge.stroke!==ke&&Se.push(Re),this._d("arc",Se,ge)}curve(D,l){const d=this._o(l),M=[],V=I(D,d);if(d.fill&&d.fill!==ke&&D.length>=3)if(d.fillStyle==="solid"){const q=I(D,Object.assign(Object.assign({},d),{disableMultiStroke:!0,roughness:d.roughness?d.roughness+d.fillShapeRoughnessGain:0}));M.push({type:"fillPath",ops:this._mergedShape(q.ops)})}else{const q=function(ae,ge=0){const Se=ae.length;if(Se<3)throw new Error("A curve must have at least three points.");const Re=[];if(Se===3)Re.push(le(ae[0]),le(ae[1]),le(ae[2]),le(ae[2]));else{const Ye=[];Ye.push(ae[0],ae[0]);for(let qe=1;qe<ae.length;qe++)Ye.push(ae[qe]),qe===ae.length-1&&Ye.push(ae[qe]);const Ge=[],We=1-ge;Re.push(le(Ye[0]));for(let qe=1;qe+2<Ye.length;qe++){const lt=Ye[qe];Ge[0]=[lt[0],lt[1]],Ge[1]=[lt[0]+(We*Ye[qe+1][0]-We*Ye[qe-1][0])/6,lt[1]+(We*Ye[qe+1][1]-We*Ye[qe-1][1])/6],Ge[2]=[Ye[qe+1][0]+(We*Ye[qe][0]-We*Ye[qe+2][0])/6,Ye[qe+1][1]+(We*Ye[qe][1]-We*Ye[qe+2][1])/6],Ge[3]=[Ye[qe+1][0],Ye[qe+1][1]],Re.push(Ge[1],Ge[2],Ge[3])}}return Re}(D),re=function(ae,ge=.15,Se){const Re=[],Ye=(ae.length-1)/3;for(let Ge=0;Ge<Ye;Ge++)ee(ae,3*Ge,ge,Re);return Se&&Se>0?he(Re,0,Re.length,Se):Re}(q,10,(1+d.roughness)/2);M.push(b([re],d))}return d.stroke!==ke&&M.push(V),this._d("curve",M,d)}polygon(D,l){const d=this._o(l),M=[],V=L(D,!0,d);return d.fill&&(d.fillStyle==="solid"?M.push(o([D],d)):M.push(b([D],d))),d.stroke!==ke&&M.push(V),this._d("polygon",M,d)}path(D,l){const d=this._o(l),M=[];if(!D)return this._d("path",M,d);D=(D||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const V=d.fill&&d.fill!=="transparent"&&d.fill!==ke,q=d.stroke!==ke,re=!!(d.simplification&&d.simplification<1),ae=De(D,1,re?4-4*(d.simplification||1):(1+d.roughness)/2),ge=r(D,d);if(V)if(d.fillStyle==="solid")if(ae.length===1){const Se=r(D,Object.assign(Object.assign({},d),{disableMultiStroke:!0,roughness:d.roughness?d.roughness+d.fillShapeRoughnessGain:0}));M.push({type:"fillPath",ops:this._mergedShape(Se.ops)})}else M.push(o(ae,d));else M.push(b(ae,d));return q&&(re?ae.forEach(Se=>{M.push(L(Se,!1,d))}):M.push(ge)),this._d("path",M,d)}opsToPath(D,l){let d="";for(const M of D.ops){const V=typeof l=="number"&&l>=0?M.data.map(q=>+q.toFixed(l)):M.data;switch(M.op){case"move":d+=`M${V[0]} ${V[1]} `;break;case"bcurveTo":d+=`C${V[0]} ${V[1]}, ${V[2]} ${V[3]}, ${V[4]} ${V[5]} `;break;case"lineTo":d+=`L${V[0]} ${V[1]} `}}return d.trim()}toPaths(D){const l=D.sets||[],d=D.options||this.defaultOptions,M=[];for(const V of l){let q=null;switch(V.type){case"path":q={d:this.opsToPath(V),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:ke};break;case"fillPath":q={d:this.opsToPath(V),stroke:ke,strokeWidth:0,fill:d.fill||ke};break;case"fillSketch":q=this.fillSketch(V,d)}q&&M.push(q)}return M}fillSketch(D,l){let d=l.fillWeight;return d<0&&(d=l.strokeWidth/2),{d:this.opsToPath(D),stroke:l.fill||ke,strokeWidth:d,fill:ke}}_mergedShape(D){return D.filter((l,d)=>d===0||l.op!=="move")}}},8152:function(Ze,te,t){function e(){return Math.floor(Math.random()*2147483648)}t.d(te,{W:function(){return e},k:function(){return _}});class _{constructor(p){this.seed=p}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},9845:function(Ze,te,t){t.d(te,{Z:function(){return y}});var e=t(8128);class _{constructor(E,a){this.canvas=E,this.ctx=this.canvas.getContext("2d"),this.gen=new e.V(a)}draw(E){const a=E.sets||[],u=E.options||this.getDefaultOptions(),N=this.ctx,H=E.options.fixedDecimalPlaceDigits;for(const x of a)switch(x.type){case"path":N.save(),N.strokeStyle=u.stroke==="none"?"transparent":u.stroke,N.lineWidth=u.strokeWidth,u.strokeLineDash&&N.setLineDash(u.strokeLineDash),u.strokeLineDashOffset&&(N.lineDashOffset=u.strokeLineDashOffset),this._drawToContext(N,x,H),N.restore();break;case"fillPath":{N.save(),N.fillStyle=u.fill||"";const m=E.shape==="curve"||E.shape==="polygon"||E.shape==="path"?"evenodd":"nonzero";this._drawToContext(N,x,H,m),N.restore();break}case"fillSketch":this.fillSketch(N,x,u)}}fillSketch(E,a,u){let N=u.fillWeight;N<0&&(N=u.strokeWidth/2),E.save(),u.fillLineDash&&E.setLineDash(u.fillLineDash),u.fillLineDashOffset&&(E.lineDashOffset=u.fillLineDashOffset),E.strokeStyle=u.fill||"",E.lineWidth=N,this._drawToContext(E,a,u.fixedDecimalPlaceDigits),E.restore()}_drawToContext(E,a,u,N="nonzero"){E.beginPath();for(const H of a.ops){const x=typeof u=="number"&&u>=0?H.data.map(m=>+m.toFixed(u)):H.data;switch(H.op){case"move":E.moveTo(x[0],x[1]);break;case"bcurveTo":E.bezierCurveTo(x[0],x[1],x[2],x[3],x[4],x[5]);break;case"lineTo":E.lineTo(x[0],x[1])}}a.type==="fillPath"?E.fill(N):E.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(E,a,u,N,H){const x=this.gen.line(E,a,u,N,H);return this.draw(x),x}rectangle(E,a,u,N,H){const x=this.gen.rectangle(E,a,u,N,H);return this.draw(x),x}ellipse(E,a,u,N,H){const x=this.gen.ellipse(E,a,u,N,H);return this.draw(x),x}circle(E,a,u,N){const H=this.gen.circle(E,a,u,N);return this.draw(H),H}linearPath(E,a){const u=this.gen.linearPath(E,a);return this.draw(u),u}polygon(E,a){const u=this.gen.polygon(E,a);return this.draw(u),u}arc(E,a,u,N,H,x,m=!1,k){const Q=this.gen.arc(E,a,u,N,H,x,m,k);return this.draw(Q),Q}curve(E,a){const u=this.gen.curve(E,a);return this.draw(u),u}path(E,a){const u=this.gen.path(E,a);return this.draw(u),u}}const g="http://www.w3.org/2000/svg";class p{constructor(E,a){this.svg=E,this.gen=new e.V(a)}draw(E){const a=E.sets||[],u=E.options||this.getDefaultOptions(),N=this.svg.ownerDocument||window.document,H=N.createElementNS(g,"g"),x=E.options.fixedDecimalPlaceDigits;for(const m of a){let k=null;switch(m.type){case"path":k=N.createElementNS(g,"path"),k.setAttribute("d",this.opsToPath(m,x)),k.setAttribute("stroke",u.stroke),k.setAttribute("stroke-width",u.strokeWidth+""),k.setAttribute("fill","none"),u.strokeLineDash&&k.setAttribute("stroke-dasharray",u.strokeLineDash.join(" ").trim()),u.strokeLineDashOffset&&k.setAttribute("stroke-dashoffset",`${u.strokeLineDashOffset}`);break;case"fillPath":k=N.createElementNS(g,"path"),k.setAttribute("d",this.opsToPath(m,x)),k.setAttribute("stroke","none"),k.setAttribute("stroke-width","0"),k.setAttribute("fill",u.fill||""),E.shape!=="curve"&&E.shape!=="polygon"||k.setAttribute("fill-rule","evenodd");break;case"fillSketch":k=this.fillSketch(N,m,u)}k&&H.appendChild(k)}return H}fillSketch(E,a,u){let N=u.fillWeight;N<0&&(N=u.strokeWidth/2);const H=E.createElementNS(g,"path");return H.setAttribute("d",this.opsToPath(a,u.fixedDecimalPlaceDigits)),H.setAttribute("stroke",u.fill||""),H.setAttribute("stroke-width",N+""),H.setAttribute("fill","none"),u.fillLineDash&&H.setAttribute("stroke-dasharray",u.fillLineDash.join(" ").trim()),u.fillLineDashOffset&&H.setAttribute("stroke-dashoffset",`${u.fillLineDashOffset}`),H}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(E,a){return this.gen.opsToPath(E,a)}line(E,a,u,N,H){const x=this.gen.line(E,a,u,N,H);return this.draw(x)}rectangle(E,a,u,N,H){const x=this.gen.rectangle(E,a,u,N,H);return this.draw(x)}ellipse(E,a,u,N,H){const x=this.gen.ellipse(E,a,u,N,H);return this.draw(x)}circle(E,a,u,N){const H=this.gen.circle(E,a,u,N);return this.draw(H)}linearPath(E,a){const u=this.gen.linearPath(E,a);return this.draw(u)}polygon(E,a){const u=this.gen.polygon(E,a);return this.draw(u)}arc(E,a,u,N,H,x,m=!1,k){const Q=this.gen.arc(E,a,u,N,H,x,m,k);return this.draw(Q)}curve(E,a){const u=this.gen.curve(E,a);return this.draw(u)}path(E,a){const u=this.gen.path(E,a);return this.draw(u)}}var y={canvas:(T,E)=>new _(T,E),svg:(T,E)=>new p(T,E),generator:T=>new e.V(T),newSeed:()=>e.V.newSeed()}},5714:function(Ze){Ze.exports=function(te,t,e){var _=[],g=te.length;if(g===0)return _;var p=t<0?Math.max(0,t+g):t||0;for(e!==void 0&&(g=e<0?e+g:e);g-- >p;)_[g-p]=te[g];return _}},2173:function(Ze,te,t){var e=t(9787),_=typeof Object.is=="function"?Object.is:function(u,N){return u===N&&(u!==0||1/u==1/N)||u!=u&&N!=N},g=e.useState,p=e.useEffect,y=e.useLayoutEffect,T=e.useDebugValue;function E(u){var N=u.getSnapshot;u=u.value;try{var H=N();return!_(u,H)}catch{return!0}}var a=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(u,N){return N()}:function(u,N){var H=N(),x=g({inst:{value:H,getSnapshot:N}}),m=x[0].inst,k=x[1];return y(function(){m.value=H,m.getSnapshot=N,E(m)&&k({inst:m})},[u,H,N]),p(function(){return E(m)&&k({inst:m}),u(function(){E(m)&&k({inst:m})})},[u]),T(H),H};te.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:a},5917:function(Ze,te,t){var e=t(9787),_=t(1374),g=typeof Object.is=="function"?Object.is:function(u,N){return u===N&&(u!==0||1/u==1/N)||u!=u&&N!=N},p=_.useSyncExternalStore,y=e.useRef,T=e.useEffect,E=e.useMemo,a=e.useDebugValue;te.useSyncExternalStoreWithSelector=function(u,N,H,x,m){var k=y(null);if(k.current===null){var Q={hasValue:!1,value:null};k.current=Q}else Q=k.current;k=E(function(){function me(U){if(!G){if(G=!0,ye=U,U=x(U),m!==void 0&&Q.hasValue){var L=Q.value;if(m(L,U))return fe=L}return fe=U}if(L=fe,g(ye,U))return L;var F=x(U);return m!==void 0&&m(L,F)?L:(ye=U,fe=F)}var ye,fe,G=!1,$=H===void 0?null:H;return[function(){return me(N())},$===null?void 0:function(){return me($())}]},[N,H,x,m]);var ue=p(u,k[0],k[1]);return T(function(){Q.hasValue=!0,Q.value=ue},[ue]),a(ue),ue}},1374:function(Ze,te,t){Ze.exports=t(2173)},5668:function(Ze,te,t){Ze.exports=t(5917)},940:function(Ze,te,t){var e={"./ar-SA.json":[7822,2091],"./az-AZ.json":[9753,4568],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[2264,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kaa.json":[7941,663],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./km-KH.json":[5845,6566],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[6773,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[125,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[976,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[3458,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function _(g){if(!t.o(e,g))return Promise.resolve().then(function(){var T=new Error("Cannot find module '"+g+"'");throw T.code="MODULE_NOT_FOUND",T});var p=e[g],y=p[0];return Promise.all(p.slice(1).map(t.e)).then(function(){return t.t(y,19)})}_.keys=function(){return Object.keys(e)},_.id=940,Ze.exports=_},9713:function(Ze){Ze.exports=function(te,t,e){return t in te?Object.defineProperty(te,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):te[t]=e,te}},6479:function(Ze,te,t){var e=t(7316);Ze.exports=function(_,g){if(_==null)return{};var p,y,T=e(_,g);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(_);for(y=0;y<E.length;y++)p=E[y],g.indexOf(p)>=0||Object.prototype.propertyIsEnumerable.call(_,p)&&(T[p]=_[p])}return T}},7316:function(Ze){Ze.exports=function(te,t){if(te==null)return{};var e,_,g={},p=Object.keys(te);for(_=0;_<p.length;_++)e=p[_],t.indexOf(e)>=0||(g[e]=te[e]);return g}},4295:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g),y=t(1667),T=t.n(y),E=new URL(t(3940),t.b),a=new URL(t(3147),t.b),u=new URL(t(8303),t.b),N=new URL(t(1273),t.b),H=new URL(t(9577),t.b),x=new URL(t(9729),t.b),m=p()(_()),k=T()(E),Q=T()(a),ue=T()(u),me=T()(N),ye=T()(H),fe=T()(x);m.push([Ze.id,'@font-face{font-family:"Virgil";src:url('+k+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+Q+');font-display:swap}@font-face{font-family:"Assistant";src:url('+ue+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+me+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+ye+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+fe+");font-display:swap;font-weight:700}",""]),te.Z=m},6086:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px var(--color-surface-lowest)}.zoom-button,.undo-redo-buttons button{border-radius:0 !important;background-color:var(--color-surface-low) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),te.Z=p},3729:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:.75rem;font-weight:800;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),te.Z=p},3137:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g),y=t(1667),T=t.n(y),E=new URL(t(7984),t.b),a=new URL(t(1639),t.b),u=p()(_()),N=T()(E),H=T()(a);u.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+N+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+H+");--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-on-primary-container))}",""]),te.Z=u},4241:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),te.Z=p},6029:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),te.Z=p},4269:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g),y=t(1667),T=t.n(y),E=new URL(t(9669),t.b),a=p()(_()),u=T()(E);a.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .focus-visible-none:focus-visible{outline:none !important}.excalidraw .color-picker__heading{padding:0 .5rem;font-size:.75rem;text-align:left}.excalidraw .color-picker-container{display:grid;grid-template-columns:1fr 20px 1.625rem;padding:.25rem 0px;align-items:center}.excalidraw--mobile.excalidraw .color-picker-container{max-width:175px}.excalidraw .color-picker__top-picks{display:flex;justify-content:space-between}.excalidraw .color-picker__button{--radius: 0.25rem;padding:0;margin:0;width:1.35rem;height:1.35rem;border:1px solid var(--color-gray-30);border-radius:var(--radius);-webkit-filter:var(--theme-filter);filter:var(--theme-filter);background-color:var(--swatch-color);background-position:left center;position:relative;font-family:inherit;box-sizing:border-box}.excalidraw .color-picker__button:hover::after{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-gray-30);border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button.active .color-picker__button-outline{position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-primary-darkest);z-index:1;border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button:focus-visible{outline:none}.excalidraw .color-picker__button:focus-visible::after{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:3px solid var(--focus-highlight-color);border-radius:calc(var(--radius) + 1px)}.excalidraw .color-picker__button:focus-visible.active .color-picker__button-outline{display:none}.excalidraw .color-picker__button--large{--radius: 0.5rem;width:1.875rem;height:1.875rem}.excalidraw .color-picker__button.is-transparent{background-image:url('+u+")}.excalidraw .color-picker__button--no-focus-visible{border:0}.excalidraw .color-picker__button--no-focus-visible::after{display:none}.excalidraw .color-picker__button--no-focus-visible:focus-visible{outline:none !important}.excalidraw .color-picker__button.active-color{border-radius:calc(var(--radius) + 1px);width:1.625rem;height:1.625rem}.excalidraw .color-picker__button__hotkey-label{position:absolute;right:4px;bottom:4px;-webkit-filter:none;filter:none;font-size:11px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content{display:flex;flex-direction:column;gap:.75rem;outline:none}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, 1.875rem);grid-gap:.25rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+u+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-label{display:grid;grid-template-columns:auto 1fr auto auto;gap:8px;align-items:center;border:1px solid var(--default-border-color);border-radius:8px;padding:0 12px;margin:8px;box-sizing:border-box}.excalidraw .color-picker__input-label:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-hash{padding:0 .25rem}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;font-family:inherit;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),te.Z=a},9393:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),te.Z=p},6578:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;font-family:inherit;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:""}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),te.Z=p},9482:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}.excalidraw .Dialog__close{color:var(--color-gray-40);margin:0;position:absolute;top:.75rem;right:.5rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Dialog__close:hover{color:var(--color-gray-60)}.excalidraw .Dialog__close:active{color:var(--color-gray-40)}.excalidraw .Dialog__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Dialog__close{top:1.25rem;right:1.25rem}",""]),te.Z=p},6148:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),te.Z=p},5744:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw .ExcalidrawLogo{--logo-icon--xs: 2rem;--logo-text--xs: 1.5rem;--logo-icon--small: 2.5rem;--logo-text--small: 1.75rem;--logo-icon--normal: 3rem;--logo-text--normal: 2.2rem;--logo-icon--large: 90px;--logo-text--large: 65px;display:flex;align-items:center}.excalidraw .ExcalidrawLogo svg{flex:0 0 auto}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-icon{width:auto;color:var(--color-logo-icon)}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-text{margin-left:.75rem;width:auto;color:var(--color-logo-text)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-icon{height:var(--logo-icon--xs)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-text{height:var(--logo-text--xs)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-icon{height:var(--logo-icon--small)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-text{height:var(--logo-text--small)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-icon{height:var(--logo-icon--normal)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-text{height:var(--logo-text--normal)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-icon{height:var(--logo-icon--large)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-text{height:var(--logo-text--large)}",""]),te.Z=p},7955:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g),y=t(1667),T=t.n(y),E=new URL(t(9669),t.b),a=p()(_()),u=T()(E);a.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+u+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),te.Z=a},7522:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw .excalidraw-eye-dropper-container,.excalidraw .excalidraw-eye-dropper-backdrop{position:absolute;width:100%;height:100%;z-index:var(--zIndex-eyeDropperBackdrop);touch-action:none}.excalidraw .excalidraw-eye-dropper-container{pointer-events:none}.excalidraw .excalidraw-eye-dropper-backdrop{pointer-events:all}.excalidraw .excalidraw-eye-dropper-preview{pointer-events:none;width:3rem;height:3rem;position:fixed;z-index:var(--zIndex-eyeDropperPreview);border-radius:1rem;border:1px solid var(--default-border-color);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .excalidraw-eye-dropper-trigger{width:1.25rem;height:1.25rem;cursor:pointer;padding:4px;margin-right:-4px;margin-left:-2px;border-radius:.5rem;color:var(--icon-fill-color)}.excalidraw .excalidraw-eye-dropper-trigger:hover{background:var(--button-hover-bg)}.excalidraw .excalidraw-eye-dropper-trigger.selected{color:var(--color-primary);background:var(--color-primary-light)}",""]),te.Z=p},8960:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExcButton{--text-color: transparent;--border-color: transparent;--back-color: transparent;color:var(--text-color);background-color:var(--back-color);border-color:var(--border-color);display:flex;justify-content:center;align-items:center;flex-shrink:0;flex-wrap:nowrap;border-radius:.5rem;border-width:1px;border-style:solid;font-family:"Assistant";-webkit-user-select:none;user-select:none;transition:all 150ms ease-out}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled{--text-color: var(--color-surface-lowest);--back-color: var(--color-primary)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:hover{--back-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:active{--back-color: var(--color-brand-active)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon{--text-color: var(--color-primary);--border-color: var(--color-border-outline);--back-color: transparent}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:hover{--text-color: var(--color-brand-hover);--border-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:active{--text-color: var(--color-brand-active);--border-color: var(--color-brand-active)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled{--text-color: var(--color-danger-text);--back-color: var(--color-danger-dark)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:hover{--back-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:active{--back-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon{--text-color: var(--color-danger);--border-color: var(--color-danger);--back-color: transparent}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:hover{--text-color: var(--color-danger-darkest);--border-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:active{--text-color: var(--color-danger-darker);--border-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled{--text-color: var(--island-bg-color);--back-color: var(--color-gray-50)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:hover{--back-color: var(--color-gray-60)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:active{--back-color: var(--color-gray-80)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon{--text-color: var(--color-muted-background);--border-color: var(--color-muted);--back-color: var(--island-bg-color)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:hover{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:active{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled{--text-color: black;--back-color: var(--color-warning-dark)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:hover{--back-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:active{--back-color: var(--color-warning-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon{--text-color: var(--color-warning-dark);--border-color: var(--color-warning-dark);--back-color: var(--input-bg-color)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:hover{--text-color: var(--color-warning-darker);--border-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:active{--text-color: var(--color-warning-darkest);--border-color: var(--color-warning-darkest)}.excalidraw .ExcButton--size-large{font-weight:600;font-size:.875rem;min-height:3rem;padding:.5rem 1.5rem;gap:.75rem;letter-spacing:.4px}.excalidraw .ExcButton--size-medium{font-weight:600;font-size:.75rem;min-height:2.5rem;padding:.5rem 1rem;gap:.5rem;letter-spacing:normal}.excalidraw .ExcButton--variant-icon{padding:.5rem .75rem;width:3rem}.excalidraw .ExcButton--fullWidth{width:100%}.excalidraw .ExcButton__icon{width:1.25rem;height:1.25rem}',""]),te.Z=p},3195:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),te.Z=p},2978:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{--background: var(--color-surface-mid);display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;background-color:var(--background);padding:.625rem 1rem;border:1px solid var(--background);border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw.theme--dark.excalidraw .HelpDialog__btn{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .HelpDialog__btn:hover{--background: #363541}.excalidraw .HelpDialog__btn:hover{--background: var(--color-surface-high);text-decoration:none}.excalidraw .HelpDialog__btn:active{border-color:var(--color-primary)}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),te.Z=p},1587:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),te.Z=p},9478:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),te.Z=p},9706:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g),y=t(1667),T=t.n(y),E=new URL(t(9669),t.b),a=p()(_()),u=T()(E);a.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--ImageExportModal-preview-border: #d6d6d6}.excalidraw.theme--dark{--ImageExportModal-preview-border: #5c5c5c}.excalidraw .ImageExportModal{display:flex;flex-direction:row;justify-content:space-between}.excalidraw .ImageExportModal h3{font-family:"Assistant";font-style:normal;font-weight:700;font-size:1.313rem;line-height:130%;padding:0;margin:0}.excalidraw--mobile.excalidraw .ImageExportModal h3{display:none}.excalidraw .ImageExportModal>h3{display:none}.excalidraw--mobile.excalidraw .ImageExportModal>h3{display:block}.excalidraw--mobile.excalidraw .ImageExportModal{flex-direction:column;height:calc(100vh - 5rem)}.excalidraw .ImageExportModal__preview{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;height:360px;width:55%;margin-right:1.5rem}.excalidraw--mobile.excalidraw .ImageExportModal__preview{max-width:unset;margin-right:unset;width:100%;height:unset;flex-grow:1}.excalidraw .ImageExportModal__preview__filename>input{margin-top:1rem}.excalidraw .ImageExportModal__preview__canvas{box-sizing:border-box;width:100%;height:100%;display:flex;flex-grow:1;justify-content:center;align-items:center;background:url('+u+') left center;border:1px solid var(--ImageExportModal-preview-border);border-radius:12px;overflow:hidden;padding:1rem}.excalidraw .ImageExportModal__preview__canvas>canvas{max-width:calc(100% - 2rem);max-height:calc(100% - 2rem);-webkit-filter:none !important;filter:none !important}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas>canvas{max-height:100%}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas{margin-top:24px;max-width:unset}.excalidraw .ImageExportModal__settings{display:flex;flex-direction:column;flex-wrap:wrap;gap:18px}.excalidraw--mobile.excalidraw .ImageExportModal__settings{margin-left:unset;margin-top:1rem;flex-direction:row;gap:6px 34px;align-content:flex-start}.excalidraw .ImageExportModal__settings__setting{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.excalidraw--mobile.excalidraw .ImageExportModal__settings__setting{flex-direction:column;align-items:start;justify-content:unset;height:52px}.excalidraw .ImageExportModal__settings__setting__label{display:flex;flex-direction:row;align-items:center;font-family:"Assistant";font-weight:600;font-size:1rem;line-height:150%}.excalidraw .ImageExportModal__settings__setting__label svg{width:20px;height:20px;margin-left:10px}.excalidraw .ImageExportModal__settings__setting__content{display:flex;height:100%;align-items:center}.excalidraw .ImageExportModal__settings__buttons{flex-grow:1;flex-wrap:wrap;display:flex;flex-direction:row;gap:11px;align-items:flex-end;align-content:flex-end}.excalidraw--mobile.excalidraw .ImageExportModal__settings__buttons{padding-top:32px;flex-basis:100%;justify-content:center}',""]),te.Z=a},7369:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),te.Z=p},7930:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw .LaserToolOverlay{pointer-events:none;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:2}.excalidraw .LaserToolOverlay .LaserToolOverlayCanvas{image-rendering:auto;overflow:visible;position:absolute;top:0;left:0}",""]),te.Z=p},1434:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{padding:10px;position:absolute;bottom:0;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s;font-family:var(--ui-font);font-size:.75rem;font-weight:500;line-height:1;border-radius:var(--border-radius-lg);border:1px solid var(--default-border-color);background-color:var(--island-bg-color);color:var(--text-primary-color)}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:1rem}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:1rem}.excalidraw .layer-ui__wrapper .disable-zen-mode:hover{background-color:var(--button-hover-bg)}.excalidraw .layer-ui__wrapper .disable-zen-mode:active{border-color:var(--color-primary)}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s;pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left>*,.excalidraw .layer-ui__wrapper .footer-center>*,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),te.Z=p},8923:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,'.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-control-buttons{display:flex;align-items:center;justify-content:center;gap:.625rem;position:relative}.excalidraw .library-menu-control-buttons--at-bottom::before{content:"";width:calc(100% - 1.5rem);height:1px;position:absolute;top:-1px;background:var(--sidebar-border-color)}.excalidraw .library-menu-browse-button{flex:1;height:var(--lg-button-size);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-brand-hover)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-brand-active)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw.excalidraw--mobile .library-menu-browse-button{height:var(--default-button-size)}.excalidraw .layer-ui__library .dropdown-menu{width:auto;top:initial;right:0;left:initial;bottom:100%;margin-bottom:.625rem}.excalidraw .layer-ui__library .dropdown-menu .dropdown-menu-container{width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}.excalidraw .layer-ui__library .library-menu-dropdown-container{position:relative}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading{padding:0;position:absolute;top:1rem;right:.75rem;z-index:1}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading .dropdown-menu{top:100%}',""]),te.Z=p},6440:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{width:100%;display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;position:relative}.excalidraw .library-menu-items-container>div{padding-left:.75rem;padding-right:.75rem}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) 0;flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem;width:100%;padding-right:4rem;box-sizing:border-box}.excalidraw .library-menu-items-container__header--excal{margin-top:2rem}.excalidraw .library-menu-items-container__grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}.excalidraw .library-menu-items-private-library-container{min-height:3.75rem;width:100%}",""]),te.Z=p},5644:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit svg{pointer-events:none}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit--skeleton{opacity:.5;background:linear-gradient(-45deg, var(--color-gray-10), var(--color-gray-20), var(--color-gray-10));background-size:200% 200%;-webkit-animation:library-unit__skeleton-opacity-animation .2s linear;animation:library-unit__skeleton-opacity-animation .2s linear}.excalidraw.theme--dark .library-unit--skeleton{background-image:linear-gradient(-45deg, var(--color-gray-100), var(--color-gray-80), var(--color-gray-100))}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@-webkit-keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}@keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}",""]),te.Z=p},5830:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g),y=t(1667),T=t.n(y),E=new URL(t(9669),t.b),a=p()(_()),u=T()(E);a.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dialog-mermaid-title{margin-bottom:5px;margin-top:2px}.excalidraw .dialog-mermaid-desc{font-size:15px;font-style:italic;font-weight:500}.excalidraw .dialog-mermaid .Modal__content .Island{box-shadow:none}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid{padding:1.25rem}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:100%;max-height:750px}@media screen and (max-width: 860px){.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:auto;max-height:100%}}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island{height:100%;display:flex;flex-direction:column;flex:1 1 auto}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island .Dialog__content{display:flex;flex:1 1 auto}.excalidraw .dialog-mermaid-body{width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto;height:100%;-webkit-column-gap:4rem;column-gap:4rem}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-body{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels{display:grid;width:100%;grid-template-columns:1fr 1fr;justify-content:space-between;gap:4rem;grid-row:1;grid-column:1/3}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels label{font-size:14px;font-style:normal;font-weight:600;margin-bottom:4px;margin-left:4px}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels label{margin-top:4px}}.excalidraw .dialog-mermaid-panels-text{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels-text textarea{width:20rem;height:100%;resize:none;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color);white-space:pre-wrap;padding:.85rem;box-sizing:border-box;width:100%;font-family:monospace}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-text textarea{width:auto;height:10rem}}.excalidraw .dialog-mermaid-panels-preview-wrapper{display:flex;align-items:center;justify-content:center;padding:.85rem;box-sizing:border-box;width:100%;height:200px;flex-grow:1;position:relative;background:url("+u+') left center;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-preview-wrapper{height:400px;width:auto}}.excalidraw .dialog-mermaid-panels-preview-wrapper canvas{max-width:100%;max-height:100%}.excalidraw .dialog-mermaid-panels-preview-canvas-container{display:flex;width:100%;height:100%;align-items:center;justify-content:center;flex-grow:1}.excalidraw .dialog-mermaid-panels-preview{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels .mermaid-error{color:red;font-weight:800;font-size:30px;word-break:break-word;overflow:auto;max-height:100%;height:100%;width:100%;text-align:center;position:absolute;z-index:10}.excalidraw .dialog-mermaid-panels .mermaid-error p{font-weight:500;font-family:Cascadia;text-align:left;white-space:pre-wrap;font-size:.875rem;padding:0 10px}.excalidraw .dialog-mermaid-buttons{grid-column:2}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{font-family:"Assistant";font-weight:600;height:2.5rem;margin-top:1em;margin-bottom:.3em;width:7.5rem;font-size:12px;color:#fff;background-color:var(--color-primary)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:hover{background-color:var(--color-primary-darker)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:active{background-color:var(--color-primary-darkest)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{width:100%}}.excalidraw.theme--dark.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{color:var(--color-gray-100)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert span{padding-left:.5rem;display:flex}',""]),te.Z=a},6843:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:var(--zIndex-modal)}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2);-webkit-animation:Modal__background__fade-in .125s linear forwards;animation:Modal__background__fade-in .125s linear forwards}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}@-webkit-keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Modal{padding:0}.excalidraw .Dialog--fullscreen .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0;max-width:100%;border:0;border-radius:0}",""]),te.Z=p},9439:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .OverwriteConfirm{display:flex;flex-direction:column;align-items:center;gap:.75rem;isolation:isolate}.excalidraw .OverwriteConfirm h3{margin:0;font-weight:700;font-size:1.3125rem;line-height:130%;align-self:flex-start;color:var(--text-primary-color)}.excalidraw .OverwriteConfirm__Description{box-sizing:border-box;display:flex;flex-direction:row;align-items:center;width:100%;gap:1rem;padding:2.5rem;background:var(--color-danger-background);border-radius:.5rem;font-family:"Assistant";font-style:normal;font-weight:400;font-size:1rem;line-height:150%;color:var(--color-danger-color)}.excalidraw--mobile.excalidraw .OverwriteConfirm__Description{flex-direction:column;text-align:center}.excalidraw .OverwriteConfirm__Description__spacer{flex-grow:1}.excalidraw .OverwriteConfirm__Description__icon{box-sizing:border-box;display:flex;align-items:center;justify-content:center;border-radius:2.5rem;background:var(--color-danger-icon-background);width:3.5rem;height:3.5rem;padding:.75rem}.excalidraw .OverwriteConfirm__Description__icon svg{color:var(--color-danger-icon-color);width:1.5rem;height:1.5rem}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning{background:var(--color-warning-background);color:var(--color-warning-color)}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon{background:var(--color-warning-icon-background);flex:0 0 auto}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon svg{color:var(--color-warning-icon-color)}.excalidraw .OverwriteConfirm__Actions{display:flex;flex-direction:row;align-items:stretch;justify-items:stretch;justify-content:center;gap:1.5rem}.excalidraw--mobile.excalidraw .OverwriteConfirm__Actions{flex-direction:column}.excalidraw .OverwriteConfirm__Actions__Action{display:flex;flex-direction:column;align-items:center;padding:1.5rem;gap:.75rem;flex-basis:50%;flex-grow:0}.excalidraw .OverwriteConfirm__Actions__Action__content{height:100%;font-size:.875rem;text-align:center}.excalidraw .OverwriteConfirm__Actions__Action h4{font-weight:700;font-size:1.125rem;line-height:130%;margin:0;color:var(--text-primary-color)}',""]),te.Z=p},8461:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),te.Z=p},9935:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),te.Z=p},532:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),te.Z=p},7589:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),te.Z=p},6217:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--RadioGroup-background: var(--island-bg-color);--RadioGroup-border: var(--color-surface-high);--RadioGroup-choice-color-off: var(--color-primary);--RadioGroup-choice-color-off-hover: var(--color-brand-hover);--RadioGroup-choice-background-off: var(--island-bg-color);--RadioGroup-choice-background-off-active: var(--color-surface-high);--RadioGroup-choice-color-on: var(--color-surface-lowest);--RadioGroup-choice-background-on: var(--color-primary);--RadioGroup-choice-background-on-hover: var(--color-brand-hover);--RadioGroup-choice-background-on-active: var(--color-brand-active)}.excalidraw .RadioGroup{box-sizing:border-box;display:flex;flex-direction:row;align-items:flex-start;padding:3px;border-radius:10px;background:var(--RadioGroup-background);border:1px solid var(--RadioGroup-border)}.excalidraw .RadioGroup__choice{position:relative;display:flex;align-items:center;justify-content:center;width:32px;height:24px;color:var(--RadioGroup-choice-color-off);background:var(--RadioGroup-choice-background-off);border-radius:8px;font-family:"Assistant";font-style:normal;font-weight:600;font-size:.75rem;line-height:100%;-webkit-user-select:none;user-select:none;letter-spacing:.4px;transition:all 75ms ease-out}.excalidraw .RadioGroup__choice:hover{color:var(--RadioGroup-choice-color-off-hover)}.excalidraw .RadioGroup__choice:active{background:var(--RadioGroup-choice-background-off-active)}.excalidraw .RadioGroup__choice.active{color:var(--RadioGroup-choice-color-on);background:var(--RadioGroup-choice-background-on)}.excalidraw .RadioGroup__choice.active:hover{background:var(--RadioGroup-choice-background-on-hover)}.excalidraw .RadioGroup__choice.active:active{background:var(--RadioGroup-choice-background-on-active)}.excalidraw .RadioGroup__choice input{z-index:1;position:absolute;width:100%;height:100%;margin:0;padding:0;border-radius:8px;-webkit-appearance:none;appearance:none;cursor:pointer}',""]),te.Z=p},8208:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;padding:0;box-sizing:border-box;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);pointer-events:var(--ui-pointerEvents);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color)}:root[dir=rtl] .excalidraw .sidebar{left:0;right:auto}.excalidraw .sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem .75rem;position:relative}.excalidraw .sidebar__header::after{content:"";width:calc(100% - 1.5rem);height:1px;background:var(--sidebar-border-color);position:absolute;bottom:-1px}.excalidraw .sidebar__header__buttons{gap:0;display:flex;align-items:center;margin-left:auto}.excalidraw .sidebar__header__buttons button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));--button-bg: transparent;border:0 !important;width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .sidebar__header__buttons button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar__header__buttons button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar__header__buttons button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar__header__buttons button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar__header__buttons button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .sidebar__header__buttons button:hover{background:var(--button-hover-bg, var(--island-bg-color))}.excalidraw .sidebar__header__buttons .sidebar__dock.selected svg{stroke:var(--color-primary);fill:var(--color-primary)}.excalidraw .sidebar-tabs-root{display:flex;flex-direction:column;flex:1 1 auto;padding:1rem 0}.excalidraw .sidebar-tabs-root [role=tabpanel]{flex:1;outline:none;flex:1 1 auto;display:flex;flex-direction:column;outline:none}.excalidraw .sidebar-tabs-root [role=tabpanel][data-state=inactive]{display:none !important}.excalidraw .sidebar-tabs-root [role=tablist]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit, minmax(0, 1fr))}.excalidraw .sidebar-tabs-root>.sidebar__header{padding-top:0;padding-bottom:1rem}.excalidraw .sidebar-tab-trigger{--button-width: auto;--button-bg: transparent;--button-hover-bg: transparent;--button-active-bg: var(--color-primary);--button-hover-color: var(--color-primary);--button-hover-border: var(--color-primary)}.excalidraw .sidebar-tab-trigger[data-state=active]{--button-bg: var(--color-primary);--button-hover-bg: var(--color-primary-darker);--button-hover-color: var(--color-icon-white);--button-border: var(--color-primary);color:var(--color-icon-white)}.excalidraw .default-sidebar{display:flex;flex-direction:column}.excalidraw .default-sidebar .sidebar-triggers{display:flex;gap:0;padding:2px;margin-top:-3px;margin-bottom:-3px;border:1px solid var(--sidebar-border-color);background:var(--default-bg-color);border-radius:.625rem}.excalidraw .default-sidebar .sidebar-triggers .sidebar-tab-trigger{height:var(--lg-button-size);width:var(--lg-button-size);border:none}',""]),te.Z=p},7051:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar-trigger{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.excalidraw .sidebar-trigger svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar-trigger:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar-trigger:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar-trigger.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .sidebar-trigger svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .default-sidebar-trigger .sidebar-trigger__label{display:block}.excalidraw.excalidraw--mobile .default-sidebar-trigger .sidebar-trigger__label{display:none}",""]),te.Z=p},5892:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-animation-delay:var(--spinner-delay);animation-delay:var(--spinner-delay);-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),te.Z=p},3874:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),te.Z=p},2681:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:var(--ui-pointerEvents)}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),te.Z=p},7802:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--Switch-disabled-color: var(--color-border-outline);--Switch-disabled-toggled-background: var(--color-border-outline-variant);--Switch-disabled-border: var(--color-border-outline-variant);--Switch-track-background: var(--island-bg-color);--Switch-thumb-background: var(--color-on-surface);--Switch-hover-background: var(--color-brand-hover);--Switch-active-background: var(--color-brand-active)}.excalidraw .Switch{position:relative;box-sizing:border-box;width:40px;height:20px;border-radius:12px;transition-property:background,border;transition-duration:150ms;transition-timing-function:ease-out;background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-color)}.excalidraw .Switch:hover{background:var(--Switch-track-background);border:1px solid var(--Switch-hover-background)}.excalidraw .Switch:active{border:1px solid var(--Switch-active-background)}.excalidraw .Switch.toggled{background:var(--color-primary);border:1px solid var(--color-primary)}.excalidraw .Switch.toggled:hover{background:var(--color-primary-darker);border:1px solid var(--color-primary-darker)}.excalidraw .Switch.disabled{background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-border)}.excalidraw .Switch.disabled.toggled{background:var(--Switch-disabled-toggled-background);border:1px solid var(--Switch-disabled-toggled-background)}.excalidraw .Switch:before{content:"";box-sizing:border-box;display:block;pointer-events:none;position:absolute;border-radius:100%;transition:all 150ms ease-out;width:10px;height:10px;top:4px;left:4px;background:var(--Switch-thumb-background)}.excalidraw .Switch:active:before{width:12px}.excalidraw .Switch.toggled:before{width:14px;height:14px;left:22px;top:2px;background:var(--Switch-track-background)}.excalidraw .Switch.toggled:active:before{width:16px;left:20px}.excalidraw .Switch.disabled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch.disabled.toggled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch input{width:100%;height:100%;margin:0;border-radius:12px;-webkit-appearance:none;appearance:none;cursor:pointer}.excalidraw .Switch input:disabled{cursor:unset}',""]),te.Z=p},6759:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),te.Z=p},9650:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),te.Z=p},2044:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-on-primary-container)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-surface-primary-container);--keybinding-color: var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--button-active-border)}.excalidraw .ToolIcon .ToolIcon__icon:active svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}@media screen and (max-width: 450px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.8rem;height:1.8rem}}@media screen and (max-width: 379px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.5rem;height:1.5rem}}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .App-toolbar-container .ToolIcon__LaserPointer .ToolIcon__icon{width:var(--default-button-size);height:var(--default-button-size)}",""]),te.Z=p},9144:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .25rem}.excalidraw--mobile.excalidraw .App-toolbar__divider{margin:0}.excalidraw .App-toolbar__extra-tools-trigger{box-shadow:none;border:0;background-color:rgba(0,0,0,0)}.excalidraw .App-toolbar__extra-tools-trigger:active{background-color:var(--button-hover-bg);box-shadow:0 0 0 1px var(--button-active-border, var(--color-primary-darkest)) inset}.excalidraw .App-toolbar__extra-tools-trigger--selected,.excalidraw .App-toolbar__extra-tools-trigger--selected:hover{background:var(--color-primary-light);color:var(--color-primary)}.excalidraw .App-toolbar__extra-tools-dropdown{margin-top:.375rem;right:0;min-width:11.875rem;z-index:1}",""]),te.Z=p},6626:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:fixed;z-index:var(--zIndex-popup);padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),te.Z=p},6359:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),te.Z=p},7399:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{left:0;width:100%;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:var(--island-bg-color);max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-on-surface);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item--selected{background:var(--color-primary-light);--icon-fill-color: var(--color-primary-darker)}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item:active{background-color:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));width:var(--lg-button-size);height:var(--lg-button-size);--background: var(--color-surface-mid);background-color:var(--background)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw.theme--dark.excalidraw .dropdown-menu-button{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .dropdown-menu-button:hover{--background: #363541}.excalidraw .dropdown-menu-button:hover{--background: var(--color-surface-high);background-color:var(--background);text-decoration:none}.excalidraw .dropdown-menu-button:active{border-color:var(--color-primary)}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),te.Z=p},8793:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start;-webkit-margin-end:.6rem;margin-inline-end:.6rem}.footer-center>*{pointer-events:var(--ui-pointerEvents)}",""]),te.Z=p},3397:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);box-shadow:0 0 0 1px var(--color-surface-lowest);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),te.Z=p},4343:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),te.Z=p},1569:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw .welcome-screen-decor a{--color: var(--color-primary);color:var(--color);text-decoration:none;margin-bottom:-6px}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:var(--ui-pointerEvents);color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:1px solid rgba(0,0,0,0);padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw .welcome-screen-menu-item:hover{text-decoration:none;background:var(--button-hover-bg)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item:hover{background-color:var(--color-surface-low)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),te.Z=p},9915:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),te.Z=p},9310:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g),y=t(1667),T=t.n(y),E=new URL(t(7984),t.b),a=new URL(t(1639),t.b),u=p()(_()),N=T()(E),H=T()(a);u.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+N+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+H+');--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}:root{--zIndex-canvas: 1;--zIndex-interactiveCanvas: 2;--zIndex-wysiwyg: 3;--zIndex-layerUI: 4;--zIndex-eyeDropperBackdrop: 5;--zIndex-eyeDropperPreview: 6;--zIndex-modal: 1000;--zIndex-popup: 1001;--zIndex-toast: 999999;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top)}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw canvas.interactive{z-index:var(--zIndex-interactiveCanvas)}.excalidraw__canvas-wrapper,.excalidraw__canvas.static{pointer-events:none}.excalidraw__canvas{position:absolute}.excalidraw__embeddable{width:100%;height:100%;border:0}.excalidraw__embeddable-container{position:absolute;z-index:2;-webkit-transform-origin:top left;transform-origin:top left;pointer-events:none}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 1px var(--color-brand-hover)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:var(--ui-pointerEvents)}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-toolbar-content .dropdown-menu--mobile{bottom:55px;top:auto}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .App-menu_top>*{pointer-events:var(--ui-pointerEvents)}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;font-family:inherit;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:var(--ui-pointerEvents);font-family:inherit}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--button-active-border)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .help-icon.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .help-icon:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{border-color:var(--color-brand-hover)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;border-color:var(--color-brand-hover)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw select::-webkit-scrollbar{width:10px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{width:2rem;height:2rem;border-radius:0}.excalidraw .mobile-misc-tools-container .default-sidebar-trigger{border:0}.excalidraw .App-toolbar--mobile{overflow:visible;max-width:98vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.excalidraw .main-menu-trigger{border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low)}.excalidraw .main-menu-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .App-menu__left{--button-border: transparent;--button-bg: var(--color-surface-mid)}.excalidraw.theme--dark.excalidraw .App-menu__left{--button-hover-bg: #363541;--button-bg: var(--color-surface-high)}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}.excalidraw__embeddable-container .excalidraw__embeddable-container__inner{overflow:hidden;display:flex;align-items:center;justify-content:center;border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable__outer{width:100%;height:100%}.excalidraw__embeddable-container .excalidraw__embeddable__outer>*{border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable-hint{position:absolute;z-index:1;background:rgba(0,0,0,.5);padding:1rem 1.6rem;border-radius:12px;color:#fff;font-weight:bold;letter-spacing:.6px;font-family:"Assistant"}',""]),te.Z=u},6464:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,"",""]),p.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},te.Z=p},5260:function(Ze,te,t){var e=t(8081),_=t.n(e),g=t(3645),p=t.n(g)()(_());p.push([Ze.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),te.Z=p},3645:function(Ze){Ze.exports=function(te){var t=[];return t.toString=function(){return this.map(function(e){var _="",g=e[5]!==void 0;return e[4]&&(_+="@supports (".concat(e[4],") {")),e[2]&&(_+="@media ".concat(e[2]," {")),g&&(_+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),_+=te(e),g&&(_+="}"),e[2]&&(_+="}"),e[4]&&(_+="}"),_}).join("")},t.i=function(e,_,g,p,y){typeof e=="string"&&(e=[[null,e,void 0]]);var T={};if(g)for(var E=0;E<this.length;E++){var a=this[E][0];a!=null&&(T[a]=!0)}for(var u=0;u<e.length;u++){var N=[].concat(e[u]);g&&T[N[0]]||(y!==void 0&&(N[5]===void 0||(N[1]="@layer".concat(N[5].length>0?" ".concat(N[5]):""," {").concat(N[1],"}")),N[5]=y),_&&(N[2]&&(N[1]="@media ".concat(N[2]," {").concat(N[1],"}")),N[2]=_),p&&(N[4]?(N[1]="@supports (".concat(N[4],") {").concat(N[1],"}"),N[4]=p):N[4]="".concat(p)),t.push(N))}},t}},1667:function(Ze){Ze.exports=function(te,t){return t||(t={}),te&&(te=String(te.__esModule?te.default:te),/^['"].*['"]$/.test(te)&&(te=te.slice(1,-1)),t.hash&&(te+=t.hash),/["'() \t\n]|(%20)/.test(te)||t.needQuotes?'"'.concat(te.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):te)}},8081:function(Ze){Ze.exports=function(te){return te[1]}},7392:function(Ze,te,t){t.d(te,{JQ:function(){return ye},vD:function(){return ue},y7:function(){return Q}});var e=t(1930),_=t(7169),g=t(9937),p=t(7651),y=t(583),T=t(4761),E=t(3474),a=t(4183),u=t(9827),N=t(2767);function H(fe,G){var $=typeof Symbol<"u"&&fe[Symbol.iterator]||fe["@@iterator"];if(!$){if(Array.isArray(fe)||($=function(w,f){if(w){if(typeof w=="string")return x(w,f);var r=Object.prototype.toString.call(w).slice(8,-1);if(r==="Object"&&w.constructor&&(r=w.constructor.name),r==="Map"||r==="Set")return Array.from(w);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(w,f)}}(fe))||G){$&&(fe=$);var U=0,L=function(){};return{s:L,n:function(){return U>=fe.length?{done:!0}:{done:!1,value:fe[U++]}},e:function(w){throw w},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,I=!0,P=!1;return{s:function(){$=$.call(fe)},n:function(){var w=$.next();return I=w.done,w},e:function(w){P=!0,F=w},f:function(){try{I||$.return==null||$.return()}finally{if(P)throw F}}}}function x(fe,G){(G==null||G>fe.length)&&(G=fe.length);for(var $=0,U=new Array(G);$<G;$++)U[$]=fe[$];return U}function m(fe,G){var $=Object.keys(fe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(fe);G&&(U=U.filter(function(L){return Object.getOwnPropertyDescriptor(fe,L).enumerable})),$.push.apply($,U)}return $}function k(fe){for(var G=1;G<arguments.length;G++){var $=arguments[G]!=null?arguments[G]:{};G%2?m(Object($),!0).forEach(function(U){(0,_.Z)(fe,U,$[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors($)):m(Object($)).forEach(function(U){Object.defineProperty(fe,U,Object.getOwnPropertyDescriptor($,U))})}return fe}var Q=(0,N.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(fe,G,$,U){return U.scene.getSelectedElements(G).some(function(L){return(0,a.Xo)(L)})},perform:function(fe,G,$,U){return U.scene.getSelectedElements(G).forEach(function(L){var F=(0,T.WJ)(L);if(F){var I,P=(0,T.X1)(F.originalText,(0,u.mO)(F),F.lineHeight),w=P.width,f=P.height,r=P.baseline,o=(0,E.eR)(L.id);(0,E.kT)(L.id);var b=(0,T.FE)(L,F),s=b.x,c=b.y;(0,y.DR)(F,{containerId:null,width:w,height:f,baseline:r,text:F.originalText,x:s,y:c}),(0,y.DR)(L,{boundElements:(I=L.boundElements)===null||I===void 0?void 0:I.filter(function(S){return S.id!==F.id}),height:o||L.height})}}),{elements:fe,appState:G,commitToHistory:!0}}}),ue=(0,N.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(fe,G,$,U){var L=U.scene.getSelectedElements(G);if(L.length===2){var F,I=(0,p.iB)(L[0])||(0,p.iB)(L[1]);if((0,a.mG)(L[0])?F=L[0]:(0,a.mG)(L[1])&&(F=L[1]),I&&F&&(0,T.WJ)(F)===null)return!0}return!1},perform:function(fe,G,$,U){var L,F,I=U.scene.getSelectedElements(G);(0,p.iB)(I[0])&&(0,a.mG)(I[1])?(L=I[0],F=I[1]):(L=I[1],F=I[0]),(0,y.DR)(L,{containerId:F.id,verticalAlign:g.oX.MIDDLE,textAlign:g.I8.CENTER}),(0,y.DR)(F,{boundElements:(F.boundElements||[]).concat({type:"text",id:L.id})});var P=F.height;return(0,T.oN)(L,F),(0,E.h_)(F.id,P),{elements:me(fe,F,L),appState:k(k({},G),{},{selectedElementIds:(0,_.Z)({},F.id,!0)}),commitToHistory:!0}}}),me=function(fe,G,$){var U=fe.slice(),L=U.findIndex(function(I){return I.id===$.id});U.splice(L,1);var F=U.findIndex(function(I){return I.id===G.id});return U.splice(F+1,0,$),U},ye=(0,N.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(fe,G,$,U){var L=U.scene.getSelectedElements(G),F=L.every(function(I){return(0,p.iB)(I)});return L.length>0&&F},perform:function(fe,G,$,U){var L,F=U.scene.getSelectedElements(G),I=fe.slice(),P={},w=H(F);try{var f=function(){var r=L.value;if((0,p.iB)(r)){var o,b=(0,p.Up)({type:"rectangle",backgroundColor:G.currentItemBackgroundColor,boundElements:[].concat((0,e.Z)(r.boundElements||[]),[{id:r.id,type:"text"}]),angle:r.angle,fillStyle:G.currentItemFillStyle,strokeColor:G.currentItemStrokeColor,roughness:G.currentItemRoughness,strokeWidth:G.currentItemStrokeWidth,strokeStyle:G.currentItemStrokeStyle,roundness:G.currentItemRoundness==="round"?{type:(0,a.QI)("rectangle")?g.a6.ADAPTIVE_RADIUS:g.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:r.x-g.gK,y:r.y-g.gK,width:(0,T.NS)(r.width,"rectangle"),height:(0,T.NS)(r.height,"rectangle"),groupIds:r.groupIds,frameId:r.frameId});if((o=r.boundElements)!==null&&o!==void 0&&o.length){var s=r.boundElements.filter(function(c){return c.type==="arrow"}).map(function(c){return c.id});I.filter(function(c){return s.includes(c.id)}).forEach(function(c){var S,z,B=c.startBinding,j=c.endBinding;((S=B)===null||S===void 0?void 0:S.elementId)===r.id&&(B=k(k({},B),{},{elementId:b.id})),((z=j)===null||z===void 0?void 0:z.elementId)===r.id&&(j=k(k({},j),{},{elementId:b.id})),(B||j)&&(0,y.DR)(c,{startBinding:B,endBinding:j},!1)})}(0,y.DR)(r,{containerId:b.id,verticalAlign:g.oX.MIDDLE,boundElements:null,textAlign:g.I8.CENTER},!1),(0,T.oN)(r,b),I=function(c,S,z){var B=c.slice(),j=B.findIndex(function(A){return A.id===S.id});B.splice(j,1);var C=B.findIndex(function(A){return A.id===z.id});return B.splice(C,0,S),B}([].concat((0,e.Z)(I),[b]),b,r),P[b.id]=!0}};for(w.s();!(L=w.n()).done;)f()}catch(r){w.e(r)}finally{w.f()}return{elements:I,appState:k(k({},G),{},{selectedElementIds:P}),commitToHistory:!0}}})},6006:function(Ze,te,t){t.d(te,{CZ:function(){return I},JB:function(){return P},Lo:function(){return F},Zp:function(){return w},eF:function(){return f},mo:function(){return L}});var e=t(2577),_=t(7169),g=t(193),p=t(8935),y=t(1512),T=t(9937),E=t(7651),a=t(8227),u=t(5491),N=t(4105),H=t(2382),x=t(4116),m=t(9827),k=t(2767),Q=t(8925),ue=t(583),me=t(6853),ye=t(9240),fe=t(7652),G=t(4512);function $(r,o){var b=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);o&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),b.push.apply(b,s)}return b}function U(r){for(var o=1;o<arguments.length;o++){var b=arguments[o]!=null?arguments[o]:{};o%2?$(Object(b),!0).forEach(function(s){(0,_.Z)(r,s,b[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(b)):$(Object(b)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(b,s))})}return r}(0,k.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(r,o,b,s){return!!s.props.UIOptions.canvasActions.changeViewBackgroundColor&&!o.viewModeEnabled},perform:function(r,o,b){return{appState:U(U({},o),b),commitToHistory:!!b.viewBackgroundColor}},PanelComponent:function(r){var o=r.elements,b=r.appState,s=r.updateData;return r.appProps,(0,G.jsx)(g.z,{palette:null,topPicks:ye.ay,label:(0,a.t)("labels.canvasBackground"),type:"canvasBackground",color:b.viewBackgroundColor,onChange:function(c){return s({viewBackgroundColor:c})},"data-testid":"canvas-background-picker",elements:o,appState:b,updateData:s})}});var L=(0,k.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(r,o,b,s){return!!s.props.UIOptions.canvasActions.clearCanvas&&!o.viewModeEnabled},perform:function(r,o,b,s){return s.imageCache.clear(),{elements:r.map(function(c){return(0,ue.BE)(c,{isDeleted:!0})}),appState:U(U({},(0,me.im)()),{},{files:{},theme:o.theme,penMode:o.penMode,penDetected:o.penDetected,exportBackground:o.exportBackground,exportEmbedScene:o.exportEmbedScene,gridSize:o.gridSize,showStats:o.showStats,pasteDialog:o.pasteDialog,activeTool:o.activeTool.type==="image"?U(U({},o.activeTool),{},{type:"selection"}):o.activeTool}),commitToHistory:!0}}}),F=(0,k.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(r,o,b,s){return{appState:U(U({},o),(0,x.E)({viewportX:o.width/2+o.offsetLeft,viewportY:o.height/2+o.offsetTop,nextZoom:(0,N.j)(o.zoom.value+T.V4)},o)),commitToHistory:!1}},PanelComponent:function(r){var o=r.updateData;return(0,G.jsx)(y.V,{type:"button",className:"zoom-in-button zoom-button",icon:p.Sd,title:"".concat((0,a.t)("buttons.zoomIn"),"  ").concat((0,m.uY)("CtrlOrCmd++")),"aria-label":(0,a.t)("buttons.zoomIn"),onClick:function(){o(null)}})},keyTest:function(r){return(r.code===u.aU.EQUAL||r.code===u.aU.NUM_ADD)&&(r[u.tW.CTRL_OR_CMD]||r.shiftKey)}}),I=(0,k.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(r,o,b,s){return{appState:U(U({},o),(0,x.E)({viewportX:o.width/2+o.offsetLeft,viewportY:o.height/2+o.offsetTop,nextZoom:(0,N.j)(o.zoom.value-T.V4)},o)),commitToHistory:!1}},PanelComponent:function(r){var o=r.updateData;return(0,G.jsx)(y.V,{type:"button",className:"zoom-out-button zoom-button",icon:p.xL,title:"".concat((0,a.t)("buttons.zoomOut"),"  ").concat((0,m.uY)("CtrlOrCmd+-")),"aria-label":(0,a.t)("buttons.zoomOut"),onClick:function(){o(null)}})},keyTest:function(r){return(r.code===u.aU.MINUS||r.code===u.aU.NUM_SUBTRACT)&&(r[u.tW.CTRL_OR_CMD]||r.shiftKey)}}),P=((0,k.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(r,o,b,s){return{appState:U(U({},o),(0,x.E)({viewportX:o.width/2+o.offsetLeft,viewportY:o.height/2+o.offsetTop,nextZoom:(0,N.j)(1)},o)),commitToHistory:!1}},PanelComponent:function(r){var o=r.updateData,b=r.appState;return(0,G.jsx)(Q.u,{label:(0,a.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,G.jsxs)(y.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,a.t)("buttons.resetZoom"),"aria-label":(0,a.t)("buttons.resetZoom"),onClick:function(){o(null)},children:[(100*b.zoom.value).toFixed(0),"%"]})})},keyTest:function(r){return(r.code===u.aU.ZERO||r.code===u.aU.NUM_ZERO)&&(r[u.tW.CTRL_OR_CMD]||r.shiftKey)}}),function(r){var o,b,s,c=r.targetElements,S=r.appState,z=r.fitToViewport,B=z!==void 0&&z,j=r.viewportZoomFactor,C=j===void 0?.7:j,A=(0,E.KP)((0,E.Lm)(c)),Y=(0,e.Z)(A,4),ie=Y[0],le=Y[1],ce=Y[2],de=Y[3],J=(ie+ce)/2,ee=(le+de)/2;if(B){var he=ce-ie,Pe=de-le;o=Math.min(S.width/he,S.height/Pe)*Math.min(1,Math.max(C,.1)),o=Math.min(Math.max(o,.1),30),b=S.width/2*(1/o)-J,s=S.height/2*(1/o)-ee}else{o=function(Ke,Ae){var Oe=(0,e.Z)(Ke,4),Te=Oe[0],De=Oe[1],ke=Oe[2],be=Oe[3],ve=ke-Te,D=Ae.width/ve,l=be-De,d=Ae.height/l,M=Math.min(D,d),V=Math.floor(M/T.V4)*T.V4;return Math.min(Math.max(V,T.Zj),1)}(A,{width:S.width,height:S.height});var He=(0,H.s)({scenePoint:{x:J,y:ee},viewportDimensions:{width:S.width,height:S.height},zoom:{value:o}});b=He.scrollX,s=He.scrollY}return{appState:U(U({},S),{},{scrollX:b,scrollY:s,zoom:{value:o}}),commitToHistory:!1}}),w=((0,k.z)({name:"zoomToFitSelectionInViewport",trackEvent:{category:"canvas"},perform:function(r,o,b,s){var c=s.scene.getSelectedElements(o);return P({targetElements:c.length?c:r,appState:o,fitToViewport:!1})},keyTest:function(r){return r.code===u.aU.TWO&&r.shiftKey&&!r.altKey&&!r[u.tW.CTRL_OR_CMD]}}),(0,k.z)({name:"zoomToFitSelection",trackEvent:{category:"canvas"},perform:function(r,o,b,s){var c=s.scene.getSelectedElements(o);return P({targetElements:c.length?c:r,appState:o,fitToViewport:!0})},keyTest:function(r){return r.code===u.aU.THREE&&r.shiftKey&&!r.altKey&&!r[u.tW.CTRL_OR_CMD]}}),(0,k.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(r,o){return P({targetElements:r,appState:o,fitToViewport:!1})},keyTest:function(r){return r.code===u.aU.ONE&&r.shiftKey&&!r.altKey&&!r[u.tW.CTRL_OR_CMD]}}),(0,k.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(r,o,b){return{appState:U(U({},o),{},{theme:b||(o.theme===T.C6.LIGHT?T.C6.DARK:T.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(r){return r.altKey&&r.shiftKey&&r.code===u.aU.D},predicate:function(r,o,b,s){return!!s.props.UIOptions.canvasActions.toggleTheme}})),f=((0,k.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(r,o){var b;return b=(0,me.EN)(o)?(0,m.Om)(o,U(U({},o.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,m.Om)(o,{type:"eraser",lastActiveToolBeforeEraser:o.activeTool}),{appState:U(U({},o),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:b}),commitToHistory:!0}},keyTest:function(r){return r.key===u.tW.E}}),(0,k.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(r,o,b,s){var c;return(0,me.l$)(o)?c=(0,m.Om)(o,U(U({},o.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(c=(0,m.Om)(o,{type:"hand",lastActiveToolBeforeEraser:o.activeTool}),(0,fe.KJ)(s.interactiveCanvas,T.oc.GRAB)),{appState:U(U({},o),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:c}),commitToHistory:!0}},keyTest:function(r){return!r.altKey&&!r[u.tW.CTRL_OR_CMD]&&r.key===u.tW.H}}))},5047:function(Ze,te,t){t.d(te,{FA:function(){return U},ZM:function(){return $},jK:function(){return L},uN:function(){return fe},yQ:function(){return G},zp:function(){return F}});var e=t(7169),_=t(8950),g=t(2975),p=t.n(g),y=t(5491),T=t(2767),E=t(4694),a=t(2448),u=t(2435),N=t(7651),H=t(8227),x=t(9937);function m(I,P){var w=Object.keys(I);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(I);P&&(f=f.filter(function(r){return Object.getOwnPropertyDescriptor(I,r).enumerable})),w.push.apply(w,f)}return w}function k(I){for(var P=1;P<arguments.length;P++){var w=arguments[P]!=null?arguments[P]:{};P%2?m(Object(w),!0).forEach(function(f){(0,e.Z)(I,f,w[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(w)):m(Object(w)).forEach(function(f){Object.defineProperty(I,f,Object.getOwnPropertyDescriptor(w,f))})}return I}var Q,ue,me,ye,fe=(0,T.z)({name:"copy",trackEvent:{category:"element"},perform:(Q=(0,_.Z)(p().mark(function I(P,w,f,r){var o;return p().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return o=r.scene.getSelectedElements({selectedElementIds:w.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),b.prev=1,b.next=4,(0,E.vQ)(o,r.files,f);case 4:b.next=9;break;case 6:return b.prev=6,b.t0=b.catch(1),b.abrupt("return",{commitToHistory:!1,appState:k(k({},w),{},{errorMessage:b.t0.message})});case 9:return b.abrupt("return",{commitToHistory:!1});case 10:case"end":return b.stop()}},I,null,[[1,6]])})),function(I,P,w,f){return Q.apply(this,arguments)}),contextItemLabel:"labels.copy",keyTest:void 0}),G=(0,T.z)({name:"paste",trackEvent:{category:"element"},perform:(ue=(0,_.Z)(p().mark(function I(P,w,f,r){var o;return p().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,(0,E.Se)();case 3:o=b.sent,b.next=14;break;case 6:if(b.prev=6,b.t0=b.catch(0),b.t0.name!=="AbortError"&&b.t0.name!=="NotAllowedError"){b.next=10;break}return b.abrupt("return",!1);case 10:if(console.error("actionPaste ".concat(b.t0.name,": ").concat(b.t0.message)),!x.vU){b.next=13;break}return b.abrupt("return",{commitToHistory:!1,appState:k(k({},w),{},{errorMessage:(0,H.t)("hints.firefox_clipboard_write")})});case 13:return b.abrupt("return",{commitToHistory:!1,appState:k(k({},w),{},{errorMessage:(0,H.t)("errors.asyncPasteFailedOnRead")})});case 14:b.prev=14,r.pasteFromClipboard((0,E.OO)({types:o})),b.next=22;break;case 18:return b.prev=18,b.t1=b.catch(14),console.error(b.t1),b.abrupt("return",{commitToHistory:!1,appState:k(k({},w),{},{errorMessage:(0,H.t)("errors.asyncPasteFailedOnParse")})});case 22:return b.abrupt("return",{commitToHistory:!1});case 23:case"end":return b.stop()}},I,null,[[0,6],[14,18]])})),function(I,P,w,f){return ue.apply(this,arguments)}),contextItemLabel:"labels.paste",keyTest:void 0}),$=(0,T.z)({name:"cut",trackEvent:{category:"element"},perform:function(I,P,w,f){return fe.perform(I,P,w,f),a.X.perform(I,P)},contextItemLabel:"labels.cut",keyTest:function(I){return I[y.tW.CTRL_OR_CMD]&&I.key===y.tW.X}}),U=(0,T.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(me=(0,_.Z)(p().mark(function I(P,w,f,r){var o,b,s;return p().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r.canvas){c.next=2;break}return c.abrupt("return",{commitToHistory:!1});case 2:return o=(0,u.HD)(P,w,!0),b=o.exportedElements,s=o.exportingFrame,c.prev=3,c.next=6,(0,u.p1)("clipboard-svg",b,w,r.files,k(k({},w),{},{exportingFrame:s}));case 6:return c.abrupt("return",{commitToHistory:!1});case 9:return c.prev=9,c.t0=c.catch(3),console.error(c.t0),c.abrupt("return",{appState:k(k({},w),{},{errorMessage:c.t0.message}),commitToHistory:!1});case 13:case"end":return c.stop()}},I,null,[[3,9]])})),function(I,P,w,f){return me.apply(this,arguments)}),predicate:function(I){return E.wx&&I.length>0},contextItemLabel:"labels.copyAsSvg"}),L=(0,T.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(ye=(0,_.Z)(p().mark(function I(P,w,f,r){var o,b,s,c;return p().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(r.canvas){S.next=2;break}return S.abrupt("return",{commitToHistory:!1});case 2:return o=r.scene.getSelectedElements({selectedElementIds:w.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),b=(0,u.HD)(P,w,!0),s=b.exportedElements,c=b.exportingFrame,S.prev=4,S.next=7,(0,u.p1)("clipboard",s,w,r.files,k(k({},w),{},{exportingFrame:c}));case 7:return S.abrupt("return",{appState:k(k({},w),{},{toast:{message:(0,H.t)("toast.copyToClipboardAsPng",{exportSelection:o.length?(0,H.t)("toast.selection"):(0,H.t)("toast.canvas"),exportColorScheme:w.exportWithDarkMode?(0,H.t)("buttons.darkMode"):(0,H.t)("buttons.lightMode")})}}),commitToHistory:!1});case 10:return S.prev=10,S.t0=S.catch(4),console.error(S.t0),S.abrupt("return",{appState:k(k({},w),{},{errorMessage:S.t0.message}),commitToHistory:!1});case 14:case"end":return S.stop()}},I,null,[[4,10]])})),function(I,P,w,f){return ye.apply(this,arguments)}),predicate:function(I){return E.vt&&I.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(I){return I.code===y.aU.C&&I.altKey&&I.shiftKey}}),F=(0,T.z)({name:"copyText",trackEvent:{category:"element"},perform:function(I,P,w,f){var r=f.scene.getSelectedElements({selectedElementIds:P.selectedElementIds,includeBoundTextElement:!0}).reduce(function(o,b){return(0,N.iB)(b)&&o.push(b.text),o},[]).join(`

`);return(0,E.dd)(r),{commitToHistory:!1}},predicate:function(I,P,w,f){return E.wx&&f.scene.getSelectedElements({selectedElementIds:P.selectedElementIds,includeBoundTextElement:!0}).some(N.iB)},contextItemLabel:"labels.copyText"})},2448:function(Ze,te,t){t.d(te,{X:function(){return fe}});var e=t(7169),_=t(4105),g=t(5491),p=t(1512),y=t(8227),T=t(2767),E=t(7651),a=t(583),u=t(9215),N=t(7422),H=t(9645),x=t(4183),m=t(9827),k=t(8935),Q=t(4512);function ue(G,$){var U=Object.keys(G);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(G);$&&(L=L.filter(function(F){return Object.getOwnPropertyDescriptor(G,F).enumerable})),U.push.apply(U,L)}return U}function me(G){for(var $=1;$<arguments.length;$++){var U=arguments[$]!=null?arguments[$]:{};$%2?ue(Object(U),!0).forEach(function(L){(0,e.Z)(G,L,U[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(U)):ue(Object(U)).forEach(function(L){Object.defineProperty(G,L,Object.getOwnPropertyDescriptor(U,L))})}return G}var ye=function(G,$){if(G.editingGroupId){var U=(0,u.Fb)((0,E.Lm)($),G.editingGroupId);if(U.length)return me(me({},G),{},{selectedElementIds:(0,e.Z)({},U[0].id,!0)})}return G},fe=(0,T.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(G,$){if($.editingLinearElement){var U=$.editingLinearElement,L=U.elementId,F=U.selectedPointsIndices,I=U.startBindingElement,P=U.endBindingElement,w=N._.getElement(L);if(!w||F==null)return!1;if(w.points.length<2){var f=G.map(function(c){return c.id===w.id?(0,a.BE)(c,{isDeleted:!0}):c});return{elements:f,appState:me(me({},ye($,f)),{},{editingLinearElement:null}),commitToHistory:!1}}var r={startBindingElement:F!=null&&F.includes(0)?null:I,endBindingElement:F!=null&&F.includes(w.points.length-1)?null:P};return N._.deletePoints(w,F),{elements:G,appState:me(me({},$),{},{editingLinearElement:me(me(me({},$.editingLinearElement),r),{},{selectedPointsIndices:F?.[0]>0?[F[0]-1]:[0]})}),commitToHistory:!0}}var o=function(c,S){var z=new Set((0,_.eD)(c.filter(function(B){return B.type==="frame"}),S).map(function(B){return B.id}));return{elements:c.map(function(B){return S.selectedElementIds[B.id]||B.frameId&&z.has(B.frameId)||(0,x.Xh)(B)&&S.selectedElementIds[B.containerId]?(0,a.BE)(B,{isDeleted:!0}):B}),appState:me(me({},S),{},{selectedElementIds:{},selectedGroupIds:{}})}}(G,$),b=o.elements,s=o.appState;return(0,H.$q)(b,G.filter(function(c){var S=c.id;return $.selectedElementIds[S]})),{elements:b,appState:me(me({},s=ye(s,b)),{},{activeTool:(0,m.Om)($,{type:"selection"}),multiElement:null,activeEmbeddable:null}),commitToHistory:(0,_.N)((0,E.Lm)(G),$)}},contextItemLabel:"labels.delete",keyTest:function(G,$,U){return(G.key===g.tW.BACKSPACE||G.key===g.tW.DELETE)&&!G[g.tW.CTRL_OR_CMD]},PanelComponent:function(G){var $=G.elements,U=G.appState,L=G.updateData;return(0,Q.jsx)(p.V,{type:"button",icon:k.XH,title:(0,y.t)("labels.delete"),"aria-label":(0,y.t)("labels.delete"),onClick:function(){return L(null)},visible:(0,_.N)((0,E.Lm)($),U)})}})},9672:function(Ze,te,t){t.d(te,{$:function(){return u},U:function(){return N}});var e=t(7169),_=t(583),g=t(5491),p=t(9827),y=t(2767);function T(H,x){var m=Object.keys(H);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(H);x&&(k=k.filter(function(Q){return Object.getOwnPropertyDescriptor(H,Q).enumerable})),m.push.apply(m,k)}return m}function E(H){for(var x=1;x<arguments.length;x++){var m=arguments[x]!=null?arguments[x]:{};x%2?T(Object(m),!0).forEach(function(k){(0,e.Z)(H,k,m[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(m)):T(Object(m)).forEach(function(k){Object.defineProperty(H,k,Object.getOwnPropertyDescriptor(m,k))})}return H}var a=function(H){return H.every(function(x){return!x.locked})},u=(0,y.z)({name:"toggleElementLock",trackEvent:{category:"element"},predicate:function(H,x,m,k){return!k.scene.getSelectedElements(x).some(function(Q){return Q.locked&&Q.frameId})},perform:function(H,x,m,k){var Q=k.scene.getSelectedElements({selectedElementIds:x.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!Q.length)return!1;var ue=a(Q),me=(0,p.xn)(Q);return{elements:H.map(function(ye){return me.has(ye.id)?(0,_.BE)(ye,{locked:ue}):ye}),appState:E(E({},x),{},{selectedLinearElement:ue?null:x.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(H,x,m){var k=m.scene.getSelectedElements({selectedElementIds:x.selectedElementIds,includeBoundTextElement:!1});return k.length===1&&k[0].type!=="frame"?k[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":a(k)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(H,x,m,k){return H.key.toLocaleLowerCase()===g.tW.L&&H[g.tW.CTRL_OR_CMD]&&H.shiftKey&&k.scene.getSelectedElements({selectedElementIds:x.selectedElementIds,includeBoundTextElement:!1}).length>0}}),N=(0,y.z)({name:"unlockAllElements",trackEvent:{category:"canvas"},viewMode:!1,predicate:function(H){return H.some(function(x){return x.locked})},perform:function(H,x){var m=H.filter(function(k){return k.locked});return{elements:H.map(function(k){return k.locked?(0,_.BE)(k,{locked:!1}):k}),appState:E(E({},x),{},{selectedElementIds:Object.fromEntries(m.map(function(k){return[k.id,!0]}))}),commitToHistory:!0}},contextItemLabel:"labels.elementLock.unlockAll"})},4406:function(Ze,te,t){t.d(te,{XA:function(){return Te},Du:function(){return De},sK:function(){return Oe},zX:function(){return Ae},bJ:function(){return D},_d:function(){return ve},mM:function(){return be},ns:function(){return ke}});var e=t(8950),_=t(2577),g=t(7169),p=t(2975),y=t.n(p),T=t(8935),E=t(3379),a=t.n(E),u=t(7795),N=t.n(u),H=t(569),x=t.n(H),m=t(3565),k=t.n(m),Q=t(9216),ue=t.n(Q),me=t(4589),ye=t.n(me),fe=t(6759),G={};G.styleTagTransform=ye(),G.setAttributes=k(),G.insert=x().bind(null,"head"),G.domAPI=N(),G.insertStyleElement=ue(),a()(fe.Z,G),fe.Z&&fe.Z.locals&&fe.Z.locals;var $=t(9787),U=t(9827),L=t(532),F={};F.styleTagTransform=ye(),F.setAttributes=k(),F.insert=x().bind(null,"head"),F.domAPI=N(),F.insertStyleElement=ue(),a()(L.Z,F),L.Z&&L.Z.locals&&L.Z.locals;var I=t(8242),P=t(5491),w=t(4512),f=function(l){var d=(0,I.J0)().id,M=(0,$.useState)(l.value),V=(0,_.Z)(M,2),q=V[0],re=V[1];return(0,w.jsxs)("div",{className:"ProjectName",children:[(0,w.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(l.label).concat(l.isNameEditable?"":":")}),l.isNameEditable?(0,w.jsx)("input",{type:"text",className:"TextInput",onBlur:function(ae){l.ignoreFocus||(0,U.qz)(ae.target);var ge=ae.target.value;ge!==l.value&&l.onChange(ge)},onKeyDown:function(ae){if(ae.key===P.tW.ENTER){if(ae.preventDefault(),ae.nativeEvent.isComposing||ae.keyCode===229)return;ae.currentTarget.blur()}},id:"".concat(d,"-filename"),value:q,onChange:function(ae){return re(ae.target.value)}}):(0,w.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(d,"-filename"),children:l.value})]})},r=t(1512),o=t(8925),b=(t(3041),t(8227)),s=t(9937),c=function(l){var d=l.title||(l.value==="dark"?(0,b.t)("buttons.lightMode"):(0,b.t)("buttons.darkMode"));return(0,w.jsx)(r.V,{type:"icon",icon:l.value===s.C6.LIGHT?S.MOON:S.SUN,title:d,"aria-label":d,onClick:function(){return l.onChange(l.value===s.C6.DARK?s.C6.LIGHT:s.C6.DARK)},"data-testid":"toggle-dark-mode"})},S={SUN:(0,w.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,w.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,w.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,w.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},z=t(2435),B=t(5796);function j(l,d){var M=Object.keys(l);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(l);d&&(V=V.filter(function(q){return Object.getOwnPropertyDescriptor(l,q).enumerable})),M.push.apply(M,V)}return M}function C(l){for(var d=1;d<arguments.length;d++){var M=arguments[d]!=null?arguments[d]:{};d%2?j(Object(M),!0).forEach(function(V){(0,g.Z)(l,V,M[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(M)):j(Object(M)).forEach(function(V){Object.defineProperty(l,V,Object.getOwnPropertyDescriptor(M,V))})}return l}var A=function(){var l=(0,e.Z)(y().mark(function d(M,V,q){var re,ae,ge,Se,Re,Ye,Ge,We,qe;return y().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(ae=(re=V).exportBackground,ge=re.viewBackgroundColor,Se=re.name,Re=re.fileHandle,Ye=(0,B.Qk)(Re),Re&&(0,B.DQ)(Ye)){lt.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return V=C(C({},V),{},{exportEmbedScene:!0}),Ge=(0,z.HD)(M,V,!1),We=Ge.exportedElements,qe=Ge.exportingFrame,lt.next=8,(0,z.p1)(Ye,We,V,q,{exportBackground:ae,viewBackgroundColor:ge,name:Se,fileHandle:Re,exportingFrame:qe});case 8:return lt.abrupt("return",{fileHandle:Re});case 9:case"end":return lt.stop()}},d)}));return function(d,M,V){return l.apply(this,arguments)}}(),Y=t(2767),ie=t(6238),le=t(3668),ce=t(4105),de=t(7651),J=t(6548);function ee(l,d){var M=Object.keys(l);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(l);d&&(V=V.filter(function(q){return Object.getOwnPropertyDescriptor(l,q).enumerable})),M.push.apply(M,V)}return M}function he(l){for(var d=1;d<arguments.length;d++){var M=arguments[d]!=null?arguments[d]:{};d%2?ee(Object(M),!0).forEach(function(V){(0,g.Z)(l,V,M[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(M)):ee(Object(M)).forEach(function(V){Object.defineProperty(l,V,Object.getOwnPropertyDescriptor(M,V))})}return l}var Pe,He,Ke,Ae=(0,Y.z)({name:"changeProjectName",trackEvent:!1,perform:function(l,d,M){return{appState:he(he({},d),{},{name:M}),commitToHistory:!1}},PanelComponent:function(l){var d,M=l.appState,V=l.updateData,q=l.appProps,re=l.data;return(0,w.jsx)(f,{label:(0,b.t)("labels.fileTitle"),value:M.name||"Unnamed",onChange:function(ae){return V(ae)},isNameEditable:q.name===void 0&&!M.viewModeEnabled,ignoreFocus:(d=re?.ignoreFocus)!==null&&d!==void 0&&d})}}),Oe=(0,Y.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(l,d,M){return{appState:he(he({},d),{},{exportScale:M}),commitToHistory:!1}},PanelComponent:function(l){var d=l.elements,M=l.appState,V=l.updateData,q=(0,de.Lm)(d),re=(0,ce.N)(q,M)?(0,ce.eD)(q,M):q;return(0,w.jsx)(w.Fragment,{children:s.ZB.map(function(ae){var ge=(0,le.Cg)(re,s.qy,ae),Se=(0,_.Z)(ge,2),Re=Se[0],Ye=Se[1],Ge="".concat((0,b.t)("imageExportDialog.label.scale")," ").concat(ae,"x (").concat(Re,"x").concat(Ye,")");return(0,w.jsx)(r.V,{size:"small",type:"radio",icon:"".concat(ae,"x"),name:"export-canvas-scale",title:Ge,"aria-label":Ge,id:"export-canvas-scale",checked:ae===M.exportScale,onChange:function(){return V(ae)}},ae)})})}}),Te=(0,Y.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(l,d,M){return{appState:he(he({},d),{},{exportBackground:M}),commitToHistory:!1}},PanelComponent:function(l){var d=l.appState,M=l.updateData;return(0,w.jsx)(ie.o,{checked:d.exportBackground,onChange:function(V){return M(V)},children:(0,b.t)("imageExportDialog.label.withBackground")})}}),De=(0,Y.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(l,d,M){return{appState:he(he({},d),{},{exportEmbedScene:M}),commitToHistory:!1}},PanelComponent:function(l){var d=l.appState,M=l.updateData;return(0,w.jsxs)(ie.o,{checked:d.exportEmbedScene,onChange:function(V){return M(V)},children:[(0,b.t)("imageExportDialog.label.embedScene"),(0,w.jsx)(o.u,{label:(0,b.t)("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,w.jsx)("div",{className:"excalidraw-tooltip-icon",children:T.Vl})})]})}}),ke=(0,Y.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(l,d,M,V){return!!V.props.UIOptions.canvasActions.saveToActiveFile&&!!d.fileHandle&&!d.viewModeEnabled},perform:(Pe=(0,e.Z)(y().mark(function l(d,M,V,q){var re,ae,ge;return y().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(re=!!M.fileHandle,Se.prev=1,!(0,B.g8)(M.fileHandle)){Se.next=8;break}return Se.next=5,A(d,M,q.files);case 5:Se.t0=Se.sent,Se.next=11;break;case 8:return Se.next=10,(0,z.Um)(d,M,q.files);case 10:Se.t0=Se.sent;case 11:return ae=Se.t0,ge=ae.fileHandle,Se.abrupt("return",{commitToHistory:!1,appState:he(he({},M),{},{fileHandle:ge,toast:re?{message:ge!=null&&ge.name?(0,b.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(ge.name,'"')):(0,b.t)("toast.fileSaved")}:null})});case 16:return Se.prev=16,Se.t1=Se.catch(1),(Se.t1===null||Se.t1===void 0?void 0:Se.t1.name)!=="AbortError"?console.error(Se.t1):console.warn(Se.t1),Se.abrupt("return",{commitToHistory:!1});case 20:case"end":return Se.stop()}},l,null,[[1,16]])})),function(l,d,M,V){return Pe.apply(this,arguments)}),keyTest:function(l){return l.key===P.tW.S&&l[P.tW.CTRL_OR_CMD]&&!l.shiftKey}}),be=(0,Y.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(He=(0,e.Z)(y().mark(function l(d,M,V,q){var re,ae;return y().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.prev=0,ge.next=3,(0,z.Um)(d,he(he({},M),{},{fileHandle:null}),q.files);case 3:return re=ge.sent,ae=re.fileHandle,ge.abrupt("return",{commitToHistory:!1,appState:he(he({},M),{},{openDialog:null,fileHandle:ae,toast:{message:(0,b.t)("toast.fileSaved")}})});case 8:return ge.prev=8,ge.t0=ge.catch(0),(ge.t0===null||ge.t0===void 0?void 0:ge.t0.name)!=="AbortError"?console.error(ge.t0):console.warn(ge.t0),ge.abrupt("return",{commitToHistory:!1});case 12:case"end":return ge.stop()}},l,null,[[0,8]])})),function(l,d,M,V){return He.apply(this,arguments)}),keyTest:function(l){return l.key===P.tW.S&&l.shiftKey&&l[P.tW.CTRL_OR_CMD]},PanelComponent:function(l){var d=l.updateData;return(0,w.jsx)(r.V,{type:"button",icon:T.po,title:(0,b.t)("buttons.saveAs"),"aria-label":(0,b.t)("buttons.saveAs"),showAriaLabel:(0,I.Fy)().editor.isMobile,hidden:!J.kr,onClick:function(){return d(null)},"data-testid":"save-as-button"})}}),ve=(0,Y.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(l,d,M,V){return!!V.props.UIOptions.canvasActions.loadScene&&!d.viewModeEnabled},perform:(Ke=(0,e.Z)(y().mark(function l(d,M,V,q){var re,ae,ge,Se;return y().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.prev=0,Re.next=3,(0,z.n8)(M,d);case 3:return re=Re.sent,ae=re.elements,ge=re.appState,Se=re.files,Re.abrupt("return",{elements:ae,appState:ge,files:Se,commitToHistory:!0});case 10:if(Re.prev=10,Re.t0=Re.catch(0),(Re.t0===null||Re.t0===void 0?void 0:Re.t0.name)!=="AbortError"){Re.next=15;break}return console.warn(Re.t0),Re.abrupt("return",!1);case 15:return Re.abrupt("return",{elements:d,appState:he(he({},M),{},{errorMessage:Re.t0.message}),files:q.files,commitToHistory:!1});case 16:case"end":return Re.stop()}},l,null,[[0,10]])})),function(l,d,M,V){return Ke.apply(this,arguments)}),keyTest:function(l){return l[P.tW.CTRL_OR_CMD]&&l.key===P.tW.O}}),D=(0,Y.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(l,d,M){return{appState:he(he({},d),{},{exportWithDarkMode:M}),commitToHistory:!1}},PanelComponent:function(l){var d=l.appState,M=l.updateData;return(0,w.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,w.jsx)(c,{value:d.exportWithDarkMode?s.C6.DARK:s.C6.LIGHT,onChange:function(V){M(V===s.C6.DARK)},title:(0,b.t)("imageExportDialog.label.darkMode")})})}})},3361:function(Ze,te,t){t.d(te,{Tu:function(){return He},Zq:function(){return Ke}});var e=t(1930),_=t(7169),g=t(9240),p=t(3646),y=t(45),T=t(4512),E=function(Ae){return(0,T.jsx)("div",{className:"buttonList buttonListIcon",children:Ae.options.map(function(Oe){var Te;return Ae.type==="button"?(0,T.jsx)("button",{onClick:function(De){return Ae.onClick(Oe.value,De)},className:(0,y.Z)({active:(Te=Oe.active)!==null&&Te!==void 0?Te:Ae.value===Oe.value}),"data-testid":Oe.testId,title:Oe.text,children:Oe.icon},Oe.text):(0,T.jsxs)("label",{className:(0,y.Z)({active:Ae.value===Oe.value}),title:Oe.text,children:[(0,T.jsx)("input",{type:"radio",name:Ae.group,onChange:function(){return Ae.onChange(Oe.value)},checked:Ae.value===Oe.value,"data-testid":Oe.testId}),Oe.icon]},Oe.text)})})},a=t(193),u=t(2577),N=t(9787),H=t.n(N),x=t(3204),m=t(3379),k=t.n(m),Q=t(7795),ue=t.n(Q),me=t(569),ye=t.n(me),fe=t(3565),G=t.n(fe),$=t(9216),U=t.n($),L=t(4589),F=t.n(L),I=t(9478),P={};P.styleTagTransform=F(),P.setAttributes=G(),P.insert=ye().bind(null,"head"),P.domAPI=ue(),P.insertStyleElement=U(),k()(I.Z,P),I.Z&&I.Z.locals&&I.Z.locals;var w=t(5491),f=t(8227);function r(Ae,Oe){var Te=Object.keys(Ae);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(Ae);Oe&&(De=De.filter(function(ke){return Object.getOwnPropertyDescriptor(Ae,ke).enumerable})),Te.push.apply(Te,De)}return Te}function o(Ae){for(var Oe=1;Oe<arguments.length;Oe++){var Te=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?r(Object(Te),!0).forEach(function(De){(0,_.Z)(Ae,De,Te[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(Te)):r(Object(Te)).forEach(function(De){Object.defineProperty(Ae,De,Object.getOwnPropertyDescriptor(Te,De))})}return Ae}function b(Ae){var Oe=Ae.options,Te=Ae.value,De=Ae.label,ke=Ae.onChange,be=Ae.onClose,ve=H().useRef(),D=H().useRef(),l=H().useRef(null);return H().useEffect(function(){D.current?D.current.focus():l.current&&l.current.focus()},[]),(0,T.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":De,onKeyDown:function(d){var M=Oe.find(function(Re){return Re.keyBinding===d.key.toLowerCase()});if(d.metaKey||d.altKey||d.ctrlKey||!M)if(d.key===w.tW.TAB)setTimeout(function(){D.current!==document.activeElement&&be()},0);else if((0,w.Wl)(d.key)){var V=document.activeElement,q=(0,f.G3)().rtl,re=Array.prototype.indexOf.call(l.current.children,V);if(re!==-1){var ae=Oe.length,ge=re;switch(d.key){case(q?w.tW.ARROW_LEFT:w.tW.ARROW_RIGHT):case w.tW.ARROW_DOWN:ge=(re+1)%ae;break;case(q?w.tW.ARROW_RIGHT:w.tW.ARROW_LEFT):case w.tW.ARROW_UP:ge=(ae+re-1)%ae}l.current.children[ge].focus()}d.preventDefault()}else d.key!==w.tW.ESCAPE&&d.key!==w.tW.ENTER||(d.preventDefault(),be());else{var Se=Oe.indexOf(M);l.current.children[Se].focus(),d.preventDefault()}d.nativeEvent.stopImmediatePropagation(),d.stopPropagation()},children:(0,T.jsx)("div",{className:"picker-content",ref:l,children:Oe.map(function(d,M){return(0,T.jsxs)("button",{className:(0,y.Z)("picker-option",{active:Te===d.value}),onClick:function(V){V.currentTarget.focus(),ke(d.value)},title:"".concat(d.text,"  ").concat(d.keyBinding.toUpperCase()),"aria-label":d.text||"none","aria-keyshortcuts":d.keyBinding,ref:function(V){V&&M===0&&(ve.current=V),V&&d.value===Te&&(D.current=V)},onFocus:function(){ke(d.value)},children:[d.icon,(0,T.jsx)("span",{className:"picker-keybinding",children:d.keyBinding})]},d.text)})})})}function s(Ae){var Oe,Te=Ae.value,De=Ae.label,ke=Ae.options,be=Ae.onChange,ve=Ae.group,D=ve===void 0?"":ve,l=H().useState(!1),d=(0,u.Z)(l,2),M=d[0],V=d[1],q=H().useRef(null),re=(0,f.G3)().rtl;return(0,T.jsxs)("div",{children:[(0,T.jsx)("button",{name:D,className:M?"active":"","aria-label":De,onClick:function(){return V(!M)},ref:q,children:(Oe=ke.find(function(ae){return ae.value===Te}))===null||Oe===void 0?void 0:Oe.icon}),(0,T.jsx)(H().Suspense,{fallback:"",children:M?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(x.J,o(o({onCloseRequest:function(ae){return ae.target!==q.current&&V(!1)}},re?{right:5.5}:{left:-5.5}),{},{children:(0,T.jsx)(b,{options:ke,value:Te,label:De,onChange:be,onClose:function(){var ae;V(!1),(ae=q.current)===null||ae===void 0||ae.focus()}})})),(0,T.jsx)("div",{className:"picker-triangle"})]}):null})]})}var c=t(8935),S=t(9937),z=t(7651),B=t(583),j=t(4761),C=t(4183),A=t(4643),Y=t(4105),ie=t(1648),le=t(9827),ce=t(2767);function de(Ae,Oe){var Te=Object.keys(Ae);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(Ae);Oe&&(De=De.filter(function(ke){return Object.getOwnPropertyDescriptor(Ae,ke).enumerable})),Te.push.apply(Te,De)}return Te}function J(Ae){for(var Oe=1;Oe<arguments.length;Oe++){var Te=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?de(Object(Te),!0).forEach(function(De){(0,_.Z)(Ae,De,Te[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(Te)):de(Object(Te)).forEach(function(De){Object.defineProperty(Ae,De,Object.getOwnPropertyDescriptor(Te,De))})}return Ae}var ee=function(Ae,Oe,Te){var De=arguments.length>3&&arguments[3]!==void 0&&arguments[3],ke=(0,le.xn)((0,Y.eD)(Ae,Oe,{includeBoundTextElement:De}));return Ae.map(function(be){var ve;return ke.get(be.id)||be.id===((ve=Oe.editingElement)===null||ve===void 0?void 0:ve.id)?Te(be):be})},he=function(Ae,Oe,Te,De,ke){var be,ve=Oe.editingElement,D=(0,z.Lm)(Ae),l=null;return ve&&(l=Te(ve)),l||(l=(0,Y.N)(D,Oe)?(be=(0,Y.PR)(De===!0?D:D.filter(function(d){return De(d)}),Oe,Te))!==null&&be!==void 0?be:typeof ke=="function"?ke(!0):ke:typeof ke=="function"?ke(!1):ke),l},Pe=function(Ae,Oe,Te,De){var ke=new Set;return{elements:ee(Ae,Oe,function(be){if((0,z.iB)(be)){var ve=Te(be);ke.add(ve);var D=(0,B.BE)(be,{fontSize:ve});return(0,z.oN)(D,(0,j.tl)(be)),l=be,d=D,D=(0,C.Xh)(d)?d:(0,B.DR)(d,{x:l.textAlign==="left"?l.x:l.x+(l.width-d.width)/(l.textAlign==="center"?2:1),y:l.y+(l.height-d.height)/2},!1)}var l,d;return be},!0),appState:J(J({},Oe),{},{currentItemFontSize:ke.size===1?(0,e.Z)(ke)[0]:De??Oe.currentItemFontSize}),commitToHistory:!0}},He=((0,ce.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(Ae,Oe,Te){return J(J({},Te.currentItemStrokeColor&&{elements:ee(Ae,Oe,function(De){return(0,ie.PD)(De.type)?(0,B.BE)(De,{strokeColor:Te.currentItemStrokeColor}):De},!0)}),{},{appState:J(J({},Oe),Te),commitToHistory:!!Te.currentItemStrokeColor})},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData;return Ae.appProps,(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("h3",{"aria-hidden":"true",children:(0,f.t)("labels.stroke")}),(0,T.jsx)(a.z,{topPicks:g.fY,palette:g.Wk,type:"elementStroke",label:(0,f.t)("labels.stroke"),color:he(Oe,Te,function(ke){return ke.strokeColor},!0,Te.currentItemStrokeColor),onChange:function(ke){return De({currentItemStrokeColor:ke})},elements:Oe,appState:Te,updateData:De})]})}}),(0,ce.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(Ae,Oe,Te){return J(J({},Te.currentItemBackgroundColor&&{elements:ee(Ae,Oe,function(De){return(0,B.BE)(De,{backgroundColor:Te.currentItemBackgroundColor})})}),{},{appState:J(J({},Oe),Te),commitToHistory:!!Te.currentItemBackgroundColor})},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData;return Ae.appProps,(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("h3",{"aria-hidden":"true",children:(0,f.t)("labels.background")}),(0,T.jsx)(a.z,{topPicks:g.eq,palette:g.SF,type:"elementBackground",label:(0,f.t)("labels.background"),color:he(Oe,Te,function(ke){return ke.backgroundColor},!0,Te.currentItemBackgroundColor),onChange:function(ke){return De({currentItemBackgroundColor:ke})},elements:Oe,appState:Te,updateData:De})]})}}),(0,ce.z)({name:"changeFillStyle",trackEvent:!1,perform:function(Ae,Oe,Te,De){return(0,p.L)("element","changeFillStyle","".concat(Te," (").concat(De.device.editor.isMobile?"mobile":"desktop",")")),{elements:ee(Ae,Oe,function(ke){return(0,B.BE)(ke,{fillStyle:Te})}),appState:J(J({},Oe),{},{currentItemFillStyle:Te}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData,ke=(0,Y.eD)(Oe,Te),be=ke.length>0&&ke.every(function(ve){return ve.fillStyle==="zigzag"});return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,f.t)("labels.fill")}),(0,T.jsx)(E,{type:"button",options:[{value:"hachure",text:"".concat(be?(0,f.t)("labels.zigzag"):(0,f.t)("labels.hachure")," (").concat((0,le.uY)("Alt-Click"),")"),icon:be?c.lF:c.a0,active:!!be||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:(0,f.t)("labels.crossHatch"),icon:c.np,testId:"fill-cross-hatch"},{value:"solid",text:(0,f.t)("labels.solid"),icon:c.X7,testId:"fill-solid"}],value:he(Oe,Te,function(ve){return ve.fillStyle},function(ve){return ve.hasOwnProperty("fillStyle")},function(ve){return ve?null:Te.currentItemFillStyle}),onClick:function(ve,D){var l=D.altKey&&ve==="hachure"&&ke.every(function(d){return d.fillStyle==="hachure"})?"zigzag":ve;De(l)}})]})}}),(0,ce.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(Ae,Oe,Te){return{elements:ee(Ae,Oe,function(De){return(0,B.BE)(De,{strokeWidth:Te})}),appState:J(J({},Oe),{},{currentItemStrokeWidth:Te}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,f.t)("labels.strokeWidth")}),(0,T.jsx)(E,{group:"stroke-width",options:[{value:S.dg.thin,text:(0,f.t)("labels.thin"),icon:c.ZA,testId:"strokeWidth-thin"},{value:S.dg.bold,text:(0,f.t)("labels.bold"),icon:c.Wl,testId:"strokeWidth-bold"},{value:S.dg.extraBold,text:(0,f.t)("labels.extraBold"),icon:c.m9,testId:"strokeWidth-extraBold"}],value:he(Oe,Te,function(ke){return ke.strokeWidth},function(ke){return ke.hasOwnProperty("strokeWidth")},function(ke){return ke?null:Te.currentItemStrokeWidth}),onChange:function(ke){return De(ke)}})]})}}),(0,ce.z)({name:"changeSloppiness",trackEvent:!1,perform:function(Ae,Oe,Te){return{elements:ee(Ae,Oe,function(De){return(0,B.BE)(De,{seed:(0,A.LU)(),roughness:Te})}),appState:J(J({},Oe),{},{currentItemRoughness:Te}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,f.t)("labels.sloppiness")}),(0,T.jsx)(E,{group:"sloppiness",options:[{value:0,text:(0,f.t)("labels.architect"),icon:c.bf},{value:1,text:(0,f.t)("labels.artist"),icon:c.kM},{value:2,text:(0,f.t)("labels.cartoonist"),icon:c.W2}],value:he(Oe,Te,function(ke){return ke.roughness},function(ke){return ke.hasOwnProperty("roughness")},function(ke){return ke?null:Te.currentItemRoughness}),onChange:function(ke){return De(ke)}})]})}}),(0,ce.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(Ae,Oe,Te){return{elements:ee(Ae,Oe,function(De){return(0,B.BE)(De,{strokeStyle:Te})}),appState:J(J({},Oe),{},{currentItemStrokeStyle:Te}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,f.t)("labels.strokeStyle")}),(0,T.jsx)(E,{group:"strokeStyle",options:[{value:"solid",text:(0,f.t)("labels.strokeStyle_solid"),icon:c.ZA},{value:"dashed",text:(0,f.t)("labels.strokeStyle_dashed"),icon:c.a5},{value:"dotted",text:(0,f.t)("labels.strokeStyle_dotted"),icon:c.aT}],value:he(Oe,Te,function(ke){return ke.strokeStyle},function(ke){return ke.hasOwnProperty("strokeStyle")},function(ke){return ke?null:Te.currentItemStrokeStyle}),onChange:function(ke){return De(ke)}})]})}}),(0,ce.z)({name:"changeOpacity",trackEvent:!1,perform:function(Ae,Oe,Te){return{elements:ee(Ae,Oe,function(De){return(0,B.BE)(De,{opacity:Te})},!0),appState:J(J({},Oe),{},{currentItemOpacity:Te}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe,Te=Ae.elements,De=Ae.appState,ke=Ae.updateData;return(0,T.jsxs)("label",{className:"control-label",children:[(0,f.t)("labels.opacity"),(0,T.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(be){return ke(+be.target.value)},value:(Oe=he(Te,De,function(be){return be.opacity},!0,De.currentItemOpacity))!==null&&Oe!==void 0?Oe:void 0})]})}}),(0,ce.z)({name:"changeFontSize",trackEvent:!1,perform:function(Ae,Oe,Te){return Pe(Ae,Oe,function(){return Te},Te)},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,f.t)("labels.fontSize")}),(0,T.jsx)(E,{group:"font-size",options:[{value:16,text:(0,f.t)("labels.small"),icon:c.q0,testId:"fontSize-small"},{value:20,text:(0,f.t)("labels.medium"),icon:c.nq,testId:"fontSize-medium"},{value:28,text:(0,f.t)("labels.large"),icon:c.tW,testId:"fontSize-large"},{value:36,text:(0,f.t)("labels.veryLarge"),icon:c.OA,testId:"fontSize-veryLarge"}],value:he(Oe,Te,function(ke){if((0,z.iB)(ke))return ke.fontSize;var be=(0,j.WJ)(ke);return be?be.fontSize:null},function(ke){return(0,z.iB)(ke)||(0,j.WJ)(ke)!==null},function(ke){return ke?null:Te.currentItemFontSize||S.n5}),onChange:function(ke){return De(ke)}})]})}}),(0,ce.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(Ae,Oe,Te){return Pe(Ae,Oe,function(De){return Math.round(1/1.1*De.fontSize)})},keyTest:function(Ae){return Ae[w.tW.CTRL_OR_CMD]&&Ae.shiftKey&&(Ae.key===w.tW.CHEVRON_LEFT||Ae.key===w.tW.COMMA)}})),Ke=(0,ce.z)({name:"increaseFontSize",trackEvent:!1,perform:function(Ae,Oe,Te){return Pe(Ae,Oe,function(De){return Math.round(1.1*De.fontSize)})},keyTest:function(Ae){return Ae[w.tW.CTRL_OR_CMD]&&Ae.shiftKey&&(Ae.key===w.tW.CHEVRON_RIGHT||Ae.key===w.tW.PERIOD)}});(0,ce.z)({name:"changeFontFamily",trackEvent:!1,perform:function(Ae,Oe,Te){return{elements:ee(Ae,Oe,function(De){if((0,z.iB)(De)){var ke=(0,B.BE)(De,{fontFamily:Te,lineHeight:(0,j.PT)(Te)});return(0,z.oN)(ke,(0,j.tl)(De)),ke}return De},!0),appState:J(J({},Oe),{},{currentItemFontFamily:Te}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData,ke=[{value:S.ut.Virgil,text:(0,f.t)("labels.handDrawn"),icon:c.Pm,testId:"font-family-virgil"},{value:S.ut.Helvetica,text:(0,f.t)("labels.normal"),icon:c.vo,testId:"font-family-normal"},{value:S.ut.Cascadia,text:(0,f.t)("labels.code"),icon:c.z6,testId:"font-family-code"}];return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,f.t)("labels.fontFamily")}),(0,T.jsx)(E,{group:"font-family",options:ke,value:he(Oe,Te,function(be){if((0,z.iB)(be))return be.fontFamily;var ve=(0,j.WJ)(be);return ve?ve.fontFamily:null},function(be){return(0,z.iB)(be)||(0,j.WJ)(be)!==null},function(be){return be?null:Te.currentItemFontFamily||S.rk}),onChange:function(be){return De(be)}})]})}}),(0,ce.z)({name:"changeTextAlign",trackEvent:!1,perform:function(Ae,Oe,Te){return{elements:ee(Ae,Oe,function(De){if((0,z.iB)(De)){var ke=(0,B.BE)(De,{textAlign:Te});return(0,z.oN)(ke,(0,j.tl)(De)),ke}return De},!0),appState:J(J({},Oe),{},{currentItemTextAlign:Te}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,f.t)("labels.textAlign")}),(0,T.jsx)(E,{group:"text-align",options:[{value:"left",text:(0,f.t)("labels.left"),icon:c.rr,testId:"align-left"},{value:"center",text:(0,f.t)("labels.center"),icon:c.o3,testId:"align-horizontal-center"},{value:"right",text:(0,f.t)("labels.right"),icon:c.oT,testId:"align-right"}],value:he(Oe,Te,function(ke){if((0,z.iB)(ke))return ke.textAlign;var be=(0,j.WJ)(ke);return be?be.textAlign:null},function(ke){return(0,z.iB)(ke)||(0,j.WJ)(ke)!==null},function(ke){return ke?null:Te.currentItemTextAlign}),onChange:function(ke){return De(ke)}})]})}}),(0,ce.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(Ae,Oe,Te){return{elements:ee(Ae,Oe,function(De){if((0,z.iB)(De)){var ke=(0,B.BE)(De,{verticalAlign:Te});return(0,z.oN)(ke,(0,j.tl)(De)),ke}return De},!0),appState:J({},Oe),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData;return(0,T.jsx)("fieldset",{children:(0,T.jsx)(E,{group:"text-align",options:[{value:S.oX.TOP,text:(0,f.t)("labels.alignTop"),icon:(0,T.jsx)(c.EO,{theme:Te.theme}),testId:"align-top"},{value:S.oX.MIDDLE,text:(0,f.t)("labels.centerVertically"),icon:(0,T.jsx)(c.P7,{theme:Te.theme}),testId:"align-middle"},{value:S.oX.BOTTOM,text:(0,f.t)("labels.alignBottom"),icon:(0,T.jsx)(c.aA,{theme:Te.theme}),testId:"align-bottom"}],value:he(Oe,Te,function(ke){if((0,z.iB)(ke)&&ke.containerId)return ke.verticalAlign;var be=(0,j.WJ)(ke);return be?be.verticalAlign:null},function(ke){return(0,z.iB)(ke)||(0,j.WJ)(ke)!==null},function(ke){return ke?null:S.oX.MIDDLE}),onChange:function(ke){return De(ke)}})})}}),(0,ce.z)({name:"changeRoundness",trackEvent:!1,perform:function(Ae,Oe,Te){return{elements:ee(Ae,Oe,function(De){return(0,B.BE)(De,{roundness:Te==="round"?{type:(0,C.QI)(De.type)?S.a6.ADAPTIVE_RADIUS:S.a6.PROPORTIONAL_RADIUS}:null})}),appState:J(J({},Oe),{},{currentItemRoundness:Te}),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData,ke=(0,Y.Zs)((0,z.Lm)(Oe),Te).some(function(be){var ve;return((ve=be.roundness)===null||ve===void 0?void 0:ve.type)===S.a6.LEGACY});return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,f.t)("labels.edges")}),(0,T.jsx)(E,{group:"edges",options:[{value:"sharp",text:(0,f.t)("labels.sharp"),icon:c.wr},{value:"round",text:(0,f.t)("labels.round"),icon:c.DS}],value:he(Oe,Te,function(be){return ke?null:be.roundness?"round":"sharp"},function(be){return be.hasOwnProperty("roundness")},function(be){return be?null:Te.currentItemRoundness}),onChange:function(be){return De(be)}})]})}}),(0,ce.z)({name:"changeArrowhead",trackEvent:!1,perform:function(Ae,Oe,Te){return{elements:ee(Ae,Oe,function(De){if((0,C.bt)(De)){var ke=Te.position,be=Te.type;if(ke==="start")return(0,B.BE)(De,{startArrowhead:be});if(ke==="end")return(0,B.BE)(De,{endArrowhead:be})}return De}),appState:J(J({},Oe),{},(0,_.Z)({},Te.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",Te.type)),commitToHistory:!0}},PanelComponent:function(Ae){var Oe=Ae.elements,Te=Ae.appState,De=Ae.updateData,ke=(0,f.G3)().rtl;return(0,T.jsxs)("fieldset",{children:[(0,T.jsx)("legend",{children:(0,f.t)("labels.arrowheads")}),(0,T.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,T.jsx)(s,{label:"arrowhead_start",options:[{value:null,text:(0,f.t)("labels.arrowhead_none"),icon:c.fr,keyBinding:"q"},{value:"arrow",text:(0,f.t)("labels.arrowhead_arrow"),icon:(0,T.jsx)(c.il,{flip:!ke}),keyBinding:"w"},{value:"bar",text:(0,f.t)("labels.arrowhead_bar"),icon:(0,T.jsx)(c.m,{flip:!ke}),keyBinding:"e"},{value:"dot",text:(0,f.t)("labels.arrowhead_dot"),icon:(0,T.jsx)(c.tn,{flip:!ke}),keyBinding:"r"},{value:"triangle",text:(0,f.t)("labels.arrowhead_triangle"),icon:(0,T.jsx)(c.j8,{flip:!ke}),keyBinding:"t"}],value:he(Oe,Te,function(be){return(0,C.bt)(be)&&(0,Y.Un)(be.type)?be.startArrowhead:Te.currentItemStartArrowhead},!0,Te.currentItemStartArrowhead),onChange:function(be){return De({position:"start",type:be})}}),(0,T.jsx)(s,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,f.t)("labels.arrowhead_none"),keyBinding:"q",icon:c.fr},{value:"arrow",text:(0,f.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,T.jsx)(c.il,{flip:ke})},{value:"bar",text:(0,f.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,T.jsx)(c.m,{flip:ke})},{value:"dot",text:(0,f.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,T.jsx)(c.tn,{flip:ke})},{value:"triangle",text:(0,f.t)("labels.arrowhead_triangle"),icon:(0,T.jsx)(c.j8,{flip:ke}),keyBinding:"t"}],value:he(Oe,Te,function(be){return(0,C.bt)(be)&&(0,Y.Un)(be.type)?be.endArrowhead:Te.currentItemEndArrowhead},!0,Te.currentItemEndArrowhead),onChange:function(be){return De({position:"end",type:be})}})]})]})}})},7080:function(Ze,te,t){t.d(te,{u:function(){return T}});var e=t(7169),_=t(2767),g=t(5491);function p(E,a){var u=Object.keys(E);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);a&&(N=N.filter(function(H){return Object.getOwnPropertyDescriptor(E,H).enumerable})),u.push.apply(u,N)}return u}function y(E){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?p(Object(u),!0).forEach(function(N){(0,e.Z)(E,N,u[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(u)):p(Object(u)).forEach(function(N){Object.defineProperty(E,N,Object.getOwnPropertyDescriptor(u,N))})}return E}var T=(0,_.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(E,a){return{appState:y(y({},a),{},{showStats:!this.checked(a)}),commitToHistory:!1}},checked:function(E){return E.showStats},contextItemLabel:"stats.title",keyTest:function(E){return!E[g.tW.CTRL_OR_CMD]&&E.altKey&&E.code===g.aU.SLASH}})},5463:function(Ze,te,t){t.d(te,{FL:function(){return en},vD:function(){return po.vD},yA:function(){return b},BZ:function(){return c},mo:function(){return ke.mo},uN:function(){return Ln.uN},jK:function(){return Ln.jK},FA:function(){return Ln.FA},pw:function(){return ae},ZM:function(){return Ln.ZM},X9:function(){return e.X},xF:function(){return Te},pL:function(){return d},jl:function(){return jn},kt:function(){return Cn},EQ:function(){return Me},nz:function(){return xo.nz},_d:function(){return M._d},W3:function(){return ge},mM:function(){return M.mM},ns:function(){return M.ns},Yy:function(){return Y},V:function(){return o},zi:function(){return s},jY:function(){return Ye},$h:function(){return jo.$},Pb:function(){return Pn},Qs:function(){return go},pm:function(){return Or},u0:function(){return Xr.u},Zp:function(){return ke.Zp},JN:function(){return Gn},y7:function(){return po.y7},s:function(){return $e},zp:function(){return Ln.zp}});var e=t(2448),_=t(2577),g=t(1930),p=t(583),y=t(4183),T=t(9215),E=t(4105),a=t(457),u=t(9827);function N(et,Ee){var Le=typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(!Le){if(Array.isArray(et)||(Le=function(Xt,Vt){if(Xt){if(typeof Xt=="string")return H(Xt,Vt);var wn=Object.prototype.toString.call(Xt).slice(8,-1);if(wn==="Object"&&Xt.constructor&&(wn=Xt.constructor.name),wn==="Map"||wn==="Set")return Array.from(Xt);if(wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wn))return H(Xt,Vt)}}(et))||Ee){Le&&(et=Le);var Ue=0,st=function(){};return{s:st,n:function(){return Ue>=et.length?{done:!0}:{done:!1,value:et[Ue++]}},e:function(Xt){throw Xt},f:st}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zt,qt=!0,mn=!1;return{s:function(){Le=Le.call(et)},n:function(){var Xt=Le.next();return qt=Xt.done,Xt},e:function(Xt){mn=!0,Zt=Xt},f:function(){try{qt||Le.return==null||Le.return()}finally{if(mn)throw Zt}}}}function H(et,Ee){(Ee==null||Ee>et.length)&&(Ee=et.length);for(var Le=0,Ue=new Array(Ee);Le<Ee;Le++)Ue[Le]=et[Le];return Ue}var x=function(et,Ee){return et.frameId===Ee||et.id===Ee},m=function(et,Ee,Le){for(var Ue=[],st=[],Zt=null,qt=-1,mn=(0,u.xn)(Le||(0,E.eD)(et,Ee,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++qt<et.length;){var Xt=et[qt];mn.get(Xt.id)?(st.length&&(Ue=Ue.concat(st),st=[]),Ue.push(qt),Zt=qt+1):Xt.isDeleted&&Zt===qt?(Zt=qt+1,st.push(qt)):st=[]}return Ue},k=function(et,Ee,Le){if("containerId"in et&&et.containerId){if(Le!=="left")return Ee.indexOf(et);var Ue=a.Z.getScene(et).getElement(et.containerId);if(Ue)return Ee.indexOf(Ue)}else{var st,Zt,qt=(st=et.boundElements)===null||st===void 0||(Zt=st.find(function(Xt){return Xt.type!=="arrow"}))===null||Zt===void 0?void 0:Zt.id;if(qt){if(Le==="left")return Ee.indexOf(et);var mn=a.Z.getScene(et).getElement(qt);if(mn)return Ee.indexOf(mn)}}},Q=function(et,Ee,Le,Ue,st){var Zt,qt,mn,Xt,Vt,wn=Ee[Le],Mn=function(Ar){return!Ar.isDeleted&&(st?Ar.frameId===st:!et.editingGroupId||Ar.groupIds.includes(et.editingGroupId))},qn=Ue==="left"?(0,u.qr)(Ee,function(Ar){return Mn(Ar)},Math.max(0,Le-1)):(0,u.cx)(Ee,function(Ar){return Mn(Ar)},Le+1),Qn=Ee[qn];if(!Qn)return-1;if(et.editingGroupId){var dr;if(wn?.groupIds.join("")===Qn?.groupIds.join(""))return(dr=k(Qn,Ee,Ue))!==null&&dr!==void 0?dr:qn;if(Qn==null||!Qn.groupIds.includes(et.editingGroupId))return-1}if(!st&&(Qn.frameId||Qn.type==="frame")){var ur=(Zt=Ee,qt=Qn.frameId||Qn.id,mn=-1,Xt=-1,Zt.forEach(function(Ar,Gr){x(Ar,qt)&&(mn===-1&&(mn=Gr),Xt=Gr)}),mn===-1?[]:Zt.slice(mn,Xt+1));return Ue==="left"?Ee.indexOf(ur[0]):Ee.indexOf(ur[ur.length-1])}if(!Qn.groupIds.length)return(Vt=k(Qn,Ee,Ue))!==null&&Vt!==void 0?Vt:qn;var ir=et.editingGroupId?Qn.groupIds[Qn.groupIds.indexOf(et.editingGroupId)-1]:Qn.groupIds[Qn.groupIds.length-1],cr=(0,T.Fb)(Ee,ir);return cr.length?Ue==="left"?Ee.indexOf(cr[0]):Ee.indexOf(cr[cr.length-1]):qn},ue=function(et,Ee){return Ee.reduce(function(Le,Ue){var st=et[Ue];return Le[st.id]=st,Le},{})},me=function(et,Ee,Le){var Ue=m(et,Ee),st=ue(et,Ue),Zt=function(mn){var Xt=0;return mn.reduce(function(Vt,wn,Mn){return Mn>0&&mn[Mn-1]!==wn-1&&(Xt=++Xt),(Vt[Xt]||(Vt[Xt]=[])).push(wn),Vt},[])}(Ue);Le==="right"&&(Zt=Zt.reverse());var qt=new Set(Ue.filter(function(mn){return et[mn].type==="frame"}).map(function(mn){return et[mn].id}));return Zt.forEach(function(mn,Xt){var Vt,wn=mn[0],Mn=mn[mn.length-1],qn=Le==="left"?wn:Mn,Qn=mn.some(function(Gr){var so=et[Gr];return so.frameId&&qt.has(so.frameId)})?null:(Vt=et[qn])===null||Vt===void 0?void 0:Vt.frameId,dr=Q(Ee,et,qn,Le,Qn);if(dr!==-1&&qn!==dr){var ur=Le==="left"?et.slice(0,dr):et.slice(0,wn),ir=et.slice(wn,Mn+1),cr=Le==="left"?et.slice(dr,wn):et.slice(Mn+1,dr+1),Ar=Le==="left"?et.slice(Mn+1):et.slice(dr+1);et=Le==="left"?[].concat((0,g.Z)(ur),(0,g.Z)(ir),(0,g.Z)(cr),(0,g.Z)(Ar)):[].concat((0,g.Z)(ur),(0,g.Z)(cr),(0,g.Z)(ir),(0,g.Z)(Ar))}}),et.map(function(mn){return st[mn.id]?(0,p.ZP)(mn):mn})},ye=function(et,Ee,Le,Ue,st){var Zt,qt,mn=m(et,Ee,st),Xt=ue(et,mn),Vt=[];if(Le==="left"){if(Ue)Zt=(0,u.cx)(et,function(ir){return x(ir,Ue)});else if(Ee.editingGroupId){var wn=(0,T.Fb)(et,Ee.editingGroupId);if(!wn.length)return et;Zt=et.indexOf(wn[0])}else Zt=0;qt=mn[mn.length-1]}else{if(Ue)qt=(0,u.qr)(et,function(ir){return x(ir,Ue)});else if(Ee.editingGroupId){var Mn=(0,T.Fb)(et,Ee.editingGroupId);if(!Mn.length)return et;qt=et.indexOf(Mn[Mn.length-1])}else qt=et.length-1;Zt=mn[0]}Zt===-1&&(Zt=0);for(var qn=Zt;qn<qt+1;qn++)mn.includes(qn)||Vt.push(et[qn]);var Qn=Object.values(Xt).map(function(ir){return(0,p.ZP)(ir)}),dr=et.slice(0,Zt),ur=et.slice(qt+1);return Le==="left"?[].concat((0,g.Z)(dr),(0,g.Z)(Qn),Vt,(0,g.Z)(ur)):[].concat((0,g.Z)(dr),Vt,(0,g.Z)(Qn),(0,g.Z)(ur))};function fe(et,Ee,Le,Ue){var st,Zt=(0,u.xn)((0,E.eD)(et,Ee,{includeBoundTextElement:!0,includeElementsInFrames:!0})),qt={regularElements:[],frameChildren:new Map},mn=new Set,Xt=N(et);try{for(Xt.s();!(st=Xt.n()).done;){var Vt=st.value;Zt.has(Vt.id)&&(0,y.He)(Vt)&&mn.add(Vt.id)}}catch(Ar){Xt.e(Ar)}finally{Xt.f()}var wn,Mn=N(et);try{for(Mn.s();!(wn=Mn.n()).done;){var qn=wn.value;if(Zt.has(qn.id))if((0,y.He)(qn)||qn.frameId&&mn.has(qn.frameId))qt.regularElements.push(qn);else if(qn.frameId){var Qn=qt.frameChildren.get(qn.frameId)||[];Qn.push(qn),qt.frameChildren.set(qn.frameId,Qn)}else qt.regularElements.push(qn)}}catch(Ar){Mn.e(Ar)}finally{Mn.f()}for(var dr=et,ur=0,ir=Array.from(qt.frameChildren.entries());ur<ir.length;ur++){var cr=(0,_.Z)(ir[ur],2);dr=Ue(et,Ee,Le,cr[0],cr[1])}return Ue(dr,Ee,Le,null,qt.regularElements)}var G=function(et,Ee){return me(et,Ee,"left")},$=function(et,Ee){return me(et,Ee,"right")},U=function(et,Ee){return fe(et,Ee,"left",ye)},L=function(et,Ee){return fe(et,Ee,"right",ye)},F=t(5491),I=t(8227),P=t(2767),w=t(8935),f=t(9937),r=t(4512),o=(0,P.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(et,Ee){return{elements:G(et,Ee),appState:Ee,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&!et.shiftKey&&et.code===F.aU.BRACKET_LEFT},PanelComponent:function(et){var Ee=et.updateData;return et.appState,(0,r.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Ee(null)},title:"".concat((0,I.t)("labels.sendBackward"),"  ").concat((0,u.uY)("CtrlOrCmd+[")),children:w.Gc})}}),b=(0,P.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(et,Ee){return{elements:$(et,Ee),appState:Ee,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&!et.shiftKey&&et.code===F.aU.BRACKET_RIGHT},PanelComponent:function(et){var Ee=et.updateData;return et.appState,(0,r.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Ee(null)},title:"".concat((0,I.t)("labels.bringForward"),"  ").concat((0,u.uY)("CtrlOrCmd+]")),children:w.t5})}}),s=(0,P.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(et,Ee){return{elements:U(et,Ee),appState:Ee,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(et){return f.Um?et[F.tW.CTRL_OR_CMD]&&et.altKey&&et.code===F.aU.BRACKET_LEFT:et[F.tW.CTRL_OR_CMD]&&et.shiftKey&&et.code===F.aU.BRACKET_LEFT},PanelComponent:function(et){var Ee=et.updateData;return et.appState,(0,r.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Ee(null)},title:"".concat((0,I.t)("labels.sendToBack"),"  ").concat(f.Um?(0,u.uY)("CtrlOrCmd+Alt+["):(0,u.uY)("CtrlOrCmd+Shift+[")),children:w.pw})}}),c=(0,P.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(et,Ee){return{elements:L(et,Ee),appState:Ee,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(et){return f.Um?et[F.tW.CTRL_OR_CMD]&&et.altKey&&et.code===F.aU.BRACKET_RIGHT:et[F.tW.CTRL_OR_CMD]&&et.shiftKey&&et.code===F.aU.BRACKET_RIGHT},PanelComponent:function(et){var Ee=et.updateData;return et.appState,(0,r.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(Le){return Ee(null)},title:"".concat((0,I.t)("labels.bringToFront"),"  ").concat(f.Um?(0,u.uY)("CtrlOrCmd+Alt+]"):(0,u.uY)("CtrlOrCmd+Shift+]")),children:w.IN})}}),S=t(7169),z=t(7651),B=t(7422),j=t(6264);function C(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function A(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?C(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):C(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}var Y=(0,P.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(et,Ee,Le,Ue){if(Ee.editingLinearElement)return!1;var st=(0,j.aI)(et.filter(function(Zt){return!(Zt.isDeleted||(0,z.iB)(Zt)&&Zt.containerId||Zt.locked)})).reduce(function(Zt,qt){return Zt[qt.id]=!0,Zt},{});return{appState:A(A(A({},Ee),(0,T.bO)({editingGroupId:null,selectedElementIds:st},(0,z.Lm)(et),Ee,Ue)),{},{selectedLinearElement:Object.keys(st).length===1&&(0,y.bt)(et[0])?new B._(et[0],Ue.scene):null}),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&et.key===F.tW.A}}),ie=t(1512),le=t(9645),ce=t(4761);function de(et,Ee){var Le=typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(!Le){if(Array.isArray(et)||(Le=function(Xt,Vt){if(Xt){if(typeof Xt=="string")return J(Xt,Vt);var wn=Object.prototype.toString.call(Xt).slice(8,-1);if(wn==="Object"&&Xt.constructor&&(wn=Xt.constructor.name),wn==="Map"||wn==="Set")return Array.from(Xt);if(wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wn))return J(Xt,Vt)}}(et))||Ee){Le&&(et=Le);var Ue=0,st=function(){};return{s:st,n:function(){return Ue>=et.length?{done:!0}:{done:!1,value:et[Ue++]}},e:function(Xt){throw Xt},f:st}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zt,qt=!0,mn=!1;return{s:function(){Le=Le.call(et)},n:function(){var Xt=Le.next();return qt=Xt.done,Xt},e:function(Xt){mn=!0,Zt=Xt},f:function(){try{qt||Le.return==null||Le.return()}finally{if(mn)throw Zt}}}}function J(et,Ee){(Ee==null||Ee>et.length)&&(Ee=et.length);for(var Le=0,Ue=new Array(Ee);Le<Ee;Le++)Ue[Le]=et[Le];return Ue}var ee=function(et){var Ee=et.slice(),Le=new Set,Ue=function Zt(qt){var mn,Xt,Vt,wn=(mn=qt[0])===null||mn===void 0||(Xt=mn.groupIds)===null||Xt===void 0?void 0:Xt.join(""),Mn=[qt[0]],qn=[],Qn=de(qt.slice(1));try{for(Qn.s();!(Vt=Qn.n()).done;){var dr,ur=Vt.value;((dr=ur.groupIds)===null||dr===void 0?void 0:dr.join(""))===wn?Mn.push(ur):qn.push(ur)}}catch(ir){Qn.e(ir)}finally{Qn.f()}return qn.length?[].concat(Mn,(0,g.Z)(Zt(qn))):Mn},st=new Map;return Ee.forEach(function(Zt,qt){var mn;if(!st.has(Zt.id))if((mn=Zt.groupIds)!==null&&mn!==void 0&&mn.length){var Xt,Vt=Zt.groupIds[Zt.groupIds.length-1],wn=Ee.slice(qt).filter(function(Qn){var dr,ur=Qn==null||(dr=Qn.groupIds)===null||dr===void 0?void 0:dr.some(function(ir){return ir===Vt});return ur&&st.set(Qn.id,!0),ur}),Mn=de(Ue(wn));try{for(Mn.s();!(Xt=Mn.n()).done;){var qn=Xt.value;Le.add(qn)}}catch(Qn){Mn.e(Qn)}finally{Mn.f()}}else Le.add(Zt)}),Le.size!==et.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),et):(0,g.Z)(Le)},he=function(et){var Ee=function(Le){var Ue=(0,u.I4)(Le),st=Le.slice(),Zt=new Set;return st.forEach(function(qt,mn){var Xt;if(qt)if((Xt=qt.boundElements)!==null&&Xt!==void 0&&Xt.length)Zt.add(qt),st[mn]=null,qt.boundElements.forEach(function(Mn){var qn=Ue.get(Mn.id);qn&&Mn.type==="text"&&(Zt.add(qn[0]),st[qn[1]]=null)});else if(qt.type==="text"&&qt.containerId){var Vt,wn=Ue.get(qt.containerId);wn!=null&&(Vt=wn[0].boundElements)!==null&&Vt!==void 0&&Vt.find(function(Mn){return Mn.id===qt.id})||(Zt.add(qt),st[mn]=null)}else Zt.add(qt),st[mn]=null}),Zt.size!==Le.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),Le):(0,g.Z)(Zt)}(ee(et));return Ee},Pe=t(4682);function He(et,Ee){var Le=typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(!Le){if(Array.isArray(et)||(Le=function(Xt,Vt){if(Xt){if(typeof Xt=="string")return Ke(Xt,Vt);var wn=Object.prototype.toString.call(Xt).slice(8,-1);if(wn==="Object"&&Xt.constructor&&(wn=Xt.constructor.name),wn==="Map"||wn==="Set")return Array.from(Xt);if(wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wn))return Ke(Xt,Vt)}}(et))||Ee){Le&&(et=Le);var Ue=0,st=function(){};return{s:st,n:function(){return Ue>=et.length?{done:!0}:{done:!1,value:et[Ue++]}},e:function(Xt){throw Xt},f:st}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zt,qt=!0,mn=!1;return{s:function(){Le=Le.call(et)},n:function(){var Xt=Le.next();return qt=Xt.done,Xt},e:function(Xt){mn=!0,Zt=Xt},f:function(){try{qt||Le.return==null||Le.return()}finally{if(mn)throw Zt}}}}function Ke(et,Ee){(Ee==null||Ee>et.length)&&(Ee=et.length);for(var Le=0,Ue=new Array(Ee);Le<Ee;Le++)Ue[Le]=et[Le];return Ue}function Ae(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function Oe(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?Ae(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):Ae(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}var Te=(0,P.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(et,Ee){if(Ee.editingLinearElement){var Le=B._.duplicateSelectedPoints(Ee);return!!Le&&{elements:et,appState:Le.appState,commitToHistory:!0}}return Oe(Oe({},De(et,Ee)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&et.key===F.tW.D},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData;return(0,r.jsx)(ie.V,{type:"button",icon:w.NA,title:"".concat((0,I.t)("labels.duplicateSelection"),"  ").concat((0,u.uY)("CtrlOrCmd+D")),"aria-label":(0,I.t)("labels.duplicateSelection"),onClick:function(){return Ue(null)},visible:(0,E.N)((0,z.Lm)(Ee),Le)})}}),De=function(et,Ee){for(var Le=he(et),Ue=new Map,st=[],Zt=[],qt=new Map,mn=function(hr){var Ur=(0,z.Sy)(Ee.editingGroupId,Ue,hr,{x:hr.x+f.k/2,y:hr.y+f.k/2});return qt.set(hr.id,Ur.id),Zt.push(hr),st.push(Ur),Ur},Xt=(0,u.xn)((0,j.eD)(Le,Ee,{includeBoundTextElement:!0,includeElementsInFrames:!0})),Vt=new Map,wn=function(hr){var Ur,no=He(hr);try{for(no.s();!(Ur=no.n()).done;){var ao=Ur.value;Vt.set(ao.id,!0)}}catch(Xo){no.e(Xo)}finally{no.f()}return hr},Mn=[],qn=-1;++qn<Le.length;){var Qn=Le[qn];if(!Vt.get(Qn.id)){var dr=(0,ce.WJ)(Qn),ur=(0,y.He)(Qn);if(Xt.get(Qn.id)){if(Qn.groupIds.length||dr||ur){var ir=(0,T.yO)(Ee,Qn);if(ir){var cr=(0,T.Fb)(Le,ir).flatMap(function(hr){return(0,y.He)(hr)?[].concat((0,g.Z)((0,Pe.zD)(et,hr.id)),[hr]):[hr]});Mn.push.apply(Mn,(0,g.Z)(wn([].concat((0,g.Z)(cr),(0,g.Z)(cr.map(function(hr){return mn(hr)}))))));continue}if(dr){Mn.push.apply(Mn,(0,g.Z)(wn([Qn,dr,mn(Qn),mn(dr)])));continue}if(ur){var Ar=(0,Pe.zD)(Le,Qn.id);Mn.push.apply(Mn,(0,g.Z)(wn([].concat((0,g.Z)(Ar),[Qn],(0,g.Z)(Ar.map(function(hr){return mn(hr)})),[mn(Qn)]))));continue}}Qn.frameId&&Xt.has(Qn.frameId)||Mn.push.apply(Mn,(0,g.Z)(wn([Qn,mn(Qn)])))}else Mn.push.apply(Mn,(0,g.Z)(wn([Qn])))}}var Gr=[],so=new Map;for(qn=Mn.length;--qn>=0;){var zo=Mn[qn];so.get(zo.id)||(so.set(zo.id,!0),Gr.push(zo))}var ii=Gr.reverse();(0,ce.P7)(Mn,Zt,qt),(0,le.ek)(Mn,Zt,qt),(0,Pe.xr)(ii,Zt,qt);var Ir=(0,j.aI)(st);return{elements:ii,appState:Oe(Oe({},Ee),(0,T.bO)({editingGroupId:Ee.editingGroupId,selectedElementIds:Ir.reduce(function(hr,Ur){return(0,y.Xh)(Ur)||(hr[Ur.id]=!0),hr},{})},(0,z.Lm)(ii),Ee,null))}},ke=(t(3361),t(6006)),be=t(2361),ve=t(7652);function D(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function l(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?D(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):D(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}var d=(0,P.z)({name:"finalize",trackEvent:!1,perform:function(et,Ee,Le,Ue){var st,Zt=Ue.interactiveCanvas,qt=Ue.focusContainer,mn=Ue.scene;if(Ee.editingLinearElement){var Xt=Ee.editingLinearElement,Vt=Xt.elementId,wn=Xt.startBindingElement,Mn=Xt.endBindingElement,qn=B._.getElement(Vt);if(qn)return(0,y.Mn)(qn)&&(0,le.HG)(qn,wn,Mn),{elements:qn.points.length<2||(0,z.QD)(qn)?et.filter(function(no){return no.id!==qn.id}):void 0,appState:l(l({},Ee),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var Qn=et,dr=Ee.pendingImageElementId&&mn.getElement(Ee.pendingImageElementId);dr&&(0,p.DR)(dr,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&qt();var ur,ir=Ee.multiElement?Ee.multiElement:((st=Ee.editingElement)===null||st===void 0?void 0:st.type)==="freedraw"?Ee.editingElement:null;if(ir){if(ir.type!=="freedraw"&&Ee.lastPointerDownWith!=="touch"){var cr=ir.points,Ar=ir.lastCommittedPoint;Ar&&cr[cr.length-1]===Ar||(0,p.DR)(ir,{points:ir.points.slice(0,-1)})}(0,z.QD)(ir)&&(Qn=Qn.filter(function(no){return no.id!==ir.id}));var Gr=(0,be.g6)(ir.points,Ee.zoom.value);if((ir.type==="line"||ir.type==="freedraw")&&Gr){var so=ir.points,zo=so[0];(0,p.DR)(ir,{points:so.map(function(no,ao){return ao===so.length-1?[zo[0],zo[1]]:no})})}if((0,y.Mn)(ir)&&!Gr&&ir.points.length>1){var ii=B._.getPointAtIndexGlobalCoordinates(ir,-1),Ir=(0,_.Z)(ii,2),hr=Ir[0],Ur=Ir[1];(0,le.R)(ir,Ee,a.Z.getScene(ir),{x:hr,y:Ur})}}return(Ee.activeTool.locked||Ee.activeTool.type==="freedraw")&&ir||(0,ve.z8)(Zt),ur=Ee.activeTool.type==="eraser"?(0,u.Om)(Ee,l(l({},Ee.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,u.Om)(Ee,{type:"selection"}),{elements:Qn,appState:l(l({},Ee),{},{cursorButton:"up",activeTool:(Ee.activeTool.locked||Ee.activeTool.type==="freedraw")&&ir?Ee.activeTool:ur,activeEmbeddable:null,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:ir&&!Ee.activeTool.locked&&Ee.activeTool.type!=="freedraw"?l(l({},Ee.selectedElementIds),{},(0,S.Z)({},ir.id,!0)):Ee.selectedElementIds,selectedLinearElement:ir&&(0,y.bt)(ir)?new B._(ir,mn):Ee.selectedLinearElement,pendingImageElementId:null}),commitToHistory:Ee.activeTool.type==="freedraw"}},keyTest:function(et,Ee){return et.key===F.tW.ESCAPE&&(Ee.editingLinearElement!==null||!Ee.draggingElement&&Ee.multiElement===null)||(et.key===F.tW.ESCAPE||et.key===F.tW.ENTER)&&Ee.multiElement!==null},PanelComponent:function(et){var Ee=et.appState,Le=et.updateData,Ue=et.data;return(0,r.jsx)(ie.V,{type:"button",icon:w.$c,title:(0,I.t)("buttons.done"),"aria-label":(0,I.t)("buttons.done"),onClick:Le,visible:Ee.multiElement!=null,size:Ue?.size||"medium"})}}),M=t(4406);function V(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function q(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?V(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):V(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}var re="{}",ae=(0,P.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(et,Ee){var Le=[],Ue=et.find(function(Zt){return Ee.selectedElementIds[Zt.id]});if(Le.push(Ue),Ue&&(0,y.Xo)(Ue)){var st=(0,ce.WJ)(Ue);Le.push(st)}return Ue&&(re=JSON.stringify(Le)),{appState:q(q({},Ee),{},{toast:{message:(0,I.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&et.altKey&&et.code===F.aU.C}}),ge=(0,P.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(et,Ee){var Le=JSON.parse(re),Ue=Le[0],st=Le[1];if(!(0,z.r2)(Ue))return{elements:et,commitToHistory:!1};var Zt=(0,E.eD)(et,Ee,{includeBoundTextElement:!0}),qt=Zt.map(function(mn){return mn.id});return{elements:et.map(function(mn){if(qt.includes(mn.id)){var Xt,Vt,wn,Mn,qn,Qn,dr,ur=Ue;if((0,z.iB)(mn)&&mn.containerId&&(ur=st),!ur)return mn;var ir=(0,p.BE)(mn,{backgroundColor:(Xt=ur)===null||Xt===void 0?void 0:Xt.backgroundColor,strokeWidth:(Vt=ur)===null||Vt===void 0?void 0:Vt.strokeWidth,strokeColor:(wn=ur)===null||wn===void 0?void 0:wn.strokeColor,strokeStyle:(Mn=ur)===null||Mn===void 0?void 0:Mn.strokeStyle,fillStyle:(qn=ur)===null||qn===void 0?void 0:qn.fillStyle,opacity:(Qn=ur)===null||Qn===void 0?void 0:Qn.opacity,roughness:(dr=ur)===null||dr===void 0?void 0:dr.roughness,roundness:ur.roundness?(0,y.eK)(ur.roundness.type,mn)?ur.roundness:(0,y.UQ)(mn):null});if((0,z.iB)(ir)){var cr=ur.fontSize||f.n5,Ar=ur.fontFamily||f.rk,Gr=null;(ir=(0,p.BE)(ir,{fontSize:cr,fontFamily:Ar,textAlign:ur.textAlign||f.Hg,lineHeight:ur.lineHeight||(0,ce.PT)(Ar)})).containerId&&(Gr=Zt.find(function(so){return(0,z.iB)(ir)&&so.id===ir.containerId})||null),(0,z.oN)(ir,Gr)}return ir.type==="arrow"&&(0,y.Yv)(ur)&&(ir=(0,p.BE)(ir,{startArrowhead:ur.startArrowhead,endArrowhead:ur.endArrowhead})),(0,y.He)(mn)&&(ir=(0,p.BE)(ir,{roundness:null,backgroundColor:"transparent"})),ir}return mn}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&et.altKey&&et.code===F.aU.V}});function Se(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function Re(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?Se(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):Se(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}(0,P.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(et,Ee){return{appState:Re(Re({},Ee),{},{openMenu:Ee.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(et){var Ee=et.appState,Le=et.updateData;return(0,r.jsx)(ie.V,{type:"button",icon:w.RY,"aria-label":(0,I.t)("buttons.menu"),onClick:Le,selected:Ee.openMenu==="canvas"})}}),(0,P.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(et,Ee){return{appState:Re(Re({},Ee),{},{openMenu:Ee.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData;return(0,r.jsx)(ie.V,{visible:(0,z.RT)(Le,(0,z.Lm)(Ee)),type:"button",icon:w.DG,"aria-label":(0,I.t)("buttons.edit"),onClick:Ue,selected:Le.openMenu==="shape"})}});var Ye=(0,P.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(et,Ee,Le,Ue){var st=Ue.focusContainer;return Ee.openDialog==="help"&&st(),{appState:Re(Re({},Ee),{},{openDialog:Ee.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(et){return et.key===F.tW.QUESTION_MARK}}),Ge=t(6655),We=t(4643);function qe(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function lt(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?qe(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):qe(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}function ft(et,Ee){var Le=typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(!Le){if(Array.isArray(et)||(Le=function(Xt,Vt){if(Xt){if(typeof Xt=="string")return ze(Xt,Vt);var wn=Object.prototype.toString.call(Xt).slice(8,-1);if(wn==="Object"&&Xt.constructor&&(wn=Xt.constructor.name),wn==="Map"||wn==="Set")return Array.from(Xt);if(wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wn))return ze(Xt,Vt)}}(et))||Ee){Le&&(et=Le);var Ue=0,st=function(){};return{s:st,n:function(){return Ue>=et.length?{done:!0}:{done:!1,value:et[Ue++]}},e:function(Xt){throw Xt},f:st}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zt,qt=!0,mn=!1;return{s:function(){Le=Le.call(et)},n:function(){var Xt=Le.next();return qt=Xt.done,Xt},e:function(Xt){mn=!0,Zt=Xt},f:function(){try{qt||Le.return==null||Le.return()}finally{if(mn)throw Zt}}}}function ze(et,Ee){(Ee==null||Ee>et.length)&&(Ee=et.length);for(var Le=0,Ue=new Array(Ee);Le<Ee;Le++)Ue[Le]=et[Le];return Ue}var we=function(et,Ee,Le){var Ue=Le.scene.getSelectedElements({selectedElementIds:Ee.selectedElementIds,includeBoundTextElement:!0});return Ue.length>=2&&!function(st){if(st.length>=2){var Zt,qt=ft(st[0].groupIds);try{var mn=function(){var Vt=Zt.value;if(st.reduce(function(wn,Mn){return wn&&(0,T.Nd)(Mn,Vt)},!0))return{v:!0}};for(qt.s();!(Zt=qt.n()).done;){var Xt=mn();if((0,Ge.Z)(Xt)==="object")return Xt.v}}catch(Vt){qt.e(Vt)}finally{qt.f()}}return!1}(Ue)},Me=(0,P.z)({name:"group",trackEvent:{category:"element"},perform:function(et,Ee,Le,Ue){var st=Ue.scene.getSelectedElements({selectedElementIds:Ee.selectedElementIds,includeBoundTextElement:!0});if(st.length<2)return{appState:Ee,elements:et,commitToHistory:!1};var Zt=(0,T.iJ)(Ee);if(Zt.length===1){var qt=Zt[0],mn=new Set((0,T.Fb)(et,qt).map(function(cr){return cr.id})),Xt=new Set(st.map(function(cr){return cr.id}));if(new Set([].concat((0,g.Z)(Array.from(mn)),(0,g.Z)(Array.from(Xt)))).size===mn.size)return{appState:Ee,elements:et,commitToHistory:!1}}var Vt=(0,g.Z)(et);new Set(st.map(function(cr){return cr.frameId})).size>1&&(0,Pe.SH)(st).forEach(function(cr,Ar){Vt=(0,Pe.lz)(Vt,cr,Ee)});var wn=(0,We.kb)(),Mn=(0,u.xn)(st);Vt=Vt.map(function(cr){return Mn.get(cr.id)?(0,p.BE)(cr,{groupIds:(0,T.S_)(cr.groupIds,wn,Ee.editingGroupId)}):cr});var qn=(0,T.Fb)(Vt,wn),Qn=qn[qn.length-1],dr=Vt.lastIndexOf(Qn),ur=Vt.slice(dr+1),ir=Vt.slice(0,dr).filter(function(cr){return!(0,T.Nd)(cr,wn)});return Vt=[].concat((0,g.Z)(ir),(0,g.Z)(qn),(0,g.Z)(ur)),{appState:lt(lt({},Ee),(0,T.F$)(wn,lt(lt({},Ee),{},{selectedGroupIds:{}}),(0,z.Lm)(Vt))),elements:Vt,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(et,Ee,Le,Ue){return we(0,Ee,Ue)},keyTest:function(et){return!et.shiftKey&&et[F.tW.CTRL_OR_CMD]&&et.key===F.tW.G},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData,st=et.app;return(0,r.jsx)(ie.V,{hidden:!we(0,Le,st),type:"button",icon:(0,r.jsx)(w.BF,{theme:Le.theme}),onClick:function(){return Ue(null)},title:"".concat((0,I.t)("labels.group"),"  ").concat((0,u.uY)("CtrlOrCmd+G")),"aria-label":(0,I.t)("labels.group"),visible:(0,E.N)((0,z.Lm)(Ee),Le)})}}),$e=(0,P.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(et,Ee,Le,Ue){if((0,T.iJ)(Ee).length===0)return{appState:Ee,elements:et,commitToHistory:!1};var st=(0,g.Z)(et),Zt=[];st=st.map(function(Vt){(0,y.Xh)(Vt)&&Zt.push(Vt.id);var wn=(0,T.h6)(Vt.groupIds,Ee.selectedGroupIds);return wn.length===Vt.groupIds.length?Vt:(0,p.BE)(Vt,{groupIds:wn})});var qt=(0,T.bO)(Ee,(0,z.Lm)(st),Ee,null),mn=Ue.scene.getSelectedElements(Ee),Xt=new Set(mn.filter(function(Vt){return Vt.frameId}).map(function(Vt){return Vt.frameId}));return(0,Pe.wO)(et).filter(function(Vt){return Xt.has(Vt.id)}).forEach(function(Vt){Vt&&(st=(0,Pe.pr)(st,(0,Pe.ni)(st,Vt,Ee),Vt,Ee))}),qt.selectedElementIds=Object.entries(qt.selectedElementIds).reduce(function(Vt,wn){var Mn=(0,_.Z)(wn,2),qn=Mn[0];return Mn[1]&&!Zt.includes(qn)&&(Vt[qn]=!0),Vt},{}),{appState:lt(lt({},Ee),qt),elements:st,commitToHistory:!0}},keyTest:function(et){return et.shiftKey&&et[F.tW.CTRL_OR_CMD]&&et.key===F.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(et,Ee){return(0,T.iJ)(Ee).length>0},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData;return(0,r.jsx)(ie.V,{type:"button",hidden:(0,T.iJ)(Le).length===0,icon:(0,r.jsx)(w.RJ,{theme:Le.theme}),onClick:function(){return Ue(null)},title:"".concat((0,I.t)("labels.ungroup"),"  ").concat((0,u.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,I.t)("labels.ungroup"),visible:(0,E.N)((0,z.Lm)(Ee),Le)})}}),at=t(957),dt=t(3379),vt=t.n(dt),Tt=t(7795),Et=t.n(Tt),jt=t(569),Kt=t.n(jt),Gt=t(3565),Ht=t.n(Gt),$t=t(9216),pn=t.n($t),_t=t(4589),xt=t.n(_t),At=t(3729),It={};It.styleTagTransform=xt(),It.setAttributes=Ht(),It.insert=Kt().bind(null,"head"),It.domAPI=Et(),It.insertStyleElement=pn(),vt()(At.Z,It),At.Z&&At.Z.locals&&At.Z.locals;var Mt=t(9787),Nt=function(et){var Ee=et.color,Le=et.onClick,Ue=et.name,st=et.src,Zt=(0,at.l)(Ue),qt=(0,Mt.useState)(!1),mn=(0,_.Z)(qt,2),Xt=mn[0],Vt=mn[1],wn=!Xt&&st,Mn=wn?void 0:{background:Ee};return(0,r.jsx)("div",{className:"Avatar",style:Mn,onClick:Le,children:wn?(0,r.jsx)("img",{className:"Avatar-img",src:st,alt:Zt,referrerPolicy:"no-referrer",onError:function(){return Vt(!0)}}):Zt})},Yt=t(2382);function ln(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function an(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?ln(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):ln(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}(0,P.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(et,Ee,Le){var Ue=Le;return Ue?{appState:an(an(an({},Ee),(0,Yt.s)({scenePoint:Ue,viewportDimensions:{width:Ee.width,height:Ee.height},zoom:Ee.zoom})),{},{openMenu:Ee.openMenu==="canvas"?null:Ee.openMenu}),commitToHistory:!1}:{appState:Ee,commitToHistory:!1}},PanelComponent:function(et){var Ee=et.updateData,Le=et.data,Ue=(0,_.Z)(Le,2),st=Ue[0],Zt=Ue[1],qt=(0,at.G)(st);return(0,r.jsx)(Nt,{color:qt,onClick:function(){return Ee(Zt.pointer)},name:Zt.username||"",src:Zt.avatarUrl})}});var kn=t(5742);function Tn(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function zn(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?Tn(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):Tn(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}function un(et,Ee){var Le=typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(!Le){if(Array.isArray(et)||(Le=function(Xt,Vt){if(Xt){if(typeof Xt=="string")return zt(Xt,Vt);var wn=Object.prototype.toString.call(Xt).slice(8,-1);if(wn==="Object"&&Xt.constructor&&(wn=Xt.constructor.name),wn==="Map"||wn==="Set")return Array.from(Xt);if(wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wn))return zt(Xt,Vt)}}(et))||Ee){Le&&(et=Le);var Ue=0,st=function(){};return{s:st,n:function(){return Ue>=et.length?{done:!0}:{done:!1,value:et[Ue++]}},e:function(Xt){throw Xt},f:st}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zt,qt=!0,mn=!1;return{s:function(){Le=Le.call(et)},n:function(){var Xt=Le.next();return qt=Xt.done,Xt},e:function(Xt){mn=!0,Zt=Xt},f:function(){try{qt||Le.return==null||Le.return()}finally{if(mn)throw Zt}}}}function zt(et,Ee){(Ee==null||Ee>et.length)&&(Ee=et.length);for(var Le=0,Ue=new Array(Ee);Le<Ee;Le++)Ue[Le]=et[Le];return Ue}var en=(0,P.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(et,Ee,Le,Ue){var st,Zt=Ue.scene.getSelectedElements({selectedElementIds:Ee.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),qt=un(f.PR);try{var mn=function(){var Vt=st.value;if(Zt.some(function(wn){return wn.type===Vt}))return{v:{commitToHistory:!1,appState:zn(zn({},Ee),{},{errorMessage:(0,I.t)("errors.libraryElementTypeError.".concat(Vt))})}}};for(qt.s();!(st=qt.n()).done;){var Xt=mn();if((0,Ge.Z)(Xt)==="object")return Xt.v}}catch(Vt){qt.e(Vt)}finally{qt.f()}return Ue.library.getLatestLibrary().then(function(Vt){return Ue.library.setLibrary([{id:(0,We.kb)(),status:"unpublished",elements:Zt.map(kn.OL),created:Date.now()}].concat((0,g.Z)(Vt)))}).then(function(){return{commitToHistory:!1,appState:zn(zn({},Ee),{},{toast:{message:(0,I.t)("toast.addedToLibrary")}})}}).catch(function(Vt){return{commitToHistory:!1,appState:zn(zn({},Ee),{},{errorMessage:Vt.message})}})},contextItemLabel:"labels.addToLibrary"}),Jt=t(4949);function Sn(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function Hn(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?Sn(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):Sn(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}var Yn=function(et,Ee,Le){var Ue=Le.axis,st=Le.position,Zt=(0,Jt.v2)(et),qt=Ue==="x"?["minX","maxX"]:["minY","maxY"],mn=(0,_.Z)(qt,2),Xt=mn[0],Vt=mn[1],wn={x:0,y:0};return Hn(Hn({},wn),{},st==="start"?(0,S.Z)({},Ue,Ee[Xt]-Zt[Xt]):st==="end"?(0,S.Z)({},Ue,Ee[Vt]-Zt[Vt]):(0,S.Z)({},Ue,(Ee[Xt]+Ee[Vt])/2-(Zt[Xt]+Zt[Vt])/2))},or=function(et,Ee,Le,Ue){var st=Ue.scene.getSelectedElements(Ee);return st.length>1&&!st.some(function(Zt){return Zt.type==="frame"})},$n=function(et,Ee,Le,Ue){var st=function(qt,mn){var Xt=(0,T.AI)(qt),Vt=(0,Jt.v2)(qt);return Xt.flatMap(function(wn){var Mn=Yn(wn,Vt,mn);return wn.map(function(qn){return(0,p.BE)(qn,{x:qn.x+Mn.x,y:qn.y+Mn.y})})})}(Le.scene.getSelectedElements(Ee),Ue),Zt=(0,u.xn)(st);return(0,Pe.Tq)(et.map(function(qt){return Zt.get(qt.id)||qt}),Ee,Le)};(0,P.z)({name:"alignTop",trackEvent:{category:"element"},predicate:or,perform:function(et,Ee,Le,Ue){return{appState:Ee,elements:$n(et,Ee,Ue,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&et.shiftKey&&et.key===F.tW.ARROW_UP},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData,st=et.app;return(0,r.jsx)(ie.V,{hidden:!or(0,Le,0,st),type:"button",icon:w.Ct,onClick:function(){return Ue(null)},title:"".concat((0,I.t)("labels.alignTop"),"  ").concat((0,u.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,I.t)("labels.alignTop"),visible:(0,E.N)((0,z.Lm)(Ee),Le)})}}),(0,P.z)({name:"alignBottom",trackEvent:{category:"element"},predicate:or,perform:function(et,Ee,Le,Ue){return{appState:Ee,elements:$n(et,Ee,Ue,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&et.shiftKey&&et.key===F.tW.ARROW_DOWN},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData,st=et.app;return(0,r.jsx)(ie.V,{hidden:!or(0,Le,0,st),type:"button",icon:w.HL,onClick:function(){return Ue(null)},title:"".concat((0,I.t)("labels.alignBottom"),"  ").concat((0,u.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,I.t)("labels.alignBottom"),visible:(0,E.N)((0,z.Lm)(Ee),Le)})}}),(0,P.z)({name:"alignLeft",trackEvent:{category:"element"},predicate:or,perform:function(et,Ee,Le,Ue){return{appState:Ee,elements:$n(et,Ee,Ue,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&et.shiftKey&&et.key===F.tW.ARROW_LEFT},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData,st=et.app;return(0,r.jsx)(ie.V,{hidden:!or(0,Le,0,st),type:"button",icon:w.xs,onClick:function(){return Ue(null)},title:"".concat((0,I.t)("labels.alignLeft"),"  ").concat((0,u.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,I.t)("labels.alignLeft"),visible:(0,E.N)((0,z.Lm)(Ee),Le)})}}),(0,P.z)({name:"alignRight",trackEvent:{category:"element"},predicate:or,perform:function(et,Ee,Le,Ue){return{appState:Ee,elements:$n(et,Ee,Ue,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&et.shiftKey&&et.key===F.tW.ARROW_RIGHT},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData,st=et.app;return(0,r.jsx)(ie.V,{hidden:!or(0,Le,0,st),type:"button",icon:w.mh,onClick:function(){return Ue(null)},title:"".concat((0,I.t)("labels.alignRight"),"  ").concat((0,u.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,I.t)("labels.alignRight"),visible:(0,E.N)((0,z.Lm)(Ee),Le)})}}),(0,P.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},predicate:or,perform:function(et,Ee,Le,Ue){return{appState:Ee,elements:$n(et,Ee,Ue,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData,st=et.app;return(0,r.jsx)(ie.V,{hidden:!or(0,Le,0,st),type:"button",icon:w.ST,onClick:function(){return Ue(null)},title:(0,I.t)("labels.centerVertically"),"aria-label":(0,I.t)("labels.centerVertically"),visible:(0,E.N)((0,z.Lm)(Ee),Le)})}}),(0,P.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},predicate:or,perform:function(et,Ee,Le,Ue){return{appState:Ee,elements:$n(et,Ee,Ue,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData,st=et.app;return(0,r.jsx)(ie.V,{hidden:!or(0,Le,0,st),type:"button",icon:w.gK,onClick:function(){return Ue(null)},title:(0,I.t)("labels.centerHorizontally"),"aria-label":(0,I.t)("labels.centerHorizontally"),visible:(0,E.N)((0,z.Lm)(Ee),Le)})}});function rn(et,Ee){var Le=typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(!Le){if(Array.isArray(et)||(Le=function(Xt,Vt){if(Xt){if(typeof Xt=="string")return Pt(Xt,Vt);var wn=Object.prototype.toString.call(Xt).slice(8,-1);if(wn==="Object"&&Xt.constructor&&(wn=Xt.constructor.name),wn==="Map"||wn==="Set")return Array.from(Xt);if(wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wn))return Pt(Xt,Vt)}}(et))||Ee){Le&&(et=Le);var Ue=0,st=function(){};return{s:st,n:function(){return Ue>=et.length?{done:!0}:{done:!1,value:et[Ue++]}},e:function(Xt){throw Xt},f:st}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zt,qt=!0,mn=!1;return{s:function(){Le=Le.call(et)},n:function(){var Xt=Le.next();return qt=Xt.done,Xt},e:function(Xt){mn=!0,Zt=Xt},f:function(){try{qt||Le.return==null||Le.return()}finally{if(mn)throw Zt}}}}function Pt(et,Ee){(Ee==null||Ee>et.length)&&(Ee=et.length);for(var Le=0,Ue=new Array(Ee);Le<Ee;Le++)Ue[Le]=et[Le];return Ue}var Dt=function(et,Ee){var Le=Ee.scene.getSelectedElements(et);return Le.length>1&&!Le.some(function(Ue){return Ue.type==="frame"})},Ft=function(et,Ee,Le,Ue){var st=function(qt,mn){var Xt,Vt=mn.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],wn=(0,_.Z)(Vt,4),Mn=wn[0],qn=wn[1],Qn=wn[2],dr=wn[3],ur=(0,Jt.v2)(qt),ir=(0,T.AI)(qt).map(function(Ur){return[Ur,(0,Jt.v2)(Ur)]}).sort(function(Ur,no){return Ur[1][qn]-no[1][qn]}),cr=0,Ar=rn(ir);try{for(Ar.s();!(Xt=Ar.n()).done;)cr+=Xt.value[1][dr]}catch(Ur){Ar.e(Ur)}finally{Ar.f()}var Gr=(ur[dr]-cr)/(ir.length-1);if(Gr<0){var so=ir.findIndex(function(Ur){return Ur[1][Mn]===ur[Mn]}),zo=ir.findIndex(function(Ur){return Ur[1][Qn]===ur[Qn]}),ii=(ir[zo][1][qn]-ir[so][1][qn])/(ir.length-1),Ir=ir[so][1][qn];return ir.flatMap(function(Ur,no){var ao=(0,_.Z)(Ur,2),Xo=ao[0],Ho=ao[1],di={x:0,y:0};return no!==so&&no!==zo&&(Ir+=ii,di[mn.axis]=Ir-Ho[qn]),Xo.map(function(ai){return(0,p.BE)(ai,{x:ai.x+di.x,y:ai.y+di.y})})})}var hr=ur[Mn];return ir.flatMap(function(Ur){var no=(0,_.Z)(Ur,2),ao=no[0],Xo=no[1],Ho={x:0,y:0};return Ho[mn.axis]=hr-Xo[Mn],hr+=Gr,hr+=Xo[dr],ao.map(function(di){return(0,p.BE)(di,{x:di.x+Ho.x,y:di.y+Ho.y})})})}(Le.scene.getSelectedElements(Ee),Ue),Zt=(0,u.xn)(st);return(0,Pe.Tq)(et.map(function(qt){return Zt.get(qt.id)||qt}),Ee,Le)},dn=((0,P.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(et,Ee,Le,Ue){return{appState:Ee,elements:Ft(et,Ee,Ue,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(et){return!et[F.tW.CTRL_OR_CMD]&&et.altKey&&et.code===F.aU.H},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData,st=et.app;return(0,r.jsx)(ie.V,{hidden:!Dt(Le,st),type:"button",icon:w.uD,onClick:function(){return Ue(null)},title:"".concat((0,I.t)("labels.distributeHorizontally"),"  ").concat((0,u.uY)("Alt+H")),"aria-label":(0,I.t)("labels.distributeHorizontally"),visible:(0,E.N)((0,z.Lm)(Ee),Le)})}}),(0,P.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(et,Ee,Le,Ue){return{appState:Ee,elements:Ft(et,Ee,Ue,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(et){return!et[F.tW.CTRL_OR_CMD]&&et.altKey&&et.code===F.aU.V},PanelComponent:function(et){var Ee=et.elements,Le=et.appState,Ue=et.updateData,st=et.app;return(0,r.jsx)(ie.V,{hidden:!Dt(Le,st),type:"button",icon:w.W5,onClick:function(){return Ue(null)},title:"".concat((0,I.t)("labels.distributeVertically"),"  ").concat((0,u.uY)("Alt+V")),"aria-label":(0,I.t)("labels.distributeVertically"),visible:(0,E.N)((0,z.Lm)(Ee),Le)})}}),t(4381)),jn=(0,P.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(et,Ee,Le,Ue){return{elements:(0,Pe.Tq)(Dn(et,Ee,"horizontal"),Ee,Ue),appState:Ee,commitToHistory:!0}},keyTest:function(et){return et.shiftKey&&et.code===F.aU.H},contextItemLabel:"labels.flipHorizontal"}),Cn=(0,P.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(et,Ee,Le,Ue){return{elements:(0,Pe.Tq)(Dn(et,Ee,"vertical"),Ee,Ue),appState:Ee,commitToHistory:!0}},keyTest:function(et){return et.shiftKey&&et.code===F.aU.V&&!et[F.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical"}),Dn=function(et,Ee,Le){var Ue=(0,E.eD)((0,z.Lm)(et),Ee,{includeBoundTextElement:!0,includeElementsInFrames:!0}),st=Wn(Ue,Ee,Le),Zt=(0,u.xn)(st);return et.map(function(qt){return Zt.get(qt.id)||qt})},Wn=function(et,Ee,Le){var Ue=(0,Jt.v2)(et),st=Ue.minX,Zt=Ue.minY,qt=Ue.maxX,mn=Ue.maxY;return(0,dn.LM)({originalElements:(0,u.xn)(et)},et,"nw",!0,Le==="horizontal"?qt:st,Le==="horizontal"?Zt:mn),((0,le.N1)(Ee)?le.el:le.H)(et),et},Ln=t(5047);function er(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function Vn(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?er(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):er(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}var Pn=(0,P.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(et){return!et.gridSize}},perform:function(et,Ee){return{appState:Vn(Vn({},Ee),{},{gridSize:this.checked(Ee)?null:f.k,objectsSnapModeEnabled:!1}),commitToHistory:!1}},checked:function(et){return et.gridSize!==null},predicate:function(et,Ee,Le){return Le.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(et){return et[F.tW.CTRL_OR_CMD]&&et.code===F.aU.QUOTE}});function Rn(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function Nn(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?Rn(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):Rn(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}var Gn=(0,P.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(et){return!et.zenModeEnabled}},perform:function(et,Ee){return{appState:Nn(Nn({},Ee),{},{zenModeEnabled:!this.checked(Ee)}),commitToHistory:!1}},checked:function(et){return et.zenModeEnabled},predicate:function(et,Ee,Le){return Le.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(et){return!et[F.tW.CTRL_OR_CMD]&&et.altKey&&et.code===F.aU.Z}});function nr(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function rr(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?nr(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):nr(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}var Or=(0,P.z)({name:"objectsSnapMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(et){return!et.objectsSnapModeEnabled}},perform:function(et,Ee){return{appState:rr(rr({},Ee),{},{objectsSnapModeEnabled:!this.checked(Ee),gridSize:null}),commitToHistory:!1}},checked:function(et){return et.objectsSnapModeEnabled},predicate:function(et,Ee,Le){return Le.objectsSnapModeEnabled===void 0},contextItemLabel:"buttons.objectsSnapMode",keyTest:function(et){return!et[F.tW.CTRL_OR_CMD]&&et.altKey&&et.code===F.aU.S}}),Xr=t(7080),po=t(7392),xo=t(5992),jo=t(9672);function ho(et,Ee){var Le=Object.keys(et);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(et);Ee&&(Ue=Ue.filter(function(st){return Object.getOwnPropertyDescriptor(et,st).enumerable})),Le.push.apply(Le,Ue)}return Le}function Qr(et){for(var Ee=1;Ee<arguments.length;Ee++){var Le=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?ho(Object(Le),!0).forEach(function(Ue){(0,S.Z)(et,Ue,Le[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Le)):ho(Object(Le)).forEach(function(Ue){Object.defineProperty(et,Ue,Object.getOwnPropertyDescriptor(Le,Ue))})}return et}var go=(0,P.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(et,Ee,Le,Ue){var st=Ue.scene.getSelectedElements(Ee);return!(st.length!==1||!(0,y.bt)(st[0]))},perform:function(et,Ee,Le,Ue){var st,Zt=Ue.scene.getSelectedElements({selectedElementIds:Ee.selectedElementIds,includeBoundTextElement:!0})[0],qt=((st=Ee.editingLinearElement)===null||st===void 0?void 0:st.elementId)===Zt.id?null:new B._(Zt,Ue.scene);return{appState:Qr(Qr({},Ee),{},{editingLinearElement:qt}),commitToHistory:!1}},contextItemLabel:function(et,Ee,Le){var Ue,st=Le.scene.getSelectedElements({selectedElementIds:Ee.selectedElementIds,includeBoundTextElement:!0})[0];return((Ue=Ee.editingLinearElement)===null||Ue===void 0?void 0:Ue.elementId)===st.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},2767:function(Ze,te,t){t.d(te,{N:function(){return e},z:function(){return _}});var e=[],_=function(g){return e=e.concat(g),g}},2529:function(Ze,te,t){t.d(te,{C:function(){return y}});var e=t(9937),_=t(8227),g=t(9827),p={toggleTheme:[(0,g.uY)("Shift+Alt+D")],saveScene:[(0,g.uY)("CtrlOrCmd+S")],loadScene:[(0,g.uY)("CtrlOrCmd+O")],clearCanvas:[(0,g.uY)("CtrlOrCmd+Delete")],imageExport:[(0,g.uY)("CtrlOrCmd+Shift+E")],cut:[(0,g.uY)("CtrlOrCmd+X")],copy:[(0,g.uY)("CtrlOrCmd+C")],paste:[(0,g.uY)("CtrlOrCmd+V")],copyStyles:[(0,g.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,g.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,g.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,g.uY)("Delete")],duplicateSelection:[(0,g.uY)("CtrlOrCmd+D"),(0,g.uY)("Alt+".concat((0,_.t)("helpDialog.drag")))],sendBackward:[(0,g.uY)("CtrlOrCmd+[")],bringForward:[(0,g.uY)("CtrlOrCmd+]")],sendToBack:[e.Um?(0,g.uY)("CtrlOrCmd+Alt+["):(0,g.uY)("CtrlOrCmd+Shift+[")],bringToFront:[e.Um?(0,g.uY)("CtrlOrCmd+Alt+]"):(0,g.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,g.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,g.uY)("CtrlOrCmd+G")],ungroup:[(0,g.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,g.uY)("CtrlOrCmd+'")],zenMode:[(0,g.uY)("Alt+Z")],objectsSnapMode:[(0,g.uY)("Alt+S")],stats:[(0,g.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,g.uY)("Shift+H")],flipVertical:[(0,g.uY)("Shift+V")],viewMode:[(0,g.uY)("Alt+R")],hyperlink:[(0,g.uY)("CtrlOrCmd+K")],toggleElementLock:[(0,g.uY)("CtrlOrCmd+Shift+L")]},y=function(T){var E=p[T];return E&&E.length>0?E[0]:""}},3646:function(Ze,te,t){t.d(te,{L:function(){return e}});var e=function(_,g,p,y){try{if(typeof window>"u"||{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_WORKER_ID||![].includes(_))return;window.sa_event&&window.sa_event(g,{category:_,label:p,value:y})}catch(T){console.error("error during analytics",T)}}},6853:function(Ze,te,t){t.d(te,{EN:function(){return H},eS:function(){return N},im:function(){return T},l$:function(){return x},s:function(){return u}});var e=t(9240),_=t(9937),g=t(8227),p=t(9827),y=_.ZB.includes(devicePixelRatio)?devicePixelRatio:1,T=function(){return{showWelcomeScreen:!1,theme:_.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:_.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:_.HN.fillStyle,currentItemFontFamily:_.rk,currentItemFontSize:_.n5,currentItemOpacity:_.HN.opacity,currentItemRoughness:_.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:_.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:_.HN.strokeStyle,currentItemStrokeWidth:_.HN.strokeWidth,currentItemTextAlign:_.Hg,cursorButton:"up",activeEmbeddable:null,draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:_.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:y,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,g.t)("labels.untitled"),"-").concat((0,p.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:e.HO.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1}},E={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1}},a=function(m,k){for(var Q={},ue=0,me=Object.keys(m);ue<me.length;ue++){var ye=me[ue],fe=E[ye];if(fe!=null&&fe[k]){var G=m[ye];Q[ye]=G}}return Q},u=function(m){return a(m,"export")},N=function(m){return a(m,"server")},H=function(m){return m.activeTool.type==="eraser"},x=function(m){return m.activeTool.type==="hand"}},901:function(Ze,te,t){t.d(te,{dz:function(){return G},i$:function(){return ue},ps:function(){return I}});var e=t(1930),_=t(7169),g=t(2577),p=t(9240),y=t(9937),T=t(7651),E=t(4643);function a(P,w){var f=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!f){if(Array.isArray(P)||(f=function(S,z){if(S){if(typeof S=="string")return u(S,z);var B=Object.prototype.toString.call(S).slice(8,-1);if(B==="Object"&&S.constructor&&(B=S.constructor.name),B==="Map"||B==="Set")return Array.from(S);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return u(S,z)}}(P))||w){f&&(P=f);var r=0,o=function(){};return{s:o,n:function(){return r>=P.length?{done:!0}:{done:!1,value:P[r++]}},e:function(S){throw S},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,s=!0,c=!1;return{s:function(){f=f.call(P)},n:function(){var S=f.next();return s=S.done,S},e:function(S){c=!0,b=S},f:function(){try{s||f.return==null||f.return()}finally{if(c)throw b}}}}function u(P,w){(w==null||w>P.length)&&(w=P.length);for(var f=0,r=new Array(w);f<w;f++)r[f]=P[f];return r}function N(P,w){var f=Object.keys(P);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(P);w&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(P,o).enumerable})),f.push.apply(f,r)}return f}function H(P){for(var w=1;w<arguments.length;w++){var f=arguments[w]!=null?arguments[w]:{};w%2?N(Object(f),!0).forEach(function(r){(0,_.Z)(P,r,f[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(f)):N(Object(f)).forEach(function(r){Object.defineProperty(P,r,Object.getOwnPropertyDescriptor(f,r))})}return P}var x=32,m=12,k=256,Q="NOT_SPREADSHEET",ue="VALID_SPREADSHEET",me=function(P){var w=/^([-+]?)[$]?([-+]?)([\d.,]+)[%]?$/.exec(P);return w?parseFloat("".concat((w[1]||w[2])+w[3]).replace(/,/g,"")):null},ye=function(P,w){return P.slice(1).every(function(f){return me(f[w])!==null})},fe=function(P){var w=P[0].length;if(w>2)return{type:Q,reason:"More than 2 columns"};if(w===1){if(!ye(P,0))return{type:Q,reason:"Value is not numeric"};var f=me(P[0][0])===null,r=(f?P.slice(1):P).map(function(C){return me(C[0])});return r.length<2?{type:Q,reason:"Less than two rows"}:{type:ue,spreadsheet:{title:f?P[0][0]:null,labels:null,values:r}}}var o=ye(P,0),b=ye(P,1);if(!o&&!b)return{type:Q,reason:"Value is not numeric"};var s=b?[0,1]:[1,0],c=(0,g.Z)(s,2),S=c[0],z=c[1],B=me(P[0][z])===null,j=B?P.slice(1):P;return j.length<2?{type:Q,reason:"Less than 2 rows"}:{type:ue,spreadsheet:{title:B?P[0][z]:null,labels:j.map(function(C){return C[S]}),values:j.map(function(C){return me(C[z])})}}},G=function(P){var w=P.trim().split(`
`).map(function(b){return b.trim().split("	")});if(w.length&&w[0].length!==2&&(w=P.trim().split(`
`).map(function(b){return b.trim().split(",")})),w.length===0)return{type:Q,reason:"No values"};var f=w[0].length;if(!w.every(function(b){return b.length===f}))return{type:Q,reason:"All rows don't have same number of columns"};var r=fe(w);if(r.type!==ue){var o=fe(function(b){for(var s=[],c=0;c<b[0].length;c++){for(var S=[],z=0;z<b.length;z++)S.push(b[z][c]);s.push(S)}return s}(w));if(o.type===ue)return o}return r},$=(0,p.sF)(p.C2),U={fillStyle:"hachure",fontFamily:y.rk,fontSize:y.n5,opacity:100,roughness:1,strokeColor:p.HO.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:y.oX.MIDDLE,locked:!1},L=function(P){return{chartWidth:44*P.values.length+m,chartHeight:280}},F=function(P,w,f,r,o,b){var s=L(P),c=s.chartWidth,S=P.title?(0,T.VL)(H(H({backgroundColor:o,groupIds:[r]},U),{},{text:P.title,x:w+c/2,y:f-k-24-y.n5,roundness:null,textAlign:"center"})):null;return[].concat((0,e.Z)([]),(0,e.Z)(S?[S]:[]),(0,e.Z)(function(z,B,j,C,A){var Y;return((Y=z.labels)===null||Y===void 0?void 0:Y.map(function(ie,le){return(0,T.VL)(H(H({groupIds:[C],backgroundColor:A},U),{},{text:ie.length>8?"".concat(ie.slice(0,5),"..."):ie,x:B+44*le+24,y:j+6,width:x,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(P,w,f,r,o)),(0,e.Z)(function(z,B,j,C,A){var Y=(0,T.VL)(H(H({groupIds:[C],backgroundColor:A},U),{},{x:B-m,y:j-m,text:"0",textAlign:"right"}));return[Y,(0,T.VL)(H(H({groupIds:[C],backgroundColor:A},U),{},{x:B-m,y:j-k-Y.height/2,text:Math.max.apply(Math,(0,e.Z)(z.values)).toLocaleString(),textAlign:"right"}))]}(P,w,f,r,o)),(0,e.Z)(function(z,B,j,C,A){var Y=L(z),ie=Y.chartWidth,le=Y.chartHeight;return[(0,T.y8)(H(H({backgroundColor:A,groupIds:[C]},U),{},{type:"line",x:B,y:j,startArrowhead:null,endArrowhead:null,width:ie,points:[[0,0],[ie,0]]})),(0,T.y8)(H(H({backgroundColor:A,groupIds:[C]},U),{},{type:"line",x:B,y:j,startArrowhead:null,endArrowhead:null,height:le,points:[[0,0],[0,-le]]})),(0,T.y8)(H(H({backgroundColor:A,groupIds:[C]},U),{},{type:"line",x:B,y:j-k-m,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:ie,opacity:50,points:[[0,0],[ie,0]]}))]}(P,w,f,r,o)))},I=function(P,w,f,r){return P==="line"?function(o,b,s){var c,S=Math.max.apply(Math,(0,e.Z)(o.values)),z=(0,E.kb)(),B=$[Math.floor(Math.random()*$.length)],j=0,C=[],A=a(o.values);try{for(A.s();!(c=A.n()).done;){var Y=c.value,ie=44*j,le=-Y/S*k;C.push([ie,le]),j++}}catch(Ke){A.e(Ke)}finally{A.f()}var ce=Math.max.apply(Math,(0,e.Z)(C.map(function(Ke){return Ke[0]}))),de=Math.max.apply(Math,(0,e.Z)(C.map(function(Ke){return Ke[1]}))),J=Math.min.apply(Math,(0,e.Z)(C.map(function(Ke){return Ke[0]}))),ee=Math.min.apply(Math,(0,e.Z)(C.map(function(Ke){return Ke[1]}))),he=(0,T.y8)(H(H({backgroundColor:B,groupIds:[z]},U),{},{type:"line",x:b+m+16,y:s-m,startArrowhead:null,endArrowhead:null,height:de-ee,width:ce-J,strokeWidth:2,points:C})),Pe=o.values.map(function(Ke,Ae){var Oe=44*Ae+6,Te=-Ke/S*k+6;return(0,T.Up)(H(H({backgroundColor:B,groupIds:[z]},U),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:b+Oe+16,y:s+Te-24,width:m,height:m}))}),He=o.values.map(function(Ke,Ae){var Oe=44*Ae+6,Te=Ke/S*k+6+m;return(0,T.y8)(H(H({backgroundColor:B,groupIds:[z]},U),{},{type:"line",x:b+Oe+16+6,y:s-Te,startArrowhead:null,endArrowhead:null,height:Te,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Te]]}))});return[].concat((0,e.Z)(F(o,b,s,z,B)),[he],(0,e.Z)(He),(0,e.Z)(Pe))}(w,f,r):function(o,b,s){var c=Math.max.apply(Math,(0,e.Z)(o.values)),S=(0,E.kb)(),z=$[Math.floor(Math.random()*$.length)],B=o.values.map(function(j,C){var A=j/c*k;return(0,T.Up)(H(H({backgroundColor:z,groupIds:[S]},U),{},{type:"rectangle",x:b+44*C+m,y:s-A-m,width:x,height:A}))});return[].concat((0,e.Z)(B),(0,e.Z)(F(o,b,s,S,z)))}(w,f,r)}},957:function(Ze,te,t){t.d(te,{G:function(){return e},l:function(){return _}});var e=function(g){var p=Math.abs(function(y){var T=0;if(y.length===0)return T;for(var E=0;E<y.length;E++)T=(T<<5)-T+y.charCodeAt(E);return T}(g));return"hsl(".concat(p%37*10,", ").concat(100,"%, ").concat(83,"%)")},_=function(g){var p,y=g==null||(p=g.trim())===null||p===void 0?void 0:p.codePointAt(0);return(y?String.fromCodePoint(y):"?").toUpperCase()}},4694:function(Ze,te,t){t.d(te,{OO:function(){return fe},Se:function(){return I},dd:function(){return r},mQ:function(){return w},uR:function(){return f},vQ:function(){return $},vt:function(){return me},wx:function(){return ue}});var e=t(7169),_=t(8950),g=t(2577),p=t(2975),y=t.n(p),T=t(901),E=t(9937),a=t(4183),u=t(5742),N=t(583),H=t(4682),x=t(9827),m=t(8227);function k(b,s){var c=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!c){if(Array.isArray(b)||(c=function(A,Y){if(A){if(typeof A=="string")return Q(A,Y);var ie=Object.prototype.toString.call(A).slice(8,-1);if(ie==="Object"&&A.constructor&&(ie=A.constructor.name),ie==="Map"||ie==="Set")return Array.from(A);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return Q(A,Y)}}(b))||s){c&&(b=c);var S=0,z=function(){};return{s:z,n:function(){return S>=b.length?{done:!0}:{done:!1,value:b[S++]}},e:function(A){throw A},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,j=!0,C=!1;return{s:function(){c=c.call(b)},n:function(){var A=c.next();return j=A.done,A},e:function(A){C=!0,B=A},f:function(){try{j||c.return==null||c.return()}finally{if(C)throw B}}}}function Q(b,s){(s==null||s>b.length)&&(s=b.length);for(var c=0,S=new Array(s);c<s;c++)S[c]=b[c];return S}var ue="clipboard"in navigator&&"writeText"in navigator.clipboard,me="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,ye=function(b){return!(![E.r8.excalidraw,E.r8.excalidrawClipboard,E.r8.excalidrawClipboardWithAPI].includes(b?.type)||!Array.isArray(b.elements))},fe=function(b){var s=b.types,c=b.files;s||c||console.warn("createPasteEvent: no types or files provided");var S=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(s)for(var z=0,B=Object.entries(s);z<B.length;z++){var j=(0,g.Z)(B[z],2),C=j[0],A=j[1];try{var Y,ie;if((Y=S.clipboardData)===null||Y===void 0||Y.setData(C,A),((ie=S.clipboardData)===null||ie===void 0?void 0:ie.getData(C))!==A)throw new Error('Failed to set "'.concat(C,'" as clipboardData item'))}catch(Pe){throw new Error(Pe.message)}}if(c){var le,ce=-1,de=k(c);try{for(de.s();!(le=de.n()).done;){var J=le.value;ce++;try{var ee,he;if((ee=S.clipboardData)===null||ee===void 0||ee.items.add(J),((he=S.clipboardData)===null||he===void 0?void 0:he.files[ce])!==J)throw new Error('Failed to set file "'.concat(J.name,'" as clipboardData item'))}catch(Pe){throw new Error(Pe.message)}}}catch(Pe){de.e(Pe)}finally{de.f()}}return S},G=function(b){var s=b.elements,c=b.files,S=new Set(s.filter(function(C){return C.type==="frame"})),z=!1,B=s.reduce(function(C,A){return(0,a.wi)(A)&&(z=!0,c&&c[A.fileId]&&(C[A.fileId]=c[A.fileId])),C},{});z&&!c&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var j={type:E.r8.excalidrawClipboard,elements:s.map(function(C){if((0,H.$Z)(C)&&!S.has((0,H.$Z)(C))){var A=(0,u.OL)(C);return(0,N.DR)(A,{frameId:null}),A}return C}),files:c?B:void 0};return JSON.stringify(j)},$=function(){var b=(0,_.Z)(y().mark(function s(c,S,z){return y().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,r(G({elements:c,files:S}),z);case 2:case"end":return B.stop()}},s)}));return function(s,c,S){return b.apply(this,arguments)}}(),U=function(b){var s=(0,T.dz)(b);return s.type===T.i$?{spreadsheet:s.spreadsheet}:null};function L(b){var s,c=[],S=k(b.childNodes);try{for(S.s();!(s=S.n()).done;){var z=s.value;if(z.nodeType===3){var B,j=(B=z.textContent)===null||B===void 0?void 0:B.trim();j&&c.push({type:"text",value:j})}else if(z instanceof HTMLImageElement){var C=z.getAttribute("src");C&&C.startsWith("http")&&c.push({type:"imageUrl",value:C})}else c=c.concat(L(z))}}catch(A){S.e(A)}finally{S.f()}return c}var F=function(b){var s,c=(s=b.clipboardData)===null||s===void 0?void 0:s.getData("text/html");if(!c)return null;try{var S=L(new DOMParser().parseFromString(c,"text/html").body);if(S.length)return{type:"mixedContent",value:S}}catch(z){console.error("error in parseHTMLFromPaste: ".concat(z.message))}return null},I=function(){var b=(0,_.Z)(y().mark(function s(){var c,S,z,B,j,C,A,Y,ie,le,ce,de;return y().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(c={},J.prev=1,(S=navigator.clipboard)===null||S===void 0||!S.readText){J.next=7;break}return J.next=5,(z=navigator.clipboard)===null||z===void 0?void 0:z.readText();case 5:return J.t0=J.sent,J.abrupt("return",{"text/plain":J.t0});case 7:J.next=16;break;case 9:if(J.prev=9,J.t1=J.catch(1),(B=navigator.clipboard)===null||B===void 0||!B.read){J.next=15;break}console.warn("navigator.clipboard.readText() failed (".concat(J.t1.message,"). Failling back to navigator.clipboard.read()")),J.next=16;break;case 15:throw J.t1;case 16:return J.prev=16,J.next=19,(C=navigator.clipboard)===null||C===void 0?void 0:C.read();case 19:j=J.sent,J.next=28;break;case 22:if(J.prev=22,J.t2=J.catch(16),J.t2.name!=="DataError"){J.next=27;break}return console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(J.t2.message)),J.abrupt("return",c);case 27:throw J.t2;case 28:A=k(j),J.prev=29,A.s();case 31:if((Y=A.n()).done){J.next=63;break}ie=Y.value,le=k(ie.types),J.prev=34,le.s();case 36:if((ce=le.n()).done){J.next=53;break}if(de=ce.value,(0,x.XF)(E.wL,de)){J.next=40;break}return J.abrupt("continue",51);case 40:return J.prev=40,J.next=43,ie.getType(de);case 43:return J.next=45,J.sent.text();case 45:c[de]=J.sent,J.next=51;break;case 48:J.prev=48,J.t3=J.catch(40),console.warn("Cannot retrieve ".concat(de," from clipboardItem: ").concat(J.t3.message));case 51:J.next=36;break;case 53:J.next=58;break;case 55:J.prev=55,J.t4=J.catch(34),le.e(J.t4);case 58:return J.prev=58,le.f(),J.finish(58);case 61:J.next=31;break;case 63:J.next=68;break;case 65:J.prev=65,J.t5=J.catch(29),A.e(J.t5);case 68:return J.prev=68,A.f(),J.finish(68);case 71:if(Object.keys(c).length!==0){J.next=74;break}return console.warn("No clipboard data found from clipboard.read()."),J.abrupt("return",c);case 74:return J.abrupt("return",c);case 75:case"end":return J.stop()}},s,null,[[1,9],[16,22],[29,65,68,71],[34,55,58,61],[40,48]])}));return function(){return b.apply(this,arguments)}}(),P=function(){var b=(0,_.Z)(y().mark(function s(c){var S,z,B,j,C,A=arguments;return y().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(S=A.length>1&&A[1]!==void 0&&A[1],Y.prev=1,!(B=!S&&c&&F(c))){Y.next=7;break}if(!B.value.every(function(ie){return ie.type==="text"})){Y.next=6;break}return Y.abrupt("return",{type:"text",value:((j=c.clipboardData)===null||j===void 0?void 0:j.getData("text/plain"))||B.value.map(function(ie){return ie.value}).join(`
`).trim()});case 6:return Y.abrupt("return",B);case 7:return C=(z=c.clipboardData)===null||z===void 0?void 0:z.getData("text/plain"),Y.abrupt("return",{type:"text",value:(C||"").trim()});case 11:return Y.prev=11,Y.t0=Y.catch(1),Y.abrupt("return",{type:"text",value:""});case 14:case"end":return Y.stop()}},s,null,[[1,11]])}));return function(s){return b.apply(this,arguments)}}(),w=function(){var b=(0,_.Z)(y().mark(function s(c){var S,z,B,j,C,A=arguments;return y().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return S=A.length>1&&A[1]!==void 0&&A[1],Y.next=3,P(c,S);case 3:if((z=Y.sent).type!=="mixedContent"){Y.next=6;break}return Y.abrupt("return",{mixedContent:z.value});case 6:if(Y.prev=6,!(B=!S&&U(z.value))){Y.next=10;break}return Y.abrupt("return",B);case 10:Y.next=15;break;case 12:Y.prev=12,Y.t0=Y.catch(6),console.error(Y.t0);case 15:if(Y.prev=15,j=JSON.parse(z.value),C=j.type===E.r8.excalidrawClipboardWithAPI,!ye(j)){Y.next=20;break}return Y.abrupt("return",{elements:j.elements,files:j.files,text:S?JSON.stringify(j.elements,null,2):void 0,programmaticAPI:C});case 20:Y.next=24;break;case 22:Y.prev=22,Y.t1=Y.catch(15);case 24:return Y.abrupt("return",{text:z.value});case 25:case"end":return Y.stop()}},s,null,[[6,12],[15,22]])}));return function(s){return b.apply(this,arguments)}}(),f=function(){var b=(0,_.Z)(y().mark(function s(c){return y().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,S.next=3,navigator.clipboard.write([new window.ClipboardItem((0,e.Z)({},E.LO.png,c))]);case 3:case 21:S.next=24;break;case 5:if(S.prev=5,S.t0=S.catch(0),!(0,x.y8)(c)){S.next=23;break}return S.t1=navigator.clipboard,S.t2=window.ClipboardItem,S.t3=e.Z,S.t4={},S.t5=E.LO.png,S.next=15,c;case 15:return S.t6=S.sent,S.t7=(0,S.t3)(S.t4,S.t5,S.t6),S.t8=new S.t2(S.t7),S.t9=[S.t8],S.next=21,S.t1.write.call(S.t1,S.t9);case 23:throw S.t0;case 24:case"end":return S.stop()}},s,null,[[0,5]])}));return function(s){return b.apply(this,arguments)}}(),r=function(){var b=(0,_.Z)(y().mark(function s(c,S){var z,B;return y().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!ue){j.next=10;break}return j.prev=1,j.next=4,navigator.clipboard.writeText(c||"");case 4:return j.abrupt("return");case 7:j.prev=7,j.t0=j.catch(1),console.error(j.t0);case 10:if(j.prev=10,!S){j.next=16;break}if((z=S.clipboardData)===null||z===void 0||z.setData("text/plain",c||""),((B=S.clipboardData)===null||B===void 0?void 0:B.getData("text/plain"))===c){j.next=15;break}throw new Error("Failed to setData on clipboardEvent");case 15:return j.abrupt("return");case 16:j.next=21;break;case 18:j.prev=18,j.t1=j.catch(10),console.error(j.t1);case 21:if(o(c)){j.next=23;break}throw new Error((0,m.t)("errors.copyToSystemClipboardFailed"));case 23:case"end":return j.stop()}},s,null,[[1,7],[10,18]])}));return function(s,c){return b.apply(this,arguments)}}(),o=function(b){b||(b=" ");var s=document.documentElement.getAttribute("dir")==="rtl",c=document.createElement("textarea");c.style.border="0",c.style.padding="0",c.style.margin="0",c.style.position="absolute",c.style[s?"right":"left"]="-9999px";var S=window.pageYOffset||document.documentElement.scrollTop;c.style.top="".concat(S,"px"),c.style.fontSize="12pt",c.setAttribute("readonly",""),c.value=b,document.body.appendChild(c);var z=!1;try{c.select(),c.setSelectionRange(0,c.value.length),z=document.execCommand("copy")}catch(B){console.error(B)}return c.remove(),z}},9240:function(Ze,te,t){t.d(te,{C2:function(){return a},HO:function(){return m},Lx:function(){return T},SF:function(){return fe},Wk:function(){return ye},_T:function(){return N},ay:function(){return me},dC:function(){return E},eq:function(){return ue},fY:function(){return Q},sF:function(){return G},vq:function(){return $},z8:function(){return u}});var e=t(7169),_=t(5284);function g(U,L){var F=Object.keys(U);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(U);L&&(I=I.filter(function(P){return Object.getOwnPropertyDescriptor(U,P).enumerable})),F.push.apply(F,I)}return F}function p(U){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?g(Object(F),!0).forEach(function(I){(0,e.Z)(U,I,F[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(F)):g(Object(F)).forEach(function(I){Object.defineProperty(U,I,Object.getOwnPropertyDescriptor(F,I))})}return U}var y,T=5,E=5,a=4,u=4,N=1,H=[0,2,4,6,8],x=function(U,L){return L.map(function(F){return _[U][F]})},m={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:x("gray",H),red:x("red",H),pink:x("pink",H),grape:x("grape",H),violet:x("violet",H),blue:x("blue",H),cyan:x("cyan",H),teal:x("teal",H),green:x("green",H),yellow:x("yellow",H),orange:x("orange",H),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},k=(y=m,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"].reduce(function(U,L){return L in y&&(U[L]=y[L]),U},{})),Q=[m.black,m.red[u],m.green[u],m.blue[u],m.yellow[u]],ue=[m.transparent,m.red[N],m.green[N],m.blue[N],m.yellow[N]],me=[m.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],ye=p({transparent:m.transparent,white:m.white,gray:m.gray,black:m.black,bronze:m.bronze},k),fe=p({transparent:m.transparent,white:m.white,gray:m.gray,black:m.black,bronze:m.bronze},k),G=function(U){return[m.cyan[U],m.blue[U],m.violet[U],m.grape[U],m.pink[U],m.green[U],m.teal[U],m.yellow[U],m.orange[U],m.red[U]]},$=function(U,L,F){return"#".concat(((1<<24)+(U<<16)+(L<<8)+F).toString(16).slice(1))}},8973:function(Ze,te,t){t.d(te,{o:function(){return N},w:function(){return u}});var e=t(2577),_=t(3607),g=t(5463),p=t(8227),y=t(453),T=t(8242),E=t(6887),a=t(4512),u=(0,_.cn)(null),N=function(){var H=(0,_.KO)(u,y.yE),x=(0,e.Z)(H,2),m=x[0],k=x[1],Q=(0,T.eh)();return m&&m==="clearCanvas"?(0,a.jsx)(E.Z,{onConfirm:function(){Q.executeAction(g.mo),k(null)},onCancel:function(){return k(null)},title:(0,p.t)("clearCanvasDialog.title"),children:(0,a.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,p.t)("alerts.clearReset")]})}):null}},8242:function(Ze,te,t){t.d(te,{ZP:function(){return Fc},qD:function(){return hs},hY:function(){return Is},Fy:function(){return ms},eh:function(){return As},gF:function(){return Ts},J0:function(){return Jl},bd:function(){return Ps},n9:function(){return Ms}});var e=t(6655),_=t(2577),g=t(1930),p=t(8950),y=t(8821),T=t(5169),E=t(3173),a=t(2248),u=t(7245),N=t(2312),H=t(7169),x=t(2975),m=t.n(x),k=t(9787),Q=t.n(k),ue=t(5156),me=t(9845),ye=t(45),fe=t(5605),G=t(5463),$=t(8935),U=t(1512),L=t(8227),F=t(5491),I=t(583),P=t(9645),w=t(9827),f=t(9937),r=t(4512);function o(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}function b(Z){for(var i=1;i<arguments.length;i++){var O=arguments[i]!=null?arguments[i]:{};i%2?o(Object(O),!0).forEach(function(W){(0,H.Z)(Z,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(O)):o(Object(O)).forEach(function(W){Object.defineProperty(Z,W,Object.getOwnPropertyDescriptor(O,W))})}return Z}var s=function(Z,i,O){var W=!1;if(!(i.multiElement||i.resizingElement||i.editingElement||i.draggingElement)){var oe=O();if(oe===null)return{commitToHistory:W};var xe=(0,w.xn)(Z),se=oe.elements,K=(0,w.xn)(se),ne=Z.filter(function(Ne){return!K.has(Ne.id)}),Ie=se.map(function(Ne){return(0,I.BE)(xe.get(Ne.id)||Ne,Ne)}).concat(ne.map(function(Ne){return(0,I.BE)(Ne,{isDeleted:!0})}));return(0,P.$q)(Ie,ne),{elements:Ie,appState:b(b({},i),oe.appState),commitToHistory:W,syncHistory:!0}}return{commitToHistory:W}},c=t(3646),S=function(Z,i,O,W,oe,xe){if(Z.trackEvent)try{(0,e.Z)(Z.trackEvent)==="object"&&(!Z.trackEvent.predicate||Z.trackEvent.predicate(O,W,xe))&&(0,c.L)(Z.trackEvent.category,Z.trackEvent.action||Z.name,"".concat(i," (").concat(oe.device.editor.isMobile?"mobile":"desktop",")"))}catch(se){console.error("error while logging action:",se)}},z=function(){function Z(i,O,W,oe){var xe=this;(0,y.Z)(this,Z),this.actions={},this.renderAction=function(se,K){var ne=xe.app.props.UIOptions.canvasActions;if(xe.actions[se]&&"PanelComponent"in xe.actions[se]&&(!(se in ne)||ne[se])){var Ie=xe.actions[se],Ne=Ie.PanelComponent;Ne.displayName="PanelComponent";var Be=xe.getElementsIncludingDeleted(),nt=xe.getAppState();return(0,r.jsx)(Ne,{elements:xe.getElementsIncludingDeleted(),appState:xe.getAppState(),updateData:function(it){S(Ie,"ui",nt,Be,xe.app,it),xe.updater(Ie.perform(xe.getElementsIncludingDeleted(),xe.getAppState(),it,xe.app))},appProps:xe.app.props,app:xe.app,data:K})}return null},this.isActionEnabled=function(se){var K=xe.getElementsIncludingDeleted(),ne=xe.getAppState();return!se.predicate||se.predicate(K,ne,xe.app.props,xe.app)},this.updater=function(se){if(!se||!("then"in se))return i(se);se.then(function(K){return i(K)})},this.getAppState=O,this.getElementsIncludingDeleted=W,this.app=oe}return(0,T.Z)(Z,[{key:"registerAction",value:function(i){this.actions[i.name]=i}},{key:"registerAll",value:function(i){var O=this;i.forEach(function(W){return O.registerAction(W)})}},{key:"handleKeyDown",value:function(i){var O=this,W=this.app.props.UIOptions.canvasActions,oe=Object.values(this.actions).sort(function(ne,Ie){return(Ie.keyPriority||0)-(ne.keyPriority||0)}).filter(function(ne){return(!(ne.name in W)||W[ne.name])&&ne.keyTest&&ne.keyTest(i,O.getAppState(),O.getElementsIncludingDeleted(),O.app)});if(oe.length!==1)return oe.length>1&&console.warn("Canceling as multiple actions match this shortcut",oe),!1;var xe=oe[0];if(this.getAppState().viewModeEnabled&&xe.viewMode!==!0)return!1;var se=this.getElementsIncludingDeleted(),K=this.getAppState();return S(xe,"keyboard",K,se,this.app,null),i.preventDefault(),i.stopPropagation(),this.updater(oe[0].perform(se,K,null,this.app)),!0}},{key:"executeAction",value:function(i){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,oe=this.getElementsIncludingDeleted(),xe=this.getAppState();S(i,O,xe,oe,this.app,W),this.updater(i.perform(oe,xe,W,this.app))}}]),Z}(),B=t(2767),j=t(6853),C=t(4694),A=t(2435),Y=t(9326),ie=t(7994),le=t(7651),ce=t(7422),de=t(5742),J=t(4183),ee=function(Z){var i=Array.from(Z.values());return{x:Pe(i,function(O){return O.x})/i.length,y:Pe(i,function(O){return O.y})/i.length}},he=function(Z){var i=(0,_.Z)(Z,2),O=i[0],W=i[1];return Math.hypot(O.x-W.x,O.y-W.y)},Pe=function(Z,i){return Z.reduce(function(O,W){return O+i(W)},0)},He=t(9215);function Ke(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}function Ae(Z){for(var i=1;i<arguments.length;i++){var O=arguments[i]!=null?arguments[i]:{};i%2?Ke(Object(O),!0).forEach(function(W){(0,H.Z)(Z,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(O)):Ke(Object(O)).forEach(function(W){Object.defineProperty(Z,W,Object.getOwnPropertyDescriptor(O,W))})}return Z}var Oe=function(Z){return{selectedElementIds:Z.selectedElementIds,selectedGroupIds:Z.selectedGroupIds,viewBackgroundColor:Z.viewBackgroundColor,editingLinearElement:Z.editingLinearElement,editingGroupId:Z.editingGroupId,name:Z.name}},Te=function(){function Z(){var i=this;(0,y.Z)(this,Z),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(O,W){return i.dehydrateHistoryEntry({appState:Oe(O),elements:W.reduce(function(oe,xe){if((0,J.bt)(xe)&&O.multiElement&&O.multiElement.id===xe.id){if(O.multiElement&&O.multiElement.id===xe.id&&xe.points.length<2)return oe;oe.push(Ae(Ae({},xe),{},{points:xe.lastCommittedPoint!==xe.points[xe.points.length-1]?xe.points.slice(0,-1):xe.points}))}else oe.push(xe);return oe},[])})}}return(0,T.Z)(Z,[{key:"hydrateHistoryEntry",value:function(i){var O=this,W=i.appState,oe=i.elements;return{appState:JSON.parse(W),elements:oe.map(function(xe){var se,K=(se=O.elementCache.get(xe.id))===null||se===void 0?void 0:se.get(xe.versionNonce);if(!K)throw new Error("Element not found: ".concat(xe.id,":").concat(xe.versionNonce));return K})}}},{key:"dehydrateHistoryEntry",value:function(i){var O=this,W=i.appState,oe=i.elements;return{appState:JSON.stringify(W),elements:oe.map(function(xe){O.elementCache.has(xe.id)||O.elementCache.set(xe.id,new Map);var se=O.elementCache.get(xe.id);return se.has(xe.versionNonce)||se.set(xe.versionNonce,(0,de.OL)(xe)),{id:xe.id,versionNonce:xe.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var i=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(O){return i.hydrateHistoryEntry(O)}),redoStack:this.redoStack.map(function(O){return i.hydrateHistoryEntry(O)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(i){var O,W=this.lastEntry;if(!W||i.elements.length!==W.elements.length)return!0;for(var oe=i.elements.length-1;oe>-1;oe--){var xe=i.elements[oe],se=W.elements[oe];if(!xe||!se||xe.id!==se.id||xe.versionNonce!==se.versionNonce)return!0}for(O in i.appState){var K,ne;if(!(O==="editingLinearElement"&&((K=i.appState[O])===null||K===void 0?void 0:K.elementId)===((ne=W.appState[O])===null||ne===void 0?void 0:ne.elementId))&&O!=="selectedElementIds"&&O!=="selectedGroupIds"&&i.appState[O]!==W.appState[O])return!0}return!1}},{key:"pushEntry",value:function(i,O){var W=this.generateEntry(i,O),oe=this.hydrateHistoryEntry(W);if(oe){if(!this.shouldCreateEntry(oe))return;this.stateHistory.push(W),this.lastEntry=oe,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var i=this.redoStack.pop();return i!==void 0?(this.stateHistory.push(i),this.hydrateHistoryEntry(i)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var i=this.stateHistory.pop(),O=this.stateHistory[this.stateHistory.length-1];return i!==void 0?(this.redoStack.push(i),this.hydrateHistoryEntry(O)):null}},{key:"setCurrentState",value:function(i,O){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(i,O))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(i,O){this.recording&&(this.pushEntry(i,O),this.recording=!1)}}]),Z}(),De=t(7935),ke=t(2361),be=t(4105),ve=t(457),D=t(4116),l=[{icon:$.zu,value:"selection",key:F.tW.V,numericKey:F.tW[1],fillable:!0},{icon:$.OW,value:"rectangle",key:F.tW.R,numericKey:F.tW[2],fillable:!0},{icon:$.nb,value:"diamond",key:F.tW.D,numericKey:F.tW[3],fillable:!0},{icon:$.Re,value:"ellipse",key:F.tW.O,numericKey:F.tW[4],fillable:!0},{icon:$.e0,value:"arrow",key:F.tW.A,numericKey:F.tW[5],fillable:!0},{icon:$.zb,value:"line",key:F.tW.L,numericKey:F.tW[6],fillable:!0},{icon:$.Pm,value:"freedraw",key:[F.tW.P,F.tW.X],numericKey:F.tW[7],fillable:!1},{icon:$.VL,value:"text",key:F.tW.T,numericKey:F.tW[8],fillable:!1},{icon:$.XB,value:"image",key:null,numericKey:F.tW[9],fillable:!1},{icon:$.$q,value:"eraser",key:F.tW.E,numericKey:F.tW[0],fillable:!1}],d=t(761),M=t(3204),V=t(3379),q=t.n(V),re=t(7795),ae=t.n(re),ge=t(569),Se=t.n(ge),Re=t(3565),Ye=t.n(Re),Ge=t(9216),We=t.n(Ge),qe=t(4589),lt=t.n(qe),ft=t(6578),ze={};ze.styleTagTransform=lt(),ze.setAttributes=Ye(),ze.insert=Se().bind(null,"head"),ze.domAPI=ae(),ze.insertStyleElement=We(),q()(ft.Z,ze),ft.Z&&ft.Z.locals&&ft.Z.locals;var we=t(2529),Me="separator",$e=Q().memo(function(Z){var i=Z.actionManager,O=Z.items,W=Z.top,oe=Z.left,xe=Z.onClose,se=Ts(),K=Ps(),ne=O.reduce(function(Ie,Ne){return!Ne||Ne!==Me&&Ne.predicate&&!Ne.predicate(K,se,i.app.props,i.app)||Ie.push(Ne),Ie},[]);return(0,r.jsx)(M.J,{onCloseRequest:function(){xe()},top:W,left:oe,fitInViewport:!0,offsetLeft:se.offsetLeft,offsetTop:se.offsetTop,viewportWidth:se.width,viewportHeight:se.height,children:(0,r.jsx)("ul",{className:"context-menu",onContextMenu:function(Ie){return Ie.preventDefault()},children:ne.map(function(Ie,Ne){var Be;if(Ie===Me)return ne[Ne-1]&&ne[Ne-1]!==Me?(0,r.jsx)("hr",{className:"context-menu-item-separator"},Ne):null;var nt=Ie.name,it="";return Ie.contextItemLabel&&(it=typeof Ie.contextItemLabel=="function"?(0,L.t)(Ie.contextItemLabel(K,se,i.app)):(0,L.t)(Ie.contextItemLabel)),(0,r.jsx)("li",{"data-testid":nt,onClick:function(){xe(function(){i.executeAction(Ie,"contextMenu")})},children:(0,r.jsxs)("button",{className:(0,ye.Z)("context-menu-item",{dangerous:nt==="deleteSelectedElements",checkmark:(Be=Ie.checked)===null||Be===void 0?void 0:Be.call(Ie,se)}),children:[(0,r.jsx)("div",{className:"context-menu-item__label",children:it}),(0,r.jsx)("kbd",{className:"context-menu-item__shortcut",children:nt?(0,we.C)(nt):""})]})},Ne)})})})}),at=t(2726),dt=t(2540),vt=t(1648),Tt=t(8925),Et=t(4761),jt=t(6086),Kt={};Kt.styleTagTransform=lt(),Kt.setAttributes=Ye(),Kt.insert=Se().bind(null,"head"),Kt.domAPI=ae(),Kt.insertStyleElement=We(),q()(jt.Z,Kt),jt.Z&&jt.Z.locals&&jt.Z.locals;var Gt=t(7104);function Ht(Z,i){var O=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!O){if(Array.isArray(Z)||(O=function(ne,Ie){if(ne){if(typeof ne=="string")return $t(ne,Ie);var Ne=Object.prototype.toString.call(ne).slice(8,-1);if(Ne==="Object"&&ne.constructor&&(Ne=ne.constructor.name),Ne==="Map"||Ne==="Set")return Array.from(ne);if(Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return $t(ne,Ie)}}(Z))||i){O&&(Z=O);var W=0,oe=function(){};return{s:oe,n:function(){return W>=Z.length?{done:!0}:{done:!1,value:Z[W++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe,se=!0,K=!1;return{s:function(){O=O.call(Z)},n:function(){var ne=O.next();return se=ne.done,ne},e:function(ne){K=!0,xe=ne},f:function(){try{se||O.return==null||O.return()}finally{if(K)throw xe}}}}function $t(Z,i){(i==null||i>Z.length)&&(i=Z.length);for(var O=0,W=new Array(i);O<i;O++)W[O]=Z[O];return W}var pn=function(Z){var i,O=Z.appState,W=Z.elements,oe=Z.renderAction,xe=(0,be.Zs)((0,le.Lm)(W),O),se=!1;xe.length===2&&((0,J.Xo)(xe[0])||(0,J.Xo)(xe[1]))&&(se=!0);var K,ne=!!O.editingElement,Ie=ms(),Ne=document.documentElement.getAttribute("dir")==="rtl",Be=(0,be.$b)(O.activeTool.type)&&!(0,w.Qm)(O.currentItemBackgroundColor)||xe.some(function(Ot){return(0,be.$b)(Ot.type)&&!(0,w.Qm)(Ot.backgroundColor)}),nt=(0,be.$b)(O.activeTool.type)||xe.some(function(Ot){return(0,be.$b)(Ot.type)}),it=xe.length===1||se,ct=((i=xe[0])===null||i===void 0?void 0:i.type)||null,kt=Ht(xe);try{for(kt.s();!(K=kt.n()).done;)if(K.value.type!==ct){ct=null;break}}catch(Ot){kt.e(Ot)}finally{kt.f()}return(0,r.jsxs)("div",{className:"panelColumn",children:[(0,r.jsx)("div",{children:((0,vt.PD)(O.activeTool.type)&&O.activeTool.type!=="image"&&ct!=="image"&&ct!=="frame"||xe.some(function(Ot){return(0,vt.PD)(Ot.type)}))&&oe("changeStrokeColor")}),nt&&(0,r.jsx)("div",{children:oe("changeBackgroundColor")}),Be&&oe("changeFillStyle"),((0,be.Zd)(O.activeTool.type)||xe.some(function(Ot){return(0,be.Zd)(Ot.type)}))&&oe("changeStrokeWidth"),(O.activeTool.type==="freedraw"||xe.some(function(Ot){return Ot.type==="freedraw"}))&&oe("changeStrokeShape"),((0,be.M9)(O.activeTool.type)||xe.some(function(Ot){return(0,be.M9)(Ot.type)}))&&(0,r.jsxs)(r.Fragment,{children:[oe("changeStrokeStyle"),oe("changeSloppiness")]}),((0,be.sh)(O.activeTool.type)||xe.some(function(Ot){return(0,be.sh)(Ot.type)}))&&(0,r.jsx)(r.Fragment,{children:oe("changeRoundness")}),(O.activeTool.type==="text"||xe.some(J.iB))&&(0,r.jsxs)(r.Fragment,{children:[oe("changeFontSize"),oe("changeFontFamily"),(O.activeTool.type==="text"||(0,Et.aV)(xe))&&oe("changeTextAlign")]}),(0,Et.cn)(xe)&&oe("changeVerticalAlign"),((0,be.Un)(O.activeTool.type)||xe.some(function(Ot){return(0,be.Un)(Ot.type)}))&&(0,r.jsx)(r.Fragment,{children:oe("changeArrowhead")}),oe("changeOpacity"),(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:(0,L.t)("labels.layers")}),(0,r.jsxs)("div",{className:"buttonList",children:[oe("sendToBack"),oe("sendBackward"),oe("bringToFront"),oe("bringForward")]})]}),xe.length>1&&!se&&(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:(0,L.t)("labels.align")}),(0,r.jsxs)("div",{className:"buttonList",children:[Ne?(0,r.jsxs)(r.Fragment,{children:[oe("alignRight"),oe("alignHorizontallyCentered"),oe("alignLeft")]}):(0,r.jsxs)(r.Fragment,{children:[oe("alignLeft"),oe("alignHorizontallyCentered"),oe("alignRight")]}),xe.length>2&&oe("distributeHorizontally"),(0,r.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[oe("alignTop"),oe("alignVerticallyCentered"),oe("alignBottom"),xe.length>2&&oe("distributeVertically")]})]})]}),!ne&&xe.length>0&&(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:(0,L.t)("labels.actions")}),(0,r.jsxs)("div",{className:"buttonList",children:[!Ie.editor.isMobile&&oe("duplicateSelection"),!Ie.editor.isMobile&&oe("deleteSelectedElements"),oe("group"),oe("ungroup"),it&&oe("hyperlink")]})]})]})},_t=function(Z){var i=Z.activeTool,O=Z.appState,W=Z.app,oe=Z.UIOptions,xe=(0,k.useState)(!1),se=(0,_.Z)(xe,2),K=se[0],ne=se[1],Ie=i.type==="frame",Ne=i.type==="laser",Be=i.type==="embeddable";return(0,r.jsxs)(r.Fragment,{children:[l.map(function(nt,it){var ct,kt=nt.value,Ot=nt.icon,Wt=nt.key,tn=nt.numericKey,Rt=nt.fillable;if(((ct=oe.tools)===null||ct===void 0?void 0:ct[kt])===!1)return null;var Lt=(0,L.t)("toolBar.".concat(kt)),Ut=Wt&&(0,w.Oo)(typeof Wt=="string"?Wt:Wt[0]),on=Ut?"".concat(Ut," ").concat((0,L.t)("helpDialog.or")," ").concat(tn):"".concat(tn);return(0,r.jsx)(U.V,{className:(0,ye.Z)("Shape",{fillable:Rt}),type:"radio",icon:Ot,checked:i.type===kt,name:"editor-current-shape",title:"".concat((0,w.Oo)(Lt),"  ").concat(on),keyBindingLabel:tn||Ut,"aria-label":(0,w.Oo)(Lt),"aria-keyshortcuts":on,"data-testid":"toolbar-".concat(kt),onPointerDown:function(vn){var cn=vn.pointerType;O.penDetected||cn!=="pen"||W.togglePenMode(!0)},onChange:function(vn){var cn=vn.pointerType;O.activeTool.type!==kt&&(0,c.L)("toolbar",kt,"ui"),kt==="image"?W.setActiveTool({type:kt,insertOnCanvasDirectly:cn!=="mouse"}):W.setActiveTool({type:kt})}},kt)}),(0,r.jsx)("div",{className:"App-toolbar__divider"}),(0,r.jsxs)(Gt.Z,{open:K,children:[(0,r.jsx)(Gt.Z.Trigger,{className:(0,ye.Z)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":Ie||Be||Ne&&!W.props.isCollaborating}),onToggle:function(){return ne(!K)},title:(0,L.t)("toolBar.extraTools"),children:$.dg}),(0,r.jsxs)(Gt.Z.Content,{onClickOutside:function(){return ne(!1)},onSelect:function(){return ne(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,r.jsx)(Gt.Z.Item,{onSelect:function(){return W.setActiveTool({type:"frame"})},icon:$.zl,shortcut:F.tW.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:Ie,children:(0,L.t)("toolBar.frame")}),(0,r.jsx)(Gt.Z.Item,{onSelect:function(){return W.setActiveTool({type:"embeddable"})},icon:$.FL,"data-testid":"toolbar-embeddable",selected:Be,children:(0,L.t)("toolBar.embeddable")}),(0,r.jsx)(Gt.Z.Item,{onSelect:function(){return W.setActiveTool({type:"laser"})},icon:$.d,"data-testid":"toolbar-laser",selected:Ne,shortcut:F.tW.K.toLocaleUpperCase(),children:(0,L.t)("toolBar.laser")}),(0,r.jsx)(Gt.Z.Item,{onSelect:function(){return W.setOpenDialog("mermaid")},icon:$.II,"data-testid":"toolbar-embeddable",children:(0,L.t)("toolBar.mermaidToExcalidraw")})]})]})]})},xt=function(Z){var i=Z.renderAction;return Z.zoom,(0,r.jsx)(dt.Z.Col,{gap:1,className:"zoom-actions",children:(0,r.jsxs)(dt.Z.Row,{align:"center",children:[i("zoomOut"),i("resetZoom"),i("zoomIn")]})})},At=function(Z){var i=Z.renderAction,O=Z.className;return(0,r.jsxs)("div",{className:"undo-redo-buttons ".concat(O),children:[(0,r.jsx)("div",{className:"undo-button-container",children:(0,r.jsx)(Tt.u,{label:(0,L.t)("buttons.undo"),children:i("undo")})}),(0,r.jsx)("div",{className:"redo-button-container",children:(0,r.jsxs)(Tt.u,{label:(0,L.t)("buttons.redo"),children:[" ",i("redo")]})})]})},It=function(Z){var i=Z.actionManager,O=Z.showExitZenModeBtn;return(0,r.jsx)("button",{className:(0,ye.Z)("disable-zen-mode",{"disable-zen-mode--visible":O}),onClick:function(){return i.executeAction(G.JN)},children:(0,L.t)("buttons.exitZenMode")})},Mt=function(Z){var i=Z.renderAction,O=Z.className;return(0,r.jsx)("div",{className:"finalize-button ".concat(O),children:i("finalize",{size:"small"})})},Nt=t(1300),Yt=function(Z){var i=Z.children,O=Z.onClose,W=(0,k.useState)(!!i),oe=(0,_.Z)(W,2),xe=oe[0],se=oe[1],K=Jl().container,ne=Q().useCallback(function(){se(!1),O&&O(),K?.focus()},[O,K]);return(0,r.jsx)(r.Fragment,{children:xe&&(0,r.jsx)(Nt.V,{size:"small",onCloseRequest:ne,title:(0,L.t)("errorDialog.title"),children:(0,r.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:i})})})},ln=t(4406),an=t(5796),kn=t(6548),Tn=t(507),zn=t(6217),un={};un.styleTagTransform=lt(),un.setAttributes=Ye(),un.insert=Se().bind(null,"head"),un.domAPI=ae(),un.insertStyleElement=We(),q()(zn.Z,un),zn.Z&&zn.Z.locals&&zn.Z.locals;var zt=function(Z){var i=Z.onChange,O=Z.value,W=Z.choices,oe=Z.name;return(0,r.jsx)("div",{className:"RadioGroup",children:W.map(function(xe){return(0,r.jsxs)("div",{className:(0,ye.Z)("RadioGroup__choice",{active:xe.value===O}),children:[(0,r.jsx)("input",{name:oe,type:"radio",checked:xe.value===O,onChange:function(){return i(xe.value)}}),xe.label]},xe.label)})})},en=t(7802),Jt={};Jt.styleTagTransform=lt(),Jt.setAttributes=Ye(),Jt.insert=Se().bind(null,"head"),Jt.domAPI=ae(),Jt.insertStyleElement=We(),q()(en.Z,Jt),en.Z&&en.Z.locals&&en.Z.locals;var Sn=function(Z){var i=Z.title,O=Z.name,W=Z.checked,oe=Z.onChange,xe=Z.disabled,se=xe!==void 0&&xe;return(0,r.jsx)("div",{className:(0,ye.Z)("Switch",{toggled:W,disabled:se}),children:(0,r.jsx)("input",{name:O,id:O,title:i,type:"checkbox",checked:W,disabled:se,onChange:function(){return oe(!W)},onKeyDown:function(K){K.key===" "&&oe(!W)}})})},Hn=t(9706),Yn={};Yn.styleTagTransform=lt(),Yn.setAttributes=Ye(),Yn.insert=Se().bind(null,"head"),Yn.domAPI=ae(),Yn.insertStyleElement=We(),q()(Hn.Z,Yn),Hn.Z&&Hn.Z.locals&&Hn.Z.locals;var or=t(8960),$n={};$n.styleTagTransform=lt(),$n.setAttributes=Ye(),$n.insert=Se().bind(null,"head"),$n.domAPI=ae(),$n.insertStyleElement=We(),q()(or.Z,$n),or.Z&&or.Z.locals&&or.Z.locals;var rn=(0,k.forwardRef)(function(Z,i){var O=Z.children,W=Z.startIcon,oe=Z.onClick,xe=Z.label,se=Z.variant,K=se===void 0?"filled":se,ne=Z.color,Ie=ne===void 0?"primary":ne,Ne=Z.size,Be=Ne===void 0?"medium":Ne,nt=Z.fullWidth,it=Z.className;return(0,r.jsxs)("button",{className:(0,ye.Z)("ExcButton","ExcButton--color-".concat(Ie),"ExcButton--variant-".concat(K),"ExcButton--size-".concat(Be),{"ExcButton--fullWidth":nt},it),onClick:oe,type:"button","aria-label":xe,ref:i,children:[W&&(0,r.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:W}),K!=="icon"&&(O??xe)]})});function Pt(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}function Dt(Z){for(var i=1;i<arguments.length;i++){var O=arguments[i]!=null?arguments[i]:{};i%2?Pt(Object(O),!0).forEach(function(W){(0,H.Z)(Z,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(O)):Pt(Object(O)).forEach(function(W){Object.defineProperty(Z,W,Object.getOwnPropertyDescriptor(O,W))})}return Z}var Ft="filter"in document.createElement("canvas").getContext("2d"),dn=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:(0,L.t)("canvasError.cannotShowPreview")}),(0,r.jsx)("p",{children:(0,r.jsx)("span",{children:(0,L.t)("canvasError.canvasTooBig")})}),(0,r.jsxs)("em",{children:["(",(0,L.t)("canvasError.canvasTooBigTip"),")"]})]})},jn=function(Z){var i=Z.appStateSnapshot,O=Z.elementsSnapshot,W=Z.files,oe=Z.actionManager,xe=Z.onExportImage,se=(0,be.N)(O,i),K=Is(),ne=(0,k.useState)(i.name),Ie=(0,_.Z)(ne,2),Ne=Ie[0],Be=Ie[1],nt=(0,k.useState)(se),it=(0,_.Z)(nt,2),ct=it[0],kt=it[1],Ot=(0,k.useState)(i.exportBackground),Wt=(0,_.Z)(Ot,2),tn=Wt[0],Rt=Wt[1],Lt=(0,k.useState)(i.exportWithDarkMode),Ut=(0,_.Z)(Lt,2),on=Ut[0],vn=Ut[1],cn=(0,k.useState)(i.exportEmbedScene),nn=(0,_.Z)(cn,2),_n=nn[0],Xn=nn[1],sr=(0,k.useState)(i.exportScale),yr=(0,_.Z)(sr,2),Mr=yr[0],Dr=yr[1],br=(0,k.useRef)(null),xr=(0,k.useState)(null),Sr=(0,_.Z)(xr,2),kr=Sr[0],Br=Sr[1],qr=(0,A.HD)(O,i,ct),Jr=qr.exportedElements,ro=qr.exportingFrame;return(0,k.useEffect)(function(){var Hr=br.current;if(Hr){var Lr=Hr.offsetWidth,io=Hr.offsetHeight;Lr&&(0,Tn.NL)({elements:Jr,appState:Dt(Dt({},i),{},{name:Ne,exportBackground:tn,exportWithDarkMode:on,exportScale:Mr,exportEmbedScene:_n}),files:W,exportPadding:f.qy,maxWidthOrHeight:Math.max(Lr,io),exportingFrame:ro}).then(function(Po){return Br(null),(0,an._c)(Po).then(function(){Hr.replaceChildren(Po)})}).catch(function(Po){console.error(Po),Br(Po)})}},[i,W,Jr,ro,Ne,tn,on,Mr,_n]),(0,r.jsxs)("div",{className:"ImageExportModal",children:[(0,r.jsx)("h3",{children:(0,L.t)("imageExportDialog.header")}),(0,r.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,r.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:br,children:kr&&(0,r.jsx)(dn,{})}),(0,r.jsx)("div",{className:"ImageExportModal__preview__filename",children:!kn.kr&&(0,r.jsx)("input",{type:"text",className:"TextInput",value:Ne,style:{width:"30ch"},disabled:K.name!==void 0||i.viewModeEnabled,onChange:function(Hr){Be(Hr.target.value),oe.executeAction(ln.zX,"ui",Hr.target.value)}})})]}),(0,r.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,r.jsx)("h3",{children:(0,L.t)("imageExportDialog.header")}),se&&(0,r.jsx)(Cn,{label:(0,L.t)("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,r.jsx)(Sn,{name:"exportOnlySelected",checked:ct,onChange:function(Hr){kt(Hr)}})}),(0,r.jsx)(Cn,{label:(0,L.t)("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,r.jsx)(Sn,{name:"exportBackgroundSwitch",checked:tn,onChange:function(Hr){Rt(Hr),oe.executeAction(ln.XA,"ui",Hr)}})}),Ft&&(0,r.jsx)(Cn,{label:(0,L.t)("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,r.jsx)(Sn,{name:"exportDarkModeSwitch",checked:on,onChange:function(Hr){vn(Hr),oe.executeAction(ln.bJ,"ui",Hr)}})}),(0,r.jsx)(Cn,{label:(0,L.t)("imageExportDialog.label.embedScene"),tooltip:(0,L.t)("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,r.jsx)(Sn,{name:"exportEmbedSwitch",checked:_n,onChange:function(Hr){Xn(Hr),oe.executeAction(ln.Du,"ui",Hr)}})}),(0,r.jsx)(Cn,{label:(0,L.t)("imageExportDialog.label.scale"),name:"exportScale",children:(0,r.jsx)(zt,{name:"exportScale",value:Mr,onChange:function(Hr){Dr(Hr),oe.executeAction(ln.sK,"ui",Hr)},choices:f.ZB.map(function(Hr){return{value:Hr,label:"".concat(Hr,"")}})})}),(0,r.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,r.jsx)(rn,{className:"ImageExportModal__settings__buttons__button",label:(0,L.t)("imageExportDialog.title.exportToPng"),onClick:function(){return xe(f.I_.png,Jr,{exportingFrame:ro})},startIcon:$.aL,children:(0,L.t)("imageExportDialog.button.exportToPng")}),(0,r.jsx)(rn,{className:"ImageExportModal__settings__buttons__button",label:(0,L.t)("imageExportDialog.title.exportToSvg"),onClick:function(){return xe(f.I_.svg,Jr,{exportingFrame:ro})},startIcon:$.aL,children:(0,L.t)("imageExportDialog.button.exportToSvg")}),(C.vt||f.vU)&&(0,r.jsx)(rn,{className:"ImageExportModal__settings__buttons__button",label:(0,L.t)("imageExportDialog.title.copyPngToClipboard"),onClick:function(){return xe(f.I_.clipboard,Jr,{exportingFrame:ro})},startIcon:$.UI,children:(0,L.t)("imageExportDialog.button.copyPngToClipboard")})]})]})]})},Cn=function(Z){var i=Z.label,O=Z.children,W=Z.tooltip,oe=Z.name;return(0,r.jsxs)("div",{className:"ImageExportModal__settings__setting",title:i,children:[(0,r.jsxs)("label",{htmlFor:oe,className:"ImageExportModal__settings__setting__label",children:[i,W&&(0,r.jsx)(Tt.u,{label:W,long:!0,children:$.mv})]}),(0,r.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:O})]})},Dn=function(Z){var i=Z.elements,O=Z.appState,W=Z.files,oe=Z.actionManager,xe=Z.onExportImage,se=Z.onCloseRequest,K=(0,k.useState)(function(){return{appStateSnapshot:(0,w.xU)(O),elementsSnapshot:(0,w.xU)(i)}}),ne=(0,_.Z)(K,1)[0],Ie=ne.appStateSnapshot,Ne=ne.elementsSnapshot;return(0,r.jsx)(Nt.V,{onCloseRequest:se,size:"wide",title:!1,children:(0,r.jsx)(jn,{elementsSnapshot:Ne,appStateSnapshot:Ie,files:W,actionManager:oe,onExportImage:xe})})},Wn=t(3195),Ln={};Ln.styleTagTransform=lt(),Ln.setAttributes=Ye(),Ln.insert=Se().bind(null,"head"),Ln.domAPI=ae(),Ln.insertStyleElement=We(),q()(Wn.Z,Ln),Wn.Z&&Wn.Z.locals&&Wn.Z.locals;var er=function(Z){var i=Z.children,O=Z.side,W=Z.className;return(0,r.jsx)("div",{className:(0,ye.Z)("FixedSideContainer","FixedSideContainer_side_".concat(O),W),children:i})},Vn=t(1587),Pn={};Pn.styleTagTransform=lt(),Pn.setAttributes=Ye(),Pn.insert=Se().bind(null,"head"),Pn.domAPI=ae(),Pn.insertStyleElement=We(),q()(Vn.Z,Pn),Vn.Z&&Vn.Z.locals&&Vn.Z.locals;var Rn=function(Z){var i=function(O){var W=O.appState,oe=O.isMobile,xe=O.device,se=O.app,K=W.activeTool,ne=W.isResizing,Ie=W.isRotating,Ne=W.lastPointerDownWith,Be=W.multiElement!==null;if(W.openSidebar&&!xe.editor.canFitSidebar)return null;if((0,j.EN)(W))return(0,L.t)("hints.eraserRevert");if(K.type==="arrow"||K.type==="line")return Be?(0,L.t)("hints.linearElementMulti"):(0,L.t)("hints.linearElement");if(K.type==="freedraw")return(0,L.t)("hints.freeDraw");if(K.type==="text")return(0,L.t)("hints.text");if(K.type==="embeddable")return(0,L.t)("hints.embeddable");if(W.activeTool.type==="image"&&W.pendingImageElementId)return(0,L.t)("hints.placeImage");var nt=se.scene.getSelectedElements(W);if(ne&&Ne==="mouse"&&nt.length===1){var it=nt[0];return(0,J.bt)(it)&&it.points.length===2?(0,L.t)("hints.lockAngle"):(0,J.pC)(it)?(0,L.t)("hints.resizeImage"):(0,L.t)("hints.resize")}if(Ie&&Ne==="mouse")return(0,L.t)("hints.rotate");if(nt.length===1&&(0,J.iB)(nt[0]))return(0,L.t)("hints.text_selected");if(W.editingElement&&(0,J.iB)(W.editingElement))return(0,L.t)("hints.text_editing");if(K.type==="selection"){var ct;if(((ct=W.draggingElement)===null||ct===void 0?void 0:ct.type)==="selection"&&!nt.length&&!W.editingElement&&!W.editingLinearElement)return(0,L.t)("hints.deepBoxSelect");if(W.gridSize&&W.draggingElement)return(0,L.t)("hints.disableSnapping");if(!nt.length&&!oe)return(0,L.t)("hints.canvasPanning");if(nt.length===1){if((0,J.bt)(nt[0]))return W.editingLinearElement?W.editingLinearElement.selectedPointsIndices?(0,L.t)("hints.lineEditor_pointSelected"):(0,L.t)("hints.lineEditor_nothingSelected"):(0,L.t)("hints.lineEditor_info");if(!W.draggingElement&&(0,J.mG)(nt[0]))return(0,L.t)("hints.bindTextToElement")}}return null}({appState:Z.appState,isMobile:Z.isMobile,device:Z.device,app:Z.app});return i?(i=(0,w.uY)(i),(0,r.jsx)("div",{className:"HintViewer",children:(0,r.jsx)("span",{children:i})})):null},Nn=t(1404),Gn=t(7165),nr=(t(3041),{CHECKED:$.FC,UNCHECKED:$._C}),rr=function(Z){return(0,r.jsxs)("label",{className:(0,ye.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":Z.isMobile}),title:"".concat(Z.title,"  Q"),children:[(0,r.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:Z.name,onChange:Z.onChange,checked:Z.checked,"aria-label":Z.title,"data-testid":"toolbar-lock"}),(0,r.jsx)("div",{className:"ToolIcon__icon",children:Z.checked?nr.CHECKED:nr.UNCHECKED})]})},Or=["heading","children"];function Xr(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}function po(Z){for(var i=1;i<arguments.length;i++){var O=arguments[i]!=null?arguments[i]:{};i%2?Xr(Object(O),!0).forEach(function(W){(0,H.Z)(Z,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(O)):Xr(Object(O)).forEach(function(W){Object.defineProperty(Z,W,Object.getOwnPropertyDescriptor(O,W))})}return Z}var xo=function(Z){var i=Z.heading,O=Z.children,W=(0,at.Z)(Z,Or),oe=Jl().id,xe=(0,r.jsx)("h2",{className:"visually-hidden",id:"".concat(oe,"-").concat(i,"-title"),children:(0,L.t)("headings.".concat(i))});return(0,r.jsx)("section",po(po({},W),{},{"aria-labelledby":"".concat(oe,"-").concat(i,"-title"),children:typeof O=="function"?O(xe):(0,r.jsxs)(r.Fragment,{children:[xe,O]})}))},jo=t(4726),ho=function(Z){return Z.penDetected?(0,r.jsxs)("label",{className:(0,ye.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":Z.isMobile}),title:"".concat(Z.title),children:[(0,r.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:Z.name,onChange:Z.onChange,checked:Z.checked,"aria-label":Z.title}),(0,r.jsx)("div",{className:"ToolIcon__icon",children:$.tb})]}):null},Qr=t(4949),go=t(2681),et={};et.styleTagTransform=lt(),et.setAttributes=Ye(),et.insert=Se().bind(null,"head"),et.domAPI=ae(),et.insertStyleElement=We(),q()(go.Z,et),go.Z&&go.Z.locals&&go.Z.locals;var Ee=function(Z){var i,O=(0,Qr.KP)(Z.elements),W=(0,be.Zs)(Z.elements,Z.appState),oe=(0,Qr.KP)(W);return(0,r.jsx)("div",{className:"Stats",children:(0,r.jsxs)(Nn.W,{padding:2,children:[(0,r.jsx)("div",{className:"close",onClick:Z.onClose,children:$.Tw}),(0,r.jsx)("h3",{children:(0,L.t)("stats.title")}),(0,r.jsx)("table",{children:(0,r.jsxs)("tbody",{children:[(0,r.jsx)("tr",{children:(0,r.jsx)("th",{colSpan:2,children:(0,L.t)("stats.scene")})}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,L.t)("stats.elements")}),(0,r.jsx)("td",{children:Z.elements.length})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,L.t)("stats.width")}),(0,r.jsx)("td",{children:Math.round(O[2])-Math.round(O[0])})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,L.t)("stats.height")}),(0,r.jsx)("td",{children:Math.round(O[3])-Math.round(O[1])})]}),W.length===1&&(0,r.jsx)("tr",{children:(0,r.jsx)("th",{colSpan:2,children:(0,L.t)("stats.element")})}),W.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("tr",{children:(0,r.jsx)("th",{colSpan:2,children:(0,L.t)("stats.selected")})}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,L.t)("stats.elements")}),(0,r.jsx)("td",{children:W.length})]})]}),W.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"x"}),(0,r.jsx)("td",{children:Math.round(oe[0])})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"y"}),(0,r.jsx)("td",{children:Math.round(oe[1])})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,L.t)("stats.width")}),(0,r.jsx)("td",{children:Math.round(oe[2]-oe[0])})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,L.t)("stats.height")}),(0,r.jsx)("td",{children:Math.round(oe[3]-oe[1])})]})]}),W.length===1&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,L.t)("stats.angle")}),(0,r.jsx)("td",{children:"".concat(Math.round(180*W[0].angle/Math.PI),"")})]}),(i=Z.renderCustomStats)===null||i===void 0?void 0:i.call(Z,Z.elements,Z.appState)]})})]})})},Le=function(Z){return(0,r.jsx)(U.V,{className:(0,ye.Z)("Shape",{fillable:!1}),type:"radio",icon:$.Hk,name:"editor-current-shape",checked:Z.checked,title:"".concat(Z.title,"  H"),keyBindingLabel:Z.isMobile?void 0:F.tW.H.toLocaleUpperCase(),"aria-label":"".concat(Z.title,"  H"),"aria-keyshortcuts":F.tW.H,"data-testid":"toolbar-hand",onChange:function(){var i;return(i=Z.onChange)===null||i===void 0?void 0:i.call(Z)}})},Ue=t(4572);function st(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}var Zt=function(Z){var i=Z.appState,O=Z.elements,W=Z.actionManager,oe=Z.setAppState,xe=Z.onLockToggle,se=Z.onHandToolToggle,K=Z.onPenModeToggle,ne=Z.renderTopRightUI,Ie=Z.renderCustomStats,Ne=Z.renderSidebars,Be=Z.device,nt=Z.renderWelcomeScreen,it=Z.UIOptions,ct=Z.app,kt=(0,Ue.R6)(),Ot=kt.WelcomeScreenCenterTunnel,Wt=kt.MainMenuTunnel,tn=kt.DefaultSidebarTriggerTunnel;return(0,r.jsxs)(r.Fragment,{children:[Ne(),!i.viewModeEnabled&&(0,r.jsxs)(er,{side:"top",className:"App-top-bar",children:[nt&&(0,r.jsx)(Ot.Out,{}),(0,r.jsx)(xo,{heading:"shapes",children:function(Rt){return(0,r.jsx)(dt.Z.Col,{gap:4,align:"center",children:(0,r.jsxs)(dt.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,r.jsxs)(Nn.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[Rt,(0,r.jsx)(dt.Z.Row,{gap:1,children:(0,r.jsx)(_t,{appState:i,activeTool:i.activeTool,UIOptions:it,app:ct})})]}),ne&&ne(!0,i),(0,r.jsxs)("div",{className:"mobile-misc-tools-container",children:[!i.viewModeEnabled&&(0,r.jsx)(tn.Out,{}),(0,r.jsx)(ho,{checked:i.penMode,onChange:function(){return K(null)},title:(0,L.t)("toolBar.penMode"),isMobile:!0,penDetected:i.penDetected}),(0,r.jsx)(rr,{checked:i.activeTool.locked,onChange:xe,title:(0,L.t)("toolBar.lock"),isMobile:!0}),(0,r.jsx)(Le,{checked:(0,j.l$)(i),onChange:function(){return se()},title:(0,L.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,r.jsx)(Rn,{appState:i,isMobile:!0,device:Be,app:ct})]}),!i.openMenu&&i.showStats&&(0,r.jsx)(Ee,{appState:i,setAppState:oe,elements:O,onClose:function(){W.executeAction(G.u0)},renderCustomStats:Ie}),(0,r.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:jo.nn+2*jo.WM,marginLeft:jo.nn+2*jo.WM,marginRight:jo.nn+2*jo.WM},children:(0,r.jsxs)(Nn.W,{padding:0,children:[i.openMenu==="shape"&&!i.viewModeEnabled&&(0,le.RT)(i,O)?(0,r.jsx)(xo,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,r.jsx)(pn,{appState:i,elements:O,renderAction:W.renderAction})}):null,(0,r.jsxs)("footer",{className:"App-toolbar",children:[i.viewModeEnabled?(0,r.jsx)("div",{className:"App-toolbar-content",children:(0,r.jsx)(Wt.Out,{})}):(0,r.jsxs)("div",{className:"App-toolbar-content",children:[(0,r.jsx)(Wt.Out,{}),W.renderAction("toggleEditMenu"),W.renderAction("undo"),W.renderAction("redo"),W.renderAction(i.multiElement?"finalize":"duplicateSelection"),W.renderAction("deleteSelectedElements")]}),i.scrolledOutside&&!i.openMenu&&!i.openSidebar&&(0,r.jsx)("button",{className:"scroll-back-to-content",onClick:function(){oe(function(Rt){return function(Lt){for(var Ut=1;Ut<arguments.length;Ut++){var on=arguments[Ut]!=null?arguments[Ut]:{};Ut%2?st(Object(on),!0).forEach(function(vn){(0,H.Z)(Lt,vn,on[vn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Lt,Object.getOwnPropertyDescriptors(on)):st(Object(on)).forEach(function(vn){Object.defineProperty(Lt,vn,Object.getOwnPropertyDescriptor(on,vn))})}return Lt}({},(0,be.W)(O,Rt))})},children:(0,L.t)("buttons.scrollBackToContent")})]})]})})]})},qt=t(5284),mn=t(901),Xt=t(3668),Vt=t(8461),wn={};wn.styleTagTransform=lt(),wn.setAttributes=Ye(),wn.insert=Se().bind(null,"head"),wn.domAPI=ae(),wn.insertStyleElement=We(),q()(Vt.Z,wn),Vt.Z&&Vt.Z.locals&&Vt.Z.locals;var Mn=function(Z){var i=(0,k.useRef)(null),O=(0,k.useState)(null),W=(0,_.Z)(O,2),oe=W[0],xe=W[1];return(0,k.useLayoutEffect)(function(){if(Z.spreadsheet){var se,K=(0,mn.ps)(Z.chartType,Z.spreadsheet,0,0);xe(K);var ne=i.current;return(0,p.Z)(m().mark(function Ie(){var Ne;return m().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.next=2,(0,Xt.$D)(K,{exportBackground:!1,viewBackgroundColor:qt.white},null);case 2:se=Be.sent,(Ne=se.querySelector(".style-fonts"))===null||Ne===void 0||Ne.remove(),ne.replaceChildren(),ne.appendChild(se),Z.selected&&ne.parentNode.focus();case 7:case"end":return Be.stop()}},Ie)}))(),function(){ne.replaceChildren()}}},[Z.spreadsheet,Z.chartType,Z.selected]),(0,r.jsx)("button",{className:"ChartPreview",onClick:function(){oe&&Z.onClick(Z.chartType,oe)},children:(0,r.jsx)("div",{ref:i})})},qn=function(Z){var i=Z.setAppState,O=Z.appState,W=Z.onClose,oe=hs().onInsertElements,xe=Q().useCallback(function(){W&&W()},[W]),se=function(K,ne){oe(ne),(0,c.L)("magic","chart",K),i({currentChartType:K,pasteDialog:{shown:!1,data:null}})};return(0,r.jsx)(Nt.V,{size:"small",onCloseRequest:xe,title:(0,L.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(Mn,{chartType:"bar",spreadsheet:O.pasteDialog.data,selected:O.currentChartType==="bar",onClick:se}),(0,r.jsx)(Mn,{chartType:"line",spreadsheet:O.pasteDialog.data,selected:O.currentChartType==="line",onClick:se})]})})},Qn=t(2978),dr={};dr.styleTagTransform=lt(),dr.setAttributes=Ye(),dr.insert=Se().bind(null,"head"),dr.domAPI=ae(),dr.insertStyleElement=We(),q()(Qn.Z,dr),Qn.Z&&Qn.Z.locals&&Qn.Z.locals;function ur(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}var ir=m().mark(ii);function cr(Z,i){var O=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!O){if(Array.isArray(Z)||(O=function(ne,Ie){if(ne){if(typeof ne=="string")return Ar(ne,Ie);var Ne=Object.prototype.toString.call(ne).slice(8,-1);if(Ne==="Object"&&ne.constructor&&(Ne=ne.constructor.name),Ne==="Map"||Ne==="Set")return Array.from(ne);if(Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return Ar(ne,Ie)}}(Z))||i){O&&(Z=O);var W=0,oe=function(){};return{s:oe,n:function(){return W>=Z.length?{done:!0}:{done:!1,value:Z[W++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe,se=!0,K=!1;return{s:function(){O=O.call(Z)},n:function(){var ne=O.next();return se=ne.done,ne},e:function(ne){K=!0,xe=ne},f:function(){try{se||O.return==null||O.return()}finally{if(K)throw xe}}}}function Ar(Z,i){(i==null||i>Z.length)&&(i=Z.length);for(var O=0,W=new Array(i);O<i;O++)W[O]=Z[O];return W}var Gr=function(){return(0,r.jsxs)("div",{className:"HelpDialog__header",children:[(0,r.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,L.t)("helpDialog.documentation"),(0,r.jsx)("div",{className:"HelpDialog__link-icon",children:$.h0})]}),(0,r.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,L.t)("helpDialog.blog"),(0,r.jsx)("div",{className:"HelpDialog__link-icon",children:$.h0})]}),(0,r.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,L.t)("helpDialog.github"),(0,r.jsx)("div",{className:"HelpDialog__link-icon",children:$.h0})]})]})},so=function(Z){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{children:Z.title}),(0,r.jsx)("div",{className:"HelpDialog__islands-container",children:Z.children})]})},zo=function(Z){return(0,r.jsxs)("div",{className:"HelpDialog__island ".concat(Z.className),children:[(0,r.jsx)("h4",{className:"HelpDialog__island-title",children:Z.caption}),(0,r.jsx)("div",{className:"HelpDialog__island-content",children:Z.children})]})};function ii(Z,i){var O,W,oe,xe;return m().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:O=!0,W=cr(Z),se.prev=2,W.s();case 4:if((oe=W.n()).done){se.next=14;break}if(xe=oe.value,O){se.next=9;break}return se.next=9,i;case 9:return O=!1,se.next=12,xe;case 12:se.next=4;break;case 14:se.next=19;break;case 16:se.prev=16,se.t0=se.catch(2),W.e(se.t0);case 19:return se.prev=19,W.f(),se.finish(19);case 22:case"end":return se.stop()}},ir,null,[[2,16,19,22]])}var Ir=function(Z){var i=Z.label,O=Z.shortcuts,W=Z.isOr,oe=W===void 0||W,xe=O.map(function(se){return(se.endsWith("++")?[].concat((0,g.Z)(se.slice(0,-2).split("+")),["+"]):se.split("+")).map(function(K){return(0,r.jsx)(hr,{children:(ne=K,ne.replace(/\b[a-z]\b/,function(Ie){return Ie.toUpperCase()}))},K);var ne})});return(0,r.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,r.jsx)("div",{children:i}),(0,r.jsx)("div",{className:"HelpDialog__key-container",children:(0,g.Z)(ii(xe,oe?(0,L.t)("helpDialog.or"):null))})]})},hr=function(Z){return(0,r.jsx)("kbd",function(i){for(var O=1;O<arguments.length;O++){var W=arguments[O]!=null?arguments[O]:{};O%2?ur(Object(W),!0).forEach(function(oe){(0,H.Z)(i,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(W)):ur(Object(W)).forEach(function(oe){Object.defineProperty(i,oe,Object.getOwnPropertyDescriptor(W,oe))})}return i}({className:"HelpDialog__key"},Z))},Ur=function(Z){var i=Z.onClose,O=Q().useCallback(function(){i&&i()},[i]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(Nt.V,{onCloseRequest:O,title:(0,L.t)("helpDialog.title"),className:"HelpDialog",children:[(0,r.jsx)(Gr,{}),(0,r.jsxs)(so,{title:(0,L.t)("helpDialog.shortcuts"),children:[(0,r.jsxs)(zo,{className:"HelpDialog__island--tools",caption:(0,L.t)("helpDialog.tools"),children:[(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.hand"),shortcuts:[F.tW.H]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.selection"),shortcuts:[F.tW.V,F.tW[1]]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.rectangle"),shortcuts:[F.tW.R,F.tW[2]]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.diamond"),shortcuts:[F.tW.D,F.tW[3]]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.ellipse"),shortcuts:[F.tW.O,F.tW[4]]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.arrow"),shortcuts:[F.tW.A,F.tW[5]]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.line"),shortcuts:[F.tW.L,F.tW[6]]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.freedraw"),shortcuts:[F.tW.P,F.tW[7]]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.text"),shortcuts:[F.tW.T,F.tW[8]]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.image"),shortcuts:[F.tW[9]]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.eraser"),shortcuts:[F.tW.E,F.tW[0]]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.frame"),shortcuts:[F.tW.F]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.laser"),shortcuts:[F.tW.K]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.eyeDropper"),shortcuts:[F.tW.I,"Shift+S","Shift+G"]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,w.uY)("CtrlOrCmd+Enter")]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.editText"),shortcuts:[(0,w.uY)("Enter")]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.textNewLine"),shortcuts:[(0,w.uY)("Enter"),(0,w.uY)("Shift+Enter")]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.textFinish"),shortcuts:[(0,w.uY)("Esc"),(0,w.uY)("CtrlOrCmd+Enter")]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,L.t)("helpDialog.click"),(0,L.t)("helpDialog.click"),(0,L.t)("helpDialog.click")],isOr:!1}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.curvedLine"),shortcuts:["L",(0,L.t)("helpDialog.click"),(0,L.t)("helpDialog.click"),(0,L.t)("helpDialog.click")],isOr:!1}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.lock"),shortcuts:[F.tW.Q]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.preventBinding"),shortcuts:[(0,w.uY)("CtrlOrCmd")]}),(0,r.jsx)(Ir,{label:(0,L.t)("toolBar.link"),shortcuts:[(0,w.uY)("CtrlOrCmd+K")]})]}),(0,r.jsxs)(zo,{className:"HelpDialog__island--view",caption:(0,L.t)("helpDialog.view"),children:[(0,r.jsx)(Ir,{label:(0,L.t)("buttons.zoomIn"),shortcuts:[(0,w.uY)("CtrlOrCmd++")]}),(0,r.jsx)(Ir,{label:(0,L.t)("buttons.zoomOut"),shortcuts:[(0,w.uY)("CtrlOrCmd+-")]}),(0,r.jsx)(Ir,{label:(0,L.t)("buttons.resetZoom"),shortcuts:[(0,w.uY)("CtrlOrCmd+0")]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,r.jsx)(Ir,{label:(0,L.t)("buttons.zenMode"),shortcuts:[(0,w.uY)("Alt+Z")]}),(0,r.jsx)(Ir,{label:(0,L.t)("buttons.objectsSnapMode"),shortcuts:[(0,w.uY)("Alt+S")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.showGrid"),shortcuts:[(0,w.uY)("CtrlOrCmd+'")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.viewMode"),shortcuts:[(0,w.uY)("Alt+R")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.toggleTheme"),shortcuts:[(0,w.uY)("Alt+Shift+D")]}),(0,r.jsx)(Ir,{label:(0,L.t)("stats.title"),shortcuts:[(0,w.uY)("Alt+/")]})]}),(0,r.jsxs)(zo,{className:"HelpDialog__island--editor",caption:(0,L.t)("helpDialog.editor"),children:[(0,r.jsx)(Ir,{label:(0,L.t)("labels.moveCanvas"),shortcuts:[(0,w.uY)("Space+".concat((0,L.t)("helpDialog.drag"))),(0,w.uY)("Wheel+".concat((0,L.t)("helpDialog.drag")))],isOr:!0}),(0,r.jsx)(Ir,{label:(0,L.t)("buttons.clearReset"),shortcuts:[(0,w.uY)("CtrlOrCmd+Delete")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.delete"),shortcuts:[(0,w.uY)("Delete")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.cut"),shortcuts:[(0,w.uY)("CtrlOrCmd+X")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.copy"),shortcuts:[(0,w.uY)("CtrlOrCmd+C")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.paste"),shortcuts:[(0,w.uY)("CtrlOrCmd+V")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.pasteAsPlaintext"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+V")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.selectAll"),shortcuts:[(0,w.uY)("CtrlOrCmd+A")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.multiSelect"),shortcuts:[(0,w.uY)("Shift+".concat((0,L.t)("helpDialog.click")))]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.deepSelect"),shortcuts:[(0,w.uY)("CtrlOrCmd+".concat((0,L.t)("helpDialog.click")))]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,w.uY)("CtrlOrCmd+".concat((0,L.t)("helpDialog.drag")))]}),(C.vt||f.vU)&&(0,r.jsx)(Ir,{label:(0,L.t)("labels.copyAsPng"),shortcuts:[(0,w.uY)("Shift+Alt+C")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.copyStyles"),shortcuts:[(0,w.uY)("CtrlOrCmd+Alt+C")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.pasteStyles"),shortcuts:[(0,w.uY)("CtrlOrCmd+Alt+V")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.sendToBack"),shortcuts:[f.Um?(0,w.uY)("CtrlOrCmd+Alt+["):(0,w.uY)("CtrlOrCmd+Shift+[")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.bringToFront"),shortcuts:[f.Um?(0,w.uY)("CtrlOrCmd+Alt+]"):(0,w.uY)("CtrlOrCmd+Shift+]")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.sendBackward"),shortcuts:[(0,w.uY)("CtrlOrCmd+[")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.bringForward"),shortcuts:[(0,w.uY)("CtrlOrCmd+]")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.alignTop"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+Up")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.alignBottom"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+Down")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.alignLeft"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+Left")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.alignRight"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+Right")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.duplicateSelection"),shortcuts:[(0,w.uY)("CtrlOrCmd+D"),(0,w.uY)("Alt+".concat((0,L.t)("helpDialog.drag")))]}),(0,r.jsx)(Ir,{label:(0,L.t)("helpDialog.toggleElementLock"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+L")]}),(0,r.jsx)(Ir,{label:(0,L.t)("buttons.undo"),shortcuts:[(0,w.uY)("CtrlOrCmd+Z")]}),(0,r.jsx)(Ir,{label:(0,L.t)("buttons.redo"),shortcuts:f.ED?[(0,w.uY)("CtrlOrCmd+Y"),(0,w.uY)("CtrlOrCmd+Shift+Z")]:[(0,w.uY)("CtrlOrCmd+Shift+Z")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.group"),shortcuts:[(0,w.uY)("CtrlOrCmd+G")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.ungroup"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+G")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.flipHorizontal"),shortcuts:[(0,w.uY)("Shift+H")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.flipVertical"),shortcuts:[(0,w.uY)("Shift+V")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.showStroke"),shortcuts:[(0,w.uY)("S")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.showBackground"),shortcuts:[(0,w.uY)("G")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.decreaseFontSize"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+<")]}),(0,r.jsx)(Ir,{label:(0,L.t)("labels.increaseFontSize"),shortcuts:[(0,w.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},no=t(4704),ao=t(4241),Xo={};Xo.styleTagTransform=lt(),Xo.setAttributes=Ye(),Xo.insert=Se().bind(null,"head"),Xo.domAPI=ae(),Xo.insertStyleElement=We(),q()(ao.Z,Xo),ao.Z&&ao.Z.locals&&ao.Z.locals;var Ho=function(Z){var i,O=Z.children,W=Z.color;return(0,r.jsx)("div",{className:"Card",style:(i={},(0,H.Z)(i,"--card-color",W==="primary"?"var(--color-primary)":qt[W][7]),(0,H.Z)(i,"--card-color-darker",W==="primary"?"var(--color-primary-darker)":qt[W][8]),(0,H.Z)(i,"--card-color-darkest",W==="primary"?"var(--color-primary-darkest)":qt[W][9]),i),children:O})},di=t(7955),ai={};ai.styleTagTransform=lt(),ai.setAttributes=Ye(),ai.insert=Se().bind(null,"head"),ai.domAPI=ae(),ai.insertStyleElement=We(),q()(di.Z,ai),di.Z&&di.Z.locals&&di.Z.locals;var ui=function(Z){var i=Z.elements,O=Z.appState,W=Z.setAppState,oe=Z.files,xe=Z.actionManager,se=Z.exportOpts,K=Z.canvas,ne=Z.onCloseRequest,Ie=se.onExportToBackend;return(0,r.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,r.jsxs)("div",{className:"ExportDialog-cards",children:[se.saveFileToDisk&&(0,r.jsxs)(Ho,{color:"lime",children:[(0,r.jsx)("div",{className:"Card-icon",children:$.TP}),(0,r.jsx)("h2",{children:(0,L.t)("exportDialog.disk_title")}),(0,r.jsxs)("div",{className:"Card-details",children:[(0,L.t)("exportDialog.disk_details"),!kn.kr&&xe.renderAction("changeProjectName")]}),(0,r.jsx)(U.V,{className:"Card-button",type:"button",title:(0,L.t)("exportDialog.disk_button"),"aria-label":(0,L.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){xe.executeAction(ln.mM,"ui")}})]}),Ie&&(0,r.jsxs)(Ho,{color:"pink",children:[(0,r.jsx)("div",{className:"Card-icon",children:$.xP}),(0,r.jsx)("h2",{children:(0,L.t)("exportDialog.link_title")}),(0,r.jsx)("div",{className:"Card-details",children:(0,L.t)("exportDialog.link_details")}),(0,r.jsx)(U.V,{className:"Card-button",type:"button",title:(0,L.t)("exportDialog.link_button"),"aria-label":(0,L.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:(0,p.Z)(m().mark(function Ne(){return m().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.prev=0,(0,c.L)("export","link","ui (".concat((0,w.$h)(),")")),Be.next=4,Ie(i,O,oe,K);case 4:ne(),Be.next=10;break;case 7:Be.prev=7,Be.t0=Be.catch(0),W({errorMessage:Be.t0.message});case 10:case"end":return Be.stop()}},Ne,null,[[0,7]])}))})]}),se.renderCustomUI&&se.renderCustomUI(i,O,oe,K)]})})},ua=function(Z){var i=Z.elements,O=Z.appState,W=Z.files,oe=Z.actionManager,xe=Z.exportOpts,se=Z.canvas,K=Z.setAppState,ne=Q().useCallback(function(){K({openDialog:null})},[K]);return(0,r.jsx)(r.Fragment,{children:O.openDialog==="jsonExport"&&(0,r.jsx)(Nt.V,{onCloseRequest:ne,title:(0,L.t)("buttons.export"),children:(0,r.jsx)(ui,{elements:i,appState:O,setAppState:K,files:W,actionManager:oe,onCloseRequest:ne,exportOpts:xe,canvas:se})})})},Ca=t(7080),ti=function(Z){return(0,r.jsx)("button",{className:"help-icon",onClick:Z.onClick,type:"button",title:"".concat((0,L.t)("helpDialog.title"),"  ?"),"aria-label":(0,L.t)("helpDialog.title"),children:$.by})},da=function(Z){var i=Z.appState,O=Z.actionManager,W=Z.showExitZenModeBtn,oe=Z.renderWelcomeScreen,xe=(0,Ue.R6)(),se=xe.FooterCenterTunnel,K=xe.WelcomeScreenHelpHintTunnel,ne=ms(),Ie=!i.viewModeEnabled&&i.multiElement&&ne.isTouchScreen;return(0,r.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,r.jsx)("div",{className:(0,ye.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":i.zenModeEnabled}),children:(0,r.jsx)(dt.Z.Col,{gap:2,children:(0,r.jsxs)(xo,{heading:"canvasActions",children:[(0,r.jsx)(xt,{renderAction:O.renderAction,zoom:i.zoom}),!i.viewModeEnabled&&(0,r.jsx)(At,{renderAction:O.renderAction,className:(0,ye.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":i.zenModeEnabled})}),Ie&&(0,r.jsx)(Mt,{renderAction:O.renderAction,className:(0,ye.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":i.zenModeEnabled})})]})})}),(0,r.jsx)(se.Out,{}),(0,r.jsx)("div",{className:(0,ye.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":i.zenModeEnabled}),children:(0,r.jsxs)("div",{style:{position:"relative"},children:[oe&&(0,r.jsx)(K.Out,{}),(0,r.jsx)(ti,{onClick:function(){return O.executeAction(G.jY)}})]})}),(0,r.jsx)(It,{actionManager:O,showExitZenModeBtn:W})]})},nl=da;da.displayName="Footer";var Dl=t(5902),Qi=t(453),ea=t(3607),bi=t(7021),Ii=t(8973),Ll=t(6922),Va=t(7827),Ri=function(Z){var i=Z.title,O=Z.children,W=Z.actionLabel,oe=Z.onClick;return(0,r.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,r.jsx)("h4",{children:i}),(0,r.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:O}),(0,r.jsx)(rn,{variant:"outlined",color:"muted",label:W,size:"large",fullWidth:!0,onClick:oe})]})},Ui=Object.assign(function(Z){var i=Z.children;return(0,r.jsx)("div",{className:"OverwriteConfirm__Actions",children:i})},{ExportToImage:function(){var Z=(0,L.QT)().t,i=As(),O=Ms();return(0,r.jsx)(Ri,{title:Z("overwriteConfirm.action.exportToImage.title"),actionLabel:Z("overwriteConfirm.action.exportToImage.button"),onClick:function(){i.executeAction(ln.Du,"ui",!0),O({openDialog:"imageExport"})},children:Z("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var Z=(0,L.QT)().t,i=As();return(0,r.jsx)(Ri,{title:Z("overwriteConfirm.action.saveToDisk.title"),actionLabel:Z("overwriteConfirm.action.saveToDisk.button"),onClick:function(){i.executeAction(G.mM,"ui")},children:Z("overwriteConfirm.action.saveToDisk.description")})}}),Vi=t(9439),Ki={};Ki.styleTagTransform=lt(),Ki.setAttributes=Ye(),Ki.insert=Se().bind(null,"head"),Ki.domAPI=ae(),Ki.insertStyleElement=We(),q()(Vi.Z,Ki),Vi.Z&&Vi.Z.locals&&Vi.Z.locals;function ta(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}function fa(Z){for(var i=1;i<arguments.length;i++){var O=arguments[i]!=null?arguments[i]:{};i%2?ta(Object(O),!0).forEach(function(W){(0,H.Z)(Z,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(O)):ta(Object(O)).forEach(function(W){Object.defineProperty(Z,W,Object.getOwnPropertyDescriptor(O,W))})}return Z}var na=Object.assign((0,Ll.$)("OverwriteConfirmDialog",function(Z){var i=Z.children,O=(0,Ue.R6)().OverwriteConfirmDialogTunnel,W=(0,ea.KO)(Va.K,Qi.yE),oe=(0,_.Z)(W,2),xe=oe[0],se=oe[1];return xe.active?(0,r.jsx)(O.In,{children:(0,r.jsx)(Nt.V,{onCloseRequest:function(){xe.onClose(),se(function(K){return fa(fa({},K),{},{active:!1})})},title:!1,size:916,children:(0,r.jsxs)("div",{className:"OverwriteConfirm",children:[(0,r.jsx)("h3",{children:xe.title}),(0,r.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(xe.color),children:[(0,r.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:$.UT}),(0,r.jsx)("div",{children:xe.description}),(0,r.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,r.jsx)(rn,{color:xe.color,size:"large",label:xe.actionLabel,onClick:function(){xe.onConfirm(),se(function(K){return fa(fa({},K),{},{active:!1})})}})]}),(0,r.jsx)(Ui,{children:i})]})})}):null}),{Actions:Ui,Action:Ri}),ja=t(100),Ka=t(1925),Ia=t(8924),Ya=t(1434),Ei={};Ei.styleTagTransform=lt(),Ei.setAttributes=Ye(),Ei.insert=Se().bind(null,"head"),Ei.domAPI=ae(),Ei.insertStyleElement=We(),q()(Ya.Z,Ei),Ya.Z&&Ya.Z.locals&&Ya.Z.locals;var $o=t(9144),Yi={};Yi.styleTagTransform=lt(),Yi.setAttributes=Ye(),Yi.insert=Se().bind(null,"head"),Yi.domAPI=ae(),Yi.insertStyleElement=We(),q()($o.Z,Yi),$o.Z&&$o.Z.locals&&$o.Z.locals;var hi=t(2921),pa=function(Z){return(0,r.jsxs)("label",{className:(0,ye.Z)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":Z.isMobile}),title:"".concat(Z.title),children:[(0,r.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:Z.name,onChange:Z.onChange,checked:Z.checked,"aria-label":Z.title,"data-testid":"toolbar-LaserPointer"}),(0,r.jsx)("div",{className:"ToolIcon__icon",children:$.d})]})},Rl=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],Nl=["canvas","appState"],cs=["canvas","appState"];function bl(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}function rl(Z,i){var O=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!O){if(Array.isArray(Z)||(O=function(ne,Ie){if(ne){if(typeof ne=="string")return Pa(ne,Ie);var Ne=Object.prototype.toString.call(ne).slice(8,-1);if(Ne==="Object"&&ne.constructor&&(Ne=ne.constructor.name),Ne==="Map"||Ne==="Set")return Array.from(ne);if(Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return Pa(ne,Ie)}}(Z))||i){O&&(Z=O);var W=0,oe=function(){};return{s:oe,n:function(){return W>=Z.length?{done:!0}:{done:!1,value:Z[W++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe,se=!0,K=!1;return{s:function(){O=O.call(Z)},n:function(){var ne=O.next();return se=ne.done,ne},e:function(ne){K=!0,xe=ne},f:function(){try{se||O.return==null||O.return()}finally{if(K)throw xe}}}}function Pa(Z,i){(i==null||i>Z.length)&&(i=Z.length);for(var O=0,W=new Array(i);O<i;O++)W[O]=Z[O];return W}var Xi=function(Z){var i=Z.UIOptions;return(0,r.jsxs)(bi.Z,{__fallback:!0,children:[(0,r.jsx)(bi.Z.DefaultItems.LoadScene,{}),(0,r.jsx)(bi.Z.DefaultItems.SaveToActiveFile,{}),i.canvasActions.export&&(0,r.jsx)(bi.Z.DefaultItems.Export,{}),i.canvasActions.saveAsImage&&(0,r.jsx)(bi.Z.DefaultItems.SaveAsImage,{}),(0,r.jsx)(bi.Z.DefaultItems.Help,{}),(0,r.jsx)(bi.Z.DefaultItems.ClearCanvas,{}),(0,r.jsx)(bi.Z.Separator,{}),(0,r.jsx)(bi.Z.Group,{title:"Excalidraw links",children:(0,r.jsx)(bi.Z.DefaultItems.Socials,{})}),(0,r.jsx)(bi.Z.Separator,{}),(0,r.jsx)(bi.Z.DefaultItems.ToggleTheme,{}),(0,r.jsx)(bi.Z.DefaultItems.ChangeCanvasBackground,{})]})},us=function(){return(0,r.jsxs)(na,{__fallback:!0,children:[(0,r.jsx)(na.Actions.SaveToDisk,{}),(0,r.jsx)(na.Actions.ExportToImage,{})]})},ds=function(Z){var i,O,W=Z.actionManager,oe=Z.appState,xe=Z.files,se=Z.setAppState,K=Z.elements,ne=Z.canvas,Ie=Z.onLockToggle,Ne=Z.onHandToolToggle,Be=Z.onPenModeToggle,nt=Z.showExitZenModeBtn,it=Z.renderTopRightUI,ct=Z.renderCustomStats,kt=Z.UIOptions,Ot=Z.onExportImage,Wt=Z.renderWelcomeScreen,tn=Z.children,Rt=Z.app,Lt=Z.isCollaborating,Ut=ms(),on=(0,Ue.ZC)(),vn=(0,ea.KO)(Ia.$,Qi.yE),cn=(0,_.Z)(vn,2),nn=cn[0],_n=cn[1],Xn=function(){return kt.canvasActions.export?(0,r.jsx)(ua,{elements:K,appState:oe,files:xe,actionManager:W,exportOpts:kt.canvasActions.export,canvas:ne,setAppState:se}):null},sr=function(){return kt.canvasActions.saveAsImage&&oe.openDialog==="imageExport"?(0,r.jsx)(Dn,{elements:K,appState:oe,files:xe,actionManager:W,onExportImage:Ot,onCloseRequest:function(){return se({openDialog:null})}}):null},yr=function(){return(0,r.jsx)(Ka.O,{__fallback:!0,onDock:function(br){(0,c.L)("sidebar","toggleDock (".concat(br?"dock":"undock",")"),"(".concat(Ut.editor.isMobile?"mobile":"desktop",")"))}})},Mr=(0,ea.Dv)(Dl.t6,Qi.yE),Dr=(0,r.jsxs)(r.Fragment,{children:[tn,(0,r.jsx)(Xi,{UIOptions:kt}),(0,r.jsx)(Ka.O.Trigger,{__fallback:!0,icon:$.Vq,title:(0,w.Oo)((0,L.t)("toolBar.library")),onToggle:function(br){br&&(0,c.L)("sidebar","".concat(f.Cc.name," (open)"),"button (".concat(Ut.editor.isMobile?"mobile":"desktop",")"))},tab:f.Cc.defaultTab,children:(0,L.t)("toolBar.library")}),(0,r.jsx)(us,{}),oe.isLoading&&(0,r.jsx)(Gn.z,{delay:250}),oe.errorMessage&&(0,r.jsx)(Yt,{onClose:function(){return se({errorMessage:null})},children:oe.errorMessage}),nn&&!Ut.editor.isMobile&&(0,r.jsx)(Ia.p,{colorPickerType:nn.colorPickerType,onCancel:function(){_n(null)},onChange:function(br,xr,Sr,kr){var Br=kr.altKey;if(br==="elementBackground"||br==="elementStroke")if(Sr.length){var qr,Jr,ro=rl(Sr);try{for(ro.s();!(Jr=ro.n()).done;){var Hr=Jr.value;(0,I.DR)(Hr,(0,H.Z)({},Br&&nn.swapPreviewOnAlt?br==="elementBackground"?"strokeColor":"backgroundColor":br==="elementBackground"?"backgroundColor":"strokeColor",xr),!1),hi.R.delete(Hr)}}catch(Lr){ro.e(Lr)}finally{ro.f()}(qr=ve.Z.getScene(Sr[0]))===null||qr===void 0||qr.informMutation()}else se(br==="elementBackground"?{currentItemBackgroundColor:xr}:{currentItemStrokeColor:xr})},onSelect:function(br,xr){var Sr;_n(function(kr){return kr!=null&&kr.keepOpenOnAlt&&xr.altKey?kr:null}),nn==null||(Sr=nn.onSelect)===null||Sr===void 0||Sr.call(nn,br,xr)}}),oe.openDialog==="help"&&(0,r.jsx)(Ur,{onClose:function(){se({openDialog:null})}}),(0,r.jsx)(Ii.o,{}),(0,r.jsx)(on.OverwriteConfirmDialogTunnel.Out,{}),sr(),Xn(),oe.pasteDialog.shown&&(0,r.jsx)(qn,{setAppState:se,appState:oe,onClose:function(){return se({pasteDialog:{shown:!1,data:null}})}}),Ut.editor.isMobile&&(0,r.jsx)(Zt,{app:Rt,appState:oe,elements:K,actionManager:W,renderJSONExportDialog:Xn,renderImageExportDialog:sr,setAppState:se,onLockToggle:Ie,onHandToolToggle:Ne,onPenModeToggle:Be,renderTopRightUI:it,renderCustomStats:ct,renderSidebars:yr,device:Ut,renderWelcomeScreen:Wt,UIOptions:kt}),!Ut.editor.isMobile&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"layer-ui__wrapper",style:oe.openSidebar&&Mr&&Ut.editor.canFitSidebar?{width:"calc(100% - ".concat(f.EE,"px)")}:{},children:[Wt&&(0,r.jsx)(on.WelcomeScreenCenterTunnel.Out,{}),(O=(0,le.RT)(oe,K),(0,r.jsx)(er,{side:"top",children:(0,r.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,r.jsxs)(dt.Z.Col,{gap:6,className:(0,ye.Z)("App-menu_top__left"),children:[(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)(on.MainMenuTunnel.Out,{}),Wt&&(0,r.jsx)(on.WelcomeScreenMenuHintTunnel.Out,{})]}),O&&(0,r.jsx)(xo,{heading:"selectedShapeActions",className:(0,ye.Z)("selected-shape-actions zen-mode-transition",{"transition-left":oe.zenModeEnabled}),children:(0,r.jsx)(Nn.W,{className:f.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(oe.height-166,"px")},children:(0,r.jsx)(pn,{appState:oe,elements:K,renderAction:W.renderAction})})})]}),!oe.viewModeEnabled&&(0,r.jsx)(xo,{heading:"shapes",className:"shapes-section",children:function(br){return(0,r.jsxs)("div",{style:{position:"relative"},children:[Wt&&(0,r.jsx)(on.WelcomeScreenToolbarHintTunnel.Out,{}),(0,r.jsx)(dt.Z.Col,{gap:4,align:"start",children:(0,r.jsxs)(dt.Z.Row,{gap:1,className:(0,ye.Z)("App-toolbar-container",{"zen-mode":oe.zenModeEnabled}),children:[(0,r.jsxs)(Nn.W,{padding:1,className:(0,ye.Z)("App-toolbar",{"zen-mode":oe.zenModeEnabled}),children:[(0,r.jsx)(Rn,{appState:oe,isMobile:Ut.editor.isMobile,device:Ut,app:Rt}),br,(0,r.jsxs)(dt.Z.Row,{gap:1,children:[(0,r.jsx)(ho,{zenModeEnabled:oe.zenModeEnabled,checked:oe.penMode,onChange:function(){return Be(null)},title:(0,L.t)("toolBar.penMode"),penDetected:oe.penDetected}),(0,r.jsx)(rr,{checked:oe.activeTool.locked,onChange:Ie,title:(0,L.t)("toolBar.lock")}),(0,r.jsx)("div",{className:"App-toolbar__divider"}),(0,r.jsx)(Le,{checked:(0,j.l$)(oe),onChange:function(){return Ne()},title:(0,L.t)("toolBar.hand"),isMobile:!0}),(0,r.jsx)(_t,{appState:oe,activeTool:oe.activeTool,UIOptions:kt,app:Rt})]})]}),Lt&&(0,r.jsx)(Nn.W,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,r.jsx)(pa,{title:(0,L.t)("toolBar.laser"),checked:oe.activeTool.type==="laser",onChange:function(){return Rt.setActiveTool({type:"laser"})},isMobile:!0})})]})})]})}}),(0,r.jsxs)("div",{className:(0,ye.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":oe.zenModeEnabled}),children:[(0,r.jsx)(no.Z,{collaborators:oe.collaborators}),it?.(Ut.editor.isMobile,oe),!oe.viewModeEnabled&&(!Mr||((i=oe.openSidebar)===null||i===void 0?void 0:i.name)!==f.Cc.name)&&(0,r.jsx)(on.DefaultSidebarTriggerTunnel.Out,{})]})]})})),(0,r.jsx)(nl,{appState:oe,actionManager:W,showExitZenModeBtn:nt,renderWelcomeScreen:Wt}),oe.showStats&&(0,r.jsx)(Ee,{appState:oe,setAppState:se,elements:K,onClose:function(){W.executeAction(Ca.u)},renderCustomStats:ct}),oe.scrolledOutside&&(0,r.jsx)("button",{className:"scroll-back-to-content",onClick:function(){se(function(br){return function(xr){for(var Sr=1;Sr<arguments.length;Sr++){var kr=arguments[Sr]!=null?arguments[Sr]:{};Sr%2?bl(Object(kr),!0).forEach(function(Br){(0,H.Z)(xr,Br,kr[Br])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xr,Object.getOwnPropertyDescriptors(kr)):bl(Object(kr)).forEach(function(Br){Object.defineProperty(xr,Br,Object.getOwnPropertyDescriptor(kr,Br))})}return xr}({},(0,be.W)(K,br))})},children:(0,L.t)("buttons.scrollBackToContent")})]}),yr()]})]});return(0,r.jsx)(ja.k.Provider,{value:oe,children:(0,r.jsx)(ea.zt,{scope:on.jotaiScope,children:(0,r.jsx)(Ue.A3.Provider,{value:on,children:Dr})})})},ol=function(Z){return Z.suggestedBindings,Z.startBoundElement,Z.cursorButton,Z.scrollX,Z.scrollY,(0,at.Z)(Z,Rl)},yl=function(Z,i){if(Z.children!==i.children)return!1;Z.canvas;var O=Z.appState,W=(0,at.Z)(Z,Nl),oe=(i.canvas,i.appState),xe=(0,at.Z)(i,cs);return(0,w.w8)(ol(O),ol(oe),{selectedElementIds:w.w8,selectedGroupIds:w.w8})&&(0,w.w8)(W,xe)},ya=Q().memo(ds,yl),Ta=t(9650),Ni={};Ni.styleTagTransform=lt(),Ni.setAttributes=Ye(),Ni.insert=Se().bind(null,"head"),Ni.domAPI=ae(),Ni.insertStyleElement=We(),q()(Ta.Z,Ni),Ta.Z&&Ta.Z.locals&&Ta.Z.locals;var aa=function(Z){var i=Z.message,O=Z.onClose,W=Z.closable,oe=W!==void 0&&W,xe=Z.duration,se=xe===void 0?5e3:xe,K=(0,k.useRef)(0),ne=se!==1/0,Ie=(0,k.useCallback)(function(){ne&&(K.current=window.setTimeout(function(){return O()},se))},[O,se,ne]);(0,k.useEffect)(function(){if(ne)return Ie(),function(){return clearTimeout(K.current)}},[Ie,i,se,ne]);var Ne=ne?function(){return clearTimeout(K?.current)}:void 0,Be=ne?Ie:void 0;return(0,r.jsxs)("div",{className:"Toast",onMouseEnter:Ne,onMouseLeave:Be,children:[(0,r.jsx)("p",{className:"Toast__message",children:i}),oe&&(0,r.jsx)(U.V,{icon:$.Tw,"aria-label":"close",type:"icon",onClick:O,className:"close"})]})};function Yl(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}function xa(Z){for(var i=1;i<arguments.length;i++){var O=arguments[i]!=null?arguments[i]:{};i%2?Yl(Object(O),!0).forEach(function(W){(0,H.Z)(Z,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(O)):Yl(Object(O)).forEach(function(W){Object.defineProperty(Z,W,Object.getOwnPropertyDescriptor(O,W))})}return Z}var Pi=(0,B.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(Z){return!Z.viewModeEnabled}},perform:function(Z,i){return{appState:xa(xa({},i),{},{viewModeEnabled:!this.checked(i)}),commitToHistory:!1}},checked:function(Z){return Z.viewModeEnabled},predicate:function(Z,i,O){return O.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(Z){return!Z[F.tW.CTRL_OR_CMD]&&Z.altKey&&Z.code===F.aU.R}}),Ma=t(4178),il=t(200),Xl=t.n(il),$l=t(3528),wa=t(5992),ra=t(8020),la=t(4048),An=t(9672);function lr(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}var Jn=(0,T.Z)(function Z(i){var O=this,W=i.scene,oe=i.onSceneUpdated;(0,y.Z)(this,Z),this.onFontsLoaded=function(xe){if(xe.every(function(K){var ne="".concat(K.family,"-").concat(K.style,"-").concat(K.weight);return!!Z.loadedFontFaces.has(ne)||(Z.loadedFontFaces.add(ne),!1)}))return!1;var se=!1;O.scene.mapElements(function(K){return(0,le.iB)(K)&&!(0,J.Xh)(K)?(hi.R.delete(K),se=!0,(0,I.BE)(K,function(ne){for(var Ie=1;Ie<arguments.length;Ie++){var Ne=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?lr(Object(Ne),!0).forEach(function(Be){(0,H.Z)(ne,Be,Ne[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Ne)):lr(Object(Ne)).forEach(function(Be){Object.defineProperty(ne,Be,Object.getOwnPropertyDescriptor(Ne,Be))})}return ne}({},(0,le.JZ)(K)))):K}),se&&O.onSceneUpdated()},this.loadFontsForElements=function(){var xe=(0,p.Z)(m().mark(function se(K){var ne;return m().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.next=2,Promise.all((0,g.Z)(new Set(K.filter(function(Ne){return(0,le.iB)(Ne)}).map(function(Ne){return Ne.fontFamily}))).map(function(Ne){var Be,nt,it,ct,kt=(0,w.mO)({fontFamily:Ne,fontSize:16});if((Be=document.fonts)===null||Be===void 0||(nt=Be.check)===null||nt===void 0||!nt.call(Be,kt))return(it=document.fonts)===null||it===void 0||(ct=it.load)===null||ct===void 0?void 0:ct.call(it,kt)}));case 2:ne=Ie.sent,O.onFontsLoaded(ne.flat().filter(Boolean));case 4:case"end":return Ie.stop()}},se)}));return function(se){return xe.apply(this,arguments)}}(),this.scene=W,this.onSceneUpdated=oe});Jn.loadedFontFaces=new Set;var Cr=t(4682),wr=t(6264),Kr=t(5047),Vr=t(7652);function zr(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}function Si(Z){for(var i=1;i<arguments.length;i++){var O=arguments[i]!=null?arguments[i]:{};i%2?zr(Object(O),!0).forEach(function(W){(0,H.Z)(Z,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(O)):zr(Object(O)).forEach(function(W){Object.defineProperty(Z,W,Object.getOwnPropertyDescriptor(O,W))})}return Z}var Zi=function(Z,i){var O=i.scene.getSelectedElements(Z);return O.length===1&&O[0].type==="frame"},zi=(0,B.z)({name:"selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(Z,i,O,W){var oe=W.scene.getSelectedElements(i)[0];if(oe&&oe.type==="frame"){var xe=(0,Cr.zD)((0,le.Lm)(Z),oe.id).filter(function(se){return!(se.type==="text"&&se.containerId)});return{elements:Z,appState:Si(Si({},i),{},{selectedElementIds:xe.reduce(function(se,K){return se[K.id]=!0,se},{})}),commitToHistory:!1}}return{elements:Z,appState:i,commitToHistory:!1}},contextItemLabel:"labels.selectAllElementsInFrame",predicate:function(Z,i,O,W){return Zi(i,W)}}),xl=(0,B.z)({name:"removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(Z,i,O,W){var oe=W.scene.getSelectedElements(i)[0];return oe&&oe.type==="frame"?{elements:(0,Cr.yZ)(Z,oe,i),appState:Si(Si({},i),{},{selectedElementIds:(0,H.Z)({},oe.id,!0)}),commitToHistory:!0}:{elements:Z,appState:i,commitToHistory:!1}},contextItemLabel:"labels.removeAllElementsFromFrame",predicate:function(Z,i,O,W){return Zi(i,W)}}),Gl=((0,B.z)({name:"updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(Z,i){return{elements:Z,appState:Si(Si({},i),{},{frameRendering:Si(Si({},i.frameRendering),{},{enabled:!i.frameRendering.enabled})}),commitToHistory:!1}},contextItemLabel:"labels.updateFrameRendering",checked:function(Z){return Z.frameRendering.enabled}}),(0,B.z)({name:"setFrameAsActiveTool",trackEvent:{category:"toolbar"},perform:function(Z,i,O,W){var oe=(0,w.Om)(i,{type:"frame"});return(0,Vr.Uk)(W.interactiveCanvas,Si(Si({},i),{},{activeTool:oe})),{elements:Z,appState:Si(Si({},i),{},{activeTool:(0,w.Om)(i,{type:"frame"})}),commitToHistory:!1}},keyTest:function(Z){return!Z[F.tW.CTRL_OR_CMD]&&!Z.shiftKey&&!Z.altKey&&Z.key.toLocaleLowerCase()===F.tW.F}}),t(6006)),Aa=t(3506);function al(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}function Xa(Z){for(var i=1;i<arguments.length;i++){var O=arguments[i]!=null?arguments[i]:{};i%2?al(Object(O),!0).forEach(function(W){(0,H.Z)(Z,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(O)):al(Object(O)).forEach(function(W){Object.defineProperty(Z,W,Object.getOwnPropertyDescriptor(O,W))})}return Z}function So(Z,i){var O=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!O){if(Array.isArray(Z)||(O=function(ne,Ie){if(ne){if(typeof ne=="string")return _i(ne,Ie);var Ne=Object.prototype.toString.call(ne).slice(8,-1);if(Ne==="Object"&&ne.constructor&&(Ne=ne.constructor.name),Ne==="Map"||Ne==="Set")return Array.from(ne);if(Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return _i(ne,Ie)}}(Z))||i){O&&(Z=O);var W=0,oe=function(){};return{s:oe,n:function(){return W>=Z.length?{done:!0}:{done:!1,value:Z[W++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe,se=!0,K=!1;return{s:function(){O=O.call(Z)},n:function(){var ne=O.next();return se=ne.done,ne},e:function(ne){K=!0,xe=ne},f:function(){try{se||O.return==null||O.return()}finally{if(K)throw xe}}}}function _i(Z,i){(i==null||i>Z.length)&&(i=Z.length);for(var O=0,W=new Array(i);O<i;O++)W[O]=Z[O];return W}var Ti=function(Z){return 8/Z},Lo=(0,T.Z)(function Z(){(0,y.Z)(this,Z)});Lo.referenceSnapPoints=null,Lo.visibleGaps=null,Lo.setReferenceSnapPoints=function(Z){Lo.referenceSnapPoints=Z},Lo.getReferenceSnapPoints=function(){return Lo.referenceSnapPoints},Lo.setVisibleGaps=function(Z){Lo.visibleGaps=Z},Lo.getVisibleGaps=function(){return Lo.visibleGaps},Lo.destroy=function(){Lo.referenceSnapPoints=null,Lo.visibleGaps=null};var Wo=function(Z){var i=Z.event,O=Z.appState,W=Z.selectedElements;return i?O.objectsSnapModeEnabled&&!i[F.tW.CTRL_OR_CMD]||!O.objectsSnapModeEnabled&&i[F.tW.CTRL_OR_CMD]&&O.gridSize===null:(W.length!==1||W[0].type!=="arrow")&&O.objectsSnapModeEnabled},Bi=function(Z){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{omitCenter:!1,boundingBoxCorners:!1},O=i.omitCenter,W=i.boundingBoxCorners,oe=i.dragOffset,xe=[];if(Z.length===1){var se=Z[0],K=(0,Qr.qf)(se),ne=(0,_.Z)(K,6),Ie=ne[0],Ne=ne[1],Be=ne[2],nt=ne[3],it=ne[4],ct=ne[5];oe&&(Ie+=oe.x,Be+=oe.x,it+=oe.x,Ne+=oe.y,nt+=oe.y,ct+=oe.y);var kt=(Be-Ie)/2,Ot=(nt-Ne)/2;if(se.type!=="diamond"&&se.type!=="ellipse"||W){var Wt=(0,ke.xj)([Ie,Ne],[it,ct],se.angle),tn=(0,ke.xj)([Be,Ne],[it,ct],se.angle),Rt=(0,ke.xj)([Ie,nt],[it,ct],se.angle),Lt=(0,ke.xj)([Be,nt],[it,ct],se.angle),Ut=[it,ct];xe=O?[Wt,tn,Rt,Lt]:[Wt,tn,Rt,Lt,Ut]}else{var on=(0,ke.xj)([Ie,Ne+Ot],[it,ct],se.angle),vn=(0,ke.xj)([Ie+kt,Ne],[it,ct],se.angle),cn=(0,ke.xj)([Be,Ne+Ot],[it,ct],se.angle),nn=(0,ke.xj)([Ie+kt,nt],[it,ct],se.angle),_n=[it,ct];xe=O?[on,vn,cn,nn]:[on,vn,cn,nn,_n]}}else if(Z.length>1){var Xn=(0,Qr.hC)(Z,oe??{x:0,y:0}),sr=(0,_.Z)(Xn,4),yr=sr[0],Mr=sr[1],Dr=sr[2],br=sr[3],xr=Dr-yr,Sr=br-Mr,kr=[yr,Mr],Br=[Dr,Mr],qr=[yr,br],Jr=[Dr,br],ro=[yr+xr/2,Mr+Sr/2];xe=O?[kr,Br,qr,Jr]:[kr,Br,qr,Jr,ro]}return xe.map(function(Hr){return[Xe(Hr[0]),Xe(Hr[1])]})},$a=function(Z,i,O){var W=i.filter(function(oe){return(0,J.He)(oe)}).map(function(oe){return oe.id});return(0,wr.CF)(Z,i,O).filter(function(oe){return!(oe.frameId&&W.includes(oe.frameId))})},ll=function(Z,i,O){var W=$a(Z,i,O),oe=(0,He.AI)(W).filter(function(Sr){return!(Sr.length===1&&(0,J.Xh)(Sr[0]))}).map(function(Sr){return(0,Qr.KP)(Sr).map(function(kr){return Xe(kr)})}),xe=oe.sort(function(Sr,kr){return Sr[0]-kr[0]}),se=[],K=0;e:for(var ne=0;ne<xe.length;ne++)for(var Ie=xe[ne],Ne=ne+1;Ne<xe.length;Ne++){if(++K>99999)break e;var Be=xe[Ne],nt=(0,_.Z)(Ie,4),it=nt[1],ct=nt[2],kt=nt[3],Ot=(0,_.Z)(Be,4),Wt=Ot[0],tn=Ot[1],Rt=Ot[3];ct<Wt&&(0,ke.ep)([it,kt],[tn,Rt])&&se.push({startBounds:Ie,endBounds:Be,startSide:[[ct,it],[ct,kt]],endSide:[[Wt,tn],[Wt,Rt]],length:Wt-ct,overlap:(0,ke.mW)([it,kt],[tn,Rt])})}var Lt=oe.sort(function(Sr,kr){return Sr[1]-kr[1]}),Ut=[];K=0;e:for(var on=0;on<Lt.length;on++)for(var vn=Lt[on],cn=on+1;cn<Lt.length;cn++){if(++K>99999)break e;var nn=Lt[cn],_n=(0,_.Z)(vn,4),Xn=_n[0],sr=_n[2],yr=_n[3],Mr=(0,_.Z)(nn,3),Dr=Mr[0],br=Mr[1],xr=Mr[2];yr<br&&(0,ke.ep)([Xn,sr],[Dr,xr])&&Ut.push({startBounds:vn,endBounds:nn,startSide:[[Xn,yr],[sr,yr]],endSide:[[Dr,br],[xr,br]],length:br-yr,overlap:(0,ke.mW)([Xn,sr],[Dr,xr])})}return{horizontalGaps:se,verticalGaps:Ut}},ot=function(Z,i,O,W,oe,xe,se){if(!Wo({appState:O,event:W,selectedElements:Z}))return[];if(Z.length===0)return[];var K=Lo.getVisibleGaps();if(K){var ne,Ie=K.horizontalGaps,Ne=K.verticalGaps,Be=(0,Qr.hC)(Z,i).map(function(Po){return Xe(Po)}),nt=(0,_.Z)(Be,4),it=nt[0],ct=nt[1],kt=nt[2],Ot=nt[3],Wt=(it+kt)/2,tn=(ct+Ot)/2,Rt=So(Ie);try{for(Rt.s();!(ne=Rt.n()).done;){var Lt=ne.value;if((0,ke.ep)([ct,Ot],Lt.overlap)){var Ut=Lt.startSide[0][0]+Lt.length/2,on=Xe(Ut-Wt);if(Lt.length>kt-it&&Math.abs(on)<=se.x){Math.abs(on)<se.x&&(oe.length=0),se.x=Math.abs(on);var vn={type:"gap",direction:"center_horizontal",gap:Lt,offset:on};oe.push(vn)}else{var cn=it-(0,_.Z)(Lt.endBounds,3)[2],nn=Xe(Lt.length-cn);if(Math.abs(nn)<=se.x){Math.abs(nn)<se.x&&(oe.length=0),se.x=Math.abs(nn);var _n={type:"gap",direction:"side_right",gap:Lt,offset:nn};oe.push(_n)}else{var Xn=(0,_.Z)(Lt.startBounds,3)[0],sr=Xe(Xn-kt-Lt.length);if(Math.abs(sr)<=se.x){Math.abs(sr)<se.x&&(oe.length=0),se.x=Math.abs(sr);var yr={type:"gap",direction:"side_left",gap:Lt,offset:sr};oe.push(yr)}}}}}}catch(Po){Rt.e(Po)}finally{Rt.f()}var Mr,Dr=So(Ne);try{for(Dr.s();!(Mr=Dr.n()).done;){var br=Mr.value;if((0,ke.ep)([it,kt],br.overlap)){var xr=br.startSide[0][1]+br.length/2,Sr=Xe(xr-tn);if(br.length>Ot-ct&&Math.abs(Sr)<=se.y){Math.abs(Sr)<se.y&&(xe.length=0),se.y=Math.abs(Sr);var kr={type:"gap",direction:"center_vertical",gap:br,offset:Sr};xe.push(kr)}else{var Br=(0,_.Z)(br.startBounds,3)[1],qr=Xe(Br-Ot-br.length);if(Math.abs(qr)<=se.y){Math.abs(qr)<se.y&&(xe.length=0),se.y=Math.abs(qr);var Jr={type:"gap",direction:"side_top",gap:br,offset:qr};xe.push(Jr)}else{var ro=(0,_.Z)(br.endBounds,4)[3],Hr=Xe(ct-ro),Lr=br.length-Hr;if(Math.abs(Lr)<=se.y){Math.abs(Lr)<se.y&&(xe.length=0),se.y=Math.abs(Lr);var io={type:"gap",direction:"side_bottom",gap:br,offset:Lr};xe.push(io)}}}}}}catch(Po){Dr.e(Po)}finally{Dr.f()}}},je=function(Z,i,O){var W=$a(Z,i,O);return(0,He.AI)(W).filter(function(oe){return!(oe.length===1&&(0,J.Xh)(oe[0]))}).flatMap(function(oe){return Bi(oe)})},Ve=function(Z,i,O,W,oe,xe,se){if(!Wo({appState:O,event:W,selectedElements:Z})||Z.length===0&&i.length===0)return[];var K=Lo.getReferenceSnapPoints();if(K){var ne,Ie=So(i);try{for(Ie.s();!(ne=Ie.n()).done;){var Ne,Be=ne.value,nt=So(K);try{for(nt.s();!(Ne=nt.n()).done;){var it=Ne.value,ct=it[0]-Be[0],kt=it[1]-Be[1];Math.abs(ct)<=se.x&&(Math.abs(ct)<se.x&&(oe.length=0),oe.push({type:"point",points:[Be,it],offset:ct}),se.x=Math.abs(ct)),Math.abs(kt)<=se.y&&(Math.abs(kt)<se.y&&(xe.length=0),xe.push({type:"point",points:[Be,it],offset:kt}),se.y=Math.abs(kt))}}catch(Ot){nt.e(Ot)}finally{nt.f()}}}catch(Ot){Ie.e(Ot)}finally{Ie.f()}}},Xe=function(Z){return Math.round(Z*Math.pow(10,6))/Math.pow(10,6)},rt=function(Z){var i,O=new Map,W=So(Z);try{for(W.s();!(i=W.n()).done;){var oe=i.value,xe=oe.join(",");O.has(xe)||O.set(xe,oe)}}catch(se){W.e(se)}finally{W.f()}return Array.from(O.values())},ut=function(Z,i){var O={},W={};if(Z.length>0){var oe,xe=So(Z);try{for(xe.s();!(oe=xe.n()).done;){var se=oe.value;if(se.type==="point"){var K,ne=Xe(se.points[0][0]);O[ne]||(O[ne]=[]),(K=O[ne]).push.apply(K,(0,g.Z)(se.points.map(function(ct){return[Xe(ct[0]),Xe(ct[1])]})))}}}catch(ct){xe.e(ct)}finally{xe.f()}}if(i.length>0){var Ie,Ne=So(i);try{for(Ne.s();!(Ie=Ne.n()).done;){var Be=Ie.value;if(Be.type==="point"){var nt,it=Xe(Be.points[0][1]);W[it]||(W[it]=[]),(nt=W[it]).push.apply(nt,(0,g.Z)(Be.points.map(function(ct){return[Xe(ct[0]),Xe(ct[1])]})))}}}catch(ct){Ne.e(ct)}finally{Ne.f()}}return Object.entries(O).map(function(ct){var kt=(0,_.Z)(ct,2),Ot=kt[0],Wt=kt[1];return{type:"points",points:rt(Wt.map(function(tn){return[Number(Ot),tn[1]]}).sort(function(tn,Rt){return tn[1]-Rt[1]}))}}).concat(Object.entries(W).map(function(ct){var kt=(0,_.Z)(ct,2),Ot=kt[0],Wt=kt[1];return{type:"points",points:rt(Wt.map(function(tn){return[tn[0],Number(Ot)]}).sort(function(tn,Rt){return tn[0]-Rt[0]}))}}))},bt=function(Z,i,O){var W,oe=(0,Qr.hC)(Z,i),xe=(0,_.Z)(oe,4),se=xe[0],K=xe[1],ne=xe[2],Ie=xe[3],Ne=[],Be=So(O);try{for(Be.s();!(W=Be.n()).done;){var nt=W.value,it=(0,_.Z)(nt.gap.startBounds,4),ct=it[0],kt=it[1],Ot=it[2],Wt=it[3],tn=(0,_.Z)(nt.gap.endBounds,4),Rt=tn[0],Lt=tn[1],Ut=tn[2],on=tn[3],vn=(0,ke.mW)([K,Ie],nt.gap.overlap),cn=(0,ke.mW)([se,ne],nt.gap.overlap);switch(nt.direction){case"center_horizontal":if(vn){var nn=(vn[0]+vn[1])/2;Ne.push({type:"gap",direction:"horizontal",points:[[nt.gap.startSide[0][0],nn],[se,nn]]},{type:"gap",direction:"horizontal",points:[[ne,nn],[nt.gap.endSide[0][0],nn]]})}break;case"center_vertical":if(cn){var _n=(cn[0]+cn[1])/2;Ne.push({type:"gap",direction:"vertical",points:[[_n,nt.gap.startSide[0][1]],[_n,K]]},{type:"gap",direction:"vertical",points:[[_n,Ie],[_n,nt.gap.endSide[0][1]]]})}break;case"side_right":if(vn){var Xn=(vn[0]+vn[1])/2;Ne.push({type:"gap",direction:"horizontal",points:[[Ot,Xn],[Rt,Xn]]},{type:"gap",direction:"horizontal",points:[[Ut,Xn],[se,Xn]]})}break;case"side_left":if(vn){var sr=(vn[0]+vn[1])/2;Ne.push({type:"gap",direction:"horizontal",points:[[ne,sr],[ct,sr]]},{type:"gap",direction:"horizontal",points:[[Ot,sr],[Rt,sr]]})}break;case"side_top":if(cn){var yr=(cn[0]+cn[1])/2;Ne.push({type:"gap",direction:"vertical",points:[[yr,Ie],[yr,kt]]},{type:"gap",direction:"vertical",points:[[yr,Wt],[yr,Lt]]})}break;case"side_bottom":if(cn){var Mr=(cn[0]+cn[1])/2;Ne.push({type:"gap",direction:"vertical",points:[[Mr,Wt],[Mr,Lt]]},{type:"gap",direction:"vertical",points:[[Mr,on],[Mr,K]]})}}}}catch(Dr){Be.e(Dr)}finally{Be.f()}return function(Dr){var br,xr=new Map,Sr=So(Dr);try{for(Sr.s();!(br=Sr.n()).done;){var kr=br.value,Br=kr.points.flat().map(function(qr){return[Xe(qr)]}).join(",");xr.has(Br)||xr.set(Br,kr)}}catch(qr){Sr.e(qr)}finally{Sr.f()}return Array.from(xr.values())}(Ne.map(function(Dr){return Xa(Xa({},Dr),{},{points:Dr.points.map(function(br){return[Xe(br[0]),Xe(br[1])]})})}))},mt=function(Z,i,O,W,oe,xe){var se,K,ne,Ie;if(!Wo({event:W,selectedElements:Z,appState:O})||Z.length===0||Z.length===1&&!function(sr,yr){var Mr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.01;return Math.abs(sr-yr)<=Mr}(Z[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var Ne=(0,Qr.KP)(i),Be=(0,_.Z)(Ne,4),nt=Be[0],it=Be[1],ct=Be[2],kt=Be[3];xe&&(xe.includes("e")?ct+=oe.x:xe.includes("w")&&(nt+=oe.x),xe.includes("n")?it+=oe.y:xe.includes("s")&&(kt+=oe.y));var Ot=[];if(xe)switch(xe){case"e":Ot.push([ct,it],[ct,kt]);break;case"w":Ot.push([nt,it],[nt,kt]);break;case"n":Ot.push([nt,it],[ct,it]);break;case"s":Ot.push([nt,kt],[ct,kt]);break;case"ne":Ot.push([ct,it]);break;case"nw":Ot.push([nt,it]);break;case"se":Ot.push([ct,kt]);break;case"sw":Ot.push([nt,kt])}var Wt=Ti(O.zoom.value),tn={x:Wt,y:Wt},Rt=[],Lt=[];Ve(i,Ot,O,W,Rt,Lt,tn);var Ut={x:(se=(K=Rt[0])===null||K===void 0?void 0:K.offset)!==null&&se!==void 0?se:0,y:(ne=(Ie=Lt[0])===null||Ie===void 0?void 0:Ie.offset)!==null&&ne!==void 0?ne:0};tn.x=0,tn.y=0,Rt.length=0,Lt.length=0;var on=(0,Qr.KP)(Z).map(function(sr){return Xe(sr)}),vn=(0,_.Z)(on,4),cn=vn[0],nn=vn[1],_n=vn[2],Xn=vn[3];return Ve(Z,[[cn,nn],[cn,Xn],[_n,nn],[_n,Xn]],O,W,Rt,Lt,tn),{snapOffset:Ut,snapLines:ut(Rt,Lt)}},St=t(7392),sn=t(9247),gn=function(){return(0,r.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,r.jsx)("p",{children:(0,r.jsx)(sn.Z,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(Z){return(0,r.jsx)("span",{style:{fontWeight:600},children:Z})}})}),(0,r.jsx)("p",{children:(0,r.jsx)(sn.Z,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(Z){return(0,r.jsx)("span",{style:{fontWeight:600},children:Z})}})}),(0,r.jsx)("p",{children:(0,r.jsx)(sn.Z,{i18nKey:"errors.brave_measure_text_error.line3",link:function(Z){return(0,r.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:Z})}})}),(0,r.jsx)("p",{children:(0,r.jsx)(sn.Z,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(Z){return(0,r.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:Z})},discordLink:function(Z){return(0,r.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[Z,"."]})}})})]})},Qt=t(6199),fn=t(7766),xn=function(Z){var i=(0,k.useRef)(!1);return(0,k.useEffect)(function(){var O;if(i.current){var W={},oe={},xe={},se={},K={};Z.appState.collaborators.forEach(function(Ie,Ne){if(Ie.selectedElementIds)for(var Be=0,nt=Object.keys(Ie.selectedElementIds);Be<nt.length;Be++){var it=nt[Be];it in xe||(xe[it]=[]),xe[it].push(Ne)}Ie.pointer&&(Ie.username&&(se[Ne]=Ie.username),Ie.userState&&(K[Ne]=Ie.userState),oe[Ne]=(0,w._i)({sceneX:Ie.pointer.x,sceneY:Ie.pointer.y},Z.appState),W[Ne]=Ie.button)});var ne=((O=Z.containerRef)===null||O===void 0?void 0:O.current)&&getComputedStyle(Z.containerRef.current).getPropertyValue("--color-selection")||"#6965db";(0,fn.tp)({canvas:Z.canvas,elements:Z.elements,visibleElements:Z.visibleElements,selectedElements:Z.selectedElements,scale:window.devicePixelRatio,appState:Z.appState,renderConfig:{remotePointerViewportCoords:oe,remotePointerButton:W,remoteSelectedElementIds:xe,remotePointerUsernames:se,remotePointerUserStates:K,selectionColor:ne,renderScrollbars:!1},callback:Z.renderInteractiveSceneCallback},(0,w.G9)())}else i.current=!0}),(0,r.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:Z.appState.width,height:Z.appState.height,cursor:Z.appState.viewModeEnabled?f.oc.GRAB:f.oc.AUTO},width:Z.appState.width*Z.scale,height:Z.appState.height*Z.scale,ref:Z.handleCanvasRef,onContextMenu:Z.onContextMenu,onPointerMove:Z.onPointerMove,onPointerUp:Z.onPointerUp,onPointerCancel:Z.onPointerCancel,onTouchMove:Z.onTouchMove,onPointerDown:Z.onPointerDown,onDoubleClick:Z.appState.viewModeEnabled?void 0:Z.onDoubleClick,children:(0,L.t)("labels.drawingCanvas")})},En=function(Z){return{zoom:Z.zoom,scrollX:Z.scrollX,scrollY:Z.scrollY,width:Z.width,height:Z.height,viewModeEnabled:Z.viewModeEnabled,editingGroupId:Z.editingGroupId,editingLinearElement:Z.editingLinearElement,selectedElementIds:Z.selectedElementIds,frameToHighlight:Z.frameToHighlight,offsetLeft:Z.offsetLeft,offsetTop:Z.offsetTop,theme:Z.theme,pendingImageElementId:Z.pendingImageElementId,selectionElement:Z.selectionElement,selectedGroupIds:Z.selectedGroupIds,selectedLinearElement:Z.selectedLinearElement,multiElement:Z.multiElement,isBindingEnabled:Z.isBindingEnabled,suggestedBindings:Z.suggestedBindings,isRotating:Z.isRotating,elementsToHighlight:Z.elementsToHighlight,openSidebar:Z.openSidebar,showHyperlinkPopup:Z.showHyperlinkPopup,collaborators:Z.collaborators,activeEmbeddable:Z.activeEmbeddable,snapLines:Z.snapLines,zenModeEnabled:Z.zenModeEnabled}},yn=function(Z,i){return Z.selectionNonce===i.selectionNonce&&Z.versionNonce===i.versionNonce&&Z.scale===i.scale&&Z.elements===i.elements&&Z.visibleElements===i.visibleElements&&Z.selectedElements===i.selectedElements&&(0,w.w8)(En(Z.appState),En(i.appState))},hn=Q().memo(xn,yn),In=function(Z){var i=(0,k.useRef)(null),O=(0,k.useRef)(!1);return(0,k.useEffect)(function(){var W=i.current;if(W){var oe=Z.canvas;O.current||(O.current=!0,W.replaceChildren(oe),oe.classList.add("excalidraw__canvas","static"));var xe="".concat(Z.appState.width,"px"),se="".concat(Z.appState.height,"px");oe.style.width!==xe&&(oe.style.width=xe),oe.style.height!==se&&(oe.style.height=se);var K=Z.appState.width*Z.scale,ne=Z.appState.height*Z.scale;oe.width!==K&&(oe.width=K),oe.height!==ne&&(oe.height=ne),(0,fn.AW)({canvas:oe,rc:Z.rc,scale:Z.scale,elements:Z.elements,visibleElements:Z.visibleElements,appState:Z.appState,renderConfig:Z.renderConfig},(0,w.G9)())}}),(0,r.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:i})},Un=function(Z){return{zoom:Z.zoom,scrollX:Z.scrollX,scrollY:Z.scrollY,width:Z.width,height:Z.height,viewModeEnabled:Z.viewModeEnabled,offsetLeft:Z.offsetLeft,offsetTop:Z.offsetTop,theme:Z.theme,pendingImageElementId:Z.pendingImageElementId,shouldCacheIgnoreZoom:Z.shouldCacheIgnoreZoom,viewBackgroundColor:Z.viewBackgroundColor,exportScale:Z.exportScale,selectedElementsAreBeingDragged:Z.selectedElementsAreBeingDragged,gridSize:Z.gridSize,frameRendering:Z.frameRendering,selectedElementIds:Z.selectedElementIds,frameToHighlight:Z.frameToHighlight,editingGroupId:Z.editingGroupId}},Kn=function(Z,i){return Z.versionNonce===i.versionNonce&&Z.scale===i.scale&&Z.elements===i.elements&&Z.visibleElements===i.visibleElements&&(0,w.w8)(Un(Z.appState),Un(i.appState))&&(0,w.w8)(Z.renderConfig,i.renderConfig)},Bn=Q().memo(In,Kn),Fn=function(){function Z(i){var O=this;(0,y.Z)(this,Z),this.getRenderableElements=(0,w.HP)(function(W){var oe=W.zoom,xe=W.offsetLeft,se=W.offsetTop,K=W.scrollX,ne=W.scrollY,Ie=W.height,Ne=W.width,Be=W.editingElement,nt=W.pendingImageElementId,it=(W.versionNonce,function(kt){var Ot=kt.editingElement,Wt=kt.elements,tn=kt.pendingImageElementId;return Wt.filter(function(Rt){return!((0,J.pC)(Rt)&&tn===Rt.id||Ot&&Ot.type==="text"&&Rt.id===Ot.id)})}({elements:O.scene.getNonDeletedElements(),editingElement:Be,pendingImageElementId:nt})),ct=function(kt){var Ot=kt.elements,Wt=kt.zoom,tn=kt.offsetLeft,Rt=kt.offsetTop,Lt=kt.scrollX,Ut=kt.scrollY,on=kt.height,vn=kt.width;return Ot.filter(function(cn){return(0,De.PZ)(cn,vn,on,{zoom:Wt,offsetLeft:tn,offsetTop:Rt,scrollX:Lt,scrollY:Ut})})}({elements:it,zoom:oe,offsetLeft:xe,offsetTop:se,scrollX:K,scrollY:ne,height:Ie,width:Ne});return{canvasElements:it,visibleElements:ct}}),this.scene=i}return(0,T.Z)(Z,[{key:"destroy",value:function(){(0,fn.n_)(),this.getRenderableElements.clear()}}]),Z}(),fr=t(8806),Tr=t(4864),mr=t(8531),pr=t(5830),_r={};_r.styleTagTransform=lt(),_r.setAttributes=Ye(),_r.insert=Se().bind(null,"head"),_r.domAPI=ae(),_r.insertStyleElement=We(),q()(pr.Z,_r),pr.Z&&pr.Z.locals&&pr.Z.locals;var Pr="mermaid-to-excalidraw",Nr=function(Z){var i=Z.error;return(0,r.jsxs)("div",{"data-testid":"mermaid-error",className:"mermaid-error",children:["Error! ",(0,r.jsx)("p",{children:i})]})},Yr=function(){var Z=(0,k.useState)({loaded:!1,api:null}),i=(0,_.Z)(Z,2),O=i[0],W=i[1],oe=(0,k.useState)(""),xe=(0,_.Z)(oe,2),se=xe[0],K=xe[1],ne=(0,k.useDeferredValue)(se.trim()),Ie=(0,k.useState)(null),Ne=(0,_.Z)(Ie,2),Be=Ne[0],nt=Ne[1],it=(0,k.useRef)(null),ct=(0,k.useRef)({elements:[],files:null}),kt=hs(),Ot=function(){var tn=it.current;if(tn){var Rt=tn.parentElement;Rt&&(Rt.style.background="",nt(null),tn.replaceChildren())}};(0,k.useEffect)(function(){var tn=function(){var Rt=(0,p.Z)(m().mark(function Lt(){var Ut;return m().wrap(function(on){for(;;)switch(on.prev=on.next){case 0:return on.next=2,t.e(4736).then(t.bind(t,1049));case 2:Ut=on.sent,W({loaded:!0,api:Ut});case 4:case"end":return on.stop()}},Lt)}));return function(){return Rt.apply(this,arguments)}}();tn()},[]),(0,k.useEffect)(function(){var tn=function(){try{var Rt=localStorage.getItem(Pr);if(Rt)return Rt}catch(Lt){console.error(Lt)}return null}()||`flowchart TD
 A[Christmas] -->|Get money| B(Go shopping)
 B --> C{Let me think}
 C -->|One| D[Laptop]
 C -->|Two| E[iPhone]
 C -->|Three| F[Car]`;K(tn)},[]),(0,k.useEffect)(function(){var tn=function(){var Rt=(0,p.Z)(m().mark(function Lt(){var Ut,on,vn,cn,nn,_n;return m().wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:if(Ut=it.current,on=Ut?.parentElement,O.loaded&&Ut&&on&&O.api){Xn.next=4;break}return Xn.abrupt("return");case 4:if(ne){Xn.next=7;break}return Ot(),Xn.abrupt("return");case 7:return Xn.prev=7,Xn.next=10,O.api.parseMermaidToExcalidraw(ne,{fontSize:f.n5});case 10:return vn=Xn.sent,cn=vn.elements,nn=vn.files,nt(null),ct.current={elements:(0,Tr.wc)(cn,{regenerateIds:!0}),files:nn},Xn.next=17,(0,Tr.NL)({elements:ct.current.elements,files:ct.current.files,exportPadding:f.qy,maxWidthOrHeight:Math.max(on.offsetWidth,on.offsetHeight)*window.devicePixelRatio});case 17:return _n=Xn.sent,Xn.next=20,(0,an._c)(_n);case 20:on.style.background="var(--default-bg-color)",Ut.replaceChildren(_n),Xn.next=28;break;case 24:Xn.prev=24,Xn.t0=Xn.catch(7),on.style.background="var(--default-bg-color)",ne&&nt(Xn.t0.message);case 28:case"end":return Xn.stop()}},Lt,null,[[7,24]])}));return function(){return Rt.apply(this,arguments)}}();tn()},[ne,O]);var Wt=function(){kt.setOpenDialog(null),function(tn){try{localStorage.setItem(Pr,tn)}catch(Rt){console.error(Rt)}}(se)};return(0,r.jsx)(Nt.V,{className:"dialog-mermaid",onCloseRequest:Wt,size:1200,title:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"dialog-mermaid-title",children:(0,L.t)("mermaid.title")}),(0,r.jsxs)("span",{className:"dialog-mermaid-desc",children:[(0,r.jsx)(sn.Z,{i18nKey:"mermaid.description",flowchartLink:function(tn){return(0,r.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:tn})},sequenceLink:function(tn){return(0,r.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:tn})}}),(0,r.jsx)("br",{})]})]}),children:(0,r.jsxs)("div",{className:"dialog-mermaid-body",children:[(0,r.jsxs)("div",{className:"dialog-mermaid-panels",children:[(0,r.jsxs)("div",{className:"dialog-mermaid-panels-text",children:[(0,r.jsx)("label",{children:(0,L.t)("mermaid.syntax")}),(0,r.jsx)("textarea",{onChange:function(tn){return K(tn.target.value)},value:se})]}),(0,r.jsxs)("div",{className:"dialog-mermaid-panels-preview",children:[(0,r.jsx)("label",{children:(0,L.t)("mermaid.preview")}),(0,r.jsxs)("div",{className:"dialog-mermaid-panels-preview-wrapper",children:[Be&&(0,r.jsx)(Nr,{error:Be}),O.loaded?(0,r.jsx)("div",{ref:it,style:{opacity:Be?"0.15":1},className:"dialog-mermaid-panels-preview-canvas-container"}):(0,r.jsx)(mr.Z,{size:"2rem"})]})]})]}),(0,r.jsx)("div",{className:"dialog-mermaid-buttons",children:(0,r.jsxs)(fr.z,{className:"dialog-mermaid-insert",onSelect:function(){var tn=ct.current,Rt=tn.elements,Lt=tn.files;kt.addElementsFromPasteOrLibrary({elements:Rt,files:Lt,position:"center",fitToContent:!0}),Wt()},children:[(0,L.t)("mermaid.button"),(0,r.jsx)("span",{children:$.LZ})]})})]})})},$r=t(7930),to={};to.styleTagTransform=lt(),to.setAttributes=Ye(),to.insert=Se().bind(null,"head"),to.domAPI=ae(),to.insertStyleElement=We(),q()($r.Z,to),$r.Z&&$r.Z.locals&&$r.Z.locals;var Io=function(Z){var i=Z.manager,O=(0,k.useRef)(null);return(0,k.useEffect)(function(){return O.current&&i.start(O.current),function(){i.stop()}},[i]),(0,r.jsx)("div",{className:"LaserToolOverlay",children:(0,r.jsx)("svg",{ref:O,className:"LaserToolOverlayCanvas"})})},Go,qo,Mi,yi;function Ro([Z,i,O],[W,oe,xe]){return[Z+W,i+oe,O+xe]}function Uo([Z,i,O],[W,oe,xe]){return[Z-W,i-oe,O-xe]}function Ko([Z,i,O],W){return[Z*W,i*W,O*W]}function Ao([Z,i,O]){return[Z/Math.sqrt(Z**2+i**2),i/Math.sqrt(Z**2+i**2),O]}function No([Z,i,O],W){return[Math.cos(W)*Z-Math.sin(W)*i,Math.sin(W)*Z+Math.cos(W)*i,O]}function li(Z,i,O){return Math.atan2(O[1]-Z[1],O[0]-Z[0])-Math.atan2(i[1]-Z[1],i[0]-Z[0])}function Ct(Z){return Math.atan2(Math.sin(Z),Math.cos(Z))}function mi([Z,i]){return Math.sqrt(Z**2+i**2)}function gi([Z,i],[O,W]){return Math.sqrt((O-Z)**2+(W-i)**2)}Go={},qo="LaserPointer",Mi=()=>$i,Object.defineProperty(Go,qo,{get:Mi,set:yi,enumerable:!0,configurable:!0});function si(Z,i,O){const W=gi(i,O);if(W===0)return gi(Z,i);const oe=((xe,se,K)=>Math.max(se,Math.min(K,xe)))(((Z[0]-i[0])*(O[0]-i[0])+(Z[1]-i[1])*(O[1]-i[1]))/W**2,0,1);return gi([i[0]+oe*(O[0]-i[0]),i[1]+oe*(O[1]-i[1]),Z[2]],Z)}function _o(Z,i){if(i===0||Z.length<=2)return Z;const O=Z[0],W=Z[Z.length-1],[oe,xe]=Z.reduce(([se,K],ne,Ie)=>{const Ne=si(ne,O,W);return Ne>se?[Ne,Ie]:[se,K]},[0,-1]);if(oe>=i){const se=Z[xe];return[..._o([O,...Z.slice(1,xe),se],i).slice(0,-1),se,..._o([se,...Z.slice(xe,-1),W],i).slice(1)]}return[O,W]}class $i{static#e=(()=>{this.defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",sizeMapping:()=>1}})();static#t=(()=>{this.constants={cornerDetectionMaxAngle:120,cornerDetectionVariance:i=>i>35?.5:1,maxTailLength:50}})();constructor(i){this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},$i.defaults,i)}get lastPoint(){return this.tailPoints[this.tailPoints.length-1]??this.stablePoints[this.stablePoints.length-1]}addPoint(i){const O=this.originalPoints[this.originalPoints.length-1];if(!O||O[0]!==i[0]||O[1]!==i[1]){if(this.originalPoints.push(i),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(i);var W,oe,xe;this.options.streamline>0&&(W=this.lastPoint,oe=i,xe=1-this.options.streamline,i=Ro(W,Ko(Uo(oe,W),xe))),this.tailPoints.push(i),function(se){if(se.length<2)return 0;let K=0;for(let ne=1;ne<=se.length-1;ne++)K+=gi(se[ne-1],se[ne]);return K+=gi(se[se.length-2],se[se.length-1]),K}(this.tailPoints)>$i.constants.maxTailLength&&this.stabilizeTail()}}close(){this.stabilizeTail()}stabilizeTail(){if(this.options.simplify>0&&this.options.simplifyPhase=="tail")throw new Error("Not implemented yet");this.stablePoints.push(...this.tailPoints),this.tailPoints=[]}getSize(i,O,W,oe,xe){return(i??this.options.size)*this.options.sizeMapping({pressure:O,runningLength:xe,currentIndex:W,totalLength:oe})}getStrokeOutline(i){if(this.isFresh)return[];let O=[...this.stablePoints,...this.tailPoints];this.options.simplify>0&&this.options.simplifyPhase==="input"&&(O=_o(O,this.options.simplify));const W=O.length;if(W===0)return[];if(W===1){const vn=O[0],cn=[];for(let nn=0;nn<=2*Math.PI;nn+=Math.PI/16)cn.push(Ro(vn,Ko(No([1,0,0],nn),this.getSize(i,vn[2],0,W,0))));return cn.push(Ro(vn,Ko([1,0,0],this.getSize(i,vn[2],0,W,0)))),cn}if(W===2){const vn=O[0],cn=O[1],nn=[],_n=li(vn,[vn[0],vn[1]-100,vn[2]],cn);for(let Xn=_n;Xn<=Math.PI+_n;Xn+=Math.PI/16)nn.push(Ro(vn,Ko(No([1,0,0],Xn),this.getSize(i,vn[2],0,W,0))));for(let Xn=Math.PI+_n;Xn<=2*Math.PI+_n;Xn+=Math.PI/16)nn.push(Ro(cn,Ko(No([1,0,0],Xn),this.getSize(i,cn[2],0,W,0))));return nn.push(nn[0]),nn}const oe=[],xe=[];let se=0,K=0,ne=0,Ie=0;for(let vn=1;vn<W-1;vn++){const cn=O[vn-1],nn=O[vn],_n=O[vn+1];let Xn=nn[2];const sr=gi(cn,nn);Ie+=sr,se=K+.2*(sr-K);const yr=this.getSize(i,Xn,vn,W,Ie);if(yr===0){ne=vn+1;continue}const Mr=Ao(Uo(cn,nn)),Dr=Ao(Uo(_n,nn)),br=No(Mr,Math.PI/2),xr=No(Mr,-Math.PI/2),Sr=No(Dr,Math.PI/2),kr=No(Dr,-Math.PI/2),Br=Ro(nn,Ko(br,yr)),qr=Ro(nn,Ko(xr,yr)),Jr=Ro(nn,Ko(Sr,yr)),ro=Ro(nn,Ko(kr,yr)),Hr=Ro(br,kr),Lr=Ro(xr,Sr),io=Ro(nn,Ko(mi(Hr)===0?Mr:Ao(Hr),yr)),Po=Ro(nn,Ko(mi(Lr)===0?Dr:Ao(Lr),yr)),wo=Ct(li(nn,cn,_n)),mo=$i.constants.cornerDetectionMaxAngle/180*Math.PI*$i.constants.cornerDetectionVariance(se);if(Math.abs(wo)<mo){const co=Math.abs(Ct(Math.PI-wo));if(co===0)continue;if(wo<0){xe.push(qr,Po);for(let Co=0;Co<=co;Co+=co/4)oe.push(Ro(nn,No(Ko(br,yr),Co)));for(let Co=co;Co>=0;Co-=co/4)xe.push(Ro(nn,No(Ko(br,yr),Co)));xe.push(Po,Jr)}else{oe.push(Br,io);for(let Co=0;Co<=co;Co+=co/4)xe.push(Ro(nn,No(Ko(br,-yr),-Co)));for(let Co=co;Co>=0;Co-=co/4)oe.push(Ro(nn,No(Ko(br,-yr),-Co)));oe.push(io,ro)}}else oe.push(io),xe.push(Po);K=se}const Ne=O[ne],Be=O[ne+1],nt=O[W-2],it=O[W-1];if(ne>=W-2)return[];const ct=Ao(Uo(Be,Ne)),kt=Ao(Uo(nt,it)),Ot=No(ct,-Math.PI/2),Wt=No(kt,Math.PI/2),tn=this.getSize(i,Ne[2],0,W,0),Rt=[],Lt=this.getSize(i,nt[2],W-2,W,Ie),Ut=[];for(let vn=0;vn<=Math.PI;vn+=Math.PI/16)Rt.unshift(Ro(Ne,No(Ko(Ot,tn),-vn)));Rt.unshift(Ro(Ne,Ko(Ot,-tn)));for(let vn=0;vn<=Math.PI;vn+=Math.PI/16)Ut.push(Ro(it,No(Ko(Wt,-Lt),-vn)));const on=[...Rt,...oe,...Ut.reverse(),...xe.reverse()];return Rt.length>0&&on.push(Rt[0]),this.options.simplify>0&&this.options.simplifyPhase==="output"?_o(on,this.options.simplify):on}}var ha=t(957);function ql(Z,i){var O=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!O){if(Array.isArray(Z)||(O=function(ne,Ie){if(ne){if(typeof ne=="string")return ma(ne,Ie);var Ne=Object.prototype.toString.call(ne).slice(8,-1);if(Ne==="Object"&&ne.constructor&&(Ne=ne.constructor.name),Ne==="Map"||Ne==="Set")return Array.from(ne);if(Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return ma(ne,Ie)}}(Z))||i){O&&(Z=O);var W=0,oe=function(){};return{s:oe,n:function(){return W>=Z.length?{done:!0}:{done:!1,value:Z[W++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe,se=!0,K=!1;return{s:function(){O=O.call(Z)},n:function(){var ne=O.next();return se=ne.done,ne},e:function(ne){K=!0,xe=ne},f:function(){try{se||O.return==null||O.return()}finally{if(K)throw xe}}}}function ma(Z,i){(i==null||i>Z.length)&&(i=Z.length);for(var O=0,W=new Array(i);O<i;O++)W[O]=Z[O];return W}var Zl=1e3,sl=function(Z,i){return(Z+i)/2};function cl(Z){return 1-Math.pow(1-Z,3)}function ga(){return{currentPath:void 0,finishedPaths:[],lastPoint:[-1e4,-1e4],svg:document.createElementNS("http://www.w3.org/2000/svg","path")}}function Fi(){return $i.constants.cornerDetectionMaxAngle=70,new $i({simplify:0,streamline:.4,sizeMapping:function(Z){var i=Math.max(0,1-(performance.now()-Z.pressure)/1e3),O=(50-Math.min(50,Z.totalLength-Z.currentIndex))/50;return Math.min(cl(O),cl(i))}})}var Oi=function(){function Z(i){(0,y.Z)(this,Z),this.app=i,this.collaboratorsState=new Map,this.isDrawing=!1,this.isRunning=!1,this.ownState=ga()}return(0,T.Z)(Z,[{key:"destroy",value:function(){this.stop(),this.isDrawing=!1,this.ownState=ga(),this.collaboratorsState=new Map}},{key:"startPath",value:function(i,O){this.ownState.currentPath=Fi(),this.ownState.currentPath.addPoint([i,O,performance.now()]),this.updatePath(this.ownState)}},{key:"addPointToPath",value:function(i,O){var W;this.ownState.currentPath&&((W=this.ownState.currentPath)===null||W===void 0||W.addPoint([i,O,performance.now()]),this.updatePath(this.ownState))}},{key:"endPath",value:function(){this.ownState.currentPath&&(this.ownState.currentPath.close(),this.ownState.finishedPaths.push(this.ownState.currentPath),this.updatePath(this.ownState))}},{key:"updatePath",value:function(i){this.isDrawing=!0,this.isRunning||this.start()}},{key:"start",value:function(i){i&&(this.container=i,this.container.appendChild(this.ownState.svg)),this.stop(),this.isRunning=!0,this.loop()}},{key:"stop",value:function(){this.isRunning=!1,this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=void 0}},{key:"loop",value:function(){this.rafId=requestAnimationFrame(this.loop.bind(this)),this.updateCollabolatorsState(),this.isDrawing?this.update():this.isRunning=!1}},{key:"draw",value:function(i){var O=this;return function(W){var oe=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],xe=W.length;if(xe<4)return"";for(var se=W[0],K=W[1],ne=W[2],Ie="M".concat(se[0].toFixed(2),",").concat(se[1].toFixed(2)," Q").concat(K[0].toFixed(2),",").concat(K[1].toFixed(2)," ").concat(sl(K[0],ne[0]).toFixed(2),",").concat(sl(K[1],ne[1]).toFixed(2)," T"),Ne=2,Be=xe-1;Ne<Be;Ne++)se=W[Ne],K=W[Ne+1],Ie+="".concat(sl(se[0],K[0]).toFixed(2),",").concat(sl(se[1],K[1]).toFixed(2)," ");return oe&&(Ie+="Z"),Ie}(i.getStrokeOutline(i.options.size/this.app.state.zoom.value).map(function(W){var oe=(0,_.Z)(W,2),xe=oe[0],se=oe[1],K=(0,w._i)({sceneX:xe,sceneY:se},O.app.state);return[K.x,K.y]}),!0)}},{key:"updateCollabolatorsState",value:function(){if(this.container&&this.app.state.collaborators.size){var i,O=ql(this.app.state.collaborators.entries());try{for(O.s();!(i=O.n()).done;){var W=(0,_.Z)(i.value,2),oe=W[0],xe=W[1];if(!this.collaboratorsState.has(oe)){var se=ga();this.container.appendChild(se.svg),this.collaboratorsState.set(oe,se),this.updatePath(se)}var K=this.collaboratorsState.get(oe);xe.pointer&&xe.pointer.tool==="laser"&&(xe.button==="down"&&K.currentPath===void 0&&(K.lastPoint=[xe.pointer.x,xe.pointer.y],K.currentPath=Fi(),K.currentPath.addPoint([xe.pointer.x,xe.pointer.y,performance.now()]),this.updatePath(K)),xe.button==="down"&&K.currentPath!==void 0&&(xe.pointer.x===K.lastPoint[0]&&xe.pointer.y===K.lastPoint[1]||(K.lastPoint=[xe.pointer.x,xe.pointer.y],K.currentPath.addPoint([xe.pointer.x,xe.pointer.y,performance.now()]),this.updatePath(K))),xe.button==="up"&&K.currentPath!==void 0&&(K.lastPoint=[xe.pointer.x,xe.pointer.y],K.currentPath.addPoint([xe.pointer.x,xe.pointer.y,performance.now()]),K.currentPath.close(),K.finishedPaths.push(K.currentPath),K.currentPath=void 0,this.updatePath(K)))}}catch(ne){O.e(ne)}finally{O.f()}}}},{key:"update",value:function(){var i=this;if(this.container){var O,W=!1,oe=ql(this.collaboratorsState.entries());try{for(oe.s();!(O=oe.n()).done;){var xe=(0,_.Z)(O.value,2),se=xe[0],K=xe[1];if(this.app.state.collaborators.has(se)){K.finishedPaths=K.finishedPaths.filter(function(Ne){var Be=Ne.originalPoints[Ne.originalPoints.length-1];return!(Be&&Be[2]<performance.now()-Zl)});var ne=K.finishedPaths.map(function(Ne){return i.draw(Ne)}).join(" ");K.currentPath&&(ne+=" ".concat(this.draw(K.currentPath))),ne.trim()&&(W=!0),K.svg.setAttribute("d",ne),K.svg.setAttribute("fill",(0,ha.G)(se))}else K.svg.remove(),this.collaboratorsState.delete(se)}}catch(Ne){oe.e(Ne)}finally{oe.f()}this.ownState.finishedPaths=this.ownState.finishedPaths.filter(function(Ne){var Be=Ne.originalPoints[Ne.originalPoints.length-1];return!(Be&&Be[2]<performance.now()-Zl)});var Ie=this.ownState.finishedPaths.map(function(Ne){return i.draw(Ne)}).join(" ");this.ownState.currentPath&&(Ie+=" ".concat(this.draw(this.ownState.currentPath))),(Ie=Ie.trim())&&(W=!0),this.ownState.svg.setAttribute("d",Ie),this.ownState.svg.setAttribute("fill","red"),W||(this.isDrawing=!1)}}}]),Z}(),fi=function(){function Z(i){var O;(0,y.Z)(this,Z),this.subscribers=[],this.updateOnChangeOnly=(O=i?.updateOnChangeOnly)!==null&&O!==void 0&&O,this.value=i?.initialState}return(0,T.Z)(Z,[{key:"on",value:function(){for(var i,O=this,W=arguments.length,oe=new Array(W),xe=0;xe<W;xe++)oe[xe]=arguments[xe];var se=oe.flat().filter(function(K){return typeof K=="function"});return(i=this.subscribers).push.apply(i,(0,g.Z)(se)),function(){return O.off(se)}}},{key:"off",value:function(){for(var i=arguments.length,O=new Array(i),W=0;W<i;W++)O[W]=arguments[W];var oe=O.flat();this.subscribers=this.subscribers.filter(function(xe){return!oe.includes(xe)})}},{key:"trigger",value:function(){for(var i=arguments.length,O=new Array(i),W=0;W<i;W++)O[W]=arguments[W];return this.updateOnChangeOnly&&this.value===O?[]:(this.value=O,this.subscribers.map(function(oe){return oe.apply(void 0,O)}))}},{key:"destroy",value:function(){this.subscribers=[],this.value=void 0}}]),Z}();function ni(Z,i){var O=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!O){if(Array.isArray(Z)||(O=function(ne,Ie){if(ne){if(typeof ne=="string")return Ai(ne,Ie);var Ne=Object.prototype.toString.call(ne).slice(8,-1);if(Ne==="Object"&&ne.constructor&&(Ne=ne.constructor.name),Ne==="Map"||Ne==="Set")return Array.from(ne);if(Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return Ai(ne,Ie)}}(Z))||i){O&&(Z=O);var W=0,oe=function(){};return{s:oe,n:function(){return W>=Z.length?{done:!0}:{done:!1,value:Z[W++]}},e:function(ne){throw ne},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe,se=!0,K=!1;return{s:function(){O=O.call(Z)},n:function(){var ne=O.next();return se=ne.done,ne},e:function(ne){K=!0,xe=ne},f:function(){try{se||O.return==null||O.return()}finally{if(K)throw xe}}}}function Ai(Z,i){(i==null||i>Z.length)&&(i=Z.length);for(var O=0,W=new Array(i);O<i;O++)W[O]=Z[O];return W}function Da(Z){var i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,N.Z)(Z);if(i){var oe=(0,N.Z)(this).constructor;O=Reflect.construct(W,arguments,oe)}else O=W.apply(this,arguments);return(0,u.Z)(this,O)}}function ul(Z,i){var O=Object.keys(Z);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Z);i&&(W=W.filter(function(oe){return Object.getOwnPropertyDescriptor(Z,oe).enumerable})),O.push.apply(O,W)}return O}function tr(Z){for(var i=1;i<arguments.length;i++){var O=arguments[i]!=null?arguments[i]:{};i%2?ul(Object(O),!0).forEach(function(W){(0,H.Z)(Z,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(O)):ul(Object(O)).forEach(function(W){Object.defineProperty(Z,W,Object.getOwnPropertyDescriptor(O,W))})}return Z}var ar=Q().createContext(null),La=Q().createContext(null),Ra={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},Na=Q().createContext(Ra);Na.displayName="DeviceContext";var wl=Q().createContext({container:null,id:null});wl.displayName="ExcalidrawContainerContext";var Za=Q().createContext([]);Za.displayName="ExcalidrawElementsContext";var fs=Q().createContext(tr(tr({},(0,j.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));fs.displayName="ExcalidrawAppStateContext";var ps=Q().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});ps.displayName="ExcalidrawSetAppStateContext";var oa=Q().createContext(null);oa.displayName="ExcalidrawActionManagerContext";var hs=function(){return(0,k.useContext)(ar)},Is=function(){return(0,k.useContext)(La)},ms=function(){return(0,k.useContext)(Na)},Jl=function(){return(0,k.useContext)(wl)},Ps=function(){return(0,k.useContext)(Za)},Ts=function(){return(0,k.useContext)(fs)},Ms=function(){return(0,k.useContext)(ps)},As=function(){return(0,k.useContext)(oa)},Ds=typeof window<"u"&&"ResizeObserver"in window,kl=!1,za=0,ka=!1,Ba=!1,El=!1,gs={horizontal:null,vertical:null},Di=0,sa=!1,va=new Map,Gi=!1,Ls=0,Rs=!1,Ga=null,Oo={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},To=function(Z){(0,a.Z)(xe,Z);var i,O,W,oe=Da(xe);function xe(se){var K;(0,y.Z)(this,xe),K=oe.call(this,se),Ns.call((0,E.Z)(K));var ne,Ie=(0,j.im)(),Ne=se.excalidrawAPI,Be=se.viewModeEnabled,nt=Be!==void 0&&Be,it=se.zenModeEnabled,ct=it!==void 0&&it,kt=se.gridModeEnabled,Ot=kt!==void 0&&kt,Wt=se.objectsSnapModeEnabled,tn=Wt!==void 0&&Wt,Rt=se.theme,Lt=Rt===void 0?Ie.theme:Rt,Ut=se.name,on=Ut===void 0?Ie.name:Ut;if(K.state=tr(tr(tr({},Ie),{},{theme:Lt,isLoading:!0},K.getCanvasOffsets()),{},{viewModeEnabled:nt,zenModeEnabled:ct,objectsSnapModeEnabled:tn,gridSize:Ot?f.k:null,name:on,width:window.innerWidth,height:window.innerHeight}),K.id=(0,fe.x0)(),K.library=new Y.ZP((0,E.Z)(K)),K.scene=new ve.Z,K.canvas=document.createElement("canvas"),K.rc=me.Z.canvas(K.canvas),K.renderer=new Fn(K.scene),Ne){var vn={updateScene:K.updateScene,updateLibrary:K.library.updateLibrary,addFiles:K.addFiles,resetScene:K.resetScene,getSceneElementsIncludingDeleted:K.getSceneElementsIncludingDeleted,history:{clear:K.resetHistory},scrollToContent:K.scrollToContent,getSceneElements:K.getSceneElements,getAppState:function(){return K.state},getFiles:function(){return K.files},refresh:K.refresh,setToast:K.setToast,id:K.id,setActiveTool:K.setActiveTool,setCursor:K.setCursor,resetCursor:K.resetCursor,updateFrameRendering:K.updateFrameRendering,toggleSidebar:K.toggleSidebar,onChange:function(cn){return K.onChangeEmitter.on(cn)},onPointerDown:function(cn){return K.onPointerDownEmitter.on(cn)},onPointerUp:function(cn){return K.onPointerUpEmitter.on(cn)}};typeof Ne=="function"?Ne(vn):console.error("excalidrawAPI should be a function!")}return K.excalidrawContainerValue={container:K.excalidrawContainerRef.current,id:K.id},K.fonts=new Jn({scene:K.scene,onSceneUpdated:K.onSceneUpdated}),K.history=new Te,K.actionManager=new z(K.syncActionResult,function(){return K.state},function(){return K.scene.getElementsIncludingDeleted()},(0,E.Z)(K)),K.actionManager.registerAll(B.N),K.actionManager.registerAction((ne=K.history,{name:"undo",trackEvent:{category:"history"},perform:function(cn,nn){return s(cn,nn,function(){return ne.undoOnce()})},keyTest:function(cn){return cn[F.tW.CTRL_OR_CMD]&&cn.key.toLowerCase()===F.tW.Z&&!cn.shiftKey},PanelComponent:function(cn){var nn=cn.updateData,_n=cn.data;return(0,r.jsx)(U.V,{type:"button",icon:$.UE,"aria-label":(0,L.t)("buttons.undo"),onClick:nn,size:_n?.size||"medium"})},commitToHistory:function(){return!1}})),K.actionManager.registerAction(function(cn){return{name:"redo",trackEvent:{category:"history"},perform:function(nn,_n){return s(nn,_n,function(){return cn.redoOnce()})},keyTest:function(nn){return nn[F.tW.CTRL_OR_CMD]&&nn.shiftKey&&nn.key.toLowerCase()===F.tW.Z||f.ED&&nn.ctrlKey&&!nn.shiftKey&&nn.key===F.tW.Y},PanelComponent:function(nn){var _n=nn.updateData,Xn=nn.data;return(0,r.jsx)(U.V,{type:"button",icon:$.zG,"aria-label":(0,L.t)("buttons.redo"),onClick:_n,size:Xn?.size||"medium"})},commitToHistory:function(){return!1}}}(K.history)),K}return(0,T.Z)(xe,[{key:"onWindowMessage",value:function(se){if(se.origin==="https://player.vimeo.com"||se.origin==="https://www.youtube.com"){var K=null;try{K=JSON.parse(se.data)}catch{}if(K)switch(se.origin){case"https://player.vimeo.com":if(K.method==="paused"){var ne,Ie=null,Ne=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!Ne)break;var Be,nt=ni(Ne);try{for(nt.s();!(Be=nt.n()).done;){var it=Be.value;it.contentWindow===se.source&&(Ie=it.contentWindow)}}catch(Ot){nt.e(Ot)}finally{nt.f()}(ne=Ie)===null||ne===void 0||ne.postMessage(JSON.stringify({method:K.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if(K.event==="infoDelivery"&&K.info&&K.id&&typeof K.info.playerState=="number"){var ct=K.id,kt=K.info.playerState;Object.values(f.vf).includes(kt)&&va.set(ct,kt)}}}}},{key:"updateEmbeddableRef",value:function(se,K){K&&this.iFrameRefs.set(se,K)}},{key:"getHTMLIFrameElement",value:function(se){return this.iFrameRefs.get(se)}},{key:"handleEmbeddableCenterClick",value:function(se){var K,ne,Ie,Ne,Be=this;if(((K=this.state.activeEmbeddable)===null||K===void 0?void 0:K.element)!==se||((ne=this.state.activeEmbeddable)===null||ne===void 0?void 0:ne.state)!=="active"){setTimeout(function(){Be.setState({activeEmbeddable:{element:se,state:"active"},selectedElementIds:(0,H.Z)({},se.id,!0),draggingElement:null,selectionElement:null})},100);var nt=this.getHTMLIFrameElement(se.id);if(nt!=null&&nt.contentWindow){if(nt.src.includes("youtube")){var it=va.get(se.id);switch(it||(va.set(se.id,f.vf.UNSTARTED),nt.contentWindow.postMessage(JSON.stringify({event:"listening",id:se.id}),"*")),it){case f.vf.PLAYING:case f.vf.BUFFERING:(Ie=nt.contentWindow)===null||Ie===void 0||Ie.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:(Ne=nt.contentWindow)===null||Ne===void 0||Ne.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}nt.src.includes("player.vimeo.com")&&nt.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isEmbeddableCenter",value:function(se,K,ne,Ie){var Ne,Be;return se&&!K.altKey&&!K.shiftKey&&!K.metaKey&&!K.ctrlKey&&(((Ne=this.state.activeEmbeddable)===null||Ne===void 0?void 0:Ne.element)!==se||((Be=this.state.activeEmbeddable)===null||Be===void 0?void 0:Be.state)==="hover"||!this.state.activeEmbeddable)&&ne>=se.x+se.width/3&&ne<=se.x+2*se.width/3&&Ie>=se.y+se.height/3&&Ie<=se.y+2*se.height/3}},{key:"renderEmbeddables",value:function(){var se=this,K=this.state.zoom.value,ne=this.state.width,Ie=this.state.height,Ne=this.scene.getNonDeletedElements().filter(function(Be){return(0,J.gs)(Be)&&!!Be.validated});return(0,r.jsx)(r.Fragment,{children:Ne.map(function(Be){var nt,it,ct,kt,Ot,Wt,tn,Rt,Lt,Ut=(0,w._i)({sceneX:Be.x,sceneY:Be.y},se.state),on=Ut.x,vn=Ut.y,cn=(0,d.LM)((0,ra.ye)(Be.link||"")),nn=(0,De.PZ)(Be,ne,Ie,se.state),_n=((nt=se.state.activeEmbeddable)===null||nt===void 0?void 0:nt.element)===Be&&((it=se.state.activeEmbeddable)===null||it===void 0?void 0:it.state)==="active",Xn=((ct=se.state.activeEmbeddable)===null||ct===void 0?void 0:ct.element)===Be&&((kt=se.state.activeEmbeddable)===null||kt===void 0?void 0:kt.state)==="hover";return(0,r.jsx)("div",{className:(0,ye.Z)("excalidraw__embeddable-container",{"is-hovered":Xn}),style:(0,H.Z)({transform:nn?"translate(".concat(on-se.state.offsetLeft,"px, ").concat(vn-se.state.offsetTop,"px) scale(").concat(K,")"):"none",display:nn?"block":"none",opacity:Be.opacity/100},"--embeddable-radius","".concat((0,ke.yW)(Math.min(Be.width,Be.height),Be),"px")),children:(0,r.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:nn?"".concat(Be.width,"px"):0,height:nn?"".concat(Be.height,"px"):0,transform:nn?"rotate(".concat(Be.angle,"rad)"):"none",pointerEvents:_n?f.XI.enabled:f.XI.disabled},children:[Xn&&(0,r.jsx)("div",{className:"excalidraw__embeddable-hint",children:(0,L.t)("buttons.embeddableInteractionButton")}),(0,r.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(Be.strokeWidth,"px")},children:(Ot=(Wt=(tn=se.props).renderEmbeddable)===null||Wt===void 0?void 0:Wt.call(tn,Be,se.state))!==null&&Ot!==void 0?Ot:(0,r.jsx)("iframe",{ref:function(sr){return se.updateEmbeddableRef(Be.id,sr)},className:"excalidraw__embeddable",srcDoc:cn?.type==="document"?cn.srcdoc(se.state.theme):void 0,src:cn?.type!=="document"?(Rt=cn?.link)!==null&&Rt!==void 0?Rt:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"".concat(cn!=null&&(Lt=cn.sandbox)!==null&&Lt!==void 0&&Lt.allowSameOrigin?"allow-same-origin":""," allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads")})})]})},Be.id)})})}},{key:"render",value:function(){var se,K,ne,Ie=this,Ne=this.scene.getSelectedElements(this.state),Be=this.props,nt=Be.renderTopRightUI,it=Be.renderCustomStats,ct=this.scene.getVersionNonce(),kt=this.renderer.getRenderableElements({versionNonce:ct,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingElement:this.state.editingElement,pendingImageElementId:this.state.pendingImageElementId}),Ot=kt.canvasElements,Wt=kt.visibleElements,tn=!(this.state.editingElement&&(0,J.bt)(this.state.editingElement))&&(this.state.selectionElement||this.state.draggingElement||this.state.resizingElement||this.state.activeTool.type==="laser"&&this.state.cursorButton==="down"||this.state.editingElement&&!(0,le.iB)(this.state.editingElement));return(0,r.jsx)("div",{className:(0,ye.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.editor.isMobile}),style:(0,H.Z)({},"--ui-pointerEvents",tn?f.XI.disabled:f.XI.enabled),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,r.jsx)(ar.Provider,{value:this,children:(0,r.jsx)(La.Provider,{value:this.props,children:(0,r.jsx)(wl.Provider,{value:this.excalidrawContainerValue,children:(0,r.jsx)(Na.Provider,{value:this.device,children:(0,r.jsx)(ps.Provider,{value:this.setAppState,children:(0,r.jsx)(fs.Provider,{value:this.state,children:(0,r.jsxs)(Za.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,r.jsxs)(oa.Provider,{value:this.actionManager,children:[(0,r.jsxs)(ya,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:(0,L.G3)().code,renderTopRightUI:nt,renderCustomStats:it,showExitZenModeBtn:((se=this.props)===null||se===void 0?void 0:se.zenModeEnabled)===void 0&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,children:[this.props.children,this.state.openDialog==="mermaid"&&(0,r.jsx)(Yr,{})]}),(0,r.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,r.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,r.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,r.jsx)(Io,{manager:this.laserPathManager}),Ne.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,r.jsx)(wa.nW,{element:Ne[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast},Ne[0].id),this.state.toast!==null&&(0,r.jsx)(aa,{message:this.state.toast.message,onClose:function(){return Ie.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,r.jsx)($e,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function(Rt){Ie.setState({contextMenu:null},function(){Ie.focusContainer(),Rt?.()})}}),(0,r.jsx)(Bn,{canvas:this.canvas,rc:this.rc,elements:Ot,visibleElements:Wt,versionNonce:ct,selectionNonce:(K=this.state.selectionElement)===null||K===void 0?void 0:K.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!0}}),(0,r.jsx)(hn,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elements:Ot,visibleElements:Wt,selectedElements:Ne,versionNonce:ct,selectionNonce:(ne=this.state.selectionElement)===null||ne===void 0?void 0:ne.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"componentDidMount",value:(W=(0,p.Z)(m().mark(function se(){var K,ne=this;return m().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,f.Vi.TEST==="production"&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return ne.state}},setState:{configurable:!0,value:function(){return ne.setState.apply(ne,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),(0,w.h2)()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),Ds&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver(function(){ne.refreshEditorBreakpoints(),ne.updateDOMRect()}),(K=this.resizeObserver)===null||K===void 0||K.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,f.jP)()&&!(0,Et.eB)()&&this.setState({errorMessage:(0,r.jsx)(gn,{})});case 11:case"end":return Ie.stop()}},se,this)})),function(){return W.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var se;this.renderer.destroy(),this.scene=new ve.Z,this.renderer=new Fn(this.scene),this.files={},this.imageCache.clear(),(se=this.resizeObserver)===null||se===void 0||se.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),this.library.destroy(),this.laserPathManager.destroy(),this.onChangeEmitter.destroy(),hi.R.destroy(),Lo.destroy(),clearTimeout(Di),be.N.clearCache(),He.bO.clearCache(),Di=0}},{key:"removeEventListeners",value:function(){var se,K,ne,Ie;document.removeEventListener(f.Ks.POINTER_UP,this.removePointer),document.removeEventListener(f.Ks.COPY,this.onCopy),document.removeEventListener(f.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(f.Ks.CUT,this.onCut),(se=this.excalidrawContainerRef.current)===null||se===void 0||se.removeEventListener(f.Ks.WHEEL,this.onWheel),(K=this.nearestScrollableContainer)===null||K===void 0||K.removeEventListener(f.Ks.SCROLL,this.onScroll),document.removeEventListener(f.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(f.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(f.Ks.KEYUP,this.onKeyUp),window.removeEventListener(f.Ks.RESIZE,this.onResize,!1),window.removeEventListener(f.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(f.Ks.BLUR,this.onBlur,!1),(ne=this.excalidrawContainerRef.current)===null||ne===void 0||ne.removeEventListener(f.Ks.DRAG_OVER,this.disableEvent,!1),(Ie=this.excalidrawContainerRef.current)===null||Ie===void 0||Ie.removeEventListener(f.Ks.DROP,this.disableEvent,!1),document.removeEventListener(f.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(f.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(f.Ks.GESTURE_END,this.onGestureEnd,!1),window.removeEventListener(f.Ks.MESSAGE,this.onWindowMessage,!1)}},{key:"addEventListeners",value:function(){var se,K,ne,Ie,Ne,Be=this;this.removeEventListeners(),window.addEventListener(f.Ks.MESSAGE,this.onWindowMessage,!1),document.addEventListener(f.Ks.POINTER_UP,this.removePointer),document.addEventListener(f.Ks.COPY,this.onCopy),(se=this.excalidrawContainerRef.current)===null||se===void 0||se.addEventListener(f.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(f.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(f.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(f.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(K=document.fonts)===null||K===void 0||(ne=K.addEventListener)===null||ne===void 0||ne.call(K,"loadingdone",function(nt){var it=nt.fontfaces;Be.fonts.onFontsLoaded(it)}),document.addEventListener(f.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(f.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(f.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(f.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(f.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,w.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(f.Ks.SCROLL,this.onScroll)),window.addEventListener(f.Ks.RESIZE,this.onResize,!1),window.addEventListener(f.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(f.Ks.BLUR,this.onBlur,!1),(Ie=this.excalidrawContainerRef.current)===null||Ie===void 0||Ie.addEventListener(f.Ks.DRAG_OVER,this.disableEvent,!1),(Ne=this.excalidrawContainerRef.current)===null||Ne===void 0||Ne.addEventListener(f.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(se,K){var ne,Ie,Ne,Be,nt=this;this.updateEmbeddables(),this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),se.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),(K.scrollX!==this.state.scrollX||K.scrollY!==this.state.scrollY)&&((Ne=this.props)===null||Ne===void 0||(Be=Ne.onScrollChange)===null||Be===void 0||Be.call(Ne,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,j.EN)(this.state)&&this.setState({activeTool:(0,w.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&K.theme!==this.state.theme&&(0,Vr.OF)(this.interactiveCanvas,this.state.theme),K.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),se.langCode!==this.props.langCode&&this.updateLanguage(),se.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),K.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),se.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),se.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),se.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?f.k:null}),this.props.name&&se.name!==this.props.name&&this.setState({name:this.props.name}),(ne=this.excalidrawContainerRef.current)===null||ne===void 0||ne.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){nt.state.editingLinearElement&&nt.actionManager.executeAction(G.pL)}),(Ie=this.state.editingElement)!==null&&Ie!==void 0&&Ie.isDeleted&&this.setState({editingElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var it,ct,kt=K.multiElement;K.activeTool!==this.state.activeTool&&kt!=null&&(0,P.N1)(this.state)&&(0,J.Mn)(kt,!1)&&(0,P.R)(kt,this.state,this.scene,(0,w.AK)(ce._.getPointAtIndexGlobalCoordinates(kt,-1))),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||((it=(ct=this.props).onChange)===null||it===void 0||it.call(ct,this.scene.getElementsIncludingDeleted(),this.state,this.files),this.onChangeEmitter.trigger(this.scene.getElementsIncludingDeleted(),this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:(O=(0,p.Z)(m().mark(function se(K,ne){var Ie,Ne,Be,nt,it,ct,kt,Ot,Wt,tn,Rt,Lt,Ut,on,vn;return m().wrap(function(cn){for(;;)switch(cn.prev=cn.next){case 0:if(Ie=ne.isPlainPaste,Ne=ne.sceneX,Be=ne.sceneY,Ie||!K.some(function(nn){return nn.type==="imageUrl"})||!this.isToolSupported("image")){cn.next=35;break}return nt=K.filter(function(nn){return nn.type==="imageUrl"}).map(function(nn){return nn.value}),cn.next=5,Promise.all(nt.map(function(){var nn=(0,p.Z)(m().mark(function _n(Xn){return m().wrap(function(sr){for(;;)switch(sr.prev=sr.next){case 0:return sr.prev=0,sr.next=3,(0,an._p)(Xn);case 3:return sr.t0=sr.sent,sr.abrupt("return",{file:sr.t0});case 7:return sr.prev=7,sr.t1=sr.catch(0),sr.abrupt("return",{errorMessage:sr.t1.message});case 10:case"end":return sr.stop()}},_n,null,[[0,7]])}));return function(_n){return nn.apply(this,arguments)}}()));case 5:it=cn.sent,ct=Be,kt=!1,Ot={},Wt=ni(it),cn.prev=10,Wt.s();case 12:if((tn=Wt.n()).done){cn.next=22;break}if(!(Rt=tn.value).file){cn.next=20;break}return Lt=this.createImageElement({sceneX:Ne,sceneY:ct}),cn.next=18,this.insertImageElement(Lt,Rt.file);case 18:(Ut=cn.sent)&&(kt||(kt=!0,ct-=Ut.height/2),(0,I.DR)(Ut,{y:ct},!1),ct=Lt.y+Lt.height+25,Ot[Lt.id]=!0);case 20:cn.next=12;break;case 22:cn.next=27;break;case 24:cn.prev=24,cn.t0=cn.catch(10),Wt.e(cn.t0);case 27:return cn.prev=27,Wt.f(),cn.finish(27);case 30:this.setState({selectedElementIds:(0,wr.Oh)(Ot,this.state)}),on=it.find(function(nn){return!!nn.errorMessage}),on&&on.errorMessage&&this.setState({errorMessage:on.errorMessage}),cn.next=37;break;case 35:(vn=K.filter(function(nn){return nn.type==="text"})).length&&this.addTextFromPaste(vn.map(function(nn){return nn.value}).join(`

`),Ie);case 37:case"end":return cn.stop()}},se,this,[[10,24,27,30]])})),function(se,K){return O.apply(this,arguments)})},{key:"addTextFromPaste",value:function(se){var K=this,ne=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ie=(0,w.dE)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),Ne=Ie.x,Be=Ie.y,nt={x:Ne,y:Be,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:se,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:f.hs,locked:!1},it=10,ct=Be,kt=ne?[se]:se.split(`
`),Ot=kt.reduce(function(tn,Rt,Lt){var Ut=Rt.trim(),on=(0,Et.PT)(nt.fontFamily);if(Ut.length){var vn=K.getTopLayerFrameAtSceneCoords({x:Ne,y:ct}),cn=(0,le.VL)(tr(tr({},nt),{},{x:Ne,y:ct,text:Ut,lineHeight:on,frameId:vn?vn.id:null}));tn.push(cn),ct+=cn.height+it}else{var nn;!((nn=kt[Lt-1])===null||nn===void 0)&&nn.trim()&&(ct+=(0,Et.Rg)(nt.fontSize,on)+it)}return tn},[]);if(Ot.length!==0){var Wt=Ot[0].frameId;Wt?this.scene.insertElementsAtIndex(Ot,this.scene.getElementIndex(Wt)):this.scene.replaceAllElements([].concat((0,g.Z)(this.scene.getElementsIncludingDeleted()),(0,g.Z)(Ot))),this.setState({selectedElementIds:(0,wr.Oh)(Object.fromEntries(Ot.map(function(tn){return[tn.id,!0]})),this.state)}),!ne&&Ot.length>1&&Rs===!1&&!this.device.editor.isMobile&&(this.setToast({message:(0,L.t)("toast.pasteAsSingleElement",{shortcut:(0,w.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),Rs=!0),this.history.resumeRecording()}}},{key:"handleTextWysiwyg",value:function(se,K){var ne=this,Ie=K.isExistingElement,Ne=Ie!==void 0&&Ie,Be=function(nt,it,ct){ne.scene.replaceAllElements((0,g.Z)(ne.scene.getElementsIncludingDeleted().map(function(kt){return kt.id===se.id&&(0,le.iB)(kt)?(0,le.N_)(kt,{text:nt,isDeleted:ct,originalText:it}):kt})))};(0,le.b_)({id:se.id,canvas:this.canvas,getViewportCoords:function(nt,it){var ct=(0,w._i)({sceneX:nt,sceneY:it},ne.state),kt=ct.x,Ot=ct.y;return[kt-ne.state.offsetLeft,Ot-ne.state.offsetTop]},onChange:(0,w.tH)(function(nt){Be(nt,nt,!1),(0,le.qP)(se)&&(0,P.Ww)(se)}),onSubmit:(0,w.tH)(function(nt){var it=nt.text,ct=nt.viaKeyboard,kt=nt.originalText,Ot=!it.trim();if(Be(it,kt,Ot),!Ot&&ct){var Wt=se.containerId?se.containerId:se.id;ne.setState(function(tn){return{selectedElementIds:(0,wr.Oh)(tr(tr({},tn.selectedElementIds),{},(0,H.Z)({},Wt,!0)),tn)}})}Ot&&(0,P.$q)(ne.scene.getNonDeletedElements(),[se]),Ot&&!Ne||ne.history.resumeRecording(),ne.setState({draggingElement:null,editingElement:null}),ne.state.activeTool.locked&&(0,Vr.Uk)(ne.interactiveCanvas,ne.state),ne.focusContainer()}),element:se,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),Be(se.text,se.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,wr.Oh)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function(se,K){var ne=this.getElementAtPosition(se,K,{includeBoundTextElement:!0});return ne&&(0,le.iB)(ne)&&!ne.isDeleted?ne:null}},{key:"getElementAtPosition",value:function(se,K,ne){var Ie=this.getElementsAtPosition(se,K,ne?.includeBoundTextElement,ne?.includeLockedElements);if(Ie.length>1){if(ne!=null&&ne.preferSelected){for(var Ne=Ie.length-1;Ne>-1;Ne--)if(this.state.selectedElementIds[Ie[Ne].id])return Ie[Ne]}var Be=Ie[Ie.length-1];return(0,le.wB)(Be,this.state,this.frameNameBoundsCache,se,K)?Ie[Ie.length-2]:Be}return Ie.length===1?Ie[0]:null}},{key:"getElementsAtPosition",value:function(se,K){var ne=this,Ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ne=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Be=Ie&&Ne?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(nt){return(Ne||!nt.locked)&&(Ie||!((0,le.iB)(nt)&&nt.containerId))});return(0,be.CJ)(Be,function(nt){return(0,le.wX)(nt,ne.state,ne.frameNameBoundsCache,se,K)}).filter(function(nt){var it=(0,Cr.$Z)(nt);return!(it&&ne.state.frameRendering.enabled&&ne.state.frameRendering.clip)||(0,Cr.Dn)({x:se,y:K},it)})}},{key:"handleHoverSelectedLinearElement",value:function(se,K,ne){var Ie=ce._.getElement(se.elementId),Ne=(0,Et.WJ)(Ie);if(Ie)if(this.state.selectedLinearElement){var Be=-1,nt=null;(0,$l.Qu)(Ie,this.state,this.frameNameBoundsCache,[K,ne])?(Be=ce._.getPointIndexUnderCursor(Ie,this.state.zoom,K,ne),nt=ce._.getSegmentMidpointHitCoords(se,{x:K,y:ne},this.state),Be>=0||nt?(0,Vr.KJ)(this.interactiveCanvas,f.oc.POINTER):(0,Vr.KJ)(this.interactiveCanvas,f.oc.MOVE)):((0,la.oY)([Ie],this.state)&&(0,le.wB)(Ie,this.state,this.frameNameBoundsCache,K,ne)||Ne&&(0,le.wX)(Ne,this.state,this.frameNameBoundsCache,K,ne))&&(0,Vr.KJ)(this.interactiveCanvas,f.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==Be&&this.setState({selectedLinearElement:tr(tr({},this.state.selectedLinearElement),{},{hoverPointIndex:Be})}),ce._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,nt)||this.setState({selectedLinearElement:tr(tr({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:nt})})}else(0,Vr.KJ)(this.interactiveCanvas,f.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(se){Ga!==null&&Ga(se)}},{key:"updateGestureOnPointerDown",value:function(se){Oo.pointers.set(se.pointerId,{x:se.clientX,y:se.clientY}),Oo.pointers.size===2&&(Oo.lastCenter=ee(Oo.pointers),Oo.initialScale=this.state.zoom.value,Oo.initialDistance=he(Array.from(Oo.pointers.values())))}},{key:"initialPointerDownState",value:function(se){var K=(0,w.dE)(se,this.state),ne=this.scene.getSelectedElements(this.state),Ie=(0,le.KP)(ne),Ne=(0,_.Z)(Ie,4),Be=Ne[0],nt=Ne[1],it=Ne[2],ct=Ne[3];return{origin:K,withCmdOrCtrl:se[F.tW.CTRL_OR_CMD],originInGrid:(0,w.AK)((0,ke.wC)(K.x,K.y,se[F.tW.CTRL_OR_CMD]?null:this.state.gridSize)),scrollbars:(0,be._4)(gs,se.clientX-this.state.offsetLeft,se.clientY-this.state.offsetTop),lastCoords:tr({},K),originalElements:this.scene.getNonDeletedElements().reduce(function(kt,Ot){return kt.set(Ot.id,(0,de.OL)(Ot)),kt},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(it+Be)/2,y:(ct+nt)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(K,ne)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(se,K){var ne=this;if(!K.scrollbars.isOverEither||this.state.multiElement)return!1;El=!0,K.lastCoords.x=se.clientX,K.lastCoords.y=se.clientY;var Ie=(0,w.$9)(function(Be){Be.target instanceof HTMLElement&&ne.handlePointerMoveOverScrollbars(Be,K)}),Ne=(0,w.tH)(function(){El=!1,(0,Vr.Uk)(ne.interactiveCanvas,ne.state),Ga=null,ne.setState({cursorButton:"up"}),ne.savePointer(se.clientX,se.clientY,"up"),window.removeEventListener(f.Ks.POINTER_MOVE,Ie),window.removeEventListener(f.Ks.POINTER_UP,Ne),Ie.flush()});return Ga=Ne,window.addEventListener(f.Ks.POINTER_MOVE,Ie),window.addEventListener(f.Ks.POINTER_UP,Ne),!0}},{key:"isASelectedElement",value:function(se){return se!=null&&this.state.selectedElementIds[se.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(se,K){if(K.length<2)return!1;var ne=10/this.state.zoom.value,Ie=(0,le.KP)(K),Ne=(0,_.Z)(Ie,4),Be=Ne[0],nt=Ne[1],it=Ne[2],ct=Ne[3];return se.x>Be-ne&&se.x<it+ne&&se.y>nt-ne&&se.y<ct+ne}},{key:"getCurrentItemRoundness",value:function(se){return this.state.currentItemRoundness==="round"?{type:(0,J.QI)(se)?f.a6.ADAPTIVE_RADIUS:f.a6.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function(se,K){var ne=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!Wo({event:se,appState:this.state,selectedElements:K})||!ne&&Lo.getReferenceSnapPoints()||Lo.setReferenceSnapPoints(je(this.scene.getNonDeletedElements(),K,this.state))}},{key:"maybeCacheVisibleGaps",value:function(se,K){var ne=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!Wo({event:se,appState:this.state,selectedElements:K})||!ne&&Lo.getVisibleGaps()||Lo.setVisibleGaps(ll(this.scene.getNonDeletedElements(),K,this.state))}},{key:"onKeyDownFromPointerDownHandler",value:function(se){var K=this;return(0,w.tH)(function(ne){K.maybeHandleResize(se,ne)||K.maybeDragNewGenericElement(se,ne)})}},{key:"onKeyUpFromPointerDownHandler",value:function(se){var K=this;return(0,w.tH)(function(ne){ne.key===F.tW.ALT&&ne.preventDefault(),K.maybeHandleResize(se,ne)||K.maybeDragNewGenericElement(se,ne)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(se){var K=this;return(0,w.$9)(function(ne){var Ie;if(se.drag.offset===null&&(se.drag.offset=(0,w.AK)((0,le.$V)(K.scene.getSelectedElements(K.state),se.origin.x,se.origin.y))),ne.target instanceof HTMLElement&&!K.handlePointerMoveOverScrollbars(ne,se)){var Ne=(0,w.dE)(ne,K.state);if((0,j.EN)(K.state))K.handleEraser(ne,se,Ne);else{K.state.activeTool.type==="laser"&&K.laserPathManager.addPointToPath(Ne.x,Ne.y);var Be=(0,ke.wC)(Ne.x,Ne.y,ne[F.tW.CTRL_OR_CMD]?null:K.state.gridSize),nt=(0,_.Z)(Be,2),it=nt[0],ct=nt[1];if(se.drag.hasOccurred||K.state.activeTool.type!=="arrow"&&K.state.activeTool.type!=="line"||!((0,ke.LW)(Ne.x,Ne.y,se.origin.x,se.origin.y)<f.f)){if(se.resize.isResizing&&(se.lastCoords.x=Ne.x,se.lastCoords.y=Ne.y,K.maybeHandleResize(se,ne)))return!0;if(K.state.selectedLinearElement){var kt=K.state.editingLinearElement||K.state.selectedLinearElement;if(ce._.shouldAddMidpoint(K.state.selectedLinearElement,Ne,K.state)){var Ot=ce._.addMidpoint(K.state.selectedLinearElement,Ne,K.state,!ne[F.tW.CTRL_OR_CMD]);return Ot?void(0,ue.flushSync)(function(){K.state.selectedLinearElement&&K.setState({selectedLinearElement:tr(tr({},K.state.selectedLinearElement),{},{pointerDownState:Ot.pointerDownState,selectedPointsIndices:Ot.selectedPointsIndices})}),K.state.editingLinearElement&&K.setState({editingLinearElement:tr(tr({},K.state.editingLinearElement),{},{pointerDownState:Ot.pointerDownState,selectedPointsIndices:Ot.selectedPointsIndices})})}):void 0}if(kt.pointerDownState.segmentMidpoint.value!==null&&!kt.pointerDownState.segmentMidpoint.added)return;var Wt=ce._.handlePointDragging(ne,K.state,Ne.x,Ne.y,function(fo,lo){K.maybeSuggestBindingsForLinearElementAtCoords(fo,lo)},kt);if(Wt)return se.lastCoords.x=Ne.x,se.lastCoords.y=Ne.y,se.drag.hasOccurred=!0,K.state.editingLinearElement&&!K.state.editingLinearElement.isDragging&&K.setState({editingLinearElement:tr(tr({},K.state.editingLinearElement),{},{isDragging:!0})}),void(K.state.selectedLinearElement.isDragging||K.setState({selectedLinearElement:tr(tr({},K.state.selectedLinearElement),{},{isDragging:!0})}))}var tn=se.hit.allHitElements.some(function(fo){return K.isASelectedElement(fo)}),Rt=K.state.editingLinearElement&&ne.shiftKey&&K.state.editingLinearElement.elementId===((Ie=se.hit.element)===null||Ie===void 0?void 0:Ie.id);if((tn||se.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!Rt){var Lt,Ut=K.scene.getSelectedElements(K.state);if(Ut.every(function(fo){return fo.locked}))return;var on=Ut.find(function(fo){return(0,J.He)(fo)}),vn=K.getTopLayerFrameAtSceneCoords(Ne);if(K.setState({frameToHighlight:vn&&!on?vn:null}),se.drag.hasOccurred=!0,K.setState({selectedElementsAreBeingDragged:!0}),Ut.length>0&&!se.withCmdOrCtrl&&!K.state.editingElement&&((Lt=K.state.activeEmbeddable)===null||Lt===void 0?void 0:Lt.state)!=="active"){var cn={x:Ne.x-se.origin.x,y:Ne.y-se.origin.y},nn=(0,g.Z)(se.originalElements.values()),_n=ne.shiftKey;if(_n){var Xn=Math.abs(cn.x),sr=Math.abs(cn.y),yr=_n&&Xn>sr;_n&&Xn<sr&&(cn.x=0),yr&&(cn.y=0)}K.maybeCacheVisibleGaps(ne,Ut),K.maybeCacheReferenceSnapPoints(ne,Ut);var Mr=function(fo,lo,Qo,wi){var vi,Ea,zl,Ql;if(!Wo({appState:Qo,event:wi,selectedElements:fo})||fo.length===0)return{snapOffset:{x:0,y:0},snapLines:[]};lo.x=Xe(lo.x),lo.y=Xe(lo.y);var ba=[],qi=[],Fa=Ti(Qo.zoom.value),Sl={x:Fa,y:Fa},_l=Bi(fo,{dragOffset:lo});Ve(fo,_l,Qo,wi,ba,qi,Sl),ot(fo,lo,Qo,wi,ba,qi,Sl);var vs={x:(vi=(Ea=ba[0])===null||Ea===void 0?void 0:Ea.offset)!==null&&vi!==void 0?vi:0,y:(zl=(Ql=qi[0])===null||Ql===void 0?void 0:Ql.offset)!==null&&zl!==void 0?zl:0};Sl.x=0,Sl.y=0,ba.length=0,qi.length=0;var Sa={x:Xe(lo.x+vs.x),y:Xe(lo.y+vs.y)};Ve(fo,Bi(fo,{dragOffset:Sa}),Qo,wi,ba,qi,Sl),ot(fo,Sa,Qo,wi,ba,qi,Sl);var tc=ut(ba,qi),Ol=bt(fo,Sa,[].concat(ba,qi).filter(function(vc){return vc.type==="gap"}));return{snapOffset:vs,snapLines:[].concat(tc,Ol)}}((0,be.eD)(nn,K.state),cn,K.state,ne),Dr=Mr.snapOffset,br=Mr.snapLines;if(K.setState({snapLines:br}),!K.state.editingFrame&&(0,le.o8)(se,Ut,cn,K.state,K.scene,Dr,ne[F.tW.CTRL_OR_CMD]?null:K.state.gridSize),K.maybeSuggestBindingForAll(Ut),ne.altKey&&!se.hit.hasBeenDuplicated){se.hit.hasBeenDuplicated=!0;var xr,Sr=[],kr=[],Br=new Map,qr=new Map,Jr=se.hit.element,ro=new Set(K.scene.getSelectedElements({selectedElementIds:K.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map(function(fo){return fo.id})),Hr=ni(K.scene.getElementsIncludingDeleted());try{for(Hr.s();!(xr=Hr.n()).done;){var Lr=xr.value;if(ro.has(Lr.id)||Lr.id===Jr?.id&&se.hit.wasAddedToSelection){var io=(0,le.Sy)(K.state.editingGroupId,Br,Lr),Po=se.originalElements.get(Lr.id);(0,I.DR)(io,{x:Po.x,y:Po.y}),se.originalElements.set(io.id,io),Sr.push(io),kr.push(Lr),qr.set(Lr.id,io.id)}else Sr.push(Lr)}}catch(fo){Hr.e(fo)}finally{Hr.f()}var wo=[].concat(Sr,kr);(0,Et.P7)(Sr,kr,qr),(0,P.ek)(wo,kr,qr,"duplicatesServeAsOld"),(0,Cr.xr)(wo,kr,qr),K.scene.replaceAllElements(wo),K.maybeCacheVisibleGaps(ne,Ut,!0),K.maybeCacheReferenceSnapPoints(ne,Ut,!0)}return}}var mo=K.state.draggingElement;if(mo){if(mo.type==="freedraw"){var co=mo.points,Co=Ne.x-mo.x,eo=Ne.y-mo.y,Rr=co.length>0&&co[co.length-1];if(!(Rr&&Rr[0]===Co&&Rr[1]===eo)){var xi=mo.simulatePressure?mo.pressures:[].concat((0,g.Z)(mo.pressures),[ne.pressure]);(0,I.DR)(mo,{points:[].concat((0,g.Z)(co),[[Co,eo]]),pressures:xi})}}else if((0,J.bt)(mo)){se.drag.hasOccurred=!0,K.setState({selectedElementsAreBeingDragged:!0});var Fr=mo.points,jr=it-mo.x,uo=ct-mo.y;if((0,F.Ge)(ne)&&Fr.length===2){var Mo=(0,le.o4)(mo.x,mo.y,Ne.x,Ne.y);jr=Mo.width,uo=Mo.height}Fr.length===1?(0,I.DR)(mo,{points:[].concat((0,g.Z)(Fr),[[jr,uo]])}):Fr.length===2&&(0,I.DR)(mo,{points:[].concat((0,g.Z)(Fr.slice(0,-1)),[[jr,uo]])}),(0,J.Mn)(mo,!1)&&K.maybeSuggestBindingsForLinearElementAtCoords(mo,[Ne],K.state.startBoundElement)}else se.lastCoords.x=Ne.x,se.lastCoords.y=Ne.y,K.maybeDragNewGenericElement(se,ne);if(K.state.activeTool.type==="selection"){se.boxSelection.hasOccurred=!0;var Vo=K.scene.getNonDeletedElements();if(K.state.editingLinearElement)ce._.handleBoxSelection(ne,K.state,K.setState.bind(K));else{var ko=!0;!ne.shiftKey&&(0,be.N)(Vo,K.state)&&(se.withCmdOrCtrl&&se.hit.element?K.setState(function(fo){return(0,He.bO)(tr(tr({},fo),{},{selectedElementIds:(0,H.Z)({},se.hit.element.id,!0)}),K.scene.getNonDeletedElements(),fo,K)}):ko=!1);var Jo=(0,be.Yp)(Vo,mo);K.setState(function(fo){var lo=tr(tr({},ko&&fo.selectedElementIds),Jo.reduce(function(Qo,wi){return Qo[wi.id]=!0,Qo},{}));return se.hit.element&&(Jo.length?delete lo[se.hit.element.id]:lo[se.hit.element.id]=!0),fo=ko?fo:tr(tr({},fo),{},{selectedGroupIds:{},editingGroupId:null}),tr(tr({},(0,He.bO)({editingGroupId:fo.editingGroupId,selectedElementIds:lo},K.scene.getNonDeletedElements(),fo,K)),{},{selectedLinearElement:Jo.length===1&&(0,J.bt)(Jo[0])?new ce._(Jo[0],K.scene):null,showHyperlinkPopup:!(Jo.length!==1||!Jo[0].link&&!(0,J.gs)(Jo[0]))&&"info"})})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(se,K){if(K.scrollbars.isOverHorizontal){var ne=se.clientX,Ie=ne-K.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-Ie/this.state.zoom.value}),K.lastCoords.x=ne,!0}if(K.scrollbars.isOverVertical){var Ne=se.clientY,Be=Ne-K.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-Be/this.state.zoom.value}),K.lastCoords.y=Ne,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(se){var K=this;return(0,w.tH)(function(ne){var Ie;se.eventListeners.onMove&&se.eventListeners.onMove.flush();var Ne,Be,nt=K.state,it=nt.draggingElement,ct=nt.resizingElement,kt=nt.multiElement,Ot=nt.activeTool,Wt=nt.isResizing,tn=nt.isRotating;if(K.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",editingElement:kt||(0,le.iB)(K.state.editingElement)?K.state.editingElement:null,snapLines:[],originSnapOffset:null}),Lo.setReferenceSnapPoints(null),Lo.setVisibleGaps(null),K.savePointer(ne.clientX,ne.clientY,"up"),K.setState({selectedElementsAreBeingDragged:!1}),K.state.editingLinearElement)if(se.boxSelection.hasOccurred||((Ne=se.hit)===null||Ne===void 0||(Be=Ne.element)===null||Be===void 0?void 0:Be.id)===K.state.editingLinearElement.elementId){var Rt=ce._.handlePointerUp(ne,K.state.editingLinearElement,K.state);Rt!==K.state.editingLinearElement&&K.setState({editingLinearElement:Rt,suggestedBindings:[]})}else K.actionManager.executeAction(G.pL);else if(K.state.selectedLinearElement){var Lt,Ut;if(((Lt=se.hit)===null||Lt===void 0||(Ut=Lt.element)===null||Ut===void 0?void 0:Ut.id)!==K.state.selectedLinearElement.elementId)K.scene.getSelectedElements(K.state).length>1&&K.setState({selectedLinearElement:null});else{var on=ce._.handlePointerUp(ne,K.state.selectedLinearElement,K.state),vn=on.startBindingElement,cn=on.endBindingElement,nn=K.scene.getElement(on.elementId);(0,J.Mn)(nn)&&(0,P.HG)(nn,vn,cn),on!==K.state.selectedLinearElement&&K.setState({selectedLinearElement:tr(tr({},on),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(Ga=null,window.removeEventListener(f.Ks.POINTER_MOVE,se.eventListeners.onMove),window.removeEventListener(f.Ks.POINTER_UP,se.eventListeners.onUp),window.removeEventListener(f.Ks.KEYDOWN,se.eventListeners.onKeyDown),window.removeEventListener(f.Ks.KEYUP,se.eventListeners.onKeyUp),K.state.pendingImageElementId&&K.setState({pendingImageElementId:null}),K.onPointerUpEmitter.trigger(K.state.activeTool,se,ne),it?.type==="freedraw"){var _n=(0,w.dE)(ne,K.state),Xn=it.points,sr=_n.x-it.x,yr=_n.y-it.y;sr===Xn[0][0]&&yr===Xn[0][1]&&(yr+=1e-4,sr+=1e-4);var Mr=it.simulatePressure?[]:[].concat((0,g.Z)(it.pressures),[ne.pressure]);return(0,I.DR)(it,{points:[].concat((0,g.Z)(Xn),[[sr,yr]]),pressures:Mr,lastCommittedPoint:[sr,yr]}),void K.actionManager.executeAction(G.pL)}if((0,J.pC)(it)){var Dr=it;try{K.initializeImageDimensions(Dr),K.setState({selectedElementIds:(0,wr.Oh)((0,H.Z)({},Dr.id,!0),K.state)},function(){K.actionManager.executeAction(G.pL)})}catch(Fr){console.error(Fr),K.scene.replaceAllElements(K.scene.getElementsIncludingDeleted().filter(function(jr){return jr.id!==Dr.id})),K.actionManager.executeAction(G.pL)}}else if((0,J.bt)(it)){it.points.length>1&&K.history.resumeRecording();var br=(0,w.dE)(ne,K.state);se.drag.hasOccurred||!it||kt?se.drag.hasOccurred&&!kt&&((0,P.N1)(K.state)&&(0,J.Mn)(it,!1)&&(0,P.R)(it,K.state,K.scene,br),K.setState({suggestedBindings:[],startBoundElement:null}),Ot.locked?K.setState(function(Fr){return{draggingElement:null}}):((0,Vr.z8)(K.interactiveCanvas),K.setState(function(Fr){return{draggingElement:null,activeTool:(0,w.Om)(K.state,{type:"selection"}),selectedElementIds:(0,wr.Oh)(tr(tr({},Fr.selectedElementIds),{},(0,H.Z)({},it.id,!0)),Fr),selectedLinearElement:new ce._(it,K.scene)}}))):((0,I.DR)(it,{points:[].concat((0,g.Z)(it.points),[[br.x-it.x,br.y-it.y]])}),K.setState({multiElement:it,editingElement:K.state.draggingElement}))}else{if(Ot.type!=="selection"&&it&&(0,le.QD)(it))return K.scene.replaceAllElements(K.scene.getElementsIncludingDeleted().filter(function(Fr){return Fr.id!==it.id})),void K.setState({draggingElement:null});if(it){if(se.drag.hasOccurred){var xr=(0,w.dE)(ne,K.state);if(K.state.selectedLinearElement&&K.state.selectedLinearElement.isDragging){var Sr=K.scene.getElement(K.state.selectedLinearElement.elementId);if(Sr!=null&&Sr.frameId){var kr=(0,Cr.$Z)(Sr);kr&&Sr&&((0,Cr.cO)(Sr,kr)||((0,I.DR)(Sr,{groupIds:[]}),K.scene.replaceAllElements((0,Cr.lz)(K.scene.getElementsIncludingDeleted(),[Sr],K.state))))}}else{var Br=K.getTopLayerFrameAtSceneCoords(xr),qr=K.scene.getSelectedElements(K.state),Jr=K.scene.getElementsIncludingDeleted(),ro=function(Fr){if(Fr.length>0){var jr,uo=ni(Fr);try{for(uo.s();!(jr=uo.n()).done;){var Mo=jr.value,Vo=Mo.groupIds.indexOf(K.state.editingGroupId);(0,I.DR)(Mo,{groupIds:Mo.groupIds.slice(0,Vo)},!1)}}catch(ko){uo.e(ko)}finally{uo.f()}Jr.forEach(function(ko){ko.groupIds.length&&(0,He.Fb)(Jr,ko.groupIds[ko.groupIds.length-1]).length<2&&(0,I.DR)(ko,{groupIds:[]},!1)}),K.setState({editingGroupId:null})}};if(Br&&!K.state.selectedElementIds[Br.id]){var Hr=qr.filter(function(Fr){return Fr.frameId!==Br.id&&(0,Cr.Qs)(Fr,Jr,K.state)});K.state.editingGroupId&&ro(Hr),Jr=(0,Cr.A_)(Jr,Hr,Br)}else if(!Br&&K.state.editingGroupId){var Lr=qr.filter(function(Fr){return Fr.frameId&&!(0,Cr.Qs)(Fr,Jr,K.state)});ro(Lr)}Jr=(0,Cr.Tq)(Jr,K.state,K),K.scene.replaceAllElements(Jr)}}if(it.type==="frame"){var io=(0,Cr.fj)(K.scene.getElementsIncludingDeleted(),it);K.scene.replaceAllElements((0,Cr.A_)(K.scene.getElementsIncludingDeleted(),io,it))}(0,I.DR)(it,(0,le.Qp)(it))}if(ct&&K.history.resumeRecording(),ct&&(0,le.QD)(ct)&&K.scene.replaceAllElements(K.scene.getElementsIncludingDeleted().filter(function(Fr){return Fr.id!==ct.id})),se.resize.isResizing){var Po,wo=(0,Cr.Tq)(K.scene.getElementsIncludingDeleted(),K.state,K),mo=K.scene.getSelectedElements(K.state).filter(function(Fr){return Fr.type==="frame"}),co=ni(mo);try{for(co.s();!(Po=co.n()).done;){var Co=Po.value;wo=(0,Cr.pr)(wo,(0,Cr.ni)(K.scene.getElementsIncludingDeleted(),Co,K.state),Co,K.state)}}catch(Fr){co.e(Fr)}finally{co.f()}K.scene.replaceAllElements(wo)}var eo=se.hit.element;if(((Ie=K.state.selectedLinearElement)===null||Ie===void 0?void 0:Ie.elementId)!==eo?.id&&(0,J.bt)(eo)&&K.scene.getSelectedElements(K.state).length===1&&K.setState({selectedLinearElement:new ce._(eo,K.scene)}),(0,j.EN)(K.state)){if((0,ke.LW)(K.lastPointerDownEvent.clientX,K.lastPointerDownEvent.clientY,K.lastPointerUpEvent.clientX,K.lastPointerUpEvent.clientY)===0){var Rr=(0,w.dE)({clientX:K.lastPointerUpEvent.clientX,clientY:K.lastPointerUpEvent.clientY},K.state);K.getElementsAtPosition(Rr.x,Rr.y).forEach(function(Fr){return se.elementIdsToErase[Fr.id]={erase:!0,opacity:Fr.opacity}})}K.eraseElements(se)}else{var xi;Object.keys(se.elementIdsToErase).length&&K.restoreReadyToEraseElements(se),eo&&!se.drag.hasOccurred&&!se.hit.wasAddedToSelection&&(!K.state.editingLinearElement||!se.boxSelection.hasOccurred)&&(ne.shiftKey&&!K.state.editingLinearElement?K.state.selectedElementIds[eo.id]?(0,He.zq)(K.state,eo)?K.setState(function(Fr){var jr,uo=tr({},Fr.selectedElementIds),Mo=ni(eo.groupIds.flatMap(function(Vo){return(0,He.Fb)(K.scene.getNonDeletedElements(),Vo)}));try{for(Mo.s();!(jr=Mo.n()).done;)delete uo[jr.value.id]}catch(Vo){Mo.e(Vo)}finally{Mo.f()}return{selectedGroupIds:tr(tr({},Fr.selectedElementIds),eo.groupIds.map(function(Vo){return(0,H.Z)({},Vo,!1)}).reduce(function(Vo,ko){return tr(tr({},Vo),ko)},{})),selectedElementIds:(0,wr.Oh)(uo,Fr)}}):(xi=K.state.selectedLinearElement)!==null&&xi!==void 0&&xi.isDragging||K.setState(function(Fr){var jr=tr({},Fr.selectedElementIds);delete jr[eo.id];var uo=(0,be.eD)(K.scene.getNonDeletedElements(),{selectedElementIds:jr});return tr(tr({},(0,He.bO)({editingGroupId:Fr.editingGroupId,selectedElementIds:jr},K.scene.getNonDeletedElements(),Fr,K)),{},{selectedLinearElement:uo.length===1&&(0,J.bt)(uo[0])?new ce._(uo[0],K.scene):Fr.selectedLinearElement})}):eo.frameId&&K.state.selectedElementIds[eo.frameId]?K.setState(function(Fr){var jr,uo,Mo=tr(tr({},Fr.selectedElementIds),{},(0,H.Z)({},eo.id,!0));return delete Mo[eo.frameId],((jr=(uo=K.scene.getElement(eo.frameId))===null||uo===void 0?void 0:uo.groupIds)!==null&&jr!==void 0?jr:[]).flatMap(function(Vo){return(0,He.Fb)(K.scene.getNonDeletedElements(),Vo)}).forEach(function(Vo){delete Mo[Vo.id]}),tr(tr({},(0,He.bO)({editingGroupId:Fr.editingGroupId,selectedElementIds:Mo},K.scene.getNonDeletedElements(),Fr,K)),{},{showHyperlinkPopup:!(!eo.link&&!(0,J.gs)(eo))&&"info"})}):K.setState(function(Fr){return{selectedElementIds:(0,wr.Oh)(tr(tr({},Fr.selectedElementIds),{},(0,H.Z)({},eo.id,!0)),Fr)}}):K.setState(function(Fr){var jr;return tr(tr({},(0,He.bO)({editingGroupId:Fr.editingGroupId,selectedElementIds:(0,H.Z)({},eo.id,!0)},K.scene.getNonDeletedElements(),Fr,K)),{},{selectedLinearElement:(0,J.bt)(eo)&&((jr=Fr.selectedLinearElement)===null||jr===void 0?void 0:jr.elementId)!==eo.id?new ce._(eo,K.scene):Fr.selectedLinearElement})})),se.drag.hasOccurred||K.state.isResizing||!(eo&&(0,le.wB)(eo,K.state,K.frameNameBoundsCache,se.origin.x,se.origin.y)||!eo&&se.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ot.locked&&Ot.type!=="freedraw"&&it&&it.type!=="selection"&&K.setState(function(Fr){return{selectedElementIds:(0,wr.Oh)(tr(tr({},Fr.selectedElementIds),{},(0,H.Z)({},it.id,!0)),Fr),showHyperlinkPopup:(0,J.gs)(it)&&!it.link?"editor":Fr.showHyperlinkPopup}}),(Ot.type!=="selection"||(0,be.N)(K.scene.getNonDeletedElements(),K.state))&&K.history.resumeRecording(),(se.drag.hasOccurred||Wt||tn)&&((0,P.N1)(K.state)?P.el:P.H)(K.scene.getSelectedElements(K.state)),Ot.type!=="laser"?(Ot.locked||Ot.type==="freedraw"?K.setState({draggingElement:null,suggestedBindings:[]}):((0,Vr.z8)(K.interactiveCanvas),K.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,w.Om)(K.state,{type:"selection"})})),eo&&K.lastPointerUpEvent&&K.lastPointerDownEvent&&K.lastPointerUpEvent.timeStamp-K.lastPointerDownEvent.timeStamp<300&&Oo.pointers.size<=1&&(0,J.gs)(eo)&&K.isEmbeddableCenter(eo,K.lastPointerUpEvent,se.origin.x,se.origin.y)&&K.handleEmbeddableCenterClick(eo)):K.laserPathManager.endPath()):K.state.editingLinearElement?K.setState({editingLinearElement:null}):K.setState({selectedElementIds:(0,wr.Oh)({},K.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(se){if(!(se.length>50)){var K=(0,P.ZB)(se);this.setState({suggestedBindings:K})}}},{key:"clearSelection",value:function(se){this.setState(function(K){return{selectedElementIds:(0,wr.Oh)({},K),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:K.editingGroupId&&se!=null&&(0,He.Nd)(se,K.editingGroupId)?K.editingGroupId:null}}),this.setState({selectedElementIds:(0,wr.Oh)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(se,K,ne,Ie){if(Ie){var Ne=Ie.x+Ie.width/2,Be=Ie.y+Ie.height/2,nt=(0,Et.TP)(Ie,ne);if(nt&&(Ne=nt.x,Be=nt.y),Math.hypot(se-Ne,K-Be)<f.wZ){var it=(0,w._i)({sceneX:Ne,sceneY:Be},ne);return{viewportX:it.x,viewportY:it.y,elementCenterX:Ne,elementCenterY:Be}}}}},{key:"getCanvasOffsets",value:function(){var se;if((se=this.excalidrawContainerRef)!==null&&se!==void 0&&se.current){var K=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:K.left,offsetTop:K.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(i=(0,p.Z)(m().mark(function se(){var K,ne=this;return m().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return K=L.Mj.find(function(Ne){return Ne.code===ne.props.langCode})||L.Fp,Ie.next=3,(0,L.m0)(K);case 3:this.setAppState({});case 4:case"end":return Ie.stop()}},se,this)})),function(){return i.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){kl=!1}}]),xe}(Q().Component);To.defaultProps={UIOptions:f.cW};var Ns=function(){var Z=this;this.interactiveCanvas=null,this.unmounted=!1,this.device=Ra,this.excalidrawContainerRef=Q().createRef(),this.files={},this.imageCache=new Map,this.iFrameRefs=new Map,this.lastPointerDownEvent=null,this.lastPointerUpEvent=null,this.lastViewportPosition={x:0,y:0},this.laserPathManager=new Oi(this),this.onChangeEmitter=new fi,this.onPointerDownEmitter=new fi,this.onPointerUpEmitter=new fi,this.updateEmbeddables=function(){var i=new Map,O=!1;Z.scene.getNonDeletedElements().filter(function(W){if((0,J.gs)(W)&&(i.set(W.id,!0),W.validated==null)){O=!0;var oe=(0,d.xm)(W.link,Z.props.validateEmbeddable);(0,I.DR)(W,{validated:oe},!1),hi.R.delete(W)}return!1}),O&&Z.scene.informMutation(),Z.iFrameRefs.forEach(function(W,oe){i.has(oe)||Z.iFrameRefs.delete(oe)})},this.getFrameNameDOMId=function(i){return"".concat(Z.id,"-frame-name-").concat(i.id)},this.frameNameBoundsCache={get:function(i){var O=Z.frameNameBoundsCache._cache.get(i.id);if(!O||O.zoom!==Z.state.zoom.value||O.versionNonce!==i.versionNonce){var W=document.getElementById(Z.getFrameNameDOMId(i));if(W){var oe=W.getBoundingClientRect(),xe=(0,w.dE)({clientX:oe.x,clientY:oe.y},Z.state),se=(0,w.dE)({clientX:oe.right,clientY:oe.bottom},Z.state);return O={x:xe.x,y:xe.y,width:se.x-xe.x,height:se.y-xe.y,angle:0,zoom:Z.state.zoom.value,versionNonce:i.versionNonce},Z.frameNameBoundsCache._cache.set(i.id,O),O}return null}return O},_cache:new Map},this.renderFrameNames=function(){if(!Z.state.frameRendering.enabled||!Z.state.frameRendering.name)return null;var i=Z.state.theme==="dark";return Z.scene.getNonDeletedFrames().map(function(O,W){if(!(0,De.PZ)(O,Z.canvas.width/window.devicePixelRatio,Z.canvas.height/window.devicePixelRatio,{offsetLeft:Z.state.offsetLeft,offsetTop:Z.state.offsetTop,scrollX:Z.state.scrollX,scrollY:Z.state.scrollY,zoom:Z.state.zoom}))return null;var oe,xe=(0,w._i)({sceneX:O.x,sceneY:O.y},Z.state),se=xe.x,K=xe.y,ne=function(){var Ne;((Ne=O.name)===null||Ne===void 0?void 0:Ne.trim())===""&&(0,I.DR)(O,{name:null}),Z.setState({editingFrame:null})};if(O.id===Z.state.editingFrame){var Ie=O.name==null?"Frame ".concat(W+1):O.name;oe=(0,r.jsx)("input",{autoFocus:!0,value:Ie,onChange:function(Ne){(0,I.DR)(O,{name:Ne.target.value})},onBlur:function(){return ne()},onKeyDown:function(Ne){Ne.key!==F.tW.ESCAPE&&Ne.key!==F.tW.ENTER||ne()},style:{background:Z.state.viewBackgroundColor,filter:i?f.ZF:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:"translate(-".concat(6,"px, ").concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(document.body.clientWidth-se-6,"px")},size:Ie.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else oe=O.name==null||O.name.trim()===""?"Frame ".concat(W+1):O.name.trim();return(0,r.jsx)("div",{id:Z.getFrameNameDOMId(O),style:{position:"absolute",bottom:"".concat(Z.state.height+f.iG.nameOffsetY-K+Z.state.offsetTop,"px"),left:"".concat(se-Z.state.offsetLeft,"px"),zIndex:2,fontSize:f.iG.nameFontSize,color:i?f.iG.nameColorDarkTheme:f.iG.nameColorLightTheme,lineHeight:f.iG.nameLineHeight,width:"max-content",maxWidth:"".concat(O.width,"px"),overflow:O.id===Z.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:f.oc.MOVE,pointerEvents:Z.state.viewModeEnabled?f.XI.disabled:f.XI.enabled},onPointerDown:function(Ne){return Z.handleCanvasPointerDown(Ne)},onWheel:function(Ne){return Z.handleWheel(Ne)},onContextMenu:Z.handleCanvasContextMenu,onDoubleClick:function(){Z.setState({editingFrame:O.id})},children:oe},O.id)})},this.focusContainer=function(){var i;(i=Z.excalidrawContainerRef.current)===null||i===void 0||i.focus()},this.getSceneElementsIncludingDeleted=function(){return Z.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return Z.scene.getNonDeletedElements()},this.onInsertElements=function(i){Z.addElementsFromPasteOrLibrary({elements:i,position:"center",files:null})},this.onExportImage=function(){var i=(0,p.Z)(m().mark(function O(W,oe,xe){var se;return m().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return(0,c.L)("export",W,"ui"),K.next=3,(0,A.p1)(W,oe,Z.state,Z.files,{exportBackground:Z.state.exportBackground,name:Z.state.name,viewBackgroundColor:Z.state.viewBackgroundColor,exportingFrame:xe.exportingFrame}).catch(w.FG).catch(function(ne){console.error(ne),Z.setState({errorMessage:ne.message})});case 3:se=K.sent,Z.state.exportEmbedScene&&se&&(0,an.g8)(se)&&Z.setState({fileHandle:se});case 5:case"end":return K.stop()}},O)}));return function(O,W,oe){return i.apply(this,arguments)}}(),this.openEyeDropper=function(i){var O=i.type;Qi.e_.set(Ia.$,{swapPreviewOnAlt:!0,colorPickerType:O==="stroke"?"elementStroke":"elementBackground",onSelect:function(W,oe){var xe=O==="background"&&oe.altKey||O==="stroke"&&!oe.altKey;Z.scene.getSelectedElements(Z.state).length&&Z.state.activeTool.type==="selection"?Z.updateScene({elements:Z.scene.getElementsIncludingDeleted().map(function(se){return Z.state.selectedElementIds[se.id]?(0,I.BE)(se,(0,H.Z)({},xe?"strokeColor":"backgroundColor",W)):se})}):xe?Z.syncActionResult({appState:tr(tr({},Z.state),{},{currentItemStrokeColor:W}),commitToHistory:!0}):Z.syncActionResult({appState:tr(tr({},Z.state),{},{currentItemBackgroundColor:W}),commitToHistory:!0})},keepOpenOnAlt:!1})},this.syncActionResult=(0,w.tH)(function(i){if(!Z.unmounted&&i!==!1){var O=null;if(i.elements&&(i.elements.forEach(function(Rt){var Lt;((Lt=Z.state.editingElement)===null||Lt===void 0?void 0:Lt.id)===Rt.id&&Z.state.editingElement!==Rt&&(0,le.qP)(Rt)&&(O=Rt)}),Z.scene.replaceAllElements(i.elements),i.commitToHistory&&Z.history.resumeRecording()),i.files&&(Z.files=i.replaceFiles?i.files:tr(tr({},Z.files),i.files),Z.addNewImagesToImageCache()),i.appState||O||Z.state.contextMenu){var W,oe,xe,se,K,ne,Ie,Ne,Be,nt;i.commitToHistory&&Z.history.resumeRecording();var it=(i==null||(W=i.appState)===null||W===void 0?void 0:W.viewModeEnabled)||!1,ct=(i==null||(oe=i.appState)===null||oe===void 0?void 0:oe.zenModeEnabled)||!1,kt=(i==null||(xe=i.appState)===null||xe===void 0?void 0:xe.gridSize)||null,Ot=(i==null||(se=i.appState)===null||se===void 0?void 0:se.theme)||Z.props.theme||f.C6.LIGHT,Wt=(K=i==null||(ne=i.appState)===null||ne===void 0?void 0:ne.name)!==null&&K!==void 0?K:Z.state.name,tn=(Ie=i==null||(Ne=i.appState)===null||Ne===void 0?void 0:Ne.errorMessage)!==null&&Ie!==void 0?Ie:Z.state.errorMessage;Z.props.viewModeEnabled!==void 0&&(it=Z.props.viewModeEnabled),Z.props.zenModeEnabled!==void 0&&(ct=Z.props.zenModeEnabled),Z.props.gridModeEnabled!==void 0&&(kt=Z.props.gridModeEnabled?f.k:null),Z.props.name!==void 0&&(Wt=Z.props.name),(nt=O=O||((Be=i.appState)===null||Be===void 0?void 0:Be.editingElement)||null)!==null&&nt!==void 0&&nt.isDeleted&&(O=null),Z.setState(function(Rt){return Object.assign(i.appState||{},{contextMenu:null,editingElement:O,viewModeEnabled:it,zenModeEnabled:ct,gridSize:kt,theme:Ot,name:Wt,errorMessage:tn})},function(){i.syncHistory&&Z.history.setCurrentState(Z.state,Z.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,w.tH)(function(){ka=!1,Z.setState({isBindingEnabled:!0})}),this.onUnload=function(){Z.onBlur()},this.disableEvent=function(i){i.preventDefault()},this.resetHistory=function(){Z.history.clear()},this.resetScene=(0,w.tH)(function(i){Z.scene.replaceAllElements([]),Z.setState(function(O){return tr(tr({},(0,j.im)()),{},{isLoading:(i==null||!i.resetLoadingState)&&O.isLoading,theme:Z.state.theme})}),Z.resetHistory()}),this.initializeScene=(0,p.Z)(m().mark(function i(){var O,W,oe,xe,se;return m().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var ne=(0,p.Z)(m().mark(function Ie(Ne){var Be,nt;return m().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(Ne.files.length){it.next=2;break}return it.abrupt("return");case 2:return Be=Ne.files[0],it.next=5,Be.getFile();case 5:nt=it.sent,Z.loadFileToCanvas(new File([nt],nt.name||"",{type:nt.type}),Be);case 7:case"end":return it.stop()}},Ie)}));return function(Ie){return ne.apply(this,arguments)}}()),Z.props.theme&&Z.setState({theme:Z.props.theme}),Z.state.isLoading||Z.setState({isLoading:!0}),oe=null,K.prev=4,K.next=7,Z.props.initialData;case 7:if(K.t0=K.sent,K.t0){K.next=10;break}K.t0=null;case 10:oe=K.t0,(xe=oe)!==null&&xe!==void 0&&xe.libraryItems&&Z.library.updateLibrary({libraryItems:oe.libraryItems,merge:!0}).catch(function(ne){console.error(ne)}),K.next=18;break;case 14:K.prev=14,K.t1=K.catch(4),console.error(K.t1),oe={appState:{errorMessage:K.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(se=(0,ie.nu)(oe,null,null,{repairBindings:!0})).appState=tr(tr({},se.appState),{},{theme:Z.props.theme||se.appState.theme,openSidebar:((O=se.appState)===null||O===void 0?void 0:O.openSidebar)||Z.state.openSidebar,activeTool:se.appState.activeTool.type==="image"?tr(tr({},se.appState.activeTool),{},{type:"selection"}):se.appState.activeTool,isLoading:!1,toast:Z.state.toast}),(W=oe)!==null&&W!==void 0&&W.scrollToContent&&(se.appState=tr(tr({},se.appState),(0,be.W)(se.elements,tr(tr({},se.appState),{},{width:Z.state.width,height:Z.state.height,offsetTop:Z.state.offsetTop,offsetLeft:Z.state.offsetLeft})))),Z.fonts.loadFontsForElements(se.elements),Z.resetHistory(),Z.syncActionResult(tr(tr({},se),{},{commitToHistory:!0}));case 24:case"end":return K.stop()}},i,null,[[4,14]])})),this.isMobileBreakpoint=function(i,O){return i<f.kV||O<f.Yx&&i<f.sS},this.refreshViewportBreakpoints=function(){if(Z.excalidrawContainerRef.current){var i=document.body,O=i.clientWidth,W=i.clientHeight,oe=Z.device.viewport,xe=(0,w.v4)(oe,{isLandscape:O>W,isMobile:Z.isMobileBreakpoint(O,W)});return oe!==xe&&(Z.device=tr(tr({},Z.device),{},{viewport:xe}),!0)}},this.refreshEditorBreakpoints=function(){var i=Z.excalidrawContainerRef.current;if(i){var O=i.getBoundingClientRect(),W=O.width,oe=O.height,xe=Z.props.UIOptions.dockedSidebarBreakpoint!=null?Z.props.UIOptions.dockedSidebarBreakpoint:f.sk,se=Z.device.editor,K=(0,w.v4)(se,{isMobile:Z.isMobileBreakpoint(W,oe),canFitSidebar:W>xe});return se!==K&&(Z.device=tr(tr({},Z.device),{},{editor:K}),!0)}},this.onResize=(0,w.tH)(function(){Z.scene.getElementsIncludingDeleted().forEach(function(i){return hi.R.delete(i)}),Z.refreshViewportBreakpoints(),Z.updateDOMRect(),Ds||Z.refreshEditorBreakpoints(),Z.setState({})}),this.renderInteractiveSceneCallback=function(i){var O=i.atLeastOneVisibleElement,W=i.scrollBars,oe=i.elements;W&&(gs=W);var xe=!(0,le.iB)(Z.state.editingElement)&&!O&&oe.length>0;Z.state.scrolledOutside!==xe&&Z.setState({scrolledOutside:xe}),Z.scheduleImageRefresh()},this.onScroll=(0,w.Ds)(function(){var i=Z.getCanvasOffsets(),O=i.offsetTop,W=i.offsetLeft;Z.setState(function(oe){return oe.offsetLeft===W&&oe.offsetTop===O?null:{offsetTop:O,offsetLeft:W}})},f.HM),this.onCut=(0,w.tH)(function(i){var O;!((O=Z.excalidrawContainerRef.current)===null||O===void 0)&&O.contains(document.activeElement)&&!(0,w.s)(i.target)&&(Z.actionManager.executeAction(G.ZM,"keyboard",i),i.preventDefault(),i.stopPropagation())}),this.onCopy=(0,w.tH)(function(i){var O;!((O=Z.excalidrawContainerRef.current)===null||O===void 0)&&O.contains(document.activeElement)&&!(0,w.s)(i.target)&&(Z.actionManager.executeAction(G.uN,"keyboard",i),i.preventDefault(),i.stopPropagation())}),this.onTouchStart=function(i){if(f.Dt||i.preventDefault(),!kl)return kl=!0,clearTimeout(za),void(za=window.setTimeout(To.resetTapTwice,f.Gj));if(kl&&i.touches.length===1){var O=i.touches[0];Z.handleCanvasDoubleClick({clientX:O.clientX,clientY:O.clientY}),kl=!1,clearTimeout(za)}f.Dt&&i.preventDefault(),i.touches.length===2&&Z.setState({selectedElementIds:(0,wr.Oh)({},Z.state),activeEmbeddable:null})},this.onTouchEnd=function(i){Z.resetContextMenuTimer(),i.touches.length>0?Z.setState({previousSelectedElementIds:{},selectedElementIds:(0,wr.Oh)(Z.state.previousSelectedElementIds,Z.state)}):Oo.pointers.clear()},this.pasteFromClipboard=(0,w.tH)(function(){var i=(0,p.Z)(m().mark(function O(W){var oe,xe,se,K,ne,Ie,Ne,Be,nt,it,ct,kt,Ot,Wt,tn,Rt,Lt;return m().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:if(se=!!Gi,K=document.activeElement,ne=(oe=Z.excalidrawContainerRef.current)===null||oe===void 0?void 0:oe.contains(K),!W||ne){Ut.next=5;break}return Ut.abrupt("return");case 5:if(Ie=document.elementFromPoint(Z.lastViewportPosition.x,Z.lastViewportPosition.y),!W||Ie instanceof HTMLCanvasElement&&!(0,w.s)(K)){Ut.next=8;break}return Ut.abrupt("return");case 8:return Ne=(0,w.dE)({clientX:Z.lastViewportPosition.x,clientY:Z.lastViewportPosition.y},Z.state),Be=Ne.x,nt=Ne.y,it=W==null||(xe=W.clipboardData)===null||xe===void 0?void 0:xe.files[0],Ut.next=12,(0,C.mQ)(W,se);case 12:if(ct=Ut.sent,it||se){Ut.next=19;break}if(!ct.mixedContent){Ut.next=18;break}return Ut.abrupt("return",Z.addElementsFromMixedContentPaste(ct.mixedContent,{isPlainPaste:se,sceneX:Be,sceneY:nt}));case 18:ct.text&&(kt=ct.text.trim()).startsWith("<svg")&&kt.endsWith("</svg>")&&(it=(0,an.Pn)(kt));case 19:if(!(0,an.Wr)(it)||ct.spreadsheet){Ut.next=28;break}if(Z.isToolSupported("image")){Ut.next=23;break}return Z.setState({errorMessage:(0,L.t)("errors.imageToolNotSupported")}),Ut.abrupt("return");case 23:return Ot=Z.createImageElement({sceneX:Be,sceneY:nt}),Z.insertImageElement(Ot,it),Z.initializeImageDimensions(Ot),Z.setState({selectedElementIds:(0,wr.Oh)((0,H.Z)({},Ot.id,!0),Z.state)}),Ut.abrupt("return");case 28:if(!Z.props.onPaste){Ut.next=40;break}return Ut.prev=29,Ut.next=32,Z.props.onPaste(ct,W);case 32:if(Ut.t0=Ut.sent,Ut.t0!==!1){Ut.next=35;break}return Ut.abrupt("return");case 35:Ut.next=40;break;case 37:Ut.prev=37,Ut.t1=Ut.catch(29),console.error(Ut.t1);case 40:if(!ct.errorMessage){Ut.next=44;break}Z.setState({errorMessage:ct.errorMessage}),Ut.next=60;break;case 44:if(!ct.spreadsheet||se){Ut.next=48;break}Z.setState({pasteDialog:{data:ct.spreadsheet,shown:!0}}),Ut.next=60;break;case 48:if(!ct.elements){Ut.next=53;break}Wt=ct.programmaticAPI?(0,Qt.w)(ct.elements):ct.elements,Z.addElementsFromPasteOrLibrary({elements:Wt,files:ct.files||null,position:"cursor",retainSeed:se}),Ut.next=60;break;case 53:if(!ct.text){Ut.next=60;break}if(Rt=(0,d.eX)(ct.text),se||!(0,d.xm)(Rt,Z.props.validateEmbeddable)||!/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(Rt)&&((tn=(0,d.LM)(Rt))===null||tn===void 0?void 0:tn.type)!=="video"){Ut.next=59;break}return(Lt=Z.insertEmbeddableElement({sceneX:Be,sceneY:nt,link:(0,ra.$u)(Rt)}))&&Z.setState({selectedElementIds:(0,H.Z)({},Lt.id,!0)}),Ut.abrupt("return");case 59:Z.addTextFromPaste(ct.text,se);case 60:Z.setActiveTool({type:"selection"}),W?.preventDefault();case 62:case"end":return Ut.stop()}},O,null,[[29,37]])}));return function(O){return i.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(i){var O=(0,ie.ET)(i.elements,null,void 0),W=(0,le.KP)(O),oe=(0,_.Z)(W,4),xe=oe[0],se=oe[1],K=oe[2],ne=oe[3],Ie=(0,w.TE)(xe,K)/2,Ne=(0,w.TE)(se,ne)/2,Be=(0,e.Z)(i.position)==="object"?i.position.clientX:i.position==="cursor"?Z.lastViewportPosition.x:Z.state.width/2+Z.state.offsetLeft,nt=(0,e.Z)(i.position)==="object"?i.position.clientY:i.position==="cursor"?Z.lastViewportPosition.y:Z.state.height/2+Z.state.offsetTop,it=(0,w.dE)({clientX:Be,clientY:nt},Z.state),ct=it.x-Ie,kt=it.y-Ne,Ot=(0,ke.wC)(ct,kt,Z.state.gridSize),Wt=(0,_.Z)(Ot,2),tn=Wt[0],Rt=Wt[1],Lt=(0,de._N)(O.map(function(vn){return(0,I.BE)(vn,{x:vn.x+tn-xe,y:vn.y+Rt-se})}),{randomizeSeed:!i.retainSeed}),Ut=[].concat((0,g.Z)(Z.scene.getElementsIncludingDeleted()),(0,g.Z)(Lt));Z.scene.replaceAllElements(Ut),Lt.forEach(function(vn){if((0,le.iB)(vn)&&(0,J.Xh)(vn)){var cn=(0,Et.tl)(vn);(0,le.oN)(vn,cn)}}),i.files&&(Z.files=tr(tr({},Z.files),i.files)),Z.history.resumeRecording();var on=(0,wr.aI)(Lt);Z.setState(tr(tr({},Z.state),{},{openSidebar:Z.state.openSidebar&&Z.device.editor.canFitSidebar&&Qi.e_.get(Dl.t6)?Z.state.openSidebar:null},(0,He.bO)({editingGroupId:null,selectedElementIds:on.reduce(function(vn,cn){return(0,J.Xh)(cn)||(vn[cn.id]=!0),vn},{})},Z.scene.getNonDeletedElements(),Z.state,Z)),function(){i.files&&Z.addNewImagesToImageCache()}),Z.setActiveTool({type:"selection"}),i.fitToContent&&Z.scrollToContent(Lt,{fitToContent:!0})},this.setAppState=function(i,O){Z.setState(i,O)},this.removePointer=function(i){Di&&Z.resetContextMenuTimer(),Oo.pointers.delete(i.pointerId)},this.toggleLock=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";Z.state.activeTool.locked||(0,c.L)("toolbar","toggleLock","".concat(i," (").concat(Z.device.editor.isMobile?"mobile":"desktop",")")),Z.setState(function(O){return{activeTool:tr(tr(tr({},O.activeTool),(0,w.Om)(Z.state,O.activeTool.locked?{type:"selection"}:O.activeTool)),{},{locked:!O.activeTool.locked})}})},this.updateFrameRendering=function(i){Z.setState(function(O){var W,oe,xe,se,K=typeof i=="function"?i(O.frameRendering):i;return{frameRendering:{enabled:(W=K?.enabled)!==null&&W!==void 0?W:O.frameRendering.enabled,clip:(oe=K?.clip)!==null&&oe!==void 0?oe:O.frameRendering.clip,name:(xe=K?.name)!==null&&xe!==void 0?xe:O.frameRendering.name,outline:(se=K?.outline)!==null&&se!==void 0?se:O.frameRendering.outline}}})},this.togglePenMode=function(i){Z.setState(function(O){return{penMode:i??!O.penMode,penDetected:!0}})},this.onHandToolToggle=function(){Z.actionManager.executeAction(Gl.eF)},this.zoomCanvas=function(i){Z.setState(tr({},(0,D.E)({viewportX:Z.state.width/2+Z.state.offsetLeft,viewportY:Z.state.height/2+Z.state.offsetTop,nextZoom:(0,be.j)(i)},Z.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var i,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z.scene.getNonDeletedElements(),W=arguments.length>1?arguments[1]:void 0;(i=Z.cancelInProgresAnimation)===null||i===void 0||i.call(Z);var oe=Array.isArray(O)?O:[O],xe=Z.state.zoom,se=Z.state.scrollX,K=Z.state.scrollY;if(W!=null&&W.fitToContent||W!=null&&W.fitToViewport){var ne=(0,Gl.JB)({targetElements:oe,appState:Z.state,fitToViewport:!(W==null||!W.fitToViewport),viewportZoomFactor:W?.viewportZoomFactor}),Ie=ne.appState;xe=Ie.zoom,se=Ie.scrollX,K=Ie.scrollY}else{var Ne=(0,be.W)(oe,Z.state);se=Ne.scrollX,K=Ne.scrollY}if(W!=null&&W.animate){var Be,nt=Z.state.scrollX,it=Z.state.scrollY,ct=Z.state.zoom.value,kt=(0,w.B4)({fromValues:{scrollX:nt,scrollY:it,zoom:ct},toValues:{scrollX:se,scrollY:K,zoom:xe.value},interpolateValue:function(Ot,Wt,tn,Rt){if(Rt==="zoom")return Ot*Math.pow(Wt/Ot,(0,w.Vv)(tn))},onStep:function(Ot){var Wt=Ot.scrollX,tn=Ot.scrollY,Rt=Ot.zoom;Z.setState({scrollX:Wt,scrollY:tn,zoom:{value:Rt}})},onStart:function(){Z.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){Z.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){Z.setState({shouldCacheIgnoreZoom:!1})},duration:(Be=W?.duration)!==null&&Be!==void 0?Be:500});Z.cancelInProgresAnimation=function(){kt(),Z.cancelInProgresAnimation=null}}else Z.setState({scrollX:se,scrollY:K,zoom:xe})},this.translateCanvas=function(i){var O;(O=Z.cancelInProgresAnimation)===null||O===void 0||O.call(Z),Z.setState(i)},this.setToast=function(i){Z.setState({toast:i})},this.restoreFileFromShare=(0,p.Z)(m().mark(function i(){var O,W,oe,xe;return m().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.prev=0,se.next=3,caches.open("web-share-target");case 3:return O=se.sent,se.next=6,O.match("shared-file");case 6:if(!(W=se.sent)){se.next=16;break}return se.next=10,W.blob();case 10:return oe=se.sent,xe=new File([oe],oe.name||"",{type:oe.type}),Z.loadFileToCanvas(xe,null),se.next=15,O.delete("shared-file");case 15:window.history.replaceState(null,f.iC,window.location.pathname);case 16:se.next=21;break;case 18:se.prev=18,se.t0=se.catch(0),Z.setState({errorMessage:se.t0.message});case 21:case"end":return se.stop()}},i,null,[[0,18]])})),this.addFiles=(0,w.tH)(function(i){var O=i.reduce(function(W,oe){return W.set(oe.id,oe),W},new Map);Z.files=tr(tr({},Z.files),Object.fromEntries(O)),Z.scene.getNonDeletedElements().forEach(function(W){(0,J.wi)(W)&&O.has(W.fileId)&&(Z.imageCache.delete(W.fileId),hi.R.delete(W))}),Z.scene.informMutation(),Z.addNewImagesToImageCache()}),this.updateScene=(0,w.tH)(function(i){i.commitToHistory&&Z.history.resumeRecording(),i.appState&&Z.setState(i.appState),i.elements&&Z.scene.replaceAllElements(i.elements),i.collaborators&&Z.setState({collaborators:i.collaborators})}),this.onSceneUpdated=function(){Z.setState({})},this.toggleSidebar=function(i){var O,W,oe=i.name,xe=i.tab,se=i.force;return se===void 0?O=((W=Z.state.openSidebar)===null||W===void 0?void 0:W.name)===oe?null:oe:O=se?oe:null,Z.setState({openSidebar:O?{name:O,tab:xe}:null}),!!O},this.updateCurrentCursorPosition=(0,w.tH)(function(i){Z.lastViewportPosition.x=i.clientX,Z.lastViewportPosition.y=i.clientY}),this.onKeyDown=(0,w.tH)(function(i){if("Proxy"in window&&(!i.shiftKey&&/^[A-Z]$/.test(i.key)||i.shiftKey&&/^[a-z]$/.test(i.key))&&(i=new Proxy(i,{get:function(tn,Rt){var Lt=tn[Rt];return typeof Lt=="function"?Lt.bind(tn):Rt==="key"?i.shiftKey?tn.key.toUpperCase():tn.key.toLowerCase():Lt}})),i[F.tW.CTRL_OR_CMD]&&i.key.toLowerCase()===F.tW.V&&(Gi=i.shiftKey,clearTimeout(Ls),Ls=window.setTimeout(function(){Gi=!1},100)),!i[F.tW.CTRL_OR_CMD]||!(0,w.s)(i.target)||i.code!==F.aU.MINUS&&i.code!==F.aU.EQUAL){if(!((0,w.s)(i.target)&&i.key!==F.tW.ESCAPE||(0,F.Wl)(i.key)&&(0,w._Z)(i.target)))if(i.key!==F.tW.QUESTION_MARK){if(i.key.toLowerCase()===F.tW.E&&i.shiftKey&&i[F.tW.CTRL_OR_CMD])return i.preventDefault(),void Z.setState({openDialog:"imageExport"});if(i.key===F.tW.PAGE_UP||i.key===F.tW.PAGE_DOWN){var O=(i.shiftKey?Z.state.width:Z.state.height)/Z.state.zoom.value;i.key===F.tW.PAGE_DOWN&&(O=-O),i.shiftKey?Z.translateCanvas(function(tn){return{scrollX:tn.scrollX+O}}):Z.translateCanvas(function(tn){return{scrollY:tn.scrollY+O}})}if(!Z.actionManager.handleKeyDown(i)&&!Z.state.viewModeEnabled){if(i[F.tW.CTRL_OR_CMD]&&Z.state.isBindingEnabled&&Z.setState({isBindingEnabled:!1}),(0,F.Wl)(i.key)){var W=Z.state.gridSize&&(i.shiftKey?f.$e:Z.state.gridSize)||(i.shiftKey?f.Iw:f.$e),oe=0,xe=0;i.key===F.tW.ARROW_LEFT?oe=-W:i.key===F.tW.ARROW_RIGHT?oe=W:i.key===F.tW.ARROW_UP?xe=-W:i.key===F.tW.ARROW_DOWN&&(xe=W);var se=Z.scene.getSelectedElements({selectedElementIds:Z.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});se.forEach(function(tn){(0,I.DR)(tn,{x:tn.x+oe,y:tn.y+xe}),(0,P.Ww)(tn,{simultaneouslyUpdated:se})}),Z.maybeSuggestBindingForAll(se),i.preventDefault()}else if(i.key===F.tW.ENTER){var K=Z.scene.getSelectedElements(Z.state);if(K.length===1){var ne=K[0];if(i[F.tW.CTRL_OR_CMD])(0,J.bt)(ne)&&(Z.state.editingLinearElement&&Z.state.editingLinearElement.elementId===K[0].id||(Z.history.resumeRecording(),Z.setState({editingLinearElement:new ce._(ne,Z.scene)})));else{if((0,le.iB)(ne)||(0,Et.Zr)(ne)){var Ie;(0,le.iB)(ne)||(Ie=ne);var Ne=(0,Et.TP)(ne,Z.state),Be=Ne.x,nt=Ne.y;return Z.startTextEditing({sceneX:Be,sceneY:nt,container:Ie}),void i.preventDefault()}(0,J.He)(ne)&&Z.setState({editingFrame:ne.id})}}}else if(!i.ctrlKey&&!i.altKey&&!i.metaKey&&Z.state.draggingElement===null){var it=function(tn){var Rt=l.find(function(Lt,Ut){return Lt.numericKey!=null&&tn===Lt.numericKey.toString()||Lt.key&&(typeof Lt.key=="string"?Lt.key===tn:Lt.key.includes(tn))});return Rt?.value||null}(i.key);it?(Z.state.activeTool.type!==it&&(0,c.L)("toolbar",it,"keyboard (".concat(Z.device.editor.isMobile?"mobile":"desktop",")")),Z.setActiveTool({type:it}),i.stopPropagation()):i.key===F.tW.Q&&(Z.toggleLock("keyboard"),i.stopPropagation())}if(i.key===F.tW.SPACE&&Oo.pointers.size===0&&(ka=!0,(0,Vr.KJ)(Z.interactiveCanvas,f.oc.GRAB),i.preventDefault()),!(i.key!==F.tW.G&&i.key!==F.tW.S||i.altKey||i[F.tW.CTRL_OR_CMD])){var ct=Z.scene.getSelectedElements(Z.state);if(Z.state.activeTool.type==="selection"&&!ct.length)return;i.key===F.tW.G&&((0,be.$b)(Z.state.activeTool.type)||ct.some(function(tn){return(0,be.$b)(tn.type)}))&&(Z.setState({openPopup:"elementBackground"}),i.stopPropagation()),i.key===F.tW.S&&(Z.setState({openPopup:"elementStroke"}),i.stopPropagation())}if(i.key!==F.tW.K||i.altKey||i[F.tW.CTRL_OR_CMD]){!i[F.tW.CTRL_OR_CMD]||i.key!==F.tW.BACKSPACE&&i.key!==F.tW.DELETE||Qi.e_.set(Ii.w,"clearCanvas");var kt=i.key.toLocaleLowerCase(),Ot=kt===F.tW.S&&i.shiftKey,Wt=i.key===F.tW.I||kt===F.tW.G&&i.shiftKey;(Ot||Wt)&&Z.openEyeDropper({type:Ot?"stroke":"background"})}else Z.state.activeTool.type==="laser"?Z.setActiveTool({type:"selection"}):Z.setActiveTool({type:"laser"})}}else Z.setState({openDialog:"help"})}else i.preventDefault()}),this.onWheel=(0,w.tH)(function(i){i.target instanceof HTMLCanvasElement||!i.ctrlKey||i.preventDefault()}),this.onKeyUp=(0,w.tH)(function(i){if(i.key===F.tW.SPACE&&(Z.state.viewModeEnabled?(0,Vr.KJ)(Z.interactiveCanvas,f.oc.GRAB):Z.state.activeTool.type==="selection"?(0,Vr.z8)(Z.interactiveCanvas):((0,Vr.Uk)(Z.interactiveCanvas,Z.state),Z.setState({selectedElementIds:(0,wr.Oh)({},Z.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),ka=!1),i[F.tW.CTRL_OR_CMD]||Z.state.isBindingEnabled||Z.setState({isBindingEnabled:!0}),(0,F.Wl)(i.key)){var O=Z.scene.getSelectedElements(Z.state);(0,P.N1)(Z.state)?(0,P.el)(O):(0,P.H)(O),Z.setState({suggestedBindings:[]})}}),this.isToolSupported=function(i){var O;return((O=Z.props.UIOptions.tools)===null||O===void 0?void 0:O[i])!==!1},this.setActiveTool=function(i){if(Z.isToolSupported(i.type)){var O,W=(0,w.Om)(Z.state,i);W.type==="hand"?(0,Vr.KJ)(Z.interactiveCanvas,f.oc.GRAB):ka||(0,Vr.Uk)(Z.interactiveCanvas,Z.state),(0,w.wO)(document.activeElement)&&Z.focusContainer(),(0,J.dt)(W.type)||Z.setState({suggestedBindings:[]}),W.type==="image"&&Z.onImageAction({insertOnCanvasDirectly:(O=i.type==="image"&&i.insertOnCanvasDirectly)!==null&&O!==void 0&&O}),Z.setState(function(oe){var xe={snapLines:oe.snapLines.length?[]:oe.snapLines,originSnapOffset:null,activeEmbeddable:null};return W.type!=="selection"?tr(tr({},oe),{},{activeTool:W,selectedElementIds:(0,wr.Oh)({},oe),selectedGroupIds:(0,wr.Oh)({},oe),editingGroupId:null,multiElement:null},xe):tr(tr({},oe),{},{activeTool:W},xe)})}else console.warn('"'.concat(i.type,'" tool is disabled via "UIOptions.canvasActions.tools.').concat(i.type,'"'))},this.setOpenDialog=function(i){Z.setState({openDialog:i})},this.setCursor=function(i){(0,Vr.KJ)(Z.interactiveCanvas,i)},this.resetCursor=function(){(0,Vr.z8)(Z.interactiveCanvas)},this.isTouchScreenMultiTouchGesture=function(){return Oo.pointers.size>=2},this.onGestureStart=(0,w.tH)(function(i){i.preventDefault(),Z.isTouchScreenMultiTouchGesture()&&Z.setState({selectedElementIds:(0,wr.Oh)({},Z.state),activeEmbeddable:null}),Oo.initialScale=Z.state.zoom.value}),this.onGestureChange=(0,w.tH)(function(i){if(i.preventDefault(),!Z.isTouchScreenMultiTouchGesture()){var O=Oo.initialScale;O&&Z.setState(function(W){return tr({},(0,D.E)({viewportX:Z.lastViewportPosition.x,viewportY:Z.lastViewportPosition.y,nextZoom:(0,be.j)(O*i.scale)},W))})}}),this.onGestureEnd=(0,w.tH)(function(i){i.preventDefault(),Z.isTouchScreenMultiTouchGesture()&&Z.setState({previousSelectedElementIds:{},selectedElementIds:(0,wr.Oh)(Z.state.previousSelectedElementIds,Z.state)}),Oo.initialScale=null}),this.startTextEditing=function(i){var O,W,oe,xe,se=i.sceneX,K=i.sceneY,ne=i.insertAtParentCenter,Ie=ne===void 0||ne,Ne=i.container,Be=!1,nt=Ie&&Z.getTextWysiwygSnappedToCenterPosition(se,K,Z.state,Ne);Ne&&nt&&((0,Et.WJ)(Ne)||(Be=!0));var it=null,ct=Z.scene.getSelectedElements(Z.state),kt=((O=it=ct.length===1?(0,le.iB)(ct[0])?ct[0]:Ne?(0,Et.WJ)(ct[0]):Z.getTextElementAtPosition(se,K):Z.getTextElementAtPosition(se,K))===null||O===void 0?void 0:O.fontFamily)||Z.state.currentItemFontFamily,Ot=((W=it)===null||W===void 0?void 0:W.lineHeight)||(0,Et.PT)(kt),Wt=Z.state.currentItemFontSize;if(!it&&Be&&Ne&&!(0,J.Yv)(Ne)){var tn={fontSize:Wt,fontFamily:kt},Rt=(0,Et.AT)((0,w.mO)(tn),Ot),Lt=(0,Et.w_)(Wt,Ot),Ut=Math.max(Ne.height,Lt),on=Math.max(Ne.width,Rt);(0,I.DR)(Ne,{height:Ut,width:on}),se=Ne.x+on/2,K=Ne.y+Ut/2,nt&&(nt=Z.getTextWysiwygSnappedToCenterPosition(se,K,Z.state,Ne))}var vn=Z.getTopLayerFrameAtSceneCoords({x:se,y:K}),cn=it||(0,le.VL)({x:nt?nt.elementCenterX:se,y:nt?nt.elementCenterY:K,strokeColor:Z.state.currentItemStrokeColor,backgroundColor:Z.state.currentItemBackgroundColor,fillStyle:Z.state.currentItemFillStyle,strokeWidth:Z.state.currentItemStrokeWidth,strokeStyle:Z.state.currentItemStrokeStyle,roughness:Z.state.currentItemRoughness,opacity:Z.state.currentItemOpacity,text:"",fontSize:Wt,fontFamily:kt,textAlign:nt?"center":Z.state.currentItemTextAlign,verticalAlign:nt?f.oX.MIDDLE:f.hs,containerId:Be?Ne?.id:void 0,groupIds:(oe=Ne?.groupIds)!==null&&oe!==void 0?oe:[],lineHeight:Ot,angle:(xe=Ne?.angle)!==null&&xe!==void 0?xe:0,frameId:vn?vn.id:null});if(!it&&Be&&Ne&&(0,I.DR)(Ne,{boundElements:(Ne.boundElements||[]).concat({type:"text",id:cn.id})}),Z.setState({editingElement:cn}),!it)if(Ne&&Be){var nn=Z.scene.getElementIndex(Ne.id);Z.scene.insertElementAtIndex(cn,nn+1)}else Z.scene.addNewElement(cn);Z.setState({editingElement:cn}),Z.handleTextWysiwyg(cn,{isExistingElement:!!it})},this.handleCanvasDoubleClick=function(i){if(!Z.state.multiElement&&Z.state.activeTool.type==="selection"){var O=Z.scene.getSelectedElements(Z.state);if(O.length===1&&(0,J.bt)(O[0])){if(i[F.tW.CTRL_OR_CMD]&&(!Z.state.editingLinearElement||Z.state.editingLinearElement.elementId!==O[0].id))return Z.history.resumeRecording(),void Z.setState({editingLinearElement:new ce._(O[0],Z.scene)});if(Z.state.editingLinearElement&&Z.state.editingLinearElement.elementId===O[0].id)return}(0,Vr.z8)(Z.interactiveCanvas);var W=(0,w.dE)(i,Z.state),oe=W.x,xe=W.y;if((0,He.iJ)(Z.state).length>0){var se=Z.getElementAtPosition(oe,xe),K=se&&(0,He.YS)(se,Z.state.selectedGroupIds);if(K)return void Z.setState(function(Be){return tr(tr({},Be),(0,He.bO)({editingGroupId:K,selectedElementIds:(0,H.Z)({},se.id,!0)},Z.scene.getNonDeletedElements(),Be,Z))})}if((0,Vr.z8)(Z.interactiveCanvas),!i[F.tW.CTRL_OR_CMD]&&!Z.state.viewModeEnabled){var ne=Z.getElementAtPosition(oe,xe);if((0,J.gs)(ne))return void Z.setState({activeEmbeddable:{element:ne,state:"active"}});var Ie=(0,Et.OW)(Z.scene.getNonDeletedElements(),Z.state,oe,xe);if(Ie&&((0,J.Xo)(Ie)||!(0,w.Qm)(Ie.backgroundColor)||(0,$l.Qu)(Ie,Z.state,Z.frameNameBoundsCache,[oe,xe]))){var Ne=(0,Et.TP)(Ie,Z.state);oe=Ne.x,xe=Ne.y}Z.startTextEditing({sceneX:oe,sceneY:xe,insertAtParentCenter:!i.altKey,container:Ie})}}},this.getElementLinkAtPosition=function(i,O){var W=Z.scene.getNonDeletedElements().slice().reverse(),oe=1/0;return W.find(function(xe,se){return O&&xe.id===O.id&&(oe=se),xe.link&&se<=oe&&(0,wa.Ni)(xe,Z.state,[i.x,i.y],Z.device.editor.isMobile)})},this.redirectToLink=function(i,O){var W=(0,ke.LW)(Z.lastPointerDownEvent.clientX,Z.lastPointerDownEvent.clientY,Z.lastPointerUpEvent.clientX,Z.lastPointerUpEvent.clientY);if(!(!Z.hitLinkElement||O&&W>f.f||!O&&W!==0)){var oe=(0,w.dE)(Z.lastPointerDownEvent,Z.state),xe=(0,wa.Ni)(Z.hitLinkElement,Z.state,[oe.x,oe.y],Z.device.editor.isMobile),se=(0,w.dE)(Z.lastPointerUpEvent,Z.state),K=(0,wa.Ni)(Z.hitLinkElement,Z.state,[se.x,se.y],Z.device.editor.isMobile);if(xe&&K){var ne,Ie,Ne=Z.hitLinkElement.link;if(Ne&&(Ne=(0,ra.$u)(Ne),Z.props.onLinkOpen&&(Ie=(0,w.ag)(f.Ks.EXCALIDRAW_LINK,i.nativeEvent),Z.props.onLinkOpen(tr(tr({},Z.hitLinkElement),{},{link:Ne}),Ie)),(ne=Ie)===null||ne===void 0||!ne.defaultPrevented)){var Be=(0,ra.q$)(Ne)?"_self":"_blank",nt=window.open(void 0,Be);nt&&(nt.opener=null,nt.location=Ne)}}}},this.getTopLayerFrameAtSceneCoords=function(i){var O=Z.scene.getNonDeletedFrames().filter(function(W){return(0,Cr.Dn)(i,W)});return O.length?O[O.length-1]:null},this.handleCanvasPointerMove=function(i){Z.savePointer(i.clientX,i.clientY,Z.state.cursorButton),Oo.pointers.has(i.pointerId)&&Oo.pointers.set(i.pointerId,{x:i.clientX,y:i.clientY});var O=Oo.initialScale;if(Oo.pointers.size===2&&Oo.lastCenter&&O&&Oo.initialDistance){var W=ee(Oo.pointers),oe=W.x-Oo.lastCenter.x,xe=W.y-Oo.lastCenter.y;Oo.lastCenter=W;var se=he(Array.from(Oo.pointers.values())),K=Z.state.activeTool.type==="freedraw"&&Z.state.penMode?1:se/Oo.initialDistance,ne=K?(0,be.j)(O*K):Z.state.zoom.value;Z.setState(function(Po){var wo=(0,D.E)({viewportX:W.x,viewportY:W.y,nextZoom:ne},Po);Z.translateCanvas({zoom:wo.zoom,scrollX:wo.scrollX+oe/ne,scrollY:wo.scrollY+xe/ne,shouldCacheIgnoreZoom:!0})}),Z.resetShouldCacheIgnoreZoomDebounced()}else Oo.lastCenter=Oo.initialDistance=Oo.initialScale=null;if(!(ka||Ba||El||(0,j.l$)(Z.state))){var Ie=(0,be._4)(gs,i.clientX-Z.state.offsetLeft,i.clientY-Z.state.offsetTop).isOverEither;Z.state.draggingElement||Z.state.multiElement||(Ie?(0,Vr.z8)(Z.interactiveCanvas):(0,Vr.Uk)(Z.interactiveCanvas,Z.state));var Ne,Be=(0,w.dE)(i,Z.state),nt=Be.x,it=Be.y;if(Z.state.draggingElement||(Ne=Z.state.activeTool.type)!=="rectangle"&&Ne!=="ellipse"&&Ne!=="diamond"&&Ne!=="frame"&&Ne!=="image")Z.state.draggingElement||Z.setState({snapLines:[]});else{var ct=function(Po,wo,mo,co){if(!Wo({event:co,selectedElements:[],appState:wo}))return{originOffset:{x:0,y:0},snapLines:[]};var Co,eo=(0,wr.CF)(Po,[],wo),Rr=Ti(wo.zoom.value),xi={x:Rr,y:Rr},Fr=[],jr=[],uo=So(eo);try{for(uo.s();!(Co=uo.n()).done;){var Mo,Vo=Co.value,ko=So(Bi([Vo]));try{for(ko.s();!(Mo=ko.n()).done;){var Jo=Mo.value,fo=Jo[0]-mo.x;Math.abs(fo)<=Math.abs(xi.x)&&(Math.abs(fo)<Math.abs(xi.x)&&(jr.length=0),jr.push({type:"pointer",points:[Jo,[Jo[0],mo.y]],direction:"vertical"}),xi.x=fo);var lo=Jo[1]-mo.y;Math.abs(lo)<=Math.abs(xi.y)&&(Math.abs(lo)<Math.abs(xi.y)&&(Fr.length=0),Fr.push({type:"pointer",points:[Jo,[mo.x,Jo[1]]],direction:"horizontal"}),xi.y=lo)}}catch(Qo){ko.e(Qo)}finally{ko.f()}}}catch(Qo){uo.e(Qo)}finally{uo.f()}return{originOffset:{x:jr.length>0?jr[0].points[0][0]-mo.x:0,y:Fr.length>0?Fr[0].points[0][1]-mo.y:0},snapLines:[].concat(jr,Fr)}}(Z.scene.getNonDeletedElements(),Z.state,{x:nt,y:it},i),kt=ct.originOffset,Ot=ct.snapLines;Z.setState({snapLines:Ot,originSnapOffset:kt})}if(Z.state.editingLinearElement&&!Z.state.editingLinearElement.isDragging){var Wt=ce._.handlePointerMove(i,nt,it,Z.state);Wt&&Wt!==Z.state.editingLinearElement&&(0,ue.flushSync)(function(){Z.setState({editingLinearElement:Wt})}),Wt?.lastUncommittedPoint!=null?Z.maybeSuggestBindingAtCursor(Be):(0,ue.flushSync)(function(){Z.setState({suggestedBindings:[]})})}if((0,J.Lx)(Z.state.activeTool.type)){var tn=Z.state.draggingElement;(0,J.Mn)(tn,!1)?Z.maybeSuggestBindingsForLinearElementAtCoords(tn,[Be],Z.state.startBoundElement):Z.maybeSuggestBindingAtCursor(Be)}if(Z.state.multiElement){var Rt=Z.state.multiElement,Lt=Rt.x,Ut=Rt.y,on=Rt.points,vn=Rt.lastCommittedPoint,cn=on[on.length-1];if((0,Vr.Uk)(Z.interactiveCanvas,Z.state),cn===vn)(0,ke.LW)(nt-Lt,it-Ut,cn[0],cn[1])>=f.qx?(0,I.DR)(Rt,{points:[].concat((0,g.Z)(on),[[nt-Lt,it-Ut]])}):(0,Vr.KJ)(Z.interactiveCanvas,f.oc.POINTER);else if(on.length>2&&vn&&(0,ke.LW)(nt-Lt,it-Ut,vn[0],vn[1])<f.qx)(0,Vr.KJ)(Z.interactiveCanvas,f.oc.POINTER),(0,I.DR)(Rt,{points:on.slice(0,-1)});else{var nn,_n=(0,ke.wC)(nt,it,i[F.tW.CTRL_OR_CMD]?null:Z.state.gridSize),Xn=(0,_.Z)(_n,2),sr=Xn[0],yr=Xn[1],Mr=(nn=Rt?.lastCommittedPoint)!==null&&nn!==void 0?nn:[0,0],Dr=(0,_.Z)(Mr,2),br=Dr[0],xr=Dr[1],Sr=sr-Lt-br,kr=yr-Ut-xr;if((0,F.Ge)(i)){var Br=(0,le.o4)(br+Lt,xr+Ut,sr,yr);Sr=Br.width,kr=Br.height}(0,ke.g6)(on,Z.state.zoom.value)&&(0,Vr.KJ)(Z.interactiveCanvas,f.oc.POINTER),(0,I.DR)(Rt,{points:[].concat((0,g.Z)(on.slice(0,-1)),[[br+Sr,xr+kr]])})}}else if(!(i.buttons||Z.state.activeTool.type!=="selection"&&Z.state.activeTool.type!=="text"&&Z.state.activeTool.type!=="eraser")){var qr=Z.scene.getNonDeletedElements(),Jr=Z.scene.getSelectedElements(Z.state);if(Jr.length!==1||Ie||Z.state.editingLinearElement){if(Jr.length>1&&!Ie){var ro=(0,le.n2)((0,le.KP)(Jr),nt,it,Z.state.zoom,i.pointerType);if(ro)return void(0,Vr.KJ)(Z.interactiveCanvas,(0,le.Un)({transformHandleType:ro}))}}else{var Hr=(0,le.jt)(qr,Z.state,nt,it,Z.state.zoom,i.pointerType);if(Hr&&Hr.transformHandleType)return void(0,Vr.KJ)(Z.interactiveCanvas,(0,le.Un)(Hr))}var Lr=Z.getElementAtPosition(Be.x,Be.y);if(Z.hitLinkElement=Z.getElementLinkAtPosition(Be,Lr),!(0,j.EN)(Z.state))if(Z.hitLinkElement&&!Z.state.selectedElementIds[Z.hitLinkElement.id])(0,Vr.KJ)(Z.interactiveCanvas,f.oc.POINTER),(0,wa.Pp)(Z.hitLinkElement,Z.state);else if((0,wa.lV)(),Lr&&(Lr.link||(0,J.gs)(Lr))&&Z.state.selectedElementIds[Lr.id]&&!Z.state.contextMenu&&!Z.state.showHyperlinkPopup)Z.setState({showHyperlinkPopup:"info"});else if(Z.state.activeTool.type==="text")(0,Vr.KJ)(Z.interactiveCanvas,(0,le.iB)(Lr)?f.oc.TEXT:f.oc.CROSSHAIR);else if(Z.state.viewModeEnabled)(0,Vr.KJ)(Z.interactiveCanvas,f.oc.GRAB);else if(Ie)(0,Vr.KJ)(Z.interactiveCanvas,f.oc.AUTO);else if(Z.state.selectedLinearElement)Z.handleHoverSelectedLinearElement(Z.state.selectedLinearElement,nt,it);else if(i[F.tW.CTRL_OR_CMD])(0,Vr.KJ)(Z.interactiveCanvas,f.oc.AUTO);else{var io;(Lr||Z.isHittingCommonBoundingBoxOfSelectedElements(Be,Jr))&&(Lr==null||!Lr.locked)&&(Lr&&(0,J.gs)(Lr)&&Z.isEmbeddableCenter(Lr,i,nt,it)?((0,Vr.KJ)(Z.interactiveCanvas,f.oc.POINTER),Z.setState({activeEmbeddable:{element:Lr,state:"hover"}})):((0,Vr.KJ)(Z.interactiveCanvas,f.oc.MOVE),((io=Z.state.activeEmbeddable)===null||io===void 0?void 0:io.state)==="hover"&&Z.setState({activeEmbeddable:null})))}}}},this.handleEraser=function(i,O,W){for(var oe=function(ct){ct.forEach(function(kt){kt.locked||(xe.push(kt.id),i.altKey?O.elementIdsToErase[kt.id]&&O.elementIdsToErase[kt.id].erase&&(O.elementIdsToErase[kt.id].erase=!1):O.elementIdsToErase[kt.id]||(O.elementIdsToErase[kt.id]={erase:!0,opacity:kt.opacity}))})},xe=[],se=(0,ke.LW)(O.lastCoords.x,O.lastCoords.y,W.x,W.y),K=10/Z.state.zoom.value,ne=tr({},O.lastCoords),Ie=0;Ie<=se&&(oe(Z.getElementsAtPosition(ne.x,ne.y)),Ie!==se);){var Ne=(Ie=Math.min(Ie+K,se))/se,Be=(1-Ne)*ne.x+Ne*W.x,nt=(1-Ne)*ne.y+Ne*W.y;ne.x=Be,ne.y=nt}var it=Z.scene.getElementsIncludingDeleted().map(function(ct){var kt=(0,J.Xh)(ct)&&xe.includes(ct.containerId)?ct.containerId:ct.id;if(xe.includes(kt)){if(!i.altKey)return(0,I.BE)(ct,{opacity:f.xY});if(O.elementIdsToErase[kt]&&O.elementIdsToErase[kt].erase===!1)return(0,I.BE)(ct,{opacity:O.elementIdsToErase[kt].opacity})}return ct});Z.scene.replaceAllElements(it),O.lastCoords.x=W.x,O.lastCoords.y=W.y},this.handleTouchMove=function(i){sa=!0},this.handleCanvasPointerDown=function(i){var O,W;if(Z.state.contextMenu&&Z.setState({contextMenu:null}),Z.state.snapLines&&Z.setAppState({snapLines:[]}),Z.updateGestureOnPointerDown(i),i.pointerType==="touch"&&Z.state.draggingElement&&Z.state.draggingElement.type==="freedraw"){var oe=Z.state.draggingElement;Z.updateScene(tr(tr({},oe.points.length<10?{elements:Z.scene.getElementsIncludingDeleted().filter(function(Ot){return Ot.id!==oe.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,wr.Oh)(Object.keys(Z.state.selectedElementIds).filter(function(Ot){return Ot!==oe.id}).reduce(function(Ot,Wt){return Ot[Wt]=Z.state.selectedElementIds[Wt],Ot},{}),Z.state)}}))}else{var xe=document.getSelection();if(xe!=null&&xe.anchorNode&&xe.removeAllRanges(),Z.maybeOpenContextMenuAfterPointerDownOnTouchDevices(i),Z.maybeCleanupAfterMissingPointerUp(i),Z.state.penDetected||i.pointerType!=="pen"||Z.setState(function(Ot){return{penMode:!0,penDetected:!0}}),!Z.device.isTouchScreen&&["pen","touch"].includes(i.pointerType)&&(Z.device=(0,w.v4)(Z.device,{isTouchScreen:!0})),!(Ba||(Z.lastPointerDownEvent=i,Z.handleCanvasPanUsingWheelOrSpaceDrag(i)||(Z.setState({lastPointerDownWith:i.pointerType,cursorButton:"down"}),Z.savePointer(i.clientX,i.clientY,"down"),i.button!==f.Oh.MAIN&&i.button!==f.Oh.TOUCH||Oo.pointers.size>1)))){var se=Z.initialPointerDownState(i);if(Z.setState({selectedElementsAreBeingDragged:!1}),!Z.handleDraggingScrollBar(i,se)&&(Z.clearSelectionIfNotUsingSelection(),Z.updateBindingEnabledOnPointerMove(i),!Z.handleSelectionOnPointerDown(i,se)&&(!Z.state.penMode||i.pointerType!=="touch"||Z.state.activeTool.type==="selection"||Z.state.activeTool.type==="text"||Z.state.activeTool.type==="image")))if(Z.state.activeTool.type!=="text"){if(Z.state.activeTool.type==="arrow"||Z.state.activeTool.type==="line")Z.handleLinearElementOnPointerDown(i,Z.state.activeTool.type,se);else if(Z.state.activeTool.type==="image"){(0,Vr.KJ)(Z.interactiveCanvas,f.oc.CROSSHAIR);var K=Z.state.pendingImageElementId&&Z.scene.getElement(Z.state.pendingImageElementId);if(!K)return;Z.setState({draggingElement:K,editingElement:K,pendingImageElementId:null,multiElement:null});var ne=(0,w.dE)(i,Z.state),Ie=ne.x,Ne=ne.y,Be=Z.getTopLayerFrameAtSceneCoords({x:Ie,y:Ne});(0,I.DR)(K,{x:Ie,y:Ne,frameId:Be?Be.id:null})}else Z.state.activeTool.type==="freedraw"?Z.handleFreeDrawElementOnPointerDown(i,Z.state.activeTool.type,se):Z.state.activeTool.type==="custom"?(0,Vr.Uk)(Z.interactiveCanvas,Z.state):Z.state.activeTool.type==="frame"?Z.createFrameElementOnPointerDown(se):Z.state.activeTool.type==="laser"?Z.laserPathManager.startPath(se.lastCoords.x,se.lastCoords.y):Z.state.activeTool.type!=="eraser"&&Z.state.activeTool.type!=="hand"&&Z.createGenericElementOnPointerDown(Z.state.activeTool.type,se);(O=Z.props)===null||O===void 0||(W=O.onPointerDown)===null||W===void 0||W.call(O,Z.state.activeTool,se),Z.onPointerDownEmitter.trigger(Z.state.activeTool,se,i);var nt=Z.onPointerMoveFromPointerDownHandler(se),it=Z.onPointerUpFromPointerDownHandler(se),ct=Z.onKeyDownFromPointerDownHandler(se),kt=Z.onKeyUpFromPointerDownHandler(se);Ga=it,Z.state.viewModeEnabled&&Z.state.activeTool.type!=="laser"||(window.addEventListener(f.Ks.POINTER_MOVE,nt),window.addEventListener(f.Ks.POINTER_UP,it),window.addEventListener(f.Ks.KEYDOWN,ct),window.addEventListener(f.Ks.KEYUP,kt),se.eventListeners.onMove=nt,se.eventListeners.onUp=it,se.eventListeners.onKeyUp=kt,se.eventListeners.onKeyDown=ct)}else Z.handleTextOnPointerDown(i,se)}}},this.handleCanvasPointerUp=function(i){var O,W;Z.removePointer(i),Z.lastPointerUpEvent=i;var oe=(0,w.dE)({clientX:i.clientX,clientY:i.clientY},Z.state),xe=i.timeStamp-((O=(W=Z.lastPointerDownEvent)===null||W===void 0?void 0:W.timeStamp)!==null&&O!==void 0?O:0);if(Z.device.editor.isMobile&&xe<300){var se=Z.getElementAtPosition(oe.x,oe.y);if((0,J.gs)(se)&&Z.isEmbeddableCenter(se,i,oe.x,oe.y))return void Z.handleEmbeddableCenterClick(se)}if(Z.device.isTouchScreen){var K=Z.getElementAtPosition(oe.x,oe.y);Z.hitLinkElement=Z.getElementLinkAtPosition(oe,K)}Z.hitLinkElement&&!Z.state.selectedElementIds[Z.hitLinkElement.id]?xe<300&&Z.hitLinkElement.type==="embeddable"&&!(0,wa.wq)(Z.hitLinkElement,Z.state,[oe.x,oe.y])?Z.handleEmbeddableCenterClick(Z.hitLinkElement):Z.redirectToLink(i,Z.device.isTouchScreen):Z.state.viewModeEnabled&&Z.setState({activeEmbeddable:null,selectedElementIds:{}})},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(i){i.pointerType==="touch"&&(sa=!1,Di?sa=!0:Di=window.setTimeout(function(){Di=0,sa||Z.handleCanvasContextMenu(i)},f.nM))},this.resetContextMenuTimer=function(){clearTimeout(Di),Di=0,sa=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(i){if(!(Oo.pointers.size<=1&&(i.button===f.Oh.WHEEL||i.button===f.Oh.MAIN&&ka||(0,j.l$)(Z.state)||Z.state.viewModeEnabled))||(0,le.iB)(Z.state.editingElement))return!1;Ba=!0,i.preventDefault();var O=!1,W=/Linux/.test(window.navigator.platform);(0,Vr.KJ)(Z.interactiveCanvas,f.oc.GRABBING);var oe=i.clientX,xe=i.clientY,se=(0,w.$9)(function(ne){var Ie=oe-ne.clientX,Ne=xe-ne.clientY;if(oe=ne.clientX,xe=ne.clientY,W&&!O&&(Math.abs(Ie)>1||Math.abs(Ne)>1)){O=!0;var Be=function nt(it){document.body.removeEventListener(f.Ks.PASTE,nt),it.stopPropagation()};document.body.addEventListener(f.Ks.PASTE,Be),window.addEventListener(f.Ks.POINTER_UP,function nt(){setTimeout(function(){document.body.removeEventListener(f.Ks.PASTE,Be),window.removeEventListener(f.Ks.POINTER_UP,nt)},100)})}Z.translateCanvas({scrollX:Z.state.scrollX-Ie/Z.state.zoom.value,scrollY:Z.state.scrollY-Ne/Z.state.zoom.value})}),K=(0,w.tH)(Ga=function(){Ga=null,Ba=!1,ka||(Z.state.viewModeEnabled?(0,Vr.KJ)(Z.interactiveCanvas,f.oc.GRAB):(0,Vr.Uk)(Z.interactiveCanvas,Z.state)),Z.setState({cursorButton:"up"}),Z.savePointer(i.clientX,i.clientY,"up"),window.removeEventListener(f.Ks.POINTER_MOVE,se),window.removeEventListener(f.Ks.POINTER_UP,K),window.removeEventListener(f.Ks.BLUR,K),se.flush()});return window.addEventListener(f.Ks.BLUR,K),window.addEventListener(f.Ks.POINTER_MOVE,se,{passive:!0}),window.addEventListener(f.Ks.POINTER_UP,K),!0},this.clearSelectionIfNotUsingSelection=function(){Z.state.activeTool.type!=="selection"&&Z.setState({selectedElementIds:(0,wr.Oh)({},Z.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})},this.handleSelectionOnPointerDown=function(i,O){if(Z.state.activeTool.type==="selection"){var W=Z.scene.getNonDeletedElements(),oe=Z.scene.getSelectedElements(Z.state);if(oe.length!==1||Z.state.editingLinearElement)oe.length>1&&(O.resize.handleType=(0,le.n2)((0,le.KP)(oe),O.origin.x,O.origin.y,Z.state.zoom,i.pointerType));else{var xe=(0,le.jt)(W,Z.state,O.origin.x,O.origin.y,Z.state.zoom,i.pointerType);xe!=null&&(Z.setState({resizingElement:xe.element}),O.resize.handleType=xe.transformHandleType)}if(O.resize.handleType)O.resize.isResizing=!0,O.resize.offset=(0,w.AK)((0,le.xx)(O.resize.handleType,oe,O.origin.x,O.origin.y)),oe.length===1&&(0,J.bt)(oe[0])&&oe[0].points.length===2&&(O.resize.arrowDirection=(0,le.T)(O.resize.handleType,oe[0]));else{var se;if(Z.state.selectedLinearElement){var K=Z.state.editingLinearElement||Z.state.selectedLinearElement,ne=ce._.handlePointerDown(i,Z.state,Z.history,O.origin,K);if(ne.hitElement&&(O.hit.element=ne.hitElement),ne.linearElementEditor&&(Z.setState({selectedLinearElement:ne.linearElementEditor}),Z.state.editingLinearElement&&Z.setState({editingLinearElement:ne.linearElementEditor})),ne.didAddPoint)return!0}if(O.hit.element=(se=O.hit.element)!==null&&se!==void 0?se:Z.getElementAtPosition(O.origin.x,O.origin.y),O.hit.element&&Z.getElementLinkAtPosition({x:O.origin.x,y:O.origin.y},O.hit.element))return!1;O.hit.allHitElements=Z.getElementsAtPosition(O.origin.x,O.origin.y);var Ie=O.hit.element,Ne=O.hit.allHitElements.some(function(Be){return Z.isASelectedElement(Be)});if(Ie!==null&&Ne||i.shiftKey||O.hit.hasHitCommonBoundingBoxOfSelectedElements||Z.clearSelection(Ie),Z.state.editingLinearElement)Z.setState({selectedElementIds:(0,wr.Oh)((0,H.Z)({},Z.state.editingLinearElement.elementId,!0),Z.state)});else if(Ie!=null){if(i[F.tW.CTRL_OR_CMD])return Z.state.selectedElementIds[Ie.id]||(O.hit.wasAddedToSelection=!0),Z.setState(function(Be){return tr(tr({},(0,He.iE)(Be,Ie)),{},{previousSelectedElementIds:Z.state.selectedElementIds})}),!1;Z.state.selectedElementIds[Ie.id]||(Z.state.editingGroupId&&!(0,He.Nd)(Ie,Z.state.editingGroupId)&&Z.setState({selectedElementIds:(0,wr.Oh)({},Z.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),Ne||O.hit.hasHitCommonBoundingBoxOfSelectedElements||(Z.setState(function(Be){var nt=tr(tr({},Be.selectedElementIds),{},(0,H.Z)({},Ie.id,!0)),it=[];if(Object.keys(Be.selectedElementIds).forEach(function(Ot){var Wt=Z.scene.getElement(Ot);Wt&&it.push(Wt)}),Ie.type==="frame")(0,Cr.zD)(it,Ie.id).forEach(function(Ot){delete nt[Ot.id]});else if(Ie.frameId)nt[Ie.frameId]&&delete nt[Ie.id];else{var ct=Ie.groupIds,kt=new Set(ct.flatMap(function(Ot){return(0,He.Fb)(Z.scene.getNonDeletedElements(),Ot)}).filter(function(Ot){return Ot.type==="frame"}).map(function(Ot){return Ot.id}));kt.size>0&&it.forEach(function(Ot){Ot.frameId&&kt.has(Ot.frameId)&&(delete nt[Ot.id],Ot.groupIds.flatMap(function(Wt){return(0,He.Fb)(Z.scene.getNonDeletedElements(),Wt)}).forEach(function(Wt){delete nt[Wt.id]}))})}return tr(tr({},(0,He.bO)({editingGroupId:Be.editingGroupId,selectedElementIds:nt},Z.scene.getNonDeletedElements(),Be,Z)),{},{showHyperlinkPopup:!(!Ie.link&&!(0,J.gs)(Ie))&&"info"})}),O.hit.wasAddedToSelection=!0))}Z.setState({previousSelectedElementIds:Z.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(i,O){if(!(0,le.iB)(Z.state.editingElement)){var W=O.origin.x,oe=O.origin.y,xe=Z.getElementAtPosition(W,oe,{includeBoundTextElement:!0}),se=(0,Et.OW)(Z.scene.getNonDeletedElements(),Z.state,W,oe);(0,J.Xo)(xe)&&(se=xe,W=xe.x+xe.width/2,oe=xe.y+xe.height/2),Z.startTextEditing({sceneX:W,sceneY:oe,insertAtParentCenter:!i.altKey,container:se}),(0,Vr.z8)(Z.interactiveCanvas),Z.state.activeTool.locked||Z.setState({activeTool:(0,w.Om)(Z.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(i,O,W){var oe=(0,ke.wC)(W.origin.x,W.origin.y,null),xe=(0,_.Z)(oe,2),se=xe[0],K=xe[1],ne=Z.getTopLayerFrameAtSceneCoords({x:se,y:K}),Ie=(0,de.KE)({type:O,x:se,y:K,strokeColor:Z.state.currentItemStrokeColor,backgroundColor:Z.state.currentItemBackgroundColor,fillStyle:Z.state.currentItemFillStyle,strokeWidth:Z.state.currentItemStrokeWidth,strokeStyle:Z.state.currentItemStrokeStyle,roughness:Z.state.currentItemRoughness,opacity:Z.state.currentItemOpacity,roundness:null,simulatePressure:i.pressure===.5,locked:!1,frameId:ne?ne.id:null});Z.setState(function(nt){var it=tr({},nt.selectedElementIds);return delete it[Ie.id],{selectedElementIds:(0,wr.Oh)(it,nt)}});var Ne=Ie.simulatePressure?Ie.pressures:[].concat((0,g.Z)(Ie.pressures),[i.pressure]);(0,I.DR)(Ie,{points:[[0,0]],pressures:Ne});var Be=(0,P.Y9)(W.origin,Z.scene);Z.scene.addNewElement(Ie),Z.setState({draggingElement:Ie,editingElement:Ie,startBoundElement:Be,suggestedBindings:[]})},this.insertEmbeddableElement=function(i){var O,W=i.sceneX,oe=i.sceneY,xe=i.link,se=(0,ke.wC)(W,oe,(O=Z.lastPointerDownEvent)!==null&&O!==void 0&&O[F.tW.CTRL_OR_CMD]?null:Z.state.gridSize),K=(0,_.Z)(se,2),ne=K[0],Ie=K[1],Ne=(0,d.LM)(xe);if(Ne){Ne.warning&&Z.setToast({message:Ne.warning,closable:!0});var Be=(0,de.M)({type:"embeddable",x:ne,y:Ie,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:Z.state.currentItemFillStyle,strokeWidth:Z.state.currentItemStrokeWidth,strokeStyle:Z.state.currentItemStrokeStyle,roughness:Z.state.currentItemRoughness,roundness:Z.getCurrentItemRoundness("embeddable"),opacity:Z.state.currentItemOpacity,locked:!1,width:Ne.aspectRatio.w,height:Ne.aspectRatio.h,link:xe,validated:null});return Z.scene.replaceAllElements([].concat((0,g.Z)(Z.scene.getElementsIncludingDeleted()),[Be])),Be}},this.createImageElement=function(i){var O,W=i.sceneX,oe=i.sceneY,xe=i.addToFrameUnderCursor,se=xe===void 0||xe,K=(0,ke.wC)(W,oe,(O=Z.lastPointerDownEvent)!==null&&O!==void 0&&O[F.tW.CTRL_OR_CMD]?null:Z.state.gridSize),ne=(0,_.Z)(K,2),Ie=ne[0],Ne=ne[1],Be=se?Z.getTopLayerFrameAtSceneCoords({x:Ie,y:Ne}):null;return(0,le.vw)({type:"image",x:Ie,y:Ne,strokeColor:Z.state.currentItemStrokeColor,backgroundColor:Z.state.currentItemBackgroundColor,fillStyle:Z.state.currentItemFillStyle,strokeWidth:Z.state.currentItemStrokeWidth,strokeStyle:Z.state.currentItemStrokeStyle,roughness:Z.state.currentItemRoughness,roundness:null,opacity:Z.state.currentItemOpacity,locked:!1,frameId:Be?Be.id:null})},this.handleLinearElementOnPointerDown=function(i,O,W){if(Z.state.multiElement){var oe=Z.state.multiElement;if(oe.type==="line"&&(0,ke.g6)(oe.points,Z.state.zoom.value))return(0,I.DR)(oe,{lastCommittedPoint:oe.points[oe.points.length-1]}),void Z.actionManager.executeAction(G.pL);var xe=oe.x,se=oe.y,K=oe.lastCommittedPoint;if(oe.points.length>1&&K&&(0,ke.LW)(W.origin.x-xe,W.origin.y-se,K[0],K[1])<f.qx)return void Z.actionManager.executeAction(G.pL);Z.setState(function(on){return{selectedElementIds:(0,wr.Oh)(tr(tr({},on.selectedElementIds),{},(0,H.Z)({},oe.id,!0)),on)}}),(0,I.DR)(oe,{lastCommittedPoint:oe.points[oe.points.length-1]}),(0,Vr.KJ)(Z.interactiveCanvas,f.oc.POINTER)}else{var ne=(0,ke.wC)(W.origin.x,W.origin.y,i[F.tW.CTRL_OR_CMD]?null:Z.state.gridSize),Ie=(0,_.Z)(ne,2),Ne=Ie[0],Be=Ie[1],nt=Z.getTopLayerFrameAtSceneCoords({x:Ne,y:Be}),it=Z.state,ct=it.currentItemStartArrowhead,kt=it.currentItemEndArrowhead,Ot=O==="arrow"?[ct,kt]:[null,null],Wt=(0,_.Z)(Ot,2),tn=Wt[0],Rt=Wt[1],Lt=(0,le.y8)({type:O,x:Ne,y:Be,strokeColor:Z.state.currentItemStrokeColor,backgroundColor:Z.state.currentItemBackgroundColor,fillStyle:Z.state.currentItemFillStyle,strokeWidth:Z.state.currentItemStrokeWidth,strokeStyle:Z.state.currentItemStrokeStyle,roughness:Z.state.currentItemRoughness,opacity:Z.state.currentItemOpacity,roundness:Z.state.currentItemRoundness==="round"?{type:f.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:tn,endArrowhead:Rt,locked:!1,frameId:nt?nt.id:null});Z.setState(function(on){var vn=tr({},on.selectedElementIds);return delete vn[Lt.id],{selectedElementIds:(0,wr.Oh)(vn,on)}}),(0,I.DR)(Lt,{points:[].concat((0,g.Z)(Lt.points),[[0,0]])});var Ut=(0,P.Y9)(W.origin,Z.scene);Z.scene.addNewElement(Lt),Z.setState({draggingElement:Lt,editingElement:Lt,startBoundElement:Ut,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(i,O){var W,oe,xe=(0,ke.wC)(O.origin.x,O.origin.y,(W=Z.lastPointerDownEvent)!==null&&W!==void 0&&W[F.tW.CTRL_OR_CMD]?null:Z.state.gridSize),se=(0,_.Z)(xe,2),K=se[0],ne=se[1],Ie=Z.getTopLayerFrameAtSceneCoords({x:K,y:ne}),Ne={x:K,y:ne,strokeColor:Z.state.currentItemStrokeColor,backgroundColor:Z.state.currentItemBackgroundColor,fillStyle:Z.state.currentItemFillStyle,strokeWidth:Z.state.currentItemStrokeWidth,strokeStyle:Z.state.currentItemStrokeStyle,roughness:Z.state.currentItemRoughness,opacity:Z.state.currentItemOpacity,roundness:Z.getCurrentItemRoundness(i),locked:!1,frameId:Ie?Ie.id:null};(oe=i==="embeddable"?(0,de.M)(tr({type:"embeddable",validated:null},Ne)):(0,le.Up)(tr({type:i},Ne))).type==="selection"?Z.setState({selectionElement:oe,draggingElement:oe}):(Z.scene.addNewElement(oe),Z.setState({multiElement:null,draggingElement:oe,editingElement:oe}))},this.createFrameElementOnPointerDown=function(i){var O,W=(0,ke.wC)(i.origin.x,i.origin.y,(O=Z.lastPointerDownEvent)!==null&&O!==void 0&&O[F.tW.CTRL_OR_CMD]?null:Z.state.gridSize),oe=(0,_.Z)(W,2),xe=oe[0],se=oe[1],K=(0,de.M3)(tr({x:xe,y:se,opacity:Z.state.currentItemOpacity,locked:!1},f.iG));Z.scene.replaceAllElements([].concat((0,g.Z)(Z.scene.getElementsIncludingDeleted()),[K])),Z.setState({multiElement:null,draggingElement:K,editingElement:K})},this.restoreReadyToEraseElements=function(i){var O=Z.scene.getElementsIncludingDeleted().map(function(W){return i.elementIdsToErase[W.id]&&i.elementIdsToErase[W.id].erase?(0,I.BE)(W,{opacity:i.elementIdsToErase[W.id].opacity}):(0,J.Xh)(W)&&i.elementIdsToErase[W.containerId]&&i.elementIdsToErase[W.containerId].erase?(0,I.BE)(W,{opacity:i.elementIdsToErase[W.containerId].opacity}):W.frameId&&i.elementIdsToErase[W.frameId]&&i.elementIdsToErase[W.frameId].erase?(0,I.BE)(W,{opacity:i.elementIdsToErase[W.frameId].opacity}):W});Z.scene.replaceAllElements(O)},this.eraseElements=function(i){var O=Z.scene.getElementsIncludingDeleted().map(function(W){return i.elementIdsToErase[W.id]&&i.elementIdsToErase[W.id].erase||(0,J.Xh)(W)&&i.elementIdsToErase[W.containerId]&&i.elementIdsToErase[W.containerId].erase||W.frameId&&i.elementIdsToErase[W.frameId]&&i.elementIdsToErase[W.frameId].erase?(0,I.BE)(W,{isDeleted:!0}):W});Z.history.resumeRecording(),Z.scene.replaceAllElements(O)},this.initializeImage=function(){var i=(0,p.Z)(m().mark(function O(W){var oe,xe,se,K,ne,Ie,Ne,Be,nt,it,ct,kt,Ot,Wt,tn;return m().wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(K=W.imageFile,ne=W.imageElement,Ie=W.showCursorImagePreview,Ne=Ie!==void 0&&Ie,(0,an.Wr)(K)){Rt.next=3;break}throw new Error((0,L.t)("errors.unsupportedFileType"));case 3:if(Be=K.type,(0,Vr.KJ)(Z.interactiveCanvas,"wait"),Be!==f.LO.svg){Rt.next=23;break}return Rt.prev=6,Rt.t0=an.Pn,Rt.t1=Ma.bp,Rt.next=11,K.text();case 11:return Rt.t2=Rt.sent,Rt.next=14,(0,Rt.t1)(Rt.t2);case 14:Rt.t3=Rt.sent,Rt.t4=K.name,K=(0,Rt.t0)(Rt.t3,Rt.t4),Rt.next=23;break;case 19:throw Rt.prev=19,Rt.t5=Rt.catch(6),console.warn(Rt.t5),new Error((0,L.t)("errors.svgImageInsertError"));case 23:return Rt.next=25,((oe=(xe=Z.props).generateIdForFile)===null||oe===void 0?void 0:oe.call(xe,K))||(0,an.tW)(K);case 25:if(nt=Rt.sent){Rt.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,L.t)("errors.imageInsertError"));case 29:if((it=Z.files[nt])!=null&&it.dataURL){Rt.next=42;break}return Rt.prev=31,Rt.next=34,(0,an.Tu)(K,{maxWidthOrHeight:f.h6});case 34:K=Rt.sent,Rt.next=40;break;case 37:Rt.prev=37,Rt.t6=Rt.catch(31),console.error("error trying to resing image file on insertion",Rt.t6);case 40:if(!(K.size>f.$n)){Rt.next=42;break}throw new Error((0,L.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(f.$n/1024/1024),"MB")}));case 42:if(Ne&&(kt=(ct=Z.files[nt])===null||ct===void 0?void 0:ct.dataURL,Ot=kt&&(0,an.KG)(kt),Z.setImagePreviewCursor(Ot||K)),Rt.t7=(se=Z.files[nt])===null||se===void 0?void 0:se.dataURL,Rt.t7){Rt.next=48;break}return Rt.next=47,(0,an.Sf)(K);case 47:Rt.t7=Rt.sent;case 48:return Wt=Rt.t7,tn=(0,I.DR)(ne,{fileId:nt},!1),Rt.abrupt("return",new Promise(function(){var Lt=(0,p.Z)(m().mark(function Ut(on,vn){var cn,nn;return m().wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:if(_n.prev=0,Z.files=tr(tr({},Z.files),{},(0,H.Z)({},nt,{mimeType:Be,id:nt,dataURL:Wt,created:Date.now(),lastRetrieved:Date.now()})),nn=Z.imageCache.get(nt)){_n.next=7;break}return Z.addNewImagesToImageCache(),_n.next=7,Z.updateImageCache([tn]);case 7:if(!(nn?.image instanceof Promise)){_n.next=10;break}return _n.next=10,nn.image;case 10:Z.state.pendingImageElementId!==tn.id&&((cn=Z.state.draggingElement)===null||cn===void 0?void 0:cn.id)!==tn.id&&Z.initializeImageDimensions(tn,!0),on(tn),_n.next=18;break;case 14:_n.prev=14,_n.t0=_n.catch(0),console.error(_n.t0),vn(new Error((0,L.t)("errors.imageInsertError")));case 18:return _n.prev=18,Ne||(0,Vr.z8)(Z.interactiveCanvas),_n.finish(18);case 21:case"end":return _n.stop()}},Ut,null,[[0,14,18,21]])}));return function(Ut,on){return Lt.apply(this,arguments)}}()));case 51:case"end":return Rt.stop()}},O,null,[[6,19],[31,37]])}));return function(O){return i.apply(this,arguments)}}(),this.insertImageElement=function(){var i=(0,p.Z)(m().mark(function O(W,oe,xe){return m().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(Z.isToolSupported("image")){se.next=3;break}return Z.setState({errorMessage:(0,L.t)("errors.imageToolNotSupported")}),se.abrupt("return");case 3:return Z.scene.addNewElement(W),se.prev=4,se.next=7,Z.initializeImage({imageFile:oe,imageElement:W,showCursorImagePreview:xe});case 7:return se.abrupt("return",se.sent);case 10:return se.prev=10,se.t0=se.catch(4),(0,I.DR)(W,{isDeleted:!0}),Z.actionManager.executeAction(G.pL),Z.setState({errorMessage:se.t0.message||(0,L.t)("errors.imageInsertError")}),se.abrupt("return",null);case 16:case"end":return se.stop()}},O,null,[[4,10]])}));return function(O,W,oe){return i.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var i=(0,p.Z)(m().mark(function O(W){var oe,xe,se,K,ne,Ie,Ne;return m().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return oe=96,Be.next=3,(0,an.Tu)(W,{maxWidthOrHeight:oe});case 3:return xe=Be.sent,Be.next=6,(0,an.Sf)(xe);case 6:if(se=Be.sent,W.type!==f.LO.svg){Be.next=20;break}return Be.next=10,(0,Ma.PK)(se);case 10:K=Be.sent,ne=Math.min(K.height,oe),(Ie=ne*(K.width/K.height))>oe&&(ne=(Ie=oe)*(K.height/K.width)),(Ne=document.createElement("canvas")).height=ne,Ne.width=Ie,Ne.getContext("2d").drawImage(K,0,0,Ie,ne),se=Ne.toDataURL(f.LO.svg);case 20:Z.state.pendingImageElementId&&(0,Vr.KJ)(Z.interactiveCanvas,"url(".concat(se,") 4 4, auto"));case 21:case"end":return Be.stop()}},O)}));return function(O){return i.apply(this,arguments)}}(),this.onImageAction=function(){var i=(0,p.Z)(m().mark(function O(W){var oe,xe,se,K,ne,Ie,Ne,Be;return m().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return oe=W.insertOnCanvasDirectly,nt.prev=1,xe=Z.state.width/2+Z.state.offsetLeft,se=Z.state.height/2+Z.state.offsetTop,K=(0,w.dE)({clientX:xe,clientY:se},Z.state),ne=K.x,Ie=K.y,nt.next=7,(0,kn.I$)({description:"Image",extensions:Object.keys(f.KL)});case 7:Ne=nt.sent,Be=Z.createImageElement({sceneX:ne,sceneY:Ie,addToFrameUnderCursor:!1}),oe?(Z.insertImageElement(Be,Ne),Z.initializeImageDimensions(Be),Z.setState({selectedElementIds:(0,wr.Oh)((0,H.Z)({},Be.id,!0),Z.state)},function(){Z.actionManager.executeAction(G.pL)})):Z.setState({pendingImageElementId:Be.id},function(){Z.insertImageElement(Be,Ne,!0)}),nt.next=16;break;case 12:nt.prev=12,nt.t0=nt.catch(1),nt.t0.name!=="AbortError"?console.error(nt.t0):console.warn(nt.t0),Z.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,w.Om)(Z.state,{type:"selection"})},function(){Z.actionManager.executeAction(G.pL)});case 16:case"end":return nt.stop()}},O,null,[[1,12]])}));return function(O){return i.apply(this,arguments)}}(),this.initializeImageDimensions=function(i){var O,W=arguments.length>1&&arguments[1]!==void 0&&arguments[1],oe=(0,J.wi)(i)&&((O=Z.imageCache.get(i.fileId))===null||O===void 0?void 0:O.image);if(!oe||oe instanceof Promise){if(i.width<f.f/Z.state.zoom.value&&i.height<f.f/Z.state.zoom.value){var xe=100/Z.state.zoom.value;(0,I.DR)(i,{x:i.x-xe/2,y:i.y-xe/2,width:xe,height:xe})}}else if(W||i.width<f.f/Z.state.zoom.value&&i.height<f.f/Z.state.zoom.value){var se=Math.max(Z.state.height-120,160),K=Math.min(se,Math.floor(.5*Z.state.height)/Z.state.zoom.value),ne=Math.min(oe.naturalHeight,K),Ie=ne*(oe.naturalWidth/oe.naturalHeight),Ne=i.x+i.width/2-Ie/2,Be=i.y+i.height/2-ne/2;(0,I.DR)(i,{x:Ne,y:Be,width:Ie,height:ne})}},this.updateImageCache=function(){var i=(0,p.Z)(m().mark(function O(W){var oe,xe,se,K,ne,Ie,Ne,Be=arguments;return m().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return oe=Be.length>1&&Be[1]!==void 0?Be[1]:Z.files,nt.next=3,(0,Ma.Xx)({imageCache:Z.imageCache,fileIds:W.map(function(it){return it.fileId}),files:oe});case 3:if(xe=nt.sent,se=xe.updatedFiles,K=xe.erroredFiles,se.size||K.size){ne=ni(W);try{for(ne.s();!(Ie=ne.n()).done;)Ne=Ie.value,se.has(Ne.fileId)&&hi.R.delete(Ne)}catch(it){ne.e(it)}finally{ne.f()}}return K.size&&Z.scene.replaceAllElements(Z.scene.getElementsIncludingDeleted().map(function(it){return(0,J.wi)(it)&&K.has(it.fileId)?(0,I.BE)(it,{status:"error"}):it})),nt.abrupt("return",{updatedFiles:se,erroredFiles:K});case 9:case"end":return nt.stop()}},O)}));return function(O){return i.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,p.Z)(m().mark(function i(){var O,W,oe,xe,se=arguments;return m().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(O=se.length>0&&se[0]!==void 0?se[0]:(0,Ma.oA)(Z.scene.getNonDeletedElements()),W=se.length>1&&se[1]!==void 0?se[1]:Z.files,!(oe=O.filter(function(ne){return!ne.isDeleted&&!Z.imageCache.has(ne.fileId)})).length){K.next=9;break}return K.next=6,Z.updateImageCache(oe,W);case 6:xe=K.sent,xe.updatedFiles.size&&Z.scene.informMutation();case 9:case"end":return K.stop()}},i)})),this.scheduleImageRefresh=Xl()(function(){Z.addNewImagesToImageCache()},f.LL),this.updateBindingEnabledOnPointerMove=function(i){var O=(0,P.cz)(i);Z.state.isBindingEnabled!==O&&Z.setState({isBindingEnabled:O})},this.maybeSuggestBindingAtCursor=function(i){var O=(0,P.Y9)(i,Z.scene);Z.setState({suggestedBindings:O!=null?[O]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(i,O,W){if(O.length){var oe=O.reduce(function(xe,se){var K=(0,P.Y9)(se,Z.scene);return K==null||(0,P.DK)(i,W?.id,K)||xe.push(K),xe},[]);Z.setState({suggestedBindings:oe})}},this.handleInteractiveCanvasRef=function(i){var O,W,oe;i!==null?(Z.interactiveCanvas=i,Z.interactiveCanvas.addEventListener(f.Ks.WHEEL,Z.handleWheel),Z.interactiveCanvas.addEventListener(f.Ks.TOUCH_START,Z.onTouchStart),Z.interactiveCanvas.addEventListener(f.Ks.TOUCH_END,Z.onTouchEnd)):((O=Z.interactiveCanvas)===null||O===void 0||O.removeEventListener(f.Ks.WHEEL,Z.handleWheel),(W=Z.interactiveCanvas)===null||W===void 0||W.removeEventListener(f.Ks.TOUCH_START,Z.onTouchStart),(oe=Z.interactiveCanvas)===null||oe===void 0||oe.removeEventListener(f.Ks.TOUCH_END,Z.onTouchEnd))},this.handleAppOnDrop=function(){var i=(0,p.Z)(m().mark(function O(W){var oe,xe,se,K,ne,Ie,Ne,Be,nt,it,ct,kt,Ot,Wt,tn,Rt;return m().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,(0,an.bv)(W);case 2:if(se=Lt.sent,K=se.file,ne=se.fileHandle,Ie=(0,w.dE)(W,Z.state),Ne=Ie.x,Be=Ie.y,Lt.prev=6,!(0,an.Wr)(K)||!Z.isToolSupported("image")){Lt.next=26;break}if(K?.type!==f.LO.png&&K?.type!==f.LO.svg){Lt.next=21;break}return Lt.prev=9,Lt.next=12,(0,A.cT)(K,Z.state,Z.scene.getElementsIncludingDeleted(),ne);case 12:return nt=Lt.sent,Z.syncActionResult(tr(tr({},nt),{},{appState:tr(tr({},nt.appState||Z.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Lt.abrupt("return");case 17:if(Lt.prev=17,Lt.t0=Lt.catch(9),Lt.t0.name==="EncodingError"){Lt.next=21;break}throw Lt.t0;case 21:return it=Z.createImageElement({sceneX:Ne,sceneY:Be}),Z.insertImageElement(it,K),Z.initializeImageDimensions(it),Z.setState({selectedElementIds:(0,wr.Oh)((0,H.Z)({},it.id,!0),Z.state)}),Lt.abrupt("return");case 26:Lt.next=31;break;case 28:return Lt.prev=28,Lt.t1=Lt.catch(6),Lt.abrupt("return",Z.setState({isLoading:!1,errorMessage:Lt.t1.message}));case 31:if(!(ct=W.dataTransfer.getData(f.LO.excalidrawlib))||typeof ct!="string"){Lt.next=35;break}try{kt=(0,an.wf)(ct),Z.addElementsFromPasteOrLibrary({elements:(0,Y.WV)(kt),position:W,files:null})}catch(Ut){Z.setState({errorMessage:Ut.message})}return Lt.abrupt("return");case 35:if(!K){Lt.next=38;break}return Lt.next=38,Z.loadFileToCanvas(K,ne);case 38:(oe=W.dataTransfer)!==null&&oe!==void 0&&(xe=oe.types)!==null&&xe!==void 0&&xe.includes("text/plain")&&(tn=(Ot=W.dataTransfer)===null||Ot===void 0?void 0:Ot.getData("text"))&&(0,d.xm)(tn,Z.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(tn)||((Wt=(0,d.LM)(tn))===null||Wt===void 0?void 0:Wt.type)==="video")&&(Rt=Z.insertEmbeddableElement({sceneX:Ne,sceneY:Be,link:(0,ra.$u)(tn)}))&&Z.setState({selectedElementIds:(0,H.Z)({},Rt.id,!0)});case 39:case"end":return Lt.stop()}},O,null,[[6,28],[9,17]])}));return function(O){return i.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var i=(0,p.Z)(m().mark(function O(W,oe){var xe;return m().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,(0,an.gY)(W);case 2:return W=se.sent,se.prev=3,se.next=6,(0,an.ZY)(W,Z.state,Z.scene.getElementsIncludingDeleted(),oe);case 6:if((xe=se.sent).type!==f.LO.excalidraw){se.next=12;break}Z.setState({isLoading:!0}),Z.syncActionResult(tr(tr({},xe.data),{},{appState:tr(tr({},xe.data.appState||Z.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),se.next=15;break;case 12:if(xe.type!==f.LO.excalidrawlib){se.next=15;break}return se.next=15,Z.library.updateLibrary({libraryItems:W,merge:!0,openLibraryMenu:!0}).catch(function(K){console.error(K),Z.setState({errorMessage:(0,L.t)("errors.importLibraryError")})});case 15:se.next=23;break;case 17:if(se.prev=17,se.t0=se.catch(3),!(se.t0 instanceof Aa.jk&&se.t0.code==="IMAGE_NOT_CONTAINS_SCENE_DATA")||Z.isToolSupported("image")){se.next=22;break}return Z.setState({isLoading:!1,errorMessage:(0,L.t)("errors.imageToolNotSupported")}),se.abrupt("return");case 22:Z.setState({isLoading:!1,errorMessage:se.t0.message});case 23:case"end":return se.stop()}},O,null,[[3,17]])}));return function(O,W){return i.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(i){if(i.preventDefault(),!("pointerType"in i.nativeEvent&&i.nativeEvent.pointerType==="touch"||"pointerType"in i.nativeEvent&&i.nativeEvent.pointerType==="pen"&&i.button!==f.Oh.SECONDARY)||Z.state.activeTool.type==="selection"){var O=(0,w.dE)(i,Z.state),W=O.x,oe=O.y,xe=Z.getElementAtPosition(W,oe,{preferSelected:!0,includeLockedElements:!0}),se=Z.scene.getSelectedElements(Z.state),K=Z.isHittingCommonBoundingBoxOfSelectedElements({x:W,y:oe},se),ne=xe||K?"element":"canvas",Ie=Z.excalidrawContainerRef.current.getBoundingClientRect(),Ne=Ie.top,Be=Ie.left,nt=i.clientX-Be,it=i.clientY-Ne;(0,c.L)("contextMenu","openContextMenu",ne),Z.setState(tr(tr({},xe&&!Z.state.selectedElementIds[xe.id]?tr(tr(tr({},Z.state),(0,He.bO)({editingGroupId:Z.state.editingGroupId,selectedElementIds:(0,H.Z)({},xe.id,!0)},Z.scene.getNonDeletedElements(),Z.state,Z)),{},{selectedLinearElement:(0,J.bt)(xe)?new ce._(xe,Z.scene):null}):Z.state),{},{showHyperlinkPopup:!1}),function(){Z.setState({contextMenu:{top:it,left:nt,items:Z.getContextMenuItems(ne)}})})}},this.maybeDragNewGenericElement=function(i,O){var W=Z.state.draggingElement,oe=i.lastCoords;if(W)if(W.type==="selection"&&Z.state.activeTool.type!=="eraser")(0,le.EJ)(W,Z.state.activeTool.type,i.origin.x,i.origin.y,oe.x,oe.y,(0,w.TE)(i.origin.x,oe.x),(0,w.TE)(i.origin.y,oe.y),(0,F.E0)(O),(0,F.OA)(O));else{var xe,se,K,ne,Ie,Ne=(0,ke.wC)(oe.x,oe.y,O[F.tW.CTRL_OR_CMD]?null:Z.state.gridSize),Be=(0,_.Z)(Ne,2),nt=Be[0],it=Be[1],ct=(0,J.wi)(W)&&((xe=Z.imageCache.get(W.fileId))===null||xe===void 0?void 0:xe.image),kt=!ct||ct instanceof Promise?null:ct.width/ct.height;Z.maybeCacheReferenceSnapPoints(O,[W]);var Ot=function(Rt,Lt,Ut,on,vn){var cn,nn,_n,Xn;if(!Wo({event:Ut,selectedElements:[Rt],appState:Lt}))return{snapOffset:{x:0,y:0},snapLines:[]};var sr=[[on.x+vn.x,on.y+vn.y]],yr=Ti(Lt.zoom.value),Mr={x:yr,y:yr},Dr=[],br=[];Ve([Rt],sr,Lt,Ut,Dr,br,Mr);var xr={x:(cn=(nn=Dr[0])===null||nn===void 0?void 0:nn.offset)!==null&&cn!==void 0?cn:0,y:(_n=(Xn=br[0])===null||Xn===void 0?void 0:Xn.offset)!==null&&_n!==void 0?_n:0};Mr.x=0,Mr.y=0,Dr.length=0,br.length=0;var Sr=Bi([Rt],{boundingBoxCorners:!0,omitCenter:!0});return Ve([Rt],Sr,Lt,Ut,Dr,br,Mr),{snapOffset:xr,snapLines:ut(Dr,br)}}(W,Z.state,O,{x:i.originInGrid.x+((se=(K=Z.state.originSnapOffset)===null||K===void 0?void 0:K.x)!==null&&se!==void 0?se:0),y:i.originInGrid.y+((ne=(Ie=Z.state.originSnapOffset)===null||Ie===void 0?void 0:Ie.y)!==null&&ne!==void 0?ne:0)},{x:nt-i.originInGrid.x,y:it-i.originInGrid.y}),Wt=Ot.snapOffset,tn=Ot.snapLines;nt+=Wt.x,it+=Wt.y,Z.setState({snapLines:tn}),(0,le.EJ)(W,Z.state.activeTool.type,i.originInGrid.x,i.originInGrid.y,nt,it,(0,w.TE)(i.originInGrid.x,nt),(0,w.TE)(i.originInGrid.y,it),(0,J.pC)(W)?!(0,F.E0)(O):(0,F.E0)(O),(0,F.OA)(O),kt,Z.state.originSnapOffset),Z.maybeSuggestBindingForAll([W]),Z.state.activeTool.type==="frame"&&Z.setState({elementsToHighlight:(0,Cr.ni)(Z.scene.getNonDeletedElements(),W,Z.state)})}},this.maybeHandleResize=function(i,O){var W=Z.scene.getSelectedElements(Z.state),oe=W.filter(function(on){return on.type==="frame"}),xe=i.resize.handleType;if(oe.length>0&&xe==="rotation")return!1;Z.setState({isResizing:xe&&xe!=="rotation",isRotating:xe==="rotation",activeEmbeddable:null});var se=i.lastCoords,K=(0,ke.wC)(se.x-i.resize.offset.x,se.y-i.resize.offset.y,O[F.tW.CTRL_OR_CMD]?null:Z.state.gridSize),ne=(0,_.Z)(K,2),Ie=ne[0],Ne=ne[1],Be=new Map;if(oe.forEach(function(on){(0,Cr.zD)(Z.scene.getNonDeletedElements(),on.id).forEach(function(vn){Be.set(on.id+vn.id,{x:vn.x-on.x,y:vn.y-on.y})})}),!Z.state.selectedElementsAreBeingDragged){var nt=(0,ke.wC)(se.x,se.y,O[F.tW.CTRL_OR_CMD]?null:Z.state.gridSize),it=(0,_.Z)(nt,2),ct=it[0],kt=it[1],Ot={x:ct-i.originInGrid.x,y:kt-i.originInGrid.y},Wt=(0,g.Z)(i.originalElements.values());Z.maybeCacheReferenceSnapPoints(O,W);var tn=mt(W,(0,be.eD)(Wt,Z.state),Z.state,O,Ot,xe),Rt=tn.snapOffset,Lt=tn.snapLines;Ie+=Rt.x,Ne+=Rt.y,Z.setState({snapLines:Lt})}if((0,le.vY)(i,xe,W,i.resize.arrowDirection,(0,F.Ge)(O),(0,F.OA)(O),W.length===1&&(0,J.pC)(W[0])?!(0,F.E0)(O):(0,F.E0)(O),Ie,Ne,i.resize.center.x,i.resize.center.y,Z.state)){Z.maybeSuggestBindingForAll(W);var Ut=new Set;return oe.forEach(function(on){var vn=(0,Cr.zD)(Z.scene.getNonDeletedElements(),on.id);xe&&(xe.includes("w")&&vn.forEach(function(cn){var nn,_n;(0,I.DR)(cn,{x:on.x+(((nn=Be.get(on.id+cn.id))===null||nn===void 0?void 0:nn.x)||0),y:on.y+(((_n=Be.get(on.id+cn.id))===null||_n===void 0?void 0:_n.y)||0)})}),xe.includes("n")&&vn.forEach(function(cn){var nn,_n;(0,I.DR)(cn,{x:on.x+(((nn=Be.get(on.id+cn.id))===null||nn===void 0?void 0:nn.x)||0),y:on.y+(((_n=Be.get(on.id+cn.id))===null||_n===void 0?void 0:_n.y)||0)})})),(0,Cr.ni)(Z.scene.getNonDeletedElements(),on,Z.state).forEach(function(cn){return Ut.add(cn)})}),Z.setState({elementsToHighlight:(0,g.Z)(Ut)}),!0}return!1},this.getContextMenuItems=function(i){var O=[];return O.push(G.jK,G.FA),i==="canvas"?Z.state.viewModeEnabled?[].concat(O,[G.Pb,G.JN,Pi,G.u0]):[Kr.yQ,Me,G.jK,G.FA,G.zp,Me,G.Yy,An.U,Me,G.Pb,G.pm,G.JN,Pi,G.u0]:(O.push(G.zp),Z.state.viewModeEnabled?[G.uN].concat(O):[G.ZM,G.uN,Kr.yQ,zi,xl,Me].concat(O,[Me,G.pw,G.W3,Me,G.EQ,G.y7,G.vD,St.JQ,G.s,Me,G.FL,Me,G.V,G.yA,G.zi,G.BZ,Me,G.jl,G.kt,Me,G.Qs,G.nz,G.xF,G.$h,Me,G.X9]))},this.handleWheel=(0,w.tH)(function(i){if(i.preventDefault(),!Ba){var O=i.deltaX,W=i.deltaY;if(i.metaKey||i.ctrlKey){var oe=Math.sign(W),xe=100*f.V4,se=Math.abs(W),K=W;se>xe&&(K=xe*oe);var ne=Z.state.zoom.value-K/100;return ne+=Math.log10(Math.max(1,Z.state.zoom.value))*-oe*Math.min(1,se/20),Z.translateCanvas(function(Ie){return tr(tr({},(0,D.E)({viewportX:Z.lastViewportPosition.x,viewportY:Z.lastViewportPosition.y,nextZoom:(0,be.j)(ne)},Ie)),{},{shouldCacheIgnoreZoom:!0})}),void Z.resetShouldCacheIgnoreZoomDebounced()}i.shiftKey?Z.translateCanvas(function(Ie){var Ne=Ie.zoom;return{scrollX:Ie.scrollX-(W||O)/Ne.value}}):Z.translateCanvas(function(Ie){var Ne=Ie.zoom,Be=Ie.scrollX,nt=Ie.scrollY;return{scrollX:Be-O/Ne.value,scrollY:nt-W/Ne.value}})}}),this.savePointer=function(i,O,W){var oe,xe;if(i&&O){var se=(0,w.dE)({clientX:i,clientY:O},Z.state),K=se.x,ne=se.y,Ie={x:K,y:ne,tool:Z.state.activeTool.type==="laser"?"laser":"pointer"};(oe=(xe=Z.props).onPointerUpdate)===null||oe===void 0||oe.call(xe,{pointer:Ie,button:W,pointersMap:Oo.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,w.Ds)(function(){Z.unmounted||Z.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(i){var O;if((O=Z.excalidrawContainerRef)!==null&&O!==void 0&&O.current){var W=Z.excalidrawContainerRef.current.getBoundingClientRect(),oe=W.width,xe=W.height,se=W.left,K=W.top,ne=Z.state,Ie=ne.width,Ne=ne.height,Be=ne.offsetTop,nt=ne.offsetLeft;if(oe===Ie&&xe===Ne&&se===nt&&K===Be)return void(i&&i());Z.setState({width:oe,height:xe,offsetLeft:se,offsetTop:K},function(){i&&i()})}},this.refresh=function(){Z.setState(tr({},Z.getCanvasOffsets()))}};f.Vi.TEST==="production"&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var Z;return(Z=this.app)===null||Z===void 0?void 0:Z.scene.getElementsIncludingDeleted()},set:function(Z){var i;return(i=this.app)===null||i===void 0?void 0:i.scene.replaceAllElements(Z)}}}));var Fc=To},8806:function(Ze,te,t){t.d(te,{z:function(){return L}});var e=t(7169),_=t(2726),g=t(45),p=t(9827),y=t(3379),T=t.n(y),E=t(7795),a=t.n(E),u=t(569),N=t.n(u),H=t(3565),x=t.n(H),m=t(9216),k=t.n(m),Q=t(4589),ue=t.n(Q),me=t(3137),ye={};ye.styleTagTransform=ue(),ye.setAttributes=x(),ye.insert=N().bind(null,"head"),ye.domAPI=a(),ye.insertStyleElement=k(),T()(me.Z,ye),me.Z&&me.Z.locals&&me.Z.locals;var fe=t(4512),G=["type","onSelect","selected","children","className"];function $(F,I){var P=Object.keys(F);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(F);I&&(w=w.filter(function(f){return Object.getOwnPropertyDescriptor(F,f).enumerable})),P.push.apply(P,w)}return P}function U(F){for(var I=1;I<arguments.length;I++){var P=arguments[I]!=null?arguments[I]:{};I%2?$(Object(P),!0).forEach(function(w){(0,e.Z)(F,w,P[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(P)):$(Object(P)).forEach(function(w){Object.defineProperty(F,w,Object.getOwnPropertyDescriptor(P,w))})}return F}var L=function(F){var I=F.type,P=I===void 0?"button":I,w=F.onSelect,f=F.selected,r=F.children,o=F.className,b=o===void 0?"":o,s=(0,_.Z)(F,G);return(0,fe.jsx)("button",U(U({onClick:(0,p.Mj)(s.onClick,function(c){w()}),type:P,className:(0,g.Z)("excalidraw-button",b,{selected:f})},s),{},{children:r}))}},6238:function(Ze,te,t){t.d(te,{o:function(){return ye}});var e=t(45),_=t(8935),g=t(3379),p=t.n(g),y=t(7795),T=t.n(y),E=t(569),a=t.n(E),u=t(3565),N=t.n(u),H=t(9216),x=t.n(H),m=t(4589),k=t.n(m),Q=t(6029),ue={};ue.styleTagTransform=k(),ue.setAttributes=N(),ue.insert=a().bind(null,"head"),ue.domAPI=T(),ue.insertStyleElement=x(),p()(Q.Z,ue),Q.Z&&Q.Z.locals&&Q.Z.locals;var me=t(4512),ye=function(fe){var G=fe.children,$=fe.checked,U=fe.onChange,L=fe.className;return(0,me.jsxs)("div",{className:(0,e.Z)("Checkbox",L,{"is-checked":$}),onClick:function(F){U(!$,F),F.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,me.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":$,children:_.eQ}),(0,me.jsx)("div",{className:"Checkbox-label",children:G})]})}},193:function(Ze,te,t){t.d(te,{z:function(){return ll},L:function(){return Wo}});var e=t(2577),_=t(9827),g=t(45),p=t(9240),y=t(4512),T=function(ot){var je,Ve=ot.onChange,Xe=ot.type,rt=ot.activeColor,ut=ot.topPicks;return Xe==="elementStroke"&&(je=p.fY),Xe==="elementBackground"&&(je=p.eq),Xe==="canvasBackground"&&(je=p.ay),ut&&(je=ut),je?(0,y.jsx)("div",{className:"color-picker__top-picks",children:je.map(function(bt){return(0,y.jsx)("button",{className:(0,g.Z)("color-picker__button",{active:bt===rt,"is-transparent":bt==="transparent"||!bt}),style:{"--swatch-color":bt},type:"button",title:bt,onClick:function(){return Ve(bt)},"data-testid":"color-top-pick-".concat(bt),children:(0,y.jsx)("div",{className:"color-picker__button-outline"})},bt)})}):(console.error("Invalid type for TopPicks"),null)},E=t(9787),a=t.n(E),u=t(8227),N=t(3607),H=t(1930),x=function(ot){for(var je=ot.palette,Ve=ot.color,Xe=0,rt=Object.entries(je);Xe<rt.length;Xe++){var ut=(0,e.Z)(rt[Xe],2),bt=ut[0],mt=ut[1];if(Array.isArray(mt)){var St=mt.indexOf(Ve);if(St>-1)return{colorName:bt,shade:St}}else if(mt===Ve)return{colorName:bt,shade:null}}return null},m=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),k=function(ot){var je=ot.color,Ve=ot.palette;return!Object.values(Ve).flat().includes(je)},Q=(0,N.cn)(null),ue=function(ot,je,Ve){return(299*ot+587*je+114*Ve)/1e3>=160?"black":"white"},me=function(ot,je){if(je){var Ve=new Option().style;if(Ve.color=ot,Ve.color){var Xe=Ve.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),rt=parseInt(Xe[0]),ut=parseInt(Xe[1]),bt=parseInt(Xe[2]);return ue(rt,ut,bt)}}if(ot==="transparent")return"black";var mt=parseInt(ot.substring(1,3),16),St=parseInt(ot.substring(3,5),16),sn=parseInt(ot.substring(5,7),16);return ue(mt,St,sn)},ye=function(ot){var je=ot.color,Ve=ot.keyLabel,Xe=ot.isCustomColor,rt=Xe!==void 0&&Xe,ut=ot.isShade,bt=ut!==void 0&&ut;return(0,y.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:me(je,rt)},children:[bt&&"",Ve]})},fe=function(ot){var je=ot.hex,Ve=ot.onChange,Xe=ot.palette,rt=x({color:je||"transparent",palette:Xe}),ut=(0,N.KO)(Q),bt=(0,e.Z)(ut,2),mt=bt[0],St=bt[1],sn=(0,E.useRef)(null);if((0,E.useEffect)(function(){sn.current&&mt==="shades"&&sn.current.focus()},[rt,mt]),rt){var gn=rt.colorName,Qt=rt.shade,fn=Xe[gn];if(Array.isArray(fn))return(0,y.jsx)("div",{className:"color-picker-content--default shades",children:fn.map(function(xn,En){return(0,y.jsxs)("button",{ref:En===Qt&&mt==="shades"?sn:void 0,tabIndex:-1,type:"button",className:(0,g.Z)("color-picker__button color-picker__button--large",{active:En===Qt}),"aria-label":"Shade",title:"".concat(gn," - ").concat(En+1),style:xn?{"--swatch-color":xn}:void 0,onClick:function(){Ve(xn),St("shades")},children:[(0,y.jsx)("div",{className:"color-picker__button-outline"}),(0,y.jsx)(ye,{color:xn,keyLabel:En+1,isShade:!0})]},En)})})}return(0,y.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,y.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,y.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:(0,u.t)("colorPicker.noShades")})]})},G=function(ot){var je=ot.palette,Ve=ot.color,Xe=ot.onChange,rt=(ot.label,ot.activeShade),ut=x({color:Ve||"transparent",palette:je}),bt=(0,N.KO)(Q),mt=(0,e.Z)(bt,2),St=mt[0],sn=mt[1],gn=(0,E.useRef)(null);return(0,E.useEffect)(function(){gn.current&&St==="baseColors"&&gn.current.focus()},[ut?.colorName,St]),(0,y.jsx)("div",{className:"color-picker-content--default",children:Object.entries(je).map(function(Qt,fn){var xn=(0,e.Z)(Qt,2),En=xn[0],yn=xn[1],hn=(Array.isArray(yn)?yn[rt]:yn)||"transparent",In=m[fn],Un=(0,u.t)("colors.".concat(En.replace(/\d+/,"")),null,"");return(0,y.jsxs)("button",{ref:ut?.colorName===En?gn:void 0,tabIndex:-1,type:"button",className:(0,g.Z)("color-picker__button color-picker__button--large",{active:ut?.colorName===En,"is-transparent":hn==="transparent"||!hn}),onClick:function(){Xe(hn),sn("baseColors")},title:"".concat(Un).concat(hn.startsWith("#")?" ".concat(hn):"","  ").concat(In),"aria-label":"".concat(Un,"  ").concat(In),style:hn?{"--swatch-color":hn}:void 0,"data-testid":"color-".concat(En),children:[(0,y.jsx)("div",{className:"color-picker__button-outline"}),(0,y.jsx)(ye,{color:hn,keyLabel:In})]},En)})})},$=function(ot){var je=ot.colors,Ve=ot.color,Xe=ot.onChange,rt=ot.label,ut=(0,N.KO)(Q),bt=(0,e.Z)(ut,2),mt=bt[0],St=bt[1],sn=(0,E.useRef)(null);return(0,E.useEffect)(function(){sn.current&&sn.current.focus()},[Ve,mt]),(0,y.jsx)("div",{className:"color-picker-content--default",children:je.map(function(gn,Qt){return(0,y.jsxs)("button",{ref:Ve===gn?sn:void 0,tabIndex:-1,type:"button",className:(0,g.Z)("color-picker__button color-picker__button--large",{active:Ve===gn,"is-transparent":gn==="transparent"||!gn}),onClick:function(){Xe(gn),St("custom")},title:gn,"aria-label":rt,style:{"--swatch-color":gn},children:[(0,y.jsx)("div",{className:"color-picker__button-outline"}),(0,y.jsx)(ye,{color:gn,keyLabel:Qt+1,isCustomColor:!0})]},Qt)})})},U=t(5491),L=function(ot,je,Ve){var Xe,rt=Math.ceil(Ve/p.dC);switch(je=(Xe=je)!==null&&Xe!==void 0?Xe:-1,ot){case"ArrowLeft":var ut=je-1;return ut<0?Ve-1:ut;case"ArrowRight":return(je+1)%Ve;case"ArrowDown":var bt=je+p.dC;return bt>=Ve?je%p.dC:bt;case"ArrowUp":var mt=je-p.dC,St=mt<0?p.dC*rt+mt:mt;return St>=Ve?void 0:St}},F=function(ot){var je=ot.event,Ve=ot.activeColorPickerSection,Xe=ot.palette,rt=ot.color,ut=ot.onChange,bt=ot.customColors,mt=ot.setActiveColorPickerSection,St=ot.activeShade,sn=ot.onEyeDropperToggle,gn=ot.onEscape;if(je[U.tW.CTRL_OR_CMD])return!1;if(je.key===U.tW.ESCAPE)return gn(je),!0;if(je.key===U.tW.ALT)return sn(!0),!0;if(je.key===U.tW.I)return sn(),!0;var Qt=x({color:rt,palette:Xe});if(je.key===U.tW.TAB){var fn={custom:!!bt.length,baseColors:!0,shades:Qt?.shade!=null,hex:!0},xn=Object.entries(fn).reduce(function(_r,Pr){var Nr=(0,e.Z)(Pr,2),Yr=Nr[0];return Nr[1]&&_r.push(Yr),_r},[]),En=xn.indexOf(Ve),yn=je.shiftKey?-1:1,hn=xn[En+yn>xn.length-1?0:En+yn<0?xn.length-1:En+yn];return hn&&mt(hn),hn==="custom"?ut(bt[0]):hn==="baseColors"&&(Object.entries(Xe).find(function(_r){var Pr=(0,e.Z)(_r,2),Nr=Pr[0],Yr=Pr[1];return Array.isArray(Yr)?Yr.includes(rt):Yr===rt?Nr:null})||ut(p.HO.black)),je.preventDefault(),je.stopPropagation(),!0}if(function(_r){var Pr=_r.e,Nr=_r.colorObj,Yr=_r.onChange,$r=_r.palette,to=_r.customColors,Io=_r.setActiveColorPickerSection,Go=_r.activeShade;if(Nr?.shade!=null&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(Pr.code)&&Pr.shiftKey){var qo=Number(Pr.code.slice(-1))-1;return Yr($r[Nr.colorName][qo]),Io("shades"),!0}if(["1","2","3","4","5"].includes(Pr.key)&&to[Number(Pr.key)-1])return Yr(to[Number(Pr.key)-1]),Io("custom"),!0;if(m.includes(Pr.key)){var Mi=m.indexOf(Pr.key),yi=$r[Object.keys($r)[Mi]];return Yr(Array.isArray(yi)?yi[Go]:yi),Io("baseColors"),!0}return!1}({e:je,colorObj:Qt,onChange:ut,palette:Xe,customColors:bt,setActiveColorPickerSection:mt,activeShade:St}))return!0;if(Ve==="shades"&&Qt){var In=Qt.shade,Un=L(je.key,In,p.dC);if(Un!==void 0)return ut(Xe[Qt.colorName][Un]),!0}if(Ve==="baseColors"&&Qt){var Kn=Qt.colorName,Bn=Object.keys(Xe),Fn=Bn.indexOf(Kn),fr=L(je.key,Fn,Bn.length);if(fr!==void 0){var Tr=Xe[Bn[fr]];return ut(Array.isArray(Tr)?Tr[St]:Tr),!0}}if(Ve==="custom"){var mr=bt.indexOf(rt),pr=L(je.key,mr,bt.length);if(pr!==void 0)return ut(bt[pr]),!0}return!1},I=function(ot){var je=ot.children;return(0,y.jsx)("div",{className:"color-picker__heading",children:je})},P=t(9937),w=function(ot){var je,Ve=ot.color,Xe=ot.onChange,rt=ot.label,ut=ot.type,bt=ot.elements,mt=ot.palette,St=ot.updateData,sn=ot.children,gn=ot.onEyeDropperToggle,Qt=ot.onEscape,fn=a().useState(function(){return ut==="canvasBackground"?[]:function(mr,pr,_r){var Pr={elementBackground:"backgroundColor",elementStroke:"strokeColor"},Nr=mr.filter(function($r){if($r.isDeleted)return!1;var to=$r[Pr[pr]];return k({color:to,palette:_r})}),Yr=new Map;return Nr.forEach(function($r){var to=$r[Pr[pr]];Yr.has(to)?Yr.set(to,Yr.get(to)+1):Yr.set(to,1)}),(0,H.Z)(Yr.entries()).sort(function($r,to){return to[1]-$r[1]}).map(function($r){return $r[0]}).slice(0,p.Lx)}(bt,ut,mt)}),xn=(0,e.Z)(fn,1)[0],En=(0,N.KO)(Q),yn=(0,e.Z)(En,2),hn=yn[0],In=yn[1],Un=x({color:Ve,palette:mt});(0,E.useEffect)(function(){if(!hn){var mr=k({color:Ve,palette:mt}),pr=mr&&!xn.includes(Ve);In(pr?"hex":mr?"custom":Un?.shade!=null?"shades":"baseColors")}},[hn,Ve,mt,In,Un,xn]);var Kn=(0,E.useState)((je=Un?.shade)!==null&&je!==void 0?je:ut==="elementBackground"?p._T:p.z8),Bn=(0,e.Z)(Kn,2),Fn=Bn[0],fr=Bn[1];(0,E.useEffect)(function(){Un?.shade!=null&&fr(Un.shade);var mr=function(pr){pr.key===U.tW.ALT&&gn(!1)};return document.addEventListener(P.Ks.KEYUP,mr,{capture:!0}),function(){document.removeEventListener(P.Ks.KEYUP,mr,{capture:!0})}},[Un,gn]);var Tr=a().useRef(null);return(0,y.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":(0,u.t)("labels.colorPicker"),children:(0,y.jsxs)("div",{ref:Tr,onKeyDown:function(mr){F({event:mr,activeColorPickerSection:hn,palette:mt,color:Ve,onChange:Xe,onEyeDropperToggle:gn,customColors:xn,setActiveColorPickerSection:In,updateData:St,activeShade:Fn,onEscape:Qt})&&(mr.preventDefault(),mr.stopPropagation())},className:"color-picker-content",tabIndex:-1,children:[!!xn.length&&(0,y.jsxs)("div",{children:[(0,y.jsx)(I,{children:(0,u.t)("colorPicker.mostUsedCustomColors")}),(0,y.jsx)($,{colors:xn,color:Ve,label:(0,u.t)("colorPicker.mostUsedCustomColors"),onChange:Xe})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(I,{children:(0,u.t)("colorPicker.colors")}),(0,y.jsx)(G,{color:Ve,label:rt,palette:mt,onChange:Xe,activeShade:Fn})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(I,{children:(0,u.t)("colorPicker.shades")}),(0,y.jsx)(fe,{hex:Ve,onChange:Xe,palette:mt})]}),sn]})})},f=t(11),r=t(7217),o=t(9335),b=t(1267),s=t(3119),c=t(3060);const S="dismissableLayer.update",z="dismissableLayer.pointerDownOutside",B="dismissableLayer.focusOutside";let j;const C=(0,E.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),A=(0,E.forwardRef)((ot,je)=>{var Ve;const{disableOutsidePointerEvents:Xe=!1,onEscapeKeyDown:rt,onPointerDownOutside:ut,onFocusOutside:bt,onInteractOutside:mt,onDismiss:St,...sn}=ot,gn=(0,E.useContext)(C),[Qt,fn]=(0,E.useState)(null),xn=(Ve=Qt?.ownerDocument)!==null&&Ve!==void 0?Ve:globalThis?.document,[,En]=(0,E.useState)({}),yn=(0,o.e)(je,mr=>fn(mr)),hn=Array.from(gn.layers),[In]=[...gn.layersWithOutsidePointerEventsDisabled].slice(-1),Un=hn.indexOf(In),Kn=Qt?hn.indexOf(Qt):-1,Bn=gn.layersWithOutsidePointerEventsDisabled.size>0,Fn=Kn>=Un,fr=function(mr,pr=globalThis?.document){const _r=(0,c.W)(mr),Pr=(0,E.useRef)(!1),Nr=(0,E.useRef)(()=>{});return(0,E.useEffect)(()=>{const Yr=to=>{if(to.target&&!Pr.current){let Io=function(){ie(z,_r,Go,{discrete:!0})};const Go={originalEvent:to};to.pointerType==="touch"?(pr.removeEventListener("click",Nr.current),Nr.current=Io,pr.addEventListener("click",Nr.current,{once:!0})):Io()}Pr.current=!1},$r=window.setTimeout(()=>{pr.addEventListener("pointerdown",Yr)},0);return()=>{window.clearTimeout($r),pr.removeEventListener("pointerdown",Yr),pr.removeEventListener("click",Nr.current)}},[pr,_r]),{onPointerDownCapture:()=>Pr.current=!0}}(mr=>{const pr=mr.target,_r=[...gn.branches].some(Pr=>Pr.contains(pr));Fn&&!_r&&(ut?.(mr),mt?.(mr),mr.defaultPrevented||St==null||St())},xn),Tr=function(mr,pr=globalThis?.document){const _r=(0,c.W)(mr),Pr=(0,E.useRef)(!1);return(0,E.useEffect)(()=>{const Nr=Yr=>{Yr.target&&!Pr.current&&ie(B,_r,{originalEvent:Yr},{discrete:!1})};return pr.addEventListener("focusin",Nr),()=>pr.removeEventListener("focusin",Nr)},[pr,_r]),{onFocusCapture:()=>Pr.current=!0,onBlurCapture:()=>Pr.current=!1}}(mr=>{const pr=mr.target;[...gn.branches].some(_r=>_r.contains(pr))||(bt?.(mr),mt?.(mr),mr.defaultPrevented||St==null||St())},xn);return function(mr,pr=globalThis?.document){const _r=(0,c.W)(mr);(0,E.useEffect)(()=>{const Pr=Nr=>{Nr.key==="Escape"&&_r(Nr)};return pr.addEventListener("keydown",Pr),()=>pr.removeEventListener("keydown",Pr)},[_r,pr])}(mr=>{Kn===gn.layers.size-1&&(rt?.(mr),!mr.defaultPrevented&&St&&(mr.preventDefault(),St()))},xn),(0,E.useEffect)(()=>{if(Qt)return Xe&&(gn.layersWithOutsidePointerEventsDisabled.size===0&&(j=xn.body.style.pointerEvents,xn.body.style.pointerEvents="none"),gn.layersWithOutsidePointerEventsDisabled.add(Qt)),gn.layers.add(Qt),Y(),()=>{Xe&&gn.layersWithOutsidePointerEventsDisabled.size===1&&(xn.body.style.pointerEvents=j)}},[Qt,xn,Xe,gn]),(0,E.useEffect)(()=>()=>{Qt&&(gn.layers.delete(Qt),gn.layersWithOutsidePointerEventsDisabled.delete(Qt),Y())},[Qt,gn]),(0,E.useEffect)(()=>{const mr=()=>En({});return document.addEventListener(S,mr),()=>document.removeEventListener(S,mr)},[]),(0,E.createElement)(s.WV.div,(0,f.Z)({},sn,{ref:yn,style:{pointerEvents:Bn?Fn?"auto":"none":void 0,...ot.style},onFocusCapture:(0,r.M)(ot.onFocusCapture,Tr.onFocusCapture),onBlurCapture:(0,r.M)(ot.onBlurCapture,Tr.onBlurCapture),onPointerDownCapture:(0,r.M)(ot.onPointerDownCapture,fr.onPointerDownCapture)}))});function Y(){const ot=new CustomEvent(S);document.dispatchEvent(ot)}function ie(ot,je,Ve,{discrete:Xe}){const rt=Ve.originalEvent.target,ut=new CustomEvent(ot,{bubbles:!1,cancelable:!0,detail:Ve});je&&rt.addEventListener(ot,je,{once:!0}),Xe?(0,s.jH)(rt,ut):rt.dispatchEvent(ut)}let le=0;function ce(){(0,E.useEffect)(()=>{var ot,je;const Ve=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(ot=Ve[0])!==null&&ot!==void 0?ot:de()),document.body.insertAdjacentElement("beforeend",(je=Ve[1])!==null&&je!==void 0?je:de()),le++,()=>{le===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(Xe=>Xe.remove()),le--}},[])}function de(){const ot=document.createElement("span");return ot.setAttribute("data-radix-focus-guard",""),ot.tabIndex=0,ot.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",ot}const J="focusScope.autoFocusOnMount",ee="focusScope.autoFocusOnUnmount",he={bubbles:!1,cancelable:!0},Pe=(0,E.forwardRef)((ot,je)=>{const{loop:Ve=!1,trapped:Xe=!1,onMountAutoFocus:rt,onUnmountAutoFocus:ut,...bt}=ot,[mt,St]=(0,E.useState)(null),sn=(0,c.W)(rt),gn=(0,c.W)(ut),Qt=(0,E.useRef)(null),fn=(0,o.e)(je,yn=>St(yn)),xn=(0,E.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,E.useEffect)(()=>{if(Xe){let yn=function(In){if(xn.paused||!mt)return;const Un=In.target;mt.contains(Un)?Qt.current=Un:Oe(Qt.current,{select:!0})},hn=function(In){!xn.paused&&mt&&(mt.contains(In.relatedTarget)||Oe(Qt.current,{select:!0}))};return document.addEventListener("focusin",yn),document.addEventListener("focusout",hn),()=>{document.removeEventListener("focusin",yn),document.removeEventListener("focusout",hn)}}},[Xe,mt,xn.paused]),(0,E.useEffect)(()=>{if(mt){Te.add(xn);const hn=document.activeElement;if(!mt.contains(hn)){const In=new CustomEvent(J,he);mt.addEventListener(J,sn),mt.dispatchEvent(In),In.defaultPrevented||(function(Un,{select:Kn=!1}={}){const Bn=document.activeElement;for(const Fn of Un)if(Oe(Fn,{select:Kn}),document.activeElement!==Bn)return}((yn=He(mt),yn.filter(Un=>Un.tagName!=="A")),{select:!0}),document.activeElement===hn&&Oe(mt))}return()=>{mt.removeEventListener(J,sn),setTimeout(()=>{const In=new CustomEvent(ee,he);mt.addEventListener(ee,gn),mt.dispatchEvent(In),In.defaultPrevented||Oe(hn??document.body,{select:!0}),mt.removeEventListener(ee,gn),Te.remove(xn)},0)}}var yn},[mt,sn,gn,xn]);const En=(0,E.useCallback)(yn=>{if(!Ve&&!Xe||xn.paused)return;const hn=yn.key==="Tab"&&!yn.altKey&&!yn.ctrlKey&&!yn.metaKey,In=document.activeElement;if(hn&&In){const Un=yn.currentTarget,[Kn,Bn]=function(Fn){const fr=He(Fn),Tr=Ke(fr,Fn),mr=Ke(fr.reverse(),Fn);return[Tr,mr]}(Un);Kn&&Bn?yn.shiftKey||In!==Bn?yn.shiftKey&&In===Kn&&(yn.preventDefault(),Ve&&Oe(Bn,{select:!0})):(yn.preventDefault(),Ve&&Oe(Kn,{select:!0})):In===Un&&yn.preventDefault()}},[Ve,Xe,xn.paused]);return(0,E.createElement)(s.WV.div,(0,f.Z)({tabIndex:-1},bt,{ref:fn,onKeyDown:En}))});function He(ot){const je=[],Ve=document.createTreeWalker(ot,NodeFilter.SHOW_ELEMENT,{acceptNode:Xe=>{const rt=Xe.tagName==="INPUT"&&Xe.type==="hidden";return Xe.disabled||Xe.hidden||rt?NodeFilter.FILTER_SKIP:Xe.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;Ve.nextNode();)je.push(Ve.currentNode);return je}function Ke(ot,je){for(const Ve of ot)if(!Ae(Ve,{upTo:je}))return Ve}function Ae(ot,{upTo:je}){if(getComputedStyle(ot).visibility==="hidden")return!0;for(;ot;){if(je!==void 0&&ot===je)return!1;if(getComputedStyle(ot).display==="none")return!0;ot=ot.parentElement}return!1}function Oe(ot,{select:je=!1}={}){if(ot&&ot.focus){const Ve=document.activeElement;ot.focus({preventScroll:!0}),ot!==Ve&&function(Xe){return Xe instanceof HTMLInputElement&&"select"in Xe}(ot)&&je&&ot.select()}}const Te=function(){let ot=[];return{add(je){const Ve=ot[0];je!==Ve&&Ve?.pause(),ot=De(ot,je),ot.unshift(je)},remove(je){var Ve;ot=De(ot,je),(Ve=ot[0])===null||Ve===void 0||Ve.resume()}}}();function De(ot,je){const Ve=[...ot],Xe=Ve.indexOf(je);return Xe!==-1&&Ve.splice(Xe,1),Ve}var ke=t(5622);function be(ot){return ot.split("-")[0]}function ve(ot){return ot.split("-")[1]}function D(ot){return["top","bottom"].includes(be(ot))?"x":"y"}function l(ot){return ot==="y"?"height":"width"}function d(ot,je,Ve){let{reference:Xe,floating:rt}=ot;const ut=Xe.x+Xe.width/2-rt.width/2,bt=Xe.y+Xe.height/2-rt.height/2,mt=D(je),St=l(mt),sn=Xe[St]/2-rt[St]/2,gn=mt==="x";let Qt;switch(be(je)){case"top":Qt={x:ut,y:Xe.y-rt.height};break;case"bottom":Qt={x:ut,y:Xe.y+Xe.height};break;case"right":Qt={x:Xe.x+Xe.width,y:bt};break;case"left":Qt={x:Xe.x-rt.width,y:bt};break;default:Qt={x:Xe.x,y:Xe.y}}switch(ve(je)){case"start":Qt[mt]-=sn*(Ve&&gn?-1:1);break;case"end":Qt[mt]+=sn*(Ve&&gn?-1:1)}return Qt}function M(ot){return typeof ot!="number"?function(je){return{top:0,right:0,bottom:0,left:0,...je}}(ot):{top:ot,right:ot,bottom:ot,left:ot}}function V(ot){return{...ot,top:ot.y,left:ot.x,right:ot.x+ot.width,bottom:ot.y+ot.height}}async function q(ot,je){var Ve;je===void 0&&(je={});const{x:Xe,y:rt,platform:ut,rects:bt,elements:mt,strategy:St}=ot,{boundary:sn="clippingAncestors",rootBoundary:gn="viewport",elementContext:Qt="floating",altBoundary:fn=!1,padding:xn=0}=je,En=M(xn),yn=mt[fn?Qt==="floating"?"reference":"floating":Qt],hn=V(await ut.getClippingRect({element:(Ve=await(ut.isElement==null?void 0:ut.isElement(yn)))==null||Ve?yn:yn.contextElement||await(ut.getDocumentElement==null?void 0:ut.getDocumentElement(mt.floating)),boundary:sn,rootBoundary:gn,strategy:St})),In=V(ut.convertOffsetParentRelativeRectToViewportRelativeRect?await ut.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Qt==="floating"?{...bt.floating,x:Xe,y:rt}:bt.reference,offsetParent:await(ut.getOffsetParent==null?void 0:ut.getOffsetParent(mt.floating)),strategy:St}):bt[Qt]);return{top:hn.top-In.top+En.top,bottom:In.bottom-hn.bottom+En.bottom,left:hn.left-In.left+En.left,right:In.right-hn.right+En.right}}const re=Math.min,ae=Math.max;function ge(ot,je,Ve){return ae(ot,re(je,Ve))}const Se=ot=>({name:"arrow",options:ot,async fn(je){const{element:Ve,padding:Xe=0}=ot??{},{x:rt,y:ut,placement:bt,rects:mt,platform:St}=je;if(Ve==null)return{};const sn=M(Xe),gn={x:rt,y:ut},Qt=D(bt),fn=ve(bt),xn=l(Qt),En=await St.getDimensions(Ve),yn=Qt==="y"?"top":"left",hn=Qt==="y"?"bottom":"right",In=mt.reference[xn]+mt.reference[Qt]-gn[Qt]-mt.floating[xn],Un=gn[Qt]-mt.reference[Qt],Kn=await(St.getOffsetParent==null?void 0:St.getOffsetParent(Ve));let Bn=Kn?Qt==="y"?Kn.clientHeight||0:Kn.clientWidth||0:0;Bn===0&&(Bn=mt.floating[xn]);const Fn=In/2-Un/2,fr=sn[yn],Tr=Bn-En[xn]-sn[hn],mr=Bn/2-En[xn]/2+Fn,pr=ge(fr,mr,Tr),_r=(fn==="start"?sn[yn]:sn[hn])>0&&mr!==pr&&mt.reference[xn]<=mt.floating[xn];return{[Qt]:gn[Qt]-(_r?mr<fr?fr-mr:Tr-mr:0),data:{[Qt]:pr,centerOffset:mr-pr}}}}),Re={left:"right",right:"left",bottom:"top",top:"bottom"};function Ye(ot){return ot.replace(/left|right|bottom|top/g,je=>Re[je])}function Ge(ot,je,Ve){Ve===void 0&&(Ve=!1);const Xe=ve(ot),rt=D(ot),ut=l(rt);let bt=rt==="x"?Xe===(Ve?"end":"start")?"right":"left":Xe==="start"?"bottom":"top";return je.reference[ut]>je.floating[ut]&&(bt=Ye(bt)),{main:bt,cross:Ye(bt)}}const We={start:"end",end:"start"};function qe(ot){return ot.replace(/start|end/g,je=>We[je])}const lt=["top","right","bottom","left"],ft=(lt.reduce((ot,je)=>ot.concat(je,je+"-start",je+"-end"),[]),function(ot){return ot===void 0&&(ot={}),{name:"flip",options:ot,async fn(je){var Ve;const{placement:Xe,middlewareData:rt,rects:ut,initialPlacement:bt,platform:mt,elements:St}=je,{mainAxis:sn=!0,crossAxis:gn=!0,fallbackPlacements:Qt,fallbackStrategy:fn="bestFit",flipAlignment:xn=!0,...En}=ot,yn=be(Xe),hn=Qt||(yn!==bt&&xn?function(mr){const pr=Ye(mr);return[qe(mr),pr,qe(pr)]}(bt):[Ye(bt)]),In=[bt,...hn],Un=await q(je,En),Kn=[];let Bn=((Ve=rt.flip)==null?void 0:Ve.overflows)||[];if(sn&&Kn.push(Un[yn]),gn){const{main:mr,cross:pr}=Ge(Xe,ut,await(mt.isRTL==null?void 0:mt.isRTL(St.floating)));Kn.push(Un[mr],Un[pr])}if(Bn=[...Bn,{placement:Xe,overflows:Kn}],!Kn.every(mr=>mr<=0)){var Fn,fr;const mr=((Fn=(fr=rt.flip)==null?void 0:fr.index)!=null?Fn:0)+1,pr=In[mr];if(pr)return{data:{index:mr,overflows:Bn},reset:{placement:pr}};let _r="bottom";switch(fn){case"bestFit":{var Tr;const Pr=(Tr=Bn.map(Nr=>[Nr,Nr.overflows.filter(Yr=>Yr>0).reduce((Yr,$r)=>Yr+$r,0)]).sort((Nr,Yr)=>Nr[1]-Yr[1])[0])==null?void 0:Tr[0].placement;Pr&&(_r=Pr);break}case"initialPlacement":_r=bt}if(Xe!==_r)return{reset:{placement:_r}}}return{}}}});function ze(ot,je){return{top:ot.top-je.height,right:ot.right-je.width,bottom:ot.bottom-je.height,left:ot.left-je.width}}function we(ot){return lt.some(je=>ot[je]>=0)}const Me=function(ot){let{strategy:je="referenceHidden",...Ve}=ot===void 0?{}:ot;return{name:"hide",async fn(Xe){const{rects:rt}=Xe;switch(je){case"referenceHidden":{const ut=ze(await q(Xe,{...Ve,elementContext:"reference"}),rt.reference);return{data:{referenceHiddenOffsets:ut,referenceHidden:we(ut)}}}case"escaped":{const ut=ze(await q(Xe,{...Ve,altBoundary:!0}),rt.floating);return{data:{escapedOffsets:ut,escaped:we(ut)}}}default:return{}}}}},$e=function(ot){return ot===void 0&&(ot=0),{name:"offset",options:ot,async fn(je){const{x:Ve,y:Xe}=je,rt=await async function(ut,bt){const{placement:mt,platform:St,elements:sn}=ut,gn=await(St.isRTL==null?void 0:St.isRTL(sn.floating)),Qt=be(mt),fn=ve(mt),xn=D(mt)==="x",En=["left","top"].includes(Qt)?-1:1,yn=gn&&xn?-1:1,hn=typeof bt=="function"?bt(ut):bt;let{mainAxis:In,crossAxis:Un,alignmentAxis:Kn}=typeof hn=="number"?{mainAxis:hn,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...hn};return fn&&typeof Kn=="number"&&(Un=fn==="end"?-1*Kn:Kn),xn?{x:Un*yn,y:In*En}:{x:In*En,y:Un*yn}}(je,ot);return{x:Ve+rt.x,y:Xe+rt.y,data:rt}}}};function at(ot){return ot==="x"?"y":"x"}const dt=function(ot){return ot===void 0&&(ot={}),{name:"shift",options:ot,async fn(je){const{x:Ve,y:Xe,placement:rt}=je,{mainAxis:ut=!0,crossAxis:bt=!1,limiter:mt={fn:hn=>{let{x:In,y:Un}=hn;return{x:In,y:Un}}},...St}=ot,sn={x:Ve,y:Xe},gn=await q(je,St),Qt=D(be(rt)),fn=at(Qt);let xn=sn[Qt],En=sn[fn];if(ut){const hn=Qt==="y"?"bottom":"right";xn=ge(xn+gn[Qt==="y"?"top":"left"],xn,xn-gn[hn])}if(bt){const hn=fn==="y"?"bottom":"right";En=ge(En+gn[fn==="y"?"top":"left"],En,En-gn[hn])}const yn=mt.fn({...je,[Qt]:xn,[fn]:En});return{...yn,data:{x:yn.x-Ve,y:yn.y-Xe}}}}},vt=function(ot){return ot===void 0&&(ot={}),{options:ot,fn(je){const{x:Ve,y:Xe,placement:rt,rects:ut,middlewareData:bt}=je,{offset:mt=0,mainAxis:St=!0,crossAxis:sn=!0}=ot,gn={x:Ve,y:Xe},Qt=D(rt),fn=at(Qt);let xn=gn[Qt],En=gn[fn];const yn=typeof mt=="function"?mt({...ut,placement:rt}):mt,hn=typeof yn=="number"?{mainAxis:yn,crossAxis:0}:{mainAxis:0,crossAxis:0,...yn};if(St){const Fn=Qt==="y"?"height":"width",fr=ut.reference[Qt]-ut.floating[Fn]+hn.mainAxis,Tr=ut.reference[Qt]+ut.reference[Fn]-hn.mainAxis;xn<fr?xn=fr:xn>Tr&&(xn=Tr)}if(sn){var In,Un,Kn,Bn;const Fn=Qt==="y"?"width":"height",fr=["top","left"].includes(be(rt)),Tr=ut.reference[fn]-ut.floating[Fn]+(fr&&(In=(Un=bt.offset)==null?void 0:Un[fn])!=null?In:0)+(fr?0:hn.crossAxis),mr=ut.reference[fn]+ut.reference[Fn]+(fr?0:(Kn=(Bn=bt.offset)==null?void 0:Bn[fn])!=null?Kn:0)-(fr?hn.crossAxis:0);En<Tr?En=Tr:En>mr&&(En=mr)}return{[Qt]:xn,[fn]:En}}}},Tt=function(ot){return ot===void 0&&(ot={}),{name:"size",options:ot,async fn(je){const{placement:Ve,rects:Xe,platform:rt,elements:ut}=je,{apply:bt,...mt}=ot,St=await q(je,mt),sn=be(Ve),gn=ve(Ve);let Qt,fn;sn==="top"||sn==="bottom"?(Qt=sn,fn=gn===(await(rt.isRTL==null?void 0:rt.isRTL(ut.floating))?"start":"end")?"left":"right"):(fn=sn,Qt=gn==="end"?"top":"bottom");const xn=ae(St.left,0),En=ae(St.right,0),yn=ae(St.top,0),hn=ae(St.bottom,0),In={availableHeight:Xe.floating.height-(["left","right"].includes(Ve)?2*(yn!==0||hn!==0?yn+hn:ae(St.top,St.bottom)):St[Qt]),availableWidth:Xe.floating.width-(["top","bottom"].includes(Ve)?2*(xn!==0||En!==0?xn+En:ae(St.left,St.right)):St[fn])},Un=await rt.getDimensions(ut.floating);bt?.({...je,...In});const Kn=await rt.getDimensions(ut.floating);return Un.width!==Kn.width||Un.height!==Kn.height?{reset:{rects:!0}}:{}}}};function Et(ot){return ot&&ot.document&&ot.location&&ot.alert&&ot.setInterval}function jt(ot){if(ot==null)return window;if(!Et(ot)){const je=ot.ownerDocument;return je&&je.defaultView||window}return ot}function Kt(ot){return jt(ot).getComputedStyle(ot)}function Gt(ot){return Et(ot)?"":ot?(ot.nodeName||"").toLowerCase():""}function Ht(){const ot=navigator.userAgentData;return ot!=null&&ot.brands?ot.brands.map(je=>je.brand+"/"+je.version).join(" "):navigator.userAgent}function $t(ot){return ot instanceof jt(ot).HTMLElement}function pn(ot){return ot instanceof jt(ot).Element}function _t(ot){return typeof ShadowRoot<"u"&&(ot instanceof jt(ot).ShadowRoot||ot instanceof ShadowRoot)}function xt(ot){const{overflow:je,overflowX:Ve,overflowY:Xe}=Kt(ot);return/auto|scroll|overlay|hidden/.test(je+Xe+Ve)}function At(ot){return["table","td","th"].includes(Gt(ot))}function It(ot){const je=/firefox/i.test(Ht()),Ve=Kt(ot);return Ve.transform!=="none"||Ve.perspective!=="none"||Ve.contain==="paint"||["transform","perspective"].includes(Ve.willChange)||je&&Ve.willChange==="filter"||je&&!!Ve.filter&&Ve.filter!=="none"}function Mt(){return!/^((?!chrome|android).)*safari/i.test(Ht())}const Nt=Math.min,Yt=Math.max,ln=Math.round;function an(ot,je,Ve){var Xe,rt,ut,bt;je===void 0&&(je=!1),Ve===void 0&&(Ve=!1);const mt=ot.getBoundingClientRect();let St=1,sn=1;je&&$t(ot)&&(St=ot.offsetWidth>0&&ln(mt.width)/ot.offsetWidth||1,sn=ot.offsetHeight>0&&ln(mt.height)/ot.offsetHeight||1);const gn=pn(ot)?jt(ot):window,Qt=!Mt()&&Ve,fn=(mt.left+(Qt&&(Xe=(rt=gn.visualViewport)==null?void 0:rt.offsetLeft)!=null?Xe:0))/St,xn=(mt.top+(Qt&&(ut=(bt=gn.visualViewport)==null?void 0:bt.offsetTop)!=null?ut:0))/sn,En=mt.width/St,yn=mt.height/sn;return{width:En,height:yn,top:xn,right:fn+En,bottom:xn+yn,left:fn,x:fn,y:xn}}function kn(ot){return(je=ot,(je instanceof jt(je).Node?ot.ownerDocument:ot.document)||window.document).documentElement;var je}function Tn(ot){return pn(ot)?{scrollLeft:ot.scrollLeft,scrollTop:ot.scrollTop}:{scrollLeft:ot.pageXOffset,scrollTop:ot.pageYOffset}}function zn(ot){return an(kn(ot)).left+Tn(ot).scrollLeft}function un(ot,je,Ve){const Xe=$t(je),rt=kn(je),ut=an(ot,Xe&&function(St){const sn=an(St);return ln(sn.width)!==St.offsetWidth||ln(sn.height)!==St.offsetHeight}(je),Ve==="fixed");let bt={scrollLeft:0,scrollTop:0};const mt={x:0,y:0};if(Xe||!Xe&&Ve!=="fixed")if((Gt(je)!=="body"||xt(rt))&&(bt=Tn(je)),$t(je)){const St=an(je,!0);mt.x=St.x+je.clientLeft,mt.y=St.y+je.clientTop}else rt&&(mt.x=zn(rt));return{x:ut.left+bt.scrollLeft-mt.x,y:ut.top+bt.scrollTop-mt.y,width:ut.width,height:ut.height}}function zt(ot){return Gt(ot)==="html"?ot:ot.assignedSlot||ot.parentNode||(_t(ot)?ot.host:null)||kn(ot)}function en(ot){return $t(ot)&&getComputedStyle(ot).position!=="fixed"?ot.offsetParent:null}function Jt(ot){const je=jt(ot);let Ve=en(ot);for(;Ve&&At(Ve)&&getComputedStyle(Ve).position==="static";)Ve=en(Ve);return Ve&&(Gt(Ve)==="html"||Gt(Ve)==="body"&&getComputedStyle(Ve).position==="static"&&!It(Ve))?je:Ve||function(Xe){let rt=zt(Xe);for(_t(rt)&&(rt=rt.host);$t(rt)&&!["html","body"].includes(Gt(rt));){if(It(rt))return rt;rt=rt.parentNode}return null}(ot)||je}function Sn(ot){if($t(ot))return{width:ot.offsetWidth,height:ot.offsetHeight};const je=an(ot);return{width:je.width,height:je.height}}function Hn(ot){const je=zt(ot);return["html","body","#document"].includes(Gt(je))?ot.ownerDocument.body:$t(je)&&xt(je)?je:Hn(je)}function Yn(ot,je){var Ve;je===void 0&&(je=[]);const Xe=Hn(ot),rt=Xe===((Ve=ot.ownerDocument)==null?void 0:Ve.body),ut=jt(Xe),bt=rt?[ut].concat(ut.visualViewport||[],xt(Xe)?Xe:[]):Xe,mt=je.concat(bt);return rt?mt:mt.concat(Yn(bt))}function or(ot,je,Ve){return je==="viewport"?V(function(Xe,rt){const ut=jt(Xe),bt=kn(Xe),mt=ut.visualViewport;let St=bt.clientWidth,sn=bt.clientHeight,gn=0,Qt=0;if(mt){St=mt.width,sn=mt.height;const fn=Mt();(fn||!fn&&rt==="fixed")&&(gn=mt.offsetLeft,Qt=mt.offsetTop)}return{width:St,height:sn,x:gn,y:Qt}}(ot,Ve)):pn(je)?function(Xe,rt){const ut=an(Xe,!1,rt==="fixed"),bt=ut.top+Xe.clientTop,mt=ut.left+Xe.clientLeft;return{top:bt,left:mt,x:mt,y:bt,right:mt+Xe.clientWidth,bottom:bt+Xe.clientHeight,width:Xe.clientWidth,height:Xe.clientHeight}}(je,Ve):V(function(Xe){var rt;const ut=kn(Xe),bt=Tn(Xe),mt=(rt=Xe.ownerDocument)==null?void 0:rt.body,St=Yt(ut.scrollWidth,ut.clientWidth,mt?mt.scrollWidth:0,mt?mt.clientWidth:0),sn=Yt(ut.scrollHeight,ut.clientHeight,mt?mt.scrollHeight:0,mt?mt.clientHeight:0);let gn=-bt.scrollLeft+zn(Xe);const Qt=-bt.scrollTop;return Kt(mt||ut).direction==="rtl"&&(gn+=Yt(ut.clientWidth,mt?mt.clientWidth:0)-St),{width:St,height:sn,x:gn,y:Qt}}(kn(ot)))}function $n(ot){const je=Yn(ot),Ve=["absolute","fixed"].includes(Kt(ot).position)&&$t(ot)?Jt(ot):ot;return pn(Ve)?je.filter(Xe=>pn(Xe)&&function(rt,ut){const bt=ut.getRootNode==null?void 0:ut.getRootNode();if(rt.contains(ut))return!0;if(bt&&_t(bt)){let mt=ut;do{if(mt&&rt===mt)return!0;mt=mt.parentNode||mt.host}while(mt)}return!1}(Xe,Ve)&&Gt(Xe)!=="body"):[]}const rn={getClippingRect:function(ot){let{element:je,boundary:Ve,rootBoundary:Xe,strategy:rt}=ot;const ut=[...Ve==="clippingAncestors"?$n(je):[].concat(Ve),Xe],bt=ut[0],mt=ut.reduce((St,sn)=>{const gn=or(je,sn,rt);return St.top=Yt(gn.top,St.top),St.right=Nt(gn.right,St.right),St.bottom=Nt(gn.bottom,St.bottom),St.left=Yt(gn.left,St.left),St},or(je,bt,rt));return{width:mt.right-mt.left,height:mt.bottom-mt.top,x:mt.left,y:mt.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(ot){let{rect:je,offsetParent:Ve,strategy:Xe}=ot;const rt=$t(Ve),ut=kn(Ve);if(Ve===ut)return je;let bt={scrollLeft:0,scrollTop:0};const mt={x:0,y:0};if((rt||!rt&&Xe!=="fixed")&&((Gt(Ve)!=="body"||xt(ut))&&(bt=Tn(Ve)),$t(Ve))){const St=an(Ve,!0);mt.x=St.x+Ve.clientLeft,mt.y=St.y+Ve.clientTop}return{...je,x:je.x-bt.scrollLeft+mt.x,y:je.y-bt.scrollTop+mt.y}},isElement:pn,getDimensions:Sn,getOffsetParent:Jt,getDocumentElement:kn,getElementRects:ot=>{let{reference:je,floating:Ve,strategy:Xe}=ot;return{reference:un(je,Jt(Ve),Xe),floating:{...Sn(Ve),x:0,y:0}}},getClientRects:ot=>Array.from(ot.getClientRects()),isRTL:ot=>Kt(ot).direction==="rtl"};function Pt(ot,je,Ve,Xe){Xe===void 0&&(Xe={});const{ancestorScroll:rt=!0,ancestorResize:ut=!0,elementResize:bt=!0,animationFrame:mt=!1}=Xe,St=rt&&!mt,sn=ut&&!mt,gn=St||sn?[...pn(ot)?Yn(ot):[],...Yn(je)]:[];gn.forEach(En=>{St&&En.addEventListener("scroll",Ve,{passive:!0}),sn&&En.addEventListener("resize",Ve)});let Qt,fn=null;if(bt){let En=!0;fn=new ResizeObserver(()=>{En||Ve(),En=!1}),pn(ot)&&!mt&&fn.observe(ot),fn.observe(je)}let xn=mt?an(ot):null;return mt&&function En(){const yn=an(ot);!xn||yn.x===xn.x&&yn.y===xn.y&&yn.width===xn.width&&yn.height===xn.height||Ve(),xn=yn,Qt=requestAnimationFrame(En)}(),Ve(),()=>{var En;gn.forEach(yn=>{St&&yn.removeEventListener("scroll",Ve),sn&&yn.removeEventListener("resize",Ve)}),(En=fn)==null||En.disconnect(),fn=null,mt&&cancelAnimationFrame(Qt)}}const Dt=(ot,je,Ve)=>(async(Xe,rt,ut)=>{const{placement:bt="bottom",strategy:mt="absolute",middleware:St=[],platform:sn}=ut,gn=await(sn.isRTL==null?void 0:sn.isRTL(rt));let Qt=await sn.getElementRects({reference:Xe,floating:rt,strategy:mt}),{x:fn,y:xn}=d(Qt,bt,gn),En=bt,yn={},hn=0;for(let In=0;In<St.length;In++){const{name:Un,fn:Kn}=St[In],{x:Bn,y:Fn,data:fr,reset:Tr}=await Kn({x:fn,y:xn,initialPlacement:bt,placement:En,strategy:mt,middlewareData:yn,rects:Qt,platform:sn,elements:{reference:Xe,floating:rt}});fn=Bn??fn,xn=Fn??xn,yn={...yn,[Un]:{...yn[Un],...fr}},Tr&&hn<=50&&(hn++,typeof Tr=="object"&&(Tr.placement&&(En=Tr.placement),Tr.rects&&(Qt=Tr.rects===!0?await sn.getElementRects({reference:Xe,floating:rt,strategy:mt}):Tr.rects),{x:fn,y:xn}=d(Qt,En,gn)),In=-1)}return{x:fn,y:xn,placement:En,strategy:mt,middlewareData:yn}})(ot,je,{platform:rn,...Ve});var Ft=t(5156),dn=t.n(Ft),jn=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Cn(ot,je){if(ot===je)return!0;if(typeof ot!=typeof je)return!1;if(typeof ot=="function"&&ot.toString()===je.toString())return!0;let Ve,Xe,rt;if(ot&&je&&typeof ot=="object"){if(Array.isArray(ot)){if(Ve=ot.length,Ve!=je.length)return!1;for(Xe=Ve;Xe--!=0;)if(!Cn(ot[Xe],je[Xe]))return!1;return!0}if(rt=Object.keys(ot),Ve=rt.length,Ve!==Object.keys(je).length)return!1;for(Xe=Ve;Xe--!=0;)if(!Object.prototype.hasOwnProperty.call(je,rt[Xe]))return!1;for(Xe=Ve;Xe--!=0;){const ut=rt[Xe];if((ut!=="_owner"||!ot.$$typeof)&&!Cn(ot[ut],je[ut]))return!1}return!0}return ot!=ot&&je!=je}function Dn(ot){let{middleware:je,placement:Ve="bottom",strategy:Xe="absolute",whileElementsMounted:rt}=ot===void 0?{}:ot;const ut=E.useRef(null),bt=E.useRef(null),mt=function(Kn){const Bn=E.useRef(Kn);return jn(()=>{Bn.current=Kn}),Bn}(rt),St=E.useRef(null),[sn,gn]=E.useState({x:null,y:null,strategy:Xe,placement:Ve,middlewareData:{}}),[Qt,fn]=E.useState(je);Cn(Qt?.map(Kn=>{let{options:Bn}=Kn;return Bn}),je?.map(Kn=>{let{options:Bn}=Kn;return Bn}))||fn(je);const xn=E.useCallback(()=>{ut.current&&bt.current&&Dt(ut.current,bt.current,{middleware:Qt,placement:Ve,strategy:Xe}).then(Kn=>{En.current&&Ft.flushSync(()=>{gn(Kn)})})},[Qt,Ve,Xe]);jn(()=>{En.current&&xn()},[xn]);const En=E.useRef(!1);jn(()=>(En.current=!0,()=>{En.current=!1}),[]);const yn=E.useCallback(()=>{if(typeof St.current=="function"&&(St.current(),St.current=null),ut.current&&bt.current)if(mt.current){const Kn=mt.current(ut.current,bt.current,xn);St.current=Kn}else xn()},[xn,mt]),hn=E.useCallback(Kn=>{ut.current=Kn,yn()},[yn]),In=E.useCallback(Kn=>{bt.current=Kn,yn()},[yn]),Un=E.useMemo(()=>({reference:ut,floating:bt}),[]);return E.useMemo(()=>({...sn,update:xn,refs:Un,reference:hn,floating:In}),[sn,xn,Un,hn,In])}const Wn=ot=>{const{element:je,padding:Ve}=ot;return{name:"arrow",options:ot,fn(Xe){return rt=je,Object.prototype.hasOwnProperty.call(rt,"current")?je.current!=null?Se({element:je.current,padding:Ve}).fn(Xe):{}:je?Se({element:je,padding:Ve}).fn(Xe):{};var rt}}},Ln=(0,E.forwardRef)((ot,je)=>{const{children:Ve,width:Xe=10,height:rt=5,...ut}=ot;return(0,E.createElement)(s.WV.svg,(0,f.Z)({},ut,{ref:je,width:Xe,height:rt,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),ot.asChild?Ve:(0,E.createElement)("polygon",{points:"0,0 30,0 15,10"}))}),er=Ln;var Vn=t(3348);const Pn="Popper",[Rn,Nn]=(0,b.b)(Pn),[Gn,nr]=Rn(Pn),rr=ot=>{const{__scopePopper:je,children:Ve}=ot,[Xe,rt]=(0,E.useState)(null);return(0,E.createElement)(Gn,{scope:je,anchor:Xe,onAnchorChange:rt},Ve)},Or="PopperAnchor",Xr=(0,E.forwardRef)((ot,je)=>{const{__scopePopper:Ve,virtualRef:Xe,...rt}=ot,ut=nr(Or,Ve),bt=(0,E.useRef)(null),mt=(0,o.e)(je,bt);return(0,E.useEffect)(()=>{ut.onAnchorChange(Xe?.current||bt.current)}),Xe?null:(0,E.createElement)(s.WV.div,(0,f.Z)({},rt,{ref:mt}))}),po="PopperContent",[xo,jo]=Rn(po),[ho,Qr]=Rn(po,{hasParent:!1,positionUpdateFns:new Set}),go=(0,E.forwardRef)((ot,je)=>{var Ve,Xe,rt,ut,bt,mt,St,sn;const{__scopePopper:gn,side:Qt="bottom",sideOffset:fn=0,align:xn="center",alignOffset:En=0,arrowPadding:yn=0,collisionBoundary:hn=[],collisionPadding:In=0,sticky:Un="partial",hideWhenDetached:Kn=!1,avoidCollisions:Bn=!0,onPlaced:Fn,...fr}=ot,Tr=nr(po,gn),[mr,pr]=(0,E.useState)(null),_r=(0,o.e)(je,fi=>pr(fi)),[Pr,Nr]=(0,E.useState)(null),Yr=function(fi){const[ni,Ai]=(0,E.useState)(void 0);return(0,Vn.b)(()=>{if(fi){Ai({width:fi.offsetWidth,height:fi.offsetHeight});const Da=new ResizeObserver(ul=>{if(!Array.isArray(ul)||!ul.length)return;const tr=ul[0];let ar,La;if("borderBoxSize"in tr){const Ra=tr.borderBoxSize,Na=Array.isArray(Ra)?Ra[0]:Ra;ar=Na.inlineSize,La=Na.blockSize}else ar=fi.offsetWidth,La=fi.offsetHeight;Ai({width:ar,height:La})});return Da.observe(fi,{box:"border-box"}),()=>Da.unobserve(fi)}Ai(void 0)},[fi]),ni}(Pr),$r=(Ve=Yr?.width)!==null&&Ve!==void 0?Ve:0,to=(Xe=Yr?.height)!==null&&Xe!==void 0?Xe:0,Io=Qt+(xn!=="center"?"-"+xn:""),Go=typeof In=="number"?In:{top:0,right:0,bottom:0,left:0,...In},qo=Array.isArray(hn)?hn:[hn],Mi=qo.length>0,yi={padding:Go,boundary:qo.filter(st),altBoundary:Mi},{reference:Ro,floating:Uo,strategy:Ko,x:Ao,y:No,placement:li,middlewareData:Ct,update:mi}=Dn({strategy:"fixed",placement:Io,whileElementsMounted:Pt,middleware:[Zt(),$e({mainAxis:fn+to,alignmentAxis:En}),Bn?dt({mainAxis:!0,crossAxis:!1,limiter:Un==="partial"?vt():void 0,...yi}):void 0,Pr?Wn({element:Pr,padding:yn}):void 0,Bn?ft({...yi}):void 0,Tt({...yi,apply:({elements:fi,availableWidth:ni,availableHeight:Ai})=>{fi.floating.style.setProperty("--radix-popper-available-width",`${ni}px`),fi.floating.style.setProperty("--radix-popper-available-height",`${Ai}px`)}}),qt({arrowWidth:$r,arrowHeight:to}),Kn?Me({strategy:"referenceHidden"}):void 0].filter(Ue)});(0,Vn.b)(()=>{Ro(Tr.anchor)},[Ro,Tr.anchor]);const gi=Ao!==null&&No!==null,[si,_o]=mn(li),$i=(0,c.W)(Fn);(0,Vn.b)(()=>{gi&&$i?.()},[gi,$i]);const ha=(rt=Ct.arrow)===null||rt===void 0?void 0:rt.x,ql=(ut=Ct.arrow)===null||ut===void 0?void 0:ut.y,ma=((bt=Ct.arrow)===null||bt===void 0?void 0:bt.centerOffset)!==0,[Zl,sl]=(0,E.useState)();(0,Vn.b)(()=>{mr&&sl(window.getComputedStyle(mr).zIndex)},[mr]);const{hasParent:cl,positionUpdateFns:ga}=Qr(po,gn),Fi=!cl;(0,E.useLayoutEffect)(()=>{if(!Fi)return ga.add(mi),()=>{ga.delete(mi)}},[Fi,ga,mi]),(0,Vn.b)(()=>{Fi&&gi&&Array.from(ga).reverse().forEach(fi=>requestAnimationFrame(fi))},[Fi,gi,ga]);const Oi={"data-side":si,"data-align":_o,...fr,ref:_r,style:{...fr.style,animation:gi?void 0:"none",opacity:(mt=Ct.hide)!==null&&mt!==void 0&&mt.referenceHidden?0:void 0}};return(0,E.createElement)("div",{ref:Uo,"data-radix-popper-content-wrapper":"",style:{position:Ko,left:0,top:0,transform:gi?`translate3d(${Math.round(Ao)}px, ${Math.round(No)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Zl,"--radix-popper-transform-origin":[(St=Ct.transformOrigin)===null||St===void 0?void 0:St.x,(sn=Ct.transformOrigin)===null||sn===void 0?void 0:sn.y].join(" ")},dir:ot.dir},(0,E.createElement)(xo,{scope:gn,placedSide:si,onArrowChange:Nr,arrowX:ha,arrowY:ql,shouldHideArrow:ma},Fi?(0,E.createElement)(ho,{scope:gn,hasParent:!0,positionUpdateFns:ga},(0,E.createElement)(s.WV.div,Oi)):(0,E.createElement)(s.WV.div,Oi)))}),et="PopperArrow",Ee={top:"bottom",right:"left",bottom:"top",left:"right"},Le=(0,E.forwardRef)(function(ot,je){const{__scopePopper:Ve,...Xe}=ot,rt=jo(et,Ve),ut=Ee[rt.placedSide];return(0,E.createElement)("span",{ref:rt.onArrowChange,style:{position:"absolute",left:rt.arrowX,top:rt.arrowY,[ut]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[rt.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[rt.placedSide],visibility:rt.shouldHideArrow?"hidden":void 0}},(0,E.createElement)(er,(0,f.Z)({},Xe,{ref:je,style:{...Xe.style,display:"block"}})))});function Ue(ot){return ot!==void 0}function st(ot){return ot!==null}const Zt=()=>({name:"anchorCssProperties",fn(ot){const{rects:je,elements:Ve}=ot,{width:Xe,height:rt}=je.reference;return Ve.floating.style.setProperty("--radix-popper-anchor-width",`${Xe}px`),Ve.floating.style.setProperty("--radix-popper-anchor-height",`${rt}px`),{}}}),qt=ot=>({name:"transformOrigin",options:ot,fn(je){var Ve,Xe,rt,ut,bt;const{placement:mt,rects:St,middlewareData:sn}=je,gn=((Ve=sn.arrow)===null||Ve===void 0?void 0:Ve.centerOffset)!==0,Qt=gn?0:ot.arrowWidth,fn=gn?0:ot.arrowHeight,[xn,En]=mn(mt),yn={start:"0%",center:"50%",end:"100%"}[En],hn=((Xe=(rt=sn.arrow)===null||rt===void 0?void 0:rt.x)!==null&&Xe!==void 0?Xe:0)+Qt/2,In=((ut=(bt=sn.arrow)===null||bt===void 0?void 0:bt.y)!==null&&ut!==void 0?ut:0)+fn/2;let Un="",Kn="";return xn==="bottom"?(Un=gn?yn:`${hn}px`,Kn=-fn+"px"):xn==="top"?(Un=gn?yn:`${hn}px`,Kn=`${St.floating.height+fn}px`):xn==="right"?(Un=-fn+"px",Kn=gn?yn:`${In}px`):xn==="left"&&(Un=`${St.floating.width+fn}px`,Kn=gn?yn:`${In}px`),{data:{x:Un,y:Kn}}}});function mn(ot){const[je,Ve="center"]=ot.split("-");return[je,Ve]}const Xt=rr,Vt=Xr,wn=go,Mn=Le,qn=(0,E.forwardRef)((ot,je)=>{var Ve;const{container:Xe=globalThis==null||(Ve=globalThis.document)===null||Ve===void 0?void 0:Ve.body,...rt}=ot;return Xe?dn().createPortal((0,E.createElement)(s.WV.div,(0,f.Z)({},rt,{ref:je})),Xe):null});var Qn=t(1483),dr=t(4801),ur=t(2673),ir=function(ot){return typeof document>"u"?null:(Array.isArray(ot)?ot[0]:ot).ownerDocument.body},cr=new WeakMap,Ar=new WeakMap,Gr={},so=0,zo=function(ot){return ot&&(ot.host||zo(ot.parentNode))},ii=function(ot,je,Ve,Xe){var rt=function(Qt,fn){return fn.map(function(xn){if(Qt.contains(xn))return xn;var En=zo(xn);return En&&Qt.contains(En)?En:(console.error("aria-hidden",xn,"in not contained inside",Qt,". Doing nothing"),null)}).filter(function(xn){return!!xn})}(je,Array.isArray(ot)?ot:[ot]);Gr[Ve]||(Gr[Ve]=new WeakMap);var ut=Gr[Ve],bt=[],mt=new Set,St=new Set(rt),sn=function(Qt){Qt&&!mt.has(Qt)&&(mt.add(Qt),sn(Qt.parentNode))};rt.forEach(sn);var gn=function(Qt){Qt&&!St.has(Qt)&&Array.prototype.forEach.call(Qt.children,function(fn){if(mt.has(fn))gn(fn);else{var xn=fn.getAttribute(Xe),En=xn!==null&&xn!=="false",yn=(cr.get(fn)||0)+1,hn=(ut.get(fn)||0)+1;cr.set(fn,yn),ut.set(fn,hn),bt.push(fn),yn===1&&En&&Ar.set(fn,!0),hn===1&&fn.setAttribute(Ve,"true"),En||fn.setAttribute(Xe,"true")}})};return gn(je),mt.clear(),so++,function(){bt.forEach(function(Qt){var fn=cr.get(Qt)-1,xn=ut.get(Qt)-1;cr.set(Qt,fn),ut.set(Qt,xn),fn||(Ar.has(Qt)||Qt.removeAttribute(Xe),Ar.delete(Qt)),xn||Qt.removeAttribute(Ve)}),--so||(cr=new WeakMap,cr=new WeakMap,Ar=new WeakMap,Gr={})}},Ir=function(ot,je,Ve){Ve===void 0&&(Ve="data-aria-hidden");var Xe=Array.from(Array.isArray(ot)?ot:[ot]),rt=ir(ot);return rt?(Xe.push.apply(Xe,Array.from(rt.querySelectorAll("[aria-live]"))),ii(Xe,rt,Ve,"aria-hidden")):function(){return null}},hr=function(){return hr=Object.assign||function(ot){for(var je,Ve=1,Xe=arguments.length;Ve<Xe;Ve++)for(var rt in je=arguments[Ve])Object.prototype.hasOwnProperty.call(je,rt)&&(ot[rt]=je[rt]);return ot},hr.apply(this,arguments)};function Ur(ot,je){var Ve={};for(var Xe in ot)Object.prototype.hasOwnProperty.call(ot,Xe)&&je.indexOf(Xe)<0&&(Ve[Xe]=ot[Xe]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function"){var rt=0;for(Xe=Object.getOwnPropertySymbols(ot);rt<Xe.length;rt++)je.indexOf(Xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(ot,Xe[rt])&&(Ve[Xe[rt]]=ot[Xe[rt]])}return Ve}var no="right-scroll-bar-position",ao="width-before-scroll-bar";function Xo(ot,je){return Ve=null,Xe=function(ut){return ot.forEach(function(bt){return function(mt,St){return typeof mt=="function"?mt(St):mt&&(mt.current=St),mt}(bt,ut)})},(rt=(0,E.useState)(function(){return{value:Ve,callback:Xe,facade:{get current(){return rt.value},set current(ut){var bt=rt.value;bt!==ut&&(rt.value=ut,rt.callback(ut,bt))}}}})[0]).callback=Xe,rt.facade;var Ve,Xe,rt}function Ho(ot){return ot}function di(ot,je){je===void 0&&(je=Ho);var Ve=[],Xe=!1,rt={read:function(){if(Xe)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return Ve.length?Ve[Ve.length-1]:ot},useMedium:function(ut){var bt=je(ut,Xe);return Ve.push(bt),function(){Ve=Ve.filter(function(mt){return mt!==bt})}},assignSyncMedium:function(ut){for(Xe=!0;Ve.length;){var bt=Ve;Ve=[],bt.forEach(ut)}Ve={push:function(mt){return ut(mt)},filter:function(){return Ve}}},assignMedium:function(ut){Xe=!0;var bt=[];if(Ve.length){var mt=Ve;Ve=[],mt.forEach(ut),bt=Ve}var St=function(){var gn=bt;bt=[],gn.forEach(ut)},sn=function(){return Promise.resolve().then(St)};sn(),Ve={push:function(gn){bt.push(gn),sn()},filter:function(gn){return bt=bt.filter(gn),Ve}}}};return rt}var ai=function(ot){ot===void 0&&(ot={});var je=di(null);return je.options=hr({async:!0,ssr:!1},ot),je}(),ui=function(){},ua=E.forwardRef(function(ot,je){var Ve=E.useRef(null),Xe=E.useState({onScrollCapture:ui,onWheelCapture:ui,onTouchMoveCapture:ui}),rt=Xe[0],ut=Xe[1],bt=ot.forwardProps,mt=ot.children,St=ot.className,sn=ot.removeScrollBar,gn=ot.enabled,Qt=ot.shards,fn=ot.sideCar,xn=ot.noIsolation,En=ot.inert,yn=ot.allowPinchZoom,hn=ot.as,In=hn===void 0?"div":hn,Un=Ur(ot,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),Kn=fn,Bn=Xo([Ve,je]),Fn=hr(hr({},Un),rt);return E.createElement(E.Fragment,null,gn&&E.createElement(Kn,{sideCar:ai,removeScrollBar:sn,shards:Qt,noIsolation:xn,inert:En,setCallbacks:ut,allowPinchZoom:!!yn,lockRef:Ve}),bt?E.cloneElement(E.Children.only(mt),hr(hr({},Fn),{ref:Bn})):E.createElement(In,hr({},Fn,{className:St,ref:Bn}),mt))});ua.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ua.classNames={fullWidth:ao,zeroRight:no};var Ca=function(ot){var je=ot.sideCar,Ve=Ur(ot,["sideCar"]);if(!je)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var Xe=je.read();if(!Xe)throw new Error("Sidecar medium not found");return E.createElement(Xe,hr({},Ve))};Ca.isSideCarExport=!0;function ti(){if(!document)return null;var ot=document.createElement("style");ot.type="text/css";var je=t.nc;return je&&ot.setAttribute("nonce",je),ot}var da=function(){var ot=0,je=null;return{add:function(Ve){var Xe,rt;ot==0&&(je=ti())&&(rt=Ve,(Xe=je).styleSheet?Xe.styleSheet.cssText=rt:Xe.appendChild(document.createTextNode(rt)),function(ut){(document.head||document.getElementsByTagName("head")[0]).appendChild(ut)}(je)),ot++},remove:function(){!--ot&&je&&(je.parentNode&&je.parentNode.removeChild(je),je=null)}}},nl=function(){var ot,je=(ot=da(),function(Ve,Xe){E.useEffect(function(){return ot.add(Ve),function(){ot.remove()}},[Ve&&Xe])});return function(Ve){var Xe=Ve.styles,rt=Ve.dynamic;return je(Xe,rt),null}},Dl={left:0,top:0,right:0,gap:0},Qi=function(ot){return parseInt(ot||"",10)||0},ea=function(ot){if(ot===void 0&&(ot="margin"),typeof window>"u")return Dl;var je=function(rt){var ut=window.getComputedStyle(document.body),bt=ut[rt==="padding"?"paddingLeft":"marginLeft"],mt=ut[rt==="padding"?"paddingTop":"marginTop"],St=ut[rt==="padding"?"paddingRight":"marginRight"];return[Qi(bt),Qi(mt),Qi(St)]}(ot),Ve=document.documentElement.clientWidth,Xe=window.innerWidth;return{left:je[0],top:je[1],right:je[2],gap:Math.max(0,Xe-Ve+je[2]-je[0])}},bi=nl(),Ii=function(ot,je,Ve,Xe){var rt=ot.left,ut=ot.top,bt=ot.right,mt=ot.gap;return Ve===void 0&&(Ve="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(Xe,`;
   padding-right: `).concat(mt,"px ").concat(Xe,`;
  }
  body {
    overflow: hidden `).concat(Xe,`;
    overscroll-behavior: contain;
    `).concat([je&&"position: relative ".concat(Xe,";"),Ve==="margin"&&`
    padding-left: `.concat(rt,`px;
    padding-top: `).concat(ut,`px;
    padding-right: `).concat(bt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(mt,"px ").concat(Xe,`;
    `),Ve==="padding"&&"padding-right: ".concat(mt,"px ").concat(Xe,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(no,` {
    right: `).concat(mt,"px ").concat(Xe,`;
  }
  
  .`).concat(ao,` {
    margin-right: `).concat(mt,"px ").concat(Xe,`;
  }
  
  .`).concat(no," .").concat(no,` {
    right: 0 `).concat(Xe,`;
  }
  
  .`).concat(ao," .").concat(ao,` {
    margin-right: 0 `).concat(Xe,`;
  }
  
  body {
    `).concat("--removed-body-scroll-bar-size",": ").concat(mt,`px;
  }
`)},Ll=function(ot){var je=ot.noRelative,Ve=ot.noImportant,Xe=ot.gapMode,rt=Xe===void 0?"margin":Xe,ut=E.useMemo(function(){return ea(rt)},[rt]);return E.createElement(bi,{styles:Ii(ut,!je,rt,Ve?"":"!important")})},Va=!1;if(typeof window<"u")try{var Ri=Object.defineProperty({},"passive",{get:function(){return Va=!0,!0}});window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{Va=!1}var Ui=!!Va&&{passive:!1},Vi=function(ot,je){var Ve=window.getComputedStyle(ot);return Ve[je]!=="hidden"&&!(Ve.overflowY===Ve.overflowX&&!function(Xe){return Xe.tagName==="TEXTAREA"}(ot)&&Ve[je]==="visible")},Ki=function(ot,je){var Ve=je;do{if(typeof ShadowRoot<"u"&&Ve instanceof ShadowRoot&&(Ve=Ve.host),ta(ot,Ve)){var Xe=fa(ot,Ve);if(Xe[1]>Xe[2])return!0}Ve=Ve.parentNode}while(Ve&&Ve!==document.body);return!1},ta=function(ot,je){return ot==="v"?function(Ve){return Vi(Ve,"overflowY")}(je):function(Ve){return Vi(Ve,"overflowX")}(je)},fa=function(ot,je){return ot==="v"?[(Ve=je).scrollTop,Ve.scrollHeight,Ve.clientHeight]:function(Xe){return[Xe.scrollLeft,Xe.scrollWidth,Xe.clientWidth]}(je);var Ve},na=function(ot){return"changedTouches"in ot?[ot.changedTouches[0].clientX,ot.changedTouches[0].clientY]:[0,0]},ja=function(ot){return[ot.deltaX,ot.deltaY]},Ka=function(ot){return ot&&"current"in ot?ot.current:ot},Ia=function(ot){return`
  .block-interactivity-`.concat(ot,` {pointer-events: none;}
  .allow-interactivity-`).concat(ot,` {pointer-events: all;}
`)},Ya=0,Ei=[],$o,Yi=($o=function(ot){var je=E.useRef([]),Ve=E.useRef([0,0]),Xe=E.useRef(),rt=E.useState(Ya++)[0],ut=E.useState(function(){return nl()})[0],bt=E.useRef(ot);E.useEffect(function(){bt.current=ot},[ot]),E.useEffect(function(){if(ot.inert){document.body.classList.add("block-interactivity-".concat(rt));var yn=function(hn,In,Un){for(var Kn,Bn=0,Fn=In.length;Bn<Fn;Bn++)!Kn&&Bn in In||(Kn||(Kn=Array.prototype.slice.call(In,0,Bn)),Kn[Bn]=In[Bn]);return hn.concat(Kn||Array.prototype.slice.call(In))}([ot.lockRef.current],(ot.shards||[]).map(Ka)).filter(Boolean);return yn.forEach(function(hn){return hn.classList.add("allow-interactivity-".concat(rt))}),function(){document.body.classList.remove("block-interactivity-".concat(rt)),yn.forEach(function(hn){return hn.classList.remove("allow-interactivity-".concat(rt))})}}},[ot.inert,ot.lockRef.current,ot.shards]);var mt=E.useCallback(function(yn,hn){if("touches"in yn&&yn.touches.length===2)return!bt.current.allowPinchZoom;var In,Un=na(yn),Kn=Ve.current,Bn="deltaX"in yn?yn.deltaX:Kn[0]-Un[0],Fn="deltaY"in yn?yn.deltaY:Kn[1]-Un[1],fr=yn.target,Tr=Math.abs(Bn)>Math.abs(Fn)?"h":"v";if("touches"in yn&&Tr==="h"&&fr.type==="range")return!1;var mr=Ki(Tr,fr);if(!mr)return!0;if(mr?In=Tr:(In=Tr==="v"?"h":"v",mr=Ki(Tr,fr)),!mr)return!1;if(!Xe.current&&"changedTouches"in yn&&(Bn||Fn)&&(Xe.current=In),!In)return!0;var pr=Xe.current||In;return function(_r,Pr,Nr,Yr,$r){var to=function(li,Ct){return li==="h"&&Ct==="rtl"?-1:1}(_r,window.getComputedStyle(Pr).direction),Io=to*Yr,Go=Nr.target,qo=Pr.contains(Go),Mi=!1,yi=Io>0,Ro=0,Uo=0;do{var Ko=fa(_r,Go),Ao=Ko[0],No=Ko[1]-Ko[2]-to*Ao;(Ao||No)&&ta(_r,Go)&&(Ro+=No,Uo+=Ao),Go=Go.parentNode}while(!qo&&Go!==document.body||qo&&(Pr.contains(Go)||Pr===Go));return(yi&&(Ro===0||!$r)||!yi&&(Uo===0||!$r))&&(Mi=!0),Mi}(pr,hn,yn,pr==="h"?Bn:Fn,!0)},[]),St=E.useCallback(function(yn){var hn=yn;if(Ei.length&&Ei[Ei.length-1]===ut){var In="deltaY"in hn?ja(hn):na(hn),Un=je.current.filter(function(Bn){return Bn.name===hn.type&&Bn.target===hn.target&&function(Fn,fr){return Fn[0]===fr[0]&&Fn[1]===fr[1]}(Bn.delta,In)})[0];if(Un&&Un.should)hn.cancelable&&hn.preventDefault();else if(!Un){var Kn=(bt.current.shards||[]).map(Ka).filter(Boolean).filter(function(Bn){return Bn.contains(hn.target)});(Kn.length>0?mt(hn,Kn[0]):!bt.current.noIsolation)&&hn.cancelable&&hn.preventDefault()}}},[]),sn=E.useCallback(function(yn,hn,In,Un){var Kn={name:yn,delta:hn,target:In,should:Un};je.current.push(Kn),setTimeout(function(){je.current=je.current.filter(function(Bn){return Bn!==Kn})},1)},[]),gn=E.useCallback(function(yn){Ve.current=na(yn),Xe.current=void 0},[]),Qt=E.useCallback(function(yn){sn(yn.type,ja(yn),yn.target,mt(yn,ot.lockRef.current))},[]),fn=E.useCallback(function(yn){sn(yn.type,na(yn),yn.target,mt(yn,ot.lockRef.current))},[]);E.useEffect(function(){return Ei.push(ut),ot.setCallbacks({onScrollCapture:Qt,onWheelCapture:Qt,onTouchMoveCapture:fn}),document.addEventListener("wheel",St,Ui),document.addEventListener("touchmove",St,Ui),document.addEventListener("touchstart",gn,Ui),function(){Ei=Ei.filter(function(yn){return yn!==ut}),document.removeEventListener("wheel",St,Ui),document.removeEventListener("touchmove",St,Ui),document.removeEventListener("touchstart",gn,Ui)}},[]);var xn=ot.removeScrollBar,En=ot.inert;return E.createElement(E.Fragment,null,En?E.createElement(ut,{styles:Ia(rt)}):null,xn?E.createElement(Ll,{gapMode:"margin"}):null)},ai.useMedium($o),Ca),hi=E.forwardRef(function(ot,je){return E.createElement(ua,hr({},ot,{ref:je,sideCar:Yi}))});hi.classNames=ua.classNames;var pa=hi;const Rl="Popover",[Nl,cs]=(0,b.b)(Rl,[Nn]),bl=Nn(),[rl,Pa]=Nl(Rl),Xi=ot=>{const{__scopePopover:je,children:Ve,open:Xe,defaultOpen:rt,onOpenChange:ut,modal:bt=!1}=ot,mt=bl(je),St=(0,E.useRef)(null),[sn,gn]=(0,E.useState)(!1),[Qt=!1,fn]=(0,ur.T)({prop:Xe,defaultProp:rt,onChange:ut});return(0,E.createElement)(Xt,mt,(0,E.createElement)(rl,{scope:je,contentId:(0,ke.M)(),triggerRef:St,open:Qt,onOpenChange:fn,onOpenToggle:(0,E.useCallback)(()=>fn(xn=>!xn),[fn]),hasCustomAnchor:sn,onCustomAnchorAdd:(0,E.useCallback)(()=>gn(!0),[]),onCustomAnchorRemove:(0,E.useCallback)(()=>gn(!1),[]),modal:bt},Ve))},us="PopoverTrigger",ds=(0,E.forwardRef)((ot,je)=>{const{__scopePopover:Ve,...Xe}=ot,rt=Pa(us,Ve),ut=bl(Ve),bt=(0,o.e)(je,rt.triggerRef),mt=(0,E.createElement)(s.WV.button,(0,f.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":rt.open,"aria-controls":rt.contentId,"data-state":il(rt.open)},Xe,{ref:bt,onClick:(0,r.M)(ot.onClick,rt.onOpenToggle)}));return rt.hasCustomAnchor?mt:(0,E.createElement)(Vt,(0,f.Z)({asChild:!0},ut),mt)}),ol="PopoverPortal",[yl,ya]=Nl(ol,{forceMount:void 0}),Ta=ot=>{const{__scopePopover:je,forceMount:Ve,children:Xe,container:rt}=ot,ut=Pa(ol,je);return(0,E.createElement)(yl,{scope:je,forceMount:Ve},(0,E.createElement)(Qn.z,{present:Ve||ut.open},(0,E.createElement)(qn,{asChild:!0,container:rt},Xe)))},Ni="PopoverContent",aa=(0,E.forwardRef)((ot,je)=>{const Ve=ya(Ni,ot.__scopePopover),{forceMount:Xe=Ve.forceMount,...rt}=ot,ut=Pa(Ni,ot.__scopePopover);return(0,E.createElement)(Qn.z,{present:Xe||ut.open},ut.modal?(0,E.createElement)(Yl,(0,f.Z)({},rt,{ref:je})):(0,E.createElement)(xa,(0,f.Z)({},rt,{ref:je})))}),Yl=(0,E.forwardRef)((ot,je)=>{const Ve=Pa(Ni,ot.__scopePopover),Xe=(0,E.useRef)(null),rt=(0,o.e)(je,Xe),ut=(0,E.useRef)(!1);return(0,E.useEffect)(()=>{const bt=Xe.current;if(bt)return Ir(bt)},[]),(0,E.createElement)(pa,{as:dr.g7,allowPinchZoom:!0},(0,E.createElement)(Pi,(0,f.Z)({},ot,{ref:rt,trapFocus:Ve.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.M)(ot.onCloseAutoFocus,bt=>{var mt;bt.preventDefault(),ut.current||(mt=Ve.triggerRef.current)===null||mt===void 0||mt.focus()}),onPointerDownOutside:(0,r.M)(ot.onPointerDownOutside,bt=>{const mt=bt.detail.originalEvent,St=mt.button===0&&mt.ctrlKey===!0,sn=mt.button===2||St;ut.current=sn},{checkForDefaultPrevented:!1}),onFocusOutside:(0,r.M)(ot.onFocusOutside,bt=>bt.preventDefault(),{checkForDefaultPrevented:!1})})))}),xa=(0,E.forwardRef)((ot,je)=>{const Ve=Pa(Ni,ot.__scopePopover),Xe=(0,E.useRef)(!1);return(0,E.createElement)(Pi,(0,f.Z)({},ot,{ref:je,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:rt=>{var ut,bt;(ut=ot.onCloseAutoFocus)===null||ut===void 0||ut.call(ot,rt),rt.defaultPrevented||(Xe.current||(bt=Ve.triggerRef.current)===null||bt===void 0||bt.focus(),rt.preventDefault()),Xe.current=!1},onInteractOutside:rt=>{var ut,bt;(ut=ot.onInteractOutside)===null||ut===void 0||ut.call(ot,rt),rt.defaultPrevented||(Xe.current=!0);const mt=rt.target;!((bt=Ve.triggerRef.current)===null||bt===void 0)&&bt.contains(mt)&&rt.preventDefault()}}))}),Pi=(0,E.forwardRef)((ot,je)=>{const{__scopePopover:Ve,trapFocus:Xe,onOpenAutoFocus:rt,onCloseAutoFocus:ut,disableOutsidePointerEvents:bt,onEscapeKeyDown:mt,onPointerDownOutside:St,onFocusOutside:sn,onInteractOutside:gn,...Qt}=ot,fn=Pa(Ni,Ve),xn=bl(Ve);return ce(),(0,E.createElement)(Pe,{asChild:!0,loop:!0,trapped:Xe,onMountAutoFocus:rt,onUnmountAutoFocus:ut},(0,E.createElement)(A,{asChild:!0,disableOutsidePointerEvents:bt,onInteractOutside:gn,onEscapeKeyDown:mt,onPointerDownOutside:St,onFocusOutside:sn,onDismiss:()=>fn.onOpenChange(!1)},(0,E.createElement)(wn,(0,f.Z)({"data-state":il(fn.open),role:"dialog",id:fn.contentId},xn,Qt,{ref:je,style:{...Qt.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))}),Ma=(0,E.forwardRef)((ot,je)=>{const{__scopePopover:Ve,...Xe}=ot,rt=bl(Ve);return(0,E.createElement)(Mn,(0,f.Z)({},rt,Xe,{ref:je}))});function il(ot){return ot?"open":"closed"}const Xl=Xi,$l=ds,wa=Ta,ra=aa,la=Ma;var An=t(8242),lr=t(453),Jn=t(8935),Cr=t(8924),wr=function(ot){var je=ot.color,Ve=ot.onChange,Xe=ot.label,rt=ot.colorPickerType,ut=(0,An.Fy)(),bt=(0,E.useState)(je),mt=(0,e.Z)(bt,2),St=mt[0],sn=mt[1],gn=(0,N.KO)(Q),Qt=(0,e.Z)(gn,2),fn=Qt[0],xn=Qt[1];(0,E.useEffect)(function(){sn(je)},[je]);var En=(0,E.useCallback)(function(Fn){var fr=Fn.toLowerCase(),Tr=Wo(fr);Tr&&Ve(Tr),sn(fr)},[Ve]),yn=(0,E.useRef)(null),hn=(0,E.useRef)(null);(0,E.useEffect)(function(){yn.current&&yn.current.focus()},[fn]);var In=(0,N.KO)(Cr.$,lr.yE),Un=(0,e.Z)(In,2),Kn=Un[0],Bn=Un[1];return(0,E.useEffect)(function(){return function(){Bn(null)}},[Bn]),(0,y.jsxs)("div",{className:"color-picker__input-label",children:[(0,y.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,y.jsx)("input",{ref:fn==="hex"?yn:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":Xe,onChange:function(Fn){En(Fn.target.value)},value:(St||"").replace(/^#/,""),onBlur:function(){sn(je)},tabIndex:-1,onFocus:function(){return xn("hex")},onKeyDown:function(Fn){var fr;Fn.key!==U.tW.TAB&&(Fn.key===U.tW.ESCAPE&&((fr=hn.current)===null||fr===void 0||fr.focus()),Fn.stopPropagation())}}),!ut.editor.isMobile&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,y.jsx)("div",{ref:hn,className:(0,g.Z)("excalidraw-eye-dropper-trigger",{selected:Kn}),onClick:function(){return Bn(function(Fn){return Fn?null:{keepOpenOnAlt:!1,onSelect:function(fr){return Ve(fr)},colorPickerType:rt}})},title:"".concat((0,u.t)("labels.eyeDropper"),"  ").concat(U.tW.I.toLocaleUpperCase()," or ").concat((0,_.uY)("Alt")," "),children:Jn.$W})]})]})},Kr=t(3379),Vr=t.n(Kr),zr=t(7795),Si=t.n(zr),Zi=t(569),zi=t.n(Zi),xl=t(3565),Gl=t.n(xl),Aa=t(9216),al=t.n(Aa),Xa=t(4589),So=t.n(Xa),_i=t(4269),Ti={};Ti.styleTagTransform=So(),Ti.setAttributes=Gl(),Ti.insert=zi().bind(null,"head"),Ti.domAPI=Si(),Ti.insertStyleElement=al(),Vr()(_i.Z,Ti),_i.Z&&_i.Z.locals&&_i.Z.locals;var Lo=function(ot){var je=new Option().style;return je.color=ot,!!je.color},Wo=function(ot){return(0,_.Qm)(ot)?ot:Lo("#".concat(ot))?"#".concat(ot):Lo(ot)?ot:null},Bi=function(ot){var je=ot.type,Ve=ot.color,Xe=ot.onChange,rt=ot.label,ut=ot.elements,bt=ot.palette,mt=bt===void 0?p.HO:bt,St=ot.updateData,sn=(0,N.KO)(Q),gn=(0,e.Z)(sn,2)[1],Qt=(0,N.KO)(Cr.$,lr.yE),fn=(0,e.Z)(Qt,2),xn=fn[0],En=fn[1],yn=(0,An.J0)().container,hn=(0,An.Fy)(),In=(0,y.jsxs)("div",{children:[(0,y.jsx)(I,{children:(0,u.t)("colorPicker.hexCode")}),(0,y.jsx)(wr,{color:Ve,label:rt,onChange:function(Bn){Xe(Bn)},colorPickerType:je})]}),Un=(0,E.useRef)(null),Kn=function(){var Bn,Fn;(Bn=Un.current)===null||Bn===void 0||(Fn=Bn.querySelector(".color-picker-content"))===null||Fn===void 0||Fn.focus()};return(0,y.jsx)(wa,{container:yn,children:(0,y.jsxs)(ra,{ref:Un,className:"focus-visible-none","data-prevent-outside-click":!0,onFocusOutside:function(Bn){Kn(),Bn.preventDefault()},onPointerDownOutside:function(Bn){xn&&Bn.preventDefault()},onCloseAutoFocus:function(Bn){Bn.stopPropagation(),Bn.preventDefault(),yn&&!(0,_.y1)(document.activeElement)&&yn.focus(),St({openPopup:null}),gn(null)},side:hn.editor.isMobile&&!hn.viewport.isLandscape?"bottom":"right",align:hn.editor.isMobile&&!hn.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-layerUI)",backgroundColor:"var(--popup-bg-color)",maxWidth:"208px",maxHeight:window.innerHeight,padding:"12px",borderRadius:"8px",boxSizing:"border-box",overflowY:"auto",boxShadow:"0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702)"},children:[mt?(0,y.jsx)(w,{palette:mt,color:Ve,onChange:function(Bn){Xe(Bn)},onEyeDropperToggle:function(Bn){En(function(Fn){return Bn?((Fn=Fn||{keepOpenOnAlt:!0,onSelect:Xe,colorPickerType:je}).keepOpenOnAlt=!0,Fn):Bn===!1||Fn?null:{keepOpenOnAlt:!1,onSelect:Xe,colorPickerType:je}})},onEscape:function(Bn){xn?En(null):(0,_.s)(Bn.target)?Kn():St({openPopup:null})},label:rt,type:je,elements:ut,updateData:St,children:In}):In,(0,y.jsx)(la,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})},$a=function(ot){var je=ot.label,Ve=ot.color,Xe=ot.type;return(0,y.jsx)($l,{type:"button",className:(0,g.Z)("color-picker__button active-color",{"is-transparent":Ve==="transparent"||!Ve}),"aria-label":je,style:Ve?{"--swatch-color":Ve}:void 0,title:Xe==="elementStroke"?(0,u.t)("labels.showStroke"):(0,u.t)("labels.showBackground"),children:(0,y.jsx)("div",{className:"color-picker__button-outline"})})},ll=function(ot){var je=ot.type,Ve=ot.color,Xe=ot.onChange,rt=ot.label,ut=ot.elements,bt=ot.palette,mt=bt===void 0?p.HO:bt,St=ot.topPicks,sn=ot.updateData,gn=ot.appState;return(0,y.jsx)("div",{children:(0,y.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,y.jsx)(T,{activeColor:Ve,onChange:Xe,type:je,topPicks:St}),(0,y.jsx)("div",{style:{width:1,height:"100%",backgroundColor:"var(--default-border-color)",margin:"0 auto"}}),(0,y.jsxs)(Xl,{open:gn.openPopup===je,onOpenChange:function(Qt){sn({openPopup:Qt?je:null})},children:[(0,y.jsx)($a,{color:Ve,label:rt,type:je}),gn.openPopup===je&&(0,y.jsx)(Bi,{type:je,color:Ve,onChange:Xe,label:rt,elements:ut,palette:mt,updateData:sn})]})]})})}},6887:function(Ze,te,t){t.d(te,{Z:function(){return f}});var e=t(7169),_=t(2726),g=t(8227),p=t(1300),y=t(3379),T=t.n(y),E=t(7795),a=t.n(E),u=t(569),N=t.n(u),H=t(3565),x=t.n(H),m=t(9216),k=t.n(m),Q=t(4589),ue=t.n(Q),me=t(9393),ye={};ye.styleTagTransform=ue(),ye.setAttributes=x(),ye.insert=N().bind(null,"head"),ye.domAPI=a(),ye.insertStyleElement=k(),T()(me.Z,ye),me.Z&&me.Z.locals&&me.Z.locals;var fe=t(4932),G=t(3607),$=t(3116),U=t(8242),L=t(453),F=t(4512),I=["onConfirm","onCancel","children","confirmText","cancelText","className"];function P(r,o){var b=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);o&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),b.push.apply(b,s)}return b}function w(r){for(var o=1;o<arguments.length;o++){var b=arguments[o]!=null?arguments[o]:{};o%2?P(Object(b),!0).forEach(function(s){(0,e.Z)(r,s,b[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(b)):P(Object(b)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(b,s))})}return r}var f=function(r){var o=r.onConfirm,b=r.onCancel,s=r.children,c=r.confirmText,S=c===void 0?(0,g.t)("buttons.confirm"):c,z=r.cancelText,B=z===void 0?(0,g.t)("buttons.cancel"):z,j=r.className,C=j===void 0?"":j,A=(0,_.Z)(r,I),Y=(0,U.n9)(),ie=(0,G.b9)($.uh,L.yE),le=(0,U.J0)().container;return(0,F.jsxs)(p.V,w(w({onCloseRequest:b,size:"small"},A),{},{className:"confirm-dialog ".concat(C),children:[s,(0,F.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,F.jsx)(fe.Z,{label:B,onClick:function(){Y({openMenu:null}),ie(!1),b(),le?.focus()}}),(0,F.jsx)(fe.Z,{label:S,onClick:function(){Y({openMenu:null}),ie(!1),o(),le?.focus()},actionType:"danger"})]})]}))}},1925:function(Ze,te,t){t.d(te,{O:function(){return $}});var e=t(2726),_=t(7169),g=t(45),p=t(9937),y=t(4572),T=t(100),E=t(8227),a=t(9827),u=t(8242),N=t(6922),H=t(3116),x=t(5902),m=t(4512),k=t(9787),Q=["children"],ue=["children","className","onDock","docked"];function me(U,L){var F=Object.keys(U);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(U);L&&(I=I.filter(function(P){return Object.getOwnPropertyDescriptor(U,P).enumerable})),F.push.apply(F,I)}return F}function ye(U){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?me(Object(F),!0).forEach(function(I){(0,_.Z)(U,I,F[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(F)):me(Object(F)).forEach(function(I){Object.defineProperty(U,I,Object.getOwnPropertyDescriptor(F,I))})}return U}var fe=(0,N.$)("DefaultSidebarTrigger",function(U){var L=(0,y.R6)().DefaultSidebarTriggerTunnel;return(0,m.jsx)(L.In,{children:(0,m.jsx)(x.YE.Trigger,ye(ye({},U),{},{className:"default-sidebar-trigger",name:p.Cc.name}))})});fe.displayName="DefaultSidebarTrigger";var G=function(U){var L=U.children,F=(0,e.Z)(U,Q),I=(0,y.R6)().DefaultSidebarTabTriggersTunnel;return(0,m.jsx)(I.In,{children:(0,m.jsx)(x.YE.TabTriggers,ye(ye({},F),{},{children:L}))})};G.displayName="DefaultTabTriggers";var $=Object.assign((0,N.$)("DefaultSidebar",function(U){var L=U.children,F=U.className,I=U.onDock,P=U.docked,w=(0,e.Z)(U,ue),f=(0,T.I)(),r=(0,u.n9)(),o=(0,y.R6)().DefaultSidebarTabTriggersTunnel;return(0,k.createElement)(x.YE,ye(ye({},w),{},{name:"default",key:"default",className:(0,g.Z)("default-sidebar",F),docked:P??f.defaultSidebarDockedPreference,onDock:I===!1||!I&&P!=null?void 0:(0,a.Mj)(I,function(b){r({defaultSidebarDockedPreference:b})})}),(0,m.jsxs)(x.YE.Tabs,{children:[(0,m.jsxs)(x.YE.Header,{children:[w.__fallback&&(0,m.jsx)("div",{style:{color:"var(--color-primary)",fontSize:"1.2em",fontWeight:"bold",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"1em"},children:(0,E.t)("toolBar.library")}),(0,m.jsx)(o.Out,{})]}),(0,m.jsx)(x.YE.Tab,{tab:p.tf,children:(0,m.jsx)(H.rY,{})}),L]}))}),{Trigger:fe,TabTriggers:G})},1300:function(Ze,te,t){t.d(te,{V:function(){return S}});var e=t(2577),_=t(45),g=t(9787),p=t(8227),y=t(8242),T=t(5491),E=t(3379),a=t.n(E),u=t(7795),N=t.n(u),H=t(569),x=t.n(H),m=t(3565),k=t.n(m),Q=t(9216),ue=t.n(Q),me=t(4589),ye=t.n(me),fe=t(9482),G={};G.styleTagTransform=ye(),G.setAttributes=k(),G.insert=x().bind(null,"head"),G.domAPI=N(),G.insertStyleElement=ue(),a()(fe.Z,G),fe.Z&&fe.Z.locals&&fe.Z.locals;var $=t(8935),U=t(1404),L=t(6843),F={};F.styleTagTransform=ye(),F.setAttributes=k(),F.insert=x().bind(null,"head"),F.domAPI=N(),F.insertStyleElement=ue(),a()(L.Z,F),L.Z&&L.Z.locals&&L.Z.locals;var I=t(5156),P=t(334),w=t(4512),f=function(z){var B=z.closeOnClickOutside,j=B===void 0||B,C=(0,P.F)({className:"excalidraw-modal-container"});return C?(0,I.createPortal)((0,w.jsxs)("div",{className:(0,_.Z)("Modal",z.className),role:"dialog","aria-modal":"true",onKeyDown:function(A){A.key===T.tW.ESCAPE&&(A.nativeEvent.stopImmediatePropagation(),A.stopPropagation(),z.onCloseRequest())},"aria-labelledby":z.labelledBy,"data-prevent-outside-click":!0,children:[(0,w.jsx)("div",{className:"Modal__background",onClick:j?z.onCloseRequest:void 0}),(0,w.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(z.maxWidth,"px")},tabIndex:0,children:z.children})]}),C):null},r=t(9827),o=t(3607),b=t(3116),s=t(453);function c(z){if(z&&typeof z=="number")return z;switch(z){case"small":return 550;case"wide":return 1024;default:return 800}}var S=function(z){var B=function(){var he=(0,g.useState)(null),Pe=(0,e.Z)(he,2),He=Pe[0],Ke=Pe[1];return[He,(0,g.useCallback)(function(Ae){return Ke(Ae)},[])]}(),j=(0,e.Z)(B,2),C=j[0],A=j[1],Y=(0,g.useState)(document.activeElement),ie=(0,e.Z)(Y,1)[0],le=(0,y.J0)().id,ce=(0,y.Fy)().viewport.isMobile;(0,g.useEffect)(function(){if(C){var he=(0,r.xp)(C);he.length>0&&z.autofocus!==!1&&(he[1]||he[0]).focus();var Pe=function(He){if(He.key===T.tW.TAB){var Ke=(0,r.xp)(C),Ae=document.activeElement,Oe=Ke.findIndex(function(Te){return Te===Ae});Oe===0&&He.shiftKey?(Ke[Ke.length-1].focus(),He.preventDefault()):Oe!==Ke.length-1||He.shiftKey||(Ke[0].focus(),He.preventDefault())}};return C.addEventListener("keydown",Pe),function(){return C.removeEventListener("keydown",Pe)}}},[C,z.autofocus]);var de=(0,y.n9)(),J=(0,o.b9)(b.uh,s.yE),ee=function(){de({openMenu:null}),J(!1),ie.focus(),z.onCloseRequest()};return(0,w.jsx)(f,{className:(0,_.Z)("Dialog",z.className,{"Dialog--fullscreen":ce}),labelledBy:"dialog-title",maxWidth:c(z.size),onCloseRequest:ee,closeOnClickOutside:z.closeOnClickOutside,children:(0,w.jsxs)(U.W,{ref:A,children:[z.title&&(0,w.jsx)("h2",{id:"".concat(le,"-dialog-title"),className:"Dialog__title",children:(0,w.jsx)("span",{className:"Dialog__titleContent",children:z.title})}),(0,w.jsx)("button",{className:"Dialog__close",onClick:ee,title:(0,p.t)("buttons.close"),"aria-label":(0,p.t)("buttons.close"),children:ce?$.op:$.Tw}),(0,w.jsx)("div",{className:"Dialog__content",children:z.children})]})})}},4932:function(Ze,te,t){t.d(te,{Z:function(){return L}});var e=t(7169),_=t(2726),g=t(45),p=t(3379),y=t.n(p),T=t(7795),E=t.n(T),a=t(569),u=t.n(a),N=t(3565),H=t.n(N),x=t(9216),m=t.n(x),k=t(4589),Q=t.n(k),ue=t(6148),me={};me.styleTagTransform=Q(),me.setAttributes=H(),me.insert=u().bind(null,"head"),me.domAPI=E(),me.insertStyleElement=m(),y()(ue.Z,me),ue.Z&&ue.Z.locals&&ue.Z.locals;var ye=t(8531),fe=t(4512),G=["label","onClick","className","children","actionType","type","isLoading"];function $(F,I){var P=Object.keys(F);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(F);I&&(w=w.filter(function(f){return Object.getOwnPropertyDescriptor(F,f).enumerable})),P.push.apply(P,w)}return P}function U(F){for(var I=1;I<arguments.length;I++){var P=arguments[I]!=null?arguments[I]:{};I%2?$(Object(P),!0).forEach(function(w){(0,e.Z)(F,w,P[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(P)):$(Object(P)).forEach(function(w){Object.defineProperty(F,w,Object.getOwnPropertyDescriptor(P,w))})}return F}var L=function(F){var I=F.label,P=F.onClick,w=F.className,f=F.children,r=F.actionType,o=F.type,b=o===void 0?"button":o,s=F.isLoading,c=(0,_.Z)(F,G),S=r?"Dialog__action-button--".concat(r):"";return(0,fe.jsxs)("button",U(U({className:(0,g.Z)("Dialog__action-button",S,w),type:b,"aria-label":I,onClick:P},c),{},{children:[f&&(0,fe.jsx)("div",{style:s?{visibility:"hidden"}:{},children:f}),(0,fe.jsx)("div",{style:s?{visibility:"hidden"}:{},children:I}),s&&(0,fe.jsx)("div",{style:{position:"absolute",inset:0},children:(0,fe.jsx)(ye.Z,{})})]}))}},8924:function(Ze,te,t){t.d(te,{p:function(){return f},$:function(){return w}});var e=t(3607),_=t(9787),g=t(5156),p=t(9240),y=t(9937),T=t(100),E=t(334),a=t(1901),u=t(5491),N=t(4105),H=t(8242),x=t(3379),m=t.n(x),k=t(7795),Q=t.n(k),ue=t(569),me=t.n(ue),ye=t(3565),fe=t.n(ye),G=t(9216),$=t.n(G),U=t(4589),L=t.n(U),F=t(7522),I={};I.styleTagTransform=L(),I.setAttributes=fe(),I.insert=me().bind(null,"head"),I.domAPI=Q(),I.insertStyleElement=$(),m()(F.Z,I),F.Z&&F.Z.locals&&F.Z.locals;var P=t(4512),w=(0,e.cn)(null),f=function(r){var o=r.onCancel,b=r.onChange,s=r.onSelect,c=r.colorPickerType,S=(0,E.F)({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),z=(0,T.I)(),B=(0,H.bd)(),j=(0,H.qD)(),C=(0,N.eD)(B,z),A=function(le){var ce=(0,_.useRef)(le);return Object.assign(ce.current,le),ce.current}({app:j,onCancel:o,onChange:b,onSelect:s,selectedElements:C}),Y=(0,H.J0)().container;(0,_.useEffect)(function(){var le=ie.current;if(le&&j.canvas&&S){var ce=!1,de=j.canvas.getContext("2d"),J=function(Ae){var Oe=Ae.clientX,Te=Ae.clientY,De=de.getImageData((Oe-z.offsetLeft)*window.devicePixelRatio,(Te-z.offsetTop)*window.devicePixelRatio,1,1).data;return(0,p.vq)(De[0],De[1],De[2])},ee=function(Ae){var Oe=Ae.clientX,Te=Ae.clientY,De=Ae.altKey;le.style.top="".concat(Te+20,"px"),le.style.left="".concat(Oe+20,"px");var ke=J({clientX:Oe,clientY:Te});ce&&A.onChange(c,ke,A.selectedElements,{altKey:De}),le.style.background=ke},he=function(){A.onCancel()},Pe=function(Ae){ce=!0,Ae.stopImmediatePropagation()},He=function(Ae){ce=!1,Y?.focus(),Ae.stopImmediatePropagation(),Ae.preventDefault(),function(Oe,Te){A.onSelect(Oe,Te)}(J(Ae),Ae)},Ke=function(Ae){Ae.key===u.tW.ESCAPE&&(Ae.preventDefault(),Ae.stopImmediatePropagation(),he())};return S.tabIndex=-1,S.focus(),ee({clientX:A.app.lastViewportPosition.x,clientY:A.app.lastViewportPosition.y,altKey:!1}),S.addEventListener(y.Ks.KEYDOWN,Ke),S.addEventListener(y.Ks.POINTER_DOWN,Pe),S.addEventListener(y.Ks.POINTER_UP,He),window.addEventListener("pointermove",ee,{passive:!0}),window.addEventListener(y.Ks.BLUR,he),function(){ce=!1,S.removeEventListener(y.Ks.KEYDOWN,Ke),S.removeEventListener(y.Ks.POINTER_DOWN,Pe),S.removeEventListener(y.Ks.POINTER_UP,He),window.removeEventListener("pointermove",ee),window.removeEventListener(y.Ks.BLUR,he)}}},[A,j.canvas,S,c,Y,z.offsetLeft,z.offsetTop]);var ie=(0,_.useRef)(null);return(0,a.O)(ie,function(){o()},function(le){return!!le.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")}),S?(0,g.createPortal)((0,P.jsx)("div",{ref:ie,className:"excalidraw-eye-dropper-preview"}),S):null}},1404:function(Ze,te,t){t.d(te,{W:function(){return U}});var e=t(7169),_=t(3379),g=t.n(_),p=t(7795),y=t.n(p),T=t(569),E=t.n(T),a=t(3565),u=t.n(a),N=t(9216),H=t.n(N),x=t(4589),m=t.n(x),k=t(7369),Q={};Q.styleTagTransform=m(),Q.setAttributes=u(),Q.insert=E().bind(null,"head"),Q.domAPI=y(),Q.insertStyleElement=H(),g()(k.Z,Q),k.Z&&k.Z.locals&&k.Z.locals;var ue=t(9787),me=t.n(ue),ye=t(45),fe=t(4512);function G(L,F){var I=Object.keys(L);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(L);F&&(P=P.filter(function(w){return Object.getOwnPropertyDescriptor(L,w).enumerable})),I.push.apply(I,P)}return I}function $(L){for(var F=1;F<arguments.length;F++){var I=arguments[F]!=null?arguments[F]:{};F%2?G(Object(I),!0).forEach(function(P){(0,e.Z)(L,P,I[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(I)):G(Object(I)).forEach(function(P){Object.defineProperty(L,P,Object.getOwnPropertyDescriptor(I,P))})}return L}var U=me().forwardRef(function(L,F){var I=L.children,P=L.padding,w=L.className,f=L.style;return(0,fe.jsx)("div",{className:(0,ye.Z)("Island",w),style:$({"--padding":P},f),ref:F,children:I})})},3116:function(Ze,te,t){t.d(te,{rY:function(){return pn},uh:function(){return Gt}});var e=t(6655),_=t(1930),g=t(8950),p=t(2577),y=t(2975),T=t.n(y),E=t(9787),a=t.n(E),u=t(9326),N=t(8227),H=t(4643),x=t(7169),m=t(4419),k=t(9827),Q=t(2540),ue=t(9937),me=t(8531),ye=t(5742),fe=t(4512),G=function(_t){var xt=_t.theme,At=_t.id,It=_t.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,fe.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(It,"&useHash=true&token=").concat(At,"&theme=").concat(xt,"&version=").concat(ue.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,N.t)("labels.libraries")})},$=t(45),U=function(_t){var xt=_t.libraryReturnUrl,At=_t.theme,It=_t.id,Mt=_t.style,Nt=_t.children,Yt=_t.className;return(0,fe.jsxs)("div",{className:(0,$.Z)("library-menu-control-buttons",Yt),style:Mt,children:[(0,fe.jsx)(G,{id:It,libraryReturnUrl:xt,theme:At}),Nt]})},L=t(9247),F=t(453),I=t(8242),P=t(8935),w=t(1512),f=t(6548),r=t(3607),o=t(6887),b=t(5284),s=t(1300),c=t(507),S=t(5796),z=t(4932),B=t(3379),j=t.n(B),C=t(7795),A=t.n(C),Y=t(569),ie=t.n(Y),le=t(3565),ce=t.n(le),de=t(9216),J=t.n(de),ee=t(4589),he=t.n(ee),Pe=t(7589),He={};He.styleTagTransform=he(),He.setAttributes=ce(),He.insert=ie().bind(null,"head"),He.domAPI=A(),He.insertStyleElement=J(),j()(Pe.Z,He),Pe.Z&&Pe.Z.locals&&Pe.Z.locals;function Ke(_t,xt){var At=Object.keys(_t);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(_t);xt&&(It=It.filter(function(Mt){return Object.getOwnPropertyDescriptor(_t,Mt).enumerable})),At.push.apply(At,It)}return At}function Ae(_t){for(var xt=1;xt<arguments.length;xt++){var At=arguments[xt]!=null?arguments[xt]:{};xt%2?Ke(Object(At),!0).forEach(function(It){(0,x.Z)(_t,It,At[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(At)):Ke(Object(At)).forEach(function(It){Object.defineProperty(_t,It,Object.getOwnPropertyDescriptor(At,It))})}return _t}function Oe(_t,xt){var At=typeof Symbol<"u"&&_t[Symbol.iterator]||_t["@@iterator"];if(!At){if(Array.isArray(_t)||(At=function(an,kn){if(an){if(typeof an=="string")return Te(an,kn);var Tn=Object.prototype.toString.call(an).slice(8,-1);if(Tn==="Object"&&an.constructor&&(Tn=an.constructor.name),Tn==="Map"||Tn==="Set")return Array.from(an);if(Tn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tn))return Te(an,kn)}}(_t))||xt){At&&(_t=At);var It=0,Mt=function(){};return{s:Mt,n:function(){return It>=_t.length?{done:!0}:{done:!1,value:_t[It++]}},e:function(an){throw an},f:Mt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nt,Yt=!0,ln=!1;return{s:function(){At=At.call(_t)},n:function(){var an=At.next();return Yt=an.done,an},e:function(an){ln=!0,Nt=an},f:function(){try{Yt||At.return==null||At.return()}finally{if(ln)throw Nt}}}}function Te(_t,xt){(xt==null||xt>_t.length)&&(xt=_t.length);for(var At=0,It=new Array(xt);At<xt;At++)It[At]=_t[At];return It}var De="publish-library-data",ke=function(){var _t=(0,g.Z)(T().mark(function xt(At){var It,Mt,Nt,Yt,ln,an,kn,Tn,zn,un,zt,en,Jt,Sn,Hn,Yn,or;return T().wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:It=6,Mt=128,Nt=Math.round(Mt/16),Yt=Math.max(Math.round(Mt/64),2),ln=(0,k.yo)(At,It),(an=document.createElement("canvas")).width=ln[0].length*Mt+(ln[0].length+1)*(2*Nt)-2*Nt,an.height=ln.length*Mt+(ln.length+1)*(2*Nt)-2*Nt,(kn=an.getContext("2d")).fillStyle=b.white,kn.fillRect(0,0,an.width,an.height),Tn=Oe(At.entries()),$n.prev=12,Tn.s();case 14:if((zn=Tn.n()).done){$n.next=28;break}return un=(0,p.Z)(zn.value,2),zt=un[0],en=un[1],$n.next=18,(0,c.NL)({elements:en.elements,files:null,maxWidthOrHeight:Mt});case 18:Jt=$n.sent,Sn=Jt.width,Hn=Jt.height,Yn=Math.floor(zt/It)*(Mt+2*Nt),or=zt%It*(Mt+2*Nt),kn.drawImage(Jt,or+(Mt-Sn)/2+Nt,Yn+(Mt-Hn)/2+Nt),kn.lineWidth=Yt,kn.strokeStyle=b.gray[4],kn.strokeRect(or+Nt/2,Yn+Nt/2,Mt+Nt,Mt+Nt);case 26:$n.next=14;break;case 28:$n.next=33;break;case 30:$n.prev=30,$n.t0=$n.catch(12),Tn.e($n.t0);case 33:return $n.prev=33,Tn.f(),$n.finish(33);case 36:return $n.t1=S.Tu,$n.t2=File,$n.next=40,(0,S._c)(an);case 40:return $n.t3=$n.sent,$n.t4=[$n.t3],$n.t5={type:ue.LO.png},$n.t6=new $n.t2($n.t4,"preview",$n.t5),$n.t7={outputType:ue.LO.jpg,maxWidthOrHeight:5e3},$n.next=47,(0,$n.t1)($n.t6,$n.t7);case 47:return $n.abrupt("return",$n.sent);case 48:case"end":return $n.stop()}},xt,null,[[12,30,33,36]])}));return function(xt){return _t.apply(this,arguments)}}(),be=function(_t){var xt=_t.libItem,At=_t.appState,It=_t.index,Mt=_t.onChange,Nt=_t.onRemove,Yt=(0,E.useRef)(null),ln=(0,E.useRef)(null);return(0,E.useEffect)(function(){var an=Yt.current;an&&(0,g.Z)(T().mark(function kn(){var Tn;return T().wrap(function(zn){for(;;)switch(zn.prev=zn.next){case 0:return zn.next=2,(0,c.$D)({elements:xt.elements,appState:Ae(Ae({},At),{},{viewBackgroundColor:b.white,exportBackground:!0}),files:null});case 2:Tn=zn.sent,an.innerHTML=Tn.outerHTML;case 4:case"end":return zn.stop()}},kn)}))()},[xt.elements,At]),(0,fe.jsxs)("div",{className:"single-library-item",children:[xt.status==="published"&&(0,fe.jsx)("span",{className:"single-library-item-status",children:(0,N.t)("labels.statusPublished")}),(0,fe.jsx)("div",{ref:Yt,className:"single-library-item__svg"}),(0,fe.jsx)(w.V,{"aria-label":(0,N.t)("buttons.remove"),type:"button",icon:P.Tw,className:"single-library-item--remove",onClick:Nt.bind(null,xt.id),title:(0,N.t)("buttons.remove")}),(0,fe.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,fe.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,fe.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,fe.jsx)("span",{style:{fontWeight:500,color:b.gray[6]},children:(0,N.t)("publishDialog.itemName")}),(0,fe.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,fe.jsx)("input",{type:"text",ref:ln,style:{width:"80%",padding:"0.2rem"},defaultValue:xt.name,placeholder:"Item name",onChange:function(an){Mt(an.target.value,It)}})]}),(0,fe.jsx)("span",{className:"error",children:xt.error})]})]})},ve=function(_t){var xt=_t.onClose,At=_t.libraryItems,It=_t.appState,Mt=_t.onSuccess,Nt=_t.onError,Yt=_t.updateItemsInStorage,ln=_t.onRemove,an=(0,E.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),kn=(0,p.Z)(an,2),Tn=kn[0],zn=kn[1],un=(0,E.useState)(!1),zt=(0,p.Z)(un,2),en=zt[0],Jt=zt[1];(0,E.useEffect)(function(){var jn=function(){try{var Cn=localStorage.getItem(De);if(Cn)return JSON.parse(Cn)}catch(Dn){console.error(Dn)}return null}();jn&&zn(jn)},[]);var Sn=(0,E.useState)(At.slice()),Hn=(0,p.Z)(Sn,2),Yn=Hn[0],or=Hn[1];(0,E.useEffect)(function(){or(At.slice())},[At]);var $n,rn=function(jn){zn(Ae(Ae({},Tn),{},(0,x.Z)({},jn.target.name,jn.target.value)))},Pt=function(){var jn=(0,g.Z)(T().mark(function Cn(Dn){var Wn,Ln,er,Vn,Pn,Rn,Nn;return T().wrap(function(Gn){for(;;)switch(Gn.prev=Gn.next){case 0:if(Dn.preventDefault(),Jt(!0),Wn=[],Ln=!1,Yn.forEach(function(nr){var rr="";nr.name||(rr=(0,N.t)("publishDialog.errors.required"),Ln=!0),Wn.push(Ae(Ae({},nr),{},{error:rr}))}),!Ln){Gn.next=9;break}return or(Wn),Jt(!1),Gn.abrupt("return");case 9:return Gn.next=11,ke(Yn);case 11:er=Gn.sent,Vn={type:ue.r8.excalidrawLibrary,version:ue.Kr.excalidrawLibrary,source:ue.pb,libraryItems:Yn},Pn=JSON.stringify(Vn,null,2),Rn=new Blob([Pn],{type:"application/json"}),(Nn=new FormData).append("excalidrawLib",Rn),Nn.append("previewImage",er),Nn.append("previewImageType",er.type),Nn.append("title",Tn.name),Nn.append("authorName",Tn.authorName),Nn.append("githubHandle",Tn.githubHandle),Nn.append("name",Tn.name),Nn.append("description",Tn.description),Nn.append("twitterHandle",Tn.twitterHandle),Nn.append("website",Tn.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:Nn}).then(function(nr){return nr.ok?nr.json().then(function(rr){var Or=rr.url;localStorage.removeItem(De),Mt({url:Or,authorName:Tn.authorName,items:Yn})}):nr.json().catch(function(){throw new Error(nr.statusText||"something went wrong")}).then(function(rr){throw new Error(rr.message||nr.statusText||"something went wrong")})},function(nr){console.error(nr),Nt(nr),Jt(!1)}).catch(function(nr){console.error(nr),Nt(nr),Jt(!1)});case 27:case"end":return Gn.stop()}},Cn)}));return function(Cn){return jn.apply(this,arguments)}}(),Dt=(0,E.useCallback)(function(){Yt(Yn),function(jn){try{localStorage.setItem(De,JSON.stringify(jn))}catch(Cn){console.error(Cn)}}(Tn),xt()},[Yn,xt,Yt,Tn]),Ft=!!At.length,dn=At.some(function(jn){return jn.status==="published"});return(0,fe.jsx)(s.V,{onCloseRequest:Dt,title:(0,N.t)("publishDialog.title"),className:"publish-library",children:Ft?(0,fe.jsxs)("form",{onSubmit:Pt,children:[(0,fe.jsx)("div",{className:"publish-library-note",children:(0,fe.jsx)(L.Z,{i18nKey:"publishDialog.noteDescription",link:function(jn){return(0,fe.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:jn})}})}),(0,fe.jsx)("span",{className:"publish-library-note",children:(0,fe.jsx)(L.Z,{i18nKey:"publishDialog.noteGuidelines",link:function(jn){return(0,fe.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:jn})}})}),(0,fe.jsx)("div",{className:"publish-library-note",children:(0,N.t)("publishDialog.noteItems")}),dn&&(0,fe.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,N.t)("publishDialog.republishWarning")}),($n=[],Yn.forEach(function(jn,Cn){$n.push((0,fe.jsx)("div",{className:"single-library-item-wrapper",children:(0,fe.jsx)(be,{libItem:jn,appState:It,index:Cn,onChange:function(Dn,Wn){var Ln=Yn.slice();Ln[Wn].name=Dn,or(Ln)},onRemove:ln})},Cn))}),(0,fe.jsx)("div",{className:"selected-library-items",children:$n})),(0,fe.jsxs)("div",{className:"publish-library__fields",children:[(0,fe.jsxs)("label",{children:[(0,fe.jsxs)("div",{children:[(0,fe.jsx)("span",{children:(0,N.t)("publishDialog.libraryName")}),(0,fe.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,fe.jsx)("input",{type:"text",name:"name",required:!0,value:Tn.name,onChange:rn,placeholder:(0,N.t)("publishDialog.placeholder.libraryName")})]}),(0,fe.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,fe.jsxs)("div",{children:[(0,fe.jsx)("span",{children:(0,N.t)("publishDialog.libraryDesc")}),(0,fe.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,fe.jsx)("textarea",{name:"description",rows:4,required:!0,value:Tn.description,onChange:rn,placeholder:(0,N.t)("publishDialog.placeholder.libraryDesc")})]}),(0,fe.jsxs)("label",{children:[(0,fe.jsxs)("div",{children:[(0,fe.jsx)("span",{children:(0,N.t)("publishDialog.authorName")}),(0,fe.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,fe.jsx)("input",{type:"text",name:"authorName",required:!0,value:Tn.authorName,onChange:rn,placeholder:(0,N.t)("publishDialog.placeholder.authorName")})]}),(0,fe.jsxs)("label",{children:[(0,fe.jsx)("span",{children:(0,N.t)("publishDialog.githubUsername")}),(0,fe.jsx)("input",{type:"text",name:"githubHandle",value:Tn.githubHandle,onChange:rn,placeholder:(0,N.t)("publishDialog.placeholder.githubHandle")})]}),(0,fe.jsxs)("label",{children:[(0,fe.jsx)("span",{children:(0,N.t)("publishDialog.twitterUsername")}),(0,fe.jsx)("input",{type:"text",name:"twitterHandle",value:Tn.twitterHandle,onChange:rn,placeholder:(0,N.t)("publishDialog.placeholder.twitterHandle")})]}),(0,fe.jsxs)("label",{children:[(0,fe.jsx)("span",{children:(0,N.t)("publishDialog.website")}),(0,fe.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,N.t)("publishDialog.errors.website"),value:Tn.website,onChange:rn,placeholder:(0,N.t)("publishDialog.placeholder.website")})]}),(0,fe.jsx)("span",{className:"publish-library-note",children:(0,fe.jsx)(L.Z,{i18nKey:"publishDialog.noteLicense",link:function(jn){return(0,fe.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:jn})}})})]}),(0,fe.jsxs)("div",{className:"publish-library__buttons",children:[(0,fe.jsx)(z.Z,{label:(0,N.t)("buttons.cancel"),onClick:Dt,"data-testid":"cancel-clear-canvas-button"}),(0,fe.jsx)(z.Z,{type:"submit",label:(0,N.t)("buttons.submit"),actionType:"primary",isLoading:en})]})]}):(0,fe.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,N.t)("publishDialog.atleastOneLibItem")})})},D=t(7104),l=t(100),d=t(5832),M=function(_t,xt){return _t.filter(function(At){return xt.includes(At.id)})},V=function(_t){var xt,At,It=_t.setAppState,Mt=_t.selectedItems,Nt=_t.library,Yt=_t.onRemoveFromLibrary,ln=_t.resetLibrary,an=_t.onSelectItems,kn=_t.appState,Tn=_t.className,zn=(0,r.KO)(u.rF,F.yE),un=(0,p.Z)(zn,1)[0],zt=(0,r.KO)(Gt,F.yE),en=(0,p.Z)(zt,2),Jt=en[0],Sn=en[1],Hn=(0,E.useState)(!1),Yn=(0,p.Z)(Hn,2),or=Yn[0],$n=Yn[1],rn=!!Mt.length,Pt=rn?un.libraryItems.filter(function(Nn){return Mt.includes(Nn.id)}):un.libraryItems,Dt=rn?(0,N.t)("buttons.remove"):(0,N.t)("buttons.resetLibrary"),Ft=(0,E.useState)(!1),dn=(0,p.Z)(Ft,2),jn=dn[0],Cn=dn[1],Dn=(0,E.useState)(null),Wn=(0,p.Z)(Dn,2),Ln=Wn[0],er=Wn[1],Vn=(0,E.useCallback)(function(){return(0,fe.jsxs)(s.V,{onCloseRequest:function(){return er(null)},title:(0,N.t)("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,fe.jsx)("p",{children:(0,fe.jsx)(L.Z,{i18nKey:"publishSuccessDialog.content",authorName:Ln.authorName,link:function(Nn){return(0,fe.jsx)("a",{href:Ln?.url,target:"_blank",rel:"noopener noreferrer",children:Nn})}})}),(0,fe.jsx)(w.V,{type:"button",title:(0,N.t)("buttons.close"),"aria-label":(0,N.t)("buttons.close"),label:(0,N.t)("buttons.close"),onClick:function(){return er(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[er,Ln]),Pn=function(){var Nn=(0,g.Z)(T().mark(function Gn(){return T().wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:return nr.prev=0,nr.next=3,Nt.updateLibrary({libraryItems:(0,f.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:nr.next=11;break;case 5:if(nr.prev=5,nr.t0=nr.catch(0),(nr.t0===null||nr.t0===void 0?void 0:nr.t0.name)!=="AbortError"){nr.next=10;break}return console.warn(nr.t0),nr.abrupt("return");case 10:It({errorMessage:(0,N.t)("errors.importLibraryError")});case 11:case"end":return nr.stop()}},Gn,null,[[0,5]])}));return function(){return Nn.apply(this,arguments)}}(),Rn=function(){var Nn=(0,g.Z)(T().mark(function Gn(){var nr;return T().wrap(function(rr){for(;;)switch(rr.prev=rr.next){case 0:if(!rn){rr.next=4;break}rr.t0=Pt,rr.next=7;break;case 4:return rr.next=6,Nt.getLatestLibrary();case 6:rr.t0=rr.sent;case 7:nr=rr.t0,(0,m.t1)(nr).catch(k.FG).catch(function(Or){It({errorMessage:Or.message})});case 9:case"end":return rr.stop()}},Gn)}));return function(){return Nn.apply(this,arguments)}}();return(0,fe.jsxs)("div",{className:(0,$.Z)("library-menu-dropdown-container",Tn),children:[(0,fe.jsxs)(D.Z,{open:Jt,children:[(0,fe.jsx)(D.Z.Trigger,{onToggle:function(){return Sn(!Jt)},children:P.YA}),(0,fe.jsxs)(D.Z.Content,{onClickOutside:function(){return Sn(!1)},onSelect:function(){return Sn(!1)},className:"library-menu",children:[!rn&&(0,fe.jsx)(D.Z.Item,{onSelect:Pn,icon:P.Tl,"data-testid":"lib-dropdown--load",children:(0,N.t)("buttons.load")}),!!Pt.length&&(0,fe.jsx)(D.Z.Item,{onSelect:Rn,icon:P.Hy,"data-testid":"lib-dropdown--export",children:(0,N.t)("buttons.export")}),!!Pt.length&&(0,fe.jsx)(D.Z.Item,{onSelect:function(){return $n(!0)},icon:P.XH,children:Dt}),rn&&(0,fe.jsx)(D.Z.Item,{icon:P.Nw,onSelect:function(){return Cn(!0)},"data-testid":"lib-dropdown--remove",children:(0,N.t)("buttons.publishLibrary")})]})]}),Mt.length>0&&(0,fe.jsx)("div",{className:"library-actions-counter",children:Mt.length}),or&&(xt=Mt.length?(0,N.t)("alerts.removeItemsFromsLibrary",{count:Mt.length}):(0,N.t)("alerts.resetLibrary"),At=Mt.length?(0,N.t)("confirmDialog.removeItemsFromLib"):(0,N.t)("confirmDialog.resetLibrary"),(0,fe.jsx)(o.Z,{onConfirm:function(){Mt.length?Yt():ln(),$n(!1)},onCancel:function(){$n(!1)},title:At,children:(0,fe.jsx)("p",{children:xt})})),jn&&(0,fe.jsx)(ve,{onClose:function(){return Cn(!1)},libraryItems:M(un.libraryItems,Mt),appState:kn,onSuccess:function(Nn){return function(Gn,nr){Cn(!1),er({url:Gn.url,authorName:Gn.authorName});var rr=nr.slice();rr.forEach(function(Or){Mt.includes(Or.id)&&(Or.status="published")}),Nt.setLibrary(rr)}(Nn,un.libraryItems)},onError:function(Nn){return window.alert(Nn)},updateItemsInStorage:function(){return Nt.setLibrary(un.libraryItems)},onRemove:function(Nn){return an(Mt.filter(function(Gn){return Gn!==Nn}))}}),Ln&&Vn()]})},q=function(_t){var xt=_t.selectedItems,At=_t.onSelectItems,It=_t.className,Mt=(0,I.qD)().library,Nt=(0,d.yT)(),Yt=Nt.clearLibraryCache,ln=Nt.deleteItemsFromLibraryCache,an=(0,l.I)(),kn=(0,I.n9)(),Tn=(0,r.KO)(u.rF,F.yE),zn=(0,p.Z)(Tn,1)[0],un=function(){var zt=(0,g.Z)(T().mark(function en(Jt){var Sn;return T().wrap(function(Hn){for(;;)switch(Hn.prev=Hn.next){case 0:Sn=Jt.filter(function(Yn){return!xt.includes(Yn.id)}),Mt.setLibrary(Sn).catch(function(){kn({errorMessage:(0,N.t)("alerts.errorRemovingFromLibrary")})}),ln(xt),At([]);case 4:case"end":return Hn.stop()}},en)}));return function(en){return zt.apply(this,arguments)}}();return(0,fe.jsx)(V,{appState:an,setAppState:kn,selectedItems:xt,onSelectItems:At,library:Mt,onRemoveFromLibrary:function(){return un(zn.libraryItems)},resetLibrary:function(){Mt.resetLibrary(),Yt()},className:It})},re=t(5644),ae={};ae.styleTagTransform=he(),ae.setAttributes=ce(),ae.insert=ie().bind(null,"head"),ae.domAPI=A(),ae.insertStyleElement=J(),j()(re.Z,ae),re.Z&&re.Z.locals&&re.Z.locals;var ge=t(6238),Se=(0,E.memo)(function(_t){var xt=_t.id,At=_t.elements,It=_t.isPending,Mt=_t.onClick,Nt=_t.selected,Yt=_t.onToggle,ln=_t.onDrag,an=_t.svgCache,kn=(0,E.useRef)(null),Tn=(0,d.mF)(xt,At,an);(0,E.useEffect)(function(){var Hn=kn.current;if(Hn)return Tn&&(Hn.innerHTML=Tn.outerHTML),function(){Hn.innerHTML=""}},[Tn]);var zn=(0,E.useState)(!1),un=(0,p.Z)(zn,2),zt=un[0],en=un[1],Jt=(0,I.Fy)().editor.isMobile,Sn=It&&(0,fe.jsx)("div",{className:"library-unit__adder",children:P.pO});return(0,fe.jsxs)("div",{className:(0,$.Z)("library-unit",{"library-unit__active":At,"library-unit--hover":At&&zt,"library-unit--selected":Nt,"library-unit--skeleton":!Tn}),onMouseEnter:function(){return en(!0)},onMouseLeave:function(){return en(!1)},children:[(0,fe.jsx)("div",{className:(0,$.Z)("library-unit__dragger",{"library-unit__pulse":!!It}),ref:kn,draggable:!!At,onClick:At||It?function(Hn){xt&&Hn.shiftKey?Yt(xt,Hn):Mt(xt)}:void 0,onDragStart:function(Hn){xt?(en(!1),ln(xt,Hn)):Hn.preventDefault()}}),Sn,xt&&At&&(zt||Jt||Nt)&&(0,fe.jsx)(ge.o,{checked:Nt,onChange:function(Hn,Yn){return Yt(xt,Yn)},className:"library-unit__checkbox"})]})}),Re=function(){return(0,fe.jsx)("div",{className:"library-unit library-unit--skeleton"})},Ye=a().useTransition||function(){return[!1,(0,E.useCallback)(function(_t){return _t()},[])]},Ge=function(_t){var xt=_t.children;return(0,fe.jsx)("div",{className:"library-menu-items-container__grid",children:xt})},We=(0,E.memo)(function(_t){var xt=_t.items,At=_t.onItemSelectToggle,It=_t.onItemDrag,Mt=_t.isItemSelected,Nt=_t.onClick,Yt=_t.svgCache,ln=_t.itemsRenderedPerBatch,an=Ye(),kn=(0,p.Z)(an,2)[1],Tn=(0,E.useState)(0),zn=(0,p.Z)(Tn,2),un=zn[0],zt=zn[1];return(0,E.useEffect)(function(){un<xt.length&&kn(function(){zt(un+ln)})},[un,xt.length,kn,ln]),(0,fe.jsx)(fe.Fragment,{children:xt.map(function(en,Jt){var Sn;return Jt<un?(0,fe.jsx)(Se,{elements:en?.elements,isPending:!(en!=null&&en.id||en==null||!en.elements),onClick:Nt,svgCache:Yt,id:en?.id,selected:Mt(en.id),onToggle:At,onDrag:It},(Sn=en?.id)!==null&&Sn!==void 0?Sn:Jt):(0,fe.jsx)(Re,{},Jt)})})}),qe=t(200),lt=t.n(qe),ft=(0,r.cn)(0),ze=t(6440),we={};we.styleTagTransform=he(),we.setAttributes=ce(),we.insert=ie().bind(null,"head"),we.domAPI=A(),we.insertStyleElement=J(),j()(ze.Z,we),ze.Z&&ze.Z.locals&&ze.Z.locals;function Me(_t,xt){var At=Object.keys(_t);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(_t);xt&&(It=It.filter(function(Mt){return Object.getOwnPropertyDescriptor(_t,Mt).enumerable})),At.push.apply(At,It)}return At}function $e(_t){for(var xt=1;xt<arguments.length;xt++){var At=arguments[xt]!=null?arguments[xt]:{};xt%2?Me(Object(At),!0).forEach(function(It){(0,x.Z)(_t,It,At[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(At)):Me(Object(At)).forEach(function(It){Object.defineProperty(_t,It,Object.getOwnPropertyDescriptor(At,It))})}return _t}function at(_t){var xt=_t.isLoading,At=_t.libraryItems,It=_t.onAddToLibrary,Mt=_t.onInsertLibraryItems,Nt=_t.pendingElements,Yt=_t.theme,ln=_t.id,an=_t.libraryReturnUrl,kn=_t.onSelectItems,Tn=_t.selectedItems,zn=(0,E.useRef)(null),un=function(Wn){var Ln=(0,r.KO)(ft),er=(0,p.Z)(Ln,2),Vn=er[0],Pn=er[1];return(0,E.useEffect)(function(){var Rn=Wn.current;if(Rn){var Nn=lt()(function(){var Gn=Rn.scrollTop;Pn(Gn)},200);return Rn.addEventListener("scroll",Nn),function(){Nn.cancel(),Rn.removeEventListener("scroll",Nn)}}},[Wn,Pn]),Vn}(zn);(0,E.useEffect)(function(){var Wn;un>0&&((Wn=zn.current)===null||Wn===void 0||Wn.scrollTo(0,un))},[]);var zt=(0,d.yT)().svgCache,en=(0,E.useMemo)(function(){return At.filter(function(Wn){return Wn.status!=="published"})},[At]),Jt=(0,E.useMemo)(function(){return At.filter(function(Wn){return Wn.status==="published"})},[At]),Sn=!At.length&&!Nt.length,Hn=!Nt.length&&!en.length&&!Jt.length,Yn=(0,E.useState)(null),or=(0,p.Z)(Yn,2),$n=or[0],rn=or[1],Pt=(0,E.useCallback)(function(Wn,Ln){var er=!Tn.includes(Wn),Vn=[].concat((0,_.Z)(en),(0,_.Z)(Jt));if(er){if(Ln.shiftKey&&$n){var Pn=Vn.findIndex(function(nr){return nr.id===$n}),Rn=Vn.findIndex(function(nr){return nr.id===Wn});if(Pn===-1||Rn===-1)return void kn([].concat((0,_.Z)(Tn),[Wn]));var Nn=(0,k.xn)(Tn),Gn=Vn.reduce(function(nr,rr,Or){return(Or>=Pn&&Or<=Rn||Nn.has(rr.id))&&nr.push(rr.id),nr},[]);kn(Gn)}else kn([].concat((0,_.Z)(Tn),[Wn]));rn(Wn)}else rn(null),kn(Tn.filter(function(nr){return nr!==Wn}))},[$n,kn,Jt,Tn,en]),Dt=(0,E.useCallback)(function(Wn){return(Tn.includes(Wn)?At.filter(function(Ln){return Tn.includes(Ln.id)}):At.filter(function(Ln){return Ln.id===Wn})).map(function(Ln){return $e($e({},Ln),{},{elements:(0,ye._N)(Ln.elements,{randomizeSeed:!0})})})},[At,Tn]),Ft=(0,E.useCallback)(function(Wn,Ln){Ln.dataTransfer.setData(ue.LO.excalidrawlib,(0,m.NI)(Dt(Wn)))},[Dt]),dn=(0,E.useCallback)(function(Wn){return!!Wn&&Tn.includes(Wn)},[Tn]),jn=(0,E.useCallback)(function(){It(Nt)},[Nt,It]),Cn=(0,E.useCallback)(function(Wn){Wn&&Mt(Dt(Wn))},[Dt,Mt]),Dn=zt.size>=At.length?64:17;return(0,fe.jsxs)("div",{className:"library-menu-items-container",style:Nt.length||en.length||Jt.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!Hn&&(0,fe.jsx)(q,{selectedItems:Tn,onSelectItems:kn,className:"library-menu-dropdown-container--in-heading"}),(0,fe.jsxs)(Q.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:Jt.length>0?1:"0 1 auto",marginBottom:0},ref:zn,children:[(0,fe.jsxs)(fe.Fragment,{children:[!Hn&&(0,fe.jsx)("div",{className:"library-menu-items-container__header",children:(0,N.t)("labels.personalLib")}),xt&&(0,fe.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,fe.jsx)(me.Z,{})}),Nt.length||en.length?(0,fe.jsxs)(Ge,{children:[Nt.length>0&&(0,fe.jsx)(We,{itemsRenderedPerBatch:Dn,items:[{id:null,elements:Nt}],onItemSelectToggle:Pt,onItemDrag:Ft,onClick:jn,isItemSelected:dn,svgCache:zt}),(0,fe.jsx)(We,{itemsRenderedPerBatch:Dn,items:en,onItemSelectToggle:Pt,onItemDrag:Ft,onClick:Cn,isItemSelected:dn,svgCache:zt})]}):(0,fe.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,fe.jsx)("div",{className:"library-menu-items__no-items__label",children:(0,N.t)("library.noItems")}),(0,fe.jsx)("div",{className:"library-menu-items__no-items__hint",children:Jt.length>0?(0,N.t)("library.hint_emptyPrivateLibrary"):(0,N.t)("library.hint_emptyLibrary")})]})]}),(0,fe.jsxs)(fe.Fragment,{children:[(Jt.length>0||Nt.length>0||en.length>0)&&(0,fe.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,N.t)("labels.excalidrawLib")}),Jt.length>0?(0,fe.jsx)(Ge,{children:(0,fe.jsx)(We,{itemsRenderedPerBatch:Dn,items:Jt,onItemSelectToggle:Pt,onItemDrag:Ft,onClick:Cn,isItemSelected:dn,svgCache:zt})}):en.length>0?(0,fe.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,N.t)("library.noItems")}):null]}),Sn&&(0,fe.jsx)(U,{style:{padding:"16px 0",width:"100%"},id:ln,libraryReturnUrl:an,theme:Yt,children:(0,fe.jsx)(q,{selectedItems:Tn,onSelectItems:kn})})]})]})}var dt=t(3646),vt=t(4105),Tt=t(8923),Et={};Et.styleTagTransform=he(),Et.setAttributes=ce(),Et.insert=ie().bind(null,"head"),Et.domAPI=A(),Et.insertStyleElement=J(),j()(Tt.Z,Et),Tt.Z&&Tt.Z.locals&&Tt.Z.locals;function jt(_t,xt){var At=typeof Symbol<"u"&&_t[Symbol.iterator]||_t["@@iterator"];if(!At){if(Array.isArray(_t)||(At=function(an,kn){if(an){if(typeof an=="string")return Kt(an,kn);var Tn=Object.prototype.toString.call(an).slice(8,-1);if(Tn==="Object"&&an.constructor&&(Tn=an.constructor.name),Tn==="Map"||Tn==="Set")return Array.from(an);if(Tn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tn))return Kt(an,kn)}}(_t))||xt){At&&(_t=At);var It=0,Mt=function(){};return{s:Mt,n:function(){return It>=_t.length?{done:!0}:{done:!1,value:_t[It++]}},e:function(an){throw an},f:Mt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nt,Yt=!0,ln=!1;return{s:function(){At=At.call(_t)},n:function(){var an=At.next();return Yt=an.done,an},e:function(an){ln=!0,Nt=an},f:function(){try{Yt||At.return==null||At.return()}finally{if(ln)throw Nt}}}}function Kt(_t,xt){(xt==null||xt>_t.length)&&(xt=_t.length);for(var At=0,It=new Array(xt);At<xt;At++)It[At]=_t[At];return It}var Gt=(0,r.cn)(!1),Ht=function(_t){var xt=_t.children;return(0,fe.jsx)("div",{className:"layer-ui__library",children:xt})},$t=function(_t){var xt=_t.onInsertLibraryItems,At=_t.pendingElements,It=_t.onAddToLibrary,Mt=_t.setAppState,Nt=_t.libraryReturnUrl,Yt=_t.library,ln=_t.id,an=_t.theme,kn=_t.selectedItems,Tn=_t.onSelectItems,zn=(0,r.KO)(u.rF,F.yE),un=(0,p.Z)(zn,1)[0],zt=(0,E.useCallback)(function(Sn){var Hn=function(){var Yn=(0,g.Z)(T().mark(function or($n,rn){var Pt,Dt,Ft,dn,jn;return T().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:(0,dt.L)("element","addToLibrary","ui"),Pt=jt(ue.PR),Cn.prev=2,Ft=function(){var Dn=Dt.value;if($n.some(function(Wn){return Wn.type===Dn}))return{v:Mt({errorMessage:(0,N.t)("errors.libraryElementTypeError.".concat(Dn))})}},Pt.s();case 5:if((Dt=Pt.n()).done){Cn.next=11;break}if(dn=Ft(),(0,e.Z)(dn)!=="object"){Cn.next=9;break}return Cn.abrupt("return",dn.v);case 9:Cn.next=5;break;case 11:Cn.next=16;break;case 13:Cn.prev=13,Cn.t0=Cn.catch(2),Pt.e(Cn.t0);case 16:return Cn.prev=16,Pt.f(),Cn.finish(16);case 19:jn=[{status:"unpublished",elements:$n,id:(0,H.kb)(),created:Date.now()}].concat((0,_.Z)(rn)),It(),Yt.setLibrary(jn).catch(function(){Mt({errorMessage:(0,N.t)("alerts.errorAddingToLibrary")})});case 22:case"end":return Cn.stop()}},or,null,[[2,13,16,19]])}));return function(or,$n){return Yn.apply(this,arguments)}}();Hn(Sn,un.libraryItems)},[It,Yt,Mt,un.libraryItems]),en=(0,E.useMemo)(function(){return un.libraryItems},[un]);if(un.status==="loading"&&!un.isInitialized)return(0,fe.jsx)(Ht,{children:(0,fe.jsx)("div",{className:"layer-ui__library-message",children:(0,fe.jsxs)("div",{children:[(0,fe.jsx)(me.Z,{size:"2em"}),(0,fe.jsx)("span",{children:(0,N.t)("labels.libraryLoadingMessage")})]})})});var Jt=un.libraryItems.length>0||At.length>0;return(0,fe.jsxs)(Ht,{children:[(0,fe.jsx)(at,{isLoading:un.status==="loading",libraryItems:en,onAddToLibrary:zt,onInsertLibraryItems:xt,pendingElements:At,id:ln,libraryReturnUrl:Nt,theme:an,onSelectItems:Tn,selectedItems:kn}),Jt&&(0,fe.jsx)(U,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:ln,libraryReturnUrl:Nt,theme:an})]})},pn=function(){var _t=(0,I.qD)(),xt=_t.library,At=_t.id,It=_t.onInsertElements,Mt=(0,I.hY)(),Nt=(0,l.I)(),Yt=(0,I.n9)(),ln=(0,I.bd)(),an=(0,E.useState)([]),kn=(0,p.Z)(an,2),Tn=kn[0],zn=kn[1],un=(0,E.useMemo)(function(){return xt},[xt]),zt=function(Sn,Hn){var Yn=function(){return(0,vt.eD)(Hn,Sn,{includeBoundTextElement:!0,includeElementsInFrames:!0})},or=(0,E.useRef)(Yn()),$n=(0,E.useRef)(Sn),rn=(0,E.useRef)(Hn);return(0,k.w8)(Sn.selectedElementIds,$n.current.selectedElementIds)&&(0,k.w8)(Hn,rn.current)||(or.current=Yn(),$n.current=Sn,rn.current=Hn),or.current}(Nt,ln),en=(0,E.useCallback)(function(Sn){It((0,u.WV)(Sn))},[It]),Jt=(0,E.useCallback)(function(){Yt({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})},[Yt]);return(0,fe.jsx)($t,{pendingElements:zt,onInsertLibraryItems:en,onAddToLibrary:Jt,setAppState:Yt,libraryReturnUrl:Mt.libraryReturnUrl,library:un,id:At,theme:Nt.theme,selectedItems:Tn,onSelectItems:zn})}},7165:function(Ze,te,t){t.d(te,{z:function(){return a}});var e=t(2577),_=t(8227),g=t(9787),p=t(8531),y=t(45),T=t(9937),E=t(4512),a=function(u){var N=u.delay,H=u.theme,x=(0,g.useState)(!!N),m=(0,e.Z)(x,2),k=m[0],Q=m[1];return(0,g.useEffect)(function(){if(N){var ue=setTimeout(function(){Q(!1)},N);return function(){return clearTimeout(ue)}}},[N]),k?null:(0,E.jsxs)("div",{className:(0,y.Z)("LoadingMessage",{"LoadingMessage--dark":H===T.C6.DARK}),children:[(0,E.jsx)("div",{children:(0,E.jsx)(p.Z,{})}),(0,E.jsx)("div",{className:"LoadingMessage-text",children:(0,_.t)("labels.loadingScene")})]})}},7827:function(Ze,te,t){t.d(te,{K:function(){return T},_:function(){return E}});var e=t(8950),_=t(2975),g=t.n(_),p=t(3607),y=t(453),T=(0,p.cn)({active:!1});function E(u){return a.apply(this,arguments)}function a(){return(a=(0,e.Z)(g().mark(function u(N){var H,x,m,k;return g().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return H=N.title,x=N.description,m=N.actionLabel,k=N.color,Q.abrupt("return",new Promise(function(ue){y.e_.set(T,{active:!0,onConfirm:function(){return ue(!0)},onClose:function(){return ue(!1)},onReject:function(){return ue(!1)},title:H,description:x,actionLabel:m,color:k})}));case 2:case"end":return Q.stop()}},u)}))).apply(this,arguments)}},3204:function(Ze,te,t){t.d(te,{J:function(){return G}});var e=t(9787),_=t(3379),g=t.n(_),p=t(7795),y=t.n(p),T=t(569),E=t.n(T),a=t(3565),u=t.n(a),N=t(9216),H=t.n(N),x=t(4589),m=t.n(x),k=t(9935),Q={};Q.styleTagTransform=m(),Q.setAttributes=u(),Q.insert=E().bind(null,"head"),Q.domAPI=y(),Q.insertStyleElement=H(),g()(k.Z,Q),k.Z&&k.Z.locals&&k.Z.locals;var ue=t(5156),me=t(9827),ye=t(5491),fe=t(4512),G=function($){var U=$.children,L=$.left,F=$.top,I=$.onCloseRequest,P=$.fitInViewport,w=P!==void 0&&P,f=$.offsetLeft,r=f===void 0?0:f,o=$.offsetTop,b=o===void 0?0:o,s=$.viewportWidth,c=s===void 0?window.innerWidth:s,S=$.viewportHeight,z=S===void 0?window.innerHeight:S,B=(0,e.useRef)(null);(0,e.useEffect)(function(){var C=B.current;if(C){C.contains(document.activeElement)||C.focus();var A=function(Y){if(Y.key===ye.tW.TAB){var ie=(0,me.xp)(C),le=document.activeElement,ce=ie.findIndex(function(he){return he===le});if(le===C){var de;Y.shiftKey?(de=ie[ie.length-1])===null||de===void 0||de.focus():ie[0].focus(),Y.preventDefault(),Y.stopImmediatePropagation()}else if(ce===0&&Y.shiftKey){var J;(J=ie[ie.length-1])===null||J===void 0||J.focus(),Y.preventDefault(),Y.stopImmediatePropagation()}else if(ce===ie.length-1&&!Y.shiftKey){var ee;(ee=ie[0])===null||ee===void 0||ee.focus(),Y.preventDefault(),Y.stopImmediatePropagation()}}};return C.addEventListener("keydown",A),function(){return C.removeEventListener("keydown",A)}}},[]);var j=(0,e.useRef)(null);return(0,e.useLayoutEffect)(function(){if(w&&B.current&&F!=null&&L!=null){var C,A,Y=B.current,ie=Y.getBoundingClientRect(),le=ie.width,ce=ie.height;if(((C=j.current)===null||C===void 0?void 0:C.top)===F&&((A=j.current)===null||A===void 0?void 0:A.left)===L)return;j.current={top:F,left:L},le>=c?(Y.style.width="".concat(c,"px"),Y.style.left="0px",Y.style.overflowX="scroll"):Y.style.left="".concat(L+le-r>c?c-le-10:L,"px"),ce>=z?(Y.style.height="".concat(z-20,"px"),Y.style.top="10px",Y.style.overflowY="scroll"):Y.style.top="".concat(F+ce-b>z?z-ce:F,"px")}},[F,L,w,c,z,r,b]),(0,e.useEffect)(function(){if(I){var C=function(A){var Y;(Y=B.current)!==null&&Y!==void 0&&Y.contains(A.target)||(0,ue.unstable_batchedUpdates)(function(){return I(A)})};return document.addEventListener("pointerdown",C,!1),function(){return document.removeEventListener("pointerdown",C,!1)}}},[I]),(0,fe.jsx)("div",{className:"popover",ref:B,tabIndex:-1,children:U})}},5902:function(Ze,te,t){t.d(te,{YE:function(){return $n},t6:function(){return Yn}});var e=t(2577),_=t(7169),g=t(2726),p=t(9787),y=t.n(p),T=t(1404),E=t(3607),a=t(453),u=y().createContext({}),N=t(45),H=t(8227),x=t(8242),m=t(8935),k=t(8925),Q=t(8806),ue=t(4512),me=function(rn){var Pt=rn.children,Dt=rn.className,Ft=(0,x.Fy)(),dn=(0,p.useContext)(u),jn=!(!Ft.editor.canFitSidebar||!dn.shouldRenderDockButton);return(0,ue.jsxs)("div",{className:(0,N.Z)("sidebar__header",Dt),"data-testid":"sidebar-header",children:[Pt,(0,ue.jsxs)("div",{className:"sidebar__header__buttons",children:[jn&&(0,ue.jsx)(k.u,{label:(0,H.t)("labels.sidebarLock"),children:(0,ue.jsx)(Q.z,{onSelect:function(){var Cn;return(Cn=dn.onDock)===null||Cn===void 0?void 0:Cn.call(dn,!dn.docked)},selected:!!dn.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":(0,H.t)("labels.sidebarLock"),children:m.qQ})}),(0,ue.jsx)(Q.z,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:dn.onCloseRequest,"aria-label":(0,H.t)("buttons.close"),children:m.Tw})]})]})};me.displayName="SidebarHeader";var ye=t(9827),fe=t(5491),G=t(9937),$=t(100),U=t(3379),L=t.n(U),F=t(7795),I=t.n(F),P=t(569),w=t.n(P),f=t(3565),r=t.n(f),o=t(9216),b=t.n(o),s=t(4589),c=t.n(s),S=t(7051),z={};z.styleTagTransform=c(),z.setAttributes=r(),z.insert=w().bind(null,"head"),z.domAPI=I(),z.insertStyleElement=b(),L()(S.Z,z),S.Z&&S.Z.locals&&S.Z.locals;var B=function(rn){var Pt,Dt=rn.name,Ft=rn.tab,dn=rn.icon,jn=rn.title,Cn=rn.children,Dn=rn.onToggle,Wn=rn.className,Ln=rn.style,er=(0,x.n9)(),Vn=(0,$.I)();return(0,ue.jsxs)("label",{title:jn,children:[(0,ue.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(Pn){var Rn;(Rn=document.querySelector(".layer-ui__wrapper"))===null||Rn===void 0||Rn.classList.remove("animate");var Nn=Pn.target.checked;er({openSidebar:Nn?{name:Dt,tab:Ft}:null}),Dn?.(Nn)},checked:((Pt=Vn.openSidebar)===null||Pt===void 0?void 0:Pt.name)===Dt,"aria-label":jn,"aria-keyshortcuts":"0"}),(0,ue.jsxs)("div",{className:(0,N.Z)("sidebar-trigger",Wn),style:Ln,children:[dn&&(0,ue.jsx)("div",{children:dn}),Cn&&(0,ue.jsx)("div",{className:"sidebar-trigger__label",children:Cn})]})]})};B.displayName="SidebarTrigger";var j=t(11),C=t(7217),A=t(1267),Y=t(9335),ie=t(4801),le=t(5622),ce=t(3119),de=t(3060),J=t(2673);const ee=(0,p.createContext)(void 0);function he(rn){const Pt=(0,p.useContext)(ee);return rn||Pt||"ltr"}const Pe="rovingFocusGroup.onEntryFocus",He={bubbles:!1,cancelable:!0},Ke="RovingFocusGroup",[Ae,Oe,Te]=function(rn){const Pt=rn+"CollectionProvider",[Dt,Ft]=(0,A.b)(Pt),[dn,jn]=Dt(Pt,{collectionRef:{current:null},itemMap:new Map}),Cn=Pn=>{const{scope:Rn,children:Nn}=Pn,Gn=y().useRef(null),nr=y().useRef(new Map).current;return y().createElement(dn,{scope:Rn,itemMap:nr,collectionRef:Gn},Nn)},Dn=rn+"CollectionSlot",Wn=y().forwardRef((Pn,Rn)=>{const{scope:Nn,children:Gn}=Pn,nr=jn(Dn,Nn),rr=(0,Y.e)(Rn,nr.collectionRef);return y().createElement(ie.g7,{ref:rr},Gn)}),Ln=rn+"CollectionItemSlot",er="data-radix-collection-item",Vn=y().forwardRef((Pn,Rn)=>{const{scope:Nn,children:Gn,...nr}=Pn,rr=y().useRef(null),Or=(0,Y.e)(Rn,rr),Xr=jn(Ln,Nn);return y().useEffect(()=>(Xr.itemMap.set(rr,{ref:rr,...nr}),()=>{Xr.itemMap.delete(rr)})),y().createElement(ie.g7,{[er]:"",ref:Or},Gn)});return[{Provider:Cn,Slot:Wn,ItemSlot:Vn},function(Pn){const Rn=jn(rn+"CollectionConsumer",Pn);return y().useCallback(()=>{const Nn=Rn.collectionRef.current;if(!Nn)return[];const Gn=Array.from(Nn.querySelectorAll(`[${er}]`));return Array.from(Rn.itemMap.values()).sort((nr,rr)=>Gn.indexOf(nr.ref.current)-Gn.indexOf(rr.ref.current))},[Rn.collectionRef,Rn.itemMap])},Ft]}(Ke),[De,ke]=(0,A.b)(Ke,[Te]),[be,ve]=De(Ke),D=(0,p.forwardRef)((rn,Pt)=>(0,p.createElement)(Ae.Provider,{scope:rn.__scopeRovingFocusGroup},(0,p.createElement)(Ae.Slot,{scope:rn.__scopeRovingFocusGroup},(0,p.createElement)(l,(0,j.Z)({},rn,{ref:Pt}))))),l=(0,p.forwardRef)((rn,Pt)=>{const{__scopeRovingFocusGroup:Dt,orientation:Ft,loop:dn=!1,dir:jn,currentTabStopId:Cn,defaultCurrentTabStopId:Dn,onCurrentTabStopIdChange:Wn,onEntryFocus:Ln,...er}=rn,Vn=(0,p.useRef)(null),Pn=(0,Y.e)(Pt,Vn),Rn=he(jn),[Nn=null,Gn]=(0,J.T)({prop:Cn,defaultProp:Dn,onChange:Wn}),[nr,rr]=(0,p.useState)(!1),Or=(0,de.W)(Ln),Xr=Oe(Dt),po=(0,p.useRef)(!1),[xo,jo]=(0,p.useState)(0);return(0,p.useEffect)(()=>{const ho=Vn.current;if(ho)return ho.addEventListener(Pe,Or),()=>ho.removeEventListener(Pe,Or)},[Or]),(0,p.createElement)(be,{scope:Dt,orientation:Ft,dir:Rn,loop:dn,currentTabStopId:Nn,onItemFocus:(0,p.useCallback)(ho=>Gn(ho),[Gn]),onItemShiftTab:(0,p.useCallback)(()=>rr(!0),[]),onFocusableItemAdd:(0,p.useCallback)(()=>jo(ho=>ho+1),[]),onFocusableItemRemove:(0,p.useCallback)(()=>jo(ho=>ho-1),[])},(0,p.createElement)(ce.WV.div,(0,j.Z)({tabIndex:nr||xo===0?-1:0,"data-orientation":Ft},er,{ref:Pn,style:{outline:"none",...rn.style},onMouseDown:(0,C.M)(rn.onMouseDown,()=>{po.current=!0}),onFocus:(0,C.M)(rn.onFocus,ho=>{const Qr=!po.current;if(ho.target===ho.currentTarget&&Qr&&!nr){const go=new CustomEvent(Pe,He);if(ho.currentTarget.dispatchEvent(go),!go.defaultPrevented){const et=Xr().filter(Ee=>Ee.focusable);q([et.find(Ee=>Ee.active),et.find(Ee=>Ee.id===Nn),...et].filter(Boolean).map(Ee=>Ee.ref.current))}}po.current=!1}),onBlur:(0,C.M)(rn.onBlur,()=>rr(!1))})))}),d="RovingFocusGroupItem",M=(0,p.forwardRef)((rn,Pt)=>{const{__scopeRovingFocusGroup:Dt,focusable:Ft=!0,active:dn=!1,tabStopId:jn,...Cn}=rn,Dn=(0,le.M)(),Wn=jn||Dn,Ln=ve(d,Dt),er=Ln.currentTabStopId===Wn,Vn=Oe(Dt),{onFocusableItemAdd:Pn,onFocusableItemRemove:Rn}=Ln;return(0,p.useEffect)(()=>{if(Ft)return Pn(),()=>Rn()},[Ft,Pn,Rn]),(0,p.createElement)(Ae.ItemSlot,{scope:Dt,id:Wn,focusable:Ft,active:dn},(0,p.createElement)(ce.WV.span,(0,j.Z)({tabIndex:er?0:-1,"data-orientation":Ln.orientation},Cn,{ref:Pt,onMouseDown:(0,C.M)(rn.onMouseDown,Nn=>{Ft?Ln.onItemFocus(Wn):Nn.preventDefault()}),onFocus:(0,C.M)(rn.onFocus,()=>Ln.onItemFocus(Wn)),onKeyDown:(0,C.M)(rn.onKeyDown,Nn=>{if(Nn.key==="Tab"&&Nn.shiftKey)return void Ln.onItemShiftTab();if(Nn.target!==Nn.currentTarget)return;const Gn=function(Or,Xr,po){const xo=function(jo,ho){return ho!=="rtl"?jo:jo==="ArrowLeft"?"ArrowRight":jo==="ArrowRight"?"ArrowLeft":jo}(Or.key,po);return Xr==="vertical"&&["ArrowLeft","ArrowRight"].includes(xo)||Xr==="horizontal"&&["ArrowUp","ArrowDown"].includes(xo)?void 0:V[xo]}(Nn,Ln.orientation,Ln.dir);if(Gn!==void 0){Nn.preventDefault();let Or=Vn().filter(Xr=>Xr.focusable).map(Xr=>Xr.ref.current);if(Gn==="last")Or.reverse();else if(Gn==="prev"||Gn==="next"){Gn==="prev"&&Or.reverse();const Xr=Or.indexOf(Nn.currentTarget);Or=Ln.loop?(rr=Xr+1,(nr=Or).map((po,xo)=>nr[(rr+xo)%nr.length])):Or.slice(Xr+1)}setTimeout(()=>q(Or))}var nr,rr})})))}),V={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q(rn){const Pt=document.activeElement;for(const Dt of rn)if(Dt===Pt||(Dt.focus(),document.activeElement!==Pt))return}const re=D,ae=M;var ge=t(1483);const Se="Tabs",[Re,Ye]=(0,A.b)(Se,[ke]),Ge=ke(),[We,qe]=Re(Se),lt=(0,p.forwardRef)((rn,Pt)=>{const{__scopeTabs:Dt,value:Ft,onValueChange:dn,defaultValue:jn,orientation:Cn="horizontal",dir:Dn,activationMode:Wn="automatic",...Ln}=rn,er=he(Dn),[Vn,Pn]=(0,J.T)({prop:Ft,onChange:dn,defaultProp:jn});return(0,p.createElement)(We,{scope:Dt,baseId:(0,le.M)(),value:Vn,onValueChange:Pn,orientation:Cn,dir:er,activationMode:Wn},(0,p.createElement)(ce.WV.div,(0,j.Z)({dir:er,"data-orientation":Cn},Ln,{ref:Pt})))}),ft="TabsList",ze=(0,p.forwardRef)((rn,Pt)=>{const{__scopeTabs:Dt,loop:Ft=!0,...dn}=rn,jn=qe(ft,Dt),Cn=Ge(Dt);return(0,p.createElement)(re,(0,j.Z)({asChild:!0},Cn,{orientation:jn.orientation,dir:jn.dir,loop:Ft}),(0,p.createElement)(ce.WV.div,(0,j.Z)({role:"tablist","aria-orientation":jn.orientation},dn,{ref:Pt})))}),we="TabsTrigger",Me=(0,p.forwardRef)((rn,Pt)=>{const{__scopeTabs:Dt,value:Ft,disabled:dn=!1,...jn}=rn,Cn=qe(we,Dt),Dn=Ge(Dt),Wn=dt(Cn.baseId,Ft),Ln=vt(Cn.baseId,Ft),er=Ft===Cn.value;return(0,p.createElement)(ae,(0,j.Z)({asChild:!0},Dn,{focusable:!dn,active:er}),(0,p.createElement)(ce.WV.button,(0,j.Z)({type:"button",role:"tab","aria-selected":er,"aria-controls":Ln,"data-state":er?"active":"inactive","data-disabled":dn?"":void 0,disabled:dn,id:Wn},jn,{ref:Pt,onMouseDown:(0,C.M)(rn.onMouseDown,Vn=>{dn||Vn.button!==0||Vn.ctrlKey!==!1?Vn.preventDefault():Cn.onValueChange(Ft)}),onKeyDown:(0,C.M)(rn.onKeyDown,Vn=>{[" ","Enter"].includes(Vn.key)&&Cn.onValueChange(Ft)}),onFocus:(0,C.M)(rn.onFocus,()=>{const Vn=Cn.activationMode!=="manual";er||dn||!Vn||Cn.onValueChange(Ft)})})))}),$e="TabsContent",at=(0,p.forwardRef)((rn,Pt)=>{const{__scopeTabs:Dt,value:Ft,forceMount:dn,children:jn,...Cn}=rn,Dn=qe($e,Dt),Wn=dt(Dn.baseId,Ft),Ln=vt(Dn.baseId,Ft),er=Ft===Dn.value,Vn=(0,p.useRef)(er);return(0,p.useEffect)(()=>{const Pn=requestAnimationFrame(()=>Vn.current=!1);return()=>cancelAnimationFrame(Pn)},[]),(0,p.createElement)(ge.z,{present:dn||er},({present:Pn})=>(0,p.createElement)(ce.WV.div,(0,j.Z)({"data-state":er?"active":"inactive","data-orientation":Dn.orientation,role:"tabpanel","aria-labelledby":Wn,hidden:!Pn,id:Ln,tabIndex:0},Cn,{ref:Pt,style:{...rn.style,animationDuration:Vn.current?"0s":void 0}}),Pn&&jn))});function dt(rn,Pt){return`${rn}-trigger-${Pt}`}function vt(rn,Pt){return`${rn}-content-${Pt}`}const Tt=lt,Et=ze,jt=Me,Kt=at;var Gt=["children"];function Ht(rn,Pt){var Dt=Object.keys(rn);if(Object.getOwnPropertySymbols){var Ft=Object.getOwnPropertySymbols(rn);Pt&&(Ft=Ft.filter(function(dn){return Object.getOwnPropertyDescriptor(rn,dn).enumerable})),Dt.push.apply(Dt,Ft)}return Dt}function $t(rn){for(var Pt=1;Pt<arguments.length;Pt++){var Dt=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?Ht(Object(Dt),!0).forEach(function(Ft){(0,_.Z)(rn,Ft,Dt[Ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rn,Object.getOwnPropertyDescriptors(Dt)):Ht(Object(Dt)).forEach(function(Ft){Object.defineProperty(rn,Ft,Object.getOwnPropertyDescriptor(Dt,Ft))})}return rn}var pn=function(rn){var Pt=rn.children,Dt=(0,g.Z)(rn,Gt);return(0,ue.jsx)(Et,$t($t({className:"sidebar-triggers"},Dt),{},{children:Pt}))};pn.displayName="SidebarTabTriggers";var _t=["children","tab","onSelect"];function xt(rn,Pt){var Dt=Object.keys(rn);if(Object.getOwnPropertySymbols){var Ft=Object.getOwnPropertySymbols(rn);Pt&&(Ft=Ft.filter(function(dn){return Object.getOwnPropertyDescriptor(rn,dn).enumerable})),Dt.push.apply(Dt,Ft)}return Dt}function At(rn){for(var Pt=1;Pt<arguments.length;Pt++){var Dt=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?xt(Object(Dt),!0).forEach(function(Ft){(0,_.Z)(rn,Ft,Dt[Ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rn,Object.getOwnPropertyDescriptors(Dt)):xt(Object(Dt)).forEach(function(Ft){Object.defineProperty(rn,Ft,Object.getOwnPropertyDescriptor(Dt,Ft))})}return rn}var It=function(rn){var Pt=rn.children,Dt=rn.tab,Ft=rn.onSelect,dn=(0,g.Z)(rn,_t);return(0,ue.jsx)(jt,{value:Dt,asChild:!0,onSelect:Ft,children:(0,ue.jsx)("button",At(At({type:"button",className:"excalidraw-button sidebar-tab-trigger"},dn),{},{children:Pt}))})};It.displayName="SidebarTabTrigger";var Mt=["children"];function Nt(rn,Pt){var Dt=Object.keys(rn);if(Object.getOwnPropertySymbols){var Ft=Object.getOwnPropertySymbols(rn);Pt&&(Ft=Ft.filter(function(dn){return Object.getOwnPropertyDescriptor(rn,dn).enumerable})),Dt.push.apply(Dt,Ft)}return Dt}function Yt(rn){for(var Pt=1;Pt<arguments.length;Pt++){var Dt=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?Nt(Object(Dt),!0).forEach(function(Ft){(0,_.Z)(rn,Ft,Dt[Ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rn,Object.getOwnPropertyDescriptors(Dt)):Nt(Object(Dt)).forEach(function(Ft){Object.defineProperty(rn,Ft,Object.getOwnPropertyDescriptor(Dt,Ft))})}return rn}var ln=function(rn){var Pt=rn.children,Dt=(0,g.Z)(rn,Mt),Ft=(0,$.I)(),dn=(0,x.n9)();if(!Ft.openSidebar)return null;var jn=Ft.openSidebar.name;return(0,ue.jsx)(Tt,Yt(Yt({className:"sidebar-tabs-root",value:Ft.openSidebar.tab,onValueChange:function(Cn){return dn(function(Dn){return Yt(Yt({},Dn),{},{openSidebar:Yt(Yt({},Dn.openSidebar),{},{name:jn,tab:Cn})})})}},Dt),{},{children:Pt}))};ln.displayName="SidebarTabs";var an=["tab","children"];function kn(rn,Pt){var Dt=Object.keys(rn);if(Object.getOwnPropertySymbols){var Ft=Object.getOwnPropertySymbols(rn);Pt&&(Ft=Ft.filter(function(dn){return Object.getOwnPropertyDescriptor(rn,dn).enumerable})),Dt.push.apply(Dt,Ft)}return Dt}function Tn(rn){for(var Pt=1;Pt<arguments.length;Pt++){var Dt=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?kn(Object(Dt),!0).forEach(function(Ft){(0,_.Z)(rn,Ft,Dt[Ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rn,Object.getOwnPropertyDescriptors(Dt)):kn(Object(Dt)).forEach(function(Ft){Object.defineProperty(rn,Ft,Object.getOwnPropertyDescriptor(Dt,Ft))})}return rn}var zn=function(rn){var Pt=rn.tab,Dt=rn.children,Ft=(0,g.Z)(rn,an);return(0,ue.jsx)(Kt,Tn(Tn({},Ft),{},{value:Pt,children:Dt}))};zn.displayName="SidebarTab";var un=t(1901),zt=t(8208),en={};en.styleTagTransform=c(),en.setAttributes=r(),en.insert=w().bind(null,"head"),en.domAPI=I(),en.insertStyleElement=b(),L()(zt.Z,en),zt.Z&&zt.Z.locals&&zt.Z.locals;var Jt=["name","children","onDock","docked","className"];function Sn(rn,Pt){var Dt=Object.keys(rn);if(Object.getOwnPropertySymbols){var Ft=Object.getOwnPropertySymbols(rn);Pt&&(Ft=Ft.filter(function(dn){return Object.getOwnPropertyDescriptor(rn,dn).enumerable})),Dt.push.apply(Dt,Ft)}return Dt}function Hn(rn){for(var Pt=1;Pt<arguments.length;Pt++){var Dt=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?Sn(Object(Dt),!0).forEach(function(Ft){(0,_.Z)(rn,Ft,Dt[Ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rn,Object.getOwnPropertyDescriptors(Dt)):Sn(Object(Dt)).forEach(function(Ft){Object.defineProperty(rn,Ft,Object.getOwnPropertyDescriptor(Dt,Ft))})}return rn}var Yn=(0,E.cn)(!1),or=(0,p.forwardRef)(function(rn,Pt){rn.name;var Dt=rn.children,Ft=rn.onDock,dn=rn.docked,jn=rn.className,Cn=(0,g.Z)(rn,Jt),Dn=(0,x.n9)(),Wn=(0,E.b9)(Yn,a.yE);(0,p.useLayoutEffect)(function(){return Wn(!!dn),function(){Wn(!1)}},[Wn,dn]);var Ln=(0,p.useRef)({});Ln.current.onCloseRequest=function(){Dn({openSidebar:null})},Ln.current.onDock=function(Rn){return Ft?.(Rn)},Ln.current=(0,ye.v4)(Ln.current,{docked:dn,shouldRenderDockButton:!!Ft&&dn!=null});var er=(0,p.useRef)(null);(0,p.useImperativeHandle)(Pt,function(){return er.current});var Vn=(0,x.Fy)(),Pn=(0,p.useCallback)(function(){document.querySelector(".Dialog")||Dn({openSidebar:null})},[Dn]);return(0,un.O)(er,(0,p.useCallback)(function(Rn){Rn.target.closest(".sidebar-trigger")||dn&&Vn.editor.canFitSidebar||Pn()},[Pn,dn,Vn.editor.canFitSidebar])),(0,p.useEffect)(function(){var Rn=function(Nn){Nn.key!==fe.tW.ESCAPE||dn&&Vn.editor.canFitSidebar||Pn()};return document.addEventListener(G.Ks.KEYDOWN,Rn),function(){document.removeEventListener(G.Ks.KEYDOWN,Rn)}},[Pn,dn,Vn.editor.canFitSidebar]),(0,ue.jsx)(T.W,Hn(Hn({},Cn),{},{className:(0,N.Z)("sidebar",{"sidebar--docked":dn},jn),ref:er,children:(0,ue.jsx)(u.Provider,{value:Ln.current,children:Dt})}))});or.displayName="SidebarInner";var $n=Object.assign((0,p.forwardRef)(function(rn,Pt){var Dt,Ft=(0,$.I)(),dn=rn.onStateChange,jn=(0,p.useRef)(Ft.openSidebar);(0,p.useEffect)(function(){var er,Vn,Pn,Rn,Nn;(!Ft.openSidebar&&(jn==null||(er=jn.current)===null||er===void 0?void 0:er.name)===rn.name||((Vn=Ft.openSidebar)===null||Vn===void 0?void 0:Vn.name)===rn.name&&(jn==null||(Pn=jn.current)===null||Pn===void 0?void 0:Pn.name)!==rn.name||((Rn=jn.current)===null||Rn===void 0?void 0:Rn.name)===rn.name)&&Ft.openSidebar!==jn.current&&dn?.(((Nn=Ft.openSidebar)===null||Nn===void 0?void 0:Nn.name)!==rn.name?null:Ft.openSidebar),jn.current=Ft.openSidebar},[Ft.openSidebar,dn,rn.name]);var Cn=(0,p.useState)(!1),Dn=(0,e.Z)(Cn,2),Wn=Dn[0],Ln=Dn[1];return(0,p.useLayoutEffect)(function(){return Ln(!0),function(){return Ln(!1)}},[]),Wn&&((Dt=Ft.openSidebar)===null||Dt===void 0?void 0:Dt.name)===rn.name?(0,p.createElement)(or,Hn(Hn({},rn),{},{ref:Pt,key:rn.name})):null}),{Header:me,TabTriggers:pn,TabTrigger:It,Tabs:ln,Tab:zn,Trigger:B});$n.displayName="Sidebar"},8531:function(Ze,te,t){t.d(te,{Z:function(){return fe}});var e=t(7169),_=t(9787),g=t.n(_),p=t(3379),y=t.n(p),T=t(7795),E=t.n(T),a=t(569),u=t.n(a),N=t(3565),H=t.n(N),x=t(9216),m=t.n(x),k=t(4589),Q=t.n(k),ue=t(5892),me={};me.styleTagTransform=Q(),me.setAttributes=H(),me.insert=u().bind(null,"head"),me.domAPI=E(),me.insertStyleElement=m(),y()(ue.Z,me),ue.Z&&ue.Z.locals&&ue.Z.locals;var ye=t(4512),fe=function(G){var $=G.size,U=$===void 0?"1em":$,L=G.circleWidth,F=L===void 0?8:L,I=G.synchronized,P=I!==void 0&&I,w=-g().useRef(Date.now()).current%1600;return(0,ye.jsx)("div",{className:"Spinner",children:(0,ye.jsx)("svg",{viewBox:"0 0 100 100",style:(0,e.Z)({width:U,height:U},"--spinner-delay",P?"".concat(w,"ms"):0),children:(0,ye.jsx)("circle",{cx:"50",cy:"50",r:50-F/2,strokeWidth:F,fill:"none",strokeMiterlimit:"10"})})})}},2540:function(Ze,te,t){t.d(te,{Z:function(){return $}});var e=t(7169),_=t(3379),g=t.n(_),p=t(7795),y=t.n(p),T=t(569),E=t.n(T),a=t(3565),u=t.n(a),N=t(9216),H=t.n(N),x=t(4589),m=t.n(x),k=t(3874),Q={};Q.styleTagTransform=m(),Q.setAttributes=u(),Q.insert=E().bind(null,"head"),Q.domAPI=y(),Q.insertStyleElement=H(),g()(k.Z,Q),k.Z&&k.Z.locals&&k.Z.locals;var ue=t(9787),me=t(45),ye=t(4512);function fe(U,L){var F=Object.keys(U);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(U);L&&(I=I.filter(function(P){return Object.getOwnPropertyDescriptor(U,P).enumerable})),F.push.apply(F,I)}return F}function G(U){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?fe(Object(F),!0).forEach(function(I){(0,e.Z)(U,I,F[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(F)):fe(Object(F)).forEach(function(I){Object.defineProperty(U,I,Object.getOwnPropertyDescriptor(F,I))})}return U}var $={Row:(0,ue.forwardRef)(function(U,L){var F=U.children,I=U.gap,P=U.align,w=U.justifyContent,f=U.className,r=U.style;return(0,ye.jsx)("div",{className:(0,me.Z)("Stack Stack_horizontal",f),style:G({"--gap":I,alignItems:P,justifyContent:w},r),ref:L,children:F})}),Col:(0,ue.forwardRef)(function(U,L){var F=U.children,I=U.gap,P=U.align,w=U.justifyContent,f=U.className,r=U.style;return(0,ye.jsx)("div",{className:(0,me.Z)("Stack Stack_vertical",f),style:G({"--gap":I,justifyItems:P,justifyContent:w},r),ref:L,children:F})})}},1512:function(Ze,te,t){t.d(te,{V:function(){return x}});var e=t(8950),_=t(2577),g=t(2975),p=t.n(g),y=(t(3041),t(9787)),T=t.n(y),E=t(45),a=t(8242),u=t(3506),N=t(8531),H=t(4512),x=T().forwardRef(function(m,k){var Q=(0,a.J0)().id,ue=T().useRef(null);T().useImperativeHandle(k,function(){return ue.current});var me="ToolIcon_size_".concat(m.size),ye=(0,y.useState)(!1),fe=(0,_.Z)(ye,2),G=fe[0],$=fe[1],U=(0,y.useRef)(!0),L=function(){var P=(0,e.Z)(p().mark(function w(f){var r,o;return p().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(o="onClick"in m&&((r=m.onClick)===null||r===void 0?void 0:r.call(m,f)))||!("then"in o)){b.next=18;break}return b.prev=2,$(!0),b.next=6,o;case 6:b.next=15;break;case 8:if(b.prev=8,b.t0=b.catch(2),b.t0 instanceof u._L){b.next=14;break}throw b.t0;case 14:console.warn(b.t0);case 15:return b.prev=15,U.current&&$(!1),b.finish(15);case 18:case"end":return b.stop()}},w,null,[[2,8,15,18]])}));return function(w){return P.apply(this,arguments)}}();(0,y.useEffect)(function(){return U.current=!0,function(){U.current=!1}},[]);var F=(0,y.useRef)(null);if(m.type==="button"||m.type==="icon"||m.type==="submit"){var I=m.type==="icon"?"button":m.type;return(0,H.jsxs)("button",{className:(0,E.Z)("ToolIcon_type_button",me,m.className,m.visible&&!m.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!m.hidden,"ToolIcon--selected":m.selected,"ToolIcon--plain":m.type==="icon"}),style:m.style,"data-testid":m["data-testid"],hidden:m.hidden,title:m.title,"aria-label":m["aria-label"],type:I,onClick:L,ref:ue,disabled:G||m.isLoading,children:[(m.icon||m.label)&&(0,H.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[m.icon||m.label,m.keyBindingLabel&&(0,H.jsx)("span",{className:"ToolIcon__keybinding",children:m.keyBindingLabel}),m.isLoading&&(0,H.jsx)(N.Z,{})]}),m.showAriaLabel&&(0,H.jsxs)("div",{className:"ToolIcon__label",children:[m["aria-label"]," ",G&&(0,H.jsx)(N.Z,{})]}),m.children]})}return(0,H.jsxs)("label",{className:(0,E.Z)("ToolIcon",m.className),title:m.title,onPointerDown:function(P){var w;F.current=P.pointerType||null,(w=m.onPointerDown)===null||w===void 0||w.call(m,{pointerType:P.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){F.current=null})},children:[(0,H.jsx)("input",{className:"ToolIcon_type_radio ".concat(me),type:"radio",name:m.name,"aria-label":m["aria-label"],"aria-keyshortcuts":m["aria-keyshortcuts"],"data-testid":m["data-testid"],id:"".concat(Q,"-").concat(m.id),onChange:function(){var P;(P=m.onChange)===null||P===void 0||P.call(m,{pointerType:F.current})},checked:m.checked,ref:ue}),(0,H.jsxs)("div",{className:"ToolIcon__icon",children:[m.icon,m.keyBindingLabel&&(0,H.jsx)("span",{className:"ToolIcon__keybinding",children:m.keyBindingLabel})]})]})});x.defaultProps={visible:!0,className:"",size:"medium"},x.displayName="ToolButton"},8925:function(Ze,te,t){t.d(te,{u:function(){return fe},bK:function(){return me},Js:function(){return ye}});var e=t(3379),_=t.n(e),g=t(7795),p=t.n(g),y=t(569),T=t.n(y),E=t(3565),a=t.n(E),u=t(9216),N=t.n(u),H=t(4589),x=t.n(H),m=t(6626),k={};k.styleTagTransform=x(),k.setAttributes=a(),k.insert=T().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=N(),_()(m.Z,k),m.Z&&m.Z.locals&&m.Z.locals;var Q=t(9787),ue=t(4512),me=function(){var G=document.querySelector(".excalidraw-tooltip");if(G)return G;var $=document.createElement("div");return document.body.appendChild($),$.classList.add("excalidraw-tooltip"),$},ye=function(G,$){var U,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",F=G.getBoundingClientRect(),I=window.innerWidth,P=window.innerHeight,w=5,f=$.left+$.width/2-F.width/2;f<0?f=w:f+F.width>=I&&(f=I-F.width-w),L==="bottom"?(U=$.top+$.height+w)+F.height>=P&&(U=$.top-F.height-w):(U=$.top-F.height-w)<0&&(U=$.top+$.height+w),Object.assign(G.style,{top:"".concat(U,"px"),left:"".concat(f,"px")})},fe=function(G){var $=G.children,U=G.label,L=G.long,F=L!==void 0&&L,I=G.style;return(0,Q.useEffect)(function(){return function(){return me().classList.remove("excalidraw-tooltip--visible")}},[]),(0,ue.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(P){return function(w,f,r,o){f.classList.add("excalidraw-tooltip--visible"),f.style.minWidth=o?"50ch":"10ch",f.style.maxWidth=o?"50ch":"15ch",f.textContent=r;var b=w.getBoundingClientRect();ye(f,b)}(P.currentTarget,me(),U,F)},onPointerLeave:function(){return me().classList.remove("excalidraw-tooltip--visible")},style:I,children:$})}},9247:function(Ze,te,t){var e=t(2726),_=t(1930),g=t(9787),p=t.n(g),y=t(8227),T=["i18nKey","children"],E=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,a=/{{([\w-]+)}}/,u=/<([\w-]+)>/,N=/<\/([\w-]+)>/;te.Z=function(H){var x=H.i18nKey,m=(H.children,(0,e.Z)(H,T)),k=(0,y.QT)().t;return p().createElement.apply(p(),[p().Fragment,{}].concat((0,_.Z)(function(Q,ue){var me=[{name:"",children:[]}];return Q.split(E).filter(Boolean).forEach(function(ye){var fe=ye.match(u),G=ye.match(N),$=ye.match(a);if(fe!==null){var U=fe[1];ue.hasOwnProperty(U)?me.push({name:U,children:[]}):console.warn("Trans: missed to pass in prop ".concat(U," for interpolating ").concat(Q))}else if(G!==null)if(G[1]===me[me.length-1].name){var L=me.pop(),F=p().createElement.apply(p(),[p().Fragment,{}].concat((0,_.Z)(L.children))),I=ue[L.name];typeof I=="function"&&me[me.length-1].children.push(I(F))}else console.warn("Trans: unexpected end tag ".concat(ye," for interpolating ").concat(Q));else if($!==null){var P=$[1];ue.hasOwnProperty(P)?me[me.length-1].children.push(ue[P]):console.warn("Trans: key ".concat(P," not in props for interpolating ").concat(Q))}else me[me.length-1].children.push(ye)}),me.length!==1&&console.warn("Trans: stack not empty for interpolating ".concat(Q)),me[0].children}(k(x),m))))}},4704:function(Ze,te,t){t.d(te,{Z:function(){return U}});var e=t(2577),_=t(3379),g=t.n(_),p=t(7795),y=t.n(p),T=t(569),E=t.n(T),a=t(3565),u=t.n(a),N=t(9216),H=t.n(N),x=t(4589),m=t.n(x),k=t(6359),Q={};Q.styleTagTransform=m(),Q.setAttributes=u(),Q.insert=E().bind(null,"head"),Q.domAPI=y(),Q.insertStyleElement=H(),g()(k.Z,Q),k.Z&&k.Z.locals&&k.Z.locals;var ue=t(9787),me=t.n(ue),ye=t(45),fe=t(8925),G=t(8242),$=t(4512),U=function(L){var F=L.className,I=L.mobile,P=L.collaborators,w=(0,G.eh)(),f=new Map;P.forEach(function(o,b){f.set(o.id||b,o)});var r=f.size>0&&Array.from(f).filter(function(o){var b=(0,e.Z)(o,2),s=(b[0],b[1]);return Object.keys(s).length!==0}).map(function(o){var b=(0,e.Z)(o,2),s=b[0],c=b[1],S=w.renderAction("goToCollaborator",[s,c]);return I?(0,$.jsx)(fe.u,{label:c.username||"Unknown user",children:S},s):(0,$.jsx)(me().Fragment,{children:S},s)});return(0,$.jsx)("div",{className:(0,ye.Z)("UserList",F,{UserList_mobile:I}),children:r})}},7104:function(Ze,te,t){t.d(te,{Z:function(){return de}});var e=t(7169),_=t(2726),g=t(45),p=t(8242),y=t(4512),T=["className","children","onToggle","title"];function E(J,ee){var he=Object.keys(J);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(J);ee&&(Pe=Pe.filter(function(He){return Object.getOwnPropertyDescriptor(J,He).enumerable})),he.push.apply(he,Pe)}return he}function a(J){for(var ee=1;ee<arguments.length;ee++){var he=arguments[ee]!=null?arguments[ee]:{};ee%2?E(Object(he),!0).forEach(function(Pe){(0,e.Z)(J,Pe,he[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(he)):E(Object(he)).forEach(function(Pe){Object.defineProperty(J,Pe,Object.getOwnPropertyDescriptor(he,Pe))})}return J}var u=function(J){var ee=J.className,he=ee===void 0?"":ee,Pe=J.children,He=J.onToggle,Ke=J.title,Ae=(0,_.Z)(J,T),Oe=(0,p.Fy)(),Te=(0,g.Z)("dropdown-menu-button ".concat(he),"zen-mode-transition",{"dropdown-menu-button--mobile":Oe.editor.isMobile}).trim();return(0,y.jsx)("button",a(a({"data-prevent-outside-click":!0,className:Te,onClick:He,type:"button","data-testid":"dropdown-menu-button",title:Ke},Ae),{},{children:Pe}))},N=u;u.displayName="DropdownMenuTrigger";var H=t(5735),x=function(){return(0,y.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},m=x;x.displayName="DropdownMenuSeparator";var k=function(J){var ee=J.children,he=J.className,Pe=he===void 0?"":he,He=J.style,Ke=J.title;return(0,y.jsxs)("div",{className:"dropdown-menu-group ".concat(Pe),style:He,children:[Ke&&(0,y.jsx)("p",{className:"dropdown-menu-group-title",children:Ke}),ee]})},Q=k;k.displayName="DropdownMenuGroup";var ue=t(1404),me=t(2540),ye=t(9787),fe=t.n(ye),G=t(7009),$=t(1901),U=function(J){var ee=J.children,he=J.onClickOutside,Pe=J.className,He=Pe===void 0?"":Pe,Ke=J.onSelect,Ae=J.style,Oe=(0,p.Fy)(),Te=(0,ye.useRef)(null);(0,$.O)(Te,function(){he?.()});var De=(0,g.Z)("dropdown-menu ".concat(He),{"dropdown-menu--mobile":Oe.editor.isMobile}).trim();return(0,y.jsx)(G.N7.Provider,{value:{onSelect:Ke},children:(0,y.jsx)("div",{ref:Te,className:De,style:Ae,"data-testid":"dropdown-menu",children:Oe.editor.isMobile?(0,y.jsx)(me.Z.Col,{className:"dropdown-menu-container",children:ee}):(0,y.jsx)(ue.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:ee})})})};U.displayName="DropdownMenuContent";var L=U,F=t(3858),I=["children","className","selected"];function P(J,ee){var he=Object.keys(J);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(J);ee&&(Pe=Pe.filter(function(He){return Object.getOwnPropertyDescriptor(J,He).enumerable})),he.push.apply(he,Pe)}return he}function w(J){for(var ee=1;ee<arguments.length;ee++){var he=arguments[ee]!=null?arguments[ee]:{};ee%2?P(Object(he),!0).forEach(function(Pe){(0,e.Z)(J,Pe,he[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(he)):P(Object(he)).forEach(function(Pe){Object.defineProperty(J,Pe,Object.getOwnPropertyDescriptor(he,Pe))})}return J}var f=function(J){var ee=J.children,he=J.className,Pe=he===void 0?"":he,He=J.selected,Ke=(0,_.Z)(J,I);return(0,y.jsx)("div",w(w({},Ke),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(Pe," ").concat(He?"dropdown-menu-item--selected":"").trim(),children:ee}))},r=t(3379),o=t.n(r),b=t(7795),s=t.n(b),c=t(569),S=t.n(c),z=t(3565),B=t.n(z),j=t(9216),C=t.n(j),A=t(4589),Y=t.n(A),ie=t(7399),le={};le.styleTagTransform=Y(),le.setAttributes=B(),le.insert=S().bind(null,"head"),le.domAPI=s(),le.insertStyleElement=C(),o()(ie.Z,le),ie.Z&&ie.Z.locals&&ie.Z.locals;var ce=function(J){var ee=J.children,he=J.open,Pe=function(Ke){return fe().Children.toArray(Ke).find(function(Ae){return fe().isValidElement(Ae)&&typeof Ae.type!="string"&&Ae?.type.displayName&&Ae.type.displayName==="DropdownMenuTrigger"})||null}(ee),He=function(Ke){return fe().Children.toArray(Ke).find(function(Ae){return fe().isValidElement(Ae)&&typeof Ae.type!="string"&&Ae?.type.displayName&&Ae.type.displayName==="DropdownMenuContent"})||null}(ee);return(0,y.jsxs)(y.Fragment,{children:[Pe,he&&He]})};ce.Trigger=N,ce.Content=L,ce.Item=H.Z,ce.ItemLink=F.Z,ce.ItemCustom=f,ce.Group=Q,ce.Separator=m;var de=ce;ce.displayName="DropdownMenu"},5735:function(Ze,te,t){var e=t(7169),_=t(2726),g=t(7009),p=t(6732),y=t(4512),T=["icon","onSelect","children","shortcut","className","selected"];function E(N,H){var x=Object.keys(N);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(N);H&&(m=m.filter(function(k){return Object.getOwnPropertyDescriptor(N,k).enumerable})),x.push.apply(x,m)}return x}function a(N){for(var H=1;H<arguments.length;H++){var x=arguments[H]!=null?arguments[H]:{};H%2?E(Object(x),!0).forEach(function(m){(0,e.Z)(N,m,x[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(x)):E(Object(x)).forEach(function(m){Object.defineProperty(N,m,Object.getOwnPropertyDescriptor(x,m))})}return N}var u=function(N){var H,x=N.icon,m=N.onSelect,k=N.children,Q=N.shortcut,ue=N.className,me=N.selected,ye=(0,_.Z)(N,T),fe=(0,g.qZ)(ye.onClick,m);return(0,y.jsx)("button",a(a({},ye),{},{onClick:fe,type:"button",className:(0,g.n)(ue,me),title:(H=ye.title)!==null&&H!==void 0?H:ye["aria-label"],children:(0,y.jsx)(p.Z,{icon:x,shortcut:Q,children:k})}))};te.Z=u,u.displayName="DropdownMenuItem"},6732:function(Ze,te,t){var e=t(8242),_=t(4512);te.Z=function(g){var p=g.icon,y=g.shortcut,T=g.children,E=(0,e.Fy)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"dropdown-menu-item__icon",children:p}),(0,_.jsx)("div",{className:"dropdown-menu-item__text",children:T}),y&&!E.editor.isMobile&&(0,_.jsx)("div",{className:"dropdown-menu-item__shortcut",children:y})]})}},3858:function(Ze,te,t){var e=t(7169),_=t(2726),g=t(6732),p=t(7009),y=t(4512),T=["icon","shortcut","href","children","onSelect","className","selected"];function E(N,H){var x=Object.keys(N);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(N);H&&(m=m.filter(function(k){return Object.getOwnPropertyDescriptor(N,k).enumerable})),x.push.apply(x,m)}return x}function a(N){for(var H=1;H<arguments.length;H++){var x=arguments[H]!=null?arguments[H]:{};H%2?E(Object(x),!0).forEach(function(m){(0,e.Z)(N,m,x[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(x)):E(Object(x)).forEach(function(m){Object.defineProperty(N,m,Object.getOwnPropertyDescriptor(x,m))})}return N}var u=function(N){var H,x=N.icon,m=N.shortcut,k=N.href,Q=N.children,ue=N.onSelect,me=N.className,ye=me===void 0?"":me,fe=N.selected,G=(0,_.Z)(N,T),$=(0,p.qZ)(G.onClick,ue);return(0,y.jsx)("a",a(a({},G),{},{href:k,target:"_blank",rel:"noreferrer",className:(0,p.n)(ye,fe),title:(H=G.title)!==null&&H!==void 0?H:G["aria-label"],onClick:$,children:(0,y.jsx)(g.Z,{icon:x,shortcut:m,children:Q})}))};te.Z=u,u.displayName="DropdownMenuItemLink"},7009:function(Ze,te,t){t.d(te,{N7:function(){return y},n:function(){return T},qZ:function(){return E}});var e=t(9787),_=t.n(e),g=t(9937),p=t(9827),y=_().createContext({}),T=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"dropdown-menu-item dropdown-menu-item-base ".concat(a," ").concat(u?"dropdown-menu-item--selected":"").trim()},E=function(a,u){var N=(0,e.useContext)(y);return(0,p.Mj)(a,function(H){var x,m=new CustomEvent(g.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});u?.(m),m.defaultPrevented||(x=N.onSelect)===null||x===void 0||x.call(N,m)})}},6922:function(Ze,te,t){t.d(te,{$:function(){return a}});var e=t(7169),_=t(2577),g=t(3607),p=t(9787),y=t(4572),T=t(4512);function E(u,N){var H=Object.keys(u);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(u);N&&(x=x.filter(function(m){return Object.getOwnPropertyDescriptor(u,m).enumerable})),H.push.apply(H,x)}return H}var a=function(u,N){var H=(0,g.cn)(0),x=function(m){var k=(0,y.R6)().jotaiScope,Q=(0,g.KO)(H,k),ue=(0,_.Z)(Q,2)[1],me=(0,p.useRef)({preferHost:!1,counter:0});return(0,p.useLayoutEffect)(function(){var ye=me.current;return ue(function(fe){var G=fe+1;return ye.counter=G,G}),function(){ue(function(fe){var G=fe-1;return ye.counter=G,G||(ye.preferHost=!1),G})}},[ue]),m.__fallback||(me.current.preferHost=!0),!me.current.counter&&m.__fallback&&me.current.preferHost||me.current.counter>1&&m.__fallback?null:(0,T.jsx)(N,function(ye){for(var fe=1;fe<arguments.length;fe++){var G=arguments[fe]!=null?arguments[fe]:{};fe%2?E(Object(G),!0).forEach(function($){(0,e.Z)(ye,$,G[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(G)):E(Object(G)).forEach(function($){Object.defineProperty(ye,$,Object.getOwnPropertyDescriptor(G,$))})}return ye}({},m))};return x.displayName=u,x}},8935:function(Ze,te,t){t.d(te,{$W:function(){return jn},$c:function(){return D},$q:function(){return z},BF:function(){return Me},Ct:function(){return ge},D7:function(){return Pe},DG:function(){return ke},DJ:function(){return F},DS:function(){return At},EO:function(){return Hn},ET:function(){return he},FC:function(){return $},FL:function(){return A},Gc:function(){return q},HL:function(){return Se},Hk:function(){return rn},Hy:function(){return de},II:function(){return Wn},IN:function(){return re},J8:function(){return be},LZ:function(){return Ln},NA:function(){return Y},NW:function(){return le},Nw:function(){return $n},OA:function(){return zn},OW:function(){return P},P7:function(){return or},Pm:function(){return s},RJ:function(){return $e},RY:function(){return ce},Re:function(){return f},ST:function(){return qe},Sd:function(){return B},TP:function(){return ve},Tl:function(){return De},Tw:function(){return ze},UE:function(){return l},UI:function(){return Dt},UT:function(){return dn},VL:function(){return c},Vl:function(){return M},Vq:function(){return ue},W2:function(){return _t},W5:function(){return We},Wl:function(){return jt},X7:function(){return Tt},XB:function(){return S},XH:function(){return C},YA:function(){return ye},ZA:function(){return Et},Zm:function(){return He},_C:function(){return G},_U:function(){return L},a0:function(){return dt},a1:function(){return Oe},a5:function(){return Gt},aA:function(){return Yn},aL:function(){return Pt},aT:function(){return Ht},bf:function(){return $t},by:function(){return J},d:function(){return er},dg:function(){return Cn},e0:function(){return r},eQ:function(){return Ke},fr:function(){return It},gK:function(){return lt},h0:function(){return ee},il:function(){return Mt},j8:function(){return ln},jn:function(){return ft},kL:function(){return ie},kM:function(){return pn},lF:function(){return at},m:function(){return Yt},m9:function(){return Kt},mh:function(){return Ye},mv:function(){return Ft},nb:function(){return w},np:function(){return vt},nq:function(){return kn},o3:function(){return Jt},oQ:function(){return U},oT:function(){return Sn},op:function(){return we},pO:function(){return me},po:function(){return Te},pw:function(){return ae},q0:function(){return an},qQ:function(){return fe},rr:function(){return en},t5:function(){return V},tW:function(){return Tn},tb:function(){return b},tn:function(){return Nt},uD:function(){return Ge},vo:function(){return un},wr:function(){return xt},xL:function(){return j},xP:function(){return Ae},xs:function(){return Re},z6:function(){return zt},zG:function(){return d},zb:function(){return o},zl:function(){return Dn},zu:function(){return I}});var e=t(7169),_=t(2726),g=t(9787),p=t.n(g),y=t(5284),T=t(45),E=t(9937),a=t(4512),u=["width","height","mirror","style"];function N(Vn,Pn){var Rn=Object.keys(Vn);if(Object.getOwnPropertySymbols){var Nn=Object.getOwnPropertySymbols(Vn);Pn&&(Nn=Nn.filter(function(Gn){return Object.getOwnPropertyDescriptor(Vn,Gn).enumerable})),Rn.push.apply(Rn,Nn)}return Rn}function H(Vn){for(var Pn=1;Pn<arguments.length;Pn++){var Rn=arguments[Pn]!=null?arguments[Pn]:{};Pn%2?N(Object(Rn),!0).forEach(function(Nn){(0,e.Z)(Vn,Nn,Rn[Nn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Vn,Object.getOwnPropertyDescriptors(Rn)):N(Object(Rn)).forEach(function(Nn){Object.defineProperty(Vn,Nn,Object.getOwnPropertyDescriptor(Rn,Nn))})}return Vn}var x=function(Vn){return Vn===E.C6.LIGHT?y.white:"#1e1e1e"},m=function(Vn){var Pn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,Rn=typeof Pn=="number"?{width:Pn}:Pn,Nn=Rn.width,Gn=Nn===void 0?512:Nn,nr=Rn.height,rr=nr===void 0?Gn:nr,Or=Rn.mirror,Xr=Rn.style,po=(0,_.Z)(Rn,u);return(0,a.jsx)("svg",H(H({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(Gn," ").concat(rr),className:(0,T.Z)({"rtl-mirror":Or}),style:Xr},po),{},{children:typeof Vn=="string"?(0,a.jsx)("path",{fill:"currentColor",d:Vn}):Vn}))},k={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},Q={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ue=(m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,a.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,a.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,a.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),k),m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,a.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,a.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,a.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),k)),me=m((0,a.jsxs)("svg",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),k),ye=m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,a.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,a.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),k),fe=m((0,a.jsxs)("svg",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,a.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,a.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),k),G=m((0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,a.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,a.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,a.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),Q),$=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,a.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,a.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),Q),U=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),L=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),F=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),I=(m((0,a.jsx)("g",{fill:"currentColor",children:(0,a.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),m((0,a.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,a.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),P=m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),k),w=m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),k),f=m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),k),r=m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,a.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,a.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),k),o=m((0,a.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),Q),b=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,a.jsx)("path",{d:"M16 7h4"}),(0,a.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),k),s=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,a.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),Q),c=m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,a.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,a.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,a.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,a.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),k),S=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M12.5 6.667h.01"}),(0,a.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,a.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,a.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),Q),z=m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,a.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),k),B=m((0,a.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),Q),j=m((0,a.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),Q),C=m((0,a.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),Q),A=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,a.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),Q),Y=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,a.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),Q),ie=m((0,a.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),Q),le=m((0,a.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),Q),ce=m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,a.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,a.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),k),de=m((0,a.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),Q),J=m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,a.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,a.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),k),ee=m((0,a.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),Q),he=m((0,a.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),Q),Pe=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,a.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),Q),He=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),k),Ke=m((0,a.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Ae=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,a.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),Q),Oe=m("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Te=m("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),De=m((0,a.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),Q),ke=(m("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),m("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),be=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M15 8h.01"}),(0,a.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,a.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,a.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,a.jsx)("path",{d:"M19 16v6"}),(0,a.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),k),ve=m("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),D=(m("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),m("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),m("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),l=(m("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),m((0,a.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),Q)),d=m((0,a.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),Q),M=m("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),V=(m((0,a.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),Q),m("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,a.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),m((0,a.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q)),q=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),re=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),ae=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",children:[(0,a.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,a.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),ge=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),Se=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),Re=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),Ye=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),Ge=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),We=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),qe=m((0,a.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),Q),lt=m((0,a.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),Q),ft=m((0,a.jsxs)("g",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,a.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,a.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,a.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),k),ze=(m("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),m("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q)),we=m("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Me=(m("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),m("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),m("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),p().memo(function(Vn){var Pn=Vn.theme;return m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,a.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,a.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,a.jsxs)("g",{fill:x(Pn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,a.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),$e=p().memo(function(Vn){var Pn=Vn.theme;return m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,a.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,a.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,a.jsxs)("g",{fill:x(Pn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,a.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,a.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),at=m((0,a.jsx)("g",{strokeWidth:1.25,children:(0,a.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),Q),dt=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,a.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,a.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,a.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),Q),vt=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#a)",children:[(0,a.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,a.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,a.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,a.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),Tt=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",children:(0,a.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),H(H({},Q),{},{fill:"currentColor"})),Et=m((0,a.jsx)(a.Fragment,{children:(0,a.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),Q),jt=m((0,a.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),Q),Kt=m((0,a.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),Q),Gt=m((0,a.jsxs)("g",{strokeWidth:"2",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M5 12h2"}),(0,a.jsx)("path",{d:"M17 12h2"}),(0,a.jsx)("path",{d:"M11 12h2"})]}),k),Ht=m((0,a.jsxs)("g",{strokeWidth:"2",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M4 12v.01"}),(0,a.jsx)("path",{d:"M8 12v.01"}),(0,a.jsx)("path",{d:"M12 12v.01"}),(0,a.jsx)("path",{d:"M16 12v.01"}),(0,a.jsx)("path",{d:"M20 12v.01"})]}),k),$t=m((0,a.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),Q),pn=m((0,a.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),Q),_t=m((0,a.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),Q),xt=m((0,a.jsxs)("svg",{strokeWidth:"1.5",children:[(0,a.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,a.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,a.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,a.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,a.jsx)("path",{d:"M16.6667 10V10.01"}),(0,a.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,a.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,a.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,a.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,a.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,a.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,a.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),Q),At=m((0,a.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,a.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,a.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,a.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,a.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,a.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,a.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,a.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,a.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,a.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,a.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,a.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),k),It=m((0,a.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Mt=p().memo(function(Vn){var Pn=Vn.flip,Rn=Pn!==void 0&&Pn;return m((0,a.jsxs)("g",{transform:Rn?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,a.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,a.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),Nt=p().memo(function(Vn){var Pn=Vn.flip,Rn=Pn!==void 0&&Pn;return m((0,a.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Rn?"translate(40, 0) scale(-1, 1)":"",children:[(0,a.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,a.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),Yt=p().memo(function(Vn){var Pn=Vn.flip,Rn=Pn!==void 0&&Pn;return m((0,a.jsx)("g",{transform:Rn?"translate(40, 0) scale(-1, 1)":"",children:(0,a.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),ln=p().memo(function(Vn){var Pn=Vn.flip,Rn=Pn!==void 0&&Pn;return m((0,a.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Rn?"translate(40, 0) scale(-1, 1)":"",children:[(0,a.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,a.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),an=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",children:(0,a.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),kn=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",children:(0,a.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),Tn=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",children:(0,a.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),zn=m((0,a.jsx)(a.Fragment,{children:(0,a.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),Q),un=m((0,a.jsx)(a.Fragment,{children:(0,a.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),Q),zt=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"a",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Q),en=m((0,a.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,a.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,a.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),k),Jt=m((0,a.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,a.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,a.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),k),Sn=m((0,a.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,a.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,a.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),k),Hn=p().memo(function(Vn){return Vn.theme,m((0,a.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,a.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),k)}),Yn=p().memo(function(Vn){return Vn.theme,m((0,a.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,a.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),k)}),or=p().memo(function(Vn){return Vn.theme,m((0,a.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,a.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,a.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),k)}),$n=m((0,a.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),rn=(m((0,a.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),m((0,a.jsxs)("g",{strokeWidth:1.25,children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,a.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,a.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,a.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),k)),Pt=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,a.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,a.jsx)("path",{d:"M12 4l0 12"})]}),k),Dt=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,a.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),k),Ft=m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,a.jsx)("path",{d:"M12 17l0 .01"}),(0,a.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),k),dn=(m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M7 4v16l13 -8z"})]}),k),m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),k),m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),k),m((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,a.jsx)("path",{d:"M12 9v4"}),(0,a.jsx)("path",{d:"M12 17h.01"})]}),k)),jn=m((0,a.jsxs)("g",{strokeWidth:1.25,children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M11 7l6 6"}),(0,a.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),k),Cn=m((0,a.jsxs)("g",{strokeWidth:1.5,children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,a.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,a.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),k),Dn=m((0,a.jsxs)("g",{strokeWidth:1.5,children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M4 7l16 0"}),(0,a.jsx)("path",{d:"M4 17l16 0"}),(0,a.jsx)("path",{d:"M7 4l0 16"}),(0,a.jsx)("path",{d:"M17 4l0 16"})]}),k),Wn=m((0,a.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),Ln=m((0,a.jsxs)("g",{strokeWidth:"1.25",children:[(0,a.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,a.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,a.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),Q),er=m((0,a.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,a.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,a.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20)},7021:function(Ze,te,t){t.d(te,{Z:function(){return He}});var e={};t.r(e),t.d(e,{ChangeCanvasBackground:function(){return ie},ClearCanvas:function(){return A},Export:function(){return le},Help:function(){return C},LiveCollaborationTrigger:function(){return de},LoadScene:function(){return z},SaveAsImage:function(){return j},SaveToActiveFile:function(){return B},Socials:function(){return ce},ToggleTheme:function(){return Y}});var _=t(8242),g=t(7104),p=t(8950),y=t(2975),T=t.n(y),E=t(2529),a=t(8227),u=t(8935),N=t(5735),H=t(3858),x=t(5463),m=t(3379),k=t.n(m),Q=t(7795),ue=t.n(Q),me=t(569),ye=t.n(me),fe=t(3565),G=t.n(fe),$=t(9216),U=t.n($),L=t(4589),F=t.n(L),I=t(4343),P={};P.styleTagTransform=F(),P.setAttributes=G(),P.insert=ye().bind(null,"head"),P.domAPI=ue(),P.insertStyleElement=U(),k()(I.Z,P),I.Z&&I.Z.locals&&I.Z.locals;var w=t(45),f=t(3607),r=t(8973),o=t(453),b=t(100),s=t(7827),c=t(9247),S=t(4512),z=function(){var Ke=(0,a.QT)().t,Ae=(0,_.eh)(),Oe=(0,_.bd)();if(!Ae.isActionEnabled(x._d))return null;var Te=function(){var De=(0,p.Z)(T().mark(function ke(){return T().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(be.t0=!Oe.length,be.t0){be.next=5;break}return be.next=4,(0,s._)({title:Ke("overwriteConfirm.modal.loadFromFile.title"),actionLabel:Ke("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,S.jsx)(c.Z,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(ve){return(0,S.jsx)("strong",{children:ve})},br:function(){return(0,S.jsx)("br",{})}})});case 4:be.t0=be.sent;case 5:if(!be.t0){be.next=7;break}Ae.executeAction(x._d);case 7:case"end":return be.stop()}},ke)}));return function(){return De.apply(this,arguments)}}();return(0,S.jsx)(N.Z,{icon:u.Tl,onSelect:Te,"data-testid":"load-button",shortcut:(0,E.C)("loadScene"),"aria-label":Ke("buttons.load"),children:Ke("buttons.load")})};z.displayName="LoadScene";var B=function(){var Ke=(0,a.QT)().t,Ae=(0,_.eh)();return Ae.isActionEnabled(x.ns)?(0,S.jsx)(N.Z,{shortcut:(0,E.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return Ae.executeAction(x.ns)},icon:u.a1,"aria-label":"".concat(Ke("buttons.save")),children:"".concat(Ke("buttons.save"))}):null};B.displayName="SaveToActiveFile";var j=function(){var Ke=(0,_.n9)(),Ae=(0,a.QT)().t;return(0,S.jsx)(N.Z,{icon:u.J8,"data-testid":"image-export-button",onSelect:function(){return Ke({openDialog:"imageExport"})},shortcut:(0,E.C)("imageExport"),"aria-label":Ae("buttons.exportImage"),children:Ae("buttons.exportImage")})};j.displayName="SaveAsImage";var C=function(){var Ke=(0,a.QT)().t,Ae=(0,_.eh)();return(0,S.jsx)(N.Z,{"data-testid":"help-menu-item",icon:u.by,onSelect:function(){return Ae.executeAction(x.jY)},shortcut:"?","aria-label":Ke("helpDialog.title"),children:Ke("helpDialog.title")})};C.displayName="Help";var A=function(){var Ke=(0,a.QT)().t,Ae=(0,f.b9)(r.w,o.yE);return(0,_.eh)().isActionEnabled(x.mo)?(0,S.jsx)(N.Z,{icon:u.XH,onSelect:function(){return Ae("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":Ke("buttons.clearReset"),children:Ke("buttons.clearReset")}):null};A.displayName="ClearCanvas";var Y=function(){var Ke=(0,a.QT)().t,Ae=(0,b.I)(),Oe=(0,_.eh)();return Oe.isActionEnabled(x.Zp)?(0,S.jsx)(N.Z,{onSelect:function(Te){return Te.preventDefault(),Oe.executeAction(x.Zp)},icon:Ae.theme==="dark"?u.NW:u.kL,"data-testid":"toggle-dark-mode",shortcut:(0,E.C)("toggleTheme"),"aria-label":Ae.theme==="dark"?Ke("buttons.lightMode"):Ke("buttons.darkMode"),children:Ae.theme==="dark"?Ke("buttons.lightMode"):Ke("buttons.darkMode")}):null};Y.displayName="ToggleTheme";var ie=function(){var Ke=(0,a.QT)().t,Ae=(0,b.I)(),Oe=(0,_.eh)(),Te=(0,_.hY)();return Ae.viewModeEnabled||!Te.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,S.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,S.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:Ke("labels.canvasBackground")}),(0,S.jsx)("div",{style:{padding:"0 0.625rem"},children:Oe.renderAction("changeViewBackgroundColor")})]})};ie.displayName="ChangeCanvasBackground";var le=function(){var Ke=(0,a.QT)().t,Ae=(0,_.n9)();return(0,S.jsx)(N.Z,{icon:u.Hy,onSelect:function(){Ae({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":Ke("buttons.export"),children:Ke("buttons.export")})};le.displayName="Export";var ce=function(){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(H.Z,{icon:u.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,S.jsx)(H.Z,{icon:u.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,S.jsx)(H.Z,{icon:u.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};ce.displayName="Socials";var de=function(Ke){var Ae=Ke.onSelect,Oe=Ke.isCollaborating,Te=(0,a.QT)().t;return(0,S.jsx)(N.Z,{"data-testid":"collab-button",icon:u.jn,className:(0,w.Z)({"active-collab":Oe}),onSelect:Ae,children:Te("labels.liveCollaboration")})};de.displayName="LiveCollaborationTrigger";var J=t(4704),ee=t(6922),he=t(9827),Pe=t(4572),He=Object.assign((0,ee.$)("MainMenu",function(Ke){var Ae=Ke.children,Oe=Ke.onSelect,Te=(0,Pe.R6)().MainMenuTunnel,De=(0,_.Fy)(),ke=(0,b.I)(),be=(0,_.n9)(),ve=De.editor.isMobile?void 0:function(){return be({openMenu:null})};return(0,S.jsx)(Te.In,{children:(0,S.jsxs)(g.Z,{open:ke.openMenu==="canvas",children:[(0,S.jsx)(g.Z.Trigger,{onToggle:function(){be({openMenu:ke.openMenu==="canvas"?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:u.RY}),(0,S.jsxs)(g.Z.Content,{onClickOutside:ve,onSelect:(0,he.Mj)(Oe,function(){be({openMenu:null})}),children:[Ae,De.editor.isMobile&&ke.collaborators.size>0&&(0,S.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,S.jsx)("legend",{children:(0,a.t)("labels.collaborators")}),(0,S.jsx)(J.Z,{mobile:!0,collaborators:ke.collaborators})]})]})]})})}),{Trigger:g.Z.Trigger,Item:g.Z.Item,ItemLink:g.Z.ItemLink,ItemCustom:g.Z.ItemCustom,Group:g.Z.Group,Separator:g.Z.Separator,DefaultItems:e})},9937:function(Ze,te,t){t.d(te,{wL:function(){return Ke},iC:function(){return P},vL:function(){return dt},bY:function(){return at},gK:function(){return $e},$C:function(){return C},oc:function(){return c},_9:function(){return Kt},HN:function(){return _t},qy:function(){return lt},rk:function(){return J},n5:function(){return de},h6:function(){return ft},Rx:function(){return jt},Cc:function(){return At},Hg:function(){return ee},cW:function(){return ae},hs:function(){return he},f:function(){return w},xY:function(){return Et},Iw:function(){return r},$e:function(){return o},Vi:function(){return j},Ks:function(){return fe},r8:function(){return Te},I_:function(){return Oe},ZB:function(){return qe},pb:function(){return De},ut:function(){return A},iG:function(){return ie},k:function(){return Pe},sA:function(){return M},KL:function(){return He},LL:function(){return ke},PR:function(){return It},tf:function(){return xt},EE:function(){return Ge},qx:function(){return f},$n:function(){return ze},zK:function(){return We},LO:function(){return Ae},CP:function(){return ce},Zj:function(){return d},Yx:function(){return Re},sS:function(){return Se},kV:function(){return ge},sk:function(){return Ye},Oh:function(){return S},XI:function(){return z},WR:function(){return Ht},$h:function(){return $t},a6:function(){return Gt},HM:function(){return D},ay:function(){return s},dg:function(){return pn},hR:function(){return we},Gj:function(){return be},I8:function(){return Tt},wZ:function(){return b},C6:function(){return Y},ZF:function(){return V},nM:function(){return ve},ah:function(){return re},UO:function(){return q},Kr:function(){return Me},oX:function(){return vt},_D:function(){return le},vf:function(){return B},V4:function(){return l},Dt:function(){return U},jP:function(){return I},Um:function(){return G},vU:function(){return L},G6:function(){return F},ED:function(){return $}});var e=t(7169),_=t(3379),g=t.n(_),p=t(7795),y=t.n(p),T=t(569),E=t.n(T),a=t(3565),u=t.n(a),N=t(9216),H=t.n(N),x=t(4589),m=t.n(x),k=t(6464),Q={};Q.styleTagTransform=m(),Q.setAttributes=u(),Q.insert=E().bind(null,"head"),Q.domAPI=y(),Q.insertStyleElement=H(),g()(k.Z,Q);var ue=k.Z&&k.Z.locals?k.Z.locals:void 0,me=t(9240);function ye(Mt,Nt){var Yt=Object.keys(Mt);if(Object.getOwnPropertySymbols){var ln=Object.getOwnPropertySymbols(Mt);Nt&&(ln=ln.filter(function(an){return Object.getOwnPropertyDescriptor(Mt,an).enumerable})),Yt.push.apply(Yt,ln)}return Yt}var fe,G=/Mac|iPod|iPhone|iPad/.test(navigator.platform),$=/^Win/.test(navigator.platform),U=/\b(android)\b/i.test(navigator.userAgent),L="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,F=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,I=function(){var Mt,Nt;return((Mt=navigator.brave)===null||Mt===void 0||(Nt=Mt.isBrave)===null||Nt===void 0?void 0:Nt.name)==="isBrave"},P="Excalidraw",w=10,f=8,r=5,o=1,b=30,s=Math.PI/12,c={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},S={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1},z={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"};(function(Mt){Mt.COPY="copy",Mt.PASTE="paste",Mt.CUT="cut",Mt.KEYDOWN="keydown",Mt.KEYUP="keyup",Mt.MOUSE_MOVE="mousemove",Mt.RESIZE="resize",Mt.UNLOAD="unload",Mt.FOCUS="focus",Mt.BLUR="blur",Mt.DRAG_OVER="dragover",Mt.DROP="drop",Mt.GESTURE_END="gestureend",Mt.BEFORE_UNLOAD="beforeunload",Mt.GESTURE_START="gesturestart",Mt.GESTURE_CHANGE="gesturechange",Mt.POINTER_MOVE="pointermove",Mt.POINTER_DOWN="pointerdown",Mt.POINTER_UP="pointerup",Mt.STATE_CHANGE="statechange",Mt.WHEEL="wheel",Mt.TOUCH_START="touchstart",Mt.TOUCH_END="touchend",Mt.HASHCHANGE="hashchange",Mt.VISIBILITY_CHANGE="visibilitychange",Mt.SCROLL="scroll",Mt.EXCALIDRAW_LINK="excalidraw-link",Mt.MENU_ITEM_SELECT="menu.itemSelect",Mt.MESSAGE="message"})(fe||(fe={}));var B={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},j={TEST:"test",DEVELOPMENT:"development"},C={SHAPE_ACTIONS_MENU:"App-menu__left"},A={Virgil:1,Helvetica:2,Cascadia:3,Assistant:4},Y={LIGHT:"light",DARK:"dark"},ie={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},le="Segoe UI Emoji",ce=1,de=20,J=A.Virgil,ee="left",he="top",Pe=20,He={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},Ke=["text/plain","text/html"],Ae=function(Mt){for(var Nt=1;Nt<arguments.length;Nt++){var Yt=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?ye(Object(Yt),!0).forEach(function(ln){(0,e.Z)(Mt,ln,Yt[ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mt,Object.getOwnPropertyDescriptors(Yt)):ye(Object(Yt)).forEach(function(ln){Object.defineProperty(Mt,ln,Object.getOwnPropertyDescriptor(Yt,ln))})}return Mt}({json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},He),Oe={png:"png",svg:"svg",clipboard:"clipboard"},Te={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},De=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,ke=500,be=300,ve=500,D=100,l=.1,d=.1,M=300,V=ue.themeFilter,q={addLibrary:"addLibrary"},re={addLibrary:"addLibrary"},ae={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},ge=730,Se=1e3,Re=500,Ye=1229,Ge=parseInt(ue.rightSidebarWidth),We=2,qe=[1,2,3],lt=10,ft=1440,ze=2097152,we="http://www.w3.org/2000/svg",Me={excalidraw:2,excalidrawLibrary:2},$e=5,at=.7,dt=11,vt={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Tt={LEFT:"left",CENTER:"center",RIGHT:"right"},Et=20,jt=.25,Kt=32,Gt={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},Ht="__precedingElement__",$t={architect:0,artist:1,cartoonist:2},pn={thin:1,bold:2,extraBold:4},_t={strokeColor:me.HO.black,backgroundColor:me.HO.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:$t.artist,opacity:100,locked:!1},xt="library",At={name:"default",defaultTab:xt},It=new Set(["embeddable","image"])},4572:function(Ze,te,t){t.d(te,{A3:function(){return m},ZC:function(){return Q},R6:function(){return k}});var e=t(9787),_=t.n(e);const g=ue=>{let me;const ye=new Set,fe=(U,L)=>{const F=typeof U=="function"?U(me):U;if(!Object.is(F,me)){const I=me;me=L??typeof F!="object"?F:Object.assign({},me,F),ye.forEach(P=>P(me,I))}},G=()=>me,$={setState:fe,getState:G,subscribe:U=>(ye.add(U),()=>ye.delete(U)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),ye.clear()}};return me=ue(fe,G,$),$},p=ue=>ue?g(ue):g;var y=t(5668);const{useSyncExternalStoreWithSelector:T}=y,E=ue=>{typeof ue!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const me=typeof ue=="function"?p(ue):ue,ye=(fe,G)=>function($,U=$.getState,L){const F=T($.subscribe,$.getState,$.getServerState||$.getState,U,L);return(0,e.useDebugValue)(F),F}(me,fe,G);return Object.assign(ye,me),ye},a=ue=>ue?E(ue):E;var u,N;const H=typeof window<"u"&&((u=window.document)!=null&&u.createElement||((N=window.navigator)==null?void 0:N.product)==="ReactNative")?_().useLayoutEffect:_().useEffect;function x(){const ue=a(me=>({current:new Array,version:0,set:me}));return{In:({children:me})=>{const ye=ue(G=>G.set),fe=ue(G=>G.version);return H(()=>{ye(G=>({version:G.version+1}))},[]),H(()=>(ye(({current:G})=>({current:[...G,me]})),()=>ye(({current:G})=>({current:G.filter($=>$!==me)}))),[me,fe]),null},Out:()=>{const me=ue(ye=>ye.current);return _().createElement(_().Fragment,null,me)}}}var m=_().createContext(null),k=function(){return _().useContext(m)},Q=function(){return _().useMemo(function(){return{MainMenuTunnel:x(),WelcomeScreenMenuHintTunnel:x(),WelcomeScreenToolbarHintTunnel:x(),WelcomeScreenHelpHintTunnel:x(),WelcomeScreenCenterTunnel:x(),FooterCenterTunnel:x(),DefaultSidebarTriggerTunnel:x(),DefaultSidebarTabTriggersTunnel:x(),OverwriteConfirmDialogTunnel:x(),jotaiScope:Symbol()}},[])}},100:function(Ze,te,t){t.d(te,{I:function(){return p},k:function(){return g}});var e=t(9787),_=t.n(e),g=_().createContext(null),p=function(){return _().useContext(g)}},7652:function(Ze,te,t){t.d(te,{KJ:function(){return H},OF:function(){return x},Uk:function(){return m},z8:function(){return N}});var e,_,g=t(9937),p=t(5284),y=t(6853),T='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',E='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',a="data:".concat(g.LO.svg,",").concat(encodeURIComponent("".concat(T).concat(E,"</svg>"))),u="data:".concat(g.LO.svg,",").concat(encodeURIComponent("".concat(T).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(E,"</svg>"))),N=function(k){k&&(k.style.cursor="")},H=function(k,Q){k&&(k.style.cursor=Q)},x=function(k,Q){e&&e.theme===Q||function(){var ue=Q===g.C6.DARK;(e=document.createElement("canvas")).theme=Q,e.height=20,e.width=20;var me=e.getContext("2d");me.lineWidth=1,me.beginPath(),me.arc(e.width/2,e.height/2,5,0,2*Math.PI),me.fillStyle=ue?p.black:p.white,me.fill(),me.strokeStyle=ue?p.white:p.black,me.stroke(),_=e.toDataURL(g.LO.svg)}(),H(k,"url(".concat(_,") ").concat(10," ").concat(10,", auto"))},m=function(k,Q){if(k)if(Q.activeTool.type==="selection")N(k);else if((0,y.l$)(Q))k.style.cursor=g.oc.GRAB;else if((0,y.EN)(Q))x(k,Q.theme);else if(Q.activeTool.type==="laser"){var ue=Q.theme===g.C6.LIGHT?a:u;k.style.cursor="url(".concat(ue,"), auto")}else["image","custom"].includes(Q.activeTool.type)?Q.activeTool.type!=="image"&&(k.style.cursor=g.oc.AUTO):k.style.cursor=g.oc.CROSSHAIR}},5796:function(Ze,te,t){t.d(te,{DQ:function(){return U},KG:function(){return s},Pn:function(){return S},Qk:function(){return $},Sf:function(){return b},Tu:function(){return c},Wr:function(){return F},ZY:function(){return I},_c:function(){return r},_p:function(){return z},bv:function(){return B},cT:function(){return P},g8:function(){return L},gY:function(){return Y},lV:function(){return f},tW:function(){return o},vZ:function(){return ie},wf:function(){return w}});var e=t(1930),_=t(2577),g=t(7169),p=t(8950),y=t(2975),T=t.n(y),E=t(5605),a=t(6853),u=t(9937),N=t(7651),H=t(3506),x=t(8227),m=t(4105),k=t(9827),Q=t(6548),ue=t(4419),me=t(7994);function ye(le,ce){var de=Object.keys(le);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(le);ce&&(J=J.filter(function(ee){return Object.getOwnPropertyDescriptor(le,ee).enumerable})),de.push.apply(de,J)}return de}function fe(le){for(var ce=1;ce<arguments.length;ce++){var de=arguments[ce]!=null?arguments[ce]:{};ce%2?ye(Object(de),!0).forEach(function(J){(0,g.Z)(le,J,de[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(de)):ye(Object(de)).forEach(function(J){Object.defineProperty(le,J,Object.getOwnPropertyDescriptor(de,J))})}return le}var G=function(){var le=(0,p.Z)(T().mark(function ce(de){var J;return T().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(de.type!==u.LO.png){ee.next=18;break}return ee.prev=1,ee.next=4,Promise.resolve().then(t.bind(t,250));case 4:return ee.next=6,ee.sent.decodePngMetadata(de);case 6:return ee.abrupt("return",ee.sent);case 9:if(ee.prev=9,ee.t0=ee.catch(1),ee.t0.message!=="INVALID"){ee.next=15;break}throw new H.jk((0,x.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 15:throw new H.jk((0,x.t)("alerts.cannotRestoreFromImage"));case 16:ee.next=43;break;case 18:if(!("text"in Blob)){ee.next=24;break}return ee.next=21,de.text();case 21:J=ee.sent,ee.next=27;break;case 24:return ee.next=26,new Promise(function(he){var Pe=new FileReader;Pe.readAsText(de,"utf8"),Pe.onloadend=function(){Pe.readyState===FileReader.DONE&&he(Pe.result)}});case 26:J=ee.sent;case 27:if(de.type!==u.LO.svg){ee.next=43;break}return ee.prev=28,ee.next=31,Promise.resolve().then(t.bind(t,250));case 31:return ee.next=33,ee.sent.decodeSvgMetadata({svg:J});case 33:return ee.abrupt("return",ee.sent);case 36:if(ee.prev=36,ee.t1=ee.catch(28),ee.t1.message!=="INVALID"){ee.next=42;break}throw new H.jk((0,x.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 42:throw new H.jk((0,x.t)("alerts.cannotRestoreFromImage"));case 43:return ee.abrupt("return",J);case 44:case"end":return ee.stop()}},ce,null,[[1,9],[28,36]])}));return function(ce){return le.apply(this,arguments)}}(),$=function(le){var ce;return le&&((ce=le.name.match(/\.(json|excalidraw|png|svg)$/))===null||ce===void 0?void 0:ce[1])||null},U=function(le){return le==="png"||le==="svg"},L=function(le){var ce=$(le);return ce==="png"||ce==="svg"},F=function(le){var ce=(le||{}).type;return!!ce&&Object.values(u.KL).includes(ce)},I=function(){var le=(0,p.Z)(T().mark(function ce(de,J,ee,he){var Pe,He;return T().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return Ke.next=2,G(de);case 2:Pe=Ke.sent,Ke.prev=3,Ke.prev=4,He=JSON.parse(Pe),Ke.next=13;break;case 8:if(Ke.prev=8,Ke.t0=Ke.catch(4),!F(de)){Ke.next=12;break}throw new H.jk((0,x.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 12:throw Ke.t0;case 13:if(!(0,ue.dS)(He)){Ke.next=17;break}return Ke.abrupt("return",{type:u.LO.excalidraw,data:(0,me.nu)({elements:(0,N._M)(He.elements||[]),appState:fe(fe({theme:J?.theme,fileHandle:he||de.handle||null},(0,a.s)(He.appState||{})),J?(0,m.W)(He.elements||[],J):{}),files:He.files},J,ee,{repairBindings:!0,refreshDimensions:!1})});case 17:if(!(0,ue.HT)(He)){Ke.next=19;break}return Ke.abrupt("return",{type:u.LO.excalidrawlib,data:He});case 19:case 26:throw new Error((0,x.t)("alerts.couldNotLoadInvalidFile"));case 22:if(Ke.prev=22,Ke.t1=Ke.catch(3),!(Ke.t1 instanceof H.jk)){Ke.next=26;break}throw Ke.t1;case 27:case"end":return Ke.stop()}},ce,null,[[3,22],[4,8]])}));return function(ce,de,J,ee){return le.apply(this,arguments)}}(),P=function(){var le=(0,p.Z)(T().mark(function ce(de,J,ee,he){var Pe;return T().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.next=2,I(de,J,ee,he);case 2:if((Pe=He.sent).type===u.LO.excalidraw){He.next=5;break}throw new Error((0,x.t)("alerts.couldNotLoadInvalidFile"));case 5:return He.abrupt("return",Pe.data);case 6:case"end":return He.stop()}},ce)}));return function(ce,de,J,ee){return le.apply(this,arguments)}}(),w=function(le){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",de=JSON.parse(le);if(!(0,ue.HT)(de))throw new Error("Invalid library");var J=de.libraryItems||de.library;return(0,me.wJ)(J,ce)},f=function(){var le=(0,p.Z)(T().mark(function ce(de){var J,ee=arguments;return T().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return J=ee.length>1&&ee[1]!==void 0?ee[1]:"unpublished",he.t0=w,he.next=4,G(de);case 4:return he.t1=he.sent,he.t2=J,he.abrupt("return",(0,he.t0)(he.t1,he.t2));case 7:case"end":return he.stop()}},ce)}));return function(ce){return le.apply(this,arguments)}}(),r=function(){var le=(0,p.Z)(T().mark(function ce(de){return T().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.abrupt("return",new Promise(function(){var ee=(0,p.Z)(T().mark(function he(Pe,He){return T().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(Ke.prev=0,!(0,k.y8)(de)){Ke.next=5;break}return Ke.next=4,de;case 4:de=Ke.sent;case 5:de.toBlob(function(Ae){if(!Ae)return He(new H.lp((0,x.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));Pe(Ae)}),Ke.next=11;break;case 8:Ke.prev=8,Ke.t0=Ke.catch(0),He(Ke.t0);case 11:case"end":return Ke.stop()}},he,null,[[0,8]])}));return function(he,Pe){return ee.apply(this,arguments)}}()));case 1:case"end":return J.stop()}},ce)}));return function(ce){return le.apply(this,arguments)}}(),o=function(){var le=(0,p.Z)(T().mark(function ce(de){var J;return T().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.prev=0,ee.t0=window.crypto.subtle,ee.next=4,ie(de);case 4:return ee.t1=ee.sent,ee.next=7,ee.t0.digest.call(ee.t0,"SHA-1",ee.t1);case 7:return J=ee.sent,ee.abrupt("return",(0,k.G3)(new Uint8Array(J)));case 11:return ee.prev=11,ee.t2=ee.catch(0),console.error(ee.t2),ee.abrupt("return",(0,E.x0)(40));case 15:case"end":return ee.stop()}},ce,null,[[0,11]])}));return function(ce){return le.apply(this,arguments)}}(),b=function(){var le=(0,p.Z)(T().mark(function ce(de){return T().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.abrupt("return",new Promise(function(ee,he){var Pe=new FileReader;Pe.onload=function(){var He=Pe.result;ee(He)},Pe.onerror=function(He){return he(He)},Pe.readAsDataURL(de)}));case 1:case"end":return J.stop()}},ce)}));return function(ce){return le.apply(this,arguments)}}(),s=function(le){for(var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",de=le.indexOf(","),J=atob(le.slice(de+1)),ee=le.slice(0,de).split(":")[1].split(";")[0],he=new ArrayBuffer(J.length),Pe=new Uint8Array(he),He=0;He<J.length;He++)Pe[He]=J.charCodeAt(He);return new File([he],ce,{type:ee})},c=function(){var le=(0,p.Z)(T().mark(function ce(de,J){var ee,he,Pe,He,Ke,Ae;return T().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(de.type!==u.LO.svg){Oe.next=2;break}return Oe.abrupt("return",de);case 2:return Oe.next=4,Promise.all([t.e(4736).then(t.t.bind(t,4881,23)).then(function(Te){return Te.default}),t.e(4736).then(t.bind(t,5446)).then(function(Te){return Te.default})]);case 4:if(ee=Oe.sent,he=(0,_.Z)(ee,2),Pe=he[0],He=he[1],Ke=He({pica:Pe({features:["js","wasm"]})}),J.outputType&&(Ae=J.outputType,Ke._create_blob=function(Te){return this.pica.toBlob(Te.out_canvas,Ae,.8).then(function(De){return Te.out_blob=De,Te})}),F(de)){Oe.next=12;break}throw new Error((0,x.t)("errors.unsupportedFileType"));case 12:return Oe.t0=File,Oe.next=15,Ke.toBlob(de,{max:J.maxWidthOrHeight});case 15:return Oe.t1=Oe.sent,Oe.t2=[Oe.t1],Oe.t3=de.name,Oe.t4={type:J.outputType||de.type},Oe.abrupt("return",new Oe.t0(Oe.t2,Oe.t3,Oe.t4));case 20:case"end":return Oe.stop()}},ce)}));return function(ce,de){return le.apply(this,arguments)}}(),S=function(le){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(le)],ce,{type:u.LO.svg})},z=function(){var le=(0,p.Z)(T().mark(function ce(de){var J,ee,he,Pe,He=arguments;return T().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return J=He.length>1&&He[1]!==void 0?He[1]:"",Ke.prev=1,Ke.next=4,fetch(de);case 4:ee=Ke.sent,Ke.next=10;break;case 7:throw Ke.prev=7,Ke.t0=Ke.catch(1),new Error((0,x.t)("errors.failedToFetchImage"));case 10:if(ee.ok){Ke.next=12;break}throw new Error((0,x.t)("errors.failedToFetchImage"));case 12:return Ke.next=14,ee.blob();case 14:if(!(he=Ke.sent).type||!F(he)){Ke.next=18;break}return Pe=J||he.name||"",Ke.abrupt("return",new File([he],Pe,{type:he.type}));case 18:throw new Error((0,x.t)("errors.unsupportedFileType"));case 19:case"end":return Ke.stop()}},ce,null,[[1,7]])}));return function(ce){return le.apply(this,arguments)}}(),B=function(){var le=(0,p.Z)(T().mark(function ce(de){var J,ee;return T().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return J=de.dataTransfer.files.item(0),he.next=3,j(de);case 3:if(ee=he.sent,!J){he.next=10;break}return he.next=7,Y(J);case 7:he.t0=he.sent,he.next=11;break;case 10:he.t0=null;case 11:return he.t1=he.t0,he.t2=ee,he.abrupt("return",{file:he.t1,fileHandle:he.t2});case 14:case"end":return he.stop()}},ce)}));return function(ce){return le.apply(this,arguments)}}(),j=function(){var le=(0,p.Z)(T().mark(function ce(de){var J,ee;return T().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(!Q.kr){he.next=16;break}return he.prev=1,J=de.dataTransfer.items[0],he.next=5,J.getAsFileSystemHandle();case 5:if(he.t0=he.sent,he.t0){he.next=8;break}he.t0=null;case 8:return ee=he.t0,he.abrupt("return",ee);case 12:return he.prev=12,he.t1=he.catch(1),console.warn(he.t1.name,he.t1.message),he.abrupt("return",null);case 16:return he.abrupt("return",null);case 17:case"end":return he.stop()}},ce,null,[[1,12]])}));return function(ce){return le.apply(this,arguments)}}(),C=function(le){var ce=null,de="".concat((0,e.Z)(new Uint8Array(le).slice(0,8)).join(" ")," "),J="255 216 255 ",ee="71 73 70 56 57 97 ";return de==="137 80 78 71 13 10 26 10 "?ce=u.LO.png:de.startsWith(J)?ce=u.LO.jpg:de.startsWith(ee)&&(ce=u.LO.gif),ce},A=function(le,ce,de){return new File([le],de||"",{type:ce})},Y=function(){var le=(0,p.Z)(T().mark(function ce(de){var J,ee,he,Pe,He,Ke,Ae,Oe;return T().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(de.type){Te.next=28;break}if((J=de)===null||J===void 0||(ee=J.name)===null||ee===void 0||!ee.endsWith(".excalidrawlib")){Te.next=11;break}return Te.t0=A,Te.next=5,ie(de);case 5:Te.t1=Te.sent,Te.t2=u.LO.excalidrawlib,Te.t3=de.name,de=(0,Te.t0)(Te.t1,Te.t2,Te.t3),Te.next=26;break;case 11:if((he=de)===null||he===void 0||(Pe=he.name)===null||Pe===void 0||!Pe.endsWith(".excalidraw")){Te.next=21;break}return Te.t4=A,Te.next=15,ie(de);case 15:Te.t5=Te.sent,Te.t6=u.LO.excalidraw,Te.t7=de.name,de=(0,Te.t4)(Te.t5,Te.t6,Te.t7),Te.next=26;break;case 21:return Te.next=23,ie(de);case 23:He=Te.sent,(Ke=C(He))&&(de=A(He,Ke,de.name));case 26:Te.next=34;break;case 28:if(!F(de)){Te.next=34;break}return Te.next=31,ie(de);case 31:Ae=Te.sent,(Oe=C(Ae))&&Oe!==de.type&&(de=A(Ae,Oe,de.name));case 34:return Te.abrupt("return",de);case 35:case"end":return Te.stop()}},ce)}));return function(ce){return le.apply(this,arguments)}}(),ie=function(le){return"arrayBuffer"in le?le.arrayBuffer():new Promise(function(ce,de){var J=new FileReader;J.onload=function(ee){var he;if((he=ee.target)===null||he===void 0||!he.result)return de(new Error("Couldn't convert blob to ArrayBuffer"));ce(ee.target.result)},J.readAsArrayBuffer(le)})}},6548:function(Ze,te,t){t.d(te,{I$:function(){return x},NL:function(){return m},kr:function(){return p}});var e=t(1930),_=t(8950),g=t(2975),p=function(){return typeof self>"u"?!1:!("top"in self&&self!==top)&&"showOpenFilePicker"in self?"showOpenFilePicker":!1}(),y=p?t.e(4736).then(t.bind(t,7464)):t.e(4736).then(t.bind(t,3948));function T(){return T=(0,_.Z)(g.mark(function k(){var Q,ue=arguments;return g.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,y;case 2:return me.abrupt("return",(Q=me.sent).default.apply(Q,ue));case 3:case"end":return me.stop()}},k)})),T.apply(this,arguments)}p?t.e(4736).then(t.bind(t,4036)):t.e(4736).then(t.bind(t,7693));var E=p?t.e(4736).then(t.bind(t,357)):t.e(4736).then(t.bind(t,341));function a(){return a=(0,_.Z)(g.mark(function k(){var Q,ue=arguments;return g.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,E;case 2:return me.abrupt("return",(Q=me.sent).default.apply(Q,ue));case 3:case"end":return me.stop()}},k)})),a.apply(this,arguments)}var u=t(9937),N=t(3506),H=t(9827),x=function(k){var Q,ue,me,ye=(Q=k.extensions)===null||Q===void 0?void 0:Q.reduce(function(G,$){return G.push(u.LO[$]),G},[]),fe=(ue=k.extensions)===null||ue===void 0?void 0:ue.reduce(function(G,$){return $==="jpg"?G.concat(".jpg",".jpeg"):G.concat(".".concat($))},[]);return function(){return T.apply(this,arguments)}({description:k.description,extensions:fe,mimeTypes:ye,multiple:(me=k.multiple)!==null&&me!==void 0&&me,legacySetup:function(G,$,U){var L=(0,H.Ds)($,500),F=function(){I(),document.addEventListener(u.Ks.KEYUP,L),document.addEventListener(u.Ks.POINTER_UP,L),L()},I=function(){var w;if((w=U.files)!==null&&w!==void 0&&w.length){var f=k.multiple?(0,e.Z)(U.files):U.files[0];G(f)}};requestAnimationFrame(function(){window.addEventListener(u.Ks.FOCUS,F)});var P=window.setInterval(function(){I()},500);return function(w){clearInterval(P),L.cancel(),window.removeEventListener(u.Ks.FOCUS,F),document.removeEventListener(u.Ks.KEYUP,L),document.removeEventListener(u.Ks.POINTER_UP,L),w&&(console.warn("Opening the file was canceled (legacy-fs)."),w(new N._L))}}})},m=function(k,Q){return function(){return a.apply(this,arguments)}(k,{fileName:"".concat(Q.name,".").concat(Q.extension),description:Q.description,extensions:[".".concat(Q.extension)]},Q.fileHandle)}},250:function(Ze,te,t){t.r(te),t.d(te,{decodePngMetadata:function(){return $},decodeSvgMetadata:function(){return L},encodePngMetadata:function(){return G},encodeSvgMetadata:function(){return U},getTEXtChunk:function(){return fe}});var e=t(8950),_=t(2975),g=t.n(_),p=t(2983),y=t.n(p),T=t(1194),E=t(3434),a=t.n(E),u=t(2744),N=t(9937),H=t(5796),x=function(F){return new Promise(function(I,P){var w=typeof F=="string"?new Blob([new TextEncoder().encode(F)]):new Blob([F instanceof Uint8Array?F:new Uint8Array(F)]),f=new FileReader;f.onload=function(r){if(!r.target||typeof r.target.result!="string")return P(new Error("couldn't convert to byte string"));I(r.target.result)},f.readAsBinaryString(w)})},m=function(F){for(var I=new ArrayBuffer(F.length),P=new Uint8Array(I),w=0,f=F.length;w<f;w++)P[w]=F.charCodeAt(w);return I},k=function(F){return new TextDecoder("utf-8").decode(m(F))},Q=function(){var F=(0,e.Z)(g().mark(function I(P){var w=arguments;return g().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(w.length>1&&w[1]!==void 0&&w[1])){f.next=5;break}f.t0=window.btoa(P),f.next=10;break;case 5:return f.t1=window,f.next=8,x(P);case 8:f.t2=f.sent,f.t0=f.t1.btoa.call(f.t1,f.t2);case 10:return f.abrupt("return",f.t0);case 11:case"end":return f.stop()}},I)}));return function(I){return F.apply(this,arguments)}}(),ue=function(){var F=(0,e.Z)(g().mark(function I(P){var w,f=arguments;return g().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return w=f.length>1&&f[1]!==void 0&&f[1],r.abrupt("return",w?window.atob(P):k(window.atob(P)));case 2:case"end":return r.stop()}},I)}));return function(I){return F.apply(this,arguments)}}(),me=function(){var F=(0,e.Z)(g().mark(function I(P){var w,f;return g().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(w=P.text,P.compress===!1){r.next=11;break}return r.prev=2,r.next=5,x((0,u.deflate)(w));case 5:f=r.sent,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),console.error("encode: cannot deflate",r.t0);case 11:if(r.t1=!!f,r.t2=f,r.t2){r.next=17;break}return r.next=16,x(w);case 16:r.t2=r.sent;case 17:return r.t3=r.t2,r.abrupt("return",{version:"1",encoding:"bstring",compressed:r.t1,encoded:r.t3});case 19:case"end":return r.stop()}},I,null,[[2,8]])}));return function(I){return F.apply(this,arguments)}}(),ye=function(){var F=(0,e.Z)(g().mark(function I(P){var w;return g().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:f.t0=P.encoding,f.next=f.t0==="bstring"?3:12;break;case 3:if(!P.compressed){f.next=7;break}f.t1=P.encoded,f.next=10;break;case 7:return f.next=9,k(P.encoded);case 9:f.t1=f.sent;case 10:return w=f.t1,f.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(P.encoding,'"'));case 13:if(!P.compressed){f.next=15;break}return f.abrupt("return",(0,u.inflate)(new Uint8Array(m(w)),{to:"string"}));case 15:return f.abrupt("return",w);case 16:case"end":return f.stop()}},I)}));return function(I){return F.apply(this,arguments)}}(),fe=function(){var F=(0,e.Z)(g().mark(function I(P){var w,f;return g().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=y(),r.t1=Uint8Array,r.next=4,(0,H.vZ)(P);case 4:if(r.t2=r.sent,r.t3=new r.t1(r.t2),w=(0,r.t0)(r.t3),!(f=w.find(function(o){return o.name==="tEXt"}))){r.next=10;break}return r.abrupt("return",T.decode(f.data));case 10:return r.abrupt("return",null);case 11:case"end":return r.stop()}},I)}));return function(I){return F.apply(this,arguments)}}(),G=function(){var F=(0,e.Z)(g().mark(function I(P){var w,f,r,o;return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return w=P.blob,f=P.metadata,b.t0=y(),b.t1=Uint8Array,b.next=5,(0,H.vZ)(w);case 5:return b.t2=b.sent,b.t3=new b.t1(b.t2),r=(0,b.t0)(b.t3),b.t4=T,b.t5=N.LO.excalidraw,b.t6=JSON,b.next=13,me({text:f,compress:!0});case 13:return b.t7=b.sent,b.t8=b.t6.stringify.call(b.t6,b.t7),o=b.t4.encode.call(b.t4,b.t5,b.t8),r.splice(-1,0,o),b.abrupt("return",new Blob([a()(r)],{type:N.LO.png}));case 18:case"end":return b.stop()}},I)}));return function(I){return F.apply(this,arguments)}}(),$=function(){var F=(0,e.Z)(g().mark(function I(P){var w,f;return g().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fe(P);case 2:if(((w=r.sent)==null?void 0:w.keyword)!==N.LO.excalidraw){r.next=19;break}if(r.prev=4,"encoded"in(f=JSON.parse(w.text))){r.next=10;break}if(!("type"in f)||f.type!==N.r8.excalidraw){r.next=9;break}return r.abrupt("return",w.text);case 9:throw new Error("FAILED");case 10:return r.next=12,ye(f);case 12:return r.abrupt("return",r.sent);case 15:throw r.prev=15,r.t0=r.catch(4),console.error(r.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return r.stop()}},I,null,[[4,15]])}));return function(I){return F.apply(this,arguments)}}(),U=function(){var F=(0,e.Z)(g().mark(function I(P){var w,f,r;return g().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return w=P.text,o.t0=Q,o.t1=JSON,o.next=5,me({text:w});case 5:return o.t2=o.sent,o.t3=o.t1.stringify.call(o.t1,o.t2),o.next=9,(0,o.t0)(o.t3,!0);case 9:return f=o.sent,r="",r+="<!-- payload-type:".concat(N.LO.excalidraw," -->"),r+="<!-- payload-version:2 -->",r+="<!-- payload-start -->",r+=f,r+="<!-- payload-end -->",o.abrupt("return",r);case 17:case"end":return o.stop()}},I)}));return function(I){return F.apply(this,arguments)}}(),L=function(){var F=(0,e.Z)(g().mark(function I(P){var w,f,r,o,b,s,c;return g().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!(w=P.svg).includes("payload-type:".concat(N.LO.excalidraw))){S.next=26;break}if(f=w.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){S.next=5;break}throw new Error("INVALID");case 5:return r=w.match(/<!-- payload-version:(\d+) -->/),o=r?.[1]||"1",b=o!=="1",S.prev=8,S.next=11,ue(f[1],b);case 11:if(s=S.sent,"encoded"in(c=JSON.parse(s))){S.next=17;break}if(!("type"in c)||c.type!==N.r8.excalidraw){S.next=16;break}return S.abrupt("return",s);case 16:throw new Error("FAILED");case 17:return S.next=19,ye(c);case 19:return S.abrupt("return",S.sent);case 22:throw S.prev=22,S.t0=S.catch(8),console.error(S.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return S.stop()}},I,null,[[8,22]])}));return function(I){return F.apply(this,arguments)}}()},2435:function(Ze,te,t){t.d(te,{HD:function(){return Q},Um:function(){return k.Um},cT:function(){return x.cT},n8:function(){return k.n8},p1:function(){return ue}});var e=t(8950),_=t(2975),g=t.n(_),p=t(4694),y=t(9937),T=t(7651),E=t(8227),a=t(6013),u=t(4105),N=t(3668),H=t(9827),x=t(5796),m=t(6548),k=t(4419),Q=function(me,ye,fe){var G=ye.selectedElementIds;me=(0,T.Lm)(me);var $=fe&&(0,u.N)(me,{selectedElementIds:G}),U=null,L=$?(0,u.eD)(me,{selectedElementIds:G},{includeBoundTextElement:!0}):me;return $&&(L.length===1&&(0,T.He)(L[0])?(U=L[0],L=(0,a.Xs)({elements:me,bounds:U,type:"overlap"})):L.length>1&&(L=(0,u.eD)(me,{selectedElementIds:G},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:U,exportedElements:(0,H.xU)(L)}},ue=function(){var me=(0,e.Z)(g().mark(function ye(fe,G,$,U,L){var F,I,P,w,f,r,o,b,s,c,S,z,B;return g().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(F=L.exportBackground,I=L.exportPadding,P=I===void 0?y.qy:I,w=L.viewBackgroundColor,f=L.name,r=L.fileHandle,o=r===void 0?null:r,b=L.exportingFrame,s=b===void 0?null:b,G.length!==0){j.next=3;break}throw new Error((0,E.t)("alerts.cannotExportEmptyCanvas"));case 3:if(fe!=="svg"&&fe!=="clipboard-svg"){j.next=17;break}return j.next=6,(0,N.$D)(G,{exportBackground:F,exportWithDarkMode:$.exportWithDarkMode,viewBackgroundColor:w,exportPadding:P,exportScale:$.exportScale,exportEmbedScene:$.exportEmbedScene&&fe==="svg"},U,{exportingFrame:s});case 6:if(c=j.sent,fe!=="svg"){j.next=13;break}return j.next=10,(0,m.NL)(new Blob([c.outerHTML],{type:y.LO.svg}),{description:"Export to SVG",name:f,extension:$.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:o});case 10:return j.abrupt("return",j.sent);case 13:if(fe!=="clipboard-svg"){j.next=17;break}return j.next=16,(0,p.dd)(c.outerHTML);case 16:return j.abrupt("return");case 17:if(S=(0,N.NL)(G,$,U,{exportBackground:F,viewBackgroundColor:w,exportPadding:P,exportingFrame:s}),fe!=="png"){j.next=33;break}return j.next=21,(0,x._c)(S);case 21:if(z=j.sent,!$.exportEmbedScene){j.next=28;break}return j.next=25,Promise.resolve().then(t.bind(t,250));case 25:return j.next=27,j.sent.encodePngMetadata({blob:z,metadata:(0,k.I_)(G,$,U,"local")});case 27:z=j.sent;case 28:return j.next=30,(0,m.NL)(z,{description:"Export to PNG",name:f,extension:"png",fileHandle:o});case 30:return j.abrupt("return",j.sent);case 33:if(fe!=="clipboard"){j.next=52;break}return j.prev=34,B=(0,x._c)(S),j.next=38,(0,p.uR)(B);case 38:j.next=50;break;case 40:if(j.prev=40,j.t0=j.catch(34),console.warn(j.t0),j.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){j.next=45;break}throw j.t0;case 45:if(!y.vU||j.t0.name!=="TypeError"){j.next=49;break}throw new Error("".concat((0,E.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,E.t)("hints.firefox_clipboard_write")));case 49:throw new Error((0,E.t)("alerts.couldNotCopyToClipboard"));case 50:j.next=53;break;case 52:throw new Error("Unsupported export type");case 53:case"end":return j.stop()}},ye,null,[[34,40]])}));return function(ye,fe,G,$,U){return me.apply(this,arguments)}}()},4419:function(Ze,te,t){t.d(te,{HT:function(){return me},I_:function(){return m},NI:function(){return ye},Um:function(){return k},dS:function(){return ue},n8:function(){return Q},t1:function(){return fe}});var e=t(6655),_=t(8950),g=t(2975),p=t.n(g),y=t(6548),T=t(6853),E=t(9937),a=t(7651),u=t(5796);function N(G,$){var U=typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(!U){if(Array.isArray(G)||(U=function(f,r){if(f){if(typeof f=="string")return H(f,r);var o=Object.prototype.toString.call(f).slice(8,-1);if(o==="Object"&&f.constructor&&(o=f.constructor.name),o==="Map"||o==="Set")return Array.from(f);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return H(f,r)}}(G))||$){U&&(G=U);var L=0,F=function(){};return{s:F,n:function(){return L>=G.length?{done:!0}:{done:!1,value:G[L++]}},e:function(f){throw f},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I,P=!0,w=!1;return{s:function(){U=U.call(G)},n:function(){var f=U.next();return P=f.done,f},e:function(f){w=!0,I=f},f:function(){try{P||U.return==null||U.return()}finally{if(w)throw I}}}}function H(G,$){($==null||$>G.length)&&($=G.length);for(var U=0,L=new Array($);U<$;U++)L[U]=G[U];return L}var x=function(G,$){var U,L={},F=N(G);try{for(F.s();!(U=F.n()).done;){var I=U.value;!I.isDeleted&&"fileId"in I&&I.fileId&&$[I.fileId]&&(L[I.fileId]=$[I.fileId])}}catch(P){F.e(P)}finally{F.f()}return L},m=function(G,$,U,L){var F={type:E.r8.excalidraw,version:E.Kr.excalidraw,source:E.pb,elements:L==="local"?(0,a._M)(G):(0,a.BQ)(G),appState:L==="local"?(0,T.s)($):(0,T.eS)($),files:L==="local"?x(G,U):void 0};return JSON.stringify(F,null,2)},k=function(){var G=(0,_.Z)(p().mark(function $(U,L,F){var I,P,w;return p().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return I=m(U,L,F,"local"),P=new Blob([I],{type:E.LO.excalidraw}),f.next=4,(0,y.NL)(P,{name:L.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,u.g8)(L.fileHandle)?null:L.fileHandle});case 4:return w=f.sent,f.abrupt("return",{fileHandle:w});case 6:case"end":return f.stop()}},$)}));return function($,U,L){return G.apply(this,arguments)}}(),Q=function(){var G=(0,_.Z)(p().mark(function $(U,L){var F;return p().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,y.I$)({description:"Excalidraw files"});case 2:return F=I.sent,I.t0=u.cT,I.next=6,(0,u.gY)(F);case 6:return I.t1=I.sent,I.t2=U,I.t3=L,I.t4=F.handle,I.abrupt("return",(0,I.t0)(I.t1,I.t2,I.t3,I.t4));case 11:case"end":return I.stop()}},$)}));return function($,U){return G.apply(this,arguments)}}(),ue=function(G){return G?.type===E.r8.excalidraw&&(!G.elements||Array.isArray(G.elements)&&(!G.appState||(0,e.Z)(G.appState)==="object"))},me=function(G){return(0,e.Z)(G)==="object"&&G&&G.type===E.r8.excalidrawLibrary&&(G.version===1||G.version===2)},ye=function(G){var $={type:E.r8.excalidrawLibrary,version:E.Kr.excalidrawLibrary,source:E.pb,libraryItems:G};return JSON.stringify($,null,2)},fe=function(){var G=(0,_.Z)(p().mark(function $(U){var L;return p().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return L=ye(U),F.next=3,(0,y.NL)(new Blob([L],{type:E.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return F.stop()}},$)}));return function($){return G.apply(this,arguments)}}()},9326:function(Ze,te,t){t.d(te,{Di:function(){return r},WV:function(){return f},rF:function(){return L},xS:function(){return o},zh:function(){return P}});var e=t(7169),_=t(8950),g=t(5169),p=t(8821),y=t(1930),T=t(2975),E=t.n(T),a=t(5796),u=t(7994),N=t(3607),H=t(453),x=t(4949),m=t(3506),k=t(8227),Q=t(9787),ue=t(9937),me=t(5832),ye=t(9827);function fe(b,s){var c=Object.keys(b);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(b);s&&(S=S.filter(function(z){return Object.getOwnPropertyDescriptor(b,z).enumerable})),c.push.apply(c,S)}return c}function G(b){for(var s=1;s<arguments.length;s++){var c=arguments[s]!=null?arguments[s]:{};s%2?fe(Object(c),!0).forEach(function(S){(0,e.Z)(b,S,c[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):fe(Object(c)).forEach(function(S){Object.defineProperty(b,S,Object.getOwnPropertyDescriptor(c,S))})}return b}function $(b,s){var c=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!c){if(Array.isArray(b)||(c=function(A,Y){if(A){if(typeof A=="string")return U(A,Y);var ie=Object.prototype.toString.call(A).slice(8,-1);if(ie==="Object"&&A.constructor&&(ie=A.constructor.name),ie==="Map"||ie==="Set")return Array.from(A);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return U(A,Y)}}(b))||s){c&&(b=c);var S=0,z=function(){};return{s:z,n:function(){return S>=b.length?{done:!0}:{done:!1,value:b[S++]}},e:function(A){throw A},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,j=!0,C=!1;return{s:function(){c=c.call(b)},n:function(){var A=c.next();return j=A.done,A},e:function(A){C=!0,B=A},f:function(){try{j||c.return==null||c.return()}finally{if(C)throw B}}}}function U(b,s){(s==null||s>b.length)&&(s=b.length);for(var c=0,S=new Array(s);c<s;c++)S[c]=b[c];return S}var L=(0,N.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),F=function(b){return(0,ye.xU)(b)},I=function(b,s){return!b.find(function(c){return c.elements.length===s.elements.length&&c.elements.every(function(S,z){return S.id===s.elements[z].id&&S.versionNonce===s.elements[z].versionNonce})})},P=function(b,s){var c,S=[],z=$(s);try{for(z.s();!(c=z.n()).done;){var B=c.value;I(b,B)&&S.push(B)}}catch(j){z.e(j)}finally{z.f()}return[].concat(S,(0,y.Z)(b))},w=(0,g.Z)(function b(s){var c=this;(0,p.Z)(this,b),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return c.updateQueue[c.updateQueue.length-1]},this.notifyListeners=function(){if(c.updateQueue.length>0)H.e_.set(L,{status:"loading",libraryItems:c.lastLibraryItems,isInitialized:c.isInitialized});else{c.isInitialized=!0,H.e_.set(L,{status:"loaded",libraryItems:c.lastLibraryItems,isInitialized:c.isInitialized});try{var S,z;(S=(z=c.app.props).onLibraryChange)===null||S===void 0||S.call(z,F(c.lastLibraryItems))}catch(B){console.error(B)}}},this.destroy=function(){c.isInitialized=!1,c.updateQueue=[],c.lastLibraryItems=[],H.e_.set(me.YX,new Map)},this.resetLibrary=function(){return c.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var S=(0,_.Z)(E().mark(function z(B){var j;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.prev=0,C.next=3,c.getLastUpdateTask()||c.lastLibraryItems;case 3:j=C.sent,c.updateQueue.length>0?B(c.getLatestLibrary()):B(F(j)),C.next=10;break;case 7:return C.prev=7,C.t0=C.catch(0),C.abrupt("return",B(c.lastLibraryItems));case 10:case"end":return C.stop()}},z,null,[[0,7]])}));return function(z){return S.apply(this,arguments)}}())},this.updateLibrary=function(){var S=(0,_.Z)(E().mark(function z(B){var j,C,A,Y,ie,le,ce,de,J;return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return j=B.libraryItems,C=B.prompt,A=C!==void 0&&C,Y=B.merge,ie=Y!==void 0&&Y,le=B.openLibraryMenu,ce=le!==void 0&&le,de=B.defaultStatus,J=de===void 0?"unpublished":de,ce&&c.app.setState({openSidebar:{name:ue.Cc.name,tab:ue.tf}}),ee.abrupt("return",c.setLibrary(function(){return new Promise(function(){var he=(0,_.Z)(E().mark(function Pe(He,Ke){var Ae,Oe;return E().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Te.prev=0,Te.next=3,typeof j!="function"||j instanceof Blob?j:j(c.lastLibraryItems);case 3:if(!((Ae=Te.sent)instanceof Blob)){Te.next=10;break}return Te.next=7,(0,a.lV)(Ae,J);case 7:Oe=Te.sent,Te.next=11;break;case 10:Oe=(0,u.wJ)(Ae,J);case 11:!A||window.confirm((0,k.t)("alerts.confirmAddLibrary",{numShapes:Oe.length}))?(A&&c.app.focusContainer(),He(ie?P(c.lastLibraryItems,Oe):Oe)):Ke(new m._L),Te.next=17;break;case 14:Te.prev=14,Te.t0=Te.catch(0),Ke(Te.t0);case 17:case"end":return Te.stop()}},Pe,null,[[0,14]])}));return function(Pe,He){return he.apply(this,arguments)}}())}));case 3:case"end":return ee.stop()}},z)}));return function(z){return S.apply(this,arguments)}}(),this.setLibrary=function(S){var z=new Promise(function(){var B=(0,_.Z)(E().mark(function j(C,A){return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.prev=0,Y.next=3,c.getLastUpdateTask();case 3:return typeof S=="function"&&(S=S(c.lastLibraryItems)),Y.t0=F,Y.next=7,S;case 7:Y.t1=Y.sent,c.lastLibraryItems=(0,Y.t0)(Y.t1),C(c.lastLibraryItems),Y.next=15;break;case 12:Y.prev=12,Y.t2=Y.catch(0),A(Y.t2);case 15:case"end":return Y.stop()}},j,null,[[0,12]])}));return function(j,C){return B.apply(this,arguments)}}()).catch(function(B){if(B.name==="AbortError")return console.warn("Library update aborted by user"),c.lastLibraryItems;throw B}).finally(function(){c.updateQueue=c.updateQueue.filter(function(B){return B!==z}),c.notifyListeners()});return c.updateQueue.push(z),c.notifyListeners(),z},this.app=s});te.ZP=w;var f=function(b){var s,c=Math.ceil(Math.sqrt(b.length)),S=[],z=0,B=0,j=0,C=0,A=0,Y=0,ie=0,le=$(b);try{var ce=function(){var de=s.value;A&&A%c==0&&(B+=j+50,z=0,Y=0,ie++),Y===0&&(j=function(Oe){return b.slice(Oe*c,Oe*c+c).reduce(function(Te,De){var ke=(0,x.v2)(De.elements).height;return Math.max(Te,ke)},0)}(ie)),C=function(Oe){var Te,De=0,ke=0,be=0,ve=$(b);try{for(ve.s();!(Te=ve.n()).done;){var D=Te.value;if(De%c==0&&(ke=0),ke===Oe){var l=(0,x.v2)(D.elements).width;be=Math.max(be,l)}De++,ke++}}catch(d){ve.e(d)}finally{ve.f()}return be}(Y);var J=(0,x.v2)(de.elements),ee=J.minX,he=J.minY,Pe=J.width,He=J.height,Ke=(C-Pe)/2,Ae=(j-He)/2;S.push.apply(S,(0,y.Z)(de.elements.map(function(Oe){return G(G({},Oe),{},{x:Oe.x+z+Ke-ee,y:Oe.y+B+Ae-he})}))),z+=C+50,A++,Y++};for(le.s();!(s=le.n()).done;)ce()}catch(de){le.e(de)}finally{le.f()}return S},r=function(){var b=new URLSearchParams(window.location.hash.slice(1)).get(ue.ah.addLibrary)||new URLSearchParams(window.location.search).get(ue.UO.addLibrary),s=b?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return b?{libraryUrl:b,idToken:s}:null},o=function(b){var s=b.excalidrawAPI,c=b.getInitialLibraryItems,S=(0,Q.useRef)(c);(0,Q.useEffect)(function(){if(s){var z=function(){var C=(0,_.Z)(E().mark(function A(Y){var ie,le,ce,de,J,ee;return E().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return ie=Y.libraryUrl,le=Y.idToken,ce=new Promise(function(){var Pe=(0,_.Z)(E().mark(function He(Ke,Ae){var Oe,Te;return E().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.prev=0,De.next=3,fetch(decodeURIComponent(ie));case 3:return Oe=De.sent,De.next=6,Oe.blob();case 6:Te=De.sent,Ke(Te),De.next=13;break;case 10:De.prev=10,De.t0=De.catch(0),Ae(De.t0);case 13:case"end":return De.stop()}},He,null,[[0,10]])}));return function(He,Ke){return Pe.apply(this,arguments)}}()),de=le!==s.id,he.next=5,de&&document.hidden?new Promise(function(Pe){window.addEventListener("focus",function(){return Pe()},{once:!0})}):null;case 5:return he.prev=5,he.next=8,s.updateLibrary({libraryItems:ce,prompt:de,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:he.next=13;break;case 10:throw he.prev=10,he.t0=he.catch(5),he.t0;case 13:return he.prev=13,window.location.hash.includes(ue.ah.addLibrary)?((J=new URLSearchParams(window.location.hash.slice(1))).delete(ue.ah.addLibrary),window.history.replaceState({},ue.iC,"#".concat(J.toString()))):window.location.search.includes(ue.UO.addLibrary)&&((ee=new URLSearchParams(window.location.search)).delete(ue.UO.addLibrary),window.history.replaceState({},ue.iC,"?".concat(ee.toString()))),he.finish(13);case 16:case"end":return he.stop()}},A,null,[[5,10,13,16]])}));return function(A){return C.apply(this,arguments)}}(),B=function(C){C.preventDefault();var A=r();A&&(C.stopImmediatePropagation(),window.history.replaceState({},"",C.oldURL),z(A))};S.current&&s.updateLibrary({libraryItems:S.current()});var j=r();return j&&z(j),window.addEventListener(ue.Ks.HASHCHANGE,B),function(){window.removeEventListener(ue.Ks.HASHCHANGE,B)}}},[s])}},7994:function(Ze,te,t){t.d(te,{ET:function(){return F},lY:function(){return w},nu:function(){return f},wJ:function(){return o}});var e=t(2577),_=t(7169),g=t(7651),p=t(4183),y=t(4643),T=t(9937),E=t(6853),a=t(7422),u=t(583),N=t(9827),H=t(4761),x=t(8020);function m(b,s){var c=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!c){if(Array.isArray(b)||(c=function(A,Y){if(A){if(typeof A=="string")return k(A,Y);var ie=Object.prototype.toString.call(A).slice(8,-1);if(ie==="Object"&&A.constructor&&(ie=A.constructor.name),ie==="Map"||ie==="Set")return Array.from(A);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return k(A,Y)}}(b))||s){c&&(b=c);var S=0,z=function(){};return{s:z,n:function(){return S>=b.length?{done:!0}:{done:!1,value:b[S++]}},e:function(A){throw A},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,j=!0,C=!1;return{s:function(){c=c.call(b)},n:function(){var A=c.next();return j=A.done,A},e:function(A){C=!0,B=A},f:function(){try{j||c.return==null||c.return()}finally{if(C)throw B}}}}function k(b,s){(s==null||s>b.length)&&(s=b.length);for(var c=0,S=new Array(s);c<s;c++)S[c]=b[c];return S}function Q(b,s){var c=Object.keys(b);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(b);s&&(S=S.filter(function(z){return Object.getOwnPropertyDescriptor(b,z).enumerable})),c.push.apply(c,S)}return c}function ue(b){for(var s=1;s<arguments.length;s++){var c=arguments[s]!=null?arguments[s]:{};s%2?Q(Object(c),!0).forEach(function(S){(0,_.Z)(b,S,c[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):Q(Object(c)).forEach(function(S){Object.defineProperty(b,S,Object.getOwnPropertyDescriptor(c,S))})}return b}var me={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1},ye=function(b){return Object.keys(T.ut).includes(b)?T.ut[b]:T.rk},fe=function(b){return b?ue(ue({},b),{},{focus:b.focus||0}):null},G=function(b,s){var c,S,z,B,j,C,A,Y,ie,le,ce,de,J,ee,he={type:s.type||b.type,version:b.version||1,versionNonce:(c=b.versionNonce)!==null&&c!==void 0?c:0,isDeleted:(S=b.isDeleted)!==null&&S!==void 0&&S,id:b.id||(0,y.kb)(),fillStyle:b.fillStyle||T.HN.fillStyle,strokeWidth:b.strokeWidth||T.HN.strokeWidth,strokeStyle:(z=b.strokeStyle)!==null&&z!==void 0?z:T.HN.strokeStyle,roughness:(B=b.roughness)!==null&&B!==void 0?B:T.HN.roughness,opacity:b.opacity==null?T.HN.opacity:b.opacity,angle:b.angle||0,x:(j=(C=s.x)!==null&&C!==void 0?C:b.x)!==null&&j!==void 0?j:0,y:(A=(Y=s.y)!==null&&Y!==void 0?Y:b.y)!==null&&A!==void 0?A:0,strokeColor:b.strokeColor||T.HN.strokeColor,backgroundColor:b.backgroundColor||T.HN.backgroundColor,width:b.width||0,height:b.height||0,seed:(ie=b.seed)!==null&&ie!==void 0?ie:1,groupIds:(le=b.groupIds)!==null&&le!==void 0?le:[],frameId:(ce=b.frameId)!==null&&ce!==void 0?ce:null,roundness:b.roundness?b.roundness:b.strokeSharpness==="round"?{type:(0,p.QI)(b.type)?T.a6.LEGACY:T.a6.PROPORTIONAL_RADIUS}:null,boundElements:b.boundElementIds?b.boundElementIds.map(function(Pe){return{type:"arrow",id:Pe}}):(de=b.boundElements)!==null&&de!==void 0?de:[],updated:(J=b.updated)!==null&&J!==void 0?J:(0,N.C3)(),link:b.link?(0,x.$u)(b.link):null,locked:(ee=b.locked)!==null&&ee!==void 0&&ee};return"customData"in b&&(he.customData=b.customData),T.WR in b&&(he[T.WR]=b[T.WR]),ue(ue(ue({},he),(0,g.Qp)(he)),s)},$=function(b,s){if(b.boundElements){var c=b.boundElements.slice(),S=new Set;b.boundElements=c.reduce(function(z,B){var j=s.get(B.id);if(j&&!S.has(B.id)){if(S.add(B.id),j.isDeleted)return z;z.push(B),(0,p.iB)(j)&&!j.containerId&&(j.containerId=b.id)}return z},[])}},U=function(b,s){var c=b.containerId?s.get(b.containerId):null;if(c){if(!b.isDeleted&&c.boundElements&&!c.boundElements.find(function(z){return z.id===b.id})){var S=(c.boundElements||(c.boundElements=[])).slice();S.push({type:"text",id:b.id}),c.boundElements=S}}else b.containerId=null},L=function(b,s){b.frameId&&(s.get(b.frameId)||(b.frameId=null))},F=function(b,s,c){var S=new Set,z=s?(0,N.xn)(s):null,B=(b||[]).reduce(function(ie,le){if(le.type!=="selection"&&!(0,g.QD)(le)){var ce=function(J){var ee,he,Pe=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(J.type){case"text":var He=J.fontSize,Ke=J.fontFamily;if("font"in J){var Ae=J.font.split(" "),Oe=(0,e.Z)(Ae,2),Te=Oe[0],De=Oe[1];He=parseFloat(Te),Ke=ye(De)}var ke=typeof J.text=="string"&&J.text||"",be=J.lineHeight||(J.height?(0,H.$2)(J):(0,H.PT)(J.fontFamily)),ve=(0,H.R8)(J.text,(0,N.mO)(J),be);return J=G(J,{fontSize:He,fontFamily:Ke,text:ke,textAlign:J.textAlign||T.Hg,verticalAlign:J.verticalAlign||T.hs,containerId:(ee=J.containerId)!==null&&ee!==void 0?ee:null,originalText:J.originalText||ke,lineHeight:be,baseline:ve}),ke||J.isDeleted||(J=ue(ue({},J),{},{originalText:ke,isDeleted:!0}),J=(0,u.ZP)(J)),Pe&&(J=ue(ue({},J),(0,g.JZ)(J))),J;case"freedraw":return G(J,{points:J.points,lastCommittedPoint:null,simulatePressure:J.simulatePressure,pressures:J.pressures});case"image":return G(J,{status:J.status||"pending",fileId:J.fileId,scale:J.scale||[1,1]});case"line":case"draw":case"arrow":var D=J,l=D.startArrowhead,d=l===void 0?null:l,M=D.endArrowhead,V=M===void 0?J.type==="arrow"?"arrow":null:M,q=J.x,re=J.y,ae=!Array.isArray(J.points)||J.points.length<2?[[0,0],[J.width,J.height]]:J.points;if(ae[0][0]!==0||ae[0][1]!==0){var ge=a._.getNormalizedPoints(J);ae=ge.points,q=ge.x,re=ge.y}return G(J,{type:J.type==="draw"?"line":J.type,startBinding:fe(J.startBinding),endBinding:fe(J.endBinding),lastCommittedPoint:null,startArrowhead:d,endArrowhead:V,points:ae,x:q,y:re});case"ellipse":case"rectangle":case"diamond":return G(J,{});case"embeddable":return G(J,{validated:null});case"frame":return G(J,{name:(he=J.name)!==null&&he!==void 0?he:null})}return null}(le,c?.refreshDimensions);if(ce){var de=z?.get(le.id);de&&de.version>ce.version&&(ce=(0,u.ZP)(ce,de.version)),S.has(ce.id)&&(ce=ue(ue({},ce),{},{id:(0,y.kb)()})),S.add(ce.id),ie.push(ce)}}return ie},[]);if(c==null||!c.repairBindings)return B;var j,C=(0,N.xn)(B),A=m(B);try{for(A.s();!(j=A.n()).done;){var Y=j.value;Y.frameId&&L(Y,C),(0,p.iB)(Y)&&Y.containerId?U(Y,C):Y.boundElements&&$(Y,C)}}catch(ie){A.e(ie)}finally{A.f()}return B},I=function(b,s,c){var S=s[b];return S!==void 0?S:c[b]},P={isSidebarDocked:function(b,s){var c;return["defaultSidebarDockedPreference",(c=b.isSidebarDocked)!==null&&c!==void 0?c:I("defaultSidebarDockedPreference",b,s)]}},w=function(b,s){var c,S,z,B;b=b||{};for(var j=(0,E.im)(),C={},A=0,Y=Object.keys(P);A<Y.length;A++){var ie=Y[A];if(ie in b){var le=P[ie](b,j),ce=(0,e.Z)(le,2),de=ce[0],J=ce[1];C[de]=J}}for(var ee=0,he=Object.entries(j);ee<he.length;ee++){var Pe=(0,e.Z)(he[ee],2),He=Pe[0],Ke=Pe[1],Ae=b[He],Oe=s?s[He]:void 0;C[He]=Ae!==void 0?Ae:Oe!==void 0?Oe:Ke}return ue(ue({},C),{},{cursorButton:s?.cursorButton||"up",penDetected:(c=s?.penDetected)!==null&&c!==void 0?c:!!b.penMode&&(S=b.penDetected)!==null&&S!==void 0&&S,activeTool:ue(ue({},(0,N.Om)(j,C.activeTool.type&&me[C.activeTool.type]?C.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(z=C.activeTool.locked)!==null&&z!==void 0&&z}),zoom:typeof b.zoom=="number"?{value:b.zoom}:(B=b.zoom)!==null&&B!==void 0&&B.value?b.zoom:j.zoom,openSidebar:typeof b.openSidebar=="string"?{name:T.Cc.name}:C.openSidebar})},f=function(b,s,c,S){return{elements:F(b?.elements,c,S),appState:w(b?.appState,s||null),files:b?.files||{}}},r=function(b){var s=F((0,g.Lm)(b.elements),null);return s.length?ue(ue({},b),{},{elements:s}):null},o=function(){var b,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0,S=[],z=m(s);try{for(z.s();!(b=z.n()).done;){var B=b.value;if(Array.isArray(B)){var j=r({status:c,elements:B,id:(0,y.kb)(),created:Date.now()});j&&S.push(j)}else{var C=B,A=r(ue(ue({},C),{},{id:C.id||(0,y.kb)(),status:C.status||c,created:C.created||Date.now()}));A&&S.push(A)}}}catch(Y){z.e(Y)}finally{z.f()}return S}},6199:function(Ze,te,t){t.d(te,{w:function(){return L}});var e=t(2577),_=t(5169),g=t(8821),p=t(7169),y=t(9937),T=t(7651),E=t(9645),a=t(5742),u=t(4761),N=t(9827),H=t(5999),x=t(4643);function m(F,I){var P=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!P){if(Array.isArray(F)||(P=function(s,c){if(s){if(typeof s=="string")return k(s,c);var S=Object.prototype.toString.call(s).slice(8,-1);if(S==="Object"&&s.constructor&&(S=s.constructor.name),S==="Map"||S==="Set")return Array.from(s);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return k(s,c)}}(F))||I){P&&(F=P);var w=0,f=function(){};return{s:f,n:function(){return w>=F.length?{done:!0}:{done:!1,value:F[w++]}},e:function(s){throw s},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,o=!0,b=!1;return{s:function(){P=P.call(F)},n:function(){var s=P.next();return o=s.done,s},e:function(s){b=!0,r=s},f:function(){try{o||P.return==null||P.return()}finally{if(b)throw r}}}}function k(F,I){(I==null||I>F.length)&&(I=F.length);for(var P=0,w=new Array(I);P<I;P++)w[P]=F[P];return w}function Q(F,I){var P=Object.keys(F);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(F);I&&(w=w.filter(function(f){return Object.getOwnPropertyDescriptor(F,f).enumerable})),P.push.apply(P,w)}return P}function ue(F){for(var I=1;I<arguments.length;I++){var P=arguments[I]!=null?arguments[I]:{};I%2?Q(Object(P),!0).forEach(function(w){(0,p.Z)(F,w,P[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(P)):Q(Object(P)).forEach(function(w){Object.defineProperty(F,w,Object.getOwnPropertyDescriptor(P,w))})}return F}var me=100,ye=0,fe=100,G=function(F,I){var P=(0,a.VL)(ue(ue({x:0,y:0,textAlign:y.I8.CENTER,verticalAlign:y.oX.MIDDLE},I),{},{containerId:F.id,strokeColor:I.strokeColor||F.strokeColor}));return Object.assign(F,{boundElements:(F.boundElements||[]).concat({type:"text",id:P.id})}),(0,T.oN)(P,F),[F,P]},$=function(F,I,P,w){var f,r;if(Object.assign(F,{startBinding:F?.startBinding||null,endBinding:F.endBinding||null}),I){var o,b,s,c=(o=I?.width)!==null&&o!==void 0?o:fe,S=(b=I?.height)!==null&&b!==void 0?b:fe;I.id&&((s=w.getElement(I.id))||console.error("No element for start binding with id ".concat(I.id," found")));var z=I.x||F.x-c,B=I.y||F.y-S/2,j=s?s.type:I.type;if(j){if(j==="text"){var C="";s&&s.type==="text"?C=s.text:I.type==="text"&&(C=I.text),C||console.error("No text found for start binding text element for ".concat(F.id)),f=(0,a.VL)(ue(ue(ue({x:z,y:B,type:"text"},s),I),{},{text:C})),Object.assign(f,{x:I.x||F.x-f.width,y:I.y||F.y-f.height/2})}else switch(j){case"rectangle":case"ellipse":case"diamond":f=(0,T.Up)(ue(ue(ue({x:z,y:B,width:c,height:S},s),I),{},{type:j}));break;default:(0,N.vE)(F,'Unhandled element start type "'.concat(I.type,'"'),!0)}(0,E.UZ)(F,f,"start")}}if(P){var A,Y,ie,le=(A=P?.height)!==null&&A!==void 0?A:fe,ce=(Y=P?.width)!==null&&Y!==void 0?Y:fe;P.id&&((ie=w.getElement(P.id))||console.error("No element for end binding with id ".concat(P.id," found")));var de=P.x||F.x+F.width,J=P.y||F.y-le/2,ee=ie?ie.type:P.type;if(ee){if(ee==="text"){var he="";ie&&ie.type==="text"?he=ie.text:P.type==="text"&&(he=P.text),he||console.error("No text found for end binding text element for ".concat(F.id)),r=(0,a.VL)(ue(ue(ue({x:de,y:J,type:"text"},ie),P),{},{text:he})),Object.assign(r,{y:P.y||F.y-r.height/2})}else switch(ee){case"rectangle":case"ellipse":case"diamond":r=(0,T.Up)(ue(ue(ue({x:de,y:J,width:ce,height:le},ie),P),{},{type:ee}));break;default:(0,N.vE)(F,'Unhandled element end type "'.concat(ee,'"'),!0)}(0,E.UZ)(F,r,"end")}}var Pe=F.points.length-1,He=.5,Ke=(0,N.xU)(F.points);return F.points[Pe][0]>F.points[Pe-1][0]&&(Ke[0][0]=He,Ke[Pe][0]-=He),F.points[Pe][0]<F.points[Pe-1][0]&&(Ke[0][0]=-.5,Ke[Pe][0]+=He),F.points[Pe][1]>F.points[Pe-1][1]&&(Ke[0][1]=He,Ke[Pe][1]-=He),F.points[Pe][1]<F.points[Pe-1][1]&&(Ke[0][1]=-.5,Ke[Pe][1]+=He),Object.assign(F,{points:Ke}),{linearElement:F,startBoundElement:f,endBoundElement:r}},U=(0,_.Z)(function F(){var I=this;(0,g.Z)(this,F),this.excalidrawElements=new Map,this.add=function(P){P&&I.excalidrawElements.set(P.id,P)},this.getElements=function(){return Array.from(I.excalidrawElements.values())},this.getElement=function(P){return I.excalidrawElements.get(P)}}),L=function(F,I){if(!F)return[];var P,w=(0,N.xU)(F),f=new U,r=new Map,o=new Map,b=m(w);try{for(b.s();!(P=b.n()).done;){var s=P.value,c=void 0,S=s.id;switch(I?.regenerateIds!==!1&&Object.assign(s,{id:(0,x.kb)()}),s.type){case"rectangle":case"ellipse":case"diamond":var z,B,j=s!=null&&(z=s.label)!==null&&z!==void 0&&z.text&&s.width===void 0?0:s?.width||fe,C=s!=null&&(B=s.label)!==null&&B!==void 0&&B.text&&s.height===void 0?0:s?.height||fe;c=(0,T.Up)(ue(ue({},s),{},{width:j,height:C}));break;case"line":var A=s.width||me,Y=s.height||ye;c=(0,T.y8)(ue({width:A,height:Y,points:[[0,0],[A,Y]]},s));break;case"arrow":var ie=s.width||me,le=s.height||ye;c=(0,T.y8)(ue({width:ie,height:le,endArrowhead:"arrow",points:[[0,0],[ie,le]]},s)),Object.assign(c,(0,H.k)(c.points));break;case"text":var ce,de=s?.fontFamily||y.rk,J=s?.fontSize||y.n5,ee=s?.lineHeight||(0,u.PT)(de),he=(ce=s.text)!==null&&ce!==void 0?ce:"",Pe=(0,u.bG)(he),He=(0,u.X1)(Pe,(0,N.mO)({fontFamily:de,fontSize:J}),ee);c=(0,a.VL)(ue({width:He.width,height:He.height,fontFamily:de,fontSize:J},s));break;case"image":c=(0,a.vw)(ue({width:s?.width||fe,height:s?.height||fe},s));break;case"frame":c=(0,a.M3)(ue({x:0,y:0},s));break;case"freedraw":case"embeddable":c=s;break;default:c=s,(0,N.vE)(s,'Unhandled element type "'.concat(s.type,'"'),!0)}f.getElement(c.id)?console.error("Duplicate id found for ".concat(c.id)):(f.add(c),r.set(c.id,s),S&&o.set(S,c.id))}}catch(dt){b.e(dt)}finally{b.f()}var Ke,Ae=m(r);try{for(Ae.s();!(Ke=Ae.n()).done;){var Oe=(0,e.Z)(Ke.value,2),Te=Oe[0],De=Oe[1],ke=f.getElement(Te);switch(De.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var be;if((be=De.label)!==null&&be!==void 0&&be.text){var ve=G(ke,De?.label),D=(0,e.Z)(ve,2),l=D[0],d=D[1];if(f.add(l),f.add(d),l.type==="arrow"){var M=De.type==="arrow"?De?.start:void 0,V=De.type==="arrow"?De?.end:void 0;if(M&&M.id){var q=o.get(M.id);q&&Object.assign(M,{id:q})}if(V&&V.id){var re=o.get(V.id);re&&Object.assign(V,{id:re})}var ae=$(l,M,V,f),ge=ae.linearElement,Se=ae.startBoundElement,Re=ae.endBoundElement;l=ge,f.add(ge),f.add(Se),f.add(Re)}}else if(De.type==="arrow"){var Ye=De.start,Ge=De.end;if(Ye&&Ye.id){var We=o.get(Ye.id);Object.assign(Ye,{id:We})}if(Ge&&Ge.id){var qe=o.get(Ge.id);Object.assign(Ge,{id:qe})}var lt=$(ke,Ye,Ge,f),ft=lt.linearElement,ze=lt.startBoundElement,we=lt.endBoundElement;f.add(ft),f.add(ze),f.add(we)}}}}catch(dt){Ae.e(dt)}finally{Ae.f()}var Me,$e=m(r);try{var at=function(){var dt=(0,e.Z)(Me.value,2),vt=dt[0],Tt=dt[1];if(Tt.type!=="frame")return"continue";var Et=f.getElement(vt);if(!Et)throw new Error("Excalidraw element with id ".concat(vt," doesn't exist"));var jt=[];Tt.children.forEach(function(It){var Mt,Nt=o.get(It);if(!Nt)throw new Error("Element with ".concat(It," wasn't mapped correctly"));var Yt=f.getElement(Nt);if(!Yt)throw new Error("Frame element with id ".concat(Nt," doesn't exist"));Object.assign(Yt,{frameId:Et.id}),Yt==null||(Mt=Yt.boundElements)===null||Mt===void 0||Mt.forEach(function(ln){var an=f.getElement(ln.id);if(!an)throw new Error("Bound element with id ".concat(ln.id," doesn't exist"));Object.assign(an,{frameId:Et.id}),jt.push(an)}),jt.push(Yt)});var Kt=(0,T.KP)(jt),Gt=(0,e.Z)(Kt,4),Ht=Gt[0],$t=Gt[1],pn=Gt[2],_t=Gt[3];Ht-=10,$t-=10,pn+=10,_t+=10;var xt=Math.max(Et?.width,pn-Ht),At=Math.max(Et?.height,_t-$t);Object.assign(Et,{x:Ht,y:$t,width:xt,height:At})};for($e.s();!(Me=$e.n()).done;)at()}catch(dt){$e.e(dt)}finally{$e.f()}return f.getElements()}},8020:function(Ze,te,t){t.d(te,{$u:function(){return g},q$:function(){return p},tO:function(){return _},ye:function(){return y}});var e=t(5779),_=function(T){return T.replace(/"/g,"&quot;")},g=function(T){return(T=T.trim())?(0,e.N)(_(T)):T},p=function(T){return!!(T!=null&&T.includes(location.origin)||T!=null&&T.startsWith("/"))},y=function(T){if((T=g(T)).startsWith("/"))return"".concat(location.origin).concat(T);try{new URL(T)}catch{return"about:blank"}return T}},5992:function(Ze,te,t){t.d(te,{rj:function(){return le},nW:function(){return J},nz:function(){return he},sw:function(){return He},lV:function(){return ke},Ni:function(){return Ae},wq:function(){return Ke},Pp:function(){return Te}});var e=t(7169),_=t(2577),g=t(9827),p=t(761),y=t(583),T=t(2767),E=t(1512),a=t(8935),u=t(8227),N=t(9787),H=t(45),x=t(5491),m=t(9660),k=t(2361),Q=t(9937),ue=t(8925),me=t(4105),ye=t(3528),fe=t(7651),G=t(8020),$=t(3379),U=t.n($),L=t(7795),F=t.n(L),I=t(569),P=t.n(I),w=t(3565),f=t.n(w),r=t(9216),o=t.n(r),b=t(4589),s=t.n(b),c=t(5260),S={};S.styleTagTransform=s(),S.setAttributes=f(),S.insert=P().bind(null,"head"),S.domAPI=F(),S.insertStyleElement=o(),U()(c.Z,S),c.Z&&c.Z.locals&&c.Z.locals;var z=t(3646),B=t(8242),j=t(4183),C=t(2921),A=t(4512);function Y(ve,D){var l=Object.keys(ve);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(ve);D&&(d=d.filter(function(M){return Object.getOwnPropertyDescriptor(ve,M).enumerable})),l.push.apply(l,d)}return l}function ie(ve){for(var D=1;D<arguments.length;D++){var l=arguments[D]!=null?arguments[D]:{};D%2?Y(Object(l),!0).forEach(function(d){(0,e.Z)(ve,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ve,Object.getOwnPropertyDescriptors(l)):Y(Object(l)).forEach(function(d){Object.defineProperty(ve,d,Object.getOwnPropertyDescriptor(l,d))})}return ve}var le=document.createElement("img");le.src="data:".concat(Q.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var ce=!1,de=new Map,J=function(ve){var D=ve.element,l=ve.setAppState,d=ve.onLinkOpen,M=ve.setToast,V=(0,B.gF)(),q=(0,B.hY)(),re=D.link||"",ae=(0,N.useState)(re),ge=(0,_.Z)(ae,2),Se=ge[0],Re=ge[1],Ye=(0,N.useRef)(null),Ge=V.showHyperlinkPopup==="editor",We=(0,N.useCallback)(function(){if(Ye.current){var we=(0,G.$u)(Ye.current.value)||null;if(!D.link&&we&&(0,z.L)("hyperlink","create"),(0,j.gs)(D)){var Me;if(((Me=V.activeEmbeddable)===null||Me===void 0?void 0:Me.element)===D&&l({activeEmbeddable:null}),!we)return void(0,y.DR)(D,{validated:!1,link:null});if((0,p.xm)(we,q.validateEmbeddable)){var $e=D.width,at=D.height,dt=(0,p.LM)(we);dt!=null&&dt.warning&&M({message:dt.warning,closable:!0});var vt=dt?dt.aspectRatio.w/dt.aspectRatio.h:1,Tt=de.get(D.id)!==D.link;(0,y.DR)(D,ie(ie({},Tt?{width:dt?.type==="video"?$e>at?$e:at*vt:$e,height:dt?.type==="video"&&$e>at?$e/vt:at}:{}),{},{validated:!0,link:we})),C.R.delete(D),de.has(D.id)&&de.delete(D.id)}else we&&M({message:(0,u.t)("toast.unableToEmbed"),closable:!0}),D.link&&de.set(D.id,D.link),(0,y.DR)(D,{validated:!1,link:we}),C.R.delete(D)}else(0,y.DR)(D,{link:we})}},[D,M,q.validateEmbeddable,V.activeEmbeddable,l]);(0,N.useLayoutEffect)(function(){return function(){We()}},[We]),(0,N.useEffect)(function(){var we=null,Me=function($e){Ge||(we&&clearTimeout(we),be(D,V,[$e.clientX,$e.clientY])&&(we=window.setTimeout(function(){l({showHyperlinkPopup:!1})},500)))};return window.addEventListener(Q.Ks.POINTER_MOVE,Me,!1),function(){window.removeEventListener(Q.Ks.POINTER_MOVE,Me,!1),we&&clearTimeout(we)}},[V,D,Ge,l]);var qe=(0,N.useCallback)(function(){(0,z.L)("hyperlink","delete"),(0,y.DR)(D,{link:null}),Ge&&(Ye.current.value=""),l({showHyperlinkPopup:!1})},[l,D,Ge]),lt=ee(D,V),ft=lt.x,ze=lt.y;return V.draggingElement||V.resizingElement||V.isRotating||V.openMenu||V.viewModeEnabled?null:(0,A.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(ze,"px"),left:"".concat(ft,"px"),width:320,padding:5},onClick:function(){D.link||Ge||l({showHyperlinkPopup:"editor"})},children:[Ge?(0,A.jsx)("input",{className:(0,H.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:Ye,value:Se,onChange:function(we){return Re(we.target.value)},autoFocus:!0,onKeyDown:function(we){we.stopPropagation(),we[x.tW.CTRL_OR_CMD]&&we.key===x.tW.K&&we.preventDefault(),we.key!==x.tW.ENTER&&we.key!==x.tW.ESCAPE||(We(),l({showHyperlinkPopup:"info"}))}}):D.link?(0,A.jsx)("a",{href:(0,G.$u)(D.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,G.q$)(D.link)?"_self":"_blank",onClick:function(we){if(D.link&&d){var Me=(0,g.ag)(Q.Ks.EXCALIDRAW_LINK,we.nativeEvent);d(ie(ie({},D),{},{link:(0,G.$u)(D.link)}),Me),Me.defaultPrevented&&we.preventDefault()}},rel:"noopener noreferrer",children:D.link}):(0,A.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:(0,u.t)("labels.link.empty")}),(0,A.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!Ge&&(0,A.jsx)(E.V,{type:"button",title:(0,u.t)("buttons.edit"),"aria-label":(0,u.t)("buttons.edit"),label:(0,u.t)("buttons.edit"),onClick:function(){(0,z.L)("hyperlink","edit","popup-ui"),l({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:a.Pm}),re&&!(0,j.gs)(D)&&(0,A.jsx)(E.V,{type:"button",title:(0,u.t)("buttons.remove"),"aria-label":(0,u.t)("buttons.remove"),label:(0,u.t)("buttons.remove"),onClick:qe,className:"excalidraw-hyperlinkContainer--remove",icon:a.XH})]})]})},ee=function(ve,D){var l=(0,fe.qf)(ve),d=(0,_.Z)(l,2),M=d[0],V=d[1],q=(0,g._i)({sceneX:M+ve.width/2,sceneY:V},D),re=q.x,ae=q.y;return{x:re-D.offsetLeft-160,y:ae-D.offsetTop-85}},he=(0,T.z)({name:"hyperlink",perform:function(ve,D){return D.showHyperlinkPopup!=="editor"&&{elements:ve,appState:ie(ie({},D),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(ve){return ve[x.tW.CTRL_OR_CMD]&&ve.key===x.tW.K},contextItemLabel:function(ve,D){return Pe(ve,D)},predicate:function(ve,D){return(0,me.eD)(ve,D).length===1},PanelComponent:function(ve){var D=ve.elements,l=ve.appState,d=ve.updateData,M=(0,me.eD)(D,l);return(0,A.jsx)(E.V,{type:"button",icon:a.xP,"aria-label":(0,u.t)(Pe(D,l)),title:"".concat((0,j.gs)(D[0])?(0,u.t)("labels.link.labelEmbed"):(0,u.t)("labels.link.label")," - ").concat((0,g.uY)("CtrlOrCmd+K")),onClick:function(){return d(null)},selected:M.length===1&&!!M[0].link})}}),Pe=function(ve,D){var l=(0,me.eD)(ve,D);return l[0].link?(0,j.gs)(l[0])?"labels.link.editEmbed":"labels.link.edit":(0,j.gs)(l[0])?"labels.link.createEmbed":"labels.link.create"},He=function(ve,D,l){var d=(0,_.Z)(ve,4),M=d[0],V=d[1],q=d[2],re=d[3],ae=m.Dn,ge=ae/l.zoom.value,Se=ae/l.zoom.value,Re=ae/l.zoom.value,Ye=(M+q)/2,Ge=(V+re)/2,We=(ae-8)/(2*l.zoom.value),qe=4/l.zoom.value,lt=q+qe-We,ft=V-qe-Re+We,ze=(0,k.U1)(lt+ge/2,ft+Se/2,Ye,Ge,D),we=(0,_.Z)(ze,2);return[we[0]-ge/2,we[1]-Se/2,ge,Se]},Ke=function(ve,D,l){var d=(0,_.Z)(l,2),M=d[0],V=d[1],q=4/D.zoom.value,re=(0,fe.qf)(ve),ae=(0,_.Z)(re,4),ge=ae[0],Se=ae[1],Re=ae[2],Ye=ae[3],Ge=He([ge,Se,Re,Ye],ve.angle,D),We=(0,_.Z)(Ge,4),qe=We[0],lt=We[1],ft=We[2],ze=We[3];return M>qe-q&&M<qe+q+ft&&V>lt-q&&V<lt+ze+q},Ae=function(ve,D,l,d){var M=(0,_.Z)(l,2),V=M[0],q=M[1];if(!ve.link||D.selectedElementIds[ve.id])return!1;var re=4/D.zoom.value;return!(d||!D.viewModeEnabled||!(0,ye.pX)(ve,[V,q],re,null))||Ke(ve,D,[V,q])},Oe=null,Te=function(ve,D){Oe&&clearTimeout(Oe),Oe=window.setTimeout(function(){return De(ve,D)},Q.sA)},De=function(ve,D){if(ve.link){var l=(0,ue.bK)();l.classList.add("excalidraw-tooltip--visible"),l.style.maxWidth="20rem",l.textContent=ve.link;var d=(0,fe.qf)(ve),M=(0,_.Z)(d,4),V=M[0],q=M[1],re=M[2],ae=M[3],ge=He([V,q,re,ae],ve.angle,D),Se=(0,_.Z)(ge,4),Re=Se[0],Ye=Se[1],Ge=Se[2],We=Se[3],qe=(0,g._i)({sceneX:Re,sceneY:Ye},D);(0,ue.Js)(l,{left:qe.x,top:qe.y,width:Ge,height:We},"top"),(0,z.L)("hyperlink","tooltip","link-icon"),ce=!0}},ke=function(){Oe&&clearTimeout(Oe),ce&&(ce=!1,(0,ue.bK)().classList.remove("excalidraw-tooltip--visible"))},be=function(ve,D,l){var d=(0,_.Z)(l,2),M=d[0],V=d[1],q=(0,g.dE)({clientX:M,clientY:V},D),re=q.x,ae=q.y,ge=15/D.zoom.value;if((0,ye.pX)(ve,[re,ae],ge,null))return!1;var Se=(0,fe.qf)(ve),Re=(0,_.Z)(Se,3),Ye=Re[0],Ge=Re[1],We=Re[2];if(re>=Ye&&re<=We&&ae>=Ge-85&&ae<=Ge)return!1;var qe=ee(ve,D),lt=qe.x,ft=qe.y;return!(M>=lt-ge&&M<=lt+320+10+ge&&V>=ft-ge&&V<=ft+ge+10+42)}},9645:function(Ze,te,t){t.d(te,{$q:function(){return ie},DK:function(){return L},H:function(){return F},HG:function(){return ue},N1:function(){return k},R:function(){return G},UZ:function(){return $},Ww:function(){return f},Y9:function(){return P},ZB:function(){return c},cz:function(){return m},ek:function(){return A},el:function(){return ye}});var e=t(7169),_=t(2577),g=t(4105),p=t(4183),y=t(3528),T=t(583),E=t(457),a=t(7422),u=t(9827),N=t(5491),H=t(4761);function x(de,J){var ee=Object.keys(de);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(de);J&&(he=he.filter(function(Pe){return Object.getOwnPropertyDescriptor(de,Pe).enumerable})),ee.push.apply(ee,he)}return ee}var m=function(de){return!de[N.tW.CTRL_OR_CMD]},k=function(de){return de.isBindingEnabled},Q=function(de,J){var ee=[];return J.forEach(function(he){var Pe=de.getNonDeletedElement(he);Pe!=null&&ee.push(Pe)}),ee},ue=function(de,J,ee){var he=new Set,Pe=new Set;me(de,J,ee,"start",he,Pe),me(de,ee,J,"end",he,Pe);var He=Array.from(Pe).filter(function(Ke){return!he.has(Ke)});Q(E.Z.getScene(de),He).forEach(function(Ke){var Ae;(0,T.DR)(Ke,{boundElements:(Ae=Ke.boundElements)===null||Ae===void 0?void 0:Ae.filter(function(Oe){return Oe.type!=="arrow"||Oe.id!==de.id})})})},me=function(de,J,ee,he,Pe,He){if(J!=="keep")if(J!=null)ee!=null&&(ee==="keep"?U(de,J,he):he!=="start"&&ee.id===J.id)||($(de,J,he),Pe.add(J.id));else{var Ke=I(de,he);Ke!=null&&He.add(Ke)}},ye=function(de){de.forEach(function(J){(0,p.Mn)(J)?ue(J,z(J,"start"),z(J,"end")):(0,p.f0)(J)&&fe(J)})},fe=function(de){j(de).forEach(function(J){var ee=(0,_.Z)(J,2),he=ee[0],Pe=ee[1];return ue(he,Pe==="end"?"keep":de,Pe==="start"?"keep":de)})},G=function(de,J,ee,he){J.startBoundElement!=null&&$(de,J.startBoundElement,"start");var Pe=P(he,ee);Pe==null||U(de,Pe,"end")||$(de,Pe,"end")},$=function(de,J,ee){(0,T.DR)(de,(0,e.Z)({},ee==="start"?"startBinding":"endBinding",function(he){for(var Pe=1;Pe<arguments.length;Pe++){var He=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?x(Object(He),!0).forEach(function(Ke){(0,e.Z)(he,Ke,He[Ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(He)):x(Object(He)).forEach(function(Ke){Object.defineProperty(he,Ke,Object.getOwnPropertyDescriptor(He,Ke))})}return he}({elementId:J.id},w(de,J,ee)))),(0,u.xn)(J.boundElements||[]).has(de.id)||(0,T.DR)(J,{boundElements:(J.boundElements||[]).concat({id:de.id,type:"arrow"})})},U=function(de,J,ee){var he=de[ee==="start"?"endBinding":"startBinding"];return L(de,he?.elementId,J)},L=function(de,J,ee){return J===ee.id&&de.points.length<3},F=function(de){de.forEach(function(J){(0,p.Mn)(J)&&ue(J,null,null)})},I=function(de,J){var ee=J==="start"?"startBinding":"endBinding",he=de[ee];return he==null?null:((0,T.DR)(de,(0,e.Z)({},ee,null)),he.elementId)},P=function(de,J){return(0,g.QG)(J.getNonDeletedElements(),function(ee){return(0,p.f0)(ee,!1)&&(0,y.uu)(ee,de)})},w=function(de,J,ee){var he=ee==="start"?-1:1,Pe=he===-1?0:de.points.length-1,He=Pe-he,Ke=a._.getPointAtIndexGlobalCoordinates(de,Pe),Ae=a._.getPointAtIndexGlobalCoordinates(de,He);return{focus:(0,y.T_)(J,Ae,Ke),gap:Math.max(1,(0,y.oT)(J,Ke))}},f=function(de,J){var ee,he=((ee=de.boundElements)!==null&&ee!==void 0?ee:[]).filter(function(Oe){return Oe.type==="arrow"});if(he.length!==0){var Pe=J??{},He=Pe.newSize,Ke=Pe.simultaneouslyUpdated,Ae=o(Ke);Q(E.Z.getScene(de),he.map(function(Oe){return Oe.id})).forEach(function(Oe){if((0,p.bt)(Oe)){var Te=de;if(r(Oe,Te)){var De=s(Te,Oe.startBinding,He),ke=s(Te,Oe.endBinding,He);Ae.has(Oe.id)?(0,T.DR)(Oe,{startBinding:De,endBinding:ke}):(b(Oe,"start",De,de),b(Oe,"end",ke,de),(0,H.WJ)(Oe)&&(0,H.RB)(Oe,!1))}}})}},r=function(de,J){var ee,he;return((ee=de.startBinding)===null||ee===void 0?void 0:ee.elementId)===J.id||((he=de.endBinding)===null||he===void 0?void 0:he.elementId)===J.id},o=function(de){return new Set((de||[]).map(function(J){return J.id}))},b=function(de,J,ee,he){if(!(ee==null||ee.elementId!==he.id&&de.points.length>2)){var Pe=E.Z.getScene(de).getElement(ee.elementId);if(Pe!=null){var He,Ke=J==="start"?-1:1,Ae=Ke===-1?0:de.points.length-1,Oe=Ae-Ke,Te=a._.getPointAtIndexGlobalCoordinates(de,Oe),De=(0,y.j_)(Pe,ee.focus,Te);if(ee.gap===0)He=De;else{var ke=(0,y.MZ)(Pe,Te,De,ee.gap);He=ke.length===0?De:ke[0]}a._.movePoints(de,[{index:Ae,point:a._.pointFromAbsoluteCoords(de,He)}],(0,e.Z)({},J==="start"?"startBinding":"endBinding",ee))}}},s=function(de,J,ee){if(J==null||ee==null)return J;var he=J.gap,Pe=J.focus,He=J.elementId,Ke=ee.width,Ae=ee.height,Oe=de.width,Te=de.height;return{elementId:He,gap:Math.max(1,Math.min((0,y.fb)(de,Ke,Ae),he*(Ke<Ae?Ke/Oe:Ae/Te))),focus:Pe}},c=function(de){var J=new Set(de.map(function(ee){return ee.id}));return de.flatMap(function(ee){return(0,p.Mn)(ee,!1)?S(ee).filter(function(he){return!J.has(he.id)}):(0,p.f0)(ee,!1)?j(ee).filter(function(he){return!J.has(he[0].id)}):[]})},S=function(de){return[z(de,"start"),z(de,"end")].filter(function(J){return J!=null})},z=function(de,J){return P(B(de,J),E.Z.getScene(de))},B=function(de,J){var ee=J==="start"?0:-1;return(0,u.AK)(a._.getPointAtIndexGlobalCoordinates(de,ee))},j=function(de){return E.Z.getScene(de).getNonDeletedElements().map(function(J){if(!(0,p.Mn)(J,!1))return null;var ee=C(J,"start",de),he=C(J,"end",de);return ee||he?[J,ee&&he?"both":ee?"start":"end",de]:null}).filter(function(J){return J!=null})},C=function(de,J,ee){return de[J==="start"?"startBinding":"endBinding"]==null&&!U(de,ee,J)&&(0,y.uu)(ee,B(de,J))},A=function(de,J,ee,he){var Pe=new Set,He=new Set,Ke=he==="duplicatesServeAsOld";J.forEach(function(Ae){var Oe=Ae.boundElements;if(Oe!=null&&Oe.length>0&&(Oe.forEach(function(ke){Ke&&!ee.has(ke.id)&&Pe.add(ke.id)}),He.add(ee.get(Ae.id))),(0,p.Mn)(Ae)){if(Ae.startBinding!=null){var Te=Ae.startBinding.elementId;Ke&&!ee.has(Te)&&He.add(Te)}if(Ae.endBinding!=null){var De=Ae.endBinding.elementId;Ke&&!ee.has(De)&&He.add(De)}Ae.startBinding==null&&Ae.endBinding==null||Pe.add(ee.get(Ae.id))}}),de.filter(function(Ae){var Oe=Ae.id;return Pe.has(Oe)}).forEach(function(Ae){var Oe=Ae.startBinding,Te=Ae.endBinding;(0,T.DR)(Ae,{startBinding:Y(Oe,ee),endBinding:Y(Te,ee)})}),de.filter(function(Ae){var Oe=Ae.id;return He.has(Oe)}).forEach(function(Ae){var Oe=Ae.boundElements;Oe!=null&&Oe.length>0&&(0,T.DR)(Ae,{boundElements:Oe.map(function(Te){return ee.has(Te.id)?{id:ee.get(Te.id),type:Te.type}:Te})})})},Y=function(de,J){var ee;if(de==null)return null;var he=de.elementId;return{focus:de.focus,gap:de.gap,elementId:(ee=J.get(he))!==null&&ee!==void 0?ee:he}},ie=function(de,J){var ee=new Set(J.map(function(Pe){return Pe.id})),he=new Set;J.forEach(function(Pe){var He;(0,p.f0)(Pe)?(He=Pe.boundElements)===null||He===void 0||He.forEach(function(Ke){ee.has(Ke.id)||he.add(Ke.id)}):(0,p.Mn)(Pe)&&(Pe.startBinding&&he.add(Pe.startBinding.elementId),Pe.endBinding&&he.add(Pe.endBinding.elementId))}),de.filter(function(Pe){var He=Pe.id;return he.has(He)}).forEach(function(Pe){(0,p.f0)(Pe)?(0,T.DR)(Pe,{boundElements:ce(Pe.boundElements,ee)}):(0,p.Mn)(Pe)&&(0,T.DR)(Pe,{startBinding:le(Pe.startBinding,ee),endBinding:le(Pe.endBinding,ee)})})},le=function(de,J){return de==null||J.has(de.elementId)?null:de},ce=function(de,J){return de?de.filter(function(ee){return!J.has(ee.id)}):null}},4949:function(Ze,te,t){t.d(te,{CM:function(){return $},GJ:function(){return ye},IX:function(){return F},KP:function(){return o},M$:function(){return fe},Pi:function(){return r},UC:function(){return G},Ut:function(){return c},Y5:function(){return w},hC:function(){return b},os:function(){return S},qf:function(){return me},v2:function(){return z},wC:function(){return s}});var e=t(1930),_=t(2577),g=t(8821),p=t(5169),y=t(2361),T=t(9845),E=t(6049),a=t(4183),u=t(5999),N=t(4761),H=t(7422),x=t(2921),m=t(457);function k(B,j){var C=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!C){if(Array.isArray(B)||(C=function(de,J){if(de){if(typeof de=="string")return Q(de,J);var ee=Object.prototype.toString.call(de).slice(8,-1);if(ee==="Object"&&de.constructor&&(ee=de.constructor.name),ee==="Map"||ee==="Set")return Array.from(de);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return Q(de,J)}}(B))||j){C&&(B=C);var A=0,Y=function(){};return{s:Y,n:function(){return A>=B.length?{done:!0}:{done:!1,value:B[A++]}},e:function(de){throw de},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie,le=!0,ce=!1;return{s:function(){C=C.call(B)},n:function(){var de=C.next();return le=de.done,de},e:function(de){ce=!0,ie=de},f:function(){try{le||C.return==null||C.return()}finally{if(ce)throw ie}}}}function Q(B,j){(j==null||j>B.length)&&(j=B.length);for(var C=0,A=new Array(j);C<j;C++)A[C]=B[C];return A}var ue=function(){function B(){(0,g.Z)(this,B)}return(0,p.Z)(B,null,[{key:"getBounds",value:function(j){var C=B.boundsCache.get(j);if(C!=null&&C.version&&C.version===j.version&&!(0,a.Xh)(j))return C.bounds;var A=B.calculateBounds(j);return m.Z.getScene(j)&&B.boundsCache.set(j,{version:j.version,bounds:A}),A}},{key:"calculateBounds",value:function(j){var C,A=me(j),Y=(0,_.Z)(A,6),ie=Y[0],le=Y[1],ce=Y[2],de=Y[3],J=Y[4],ee=Y[5];if((0,a.F9)(j)){var he=I(j.points.map(function(xt){var At=(0,_.Z)(xt,2),It=At[0],Mt=At[1];return(0,y.U1)(It,Mt,J-j.x,ee-j.y,j.angle)})),Pe=(0,_.Z)(he,4),He=Pe[0],Ke=Pe[1],Ae=Pe[2],Oe=Pe[3];return[He+j.x,Ke+j.y,Ae+j.x,Oe+j.y]}if((0,a.bt)(j))C=f(j,J,ee);else if(j.type==="diamond"){var Te=(0,y.U1)(J,le,J,ee,j.angle),De=(0,_.Z)(Te,2),ke=De[0],be=De[1],ve=(0,y.U1)(J,de,J,ee,j.angle),D=(0,_.Z)(ve,2),l=D[0],d=D[1],M=(0,y.U1)(ie,ee,J,ee,j.angle),V=(0,_.Z)(M,2),q=V[0],re=V[1],ae=(0,y.U1)(ce,ee,J,ee,j.angle),ge=(0,_.Z)(ae,2),Se=ge[0],Re=ge[1];C=[Math.min(ke,l,q,Se),Math.min(be,d,re,Re),Math.max(ke,l,q,Se),Math.max(be,d,re,Re)]}else if(j.type==="ellipse"){var Ye=(ce-ie)/2,Ge=(de-le)/2,We=Math.cos(j.angle),qe=Math.sin(j.angle),lt=Math.hypot(Ye*We,Ge*qe),ft=Math.hypot(Ge*We,Ye*qe);C=[J-lt,ee-ft,J+lt,ee+ft]}else{var ze=(0,y.U1)(ie,le,J,ee,j.angle),we=(0,_.Z)(ze,2),Me=we[0],$e=we[1],at=(0,y.U1)(ie,de,J,ee,j.angle),dt=(0,_.Z)(at,2),vt=dt[0],Tt=dt[1],Et=(0,y.U1)(ce,de,J,ee,j.angle),jt=(0,_.Z)(Et,2),Kt=jt[0],Gt=jt[1],Ht=(0,y.U1)(ce,le,J,ee,j.angle),$t=(0,_.Z)(Ht,2),pn=$t[0],_t=$t[1];C=[Math.min(Me,vt,Kt,pn),Math.min($e,Tt,Gt,_t),Math.max(Me,vt,Kt,pn),Math.max($e,Tt,Gt,_t)]}return C}}]),B}();ue.boundsCache=new WeakMap;var me=function(B){var j=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,a.F9)(B))return P(B);if((0,a.bt)(B))return H._.getElementAbsoluteCoords(B,j);if((0,a.iB)(B)){var C=(0,N.tl)(B);if((0,a.Yv)(C)){var A=H._.getBoundTextElementPosition(C,B);return[A.x,A.y,A.x+B.width,A.y+B.height,A.x+B.width/2,A.y+B.height/2]}}return[B.x,B.y,B.x+B.width,B.y+B.height,B.x+B.width/2,B.y+B.height/2]},ye=function(B){var j=me(B),C=(0,_.Z)(j,6),A=C[0],Y=C[1],ie=C[2],le=C[3],ce=C[4],de=C[5],J=[ce,de];if((0,a.bt)(B)||(0,a.F9)(B)){for(var ee=[],he=0;he<B.points.length-1;)ee.push([(0,y.xj)([B.points[he][0]+B.x,B.points[he][1]+B.y],J,B.angle),(0,y.xj)([B.points[he+1][0]+B.x,B.points[he+1][1]+B.y],J,B.angle)]),he++;return ee}var Pe=[[A,Y],[ie,Y],[A,le],[ie,le],[ce,Y],[ce,le],[A,de],[ie,de]].map(function(D){return(0,y.xj)(D,J,B.angle)}),He=(0,_.Z)(Pe,8),Ke=He[0],Ae=He[1],Oe=He[2],Te=He[3],De=He[4],ke=He[5],be=He[6],ve=He[7];return B.type==="diamond"?[[De,be],[De,ve],[ke,be],[ke,ve]]:B.type==="ellipse"?[[De,be],[De,ve],[ke,be],[ke,ve],[De,be],[De,ve],[ke,be],[ke,ve]]:[[Ke,Ae],[Oe,Te],[Ke,Oe],[Ae,Te],[Ke,ve],[Oe,ve],[Ae,be],[Te,be]]},fe=function(B){return[B.x,B.y,B.x+B.width,B.y+B.height,B.x+B.width/2,B.y+B.height/2]},G=function(B){var j=Math.floor(B.width/2)+1,C=B.width,A=Math.floor(B.height/2)+1;return[j,0,C,A,j,B.height,0,A]},$=function(B){var j,C=k(B.sets);try{for(C.s();!(j=C.n()).done;){var A=j.value;if(A.type==="path")return A.ops}}catch(Y){C.e(Y)}finally{C.f()}return B.sets[0].ops},U=function(B,j,C,A,Y){var ie=1-B;return Math.pow(ie,3)*j+3*Math.pow(ie,2)*B*C+3*ie*Math.pow(B,2)*A+Math.pow(B,3)*Y},L=function(B,j,C,A){var Y=j-B,ie=C-j,le=3*Y-6*ie+3*(A-C),ce=6*ie-6*Y,de=3*Y,J=ce*ce-4*le*de;if(!(J>=0))return!1;var ee=null,he=null,Pe=1/0,He=1/0;return le===0?Pe=He=-de/ce:(Pe=(-ce+Math.sqrt(J))/(2*le),He=(-ce-Math.sqrt(J))/(2*le)),Pe>=0&&Pe<=1&&(ee=U(Pe,B,j,C,A)),He>=0&&He<=1&&(he=U(He,B,j,C,A)),[ee,he]},F=function(B,j){var C=[0,0],A=B.reduce(function(Y,ie){var le=ie.op,ce=ie.data;if(le==="move")C=ce;else if(le==="bcurveTo"){var de=[ce[0],ce[1]],J=[ce[2],ce[3]],ee=[ce[4],ce[5]],he=j?j.apply(void 0,de):de,Pe=j?j.apply(void 0,J):J,He=j?j.apply(void 0,ee):ee,Ke=j?j.apply(void 0,(0,e.Z)(C)):C;C=ee;var Ae=function(ve,D,l,d){var M=L(ve[0],D[0],l[0],d[0]),V=L(ve[1],D[1],l[1],d[1]),q=Math.min(ve[0],d[0]),re=Math.max(ve[0],d[0]);if(M){var ae=M.filter(function(Ye){return Ye!==null});q=Math.min.apply(Math,[q].concat((0,e.Z)(ae))),re=Math.max.apply(Math,[re].concat((0,e.Z)(ae)))}var ge=Math.min(ve[1],d[1]),Se=Math.max(ve[1],d[1]);if(V){var Re=V.filter(function(Ye){return Ye!==null});ge=Math.min.apply(Math,[ge].concat((0,e.Z)(Re))),Se=Math.max.apply(Math,[Se].concat((0,e.Z)(Re)))}return[q,ge,re,Se]}(Ke,he,Pe,He),Oe=(0,_.Z)(Ae,4),Te=Oe[0],De=Oe[1],ke=Oe[2],be=Oe[3];Y.minX=Math.min(Y.minX,Te),Y.minY=Math.min(Y.minY,De),Y.maxX=Math.max(Y.maxX,ke),Y.maxY=Math.max(Y.maxY,be)}return Y},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[A.minX,A.minY,A.maxX,A.maxY]},I=function(B){var j,C=1/0,A=1/0,Y=-1/0,ie=-1/0,le=k(B);try{for(le.s();!(j=le.n()).done;){var ce=(0,_.Z)(j.value,2),de=ce[0],J=ce[1];C=Math.min(C,de),A=Math.min(A,J),Y=Math.max(Y,de),ie=Math.max(ie,J)}}catch(ee){le.e(ee)}finally{le.f()}return[C,A,Y,ie]},P=function(B){var j=I(B.points),C=(0,_.Z)(j,4),A=C[0],Y=C[1],ie=C[2],le=C[3],ce=A+B.x,de=Y+B.y,J=ie+B.x,ee=le+B.y;return[ce,de,J,ee,(ce+J)/2,(de+ee)/2]},w=function(B,j,C,A){var Y=$(j[0]);if(Y.length<1)return null;var ie=C==="start"?1:Y.length-1,le=Y[ie].data,ce=[le[4],le[5]],de=[le[2],le[3]],J=[le[0],le[1]],ee=Y[ie-1],he=[0,0];ee.op==="move"?he=ee.data:ee.op==="bcurveTo"&&(he=[ee.data[4],ee.data[5]]);var Pe=function(Gt,Ht){return Math.pow(1-Gt,3)*ce[Ht]+3*Gt*Math.pow(1-Gt,2)*de[Ht]+3*Math.pow(Gt,2)*(1-Gt)*J[Ht]+he[Ht]*Math.pow(Gt,3)},He=C==="start"?he:ce,Ke=(0,_.Z)(He,2),Ae=Ke[0],Oe=Ke[1],Te=[Pe(.3,0),Pe(.3,1)],De=Te[0],ke=Te[1],be=Math.hypot(Ae-De,Oe-ke),ve=(Ae-De)/be,D=(Oe-ke)/be,l={arrow:30,bar:15,dot:15,triangle:15}[A],d=0;if(A==="arrow"){var M=(0,_.Z)(B.points[B.points.length-1],2),V=M[0],q=M[1],re=B.points.length>1?B.points[B.points.length-2]:[0,0],ae=(0,_.Z)(re,2),ge=ae[0],Se=ae[1];d=Math.hypot(V-ge,q-Se)}else for(var Re=0;Re<B.points.length;Re++){var Ye=B.points[Re-1]||[0,0],Ge=(0,_.Z)(Ye,2),We=Ge[0],qe=Ge[1],lt=(0,_.Z)(B.points[Re],2),ft=lt[0],ze=lt[1];d+=Math.hypot(ft-We,ze-qe)}var we=Math.min(l,d/2),Me=Ae-ve*we,$e=Oe-D*we;if(A==="dot")return[Ae,Oe,Math.hypot($e-Oe,Me-Ae)+B.strokeWidth];var at={arrow:20,bar:90,triangle:25}[A],dt=(0,y.U1)(Me,$e,Ae,Oe,-at*Math.PI/180),vt=(0,_.Z)(dt,2),Tt=vt[0],Et=vt[1],jt=(0,y.U1)(Me,$e,Ae,Oe,at*Math.PI/180),Kt=(0,_.Z)(jt,2);return[Ae,Oe,Tt,Et,Kt[0],Kt[1]]},f=function(B,j,C){var A;if(B.points.length<2){var Y=(0,_.Z)(B.points[0],2),ie=Y[0],le=Y[1],ce=(0,y.U1)(B.x+ie,B.y+le,j,C,B.angle),de=(0,_.Z)(ce,2),J=de[0],ee=de[1],he=[J,ee,J,ee],Pe=(0,N.WJ)(B);if(Pe){var He=H._.getMinMaxXYWithBoundText(B,[J,ee,J,ee],Pe);he=[He[0],He[1],He[2],He[3]]}return he}var Ke=(A=x.R.get(B))===null||A===void 0?void 0:A[0],Ae=Ke??function(ve){var D=T.Z.generator(),l=(0,E.Z)(ve);return D[ve.roundness?"curve":l.fill?"polygon":"linearPath"](ve.points,l)}(B),Oe=$(Ae),Te=F(Oe,function(ve,D){return(0,y.U1)(B.x+ve,B.y+D,j,C,B.angle)}),De=[Te[0],Te[1],Te[2],Te[3]],ke=(0,N.WJ)(B);if(ke){var be=H._.getMinMaxXYWithBoundText(B,De,ke);De=[be[0],be[1],be[2],be[3]]}return De},r=function(B){return ue.getBounds(B)},o=function(B){if(!B.length)return[0,0,0,0];var j=1/0,C=-1/0,A=1/0,Y=-1/0;return B.forEach(function(ie){var le=r(ie),ce=(0,_.Z)(le,4),de=ce[0],J=ce[1],ee=ce[2],he=ce[3];j=Math.min(j,de),A=Math.min(A,J),C=Math.max(C,ee),Y=Math.max(Y,he)}),[j,A,C,Y]},b=function(B,j){var C=o(B),A=(0,_.Z)(C,4),Y=A[0],ie=A[1],le=A[2],ce=A[3];return[Y+j.x,ie+j.y,le+j.x,ce+j.y]},s=function(B,j,C,A){if(!(0,a.bt)(B)&&!(0,a.F9)(B))return[B.x,B.y,B.x+j,B.y+C];var Y,ie=(0,u.z)(0,j,(0,u.z)(1,C,B.points,A),A);if((0,a.F9)(B))Y=I(ie);else{var le=T.Z.generator(),ce=B.roundness?le.curve(ie,(0,E.Z)(B)):le.linearPath(ie,(0,E.Z)(B)),de=$(ce);Y=F(de)}var J=Y,ee=(0,_.Z)(J,4),he=ee[0],Pe=ee[1],He=ee[2],Ke=ee[3];return[he+B.x,Pe+B.y,He+B.x,Ke+B.y]},c=function(B,j){var C=T.Z.generator(),A=B.roundness==null?C.linearPath(j,(0,E.Z)(B)):C.curve(j,(0,E.Z)(B)),Y=$(A),ie=F(Y),le=(0,_.Z)(ie,4),ce=le[0],de=le[1],J=le[2],ee=le[3];return[ce+B.x,de+B.y,J+B.x,ee+B.y]},S=function(B,j){if(!B.length)return[0,0,0,0];var C=1/0,A=B[0];return B.forEach(function(Y){var ie=r(Y),le=(0,_.Z)(ie,4),ce=le[0],de=le[1],J=le[2],ee=le[3],he=(0,y.LW)((ce+J)/2,(de+ee)/2,j.x,j.y);he<C&&(C=he,A=Y)}),r(A)},z=function(B){var j=o(B),C=(0,_.Z)(j,4),A=C[0],Y=C[1],ie=C[2],le=C[3];return{minX:A,minY:Y,maxX:ie,maxY:le,width:ie-A,height:le-Y,midX:(A+ie)/2,midY:(Y+le)/2}}},3528:function(Ze,te,t){t.d(te,{uu:function(){return ce},T_:function(){return V},j_:function(){return q},oT:function(){return ee},wX:function(){return C},MZ:function(){return re},wB:function(){return A},Qu:function(){return Y},pX:function(){return le},fb:function(){return de}});var e=t(2577),_=function(ze,we){return[0,0,0,0,we,ze,1,0]},g=function(ze,we){return[0,0,0,0,we,ze,0,0]},p=function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Me=[0,0,0,0,0,0,0,0];if(we<0||we>7)throw new Error("Expected `index` between 0 and 7, got `".concat(we,"`"));return ze!==0&&(Me[we]=ze),Me},y=function(ze){return[ze[0],ze[1],ze[2],ze[3],-ze[4],-ze[5],-ze[6],-ze[7]]},T=function(ze,we){return k(we)?[ze[0]-we,ze[1],ze[2],ze[3],ze[4],ze[5],ze[6],ze[7]]:[ze[0]-we[0],ze[1]-we[1],ze[2]-we[2],ze[3]-we[3],ze[4]-we[4],ze[5]-we[5],ze[6]-we[6],ze[7]-we[7]]},E=function(ze,we){return k(we)?[ze[0]*we,ze[1]*we,ze[2]*we,ze[3]*we,ze[4]*we,ze[5]*we,ze[6]*we,ze[7]*we]:[a(ze,we),we[1]*ze[0]+we[0]*ze[1]-we[4]*ze[2]+we[5]*ze[3]+we[2]*ze[4]-we[3]*ze[5]-we[7]*ze[6]-we[6]*ze[7],we[2]*ze[0]+we[0]*ze[2]-we[6]*ze[3]+we[3]*ze[6],we[3]*ze[0]+we[6]*ze[2]+we[0]*ze[3]-we[2]*ze[6],we[4]*ze[0]+we[2]*ze[1]-we[1]*ze[2]+we[7]*ze[3]+we[0]*ze[4]+we[6]*ze[5]-we[5]*ze[6]+we[3]*ze[7],we[5]*ze[0]-we[3]*ze[1]+we[7]*ze[2]+we[1]*ze[3]-we[6]*ze[4]+we[0]*ze[5]+we[4]*ze[6]+we[2]*ze[7],we[6]*ze[0]+we[3]*ze[2]-we[2]*ze[3]+we[0]*ze[6],we[7]*ze[0]+we[6]*ze[1]+we[5]*ze[2]+we[4]*ze[3]+we[3]*ze[4]+we[2]*ze[5]+we[1]*ze[6]+we[0]*ze[7]]},a=function(ze,we){return we[0]*ze[0]+we[2]*ze[2]+we[3]*ze[3]-we[6]*ze[6]},u=function(ze,we){return[N(ze,we),ze[1]*we[7]+ze[4]*we[5]-ze[5]*we[4]+ze[7]*we[1],ze[2]*we[7]-ze[4]*we[6]+ze[6]*we[4]+ze[7]*we[2],ze[3]*we[7]+ze[5]*we[6]-ze[6]*we[5]+ze[7]*we[3],ze[4]*we[7]+ze[7]*we[4],ze[5]*we[7]+ze[7]*we[5],ze[6]*we[7]+ze[7]*we[6],ze[7]*we[7]]},N=function(ze,we){return ze[0]*we[7]+ze[1]*we[6]+ze[2]*we[5]+ze[3]*we[4]+ze[4]*we[3]+ze[5]*we[2]+ze[6]*we[1]+ze[7]*we[0]},H=function(ze){return Math.sqrt(Math.abs(ze[0]*ze[0]-ze[2]*ze[2]-ze[3]*ze[3]+ze[6]*ze[6]))},x=function(ze){var we=H(ze);if(we===0||we===1)return ze;var Me=ze[6]<0?-1:1;return E(ze,Me/we)},m=function(ze){var we=function(Me){return Math.sqrt(Math.abs(Me[7]*Me[7]-Me[5]*Me[5]-Me[4]*Me[4]+Me[1]*Me[1]))}(ze);return we===0||we===1?ze:E(ze,1/we)},k=function(ze){return typeof ze=="number"},Q=(p(1,1),p(1,2),p(1,3),p(1,4),p(1,5),p(1,6),p(1,7),function(ze,we,Me){return x([0,Me,ze,we,0,0,0,0])}),ue=function(ze,we){return x(u(we,ze))},me=function(ze,we){return Me=ze,[($e=we)[0]*Me[0]+$e[2]*Me[2]+$e[3]*Me[3]-$e[6]*Me[6],$e[1]*Me[0]+$e[0]*Me[1]-$e[4]*Me[2]+$e[5]*Me[3]+$e[2]*Me[4]-$e[3]*Me[5]-$e[7]*Me[6]-$e[6]*Me[7],$e[2]*Me[0]+$e[0]*Me[2]-$e[6]*Me[3]+$e[3]*Me[6],$e[3]*Me[0]+$e[6]*Me[2]+$e[0]*Me[3]-$e[2]*Me[6],$e[4]*Me[0]+$e[7]*Me[3]+$e[0]*Me[4]+$e[3]*Me[7],$e[5]*Me[0]+$e[7]*Me[2]+$e[0]*Me[5]+$e[2]*Me[7],$e[6]*Me[0]+$e[0]*Me[6],$e[7]*Me[0]+$e[0]*Me[7]];var Me,$e},ye=function(ze){var we=(0,e.Z)(ze,2),Me=we[0];return[0,0,0,0,we[1],Me,1,0]},fe=function(ze){return[ze[5],ze[4]]},G=function(ze){return[0,0,0,0,Math.abs(ze[4]),Math.abs(ze[5]),1,0]},$=function(ze,we){return x((Me=ze,[($e=we)[0]*Me[0],$e[1]*Me[0]+$e[0]*Me[1],$e[2]*Me[0]+$e[0]*Me[2],$e[3]*Me[0]+$e[0]*Me[3],$e[4]*Me[0]+$e[2]*Me[1]-$e[1]*Me[2]+$e[0]*Me[4],$e[5]*Me[0]-$e[3]*Me[1]+$e[1]*Me[3]+$e[0]*Me[5],$e[6]*Me[0]+$e[3]*Me[2]-$e[2]*Me[3]+$e[0]*Me[6],$e[7]*Me[0]+$e[6]*Me[1]+$e[5]*Me[2]+$e[4]*Me[3]+$e[3]*Me[4]+$e[2]*Me[5]+$e[1]*Me[6]]));var Me,$e},U=function(ze,we){return H(u(ze,we))},L=function(ze,we){return N(ze,we)},F=function(ze){return[0,0,0,0,ze[4],ze[5],0,0]},I=function(ze,we){return Me=E(ze,Math.sin(we/2)),$e=Math.cos(we/2),k($e)?[Me[0]+$e,Me[1],Me[2],Me[3],Me[4],Me[5],Me[6],Me[7]]:[Me[0]+$e[0],Me[1]+$e[1],Me[2]+$e[2],Me[3]+$e[3],Me[4]+$e[4],Me[5]+$e[5],Me[6]+$e[6],Me[7]+$e[7]];var Me,$e},P=function(ze,we){return x(E(E(ze,we),y(ze)))},w=t(2361),f=t(1493),r=t(4949),o=t(4183),b=t(7651),s=t(9827),c=t(4048),S=t(4761),z=t(2921);function B(ze,we){var Me=typeof Symbol<"u"&&ze[Symbol.iterator]||ze["@@iterator"];if(!Me){if(Array.isArray(ze)||(Me=function(Et,jt){if(Et){if(typeof Et=="string")return j(Et,jt);var Kt=Object.prototype.toString.call(Et).slice(8,-1);if(Kt==="Object"&&Et.constructor&&(Kt=Et.constructor.name),Kt==="Map"||Kt==="Set")return Array.from(Et);if(Kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kt))return j(Et,jt)}}(ze))||we){Me&&(ze=Me);var $e=0,at=function(){};return{s:at,n:function(){return $e>=ze.length?{done:!0}:{done:!1,value:ze[$e++]}},e:function(Et){throw Et},f:at}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dt,vt=!0,Tt=!1;return{s:function(){Me=Me.call(ze)},n:function(){var Et=Me.next();return vt=Et.done,Et},e:function(Et){Tt=!0,dt=Et},f:function(){try{vt||Me.return==null||Me.return()}finally{if(Tt)throw dt}}}}function j(ze,we){(we==null||we>ze.length)&&(we=ze.length);for(var Me=0,$e=new Array(we);Me<we;Me++)$e[Me]=ze[Me];return $e}var C=function ze(we,Me,$e,at,dt){var vt=10/Me.zoom.value,Tt=[at,dt];if(ie(Me,we)&&(0,c.oY)([we],Me))return le(we,Tt,vt,$e);var Et=(0,S.WJ)(we);return Et&&ze(Et,Me,$e,at,dt)?!0:Y(we,Me,$e,Tt)},A=function(ze,we,Me,$e,at){var dt=10/we.zoom.value,vt=(0,S.WJ)(ze);return(!vt||!C(vt,we,Me,$e,at))&&!Y(ze,we,Me,[$e,at])&&le(ze,[$e,at],dt,Me)},Y=function(ze,we,Me,$e){var at=10/we.zoom.value,dt=(0,b.iB)(ze)?he:function(vt){if(vt.type==="arrow")return!1;if(vt.type==="freedraw")return!0;var Tt=!(0,s.Qm)(vt.backgroundColor)||(0,o.Xo)(vt)||(0,o.gs)(vt);return vt.type==="line"?Tt&&(0,w.g6)(vt.points):Tt||(0,o.pC)(vt)}(ze)?Pe:He;return J({element:ze,point:$e,threshold:at,check:dt,frameNameBoundsCache:Me})},ie=function(ze,we){return ze.selectedElementIds[we.id]},le=function(ze,we,Me,$e){var at=(0,e.Z)(we,2),dt=at[0],vt=at[1];if(ze.type==="frame")return J({element:ze,point:[dt,vt],threshold:Me,check:Pe,frameNameBoundsCache:$e});var Tt=(0,r.qf)(ze),Et=(0,e.Z)(Tt,4),jt=Et[0],Kt=Et[1],Gt=Et[2],Ht=Et[3],$t=(jt+Gt)/2,pn=(Kt+Ht)/2,_t=(0,w.U1)(dt,vt,$t,pn,-ze.angle),xt=(0,e.Z)(_t,2),At=xt[0],It=xt[1];return At>jt-Me&&At<Gt+Me&&It>Kt-Me&&It<Ht+Me},ce=function(ze,we){var Me=we.x,$e=we.y,at=de(ze,ze.width,ze.height);return J({element:ze,point:[Me,$e],threshold:at,check:Ke,frameNameBoundsCache:null})},de=function(ze,we,Me){var $e=(ze.type==="diamond"?1/Math.sqrt(2):1)*Math.min(we,Me);return Math.max(16,Math.min(.25*$e,32))},J=function(ze){switch(ze.element.type){case"rectangle":case"embeddable":case"image":case"text":case"diamond":case"ellipse":var we=ee(ze.element,ze.point);return ze.check(we,ze.threshold);case"freedraw":return!!ze.check(Ae(ze.element,ze.point),ze.threshold)&&be(ze.element,ze.point,ze.threshold);case"arrow":case"line":return ve(ze);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1;case"frame":var Me;if(ze.check(ee(ze.element,ze.point),ze.threshold))return!0;var $e=(Me=ze.frameNameBoundsCache)===null||Me===void 0?void 0:Me.get(ze.element);return!!$e&&ze.check(Oe($e,ze.point),ze.threshold)}},ee=function(ze,we){switch(ze.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return Ae(ze,we);case"diamond":return Te(ze,we);case"ellipse":return De(ze,we)}},he=function(ze,we){return ze<0},Pe=function(ze,we){return ze<we},He=function(ze,we){return Math.abs(ze)<we},Ke=function(ze,we){return 0<=ze&&ze<we},Ae=function(ze,we){var Me=D(ze,we),$e=(0,e.Z)(Me,4),at=$e[1],dt=$e[2],vt=$e[3];return Math.max(L(at,Q(0,1,-vt)),L(at,Q(1,0,-dt)))},Oe=function(ze,we){var Me=l(we,ze),$e=(0,e.Z)(Me,4),at=$e[1],dt=$e[2],vt=$e[3];return Math.max(L(at,Q(0,1,-vt)),L(at,Q(1,0,-dt)))},Te=function(ze,we){var Me=D(ze,we),$e=(0,e.Z)(Me,4),at=$e[1],dt=$e[2],vt=$e[3],Tt=Q(vt,dt,-vt*dt);return L(at,Tt)},De=function(ze,we){var Me,$e=ke(ze,we),at=(0,e.Z)($e,2),dt=at[0],vt=at[1];return Me=vt,-Math.sign(Me[1])*L(dt,vt)},ke=function(ze,we){var Me=D(ze,we),$e=(0,e.Z)(Me,4),at=$e[1],dt=$e[2],vt=$e[3],Tt=fe(at),Et=(0,e.Z)(Tt,2),jt=Et[0],Kt=Et[1],Gt=.707,Ht=.707,$t=dt,pn=vt;[0,1,2,3].forEach(function(At){var It=$t*Gt,Mt=pn*Ht,Nt=($t*$t-pn*pn)*Math.pow(Gt,3)/$t,Yt=(pn*pn-$t*$t)*Math.pow(Ht,3)/pn,ln=It-Nt,an=Mt-Yt,kn=jt-Nt,Tn=Kt-Yt,zn=Math.hypot(an,ln),un=Math.hypot(Tn,kn);Gt=Math.min(1,Math.max(0,(kn*zn/un+Nt)/$t)),Ht=Math.min(1,Math.max(0,(Tn*zn/un+Yt)/pn));var zt=Math.hypot(Ht,Gt);Gt/=zt,Ht/=zt});var _t,xt=_($t*Gt,pn*Ht);return[at,me(ue(at,_t=xt),_t)]},be=function(ze,we,Me){var $e,at;if(ze.angle===0)$e=we[0]-ze.x,at=we[1]-ze.y;else{var dt=(0,r.qf)(ze),vt=(0,e.Z)(dt,4),Tt=vt[0],Et=vt[1],jt=vt[2],Kt=vt[3],Gt=(0,w.xj)(we,[Tt+(jt-Tt)/2,Et+(Kt-Et)/2],-ze.angle);$e=Gt[0]-ze.x,at=Gt[1]-ze.y}var Ht,$t=(0,e.Z)(ze.points,2),pn=$t[0],_t=$t[1];if((0,w.LW)(pn[0],pn[1],$e,at)<Me||(0,w.LW)(_t[0],_t[1],$e,at)<Me)return!0;for(var xt=0;xt<ze.points.length;xt++){var At=[_t[0]-pn[0],_t[1]-pn[1]],It=Math.hypot(At[1],At[0]),Mt=[At[0]/It,At[1]/It],Nt=[$e-pn[0],at-pn[1]],Yt=(Nt[0]*Mt[0]+Nt[1]*Mt[1])/Math.hypot(Mt[1],Mt[0]);Ht=[pn[0]+Mt[0]*Yt,pn[1]+Mt[1]*Yt];var ln=(0,w.LW)(Ht[0],Ht[1],pn[0],pn[1]),an=(0,w.LW)(Ht[0],Ht[1],_t[0],_t[1]);if(Ht=an<ln&&ln>It?_t:ln<an&&an>It?pn:Ht,Math.hypot(at-Ht[1],$e-Ht[0])<Me)return!0;pn=_t,_t=ze.points[xt+1]}var kn=z.R.get(ze);return!(!kn||!kn.sets.length)&&(ze.fillStyle==="solid"?lt(kn,$e,at,"round"):ft(kn,$e,at,Me))},ve=function(ze){var we=ze.element,Me=ze.threshold;if(!z.R.get(we))return!1;var $e=D(ze.element,ze.point),at=(0,e.Z)($e,4),dt=at[0],vt=at[1],Tt=at[2],Et=at[3],jt=Q(0,1,-Et),Kt=Q(1,0,-Tt);if(!Pe(L(vt,jt),Me)||!Pe(L(vt,Kt),Me))return!1;var Gt=fe(dt),Ht=(0,e.Z)(Gt,2),$t=Ht[0],pn=Ht[1],_t=z.R.get(we);return _t?ze.check===Pe&&_t.some(function(xt){return lt(xt,$t,pn,we.roundness?"round":"sharp")})?!0:_t.some(function(xt){return ft(xt,$t,pn,Me)}):!1},D=function(ze,we){var Me=ye(we),$e=(0,r.qf)(ze),at=(0,e.Z)($e,4),dt=at[0],vt=at[1],Tt=at[2],Et=at[3],jt=M(dt,vt,Tt,Et),Kt=I(jt,ze.angle),Gt=P(Kt,Me),Ht=T(Gt,F(jt)),$t=G(Ht),pn=g(ze.x,ze.y);return[T(Gt,pn),$t,(Tt-dt)/2,(Et-vt)/2]},l=function(ze,we){var Me=ye(ze),$e=(0,r.M$)(we),at=(0,e.Z)($e,4),dt=at[0],vt=at[1],Tt=at[2],Et=at[3],jt=M(dt,vt,Tt,Et),Kt=I(jt,we.angle),Gt=P(Kt,Me),Ht=T(Gt,F(jt)),$t=G(Ht),pn=g(we.x,we.y);return[T(Gt,pn),$t,(Tt-dt)/2,(Et-vt)/2]},d=function(ze){var we=(0,r.qf)(ze),Me=(0,e.Z)(we,4),$e=Me[0],at=Me[1],dt=Me[2],vt=Me[3],Tt=M($e,at,dt,vt),Et=I(Tt,ze.angle),jt=y(function(Kt){return[1,0,0,0,-.5*Kt[5],.5*Kt[4],0,0]}(F(Tt)));return E(jt,Et)},M=function(ze,we,Me,$e){return _((ze+Me)/2,(we+$e)/2)},V=function(ze,we,Me){var $e,at=d(ze),dt=P(at,ye(we)),vt=P(at,ye(Me)),Tt=ue(dt,vt),Et=ze.height/ze.width,jt=ze.width/2,Kt=ze.height/2,Gt=Tt[2],Ht=Tt[3],$t=Tt[1],pn=Math.abs(Ht),_t=Math.abs(Gt);switch(ze.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":$e=$t/(jt*(_t+Et*pn));break;case"diamond":$e=pn<_t?$t/(_t*jt):$t/(pn*Kt);break;case"ellipse":$e=$t/(jt*Math.sqrt(Math.pow(Gt,2)+Math.pow(Et,2)*Math.pow(Ht,2)))}return $e||0},q=function(ze,we,Me){if(we===0){var $e=(0,r.qf)(ze),at=(0,e.Z)($e,4),dt=at[0],vt=at[1],Tt=at[2],Et=at[3],jt=M(dt,vt,Tt,Et);return fe(jt)}var Kt,Gt=d(ze),Ht=P(Gt,ye(Me)),$t=y(Gt);switch(ze.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":Kt=qe(ze,we,Ht);break;case"ellipse":Kt=We(ze,we,Ht)}return fe(P($t,Kt))},re=function(ze,we,Me){var $e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,at=d(ze),dt=P(at,ye(we)),vt=P(at,ye(Me)),Tt=ue(dt,vt),Et=y(at),jt=ae(ze,Tt,dt,$e);return jt.map(function(Kt){return fe(P(Et,Kt))})},ae=function(ze,we,Me){var $e,at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(ze.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":var dt=ge(ze);$e=dt.flatMap(function(Tt,Et){var jt=[Tt,dt[(Et+1)%4]];return Se(we,Re(jt,at))}).concat(dt.flatMap(function(Tt){return Ge(Tt,at,we)}));break;case"ellipse":$e=Ye(ze,at,we)}if($e.length<2)return[];var vt=$e.sort(function(Tt,Et){return U(Tt,Me)-U(Et,Me)});return[vt[0],vt[vt.length-1]]},ge=function(ze){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Me=we*ze.width/2,$e=we*ze.height/2;switch(ze.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return[_(Me,$e),_(Me,-$e),_(-Me,-$e),_(-Me,$e)];case"diamond":return[_(0,$e),_(Me,0),_(0,-$e),_(-Me,0)]}},Se=function(ze,we){var Me=(0,e.Z)(we,2),$e=Me[0],at=Me[1];return L($e,ze)*L(at,ze)>=0?[]:[$(ze,ue($e,at))]},Re=function(ze,we){var Me=(0,e.Z)(ze,2),$e=Me[0],at=Me[1],dt=function(vt,Tt){var Et=.5*Tt;return[1,0,0,0,Et*vt[4],Et*vt[5],0,0]}(function(vt,Tt){return m([0,0,0,0,Tt[4]-vt[4],Tt[5]-vt[5],0,0])}($e,at),we);return[P(dt,$e),P(dt,at)]},Ye=function(ze,we,Me){var $e=ze.width/2+we,at=ze.height/2+we,dt=Me[2],vt=Me[3],Tt=Me[1],Et=$e*$e*dt*dt+at*at*vt*vt,jt=Et-Tt*Tt;if(Et===0||jt<=0)return[];var Kt=Math.sqrt(jt),Gt=-$e*$e*dt*Tt,Ht=-at*at*vt*Tt;return[_((Gt+$e*at*vt*Kt)/Et,(Ht-$e*at*dt*Kt)/Et),_((Gt-$e*at*vt*Kt)/Et,(Ht+$e*at*dt*Kt)/Et)]},Ge=function(ze,we,Me){if(we===0)return L(Me,ze)===0?[ze]:[];var $e=Me[2],at=Me[3],dt=Me[1],vt=fe(ze),Tt=(0,e.Z)(vt,2),Et=Tt[0],jt=Tt[1],Kt=$e*$e+at*at,Gt=we*we*Kt-Math.pow($e*Et+at*jt+dt,2);if(Kt===0||Gt<=0)return[];var Ht=Math.sqrt(Gt),$t=Et*at*at-jt*$e*at-$e*dt,pn=jt*$e*$e-Et*$e*at-at*dt;return[_(($t+at*Ht)/Kt,(pn-$e*Ht)/Kt),_(($t-at*Ht)/Kt,(pn+$e*Ht)/Kt)]},We=function(ze,we,Me){var $e=Math.abs(we),at=ze.width*$e/2,dt=ze.height*$e/2,vt=Math.sign(we),Tt=fe(Me),Et=(0,e.Z)(Tt,2),jt=Et[0],Kt=Et[1],Gt=Kt===0?1e-4:Kt,Ht=Math.pow(jt,2)*Math.pow(dt,2)+Math.pow(Gt,2)*Math.pow(at,2),$t=(-jt*Math.pow(dt,2)+vt*Gt*Math.sqrt(Math.max(0,Ht-Math.pow(at,2)*Math.pow(dt,2))))/Ht,pn=(-$t*jt-1)/Gt;pn===0&&(pn=.01*(Object.is(pn,-0)?-1:1));var _t=-Math.pow(at,2)*$t/(Math.pow(pn,2)*Math.pow(dt,2)+Math.pow($t,2)*Math.pow(at,2));return _(_t,(-$t*_t-1)/pn)},qe=function(ze,we,Me){var $e=Math.abs(we),at=Math.sign(we),dt=ge(ze,$e),vt=0,Tt=null;return dt.forEach(function(Et){var jt=at*ue(Me,Et)[1];jt>vt&&(vt=jt,Tt=Et)}),Tt},lt=function(ze,we,Me,$e){var at,dt=[],vt=!1,Tt=B((0,r.CM)(ze));try{for(Tt.s();!(at=Tt.n()).done;){var Et=at.value;Et.op==="move"?(vt=!vt)&&dt.push([Et.data[0],Et.data[1]]):Et.op==="bcurveTo"?vt&&(dt.push([Et.data[0],Et.data[1]]),dt.push([Et.data[2],Et.data[3]]),dt.push([Et.data[4],Et.data[5]])):Et.op==="lineTo"&&vt&&dt.push([Et.data[0],Et.data[1]])}}catch(Kt){Tt.e(Kt)}finally{Tt.f()}if(dt.length>=4){if($e==="sharp")return(0,w.c9)(dt,we,Me);var jt=(0,f.sU)(dt,10,5);return(0,w.c9)(jt,we,Me)}return!1},ft=function(ze,we,Me,$e){var at=(0,r.CM)(ze),dt=[0,0];return at.some(function(vt,Tt){var Et=vt.op,jt=vt.data;if(Et==="move")dt=jt;else{if(Et==="bcurveTo"){var Kt=[jt[0],jt[1]],Gt=[jt[2],jt[3]],Ht=[jt[4],jt[5]],$t=dt;dt=Ht;var pn=function(_t,xt,At,It,Mt,Nt){for(var Yt=(0,e.Z)(Mt,2),ln=Yt[0],an=Yt[1],kn=function(zt,en){return Math.pow(1-zt,3)*It[en]+3*zt*Math.pow(1-zt,2)*At[en]+3*Math.pow(zt,2)*(1-zt)*xt[en]+_t[en]*Math.pow(zt,3)},Tn=0;Tn<=1;){var zn=kn(Tn,0),un=kn(Tn,1);if(Math.sqrt(Math.pow(zn-ln,2)+Math.pow(un-an,2))<Nt)return!0;Tn+=.01}return!1}($t,Kt,Gt,Ht,[we,Me],$e);return pn}if(Et==="lineTo")return lt(ze,we,Me,"sharp");Et==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},761:function(Ze,te,t){t.d(te,{LM:function(){return o},eX:function(){return S},g0:function(){return s},uU:function(){return b},xm:function(){return z}});var e=t(7169),_=t(2577),g=t(2767),p=t(9937),y=t(8227),T=t(9827),E=t(7652),a=t(5742),u=t(4761),N=t(4183),H=t(8020);function x(B,j){var C=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!C){if(Array.isArray(B)||(C=function(de,J){if(de){if(typeof de=="string")return m(de,J);var ee=Object.prototype.toString.call(de).slice(8,-1);if(ee==="Object"&&de.constructor&&(ee=de.constructor.name),ee==="Map"||ee==="Set")return Array.from(de);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return m(de,J)}}(B))||j){C&&(B=C);var A=0,Y=function(){};return{s:Y,n:function(){return A>=B.length?{done:!0}:{done:!1,value:B[A++]}},e:function(de){throw de},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie,le=!0,ce=!1;return{s:function(){C=C.call(B)},n:function(){var de=C.next();return le=de.done,de},e:function(de){ce=!0,ie=de},f:function(){try{le||C.return==null||C.return()}finally{if(ce)throw ie}}}}function m(B,j){(j==null||j>B.length)&&(j=B.length);for(var C=0,A=new Array(j);C<j;C++)A[C]=B[C];return A}function k(B,j){var C=Object.keys(B);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(B);j&&(A=A.filter(function(Y){return Object.getOwnPropertyDescriptor(B,Y).enumerable})),C.push.apply(C,A)}return C}function Q(B){for(var j=1;j<arguments.length;j++){var C=arguments[j]!=null?arguments[j]:{};j%2?k(Object(C),!0).forEach(function(A){(0,e.Z)(B,A,C[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(C)):k(Object(C)).forEach(function(A){Object.defineProperty(B,A,Object.getOwnPropertyDescriptor(C,A))})}return B}var ue=new Map,me=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,ye=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}\.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,fe=/^https:\/\/(?:www\.)?figma\.com/,G=/^https:\/\/gist\.github\.com\/([\w_-]+)\/([\w_-]+)/,$=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist\.github\.com\/.*?)\.js["']/i,U=/(?:https?:\/\/)?(?:(?:w){3}\.)?(?:twitter|x)\.com\/[^/]+\/status\/(\d+)/,L=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:twitter|x)\.com\/[^"']*)/i,F=/^https:\/\/(?:www\.)?val\.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,I=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,P=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,w=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com"]),f=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com"]),r=function(B){return"<html><body>".concat(B,"</body></html>")},o=function(B){if(!B)return null;if(ue.has(B))return ue.get(B);var j=B,C=f.has(c(B,f)||""),A="generic",Y={w:560,h:840},ie=B.match(me);if(ie!=null&&ie[2]){var le=ie[3]?"&start=".concat(ie[3]):"",ce=B.includes("shorts");switch(A="video",ie[1]){case"embed/":case"watch?v=":case"shorts/":default:B="https://www.youtube.com/embed/".concat(ie[2],"?enablejsapi=1").concat(le);break;case"playlist?list=":case"embed/videoseries?list=":B="https://www.youtube.com/embed/videoseries?list=".concat(ie[2],"&enablejsapi=1").concat(le)}return Y=ce?{w:315,h:560}:{w:560,h:315},ue.set(j,{link:B,aspectRatio:Y,type:A,sandbox:{allowSameOrigin:C}}),{link:B,aspectRatio:Y,type:A,sandbox:{allowSameOrigin:C}}}var de=B.match(ye);if(de!=null&&de[1]){var J=de?.[1],ee=/^\d+$/.test(J)?void 0:(0,y.t)("toast.unrecognizedLinkFormat");return A="video",B="https://player.vimeo.com/video/".concat(J,"?api=1"),Y={w:560,h:315},ue.set(j,{link:B,aspectRatio:Y,type:A,sandbox:{allowSameOrigin:C}}),{link:B,aspectRatio:Y,type:A,warning:ee,sandbox:{allowSameOrigin:C}}}if(B.match(fe))return A="generic",B="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(B)),Y={w:550,h:550},ue.set(j,{link:B,aspectRatio:Y,type:A,sandbox:{allowSameOrigin:C}}),{link:B,aspectRatio:Y,type:A,sandbox:{allowSameOrigin:C}};var he=B.match(F);if(he)return B=he[1]==="embed"?he[0]:he[0].replace("/v","/embed"),ue.set(j,{link:B,aspectRatio:Y,type:A,sandbox:{allowSameOrigin:C}}),{link:B,aspectRatio:Y,type:A,sandbox:{allowSameOrigin:C}};if(U.test(B)){var Pe=B.match(U)[1],He=(0,H.tO)("https://twitter.com/x/status/".concat(Pe)),Ke={type:"document",srcdoc:function(ve){return r('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(ve,'"><a href="').concat(He,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},aspectRatio:{w:480,h:480},sandbox:{allowSameOrigin:C}};return ue.set(j,Ke),Ke}if(G.test(B)){var Ae=B.match(G),Oe=(0,_.Z)(Ae,3),Te=Oe[1],De=Oe[2],ke=(0,H.tO)("https://gist.github.com/".concat(Te,"/").concat(De)),be={type:"document",srcdoc:function(){return r(`
          <script src="`.concat(ke,`.js"><\/script>
          <style type="text/css">
            * { margin: 0px; }
            table, .gist { height: 100%; }
            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
          </style>
        `))},aspectRatio:{w:550,h:720},sandbox:{allowSameOrigin:C}};return ue.set(B,be),be}return ue.set(B,{link:B,aspectRatio:Y,type:A,sandbox:{allowSameOrigin:C}}),{link:B,aspectRatio:Y,type:A,sandbox:{allowSameOrigin:C}}},b=function(B){if((0,N.gs)(B))return!0;if(B.type==="text"){var j=(0,u.tl)(B);if(j&&(0,N.gs)(j))return!0}return!1},s=function(B){var j,C=B.link&&B?.link!==""?B.link:"Empty Web-Embed",A=Math.max(Math.min(B.width/2,B.width/C.length),B.width/30),Y=p.ut.Helvetica,ie=(0,T.mO)({fontSize:A,fontFamily:Y});return(0,a.VL)({x:B.x+B.width/2,y:B.y+B.height/2,strokeColor:B.strokeColor!=="transparent"?B.strokeColor:"black",backgroundColor:"transparent",fontFamily:Y,fontSize:A,text:(0,u.lD)(C,ie,B.width-20),textAlign:"center",verticalAlign:p.oX.MIDDLE,angle:(j=B.angle)!==null&&j!==void 0?j:0})},c=((0,g.z)({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},perform:function(B,j,C,A){var Y=(0,T.Om)(j,{type:"embeddable"});return(0,E.Uk)(A.canvas,Q(Q({},j),{},{activeTool:Y})),{elements:B,appState:Q(Q({},j),{},{activeTool:(0,T.Om)(j,{type:"embeddable"})}),commitToHistory:!1}}}),function(B,j){try{var C=new URL(B).hostname.replace(/^www\./,"");if(j instanceof Set){if(w.has(C))return C;var A=C.replace(/^([^.]+)/,"*");return w.has(A)?A:null}var Y=j.replace(/^www\./,"");if(C===Y)return Y}catch{}return null}),S=function(B){var j=B.match(L);if(j&&j.length===2)return j[1];var C=B.match($);if(C&&C.length===2)return C[1];if(P.test(B))return"https://giphy.com/embed/".concat(P.exec(B)[1]);var A=B.match(I);return A&&A.length===2?A[1]:B},z=function(B,j){if(!B)return!1;if(j!=null)if(typeof j=="function"){var C=j(B);if(typeof C=="boolean")return C}else{if(typeof j=="boolean")return j;if(j instanceof RegExp)return j.test(B);if(Array.isArray(j)){var A,Y=x(j);try{for(Y.s();!(A=Y.n()).done;){var ie=A.value;if(ie instanceof RegExp){if(B.match(ie))return!0}else if(c(B,ie))return!0}}catch(le){Y.e(le)}finally{Y.f()}return!1}}return!!c(B,w)}},4178:function(Ze,te,t){t.d(te,{PK:function(){return H},Xx:function(){return x},bp:function(){return k},oA:function(){return m}});var e=t(2577),_=t(7169),g=t(8950),p=t(2975),y=t.n(p),T=t(9937),E=t(8227),a=t(4183);function u(Q,ue){var me=Object.keys(Q);if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(Q);ue&&(ye=ye.filter(function(fe){return Object.getOwnPropertyDescriptor(Q,fe).enumerable})),me.push.apply(me,ye)}return me}function N(Q){for(var ue=1;ue<arguments.length;ue++){var me=arguments[ue]!=null?arguments[ue]:{};ue%2?u(Object(me),!0).forEach(function(ye){(0,_.Z)(Q,ye,me[ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(me)):u(Object(me)).forEach(function(ye){Object.defineProperty(Q,ye,Object.getOwnPropertyDescriptor(me,ye))})}return Q}var H=function(Q){return new Promise(function(ue,me){var ye=new Image;ye.onload=function(){ue(ye)},ye.onerror=function(fe){me(fe)},ye.src=Q})},x=function(){var Q=(0,g.Z)(y().mark(function ue(me){var ye,fe,G,$,U;return y().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return ye=me.fileIds,fe=me.files,G=me.imageCache,$=new Map,U=new Map,L.next=5,Promise.all(ye.reduce(function(F,I){var P=fe[I];return P&&!$.has(I)?($.set(I,!0),F.concat((0,g.Z)(y().mark(function w(){var f,r,o;return y().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(b.prev=0,P.mimeType!==T.LO.binary){b.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return f=H(P.dataURL),r={image:f,mimeType:P.mimeType},G.set(I,r),b.next=8,f;case 8:o=b.sent,G.set(I,N(N({},r),{},{image:o})),b.next=15;break;case 12:b.prev=12,b.t0=b.catch(0),U.set(I,!0);case 15:case"end":return b.stop()}},w,null,[[0,12]])}))())):F},[]));case 5:return L.abrupt("return",{imageCache:G,updatedFiles:$,erroredFiles:U});case 6:case"end":return L.stop()}},ue)}));return function(ue){return Q.apply(this,arguments)}}(),m=function(Q){return Q.filter(function(ue){return(0,a.wi)(ue)})},k=function(){var Q=(0,g.Z)(y().mark(function ue(me){var ye,fe,G,$,U,L,F;return y().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(ye=new DOMParser().parseFromString(me,T.LO.svg),fe=ye.querySelector("svg"),!ye.querySelector("parsererror")&&((P=fe)==null?void 0:P.nodeName.toLowerCase())==="svg"){I.next=7;break}throw new Error((0,E.t)("errors.invalidSVGString"));case 7:return fe.hasAttribute("xmlns")||fe.setAttribute("xmlns",T.hR),fe.hasAttribute("width")&&fe.hasAttribute("height")||(G=fe.getAttribute("viewBox"),$=fe.getAttribute("width")||"50",U=fe.getAttribute("height")||"50",G&&(L=G.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(F=(0,e.Z)(L,3),$=F[1],U=F[2]),fe.setAttribute("width",$),fe.setAttribute("height",U)),I.abrupt("return",fe.outerHTML);case 10:case"end":return I.stop()}var P},ue)}));return function(ue){return Q.apply(this,arguments)}}()},7651:function(Ze,te,t){t.d(te,{ox:function(){return T.ox},BQ:function(){return C},_M:function(){return A},EJ:function(){return P},o8:function(){return U},Sy:function(){return p.Sy},Y5:function(){return y.Y5},os:function(){return y.os},KP:function(){return y.KP},Un:function(){return Q},UC:function(){return y.UC},$V:function(){return I},qf:function(){return y.qf},Pi:function(){return y.Pi},jt:function(){return x},o4:function(){return _.o4},Lm:function(){return S},Xf:function(){return z},Qp:function(){return _.Qp},T:function(){return ue.T},xx:function(){return ue.xx},Uo:function(){return s},n2:function(){return m},PC:function(){return T.PC},kK:function(){return T.kK},n_:function(){return c},wX:function(){return E.wX},r2:function(){return g.r2},He:function(){return g.He},wB:function(){return E.wB},QD:function(){return _.QD},qP:function(){return B},iB:function(){return g.iB},Up:function(){return p.Up},vw:function(){return p.vw},y8:function(){return p.y8},VL:function(){return p.VL},oN:function(){return fe.oN},JZ:function(){return p.JZ},RT:function(){return r},b_:function(){return w.b_},vY:function(){return ue.vY},N_:function(){return p.N_}});var e=t(7169),_=t(7935),g=t(4183),p=t(5742),y=t(4949),T=t(4048),E=t(3528),a=t(2577),u=t(2726),N=["rotation"],H=function(Y,ie,le){return ie>=Y[0]&&ie<=Y[0]+Y[2]&&le>=Y[1]&&le<=Y[1]+Y[3]},x=function(Y,ie,le,ce,de,J){return Y.reduce(function(ee,he){if(ee)return ee;var Pe=function(He,Ke,Ae,Oe,Te,De){if(!Ke.selectedElementIds[He.id])return!1;var ke=(0,T.PC)(He,Te,De),be=ke.rotation,ve=(0,u.Z)(ke,N);if(be&&H(be,Ae,Oe))return"rotation";var D=Object.keys(ve).filter(function(l){var d=ve[l];return!!d&&H(d,Ae,Oe)});return D.length>0&&D[0]}(he,ie,le,ce,de,J);return Pe?{element:he,transformHandleType:Pe}:null},null)},m=function(Y,ie,le,ce,de){var J=(0,a.Z)(Y,4),ee=J[0],he=J[1],Pe=J[2],He=J[3],Ke=(0,T.kK)([ee,he,Pe,He,(ee+Pe)/2,(he+He)/2],0,ce,de,T.ox);return Object.keys(Ke).find(function(Ae){var Oe=Ke[Ae];return Oe&&H(Oe,ie,le)})||!1},k=["ns","nesw","ew","nwse"],Q=function(Y){var ie=Y.element,le=Y.transformHandleType,ce=ie&&Math.sign(ie.height)*Math.sign(ie.width)==-1,de=null;switch(le){case"n":case"s":de="ns";break;case"w":case"e":de="ew";break;case"nw":case"se":de=ce?"nesw":"nwse";break;case"ne":case"sw":de=ce?"nwse":"nesw";break;case"rotation":return"grab"}return de&&ie&&(de=function(J,ee){var he=k.indexOf(J);if(he>=0){var Pe=Math.round(ee/(Math.PI/4));J=k[(he+Pe)%k.length]}return J}(de,ie.angle)),de?"".concat(de,"-resize"):""},ue=t(4381),me=t(9645),ye=t(583),fe=t(4761),G=t(9215),$=t(2361),U=function(Y,ie,le,ce,de,J,ee){var he=new Set(ie),Pe=ie.filter(function(Ae){return(0,g.He)(Ae)}).map(function(Ae){return Ae.id});Pe.length>0&&de.getNonDeletedElements().filter(function(Ae){return!(0,g.Xh)(Ae)}).filter(function(Ae){return Ae.frameId!==null}).filter(function(Ae){return Pe.includes(Ae.frameId)}).forEach(function(Ae){return he.add(Ae)});var He=(0,y.KP)(Array.from(he).map(function(Ae){var Oe;return(Oe=Y.originalElements.get(Ae.id))!==null&&Oe!==void 0?Oe:Ae})),Ke=L(He,le,J,ee);he.forEach(function(Ae){if(F(Y,Ae,Ke),!(0,g.Yv)(Ae)&&(!Ae.groupIds.length||ce.editingGroupId&&!(0,G.zq)(ce,Ae))){var Oe=(0,fe.WJ)(Ae);Oe&&F(Y,Oe,Ke)}(0,me.Ww)(Ae,{simultaneouslyUpdated:Array.from(he)})})},L=function(Y,ie,le,ce){var de=(0,a.Z)(Y,2),J=de[0],ee=de[1],he=J+ie.x+le.x,Pe=ee+ie.y+le.y;if(le.x===0||le.y===0){var He=(0,$.wC)(J+ie.x,ee+ie.y,ce),Ke=(0,a.Z)(He,2),Ae=Ke[0],Oe=Ke[1];le.x===0&&(he=Ae),le.y===0&&(Pe=Oe)}return{x:he-J,y:Pe-ee}},F=function(Y,ie,le){var ce,de=(ce=Y.originalElements.get(ie.id))!==null&&ce!==void 0?ce:ie,J=de.x+le.x,ee=de.y+le.y;(0,ye.DR)(ie,{x:J,y:ee})},I=function(Y,ie,le){var ce=(0,y.KP)(Y),de=(0,a.Z)(ce,2);return[ie-de[0],le-de[1]]},P=function(Y,ie,le,ce,de,J,ee,he,Pe,He,Ke){var Ae=arguments.length>11&&arguments[11]!==void 0?arguments[11]:null;if(Pe&&Y.type!=="selection")if(Ke)he=ee/Ke;else{if(Math.abs(J-ce)>Math.abs(de-le)){var Oe=(0,_.uK)(ie,he,de<le?-ee:ee);ee=Oe.width,he=Oe.height}else{var Te=(0,_.uK)(ie,ee,J<ce?-he:he);ee=Te.width,he=Te.height}he<0&&(he=-he)}var De,ke,be=de<le?le-ee:le,ve=J<ce?ce-he:ce;He&&(be=le-(ee+=ee)/2,ve=ce-(he+=he)/2),ee!==0&&he!==0&&(0,ye.DR)(Y,{x:be+((De=Ae?.x)!==null&&De!==void 0?De:0),y:ve+((ke=Ae?.y)!==null&&ke!==void 0?ke:0),width:ee,height:he})},w=t(3474),f=t(4105),r=function(Y,ie){return!!(!Y.viewModeEnabled&&(Y.activeTool.type!=="custom"&&(Y.editingElement||Y.activeTool.type!=="selection"&&Y.activeTool.type!=="eraser"&&Y.activeTool.type!=="hand"&&Y.activeTool.type!=="laser")||(0,f.eD)(ie,Y).length))};function o(Y,ie){var le=Object.keys(Y);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(Y);ie&&(ce=ce.filter(function(de){return Object.getOwnPropertyDescriptor(Y,de).enumerable})),le.push.apply(le,ce)}return le}function b(Y){for(var ie=1;ie<arguments.length;ie++){var le=arguments[ie]!=null?arguments[ie]:{};ie%2?o(Object(le),!0).forEach(function(ce){(0,e.Z)(Y,ce,le[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(le)):o(Object(le)).forEach(function(ce){Object.defineProperty(Y,ce,Object.getOwnPropertyDescriptor(le,ce))})}return Y}var s=function(Y){return Y.reduce(function(ie,le){return ie+le.version},0)},c=function(Y){return Y.filter(function(ie){return!ie.isDeleted&&!(0,_.QD)(ie)})},S=function(Y){return Y.filter(function(ie){return!ie.isDeleted})},z=function(Y){return Y.filter(function(ie){return!ie.isDeleted})},B=function(Y){return!Y.isDeleted},j=function(Y){return S(Y).map(function(ie){return(0,g.dt)(ie.type)?b(b({},ie),{},{lastCommittedPoint:null}):ie})},C=function(Y){return j(Y)},A=function(Y){return j(Y)}},7422:function(Ze,te,t){t.d(te,{_:function(){return L}});var e=t(1930),_=t(7169),g=t(2577),p=t(8821),y=t(5169),T=t(2361),E=t(7651),a=t(4949),u=t(583),N=t(457),H=t(9645),x=t(9827),m=t(4183),k=t(5491),Q=t(4761),ue=t(9937),me=t(2921);function ye(I,P){var w=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(!w){if(Array.isArray(I)||(w=function(c,S){if(c){if(typeof c=="string")return fe(c,S);var z=Object.prototype.toString.call(c).slice(8,-1);if(z==="Object"&&c.constructor&&(z=c.constructor.name),z==="Map"||z==="Set")return Array.from(c);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return fe(c,S)}}(I))||P){w&&(I=w);var f=0,r=function(){};return{s:r,n:function(){return f>=I.length?{done:!0}:{done:!1,value:I[f++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,b=!0,s=!1;return{s:function(){w=w.call(I)},n:function(){var c=w.next();return b=c.done,c},e:function(c){s=!0,o=c},f:function(){try{b||w.return==null||w.return()}finally{if(s)throw o}}}}function fe(I,P){(P==null||P>I.length)&&(P=I.length);for(var w=0,f=new Array(P);w<P;w++)f[w]=I[w];return f}function G(I,P){var w=Object.keys(I);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(I);P&&(f=f.filter(function(r){return Object.getOwnPropertyDescriptor(I,r).enumerable})),w.push.apply(w,f)}return w}function $(I){for(var P=1;P<arguments.length;P++){var w=arguments[P]!=null?arguments[P]:{};P%2?G(Object(w),!0).forEach(function(f){(0,_.Z)(I,f,w[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(w)):G(Object(w)).forEach(function(f){Object.defineProperty(I,f,Object.getOwnPropertyDescriptor(w,f))})}return I}var U={version:null,points:[],zoom:null},L=function(){function I(P,w){(0,p.Z)(this,I),this.elementId=P.id,N.Z.mapElementToScene(this.elementId,w),I.normalizePoints(P),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,y.Z)(I,null,[{key:"getElement",value:function(P){var w,f=(w=N.Z.getScene(P))===null||w===void 0?void 0:w.getNonDeletedElement(P);return f||null}},{key:"handleBoxSelection",value:function(P,w,f){var r;if(!w.editingLinearElement||((r=w.draggingElement)===null||r===void 0?void 0:r.type)!=="selection")return!1;var o=w.editingLinearElement,b=o.selectedPointsIndices,s=o.elementId,c=I.getElement(s);if(!c)return!1;var S=(0,E.qf)(w.draggingElement),z=(0,g.Z)(S,4),B=z[0],j=z[1],C=z[2],A=z[3],Y=I.getPointsGlobalCoordinates(c).reduce(function(ie,le,ce){return(le[0]>=B&&le[0]<=C&&le[1]>=j&&le[1]<=A||P.shiftKey&&b!=null&&b.includes(ce))&&ie.push(ce),ie},[]);f({editingLinearElement:$($({},o),{},{selectedPointsIndices:Y.length?Y:null})})}},{key:"handlePointDragging",value:function(P,w,f,r,o,b){if(!b)return!1;var s=b.selectedPointsIndices,c=b.elementId,S=I.getElement(c);if(!S)return!1;var z=S.points[b.pointerDownState.lastClickedPoint];if(s&&z){if((0,k.Ge)(P)&&s.length===1&&S.points.length>1){var B=s[0],j=S.points[B===0?1:B-1],C=I._getShiftLockedDelta(S,j,[f,r],P[k.tW.CTRL_OR_CMD]?null:w.gridSize),A=(0,g.Z)(C,2),Y=A[0],ie=A[1];I.movePoints(S,[{index:B,point:[Y+j[0],ie+j[1]],isDragging:B===b.pointerDownState.lastClickedPoint}])}else{var le=I.createPointAt(S,f-b.pointerOffset.x,r-b.pointerOffset.y,P[k.tW.CTRL_OR_CMD]?null:w.gridSize),ce=le[0]-z[0],de=le[1]-z[1];I.movePoints(S,s.map(function(he){return{index:he,point:he===b.pointerDownState.lastClickedPoint?I.createPointAt(S,f-b.pointerOffset.x,r-b.pointerOffset.y,P[k.tW.CTRL_OR_CMD]?null:w.gridSize):[S.points[he][0]+ce,S.points[he][1]+de],isDragging:he===b.pointerDownState.lastClickedPoint}}))}if((0,Q.WJ)(S)&&(0,Q.RB)(S,!1),(0,m.Mn)(S,!1)){var J=[];s[0]===0&&J.push((0,x.AK)(I.getPointGlobalCoordinates(S,S.points[0])));var ee=s[s.length-1];ee===S.points.length-1&&J.push((0,x.AK)(I.getPointGlobalCoordinates(S,S.points[ee]))),J.length&&o(S,J)}return!0}return!1}},{key:"handlePointerUp",value:function(P,w,f){var r,o=w.elementId,b=w.selectedPointsIndices,s=w.isDragging,c=w.pointerDownState,S=I.getElement(o);if(!S)return w;var z={};if(s&&b){var B,j=ye(b);try{for(j.s();!(B=j.n()).done;){var C=B.value;if(C===0||C===S.points.length-1){(0,T.g6)(S.points,f.zoom.value)&&I.movePoints(S,[{index:C,point:C===0?S.points[S.points.length-1]:S.points[0]}]);var A=(0,H.N1)(f)?(0,H.Y9)((0,x.AK)(I.getPointAtIndexGlobalCoordinates(S,C)),N.Z.getScene(S)):null;z[C===0?"startBindingElement":"endBindingElement"]=A}}}catch(Y){j.e(Y)}finally{j.f()}}return $($($({},w),z),{},{selectedPointsIndices:s||P.shiftKey?!s&&P.shiftKey&&(r=c.prevSelectedPointsIndices)!==null&&r!==void 0&&r.includes(c.lastClickedPoint)?b&&b.filter(function(Y){return Y!==c.lastClickedPoint}):b:b!=null&&b.includes(c.lastClickedPoint)?[c.lastClickedPoint]:b,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(P,w,f,r){var o=(0,T.LW)(w[0],w[1],f[0],f[1]);return P.points.length>2&&P.roundness&&(o=(0,T.eH)(P,f)),o*r.value<4*I.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(P,w,f,r){var o=(0,T.H5)(w,f);if(P.points.length>2&&P.roundness){var b=(0,T.yB)(P,P.points[r]);if(b){var s=(0,T.lk)(P,P.points[r],.5),c=(0,T.N_)(b[0],b[1],b[2],b[3],s),S=(0,g.Z)(c,2),z=S[0],B=S[1];o=I.getPointGlobalCoordinates(P,[z,B])}}return o}},{key:"getSegmentMidPointIndex",value:function(P,w,f){var r=I.getElement(P.elementId);if(!r)return-1;for(var o=I.getEditorMidPoints(r,w),b=0;b<o.length;){if(I.arePointsEqual(f,o[b]))return b+1;b++}return-1}},{key:"handlePointerDown",value:function(P,w,f,r,o){var b,s={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!o)return s;var c=o.elementId,S=I.getElement(c);if(!S)return s;var z=I.getSegmentMidpointHitCoords(o,r,w),B=null;if(z&&(B=I.getSegmentMidPointIndex(o,w,z)),P.altKey&&w.editingLinearElement)return o.lastUncommittedPoint==null&&((0,u.DR)(S,{points:[].concat((0,e.Z)(S.points),[I.createPointAt(S,r.x,r.y,P[k.tW.CTRL_OR_CMD]?null:w.gridSize)])}),s.didAddPoint=!0),f.resumeRecording(),s.linearElementEditor=$($({},o),{},{pointerDownState:{prevSelectedPointsIndices:o.selectedPointsIndices,lastClickedPoint:-1,origin:{x:r.x,y:r.y},segmentMidpoint:{value:z,index:B,added:!1}},selectedPointsIndices:[S.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,H.Y9)(r,N.Z.getScene(S))}),s.didAddPoint=!0,s;var j=I.getPointIndexUnderCursor(S,w.zoom,r.x,r.y);if(j>=0||z)s.hitElement=S;else{var C=o.startBindingElement,A=o.endBindingElement;(0,H.N1)(w)&&(0,m.Mn)(S)&&(0,H.HG)(S,C,A)}var Y=(0,E.qf)(S),ie=(0,g.Z)(Y,4),le=ie[0],ce=ie[1],de=(le+ie[2])/2,J=(ce+ie[3])/2,ee=j>-1&&(0,T.U1)(S.x+S.points[j][0],S.y+S.points[j][1],de,J,S.angle),he=j>-1||P.shiftKey?P.shiftKey||(b=o.selectedPointsIndices)!==null&&b!==void 0&&b.includes(j)?F([].concat((0,e.Z)(o.selectedPointsIndices||[]),[j])):[j]:null;return s.linearElementEditor=$($({},o),{},{pointerDownState:{prevSelectedPointsIndices:o.selectedPointsIndices,lastClickedPoint:j,origin:{x:r.x,y:r.y},segmentMidpoint:{value:z,index:B,added:!1}},selectedPointsIndices:he,pointerOffset:ee?{x:r.x-ee[0],y:r.y-ee[1]}:{x:0,y:0}}),s}},{key:"arePointsEqual",value:function(P,w){return!P&&!w||!(!P||!w)&&(0,T.Jj)(P,w)}},{key:"handlePointerMove",value:function(P,w,f,r){if(!r.editingLinearElement)return null;var o=r.editingLinearElement,b=o.elementId,s=o.lastUncommittedPoint,c=I.getElement(b);if(!c)return r.editingLinearElement;var S,z=c.points,B=z[z.length-1];if(!P.altKey)return B===s&&I.deletePoints(c,[z.length-1]),$($({},r.editingLinearElement),{},{lastUncommittedPoint:null});if((0,k.Ge)(P)&&z.length>=2){var j=z[z.length-2],C=I._getShiftLockedDelta(c,j,[w,f],P[k.tW.CTRL_OR_CMD]?null:r.gridSize),A=(0,g.Z)(C,2),Y=A[0],ie=A[1];S=[Y+j[0],ie+j[1]]}else S=I.createPointAt(c,w-r.editingLinearElement.pointerOffset.x,f-r.editingLinearElement.pointerOffset.y,P[k.tW.CTRL_OR_CMD]?null:r.gridSize);return B===s?I.movePoints(c,[{index:c.points.length-1,point:S}]):I.addPoints(c,r,[{point:S}]),$($({},r.editingLinearElement),{},{lastUncommittedPoint:c.points[c.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(P,w){var f=(0,E.qf)(P),r=(0,g.Z)(f,4),o=r[0],b=r[1],s=(o+r[2])/2,c=(b+r[3])/2,S=P.x,z=P.y,B=(0,T.U1)(S+w[0],z+w[1],s,c,P.angle),j=(0,g.Z)(B,2);return[S=j[0],z=j[1]]}},{key:"getPointsGlobalCoordinates",value:function(P){var w=(0,E.qf)(P),f=(0,g.Z)(w,4),r=f[0],o=f[1],b=f[2],s=f[3],c=(r+b)/2,S=(o+s)/2;return P.points.map(function(z){var B=P.x,j=P.y,C=(0,T.U1)(B+z[0],j+z[1],c,S,P.angle),A=(0,g.Z)(C,2);return[B=A[0],j=A[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(P,w){var f=w<0?P.points.length+w:w,r=(0,E.qf)(P),o=(0,g.Z)(r,4),b=o[0],s=o[1],c=(b+o[2])/2,S=(s+o[3])/2,z=P.points[f],B=P.x,j=P.y;return z?(0,T.U1)(B+z[0],j+z[1],c,S,P.angle):(0,T.U1)(B,j,c,S,P.angle)}},{key:"pointFromAbsoluteCoords",value:function(P,w){var f=(0,E.qf)(P),r=(0,g.Z)(f,4),o=r[0],b=r[1],s=(o+r[2])/2,c=(b+r[3])/2,S=(0,T.U1)(w[0],w[1],s,c,-P.angle),z=(0,g.Z)(S,2),B=z[0],j=z[1];return[B-P.x,j-P.y]}},{key:"getPointIndexUnderCursor",value:function(P,w,f,r){for(var o=I.getPointsGlobalCoordinates(P),b=o.length;--b>-1;){var s=o[b];if((0,T.LW)(f,r,s[0],s[1])*w.value<I.POINT_HANDLE_SIZE+1)return b}return-1}},{key:"createPointAt",value:function(P,w,f,r){var o=(0,T.wC)(w,f,r),b=(0,E.qf)(P),s=(0,g.Z)(b,4),c=s[0],S=s[1],z=(c+s[2])/2,B=(S+s[3])/2,j=(0,T.U1)(o[0],o[1],z,B,-P.angle),C=(0,g.Z)(j,2),A=C[0],Y=C[1];return[A-P.x,Y-P.y]}},{key:"getNormalizedPoints",value:function(P){var w=P.points,f=w[0][0],r=w[0][1];return{points:w.map(function(o,b){return[o[0]-f,o[1]-r]}),x:P.x+f,y:P.y+r}}},{key:"normalizePoints",value:function(P){(0,u.DR)(P,I.getNormalizedPoints(P))}},{key:"duplicateSelectedPoints",value:function(P){if(!P.editingLinearElement)return!1;var w=P.editingLinearElement,f=w.selectedPointsIndices,r=w.elementId,o=I.getElement(r);if(!o||f===null)return!1;var b=o.points,s=[],c=!1,S=-1,z=b.reduce(function(j,C,A){if(++S,j.push(C),f.includes(A)){var Y=b[A+1];Y||(c=!0),j.push(Y?[(C[0]+Y[0])/2,(C[1]+Y[1])/2]:[C[0],C[1]]),s.push(S+1),++S}return j},[]);if((0,u.DR)(o,{points:z}),c){var B=o.points[o.points.length-1];I.movePoints(o,[{index:o.points.length-1,point:[B[0]+30,B[1]+30]}])}return{appState:$($({},P),{},{editingLinearElement:$($({},P.editingLinearElement),{},{selectedPointsIndices:s})})}}},{key:"deletePoints",value:function(P,w){var f=0,r=0;if(w.includes(0)){var o=P.points.find(function(s,c){return!w.includes(c)});o&&(f=o[0],r=o[1])}var b=P.points.reduce(function(s,c,S){return w.includes(S)||s.push(s.length?[c[0]-f,c[1]-r]:[0,0]),s},[]);I._updatePoints(P,b,f,r)}},{key:"addPoints",value:function(P,w,f){var r=[].concat((0,e.Z)(P.points),(0,e.Z)(f.map(function(o){return o.point})));I._updatePoints(P,r,0,0)}},{key:"movePoints",value:function(P,w,f){var r=P.points,o=0,b=0,s=w.find(function(S){return S.index===0});s&&(o=s.point[0]+r[s.index][0],b=s.point[1]+r[s.index][1]);var c=r.map(function(S,z){var B=w.find(function(A){return A.index===z});if(B){if(s)return S;var j=B.point[0]-r[B.index][0],C=B.point[1]-r[B.index][1];return[S[0]+j,S[1]+C]}return o||b?[S[0]-o,S[1]-b]:S});I._updatePoints(P,c,o,b,f)}},{key:"shouldAddMidpoint",value:function(P,w,f){if(!I.getElement(P.elementId))return!1;var r=P.pointerDownState.segmentMidpoint;if(r.added||r.value===null||r.index===null||P.pointerDownState.origin===null)return!1;var o=P.pointerDownState.origin,b=(0,T.LW)(o.x,o.y,w.x,w.y);return!(!f.editingLinearElement&&b<ue.f/f.zoom.value)}},{key:"addMidpoint",value:function(P,w,f,r){var o=I.getElement(P.elementId);if(o){var b=P.pointerDownState.segmentMidpoint,s={pointerDownState:P.pointerDownState,selectedPointsIndices:P.selectedPointsIndices},c=I.createPointAt(o,w.x,w.y,r?f.gridSize:null),S=[].concat((0,e.Z)(o.points.slice(0,b.index)),[c],(0,e.Z)(o.points.slice(b.index)));return(0,u.DR)(o,{points:S}),s.pointerDownState=$($({},P.pointerDownState),{},{segmentMidpoint:$($({},P.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:b.index}),s.selectedPointsIndices=[b.index],s}}},{key:"_updatePoints",value:function(P,w,f,r,o){var b=(0,a.Ut)(P,w),s=(0,a.Ut)(P,P.points),c=(b[0]+b[2])/2,S=(b[1]+b[3])/2,z=(s[0]+s[2])/2-c,B=(s[1]+s[3])/2-S,j=(0,T.U1)(f,r,z,B,P.angle);(0,u.DR)(P,$($({},o),{},{points:w,x:P.x+j[0],y:P.y+j[1]}))}},{key:"_getShiftLockedDelta",value:function(P,w,f,r){var o=I.getPointGlobalCoordinates(P,w),b=(0,T.wC)(f[0],f[1],r),s=(0,g.Z)(b,2),c=s[0],S=s[1],z=(0,E.o4)(o[0],o[1],c,S),B=z.width,j=z.height;return(0,T.xj)([B,j],[0,0],-P.angle)}}]),I}();L.POINT_HANDLE_SIZE=10,L.getEditorMidPoints=function(I,P){var w=(0,Q.WJ)(I);return!P.editingLinearElement&&I.points.length>2&&!w?[]:(U.version===I.version&&U.zoom===P.zoom.value||L.updateEditorMidPointsCache(I,P),U.points)},L.updateEditorMidPointsCache=function(I,P){for(var w=L.getPointsGlobalCoordinates(I),f=0,r=[];f<w.length-1;)if(L.isSegmentTooShort(I,I.points[f],I.points[f+1],P.zoom))r.push(null),f++;else{var o=L.getSegmentMidPoint(I,w[f],w[f+1],f+1);r.push(o),f++}U.points=r,U.version=I.version,U.zoom=P.zoom.value},L.getSegmentMidpointHitCoords=function(I,P,w){var f=I.elementId,r=L.getElement(f);if(!r||L.getPointIndexUnderCursor(r,w.zoom,P.x,P.y)>=0||L.getPointsGlobalCoordinates(r).length>=3&&!w.editingLinearElement)return null;var o=L.POINT_HANDLE_SIZE/w.zoom.value,b=I.segmentMidPointHoveredCoords;if(b&&(0,T.LW)(b[0],b[1],P.x,P.y)<=o)return b;for(var s=0,c=L.getEditorMidPoints(r,w);s<c.length;){if(c[s]!==null&&(0,T.LW)(c[s][0],c[s][1],P.x,P.y)<=o)return c[s];s++}return null},L.getBoundTextElementPosition=function(I,P){var w=L.getPointsGlobalCoordinates(I);w.length<2&&(0,u.DR)(P,{isDeleted:!0});var f=0,r=0;if(I.points.length%2==1){var o=Math.floor(I.points.length/2),b=L.getPointGlobalCoordinates(I,I.points[o]);f=b[0]-P.width/2,r=b[1]-P.height/2}else{var s=I.points.length/2-1,c=U.points[s];I.points.length===2&&(c=(0,T.H5)(w[0],w[1])),c&&U.version===I.version||(c=L.getSegmentMidPoint(I,w[s],w[s+1],s+1)),f=c[0]-P.width/2,r=c[1]-P.height/2}return{x:f,y:r}},L.getMinMaxXYWithBoundText=function(I,P,w){var f=(0,g.Z)(P,4),r=f[0],o=f[1],b=f[2],s=f[3],c=(r+b)/2,S=(o+s)/2,z=L.getBoundTextElementPosition(I,w),B=z.x,j=z.y,C=B+w.width,A=j+w.height,Y=(0,T.xj)([r,o],[c,S],I.angle),ie=(0,T.xj)([b,o],[c,S],I.angle),le=(0,T.xj)([B,j],[c,S],-I.angle),ce=(0,T.xj)([C,j],[c,S],-I.angle),de=(0,T.xj)([B,A],[c,S],-I.angle),J=(0,T.xj)([C,A],[c,S],-I.angle);return Y[0]<ie[0]&&Y[1]>=ie[1]?(r=Math.min(r,de[0]),b=Math.max(b,Math.max(ce[0],J[0])),o=Math.min(o,le[1]),s=Math.max(s,J[1])):Y[0]>=ie[0]&&Y[1]>ie[1]?(r=Math.min(r,J[0]),b=Math.max(b,Math.max(le[0],ce[0])),o=Math.min(o,de[1]),s=Math.max(s,ce[1])):Y[0]>=ie[0]?(r=Math.min(r,ce[0]),b=Math.max(b,de[0]),o=Math.min(o,J[1]),s=Math.max(s,le[1])):Y[1]<=ie[1]&&(r=Math.min(r,Math.min(ce[0],le[0])),b=Math.max(b,J[0]),o=Math.min(o,ce[1]),s=Math.max(s,de[1])),[r,o,b,s,c,S]},L.getElementAbsoluteCoords=function(I){var P,w,f,r,o,b=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(I.points.length<2||!me.R.get(I)){var s=I.points.reduce(function(Pe,He){var Ke=(0,g.Z)(He,2),Ae=Ke[0],Oe=Ke[1];return Pe.minY=Math.min(Pe.minY,Oe),Pe.minX=Math.min(Pe.minX,Ae),Pe.maxX=Math.max(Pe.maxX,Ae),Pe.maxY=Math.max(Pe.maxY,Oe),Pe},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),c=s.minX,S=s.minY,z=s.maxX,B=s.maxY;w=c+I.x,f=S+I.y,r=z+I.x,o=B+I.y}else{var j=me.R.generateElementShape(I),C=(0,a.CM)(j[0]),A=(0,a.IX)(C),Y=(0,g.Z)(A,4),ie=Y[0],le=Y[1],ce=Y[2],de=Y[3];w=ie+I.x,f=le+I.y,r=ce+I.x,o=de+I.y}var J=(w+r)/2,ee=(f+o)/2;if(P=[w,f,r,o,J,ee],!b)return P;var he=(0,Q.WJ)(I);return he&&(P=L.getMinMaxXYWithBoundText(I,[w,f,r,o],he)),P};var F=function(I){var P=(0,e.Z)(new Set(I.filter(function(w){return w!==null&&w!==-1})));return(P=P.sort(function(w,f){return w-f})).length?P:null}},583:function(Ze,te,t){t.d(te,{BE:function(){return H},DR:function(){return N},ZP:function(){return x}});var e=t(6655),_=t(7169),g=t(457),p=t(5999),y=t(4643),T=t(9827),E=t(2921);function a(m,k){var Q=Object.keys(m);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(m);k&&(ue=ue.filter(function(me){return Object.getOwnPropertyDescriptor(m,me).enumerable})),Q.push.apply(Q,ue)}return Q}function u(m){for(var k=1;k<arguments.length;k++){var Q=arguments[k]!=null?arguments[k]:{};k%2?a(Object(Q),!0).forEach(function(ue){(0,_.Z)(m,ue,Q[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(Q)):a(Object(Q)).forEach(function(ue){Object.defineProperty(m,ue,Object.getOwnPropertyDescriptor(Q,ue))})}return m}var N=function(m,k){var Q,ue=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],me=!1,ye=k,fe=ye.points,G=ye.fileId;for(var $ in fe!==void 0&&(k=u(u({},(0,p.k)(fe)),k)),k){var U=k[$];if(U!==void 0){if(m[$]===U&&((0,e.Z)(U)!=="object"||U===null||$==="groupIds"||$==="scale"))continue;if($==="scale"){var L=m[$],F=U;if(L[0]===F[0]&&L[1]===F[1])continue}else if($==="points"){var I=m[$],P=U;if(I.length===P.length){for(var w=!1,f=I.length;--f;){var r=I[f],o=P[f];if(r[0]!==o[0]||r[1]!==o[1]){w=!0;break}}if(!w)continue}}m[$]=U,me=!0}}return me&&(k.height===void 0&&k.width===void 0&&G===void 0&&fe===void 0||E.R.delete(m),m.version++,m.versionNonce=(0,y.LU)(),m.updated=(0,T.C3)(),ue&&((Q=g.Z.getScene(m))===null||Q===void 0||Q.informMutation())),m},H=function(m,k){var Q=!1;for(var ue in k){var me=k[ue];if(me!==void 0){if(m[ue]===me&&((0,e.Z)(me)!=="object"||me===null))continue;Q=!0}}return Q?u(u(u({},m),k),{},{updated:(0,T.C3)(),version:m.version+1,versionNonce:(0,y.LU)()}):m},x=function(m,k){return m.version=(k??m.version)+1,m.versionNonce=(0,y.LU)(),m.updated=(0,T.C3)(),m}},5742:function(Ze,te,t){t.d(te,{JZ:function(){return P},KE:function(){return f},M:function(){return $},M3:function(){return U},N_:function(){return w},OL:function(){return s},Sy:function(){return S},Up:function(){return G},VL:function(){return F},_N:function(){return z},vw:function(){return o},y8:function(){return r}});var e=t(6655),_=t(2577),g=t(7169),p=t(2726),y=t(9827),T=t(4643),E=t(583),a=t(9215),u=t(7651),N=t(2361),H=t(4949),x=t(4761),m=t(9937),k=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","roundness","boundElements","link","locked"];function Q(B,j){var C=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!C){if(Array.isArray(B)||(C=function(de,J){if(de){if(typeof de=="string")return ue(de,J);var ee=Object.prototype.toString.call(de).slice(8,-1);if(ee==="Object"&&de.constructor&&(ee=de.constructor.name),ee==="Map"||ee==="Set")return Array.from(de);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return ue(de,J)}}(B))||j){C&&(B=C);var A=0,Y=function(){};return{s:Y,n:function(){return A>=B.length?{done:!0}:{done:!1,value:B[A++]}},e:function(de){throw de},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie,le=!0,ce=!1;return{s:function(){C=C.call(B)},n:function(){var de=C.next();return le=de.done,de},e:function(de){ce=!0,ie=de},f:function(){try{le||C.return==null||C.return()}finally{if(ce)throw ie}}}}function ue(B,j){(j==null||j>B.length)&&(j=B.length);for(var C=0,A=new Array(j);C<j;C++)A[C]=B[C];return A}function me(B,j){var C=Object.keys(B);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(B);j&&(A=A.filter(function(Y){return Object.getOwnPropertyDescriptor(B,Y).enumerable})),C.push.apply(C,A)}return C}function ye(B){for(var j=1;j<arguments.length;j++){var C=arguments[j]!=null?arguments[j]:{};j%2?me(Object(C),!0).forEach(function(A){(0,g.Z)(B,A,C[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(C)):me(Object(C)).forEach(function(A){Object.defineProperty(B,A,Object.getOwnPropertyDescriptor(C,A))})}return B}var fe=function(B,j){var C,A,Y=j.x,ie=j.y,le=j.strokeColor,ce=le===void 0?m.HN.strokeColor:le,de=j.backgroundColor,J=de===void 0?m.HN.backgroundColor:de,ee=j.fillStyle,he=ee===void 0?m.HN.fillStyle:ee,Pe=j.strokeWidth,He=Pe===void 0?m.HN.strokeWidth:Pe,Ke=j.strokeStyle,Ae=Ke===void 0?m.HN.strokeStyle:Ke,Oe=j.roughness,Te=Oe===void 0?m.HN.roughness:Oe,De=j.opacity,ke=De===void 0?m.HN.opacity:De,be=j.width,ve=be===void 0?0:be,D=j.height,l=D===void 0?0:D,d=j.angle,M=d===void 0?0:d,V=j.groupIds,q=V===void 0?[]:V,re=j.frameId,ae=re===void 0?null:re,ge=j.roundness,Se=ge===void 0?null:ge,Re=j.boundElements,Ye=Re===void 0?null:Re,Ge=j.link,We=Ge===void 0?null:Ge,qe=j.locked,lt=qe===void 0?m.HN.locked:qe,ft=(0,p.Z)(j,k);return{id:ft.id||(0,T.kb)(),type:B,x:Y,y:ie,width:ve,height:l,angle:M,strokeColor:ce,backgroundColor:J,fillStyle:he,strokeWidth:He,strokeStyle:Ae,roughness:Te,opacity:ke,groupIds:q,frameId:ae,roundness:Se,seed:(C=ft.seed)!==null&&C!==void 0?C:(0,T.LU)(),version:ft.version||1,versionNonce:(A=ft.versionNonce)!==null&&A!==void 0?A:0,isDeleted:!1,boundElements:Ye,updated:(0,y.C3)(),link:We,locked:lt,customData:ft.customData}},G=function(B){return fe(B.type,B)},$=function(B){return ye(ye({},fe("embeddable",B)),{},{validated:B.validated})},U=function(B){return(0,E.BE)(ye(ye({},fe("frame",B)),{},{type:"frame",name:B?.name||null}),{})},L=function(B,j){return{x:B.textAlign==="center"?j.width/2:B.textAlign==="right"?j.width:0,y:B.verticalAlign==="middle"?j.height/2:0}},F=function(B){var j=B.fontFamily||m.rk,C=B.fontSize||m.n5,A=B.lineHeight||(0,x.PT)(j),Y=(0,x.bG)(B.text),ie=(0,x.X1)(Y,(0,y.mO)({fontFamily:j,fontSize:C}),A),le=B.textAlign||m.Hg,ce=B.verticalAlign||m.hs,de=L({textAlign:le,verticalAlign:ce},ie);return(0,E.BE)(ye(ye({},fe("text",B)),{},{text:Y,fontSize:C,fontFamily:j,textAlign:le,verticalAlign:ce,x:B.x-de.x,y:B.y-de.y,width:ie.width,height:ie.height,baseline:ie.baseline,containerId:B.containerId||null,originalText:Y,lineHeight:A}),{})},I=function(B,j){var C,A,Y=(0,x.X1)(j,(0,y.mO)(B),B.lineHeight),ie=Y.width,le=Y.height,ce=Y.baseline,de=B.textAlign,J=B.verticalAlign;if(de!=="center"||J!==m.oX.MIDDLE||B.containerId){var ee=(0,u.qf)(B),he=(0,_.Z)(ee,4),Pe=he[0],He=he[1],Ke=he[2],Ae=he[3],Oe=(0,H.wC)(B,ie,le,!1),Te=(0,_.Z)(Oe,4),De=(Pe-Te[0])/2,ke=(He-Te[1])/2,be=(Ke-Te[2])/2,ve=(Ae-Te[3])/2,D=(0,N.yq)({s:!0,e:de==="center"||de==="left",w:de==="center"||de==="right"},B.x,B.y,B.angle,De,ke,be,ve),l=(0,_.Z)(D,2);C=l[0],A=l[1]}else{var d=(0,x.X1)(B.text,(0,y.mO)(B),B.lineHeight),M=L(B,{width:ie-d.width,height:le-d.height});C=B.x-M.x,A=B.y-M.y}return{width:ie,height:le,baseline:ce,x:Number.isFinite(C)?C:B.x,y:Number.isFinite(A)?A:B.y}},P=function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B.text;if(!B.isDeleted){var C=(0,x.tl)(B);C&&(j=(0,x.lD)(j,(0,y.mO)(B),(0,x.iZ)(C)));var A=I(B,j);return ye({text:j},A)}},w=function(B,j){j.text;var C=j.isDeleted,A=j.originalText;return(0,E.BE)(B,ye({originalText:A,isDeleted:C??B.isDeleted},P(B,A)))},f=function(B){return ye(ye({},fe(B.type,B)),{},{points:B.points||[],pressures:[],simulatePressure:B.simulatePressure,lastCommittedPoint:null})},r=function(B){return ye(ye({},fe(B.type,B)),{},{points:B.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:B.startArrowhead||null,endArrowhead:B.endArrowhead||null})},o=function(B){var j,C,A;return ye(ye({},fe("image",B)),{},{strokeColor:"transparent",status:(j=B.status)!==null&&j!==void 0?j:"pending",fileId:(C=B.fileId)!==null&&C!==void 0?C:null,scale:(A=B.scale)!==null&&A!==void 0?A:[1,1]})},b=function B(j){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(j==null||(0,e.Z)(j)!=="object")return j;var A=Object.prototype.toString.call(j);if(A==="[object Object]"){var Y=typeof j.constructor=="function"?Object.create(Object.getPrototypeOf(j)):{};for(var ie in j)if(j.hasOwnProperty(ie)){if(C===0&&(ie==="shape"||ie==="canvas"))continue;Y[ie]=B(j[ie],C+1)}return Y}if(Array.isArray(j)){for(var le=j.length,ce=new Array(le);le--;)ce[le]=B(j[le],C+1);return ce}return j},s=function(B){return b(B)},c=function(B){if((0,y.h2)()&&B){var j,C,A="".concat(B,"_copy");return(j=window.h)!==null&&j!==void 0&&(C=j.app)!==null&&C!==void 0&&C.getSceneElementsIncludingDeleted().find(function(Y){return Y.id===A})&&(A+="_copy"),A}return(0,T.kb)()},S=function(B,j,C,A){var Y=s(C);return Y.id=c(Y.id),Y.boundElements=null,Y.updated=(0,y.C3)(),Y.seed=(0,T.LU)(),Y.groupIds=(0,a.Qy)(Y.groupIds,B,function(ie){return j.has(ie)||j.set(ie,c(ie)),j.get(ie)}),A&&(Y=Object.assign(Y,A)),Y},z=function(B,j){var C,A=[],Y=(0,y.xn)(B),ie=new Map,le=function(Ke){if(ie.has(Ke))return ie.get(Ke);if(Y.has(Ke)){var Ae=c(Ke);return ie.set(Ke,Ae),Ae}return null},ce=new Map,de=Q(B);try{for(de.s();!(C=de.n()).done;){var J=C.value,ee=b(J);if(ee.id=le(J.id),j!=null&&j.randomizeSeed&&(ee.seed=(0,T.LU)(),(0,E.ZP)(ee)),ee.groupIds&&(ee.groupIds=ee.groupIds.map(function(Ke){return ce.has(Ke)||ce.set(Ke,c(Ke)),ce.get(Ke)})),"containerId"in ee&&ee.containerId){var he=le(ee.containerId);ee.containerId=he}if("boundElements"in ee&&ee.boundElements&&(ee.boundElements=ee.boundElements.reduce(function(Ke,Ae){var Oe=le(Ae.id);return Oe&&Ke.push(ye(ye({},Ae),{},{id:Oe})),Ke},[])),"endBinding"in ee&&ee.endBinding){var Pe=le(ee.endBinding.elementId);ee.endBinding=Pe?ye(ye({},ee.endBinding),{},{elementId:Pe}):null}if("startBinding"in ee&&ee.startBinding){var He=le(ee.startBinding.elementId);ee.startBinding=He?ye(ye({},ee.startBinding),{},{elementId:He}):null}ee.frameId&&(ee.frameId=le(ee.frameId)),A.push(ee)}}catch(Ke){de.e(Ke)}finally{de.f()}return A}},4381:function(Ze,te,t){t.d(te,{LM:function(){return f},T:function(){return b},vY:function(){return U},xx:function(){return o}});var e=t(2726),_=t(1930),g=t(7169),p=t(2577),y=t(9937),T=t(5999),E=t(2361),a=t(4949),u=t(4183),N=t(583),H=t(9827),x=t(9645),m=t(457),k=t(4761),Q=t(7422),ue=["boundTextFontSize"];function me(s,c){var S=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!S){if(Array.isArray(s)||(S=function(Y,ie){if(Y){if(typeof Y=="string")return ye(Y,ie);var le=Object.prototype.toString.call(Y).slice(8,-1);if(le==="Object"&&Y.constructor&&(le=Y.constructor.name),le==="Map"||le==="Set")return Array.from(Y);if(le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le))return ye(Y,ie)}}(s))||c){S&&(s=S);var z=0,B=function(){};return{s:B,n:function(){return z>=s.length?{done:!0}:{done:!1,value:s[z++]}},e:function(Y){throw Y},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,C=!0,A=!1;return{s:function(){S=S.call(s)},n:function(){var Y=S.next();return C=Y.done,Y},e:function(Y){A=!0,j=Y},f:function(){try{C||S.return==null||S.return()}finally{if(A)throw j}}}}function ye(s,c){(c==null||c>s.length)&&(c=s.length);for(var S=0,z=new Array(c);S<c;S++)z[S]=s[S];return z}function fe(s,c){var S=Object.keys(s);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(s);c&&(z=z.filter(function(B){return Object.getOwnPropertyDescriptor(s,B).enumerable})),S.push.apply(S,z)}return S}function G(s){for(var c=1;c<arguments.length;c++){var S=arguments[c]!=null?arguments[c]:{};c%2?fe(Object(S),!0).forEach(function(z){(0,g.Z)(s,z,S[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(S)):fe(Object(S)).forEach(function(z){Object.defineProperty(s,z,Object.getOwnPropertyDescriptor(S,z))})}return s}var $=function(s){return s<0?s+2*Math.PI:s>=2*Math.PI?s-2*Math.PI:s},U=function(s,c,S,z,B,j,C,A,Y,ie,le,ce){if(S.length===1){var de=(0,p.Z)(S,1)[0];return c==="rotation"?(L(de,A,Y,B,s.originalElements),(0,x.Ww)(de)):!(0,u.iB)(de)||c!=="nw"&&c!=="ne"&&c!=="sw"&&c!=="se"?c&&w(s.originalElements,C,de,c,j,A,Y):(P(de,c,j,A,Y),(0,x.Ww)(de)),!0}if(S.length>1){if(c==="rotation")return r(s,S,A,Y,B,ie,le),!0;if(c==="nw"||c==="ne"||c==="sw"||c==="se")return f(s,S,c,j,A,Y),!0}return!1},L=function(s,c,S,z,B){var j,C=(0,a.qf)(s),A=(0,p.Z)(C,4),Y=A[0],ie=A[1],le=(Y+A[2])/2,ce=(ie+A[3])/2;(0,u.He)(s)?j=0:(j=5*Math.PI/2+Math.atan2(S-ce,c-le),z&&(j+=y.ay/2,j-=j%y.ay),j=$(j));var de=(0,k.xB)(s);if((0,N.DR)(s,{angle:j}),de){var J,ee=(J=m.Z.getScene(s))===null||J===void 0?void 0:J.getElement(de);ee&&!(0,u.Yv)(s)&&(0,N.DR)(ee,{angle:j})}},F=function(s,c,S,z){return(0,u.bt)(s)||(0,u.F9)(s)?{points:(0,T.z)(0,c,(0,T.z)(1,S,s.points,z),z)}:{}},I=function(s,c,S){var z=s.width;if((0,u.Xh)(s)){var B=(0,k.tl)(s);B&&(z=(0,k.iZ)(B))}var j=s.fontSize*(c/z);if(j<y.CP)return null;var C=(0,k.X1)(s.text,(0,H.mO)({fontSize:j,fontFamily:s.fontFamily}),s.lineHeight);return{size:j,baseline:C.baseline+(S-C.height)}},P=function(s,c,S,z,B){var j,C=(0,a.qf)(s),A=(0,p.Z)(C,4),Y=A[0],ie=A[1],le=A[2],ce=A[3],de=(Y+le)/2,J=(ie+ce)/2,ee=(0,E.U1)(z,B,de,J,-s.angle),he=(0,p.Z)(ee,2),Pe=he[0],He=he[1];switch(c){case"se":j=Math.max((Pe-Y)/(le-Y),(He-ie)/(ce-ie));break;case"nw":j=Math.max((le-Pe)/(le-Y),(ce-He)/(ce-ie));break;case"ne":j=Math.max((Pe-Y)/(le-Y),(ce-He)/(ce-ie));break;case"sw":j=Math.max((le-Pe)/(le-Y),(He-ie)/(ce-ie))}if(j>0){var Ke=s.width*j,Ae=s.height*j,Oe=I(s,Ke,Ae);if(Oe===null)return;var Te=(0,a.wC)(s,Ke,Ae,!1),De=(0,p.Z)(Te,4),ke=(Y-De[0])/2,be=(ie-De[1])/2,ve=(le-De[2])/2,D=(ce-De[3])/2,l=(0,E.yq)(function(q,re){return{n:/^(n|ne|nw)$/.test(q)||re&&/^(s|se|sw)$/.test(q),s:/^(s|se|sw)$/.test(q)||re&&/^(n|ne|nw)$/.test(q),w:/^(w|nw|sw)$/.test(q)||re&&/^(e|ne|se)$/.test(q),e:/^(e|ne|se)$/.test(q)||re&&/^(w|nw|sw)$/.test(q)}}(c,S),s.x,s.y,s.angle,ke,be,ve,D),d=(0,p.Z)(l,2),M=d[0],V=d[1];(0,N.DR)(s,{fontSize:Oe.size,width:Ke,height:Ae,baseline:Oe.baseline,x:M,y:V})}},w=function(s,c,S,z,B,j,C){var A=s.get(S.id),Y=(0,a.wC)(A,A.width,A.height,!0),ie=(0,p.Z)(Y,4),le=[ie[0],ie[1]],ce=[ie[2],ie[3]],de=(0,E.H5)(le,ce),J=(0,E.xj)([j,C],de,-A.angle),ee=(0,a.wC)(S,S.width,S.height,!0),he=(0,p.Z)(ee,4),Pe=he[0],He=he[1],Ke=he[2]-Pe,Ae=he[3]-He,Oe=(ce[0]-le[0])/Ke,Te=(ce[1]-le[1])/Ae,De={},ke=(0,k.WJ)(S);z.includes("e")&&(Oe=(J[0]-le[0])/Ke),z.includes("s")&&(Te=(J[1]-le[1])/Ae),z.includes("w")&&(Oe=(ce[0]-J[0])/Ke),z.includes("n")&&(Te=(ce[1]-J[1])/Ae);var be=A.width,ve=A.height,D=S.width*Oe,l=S.height*Te;if(B&&(D=2*D-be,l=2*l-ve),c){var d=Math.abs(D)/be,M=Math.abs(l)/ve;if(z.length===1&&(l*=d,D*=M),z.length===2){var V=Math.max(d,M);D=be*V*Math.sign(D),l=ve*V*Math.sign(l)}}if(ke){var q=s.get(ke.id);if(q&&(De={fontSize:q.fontSize,baseline:q.baseline}),c){var re=G(G({},S),{},{width:D,height:l}),ae=I(ke,(0,k.iZ)(re),(0,k.D9)(re,ke));if(ae===null)return;De={fontSize:ae.size,baseline:ae.baseline}}else{var ge=(0,k.AT)((0,H.mO)(ke),ke.lineHeight),Se=(0,k.w_)(ke.fontSize,ke.lineHeight);D=Math.max(D,ge),l=Math.max(l,Se)}}var Re=(0,a.wC)(A,D,l,!0),Ye=(0,p.Z)(Re,4),Ge=Ye[0],We=Ye[1],qe=Ye[2],lt=Ye[3],ft=qe-Ge,ze=lt-We,we=[].concat(le);if(["n","w","nw"].includes(z)&&(we=[ce[0]-Math.abs(ft),ce[1]-Math.abs(ze)]),z==="ne"){var Me=[le[0],ce[1]];we=[Me[0],Me[1]-Math.abs(ze)]}if(z==="sw"){var $e=[ce[0],le[1]];we=[$e[0]-Math.abs(ft),$e[1]]}c&&(["s","n"].includes(z)&&(we[0]=de[0]-ft/2),["e","w"].includes(z)&&(we[1]=de[1]-ze/2));var at=l<0;D<0&&(z.includes("e")&&(we[0]-=Math.abs(ft)),z.includes("w")&&(we[0]+=Math.abs(ft))),at&&(z.includes("s")&&(we[1]-=Math.abs(ze)),z.includes("n")&&(we[1]+=Math.abs(ze))),B&&(we[0]=de[0]-Math.abs(ft)/2,we[1]=de[1]-Math.abs(ze)/2);var dt=A.angle,vt=(0,E.xj)(we,de,dt),Tt=[we[0]+Math.abs(ft)/2,we[1]+Math.abs(ze)/2],Et=(0,E.xj)(Tt,de,dt);we=(0,E.xj)(vt,Et,-dt);var jt=(0,_.Z)(we),Kt=A.x-Ge,Gt=A.y-We;jt[0]+=Kt,jt[1]+=Gt;var Ht,$t,pn=jt[0],_t=jt[1];((0,u.bt)(S)||(0,u.F9)(S))&&(Ht=(0,T.z)(1,l,A.points,!0),$t=(0,T.z)(0,D,Ht,!0));var xt={width:Math.abs(D),height:Math.abs(l),x:pn,y:_t,points:$t};if("scale"in S&&"scale"in A&&(0,N.DR)(S,{scale:[(Math.sign(qe-A.x)||A.scale[0])*A.scale[0],(Math.sign(lt-A.y)||A.scale[1])*A.scale[1]]}),(0,u.Yv)(S)&&ke&&c){var At=xt.width/S.width*ke.fontSize;if(At<y.CP)return;De.fontSize=At}xt.width!==0&&xt.height!==0&&Number.isFinite(xt.x)&&Number.isFinite(xt.y)&&((0,N.DR)(S,xt),(0,x.Ww)(S,{newSize:{width:xt.width,height:xt.height}}),ke&&De!=null&&(0,N.DR)(ke,{fontSize:De.fontSize,baseline:De.baseline}),(0,k.RB)(S,z,c))},f=function(s,c,S,z,B,j){var C,A=c.reduce(function(At,It){var Mt=s.originalElements.get(It.id);return Mt&&At.push({orig:Mt,latest:It}),At},[]),Y=A.reduce(function(At,It){var Mt,Nt=It.orig;if(!(0,u.bt)(Nt))return At;var Yt=(0,k.xB)(Nt);if(!Yt)return At;var ln=(Mt=s.originalElements.get(Yt))!==null&&Mt!==void 0?Mt:null;if(!(0,u.Xh)(ln))return At;var an=Q._.getBoundTextElementPosition(Nt,ln);return[].concat((0,_.Z)(At),[G(G({},ln),an)])},[]),ie=(0,a.v2)(A.map(function(At){return At.orig}).concat(Y)),le=ie.minX,ce=ie.minY,de=ie.maxX,J=ie.maxY,ee=ie.midX,he=ie.midY,Pe=S,He=z?[ee,he]:{ne:[le,J],se:[le,ce],sw:[de,ce],nw:[de,J]}[Pe],Ke=(0,p.Z)(He,2),Ae=Ke[0],Oe=Ke[1],Te=Math.max(Math.abs(B-Ae)/(de-le)||0,Math.abs(j-Oe)/(J-ce)||0)*(z?2:1);if(Te!==0){var De,ke={ne:[B>=Ae,j<=Oe],se:[B>=Ae,j>=Oe],sw:[B<=Ae,j>=Oe],nw:[B<=Ae,j<=Oe]}[Pe].map(function(At){return At?1:-1}),be=(0,p.Z)(ke,2),ve=be[0],D=be[1],l=ve<0,d=D<0,M=[],V=me(A);try{for(V.s();!(De=V.n()).done;){var q,re=De.value,ae=re.orig,ge=re.latest;if(!(0,u.iB)(ae)||!(0,u.Xh)(ae)){var Se=ae.width*Te,Re=ae.height*Te,Ye=$(ae.angle*ve*D),Ge=(0,u.bt)(ae)||(0,u.F9)(ae),We=ae.x-Ae,qe=ae.y-Oe,lt=Ae+ve*(We*Te+(l&&!Ge?Se:0)),ft=Oe+D*(qe*Te+(d&&!Ge?Re:0)),ze=F(ae,Se*ve,Re*D,!1),we=G({x:lt,y:ft,width:Se,height:Re,angle:Ye},ze);if((0,u.pC)(ae)&&A.length===1&&(we.scale=[ae.scale[0]*ve,ae.scale[1]*D]),(0,u.bt)(ae)&&(l||d)&&function(){var At=(0,a.Ut)(ae,ae.points),It=(0,a.Ut)(G(G({},ae),{},{x:lt,y:ft}),ze.points),Mt=[ae.x,ae.y],Nt=[lt,ft],Yt=function(ln){var an=ln==="x"?0:1;return(It[an+2]-Nt[an]-(Mt[an]-At[an])*Te+(At[an+2]-Mt[an])*Te-(Nt[an]-It[an]))/2};l&&(we.x-=Yt("x")),d&&(we.y-=Yt("y"))}(),(0,u.iB)(ae)){var Me=I(ae,Se,Re);if(!Me)return;we.fontSize=Me.size,we.baseline=Me.baseline}var $e=s.originalElements.get((q=(0,k.xB)(ae))!==null&&q!==void 0?q:"");if($e){var at=$e.fontSize*Te;if(at<y.CP)return;we.boundTextFontSize=at}M.push({element:ge,update:we})}}}catch(At){V.e(At)}finally{V.f()}for(var dt=M.map(function(At){return At.element}),vt=0,Tt=M;vt<Tt.length;vt++){var Et=Tt[vt],jt=Et.element,Kt=Et.update,Gt=Kt.boundTextFontSize,Ht=(0,e.Z)(Kt,ue),$t=Ht.width,pn=Ht.height,_t=Ht.angle;(0,N.DR)(jt,Ht,!1),(0,x.Ww)(jt,{simultaneouslyUpdated:dt,newSize:{width:$t,height:pn}});var xt=(0,k.WJ)(jt);xt&&Gt&&((0,N.DR)(xt,{fontSize:Gt,angle:(0,u.bt)(jt)?void 0:_t},!1),(0,k.RB)(jt,S,!0))}(C=m.Z.getScene(M[0].element))===null||C===void 0||C.informMutation()}},r=function(s,c,S,z,B,j,C){var A,Y=5*Math.PI/2+Math.atan2(z-C,S-j);B&&(Y+=y.ay/2,Y-=Y%y.ay),c.filter(function(ie){return ie.type!=="frame"}).forEach(function(ie){var le,ce,de=(0,a.qf)(ie),J=(0,p.Z)(de,4),ee=J[0],he=J[1],Pe=(ee+J[2])/2,He=(he+J[3])/2,Ke=(le=(ce=s.originalElements.get(ie.id))===null||ce===void 0?void 0:ce.angle)!==null&&le!==void 0?le:ie.angle,Ae=(0,E.U1)(Pe,He,j,C,Y+Ke-ie.angle),Oe=(0,p.Z)(Ae,2),Te=Oe[0],De=Oe[1];(0,N.DR)(ie,{x:ie.x+(Te-Pe),y:ie.y+(De-He),angle:$(Y+Ke)},!1),(0,x.Ww)(ie,{simultaneouslyUpdated:c});var ke=(0,k.WJ)(ie);ke&&!(0,u.Yv)(ie)&&(0,N.DR)(ke,{x:ke.x+(Te-Pe),y:ke.y+(De-He),angle:$(Y+Ke)},!1)}),(A=m.Z.getScene(c[0]))===null||A===void 0||A.informMutation()},o=function(s,c,S,z){var B=c.length===1?(0,a.qf)(c[0]):(0,a.KP)(c),j=(0,p.Z)(B,4),C=j[0],A=j[1],Y=j[2],ie=j[3],le=(C+Y)/2,ce=(A+ie)/2,de=c.length===1?c[0].angle:0,J=(0,E.U1)(S,z,le,ce,-de),ee=(0,p.Z)(J,2);switch(S=ee[0],z=ee[1],s){case"n":return(0,E.U1)(S-(C+Y)/2,z-A,0,0,de);case"s":return(0,E.U1)(S-(C+Y)/2,z-ie,0,0,de);case"w":return(0,E.U1)(S-C,z-(A+ie)/2,0,0,de);case"e":return(0,E.U1)(S-Y,z-(A+ie)/2,0,0,de);case"nw":return(0,E.U1)(S-C,z-A,0,0,de);case"ne":return(0,E.U1)(S-Y,z-A,0,0,de);case"sw":return(0,E.U1)(S-C,z-ie,0,0,de);case"se":return(0,E.U1)(S-Y,z-ie,0,0,de);default:return[0,0]}},b=function(s,c){var S=(0,p.Z)(c.points,2),z=(0,p.Z)(S[1],2),B=z[0],j=z[1];return s==="nw"&&(B<0||j<0)||s==="ne"&&B>=0||s==="sw"&&B<=0||s==="se"&&(B>0||j>0)?"end":"origin"}},7935:function(Ze,te,t){t.d(te,{PZ:function(){return E},QD:function(){return T},Qp:function(){return N},o4:function(){return u},uK:function(){return a}});var e=t(2577),_=(t(583),t(4183)),g=t(9937),p=t(4949),y=t(9827),T=function(H){return(0,_.bt)(H)||(0,_.F9)(H)?H.points.length<2:H.width===0&&H.height===0},E=function(H,x,m,k){var Q=(0,p.Pi)(H),ue=(0,e.Z)(Q,4),me=ue[0],ye=ue[1],fe=ue[2],G=ue[3],$=(0,y.dE)({clientX:k.offsetLeft,clientY:k.offsetTop},k),U=(0,y.dE)({clientX:k.offsetLeft+x,clientY:k.offsetTop+m},k);return $.x<=fe&&$.y<=G&&U.x>=me&&U.y>=ye},a=function(H,x,m){var k=Math.abs(x),Q=Math.abs(m);if(H==="line"||H==="arrow"||H==="freedraw"){var ue=Math.round(Math.atan(Q/k)/g.ay)*g.ay;ue===0?m=0:ue===Math.PI/2?x=0:m=k*Math.tan(ue)*Math.sign(m)||m}else H!=="selection"&&(m=k*Math.sign(m));return{width:x,height:m}},u=function(H,x,m,k){var Q=m-H,ue=k-x,me=Math.round(Math.atan(ue/Q)/g.ay)*g.ay;if(me===0)ue=0;else if(me===Math.PI/2)Q=0;else{var ye=Math.tan(me),fe=x-ye*H,G=-1/ye,$=k-G*m;Q=(-1*$- -1*fe)/(-1*ye- -1*G)-H,ue=(fe*G-$*ye)/(-1*ye- -1*G)-x}return{width:Q,height:ue}},N=function(H){var x={width:H.width,height:H.height,x:H.x,y:H.y};if(H.width<0){var m=Math.abs(H.width);x.width=m,x.x=H.x-m}if(H.height<0){var k=Math.abs(H.height);x.height=k,x.y=H.y-k}return x}},4761:function(Ze,te,t){t.d(te,{$2:function(){return w},AT:function(){return B},D9:function(){return Ae},FE:function(){return F},H_:function(){return ce},NS:function(){return He},OW:function(){return ee},P7:function(){return U},PT:function(){return De},R8:function(){return P},RB:function(){return L},Rg:function(){return f},TP:function(){return ie},WJ:function(){return A},X1:function(){return I},Zr:function(){return Pe},aV:function(){return J},bG:function(){return fe},cn:function(){return de},cw:function(){return le},eB:function(){return Oe},iZ:function(){return Ke},lD:function(){return c},mY:function(){return b},oN:function(){return $},tl:function(){return Y},w_:function(){return r},xB:function(){return C}});var e,_=t(2577),g=t(1930),p=t(7169),y=t(9827),T=t(583),E=t(9937),a=t(457),u=t(7651),N=t(4183),H=t(7422),x=t(4105),m=t(3528),k=t(3474);function Q(ke,be){var ve=Object.keys(ke);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(ke);be&&(D=D.filter(function(l){return Object.getOwnPropertyDescriptor(ke,l).enumerable})),ve.push.apply(ve,D)}return ve}function ue(ke){for(var be=1;be<arguments.length;be++){var ve=arguments[be]!=null?arguments[be]:{};be%2?Q(Object(ve),!0).forEach(function(D){(0,p.Z)(ke,D,ve[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(ve)):Q(Object(ve)).forEach(function(D){Object.defineProperty(ke,D,Object.getOwnPropertyDescriptor(ve,D))})}return ke}var me,ye,fe=function(ke){return ke.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},G=function(ke){return fe(ke).split(`
`)},$=function(ke,be){var ve=void 0,D={x:ke.x,y:ke.y,text:ke.text,width:ke.width,height:ke.height,baseline:ke.baseline};D.text=ke.text,be&&(ve=Ke(be,ke),D.text=c(ke.originalText,(0,y.mO)(ke),ve));var l=I(D.text,(0,y.mO)(ke),ke.lineHeight);if(D.width=l.width,D.height=l.height,D.baseline=l.baseline,be){var d=Ae(be,ke),M=Ke(be);if(!(0,N.Yv)(be)&&l.height>d){var V=He(l.height,be.type);(0,T.DR)(be,{height:V}),(0,k.h_)(be.id,V)}if(l.width>M){var q=He(l.width,be.type);(0,T.DR)(be,{width:q})}var re=ue(ue({},ke),D),ae=F(be,re),ge=ae.x,Se=ae.y;D.x=ge,D.y=Se}(0,T.DR)(ke,D)},U=function(ke,be,ve){var D=(0,y.xn)(ke);be.forEach(function(l){var d=ve.get(l.id),M=C(l);if(M){var V=ve.get(M);if(V){var q=D.get(d);q&&(0,T.DR)(q,{boundElements:(l.boundElements||[]).filter(function(ae){return ae.id!==V&&ae.id!==M}).concat({type:"text",id:V})});var re=D.get(V);re&&(0,u.iB)(re)&&(0,T.DR)(re,{containerId:q?d:null})}}})},L=function(ke,be){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2],D=C(ke);if(D){(0,k.kT)(ke.id);var l=a.Z.getScene(ke).getElement(D);if(l&&l.text){if(!ke)return;var d=(l=a.Z.getScene(ke).getElement(D)).text,M=l.height,V=l.width,q=Ke(ke),re=Ae(ke,l),ae=ke.height,ge=l.baseline;if(ve||be!=="n"&&be!=="s"){d&&(d=c(l.originalText,(0,y.mO)(l),q));var Se=I(d,(0,y.mO)(l),l.lineHeight);M=Se.height,V=Se.width,ge=Se.baseline}if(M>re){var Re=(ae=He(M,ke.type))-ke.height,Ye=(0,N.Yv)(ke)||be!=="ne"&&be!=="nw"&&be!=="n"?ke.y:ke.y-Re;(0,T.DR)(ke,{height:ae,y:Ye})}(0,T.DR)(l,{text:d,width:V,height:M,baseline:ge}),(0,N.Yv)(ke)||(0,T.DR)(l,F(ke,l))}}},F=function(ke,be){if((0,N.Yv)(ke))return H._.getBoundTextElementPosition(ke,be);var ve,D=le(ke),l=Ae(ke,be),d=Ke(ke);return ve=be.verticalAlign===E.oX.TOP?D.y:be.verticalAlign===E.oX.BOTTOM?D.y+(l-be.height):D.y+(l/2-be.height/2),{x:be.textAlign===E.I8.LEFT?D.x:be.textAlign===E.I8.RIGHT?D.x+(d-be.width):D.x+(d/2-be.width/2),y:ve}},I=function(ke,be,ve){ke=ke.split(`
`).map(function(d){return d||" "}).join(`
`);var D=parseFloat(be),l=s(ke,D,ve);return{width:b(ke,be),height:l,baseline:P(ke,be,ve)}},P=function(ke,be,ve,D){var l=document.createElement("div");l.style.position="absolute",l.style.whiteSpace="pre",l.style.font=be,l.style.minHeight="1em",D&&(l.style.overflow="hidden",l.style.wordBreak="break-word",l.style.whiteSpace="pre-wrap"),l.style.lineHeight=String(ve),l.innerText=ke,document.body.appendChild(l);var d=document.createElement("span");d.style.display="inline-block",d.style.overflow="hidden",d.style.width="1px",d.style.height="1px",l.appendChild(d);var M=d.offsetTop+d.offsetHeight,V=l.offsetHeight;if(E.G6){var q=s(ke,parseFloat(be),ve),re=parseFloat(be),ae=s(ke,Math.round(re),ve);q>V&&(M+=q-ae),V>q&&(M-=ae-q)}return document.body.removeChild(l),M},w=function(ke){var be=G(ke.text).length;return ke.height/be/ke.fontSize},f=function(ke,be){return ke*be},r=function(ke,be){return f(ke,be)+2*E.gK},o=function(ke,be){me||(me=document.createElement("canvas"));var ve=me.getContext("2d");ve.font=be;var D=ve.measureText(ke).width;return(0,y.h2)()?10*D:D},b=function(ke,be){var ve=G(ke),D=0;return ve.forEach(function(l){D=Math.max(D,o(l,be))}),D},s=function(ke,be,ve){var D=G(ke).length;return f(be,ve)*D},c=function(ke,be,ve){if(!Number.isFinite(ve)||ve<0)return ke;var D=[],l=ke.split(`
`),d=o(" ",be),M="",V=0,q=function(ae){ae.trim()&&D.push(ae)},re=function(){M="",V=0};return l.forEach(function(ae){if(b(ae,be)<=ve)D.push(ae);else{var ge=function(lt){var ft=lt.split("-");return ft.length>1&&ft.forEach(function(ze,we){we!==ft.length-1&&(ft[we]=ze+="-")}),ft.join(" ").split(" ")}(ae);re();for(var Se=0;Se<ge.length;){var Re=o(ge[Se],be);if(Re===ve)q(ge[Se]),Se++;else if(Re>ve){for(q(M),re();ge[Se].length>0;){var Ye=String.fromCodePoint(ge[Se].codePointAt(0)),Ge=S.calculate(Ye,be);V+=Ge,ge[Se]=ge[Se].slice(Ye.length),V>=ve?(q(M),M=Ye,V=Ge):M+=Ye}V+d>=ve?(q(M),re()):M.endsWith("-")||(M+=" ",V+=d),Se++}else for(;V<ve&&Se<ge.length;){var We=ge[Se];if((V=o(M+We,be))>ve){q(M),re();break}Se++;var qe=!We.endsWith("-");if(M+=We,qe&&(M+=" "),V+d>=ve){qe?D.push(M.slice(0,-1)):D.push(M),re();break}}}M.slice(-1)===" "&&(M=M.slice(0,-1),q(M))}}),D.join(`
`)},S=(ye={},{calculate:function(ke,be){var ve=ke.charCodeAt(0);if(ye[be]||(ye[be]=[]),!ye[be][ve]){var D=o(ke,be);ye[be][ve]=D}return ye[be][ve]},getCache:function(ke){return ye[ke]}}),z="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),B=function(ke,be){var ve=j(ke);return ve===0?I(z.split("").join(`
`),ke,be).width+2*E.gK:ve+2*E.gK},j=function(ke){var be=S.getCache(ke);if(!be)return 0;var ve=be.filter(function(D){return D!==void 0});return Math.max.apply(Math,(0,g.Z)(ve))},C=function(ke){var be,ve,D;return ke!=null&&(be=ke.boundElements)!==null&&be!==void 0&&be.length&&(ke==null||(ve=ke.boundElements)===null||ve===void 0||(D=ve.filter(function(l){return l.type==="text"})[0])===null||D===void 0?void 0:D.id)||null},A=function(ke){if(!ke)return null;var be,ve=C(ke);return ve&&((be=a.Z.getScene(ke))===null||be===void 0?void 0:be.getElement(ve))||null},Y=function(ke){return ke&&ke.containerId&&((be=a.Z.getScene(ke))===null||be===void 0?void 0:be.getElement(ke.containerId))||null;var be},ie=function(ke,be){if(!(0,N.Yv)(ke))return{x:ke.x+ke.width/2,y:ke.y+ke.height/2};var ve=H._.getPointsGlobalCoordinates(ke);if(ve.length%2==1){var D=Math.floor(ke.points.length/2),l=H._.getPointGlobalCoordinates(ke,ke.points[D]);return{x:l[0],y:l[1]}}var d=ke.points.length/2-1,M=H._.getEditorMidPoints(ke,be)[d];return M||(M=H._.getSegmentMidPoint(ke,ve[d],ve[d+1],d+1)),{x:M[0],y:M[1]}},le=function(ke){var be=E.gK,ve=E.gK;return ke.type==="ellipse"&&(be+=ke.width/2*(1-Math.sqrt(2)/2),ve+=ke.height/2*(1-Math.sqrt(2)/2)),ke.type==="diamond"&&(be+=ke.width/4,ve+=ke.height/4),{x:ke.x+be,y:ke.y+ve}},ce=function(ke){var be=Y(ke);return!be||(0,N.Yv)(be)?ke.angle:be.angle},de=function(ke){return ke.some(function(be){if((0,N.Xh)(be)){var ve=Y(be);return!(0,u.iB)(be)||!(0,N.Yv)(ve)}return!1})},J=function(ke){return ke.some(function(be){if((0,N.Xh)(be)){var ve=Y(be);return!(0,u.iB)(be)||!(0,N.Yv)(ve)}return(0,u.iB)(be)})},ee=function(ke,be,ve,D){var l=(0,x.eD)(ke,be);if(l.length===1)return(0,N.mG)(l[0],!1)?l[0]:null;for(var d=null,M=ke.length-1;M>=0;--M)if(!ke[M].isDeleted){var V=(0,u.qf)(ke[M]),q=(0,_.Z)(V,4),re=q[0],ae=q[1],ge=q[2],Se=q[3];if((0,N.Yv)(ke[M])&&(0,m.Qu)(ke[M],be,null,[ve,D])){d=ke[M];break}if(re<ve&&ve<ge&&ae<D&&D<Se){d=ke[M];break}}return(0,N.mG)(d,!1)?d:null},he=new Set(["rectangle","ellipse","diamond","arrow"]),Pe=function(ke){return he.has(ke.type)},He=function(ke,be){ke=Math.ceil(ke);var ve=2*E.gK;return be==="ellipse"?Math.round((ke+ve)/Math.sqrt(2)*2):be==="arrow"?ke+8*ve:be==="diamond"?2*(ke+ve):ke+ve},Ke=function(ke){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A(ke),ve=ke.width;if((0,N.Yv)(ke)){var D,l=((D=be?.fontSize)!==null&&D!==void 0?D:E.n5)*E.vL;return Math.max(E.bY*ve,l)}return ke.type==="ellipse"?Math.round(ve/2*Math.sqrt(2))-2*E.gK:ke.type==="diamond"?Math.round(ve/2)-2*E.gK:ve-2*E.gK},Ae=function(ke,be){var ve=ke.height;return(0,N.Yv)(ke)?ve-8*E.gK*2<=0?be.height:ve:ke.type==="ellipse"?Math.round(ve/2*Math.sqrt(2))-2*E.gK:ke.type==="diamond"?Math.round(ve/2)-2*E.gK:ve-2*E.gK},Oe=function(){return b(z,(0,y.mO)({fontSize:E.n5,fontFamily:E.rk}))>0},Te=(e={},(0,p.Z)(e,E.ut.Virgil,1.25),(0,p.Z)(e,E.ut.Helvetica,1.15),(0,p.Z)(e,E.ut.Cascadia,1.2),e),De=function(ke){return ke in Te?Te[ke]:Te[E.rk]}},3474:function(Ze,te,t){t.d(te,{b_:function(){return F},eR:function(){return L},h_:function(){return $},kT:function(){return U}});var e=t(8950),_=t(7169),g=t(2577),p=t(2975),y=t.n(p),T=t(5491),E=t(9827),a=t(457),u=t(4183),N=t(9937),H=t(583),x=t(4761),m=t(3361),k=t(6006),Q=t(7422),ue=t(4694);function me(I,P){var w=Object.keys(I);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(I);P&&(f=f.filter(function(r){return Object.getOwnPropertyDescriptor(I,r).enumerable})),w.push.apply(w,f)}return w}function ye(I){for(var P=1;P<arguments.length;P++){var w=arguments[P]!=null?arguments[P]:{};P%2?me(Object(w),!0).forEach(function(f){(0,_.Z)(I,f,w[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(w)):me(Object(w)).forEach(function(f){Object.defineProperty(I,f,Object.getOwnPropertyDescriptor(w,f))})}return I}var fe=function(I,P,w,f,r,o){var b=f.zoom,s=180*w/Math.PI,c=I*(b.value-1)/2,S=P*(b.value-1)/2;return I>r&&b.value!==1&&(c=r*(b.value-1)/2),P>o&&b.value!==1&&(S=o*(b.value-1)/2),"translate(".concat(c,"px, ").concat(S,"px) scale(").concat(b.value,") rotate(").concat(s,"deg)")},G={},$=function(I,P){var w=G[I]||(G[I]={height:P});return w.height=P,w},U=function(I){G[I]&&delete G[I]},L=function(I){var P,w;return(P=(w=G[I])===null||w===void 0?void 0:w.height)!==null&&P!==void 0?P:null},F=function(I){var P=I.id,w=I.onChange,f=I.onSubmit,r=I.getViewportCoords,o=I.element,b=I.canvas,s=I.excalidrawContainer,c=I.app,S=function(){var Oe,Te=c.state,De=(Oe=a.Z.getScene(o))===null||Oe===void 0?void 0:Oe.getElement(P);if(De){var ke=De.textAlign,be=De.verticalAlign;if(De&&(0,u.iB)(De)){var ve=De.x,D=De.y,l=(0,x.tl)(De),d=De.width,M=De.height,V=De.width,q=De.height;if(l&&De.containerId){if((0,u.Yv)(l)){var re=Q._.getBoundTextElementPosition(l,De);ve=re.x,D=re.y}var ae,ge=function(at,dt){if(!dt.style.fontFamily||!dt.style.fontSize)return!1;var vt=dt.style.fontFamily.replace(/"/g,"");return(0,E.$g)({fontFamily:at.fontFamily})!==vt||"".concat(at.fontSize,"px")!==dt.style.fontSize}(De,z);if(ge?ae=$(l.id,l.height):(ae=G[l.id])||(ae=$(l.id,l.height)),d=(0,x.iZ)(l),M=(0,x.D9)(l,De),!(0,u.Yv)(l)&&q>M){var Se=(0,x.NS)(q,l.type);return void(0,H.DR)(l,{height:Se})}if(!(0,u.Yv)(l)&&l.height>ae.height&&q<M){var Re=(0,x.NS)(q,l.type);(0,H.DR)(l,{height:Re})}else D=(0,x.FE)(l,De).y}var Ye=r(ve,D),Ge=(0,g.Z)(Ye,2),We=Ge[0],qe=Ge[1],lt=z.selectionStart,ft=z.selectionEnd,ze=z.value.length;if(lt===ft&&ft!==ze){var we=ze-ft;z.selectionStart=z.value.length-we,z.selectionEnd=z.value.length-we}l?V+=.5:(d=(Te.width-8-We)/Te.zoom.value,V=Math.min(V,d));var Me=De.lineHeight;N.G6&&(Me=(0,x.$2)(ye(ye({},De),{},{fontSize:Math.round(De.fontSize)})));var $e=(Te.height-qe)/Te.zoom.value;Object.assign(z.style,{font:(0,E.mO)(De),lineHeight:Me,width:"".concat(V,"px"),height:"".concat(q,"px"),left:"".concat(We,"px"),top:"".concat(qe,"px"),transform:fe(V,q,(0,x.H_)(De),Te,d,$e),textAlign:ke,verticalAlign:be,color:De.strokeColor,opacity:De.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat($e,"px")}),z.scrollTop=0,(0,E.h2)()&&(z.style.fontFamily=(0,E.$g)(De)),(0,H.DR)(De,{x:ve,y:D})}}},z=document.createElement("textarea");z.dir="auto",z.tabIndex=0,z.dataset.type="wysiwyg",z.wrap="off",z.classList.add("excalidraw-wysiwyg");var B="pre",j="normal";(0,u.Xh)(o)&&(B="pre-wrap",j="break-word"),Object.assign(z.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:j,whiteSpace:B,overflowWrap:"break-word",boxSizing:"content-box"}),z.value=o.originalText,S(),w&&(z.onpaste=function(){var Oe=(0,e.Z)(y().mark(function Te(De){var ke,be,ve,D,l,d;return y().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,ue.mQ)(De,!0);case 2:if((ke=M.sent).text){M.next=5;break}return M.abrupt("return");case 5:if(be=(0,x.bG)(ke.text)){M.next=8;break}return M.abrupt("return");case 8:ve=(0,x.tl)(o),D=(0,E.mO)({fontSize:c.state.currentItemFontSize,fontFamily:c.state.currentItemFontFamily}),ve&&(l=(0,x.lD)("".concat(z.value).concat(be),D,(0,x.iZ)(ve)),d=(0,x.mY)(l,D),z.style.width="".concat(d,"px"));case 11:case"end":return M.stop()}},Te)}));return function(Te){return Oe.apply(this,arguments)}}(),z.oninput=function(){w((0,x.bG)(z.value))}),z.onkeydown=function(Oe){if(!Oe.shiftKey&&k.Lo.keyTest(Oe))Oe.preventDefault(),c.actionManager.executeAction(k.Lo),S();else if(!Oe.shiftKey&&k.CZ.keyTest(Oe))Oe.preventDefault(),c.actionManager.executeAction(k.CZ),S();else if(m.Tu.keyTest(Oe))c.actionManager.executeAction(m.Tu);else if(m.Zq.keyTest(Oe))c.actionManager.executeAction(m.Zq);else if(Oe.key===T.tW.ESCAPE)Oe.preventDefault(),de=!0,J();else if(Oe.key===T.tW.ENTER&&Oe[T.tW.CTRL_OR_CMD]){if(Oe.preventDefault(),Oe.isComposing||Oe.keyCode===229)return;de=!0,J()}else if(Oe.key===T.tW.TAB||Oe[T.tW.CTRL_OR_CMD]&&(Oe.code===T.aU.BRACKET_LEFT||Oe.code===T.aU.BRACKET_RIGHT)){if(Oe.preventDefault(),Oe.isComposing)return;Oe.shiftKey||Oe.code===T.aU.BRACKET_LEFT?ie():Y(),z.dispatchEvent(new Event("input"))}};var C=" ".repeat(4),A=new RegExp("^ {1,".concat(4,"}")),Y=function(){var Oe=z.selectionStart,Te=z.selectionEnd,De=le(),ke=z.value;De.forEach(function(be){var ve=ke.slice(0,be),D=ke.slice(be);ke="".concat(ve).concat(C).concat(D)}),z.value=ke,z.selectionStart=Oe+4,z.selectionEnd=Te+4*De.length},ie=function(){var Oe=z.selectionStart,Te=z.selectionEnd,De=le(),ke=[],be=z.value;De.forEach(function(ve){var D=be.slice(ve,ve+4).match(A);if(D){var l=be.slice(0,ve),d=be.slice(ve+D[0].length);be="".concat(l).concat(d),ke.push(ve)}}),z.value=be,ke.length&&(Oe>ke[ke.length-1]?z.selectionStart=Math.max(Oe-4,ke[ke.length-1]):z.selectionStart=Oe,z.selectionEnd=Math.max(z.selectionStart,Te-4*ke.length))},le=function(){var Oe=z.selectionStart,Te=z.selectionEnd,De=z.value,ke=De.slice(0,Oe).match(/[^\n]*$/)[0].length;return Oe-=ke,De.slice(Oe,Te).split(`
`).reduce(function(be,ve,D,l){return be.concat(D?be[D-1]+l[D-1].length+1:Oe)},[]).reverse()},ce=function(Oe){Oe.preventDefault(),Oe.stopPropagation()},de=!1,J=function(){var Oe;ee();var Te=(Oe=a.Z.getScene(o))===null||Oe===void 0?void 0:Oe.getElement(o.id);if(Te){var De=z.value,ke=(0,x.tl)(Te);if(ke){if(De=Te.text,z.value.trim()){var be=(0,x.xB)(ke);be&&be===o.id?(0,u.Yv)(ke)&&(0,H.ZP)(ke):(0,H.DR)(ke,{boundElements:(ke.boundElements||[]).concat({type:"text",id:o.id})})}else{var ve;(0,H.DR)(ke,{boundElements:(ve=ke.boundElements)===null||ve===void 0?void 0:ve.filter(function(D){return!(0,u.iB)(D)})})}(0,x.oN)(Te,ke)}f({text:De,viaKeyboard:de,originalText:z.value})}},ee=function(){Ke||(Ke=!0,z.onblur=null,z.oninput=null,z.onkeydown=null,Ae&&Ae.disconnect(),window.removeEventListener("resize",S),window.removeEventListener("wheel",ce,!0),window.removeEventListener("pointerdown",Pe),window.removeEventListener("pointerup",he),window.removeEventListener("blur",J),window.removeEventListener("beforeunload",J),He(),z.remove())},he=function Oe(Te){window.removeEventListener("pointerup",Oe);var De=Te?.target,ke=De instanceof HTMLElement&&De.classList.contains("active-color");setTimeout(function(){if(z.onblur=J,ke){var be=new MutationObserver(function(ve,D){ve.find(function(l){var d;return l.removedNodes.length>0&&((d=l.removedNodes[0].dataset)===null||d===void 0?void 0:d.radixPopperContentWrapper)!==void 0})&&(setTimeout(function(){z.focus()}),D.disconnect())});be.observe(document.querySelector(".excalidraw-container"),{childList:!0})}ke||z.focus()})},Pe=function(Oe){var Te=Oe.target instanceof HTMLElement&&Oe.target.classList.contains("active-color");((Oe.target instanceof HTMLElement||Oe.target instanceof SVGElement)&&Oe.target.closest(".".concat(N.$C.SHAPE_ACTIONS_MENU))&&!(0,E.s)(Oe.target)||Te)&&(z.onblur=null,window.addEventListener("pointerup",he),window.addEventListener("blur",J))},He=a.Z.getScene(o).addCallback(function(){var Oe;S(),!((Oe=document.activeElement)===null||Oe===void 0||!Oe.closest(".color-picker-content"))||z.focus()}),Ke=!1;z.select(),he();var Ae=null;b&&"ResizeObserver"in window?(Ae=new window.ResizeObserver(function(){S()})).observe(b):window.addEventListener("resize",S),window.addEventListener("pointerdown",Pe),window.addEventListener("wheel",ce,{passive:!1,capture:!0}),window.addEventListener("beforeunload",J),s?.querySelector(".excalidraw-textEditorContainer").appendChild(z)}},4048:function(Ze,te,t){t.d(te,{Fn:function(){return u},PC:function(){return Q},kK:function(){return k},oY:function(){return ue},ox:function(){return a}});var e=t(2577),_=t(4949),g=t(2361),p=t(7651),y=t(4183),T=t(7766),E={mouse:8,pen:16,touch:28},a={e:!0,s:!0,n:!0,w:!0},u={e:!0,s:!0,n:!0,w:!0,rotation:!0},N={e:!0,s:!0,n:!0,w:!0},H={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},x={e:!0,s:!0,n:!0,w:!0},m=function(me,ye,fe,G,$,U,L){var F=(0,g.U1)(me+fe/2,ye+G/2,$,U,L),I=(0,e.Z)(F,2);return[I[0]-fe/2,I[1]-G/2,fe,G]},k=function(me,ye,fe,G){var $=(0,e.Z)(me,6),U=$[0],L=$[1],F=$[2],I=$[3],P=$[4],w=$[5],f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,o=E[G],b=o/fe.value,s=o/fe.value,c=o/fe.value,S=o/fe.value,z=F-U,B=I-L,j=r/fe.value,C=(o-2*T.Lu)/(2*fe.value),A={nw:f.nw?void 0:m(U-j-c+C,L-j-S+C,b,s,P,w,ye),ne:f.ne?void 0:m(F+j-C,L-j-S+C,b,s,P,w,ye),sw:f.sw?void 0:m(U-j-c+C,I+j-C,b,s,P,w,ye),se:f.se?void 0:m(F+j-C,I+j-C,b,s,P,w,ye),rotation:f.rotation?void 0:m(U+z/2-b/2,L-j-S+C-16/fe.value,b,s,P,w,ye)},Y=5*E.mouse/fe.value;return Math.abs(z)>Y&&(f.n||(A.n=m(U+z/2-b/2,L-j-S+C,b,s,P,w,ye)),f.s||(A.s=m(U+z/2-b/2,I+j-C,b,s,P,w,ye))),Math.abs(B)>Y&&(f.w||(A.w=m(U-j-c+C,L+B/2-s/2,b,s,P,w,ye)),f.e||(A.e=m(F+j-C,L+B/2-s/2,b,s,P,w,ye))),A},Q=function(me,ye){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(me.locked)return{};var G={};if(me.type==="freedraw"||(0,y.bt)(me)){if(me.points.length===2){var $=(0,e.Z)(me.points,2),U=$[1];U[0]===0||U[1]===0?G=x:U[0]>0&&U[1]<0?G=H:U[0]>0&&U[1]>0?G=x:U[0]<0&&U[1]>0?G=H:U[0]<0&&U[1]<0&&(G=x)}}else(0,p.iB)(me)?G=N:(0,y.He)(me)&&(G={rotation:!0});var L=(0,y.bt)(me)?T.Lu+8:T.Lu;return k((0,_.qf)(me,!0),me.angle,ye,fe,G,L)},ue=function(me,ye){if(ye.editingLinearElement)return!1;if(me.length>1)return!0;var fe=me[0];return!(0,y.bt)(fe)||fe.points.length>2}},4183:function(Ze,te,t){t.d(te,{F9:function(){return a},He:function(){return E},Lx:function(){return k},Mn:function(){return m},QI:function(){return G},UQ:function(){return L},Xh:function(){return fe},Xo:function(){return ye},Yv:function(){return H},bt:function(){return N},dt:function(){return x},eK:function(){return U},f0:function(){return Q},gs:function(){return y},iB:function(){return T},mG:function(){return ue},pC:function(){return p},r2:function(){return me},wi:function(){return g}});var e=t(9937),_=t(9827),g=function(F){return!!F&&F.type==="image"&&!!F.fileId},p=function(F){return!!F&&F.type==="image"},y=function(F){return!!F&&F.type==="embeddable"},T=function(F){return F!=null&&F.type==="text"},E=function(F){return F!=null&&F.type==="frame"},a=function(F){return F!=null&&u(F.type)},u=function(F){return F==="freedraw"},N=function(F){return F!=null&&x(F.type)},H=function(F){return F!=null&&F.type==="arrow"},x=function(F){return F==="arrow"||F==="line"},m=function(F){var I=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return F!=null&&(!F.locked||I===!0)&&k(F.type)},k=function(F){return F==="arrow"},Q=function(F){var I=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(F==null||F.locked&&I!==!0||F.type!=="rectangle"&&F.type!=="diamond"&&F.type!=="ellipse"&&F.type!=="image"&&F.type!=="embeddable"&&F.type!=="frame"&&(F.type!=="text"||F.containerId))},ue=function(F){var I=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return F!=null&&(!F.locked||I===!0)&&(F.type==="rectangle"||F.type==="diamond"||F.type==="ellipse"||H(F))},me=function(F){var I=F?.type;if(!I)return!1;switch(I){case"text":case"diamond":case"rectangle":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"image":case"selection":return!0;default:return(0,_.vE)(I,null),!1}},ye=function(F){var I;return ue(F)&&!((I=F.boundElements)===null||I===void 0||!I.some(function(P){return P.type==="text"}))},fe=function(F){return F!==null&&"containerId"in F&&F.containerId!==null&&T(F)},G=function(F){return F==="rectangle"||F==="embeddable"},$=function(F){return F==="line"||F==="arrow"||F==="diamond"},U=function(F,I){return!(F!==e.a6.ADAPTIVE_RADIUS&&F!==e.a6.LEGACY||!G(I.type))||!(F!==e.a6.PROPORTIONAL_RADIUS||!$(I.type))},L=function(F){return $(F.type)?{type:e.a6.PROPORTIONAL_RADIUS}:G(F.type)?{type:e.a6.ADAPTIVE_RADIUS}:null}},3506:function(Ze,te,t){t.d(te,{_L:function(){return x},lp:function(){return H},jk:function(){return m}});var e=t(5169),_=t(8821),g=t(2248),p=t(7245),y=t(2312),T=t(5901);function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function a(k,Q,ue){return a=E()?Reflect.construct.bind():function(me,ye,fe){var G=[null];G.push.apply(G,ye);var $=new(Function.bind.apply(me,G));return fe&&(0,T.Z)($,fe.prototype),$},a.apply(null,arguments)}function u(k){var Q=typeof Map=="function"?new Map:void 0;return u=function(ue){if(ue===null||(me=ue,Function.toString.call(me).indexOf("[native code]")===-1))return ue;var me;if(typeof ue!="function")throw new TypeError("Super expression must either be null or a function");if(Q!==void 0){if(Q.has(ue))return Q.get(ue);Q.set(ue,ye)}function ye(){return a(ue,arguments,(0,y.Z)(this).constructor)}return ye.prototype=Object.create(ue.prototype,{constructor:{value:ye,enumerable:!1,writable:!0,configurable:!0}}),(0,T.Z)(ye,ue)},u(k)}function N(k){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ue,me=(0,y.Z)(k);if(Q){var ye=(0,y.Z)(this).constructor;ue=Reflect.construct(me,arguments,ye)}else ue=me.apply(this,arguments);return(0,p.Z)(this,ue)}}var H=function(k){(0,g.Z)(ue,k);var Q=N(ue);function ue(){var me,ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,_.Z)(this,ue),(me=Q.call(this)).name=fe,me.message=ye,me}return(0,e.Z)(ue)}(u(Error)),x=function(k){(0,g.Z)(ue,k);var Q=N(ue);function ue(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,_.Z)(this,ue),Q.call(this,me,"AbortError")}return(0,e.Z)(ue)}(u(DOMException)),m=function(k){(0,g.Z)(ue,k);var Q=N(ue);function ue(){var me,ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Image Scene Data Error",fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"IMAGE_SCENE_DATA_ERROR";return(0,_.Z)(this,ue),(me=Q.call(this,ye)).name="EncodingError",me.code=fe,me}return(0,e.Z)(ue)}(u(Error))},4682:function(Ze,te,t){t.d(te,{$Z:function(){return f},A_:function(){return r},Dn:function(){return $},Qs:function(){return B},SH:function(){return U},Tq:function(){return c},_h:function(){return I},cH:function(){return z},cO:function(){return G},fj:function(){return w},lz:function(){return o},ni:function(){return P},pr:function(){return s},wO:function(){return F},xr:function(){return Q},yZ:function(){return b},zD:function(){return L}});var e=t(1930),_=t(2577),g=t(7651),p=t(2361),y=t(4761),T=t(9827),E=t(583),a=t(4105),u=t(9215),N=t(457),H=t(4949),x=t(507);function m(j,C){var A=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!A){if(Array.isArray(j)||(A=function(J,ee){if(J){if(typeof J=="string")return k(J,ee);var he=Object.prototype.toString.call(J).slice(8,-1);if(he==="Object"&&J.constructor&&(he=J.constructor.name),he==="Map"||he==="Set")return Array.from(J);if(he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return k(J,ee)}}(j))||C){A&&(j=A);var Y=0,ie=function(){};return{s:ie,n:function(){return Y>=j.length?{done:!0}:{done:!1,value:j[Y++]}},e:function(J){throw J},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,ce=!0,de=!1;return{s:function(){A=A.call(j)},n:function(){var J=A.next();return ce=J.done,J},e:function(J){de=!0,le=J},f:function(){try{ce||A.return==null||A.return()}finally{if(de)throw le}}}}function k(j,C){(C==null||C>j.length)&&(C=j.length);for(var A=0,Y=new Array(C);A<C;A++)Y[A]=j[A];return Y}var Q=function(j,C,A){var Y,ie=(0,T.xn)(j),le=m(C);try{for(le.s();!(Y=le.n()).done;){var ce=Y.value;if(ce.frameId){var de=A.get(ce.id),J=A.get(ce.frameId);if(de){var ee=ie.get(de);ee&&(0,E.DR)(ee,{frameId:J??ce.frameId},!1)}}}}catch(he){le.e(he)}finally{le.f()}};function ue(j,C){var A=(0,H.GJ)(C),Y=(0,H.GJ)(j);return A.some(function(ie){return Y.some(function(le){return(0,x.y8)(ie,le)})})}var me=function(j,C){return S((0,a.Yp)(j,C,!1)).filter(function(A){return A.type!=="frame"&&!A.frameId||A.frameId===C.id})},ye=function(j,C,A){return(0,a.Yp)(j,C).some(function(Y){return Y.id===A.id})},fe=function(j,C){var A=(0,g.qf)(C),Y=(0,_.Z)(A,4),ie=Y[0],le=Y[1],ce=Y[2],de=Y[3],J=(0,g.KP)(j),ee=(0,_.Z)(J,4),he=ee[0],Pe=ee[1],He=ee[2],Ke=ee[3];return ie<=he&&le<=Pe&&ce>=He&&de>=Ke},G=function(j,C){return fe([j],C)||ue(j,C)||ye([C],j,C)},$=function(j,C){var A=(0,g.qf)(C),Y=(0,_.Z)(A,4),ie=Y[0],le=Y[1],ce=Y[2],de=Y[3];return(0,p.Ni)([ie,le],[j.x,j.y],[ce,de])},U=function(j){var C,A=new Map,Y=m(j);try{for(Y.s();!(C=Y.n()).done;){var ie=C.value,le=(0,g.He)(ie)?ie.id:ie.frameId;le&&!A.has(le)&&A.set(le,L(j,le))}}catch(ce){Y.e(ce)}finally{Y.f()}return A},L=function(j,C){return j.filter(function(A){return A.frameId===C})},F=function(j){return j.filter(function(C){return(0,g.He)(C)})},I=function(j){var C=(0,T.xn)(F(j));return j.filter(function(A){return C.has(A.id)||!A.frameId||!C.has(A.frameId)})},P=function(j,C,A){var Y,ie=L(j,C.id),le=new Set(ie),ce=new Set([].concat((0,e.Z)(me(j,C)),(0,e.Z)(ie.filter(function(qe){return ye(j,qe,C)})))),de=ie.filter(function(qe){return!ce.has(qe)}),J=new Set(Array.from(ce).flatMap(function(qe){return qe.groupIds})),ee=m(de);try{for(ee.s();!(Y=ee.n()).done;){var he=Y.value;if(ue(he,C)){if(he.groupIds.length>0){var Pe,He=m(he.groupIds);try{for(He.s();!(Pe=He.n()).done;){var Ke=Pe.value;J.add(Ke)}}catch(qe){He.e(qe)}finally{He.f()}}}else he.groupIds.length===0&&le.delete(he)}}catch(qe){ee.e(qe)}finally{ee.f()}var Ae,Oe=m(de);try{for(Oe.s();!(Ae=Oe.n()).done;){var Te=Ae.value;if(Te.groupIds.length>0){var De,ke=!0,be=m(Te.groupIds);try{for(be.s();!(De=be.n()).done;){var ve=De.value;J.has(ve)&&(ke=!1)}}catch(qe){be.e(qe)}finally{be.f()}ke&&le.delete(Te)}}}catch(qe){Oe.e(qe)}finally{Oe.f()}var D,l=Array.from(ce).filter(function(qe){return qe.groupIds.length===0}),d=m(l);try{for(d.s();!(D=d.n()).done;){var M=D.value;le.add(M)}}catch(qe){d.e(qe)}finally{d.f()}for(var V=Array.from(ce).filter(function(qe){return qe.groupIds.length>0}),q=(0,u.yR)(V,A),re=0,ae=Object.entries(q);re<ae.length;re++){var ge=(0,_.Z)(ae[re],2),Se=ge[0];if(ge[1]){var Re=(0,u.Fb)(j,Se);if(fe(Re,C)){var Ye,Ge=m(Re);try{for(Ge.s();!(Ye=Ge.n()).done;){var We=Ye.value;le.add(We)}}catch(qe){Ge.e(qe)}finally{Ge.f()}}}}return(0,e.Z)(le).filter(function(qe){return!((0,g.iB)(qe)&&qe.containerId)})},w=function(j,C){return S(j,me(j,C))},f=function(j,C){var A;return j.frameId?C?C.get(j.frameId)||null:((A=N.Z.getScene(j))===null||A===void 0?void 0:A.getElement(j.frameId))||null:null},r=function(j,C,A){var Y,ie=j.reduce(function(Ae,Oe,Te){return Oe.frameId===A.id&&Ae.currTargetFrameChildrenMap.set(Oe.id,!0),Ae},{currTargetFrameChildrenMap:new Map}),le=ie.currTargetFrameChildrenMap,ce=new Set(C.map(function(Ae){return Ae.id})),de=[],J=m(S(j,C));try{for(J.s();!(Y=J.n()).done;){var ee=Y.value;le.has(ee.id)||de.push(ee);var he=(0,y.WJ)(ee);!he||ce.has(he.id)||le.has(he.id)||de.push(he)}}catch(Ae){J.e(Ae)}finally{J.f()}for(var Pe=0,He=de;Pe<He.length;Pe++){var Ke=He[Pe];(0,E.DR)(Ke,{frameId:A.id},!1)}return j.slice()},o=function(j,C,A){var Y,ie=new Map,le=new Map,ce=m(C);try{for(ce.s();!(Y=ce.n()).done;){var de=Y.value;if(de.frameId){ie.set(de.id,de);var J=le.get(de.frameId)||[];J.push(de);var ee=(0,y.WJ)(de);ee&&(ie.set(ee.id,ee),J.push(ee)),le.set(de.frameId,J)}}}catch(Ke){ce.e(Ke)}finally{ce.f()}var he,Pe=m(ie);try{for(Pe.s();!(he=Pe.n()).done;){var He=(0,_.Z)(he.value,2)[1];(0,E.DR)(He,{frameId:null},!1)}}catch(Ke){Pe.e(Ke)}finally{Pe.f()}return j.slice()},b=function(j,C,A){var Y=L(j,C.id);return o(j,Y)},s=function(j,C,A,Y){return r(b(j,A),C,A)},c=function(j,C,A){var Y=A.scene.getSelectedElements({selectedElementIds:C.selectedElementIds,elements:j}),ie=new Set(Y);if(C.editingGroupId){var le,ce=m(Y);try{for(ce.s();!(le=ce.n()).done;){var de=le.value;de.groupIds.length===0?ie.add(de):de.groupIds.flatMap(function(ee){return(0,u.Fb)(j,ee)}).forEach(function(ee){return ie.add(ee)})}}catch(ee){ce.e(ee)}finally{ce.f()}}var J=new Set;return ie.forEach(function(ee){!ee.frameId||(0,g.He)(ee)||B(ee,j,C)||J.add(ee)}),J.size>0?o(j,(0,e.Z)(J)):j},S=function(j,C){var A,Y=new Set,ie=m(C||j);try{for(ie.s();!(A=ie.n()).done;){var le=A.value,ce=le.groupIds[le.groupIds.length-1];ce&&Y.add(ce)}}catch(Pe){ie.e(Pe)}finally{ie.f()}var de,J=new Set,ee=m(Y);try{for(ee.s();!(de=ee.n()).done;){var he=de.value;(0,u.Fb)(j,he).some(function(Pe){return(0,g.He)(Pe)})&&J.add(he)}}catch(Pe){ee.e(Pe)}finally{ee.f()}return(C||j).filter(function(Pe){return!J.has(Pe.groupIds[Pe.groupIds.length-1])})},z=function(j,C){var A=(0,g.iB)(j)&&(0,y.tl)(j)||j;return C.selectedElementIds[A.id]&&C.selectedElementsAreBeingDragged?C.frameToHighlight:f(A)},B=function(j,C,A){var Y=z(j,A),ie=(0,g.iB)(j)&&(0,y.tl)(j)||j;if(Y){if(!A.selectedElementIds[j.id]||!A.selectedElementsAreBeingDragged)return!0;if(ie.groupIds.length===0)return G(ie,Y);var le=new Set(ie.groupIds.flatMap(function(Ke){return(0,u.Fb)(C,Ke)}));if(A.editingGroupId&&A.selectedElementsAreBeingDragged){var ce=new Set((0,a.eD)(C,A));if(A.frameToHighlight!==null)return!0;ce.forEach(function(Ke){le.delete(Ke)})}var de,J=m(le);try{for(J.s();!(de=J.n()).done;){var ee=de.value;if((0,g.He)(ee))return!1}}catch(Ke){J.e(Ke)}finally{J.f()}var he,Pe=m(le);try{for(Pe.s();!(he=Pe.n()).done;){var He=he.value;if(G(He,Y))return!0}}catch(Ke){Pe.e(Ke)}finally{Pe.f()}}return!1}},9215:function(Ze,te,t){t.d(te,{AI:function(){return F},F$:function(){return H},Fb:function(){return fe},Nd:function(){return ye},Qy:function(){return $},S_:function(){return U},YS:function(){return G},bO:function(){return x},h6:function(){return L},iE:function(){return me},iJ:function(){return Q},yO:function(){return k},yR:function(){return ue},zq:function(){return m}});var e=t(1930),_=t(2577),g=t(7169),p=t(4105),y=t(4761),T=t(6264);function E(I,P){var w=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(!w){if(Array.isArray(I)||(w=function(c,S){if(c){if(typeof c=="string")return a(c,S);var z=Object.prototype.toString.call(c).slice(8,-1);if(z==="Object"&&c.constructor&&(z=c.constructor.name),z==="Map"||z==="Set")return Array.from(c);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return a(c,S)}}(I))||P){w&&(I=w);var f=0,r=function(){};return{s:r,n:function(){return f>=I.length?{done:!0}:{done:!1,value:I[f++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,b=!0,s=!1;return{s:function(){w=w.call(I)},n:function(){var c=w.next();return b=c.done,c},e:function(c){s=!0,o=c},f:function(){try{b||w.return==null||w.return()}finally{if(s)throw o}}}}function a(I,P){(P==null||P>I.length)&&(P=I.length);for(var w=0,f=new Array(P);w<P;w++)f[w]=I[w];return f}function u(I,P){var w=Object.keys(I);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(I);P&&(f=f.filter(function(r){return Object.getOwnPropertyDescriptor(I,r).enumerable})),w.push.apply(w,f)}return w}function N(I){for(var P=1;P<arguments.length;P++){var w=arguments[P]!=null?arguments[P]:{};P%2?u(Object(w),!0).forEach(function(f){(0,g.Z)(I,f,w[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(w)):u(Object(w)).forEach(function(f){Object.defineProperty(I,f,Object.getOwnPropertyDescriptor(w,f))})}return I}var H=function(I,P,w){var f=w.reduce(function(r,o){return o.groupIds.includes(I)&&(r[o.id]=!0),r},{});return Object.keys(f).length<2?P.selectedGroupIds[I]||P.editingGroupId===I?{selectedElementIds:P.selectedElementIds,selectedGroupIds:N(N({},P.selectedGroupIds),{},(0,g.Z)({},I,!1)),editingGroupId:null}:P:{editingGroupId:P.editingGroupId,selectedGroupIds:N(N({},P.selectedGroupIds),{},(0,g.Z)({},I,!0)),selectedElementIds:N(N({},P.selectedElementIds),f)}},x=function(){var I=null,P=null,w=null,f=function(r,o,b,s){var c=s?s.scene.getSelectedElements({selectedElementIds:r.selectedElementIds,elements:o}):(0,p.eD)(o,r);return c.length?function(S,z,B,j){var C;if(w!==void 0&&z===P&&S===I&&B.editingGroupId===((C=w)===null||C===void 0?void 0:C.editingGroupId))return w;var A,Y={},ie=E(S);try{for(ie.s();!(A=ie.n()).done;){var le=A.value.groupIds;if(B.editingGroupId){var ce=le.indexOf(B.editingGroupId);ce>-1&&(le=le.slice(0,ce))}if(le.length>0){var de=le[le.length-1];Y[de]=!0}}}catch(Ke){ie.e(Ke)}finally{ie.f()}for(var J={},ee=z.reduce(function(Ke,Ae){var Oe=Ae.groupIds.find(function(Te){return Y[Te]});return Oe&&(Ke[Ae.id]=!0,Array.isArray(J[Oe])?J[Oe].push(Ae.id):J[Oe]=[Ae.id]),Ke},{}),he=0,Pe=Object.keys(J);he<Pe.length;he++){var He=Pe[he];J[He].length<2&&Y[He]&&(Y[He]=!1)}return P=z,I=S,w={editingGroupId:B.editingGroupId,selectedGroupIds:Y,selectedElementIds:(0,T.Oh)(N(N({},B.selectedElementIds),ee),j)}}(c,o,r,b):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:(0,T.Oh)(r.selectedElementIds,b)}};return f.clearCache=function(){P=null,I=null,w=null},f}(),m=function(I,P){return k(I,P)!=null},k=function(I,P){return P.groupIds.filter(function(w){return w!==I.editingGroupId}).find(function(w){return I.selectedGroupIds[w]})},Q=function(I){return Object.entries(I.selectedGroupIds).filter(function(P){var w=(0,_.Z)(P,2);return w[0],w[1]}).map(function(P){var w=(0,_.Z)(P,2),f=w[0];return w[1],f})},ue=function(I,P){var w,f=N(N({},P),{},{selectedGroupIds:{}}),r=E(I);try{for(r.s();!(w=r.n()).done;){var o=w.value.groupIds;if(P.editingGroupId){var b=o.indexOf(P.editingGroupId);b>-1&&(o=o.slice(0,b))}if(o.length>0){var s=o[o.length-1];f=N(N({},f),H(s,f,I))}}}catch(c){r.e(c)}finally{r.f()}return f.selectedGroupIds},me=function(I,P){return N(N({},I),{},{editingGroupId:P.groupIds.length?P.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,g.Z)({},P.id,!0)})},ye=function(I,P){return I.groupIds.includes(P)},fe=function(I,P){return I.filter(function(w){return ye(w,P)})},G=function(I,P){return I.groupIds.find(function(w){return P[w]})},$=function(I,P,w){for(var f=(0,e.Z)(I),r=P?I.indexOf(P):-1,o=r>-1?r:I.length,b=0;b<o;b++)f[b]=w(f[b]);return f},U=function(I,P,w){var f=(0,e.Z)(I),r=w?f.indexOf(w):-1,o=r>-1?r:f.length;return f.splice(o,0,P),f},L=function(I,P){return I.filter(function(w){return!P[w]})},F=function(I){var P=new Map;return I.forEach(function(w){var f=w.groupIds.length===0?w.id:w.groupIds[w.groupIds.length-1],r=P.get(f)||[],o=(0,y.WJ)(w);o&&r.push(o),P.set(f,[].concat((0,e.Z)(r),[w]))}),Array.from(P.values())}},334:function(Ze,te,t){t.d(te,{F:function(){return T}});var e=t(1930),_=t(2577),g=t(9787),p=t(8242),y=t(100),T=function(E){var a=(0,g.useState)(null),u=(0,_.Z)(a,2),N=u[0],H=u[1],x=(0,p.Fy)(),m=(0,y.I)().theme,k=(0,p.J0)().container;return(0,g.useLayoutEffect)(function(){var Q,ue;N&&(N.className="",(Q=N.classList).add.apply(Q,["excalidraw"].concat((0,e.Z)((E==null||(ue=E.className)===null||ue===void 0?void 0:ue.split(/\s+/))||[]))),N.classList.toggle("excalidraw--mobile",x.editor.isMobile),N.classList.toggle("theme--dark",m==="dark"))},[N,m,x.editor.isMobile,E?.className]),(0,g.useLayoutEffect)(function(){var Q=E!=null&&E.parentSelector?k?.querySelector(E.parentSelector):document.body;if(Q){var ue=document.createElement("div");return Q.appendChild(ue),H(ue),function(){Q.removeChild(ue)}}},[k,E?.parentSelector]),N}},5832:function(Ze,te,t){t.d(te,{YX:function(){return N},mF:function(){return x},yT:function(){return m}});var e=t(2577),_=t(8950),g=t(2975),p=t.n(g),y=t(3607),T=t(9787),E=t(9240),a=t(453),u=t(507),N=(0,y.cn)(new Map),H=function(){var k=(0,_.Z)(p().mark(function Q(ue){return p().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,(0,u.$D)({elements:ue,appState:{exportBackground:!1,viewBackgroundColor:E.HO.white},files:null,renderEmbeddables:!1});case 2:return me.abrupt("return",me.sent);case 3:case"end":return me.stop()}},Q)}));return function(Q){return k.apply(this,arguments)}}(),x=function(k,Q,ue){var me=(0,T.useState)(),ye=(0,e.Z)(me,2),fe=ye[0],G=ye[1];return(0,T.useEffect)(function(){if(Q)if(k){var $=ue.get(k);$?G($):(0,_.Z)(p().mark(function U(){var L,F;return p().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,H(Q);case 2:F=I.sent,(L=F.querySelector(".style-fonts"))===null||L===void 0||L.remove(),F&&(ue.set(k,F),G(F));case 5:case"end":return I.stop()}},U)}))()}else(0,_.Z)(p().mark(function U(){var L;return p().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,H(Q);case 2:L=F.sent,G(L);case 4:case"end":return F.stop()}},U)}))()},[k,Q,ue,G]),fe},m=function(){var k=(0,y.KO)(N,a.yE),Q=(0,e.Z)(k,1)[0];return{clearLibraryCache:function(){return Q.clear()},deleteItemsFromLibraryCache:function(ue){ue.forEach(function(me){return Q.delete(me)})},svgCache:Q}}},1901:function(Ze,te,t){t.d(te,{O:function(){return g}});var e=t(9787),_=t(9937);function g(p,y,T){(0,e.useEffect)(function(){function E(a){var u=a;if(p.current){var N=T?.(u,p.current);if(N!==!0){if(N===!1)return y(u);!p.current.contains(u.target)&&document.documentElement.contains(u.target)&&(u.target.closest("[data-radix-portal]")||u.target===document.documentElement&&document.body.style.pointerEvents==="none"||u.target.closest("[data-prevent-outside-click]")||y(u))}}}return document.addEventListener(_.Ks.POINTER_DOWN,E),document.addEventListener(_.Ks.TOUCH_START,E),function(){document.removeEventListener(_.Ks.POINTER_DOWN,E),document.removeEventListener(_.Ks.TOUCH_START,E)}},[p,y,T])}},8227:function(Ze,te,t){t.d(te,{Fp:function(){return u},G3:function(){return Q},Mj:function(){return N},QT:function(){return fe},m0:function(){return k},t:function(){return me}});var e=t(8950),_=t(1930),g=t(2975),p=t.n(g),y=t(1463),T=t(4451),E=t(453),a=t(3607),u={code:"en",label:"English"},N=[u].concat((0,_.Z)([{code:"ar-SA",label:"",rtl:!0},{code:"bg-BG",label:""},{code:"ca-ES",label:"Catal"},{code:"cs-CZ",label:"esky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:""},{code:"es-ES",label:"Espaol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Franais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"",rtl:!0},{code:"hi-IN",label:""},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:""},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:" "},{code:"ko-KR",label:""},{code:"ku-TR",label:"Kurd"},{code:"lt-LT",label:"Lietuvi"},{code:"lv-LV",label:"Latvieu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokml"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:""},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugus Brasileiro"},{code:"pt-PT",label:"Portugus"},{code:"ro-RO",label:"Romn"},{code:"ru-RU",label:""},{code:"sk-SK",label:"Slovenina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenina"},{code:"tr-TR",label:"Trke"},{code:"uk-UA",label:""},{code:"zh-CN",label:""},{code:"zh-TW",label:""},{code:"vi-VN",label:"Ting Vit"},{code:"mr-IN",label:""}].filter(function(G){return T[G.code]>=85}).sort(function(G,$){return G.label>$.label?1:-1}))),H="__test__",x=u,m={},k=function(){var G=(0,e.Z)(p().mark(function $(U){return p().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(x=U,document.documentElement.dir=x.rtl?"rtl":"ltr",document.documentElement.lang=x.code,!U.code.startsWith(H)){L.next=7;break}m={},L.next=17;break;case 7:return L.prev=7,L.next=10,t(940)("./".concat(x.code,".json"));case 10:m=L.sent,L.next=17;break;case 13:L.prev=13,L.t0=L.catch(7),console.error("Failed to load language ".concat(U.code,":"),L.t0.message),m=y;case 17:E.e_.set(ye,U.code);case 18:case"end":return L.stop()}},$,null,[[7,13]])}));return function($){return G.apply(this,arguments)}}(),Q=function(){return x},ue=function(G,$){for(var U=0;U<$.length;++U){var L=$[U];if(G[L]===void 0)return;G=G[L]}if(typeof G=="string")return G},me=function(G,$,U){if(x.code.startsWith(H)){var L=$?"".concat(G,"(").concat(JSON.stringify($).slice(1,-1),")"):G;return"[[".concat(L,"]]")}var F=G.split("."),I=ue(m,F)||ue(y,F)||U;if(I===void 0){var P="Can't find translation for ".concat(G);return console.warn(P),""}if($)for(var w in $)I=I.replace("{{".concat(w,"}}"),String($[w]));return I},ye=(0,a.cn)(u.code),fe=function(){var G=(0,a.Dv)(ye,E.yE);return{t:me,langCode:G}}},453:function(Ze,te,t){t.d(te,{e_:function(){return g},yE:function(){return _}});var e=t(3607),_=(t(9787),Symbol()),g=(0,e.Vv)()},5491:function(Ze,te,t){t.d(te,{E0:function(){return T},Ge:function(){return E},OA:function(){return y},Wl:function(){return p},aU:function(){return _},tW:function(){return g}});var e=t(9937),_={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR",S:"KeyS"},g={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:e.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},p=function(a){return a===g.ARROW_LEFT||a===g.ARROW_RIGHT||a===g.ARROW_DOWN||a===g.ARROW_UP},y=function(a){return a.altKey},T=function(a){return a.shiftKey},E=function(a){return a.shiftKey}},2361:function(Ze,te,t){t.d(te,{EK:function(){return L},H5:function(){return u},Jj:function(){return U},LW:function(){return a},N_:function(){return ye},Ni:function(){return x},U1:function(){return y},Xt:function(){return P},c9:function(){return H},eH:function(){return G},ep:function(){return F},g6:function(){return N},lk:function(){return $},mW:function(){return I},wC:function(){return Q},xj:function(){return T},yB:function(){return me},yW:function(){return ue},yq:function(){return E}});var e=t(2577),_=t(9937),g=t(4949),p=t(2921),y=function(w,f,r,o,b){return[(w-r)*Math.cos(b)-(f-o)*Math.sin(b)+r,(w-r)*Math.sin(b)+(f-o)*Math.cos(b)+o]},T=function(w,f,r){return y(w[0],w[1],f[0],f[1],r)},E=function(w,f,r,o,b,s,c,S){var z=Math.cos(o),B=Math.sin(o);return w.e&&w.w?f+=b+c:w.e?(f+=b*(1+z),r+=b*B,f+=c*(1-z),r+=c*-B):w.w&&(f+=b*(1-z),r+=b*-B,f+=c*(1+z),r+=c*B),w.n&&w.s?r+=s+S:w.n?(f+=s*B,r+=s*(1-z),f+=S*-B,r+=S*(1+z)):w.s&&(f+=s*-B,r+=s*(1+z),f+=S*B,r+=S*(1-z)),[f,r]},a=function(w,f,r,o){var b=r-w,s=o-f;return Math.hypot(b,s)},u=function(w,f){return[(w[0]+f[0])/2,(w[1]+f[1])/2]},N=function(w){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(w.length>=3){var r=[w[0],w[w.length-1]],o=r[0],b=r[1],s=a(o[0],o[1],b[0],b[1]);return s<=_.qx/f}return!1},H=function(w,f,r){var o=w.length;if(o<3)return!1;for(var b=[Number.MAX_SAFE_INTEGER,r],s=[f,r],c=0,S=0;S<o;S++){var z=w[S],B=w[(S+1)%o];if(k(z,B,s,b)){if(m(z,s,B)===0)return x(z,s,B);c++}}return c%2==1},x=function(w,f,r){return f[0]<=Math.max(w[0],r[0])&&f[0]>=Math.min(w[0],r[0])&&f[1]<=Math.max(w[1],r[1])&&f[1]>=Math.min(w[1],r[1])},m=function(w,f,r){var o=(f[1]-w[1])*(r[0]-f[0])-(f[0]-w[0])*(r[1]-f[1]);return o===0?0:o>0?1:2},k=function(w,f,r,o){var b=m(w,f,r),s=m(w,f,o),c=m(r,o,w),S=m(r,o,f);return b!==s&&c!==S||!(b!==0||!x(w,r,f))||!(s!==0||!x(w,o,f))||!(c!==0||!x(r,w,o))||!(S!==0||!x(r,f,o))},Q=function(w,f,r){return r?[Math.round(w/r)*r,Math.round(f/r)*r]:[w,f]},ue=function(w,f){var r,o,b;if(((r=f.roundness)===null||r===void 0?void 0:r.type)===_.a6.PROPORTIONAL_RADIUS||((o=f.roundness)===null||o===void 0?void 0:o.type)===_.a6.LEGACY)return w*_.Rx;if(((b=f.roundness)===null||b===void 0?void 0:b.type)===_.a6.ADAPTIVE_RADIUS){var s,c,S=(s=(c=f.roundness)===null||c===void 0?void 0:c.value)!==null&&s!==void 0?s:_._9;return w<=S/_.Rx?w*_.Rx:S}return 0},me=function(w,f){var r=p.R.generateElementShape(w);if(!r)return null;for(var o=(0,g.CM)(r[0]),b=[0,0],s=0,c=1/0,S=null;s<o.length;){var z=o[s],B=z.op,j=z.data;if(B==="move"&&(b=j),B==="bcurveTo"){var C=b,A=[j[0],j[1]],Y=[j[2],j[3]],ie=[j[4],j[5]],le=a(ie[0],ie[1],f[0],f[1]);le<c&&(c=le,S=[C,A,Y,ie]),b=ie}s++}return S},ye=function(w,f,r,o,b){var s=function(c,S){return Math.pow(1-c,3)*o[S]+3*c*Math.pow(1-c,2)*r[S]+3*Math.pow(c,2)*(1-c)*f[S]+w[S]*Math.pow(c,3)};return[s(b,0),s(b,1)]},fe=function(w,f){var r=[];r[0]=0;for(var o=function(c,S){var z=me(c,S);if(!z)return[];for(var B=[],j=1;j>0;){var C=ye(z[0],z[1],z[2],z[3],j);B.push([C[0],C[1]]),j-=.05}return B.length&&U(B.at(-1),S)&&B.push([S[0],S[1]]),B}(w,f),b=0,s=0;b<o.length-1;)s+=a(o[b][0],o[b][1],o[b+1][0],o[b+1][1]),r.push(s),b++;return r},G=function(w,f){return fe(w,f).at(-1)},$=function(w,f,r){for(var o=fe(w,f),b=o.length-1,s=r*o.at(-1),c=0,S=b,z=0;c<S;)o[z=Math.floor(c+(S-c)/2)]<s?c=z+1:S=z;return o[z]>s&&z--,o[z]===s?z/b:1-(z+(s-o[z])/(o[z+1]-o[z]))/b},U=function(w,f){return w[0]===f[0]&&w[1]===f[1]},L=function(w){return Math.round(w/Math.PI*1e4)%5e3==0},F=function(w,f){var r=(0,e.Z)(w,2),o=r[0],b=r[1],s=(0,e.Z)(f,2),c=s[0],S=s[1];return o<=c?b>=c:o>=c&&S>=o},I=function(w,f){var r=Math.max(w[0],f[0]),o=Math.min(w[1],f[1]);return r<=o?[r,o]:null},P=function(w,f,r){return w>=f&&w<=r}},4864:function(Ze,te,t){t.d(te,{zx:function(){return ze.z},Or:function(){return _t.O},Eb:function(){return zn},ut:function(){return c.ut},$_:function(){return le},vO:function(){return Tt},LO:function(){return c.LO},lb:function(){return ce.Z},YE:function(){return pn.YE},C6:function(){return c.C6},B4:function(){return ft},ZP:function(){return Ht.ZP},wc:function(){return At.w},Fp:function(){return x.Fp},sQ:function(){return Mt.sQ},Xs:function(){return Mt.Xs},Fl:function(){return Kt.Fl},NL:function(){return Kt.NL},i1:function(){return Kt.i1},$D:function(){return Kt.$D},KP:function(){return It.KP},N7:function(){return Kt.N7},Lm:function(){return Et.Lm},Uo:function(){return Et.Uo},Ne:function(){return Mt.Ne},QD:function(){return Et.QD},bt:function(){return Gt.bt},Mj:function(){return x.Mj},cT:function(){return Kt.cT},lV:function(){return Kt.lV},ZY:function(){return Kt.ZY},zh:function(){return Kt.zh},DR:function(){return Ht.DR},BE:function(){return Ht.BE},$u:function(){return xt.$u},Di:function(){return $t.Di},nu:function(){return jt.nu},lY:function(){return jt.lY},ET:function(){return jt.ET},wJ:function(){return jt.wJ},_i:function(){return ue._i},I_:function(){return Kt.I_},NI:function(){return Kt.NI},Fy:function(){return Q.Fy},xS:function(){return $t.xS},QT:function(){return x.QT},dE:function(){return ue.dE}});var e=t(6479),_=t.n(e),g=t(9713),p=t.n(g),y=t(9787),T=t.n(y),E=t(8950),a=t(2577),u=t(2975),N=t.n(u),H=t(7165),x=t(8227),m=t(4512),k=function(un){var zt=(0,y.useState)(!0),en=(0,a.Z)(zt,2),Jt=en[0],Sn=en[1];return(0,y.useEffect)(function(){var Hn=function(){var or=(0,E.Z)(N().mark(function $n(){return N().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:return rn.next=2,(0,x.m0)(Yn);case 2:Sn(!1);case 3:case"end":return rn.stop()}},$n)}));return function(){return or.apply(this,arguments)}}(),Yn=x.Mj.find(function(or){return or.code===un.langCode})||x.Fp;Hn()},[un.langCode]),Jt?(0,m.jsx)(H.z,{theme:un.theme}):un.children},Q=t(8242),ue=t(9827),me=t(3379),ye=t.n(me),fe=t(7795),G=t.n(fe),$=t(569),U=t.n($),L=t(3565),F=t.n(L),I=t(9216),P=t.n(I),w=t(4589),f=t.n(w),r=t(9915),o={};o.styleTagTransform=f(),o.setAttributes=F(),o.insert=U().bind(null,"head"),o.domAPI=G(),o.insertStyleElement=P(),ye()(r.Z,o),r.Z&&r.Z.locals&&r.Z.locals;var b=t(9310),s={};s.styleTagTransform=f(),s.setAttributes=F(),s.insert=U().bind(null,"head"),s.domAPI=G(),s.insertStyleElement=P(),ye()(b.Z,s),b.Z&&b.Z.locals&&b.Z.locals;var c=t(9937),S=t(3607),z=t(453),B=t(45),j=t(4572),C=t(8793),A={};A.styleTagTransform=f(),A.setAttributes=F(),A.insert=U().bind(null,"head"),A.domAPI=G(),A.insertStyleElement=P(),ye()(C.Z,A),C.Z&&C.Z.locals&&C.Z.locals;var Y=t(100),ie=function(un){var zt=un.children,en=(0,j.R6)().FooterCenterTunnel,Jt=(0,Y.I)();return(0,m.jsx)(en.In,{children:(0,m.jsx)("div",{className:(0,B.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Jt.zenModeEnabled}),children:zt})})},le=ie;ie.displayName="FooterCenter";var ce=t(7021),de=t(7169),J=t(2726),ee=t(5463),he=t(2529),Pe=t(8935),He=t(5744),Ke={};Ke.styleTagTransform=f(),Ke.setAttributes=F(),Ke.insert=U().bind(null,"head"),Ke.domAPI=G(),Ke.insertStyleElement=P(),ye()(He.Z,Ke),He.Z&&He.Z.locals&&He.Z.locals;var Ae=function(){return(0,m.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,m.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})})},Oe=function(){return(0,m.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,m.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,m.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,m.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,m.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]})},Te=function(un){var zt=un.style,en=un.size,Jt=en===void 0?"small":en,Sn=un.withText;return(0,m.jsxs)("div",{className:"ExcalidrawLogo is-".concat(Jt),style:zt,children:[(0,m.jsx)(Ae,{}),Sn&&(0,m.jsx)(Oe,{})]})},De=["onSelect","children","icon","shortcut","className"],ke=["children","href","icon","shortcut","className"];function be(un,zt){var en=Object.keys(un);if(Object.getOwnPropertySymbols){var Jt=Object.getOwnPropertySymbols(un);zt&&(Jt=Jt.filter(function(Sn){return Object.getOwnPropertyDescriptor(un,Sn).enumerable})),en.push.apply(en,Jt)}return en}function ve(un){for(var zt=1;zt<arguments.length;zt++){var en=arguments[zt]!=null?arguments[zt]:{};zt%2?be(Object(en),!0).forEach(function(Jt){(0,de.Z)(un,Jt,en[Jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(un,Object.getOwnPropertyDescriptors(en)):be(Object(en)).forEach(function(Jt){Object.defineProperty(un,Jt,Object.getOwnPropertyDescriptor(en,Jt))})}return un}var D=function(un){var zt=un.icon,en=un.shortcut,Jt=un.children,Sn=(0,Q.Fy)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"welcome-screen-menu-item__icon",children:zt}),(0,m.jsx)("div",{className:"welcome-screen-menu-item__text",children:Jt}),en&&!Sn.editor.isMobile&&(0,m.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:en})]})};D.displayName="WelcomeScreenMenuItemContent";var l=function(un){var zt=un.onSelect,en=un.children,Jt=un.icon,Sn=un.shortcut,Hn=un.className,Yn=Hn===void 0?"":Hn,or=(0,J.Z)(un,De);return(0,m.jsx)("button",ve(ve({},or),{},{type:"button",className:"welcome-screen-menu-item ".concat(Yn),onClick:zt,children:(0,m.jsx)(D,{icon:Jt,shortcut:Sn,children:en})}))};l.displayName="WelcomeScreenMenuItem";var d=function(un){var zt=un.children,en=un.href,Jt=un.icon,Sn=un.shortcut,Hn=un.className,Yn=Hn===void 0?"":Hn,or=(0,J.Z)(un,ke);return(0,m.jsx)("a",ve(ve({},or),{},{className:"welcome-screen-menu-item ".concat(Yn),href:en,target:"_blank",rel:"noreferrer",children:(0,m.jsx)(D,{icon:Jt,shortcut:Sn,children:zt})}))};d.displayName="WelcomeScreenMenuItemLink";var M=function(un){var zt=un.children,en=(0,j.R6)().WelcomeScreenCenterTunnel;return(0,m.jsx)(en.In,{children:(0,m.jsx)("div",{className:"welcome-screen-center",children:zt||(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(V,{}),(0,m.jsx)(q,{children:(0,x.t)("welcomeScreen.defaults.center_heading")}),(0,m.jsxs)(re,{children:[(0,m.jsx)(ge,{}),(0,m.jsx)(ae,{})]})]})})})};M.displayName="Center";var V=function(un){var zt=un.children;return(0,m.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:zt||(0,m.jsx)(Te,{withText:!0})})};V.displayName="Logo";var q=function(un){var zt=un.children;return(0,m.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:zt})};q.displayName="Heading";var re=function(un){var zt=un.children;return(0,m.jsx)("div",{className:"welcome-screen-menu",children:zt})};re.displayName="Menu";var ae=function(){var un=(0,Q.eh)();return(0,m.jsx)(l,{onSelect:function(){return un.executeAction(ee.jY)},shortcut:"?",icon:Pe.by,children:(0,x.t)("helpDialog.title")})};ae.displayName="MenuItemHelp";var ge=function(){var un=(0,Y.I)(),zt=(0,Q.eh)();return un.viewModeEnabled?null:(0,m.jsx)(l,{onSelect:function(){return zt.executeAction(ee._d)},shortcut:(0,he.C)("loadScene"),icon:Pe.Tl,children:(0,x.t)("buttons.load")})};ge.displayName="MenuItemLoadScene";var Se=function(un){var zt=un.onSelect,en=(0,x.QT)().t;return(0,m.jsx)(l,{shortcut:null,onSelect:zt,icon:Pe.jn,children:en("labels.liveCollaboration")})};Se.displayName="MenuItemLiveCollaborationTrigger",M.Logo=V,M.Heading=q,M.Menu=re,M.MenuItem=l,M.MenuItemLink=d,M.MenuItemHelp=ae,M.MenuItemLoadScene=ge,M.MenuItemLiveCollaborationTrigger=Se;var Re=function(un){var zt=un.children,en=(0,j.R6)().WelcomeScreenMenuHintTunnel;return(0,m.jsx)(en.In,{children:(0,m.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[Pe.oQ,(0,m.jsx)("div",{className:"welcome-screen-decor-hint__label",children:zt||(0,x.t)("welcomeScreen.defaults.menuHint")})]})})};Re.displayName="MenuHint";var Ye=function(un){var zt=un.children,en=(0,j.R6)().WelcomeScreenToolbarHintTunnel;return(0,m.jsx)(en.In,{children:(0,m.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,m.jsx)("div",{className:"welcome-screen-decor-hint__label",children:zt||(0,x.t)("welcomeScreen.defaults.toolbarHint")}),Pe.DJ]})})};Ye.displayName="ToolbarHint";var Ge=function(un){var zt=un.children,en=(0,j.R6)().WelcomeScreenHelpHintTunnel;return(0,m.jsx)(en.In,{children:(0,m.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,m.jsx)("div",{children:zt||(0,x.t)("welcomeScreen.defaults.helpHint")}),Pe._U]})})};Ge.displayName="HelpHint";var We=t(1569),qe={};qe.styleTagTransform=f(),qe.setAttributes=F(),qe.insert=U().bind(null,"head"),qe.domAPI=G(),qe.insertStyleElement=P(),ye()(We.Z,qe),We.Z&&We.Z.locals&&We.Z.locals;var lt=function(un){return(0,m.jsx)(m.Fragment,{children:un.children||(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(M,{}),(0,m.jsx)(Re,{}),(0,m.jsx)(Ye,{}),(0,m.jsx)(Ge,{})]})})};lt.displayName="WelcomeScreen",lt.Center=M,lt.Hints={MenuHint:Re,ToolbarHint:Ye,HelpHint:Ge};var ft=lt,ze=t(8806),we=t(3397),Me={};Me.styleTagTransform=f(),Me.setAttributes=F(),Me.insert=U().bind(null,"head"),Me.domAPI=G(),Me.insertStyleElement=P(),ye()(we.Z,Me),we.Z&&we.Z.locals&&we.Z.locals;var $e=["isCollaborating","onSelect"];function at(un,zt){var en=Object.keys(un);if(Object.getOwnPropertySymbols){var Jt=Object.getOwnPropertySymbols(un);zt&&(Jt=Jt.filter(function(Sn){return Object.getOwnPropertyDescriptor(un,Sn).enumerable})),en.push.apply(en,Jt)}return en}function dt(un){for(var zt=1;zt<arguments.length;zt++){var en=arguments[zt]!=null?arguments[zt]:{};zt%2?at(Object(en),!0).forEach(function(Jt){(0,de.Z)(un,Jt,en[Jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(un,Object.getOwnPropertyDescriptors(en)):at(Object(en)).forEach(function(Jt){Object.defineProperty(un,Jt,Object.getOwnPropertyDescriptor(en,Jt))})}return un}var vt=function(un){var zt=un.isCollaborating,en=un.onSelect,Jt=(0,J.Z)(un,$e),Sn=(0,Y.I)();return(0,m.jsxs)(ze.z,dt(dt({},Jt),{},{className:(0,B.Z)("collab-button",{active:zt}),type:"button",onSelect:en,style:{position:"relative"},title:(0,x.t)("labels.liveCollaboration"),children:[Pe.jn,Sn.collaborators.size>0&&(0,m.jsx)("div",{className:"CollabButton-collaborators",children:Sn.collaborators.size})]}))},Tt=vt;vt.displayName="LiveCollaborationTrigger";var Et=t(7651),jt=t(7994),Kt=t(507),Gt=t(4183),Ht=t(583),$t=t(9326),pn=t(5902),_t=t(1925),xt=t(8020),At=t(6199),It=t(4949),Mt=t(6013),Nt=["initialData","UIOptions"],Yt=["initialData","UIOptions"];function ln(un,zt){var en=Object.keys(un);if(Object.getOwnPropertySymbols){var Jt=Object.getOwnPropertySymbols(un);zt&&(Jt=Jt.filter(function(Sn){return Object.getOwnPropertyDescriptor(un,Sn).enumerable})),en.push.apply(en,Jt)}return en}function an(un){for(var zt=1;zt<arguments.length;zt++){var en=arguments[zt]!=null?arguments[zt]:{};zt%2?ln(Object(en),!0).forEach(function(Jt){p()(un,Jt,en[Jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(un,Object.getOwnPropertyDescriptors(en)):ln(Object(en)).forEach(function(Jt){Object.defineProperty(un,Jt,Object.getOwnPropertyDescriptor(en,Jt))})}return un}var kn=function(un){var zt,en,Jt,Sn,Hn,Yn,or=un.onChange,$n=un.initialData,rn=un.excalidrawAPI,Pt=un.isCollaborating,Dt=Pt!==void 0&&Pt,Ft=un.onPointerUpdate,dn=un.renderTopRightUI,jn=un.langCode,Cn=jn===void 0?x.Fp.code:jn,Dn=un.viewModeEnabled,Wn=un.zenModeEnabled,Ln=un.gridModeEnabled,er=un.libraryReturnUrl,Vn=un.theme,Pn=un.name,Rn=un.renderCustomStats,Nn=un.onPaste,Gn=un.detectScroll,nr=Gn===void 0||Gn,rr=un.handleKeyboardGlobally,Or=rr!==void 0&&rr,Xr=un.onLibraryChange,po=un.autoFocus,xo=po!==void 0&&po,jo=un.generateIdForFile,ho=un.onLinkOpen,Qr=un.onPointerDown,go=un.onScrollChange,et=un.children,Ee=un.validateEmbeddable,Le=un.renderEmbeddable,Ue=(zt=un.UIOptions)===null||zt===void 0?void 0:zt.canvasActions,st=an(an({},un.UIOptions),{},{canvasActions:an(an({},c.cW.canvasActions),Ue),tools:{image:(en=(Jt=un.UIOptions)===null||Jt===void 0||(Sn=Jt.tools)===null||Sn===void 0?void 0:Sn.image)===null||en===void 0||en}});return Ue!=null&&Ue.export&&(st.canvasActions.export.saveFileToDisk=(Hn=(Yn=Ue.export)===null||Yn===void 0?void 0:Yn.saveFileToDisk)!==null&&Hn!==void 0?Hn:c.cW.canvasActions.export.saveFileToDisk),st.canvasActions.toggleTheme===null&&Vn===void 0&&(st.canvasActions.toggleTheme=!0),(0,y.useEffect)(function(){var Zt=function(qt){typeof qt.scale=="number"&&qt.scale!==1&&qt.preventDefault()};return document.addEventListener("touchmove",Zt,{passive:!1}),function(){document.removeEventListener("touchmove",Zt)}},[]),(0,m.jsx)(S.zt,{unstable_createStore:function(){return z.e_},scope:z.yE,children:(0,m.jsx)(k,{langCode:Cn,theme:Vn,children:(0,m.jsx)(Q.ZP,{onChange:or,initialData:$n,excalidrawAPI:rn,isCollaborating:Dt,onPointerUpdate:Ft,renderTopRightUI:dn,langCode:Cn,viewModeEnabled:Dn,zenModeEnabled:Wn,gridModeEnabled:Ln,libraryReturnUrl:er,theme:Vn,name:Pn,renderCustomStats:Rn,UIOptions:st,onPaste:Nn,detectScroll:nr,handleKeyboardGlobally:Or,onLibraryChange:Xr,autoFocus:xo,generateIdForFile:jo,onLinkOpen:ho,onPointerDown:Qr,onScrollChange:go,validateEmbeddable:Ee,renderEmbeddable:Le,children:et})})})},Tn=function(un,zt){if(un.children!==zt.children)return!1;un.initialData;var en=un.UIOptions,Jt=en===void 0?{}:en,Sn=_()(un,Nt),Hn=(zt.initialData,zt.UIOptions),Yn=Hn===void 0?{}:Hn,or=_()(zt,Yt),$n=Object.keys(Jt),rn=Object.keys(Yn);return $n.length===rn.length&&$n.every(function(Pt){return Pt==="canvasActions"?Object.keys(Jt.canvasActions).every(function(Dt){var Ft,dn,jn,Cn;return Dt==="export"&&Jt!=null&&(Ft=Jt.canvasActions)!==null&&Ft!==void 0&&Ft.export&&Yn!=null&&(dn=Yn.canvasActions)!==null&&dn!==void 0&&dn.export?Jt.canvasActions.export.saveFileToDisk===Yn.canvasActions.export.saveFileToDisk:(Jt==null||(jn=Jt.canvasActions)===null||jn===void 0?void 0:jn[Dt])===(Yn==null||(Cn=Yn.canvasActions)===null||Cn===void 0?void 0:Cn[Dt])}):Jt[Pt]===Yn[Pt]})&&(0,ue.w8)(Sn,or)},zn=T().memo(kn,Tn);zn.displayName="Excalidraw"},507:function(Ze,te,t){t.d(te,{y8:function(){return ye},Fl:function(){return I},NL:function(){return F},i1:function(){return w},$D:function(){return P},N7:function(){return G.N7},cT:function(){return fe.cT},lV:function(){return fe.lV},ZY:function(){return fe.ZY},zh:function(){return $.zh},I_:function(){return N.I_},NI:function(){return N.NI}});var e=t(8950),_=t(7169),g=t(2975),p=t.n(g),y=t(3668),T=t(6853),E=t(7994),a=t(9937),u=t(250),N=t(4419),H=t(4694);function x(f){return[Math.min(f[0][0],f[1][0]),Math.min(f[0][1],f[1][1]),Math.max(f[0][0],f[1][0]),Math.max(f[0][1],f[1][1])]}function m(f,r){return f[0]*r[1]-r[0]*f[1]}function k(f,r){return[f[0]-r[0],f[1]-r[1]]}function Q(f,r){var o=m(k(f[1],f[0]),k(r,f[0]));return Math.abs(o)<1e-6}function ue(f,r){return m(k(f[1],f[0]),k(r,f[0]))<0}function me(f,r){return Q(f,r[0])||Q(f,r[1])||(ue(f,r[0])?!ue(f,r[1]):ue(f,r[1]))}function ye(f,r){return function(o,b){return o[0]<=b[2]&&o[2]>=b[0]&&o[1]<=b[3]&&o[3]>=b[1]}(x(f),x(r))&&me(f,r)&&me(r,f)}t(6013);var fe=t(5796),G=t(9660),$=t(9326);function U(f,r){var o=Object.keys(f);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(f);r&&(b=b.filter(function(s){return Object.getOwnPropertyDescriptor(f,s).enumerable})),o.push.apply(o,b)}return o}function L(f){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?U(Object(o),!0).forEach(function(b){(0,_.Z)(f,b,o[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(o)):U(Object(o)).forEach(function(b){Object.defineProperty(f,b,Object.getOwnPropertyDescriptor(o,b))})}return f}var F=function(f){var r=f.elements,o=f.appState,b=f.files,s=f.maxWidthOrHeight,c=f.getDimensions,S=f.exportPadding,z=f.exportingFrame,B=(0,E.nu)({elements:r,appState:o},null,null),j=B.elements,C=B.appState,A=C.exportBackground,Y=C.viewBackgroundColor;return(0,y.NL)(j,L(L({},C),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),b||{},{exportBackground:A,exportPadding:S,viewBackgroundColor:Y,exportingFrame:z},function(ie,le){var ce,de=document.createElement("canvas");if(s){var J;typeof c=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var ee=Math.max(ie,le),he=s<ee?s/ee:(J=o?.exportScale)!==null&&J!==void 0?J:1;return de.width=ie*he,de.height=le*he,{canvas:de,scale:he}}var Pe=c?.(ie,le)||{width:ie,height:le};return de.width=Pe.width,de.height=Pe.height,{canvas:de,scale:(ce=Pe.scale)!==null&&ce!==void 0?ce:1}})},I=function(){var f=(0,e.Z)(p().mark(function r(o){var b,s,c,S,z,B;return p().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return c=(s=o).mimeType,S=c===void 0?a.LO.png:c,z=s.quality,S===a.LO.png&&typeof z=="number"&&console.warn('"quality" will be ignored for "'.concat(a.LO.png,'" mimeType')),S==="image/jpg"&&(S=a.LO.jpg),S!==a.LO.jpg||(b=o.appState)!==null&&b!==void 0&&b.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(a.LO.jpg,'" mimeType')),o=L(L({},o),{},{appState:L(L({},o.appState),{},{exportBackground:!0})})),j.next=6,F(o);case 6:return B=j.sent,z=z||(/image\/jpe?g/.test(S)?.92:.8),j.abrupt("return",new Promise(function(C,A){B.toBlob(function(){var Y=(0,e.Z)(p().mark(function ie(le){var ce;return p().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(le){de.next=2;break}return de.abrupt("return",A(new Error("couldn't export to blob")));case 2:if(!le||S!==a.LO.png||(ce=o.appState)===null||ce===void 0||!ce.exportEmbedScene){de.next=6;break}return de.next=5,(0,u.encodePngMetadata)({blob:le,metadata:(0,N.I_)(o.elements,o.appState,o.files||{},"local")});case 5:le=de.sent;case 6:C(le);case 7:case"end":return de.stop()}},ie)}));return function(ie){return Y.apply(this,arguments)}}(),S,z)}));case 9:case"end":return j.stop()}},r)}));return function(r){return f.apply(this,arguments)}}(),P=function(){var f=(0,e.Z)(p().mark(function r(o){var b,s,c,S,z,B,j,C,A,Y,ie,le;return p().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return b=o.elements,s=o.appState,c=s===void 0?(0,T.im)():s,S=o.files,z=S===void 0?{}:S,B=o.exportPadding,j=o.renderEmbeddables,C=o.exportingFrame,A=(0,E.nu)({elements:b,appState:c},null,null),Y=A.elements,ie=A.appState,le=L(L({},ie),{},{exportPadding:B}),ce.abrupt("return",(0,y.$D)(Y,le,z,{exportingFrame:C,renderEmbeddables:j}));case 4:case"end":return ce.stop()}},r)}));return function(r){return f.apply(this,arguments)}}(),w=function(){var f=(0,e.Z)(p().mark(function r(o){var b;return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o.type!=="svg"){s.next=8;break}return s.next=3,P(o);case 3:return b=s.sent,s.next=6,(0,H.dd)(b.outerHTML);case 6:case 11:case 16:s.next=19;break;case 8:if(o.type!=="png"){s.next=13;break}return s.next=11,(0,H.uR)(I(o));case 13:if(o.type!=="json"){s.next=18;break}return s.next=16,(0,H.vQ)(o.elements,o.files);case 18:throw new Error("Invalid export type");case 19:case"end":return s.stop()}},r)}));return function(r){return f.apply(this,arguments)}}()},6013:function(Ze,te,t){t.d(te,{Ne:function(){return u},Xs:function(){return H},sQ:function(){return N}});var e=t(2577),_=t(4183),g=t(2361),p=t(4949);function y(x,m){var k=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!k){if(Array.isArray(x)||(k=function(G,$){if(G){if(typeof G=="string")return T(G,$);var U=Object.prototype.toString.call(G).slice(8,-1);if(U==="Object"&&G.constructor&&(U=G.constructor.name),U==="Map"||U==="Set")return Array.from(G);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return T(G,$)}}(x))||m){k&&(x=k);var Q=0,ue=function(){};return{s:ue,n:function(){return Q>=x.length?{done:!0}:{done:!1,value:x[Q++]}},e:function(G){throw G},f:ue}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me,ye=!0,fe=!1;return{s:function(){k=k.call(x)},n:function(){var G=k.next();return ye=G.done,G},e:function(G){fe=!0,me=G},f:function(){try{ye||k.return==null||k.return()}finally{if(fe)throw me}}}}function T(x,m){(m==null||m>x.length)&&(m=x.length);for(var k=0,Q=new Array(m);k<m;k++)Q[k]=x[k];return Q}var E=function(x){var m=x.reduce(function(k,Q){var ue=(0,e.Z)(Q,2),me=ue[0],ye=ue[1];return k.minY=Math.min(k.minY,ye),k.minX=Math.min(k.minX,me),k.maxX=Math.max(k.maxX,me),k.maxY=Math.max(k.maxY,ye),k},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return m.cx=(m.maxX+m.minX)/2,m.cy=(m.maxY+m.minY)/2,m},a=function(x){var m=function(U){return(0,_.bt)(U)||(0,_.F9)(U)?U.points:function(L){return L.type==="diamond"?[[L.width/2,0],[L.width,L.height/2],[L.width/2,L.height],[0,L.height/2]]:[[0,0],[0+L.width,0],[0+L.width,L.height],[0,L.height]]}(U)}(x),k=E(m),Q=[k.cx,k.cy],ue=m.map(function(U){return(0,g.xj)([U[0],U[1]],Q,x.angle)}),me=E(ue),ye=me.minX,fe=me.minY,G=me.maxX,$=me.maxY;return[ye+x.x,fe+x.y,G+x.x,$+x.y]},u=function(x,m){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Q=a(x),ue=m[0]<=Q[0]&&m[2]>=Q[2]&&m[1]<=Q[1]&&m[3]>=Q[3];return k?!!ue||Q[0]<=m[0]&&Q[2]>=m[2]&&Q[1]<=m[1]&&Q[3]>=m[3]:ue},N=function(x,m){var k=a(x);return((0,g.Xt)(k[0],m[0],m[2])||(0,g.Xt)(m[0],k[0],k[2]))&&((0,g.Xt)(k[1],m[1],m[3])||(0,g.Xt)(m[1],k[1],k[3]))},H=function(x){var m=x.elements,k=x.bounds,Q=x.type,ue=x.errorMargin,me=ue===void 0?0:ue;(0,_.r2)(k)&&(k=(0,p.Pi)(k));var ye,fe=[k[0]-me,k[1]-me,k[2]+me,k[3]+me],G=new Set,$=y(m);try{for($.s();!(ye=$.n()).done;){var U=ye.value;if(!G.has(U.id)&&(Q==="overlap"?N(U,fe):Q==="inside"?u(U,fe):u(U,fe,!0))){if(G.add(U.id),U.boundElements){var L,F=y(U.boundElements);try{for(F.s();!(L=F.n()).done;){var I=L.value;G.add(I.id)}}catch(w){F.e(w)}finally{F.f()}}var P;(0,_.iB)(U)&&U.containerId&&G.add(U.containerId),(0,_.Yv)(U)&&(U.startBinding&&G.add(U.startBinding.elementId),U.endBinding&&G.add((P=U.endBinding)===null||P===void 0?void 0:P.elementId))}}}catch(w){$.e(w)}finally{$.f()}return m.filter(function(w){return G.has(w.id)})}},5999:function(Ze,te,t){t.d(te,{k:function(){return _},z:function(){return g}});var e=t(1930),_=function(p){var y=p.map(function(E){return E[0]}),T=p.map(function(E){return E[1]});return{width:Math.max.apply(Math,(0,e.Z)(y))-Math.min.apply(Math,(0,e.Z)(y)),height:Math.max.apply(Math,(0,e.Z)(T))-Math.min.apply(Math,(0,e.Z)(T))}},g=function(p,y,T,E){var a=T.map(function(ue){return ue[p]}),u=Math.max.apply(Math,(0,e.Z)(a)),N=Math.min.apply(Math,(0,e.Z)(a)),H=u-N,x=H===0?1:y/H,m=1/0,k=T.map(function(ue){var me=ue[p]*x,ye=(0,e.Z)(ue);return ye[p]=me,me<m&&(m=me),ye});if(!E||k.length===2)return k;var Q=N-m;return k.map(function(ue){return ue.map(function(me,ye){return ye===p?me+Q:me})})}},4643:function(Ze,te,t){t.d(te,{LU:function(){return T},kb:function(){return E}});var e=t(8152),_=t(5605),g=t(9827),p=new e.k(Date.now()),y=0,T=function(){return Math.floor(p.next()*Math.pow(2,31))},E=function(){return(0,g.h2)()?"id".concat(y++):(0,_.x0)()}},9660:function(Ze,te,t){t.d(te,{Dn:function(){return ie},Xx:function(){return J},Lc:function(){return De},N7:function(){return ke},lw:function(){return He},Rg:function(){return Oe},uI:function(){return Pe}});var e=t(7169),_=t(2577),g=t(4183),p=t(4949),y=t(9827),T=t(2361),E=t(9845),a=t(6853),u=t(9937);function N(D,l,d,M=V=>V){return D*M(.5-l*(.5-d))}function H(D,l){return[D[0]+l[0],D[1]+l[1]]}function x(D,l){return[D[0]-l[0],D[1]-l[1]]}function m(D,l){return[D[0]*l,D[1]*l]}function k(D){return[D[1],-D[0]]}function Q(D,l){return D[0]*l[0]+D[1]*l[1]}function ue(D,l){return D[0]===l[0]&&D[1]===l[1]}function me(D,l){return function(d){return d[0]*d[0]+d[1]*d[1]}(x(D,l))}function ye(D){return function(l,d){return[l[0]/d,l[1]/d]}(D,function(l){return Math.hypot(l[0],l[1])}(D))}function fe(D,l){return Math.hypot(D[1]-l[1],D[0]-l[0])}function G(D,l,d){let M=Math.sin(d),V=Math.cos(d),q=D[0]-l[0],re=D[1]-l[1],ae=q*M+re*V;return[q*V-re*M+l[0],ae+l[1]]}function $(D,l,d){return H(D,m(x(l,D),d))}function U(D,l,d){return H(D,m(l,d))}var{min:L,PI:F}=Math,I=F+1e-4;function P(D,l={}){return function(d,M={}){let{size:V=16,smoothing:q=.5,thinning:re=.5,simulatePressure:ae=!0,easing:ge=It=>It,start:Se={},end:Re={},last:Ye=!1}=M,{cap:Ge=!0,easing:We=It=>It*(2-It)}=Se,{cap:qe=!0,easing:lt=It=>--It*It*It+1}=Re;if(d.length===0||V<=0)return[];let ft,ze=d[d.length-1].runningLength,we=Se.taper===!1?0:Se.taper===!0?Math.max(V,ze):Se.taper,Me=Re.taper===!1?0:Re.taper===!0?Math.max(V,ze):Re.taper,$e=Math.pow(V*q,2),at=[],dt=[],vt=d.slice(0,10).reduce((It,Mt)=>{let Nt=Mt.pressure;if(ae){let Yt=L(1,Mt.distance/V),ln=L(1,1-Yt);Nt=L(1,It+.275*Yt*(ln-It))}return(It+Nt)/2},d[0].pressure),Tt=N(V,re,d[d.length-1].pressure,ge),Et=d[0].vector,jt=d[0].point,Kt=jt,Gt=jt,Ht=Kt,$t=!1;for(let It=0;It<d.length;It++){let{pressure:Mt}=d[It],{point:Nt,vector:Yt,distance:ln,runningLength:an}=d[It];if(It<d.length-1&&ze-an<3)continue;if(re){if(ae){let Jt=L(1,ln/V),Sn=L(1,1-Jt);Mt=L(1,vt+.275*Jt*(Sn-vt))}Tt=N(V,re,Mt,ge)}else Tt=V/2;ft===void 0&&(ft=Tt);let kn=an<we?We(an/we):1,Tn=ze-an<Me?lt((ze-an)/Me):1;Tt=Math.max(.01,Tt*Math.min(kn,Tn));let zn=(It<d.length-1?d[It+1]:d[It]).vector,un=It<d.length-1?Q(Yt,zn):1,zt=un!==null&&un<0;if(Q(Yt,Et)<0&&!$t||zt){let Jt=m(k(Et),Tt);for(let Sn=.07692307692307693,Hn=0;Hn<=1;Hn+=Sn)Gt=G(x(Nt,Jt),Nt,I*Hn),at.push(Gt),Ht=G(H(Nt,Jt),Nt,I*-Hn),dt.push(Ht);jt=Gt,Kt=Ht,zt&&($t=!0);continue}if($t=!1,It===d.length-1){let Jt=m(k(Yt),Tt);at.push(x(Nt,Jt)),dt.push(H(Nt,Jt));continue}let en=m(k($(zn,Yt,un)),Tt);Gt=x(Nt,en),(It<=1||me(jt,Gt)>$e)&&(at.push(Gt),jt=Gt),Ht=H(Nt,en),(It<=1||me(Kt,Ht)>$e)&&(dt.push(Ht),Kt=Ht),vt=Mt,Et=Yt}let pn=d[0].point.slice(0,2),_t=d.length>1?d[d.length-1].point.slice(0,2):H(d[0].point,[1,1]),xt=[],At=[];if(d.length===1){if(!we&&!Me||Ye){let It=U(pn,ye(k(x(pn,_t))),-(ft||Tt)),Mt=[];for(let Nt=.07692307692307693,Yt=Nt;Yt<=1;Yt+=Nt)Mt.push(G(It,pn,2*I*Yt));return Mt}}else{if(!(we||Me&&d.length===1))if(Ge)for(let Mt=.07692307692307693,Nt=Mt;Nt<=1;Nt+=Mt){let Yt=G(dt[0],pn,I*Nt);xt.push(Yt)}else{let Mt=x(at[0],dt[0]),Nt=m(Mt,.5),Yt=m(Mt,.51);xt.push(x(pn,Nt),x(pn,Yt),H(pn,Yt),H(pn,Nt))}let It=k(function(Mt){return[-Mt[0],-Mt[1]]}(d[d.length-1].vector));if(Me||we&&d.length===1)At.push(_t);else if(qe){let Mt=U(_t,It,Tt);for(let Nt=.034482758620689655,Yt=Nt;Yt<1;Yt+=Nt)At.push(G(Mt,_t,3*I*Yt))}else At.push(H(_t,m(It,Tt)),H(_t,m(It,.99*Tt)),x(_t,m(It,.99*Tt)),x(_t,m(It,Tt)))}return at.concat(At,dt.reverse(),xt)}(function(d,M={}){var V;let{streamline:q=.5,size:re=16,last:ae=!1}=M;if(d.length===0)return[];let ge=.15+.85*(1-q),Se=Array.isArray(d[0])?d:d.map(({x:lt,y:ft,pressure:ze=.5})=>[lt,ft,ze]);if(Se.length===2){let lt=Se[1];Se=Se.slice(0,-1);for(let ft=1;ft<5;ft++)Se.push($(Se[0],lt,ft/4))}Se.length===1&&(Se=[...Se,[...H(Se[0],[1,1]),...Se[0].slice(2)]]);let Re=[{point:[Se[0][0],Se[0][1]],pressure:Se[0][2]>=0?Se[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],Ye=!1,Ge=0,We=Re[0],qe=Se.length-1;for(let lt=1;lt<Se.length;lt++){let ft=ae&&lt===qe?Se[lt].slice(0,2):$(We.point,Se[lt],ge);if(ue(We.point,ft))continue;let ze=fe(ft,We.point);if(Ge+=ze,lt<qe&&!Ye){if(Ge<re)continue;Ye=!0}We={point:ft,pressure:Se[lt][2]>=0?Se[lt][2]:.5,vector:ye(x(We.point,ft)),distance:ze,runningLength:Ge},Re.push(We)}return Re[0].vector=((V=Re[1])==null?void 0:V.vector)||[0,0],Re}(D,l),l)}var w=t(4761),f=t(7422),r=t(761),o=t(4682),b=t(8020),s=t(2921);function c(D,l){var d=Object.keys(D);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(D);l&&(M=M.filter(function(V){return Object.getOwnPropertyDescriptor(D,V).enumerable})),d.push.apply(d,M)}return d}function S(D){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?c(Object(d),!0).forEach(function(M){(0,e.Z)(D,M,d[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(d)):c(Object(d)).forEach(function(M){Object.defineProperty(D,M,Object.getOwnPropertyDescriptor(d,M))})}return D}var z="invert(100%) hue-rotate(180deg) saturate(1.25)",B=(0,a.im)(),j=function(D,l){return(0,g.wi)(D)&&!l.imageCache.has(D.fileId)},C=function(D,l,d){var M;return d.theme==="dark"&&(0,g.wi)(D)&&!j(D,l)&&((M=l.imageCache.get(D.fileId))===null||M===void 0?void 0:M.mimeType)!==u.LO.svg},A=function(D){return D.type==="freedraw"?12*D.strokeWidth:20},Y=function(D,l,d,M){var V,q,re=document.createElement("canvas"),ae=re.getContext("2d"),ge=A(D),Se=function($e,at){var dt=16777216,vt=32767,Tt=A($e),Et=(0,p.qf)($e),jt=(0,_.Z)(Et,4),Kt=jt[0],Gt=jt[1],Ht=jt[2],$t=jt[3],pn=(0,g.bt)($e)||(0,g.F9)($e)?(0,y.TE)(Kt,Ht):$e.width,_t=(0,g.bt)($e)||(0,g.F9)($e)?(0,y.TE)(Gt,$t):$e.height,xt=pn*window.devicePixelRatio+2*Tt,At=_t*window.devicePixelRatio+2*Tt,It=at.value;return(xt*It>vt||At*It>vt)&&(It=Math.min(vt/xt,vt/At)),xt*At*It*It>dt&&(It=Math.sqrt(dt/(xt*At))),{width:xt=Math.floor(xt*It),height:At=Math.floor(At*It),scale:It}}(D,l),Re=Se.width,Ye=Se.height,Ge=Se.scale;re.width=Re,re.height=Ye;var We=0,qe=0;if((0,g.bt)(D)||(0,g.F9)(D)){var lt=(0,p.qf)(D),ft=(0,_.Z)(lt,2),ze=ft[0],we=ft[1];We=D.x>ze?(0,y.TE)(D.x,ze)*window.devicePixelRatio*Ge:0,qe=D.y>we?(0,y.TE)(D.y,we)*window.devicePixelRatio*Ge:0,ae.translate(We,qe)}ae.save(),ae.translate(ge*Ge,ge*Ge),ae.scale(window.devicePixelRatio*Ge,window.devicePixelRatio*Ge);var Me=E.Z.canvas(re);return C(D,d,M)&&(ae.filter=z),de(D,Me,ae,d,M),ae.restore(),{element:D,canvas:re,theme:M.theme,scale:Ge,zoomValue:l.value,canvasOffsetX:We,canvasOffsetY:qe,boundTextElementVersion:((V=(0,w.WJ)(D))===null||V===void 0?void 0:V.version)||null,containingFrameOpacity:((q=(0,o.$Z)(D))===null||q===void 0?void 0:q.opacity)||100}},ie=14,le=document.createElement("img");le.src="data:".concat(u.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var ce=document.createElement("img");ce.src="data:".concat(u.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var de=function(D,l,d,M,V){var q,re;switch(d.globalAlpha=((q=(re=(0,o.$Z)(D))===null||re===void 0?void 0:re.opacity)!==null&&q!==void 0?q:100)*D.opacity/1e4,D.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":d.lineJoin="round",d.lineCap="round",l.draw(s.R.get(D));break;case"arrow":case"line":d.lineJoin="round",d.lineCap="round",s.R.get(D).forEach(function(we){l.draw(we)});break;case"freedraw":d.save(),d.fillStyle=D.strokeColor;var ae=function(we){return Te.get(we)}(D),ge=s.R.get(D);ge&&l.draw(ge),d.fillStyle=D.strokeColor,d.fill(ae),d.restore();break;case"image":var Se,Re=(0,g.wi)(D)?(Se=M.imageCache.get(D.fileId))===null||Se===void 0?void 0:Se.image:void 0;Re==null||Re instanceof Promise?function(we,Me,$e){Me.fillStyle="#E7E7E7",Me.fillRect(0,0,we.width,we.height);var at=Math.min(we.width,we.height),dt=Math.min(at,Math.min(.4*at,100));Me.drawImage(we.status==="error"?ce:le,we.width/2-dt/2,we.height/2-dt/2,dt,dt)}(D,d,V.zoom.value):d.drawImage(Re,0,0,D.width,D.height);break;default:if(!(0,g.iB)(D))throw new Error("Unimplemented type ".concat(D.type));var Ye=(0,y.dZ)(D.text),Ge=Ye&&!d.canvas.isConnected;Ge&&document.body.appendChild(d.canvas),d.canvas.setAttribute("dir",Ye?"rtl":"ltr"),d.save(),d.font=(0,y.mO)(D),d.fillStyle=D.strokeColor,d.textAlign=D.textAlign;for(var We=D.text.replace(/\r\n?/g,`
`).split(`
`),qe=D.textAlign==="center"?D.width/2:D.textAlign==="right"?D.width:0,lt=(0,w.Rg)(D.fontSize,D.lineHeight),ft=D.height-D.baseline,ze=0;ze<We.length;ze++)d.fillText(We[ze],qe,(ze+1)*lt-ft);d.restore(),Ge&&d.canvas.remove()}d.globalAlpha=1},J=new WeakMap,ee=function(D,l,d){var M,V,q=l?d.zoom:B.zoom,re=J.get(D),ae=re&&re.zoomValue!==q.value&&!(d!=null&&d.shouldCacheIgnoreZoom),ge=((M=(0,w.WJ)(D))===null||M===void 0?void 0:M.version)||null,Se=((V=(0,o.$Z)(D))===null||V===void 0?void 0:V.opacity)||100;if(!re||ae||re.theme!==d.theme||re.boundTextElementVersion!==ge||re.containingFrameOpacity!==Se){var Re=Y(D,q,l,d);return J.set(D,Re),Re}return re},he=function(D,l,d,M){var V=D.element,q=A(V),re=D.scale,ae=(0,p.qf)(V),ge=(0,_.Z)(ae,4),Se=ge[0],Re=ge[1],Ye=ge[2],Ge=ge[3];(0,g.F9)(V)&&(Se=Math.floor(Se),Ye=Math.ceil(Ye),Re=Math.floor(Re),Ge=Math.ceil(Ge));var We=((Se+Ye)/2+M.scrollX)*window.devicePixelRatio,qe=((Re+Ge)/2+M.scrollY)*window.devicePixelRatio;l.save(),l.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var lt=(0,w.WJ)(V);if((0,g.Yv)(V)&&lt){var ft=document.createElement("canvas"),ze=ft.getContext("2d"),we=Math.max((0,y.TE)(Se,Ye),(0,y.TE)(Re,Ge));ft.width=we*window.devicePixelRatio*re+q*D.scale*10,ft.height=we*window.devicePixelRatio*re+q*D.scale*10;var Me=(ft.width-D.canvas.width)/2,$e=(ft.height-D.canvas.height)/2;ze.translate(ft.width/2,ft.height/2),ze.rotate(V.angle),ze.drawImage(D.canvas,-D.canvas.width/2,-D.canvas.height/2,D.canvas.width,D.canvas.height);var at=(0,p.qf)(lt),dt=(0,_.Z)(at,6),vt=dt[4],Tt=dt[5];ze.rotate(-V.angle);var Et=ft.width/2-(vt-Se)*window.devicePixelRatio*re-Me-q*re,jt=ft.height/2-(Tt-Re)*window.devicePixelRatio*re-$e-q*re;ze.translate(-Et,-jt),ze.clearRect(-(lt.width/2+u.gK)*window.devicePixelRatio*re,-(lt.height/2+u.gK)*window.devicePixelRatio*re,(lt.width+2*u.gK)*window.devicePixelRatio*re,(lt.height+2*u.gK)*window.devicePixelRatio*re),l.translate(We,qe),l.drawImage(ft,-(Ye-Se)/2*window.devicePixelRatio-Me/re-q,-(Ge-Re)/2*window.devicePixelRatio-$e/re-q,ft.width/re,ft.height/re)}else if(l.translate(We,qe),l.rotate(V.angle),"scale"in D.element&&!j(V,d)&&l.scale(D.element.scale[0],D.element.scale[1]),l.translate(-We,-qe),l.drawImage(D.canvas,(Se+M.scrollX)*window.devicePixelRatio-q*D.scale/D.scale,(Re+M.scrollY)*window.devicePixelRatio-q*D.scale/D.scale,D.canvas.width/D.scale,D.canvas.height/D.scale),{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,g.Xo)(V)){var Kt=(0,w.WJ)(V),Gt=(0,w.cw)(V);l.strokeStyle="#c92a2a",l.lineWidth=3,l.strokeRect((Gt.x+M.scrollX)*window.devicePixelRatio,(Gt.y+M.scrollY)*window.devicePixelRatio,(0,w.iZ)(V)*window.devicePixelRatio,(0,w.D9)(V,Kt)*window.devicePixelRatio)}l.restore()},Pe=function(D,l,d){l.save(),l.translate(D.x+d.scrollX,D.y+d.scrollY),l.fillStyle="rgba(0, 0, 200, 0.04)";var M=.5/d.zoom.value;l.fillRect(M,M,D.width,D.height),l.lineWidth=1/d.zoom.value,l.strokeStyle=" rgb(105, 101, 219)",l.strokeRect(M,M,D.width,D.height),l.restore()},He=function(D,l,d,M,V){switch(D.type){case"frame":V.frameRendering.enabled&&V.frameRendering.outline&&(d.save(),d.translate(D.x+V.scrollX,D.y+V.scrollY),d.fillStyle="rgba(0, 0, 200, 0.04)",d.lineWidth=u.iG.strokeWidth/V.zoom.value,d.strokeStyle=u.iG.strokeColor,u.iG.radius&&d.roundRect?(d.beginPath(),d.roundRect(0,0,D.width,D.height,u.iG.radius/V.zoom.value),d.stroke(),d.closePath()):d.strokeRect(0,0,D.width,D.height),d.restore());break;case"freedraw":if(s.R.generateElementShape(D),M.isExporting){var q=(0,p.qf)(D),re=(0,_.Z)(q,4),ae=re[0],ge=re[1],Se=re[2],Re=re[3],Ye=(ae+Se)/2+V.scrollX,Ge=(ge+Re)/2+V.scrollY,We=(Se-ae)/2-(D.x-ae),qe=(Re-ge)/2-(D.y-ge);d.save(),d.translate(Ye,Ge),d.rotate(D.angle),d.translate(-We,-qe),de(D,l,d,M,V),d.restore()}else{var lt=ee(D,M,V);he(lt,d,M,V)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"embeddable":if(s.R.generateElementShape(D,M.isExporting),M.isExporting){var ft=(0,p.qf)(D),ze=(0,_.Z)(ft,4),we=ze[0],Me=ze[1],$e=ze[2],at=ze[3],dt=(we+$e)/2+V.scrollX,vt=(Me+at)/2+V.scrollY,Tt=($e-we)/2-(D.x-we),Et=(at-Me)/2-(D.y-Me);if((0,g.iB)(D)){var jt=(0,w.tl)(D);if((0,g.Yv)(jt)){var Kt=f._.getBoundTextElementPosition(jt,D);Tt=($e-we)/2-(Kt.x-we),Et=(at-Me)/2-(Kt.y-Me)}}d.save(),d.translate(dt,vt),C(D,M,V)&&(d.filter="none");var Gt=(0,w.WJ)(D);if((0,g.Yv)(D)&&Gt){var Ht=document.createElement("canvas"),$t=Ht.getContext("2d"),pn=Math.max((0,y.TE)(we,$e),(0,y.TE)(Me,at)),_t=A(D);Ht.width=pn*V.exportScale+10*_t*V.exportScale,Ht.height=pn*V.exportScale+10*_t*V.exportScale,$t.translate(Ht.width/2,Ht.height/2),$t.scale(V.exportScale,V.exportScale),Tt=D.width/2-(D.x-we),Et=D.height/2-(D.y-Me),$t.rotate(D.angle);var xt=E.Z.canvas(Ht);$t.translate(-Tt,-Et),de(D,xt,$t,M,V),$t.translate(Tt,Et),$t.rotate(-D.angle);var At=(0,p.qf)(Gt),It=(0,_.Z)(At,6),Mt=(we+$e)/2-It[4],Nt=(Me+at)/2-It[5];$t.translate(-Mt,-Nt),$t.clearRect(-Gt.width/2,-Gt.height/2,Gt.width,Gt.height),d.scale(1/V.exportScale,1/V.exportScale),d.drawImage(Ht,-Ht.width/2,-Ht.height/2,Ht.width,Ht.height)}else d.rotate(D.angle),D.type==="image"&&d.scale(D.scale[0],D.scale[1]),d.translate(-Tt,-Et),de(D,l,d,M,V);d.restore()}else{var Yt=ee(D,M,V),ln=d.imageSmoothingEnabled;V!=null&&V.shouldCacheIgnoreZoom||D.angle&&!(0,T.EK)(D.angle)||(d.imageSmoothingEnabled=!1),he(Yt,d,M,V),d.imageSmoothingEnabled=ln}break;default:throw new Error("Unimplemented type ".concat(D.type))}},Ke=function(D,l,d){if(d===void 0)return D.draw(l);var M={sets:l.sets,shape:l.shape,options:S(S({},l.options),{},{fixedDecimalPlaceDigits:d})};return D.draw(M)},Ae=function(D,l,d,M){if(!M.enabled||!M.clip)return null;var V=(0,o.$Z)(D);if(V){var q=l.ownerDocument.createElementNS(u.hR,"g");return q.setAttributeNS(u.hR,"clip-path","url(#".concat(V.id,")")),d.forEach(function(re){return q.appendChild(re)}),q}return null},Oe=function D(l,d,M,V,q,re,ae){var ge,Se,Re=q,Ye=re,Ge=(0,p.qf)(l),We=(0,_.Z)(Ge,4),qe=We[0],lt=We[1],ft=We[2],ze=We[3],we=(ft-qe)/2-(l.x-qe),Me=(ze-lt)/2-(l.y-lt);if((0,g.iB)(l)){var $e=(0,w.tl)(l);if((0,g.Yv)($e)){var at=(0,p.qf)($e),dt=(0,_.Z)(at,4),vt=dt[0],Tt=dt[1],Et=dt[2],jt=dt[3],Kt=f._.getBoundTextElementPosition($e,l);we=(Et-vt)/2-(Kt.x-vt),Me=(jt-Tt)/2-(Kt.y-Tt),q=q+Kt.x-l.x,re=re+Kt.y-l.y}}var Gt=180*l.angle/Math.PI,Ht=M;if(l.link){var $t=M.ownerDocument.createElementNS(u.hR,"a");$t.setAttribute("href",(0,b.$u)(l.link)),Ht.appendChild($t),Ht=$t}var pn=function(go,et){(0,y.h2)()&&go.setAttribute("data-id",et.id),Ht.appendChild(go)},_t=((ge=(Se=(0,o.$Z)(l))===null||Se===void 0?void 0:Se.opacity)!==null&&ge!==void 0?ge:100)*l.opacity/1e4;switch(l.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var xt=s.R.generateElementShape(l),At=Ke(d,xt,u.zK);_t!==1&&(At.setAttribute("stroke-opacity","".concat(_t)),At.setAttribute("fill-opacity","".concat(_t))),At.setAttribute("stroke-linecap","round"),At.setAttribute("transform","translate(".concat(q||0," ").concat(re||0,") rotate(").concat(Gt," ").concat(we," ").concat(Me,")")),pn(Ae(l,Ht,[At],ae.frameRendering)||At,l);break;case"embeddable":var It=s.R.generateElementShape(l,!0),Mt=Ke(d,It,u.zK),Nt=l.opacity/100;Nt!==1&&(Mt.setAttribute("stroke-opacity","".concat(Nt)),Mt.setAttribute("fill-opacity","".concat(Nt))),Mt.setAttribute("stroke-linecap","round"),Mt.setAttribute("transform","translate(".concat(q||0," ").concat(re||0,") rotate(").concat(Gt," ").concat(we," ").concat(Me,")")),pn(Mt,l);var Yt=(0,r.g0)(l);D(Yt,d,Ht,V,Yt.x+Re-l.x,Yt.y+Ye-l.y,ae);var ln=Ke(d,It,u.zK);for(ln.setAttribute("stroke-linecap","round"),ln.setAttribute("transform","translate(".concat(q||0," ").concat(re||0,") rotate(").concat(Gt," ").concat(we," ").concat(Me,")"));ln.firstChild;)ln.removeChild(ln.firstChild);var an=(0,T.yW)(Math.min(l.width,l.height),l),kn=(0,r.LM)((0,b.ye)(l.link||""));if(ae.renderEmbeddables===!1||kn?.type==="document"){var Tn=M.ownerDocument.createElementNS(u.hR,"a");Tn.setAttribute("href",(0,b.$u)(l.link||"")),Tn.setAttribute("target","_blank"),Tn.setAttribute("rel","noopener noreferrer"),Tn.style.borderRadius="".concat(an,"px"),ln.appendChild(Tn)}else{var zn,un=M.ownerDocument.createElementNS(u.hR,"foreignObject");un.style.width="".concat(l.width,"px"),un.style.height="".concat(l.height,"px"),un.style.border="none";var zt=un.ownerDocument.createElementNS(u.hR,"div");zt.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),zt.style.width="100%",zt.style.height="100%";var en=zt.ownerDocument.createElement("iframe");en.src=(zn=kn?.link)!==null&&zn!==void 0?zn:"",en.style.width="100%",en.style.height="100%",en.style.border="none",en.style.borderRadius="".concat(an,"px"),en.style.top="0",en.style.left="0",en.allowFullscreen=!0,zt.appendChild(en),un.appendChild(zt),ln.appendChild(un)}pn(ln,l);break;case"line":case"arrow":var Jt=(0,w.WJ)(l),Sn=M.ownerDocument.createElementNS(u.hR,"mask");if(Jt){Sn.setAttribute("id","mask-".concat(l.id));var Hn=M.ownerDocument.createElementNS(u.hR,"rect");q=q||0,re=re||0,Hn.setAttribute("x","0"),Hn.setAttribute("y","0"),Hn.setAttribute("fill","#fff"),Hn.setAttribute("width","".concat(l.width+100+q)),Hn.setAttribute("height","".concat(l.height+100+re)),Sn.appendChild(Hn);var Yn=M.ownerDocument.createElementNS(u.hR,"rect"),or=f._.getBoundTextElementPosition(l,Jt),$n=q+or.x-l.x,rn=re+or.y-l.y;Yn.setAttribute("x",$n.toString()),Yn.setAttribute("y",rn.toString()),Yn.setAttribute("fill","#000"),Yn.setAttribute("width","".concat(Jt.width)),Yn.setAttribute("height","".concat(Jt.height)),Yn.setAttribute("opacity","1"),Sn.appendChild(Yn)}var Pt=M.ownerDocument.createElementNS(u.hR,"g");Jt&&Pt.setAttribute("mask","url(#mask-".concat(l.id,")")),Pt.setAttribute("stroke-linecap","round"),s.R.generateElementShape(l).forEach(function(go){var et=Ke(d,go,u.zK);_t!==1&&(et.setAttribute("stroke-opacity","".concat(_t)),et.setAttribute("fill-opacity","".concat(_t))),et.setAttribute("transform","translate(".concat(q||0," ").concat(re||0,") rotate(").concat(Gt," ").concat(we," ").concat(Me,")")),l.type==="line"&&(0,T.g6)(l.points)&&l.backgroundColor!=="transparent"&&et.setAttribute("fill-rule","evenodd"),Pt.appendChild(et)});var Dt=Ae(l,Ht,[Pt,Sn],ae.frameRendering);Dt?(pn(Dt,l),Ht.appendChild(Dt)):(pn(Pt,l),Ht.append(Sn));break;case"freedraw":var Ft=s.R.generateElementShape(l),dn=Ft?Ke(d,Ft,u.zK):M.ownerDocument.createElementNS(u.hR,"g");_t!==1&&(dn.setAttribute("stroke-opacity","".concat(_t)),dn.setAttribute("fill-opacity","".concat(_t))),dn.setAttribute("transform","translate(".concat(q||0," ").concat(re||0,") rotate(").concat(Gt," ").concat(we," ").concat(Me,")")),dn.setAttribute("stroke","none");var jn=M.ownerDocument.createElementNS(u.hR,"path");jn.setAttribute("fill",l.strokeColor),jn.setAttribute("d",ke(l)),dn.appendChild(jn),pn(Ae(l,Ht,[dn],ae.frameRendering)||dn,l);break;case"image":var Cn=Math.round(l.width),Dn=Math.round(l.height),Wn=(0,g.wi)(l)&&V[l.fileId];if(Wn){var Ln="image-".concat(Wn.id),er=M.querySelector("#".concat(Ln));if(!er){(er=M.ownerDocument.createElementNS(u.hR,"symbol")).id=Ln;var Vn=M.ownerDocument.createElementNS(u.hR,"image");Vn.setAttribute("width","100%"),Vn.setAttribute("height","100%"),Vn.setAttribute("href",Wn.dataURL),er.appendChild(Vn),Ht.prepend(er)}var Pn=M.ownerDocument.createElementNS(u.hR,"use");if(Pn.setAttribute("href","#".concat(Ln)),ae.exportWithDarkMode&&Wn.mimeType!==u.LO.svg&&Pn.setAttribute("filter",z),Pn.setAttribute("width","".concat(Cn)),Pn.setAttribute("height","".concat(Dn)),Pn.setAttribute("opacity","".concat(_t)),l.scale[0]!==1||l.scale[1]!==1){var Rn=l.scale[0]!==1?-Cn:0,Nn=l.scale[1]!==1?-Dn:0;Pn.setAttribute("transform","scale(".concat(l.scale[0],", ").concat(l.scale[1],") translate(").concat(Rn," ").concat(Nn,")"))}var Gn=M.ownerDocument.createElementNS(u.hR,"g");Gn.appendChild(Pn),Gn.setAttribute("transform","translate(".concat(q||0," ").concat(re||0,") rotate(").concat(Gt," ").concat(we," ").concat(Me,")")),pn(Ae(l,Ht,[Gn],ae.frameRendering)||Gn,l)}break;case"frame":if(ae.frameRendering.enabled&&ae.frameRendering.outline){var nr=document.createElementNS(u.hR,"rect");nr.setAttribute("transform","translate(".concat(q||0," ").concat(re||0,") rotate(").concat(Gt," ").concat(we," ").concat(Me,")")),nr.setAttribute("width","".concat(l.width,"px")),nr.setAttribute("height","".concat(l.height,"px")),nr.setAttribute("rx",u.iG.radius.toString()),nr.setAttribute("ry",u.iG.radius.toString()),nr.setAttribute("fill","none"),nr.setAttribute("stroke",u.iG.strokeColor),nr.setAttribute("stroke-width",u.iG.strokeWidth.toString()),pn(nr,l)}break;default:if(!(0,g.iB)(l))throw new Error("Unimplemented type ".concat(l.type));var rr=M.ownerDocument.createElementNS(u.hR,"g");_t!==1&&(rr.setAttribute("stroke-opacity","".concat(_t)),rr.setAttribute("fill-opacity","".concat(_t))),rr.setAttribute("transform","translate(".concat(q||0," ").concat(re||0,") rotate(").concat(Gt," ").concat(we," ").concat(Me,")"));for(var Or=l.text.replace(/\r\n?/g,`
`).split(`
`),Xr=(0,w.Rg)(l.fontSize,l.lineHeight),po=l.textAlign==="center"?l.width/2:l.textAlign==="right"?l.width:0,xo=(0,y.dZ)(l.text)?"rtl":"ltr",jo=l.textAlign==="center"?"middle":l.textAlign==="right"||xo==="rtl"?"end":"start",ho=0;ho<Or.length;ho++){var Qr=M.ownerDocument.createElementNS(u.hR,"text");Qr.textContent=Or[ho],Qr.setAttribute("x","".concat(po)),Qr.setAttribute("y","".concat(ho*Xr)),Qr.setAttribute("font-family",(0,y.$g)(l)),Qr.setAttribute("font-size","".concat(l.fontSize,"px")),Qr.setAttribute("fill",l.strokeColor),Qr.setAttribute("text-anchor",jo),Qr.setAttribute("style","white-space: pre;"),Qr.setAttribute("direction",xo),Qr.setAttribute("dominant-baseline","text-before-edge"),rr.appendChild(Qr)}pn(Ae(l,Ht,[rr],ae.frameRendering)||rr,l)}},Te=new WeakMap([]);function De(D){var l=ke(D),d=new Path2D(l);return Te.set(D,d),d}function ke(D){return function(l){if(!l.length)return"";var d=l.length-1;return l.reduce(function(M,V,q,re){return q===d?M.push(V,be(V,re[0]),"L",re[0],"Z"):M.push(V,be(V,re[q+1])),M},["M",l[0],"Q"]).join(" ").replace(ve,"$1")}(P(D.simulatePressure?D.points:D.points.length?D.points.map(function(l,d){var M=(0,_.Z)(l,2);return[M[0],M[1],D.pressures[d]]}):[[0,0,.5]],{simulatePressure:D.simulatePressure,size:4.25*D.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(l){return Math.sin(l*Math.PI/2)},last:!!D.lastCommittedPoint}))}function be(D,l){return[(D[0]+l[0])/2,(D[1]+l[1])/2]}var ve=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},7766:function(Ze,te,t){t.d(te,{Lu:function(){return c},n_:function(){return Pe},tp:function(){return J},M_:function(){return ve},AW:function(){return he}});var e,_=t(1930),g=t(2577),p=t(5284),y=t(7651),T=function(D,l,d,M,V,q,re){D.beginPath(),D.moveTo(l+q,d),D.lineTo(l+M-q,d),D.quadraticCurveTo(l+M,d,l+M,d+q),D.lineTo(l+M,d+V-q),D.quadraticCurveTo(l+M,d+V,l+M-q,d+V),D.lineTo(l+q,d+V),D.quadraticCurveTo(l,d+V,l,d+V-q),D.lineTo(l,d+q),D.quadraticCurveTo(l,d,l+q,d),D.closePath(),D.fill(),re&&(D.strokeStyle=re),D.stroke()},E=t(4726),a=t(9660),u=t(957),N=t(7422),H=t(9215),x=t(3528),m=t(4048),k=t(9827);(function(D){D.ACTIVE="active",D.AWAY="away",D.IDLE="idle"})(e||(e={}));var Q=t(9937),ue=t(5992);function me(D,l){var d=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!d){if(Array.isArray(D)||(d=function(ge,Se){if(ge){if(typeof ge=="string")return ye(ge,Se);var Re=Object.prototype.toString.call(ge).slice(8,-1);if(Re==="Object"&&ge.constructor&&(Re=ge.constructor.name),Re==="Map"||Re==="Set")return Array.from(ge);if(Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re))return ye(ge,Se)}}(D))||l){d&&(D=d);var M=0,V=function(){};return{s:V,n:function(){return M>=D.length?{done:!0}:{done:!1,value:D[M++]}},e:function(ge){throw ge},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q,re=!0,ae=!1;return{s:function(){d=d.call(D)},n:function(){var ge=d.next();return re=ge.done,ge},e:function(ge){ae=!0,q=ge},f:function(){try{re||d.return==null||d.return()}finally{if(ae)throw q}}}}function ye(D,l){(l==null||l>D.length)&&(l=D.length);for(var d=0,M=new Array(l);d<l;d++)M[d]=D[d];return M}var fe=function(D,l,d){if(!d.zenModeEnabled){var M=D.points[0],V=D.points[D.points.length-1];U(M,V,l)}var q,re=me(D.points);try{for(re.s();!(q=re.n()).done;){var ae=q.value;$(ae,d,l)}}catch(ge){re.e(ge)}finally{re.f()}},G=function(D,l,d){$(D.points[0],d,l),d.zenModeEnabled||U(D.points[0],D.points[1],l)},$=function(D,l,d){var M=(0,g.Z)(D,2),V=M[0],q=M[1];d.save();var re=(l.zenModeEnabled?3:2)/l.zoom.value;d.beginPath(),d.moveTo(V-re,q-re),d.lineTo(V+re,q+re),d.moveTo(V+re,q-re),d.lineTo(V-re,q+re),d.stroke(),d.restore()},U=function(D,l,d){d.beginPath(),d.lineTo.apply(d,(0,_.Z)(D)),d.lineTo.apply(d,(0,_.Z)(l)),d.stroke()},L=function(D,l,d,M,V){var q=8/M.zoom.value,re=q/2,ae=q/4;if(d==="horizontal"){var ge=[(D[0]+l[0])/2,D[1]];M.zenModeEnabled||U([D[0],D[1]-q],[D[0],D[1]+q],V),U([ge[0]-ae,ge[1]-re],[ge[0]-ae,ge[1]+re],V),U([ge[0]+ae,ge[1]-re],[ge[0]+ae,ge[1]+re],V),M.zenModeEnabled||(U([l[0],l[1]-q],[l[0],l[1]+q],V),U(D,l,V))}else{var Se=[D[0],(D[1]+l[1])/2];M.zenModeEnabled||U([D[0]-q,D[1]],[D[0]+q,D[1]],V),U([Se[0]-re,Se[1]-ae],[Se[0]+re,Se[1]-ae],V),U([Se[0]-re,Se[1]+ae],[Se[0]+re,Se[1]+ae],V),M.zenModeEnabled||(U([l[0]-q,l[1]],[l[0]+q,l[1]],V),U(D,l,V))}},F=t(4183),I=t(761),P=t(4682),w=t(6655);function f(D,l){var d=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!d){if(Array.isArray(D)||(d=function(ge,Se){if(ge){if(typeof ge=="string")return r(ge,Se);var Re=Object.prototype.toString.call(ge).slice(8,-1);if(Re==="Object"&&ge.constructor&&(Re=ge.constructor.name),Re==="Map"||Re==="Set")return Array.from(ge);if(Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re))return r(ge,Se)}}(D))||l){d&&(D=d);var M=0,V=function(){};return{s:V,n:function(){return M>=D.length?{done:!0}:{done:!1,value:D[M++]}},e:function(ge){throw ge},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q,re=!0,ae=!1;return{s:function(){d=d.call(D)},n:function(){var ge=d.next();return re=ge.done,ge},e:function(ge){ae=!0,q=ge},f:function(){try{re||d.return==null||d.return()}finally{if(ae)throw q}}}}function r(D,l){(l==null||l>D.length)&&(l=D.length);for(var d=0,M=new Array(l);d<l;d++)M[d]=D[d];return M}function o(D,l){var d=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!d){if(Array.isArray(D)||(d=function(ge,Se){if(ge){if(typeof ge=="string")return b(ge,Se);var Re=Object.prototype.toString.call(ge).slice(8,-1);if(Re==="Object"&&ge.constructor&&(Re=ge.constructor.name),Re==="Map"||Re==="Set")return Array.from(ge);if(Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re))return b(ge,Se)}}(D))||l){d&&(D=d);var M=0,V=function(){};return{s:V,n:function(){return M>=D.length?{done:!0}:{done:!1,value:D[M++]}},e:function(ge){throw ge},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q,re=!0,ae=!1;return{s:function(){d=d.call(D)},n:function(){var ge=d.next();return re=ge.done,ge},e:function(ge){ae=!0,q=ge},f:function(){try{re||d.return==null||d.return()}finally{if(ae)throw q}}}}function b(D,l){(l==null||l>D.length)&&(l=D.length);for(var d=0,M=new Array(l);d<l;d++)M[d]=D[d];return M}(function(){var D,l,d,M,V,q;(l=(D=Path2D.prototype).roundRect)!==null&&l!==void 0||(D.roundRect=re),globalThis.CanvasRenderingContext2D&&((M=(d=globalThis.CanvasRenderingContext2D.prototype).roundRect)!==null&&M!==void 0||(d.roundRect=re)),globalThis.OffscreenCanvasRenderingContext2D&&((q=(V=globalThis.OffscreenCanvasRenderingContext2D.prototype).roundRect)!==null&&q!==void 0||(V.roundRect=re));function re(ge,Se,Re,Ye,Ge){if([ge,Se,Re,Ye].every(function(dt){return Number.isFinite(dt)})){var We,qe,lt,ft;if((Ge=function(dt){var vt=(0,w.Z)(dt);return vt==="undefined"||dt===null?[0]:vt==="function"?[NaN]:vt==="object"?typeof dt[Symbol.iterator]=="function"?(0,_.Z)(dt).map(function(Tt){var Et=(0,w.Z)(Tt);return Et==="undefined"||Tt===null?0:Et==="function"?NaN:Et==="object"?Me(Tt):$e(Tt)}):[Me(dt)]:[$e(dt)]}(Ge)).length===4)We=at(Ge[0]),qe=at(Ge[1]),lt=at(Ge[2]),ft=at(Ge[3]);else if(Ge.length===3)We=at(Ge[0]),qe=at(Ge[1]),ft=at(Ge[1]),lt=at(Ge[2]);else if(Ge.length===2)We=at(Ge[0]),lt=at(Ge[0]),qe=at(Ge[1]),ft=at(Ge[1]);else{if(Ge.length!==1)throw new RangeError("".concat(ae(this)," ").concat(Ge.length," is not a valid size for radii sequence."));We=at(Ge[0]),qe=at(Ge[0]),lt=at(Ge[0]),ft=at(Ge[0])}var ze=[We,qe,lt,ft],we=ze.find(function(dt){var vt=dt.x,Tt=dt.y;return vt<0||Tt<0});if(we?.x<0?we.x:we?.y,!ze.some(function(dt){var vt=dt.x,Tt=dt.y;return!Number.isFinite(vt)||!Number.isFinite(Tt)})){if(we)throw new RangeError("".concat(ae(this)," Radius value ").concat(we," is negative."));(function(dt){var vt=(0,g.Z)(dt,4),Tt=vt[0],Et=vt[1],jt=vt[2],Kt=vt[3],Gt=[Math.abs(Re)/(Tt.x+Et.x),Math.abs(Ye)/(Et.y+jt.y),Math.abs(Re)/(jt.x+Kt.x),Math.abs(Ye)/(Tt.y+Kt.y)],Ht=Math.min.apply(Math,Gt);if(Ht<=1){var $t,pn=f(dt);try{for(pn.s();!($t=pn.n()).done;){var _t=$t.value;_t.x*=Ht,_t.y*=Ht}}catch(xt){pn.e(xt)}finally{pn.f()}}})(ze),Re<0&&Ye<0?(this.moveTo(ge-We.x,Se),this.ellipse(ge+Re+qe.x,Se-qe.y,qe.x,qe.y,0,1.5*-Math.PI,-Math.PI),this.ellipse(ge+Re+lt.x,Se+Ye+lt.y,lt.x,lt.y,0,-Math.PI,-Math.PI/2),this.ellipse(ge-ft.x,Se+Ye+ft.y,ft.x,ft.y,0,-Math.PI/2,0),this.ellipse(ge-We.x,Se-We.y,We.x,We.y,0,0,-Math.PI/2)):Re<0?(this.moveTo(ge-We.x,Se),this.ellipse(ge+Re+qe.x,Se+qe.y,qe.x,qe.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(ge+Re+lt.x,Se+Ye-lt.y,lt.x,lt.y,0,-Math.PI,1.5*-Math.PI,1),this.ellipse(ge-ft.x,Se+Ye-ft.y,ft.x,ft.y,0,Math.PI/2,0,1),this.ellipse(ge-We.x,Se+We.y,We.x,We.y,0,0,-Math.PI/2,1)):Ye<0?(this.moveTo(ge+We.x,Se),this.ellipse(ge+Re-qe.x,Se-qe.y,qe.x,qe.y,0,Math.PI/2,0,1),this.ellipse(ge+Re-lt.x,Se+Ye+lt.y,lt.x,lt.y,0,0,-Math.PI/2,1),this.ellipse(ge+ft.x,Se+Ye+ft.y,ft.x,ft.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(ge+We.x,Se-We.y,We.x,We.y,0,-Math.PI,1.5*-Math.PI,1)):(this.moveTo(ge+We.x,Se),this.ellipse(ge+Re-qe.x,Se+qe.y,qe.x,qe.y,0,-Math.PI/2,0),this.ellipse(ge+Re-lt.x,Se+Ye-lt.y,lt.x,lt.y,0,0,Math.PI/2),this.ellipse(ge+ft.x,Se+Ye-ft.y,ft.x,ft.y,0,Math.PI/2,Math.PI),this.ellipse(ge+We.x,Se+We.y,We.x,We.y,0,Math.PI,1.5*Math.PI)),this.closePath(),this.moveTo(ge,Se)}}function Me(dt){return{x:dt.x,y:dt.y,z:dt.z,w:dt.w}}function $e(dt){return+dt}function at(dt){var vt,Tt,Et=$e(dt);return Number.isFinite(Et)?{x:Et,y:Et}:Object(dt)===dt?{x:$e((vt=dt.x)!==null&&vt!==void 0?vt:0),y:$e((Tt=dt.y)!==null&&Tt!==void 0?Tt:0)}:{x:NaN,y:NaN}}}function ae(ge){return"Failed to execute 'roundRect' on '".concat(function(Se){return Object(Se)===Se&&Se instanceof Path2D?"Path2D":Se instanceof globalThis?.CanvasRenderingContext2D?"CanvasRenderingContext2D":Se instanceof globalThis?.OffscreenCanvasRenderingContext2D?"OffscreenCanvasRenderingContext2D":Se?.constructor.name||Se}(ge),"':")}})();var s,c=2,S=function(D,l,d,M,V,q,re,ae){var ge=arguments.length>8&&arguments[8]!==void 0&&arguments[8],Se=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0;D.save(),D.translate(q,re),D.rotate(ae),ge&&D.fillRect(l-q,d-re,M,V),Se&&D.roundRect?(D.beginPath(),D.roundRect(l-q,d-re,M,V,Se),D.stroke(),D.closePath()):D.strokeRect(l-q,d-re,M,V),D.restore()},z=function(D,l,d,M){var V=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];D.beginPath(),D.arc(l,d,M,0,2*Math.PI),D.fill(),V&&D.stroke()},B=function(D,l,d,M,V){var q=arguments.length>5&&arguments[5]!==void 0&&arguments[5];D.strokeStyle="#5e5ad8",D.setLineDash([]),D.fillStyle="rgba(255, 255, 255, 0.9)",V?D.fillStyle="rgba(134, 131, 226, 0.9)":q&&(D.fillStyle="rgba(177, 151, 252, 0.7)"),z(D,d[0],d[1],M/l.zoom.value,!q)},j=function(D,l,d){if(l.selectedLinearElement){D.save(),D.translate(l.scrollX,l.scrollY),D.lineWidth=1/l.zoom.value;var M=N._.getPointsGlobalCoordinates(d),V=N._.POINT_HANDLE_SIZE,q=l.editingLinearElement?V:V/2;M.forEach(function(re,ae){var ge,Se,Re=!((ge=l.editingLinearElement)===null||ge===void 0||(Se=ge.selectedPointsIndices)===null||Se===void 0||!Se.includes(ae));B(D,l,re,q,Re)}),N._.getEditorMidPoints(d,l).filter(function(re){return re!==null}).forEach(function(re){var ae;l!=null&&(ae=l.selectedLinearElement)!==null&&ae!==void 0&&ae.segmentMidPointHoveredCoords&&N._.arePointsEqual(re,l.selectedLinearElement.segmentMidPointHoveredCoords)?l.editingLinearElement?(B(D,l,re,q,!1),C(re,D,l)):(C(re,D,l),B(D,l,re,q,!1)):(l.editingLinearElement||M.length===2)&&B(D,l,re,V/2,!1,!0)}),D.restore()}},C=function(D,l,d){l.fillStyle="rgba(105, 101, 219, 0.4)",z(l,D[0],D[1],N._.POINT_HANDLE_SIZE/d.zoom.value,!1)},A=function(D,l,d,M){l.translate(D.x+M.scrollX,D.y+M.scrollY),l.beginPath(),l.roundRect?l.roundRect(0,0,D.width,D.height,Q.iG.radius/M.zoom.value):l.rect(0,0,D.width,D.height),l.clip(),l.translate(-(D.x+M.scrollX),-(D.y+M.scrollY))},Y=function(D,l){return[D.width/l,D.height/l]},ie=function(D){var l=D.canvas,d=D.scale,M=D.normalizedWidth,V=D.normalizedHeight,q=D.theme,re=D.isExporting,ae=D.viewBackgroundColor,ge=l.getContext("2d");return ge.setTransform(1,0,0,1,0,0),ge.scale(d,d),re&&q==="dark"&&(ge.filter=Q.ZF),typeof ae=="string"?((ae==="transparent"||ae.length===5||ae.length===9||/(hsla|rgba)\(/.test(ae))&&ge.clearRect(0,0,M,V),ge.save(),ge.fillStyle=ae,ge.fillRect(0,0,M,V),ge.restore()):ge.clearRect(0,0,M,V),ge},le=function(D){var l,d=D.canvas,M=D.elements,V=D.visibleElements,q=D.selectedElements,re=D.scale,ae=D.appState,ge=D.renderConfig;if(d===null)return{atLeastOneVisibleElement:!1,elements:M};var Se=Y(d,re),Re=(0,g.Z)(Se,2),Ye=Re[0],Ge=Re[1],We=ie({canvas:d,scale:re,normalizedWidth:Ye,normalizedHeight:Ge});We.save(),We.scale(ae.zoom.value,ae.zoom.value);var qe=void 0;if(V.forEach(function(Pt){var Dt;((Dt=ae.editingLinearElement)===null||Dt===void 0?void 0:Dt.elementId)===Pt.id&&Pt&&(qe=Pt)}),qe&&j(We,ae,qe),ae.selectionElement)try{(0,a.uI)(ae.selectionElement,We,ae)}catch(Pt){console.error(Pt)}ae.isBindingEnabled&&ae.suggestedBindings.filter(function(Pt){return Pt!=null}).forEach(function(Pt){Ae(We,ae,Pt)}),ae.frameToHighlight&&Te(We,ae,ae.frameToHighlight),ae.elementsToHighlight&&De(We,ae,ae.elementsToHighlight);var lt,ft=q.some(function(Pt){return(0,F.He)(Pt)});if(q.length===1&&((l=ae.editingLinearElement)===null||l===void 0?void 0:l.elementId)===q[0].id&&j(We,ae,q[0]),ae.selectedLinearElement&&ae.selectedLinearElement.hoverPointIndex>=0&&function(Pt,Dt){var Ft,dn,jn=Dt.selectedLinearElement,Cn=jn.elementId,Dn=jn.hoverPointIndex;if((Ft=Dt.editingLinearElement)===null||Ft===void 0||(dn=Ft.selectedPointsIndices)===null||dn===void 0||!dn.includes(Dn)){var Wn=N._.getElement(Cn);if(Wn){var Ln=N._.getPointAtIndexGlobalCoordinates(Wn,Dn);Pt.save(),Pt.translate(Dt.scrollX,Dt.scrollY),C(Ln,Pt,Dt),Pt.restore()}}}(We,ae),!ae.multiElement&&!ae.editingLinearElement){var ze,we=(0,m.oY)(q,ae);q.length===1&&(0,F.bt)(q[0])&&((ze=ae.selectedLinearElement)===null||ze===void 0?void 0:ze.elementId)===q[0].id&&!q[0].locked&&j(We,ae,q[0]);var Me=ge.selectionColor||p.black;if(we){var $e,at=q.reduce(function(Pt,Dt){return Pt[Dt.id]=!0,Pt},{}),dt=M.reduce(function(Pt,Dt){var Ft=[];if(at[Dt.id]&&!(0,H.zq)(ae,Dt)&&Ft.push(Me),ge.remoteSelectedElementIds[Dt.id]&&Ft.push.apply(Ft,(0,_.Z)(ge.remoteSelectedElementIds[Dt.id].map(function(Rn){return(0,u.G)(Rn)}))),Ft.length){var dn,jn=(0,y.qf)(Dt,!0),Cn=(0,g.Z)(jn,6),Dn=Cn[0],Wn=Cn[1],Ln=Cn[2],er=Cn[3],Vn=Cn[4],Pn=Cn[5];Pt.push({angle:Dt.angle,elementX1:Dn,elementY1:Wn,elementX2:Ln,elementY2:er,selectionColors:Ft,dashed:!!ge.remoteSelectedElementIds[Dt.id],cx:Vn,cy:Pn,activeEmbeddable:((dn=ae.activeEmbeddable)===null||dn===void 0?void 0:dn.element)===Dt&&ae.activeEmbeddable.state==="active"})}return Pt},[]),vt=function(Pt){var Dt=(0,H.Fb)(M,Pt),Ft=(0,y.KP)(Dt),dn=(0,g.Z)(Ft,4),jn=dn[0],Cn=dn[1],Dn=dn[2],Wn=dn[3];dt.push({angle:0,elementX1:jn,elementX2:Dn,elementY1:Cn,elementY2:Wn,selectionColors:[p.black],dashed:!0,cx:jn+(Dn-jn)/2,cy:Cn+(Wn-Cn)/2,activeEmbeddable:!1})},Tt=o((0,H.iJ)(ae));try{for(Tt.s();!($e=Tt.n()).done;)vt($e.value)}catch(Pt){Tt.e(Pt)}finally{Tt.f()}ae.editingGroupId&&vt(ae.editingGroupId),dt.forEach(function(Pt){return Ke(We,ae,Pt)})}if(We.save(),We.translate(ae.scrollX,ae.scrollY),q.length===1){We.fillStyle=p.white;var Et=(0,y.PC)(q[0],ae.zoom,"mouse");!ae.viewModeEnabled&&we&&He(We,ge,ae,Et,q[0].angle)}else if(q.length>1&&!ae.isRotating){var jt=2*c/ae.zoom.value;We.fillStyle=p.white;var Kt=(0,y.KP)(q),Gt=(0,g.Z)(Kt,4),Ht=Gt[0],$t=Gt[1],pn=Gt[2],_t=Gt[3],xt=We.getLineDash();We.setLineDash([2/ae.zoom.value]);var At=We.lineWidth;We.lineWidth=1/ae.zoom.value,We.strokeStyle=Me,S(We,Ht-jt,$t-jt,pn-Ht+2*jt,_t-$t+2*jt,(Ht+pn)/2,($t+_t)/2,0),We.lineWidth=At,We.setLineDash(xt);var It=(0,y.kK)([Ht,$t,pn,_t,(Ht+pn)/2,($t+_t)/2],0,ae.zoom,"mouse",ft?m.Fn:y.ox);q.some(function(Pt){return!Pt.locked})&&He(We,ge,ae,It,0)}We.restore()}for(var Mt in function(Pt,Dt){if(Dt.snapLines.length){var Ft=Dt.theme==="light"||Dt.zenModeEnabled?"#ff6b6b":"#ff0000",dn=(Dt.zenModeEnabled?1.5:1)/Dt.zoom.value;Pt.save(),Pt.translate(Dt.scrollX,Dt.scrollY);var jn,Cn=me(Dt.snapLines);try{for(Cn.s();!(jn=Cn.n()).done;){var Dn=jn.value;Dn.type==="pointer"?(Pt.lineWidth=dn,Pt.strokeStyle=Ft,G(Dn,Pt,Dt)):Dn.type==="gap"?(Pt.lineWidth=dn,Pt.strokeStyle=Ft,L(Dn.points[0],Dn.points[1],Dn.direction,Dt,Pt)):Dn.type==="points"&&(Pt.lineWidth=dn,Pt.strokeStyle=Ft,fe(Dn,Pt,Dt))}}catch(Wn){Cn.e(Wn)}finally{Cn.f()}Pt.restore()}}(We,ae),We.restore(),ge.remotePointerViewportCoords){var Nt=ge.remotePointerViewportCoords[Mt],Yt=Nt.x,ln=Nt.y;Yt-=ae.offsetLeft,ln-=ae.offsetTop;var an=Yt<0||Yt>Ye-11||ln<0||ln>Ge-14;Yt=Math.max(Yt,0),Yt=Math.min(Yt,Ye-11),ln=Math.max(ln,0),ln=Math.min(ln,Ge-14);var kn=(0,u.G)(Mt);We.save(),We.strokeStyle=kn,We.fillStyle=kn;var Tn=ge.remotePointerUserStates[Mt],zn=an||Tn===e.IDLE||Tn===e.AWAY;zn&&(We.globalAlpha=.3),ge.remotePointerButton&&ge.remotePointerButton[Mt]==="down"&&(We.beginPath(),We.arc(Yt,ln,15,0,2*Math.PI,!1),We.lineWidth=3,We.strokeStyle="#ffffff88",We.stroke(),We.closePath(),We.beginPath(),We.arc(Yt,ln,15,0,2*Math.PI,!1),We.lineWidth=1,We.strokeStyle=kn,We.stroke(),We.closePath()),We.fillStyle=p.white,We.strokeStyle=p.white,We.lineWidth=6,We.lineJoin="round",We.beginPath(),We.moveTo(Yt,ln),We.lineTo(Yt+0,ln+14),We.lineTo(Yt+4,ln+9),We.lineTo(Yt+11,ln+8),We.closePath(),We.stroke(),We.fill(),We.fillStyle=kn,We.strokeStyle=kn,We.lineWidth=2,We.lineJoin="round",We.beginPath(),zn?(We.moveTo(Yt-1,ln-1),We.lineTo(Yt-1,ln+15),We.lineTo(Yt+5,ln+10),We.lineTo(Yt+12,ln+9),We.closePath(),We.fill()):(We.moveTo(Yt,ln),We.lineTo(Yt+0,ln+14),We.lineTo(Yt+4,ln+9),We.lineTo(Yt+11,ln+8),We.closePath(),We.fill(),We.stroke());var un=ge.remotePointerUsernames[Mt]||"";if(!an&&un){We.font="600 12px sans-serif";var zt=Yt+5.5,en=ln+14+2,Jt=We.measureText(un),Sn=Jt.actualBoundingBoxDescent+Jt.actualBoundingBoxAscent,Hn=Math.max(Sn,12),Yn=zt-1,or=en-1,$n=Jt.width+2+10+2,rn=Hn+2+6+2;We.roundRect?(We.beginPath(),We.roundRect(Yn,or,$n,rn,8),We.fillStyle=kn,We.fill(),We.strokeStyle=p.white,We.stroke()):T(We,Yn,or,$n,rn,8,p.white),We.fillStyle=p.black,We.fillText(un,zt+5+1,en+3+Jt.actualBoundingBoxAscent+Math.floor((Hn-Sn)/2)+2)}We.restore(),We.closePath()}return ge.renderScrollbars&&(lt=(0,E.tJ)(M,Ye,Ge,ae),We.save(),We.fillStyle=E.w1,We.strokeStyle="rgba(255,255,255,0.8)",[lt.horizontal,lt.vertical].forEach(function(Pt){Pt&&T(We,Pt.x,Pt.y,Pt.width,Pt.height,E.nn/2)}),We.restore()),{scrollBars:lt,atLeastOneVisibleElement:V.length>0,elements:M}},ce=function(D){var l=D.canvas,d=D.rc,M=D.elements,V=D.visibleElements,q=D.scale,re=D.appState,ae=D.renderConfig;if(l!==null){var ge=ae.renderGrid,Se=ge===void 0||ge,Re=ae.isExporting,Ye=Y(l,q),Ge=(0,g.Z)(Ye,2),We=Ge[0],qe=Ge[1],lt=ie({canvas:l,scale:q,normalizedWidth:We,normalizedHeight:qe,theme:re.theme,isExporting:Re,viewBackgroundColor:re.viewBackgroundColor});lt.scale(re.zoom.value,re.zoom.value),Se&&re.gridSize&&function(ze,we,Me,$e,at,dt,vt){var Tt;(function(At){At.Bold="#cccccc",At.Regular="#e5e5e5"})(Tt||(Tt={}));var Et=-Math.round(at.value/we)*we+Me%we,jt=-Math.round(at.value/we)*we+$e%we,Kt=Math.min(1/at.value,1),Gt=1/at.value,Ht=[3*Kt,Gt+(Kt+Gt)];ze.save(),ze.lineWidth=Kt;for(var $t=Et;$t<Et+dt+2*we;$t+=we){var pn=Math.round($t-Me)%(5*we)==0;ze.beginPath(),ze.setLineDash(pn?[]:Ht),ze.strokeStyle=pn?Tt.Bold:Tt.Regular,ze.moveTo($t,jt-we),ze.lineTo($t,jt+vt+2*we),ze.stroke()}for(var _t=jt;_t<jt+vt+2*we;_t+=we){var xt=Math.round(_t-$e)%(5*we)==0;ze.beginPath(),ze.setLineDash(xt?[]:Ht),ze.strokeStyle=xt?Tt.Bold:Tt.Regular,ze.moveTo(Et-we,_t),ze.lineTo(Et+dt+2*we,_t),ze.stroke()}ze.restore()}(lt,re.gridSize,re.scrollX,re.scrollY,re.zoom,We/re.zoom.value,qe/re.zoom.value);var ft=new Set;V.forEach(function(ze){ze.groupIds.length>0&&re.frameToHighlight&&re.selectedElementIds[ze.id]&&((0,P.cO)(ze,re.frameToHighlight)||ze.groupIds.find(function(we){return ft.has(we)}))&&ze.groupIds.forEach(function(we){return ft.add(we)})}),V.filter(function(ze){return!(0,I.uU)(ze)}).forEach(function(ze){try{var we;if((ze.frameId||!((we=re.frameToHighlight)===null||we===void 0)&&we.id)&&re.frameRendering.enabled&&re.frameRendering.clip){lt.save();var Me=(0,P.cH)(ze,re);Me&&(0,P.Qs)(ze,M,re)&&A(Me,lt,0,re),(0,a.lw)(ze,d,lt,ae,re),lt.restore()}else(0,a.lw)(ze,d,lt,ae,re);Re||be(ze,lt,re)}catch($e){console.error($e)}}),V.filter(function(ze){return(0,I.uU)(ze)}).forEach(function(ze){try{var we,Me=function(){if((0,a.lw)(ze,d,lt,ae,re),(0,F.gs)(ze)&&(Re||!ze.validated)&&ze.width&&ze.height){var at=(0,I.g0)(ze);(0,a.lw)(at,d,lt,ae,re)}Re||be(ze,lt,re)};if((ze.frameId||!((we=re.frameToHighlight)===null||we===void 0)&&we.id)&&re.frameRendering.enabled&&re.frameRendering.clip){lt.save();var $e=(0,P.cH)(ze,re);$e&&(0,P.Qs)(ze,M,re)&&A($e,lt,0,re),Me(),lt.restore()}else Me()}catch(at){console.error(at)}})}},de=(0,k.hR)(function(D){var l,d=le(D);(l=D.callback)===null||l===void 0||l.call(D,d)},{trailing:!0}),J=function(D,l){if(!l){var d=le(D);return D.callback(d),d}de(D)},ee=(0,k.hR)(function(D){ce(D)},{trailing:!0}),he=function(D,l){l?ee(D):ce(D)},Pe=function(){de.cancel(),ee.cancel()},He=function(D,l,d,M,V){Object.keys(M).forEach(function(q){var re=M[q];if(re!==void 0){var ae=(0,g.Z)(re,4),ge=ae[0],Se=ae[1],Re=ae[2],Ye=ae[3];D.save(),D.lineWidth=1/d.zoom.value,l.selectionColor&&(D.strokeStyle=l.selectionColor),q==="rotation"?z(D,ge+Re/2,Se+Ye/2,Re/2):D.roundRect?(D.beginPath(),D.roundRect(ge,Se,Re,Ye,2/d.zoom.value),D.fill(),D.stroke()):S(D,ge,Se,Re,Ye,ge+Re/2,Se+Ye/2,V,!0),D.restore()}})},Ke=function(D,l,d){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*c,V=d.angle,q=d.elementX1,re=d.elementY1,ae=d.elementX2,ge=d.elementY2,Se=d.selectionColors,Re=d.cx,Ye=d.cy,Ge=d.dashed,We=d.activeEmbeddable,qe=ae-q,lt=ge-re,ft=M/l.zoom.value,ze=8/l.zoom.value,we=4/l.zoom.value;D.save(),D.translate(l.scrollX,l.scrollY),D.lineWidth=(We?4:1)/l.zoom.value;for(var Me=Se.length,$e=0;$e<Me;++$e)D.strokeStyle=Se[$e],Ge&&D.setLineDash([ze,we+(ze+we)*(Me-1)]),D.lineDashOffset=(ze+we)*$e,S(D,q-ft,re-ft,qe+2*ft,lt+2*ft,Re,Ye,V);D.restore()},Ae=function(D,l,d){var M=Array.isArray(d)?ke:Oe;D.save(),D.translate(l.scrollX,l.scrollY),M(D,d),D.restore()},Oe=function(D,l){var d=(0,y.qf)(l),M=(0,g.Z)(d,4),V=M[0],q=M[1],re=M[2]-V,ae=M[3]-q,ge=(0,x.fb)(l,re,ae);D.strokeStyle="rgba(0,0,0,.05)",D.lineWidth=ge-4;var Se=2+ge/2;switch(l.type){case"rectangle":case"text":case"image":case"embeddable":case"frame":S(D,V-Se,q-Se,re+2*Se,ae+2*Se,V+re/2,q+ae/2,l.angle);break;case"diamond":var Re=Math.hypot(re,ae);(function(Ye,Ge,We,qe,lt,ft){Ye.save(),Ye.translate(qe,lt),Ye.rotate(ft),Ye.beginPath(),Ye.moveTo(0,We/2),Ye.lineTo(Ge/2,0),Ye.lineTo(0,-We/2),Ye.lineTo(-Ge/2,0),Ye.closePath(),Ye.stroke(),Ye.restore()})(D,re+2*(Se*Re/ae),ae+2*(Se*Re/re),V+re/2,q+ae/2,l.angle);break;case"ellipse":(function(Ye,Ge,We,qe,lt,ft){Ye.beginPath(),Ye.ellipse(qe,lt,Ge/2,We/2,ft,0,2*Math.PI),Ye.stroke()})(D,re+2*Se,ae+2*Se,V+re/2,q+ae/2,l.angle)}},Te=function(D,l,d){var M=(0,y.qf)(d),V=(0,g.Z)(M,4),q=V[0],re=V[1],ae=V[2]-q,ge=V[3]-re;D.strokeStyle="rgb(0,118,255)",D.lineWidth=Q.iG.strokeWidth/l.zoom.value,D.save(),D.translate(l.scrollX,l.scrollY),S(D,q,re,ae,ge,q+ae/2,re+ge/2,d.angle,!1,Q.iG.radius/l.zoom.value),D.restore()},De=function(D,l,d){var M=d.filter(function(re){return re.groupIds.length===0}),V=d.filter(function(re){return re.groupIds.length>0}),q=function(re){var ae=(0,y.KP)(re),ge=(0,g.Z)(ae,4),Se=ge[0],Re=ge[1],Ye=ge[2],Ge=ge[3];return{angle:0,elementX1:Se,elementX2:Ye,elementY1:Re,elementY2:Ge,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:Se+(Ye-Se)/2,cy:Re+(Ge-Re)/2,activeEmbeddable:!1}};Object.entries((0,H.yR)(V,l)).filter(function(re){var ae=(0,g.Z)(re,2);return ae[0],ae[1]}).map(function(re){var ae=(0,g.Z)(re,2),ge=ae[0];return ae[1],ge}).map(function(re){return function(ae){var ge=(0,H.Fb)(d,ae);return q(ge)}(re)}).concat(M.map(function(re){return q([re])})).forEach(function(re){return Ke(D,l,re)})},ke=function(D,l){var d=(0,g.Z)(l,3),M=d[0],V=d[1],q=d[2],re=(0,x.fb)(q,q.width,q.height);D.strokeStyle="rgba(0,0,0,0)",D.fillStyle="rgba(0,0,0,.05)",(V==="both"?[0,-1]:V==="start"?[0]:[-1]).forEach(function(ae){var ge=N._.getPointAtIndexGlobalCoordinates(M,ae),Se=(0,g.Z)(ge,2),Re=Se[0],Ye=Se[1];z(D,Re,Ye,re)})},be=function(D,l,d){if(D.link&&!d.selectedElementIds[D.id]){var M=(0,y.qf)(D),V=(0,g.Z)(M,4),q=V[0],re=V[1],ae=V[2],ge=V[3],Se=(0,ue.sw)([q,re,ae,ge],D.angle,d),Re=(0,g.Z)(Se,4),Ye=Re[0],Ge=Re[1],We=Re[2],qe=Re[3],lt=Ye+We/2,ft=Ge+qe/2;if(l.save(),l.translate(d.scrollX+lt,d.scrollY+ft),l.rotate(D.angle),s&&s.zoom===d.zoom.value)l.drawImage(s,Ye-lt,Ge-ft,We,qe);else{(s=document.createElement("canvas")).zoom=d.zoom.value,s.width=We*window.devicePixelRatio*d.zoom.value,s.height=qe*window.devicePixelRatio*d.zoom.value;var ze=s.getContext("2d");ze.scale(window.devicePixelRatio*d.zoom.value,window.devicePixelRatio*d.zoom.value),ze.fillStyle="#fff",ze.fillRect(0,0,We,qe),ze.drawImage(ue.rj,0,0,We,qe),ze.restore(),l.drawImage(s,Ye-lt,Ge-ft,We,qe)}l.restore()}},ve=function(D,l,d,M,V){var q=V.offsetX,re=q===void 0?0:q,ae=V.offsetY,ge=ae===void 0?0:ae,Se=V.exportWithDarkMode,Re=V.renderEmbeddables,Ye=V.frameRendering;if(d){var Ge={exportWithDarkMode:Se,renderEmbeddables:Re,frameRendering:Ye};D.filter(function(We){return!(0,I.uU)(We)}).forEach(function(We){if(!We.isDeleted)try{(0,a.Rg)(We,l,d,M,We.x+re,We.y+ge,Ge)}catch(qe){console.error(qe)}}),D.filter(function(We){return(0,F.gs)(We)}).forEach(function(We){if(!We.isDeleted)try{(0,a.Rg)(We,l,d,M,We.x+re,We.y+ge,Ge)}catch(qe){console.error(qe)}})}}},457:function(Ze,te,t){var e=t(1930),_=t(8821),g=t(5169),p=t(7651),y=t(4183),T=t(6264),E=t(4643),a=function(N){return typeof N=="string"},u=function(){function N(){var H=this;(0,_.Z)(this,N),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap=new Map,this.selectedElementsCache={selectedElementIds:null,elements:null,cache:new Map},this.addNewElement=function(x){x.frameId?H.insertElementAtIndex(x,H.getElementIndex(x.frameId)):H.replaceAllElements([].concat((0,e.Z)(H.elements),[x]))}}return(0,g.Z)(N,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(H){var x=function(ue){for(var me="",ye=0,fe=["includeBoundTextElement","includeElementsInFrames"];ye<fe.length;ye++){var G=fe[ye];me+="".concat(G,":").concat(ue[G]?"1":"0")}return me}(H),m=H?.elements||this.nonDeletedElements;if(this.selectedElementsCache.elements===m&&this.selectedElementsCache.selectedElementIds===H.selectedElementIds){var k=this.selectedElementsCache.cache.get(x);if(k)return k}else H?.elements==null&&this.selectedElementsCache.cache.clear();var Q=(0,T.eD)(m,{selectedElementIds:H.selectedElementIds},H);return H?.elements==null&&(this.selectedElementsCache.selectedElementIds=H.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(x,Q)),Q}},{key:"getNonDeletedFrames",value:function(){return this.nonDeletedFrames}},{key:"getElement",value:function(H){return this.elementsMap.get(H)||null}},{key:"getVersionNonce",value:function(){return this.versionNonce}},{key:"getNonDeletedElement",value:function(H){var x=this.getElement(H);return x&&(0,p.qP)(x)?x:null}},{key:"mapElements",value:function(H){var x=!1,m=this.elements.map(function(k){var Q=H(k);return Q!==k&&(x=!0),Q});return x&&this.replaceAllElements(m),x}},{key:"replaceAllElements",value:function(H){var x=this;this.elements=H;var m=[];this.elementsMap.clear(),H.forEach(function(k){(0,y.He)(k)&&m.push(k),x.elementsMap.set(k.id,k),N.mapElementToScene(k,x)}),this.nonDeletedElements=(0,p.Lm)(this.elements),this.frames=m,this.nonDeletedFrames=(0,p.Xf)(this.frames),this.informMutation()}},{key:"informMutation",value:function(){this.versionNonce=(0,E.LU)();for(var H=0,x=Array.from(this.callbacks);H<x.length;H++)(0,x[H])()}},{key:"addCallback",value:function(H){var x=this;if(this.callbacks.has(H))throw new Error;return this.callbacks.add(H),function(){if(!x.callbacks.has(H))throw new Error;x.callbacks.delete(H)}}},{key:"destroy",value:function(){var H=this;this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),N.sceneMapById.forEach(function(x,m){x===H&&N.sceneMapById.delete(m)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(H,x){if(!Number.isFinite(x)||x<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var m=[].concat((0,e.Z)(this.elements.slice(0,x)),[H],(0,e.Z)(this.elements.slice(x)));this.replaceAllElements(m)}},{key:"insertElementsAtIndex",value:function(H,x){if(!Number.isFinite(x)||x<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var m=[].concat((0,e.Z)(this.elements.slice(0,x)),(0,e.Z)(H),(0,e.Z)(this.elements.slice(x)));this.replaceAllElements(m)}},{key:"getElementIndex",value:function(H){return this.elements.findIndex(function(x){return x.id===H})}}],[{key:"mapElementToScene",value:function(H,x){var m=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(a(H)){if(!m)return;this.sceneMapById.set(H,x)}else this.sceneMapByElement.set(H,x),m||this.sceneMapById.set(H.id,x)}},{key:"getScene",value:function(H){return a(H)?this.sceneMapById.get(H)||null:this.sceneMapByElement.get(H)||null}}]),N}();u.sceneMapByElement=new WeakMap,u.sceneMapById=new Map,te.Z=u},6049:function(Ze,te,t){t.d(te,{Z:function(){return me},i:function(){return fe}});var e=t(1930),_=t(2577),g=t(7169),p=t(7651),y=t(2361),T=t(9660),E=t(9827),a=t(1493),u=t(9937),N=t(4183),H=t(1648);function x(G,$){var U=Object.keys(G);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(G);$&&(L=L.filter(function(F){return Object.getOwnPropertyDescriptor(G,F).enumerable})),U.push.apply(U,L)}return U}function m(G){for(var $=1;$<arguments.length;$++){var U=arguments[$]!=null?arguments[$]:{};$%2?x(Object(U),!0).forEach(function(L){(0,g.Z)(G,L,U[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(U)):x(Object(U)).forEach(function(L){Object.defineProperty(G,L,Object.getOwnPropertyDescriptor(U,L))})}return G}var k=function(G){return[8,8+G]},Q=function(G){return[1.5,6+G]};function ue(G){var $=G.roughness,U=Math.max(G.width,G.height),L=Math.min(G.width,G.height);return L>=20&&U>=50||L>=15&&G.roundness&&(0,H.sh)(G.type)||(0,N.bt)(G)&&U>=50?$:Math.min($/(U<10?3:2),2.5)}var me=function(G){var $=arguments.length>1&&arguments[1]!==void 0&&arguments[1],U={seed:G.seed,strokeLineDash:G.strokeStyle==="dashed"?k(G.strokeWidth):G.strokeStyle==="dotted"?Q(G.strokeWidth):void 0,disableMultiStroke:G.strokeStyle!=="solid",strokeWidth:G.strokeStyle!=="solid"?G.strokeWidth+.5:G.strokeWidth,fillWeight:G.strokeWidth/2,hachureGap:4*G.strokeWidth,roughness:ue(G),stroke:G.strokeColor,preserveVertices:$||G.roughness<u.$h.cartoonist};switch(G.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":return U.fillStyle=G.fillStyle,U.fill=(0,E.Qm)(G.backgroundColor)?void 0:G.backgroundColor,G.type==="ellipse"&&(U.curveFitting=1),U;case"line":case"freedraw":return(0,y.g6)(G.points)&&(U.fillStyle=G.fillStyle,U.fill=G.backgroundColor==="transparent"?void 0:G.backgroundColor),U;case"arrow":return U;default:throw new Error("Unimplemented type ".concat(G.type))}},ye=function(G,$){return G.type==="embeddable"&&($||!G.validated)&&(0,E.Qm)(G.backgroundColor)&&(0,E.Qm)(G.strokeColor)?m(m({},G),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):G},fe=function(G,$){var U=arguments.length>2&&arguments[2]!==void 0&&arguments[2];switch(G.type){case"rectangle":case"embeddable":var L;if(G.roundness){var F=G.width,I=G.height,P=(0,y.yW)(Math.min(F,I),G);L=$.path("M ".concat(P," 0 L ").concat(F-P," 0 Q ").concat(F," 0, ").concat(F," ").concat(P," L ").concat(F," ").concat(I-P," Q ").concat(F," ").concat(I,", ").concat(F-P," ").concat(I," L ").concat(P," ").concat(I," Q 0 ").concat(I,", 0 ").concat(I-P," L 0 ").concat(P," Q 0 0, ").concat(P," 0"),me(ye(G,U),!0))}else L=$.rectangle(0,0,G.width,G.height,me(ye(G,U),!1));return L;case"diamond":var w,f=(0,p.UC)(G),r=(0,_.Z)(f,8),o=r[0],b=r[1],s=r[2],c=r[3],S=r[4],z=r[5],B=r[6],j=r[7];if(G.roundness){var C=(0,y.yW)(Math.abs(o-B),G),A=(0,y.yW)(Math.abs(c-b),G);w=$.path("M ".concat(o+C," ").concat(b+A," L ").concat(s-C," ").concat(c-A,`
            C `).concat(s," ").concat(c,", ").concat(s," ").concat(c,", ").concat(s-C," ").concat(c+A,`
            L `).concat(S+C," ").concat(z-A,`
            C `).concat(S," ").concat(z,", ").concat(S," ").concat(z,", ").concat(S-C," ").concat(z-A,`
            L `).concat(B+C," ").concat(j+A,`
            C `).concat(B," ").concat(j,", ").concat(B," ").concat(j,", ").concat(B+C," ").concat(j-A,`
            L `).concat(o-C," ").concat(b+A,`
            C `).concat(o," ").concat(b,", ").concat(o," ").concat(b,", ").concat(o+C," ").concat(b+A),me(G,!0))}else w=$.polygon([[o,b],[s,c],[S,z],[B,j]],me(G));return w;case"ellipse":var Y=$.ellipse(G.width/2,G.height/2,G.width,G.height,me(G));return Y;case"line":case"arrow":var ie,le=me(G),ce=G.points.length?G.points:[[0,0]];if(ie=G.roundness?[$.curve(ce,le)]:le.fill?[$.polygon(ce,le)]:[$.linearPath(ce,le)],G.type==="arrow"){var de=G.startArrowhead,J=de===void 0?null:de,ee=G.endArrowhead,he=ee===void 0?"arrow":ee,Pe=function(be,ve,D,l){var d=(0,p.Y5)(be,ve,D,l);if(d===null)return[];if(l==="dot"){var M=(0,_.Z)(d,3),V=M[0],q=M[1],re=M[2];return[$.circle(V,q,re,m(m({},le),{},{fill:be.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(l==="triangle"){var ae=(0,_.Z)(d,6),ge=ae[0],Se=ae[1],Re=ae[2],Ye=ae[3],Ge=ae[4],We=ae[5];return delete le.strokeLineDash,[$.polygon([[ge,Se],[Re,Ye],[Ge,We],[ge,Se]],m(m({},le),{},{fill:be.strokeColor,fillStyle:"solid"}))]}var qe=(0,_.Z)(d,6),lt=qe[0],ft=qe[1],ze=qe[2],we=qe[3],Me=qe[4],$e=qe[5];if(be.strokeStyle==="dotted"){var at=Q(be.strokeWidth-1);le.strokeLineDash=[at[0],at[1]-1]}else delete le.strokeLineDash;return[$.line(ze,we,lt,ft,le),$.line(Me,$e,lt,ft,le)]};if(J!==null){var He,Ke=Pe(G,ie,"start",J);(He=ie).push.apply(He,(0,e.Z)(Ke))}if(he!==null){var Ae,Oe=Pe(G,ie,"end",he);(Ae=ie).push.apply(Ae,(0,e.Z)(Oe))}}return ie;case"freedraw":var Te;if((0,T.Lc)(G),(0,y.g6)(G.points)){var De=(0,a.og)(G.points,.75);Te=$.curve(De,m(m({},me(G)),{},{stroke:"none"}))}else Te=null;return Te;case"frame":case"text":case"image":var ke=null;return ke;default:return(0,E.vE)(G,"generateElementShape(): Unimplemented type ".concat(G?.type)),null}}},2921:function(Ze,te,t){t.d(te,{R:function(){return T}});var e=t(5169),_=t(8821),g=t(8128),p=t(9660),y=t(6049),T=(0,e.Z)(function E(){(0,_.Z)(this,E)});T.rg=new g.V,T.cache=new WeakMap,T.get=function(E){return T.cache.get(E)},T.set=function(E,a){return T.cache.set(E,a)},T.delete=function(E){return T.cache.delete(E)},T.destroy=function(){T.cache=new WeakMap},T.generateElementShape=function(E){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],u=a?void 0:T.get(E);if(u!==void 0)return u;p.Xx.delete(E);var N=(0,y.i)(E,T.rg,a);return T.cache.set(E,N),N}},1648:function(Ze,te,t){t.d(te,{$b:function(){return _},CJ:function(){return u},M9:function(){return y},PD:function(){return g},QG:function(){return a},Un:function(){return E},Zd:function(){return p},sh:function(){return T}});var e=t(4183),_=function(N){return N==="rectangle"||N==="embeddable"||N==="ellipse"||N==="diamond"||N==="line"||N==="freedraw"},g=function(N){return N!=="image"&&N!=="frame"},p=function(N){return N==="rectangle"||N==="embeddable"||N==="ellipse"||N==="diamond"||N==="freedraw"||N==="arrow"||N==="line"},y=function(N){return N==="rectangle"||N==="embeddable"||N==="ellipse"||N==="diamond"||N==="arrow"||N==="line"},T=function(N){return N==="rectangle"||N==="embeddable"||N==="arrow"||N==="line"||N==="diamond"},E=function(N){return N==="arrow"},a=function(N,H){for(var x=null,m=N.length-1;m>=0;--m){var k=N[m];if(!k.isDeleted&&H(k)){x=k;break}}return x},u=function(N,H){var x=[];return N.filter(function(m){return!(m.isDeleted||!H(m))&&(!(0,e.gs)(m)||(x.push(m),!1))}).concat(x)}},3668:function(Ze,te,t){t.d(te,{$D:function(){return f},Cg:function(){return o},NL:function(){return w}});var e=t(7169),_=t(2577),g=t(8950),p=t(2975),y=t.n(p),T=t(9845),E=t(4949),a=t(7766),u=t(9827),N=t(9937),H=t(6853),x=t(4419),m=t(4178),k=t(6013),Q=t(4682),ue=t(7651),me=t(583),ye=t(457);function fe(b,s){var c=Object.keys(b);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(b);s&&(S=S.filter(function(z){return Object.getOwnPropertyDescriptor(b,z).enumerable})),c.push.apply(c,S)}return c}function G(b){for(var s=1;s<arguments.length;s++){var c=arguments[s]!=null?arguments[s]:{};s%2?fe(Object(c),!0).forEach(function(S){(0,e.Z)(b,S,c[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):fe(Object(c)).forEach(function(S){Object.defineProperty(b,S,Object.getOwnPropertyDescriptor(c,S))})}return b}function $(b,s){var c=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!c){if(Array.isArray(b)||(c=function(A,Y){if(A){if(typeof A=="string")return U(A,Y);var ie=Object.prototype.toString.call(A).slice(8,-1);if(ie==="Object"&&A.constructor&&(ie=A.constructor.name),ie==="Map"||ie==="Set")return Array.from(A);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return U(A,Y)}}(b))||s){c&&(b=c);var S=0,z=function(){};return{s:z,n:function(){return S>=b.length?{done:!0}:{done:!1,value:b[S++]}},e:function(A){throw A},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,j=!0,C=!1;return{s:function(){c=c.call(b)},n:function(){var A=c.next();return j=A.done,A},e:function(A){C=!0,B=A},f:function(){try{j||c.return==null||c.return()}finally{if(C)throw B}}}}function U(b,s){(s==null||s>b.length)&&(s=b.length);for(var c=0,S=new Array(s);c<s;c++)S[c]=b[c];return S}var L=function(b){var s=new ye.Z;return s.replaceAllElements((0,u.xU)(b),!1),s},F=function(b,s){if(b.width<=s)return b;var c=document.createElement("canvas").getContext("2d");c.font=(0,u.mO)({fontFamily:b.fontFamily,fontSize:b.fontSize});var S=b.text;if(c.measureText(S).width>s)for(var z=S.length;z>0;z--){var B="".concat(S.slice(0,z),"...");if(c.measureText(B).width<=s){S=B;break}}return(0,me.BE)(b,{text:S,width:s})},I=function(b,s){return s=s||(0,H.im)().frameRendering,{enabled:!!b||s.enabled,outline:!b&&s.outline,name:!b&&s.name,clip:!!b||s.clip}},P=function(b){var s=b.elements,c=b.exportingFrame,S=b.frameRendering,z=b.exportWithDarkMode;return c?(0,k.Xs)({elements:s,bounds:c,type:"overlap"}):S.enabled&&S.name?function(B,j){var C,A=[],Y=0,ie=$(B);try{for(ie.s();!(C=ie.n()).done;){var le=C.value;if((0,ue.He)(le)){Y++;var ce=(0,ue.VL)({x:le.x,y:le.y-N.iG.nameOffsetY,fontFamily:N.ut.Assistant,fontSize:N.iG.nameFontSize,lineHeight:N.iG.nameLineHeight,strokeColor:j.exportWithDarkMode?N.iG.nameColorDarkTheme:N.iG.nameColorLightTheme,text:le.name||"Frame ".concat(Y)});ce.y-=ce.height,ce=F(ce,le.width),A.push(ce)}A.push(le)}}catch(de){ie.e(de)}finally{ie.f()}return A}(s,{exportWithDarkMode:z}):s},w=function(){var b=(0,g.Z)(y().mark(function s(c,S,z,B){var j,C,A,Y,ie,le,ce,de,J,ee,he,Pe,He,Ke,Ae,Oe,Te,De,ke,be,ve,D,l,d=arguments;return y().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return C=B.exportBackground,A=B.exportPadding,Y=A===void 0?N.qy:A,ie=B.viewBackgroundColor,le=B.exportingFrame,ce=d.length>4&&d[4]!==void 0?d[4]:function(V,q){var re=document.createElement("canvas");return re.width=V*S.exportScale,re.height=q*S.exportScale,{canvas:re,scale:S.exportScale}},de=L(c),c=de.getNonDeletedElements(),J=I(le??null,(j=S.frameRendering)!==null&&j!==void 0?j:null),ee=P({elements:c,exportingFrame:le,exportWithDarkMode:S.exportWithDarkMode,frameRendering:J}),le&&(Y=0),he=r(le?[le]:(0,Q._h)(ee),Y),Pe=(0,_.Z)(he,4),He=Pe[0],Ke=Pe[1],Ae=Pe[2],Oe=Pe[3],Te=ce(Ae,Oe),De=Te.canvas,ke=Te.scale,be=ke===void 0?1:ke,ve=(0,H.im)(),M.next=12,(0,m.Xx)({imageCache:new Map,fileIds:(0,m.oA)(ee).map(function(V){return V.fileId}),files:z});case 12:return D=M.sent,l=D.imageCache,(0,a.AW)({canvas:De,rc:T.Z.canvas(De),elements:ee,visibleElements:ee,scale:be,appState:G(G({},S),{},{frameRendering:J,viewBackgroundColor:C?ie:null,scrollX:-He+Y,scrollY:-Ke+Y,zoom:ve.zoom,shouldCacheIgnoreZoom:!1,theme:S.exportWithDarkMode?"dark":"light"}),renderConfig:{imageCache:l,renderGrid:!1,isExporting:!0}}),de.destroy(),M.abrupt("return",De);case 17:case"end":return M.stop()}},s)}));return function(s,c,S,z){return b.apply(this,arguments)}}(),f=function(){var b=(0,g.Z)(y().mark(function s(c,S,z,B){var j,C,A,Y,ie,le,ce,de,J,ee,he,Pe,He,Ke,Ae,Oe,Te,De,ke,be,ve,D,l,d,M,V,q,re,ae,ge,Se,Re,Ye,Ge,We,qe,lt,ft,ze,we,Me,$e,at;return y().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(Y=L(c),c=Y.getNonDeletedElements(),ie=I((j=B?.exportingFrame)!==null&&j!==void 0?j:null,(C=S.frameRendering)!==null&&C!==void 0?C:null),le=S.exportPadding,ce=le===void 0?N.qy:le,de=S.exportWithDarkMode,J=de!==void 0&&de,ee=S.viewBackgroundColor,he=S.exportScale,Pe=he===void 0?1:he,He=S.exportEmbedScene,Ke=(B||{}).exportingFrame,Oe=P({elements:c,exportingFrame:Ae=Ke===void 0?null:Ke,exportWithDarkMode:J,frameRendering:ie}),Ae&&(ce=0),Te="",!He){dt.next=20;break}return dt.prev=9,dt.next=12,Promise.resolve().then(t.bind(t,250));case 12:return dt.next=14,dt.sent.encodeSvgMetadata({text:(0,x.I_)(c,S,z||{},"local")});case 14:Te=dt.sent,dt.next=20;break;case 17:dt.prev=17,dt.t0=dt.catch(9),console.error(dt.t0);case 20:De=r(Ae?[Ae]:(0,Q._h)(Oe),ce),ke=(0,_.Z)(De,4),be=ke[0],ve=ke[1],D=ke[2],l=ke[3],(d=document.createElementNS(N.hR,"svg")).setAttribute("version","1.1"),d.setAttribute("xmlns",N.hR),d.setAttribute("viewBox","0 0 ".concat(D," ").concat(l)),d.setAttribute("width","".concat(D*Pe)),d.setAttribute("height","".concat(l*Pe)),J&&d.setAttribute("filter",N.ZF),M="https://excalidraw.com/",M=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat({VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.PKG_VERSION),(V=M)!==null&&V!==void 0&&V.startsWith("/")&&(M=M.replace("/","".concat(window.location.origin,"/"))),M="".concat(M,"/dist/excalidraw-assets/"),q=-be+ce,re=-ve+ce,ae=(0,Q.wO)(c),ge="",Se=$(ae);try{for(Se.s();!(Re=Se.n()).done;)Ye=Re.value,Ge=(0,E.qf)(Ye),We=(0,_.Z)(Ge,4),qe=We[0],lt=We[1],ft=We[2],ze=We[3],we=(ft-qe)/2-(Ye.x-qe),Me=(ze-lt)/2-(Ye.y-lt),ge+="<clipPath id=".concat(Ye.id,`>
            <rect transform="translate(`).concat(Ye.x+q," ").concat(Ye.y+re,") rotate(").concat(Ye.angle," ").concat(we," ").concat(Me,`)"
          width="`).concat(Ye.width,`"
          height="`).concat(Ye.height,`"
          >
          </rect>
        </clipPath>`)}catch(vt){Se.e(vt)}finally{Se.f()}return d.innerHTML=`
  `.concat("<!-- svg-source:excalidraw -->",`
  `).concat(Te,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(M,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(M,`Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("`).concat(M,`Assistant-Regular.woff2");
      }
    </style>
    `).concat(ge,`
  </defs>
  `),S.exportBackground&&ee&&(($e=d.ownerDocument.createElementNS(N.hR,"rect")).setAttribute("x","0"),$e.setAttribute("y","0"),$e.setAttribute("width","".concat(D)),$e.setAttribute("height","".concat(l)),$e.setAttribute("fill",ee),d.appendChild($e)),at=T.Z.svg(d),(0,a.M_)(Oe,at,d,z||{},{offsetX:q,offsetY:re,exportWithDarkMode:J,renderEmbeddables:(A=B?.renderEmbeddables)!==null&&A!==void 0&&A,frameRendering:ie}),Y.destroy(),dt.abrupt("return",d);case 42:case"end":return dt.stop()}},s,null,[[9,17]])}));return function(s,c,S,z){return b.apply(this,arguments)}}(),r=function(b,s){var c=(0,E.KP)(b),S=(0,_.Z)(c,4),z=S[0],B=S[1],j=S[2],C=S[3];return[z,B,(0,u.TE)(z,j)+2*s,(0,u.TE)(B,C)+2*s]},o=function(b,s,c){var S=r(b,s).map(function(B){return Math.trunc(B*c)}),z=(0,_.Z)(S,4);return[z[2],z[3]]}},4105:function(Ze,te,t){t.d(te,{$b:function(){return p.$b},CJ:function(){return p.CJ},M9:function(){return p.M9},N:function(){return _.N},PR:function(){return _.PR},QG:function(){return p.QG},Un:function(){return p.Un},W:function(){return g.W},Yp:function(){return _.Yp},Zd:function(){return p.Zd},Zs:function(){return _.Zs},_4:function(){return e._4},eD:function(){return _.eD},j:function(){return y.j},sh:function(){return p.sh}});var e=t(4726),_=t(6264),g=t(2382),p=t(1648),y=t(4116)},2382:function(Ze,te,t){t.d(te,{W:function(){return y},s:function(){return p}});var e=t(2577),_=t(7651),g=t(9827),p=function(T){var E=T.scenePoint,a=T.viewportDimensions,u=T.zoom;return{scrollX:a.width/2/u.value-E.x,scrollY:a.height/2/u.value-E.y}},y=function(T,E){if(!(T=(0,_.n_)(T)).length)return{scrollX:0,scrollY:0};var a=(0,_.KP)(T),u=(0,e.Z)(a,4),N=u[0],H=u[1],x=u[2],m=u[3];if(function(ue,me){var ye=(0,e.Z)(me,4),fe=ye[0],G=ye[1],$=ye[2],U=ye[3],L=(0,g._i)({sceneX:fe,sceneY:G},ue),F=L.x,I=L.y,P=(0,g._i)({sceneX:$,sceneY:U},ue),w=P.x,f=P.y;return w-F>ue.width||f-I>ue.height}(E,[N,H,x,m])){var k=(0,_.os)(T,(0,g.dE)({clientX:E.scrollX,clientY:E.scrollY},E)),Q=(0,e.Z)(k,4);N=Q[0],H=Q[1],x=Q[2],m=Q[3]}return p({scenePoint:{x:(N+x)/2,y:(H+m)/2},viewportDimensions:{width:E.width,height:E.height},zoom:E.zoom})}},4726:function(Ze,te,t){t.d(te,{WM:function(){return y},_4:function(){return u},nn:function(){return T},tJ:function(){return a},w1:function(){return E}});var e=t(2577),_=t(7651),g=t(9827),p=t(8227),y=4,T=6,E="rgba(0,0,0,0.3)",a=function(N,H,x,m){if(N.length===0)return{horizontal:null,vertical:null};var k=(0,_.KP)(N),Q=(0,e.Z)(k,4),ue=Q[0],me=Q[1],ye=Q[2],fe=Q[3],G=H/m.zoom.value,$=x/m.zoom.value,U=H-G,L=x-$,F={top:parseInt((0,g.IH)("sat"))||0,bottom:parseInt((0,g.IH)("sab"))||0,left:parseInt((0,g.IH)("sal"))||0,right:parseInt((0,g.IH)("sar"))||0},I=(0,p.G3)().rtl,P=-m.scrollX+U/2+F.left,w=-m.scrollY+L/2+F.top,f=P+G-F.right,r=w+$-F.bottom,o=Math.min(ue,P),b=Math.min(me,w),s=Math.max(ye,f),c=Math.max(fe,r);return{horizontal:P===o&&f===s?null:{x:Math.max(F.left,y)+(P-o)/(s-o)*H,y:x-T-Math.max(y,F.bottom),width:(f-P)/(s-o)*H-Math.max(2*y,F.left+F.right),height:T},vertical:w===b&&r===c?null:{x:I?Math.max(F.left,y):H-T-Math.max(F.right,y),y:(w-b)/(c-b)*x+Math.max(F.top,y),width:T,height:(r-w)/(c-b)*x-Math.max(2*y,F.top+F.bottom)}}},u=function(N,H,x){var m=[N.horizontal,N.vertical].map(function(me){return me!=null&&me.x<=H&&H<=me.x+me.width&&me.y<=x&&x<=me.y+me.height}),k=(0,e.Z)(m,2),Q=k[0],ue=k[1];return{isOverEither:Q||ue,isOverHorizontal:Q,isOverVertical:ue}}},6264:function(Ze,te,t){t.d(te,{CF:function(){return m},N:function(){return k},Oh:function(){return ye},PR:function(){return Q},Yp:function(){return x},Zs:function(){return me},aI:function(){return H},eD:function(){return ue}});var e,_,g,p,y=t(2577),T=t(7651),E=t(4183),a=t(4682),u=t(9827),N=t(7935),H=function(fe){var G=new Set;return fe.forEach(function($){$.type==="frame"&&G.add($.id)}),fe.filter(function($){return!$.frameId||!G.has($.frameId)})},x=function(fe,G){var $=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],U=(0,T.qf)(G),L=(0,y.Z)(U,4),F=L[0],I=L[1],P=L[2],w=L[3],f=fe.filter(function(r){var o=(0,T.Pi)(r),b=(0,y.Z)(o,4),s=b[0],c=b[1],S=b[2],z=b[3],B=(0,a.$Z)(r);if(B){var j=(0,T.Pi)(B),C=(0,y.Z)(j,4),A=C[0],Y=C[1],ie=C[2],le=C[3];s=Math.max(A,s),c=Math.max(Y,c),S=Math.min(ie,S),z=Math.min(le,z)}return r.locked===!1&&r.type!=="selection"&&!(0,E.Xh)(r)&&F<=s&&I<=c&&P>=S&&w>=z});return f=(f=$?H(f):f).filter(function(r){var o=(0,a.$Z)(r);return!o||(0,a.cO)(r,o)})},m=function(fe,G,$){var U=new Set(G.map(function(L){return L.id}));return fe.filter(function(L){var F=(0,N.PZ)(L,$.width,$.height,$);return!U.has(L.id)&&F})},k=(e=null,_=null,g=null,(p=function(fe,G){return g!=null&&fe===e&&G.selectedElementIds===_||(g=fe.some(function($){return G.selectedElementIds[$.id]}),e=fe,_=G.selectedElementIds),g}).clearCache=function(){e=null,_=null,g=null},p),Q=function(fe,G,$){var U=Array.from(new Set(ue(fe,G).map(function(L){return $(L)})));return U.length===1?U[0]:null},ue=function(fe,G,$){var U=fe.filter(function(F){return G.selectedElementIds[F.id]||$!=null&&$.includeBoundTextElement&&(0,E.Xh)(F)&&G.selectedElementIds[F?.containerId]?F:null});if($!=null&&$.includeElementsInFrames){var L=[];return U.forEach(function(F){F.type==="frame"&&(0,a.zD)(fe,F.id).forEach(function(I){return L.push(I)}),L.push(F)}),L}return U},me=function(fe,G){return G.editingElement?[G.editingElement]:ue(fe,G,{includeBoundTextElement:!0})},ye=function(fe,G){return(0,u.w8)(G.selectedElementIds,fe)?G.selectedElementIds:fe}},4116:function(Ze,te,t){t.d(te,{E:function(){return g},j:function(){return _}});var e=t(9937),_=function(p){return Math.max(e.Zj,Math.min(p,30))},g=function(p,y){var T=p.viewportX,E=p.viewportY,a=p.nextZoom,u=T-y.offsetLeft,N=E-y.offsetTop,H=y.zoom.value;return{scrollX:y.scrollX+(u-u/H)+-(u-u/a),scrollY:y.scrollY+(N-N/H)+-(N-N/a),zoom:{value:a}}}},9827:function(Ze,te,t){t.d(te,{$9:function(){return le},$g:function(){return G},$h:function(){return Oe},AK:function(){return B},B4:function(){return P},C3:function(){return ee},Ds:function(){return U},FG:function(){return j},Fc:function(){return k},G3:function(){return J},G9:function(){return l},HP:function(){return D},I4:function(){return Pe},IH:function(){return c},Ip:function(){return ce},Mj:function(){return be},Om:function(){return r},Oo:function(){return Q},Qm:function(){return Y},TE:function(){return f},Vv:function(){return F},XF:function(){return d},_Z:function(){return me},_i:function(){return s},ag:function(){return Ke},cx:function(){return C},dE:function(){return b},dZ:function(){return z},h2:function(){return He},hR:function(){return L},mO:function(){return $},qr:function(){return A},qz:function(){return de},s:function(){return fe},tH:function(){return ie},uY:function(){return o},v4:function(){return Ae},vE:function(){return ve},w8:function(){return ke},wO:function(){return ue},xU:function(){return M},xn:function(){return he},xp:function(){return De},y1:function(){return ye},y8:function(){return Te},yo:function(){return w}});var e=t(6655),_=t(7169),g=t(1930),p=t(2577),y=t(9240),T=t(9937),E=t(5156),a=t(9787),u=t.n(a);function N(V,q){var re=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!re){if(Array.isArray(V)||(re=function(Ge,We){if(Ge){if(typeof Ge=="string")return H(Ge,We);var qe=Object.prototype.toString.call(Ge).slice(8,-1);if(qe==="Object"&&Ge.constructor&&(qe=Ge.constructor.name),qe==="Map"||qe==="Set")return Array.from(Ge);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return H(Ge,We)}}(V))||q){re&&(V=re);var ae=0,ge=function(){};return{s:ge,n:function(){return ae>=V.length?{done:!0}:{done:!1,value:V[ae++]}},e:function(Ge){throw Ge},f:ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Se,Re=!0,Ye=!1;return{s:function(){re=re.call(V)},n:function(){var Ge=re.next();return Re=Ge.done,Ge},e:function(Ge){Ye=!0,Se=Ge},f:function(){try{Re||re.return==null||re.return()}finally{if(Ye)throw Se}}}}function H(V,q){(q==null||q>V.length)&&(q=V.length);for(var re=0,ae=new Array(q);re<q;re++)ae[re]=V[re];return ae}function x(V,q){var re=Object.keys(V);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(V);q&&(ae=ae.filter(function(ge){return Object.getOwnPropertyDescriptor(V,ge).enumerable})),re.push.apply(re,ae)}return re}function m(V){for(var q=1;q<arguments.length;q++){var re=arguments[q]!=null?arguments[q]:{};q%2?x(Object(re),!0).forEach(function(ae){(0,_.Z)(V,ae,re[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(re)):x(Object(re)).forEach(function(ae){Object.defineProperty(V,ae,Object.getOwnPropertyDescriptor(re,ae))})}return V}var k=function(){var V=new Date,q=V.getFullYear(),re="".concat(V.getMonth()+1).padStart(2,"0"),ae="".concat(V.getDate()).padStart(2,"0"),ge="".concat(V.getHours()).padStart(2,"0"),Se="".concat(V.getMinutes()).padStart(2,"0");return"".concat(q,"-").concat(re,"-").concat(ae,"-").concat(ge).concat(Se)},Q=function(V){return V.charAt(0).toUpperCase()+V.slice(1)},ue=function(V){return V instanceof HTMLElement&&V.className.includes("ToolIcon")},me=function(V){return V instanceof HTMLElement&&V.dataset.type==="wysiwyg"||V instanceof HTMLBRElement||V instanceof HTMLInputElement||V instanceof HTMLTextAreaElement||V instanceof HTMLSelectElement},ye=function(V){return me(V)||V instanceof Element&&!!V.closest("label, button")},fe=function(V){return V instanceof HTMLElement&&V.dataset.type==="wysiwyg"||V instanceof HTMLBRElement||V instanceof HTMLTextAreaElement||V instanceof HTMLInputElement&&(V.type==="text"||V.type==="number")},G=function(V){for(var q=V.fontFamily,re=0,ae=Object.entries(T.ut);re<ae.length;re++){var ge=(0,p.Z)(ae[re],2),Se=ge[0];if(ge[1]===q)return"".concat(Se,", ").concat(T._D)}return T._D},$=function(V){var q=V.fontSize,re=V.fontFamily;return"".concat(q,"px ").concat(G({fontFamily:re}))},U=function(V,q){var re=0,ae=null,ge=function(){for(var Se=arguments.length,Re=new Array(Se),Ye=0;Ye<Se;Ye++)Re[Ye]=arguments[Ye];ae=Re,clearTimeout(re),re=window.setTimeout(function(){ae=null,V.apply(void 0,Re)},q)};return ge.flush=function(){if(clearTimeout(re),ae){var Se=ae;ae=null,V.apply(void 0,(0,g.Z)(Se))}},ge.cancel=function(){ae=null,clearTimeout(re)},ge},L=function(V,q){var re=null,ae=null,ge=null,Se=function Ye(Ge){re=window.requestAnimationFrame(function(){re=null,V.apply(void 0,(0,g.Z)(Ge)),ae=null,ge&&(ae=ge,ge=null,Ye(ae))})},Re=function(){for(var Ye=arguments.length,Ge=new Array(Ye),We=0;We<Ye;We++)Ge[We]=arguments[We];ae=Ge,re===null?Se(ae):q!=null&&q.trailing&&(ge=Ge)};return Re.flush=function(){re!==null&&(cancelAnimationFrame(re),re=null),ae&&(V.apply(void 0,(0,g.Z)(ge||ae)),ae=ge=null)},Re.cancel=function(){ae=ge=null,re!==null&&(cancelAnimationFrame(re),re=null)},Re},F=function(V){return 1-Math.pow(1-V,4)},I=function(V,q,re){return(q-V)*F(re)+V},P=function(V){var q,re=V.fromValues,ae=V.toValues,ge=V.onStep,Se=V.duration,Re=Se===void 0?250:Se,Ye=V.interpolateValue,Ge=V.onStart,We=V.onEnd,qe=V.onCancel,lt=!1,ft=0;return ft=window.requestAnimationFrame(function ze(we){if(!lt){q===void 0&&(q=we,Ge?.());var Me=Math.min(we-q,Re),$e=F(Me/Re),at={};if(Object.keys(re).forEach(function(Tt){var Et=Tt,jt=(ae[Et]-re[Et])*$e+re[Et];at[Et]=jt}),ge(at),Me<Re){var dt=Me/Re,vt={};Object.keys(re).forEach(function(Tt){var Et,jt=Tt,Kt=re[jt],Gt=ae[jt];(Et=Ye?Ye(Kt,Gt,dt,jt):I(Kt,Gt,dt))==null&&(Et=I(Kt,Gt,dt)),vt[jt]=Et}),ge(vt),ft=window.requestAnimationFrame(ze)}else ge(ae),We?.()}}),function(){qe?.(),lt=!0,window.cancelAnimationFrame(ft)}},w=function(V,q){if(!V.length||q<1)return[];for(var re=0,ae=0,ge=Array(Math.ceil(V.length/q));re<V.length;)ge[ae++]=V.slice(re,re+=q);return ge},f=function(V,q){return Math.abs(V-q)},r=function(V,q){var re,ae;return q.type==="custom"?m(m({},V.activeTool),{},{type:"custom",customType:q.customType,locked:(ae=q.locked)!==null&&ae!==void 0?ae:V.activeTool.locked}):m(m({},V.activeTool),{},{lastActiveTool:q.lastActiveToolBeforeEraser===void 0?V.activeTool.lastActiveTool:q.lastActiveToolBeforeEraser,type:q.type,customType:null,locked:(re=q.locked)!==null&&re!==void 0?re:V.activeTool.locked})},o=function(V){return V=V.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),T.Um?V.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):V.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},b=function(V,q){var re=V.clientX,ae=V.clientY,ge=q.zoom,Se=q.offsetLeft,Re=q.offsetTop,Ye=q.scrollX,Ge=q.scrollY;return{x:(re-Se)/ge.value-Ye,y:(ae-Re)/ge.value-Ge}},s=function(V,q){var re=V.sceneX,ae=V.sceneY,ge=q.zoom,Se=q.offsetLeft,Re=q.offsetTop,Ye=q.scrollX,Ge=q.scrollY;return{x:(re+Ye)*ge.value+Se,y:(ae+Ge)*ge.value+Re}},c=function(V){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(V))},S=new RegExp("^[^".concat("A-Za-z--------","]*[").concat("---","]")),z=function(V){return S.test(V)},B=function(V){var q=(0,p.Z)(V,2);return{x:q[0],y:q[1]}},j=function(V){if(V?.name!=="AbortError")throw V;console.warn(V)},C=function(V,q){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;re<0&&(re=V.length+re);for(var ae=(re=Math.min(V.length,Math.max(re,0)))-1;++ae<V.length;)if(q(V[ae],ae,V))return ae;return-1},A=function(V,q){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V.length-1;re<0&&(re=V.length+re);for(var ae=(re=Math.min(V.length-1,Math.max(re,0)))+1;--ae>-1;)if(q(V[ae],ae,V))return ae;return-1},Y=function(V){var q=V.length===5&&V.substr(4,1)==="0",re=V.length===9&&V.substr(7,2)==="00";return q||re||V===y.HO.transparent},ie=function(V){return function(q){(0,E.unstable_batchedUpdates)(V,q)}},le=function(V){return L(function(q){(0,E.unstable_batchedUpdates)(V,q)})},ce=function(V){for(var q=V.parentElement;q;){if(q===document.body)return document;var re=window.getComputedStyle(q).overflowY;if(q.scrollHeight>q.clientHeight&&(re==="auto"||re==="scroll"||re==="overlay"))return q;q=q.parentElement}return document},de=function(V){for(var q=V.parentElement;q;){if(q.tabIndex>-1)return void q.focus();q=q.parentElement}},J=function(V){return Array.from(V).map(function(q){return"0".concat(q.toString(16)).slice(-2)}).join("")},ee=function(){return He()?1:Date.now()},he=function(V){return V.reduce(function(q,re){return q.set(typeof re=="string"?re:re.id,re),q},new Map)},Pe=function(V){return V.reduce(function(q,re,ae){return q.set(re.id,[re,ae]),q},new Map)},He=function(){return!1},Ke=function(V,q){return new CustomEvent(V,{detail:{nativeEvent:q},cancelable:!0})},Ae=function(V,q){var re=!1;for(var ae in q){var ge=q[ae];if(ge!==void 0){if(V[ae]===ge&&((0,e.Z)(ge)!=="object"||ge===null))continue;re=!0}}return re?m(m({},V),q):V},Oe=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},Te=function(V){return!!V&&(0,e.Z)(V)==="object"&&"then"in V&&"catch"in V&&"finally"in V},De=function(V){var q=V?.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return q?Array.from(q).filter(function(re){return re.tabIndex>-1&&!re.disabled}):[]},ke=function(V,q,re){var ae=arguments.length>3&&arguments[3]!==void 0&&arguments[3],ge=Object.keys(V),Se=Object.keys(q);return ge.length===Se.length&&ge.every(function(Re){var Ye=re?.[Re],Ge=Ye?Ye(V[Re],q[Re]):V[Re]===q[Re];return!Ge&&ae&&console.info("%cisShallowEqual: ".concat(Re," not equal ->"),"color: #8B4000",V[Re],q[Re]),Ge})},be=function(V,q){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ae=re.checkForDefaultPrevented,ge=ae===void 0||ae;return function(Se){if(V?.(Se),!ge||!Se.defaultPrevented)return q?.(Se)}},ve=function(V,q,re){if(!q)return V;if(re)return console.error(q),V;throw new Error(q)},D=function(V){var q,re,ae=function(ge){var Se=Object.entries(ge);if(q){var Re,Ye=!0,Ge=N(Se);try{for(Ge.s();!(Re=Ge.n()).done;){var We=(0,p.Z)(Re.value,2),qe=We[0],lt=We[1];if(q.get(qe)!==lt){Ye=!1;break}}}catch(ze){Ge.e(ze)}finally{Ge.f()}if(Ye)return re}var ft=V(ge);return q=new Map(Se),re=ft,ft};return ae.clear=function(){q=void 0,re=void 0},ae},l=function(){var V;try{var q=u().version.split(".");V=Number(q[0])>17}catch{V=!1}var re=!1;return function(){return window.EXCALIDRAW_THROTTLE_RENDER===!0&&(!!V||(re||(re=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),d=function(V,q){return V instanceof Set||V instanceof Map?V.has(q):"includes"in V?V.includes(q):V.hasOwnProperty(q)},M=function(V){return JSON.parse(JSON.stringify(V))}},3041:function(Ze,te,t){var e=t(3379),_=t.n(e),g=t(7795),p=t.n(g),y=t(569),T=t.n(y),E=t(3565),a=t.n(E),u=t(9216),N=t.n(u),H=t(4589),x=t.n(H),m=t(2044),k={};k.styleTagTransform=x(),k.setAttributes=a(),k.insert=T().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=N(),_()(m.Z,k),m.Z&&m.Z.locals&&m.Z.locals},3379:function(Ze){var te=[];function t(g){for(var p=-1,y=0;y<te.length;y++)if(te[y].identifier===g){p=y;break}return p}function e(g,p){for(var y={},T=[],E=0;E<g.length;E++){var a=g[E],u=p.base?a[0]+p.base:a[0],N=y[u]||0,H="".concat(u," ").concat(N);y[u]=N+1;var x=t(H),m={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(x!==-1)te[x].references++,te[x].updater(m);else{var k=_(m,p);p.byIndex=E,te.splice(E,0,{identifier:H,updater:k,references:1})}T.push(H)}return T}function _(g,p){var y=p.domAPI(p);return y.update(g),function(T){if(T){if(T.css===g.css&&T.media===g.media&&T.sourceMap===g.sourceMap&&T.supports===g.supports&&T.layer===g.layer)return;y.update(g=T)}else y.remove()}}Ze.exports=function(g,p){var y=e(g=g||[],p=p||{});return function(T){T=T||[];for(var E=0;E<y.length;E++){var a=t(y[E]);te[a].references--}for(var u=e(T,p),N=0;N<y.length;N++){var H=t(y[N]);te[H].references===0&&(te[H].updater(),te.splice(H,1))}y=u}}},569:function(Ze){var te={};Ze.exports=function(t,e){var _=function(g){if(te[g]===void 0){var p=document.querySelector(g);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}te[g]=p}return te[g]}(t);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");_.appendChild(e)}},9216:function(Ze){Ze.exports=function(te){var t=document.createElement("style");return te.setAttributes(t,te.attributes),te.insert(t,te.options),t}},3565:function(Ze,te,t){Ze.exports=function(e){var _=t.nc;_&&e.setAttribute("nonce",_)}},7795:function(Ze){Ze.exports=function(te){if(typeof document>"u")return{update:function(){},remove:function(){}};var t=te.insertStyleElement(te);return{update:function(e){(function(_,g,p){var y="";p.supports&&(y+="@supports (".concat(p.supports,") {")),p.media&&(y+="@media ".concat(p.media," {"));var T=p.layer!==void 0;T&&(y+="@layer".concat(p.layer.length>0?" ".concat(p.layer):""," {")),y+=p.css,T&&(y+="}"),p.media&&(y+="}"),p.supports&&(y+="}");var E=p.sourceMap;E&&typeof btoa<"u"&&(y+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(E))))," */")),g.styleTagTransform(y,_,g.options)})(t,te,e)},remove:function(){(function(e){if(e.parentNode===null)return!1;e.parentNode.removeChild(e)})(t)}}}},4589:function(Ze){Ze.exports=function(te,t){if(t.styleSheet)t.styleSheet.cssText=te;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(te))}}},9669:function(Ze){Ze.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(Ze){Ze.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(Ze){Ze.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(Ze,te,t){Ze.exports=t.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(Ze,te,t){Ze.exports=t.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(Ze,te,t){Ze.exports=t.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(Ze,te,t){Ze.exports=t.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(Ze,te,t){Ze.exports=t.p+"excalidraw-assets/Cascadia.woff2"},3940:function(Ze,te,t){Ze.exports=t.p+"excalidraw-assets/Virgil.woff2"},9787:function(Ze){Ze.exports=R},5156:function(Ze){Ze.exports=pe},9649:function(Ze,te,t){var e=t(8114).default;function _(){Ze.exports=_=function(){return g},Ze.exports.__esModule=!0,Ze.exports.default=Ze.exports;var g={},p=Object.prototype,y=p.hasOwnProperty,T=Object.defineProperty||function(b,s,c){b[s]=c.value},E=typeof Symbol=="function"?Symbol:{},a=E.iterator||"@@iterator",u=E.asyncIterator||"@@asyncIterator",N=E.toStringTag||"@@toStringTag";function H(b,s,c){return Object.defineProperty(b,s,{value:c,enumerable:!0,configurable:!0,writable:!0}),b[s]}try{H({},"")}catch{H=function(b,s,c){return b[s]=c}}function x(b,s,c,S){var z=s&&s.prototype instanceof Q?s:Q,B=Object.create(z.prototype),j=new f(S||[]);return T(B,"_invoke",{value:F(b,c,j)}),B}function m(b,s,c){try{return{type:"normal",arg:b.call(s,c)}}catch(S){return{type:"throw",arg:S}}}g.wrap=x;var k={};function Q(){}function ue(){}function me(){}var ye={};H(ye,a,function(){return this});var fe=Object.getPrototypeOf,G=fe&&fe(fe(r([])));G&&G!==p&&y.call(G,a)&&(ye=G);var $=me.prototype=Q.prototype=Object.create(ye);function U(b){["next","throw","return"].forEach(function(s){H(b,s,function(c){return this._invoke(s,c)})})}function L(b,s){function c(z,B,j,C){var A=m(b[z],b,B);if(A.type!=="throw"){var Y=A.arg,ie=Y.value;return ie&&e(ie)=="object"&&y.call(ie,"__await")?s.resolve(ie.__await).then(function(le){c("next",le,j,C)},function(le){c("throw",le,j,C)}):s.resolve(ie).then(function(le){Y.value=le,j(Y)},function(le){return c("throw",le,j,C)})}C(A.arg)}var S;T(this,"_invoke",{value:function(z,B){function j(){return new s(function(C,A){c(z,B,C,A)})}return S=S?S.then(j,j):j()}})}function F(b,s,c){var S="suspendedStart";return function(z,B){if(S==="executing")throw new Error("Generator is already running");if(S==="completed"){if(z==="throw")throw B;return o()}for(c.method=z,c.arg=B;;){var j=c.delegate;if(j){var C=I(j,c);if(C){if(C===k)continue;return C}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(S==="suspendedStart")throw S="completed",c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);S="executing";var A=m(b,s,c);if(A.type==="normal"){if(S=c.done?"completed":"suspendedYield",A.arg===k)continue;return{value:A.arg,done:c.done}}A.type==="throw"&&(S="completed",c.method="throw",c.arg=A.arg)}}}function I(b,s){var c=s.method,S=b.iterator[c];if(S===void 0)return s.delegate=null,c==="throw"&&b.iterator.return&&(s.method="return",s.arg=void 0,I(b,s),s.method==="throw")||c!=="return"&&(s.method="throw",s.arg=new TypeError("The iterator does not provide a '"+c+"' method")),k;var z=m(S,b.iterator,s.arg);if(z.type==="throw")return s.method="throw",s.arg=z.arg,s.delegate=null,k;var B=z.arg;return B?B.done?(s[b.resultName]=B.value,s.next=b.nextLoc,s.method!=="return"&&(s.method="next",s.arg=void 0),s.delegate=null,k):B:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,k)}function P(b){var s={tryLoc:b[0]};1 in b&&(s.catchLoc=b[1]),2 in b&&(s.finallyLoc=b[2],s.afterLoc=b[3]),this.tryEntries.push(s)}function w(b){var s=b.completion||{};s.type="normal",delete s.arg,b.completion=s}function f(b){this.tryEntries=[{tryLoc:"root"}],b.forEach(P,this),this.reset(!0)}function r(b){if(b){var s=b[a];if(s)return s.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length)){var c=-1,S=function z(){for(;++c<b.length;)if(y.call(b,c))return z.value=b[c],z.done=!1,z;return z.value=void 0,z.done=!0,z};return S.next=S}}return{next:o}}function o(){return{value:void 0,done:!0}}return ue.prototype=me,T($,"constructor",{value:me,configurable:!0}),T(me,"constructor",{value:ue,configurable:!0}),ue.displayName=H(me,N,"GeneratorFunction"),g.isGeneratorFunction=function(b){var s=typeof b=="function"&&b.constructor;return!!s&&(s===ue||(s.displayName||s.name)==="GeneratorFunction")},g.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,me):(b.__proto__=me,H(b,N,"GeneratorFunction")),b.prototype=Object.create($),b},g.awrap=function(b){return{__await:b}},U(L.prototype),H(L.prototype,u,function(){return this}),g.AsyncIterator=L,g.async=function(b,s,c,S,z){z===void 0&&(z=Promise);var B=new L(x(b,s,c,S),z);return g.isGeneratorFunction(s)?B:B.next().then(function(j){return j.done?j.value:B.next()})},U($),H($,N,"Generator"),H($,a,function(){return this}),H($,"toString",function(){return"[object Generator]"}),g.keys=function(b){var s=Object(b),c=[];for(var S in s)c.push(S);return c.reverse(),function z(){for(;c.length;){var B=c.pop();if(B in s)return z.value=B,z.done=!1,z}return z.done=!0,z}},g.values=r,f.prototype={constructor:f,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!b)for(var s in this)s.charAt(0)==="t"&&y.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=void 0)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var s=this;function c(A,Y){return B.type="throw",B.arg=b,s.next=A,Y&&(s.method="next",s.arg=void 0),!!Y}for(var S=this.tryEntries.length-1;S>=0;--S){var z=this.tryEntries[S],B=z.completion;if(z.tryLoc==="root")return c("end");if(z.tryLoc<=this.prev){var j=y.call(z,"catchLoc"),C=y.call(z,"finallyLoc");if(j&&C){if(this.prev<z.catchLoc)return c(z.catchLoc,!0);if(this.prev<z.finallyLoc)return c(z.finallyLoc)}else if(j){if(this.prev<z.catchLoc)return c(z.catchLoc,!0)}else{if(!C)throw new Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return c(z.finallyLoc)}}}},abrupt:function(b,s){for(var c=this.tryEntries.length-1;c>=0;--c){var S=this.tryEntries[c];if(S.tryLoc<=this.prev&&y.call(S,"finallyLoc")&&this.prev<S.finallyLoc){var z=S;break}}z&&(b==="break"||b==="continue")&&z.tryLoc<=s&&s<=z.finallyLoc&&(z=null);var B=z?z.completion:{};return B.type=b,B.arg=s,z?(this.method="next",this.next=z.finallyLoc,k):this.complete(B)},complete:function(b,s){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&s&&(this.next=s),k},finish:function(b){for(var s=this.tryEntries.length-1;s>=0;--s){var c=this.tryEntries[s];if(c.finallyLoc===b)return this.complete(c.completion,c.afterLoc),w(c),k}},catch:function(b){for(var s=this.tryEntries.length-1;s>=0;--s){var c=this.tryEntries[s];if(c.tryLoc===b){var S=c.completion;if(S.type==="throw"){var z=S.arg;w(c)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(b,s,c){return this.delegate={iterator:r(b),resultName:s,nextLoc:c},this.method==="next"&&(this.arg=void 0),k}},g}Ze.exports=_,Ze.exports.__esModule=!0,Ze.exports.default=Ze.exports},8114:function(Ze){function te(t){return Ze.exports=te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze.exports.__esModule=!0,Ze.exports.default=Ze.exports,te(t)}Ze.exports=te,Ze.exports.__esModule=!0,Ze.exports.default=Ze.exports},2975:function(Ze,te,t){var e=t(9649)();Ze.exports=e;try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},7017:function(Ze,te,t){function e(_,g){(g==null||g>_.length)&&(g=_.length);for(var p=0,y=new Array(g);p<g;p++)y[p]=_[p];return y}t.d(te,{Z:function(){return e}})},3173:function(Ze,te,t){function e(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}t.d(te,{Z:function(){return e}})},8950:function(Ze,te,t){function e(g,p,y,T,E,a,u){try{var N=g[a](u),H=N.value}catch(x){return void y(x)}N.done?p(H):Promise.resolve(H).then(T,E)}function _(g){return function(){var p=this,y=arguments;return new Promise(function(T,E){var a=g.apply(p,y);function u(H){e(a,T,E,u,N,"next",H)}function N(H){e(a,T,E,u,N,"throw",H)}u(void 0)})}}t.d(te,{Z:function(){return _}})},8821:function(Ze,te,t){function e(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}t.d(te,{Z:function(){return e}})},5169:function(Ze,te,t){t.d(te,{Z:function(){return g}});var e=t(3525);function _(p,y){for(var T=0;T<y.length;T++){var E=y[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,(0,e.Z)(E.key),E)}}function g(p,y,T){return y&&_(p.prototype,y),T&&_(p,T),Object.defineProperty(p,"prototype",{writable:!1}),p}},7169:function(Ze,te,t){t.d(te,{Z:function(){return _}});var e=t(3525);function _(g,p,y){return(p=(0,e.Z)(p))in g?Object.defineProperty(g,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[p]=y,g}},11:function(Ze,te,t){function e(){return e=Object.assign?Object.assign.bind():function(_){for(var g=1;g<arguments.length;g++){var p=arguments[g];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(_[y]=p[y])}return _},e.apply(this,arguments)}t.d(te,{Z:function(){return e}})},2312:function(Ze,te,t){function e(_){return e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},e(_)}t.d(te,{Z:function(){return e}})},2248:function(Ze,te,t){t.d(te,{Z:function(){return _}});var e=t(5901);function _(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),p&&(0,e.Z)(g,p)}},2726:function(Ze,te,t){function e(_,g){if(_==null)return{};var p,y,T=function(a,u){if(a==null)return{};var N,H,x={},m=Object.keys(a);for(H=0;H<m.length;H++)N=m[H],u.indexOf(N)>=0||(x[N]=a[N]);return x}(_,g);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(_);for(y=0;y<E.length;y++)p=E[y],g.indexOf(p)>=0||Object.prototype.propertyIsEnumerable.call(_,p)&&(T[p]=_[p])}return T}t.d(te,{Z:function(){return e}})},7245:function(Ze,te,t){t.d(te,{Z:function(){return g}});var e=t(6655),_=t(3173);function g(p,y){if(y&&((0,e.Z)(y)==="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,_.Z)(p)}},5901:function(Ze,te,t){function e(_,g){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,y){return p.__proto__=y,p},e(_,g)}t.d(te,{Z:function(){return e}})},2577:function(Ze,te,t){t.d(te,{Z:function(){return _}});var e=t(9139);function _(g,p){return function(y){if(Array.isArray(y))return y}(g)||function(y,T){var E=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(E!=null){var a,u,N,H,x=[],m=!0,k=!1;try{if(N=(E=E.call(y)).next,T===0){if(Object(E)!==E)return;m=!1}else for(;!(m=(a=N.call(E)).done)&&(x.push(a.value),x.length!==T);m=!0);}catch(Q){k=!0,u=Q}finally{try{if(!m&&E.return!=null&&(H=E.return(),Object(H)!==H))return}finally{if(k)throw u}}return x}}(g,p)||(0,e.Z)(g,p)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(Ze,te,t){t.d(te,{Z:function(){return g}});var e=t(7017),_=t(9139);function g(p){return function(y){if(Array.isArray(y))return(0,e.Z)(y)}(p)||function(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}(p)||(0,_.Z)(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},3525:function(Ze,te,t){t.d(te,{Z:function(){return _}});var e=t(6655);function _(g){var p=function(y,T){if((0,e.Z)(y)!=="object"||y===null)return y;var E=y[Symbol.toPrimitive];if(E!==void 0){var a=E.call(y,T||"default");if((0,e.Z)(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(y)}(g,"string");return(0,e.Z)(p)==="symbol"?p:String(p)}},6655:function(Ze,te,t){function e(_){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(_)}t.d(te,{Z:function(){return e}})},9139:function(Ze,te,t){t.d(te,{Z:function(){return _}});var e=t(7017);function _(g,p){if(g){if(typeof g=="string")return(0,e.Z)(g,p);var y=Object.prototype.toString.call(g).slice(8,-1);return y==="Object"&&g.constructor&&(y=g.constructor.name),y==="Map"||y==="Set"?Array.from(g):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?(0,e.Z)(g,p):void 0}}},3607:function(Ze,te,t){t.d(te,{zt:function(){return G},cn:function(){return $},Vv:function(){return ue},KO:function(){return F},Dv:function(){return U},b9:function(){return L}});var e=t(9787);let _=0;const g=Symbol(),p=I=>!!I[g],y=I=>!I[g].c,T=I=>{var P;const{b:w,c:f}=I[g];f&&(f(),(P=u.get(w))==null||P())},E=(I,P)=>{const w=I[g].o,f=P[g].o;return w===f||I===f||p(w)&&E(w,P)},a=(I,P)=>{const w={b:I,o:P,c:null},f=new Promise(r=>{w.c=()=>{w.c=null,r()},P.finally(w.c)});return f[g]=w,f},u=new WeakMap,N=I=>"init"in I,H="r",x="w",m="c",k="s",Q=I=>{const P=new WeakMap,w=new WeakMap,f=new Map;let r,o;if(r=new Set,o=new Set,I)for(const[De,ke]of I){const be={v:ke,r:0,y:!0,d:new Map};Object.freeze(be),N(De)||console.warn("Found initial value for derived atom which can cause unexpected behavior",De),P.set(De,be)}const b=new WeakMap,s=new WeakMap,c=De=>{let ke=s.get(De);return ke||(ke=new Map,s.set(De,ke)),ke},S=(De,ke)=>{if(De){const be=c(De);let ve=be.get(ke);return ve||(ve=S(De.p,ke),ve&&"p"in ve&&y(ve.p)&&(ve=void 0),ve&&be.set(ke,ve)),ve}return P.get(ke)},z=(De,ke,be)=>{if(Object.freeze(be),De)c(De).set(ke,be);else{const ve=P.get(ke);P.set(ke,be),f.has(ke)||f.set(ke,ve)}},B=(De,ke=new Map,be)=>{if(!be)return ke;const ve=new Map;let D=!1;return be.forEach(l=>{var d;const M=((d=S(De,l))==null?void 0:d.r)||0;ve.set(l,M),ke.get(l)!==M&&(D=!0)}),ke.size!==ve.size||D?ve:ke},j=(De,ke,be,ve,D)=>{const l=S(De,ke);if(l){if(D&&(!("p"in l)||!E(l.p,D)))return l;"p"in l&&T(l.p)}const d={v:be,r:l?.r||0,y:!0,d:B(De,l?.d,ve)};let M=!l?.y;return l&&"v"in l&&Object.is(l.v,be)?d.d===l.d||d.d.size===l.d.size&&Array.from(d.d.keys()).every(V=>l.d.has(V))||(M=!0,Promise.resolve().then(()=>{Ke(De)})):(M=!0,++d.r,d.d.has(ke)&&(d.d=new Map(d.d).set(ke,d.r))),l&&!M?l:(z(De,ke,d),d)},C=(De,ke,be,ve,D)=>{const l=S(De,ke);if(l){if(D&&(!("p"in l)||!E(l.p,D)))return l;"p"in l&&T(l.p)}const d={e:be,r:(l?.r||0)+1,y:!0,d:B(De,l?.d,ve)};return z(De,ke,d),d},A=(De,ke,be,ve)=>{const D=S(De,ke);if(D&&"p"in D){if(E(D.p,be)&&!y(D.p))return D.y?D:{...D,y:!0};T(D.p)}((d,M,V)=>{let q=b.get(M);q||(q=new Map,b.set(M,q)),V.then(()=>{q.get(d)===V&&(q.delete(d),q.size||b.delete(M))}),q.set(d,V)})(De,ke,be);const l={p:be,r:(D?.r||0)+1,y:!0,d:B(De,D?.d,ve)};return z(De,ke,l),l},Y=(De,ke,be,ve)=>{if(be instanceof Promise){const D=a(be,be.then(l=>{j(De,ke,l,ve,D)}).catch(l=>{if(l instanceof Promise)return p(l)?l.then(()=>{ie(De,ke,!0)}):l;C(De,ke,l,ve,D)}));return A(De,ke,D,ve)}return j(De,ke,be,ve)},ie=(De,ke,be)=>{if(!be){const D=S(De,ke);if(D){if(D.y&&"p"in D&&!y(D.p))return D;if(D.d.forEach((l,d)=>{if(d!==ke)if(w.has(d)){const M=S(De,d);M&&!M.y&&ie(De,d)}else ie(De,d)}),Array.from(D.d).every(([l,d])=>{const M=S(De,l);return M&&!("p"in M)&&M.r===d}))return D.y?D:{...D,y:!0}}}const ve=new Set;try{const D=ke.read(l=>{ve.add(l);const d=l===ke?S(De,l):ie(De,l);if(d){if("e"in d)throw d.e;if("p"in d)throw d.p;return d.v}if(N(l))return l.init;throw new Error("no atom init")});return Y(De,ke,D,ve)}catch(D){if(D instanceof Promise){const l=p(D)&&y(D)?(d=>a(d[g].b,d[g].o))(D):a(D,D);return A(De,ke,l,ve)}return C(De,ke,D,ve)}},le=(De,ke)=>ie(ke,De),ce=(De,ke)=>!ke.l.size&&(!ke.t.size||ke.t.size===1&&ke.t.has(De)),de=(De,ke)=>{w.get(ke)?.t.forEach(ve=>{ve!==ke&&(((D,l)=>{const d=S(D,l);if(d){const M={...d,y:!1};z(D,l,M)}else console.warn("[Bug] could not invalidate non existing atom",l)})(De,ve),de(De,ve))})},J=(De,ke,be)=>{let ve=!0;const D=(d,M)=>{const V=ie(De,d);if("e"in V)throw V.e;if("p"in V){if(M?.unstable_promise)return V.p.then(()=>{const q=S(De,d);return q&&"p"in q&&q.p===V.p?new Promise(re=>setTimeout(re)).then(()=>D(d,M)):D(d,M)});throw console.info("Reading pending atom state in write operation. We throw a promise for now.",d),V.p}if("v"in V)return V.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",d),new Error("no value found")},l=ke.write(D,(d,M)=>{let V;if(d===ke){if(!N(d))throw new Error("atom not writable");(q=>{const re=new Set,ae=b.get(q);return ae&&(b.delete(q),ae.forEach((ge,Se)=>{T(ge),re.add(Se)})),re})(d).forEach(q=>{q!==De&&Y(q,d,M)}),S(De,d)!==Y(De,d,M)&&de(De,d)}else V=J(De,d,M);return ve||Ke(De),V},be);return ve=!1,l},ee=(De,ke,be)=>{const ve=J(be,De,ke);return Ke(be),ve},he=(De,ke,be)=>{const ve={t:new Set(be&&[be]),l:new Set};if(w.set(ke,ve),o.add(ke),ie(void 0,ke).d.forEach((D,l)=>{const d=w.get(l);d?d.t.add(ke):l!==ke&&he(De,l,ke)}),(D=>!!D.write)(ke)&&ke.onMount){const D=d=>ee(ke,d,De),l=ke.onMount(D);De=void 0,l&&(ve.u=l)}return ve},Pe=(De,ke)=>{var be;const ve=(be=w.get(ke))==null?void 0:be.u;ve&&ve(),w.delete(ke),o.delete(ke);const D=S(De,ke);D?("p"in D&&T(D.p),D.d.forEach((l,d)=>{if(d!==ke){const M=w.get(d);M&&(M.t.delete(ke),ce(d,M)&&Pe(De,d))}})):console.warn("[Bug] could not find atom state to unmount",ke)},He=(De,ke,be,ve)=>{const D=new Set(be.d.keys());ve?.forEach((l,d)=>{if(D.has(d))return void D.delete(d);const M=w.get(d);M&&(M.t.delete(ke),ce(d,M)&&Pe(De,d))}),D.forEach(l=>{const d=w.get(l);d?d.t.add(ke):w.has(ke)&&he(De,l,ke)})},Ke=De=>{if(De)c(De).forEach((ke,be)=>{ke!==P.get(be)&&w.get(be)?.l.forEach(D=>D(De))});else{for(;f.size;){const ke=Array.from(f);f.clear(),ke.forEach(([be,ve])=>{const D=S(void 0,be);if(D&&D.d!==ve?.d&&He(void 0,be,D,ve?.d),ve&&!ve.y&&D?.y)return;w.get(be)?.l.forEach(d=>d())})}r.forEach(ke=>ke())}},Ae=(De,ke)=>{ke&&(be=>{c(be).forEach((ve,D)=>{const l=P.get(D);(!l||ve.r>l.r||ve.y!==l.y||ve.r===l.r&&ve.d!==l.d)&&(P.set(D,ve),ve.d!==l?.d&&He(be,D,ve,l?.d))})})(ke),Ke(void 0)},Oe=(De,ke,be)=>{const ve=((l,d)=>{let M=w.get(d);return M||(M=he(l,d)),M})(be,De),D=ve.l;return D.add(ke),()=>{D.delete(ke),((l,d)=>{const M=w.get(d);M&&ce(d,M)&&Pe(l,d)})(be,De)}},Te=(De,ke)=>{for(const[be,ve]of De)N(be)&&(Y(ke,be,ve),de(ke,be));Ke(ke)};return{[H]:le,[x]:ee,[m]:Ae,[k]:Oe,h:Te,n:De=>(r.add(De),()=>{r.delete(De)}),l:()=>o.values(),a:De=>P.get(De),m:De=>w.get(De)}},ue=I=>{const P=Q(I),w=f=>new Promise((r,o)=>{const b=P.r(f);"e"in b?o(b.e):r("p"in b?b.p.then(()=>w(f)):b.v)});return{get:f=>{const r=P.r(f);if("e"in r)throw r.e;if(!("p"in r))return r.v},asyncGet:w,set:(f,r)=>P.w(f,r),sub:(f,r)=>P.s(f,r),SECRET_INTERNAL_store:P}},me=(I,P)=>({s:P?P(I).SECRET_INTERNAL_store:Q(I)}),ye=new Map,fe=I=>(ye.has(I)||ye.set(I,(0,e.createContext)(me())),ye.get(I)),G=({children:I,initialValues:P,scope:w,unstable_createStore:f,unstable_enableVersionedWrite:r})=>{const[o,b]=(0,e.useState)({});(0,e.useEffect)(()=>{const S=s.current;S.w&&(S.s.c(null,o),delete o.p,S.v=o)},[o]);const s=(0,e.useRef)();if(!s.current){const S=me(P,f);if(r){let z=0;S.w=B=>{b(j=>{const C=z?j:{p:j};return B(C),C})},S.v=o,S.r=B=>{++z,B(),--z}}s.current=S}const c=fe(w);return(0,e.createElement)(c.Provider,{value:s.current},I)};function $(I,P){return function(w,f){const r="atom"+ ++_,o={toString:()=>r};return typeof w=="function"?o.read=w:(o.init=w,o.read=b=>b(o),o.write=(b,s,c)=>s(o,typeof c=="function"?c(b(o)):c)),f&&(o.write=f),o}(I,P)}function U(I,P){const w=fe(P),f=(0,e.useContext)(w),{s:r,v:o}=f,b=j=>{const C=r.r(I,j);if(!C.y)throw new Error("should not be invalidated");if("e"in C)throw C.e;if("p"in C)throw C.p;if("v"in C)return C.v;throw new Error("no atom value")},[[s,c,S],z]=(0,e.useReducer)((j,C)=>{const A=b(C);return Object.is(j[1],A)&&j[2]===I?j:[C,A,I]},o,j=>[j,b(j),I]);let B=c;return S!==I&&(z(s),B=b(s)),(0,e.useEffect)(()=>{const{v:j}=f;j&&r.c(I,j);const C=r.s(I,z,j);return z(j),C},[r,I,f]),(0,e.useEffect)(()=>{r.c(I,s)}),(0,e.useDebugValue)(B),B}function L(I,P){const w=fe(P),{s:f,w:r}=(0,e.useContext)(w);return(0,e.useCallback)(o=>{if(!("write"in I))throw new Error("not writable atom");const b=s=>f.w(I,o,s);return r?r(b):b()},[f,r,I])}function F(I,P){return"scope"in I&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),P=I.scope),[U(I,P),L(I,P)]}},5605:function(Ze,te,t){t.d(te,{x0:function(){return e}});let e=(_=21)=>crypto.getRandomValues(new Uint8Array(_)).reduce((g,p)=>g+=(p&=63)<36?p.toString(36):p<62?(p-26).toString(36).toUpperCase():p>62?"-":"_","")},5284:function(Ze){Ze.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(Ze){Ze.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library","libraries":"Browse libraries","loadingScene":"Loading scene","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","editEmbed":"Edit link & embed","create":"Create link","createEmbed":"Create link & embed","label":"Link","labelEmbed":"Link & embed","empty":"No link is set"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open","selectAllElementsInFrame":"Select all elements in frame","removeAllElementsFromFrame":"Remove all elements from frame","eyeDropper":"Pick color from canvas"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","copyToClipboard":"Copy to clipboard","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","objectsSnapMode":"Snap to objects","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","embed":"Toggle embedding","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm","embeddableInteractionButton":"Click to interact"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","failedToFetchImage":"Failed to fetch image.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","imageToolNotSupported":"Images are disabled.","brave_measure_text_error":{"line1":"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.","line2":"This could result in breaking the <bold>Text Elements</bold> in your drawings.","line3":"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.","line4":"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},"libraryElementTypeError":{"embeddable":"Embeddable elements cannot be added to the library.","image":"Support for adding images to the library coming soon!"},"asyncPasteFailedOnRead":"Couldn't paste (couldn't read from system clipboard).","asyncPasteFailedOnParse":"Couldn't paste.","copyToSystemClipboardFailed":"Couldn't copy to clipboard."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","frame":"Frame tool","embeddable":"Web Embed","laser":"Laser pointer","hand":"Hand (panning tool)","extraTools":"More tools","mermaidToExcalidraw":"Mermaid to Excalidraw"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","embeddable":"Click-drag to create a website embed","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page.","disableSnapping":"Hold CtrlOrCmd to disable snapping"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain":"Encountered an error. Try <button>reloading the page</button>.","clearCanvasMessage":"If reloading doesn't work, try <button>clearing the canvas</button>.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry":"The error with identifier {{eventId}} was tracked on our system.","openIssueMessage":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.","noteGuidelines":"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.","noteLicense":"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.","noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"imageExportDialog":{"header":"Export image","label":{"withBackground":"Background","onlySelected":"Only selected","darkMode":"Dark mode","embedScene":"Embed scene","scale":"Scale","padding":"Padding"},"tooltip":{"embedScene":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size."},"title":{"exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyPngToClipboard":"Copy PNG to clipboard"},"button":{"exportToPng":"PNG","exportToSvg":"SVG","copyPngToClipboard":"Copy to clipboard"}},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor","unableToEmbed":"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted","unrecognizedLinkFormat":"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site"},"colors":{"transparent":"Transparent","black":"Black","white":"White","red":"Red","pink":"Pink","grape":"Grape","violet":"Violet","gray":"Gray","blue":"Blue","cyan":"Cyan","teal":"Teal","green":"Green","yellow":"Yellow","orange":"Orange","bronze":"Bronze"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}},"colorPicker":{"mostUsedCustomColors":"Most used custom colors","colors":"Colors","shades":"Shades","hexCode":"Hex code","noShades":"No shades available for this color"},"overwriteConfirm":{"action":{"exportToImage":{"title":"Export as image","button":"Export as image","description":"Export the scene data as an image from which you can import later."},"saveToDisk":{"title":"Save to disk","button":"Save to disk","description":"Export the scene data to a file from which you can import later."},"excalidrawPlus":{"title":"Excalidraw+","button":"Export to Excalidraw+","description":"Save the scene to your Excalidraw+ workspace."}},"modal":{"loadFromFile":{"title":"Load from file","button":"Load from file","description":"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},"shareableLink":{"title":"Load from link","button":"Replace my content","description":"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},"mermaid":{"title":"Mermaid to Excalidraw","button":"Insert","description":"Currently only <flowchartLink>Flowcharts</flowchartLink> and <sequenceLink>Sequence Diagrams</sequenceLink> are supported. The other types will be rendered as image in Excalidraw.","syntax":"Mermaid Syntax","preview":"Preview"}}`)},4451:function(Ze){Ze.exports=JSON.parse('{"ar-SA":99,"az-AZ":18,"bg-BG":75,"bn-BD":55,"ca-ES":81,"cs-CZ":91,"da-DK":31,"de-DE":100,"el-GR":85,"en":100,"es-ES":96,"eu-ES":99,"fa-IR":87,"fi-FI":81,"fr-FR":98,"gl-ES":90,"he-IL":81,"hi-IN":75,"hu-HU":70,"id-ID":96,"it-IT":99,"ja-JP":95,"kaa":34,"kab-KAB":80,"kk-KZ":20,"km-KH":87,"ko-KR":100,"ku-TR":92,"lt-LT":51,"lv-LV":82,"mr-IN":92,"my-MM":37,"nb-NO":99,"nl-NL":79,"nn-NO":71,"oc-FR":79,"pa-IN":82,"pl-PL":100,"pt-BR":96,"pt-PT":88,"ro-RO":98,"ru-RU":94,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":85,"th-TH":46,"tr-TR":91,"uk-UA":99,"vi-VN":51,"zh-CN":99,"zh-HK":24,"zh-TW":100}')}},wt={};function gt(Ze){var te=wt[Ze];if(te!==void 0)return te.exports;var t=wt[Ze]={id:Ze,exports:{}};return yt[Ze].call(t.exports,t,t.exports,gt),t.exports}gt.m=yt,gt.n=function(Ze){var te=Ze&&Ze.__esModule?function(){return Ze.default}:function(){return Ze};return gt.d(te,{a:te}),te},Fe=Object.getPrototypeOf?function(Ze){return Object.getPrototypeOf(Ze)}:function(Ze){return Ze.__proto__},gt.t=function(Ze,te){if(1&te&&(Ze=this(Ze)),8&te||typeof Ze=="object"&&Ze&&(4&te&&Ze.__esModule||16&te&&typeof Ze.then=="function"))return Ze;var t=Object.create(null);gt.r(t);var e={};Ce=Ce||[null,Fe({}),Fe([]),Fe(Fe)];for(var _=2&te&&Ze;typeof _=="object"&&!~Ce.indexOf(_);_=Fe(_))Object.getOwnPropertyNames(_).forEach(function(g){e[g]=function(){return Ze[g]}});return e.default=function(){return Ze},gt.d(t,e),t},gt.d=function(Ze,te){for(var t in te)gt.o(te,t)&&!gt.o(Ze,t)&&Object.defineProperty(Ze,t,{enumerable:!0,get:te[t]})},gt.f={},gt.e=function(Ze){return Promise.all(Object.keys(gt.f).reduce(function(te,t){return gt.f[t](Ze,te),te},[]))},gt.u=function(Ze){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",663:"locales/kaa-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4568:"locales/az-AZ-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6566:"locales/km-KH-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[Ze]+"-"+{22:"2224f237cc93465f126f",537:"9a390d3cc7a7a6226b63",663:"4d0a4868835d0334a549",1204:"2cb067da0fb518e73564",1302:"4921d4298abfa256fe6f",1477:"3ba296b6fcf2a2197a7c",1513:"4cbc2dbda5a5df636ee1",1628:"42fb0378311f3ade2627",1690:"644a5eaa1311f70cb697",1790:"a94944ac6fa9756d2fac",2091:"db7c644ccbeb85d54a47",2312:"a7bc2a673875b2e655e1",2359:"798d785698d467e76fcf",2404:"2fa1854af68381c61913",2943:"d11c7966c3c2f95756e0",3024:"2cf913fe2f491c5d7075",3031:"bafa8865ed7002bb249e",3082:"d82053ab52357510811b",3162:"165c5c2760688033b2cc",3397:"ad1359c30c334d05eee0",3421:"5a3fa7cacfa83c411d89",3512:"64c8902f10425e1b2e81",3674:"35c1f168f53af24b657a",3682:"d16a471290ba26a6c66a",3721:"370215dc506c58ee3217",3808:"6542dd92ab54a2c1c48e",3885:"aa607835ad9408789c5f",4e3:"9c1c2a9fa9d6b5a58223",4568:"08a6de50238dbb21926c",4680:"069c304b5011429be615",4736:"677e88ca78c86bddf13d",4977:"fc9b16e9dc2be2660439",5089:"3c32b962880e225d3416",5130:"a6b2c18f7e85cfd11599",5330:"76b039039b043cc4280c",5395:"6f3d80656622a222b4e2",6071:"efb839ef0456f5c72e6e",6239:"ab410570df07304cb0ca",6265:"ea03835d73f9b921f7c4",6566:"cbe8e2e8d26d30a3175c",6768:"f7f9363e42ee2e3a7c67",6844:"c2387972637d47f15765",7368:"0419027d32efac73d518",7429:"9ad9e5ae95c4c66297b1",7759:"82753e98dced302ac187",7920:"d9bf1e4e2d1f8650c680",8081:"671a4afcfce7b0a7660b",8124:"e1f4ed9d2d074f778304",8340:"9b7e91a51b90ee551cad",8534:"cfab3adbd37dd273c61e",8750:"27b59d7e026675f929c4",8759:"7afb66536ee40d852fa2",9551:"0d400ba2836cc0752cd6",9828:"4947c9dace32cc3c6eef"}[Ze]+".js"},gt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),gt.o=function(Ze,te){return Object.prototype.hasOwnProperty.call(Ze,te)},Je={},Qe="ExcalidrawLib:",gt.l=function(Ze,te,t,e){if(Je[Ze])Je[Ze].push(te);else{var _,g;if(t!==void 0)for(var p=document.getElementsByTagName("script"),y=0;y<p.length;y++){var T=p[y];if(T.getAttribute("src")==Ze||T.getAttribute("data-webpack")==Qe+t){_=T;break}}_||(g=!0,(_=document.createElement("script")).charset="utf-8",_.timeout=120,gt.nc&&_.setAttribute("nonce",gt.nc),_.setAttribute("data-webpack",Qe+t),_.src=Ze),Je[Ze]=[te];var E=function(u,N){_.onerror=_.onload=null,clearTimeout(a);var H=Je[Ze];if(delete Je[Ze],_.parentNode&&_.parentNode.removeChild(_),H&&H.forEach(function(x){return x(N)}),u)return u(N)},a=setTimeout(E.bind(null,void 0,{type:"timeout",target:_}),12e4);_.onerror=E.bind(null,_.onerror),_.onload=E.bind(null,_.onload),g&&document.head.appendChild(_)}},gt.r=function(Ze){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ze,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ze,"__esModule",{value:!0})},gt.p="",function(){gt.b=document.baseURI||self.location.href;var Ze={1388:0};gt.f.j=function(e,_){var g=gt.o(Ze,e)?Ze[e]:void 0;if(g!==0)if(g)_.push(g[2]);else{var p=new Promise(function(E,a){g=Ze[e]=[E,a]});_.push(g[2]=p);var y=gt.p+gt.u(e),T=new Error;gt.l(y,function(E){if(gt.o(Ze,e)&&((g=Ze[e])!==0&&(Ze[e]=void 0),g)){var a=E&&(E.type==="load"?"missing":E.type),u=E&&E.target&&E.target.src;T.message="Loading chunk "+e+` failed.
(`+a+": "+u+")",T.name="ChunkLoadError",T.type=a,T.request=u,g[1](T)}},"chunk-"+e,e)}};var te=function(e,_){var g,p,y=_[0],T=_[1],E=_[2],a=0;if(y.some(function(u){return Ze[u]!==0})){for(g in T)gt.o(T,g)&&(gt.m[g]=T[g]);E&&E(gt)}for(e&&e(_);a<y.length;a++)p=y[a],gt.o(Ze,p)&&Ze[p]&&Ze[p][0](),Ze[p]=0},t=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];t.forEach(te.bind(null,0)),t.push=te.bind(null,t.push.bind(t))}(),gt.nc=void 0;var pt={};return function(){gt.r(pt),gt.d(pt,{Button:function(){return m.zx},DefaultSidebar:function(){return m.Or},Excalidraw:function(){return m.Eb},FONT_FAMILY:function(){return m.ut},Footer:function(){return m.$_},LiveCollaborationTrigger:function(){return m.vO},MIME_TYPES:function(){return m.LO},MainMenu:function(){return m.lb},Sidebar:function(){return m.YE},THEME:function(){return m.C6},WelcomeScreen:function(){return m.B4},bumpVersion:function(){return m.ZP},convertToExcalidrawElements:function(){return m.wc},defaultLang:function(){return m.Fp},elementPartiallyOverlapsWithOrContainsBBox:function(){return m.sQ},elementsOverlappingBBox:function(){return m.Xs},exportToBlob:function(){return m.Fl},exportToCanvas:function(){return m.NL},exportToClipboard:function(){return m.i1},exportToSvg:function(){return m.$D},getCommonBounds:function(){return m.KP},getFreeDrawSvgPath:function(){return m.N7},getNonDeletedElements:function(){return m.Lm},getSceneVersion:function(){return m.Uo},isElementInsideBBox:function(){return m.Ne},isInvisiblySmallElement:function(){return m.QD},isLinearElement:function(){return m.bt},languages:function(){return m.Mj},loadFromBlob:function(){return m.cT},loadLibraryFromBlob:function(){return m.lV},loadSceneOrLibraryFromBlob:function(){return m.ZY},mergeLibraryItems:function(){return m.zh},mutateElement:function(){return m.DR},newElementWith:function(){return m.BE},normalizeLink:function(){return m.$u},parseLibraryTokensFromUrl:function(){return m.Di},restore:function(){return m.nu},restoreAppState:function(){return m.lY},restoreElements:function(){return m.ET},restoreLibraryItems:function(){return m.wJ},sceneCoordsToViewportCoords:function(){return m._i},serializeAsJSON:function(){return m.I_},serializeLibraryAsJSON:function(){return m.NI},useDevice:function(){return m.Fy},useHandleLibrary:function(){return m.xS},useI18n:function(){return m.QT},viewportCoordsToSceneCoords:function(){return m.dE}}),gt(9937).Vi.TEST!=="production"&&(gt.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.17.6","/dist/"));var Ze=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(k){if((k=Math.trunc(k)||0)<0&&(k+=this.length),!(k<0||k>=this.length))return this[k]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(){this.innerHTML="",this.append.apply(this,arguments)})},te=gt(3379),t=gt.n(te),e=gt(7795),_=gt.n(e),g=gt(569),p=gt.n(g),y=gt(3565),T=gt.n(y),E=gt(9216),a=gt.n(E),u=gt(4589),N=gt.n(u),H=gt(4295),x={};x.styleTagTransform=N(),x.setAttributes=T(),x.insert=p().bind(null,"head"),x.domAPI=_(),x.insertStyleElement=a(),t()(H.Z,x),H.Z&&H.Z.locals&&H.Z.locals;var m=gt(4864);Ze()}(),pt}()})}(Dh)),Dh.exports}var Pw={};Pw.IS_PREACT==="true"?cf.exports=jw():cf.exports=Iw();var hl=cf.exports;const Tw=()=>{let n,h;const R=new Promise((pe,Ce)=>{n=pe,h=Ce});return R.resolve=n,R.reject=h,R};class Mw{socket=null;roomId;collab;publicSharingToken;constructor(h,R,pe){this.roomId=h,this.collab=R,this.publicSharingToken=pe}connectSocket=async()=>{const h=su("whiteboard","collabBackendUrl","");await this.refreshJWT();const R=localStorage.getItem(`jwt-${this.roomId}`)||"",pe=new URL(h),Ce=pe.pathname.replace(/\/$/,"")+"/socket.io",Fe=Yx(pe.origin,{path:Ce,withCredentials:!0,auth:{token:R},transports:["websocket"],timeout:1e4}).connect();Fe.on("connect_error",Je=>{Je&&Je.message&&!Je.message.includes("Authentication error")&&this.handleConnectionError()}),Fe.on("connect_timeout",()=>{this.handleConnectionError()}),this.open(Fe)};handleConnectionError=()=>{alert("Failed to connect to the whiteboard server."),OCA.Viewer?.close()};disconnectSocket=()=>{this.socket&&(this.socket.disconnect(),localStorage.removeItem(`jwt-${this.roomId}`),console.log(`Disconnected from room ${this.roomId} and cleared JWT token`))};open(h){this.socket=h,this.socket?.on("connect_error",async R=>{R&&R.message&&R.message.includes("Authentication error")&&await this.handleTokenRefresh()}),this.socket.on("read-only",()=>this.handleReadOnlySocket()),this.socket.on("init-room",()=>this.handleInitRoom()),this.socket.on("room-user-change",R=>this.collab.updateCollaborators(R)),this.socket.on("client-broadcast",R=>this.handleClientBroadcast(R))}async handleReadOnlySocket(){this.collab.makeBoardReadOnly()}async handleTokenRefresh(){const h=await this.refreshJWT();this.socket&&h&&(this.socket.auth.token=h,this.socket?.connect())}handleInitRoom(){this.socket?.emit("join-room",this.roomId),this.socket?.on("joined-data",h=>{const R=JSON.parse(new TextDecoder().decode(h)),pe=this.collab._reconcileElements(R);this.collab.handleRemoteSceneUpdate(pe),this.collab.scrollToContent()}),this.socket?.on("image-data",h=>{this.collab.addFile(h)})}handleClientBroadcast(h){const R=JSON.parse(new TextDecoder().decode(h));switch(R.type){case"SCENE_INIT":this.handleSceneInit(R.payload.elements);break;case"MOUSE_LOCATION":this.collab.updateCursor(R.payload);break}}handleSceneInit(h){const R=this.collab._reconcileElements(h);this.collab.handleRemoteSceneUpdate(R)}async refreshJWT(){try{let h=Bf(`apps/whiteboard/${this.roomId}/token`);this.publicSharingToken&&(h+=`?publicSharingToken=${encodeURIComponent(this.publicSharingToken)}`);const R=(await Tl.get(h,{withCredentials:!0})).data.token;if(console.log("token",R),!R)throw new Error("No token received");return localStorage.setItem(`jwt-${this.roomId}`,R),R}catch(h){return console.error("Error refreshing JWT:",h),alert(h.message),OCA.Viewer?.close(),null}}async _broadcastSocketData(h,R=!1,pe){const Ce=JSON.stringify(h),Fe=new TextEncoder().encode(Ce);this.socket?.emit(R?"server-volatile-broadcast":"server-broadcast",pe??this.roomId,Fe,[])}async broadcastScene(h,R){await this._broadcastSocketData({type:h,payload:{elements:R}})}async broadcastMouseLocation(h){const R={type:"MOUSE_LOCATION",payload:{socketId:this.socket?.id,pointer:h.pointer,button:h.button||"up",selectedElementIds:this.collab.excalidrawAPI.getAppState().selectedElementIds,username:this.socket?.id}};await this._broadcastSocketData(R,!0)}async sendImageFiles(h){Object.values(h).forEach(R=>{this.collab.addFile(R),this.socket?.emit("image-add",this.roomId,R.id,R)})}}var Ku={exports:{}};Ku.exports,function(n,h){(function(){var R,pe="4.17.21",Ce=200,Fe="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Je="Expected a function",Qe="Invalid `variable` option passed into `_.template`",yt="__lodash_hash_undefined__",wt=500,gt="__lodash_placeholder__",pt=1,Ze=2,te=4,t=1,e=2,_=1,g=2,p=4,y=8,T=16,E=32,a=64,u=128,N=256,H=512,x=30,m="...",k=800,Q=16,ue=1,me=2,ye=3,fe=1/0,G=9007199254740991,$=17976931348623157e292,U=NaN,L=4294967295,F=L-1,I=L>>>1,P=[["ary",u],["bind",_],["bindKey",g],["curry",y],["curryRight",T],["flip",H],["partial",E],["partialRight",a],["rearg",N]],w="[object Arguments]",f="[object Array]",r="[object AsyncFunction]",o="[object Boolean]",b="[object Date]",s="[object DOMException]",c="[object Error]",S="[object Function]",z="[object GeneratorFunction]",B="[object Map]",j="[object Number]",C="[object Null]",A="[object Object]",Y="[object Promise]",ie="[object Proxy]",le="[object RegExp]",ce="[object Set]",de="[object String]",J="[object Symbol]",ee="[object Undefined]",he="[object WeakMap]",Pe="[object WeakSet]",He="[object ArrayBuffer]",Ke="[object DataView]",Ae="[object Float32Array]",Oe="[object Float64Array]",Te="[object Int8Array]",De="[object Int16Array]",ke="[object Int32Array]",be="[object Uint8Array]",ve="[object Uint8ClampedArray]",D="[object Uint16Array]",l="[object Uint32Array]",d=/\b__p \+= '';/g,M=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,re=/[&<>"']/g,ae=RegExp(q.source),ge=RegExp(re.source),Se=/<%-([\s\S]+?)%>/g,Re=/<%([\s\S]+?)%>/g,Ye=/<%=([\s\S]+?)%>/g,Ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,We=/^\w*$/,qe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lt=/[\\^$.*+?()[\]{}|]/g,ft=RegExp(lt.source),ze=/^\s+/,we=/\s/,Me=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$e=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vt=/[()=,{}\[\]\/\s]/,Tt=/\\(\\)?/g,Et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jt=/\w*$/,Kt=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,Ht=/^\[object .+?Constructor\]$/,$t=/^0o[0-7]+$/i,pn=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,At=/['\n\r\u2028\u2029\\]/g,It="\\ud800-\\udfff",Mt="\\u0300-\\u036f",Nt="\\ufe20-\\ufe2f",Yt="\\u20d0-\\u20ff",ln=Mt+Nt+Yt,an="\\u2700-\\u27bf",kn="a-z\\xdf-\\xf6\\xf8-\\xff",Tn="\\xac\\xb1\\xd7\\xf7",zn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",un="\\u2000-\\u206f",zt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",en="A-Z\\xc0-\\xd6\\xd8-\\xde",Jt="\\ufe0e\\ufe0f",Sn=Tn+zn+un+zt,Hn="[']",Yn="["+It+"]",or="["+Sn+"]",$n="["+ln+"]",rn="\\d+",Pt="["+an+"]",Dt="["+kn+"]",Ft="[^"+It+Sn+rn+an+kn+en+"]",dn="\\ud83c[\\udffb-\\udfff]",jn="(?:"+$n+"|"+dn+")",Cn="[^"+It+"]",Dn="(?:\\ud83c[\\udde6-\\uddff]){2}",Wn="[\\ud800-\\udbff][\\udc00-\\udfff]",Ln="["+en+"]",er="\\u200d",Vn="(?:"+Dt+"|"+Ft+")",Pn="(?:"+Ln+"|"+Ft+")",Rn="(?:"+Hn+"(?:d|ll|m|re|s|t|ve))?",Nn="(?:"+Hn+"(?:D|LL|M|RE|S|T|VE))?",Gn=jn+"?",nr="["+Jt+"]?",rr="(?:"+er+"(?:"+[Cn,Dn,Wn].join("|")+")"+nr+Gn+")*",Or="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",po=nr+Gn+rr,xo="(?:"+[Pt,Dn,Wn].join("|")+")"+po,jo="(?:"+[Cn+$n+"?",$n,Dn,Wn,Yn].join("|")+")",ho=RegExp(Hn,"g"),Qr=RegExp($n,"g"),go=RegExp(dn+"(?="+dn+")|"+jo+po,"g"),et=RegExp([Ln+"?"+Dt+"+"+Rn+"(?="+[or,Ln,"$"].join("|")+")",Pn+"+"+Nn+"(?="+[or,Ln+Vn,"$"].join("|")+")",Ln+"?"+Vn+"+"+Rn,Ln+"+"+Nn,Xr,Or,rn,xo].join("|"),"g"),Ee=RegExp("["+er+It+ln+Jt+"]"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ue=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,Zt={};Zt[Ae]=Zt[Oe]=Zt[Te]=Zt[De]=Zt[ke]=Zt[be]=Zt[ve]=Zt[D]=Zt[l]=!0,Zt[w]=Zt[f]=Zt[He]=Zt[o]=Zt[Ke]=Zt[b]=Zt[c]=Zt[S]=Zt[B]=Zt[j]=Zt[A]=Zt[le]=Zt[ce]=Zt[de]=Zt[he]=!1;var qt={};qt[w]=qt[f]=qt[He]=qt[Ke]=qt[o]=qt[b]=qt[Ae]=qt[Oe]=qt[Te]=qt[De]=qt[ke]=qt[B]=qt[j]=qt[A]=qt[le]=qt[ce]=qt[de]=qt[J]=qt[be]=qt[ve]=qt[D]=qt[l]=!0,qt[c]=qt[S]=qt[he]=!1;var mn={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Xt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mn=parseFloat,qn=parseInt,Qn=typeof sc=="object"&&sc&&sc.Object===Object&&sc,dr=typeof self=="object"&&self&&self.Object===Object&&self,ur=Qn||dr||Function("return this")(),ir=h&&!h.nodeType&&h,cr=ir&&!0&&n&&!n.nodeType&&n,Ar=cr&&cr.exports===ir,Gr=Ar&&Qn.process,so=function(){try{var An=cr&&cr.require&&cr.require("util").types;return An||Gr&&Gr.binding&&Gr.binding("util")}catch{}}(),zo=so&&so.isArrayBuffer,ii=so&&so.isDate,Ir=so&&so.isMap,hr=so&&so.isRegExp,Ur=so&&so.isSet,no=so&&so.isTypedArray;function ao(An,lr,Jn){switch(Jn.length){case 0:return An.call(lr);case 1:return An.call(lr,Jn[0]);case 2:return An.call(lr,Jn[0],Jn[1]);case 3:return An.call(lr,Jn[0],Jn[1],Jn[2])}return An.apply(lr,Jn)}function Xo(An,lr,Jn,Cr){for(var wr=-1,Kr=An==null?0:An.length;++wr<Kr;){var Vr=An[wr];lr(Cr,Vr,Jn(Vr),An)}return Cr}function Ho(An,lr){for(var Jn=-1,Cr=An==null?0:An.length;++Jn<Cr&&lr(An[Jn],Jn,An)!==!1;);return An}function di(An,lr){for(var Jn=An==null?0:An.length;Jn--&&lr(An[Jn],Jn,An)!==!1;);return An}function ai(An,lr){for(var Jn=-1,Cr=An==null?0:An.length;++Jn<Cr;)if(!lr(An[Jn],Jn,An))return!1;return!0}function ui(An,lr){for(var Jn=-1,Cr=An==null?0:An.length,wr=0,Kr=[];++Jn<Cr;){var Vr=An[Jn];lr(Vr,Jn,An)&&(Kr[wr++]=Vr)}return Kr}function ua(An,lr){var Jn=An==null?0:An.length;return!!Jn&&Ri(An,lr,0)>-1}function Ca(An,lr,Jn){for(var Cr=-1,wr=An==null?0:An.length;++Cr<wr;)if(Jn(lr,An[Cr]))return!0;return!1}function ti(An,lr){for(var Jn=-1,Cr=An==null?0:An.length,wr=Array(Cr);++Jn<Cr;)wr[Jn]=lr(An[Jn],Jn,An);return wr}function da(An,lr){for(var Jn=-1,Cr=lr.length,wr=An.length;++Jn<Cr;)An[wr+Jn]=lr[Jn];return An}function nl(An,lr,Jn,Cr){var wr=-1,Kr=An==null?0:An.length;for(Cr&&Kr&&(Jn=An[++wr]);++wr<Kr;)Jn=lr(Jn,An[wr],wr,An);return Jn}function Dl(An,lr,Jn,Cr){var wr=An==null?0:An.length;for(Cr&&wr&&(Jn=An[--wr]);wr--;)Jn=lr(Jn,An[wr],wr,An);return Jn}function Qi(An,lr){for(var Jn=-1,Cr=An==null?0:An.length;++Jn<Cr;)if(lr(An[Jn],Jn,An))return!0;return!1}var ea=ta("length");function bi(An){return An.split("")}function Ii(An){return An.match(dt)||[]}function Ll(An,lr,Jn){var Cr;return Jn(An,function(wr,Kr,Vr){if(lr(wr,Kr,Vr))return Cr=Kr,!1}),Cr}function Va(An,lr,Jn,Cr){for(var wr=An.length,Kr=Jn+(Cr?1:-1);Cr?Kr--:++Kr<wr;)if(lr(An[Kr],Kr,An))return Kr;return-1}function Ri(An,lr,Jn){return lr===lr?aa(An,lr,Jn):Va(An,Vi,Jn)}function Ui(An,lr,Jn,Cr){for(var wr=Jn-1,Kr=An.length;++wr<Kr;)if(Cr(An[wr],lr))return wr;return-1}function Vi(An){return An!==An}function Ki(An,lr){var Jn=An==null?0:An.length;return Jn?Ka(An,lr)/Jn:U}function ta(An){return function(lr){return lr==null?R:lr[An]}}function fa(An){return function(lr){return An==null?R:An[lr]}}function na(An,lr,Jn,Cr,wr){return wr(An,function(Kr,Vr,zr){Jn=Cr?(Cr=!1,Kr):lr(Jn,Kr,Vr,zr)}),Jn}function ja(An,lr){var Jn=An.length;for(An.sort(lr);Jn--;)An[Jn]=An[Jn].value;return An}function Ka(An,lr){for(var Jn,Cr=-1,wr=An.length;++Cr<wr;){var Kr=lr(An[Cr]);Kr!==R&&(Jn=Jn===R?Kr:Jn+Kr)}return Jn}function Ia(An,lr){for(var Jn=-1,Cr=Array(An);++Jn<An;)Cr[Jn]=lr(Jn);return Cr}function Ya(An,lr){return ti(lr,function(Jn){return[Jn,An[Jn]]})}function Ei(An){return An&&An.slice(0,Ma(An)+1).replace(ze,"")}function $o(An){return function(lr){return An(lr)}}function Yi(An,lr){return ti(lr,function(Jn){return An[Jn]})}function hi(An,lr){return An.has(lr)}function pa(An,lr){for(var Jn=-1,Cr=An.length;++Jn<Cr&&Ri(lr,An[Jn],0)>-1;);return Jn}function Rl(An,lr){for(var Jn=An.length;Jn--&&Ri(lr,An[Jn],0)>-1;);return Jn}function Nl(An,lr){for(var Jn=An.length,Cr=0;Jn--;)An[Jn]===lr&&++Cr;return Cr}var cs=fa(mn),bl=fa(Xt);function rl(An){return"\\"+wn[An]}function Pa(An,lr){return An==null?R:An[lr]}function Xi(An){return Ee.test(An)}function us(An){return Le.test(An)}function ds(An){for(var lr,Jn=[];!(lr=An.next()).done;)Jn.push(lr.value);return Jn}function ol(An){var lr=-1,Jn=Array(An.size);return An.forEach(function(Cr,wr){Jn[++lr]=[wr,Cr]}),Jn}function yl(An,lr){return function(Jn){return An(lr(Jn))}}function ya(An,lr){for(var Jn=-1,Cr=An.length,wr=0,Kr=[];++Jn<Cr;){var Vr=An[Jn];(Vr===lr||Vr===gt)&&(An[Jn]=gt,Kr[wr++]=Jn)}return Kr}function Ta(An){var lr=-1,Jn=Array(An.size);return An.forEach(function(Cr){Jn[++lr]=Cr}),Jn}function Ni(An){var lr=-1,Jn=Array(An.size);return An.forEach(function(Cr){Jn[++lr]=[Cr,Cr]}),Jn}function aa(An,lr,Jn){for(var Cr=Jn-1,wr=An.length;++Cr<wr;)if(An[Cr]===lr)return Cr;return-1}function Yl(An,lr,Jn){for(var Cr=Jn+1;Cr--;)if(An[Cr]===lr)return Cr;return Cr}function xa(An){return Xi(An)?Xl(An):ea(An)}function Pi(An){return Xi(An)?$l(An):bi(An)}function Ma(An){for(var lr=An.length;lr--&&we.test(An.charAt(lr)););return lr}var il=fa(Vt);function Xl(An){for(var lr=go.lastIndex=0;go.test(An);)++lr;return lr}function $l(An){return An.match(go)||[]}function wa(An){return An.match(et)||[]}var ra=function An(lr){lr=lr==null?ur:la.defaults(ur.Object(),lr,la.pick(ur,Ue));var Jn=lr.Array,Cr=lr.Date,wr=lr.Error,Kr=lr.Function,Vr=lr.Math,zr=lr.Object,Si=lr.RegExp,Zi=lr.String,zi=lr.TypeError,xl=Jn.prototype,Gl=Kr.prototype,Aa=zr.prototype,al=lr["__core-js_shared__"],Xa=Gl.toString,So=Aa.hasOwnProperty,_i=0,Ti=function(){var v=/[^.]+$/.exec(al&&al.keys&&al.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),Lo=Aa.toString,Wo=Xa.call(zr),Bi=ur._,$a=Si("^"+Xa.call(So).replace(lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ll=Ar?lr.Buffer:R,ot=lr.Symbol,je=lr.Uint8Array,Ve=ll?ll.allocUnsafe:R,Xe=yl(zr.getPrototypeOf,zr),rt=zr.create,ut=Aa.propertyIsEnumerable,bt=xl.splice,mt=ot?ot.isConcatSpreadable:R,St=ot?ot.iterator:R,sn=ot?ot.toStringTag:R,gn=function(){try{var v=nc(zr,"defineProperty");return v({},"",{}),v}catch{}}(),Qt=lr.clearTimeout!==ur.clearTimeout&&lr.clearTimeout,fn=Cr&&Cr.now!==ur.Date.now&&Cr.now,xn=lr.setTimeout!==ur.setTimeout&&lr.setTimeout,En=Vr.ceil,yn=Vr.floor,hn=zr.getOwnPropertySymbols,In=ll?ll.isBuffer:R,Un=lr.isFinite,Kn=xl.join,Bn=yl(zr.keys,zr),Fn=Vr.max,fr=Vr.min,Tr=Cr.now,mr=lr.parseInt,pr=Vr.random,_r=xl.reverse,Pr=nc(lr,"DataView"),Nr=nc(lr,"Map"),Yr=nc(lr,"Promise"),$r=nc(lr,"Set"),to=nc(lr,"WeakMap"),Io=nc(zr,"create"),Go=to&&new to,qo={},Mi=rc(Pr),yi=rc(Nr),Ro=rc(Yr),Uo=rc($r),Ko=rc(to),Ao=ot?ot.prototype:R,No=Ao?Ao.valueOf:R,li=Ao?Ao.toString:R;function Ct(v){if(Li(v)&&!Do(v)&&!(v instanceof _o)){if(v instanceof si)return v;if(So.call(v,"__wrapped__"))return Bp(v)}return new si(v)}var mi=function(){function v(){}return function(X){if(!Ci(X))return{};if(rt)return rt(X);v.prototype=X;var _e=new v;return v.prototype=R,_e}}();function gi(){}function si(v,X){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!X,this.__index__=0,this.__values__=R}Ct.templateSettings={escape:Se,evaluate:Re,interpolate:Ye,variable:"",imports:{_:Ct}},Ct.prototype=gi.prototype,Ct.prototype.constructor=Ct,si.prototype=mi(gi.prototype),si.prototype.constructor=si;function _o(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function $i(){var v=new _o(this.__wrapped__);return v.__actions__=qa(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=qa(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=qa(this.__views__),v}function ha(){if(this.__filtered__){var v=new _o(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function ql(){var v=this.__wrapped__.value(),X=this.__dir__,_e=Do(v),tt=X<0,ht=_e?v.length:0,Bt=yv(0,ht,this.__views__),bn=Bt.start,On=Bt.end,Zn=On-bn,gr=tt?On:bn-1,vr=this.__iteratees__,Er=vr.length,Wr=0,oo=fr(Zn,this.__takeCount__);if(!_e||!tt&&ht==Zn&&oo==Zn)return qi(v,this.__actions__);var bo=[];e:for(;Zn--&&Wr<oo;){gr+=X;for(var Bo=-1,yo=v[gr];++Bo<Er;){var Yo=vr[Bo],ei=Yo.iteratee,fl=Yo.type,Wa=ei(yo);if(fl==me)yo=Wa;else if(!Wa){if(fl==ue)continue e;break e}}bo[Wr++]=yo}return bo}_o.prototype=mi(gi.prototype),_o.prototype.constructor=_o;function ma(v){var X=-1,_e=v==null?0:v.length;for(this.clear();++X<_e;){var tt=v[X];this.set(tt[0],tt[1])}}function Zl(){this.__data__=Io?Io(null):{},this.size=0}function sl(v){var X=this.has(v)&&delete this.__data__[v];return this.size-=X?1:0,X}function cl(v){var X=this.__data__;if(Io){var _e=X[v];return _e===yt?R:_e}return So.call(X,v)?X[v]:R}function ga(v){var X=this.__data__;return Io?X[v]!==R:So.call(X,v)}function Fi(v,X){var _e=this.__data__;return this.size+=this.has(v)?0:1,_e[v]=Io&&X===R?yt:X,this}ma.prototype.clear=Zl,ma.prototype.delete=sl,ma.prototype.get=cl,ma.prototype.has=ga,ma.prototype.set=Fi;function Oi(v){var X=-1,_e=v==null?0:v.length;for(this.clear();++X<_e;){var tt=v[X];this.set(tt[0],tt[1])}}function fi(){this.__data__=[],this.size=0}function ni(v){var X=this.__data__,_e=ka(X,v);if(_e<0)return!1;var tt=X.length-1;return _e==tt?X.pop():bt.call(X,_e,1),--this.size,!0}function Ai(v){var X=this.__data__,_e=ka(X,v);return _e<0?R:X[_e][1]}function Da(v){return ka(this.__data__,v)>-1}function ul(v,X){var _e=this.__data__,tt=ka(_e,v);return tt<0?(++this.size,_e.push([v,X])):_e[tt][1]=X,this}Oi.prototype.clear=fi,Oi.prototype.delete=ni,Oi.prototype.get=Ai,Oi.prototype.has=Da,Oi.prototype.set=ul;function tr(v){var X=-1,_e=v==null?0:v.length;for(this.clear();++X<_e;){var tt=v[X];this.set(tt[0],tt[1])}}function ar(){this.size=0,this.__data__={hash:new ma,map:new(Nr||Oi),string:new ma}}function La(v){var X=_u(this,v).delete(v);return this.size-=X?1:0,X}function Ra(v){return _u(this,v).get(v)}function Na(v){return _u(this,v).has(v)}function wl(v,X){var _e=_u(this,v),tt=_e.size;return _e.set(v,X),this.size+=_e.size==tt?0:1,this}tr.prototype.clear=ar,tr.prototype.delete=La,tr.prototype.get=Ra,tr.prototype.has=Na,tr.prototype.set=wl;function Za(v){var X=-1,_e=v==null?0:v.length;for(this.__data__=new tr;++X<_e;)this.add(v[X])}function fs(v){return this.__data__.set(v,yt),this}function ps(v){return this.__data__.has(v)}Za.prototype.add=Za.prototype.push=fs,Za.prototype.has=ps;function oa(v){var X=this.__data__=new Oi(v);this.size=X.size}function hs(){this.__data__=new Oi,this.size=0}function Is(v){var X=this.__data__,_e=X.delete(v);return this.size=X.size,_e}function ms(v){return this.__data__.get(v)}function Jl(v){return this.__data__.has(v)}function Ps(v,X){var _e=this.__data__;if(_e instanceof Oi){var tt=_e.__data__;if(!Nr||tt.length<Ce-1)return tt.push([v,X]),this.size=++_e.size,this;_e=this.__data__=new tr(tt)}return _e.set(v,X),this.size=_e.size,this}oa.prototype.clear=hs,oa.prototype.delete=Is,oa.prototype.get=ms,oa.prototype.has=Jl,oa.prototype.set=Ps;function Ts(v,X){var _e=Do(v),tt=!_e&&oc(v),ht=!_e&&!tt&&Zs(v),Bt=!_e&&!tt&&!ht&&wc(v),bn=_e||tt||ht||Bt,On=bn?Ia(v.length,Zi):[],Zn=On.length;for(var gr in v)(X||So.call(v,gr))&&!(bn&&(gr=="length"||ht&&(gr=="offset"||gr=="parent")||Bt&&(gr=="buffer"||gr=="byteLength"||gr=="byteOffset")||xs(gr,Zn)))&&On.push(gr);return On}function Ms(v){var X=v.length;return X?v[co(0,X-1)]:R}function As(v,X){return Ou(qa(v),va(X,0,v.length))}function Ds(v){return Ou(qa(v))}function kl(v,X,_e){(_e!==R&&!Bl(v[X],_e)||_e===R&&!(X in v))&&Di(v,X,_e)}function za(v,X,_e){var tt=v[X];(!(So.call(v,X)&&Bl(tt,_e))||_e===R&&!(X in v))&&Di(v,X,_e)}function ka(v,X){for(var _e=v.length;_e--;)if(Bl(v[_e][0],X))return _e;return-1}function Ba(v,X,_e,tt){return To(v,function(ht,Bt,bn){X(tt,ht,_e(ht),bn)}),tt}function El(v,X){return v&&es(X,ca(X),v)}function gs(v,X){return v&&es(X,Qa(X),v)}function Di(v,X,_e){X=="__proto__"&&gn?gn(v,X,{configurable:!0,enumerable:!0,value:_e,writable:!0}):v[X]=_e}function sa(v,X){for(var _e=-1,tt=X.length,ht=Jn(tt),Bt=v==null;++_e<tt;)ht[_e]=Bt?R:R0(v,X[_e]);return ht}function va(v,X,_e){return v===v&&(_e!==R&&(v=v<=_e?v:_e),X!==R&&(v=v>=X?v:X)),v}function Gi(v,X,_e,tt,ht,Bt){var bn,On=X&pt,Zn=X&Ze,gr=X&te;if(_e&&(bn=ht?_e(v,tt,ht,Bt):_e(v)),bn!==R)return bn;if(!Ci(v))return v;var vr=Do(v);if(vr){if(bn=wv(v),!On)return qa(v,bn)}else{var Er=_a(v),Wr=Er==S||Er==z;if(Zs(v))return bu(v,On);if(Er==A||Er==w||Wr&&!ht){if(bn=Zn||Wr?{}:Tp(v),!On)return Zn?uv(v,gs(bn,v)):cv(v,El(bn,v))}else{if(!qt[Er])return ht?v:{};bn=kv(v,Er,On)}}Bt||(Bt=new oa);var oo=Bt.get(v);if(oo)return oo;Bt.set(v,bn),ah(v)?v.forEach(function(yo){bn.add(Gi(yo,X,_e,yo,v,Bt))}):oh(v)&&v.forEach(function(yo,Yo){bn.set(Yo,Gi(yo,X,_e,Yo,v,Bt))});var bo=gr?Zn?k0:w0:Zn?Qa:ca,Bo=vr?R:bo(v);return Ho(Bo||v,function(yo,Yo){Bo&&(Yo=yo,yo=v[Yo]),za(bn,Yo,Gi(yo,X,_e,Yo,v,Bt))}),bn}function Ls(v){var X=ca(v);return function(_e){return Rs(_e,v,X)}}function Rs(v,X,_e){var tt=_e.length;if(v==null)return!tt;for(v=zr(v);tt--;){var ht=_e[tt],Bt=X[ht],bn=v[ht];if(bn===R&&!(ht in v)||!Bt(bn))return!1}return!0}function Ga(v,X,_e){if(typeof v!="function")throw new zi(Je);return Uc(function(){v.apply(R,_e)},X)}function Oo(v,X,_e,tt){var ht=-1,Bt=ua,bn=!0,On=v.length,Zn=[],gr=X.length;if(!On)return Zn;_e&&(X=ti(X,$o(_e))),tt?(Bt=Ca,bn=!1):X.length>=Ce&&(Bt=hi,bn=!1,X=new Za(X));e:for(;++ht<On;){var vr=v[ht],Er=_e==null?vr:_e(vr);if(vr=tt||vr!==0?vr:0,bn&&Er===Er){for(var Wr=gr;Wr--;)if(X[Wr]===Er)continue e;Zn.push(vr)}else Bt(X,Er,tt)||Zn.push(vr)}return Zn}var To=vp(se),Ns=vp(K,!0);function Fc(v,X){var _e=!0;return To(v,function(tt,ht,Bt){return _e=!!X(tt,ht,Bt),_e}),_e}function Z(v,X,_e){for(var tt=-1,ht=v.length;++tt<ht;){var Bt=v[tt],bn=X(Bt);if(bn!=null&&(On===R?bn===bn&&!dl(bn):_e(bn,On)))var On=bn,Zn=Bt}return Zn}function i(v,X,_e,tt){var ht=v.length;for(_e=Zo(_e),_e<0&&(_e=-_e>ht?0:ht+_e),tt=tt===R||tt>ht?ht:Zo(tt),tt<0&&(tt+=ht),tt=_e>tt?0:sh(tt);_e<tt;)v[_e++]=X;return v}function O(v,X){var _e=[];return To(v,function(tt,ht,Bt){X(tt,ht,Bt)&&_e.push(tt)}),_e}function W(v,X,_e,tt,ht){var Bt=-1,bn=v.length;for(_e||(_e=Sv),ht||(ht=[]);++Bt<bn;){var On=v[Bt];X>0&&_e(On)?X>1?W(On,X-1,_e,tt,ht):da(ht,On):tt||(ht[ht.length]=On)}return ht}var oe=bp(),xe=bp(!0);function se(v,X){return v&&oe(v,X,ca)}function K(v,X){return v&&xe(v,X,ca)}function ne(v,X){return ui(X,function(_e){return ws(v[_e])})}function Ie(v,X){X=Sa(X,v);for(var _e=0,tt=X.length;v!=null&&_e<tt;)v=v[ts(X[_e++])];return _e&&_e==tt?v:R}function Ne(v,X,_e){var tt=X(v);return Do(v)?tt:da(tt,_e(v))}function Be(v){return v==null?v===R?ee:C:sn&&sn in zr(v)?bv(v):Tv(v)}function nt(v,X){return v>X}function it(v,X){return v!=null&&So.call(v,X)}function ct(v,X){return v!=null&&X in zr(v)}function kt(v,X,_e){return v>=fr(X,_e)&&v<Fn(X,_e)}function Ot(v,X,_e){for(var tt=_e?Ca:ua,ht=v[0].length,Bt=v.length,bn=Bt,On=Jn(Bt),Zn=1/0,gr=[];bn--;){var vr=v[bn];bn&&X&&(vr=ti(vr,$o(X))),Zn=fr(vr.length,Zn),On[bn]=!_e&&(X||ht>=120&&vr.length>=120)?new Za(bn&&vr):R}vr=v[0];var Er=-1,Wr=On[0];e:for(;++Er<ht&&gr.length<Zn;){var oo=vr[Er],bo=X?X(oo):oo;if(oo=_e||oo!==0?oo:0,!(Wr?hi(Wr,bo):tt(gr,bo,_e))){for(bn=Bt;--bn;){var Bo=On[bn];if(!(Bo?hi(Bo,bo):tt(v[bn],bo,_e)))continue e}Wr&&Wr.push(bo),gr.push(oo)}}return gr}function Wt(v,X,_e,tt){return se(v,function(ht,Bt,bn){X(tt,_e(ht),Bt,bn)}),tt}function tn(v,X,_e){X=Sa(X,v),v=Lp(v,X);var tt=v==null?v:v[ts(Cl(X))];return tt==null?R:ao(tt,v,_e)}function Rt(v){return Li(v)&&Be(v)==w}function Lt(v){return Li(v)&&Be(v)==He}function Ut(v){return Li(v)&&Be(v)==b}function on(v,X,_e,tt,ht){return v===X?!0:v==null||X==null||!Li(v)&&!Li(X)?v!==v&&X!==X:vn(v,X,_e,tt,on,ht)}function vn(v,X,_e,tt,ht,Bt){var bn=Do(v),On=Do(X),Zn=bn?f:_a(v),gr=On?f:_a(X);Zn=Zn==w?A:Zn,gr=gr==w?A:gr;var vr=Zn==A,Er=gr==A,Wr=Zn==gr;if(Wr&&Zs(v)){if(!Zs(X))return!1;bn=!0,vr=!1}if(Wr&&!vr)return Bt||(Bt=new oa),bn||wc(v)?jp(v,X,_e,tt,ht,Bt):gv(v,X,Zn,_e,tt,ht,Bt);if(!(_e&t)){var oo=vr&&So.call(v,"__wrapped__"),bo=Er&&So.call(X,"__wrapped__");if(oo||bo){var Bo=oo?v.value():v,yo=bo?X.value():X;return Bt||(Bt=new oa),ht(Bo,yo,_e,tt,Bt)}}return Wr?(Bt||(Bt=new oa),vv(v,X,_e,tt,ht,Bt)):!1}function cn(v){return Li(v)&&_a(v)==B}function nn(v,X,_e,tt){var ht=_e.length,Bt=ht,bn=!tt;if(v==null)return!Bt;for(v=zr(v);ht--;){var On=_e[ht];if(bn&&On[2]?On[1]!==v[On[0]]:!(On[0]in v))return!1}for(;++ht<Bt;){On=_e[ht];var Zn=On[0],gr=v[Zn],vr=On[1];if(bn&&On[2]){if(gr===R&&!(Zn in v))return!1}else{var Er=new oa;if(tt)var Wr=tt(gr,vr,Zn,v,X,Er);if(!(Wr===R?on(vr,gr,t|e,tt,Er):Wr))return!1}}return!0}function _n(v){if(!Ci(v)||Ov(v))return!1;var X=ws(v)?$a:Ht;return X.test(rc(v))}function Xn(v){return Li(v)&&Be(v)==le}function sr(v){return Li(v)&&_a(v)==ce}function yr(v){return Li(v)&&Mu(v.length)&&!!Zt[Be(v)]}function Mr(v){return typeof v=="function"?v:v==null?el:typeof v=="object"?Do(v)?Br(v[0],v[1]):kr(v):yh(v)}function Dr(v){if(!Wc(v))return Bn(v);var X=[];for(var _e in zr(v))So.call(v,_e)&&_e!="constructor"&&X.push(_e);return X}function br(v){if(!Ci(v))return Pv(v);var X=Wc(v),_e=[];for(var tt in v)tt=="constructor"&&(X||!So.call(v,tt))||_e.push(tt);return _e}function xr(v,X){return v<X}function Sr(v,X){var _e=-1,tt=Ja(v)?Jn(v.length):[];return To(v,function(ht,Bt,bn){tt[++_e]=X(ht,Bt,bn)}),tt}function kr(v){var X=S0(v);return X.length==1&&X[0][2]?Ap(X[0][0],X[0][1]):function(_e){return _e===v||nn(_e,v,X)}}function Br(v,X){return O0(v)&&Mp(X)?Ap(ts(v),X):function(_e){var tt=R0(_e,v);return tt===R&&tt===X?N0(_e,v):on(X,tt,t|e)}}function qr(v,X,_e,tt,ht){v!==X&&oe(X,function(Bt,bn){if(ht||(ht=new oa),Ci(Bt))Jr(v,X,bn,_e,qr,tt,ht);else{var On=tt?tt(j0(v,bn),Bt,bn+"",v,X,ht):R;On===R&&(On=Bt),kl(v,bn,On)}},Qa)}function Jr(v,X,_e,tt,ht,Bt,bn){var On=j0(v,_e),Zn=j0(X,_e),gr=bn.get(Zn);if(gr){kl(v,_e,gr);return}var vr=Bt?Bt(On,Zn,_e+"",v,X,bn):R,Er=vr===R;if(Er){var Wr=Do(Zn),oo=!Wr&&Zs(Zn),bo=!Wr&&!oo&&wc(Zn);vr=Zn,Wr||oo||bo?Do(On)?vr=On:Hi(On)?vr=qa(On):oo?(Er=!1,vr=bu(Zn,!0)):bo?(Er=!1,vr=pp(Zn,!0)):vr=[]:Vc(Zn)||oc(Zn)?(vr=On,oc(On)?vr=ch(On):(!Ci(On)||ws(On))&&(vr=Tp(Zn))):Er=!1}Er&&(bn.set(Zn,vr),ht(vr,Zn,tt,Bt,bn),bn.delete(Zn)),kl(v,_e,vr)}function ro(v,X){var _e=v.length;if(_e)return X+=X<0?_e:0,xs(X,_e)?v[X]:R}function Hr(v,X,_e){X.length?X=ti(X,function(Bt){return Do(Bt)?function(bn){return Ie(bn,Bt.length===1?Bt[0]:Bt)}:Bt}):X=[el];var tt=-1;X=ti(X,$o(vo()));var ht=Sr(v,function(Bt,bn,On){var Zn=ti(X,function(gr){return gr(Bt)});return{criteria:Zn,index:++tt,value:Bt}});return ja(ht,function(Bt,bn){return sv(Bt,bn,_e)})}function Lr(v,X){return io(v,X,function(_e,tt){return N0(v,tt)})}function io(v,X,_e){for(var tt=-1,ht=X.length,Bt={};++tt<ht;){var bn=X[tt],On=Ie(v,bn);_e(On,bn)&&jr(Bt,Sa(bn,v),On)}return Bt}function Po(v){return function(X){return Ie(X,v)}}function wo(v,X,_e,tt){var ht=tt?Ui:Ri,Bt=-1,bn=X.length,On=v;for(v===X&&(X=qa(X)),_e&&(On=ti(v,$o(_e)));++Bt<bn;)for(var Zn=0,gr=X[Bt],vr=_e?_e(gr):gr;(Zn=ht(On,vr,Zn,tt))>-1;)On!==v&&bt.call(On,Zn,1),bt.call(v,Zn,1);return v}function mo(v,X){for(var _e=v?X.length:0,tt=_e-1;_e--;){var ht=X[_e];if(_e==tt||ht!==Bt){var Bt=ht;xs(ht)?bt.call(v,ht,1):zl(v,ht)}}return v}function co(v,X){return v+yn(pr()*(X-v+1))}function Co(v,X,_e,tt){for(var ht=-1,Bt=Fn(En((X-v)/(_e||1)),0),bn=Jn(Bt);Bt--;)bn[tt?Bt:++ht]=v,v+=_e;return bn}function eo(v,X){var _e="";if(!v||X<1||X>G)return _e;do X%2&&(_e+=v),X=yn(X/2),X&&(v+=v);while(X);return _e}function Rr(v,X){return I0(Dp(v,X,el),v+"")}function xi(v){return Ms(kc(v))}function Fr(v,X){var _e=kc(v);return Ou(_e,va(X,0,_e.length))}function jr(v,X,_e,tt){if(!Ci(v))return v;X=Sa(X,v);for(var ht=-1,Bt=X.length,bn=Bt-1,On=v;On!=null&&++ht<Bt;){var Zn=ts(X[ht]),gr=_e;if(Zn==="__proto__"||Zn==="constructor"||Zn==="prototype")return v;if(ht!=bn){var vr=On[Zn];gr=tt?tt(vr,Zn,On):R,gr===R&&(gr=Ci(vr)?vr:xs(X[ht+1])?[]:{})}za(On,Zn,gr),On=On[Zn]}return v}var uo=Go?function(v,X){return Go.set(v,X),v}:el,Mo=gn?function(v,X){return gn(v,"toString",{configurable:!0,enumerable:!1,value:z0(X),writable:!0})}:el;function Vo(v){return Ou(kc(v))}function ko(v,X,_e){var tt=-1,ht=v.length;X<0&&(X=-X>ht?0:ht+X),_e=_e>ht?ht:_e,_e<0&&(_e+=ht),ht=X>_e?0:_e-X>>>0,X>>>=0;for(var Bt=Jn(ht);++tt<ht;)Bt[tt]=v[tt+X];return Bt}function Jo(v,X){var _e;return To(v,function(tt,ht,Bt){return _e=X(tt,ht,Bt),!_e}),!!_e}function fo(v,X,_e){var tt=0,ht=v==null?tt:v.length;if(typeof X=="number"&&X===X&&ht<=I){for(;tt<ht;){var Bt=tt+ht>>>1,bn=v[Bt];bn!==null&&!dl(bn)&&(_e?bn<=X:bn<X)?tt=Bt+1:ht=Bt}return ht}return lo(v,X,el,_e)}function lo(v,X,_e,tt){var ht=0,Bt=v==null?0:v.length;if(Bt===0)return 0;X=_e(X);for(var bn=X!==X,On=X===null,Zn=dl(X),gr=X===R;ht<Bt;){var vr=yn((ht+Bt)/2),Er=_e(v[vr]),Wr=Er!==R,oo=Er===null,bo=Er===Er,Bo=dl(Er);if(bn)var yo=tt||bo;else gr?yo=bo&&(tt||Wr):On?yo=bo&&Wr&&(tt||!oo):Zn?yo=bo&&Wr&&!oo&&(tt||!Bo):oo||Bo?yo=!1:yo=tt?Er<=X:Er<X;yo?ht=vr+1:Bt=vr}return fr(Bt,F)}function Qo(v,X){for(var _e=-1,tt=v.length,ht=0,Bt=[];++_e<tt;){var bn=v[_e],On=X?X(bn):bn;if(!_e||!Bl(On,Zn)){var Zn=On;Bt[ht++]=bn===0?0:bn}}return Bt}function wi(v){return typeof v=="number"?v:dl(v)?U:+v}function vi(v){if(typeof v=="string")return v;if(Do(v))return ti(v,vi)+"";if(dl(v))return li?li.call(v):"";var X=v+"";return X=="0"&&1/v==-fe?"-0":X}function Ea(v,X,_e){var tt=-1,ht=ua,Bt=v.length,bn=!0,On=[],Zn=On;if(_e)bn=!1,ht=Ca;else if(Bt>=Ce){var gr=X?null:hv(v);if(gr)return Ta(gr);bn=!1,ht=hi,Zn=new Za}else Zn=X?[]:On;e:for(;++tt<Bt;){var vr=v[tt],Er=X?X(vr):vr;if(vr=_e||vr!==0?vr:0,bn&&Er===Er){for(var Wr=Zn.length;Wr--;)if(Zn[Wr]===Er)continue e;X&&Zn.push(Er),On.push(vr)}else ht(Zn,Er,_e)||(Zn!==On&&Zn.push(Er),On.push(vr))}return On}function zl(v,X){return X=Sa(X,v),v=Lp(v,X),v==null||delete v[ts(Cl(X))]}function Ql(v,X,_e,tt){return jr(v,X,_e(Ie(v,X)),tt)}function ba(v,X,_e,tt){for(var ht=v.length,Bt=tt?ht:-1;(tt?Bt--:++Bt<ht)&&X(v[Bt],Bt,v););return _e?ko(v,tt?0:Bt,tt?Bt+1:ht):ko(v,tt?Bt+1:0,tt?ht:Bt)}function qi(v,X){var _e=v;return _e instanceof _o&&(_e=_e.value()),nl(X,function(tt,ht){return ht.func.apply(ht.thisArg,da([tt],ht.args))},_e)}function Fa(v,X,_e){var tt=v.length;if(tt<2)return tt?Ea(v[0]):[];for(var ht=-1,Bt=Jn(tt);++ht<tt;)for(var bn=v[ht],On=-1;++On<tt;)On!=ht&&(Bt[ht]=Oo(Bt[ht]||bn,v[On],X,_e));return Ea(W(Bt,1),X,_e)}function Sl(v,X,_e){for(var tt=-1,ht=v.length,Bt=X.length,bn={};++tt<ht;){var On=tt<Bt?X[tt]:R;_e(bn,v[tt],On)}return bn}function _l(v){return Hi(v)?v:[]}function vs(v){return typeof v=="function"?v:el}function Sa(v,X){return Do(v)?v:O0(v,X)?[v]:zp(ci(v))}var tc=Rr;function Ol(v,X,_e){var tt=v.length;return _e=_e===R?tt:_e,!X&&_e>=tt?v:ko(v,X,_e)}var vc=Qt||function(v){return ur.clearTimeout(v)};function bu(v,X){if(X)return v.slice();var _e=v.length,tt=Ve?Ve(_e):new v.constructor(_e);return v.copy(tt),tt}function b0(v){var X=new v.constructor(v.byteLength);return new je(X).set(new je(v)),X}function iv(v,X){var _e=X?b0(v.buffer):v.buffer;return new v.constructor(_e,v.byteOffset,v.byteLength)}function av(v){var X=new v.constructor(v.source,jt.exec(v));return X.lastIndex=v.lastIndex,X}function lv(v){return No?zr(No.call(v)):{}}function pp(v,X){var _e=X?b0(v.buffer):v.buffer;return new v.constructor(_e,v.byteOffset,v.length)}function hp(v,X){if(v!==X){var _e=v!==R,tt=v===null,ht=v===v,Bt=dl(v),bn=X!==R,On=X===null,Zn=X===X,gr=dl(X);if(!On&&!gr&&!Bt&&v>X||Bt&&bn&&Zn&&!On&&!gr||tt&&bn&&Zn||!_e&&Zn||!ht)return 1;if(!tt&&!Bt&&!gr&&v<X||gr&&_e&&ht&&!tt&&!Bt||On&&_e&&ht||!bn&&ht||!Zn)return-1}return 0}function sv(v,X,_e){for(var tt=-1,ht=v.criteria,Bt=X.criteria,bn=ht.length,On=_e.length;++tt<bn;){var Zn=hp(ht[tt],Bt[tt]);if(Zn){if(tt>=On)return Zn;var gr=_e[tt];return Zn*(gr=="desc"?-1:1)}}return v.index-X.index}function mp(v,X,_e,tt){for(var ht=-1,Bt=v.length,bn=_e.length,On=-1,Zn=X.length,gr=Fn(Bt-bn,0),vr=Jn(Zn+gr),Er=!tt;++On<Zn;)vr[On]=X[On];for(;++ht<bn;)(Er||ht<Bt)&&(vr[_e[ht]]=v[ht]);for(;gr--;)vr[On++]=v[ht++];return vr}function gp(v,X,_e,tt){for(var ht=-1,Bt=v.length,bn=-1,On=_e.length,Zn=-1,gr=X.length,vr=Fn(Bt-On,0),Er=Jn(vr+gr),Wr=!tt;++ht<vr;)Er[ht]=v[ht];for(var oo=ht;++Zn<gr;)Er[oo+Zn]=X[Zn];for(;++bn<On;)(Wr||ht<Bt)&&(Er[oo+_e[bn]]=v[ht++]);return Er}function qa(v,X){var _e=-1,tt=v.length;for(X||(X=Jn(tt));++_e<tt;)X[_e]=v[_e];return X}function es(v,X,_e,tt){var ht=!_e;_e||(_e={});for(var Bt=-1,bn=X.length;++Bt<bn;){var On=X[Bt],Zn=tt?tt(_e[On],v[On],On,_e,v):R;Zn===R&&(Zn=v[On]),ht?Di(_e,On,Zn):za(_e,On,Zn)}return _e}function cv(v,X){return es(v,_0(v),X)}function uv(v,X){return es(v,Ip(v),X)}function yu(v,X){return function(_e,tt){var ht=Do(_e)?Xo:Ba,Bt=X?X():{};return ht(_e,v,vo(tt,2),Bt)}}function bc(v){return Rr(function(X,_e){var tt=-1,ht=_e.length,Bt=ht>1?_e[ht-1]:R,bn=ht>2?_e[2]:R;for(Bt=v.length>3&&typeof Bt=="function"?(ht--,Bt):R,bn&&Ha(_e[0],_e[1],bn)&&(Bt=ht<3?R:Bt,ht=1),X=zr(X);++tt<ht;){var On=_e[tt];On&&v(X,On,tt,Bt)}return X})}function vp(v,X){return function(_e,tt){if(_e==null)return _e;if(!Ja(_e))return v(_e,tt);for(var ht=_e.length,Bt=X?ht:-1,bn=zr(_e);(X?Bt--:++Bt<ht)&&tt(bn[Bt],Bt,bn)!==!1;);return _e}}function bp(v){return function(X,_e,tt){for(var ht=-1,Bt=zr(X),bn=tt(X),On=bn.length;On--;){var Zn=bn[v?On:++ht];if(_e(Bt[Zn],Zn,Bt)===!1)break}return X}}function dv(v,X,_e){var tt=X&_,ht=Hc(v);function Bt(){var bn=this&&this!==ur&&this instanceof Bt?ht:v;return bn.apply(tt?_e:this,arguments)}return Bt}function yp(v){return function(X){X=ci(X);var _e=Xi(X)?Pi(X):R,tt=_e?_e[0]:X.charAt(0),ht=_e?Ol(_e,1).join(""):X.slice(1);return tt[v]()+ht}}function yc(v){return function(X){return nl(vh(gh(X).replace(ho,"")),v,"")}}function Hc(v){return function(){var X=arguments;switch(X.length){case 0:return new v;case 1:return new v(X[0]);case 2:return new v(X[0],X[1]);case 3:return new v(X[0],X[1],X[2]);case 4:return new v(X[0],X[1],X[2],X[3]);case 5:return new v(X[0],X[1],X[2],X[3],X[4]);case 6:return new v(X[0],X[1],X[2],X[3],X[4],X[5]);case 7:return new v(X[0],X[1],X[2],X[3],X[4],X[5],X[6])}var _e=mi(v.prototype),tt=v.apply(_e,X);return Ci(tt)?tt:_e}}function fv(v,X,_e){var tt=Hc(v);function ht(){for(var Bt=arguments.length,bn=Jn(Bt),On=Bt,Zn=xc(ht);On--;)bn[On]=arguments[On];var gr=Bt<3&&bn[0]!==Zn&&bn[Bt-1]!==Zn?[]:ya(bn,Zn);if(Bt-=gr.length,Bt<_e)return Sp(v,X,xu,ht.placeholder,R,bn,gr,R,R,_e-Bt);var vr=this&&this!==ur&&this instanceof ht?tt:v;return ao(vr,this,bn)}return ht}function xp(v){return function(X,_e,tt){var ht=zr(X);if(!Ja(X)){var Bt=vo(_e,3);X=ca(X),_e=function(On){return Bt(ht[On],On,ht)}}var bn=v(X,_e,tt);return bn>-1?ht[Bt?X[bn]:bn]:R}}function wp(v){return ys(function(X){var _e=X.length,tt=_e,ht=si.prototype.thru;for(v&&X.reverse();tt--;){var Bt=X[tt];if(typeof Bt!="function")throw new zi(Je);if(ht&&!bn&&Su(Bt)=="wrapper")var bn=new si([],!0)}for(tt=bn?tt:_e;++tt<_e;){Bt=X[tt];var On=Su(Bt),Zn=On=="wrapper"?E0(Bt):R;Zn&&C0(Zn[0])&&Zn[1]==(u|y|E|N)&&!Zn[4].length&&Zn[9]==1?bn=bn[Su(Zn[0])].apply(bn,Zn[3]):bn=Bt.length==1&&C0(Bt)?bn[On]():bn.thru(Bt)}return function(){var gr=arguments,vr=gr[0];if(bn&&gr.length==1&&Do(vr))return bn.plant(vr).value();for(var Er=0,Wr=_e?X[Er].apply(this,gr):vr;++Er<_e;)Wr=X[Er].call(this,Wr);return Wr}})}function xu(v,X,_e,tt,ht,Bt,bn,On,Zn,gr){var vr=X&u,Er=X&_,Wr=X&g,oo=X&(y|T),bo=X&H,Bo=Wr?R:Hc(v);function yo(){for(var Yo=arguments.length,ei=Jn(Yo),fl=Yo;fl--;)ei[fl]=arguments[fl];if(oo)var Wa=xc(yo),pl=Nl(ei,Wa);if(tt&&(ei=mp(ei,tt,ht,oo)),Bt&&(ei=gp(ei,Bt,bn,oo)),Yo-=pl,oo&&Yo<gr){var Wi=ya(ei,Wa);return Sp(v,X,xu,yo.placeholder,_e,ei,Wi,On,Zn,gr-Yo)}var Fl=Er?_e:this,Es=Wr?Fl[v]:v;return Yo=ei.length,On?ei=Mv(ei,On):bo&&Yo>1&&ei.reverse(),vr&&Zn<Yo&&(ei.length=Zn),this&&this!==ur&&this instanceof yo&&(Es=Bo||Hc(Es)),Es.apply(Fl,ei)}return yo}function kp(v,X){return function(_e,tt){return Wt(_e,v,X(tt),{})}}function wu(v,X){return function(_e,tt){var ht;if(_e===R&&tt===R)return X;if(_e!==R&&(ht=_e),tt!==R){if(ht===R)return tt;typeof _e=="string"||typeof tt=="string"?(_e=vi(_e),tt=vi(tt)):(_e=wi(_e),tt=wi(tt)),ht=v(_e,tt)}return ht}}function y0(v){return ys(function(X){return X=ti(X,$o(vo())),Rr(function(_e){var tt=this;return v(X,function(ht){return ao(ht,tt,_e)})})})}function ku(v,X){X=X===R?" ":vi(X);var _e=X.length;if(_e<2)return _e?eo(X,v):X;var tt=eo(X,En(v/xa(X)));return Xi(X)?Ol(Pi(tt),0,v).join(""):tt.slice(0,v)}function pv(v,X,_e,tt){var ht=X&_,Bt=Hc(v);function bn(){for(var On=-1,Zn=arguments.length,gr=-1,vr=tt.length,Er=Jn(vr+Zn),Wr=this&&this!==ur&&this instanceof bn?Bt:v;++gr<vr;)Er[gr]=tt[gr];for(;Zn--;)Er[gr++]=arguments[++On];return ao(Wr,ht?_e:this,Er)}return bn}function Ep(v){return function(X,_e,tt){return tt&&typeof tt!="number"&&Ha(X,_e,tt)&&(_e=tt=R),X=ks(X),_e===R?(_e=X,X=0):_e=ks(_e),tt=tt===R?X<_e?1:-1:ks(tt),Co(X,_e,tt,v)}}function Eu(v){return function(X,_e){return typeof X=="string"&&typeof _e=="string"||(X=jl(X),_e=jl(_e)),v(X,_e)}}function Sp(v,X,_e,tt,ht,Bt,bn,On,Zn,gr){var vr=X&y,Er=vr?bn:R,Wr=vr?R:bn,oo=vr?Bt:R,bo=vr?R:Bt;X|=vr?E:a,X&=~(vr?a:E),X&p||(X&=~(_|g));var Bo=[v,X,ht,oo,Er,bo,Wr,On,Zn,gr],yo=_e.apply(R,Bo);return C0(v)&&Rp(yo,Bo),yo.placeholder=tt,Np(yo,v,X)}function x0(v){var X=Vr[v];return function(_e,tt){if(_e=jl(_e),tt=tt==null?0:fr(Zo(tt),292),tt&&Un(_e)){var ht=(ci(_e)+"e").split("e"),Bt=X(ht[0]+"e"+(+ht[1]+tt));return ht=(ci(Bt)+"e").split("e"),+(ht[0]+"e"+(+ht[1]-tt))}return X(_e)}}var hv=$r&&1/Ta(new $r([,-0]))[1]==fe?function(v){return new $r(v)}:H0;function _p(v){return function(X){var _e=_a(X);return _e==B?ol(X):_e==ce?Ni(X):Ya(X,v(X))}}function bs(v,X,_e,tt,ht,Bt,bn,On){var Zn=X&g;if(!Zn&&typeof v!="function")throw new zi(Je);var gr=tt?tt.length:0;if(gr||(X&=~(E|a),tt=ht=R),bn=bn===R?bn:Fn(Zo(bn),0),On=On===R?On:Zo(On),gr-=ht?ht.length:0,X&a){var vr=tt,Er=ht;tt=ht=R}var Wr=Zn?R:E0(v),oo=[v,X,_e,tt,ht,vr,Er,Bt,bn,On];if(Wr&&Iv(oo,Wr),v=oo[0],X=oo[1],_e=oo[2],tt=oo[3],ht=oo[4],On=oo[9]=oo[9]===R?Zn?0:v.length:Fn(oo[9]-gr,0),!On&&X&(y|T)&&(X&=~(y|T)),!X||X==_)var bo=dv(v,X,_e);else X==y||X==T?bo=fv(v,X,On):(X==E||X==(_|E))&&!ht.length?bo=pv(v,X,_e,tt):bo=xu.apply(R,oo);var Bo=Wr?uo:Rp;return Np(Bo(bo,oo),v,X)}function Op(v,X,_e,tt){return v===R||Bl(v,Aa[_e])&&!So.call(tt,_e)?X:v}function Cp(v,X,_e,tt,ht,Bt){return Ci(v)&&Ci(X)&&(Bt.set(X,v),qr(v,X,R,Cp,Bt),Bt.delete(X)),v}function mv(v){return Vc(v)?R:v}function jp(v,X,_e,tt,ht,Bt){var bn=_e&t,On=v.length,Zn=X.length;if(On!=Zn&&!(bn&&Zn>On))return!1;var gr=Bt.get(v),vr=Bt.get(X);if(gr&&vr)return gr==X&&vr==v;var Er=-1,Wr=!0,oo=_e&e?new Za:R;for(Bt.set(v,X),Bt.set(X,v);++Er<On;){var bo=v[Er],Bo=X[Er];if(tt)var yo=bn?tt(Bo,bo,Er,X,v,Bt):tt(bo,Bo,Er,v,X,Bt);if(yo!==R){if(yo)continue;Wr=!1;break}if(oo){if(!Qi(X,function(Yo,ei){if(!hi(oo,ei)&&(bo===Yo||ht(bo,Yo,_e,tt,Bt)))return oo.push(ei)})){Wr=!1;break}}else if(!(bo===Bo||ht(bo,Bo,_e,tt,Bt))){Wr=!1;break}}return Bt.delete(v),Bt.delete(X),Wr}function gv(v,X,_e,tt,ht,Bt,bn){switch(_e){case Ke:if(v.byteLength!=X.byteLength||v.byteOffset!=X.byteOffset)return!1;v=v.buffer,X=X.buffer;case He:return!(v.byteLength!=X.byteLength||!Bt(new je(v),new je(X)));case o:case b:case j:return Bl(+v,+X);case c:return v.name==X.name&&v.message==X.message;case le:case de:return v==X+"";case B:var On=ol;case ce:var Zn=tt&t;if(On||(On=Ta),v.size!=X.size&&!Zn)return!1;var gr=bn.get(v);if(gr)return gr==X;tt|=e,bn.set(v,X);var vr=jp(On(v),On(X),tt,ht,Bt,bn);return bn.delete(v),vr;case J:if(No)return No.call(v)==No.call(X)}return!1}function vv(v,X,_e,tt,ht,Bt){var bn=_e&t,On=w0(v),Zn=On.length,gr=w0(X),vr=gr.length;if(Zn!=vr&&!bn)return!1;for(var Er=Zn;Er--;){var Wr=On[Er];if(!(bn?Wr in X:So.call(X,Wr)))return!1}var oo=Bt.get(v),bo=Bt.get(X);if(oo&&bo)return oo==X&&bo==v;var Bo=!0;Bt.set(v,X),Bt.set(X,v);for(var yo=bn;++Er<Zn;){Wr=On[Er];var Yo=v[Wr],ei=X[Wr];if(tt)var fl=bn?tt(ei,Yo,Wr,X,v,Bt):tt(Yo,ei,Wr,v,X,Bt);if(!(fl===R?Yo===ei||ht(Yo,ei,_e,tt,Bt):fl)){Bo=!1;break}yo||(yo=Wr=="constructor")}if(Bo&&!yo){var Wa=v.constructor,pl=X.constructor;Wa!=pl&&"constructor"in v&&"constructor"in X&&!(typeof Wa=="function"&&Wa instanceof Wa&&typeof pl=="function"&&pl instanceof pl)&&(Bo=!1)}return Bt.delete(v),Bt.delete(X),Bo}function ys(v){return I0(Dp(v,R,Wp),v+"")}function w0(v){return Ne(v,ca,_0)}function k0(v){return Ne(v,Qa,Ip)}var E0=Go?function(v){return Go.get(v)}:H0;function Su(v){for(var X=v.name+"",_e=qo[X],tt=So.call(qo,X)?_e.length:0;tt--;){var ht=_e[tt],Bt=ht.func;if(Bt==null||Bt==v)return ht.name}return X}function xc(v){var X=So.call(Ct,"placeholder")?Ct:v;return X.placeholder}function vo(){var v=Ct.iteratee||B0;return v=v===B0?Mr:v,arguments.length?v(arguments[0],arguments[1]):v}function _u(v,X){var _e=v.__data__;return _v(X)?_e[typeof X=="string"?"string":"hash"]:_e.map}function S0(v){for(var X=ca(v),_e=X.length;_e--;){var tt=X[_e],ht=v[tt];X[_e]=[tt,ht,Mp(ht)]}return X}function nc(v,X){var _e=Pa(v,X);return _n(_e)?_e:R}function bv(v){var X=So.call(v,sn),_e=v[sn];try{v[sn]=R;var tt=!0}catch{}var ht=Lo.call(v);return tt&&(X?v[sn]=_e:delete v[sn]),ht}var _0=hn?function(v){return v==null?[]:(v=zr(v),ui(hn(v),function(X){return ut.call(v,X)}))}:W0,Ip=hn?function(v){for(var X=[];v;)da(X,_0(v)),v=Xe(v);return X}:W0,_a=Be;(Pr&&_a(new Pr(new ArrayBuffer(1)))!=Ke||Nr&&_a(new Nr)!=B||Yr&&_a(Yr.resolve())!=Y||$r&&_a(new $r)!=ce||to&&_a(new to)!=he)&&(_a=function(v){var X=Be(v),_e=X==A?v.constructor:R,tt=_e?rc(_e):"";if(tt)switch(tt){case Mi:return Ke;case yi:return B;case Ro:return Y;case Uo:return ce;case Ko:return he}return X});function yv(v,X,_e){for(var tt=-1,ht=_e.length;++tt<ht;){var Bt=_e[tt],bn=Bt.size;switch(Bt.type){case"drop":v+=bn;break;case"dropRight":X-=bn;break;case"take":X=fr(X,v+bn);break;case"takeRight":v=Fn(v,X-bn);break}}return{start:v,end:X}}function xv(v){var X=v.match($e);return X?X[1].split(at):[]}function Pp(v,X,_e){X=Sa(X,v);for(var tt=-1,ht=X.length,Bt=!1;++tt<ht;){var bn=ts(X[tt]);if(!(Bt=v!=null&&_e(v,bn)))break;v=v[bn]}return Bt||++tt!=ht?Bt:(ht=v==null?0:v.length,!!ht&&Mu(ht)&&xs(bn,ht)&&(Do(v)||oc(v)))}function wv(v){var X=v.length,_e=new v.constructor(X);return X&&typeof v[0]=="string"&&So.call(v,"index")&&(_e.index=v.index,_e.input=v.input),_e}function Tp(v){return typeof v.constructor=="function"&&!Wc(v)?mi(Xe(v)):{}}function kv(v,X,_e){var tt=v.constructor;switch(X){case He:return b0(v);case o:case b:return new tt(+v);case Ke:return iv(v,_e);case Ae:case Oe:case Te:case De:case ke:case be:case ve:case D:case l:return pp(v,_e);case B:return new tt;case j:case de:return new tt(v);case le:return av(v);case ce:return new tt;case J:return lv(v)}}function Ev(v,X){var _e=X.length;if(!_e)return v;var tt=_e-1;return X[tt]=(_e>1?"& ":"")+X[tt],X=X.join(_e>2?", ":" "),v.replace(Me,`{
/* [wrapped with `+X+`] */
`)}function Sv(v){return Do(v)||oc(v)||!!(mt&&v&&v[mt])}function xs(v,X){var _e=typeof v;return X=X??G,!!X&&(_e=="number"||_e!="symbol"&&pn.test(v))&&v>-1&&v%1==0&&v<X}function Ha(v,X,_e){if(!Ci(_e))return!1;var tt=typeof X;return(tt=="number"?Ja(_e)&&xs(X,_e.length):tt=="string"&&X in _e)?Bl(_e[X],v):!1}function O0(v,X){if(Do(v))return!1;var _e=typeof v;return _e=="number"||_e=="symbol"||_e=="boolean"||v==null||dl(v)?!0:We.test(v)||!Ge.test(v)||X!=null&&v in zr(X)}function _v(v){var X=typeof v;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?v!=="__proto__":v===null}function C0(v){var X=Su(v),_e=Ct[X];if(typeof _e!="function"||!(X in _o.prototype))return!1;if(v===_e)return!0;var tt=E0(_e);return!!tt&&v===tt[0]}function Ov(v){return!!Ti&&Ti in v}var Cv=al?ws:U0;function Wc(v){var X=v&&v.constructor,_e=typeof X=="function"&&X.prototype||Aa;return v===_e}function Mp(v){return v===v&&!Ci(v)}function Ap(v,X){return function(_e){return _e==null?!1:_e[v]===X&&(X!==R||v in zr(_e))}}function jv(v){var X=Pu(v,function(tt){return _e.size===wt&&_e.clear(),tt}),_e=X.cache;return X}function Iv(v,X){var _e=v[1],tt=X[1],ht=_e|tt,Bt=ht<(_|g|u),bn=tt==u&&_e==y||tt==u&&_e==N&&v[7].length<=X[8]||tt==(u|N)&&X[7].length<=X[8]&&_e==y;if(!(Bt||bn))return v;tt&_&&(v[2]=X[2],ht|=_e&_?0:p);var On=X[3];if(On){var Zn=v[3];v[3]=Zn?mp(Zn,On,X[4]):On,v[4]=Zn?ya(v[3],gt):X[4]}return On=X[5],On&&(Zn=v[5],v[5]=Zn?gp(Zn,On,X[6]):On,v[6]=Zn?ya(v[5],gt):X[6]),On=X[7],On&&(v[7]=On),tt&u&&(v[8]=v[8]==null?X[8]:fr(v[8],X[8])),v[9]==null&&(v[9]=X[9]),v[0]=X[0],v[1]=ht,v}function Pv(v){var X=[];if(v!=null)for(var _e in zr(v))X.push(_e);return X}function Tv(v){return Lo.call(v)}function Dp(v,X,_e){return X=Fn(X===R?v.length-1:X,0),function(){for(var tt=arguments,ht=-1,Bt=Fn(tt.length-X,0),bn=Jn(Bt);++ht<Bt;)bn[ht]=tt[X+ht];ht=-1;for(var On=Jn(X+1);++ht<X;)On[ht]=tt[ht];return On[X]=_e(bn),ao(v,this,On)}}function Lp(v,X){return X.length<2?v:Ie(v,ko(X,0,-1))}function Mv(v,X){for(var _e=v.length,tt=fr(X.length,_e),ht=qa(v);tt--;){var Bt=X[tt];v[tt]=xs(Bt,_e)?ht[Bt]:R}return v}function j0(v,X){if(!(X==="constructor"&&typeof v[X]=="function")&&X!="__proto__")return v[X]}var Rp=Zp(uo),Uc=xn||function(v,X){return ur.setTimeout(v,X)},I0=Zp(Mo);function Np(v,X,_e){var tt=X+"";return I0(v,Ev(tt,Av(xv(tt),_e)))}function Zp(v){var X=0,_e=0;return function(){var tt=Tr(),ht=Q-(tt-_e);if(_e=tt,ht>0){if(++X>=k)return arguments[0]}else X=0;return v.apply(R,arguments)}}function Ou(v,X){var _e=-1,tt=v.length,ht=tt-1;for(X=X===R?tt:X;++_e<X;){var Bt=co(_e,ht),bn=v[Bt];v[Bt]=v[_e],v[_e]=bn}return v.length=X,v}var zp=jv(function(v){var X=[];return v.charCodeAt(0)===46&&X.push(""),v.replace(qe,function(_e,tt,ht,Bt){X.push(ht?Bt.replace(Tt,"$1"):tt||_e)}),X});function ts(v){if(typeof v=="string"||dl(v))return v;var X=v+"";return X=="0"&&1/v==-fe?"-0":X}function rc(v){if(v!=null){try{return Xa.call(v)}catch{}try{return v+""}catch{}}return""}function Av(v,X){return Ho(P,function(_e){var tt="_."+_e[0];X&_e[1]&&!ua(v,tt)&&v.push(tt)}),v.sort()}function Bp(v){if(v instanceof _o)return v.clone();var X=new si(v.__wrapped__,v.__chain__);return X.__actions__=qa(v.__actions__),X.__index__=v.__index__,X.__values__=v.__values__,X}function Dv(v,X,_e){(_e?Ha(v,X,_e):X===R)?X=1:X=Fn(Zo(X),0);var tt=v==null?0:v.length;if(!tt||X<1)return[];for(var ht=0,Bt=0,bn=Jn(En(tt/X));ht<tt;)bn[Bt++]=ko(v,ht,ht+=X);return bn}function Lv(v){for(var X=-1,_e=v==null?0:v.length,tt=0,ht=[];++X<_e;){var Bt=v[X];Bt&&(ht[tt++]=Bt)}return ht}function Rv(){var v=arguments.length;if(!v)return[];for(var X=Jn(v-1),_e=arguments[0],tt=v;tt--;)X[tt-1]=arguments[tt];return da(Do(_e)?qa(_e):[_e],W(X,1))}var Nv=Rr(function(v,X){return Hi(v)?Oo(v,W(X,1,Hi,!0)):[]}),Zv=Rr(function(v,X){var _e=Cl(X);return Hi(_e)&&(_e=R),Hi(v)?Oo(v,W(X,1,Hi,!0),vo(_e,2)):[]}),zv=Rr(function(v,X){var _e=Cl(X);return Hi(_e)&&(_e=R),Hi(v)?Oo(v,W(X,1,Hi,!0),R,_e):[]});function Bv(v,X,_e){var tt=v==null?0:v.length;return tt?(X=_e||X===R?1:Zo(X),ko(v,X<0?0:X,tt)):[]}function Fv(v,X,_e){var tt=v==null?0:v.length;return tt?(X=_e||X===R?1:Zo(X),X=tt-X,ko(v,0,X<0?0:X)):[]}function Hv(v,X){return v&&v.length?ba(v,vo(X,3),!0,!0):[]}function Wv(v,X){return v&&v.length?ba(v,vo(X,3),!0):[]}function Uv(v,X,_e,tt){var ht=v==null?0:v.length;return ht?(_e&&typeof _e!="number"&&Ha(v,X,_e)&&(_e=0,tt=ht),i(v,X,_e,tt)):[]}function Fp(v,X,_e){var tt=v==null?0:v.length;if(!tt)return-1;var ht=_e==null?0:Zo(_e);return ht<0&&(ht=Fn(tt+ht,0)),Va(v,vo(X,3),ht)}function Hp(v,X,_e){var tt=v==null?0:v.length;if(!tt)return-1;var ht=tt-1;return _e!==R&&(ht=Zo(_e),ht=_e<0?Fn(tt+ht,0):fr(ht,tt-1)),Va(v,vo(X,3),ht,!0)}function Wp(v){var X=v==null?0:v.length;return X?W(v,1):[]}function Vv(v){var X=v==null?0:v.length;return X?W(v,fe):[]}function Kv(v,X){var _e=v==null?0:v.length;return _e?(X=X===R?1:Zo(X),W(v,X)):[]}function Yv(v){for(var X=-1,_e=v==null?0:v.length,tt={};++X<_e;){var ht=v[X];tt[ht[0]]=ht[1]}return tt}function Up(v){return v&&v.length?v[0]:R}function Xv(v,X,_e){var tt=v==null?0:v.length;if(!tt)return-1;var ht=_e==null?0:Zo(_e);return ht<0&&(ht=Fn(tt+ht,0)),Ri(v,X,ht)}function $v(v){var X=v==null?0:v.length;return X?ko(v,0,-1):[]}var Gv=Rr(function(v){var X=ti(v,_l);return X.length&&X[0]===v[0]?Ot(X):[]}),qv=Rr(function(v){var X=Cl(v),_e=ti(v,_l);return X===Cl(_e)?X=R:_e.pop(),_e.length&&_e[0]===v[0]?Ot(_e,vo(X,2)):[]}),Jv=Rr(function(v){var X=Cl(v),_e=ti(v,_l);return X=typeof X=="function"?X:R,X&&_e.pop(),_e.length&&_e[0]===v[0]?Ot(_e,R,X):[]});function Qv(v,X){return v==null?"":Kn.call(v,X)}function Cl(v){var X=v==null?0:v.length;return X?v[X-1]:R}function eb(v,X,_e){var tt=v==null?0:v.length;if(!tt)return-1;var ht=tt;return _e!==R&&(ht=Zo(_e),ht=ht<0?Fn(tt+ht,0):fr(ht,tt-1)),X===X?Yl(v,X,ht):Va(v,Vi,ht,!0)}function tb(v,X){return v&&v.length?ro(v,Zo(X)):R}var nb=Rr(Vp);function Vp(v,X){return v&&v.length&&X&&X.length?wo(v,X):v}function rb(v,X,_e){return v&&v.length&&X&&X.length?wo(v,X,vo(_e,2)):v}function ob(v,X,_e){return v&&v.length&&X&&X.length?wo(v,X,R,_e):v}var ib=ys(function(v,X){var _e=v==null?0:v.length,tt=sa(v,X);return mo(v,ti(X,function(ht){return xs(ht,_e)?+ht:ht}).sort(hp)),tt});function ab(v,X){var _e=[];if(!(v&&v.length))return _e;var tt=-1,ht=[],Bt=v.length;for(X=vo(X,3);++tt<Bt;){var bn=v[tt];X(bn,tt,v)&&(_e.push(bn),ht.push(tt))}return mo(v,ht),_e}function P0(v){return v==null?v:_r.call(v)}function lb(v,X,_e){var tt=v==null?0:v.length;return tt?(_e&&typeof _e!="number"&&Ha(v,X,_e)?(X=0,_e=tt):(X=X==null?0:Zo(X),_e=_e===R?tt:Zo(_e)),ko(v,X,_e)):[]}function sb(v,X){return fo(v,X)}function cb(v,X,_e){return lo(v,X,vo(_e,2))}function ub(v,X){var _e=v==null?0:v.length;if(_e){var tt=fo(v,X);if(tt<_e&&Bl(v[tt],X))return tt}return-1}function db(v,X){return fo(v,X,!0)}function fb(v,X,_e){return lo(v,X,vo(_e,2),!0)}function pb(v,X){var _e=v==null?0:v.length;if(_e){var tt=fo(v,X,!0)-1;if(Bl(v[tt],X))return tt}return-1}function hb(v){return v&&v.length?Qo(v):[]}function mb(v,X){return v&&v.length?Qo(v,vo(X,2)):[]}function gb(v){var X=v==null?0:v.length;return X?ko(v,1,X):[]}function vb(v,X,_e){return v&&v.length?(X=_e||X===R?1:Zo(X),ko(v,0,X<0?0:X)):[]}function bb(v,X,_e){var tt=v==null?0:v.length;return tt?(X=_e||X===R?1:Zo(X),X=tt-X,ko(v,X<0?0:X,tt)):[]}function yb(v,X){return v&&v.length?ba(v,vo(X,3),!1,!0):[]}function xb(v,X){return v&&v.length?ba(v,vo(X,3)):[]}var wb=Rr(function(v){return Ea(W(v,1,Hi,!0))}),kb=Rr(function(v){var X=Cl(v);return Hi(X)&&(X=R),Ea(W(v,1,Hi,!0),vo(X,2))}),Eb=Rr(function(v){var X=Cl(v);return X=typeof X=="function"?X:R,Ea(W(v,1,Hi,!0),R,X)});function Sb(v){return v&&v.length?Ea(v):[]}function _b(v,X){return v&&v.length?Ea(v,vo(X,2)):[]}function Ob(v,X){return X=typeof X=="function"?X:R,v&&v.length?Ea(v,R,X):[]}function T0(v){if(!(v&&v.length))return[];var X=0;return v=ui(v,function(_e){if(Hi(_e))return X=Fn(_e.length,X),!0}),Ia(X,function(_e){return ti(v,ta(_e))})}function Kp(v,X){if(!(v&&v.length))return[];var _e=T0(v);return X==null?_e:ti(_e,function(tt){return ao(X,R,tt)})}var Cb=Rr(function(v,X){return Hi(v)?Oo(v,X):[]}),jb=Rr(function(v){return Fa(ui(v,Hi))}),Ib=Rr(function(v){var X=Cl(v);return Hi(X)&&(X=R),Fa(ui(v,Hi),vo(X,2))}),Pb=Rr(function(v){var X=Cl(v);return X=typeof X=="function"?X:R,Fa(ui(v,Hi),R,X)}),Tb=Rr(T0);function Mb(v,X){return Sl(v||[],X||[],za)}function Ab(v,X){return Sl(v||[],X||[],jr)}var Db=Rr(function(v){var X=v.length,_e=X>1?v[X-1]:R;return _e=typeof _e=="function"?(v.pop(),_e):R,Kp(v,_e)});function Yp(v){var X=Ct(v);return X.__chain__=!0,X}function Lb(v,X){return X(v),v}function Cu(v,X){return X(v)}var Rb=ys(function(v){var X=v.length,_e=X?v[0]:0,tt=this.__wrapped__,ht=function(Bt){return sa(Bt,v)};return X>1||this.__actions__.length||!(tt instanceof _o)||!xs(_e)?this.thru(ht):(tt=tt.slice(_e,+_e+(X?1:0)),tt.__actions__.push({func:Cu,args:[ht],thisArg:R}),new si(tt,this.__chain__).thru(function(Bt){return X&&!Bt.length&&Bt.push(R),Bt}))});function Nb(){return Yp(this)}function Zb(){return new si(this.value(),this.__chain__)}function zb(){this.__values__===R&&(this.__values__=lh(this.value()));var v=this.__index__>=this.__values__.length,X=v?R:this.__values__[this.__index__++];return{done:v,value:X}}function Bb(){return this}function Fb(v){for(var X,_e=this;_e instanceof gi;){var tt=Bp(_e);tt.__index__=0,tt.__values__=R,X?ht.__wrapped__=tt:X=tt;var ht=tt;_e=_e.__wrapped__}return ht.__wrapped__=v,X}function Hb(){var v=this.__wrapped__;if(v instanceof _o){var X=v;return this.__actions__.length&&(X=new _o(this)),X=X.reverse(),X.__actions__.push({func:Cu,args:[P0],thisArg:R}),new si(X,this.__chain__)}return this.thru(P0)}function Wb(){return qi(this.__wrapped__,this.__actions__)}var Ub=yu(function(v,X,_e){So.call(v,_e)?++v[_e]:Di(v,_e,1)});function Vb(v,X,_e){var tt=Do(v)?ai:Fc;return _e&&Ha(v,X,_e)&&(X=R),tt(v,vo(X,3))}function Kb(v,X){var _e=Do(v)?ui:O;return _e(v,vo(X,3))}var Yb=xp(Fp),Xb=xp(Hp);function $b(v,X){return W(ju(v,X),1)}function Gb(v,X){return W(ju(v,X),fe)}function qb(v,X,_e){return _e=_e===R?1:Zo(_e),W(ju(v,X),_e)}function Xp(v,X){var _e=Do(v)?Ho:To;return _e(v,vo(X,3))}function $p(v,X){var _e=Do(v)?di:Ns;return _e(v,vo(X,3))}var Jb=yu(function(v,X,_e){So.call(v,_e)?v[_e].push(X):Di(v,_e,[X])});function Qb(v,X,_e,tt){v=Ja(v)?v:kc(v),_e=_e&&!tt?Zo(_e):0;var ht=v.length;return _e<0&&(_e=Fn(ht+_e,0)),Au(v)?_e<=ht&&v.indexOf(X,_e)>-1:!!ht&&Ri(v,X,_e)>-1}var e2=Rr(function(v,X,_e){var tt=-1,ht=typeof X=="function",Bt=Ja(v)?Jn(v.length):[];return To(v,function(bn){Bt[++tt]=ht?ao(X,bn,_e):tn(bn,X,_e)}),Bt}),t2=yu(function(v,X,_e){Di(v,_e,X)});function ju(v,X){var _e=Do(v)?ti:Sr;return _e(v,vo(X,3))}function n2(v,X,_e,tt){return v==null?[]:(Do(X)||(X=X==null?[]:[X]),_e=tt?R:_e,Do(_e)||(_e=_e==null?[]:[_e]),Hr(v,X,_e))}var r2=yu(function(v,X,_e){v[_e?0:1].push(X)},function(){return[[],[]]});function o2(v,X,_e){var tt=Do(v)?nl:na,ht=arguments.length<3;return tt(v,vo(X,4),_e,ht,To)}function i2(v,X,_e){var tt=Do(v)?Dl:na,ht=arguments.length<3;return tt(v,vo(X,4),_e,ht,Ns)}function a2(v,X){var _e=Do(v)?ui:O;return _e(v,Tu(vo(X,3)))}function l2(v){var X=Do(v)?Ms:xi;return X(v)}function s2(v,X,_e){(_e?Ha(v,X,_e):X===R)?X=1:X=Zo(X);var tt=Do(v)?As:Fr;return tt(v,X)}function c2(v){var X=Do(v)?Ds:Vo;return X(v)}function u2(v){if(v==null)return 0;if(Ja(v))return Au(v)?xa(v):v.length;var X=_a(v);return X==B||X==ce?v.size:Dr(v).length}function d2(v,X,_e){var tt=Do(v)?Qi:Jo;return _e&&Ha(v,X,_e)&&(X=R),tt(v,vo(X,3))}var f2=Rr(function(v,X){if(v==null)return[];var _e=X.length;return _e>1&&Ha(v,X[0],X[1])?X=[]:_e>2&&Ha(X[0],X[1],X[2])&&(X=[X[0]]),Hr(v,W(X,1),[])}),Iu=fn||function(){return ur.Date.now()};function p2(v,X){if(typeof X!="function")throw new zi(Je);return v=Zo(v),function(){if(--v<1)return X.apply(this,arguments)}}function Gp(v,X,_e){return X=_e?R:X,X=v&&X==null?v.length:X,bs(v,u,R,R,R,R,X)}function qp(v,X){var _e;if(typeof X!="function")throw new zi(Je);return v=Zo(v),function(){return--v>0&&(_e=X.apply(this,arguments)),v<=1&&(X=R),_e}}var M0=Rr(function(v,X,_e){var tt=_;if(_e.length){var ht=ya(_e,xc(M0));tt|=E}return bs(v,tt,X,_e,ht)}),Jp=Rr(function(v,X,_e){var tt=_|g;if(_e.length){var ht=ya(_e,xc(Jp));tt|=E}return bs(X,tt,v,_e,ht)});function Qp(v,X,_e){X=_e?R:X;var tt=bs(v,y,R,R,R,R,R,X);return tt.placeholder=Qp.placeholder,tt}function eh(v,X,_e){X=_e?R:X;var tt=bs(v,T,R,R,R,R,R,X);return tt.placeholder=eh.placeholder,tt}function th(v,X,_e){var tt,ht,Bt,bn,On,Zn,gr=0,vr=!1,Er=!1,Wr=!0;if(typeof v!="function")throw new zi(Je);X=jl(X)||0,Ci(_e)&&(vr=!!_e.leading,Er="maxWait"in _e,Bt=Er?Fn(jl(_e.maxWait)||0,X):Bt,Wr="trailing"in _e?!!_e.trailing:Wr);function oo(Wi){var Fl=tt,Es=ht;return tt=ht=R,gr=Wi,bn=v.apply(Es,Fl),bn}function bo(Wi){return gr=Wi,On=Uc(Yo,X),vr?oo(Wi):bn}function Bo(Wi){var Fl=Wi-Zn,Es=Wi-gr,xh=X-Fl;return Er?fr(xh,Bt-Es):xh}function yo(Wi){var Fl=Wi-Zn,Es=Wi-gr;return Zn===R||Fl>=X||Fl<0||Er&&Es>=Bt}function Yo(){var Wi=Iu();if(yo(Wi))return ei(Wi);On=Uc(Yo,Bo(Wi))}function ei(Wi){return On=R,Wr&&tt?oo(Wi):(tt=ht=R,bn)}function fl(){On!==R&&vc(On),gr=0,tt=Zn=ht=On=R}function Wa(){return On===R?bn:ei(Iu())}function pl(){var Wi=Iu(),Fl=yo(Wi);if(tt=arguments,ht=this,Zn=Wi,Fl){if(On===R)return bo(Zn);if(Er)return vc(On),On=Uc(Yo,X),oo(Zn)}return On===R&&(On=Uc(Yo,X)),bn}return pl.cancel=fl,pl.flush=Wa,pl}var h2=Rr(function(v,X){return Ga(v,1,X)}),m2=Rr(function(v,X,_e){return Ga(v,jl(X)||0,_e)});function g2(v){return bs(v,H)}function Pu(v,X){if(typeof v!="function"||X!=null&&typeof X!="function")throw new zi(Je);var _e=function(){var tt=arguments,ht=X?X.apply(this,tt):tt[0],Bt=_e.cache;if(Bt.has(ht))return Bt.get(ht);var bn=v.apply(this,tt);return _e.cache=Bt.set(ht,bn)||Bt,bn};return _e.cache=new(Pu.Cache||tr),_e}Pu.Cache=tr;function Tu(v){if(typeof v!="function")throw new zi(Je);return function(){var X=arguments;switch(X.length){case 0:return!v.call(this);case 1:return!v.call(this,X[0]);case 2:return!v.call(this,X[0],X[1]);case 3:return!v.call(this,X[0],X[1],X[2])}return!v.apply(this,X)}}function v2(v){return qp(2,v)}var b2=tc(function(v,X){X=X.length==1&&Do(X[0])?ti(X[0],$o(vo())):ti(W(X,1),$o(vo()));var _e=X.length;return Rr(function(tt){for(var ht=-1,Bt=fr(tt.length,_e);++ht<Bt;)tt[ht]=X[ht].call(this,tt[ht]);return ao(v,this,tt)})}),A0=Rr(function(v,X){var _e=ya(X,xc(A0));return bs(v,E,R,X,_e)}),nh=Rr(function(v,X){var _e=ya(X,xc(nh));return bs(v,a,R,X,_e)}),y2=ys(function(v,X){return bs(v,N,R,R,R,X)});function x2(v,X){if(typeof v!="function")throw new zi(Je);return X=X===R?X:Zo(X),Rr(v,X)}function w2(v,X){if(typeof v!="function")throw new zi(Je);return X=X==null?0:Fn(Zo(X),0),Rr(function(_e){var tt=_e[X],ht=Ol(_e,0,X);return tt&&da(ht,tt),ao(v,this,ht)})}function k2(v,X,_e){var tt=!0,ht=!0;if(typeof v!="function")throw new zi(Je);return Ci(_e)&&(tt="leading"in _e?!!_e.leading:tt,ht="trailing"in _e?!!_e.trailing:ht),th(v,X,{leading:tt,maxWait:X,trailing:ht})}function E2(v){return Gp(v,1)}function S2(v,X){return A0(vs(X),v)}function _2(){if(!arguments.length)return[];var v=arguments[0];return Do(v)?v:[v]}function O2(v){return Gi(v,te)}function C2(v,X){return X=typeof X=="function"?X:R,Gi(v,te,X)}function j2(v){return Gi(v,pt|te)}function I2(v,X){return X=typeof X=="function"?X:R,Gi(v,pt|te,X)}function P2(v,X){return X==null||Rs(v,X,ca(X))}function Bl(v,X){return v===X||v!==v&&X!==X}var T2=Eu(nt),M2=Eu(function(v,X){return v>=X}),oc=Rt(function(){return arguments}())?Rt:function(v){return Li(v)&&So.call(v,"callee")&&!ut.call(v,"callee")},Do=Jn.isArray,A2=zo?$o(zo):Lt;function Ja(v){return v!=null&&Mu(v.length)&&!ws(v)}function Hi(v){return Li(v)&&Ja(v)}function D2(v){return v===!0||v===!1||Li(v)&&Be(v)==o}var Zs=In||U0,L2=ii?$o(ii):Ut;function R2(v){return Li(v)&&v.nodeType===1&&!Vc(v)}function N2(v){if(v==null)return!0;if(Ja(v)&&(Do(v)||typeof v=="string"||typeof v.splice=="function"||Zs(v)||wc(v)||oc(v)))return!v.length;var X=_a(v);if(X==B||X==ce)return!v.size;if(Wc(v))return!Dr(v).length;for(var _e in v)if(So.call(v,_e))return!1;return!0}function Z2(v,X){return on(v,X)}function z2(v,X,_e){_e=typeof _e=="function"?_e:R;var tt=_e?_e(v,X):R;return tt===R?on(v,X,R,_e):!!tt}function D0(v){if(!Li(v))return!1;var X=Be(v);return X==c||X==s||typeof v.message=="string"&&typeof v.name=="string"&&!Vc(v)}function B2(v){return typeof v=="number"&&Un(v)}function ws(v){if(!Ci(v))return!1;var X=Be(v);return X==S||X==z||X==r||X==ie}function rh(v){return typeof v=="number"&&v==Zo(v)}function Mu(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=G}function Ci(v){var X=typeof v;return v!=null&&(X=="object"||X=="function")}function Li(v){return v!=null&&typeof v=="object"}var oh=Ir?$o(Ir):cn;function F2(v,X){return v===X||nn(v,X,S0(X))}function H2(v,X,_e){return _e=typeof _e=="function"?_e:R,nn(v,X,S0(X),_e)}function W2(v){return ih(v)&&v!=+v}function U2(v){if(Cv(v))throw new wr(Fe);return _n(v)}function V2(v){return v===null}function K2(v){return v==null}function ih(v){return typeof v=="number"||Li(v)&&Be(v)==j}function Vc(v){if(!Li(v)||Be(v)!=A)return!1;var X=Xe(v);if(X===null)return!0;var _e=So.call(X,"constructor")&&X.constructor;return typeof _e=="function"&&_e instanceof _e&&Xa.call(_e)==Wo}var L0=hr?$o(hr):Xn;function Y2(v){return rh(v)&&v>=-G&&v<=G}var ah=Ur?$o(Ur):sr;function Au(v){return typeof v=="string"||!Do(v)&&Li(v)&&Be(v)==de}function dl(v){return typeof v=="symbol"||Li(v)&&Be(v)==J}var wc=no?$o(no):yr;function X2(v){return v===R}function $2(v){return Li(v)&&_a(v)==he}function G2(v){return Li(v)&&Be(v)==Pe}var q2=Eu(xr),J2=Eu(function(v,X){return v<=X});function lh(v){if(!v)return[];if(Ja(v))return Au(v)?Pi(v):qa(v);if(St&&v[St])return ds(v[St]());var X=_a(v),_e=X==B?ol:X==ce?Ta:kc;return _e(v)}function ks(v){if(!v)return v===0?v:0;if(v=jl(v),v===fe||v===-fe){var X=v<0?-1:1;return X*$}return v===v?v:0}function Zo(v){var X=ks(v),_e=X%1;return X===X?_e?X-_e:X:0}function sh(v){return v?va(Zo(v),0,L):0}function jl(v){if(typeof v=="number")return v;if(dl(v))return U;if(Ci(v)){var X=typeof v.valueOf=="function"?v.valueOf():v;v=Ci(X)?X+"":X}if(typeof v!="string")return v===0?v:+v;v=Ei(v);var _e=Gt.test(v);return _e||$t.test(v)?qn(v.slice(2),_e?2:8):Kt.test(v)?U:+v}function ch(v){return es(v,Qa(v))}function Q2(v){return v?va(Zo(v),-G,G):v===0?v:0}function ci(v){return v==null?"":vi(v)}var ey=bc(function(v,X){if(Wc(X)||Ja(X)){es(X,ca(X),v);return}for(var _e in X)So.call(X,_e)&&za(v,_e,X[_e])}),uh=bc(function(v,X){es(X,Qa(X),v)}),Du=bc(function(v,X,_e,tt){es(X,Qa(X),v,tt)}),ty=bc(function(v,X,_e,tt){es(X,ca(X),v,tt)}),ny=ys(sa);function ry(v,X){var _e=mi(v);return X==null?_e:El(_e,X)}var oy=Rr(function(v,X){v=zr(v);var _e=-1,tt=X.length,ht=tt>2?X[2]:R;for(ht&&Ha(X[0],X[1],ht)&&(tt=1);++_e<tt;)for(var Bt=X[_e],bn=Qa(Bt),On=-1,Zn=bn.length;++On<Zn;){var gr=bn[On],vr=v[gr];(vr===R||Bl(vr,Aa[gr])&&!So.call(v,gr))&&(v[gr]=Bt[gr])}return v}),iy=Rr(function(v){return v.push(R,Cp),ao(dh,R,v)});function ay(v,X){return Ll(v,vo(X,3),se)}function ly(v,X){return Ll(v,vo(X,3),K)}function sy(v,X){return v==null?v:oe(v,vo(X,3),Qa)}function cy(v,X){return v==null?v:xe(v,vo(X,3),Qa)}function uy(v,X){return v&&se(v,vo(X,3))}function dy(v,X){return v&&K(v,vo(X,3))}function fy(v){return v==null?[]:ne(v,ca(v))}function py(v){return v==null?[]:ne(v,Qa(v))}function R0(v,X,_e){var tt=v==null?R:Ie(v,X);return tt===R?_e:tt}function hy(v,X){return v!=null&&Pp(v,X,it)}function N0(v,X){return v!=null&&Pp(v,X,ct)}var my=kp(function(v,X,_e){X!=null&&typeof X.toString!="function"&&(X=Lo.call(X)),v[X]=_e},z0(el)),gy=kp(function(v,X,_e){X!=null&&typeof X.toString!="function"&&(X=Lo.call(X)),So.call(v,X)?v[X].push(_e):v[X]=[_e]},vo),vy=Rr(tn);function ca(v){return Ja(v)?Ts(v):Dr(v)}function Qa(v){return Ja(v)?Ts(v,!0):br(v)}function by(v,X){var _e={};return X=vo(X,3),se(v,function(tt,ht,Bt){Di(_e,X(tt,ht,Bt),tt)}),_e}function yy(v,X){var _e={};return X=vo(X,3),se(v,function(tt,ht,Bt){Di(_e,ht,X(tt,ht,Bt))}),_e}var xy=bc(function(v,X,_e){qr(v,X,_e)}),dh=bc(function(v,X,_e,tt){qr(v,X,_e,tt)}),wy=ys(function(v,X){var _e={};if(v==null)return _e;var tt=!1;X=ti(X,function(Bt){return Bt=Sa(Bt,v),tt||(tt=Bt.length>1),Bt}),es(v,k0(v),_e),tt&&(_e=Gi(_e,pt|Ze|te,mv));for(var ht=X.length;ht--;)zl(_e,X[ht]);return _e});function ky(v,X){return fh(v,Tu(vo(X)))}var Ey=ys(function(v,X){return v==null?{}:Lr(v,X)});function fh(v,X){if(v==null)return{};var _e=ti(k0(v),function(tt){return[tt]});return X=vo(X),io(v,_e,function(tt,ht){return X(tt,ht[0])})}function Sy(v,X,_e){X=Sa(X,v);var tt=-1,ht=X.length;for(ht||(ht=1,v=R);++tt<ht;){var Bt=v==null?R:v[ts(X[tt])];Bt===R&&(tt=ht,Bt=_e),v=ws(Bt)?Bt.call(v):Bt}return v}function _y(v,X,_e){return v==null?v:jr(v,X,_e)}function Oy(v,X,_e,tt){return tt=typeof tt=="function"?tt:R,v==null?v:jr(v,X,_e,tt)}var ph=_p(ca),hh=_p(Qa);function Cy(v,X,_e){var tt=Do(v),ht=tt||Zs(v)||wc(v);if(X=vo(X,4),_e==null){var Bt=v&&v.constructor;ht?_e=tt?new Bt:[]:Ci(v)?_e=ws(Bt)?mi(Xe(v)):{}:_e={}}return(ht?Ho:se)(v,function(bn,On,Zn){return X(_e,bn,On,Zn)}),_e}function jy(v,X){return v==null?!0:zl(v,X)}function Iy(v,X,_e){return v==null?v:Ql(v,X,vs(_e))}function Py(v,X,_e,tt){return tt=typeof tt=="function"?tt:R,v==null?v:Ql(v,X,vs(_e),tt)}function kc(v){return v==null?[]:Yi(v,ca(v))}function Ty(v){return v==null?[]:Yi(v,Qa(v))}function My(v,X,_e){return _e===R&&(_e=X,X=R),_e!==R&&(_e=jl(_e),_e=_e===_e?_e:0),X!==R&&(X=jl(X),X=X===X?X:0),va(jl(v),X,_e)}function Ay(v,X,_e){return X=ks(X),_e===R?(_e=X,X=0):_e=ks(_e),v=jl(v),kt(v,X,_e)}function Dy(v,X,_e){if(_e&&typeof _e!="boolean"&&Ha(v,X,_e)&&(X=_e=R),_e===R&&(typeof X=="boolean"?(_e=X,X=R):typeof v=="boolean"&&(_e=v,v=R)),v===R&&X===R?(v=0,X=1):(v=ks(v),X===R?(X=v,v=0):X=ks(X)),v>X){var tt=v;v=X,X=tt}if(_e||v%1||X%1){var ht=pr();return fr(v+ht*(X-v+Mn("1e-"+((ht+"").length-1))),X)}return co(v,X)}var Ly=yc(function(v,X,_e){return X=X.toLowerCase(),v+(_e?mh(X):X)});function mh(v){return Z0(ci(v).toLowerCase())}function gh(v){return v=ci(v),v&&v.replace(_t,cs).replace(Qr,"")}function Ry(v,X,_e){v=ci(v),X=vi(X);var tt=v.length;_e=_e===R?tt:va(Zo(_e),0,tt);var ht=_e;return _e-=X.length,_e>=0&&v.slice(_e,ht)==X}function Ny(v){return v=ci(v),v&&ge.test(v)?v.replace(re,bl):v}function Zy(v){return v=ci(v),v&&ft.test(v)?v.replace(lt,"\\$&"):v}var zy=yc(function(v,X,_e){return v+(_e?"-":"")+X.toLowerCase()}),By=yc(function(v,X,_e){return v+(_e?" ":"")+X.toLowerCase()}),Fy=yp("toLowerCase");function Hy(v,X,_e){v=ci(v),X=Zo(X);var tt=X?xa(v):0;if(!X||tt>=X)return v;var ht=(X-tt)/2;return ku(yn(ht),_e)+v+ku(En(ht),_e)}function Wy(v,X,_e){v=ci(v),X=Zo(X);var tt=X?xa(v):0;return X&&tt<X?v+ku(X-tt,_e):v}function Uy(v,X,_e){v=ci(v),X=Zo(X);var tt=X?xa(v):0;return X&&tt<X?ku(X-tt,_e)+v:v}function Vy(v,X,_e){return _e||X==null?X=0:X&&(X=+X),mr(ci(v).replace(ze,""),X||0)}function Ky(v,X,_e){return(_e?Ha(v,X,_e):X===R)?X=1:X=Zo(X),eo(ci(v),X)}function Yy(){var v=arguments,X=ci(v[0]);return v.length<3?X:X.replace(v[1],v[2])}var Xy=yc(function(v,X,_e){return v+(_e?"_":"")+X.toLowerCase()});function $y(v,X,_e){return _e&&typeof _e!="number"&&Ha(v,X,_e)&&(X=_e=R),_e=_e===R?L:_e>>>0,_e?(v=ci(v),v&&(typeof X=="string"||X!=null&&!L0(X))&&(X=vi(X),!X&&Xi(v))?Ol(Pi(v),0,_e):v.split(X,_e)):[]}var Gy=yc(function(v,X,_e){return v+(_e?" ":"")+Z0(X)});function qy(v,X,_e){return v=ci(v),_e=_e==null?0:va(Zo(_e),0,v.length),X=vi(X),v.slice(_e,_e+X.length)==X}function Jy(v,X,_e){var tt=Ct.templateSettings;_e&&Ha(v,X,_e)&&(X=R),v=ci(v),X=Du({},X,tt,Op);var ht=Du({},X.imports,tt.imports,Op),Bt=ca(ht),bn=Yi(ht,Bt),On,Zn,gr=0,vr=X.interpolate||xt,Er="__p += '",Wr=Si((X.escape||xt).source+"|"+vr.source+"|"+(vr===Ye?Et:xt).source+"|"+(X.evaluate||xt).source+"|$","g"),oo="//# sourceURL="+(So.call(X,"sourceURL")?(X.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+`
`;v.replace(Wr,function(yo,Yo,ei,fl,Wa,pl){return ei||(ei=fl),Er+=v.slice(gr,pl).replace(At,rl),Yo&&(On=!0,Er+=`' +
__e(`+Yo+`) +
'`),Wa&&(Zn=!0,Er+=`';
`+Wa+`;
__p += '`),ei&&(Er+=`' +
((__t = (`+ei+`)) == null ? '' : __t) +
'`),gr=pl+yo.length,yo}),Er+=`';
`;var bo=So.call(X,"variable")&&X.variable;if(!bo)Er=`with (obj) {
`+Er+`
}
`;else if(vt.test(bo))throw new wr(Qe);Er=(Zn?Er.replace(d,""):Er).replace(M,"$1").replace(V,"$1;"),Er="function("+(bo||"obj")+`) {
`+(bo?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(On?", __e = _.escape":"")+(Zn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Er+`return __p
}`;var Bo=bh(function(){return Kr(Bt,oo+"return "+Er).apply(R,bn)});if(Bo.source=Er,D0(Bo))throw Bo;return Bo}function Qy(v){return ci(v).toLowerCase()}function ex(v){return ci(v).toUpperCase()}function tx(v,X,_e){if(v=ci(v),v&&(_e||X===R))return Ei(v);if(!v||!(X=vi(X)))return v;var tt=Pi(v),ht=Pi(X),Bt=pa(tt,ht),bn=Rl(tt,ht)+1;return Ol(tt,Bt,bn).join("")}function nx(v,X,_e){if(v=ci(v),v&&(_e||X===R))return v.slice(0,Ma(v)+1);if(!v||!(X=vi(X)))return v;var tt=Pi(v),ht=Rl(tt,Pi(X))+1;return Ol(tt,0,ht).join("")}function rx(v,X,_e){if(v=ci(v),v&&(_e||X===R))return v.replace(ze,"");if(!v||!(X=vi(X)))return v;var tt=Pi(v),ht=pa(tt,Pi(X));return Ol(tt,ht).join("")}function ox(v,X){var _e=x,tt=m;if(Ci(X)){var ht="separator"in X?X.separator:ht;_e="length"in X?Zo(X.length):_e,tt="omission"in X?vi(X.omission):tt}v=ci(v);var Bt=v.length;if(Xi(v)){var bn=Pi(v);Bt=bn.length}if(_e>=Bt)return v;var On=_e-xa(tt);if(On<1)return tt;var Zn=bn?Ol(bn,0,On).join(""):v.slice(0,On);if(ht===R)return Zn+tt;if(bn&&(On+=Zn.length-On),L0(ht)){if(v.slice(On).search(ht)){var gr,vr=Zn;for(ht.global||(ht=Si(ht.source,ci(jt.exec(ht))+"g")),ht.lastIndex=0;gr=ht.exec(vr);)var Er=gr.index;Zn=Zn.slice(0,Er===R?On:Er)}}else if(v.indexOf(vi(ht),On)!=On){var Wr=Zn.lastIndexOf(ht);Wr>-1&&(Zn=Zn.slice(0,Wr))}return Zn+tt}function ix(v){return v=ci(v),v&&ae.test(v)?v.replace(q,il):v}var ax=yc(function(v,X,_e){return v+(_e?" ":"")+X.toUpperCase()}),Z0=yp("toUpperCase");function vh(v,X,_e){return v=ci(v),X=_e?R:X,X===R?us(v)?wa(v):Ii(v):v.match(X)||[]}var bh=Rr(function(v,X){try{return ao(v,R,X)}catch(_e){return D0(_e)?_e:new wr(_e)}}),lx=ys(function(v,X){return Ho(X,function(_e){_e=ts(_e),Di(v,_e,M0(v[_e],v))}),v});function sx(v){var X=v==null?0:v.length,_e=vo();return v=X?ti(v,function(tt){if(typeof tt[1]!="function")throw new zi(Je);return[_e(tt[0]),tt[1]]}):[],Rr(function(tt){for(var ht=-1;++ht<X;){var Bt=v[ht];if(ao(Bt[0],this,tt))return ao(Bt[1],this,tt)}})}function cx(v){return Ls(Gi(v,pt))}function z0(v){return function(){return v}}function ux(v,X){return v==null||v!==v?X:v}var dx=wp(),fx=wp(!0);function el(v){return v}function B0(v){return Mr(typeof v=="function"?v:Gi(v,pt))}function px(v){return kr(Gi(v,pt))}function hx(v,X){return Br(v,Gi(X,pt))}var mx=Rr(function(v,X){return function(_e){return tn(_e,v,X)}}),gx=Rr(function(v,X){return function(_e){return tn(v,_e,X)}});function F0(v,X,_e){var tt=ca(X),ht=ne(X,tt);_e==null&&!(Ci(X)&&(ht.length||!tt.length))&&(_e=X,X=v,v=this,ht=ne(X,ca(X)));var Bt=!(Ci(_e)&&"chain"in _e)||!!_e.chain,bn=ws(v);return Ho(ht,function(On){var Zn=X[On];v[On]=Zn,bn&&(v.prototype[On]=function(){var gr=this.__chain__;if(Bt||gr){var vr=v(this.__wrapped__),Er=vr.__actions__=qa(this.__actions__);return Er.push({func:Zn,args:arguments,thisArg:v}),vr.__chain__=gr,vr}return Zn.apply(v,da([this.value()],arguments))})}),v}function vx(){return ur._===this&&(ur._=Bi),this}function H0(){}function bx(v){return v=Zo(v),Rr(function(X){return ro(X,v)})}var yx=y0(ti),xx=y0(ai),wx=y0(Qi);function yh(v){return O0(v)?ta(ts(v)):Po(v)}function kx(v){return function(X){return v==null?R:Ie(v,X)}}var Ex=Ep(),Sx=Ep(!0);function W0(){return[]}function U0(){return!1}function _x(){return{}}function Ox(){return""}function Cx(){return!0}function jx(v,X){if(v=Zo(v),v<1||v>G)return[];var _e=L,tt=fr(v,L);X=vo(X),v-=L;for(var ht=Ia(tt,X);++_e<v;)X(_e);return ht}function Ix(v){return Do(v)?ti(v,ts):dl(v)?[v]:qa(zp(ci(v)))}function Px(v){var X=++_i;return ci(v)+X}var Tx=wu(function(v,X){return v+X},0),Mx=x0("ceil"),Ax=wu(function(v,X){return v/X},1),Dx=x0("floor");function Lx(v){return v&&v.length?Z(v,el,nt):R}function Rx(v,X){return v&&v.length?Z(v,vo(X,2),nt):R}function Nx(v){return Ki(v,el)}function Zx(v,X){return Ki(v,vo(X,2))}function zx(v){return v&&v.length?Z(v,el,xr):R}function Bx(v,X){return v&&v.length?Z(v,vo(X,2),xr):R}var Fx=wu(function(v,X){return v*X},1),Hx=x0("round"),Wx=wu(function(v,X){return v-X},0);function Ux(v){return v&&v.length?Ka(v,el):0}function Vx(v,X){return v&&v.length?Ka(v,vo(X,2)):0}return Ct.after=p2,Ct.ary=Gp,Ct.assign=ey,Ct.assignIn=uh,Ct.assignInWith=Du,Ct.assignWith=ty,Ct.at=ny,Ct.before=qp,Ct.bind=M0,Ct.bindAll=lx,Ct.bindKey=Jp,Ct.castArray=_2,Ct.chain=Yp,Ct.chunk=Dv,Ct.compact=Lv,Ct.concat=Rv,Ct.cond=sx,Ct.conforms=cx,Ct.constant=z0,Ct.countBy=Ub,Ct.create=ry,Ct.curry=Qp,Ct.curryRight=eh,Ct.debounce=th,Ct.defaults=oy,Ct.defaultsDeep=iy,Ct.defer=h2,Ct.delay=m2,Ct.difference=Nv,Ct.differenceBy=Zv,Ct.differenceWith=zv,Ct.drop=Bv,Ct.dropRight=Fv,Ct.dropRightWhile=Hv,Ct.dropWhile=Wv,Ct.fill=Uv,Ct.filter=Kb,Ct.flatMap=$b,Ct.flatMapDeep=Gb,Ct.flatMapDepth=qb,Ct.flatten=Wp,Ct.flattenDeep=Vv,Ct.flattenDepth=Kv,Ct.flip=g2,Ct.flow=dx,Ct.flowRight=fx,Ct.fromPairs=Yv,Ct.functions=fy,Ct.functionsIn=py,Ct.groupBy=Jb,Ct.initial=$v,Ct.intersection=Gv,Ct.intersectionBy=qv,Ct.intersectionWith=Jv,Ct.invert=my,Ct.invertBy=gy,Ct.invokeMap=e2,Ct.iteratee=B0,Ct.keyBy=t2,Ct.keys=ca,Ct.keysIn=Qa,Ct.map=ju,Ct.mapKeys=by,Ct.mapValues=yy,Ct.matches=px,Ct.matchesProperty=hx,Ct.memoize=Pu,Ct.merge=xy,Ct.mergeWith=dh,Ct.method=mx,Ct.methodOf=gx,Ct.mixin=F0,Ct.negate=Tu,Ct.nthArg=bx,Ct.omit=wy,Ct.omitBy=ky,Ct.once=v2,Ct.orderBy=n2,Ct.over=yx,Ct.overArgs=b2,Ct.overEvery=xx,Ct.overSome=wx,Ct.partial=A0,Ct.partialRight=nh,Ct.partition=r2,Ct.pick=Ey,Ct.pickBy=fh,Ct.property=yh,Ct.propertyOf=kx,Ct.pull=nb,Ct.pullAll=Vp,Ct.pullAllBy=rb,Ct.pullAllWith=ob,Ct.pullAt=ib,Ct.range=Ex,Ct.rangeRight=Sx,Ct.rearg=y2,Ct.reject=a2,Ct.remove=ab,Ct.rest=x2,Ct.reverse=P0,Ct.sampleSize=s2,Ct.set=_y,Ct.setWith=Oy,Ct.shuffle=c2,Ct.slice=lb,Ct.sortBy=f2,Ct.sortedUniq=hb,Ct.sortedUniqBy=mb,Ct.split=$y,Ct.spread=w2,Ct.tail=gb,Ct.take=vb,Ct.takeRight=bb,Ct.takeRightWhile=yb,Ct.takeWhile=xb,Ct.tap=Lb,Ct.throttle=k2,Ct.thru=Cu,Ct.toArray=lh,Ct.toPairs=ph,Ct.toPairsIn=hh,Ct.toPath=Ix,Ct.toPlainObject=ch,Ct.transform=Cy,Ct.unary=E2,Ct.union=wb,Ct.unionBy=kb,Ct.unionWith=Eb,Ct.uniq=Sb,Ct.uniqBy=_b,Ct.uniqWith=Ob,Ct.unset=jy,Ct.unzip=T0,Ct.unzipWith=Kp,Ct.update=Iy,Ct.updateWith=Py,Ct.values=kc,Ct.valuesIn=Ty,Ct.without=Cb,Ct.words=vh,Ct.wrap=S2,Ct.xor=jb,Ct.xorBy=Ib,Ct.xorWith=Pb,Ct.zip=Tb,Ct.zipObject=Mb,Ct.zipObjectDeep=Ab,Ct.zipWith=Db,Ct.entries=ph,Ct.entriesIn=hh,Ct.extend=uh,Ct.extendWith=Du,F0(Ct,Ct),Ct.add=Tx,Ct.attempt=bh,Ct.camelCase=Ly,Ct.capitalize=mh,Ct.ceil=Mx,Ct.clamp=My,Ct.clone=O2,Ct.cloneDeep=j2,Ct.cloneDeepWith=I2,Ct.cloneWith=C2,Ct.conformsTo=P2,Ct.deburr=gh,Ct.defaultTo=ux,Ct.divide=Ax,Ct.endsWith=Ry,Ct.eq=Bl,Ct.escape=Ny,Ct.escapeRegExp=Zy,Ct.every=Vb,Ct.find=Yb,Ct.findIndex=Fp,Ct.findKey=ay,Ct.findLast=Xb,Ct.findLastIndex=Hp,Ct.findLastKey=ly,Ct.floor=Dx,Ct.forEach=Xp,Ct.forEachRight=$p,Ct.forIn=sy,Ct.forInRight=cy,Ct.forOwn=uy,Ct.forOwnRight=dy,Ct.get=R0,Ct.gt=T2,Ct.gte=M2,Ct.has=hy,Ct.hasIn=N0,Ct.head=Up,Ct.identity=el,Ct.includes=Qb,Ct.indexOf=Xv,Ct.inRange=Ay,Ct.invoke=vy,Ct.isArguments=oc,Ct.isArray=Do,Ct.isArrayBuffer=A2,Ct.isArrayLike=Ja,Ct.isArrayLikeObject=Hi,Ct.isBoolean=D2,Ct.isBuffer=Zs,Ct.isDate=L2,Ct.isElement=R2,Ct.isEmpty=N2,Ct.isEqual=Z2,Ct.isEqualWith=z2,Ct.isError=D0,Ct.isFinite=B2,Ct.isFunction=ws,Ct.isInteger=rh,Ct.isLength=Mu,Ct.isMap=oh,Ct.isMatch=F2,Ct.isMatchWith=H2,Ct.isNaN=W2,Ct.isNative=U2,Ct.isNil=K2,Ct.isNull=V2,Ct.isNumber=ih,Ct.isObject=Ci,Ct.isObjectLike=Li,Ct.isPlainObject=Vc,Ct.isRegExp=L0,Ct.isSafeInteger=Y2,Ct.isSet=ah,Ct.isString=Au,Ct.isSymbol=dl,Ct.isTypedArray=wc,Ct.isUndefined=X2,Ct.isWeakMap=$2,Ct.isWeakSet=G2,Ct.join=Qv,Ct.kebabCase=zy,Ct.last=Cl,Ct.lastIndexOf=eb,Ct.lowerCase=By,Ct.lowerFirst=Fy,Ct.lt=q2,Ct.lte=J2,Ct.max=Lx,Ct.maxBy=Rx,Ct.mean=Nx,Ct.meanBy=Zx,Ct.min=zx,Ct.minBy=Bx,Ct.stubArray=W0,Ct.stubFalse=U0,Ct.stubObject=_x,Ct.stubString=Ox,Ct.stubTrue=Cx,Ct.multiply=Fx,Ct.nth=tb,Ct.noConflict=vx,Ct.noop=H0,Ct.now=Iu,Ct.pad=Hy,Ct.padEnd=Wy,Ct.padStart=Uy,Ct.parseInt=Vy,Ct.random=Dy,Ct.reduce=o2,Ct.reduceRight=i2,Ct.repeat=Ky,Ct.replace=Yy,Ct.result=Sy,Ct.round=Hx,Ct.runInContext=An,Ct.sample=l2,Ct.size=u2,Ct.snakeCase=Xy,Ct.some=d2,Ct.sortedIndex=sb,Ct.sortedIndexBy=cb,Ct.sortedIndexOf=ub,Ct.sortedLastIndex=db,Ct.sortedLastIndexBy=fb,Ct.sortedLastIndexOf=pb,Ct.startCase=Gy,Ct.startsWith=qy,Ct.subtract=Wx,Ct.sum=Ux,Ct.sumBy=Vx,Ct.template=Jy,Ct.times=jx,Ct.toFinite=ks,Ct.toInteger=Zo,Ct.toLength=sh,Ct.toLower=Qy,Ct.toNumber=jl,Ct.toSafeInteger=Q2,Ct.toString=ci,Ct.toUpper=ex,Ct.trim=tx,Ct.trimEnd=nx,Ct.trimStart=rx,Ct.truncate=ox,Ct.unescape=ix,Ct.uniqueId=Px,Ct.upperCase=ax,Ct.upperFirst=Z0,Ct.each=Xp,Ct.eachRight=$p,Ct.first=Up,F0(Ct,function(){var v={};return se(Ct,function(X,_e){So.call(Ct.prototype,_e)||(v[_e]=X)}),v}(),{chain:!1}),Ct.VERSION=pe,Ho(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){Ct[v].placeholder=Ct}),Ho(["drop","take"],function(v,X){_o.prototype[v]=function(_e){_e=_e===R?1:Fn(Zo(_e),0);var tt=this.__filtered__&&!X?new _o(this):this.clone();return tt.__filtered__?tt.__takeCount__=fr(_e,tt.__takeCount__):tt.__views__.push({size:fr(_e,L),type:v+(tt.__dir__<0?"Right":"")}),tt},_o.prototype[v+"Right"]=function(_e){return this.reverse()[v](_e).reverse()}}),Ho(["filter","map","takeWhile"],function(v,X){var _e=X+1,tt=_e==ue||_e==ye;_o.prototype[v]=function(ht){var Bt=this.clone();return Bt.__iteratees__.push({iteratee:vo(ht,3),type:_e}),Bt.__filtered__=Bt.__filtered__||tt,Bt}}),Ho(["head","last"],function(v,X){var _e="take"+(X?"Right":"");_o.prototype[v]=function(){return this[_e](1).value()[0]}}),Ho(["initial","tail"],function(v,X){var _e="drop"+(X?"":"Right");_o.prototype[v]=function(){return this.__filtered__?new _o(this):this[_e](1)}}),_o.prototype.compact=function(){return this.filter(el)},_o.prototype.find=function(v){return this.filter(v).head()},_o.prototype.findLast=function(v){return this.reverse().find(v)},_o.prototype.invokeMap=Rr(function(v,X){return typeof v=="function"?new _o(this):this.map(function(_e){return tn(_e,v,X)})}),_o.prototype.reject=function(v){return this.filter(Tu(vo(v)))},_o.prototype.slice=function(v,X){v=Zo(v);var _e=this;return _e.__filtered__&&(v>0||X<0)?new _o(_e):(v<0?_e=_e.takeRight(-v):v&&(_e=_e.drop(v)),X!==R&&(X=Zo(X),_e=X<0?_e.dropRight(-X):_e.take(X-v)),_e)},_o.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},_o.prototype.toArray=function(){return this.take(L)},se(_o.prototype,function(v,X){var _e=/^(?:filter|find|map|reject)|While$/.test(X),tt=/^(?:head|last)$/.test(X),ht=Ct[tt?"take"+(X=="last"?"Right":""):X],Bt=tt||/^find/.test(X);ht&&(Ct.prototype[X]=function(){var bn=this.__wrapped__,On=tt?[1]:arguments,Zn=bn instanceof _o,gr=On[0],vr=Zn||Do(bn),Er=function(Yo){var ei=ht.apply(Ct,da([Yo],On));return tt&&Wr?ei[0]:ei};vr&&_e&&typeof gr=="function"&&gr.length!=1&&(Zn=vr=!1);var Wr=this.__chain__,oo=!!this.__actions__.length,bo=Bt&&!Wr,Bo=Zn&&!oo;if(!Bt&&vr){bn=Bo?bn:new _o(this);var yo=v.apply(bn,On);return yo.__actions__.push({func:Cu,args:[Er],thisArg:R}),new si(yo,Wr)}return bo&&Bo?v.apply(this,On):(yo=this.thru(Er),bo?tt?yo.value()[0]:yo.value():yo)})}),Ho(["pop","push","shift","sort","splice","unshift"],function(v){var X=xl[v],_e=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",tt=/^(?:pop|shift)$/.test(v);Ct.prototype[v]=function(){var ht=arguments;if(tt&&!this.__chain__){var Bt=this.value();return X.apply(Do(Bt)?Bt:[],ht)}return this[_e](function(bn){return X.apply(Do(bn)?bn:[],ht)})}}),se(_o.prototype,function(v,X){var _e=Ct[X];if(_e){var tt=_e.name+"";So.call(qo,tt)||(qo[tt]=[]),qo[tt].push({name:X,func:_e})}}),qo[xu(R,g).name]=[{name:"wrapper",func:R}],_o.prototype.clone=$i,_o.prototype.reverse=ha,_o.prototype.value=ql,Ct.prototype.at=Rb,Ct.prototype.chain=Nb,Ct.prototype.commit=Zb,Ct.prototype.next=zb,Ct.prototype.plant=Fb,Ct.prototype.reverse=Hb,Ct.prototype.toJSON=Ct.prototype.valueOf=Ct.prototype.value=Wb,Ct.prototype.first=Ct.prototype.head,St&&(Ct.prototype[St]=Bb),Ct},la=ra();cr?((cr.exports=la)._=la,ir._=la):ur._=la}).call(sc)}(Ku,Ku.exports);var uf=Ku.exports;const Rh=n=>n.reduce((h,R)=>h+R.version,0);function vm(n,h,R){const pe=Object.keys(n),Ce=Object.keys(h);if(pe.length!==Ce.length)return!1;for(const Fe of pe){const Je=n[Fe],Qe=h[Fe],yt=uf.isObject(Je)&&uf.isObject(Qe);if((yt&&!vm(Je,Qe,R)||!yt&&Je!==Qe)&&!R.includes(Fe))return!1}return!0}function Aw(n,h,R){return!!(h&&(h.id===n.editingElement?.id||h.id===n.resizingElement?.id||h.id===n.draggingElement?.id||h.version>R.version||h.version===R.version&&h.versionNonce<R.versionNonce)||h&&h.type==="embeddable"&&vm(h,R,["versionNonce","version","updated","validated"]))}function Dw(n){return n instanceof Map?n:n.reduce((h,R)=>(h.set(typeof R=="string"?R:R.id,R),h),new Map)}function Lw(n,h,R){const pe=new Set,Ce=Dw(n),Fe=[];for(const Je of h)if(!pe.has(Je.id)){const Qe=Ce.get(Je.id),yt=Aw(R,Qe,Je);Qe&&yt?(Fe.push(Qe),pe.add(Qe.id)):(Fe.push(Je),pe.add(Je.id))}for(const Je of n)pe.has(Je.id)||(Fe.push(Je),pe.add(Je.id));return Fe}function Rw(n,h){const R=window.OC.MimeType.getIconUrl(n.type);return ji.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"10px"}},ji.createElement("img",{src:R,style:{width:"50px",height:"50px",marginBottom:"10px"}}),ji.createElement("span",{style:{marginBottom:"5px",textAlign:"center",fontWeight:"bold"}},n.name),ji.createElement("button",{onClick:h,style:{textAlign:"center",fontWeight:"bold"}},"Download",ji.createElement(sf.Icon,{path:Ew,size:1.5,style:{verticalAlign:"middle"}})))}function Nw(){const n=document.getElementsByClassName("App-menu__left")[0];if(n===void 0)return;const h=n.querySelector(".panelColumn");h&&(h.style.display="");const R=document.getElementsByClassName("nc-download")[0];R!==void 0&&n.removeChild(R)}function Zw(n,h){const R=()=>{const Ce=document.getElementsByClassName("App-menu__left")[0];if(Ce===void 0)return;pe.disconnect();const Fe=document.createElement("div");Fe.classList.add("nc-download"),n0.createRoot(Fe).render(Rw(n,h));const Je=Ce.querySelector(".panelColumn");Je&&(Je.style.display="none"),Ce.appendChild(Fe)},pe=new MutationObserver(R);document.getElementsByClassName("App-menu__left")[0]!==void 0?R():pe.observe(document.body,{childList:!0,subtree:!0})}class zw{collab;excalidrawApi;types;openDownloadToasts;constructor(h,R,pe){this.openDownloadToasts=[],this.collab=R,this.excalidrawApi=h,this.types=pe;const Ce=document.getElementsByClassName("excalidraw-container")[0];Ce&&Ce.addEventListener("drop",Fe=>this.filesDragEventListener(Fe)),this.excalidrawApi.onPointerDown(async(Fe,Je,Qe)=>{const yt=Je.hit.element;Nw(),!(!yt||!yt.customData)&&Zw(yt.customData.meta,()=>this.downloadFile(yt.customData.meta))})}downloadFile(h){const R=h.dataURL,pe=document.createElement("a");pe.href=R,pe.download=h.name,pe.click()}filesDragEventListener(h){if(h instanceof DragEvent)for(const R of Array.from(h.dataTransfer?.files||[]))this.handleFileInsert(R,h)}handleFileInsert(h,R){const pe=su("whiteboard","maxFileSize",10);if(h.size>pe*1024*1024){R.stopImmediatePropagation(),this.excalidrawApi.setToast({message:`Max file size is: ${pe} MB`,closable:!0,duration:5e3});return}if(this.types.includes(h.type))return;R.stopImmediatePropagation();const Ce=new FileReader;Ce.readAsDataURL(h),Ce.onload=()=>{const Fe={mimeType:h.type,created:Date.now(),id:(Math.random()+1).toString(36).substring(7),dataURL:Ce.result};if(typeof Ce.result=="string"){const Je={name:h.name,type:h.type,lastModified:h.lastModified,fileId:Fe.id,dataURL:Ce.result};this.addCustomFileElement(Fe,Je,R.x,R.y)}}}async getMimeIcon(h){let R=this.excalidrawApi.getFiles()[`filetype-icon-${h}`];if(!R){const pe=window.OC.MimeType.getIconUrl(h),Ce=await Tl.get(pe,{responseType:"arraybuffer"}),Fe=new Blob([Ce.data],{type:"image/svg+xml"});return new Promise(Je=>{const Qe=new FileReader;Qe.onloadend=()=>{typeof Qe.result=="string"&&(R={mimeType:Fe.type,id:`filetype-icon-${h}`,dataURL:Qe.result},this.collab.portal.sendImageFiles({[R.id]:R}).then(()=>{Je(R.id)}))},Qe.readAsDataURL(Fe)})}return R.id}async addCustomFileElement(h,R,pe,Ce){const{x:Fe,y:Je}=hl.viewportCoordsToSceneCoords({clientX:pe,clientY:Ce},this.excalidrawApi.getAppState()),Qe=await this.getMimeIcon(R.type),yt=this.excalidrawApi.getSceneElementsIncludingDeleted().slice(),wt=hl.convertToExcalidrawElements([{type:"rectangle",fillStyle:"hachure",customData:{meta:R},strokeWidth:1,strokeStyle:"solid",opacity:30,x:Fe,y:Je,strokeColor:"#1e1e1e",backgroundColor:"#a5d8ff",width:260.62,height:81.57,seed:1641118746,groupIds:[R.fileId],roundness:{type:3}},{type:"image",fileId:R.fileId,x:Fe+28.8678679811,y:Je+16.3505845419,width:1,height:1,opacity:0,locked:!0,groupIds:[R.fileId]},{type:"image",fileId:Qe,x:Fe+28.8678679811,y:Je+16.3505845419,width:48.880073102719564,height:48.880073102719564,locked:!0,groupIds:[R.fileId]},{type:"text",isDeleted:!1,fillStyle:"solid",strokeWidth:1,strokeStyle:"solid",opacity:100,x:Fe+85.2856430662,y:Je+28.8678679811,strokeColor:"#1e1e1e",backgroundColor:"transparent",width:140.625,height:24,seed:2067517530,groupIds:[R.fileId],updated:1733306011391,locked:!0,fontSize:20,fontFamily:3,text:R.name.length>14?R.name.slice(0,11)+"...":R.name,textAlign:"left",verticalAlign:"top",baseline:20}]);yt.push(...wt),this.excalidrawApi.updateScene({elements:yt})}}function Bw(n,h){const R=["application/vnd.excalidraw+json","application/vnd.excalidrawlib+json","application/json","image/svg+xml","image/svg+xml","image/png","image/png","image/jpeg","image/gif","image/webp","image/bmp","image/x-icon","application/octet-stream"];return new zw(n,h,R)}class Fw{excalidrawAPI;fileId;portal;publicSharingToken;setViewModeEnabled;lastBroadcastedOrReceivedSceneVersion=-1;collaborators=new Map;files=new Map;constructor(h,R,pe,Ce){this.excalidrawAPI=h,this.fileId=R,this.publicSharingToken=pe,this.setViewModeEnabled=Ce,this.portal=new Mw(`${R}`,this,pe),Bw(this.excalidrawAPI,this)}async startCollab(){this.portal.socket||(this.portal.connectSocket(),this.excalidrawAPI.onChange(this.onChange))}getSceneElementsIncludingDeleted=()=>this.excalidrawAPI.getSceneElementsIncludingDeleted();_reconcileElements=h=>{const R=hl.restoreElements(h,null),pe=this.getSceneElementsIncludingDeleted(),Ce=this.excalidrawAPI.getAppState();return Lw(pe,R,Ce)};handleRemoteSceneUpdate=h=>{this.excalidrawAPI.updateScene({elements:h})};getLastBroadcastedOrReceivedSceneVersion=()=>this.lastBroadcastedOrReceivedSceneVersion;onChange=(h,R,pe)=>{Rh(h)>this.getLastBroadcastedOrReceivedSceneVersion()&&(this.lastBroadcastedOrReceivedSceneVersion=Rh(h),uf.throttle(()=>{this.portal.broadcastScene("SCENE_INIT",h);const Ce=Array.from(this.files.keys()),Fe=Object.keys(pe).filter(Je=>!Ce.includes(Je)).reduce((Je,Qe)=>(Je[Qe]=pe[Qe],Je),{});Object.keys(Fe).length>0&&this.portal.sendImageFiles(Fe)})())};onPointerUpdate=h=>{h.pointersMap.size<2&&this.portal.socket&&this.portal.broadcastMouseLocation(h)};updateCollaborators=h=>{const R=new Map;h.forEach(pe=>{R.set(pe.user.id,{username:pe.user.name,...pe})}),this.excalidrawAPI.updateScene({collaborators:R}),this.collaborators=R};updateCursor=h=>{this.excalidrawAPI.updateScene({collaborators:this.collaborators.set(h.user.id,{...this.collaborators.get(h.user.id),...h,username:h.user.name})})};scrollToContent=()=>{const h=this.excalidrawAPI.getSceneElements();this.excalidrawAPI.scrollToContent(h,{fitToContent:!0,animate:!0,duration:500})};makeBoardReadOnly=()=>{this.setViewModeEnabled(!0)};addFile=h=>{this.files.set(h.id,h),this.excalidrawAPI.addFiles([h])}}window._vue_richtext_widgets||(window._vue_richtext_widgets={});const Nh=n=>!!window._vue_richtext_widgets[n],Hw=n=>!!window._vue_richtext_widgets[n]?.hasInteractiveView,Ww=n=>!!window._vue_richtext_widgets[n]?.fullWidth,Uw=(n,h,R=Ce=>{},pe)=>{const Ce={hasInteractiveView:!0,fullWidth:!1,...pe};if(window._vue_richtext_widgets[n]){console.error("Widget for id "+n+" already registered");return}window._vue_richtext_widgets[n]={id:n,callback:h,onDestroy:R,...Ce}},Vw=(n,{richObjectType:h,richObject:R,accessible:pe,interactive:Ce})=>{if(h!=="open-graph"){if(!window._vue_richtext_widgets[h]){console.error("Widget for rich object type "+h+" not registered");return}window._vue_richtext_widgets[h].callback(n,{richObjectType:h,richObject:R,accessible:pe,interactive:Ce})}},Kw=(n,h)=>{n!=="open-graph"&&window._vue_richtext_widgets[n]&&window._vue_richtext_widgets[n].onDestroy(h)};window._registerWidget=(n,h,R,pe)=>{Uw(n,h,R,pe)},window._vue_richtext_custom_picker_elements||(window._vue_richtext_custom_picker_elements={});const cu=n=>!!window._vue_richtext_custom_picker_elements[n],Yw=n=>{const h=window._vue_richtext_custom_picker_elements[n]?.size;return["small","normal","large","full"].includes(h)?h:null},Xw=(n,h,R=Ce=>{},pe="large")=>{if(window._vue_richtext_custom_picker_elements[n]){console.error("Custom reference picker element for id "+n+" already registered");return}window._vue_richtext_custom_picker_elements[n]={id:n,callback:h,onDestroy:R,size:pe}},$w=(n,{providerId:h,accessible:R})=>{if(!window._vue_richtext_custom_picker_elements[h]){console.error("Custom reference picker element for reference provider ID "+h+" not registered");return}return window._vue_richtext_custom_picker_elements[h].callback(n,{providerId:h,accessible:R})},Gw=(n,h,R)=>{window._vue_richtext_custom_picker_elements[n]&&window._vue_richtext_custom_picker_elements[n].onDestroy(h,R)};window._registerCustomPickerElement=Xw;const qw={name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},computed:{hasName(){return this.name!==""},hasDescription(){return this.description!==""||this.$slots.description?.[0]}}};var Jw=function(){var n=this,h=n._self._c;return h("div",{staticClass:"empty-content",attrs:{role:"note"}},[n.$slots.icon?h("div",{staticClass:"empty-content__icon",attrs:{"aria-hidden":"true"}},[n._t("icon")],2):n._e(),n._t("name",function(){return[n.hasName?h("span",{staticClass:"empty-content__name"},[n._v(" "+n._s(n.name)+" ")]):n._e()]}),n.hasDescription?h("p",{staticClass:"empty-content__description"},[n._t("description",function(){return[n._v(" "+n._s(n.description)+" ")]})],2):n._e(),n.$slots.action?h("div",{staticClass:"empty-content__action"},[n._t("action")],2):n._e()],2)},Qw=[],e3=oi(qw,Jw,Qw,!1,null,"fede0c71");const Ff=e3.exports,bm=(n,h)=>{const R=[];let pe=0,Ce=n.toLowerCase().indexOf(h.toLowerCase(),pe),Fe=0;for(;Ce>-1&&Fe<n.length;)pe=Ce+h.length,R.push({start:Ce,end:pe}),Ce=n.toLowerCase().indexOf(h.toLowerCase(),pe),Fe++;return R},t3={name:"NcHighlight",props:{text:{type:String,default:""},search:{type:String,default:""},highlight:{type:Array,default:()=>[]}},computed:{ranges(){let n=[];return!this.search&&this.highlight.length===0||(this.highlight.length>0?n=this.highlight:n=bm(this.text,this.search),n.forEach((h,R)=>{h.end<h.start&&(n[R]={start:h.end,end:h.start})}),n=n.reduce((h,R)=>(R.start<this.text.length&&R.end>0&&h.push({start:R.start<0?0:R.start,end:R.end>this.text.length?this.text.length:R.end}),h),[]),n.sort((h,R)=>h.start-R.start),n=n.reduce((h,R)=>{if(!h.length)h.push(R);else{const pe=h.length-1;h[pe].end>=R.start?h[pe]={start:h[pe].start,end:Math.max(h[pe].end,R.end)}:h.push(R)}return h},[])),n},chunks(){if(this.ranges.length===0)return[{start:0,end:this.text.length,highlight:!1,text:this.text}];const n=[];let h=0,R=0;for(;h<this.text.length;){const pe=this.ranges[R];if(pe.start===h){n.push({...pe,highlight:!0,text:this.text.slice(pe.start,pe.end)}),R++,h=pe.end,R>=this.ranges.length&&h<this.text.length&&(n.push({start:h,end:this.text.length,highlight:!1,text:this.text.slice(h)}),h=this.text.length);continue}n.push({start:h,end:pe.start,highlight:!1,text:this.text.slice(h,pe.start)}),h=pe.start}return n}},render(n){return this.ranges.length?n("span",{},this.chunks.map(h=>h.highlight?n("strong",{},h.text):h.text)):n("span",{},this.text)}},n3=null,r3=null;var o3=oi(t3,n3,r3,!1,null,null);const r0=o3.exports;var ym={exports:{}};(function(n,h){(function(R,pe){n.exports=pe()})(typeof self<"u"?self:sc,function(){return(()=>{var R={646:Je=>{Je.exports=function(Qe){if(Array.isArray(Qe)){for(var yt=0,wt=new Array(Qe.length);yt<Qe.length;yt++)wt[yt]=Qe[yt];return wt}}},713:Je=>{Je.exports=function(Qe,yt,wt){return yt in Qe?Object.defineProperty(Qe,yt,{value:wt,enumerable:!0,configurable:!0,writable:!0}):Qe[yt]=wt,Qe}},860:Je=>{Je.exports=function(Qe){if(Symbol.iterator in Object(Qe)||Object.prototype.toString.call(Qe)==="[object Arguments]")return Array.from(Qe)}},206:Je=>{Je.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},319:(Je,Qe,yt)=>{var wt=yt(646),gt=yt(860),pt=yt(206);Je.exports=function(Ze){return wt(Ze)||gt(Ze)||pt()}},8:Je=>{function Qe(yt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Je.exports=Qe=function(wt){return typeof wt}:Je.exports=Qe=function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt},Qe(yt)}Je.exports=Qe}},pe={};function Ce(Je){var Qe=pe[Je];if(Qe!==void 0)return Qe.exports;var yt=pe[Je]={exports:{}};return R[Je](yt,yt.exports,Ce),yt.exports}Ce.n=Je=>{var Qe=Je&&Je.__esModule?()=>Je.default:()=>Je;return Ce.d(Qe,{a:Qe}),Qe},Ce.d=(Je,Qe)=>{for(var yt in Qe)Ce.o(Qe,yt)&&!Ce.o(Je,yt)&&Object.defineProperty(Je,yt,{enumerable:!0,get:Qe[yt]})},Ce.o=(Je,Qe)=>Object.prototype.hasOwnProperty.call(Je,Qe),Ce.r=Je=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Je,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Je,"__esModule",{value:!0})};var Fe={};return(()=>{Ce.r(Fe),Ce.d(Fe,{VueSelect:()=>u,default:()=>H,mixins:()=>N});var Je=Ce(319),Qe=Ce.n(Je),yt=Ce(8),wt=Ce.n(yt),gt=Ce(713),pt=Ce.n(gt);const Ze={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(x){var m=this;this.autoscroll&&x&&this.$nextTick(function(){return m.maybeAdjustScroll()})}},methods:{maybeAdjustScroll:function(){var x,m=((x=this.$refs.dropdownMenu)===null||x===void 0?void 0:x.children[this.typeAheadPointer])||!1;if(m){var k=this.getDropdownViewport(),Q=m.getBoundingClientRect(),ue=Q.top,me=Q.bottom,ye=Q.height;if(ue<k.top)return this.$refs.dropdownMenu.scrollTop=m.offsetTop;if(me>k.bottom)return this.$refs.dropdownMenu.scrollTop=m.offsetTop-(k.height-ye)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},te={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){if(this.resetFocusOnOptionsChange){for(var x=0;x<this.filteredOptions.length;x++)if(this.selectable(this.filteredOptions[x])){this.typeAheadPointer=x;break}}},open:function(x){x&&this.typeAheadToLastSelected()},selectedValue:function(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp:function(){for(var x=this.typeAheadPointer-1;x>=0;x--)if(this.selectable(this.filteredOptions[x])){this.typeAheadPointer=x;break}},typeAheadDown:function(){for(var x=this.typeAheadPointer+1;x<this.filteredOptions.length;x++)if(this.selectable(this.filteredOptions[x])){this.typeAheadPointer=x;break}},typeAheadSelect:function(){var x=this.filteredOptions[this.typeAheadPointer];x&&this.selectable(x)&&this.select(x)},typeAheadToLastSelected:function(){var x=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1;x!==-1&&(this.typeAheadPointer=x)}}},t={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(x){this.mutableLoading=x}},methods:{toggleLoading:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.mutableLoading=x??!this.mutableLoading}}};function e(x,m,k,Q,ue,me,ye,fe){var G,$=typeof x=="function"?x.options:x;return m&&($.render=m,$.staticRenderFns=k,$._compiled=!0),{exports:x,options:$}}const _={Deselect:e({},function(){var x=this.$createElement,m=this._self._c||x;return m("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[m("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])},[]).exports,OpenIndicator:e({},function(){var x=this.$createElement,m=this._self._c||x;return m("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[m("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])},[]).exports},g={inserted:function(x,m,k){var Q=k.context;if(Q.appendToBody){document.body.appendChild(x);var ue=Q.$refs.toggle.getBoundingClientRect(),me=ue.height,ye=ue.top,fe=ue.left,G=ue.width,$=window.scrollX||window.pageXOffset,U=window.scrollY||window.pageYOffset;x.unbindPosition=Q.calculatePosition(x,Q,{width:G+"px",left:$+fe+"px",top:U+ye+me+"px"})}},unbind:function(x,m,k){k.context.appendToBody&&(x.unbindPosition&&typeof x.unbindPosition=="function"&&x.unbindPosition(),x.parentNode&&x.parentNode.removeChild(x))}},p=function(x){var m={};return Object.keys(x).sort().forEach(function(k){m[k]=x[k]}),JSON.stringify(m)};var y=0;const T=function(){return++y};function E(x,m){var k=Object.keys(x);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(x);m&&(Q=Q.filter(function(ue){return Object.getOwnPropertyDescriptor(x,ue).enumerable})),k.push.apply(k,Q)}return k}function a(x){for(var m=1;m<arguments.length;m++){var k=arguments[m]!=null?arguments[m]:{};m%2?E(Object(k),!0).forEach(function(Q){pt()(x,Q,k[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(k)):E(Object(k)).forEach(function(Q){Object.defineProperty(x,Q,Object.getOwnPropertyDescriptor(k,Q))})}return x}const u=e({components:a({},_),directives:{appendToBody:g},mixins:[Ze,te,t],props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},ariaLabelCombobox:{type:String,default:"Search for options"},ariaLabelListbox:{type:String,default:"Options"},ariaLabelClearSelected:{type:String,default:"Clear selected"},ariaLabelDeselectOption:{type:Function,default:function(x){return"Deselect ".concat(x)}},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(x){return x}},selectable:{type:Function,default:function(x){return!0}},getOptionLabel:{type:Function,default:function(x){return wt()(x)==="object"?x.hasOwnProperty(this.label)?x[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(x),`.
`)+"https://vue-select.org/api/props.html#getoptionlabel"):x}},getOptionKey:{type:Function,default:function(x){if(wt()(x)!=="object")return x;try{return x.hasOwnProperty("id")?x.id:p(x)}catch(m){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,x,m)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(x,m,k){return(m||"").toLocaleLowerCase().indexOf(k.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(x,m){var k=this;return x.filter(function(Q){var ue=k.getOptionLabel(Q);return typeof ue=="number"&&(ue=ue.toString()),k.filterBy(Q,ue,m)})}},createOption:{type:Function,default:function(x){return wt()(this.optionList[0])==="object"?pt()({},this.label,x):x}},resetFocusOnOptionsChange:{type:Boolean,default:!0},resetOnOptionsChange:{default:!1,validator:function(x){return["function","boolean"].includes(wt()(x))}},clearSearchOnBlur:{type:Function,default:function(x){var m=x.clearSearchOnSelect,k=x.multiple;return m&&!k}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(x,m){return x}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(x,m,k){var Q=k.width,ue=k.top,me=k.left;x.style.top=ue,x.style.left=me,x.style.width=Q}},dropdownShouldOpen:{type:Function,default:function(x){var m=x.noDrop,k=x.open,Q=x.mutableLoading;return!m&&k&&!Q}},keyboardFocusBorder:{type:Boolean,default:!1},uid:{type:[String,Number],default:function(){return T()}}},data:function(){return{search:"",open:!1,isComposing:!1,isKeyboardNavigation:!1,pushedTags:[],_value:[]}},computed:{isTrackingValues:function(){return this.value===void 0||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var x=this.value;return this.isTrackingValues&&(x=this.$data._value),x!=null&&x!==""?[].concat(x):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var x=this,m={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:a({id:this.inputId,disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,role:"combobox","aria-autocomplete":"list","aria-label":this.ariaLabelCombobox,"aria-controls":"vs-".concat(this.uid,"__listbox"),"aria-owns":"vs-".concat(this.uid,"__listbox"),"aria-expanded":this.dropdownOpen.toString(),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs-".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return x.isComposing=!0},compositionend:function(){return x.isComposing=!1},keydown:this.onSearchKeyDown,keypress:this.onSearchKeyPress,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(k){return x.search=k.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:m,listFooter:m,header:a({},m,{deselect:this.deselect}),footer:a({},m,{deselect:this.deselect})}},childComponents:function(){return a({},_,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var x=this,m=function(me){return x.limit!==null?me.slice(0,x.limit):me},k=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return m(k);var Q=this.search.length?this.filter(k,this.search,this):k;if(this.taggable&&this.search.length){var ue=this.createOption(this.search);this.optionExists(ue)||Q.unshift(ue)}return m(Q)},isValueEmpty:function(){return this.selectedValue.length===0},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(x,m){var k=this;!this.taggable&&(typeof k.resetOnOptionsChange=="function"?k.resetOnOptionsChange(x,m,k.selectedValue):k.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:{immediate:!0,handler:function(x){this.isTrackingValues&&this.setInternalValueFromOptions(x)}},multiple:function(){this.clearSelection()},open:function(x){this.$emit(x?"open":"close")},search:function(x){x.length&&(this.open=!0)}},created:function(){this.mutableLoading=this.loading,this.$on("option:created",this.pushTag)},methods:{setInternalValueFromOptions:function(x){var m=this;Array.isArray(x)?this.$data._value=x.map(function(k){return m.findOptionFromReducedValue(k)}):this.$data._value=this.findOptionFromReducedValue(x)},select:function(x){this.$emit("option:selecting",x),this.isOptionSelected(x)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(x):(this.taggable&&!this.optionExists(x)&&this.$emit("option:created",x),this.multiple&&(x=this.selectedValue.concat(x)),this.updateValue(x),this.$emit("option:selected",x)),this.onAfterSelect(x)},deselect:function(x){var m=this;this.$emit("option:deselecting",x),this.updateValue(this.selectedValue.filter(function(k){return!m.optionComparator(k,x)})),this.$emit("option:deselected",x)},keyboardDeselect:function(x,m){var k,Q;this.deselect(x);var ue=(k=this.$refs.deselectButtons)===null||k===void 0?void 0:k[m+1],me=(Q=this.$refs.deselectButtons)===null||Q===void 0?void 0:Q[m-1],ye=ue??me;ye?ye.focus():this.searchEl.focus()},clearSelection:function(){this.updateValue(this.multiple?[]:null),this.searchEl.focus()},onAfterSelect:function(x){var m=this;this.closeOnSelect&&(this.open=!this.open),this.clearSearchOnSelect&&(this.search=""),this.noDrop&&this.multiple&&this.$nextTick(function(){return m.$refs.search.focus()})},updateValue:function(x){var m=this;this.value===void 0&&(this.$data._value=x),x!==null&&(x=Array.isArray(x)?x.map(function(k){return m.reduce(k)}):this.reduce(x)),this.$emit("input",x)},toggleDropdown:function(x){var m=x.target!==this.searchEl;m&&x.preventDefault();var k=[].concat(Qe()(this.$refs.deselectButtons||[]),Qe()([this.$refs.clearButton]));this.searchEl===void 0||k.filter(Boolean).some(function(Q){return Q.contains(x.target)||Q===x.target})?x.preventDefault():this.open&&m?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(x){var m=this;return this.selectedValue.some(function(k){return m.optionComparator(k,x)})},isOptionDeselectable:function(x){return this.isOptionSelected(x)&&this.deselectFromDropdown},hasKeyboardFocusBorder:function(x){return!(!this.keyboardFocusBorder||!this.isKeyboardNavigation)&&x===this.typeAheadPointer},optionComparator:function(x,m){return this.getOptionKey(x)===this.getOptionKey(m)},findOptionFromReducedValue:function(x){var m=this,k=[].concat(Qe()(this.options),Qe()(this.pushedTags)).filter(function(Q){return JSON.stringify(m.reduce(Q))===JSON.stringify(x)});return k.length===1?k[0]:k.find(function(Q){return m.optionComparator(Q,m.$data._value)})||x},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var x=null;this.multiple&&(x=Qe()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(x)}},optionExists:function(x){var m=this;return this.optionList.some(function(k){return m.optionComparator(k,x)})},optionAriaSelected:function(x){return this.selectable(x)?String(this.isOptionSelected(x)):null},normalizeOptionForSlot:function(x){return wt()(x)==="object"?x:pt()({},this.label,x)},pushTag:function(x){this.pushedTags.push(x)},onEscape:function(){this.search.length?this.search="":this.open=!1},onSearchBlur:function(){if(!this.mousedown||this.searching){var x=this.clearSearchOnSelect,m=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:x,multiple:m})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,this.search.length!==0||this.options.length!==0||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onMouseMove:function(x,m){this.isKeyboardNavigation=!1,this.selectable(x)&&(this.typeAheadPointer=m)},onSearchKeyDown:function(x){var m=this,k=function(me){if(me.preventDefault(),m.open)return!m.isComposing&&m.typeAheadSelect();m.open=!0},Q={8:function(me){return m.maybeDeleteValue()},9:function(me){return m.onTab()},27:function(me){return m.onEscape()},38:function(me){if(me.preventDefault(),m.isKeyboardNavigation=!0,m.open)return m.typeAheadUp();m.open=!0},40:function(me){if(me.preventDefault(),m.isKeyboardNavigation=!0,m.open)return m.typeAheadDown();m.open=!0}};this.selectOnKeyCodes.forEach(function(me){return Q[me]=k});var ue=this.mapKeydown(Q,this);if(typeof ue[x.keyCode]=="function")return ue[x.keyCode](x)},onSearchKeyPress:function(x){this.open||x.keyCode!==32||(x.preventDefault(),this.open=!0)}}},function(){var x=this,m=x.$createElement,k=x._self._c||m;return k("div",{staticClass:"v-select",class:x.stateClasses,attrs:{id:"v-select-"+x.uid,dir:x.dir}},[x._t("header",null,null,x.scope.header),x._v(" "),k("div",{ref:"toggle",staticClass:"vs__dropdown-toggle"},[k("div",{ref:"selectedOptions",staticClass:"vs__selected-options",on:{mousedown:x.toggleDropdown}},[x._l(x.selectedValue,function(Q,ue){return x._t("selected-option-container",[k("span",{key:x.getOptionKey(Q),staticClass:"vs__selected"},[x._t("selected-option",[x._v(`
            `+x._s(x.getOptionLabel(Q))+`
          `)],null,x.normalizeOptionForSlot(Q)),x._v(" "),x.multiple?k("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:x.disabled,type:"button",title:x.ariaLabelDeselectOption(x.getOptionLabel(Q)),"aria-label":x.ariaLabelDeselectOption(x.getOptionLabel(Q))},on:{mousedown:function(me){return me.stopPropagation(),x.deselect(Q)},keydown:function(me){return!me.type.indexOf("key")&&x._k(me.keyCode,"enter",13,me.key,"Enter")?null:x.keyboardDeselect(Q,ue)}}},[k(x.childComponents.Deselect,{tag:"component"})],1):x._e()],2)],{option:x.normalizeOptionForSlot(Q),deselect:x.deselect,multiple:x.multiple,disabled:x.disabled})}),x._v(" "),x._t("search",[k("input",x._g(x._b({staticClass:"vs__search"},"input",x.scope.search.attributes,!1),x.scope.search.events))],null,x.scope.search)],2),x._v(" "),k("div",{ref:"actions",staticClass:"vs__actions"},[k("button",{directives:[{name:"show",rawName:"v-show",value:x.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:x.disabled,type:"button",title:x.ariaLabelClearSelected,"aria-label":x.ariaLabelClearSelected},on:{click:x.clearSelection}},[k(x.childComponents.Deselect,{tag:"component"})],1),x._v(" "),x.noDrop?x._e():k("button",{ref:"openIndicatorButton",staticClass:"vs__open-indicator-button",attrs:{type:"button",tabindex:"-1","aria-labelledby":"vs-"+x.uid+"__listbox","aria-controls":"vs-"+x.uid+"__listbox","aria-expanded":x.dropdownOpen.toString()},on:{mousedown:x.toggleDropdown}},[x._t("open-indicator",[k(x.childComponents.OpenIndicator,x._b({tag:"component"},"component",x.scope.openIndicator.attributes,!1))],null,x.scope.openIndicator)],2),x._v(" "),x._t("spinner",[k("div",{directives:[{name:"show",rawName:"v-show",value:x.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[x._v("Loading...")])],null,x.scope.spinner)],2)]),x._v(" "),k("transition",{attrs:{name:x.transition}},[x.dropdownOpen?k("ul",{directives:[{name:"append-to-body",rawName:"v-append-to-body"}],key:"vs-"+x.uid+"__listbox",ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{id:"vs-"+x.uid+"__listbox",role:"listbox","aria-label":x.ariaLabelListbox,"aria-multiselectable":x.multiple,tabindex:"-1"},on:{mousedown:function(Q){return Q.preventDefault(),x.onMousedown(Q)},mouseup:x.onMouseUp}},[x._t("list-header",null,null,x.scope.listHeader),x._v(" "),x._l(x.filteredOptions,function(Q,ue){return k("li",{key:x.getOptionKey(Q),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--deselect":x.isOptionDeselectable(Q)&&ue===x.typeAheadPointer,"vs__dropdown-option--selected":x.isOptionSelected(Q),"vs__dropdown-option--highlight":ue===x.typeAheadPointer,"vs__dropdown-option--kb-focus":x.hasKeyboardFocusBorder(ue),"vs__dropdown-option--disabled":!x.selectable(Q)},attrs:{id:"vs-"+x.uid+"__option-"+ue,role:"option","aria-selected":x.optionAriaSelected(Q)},on:{mousemove:function(me){return x.onMouseMove(Q,ue)},click:function(me){me.preventDefault(),me.stopPropagation(),x.selectable(Q)&&x.select(Q)}}},[x._t("option",[x._v(`
          `+x._s(x.getOptionLabel(Q))+`
        `)],null,x.normalizeOptionForSlot(Q))],2)}),x._v(" "),x.filteredOptions.length===0?k("li",{staticClass:"vs__no-options"},[x._t("no-options",[x._v(`
          Sorry, no matching options.
        `)],null,x.scope.noOptions)],2):x._e(),x._v(" "),x._t("list-footer",null,null,x.scope.listFooter)],2):k("ul",{staticStyle:{display:"none",visibility:"hidden"},attrs:{id:"vs-"+x.uid+"__listbox",role:"listbox","aria-label":x.ariaLabelListbox}})]),x._v(" "),x._t("footer",null,null,x.scope.footer)],2)},[]).exports,N={ajax:t,pointer:te,pointerScroll:Ze},H=u})(),Fe})()})})(ym);var ic=ym.exports;const id=Math.min,dc=Math.max,ad=Math.round,Lu=Math.floor,Xs=n=>({x:n,y:n}),i3={left:"right",right:"left",bottom:"top",top:"bottom"},a3={start:"end",end:"start"};function Zh(n,h,R){return dc(n,id(h,R))}function Mc(n,h){return typeof n=="function"?n(h):n}function $s(n){return n.split("-")[0]}function o0(n){return n.split("-")[1]}function Hf(n){return n==="x"?"y":"x"}function xm(n){return n==="y"?"height":"width"}function fc(n){return["top","bottom"].includes($s(n))?"y":"x"}function wm(n){return Hf(fc(n))}function l3(n,h,R){R===void 0&&(R=!1);const pe=o0(n),Ce=wm(n),Fe=xm(Ce);let Je=Ce==="x"?pe===(R?"end":"start")?"right":"left":pe==="start"?"bottom":"top";return h.reference[Fe]>h.floating[Fe]&&(Je=ld(Je)),[Je,ld(Je)]}function s3(n){const h=ld(n);return[df(n),h,df(h)]}function df(n){return n.replace(/start|end/g,h=>a3[h])}function c3(n,h,R){const pe=["left","right"],Ce=["right","left"],Fe=["top","bottom"],Je=["bottom","top"];switch(n){case"top":case"bottom":return R?h?Ce:pe:h?pe:Ce;case"left":case"right":return h?Fe:Je;default:return[]}}function u3(n,h,R,pe){const Ce=o0(n);let Fe=c3($s(n),R==="start",pe);return Ce&&(Fe=Fe.map(Je=>Je+"-"+Ce),h&&(Fe=Fe.concat(Fe.map(df)))),Fe}function ld(n){return n.replace(/left|right|bottom|top/g,h=>i3[h])}function d3(n){return{top:0,right:0,bottom:0,left:0,...n}}function f3(n){return typeof n!="number"?d3(n):{top:n,right:n,bottom:n,left:n}}function sd(n){const{x:h,y:R,width:pe,height:Ce}=n;return{width:pe,height:Ce,top:R,left:h,right:h+pe,bottom:R+Ce,x:h,y:R}}function zh(n,h,R){let{reference:pe,floating:Ce}=n;const Fe=fc(h),Je=wm(h),Qe=xm(Je),yt=$s(h),wt=Fe==="y",gt=pe.x+pe.width/2-Ce.width/2,pt=pe.y+pe.height/2-Ce.height/2,Ze=pe[Qe]/2-Ce[Qe]/2;let te;switch(yt){case"top":te={x:gt,y:pe.y-Ce.height};break;case"bottom":te={x:gt,y:pe.y+pe.height};break;case"right":te={x:pe.x+pe.width,y:pt};break;case"left":te={x:pe.x-Ce.width,y:pt};break;default:te={x:pe.x,y:pe.y}}switch(o0(h)){case"start":te[Je]-=Ze*(R&&wt?-1:1);break;case"end":te[Je]+=Ze*(R&&wt?-1:1);break}return te}const p3=async(n,h,R)=>{const{placement:pe="bottom",strategy:Ce="absolute",middleware:Fe=[],platform:Je}=R,Qe=Fe.filter(Boolean),yt=await(Je.isRTL==null?void 0:Je.isRTL(h));let wt=await Je.getElementRects({reference:n,floating:h,strategy:Ce}),{x:gt,y:pt}=zh(wt,pe,yt),Ze=pe,te={},t=0;for(let e=0;e<Qe.length;e++){const{name:_,fn:g}=Qe[e],{x:p,y,data:T,reset:E}=await g({x:gt,y:pt,initialPlacement:pe,placement:Ze,strategy:Ce,middlewareData:te,rects:wt,platform:Je,elements:{reference:n,floating:h}});gt=p??gt,pt=y??pt,te={...te,[_]:{...te[_],...T}},E&&t<=50&&(t++,typeof E=="object"&&(E.placement&&(Ze=E.placement),E.rects&&(wt=E.rects===!0?await Je.getElementRects({reference:n,floating:h,strategy:Ce}):E.rects),{x:gt,y:pt}=zh(wt,Ze,yt)),e=-1)}return{x:gt,y:pt,placement:Ze,strategy:Ce,middlewareData:te}};async function km(n,h){var R;h===void 0&&(h={});const{x:pe,y:Ce,platform:Fe,rects:Je,elements:Qe,strategy:yt}=n,{boundary:wt="clippingAncestors",rootBoundary:gt="viewport",elementContext:pt="floating",altBoundary:Ze=!1,padding:te=0}=Mc(h,n),t=f3(te),e=Qe[Ze?pt==="floating"?"reference":"floating":pt],_=sd(await Fe.getClippingRect({element:(R=await(Fe.isElement==null?void 0:Fe.isElement(e)))==null||R?e:e.contextElement||await(Fe.getDocumentElement==null?void 0:Fe.getDocumentElement(Qe.floating)),boundary:wt,rootBoundary:gt,strategy:yt})),g=pt==="floating"?{x:pe,y:Ce,width:Je.floating.width,height:Je.floating.height}:Je.reference,p=await(Fe.getOffsetParent==null?void 0:Fe.getOffsetParent(Qe.floating)),y=await(Fe.isElement==null?void 0:Fe.isElement(p))?await(Fe.getScale==null?void 0:Fe.getScale(p))||{x:1,y:1}:{x:1,y:1},T=sd(Fe.convertOffsetParentRelativeRectToViewportRelativeRect?await Fe.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Qe,rect:g,offsetParent:p,strategy:yt}):g);return{top:(_.top-T.top+t.top)/y.y,bottom:(T.bottom-_.bottom+t.bottom)/y.y,left:(_.left-T.left+t.left)/y.x,right:(T.right-_.right+t.right)/y.x}}const h3=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(h){var R,pe;const{placement:Ce,middlewareData:Fe,rects:Je,initialPlacement:Qe,platform:yt,elements:wt}=h,{mainAxis:gt=!0,crossAxis:pt=!0,fallbackPlacements:Ze,fallbackStrategy:te="bestFit",fallbackAxisSideDirection:t="none",flipAlignment:e=!0,..._}=Mc(n,h);if((R=Fe.arrow)!=null&&R.alignmentOffset)return{};const g=$s(Ce),p=fc(Qe),y=$s(Qe)===Qe,T=await(yt.isRTL==null?void 0:yt.isRTL(wt.floating)),E=Ze||(y||!e?[ld(Qe)]:s3(Qe)),a=t!=="none";!Ze&&a&&E.push(...u3(Qe,e,t,T));const u=[Qe,...E],N=await km(h,_),H=[];let x=((pe=Fe.flip)==null?void 0:pe.overflows)||[];if(gt&&H.push(N[g]),pt){const ue=l3(Ce,Je,T);H.push(N[ue[0]],N[ue[1]])}if(x=[...x,{placement:Ce,overflows:H}],!H.every(ue=>ue<=0)){var m,k;const ue=(((m=Fe.flip)==null?void 0:m.index)||0)+1,me=u[ue];if(me)return{data:{index:ue,overflows:x},reset:{placement:me}};let ye=(k=x.filter(fe=>fe.overflows[0]<=0).sort((fe,G)=>fe.overflows[1]-G.overflows[1])[0])==null?void 0:k.placement;if(!ye)switch(te){case"bestFit":{var Q;const fe=(Q=x.filter(G=>{if(a){const $=fc(G.placement);return $===p||$==="y"}return!0}).map(G=>[G.placement,G.overflows.filter($=>$>0).reduce(($,U)=>$+U,0)]).sort((G,$)=>G[1]-$[1])[0])==null?void 0:Q[0];fe&&(ye=fe);break}case"initialPlacement":ye=Qe;break}if(Ce!==ye)return{reset:{placement:ye}}}return{}}}};async function m3(n,h){const{placement:R,platform:pe,elements:Ce}=n,Fe=await(pe.isRTL==null?void 0:pe.isRTL(Ce.floating)),Je=$s(R),Qe=o0(R),yt=fc(R)==="y",wt=["left","top"].includes(Je)?-1:1,gt=Fe&&yt?-1:1,pt=Mc(h,n);let{mainAxis:Ze,crossAxis:te,alignmentAxis:t}=typeof pt=="number"?{mainAxis:pt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...pt};return Qe&&typeof t=="number"&&(te=Qe==="end"?t*-1:t),yt?{x:te*gt,y:Ze*wt}:{x:Ze*wt,y:te*gt}}const g3=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(h){var R,pe;const{x:Ce,y:Fe,placement:Je,middlewareData:Qe}=h,yt=await m3(h,n);return Je===((R=Qe.offset)==null?void 0:R.placement)&&(pe=Qe.arrow)!=null&&pe.alignmentOffset?{}:{x:Ce+yt.x,y:Fe+yt.y,data:{...yt,placement:Je}}}}},v3=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(h){const{x:R,y:pe,placement:Ce}=h,{mainAxis:Fe=!0,crossAxis:Je=!1,limiter:Qe={fn:_=>{let{x:g,y:p}=_;return{x:g,y:p}}},...yt}=Mc(n,h),wt={x:R,y:pe},gt=await km(h,yt),pt=fc($s(Ce)),Ze=Hf(pt);let te=wt[Ze],t=wt[pt];if(Fe){const _=Ze==="y"?"top":"left",g=Ze==="y"?"bottom":"right",p=te+gt[_],y=te-gt[g];te=Zh(p,te,y)}if(Je){const _=pt==="y"?"top":"left",g=pt==="y"?"bottom":"right",p=t+gt[_],y=t-gt[g];t=Zh(p,t,y)}const e=Qe.fn({...h,[Ze]:te,[pt]:t});return{...e,data:{x:e.x-R,y:e.y-pe}}}}},b3=function(n){return n===void 0&&(n={}),{options:n,fn(h){const{x:R,y:pe,placement:Ce,rects:Fe,middlewareData:Je}=h,{offset:Qe=0,mainAxis:yt=!0,crossAxis:wt=!0}=Mc(n,h),gt={x:R,y:pe},pt=fc(Ce),Ze=Hf(pt);let te=gt[Ze],t=gt[pt];const e=Mc(Qe,h),_=typeof e=="number"?{mainAxis:e,crossAxis:0}:{mainAxis:0,crossAxis:0,...e};if(yt){const y=Ze==="y"?"height":"width",T=Fe.reference[Ze]-Fe.floating[y]+_.mainAxis,E=Fe.reference[Ze]+Fe.reference[y]-_.mainAxis;te<T?te=T:te>E&&(te=E)}if(wt){var g,p;const y=Ze==="y"?"width":"height",T=["top","left"].includes($s(Ce)),E=Fe.reference[pt]-Fe.floating[y]+(T&&((g=Je.offset)==null?void 0:g[pt])||0)+(T?0:_.crossAxis),a=Fe.reference[pt]+Fe.reference[y]+(T?0:((p=Je.offset)==null?void 0:p[pt])||0)-(T?_.crossAxis:0);t<E?t=E:t>a&&(t=a)}return{[Ze]:te,[pt]:t}}}};function Zc(n){return Em(n)?(n.nodeName||"").toLowerCase():"#document"}function vl(n){var h;return(n==null||(h=n.ownerDocument)==null?void 0:h.defaultView)||window}function Cs(n){var h;return(h=(Em(n)?n.ownerDocument:n.document)||window.document)==null?void 0:h.documentElement}function Em(n){return n instanceof Node||n instanceof vl(n).Node}function Vl(n){return n instanceof Element||n instanceof vl(n).Element}function ls(n){return n instanceof HTMLElement||n instanceof vl(n).HTMLElement}function Bh(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof vl(n).ShadowRoot}function hu(n){const{overflow:h,overflowX:R,overflowY:pe,display:Ce}=Kl(n);return/auto|scroll|overlay|hidden|clip/.test(h+pe+R)&&!["inline","contents"].includes(Ce)}function y3(n){return["table","td","th"].includes(Zc(n))}function i0(n){return[":popover-open",":modal"].some(h=>{try{return n.matches(h)}catch{return!1}})}function Wf(n){const h=Uf(),R=Vl(n)?Kl(n):n;return R.transform!=="none"||R.perspective!=="none"||(R.containerType?R.containerType!=="normal":!1)||!h&&(R.backdropFilter?R.backdropFilter!=="none":!1)||!h&&(R.filter?R.filter!=="none":!1)||["transform","perspective","filter"].some(pe=>(R.willChange||"").includes(pe))||["paint","layout","strict","content"].some(pe=>(R.contain||"").includes(pe))}function x3(n){let h=Gs(n);for(;ls(h)&&!Ac(h);){if(Wf(h))return h;if(i0(h))return null;h=Gs(h)}return null}function Uf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ac(n){return["html","body","#document"].includes(Zc(n))}function Kl(n){return vl(n).getComputedStyle(n)}function a0(n){return Vl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Gs(n){if(Zc(n)==="html")return n;const h=n.assignedSlot||n.parentNode||Bh(n)&&n.host||Cs(n);return Bh(h)?h.host:h}function Sm(n){const h=Gs(n);return Ac(h)?n.ownerDocument?n.ownerDocument.body:n.body:ls(h)&&hu(h)?h:Sm(h)}function uu(n,h,R){var pe;h===void 0&&(h=[]),R===void 0&&(R=!0);const Ce=Sm(n),Fe=Ce===((pe=n.ownerDocument)==null?void 0:pe.body),Je=vl(Ce);if(Fe){const Qe=ff(Je);return h.concat(Je,Je.visualViewport||[],hu(Ce)?Ce:[],Qe&&R?uu(Qe):[])}return h.concat(Ce,uu(Ce,[],R))}function ff(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _m(n){const h=Kl(n);let R=parseFloat(h.width)||0,pe=parseFloat(h.height)||0;const Ce=ls(n),Fe=Ce?n.offsetWidth:R,Je=Ce?n.offsetHeight:pe,Qe=ad(R)!==Fe||ad(pe)!==Je;return Qe&&(R=Fe,pe=Je),{width:R,height:pe,$:Qe}}function Vf(n){return Vl(n)?n:n.contextElement}function jc(n){const h=Vf(n);if(!ls(h))return Xs(1);const R=h.getBoundingClientRect(),{width:pe,height:Ce,$:Fe}=_m(h);let Je=(Fe?ad(R.width):R.width)/pe,Qe=(Fe?ad(R.height):R.height)/Ce;return(!Je||!Number.isFinite(Je))&&(Je=1),(!Qe||!Number.isFinite(Qe))&&(Qe=1),{x:Je,y:Qe}}const w3=Xs(0);function Om(n){const h=vl(n);return!Uf()||!h.visualViewport?w3:{x:h.visualViewport.offsetLeft,y:h.visualViewport.offsetTop}}function k3(n,h,R){return h===void 0&&(h=!1),!R||h&&R!==vl(n)?!1:h}function pc(n,h,R,pe){h===void 0&&(h=!1),R===void 0&&(R=!1);const Ce=n.getBoundingClientRect(),Fe=Vf(n);let Je=Xs(1);h&&(pe?Vl(pe)&&(Je=jc(pe)):Je=jc(n));const Qe=k3(Fe,R,pe)?Om(Fe):Xs(0);let yt=(Ce.left+Qe.x)/Je.x,wt=(Ce.top+Qe.y)/Je.y,gt=Ce.width/Je.x,pt=Ce.height/Je.y;if(Fe){const Ze=vl(Fe),te=pe&&Vl(pe)?vl(pe):pe;let t=Ze,e=ff(t);for(;e&&pe&&te!==t;){const _=jc(e),g=e.getBoundingClientRect(),p=Kl(e),y=g.left+(e.clientLeft+parseFloat(p.paddingLeft))*_.x,T=g.top+(e.clientTop+parseFloat(p.paddingTop))*_.y;yt*=_.x,wt*=_.y,gt*=_.x,pt*=_.y,yt+=y,wt+=T,t=vl(e),e=ff(t)}}return sd({width:gt,height:pt,x:yt,y:wt})}function E3(n){let{elements:h,rect:R,offsetParent:pe,strategy:Ce}=n;const Fe=Ce==="fixed",Je=Cs(pe),Qe=h?i0(h.floating):!1;if(pe===Je||Qe&&Fe)return R;let yt={scrollLeft:0,scrollTop:0},wt=Xs(1);const gt=Xs(0),pt=ls(pe);if((pt||!pt&&!Fe)&&((Zc(pe)!=="body"||hu(Je))&&(yt=a0(pe)),ls(pe))){const Ze=pc(pe);wt=jc(pe),gt.x=Ze.x+pe.clientLeft,gt.y=Ze.y+pe.clientTop}return{width:R.width*wt.x,height:R.height*wt.y,x:R.x*wt.x-yt.scrollLeft*wt.x+gt.x,y:R.y*wt.y-yt.scrollTop*wt.y+gt.y}}function S3(n){return Array.from(n.getClientRects())}function Cm(n){return pc(Cs(n)).left+a0(n).scrollLeft}function _3(n){const h=Cs(n),R=a0(n),pe=n.ownerDocument.body,Ce=dc(h.scrollWidth,h.clientWidth,pe.scrollWidth,pe.clientWidth),Fe=dc(h.scrollHeight,h.clientHeight,pe.scrollHeight,pe.clientHeight);let Je=-R.scrollLeft+Cm(n);const Qe=-R.scrollTop;return Kl(pe).direction==="rtl"&&(Je+=dc(h.clientWidth,pe.clientWidth)-Ce),{width:Ce,height:Fe,x:Je,y:Qe}}function O3(n,h){const R=vl(n),pe=Cs(n),Ce=R.visualViewport;let Fe=pe.clientWidth,Je=pe.clientHeight,Qe=0,yt=0;if(Ce){Fe=Ce.width,Je=Ce.height;const wt=Uf();(!wt||wt&&h==="fixed")&&(Qe=Ce.offsetLeft,yt=Ce.offsetTop)}return{width:Fe,height:Je,x:Qe,y:yt}}function C3(n,h){const R=pc(n,!0,h==="fixed"),pe=R.top+n.clientTop,Ce=R.left+n.clientLeft,Fe=ls(n)?jc(n):Xs(1),Je=n.clientWidth*Fe.x,Qe=n.clientHeight*Fe.y,yt=Ce*Fe.x,wt=pe*Fe.y;return{width:Je,height:Qe,x:yt,y:wt}}function Fh(n,h,R){let pe;if(h==="viewport")pe=O3(n,R);else if(h==="document")pe=_3(Cs(n));else if(Vl(h))pe=C3(h,R);else{const Ce=Om(n);pe={...h,x:h.x-Ce.x,y:h.y-Ce.y}}return sd(pe)}function jm(n,h){const R=Gs(n);return R===h||!Vl(R)||Ac(R)?!1:Kl(R).position==="fixed"||jm(R,h)}function j3(n,h){const R=h.get(n);if(R)return R;let pe=uu(n,[],!1).filter(Qe=>Vl(Qe)&&Zc(Qe)!=="body"),Ce=null;const Fe=Kl(n).position==="fixed";let Je=Fe?Gs(n):n;for(;Vl(Je)&&!Ac(Je);){const Qe=Kl(Je),yt=Wf(Je);!yt&&Qe.position==="fixed"&&(Ce=null),(Fe?!yt&&!Ce:!yt&&Qe.position==="static"&&Ce&&["absolute","fixed"].includes(Ce.position)||hu(Je)&&!yt&&jm(n,Je))?pe=pe.filter(wt=>wt!==Je):Ce=Qe,Je=Gs(Je)}return h.set(n,pe),pe}function I3(n){let{element:h,boundary:R,rootBoundary:pe,strategy:Ce}=n;const Fe=[...R==="clippingAncestors"?i0(h)?[]:j3(h,this._c):[].concat(R),pe],Je=Fe[0],Qe=Fe.reduce((yt,wt)=>{const gt=Fh(h,wt,Ce);return yt.top=dc(gt.top,yt.top),yt.right=id(gt.right,yt.right),yt.bottom=id(gt.bottom,yt.bottom),yt.left=dc(gt.left,yt.left),yt},Fh(h,Je,Ce));return{width:Qe.right-Qe.left,height:Qe.bottom-Qe.top,x:Qe.left,y:Qe.top}}function P3(n){const{width:h,height:R}=_m(n);return{width:h,height:R}}function T3(n,h,R){const pe=ls(h),Ce=Cs(h),Fe=R==="fixed",Je=pc(n,!0,Fe,h);let Qe={scrollLeft:0,scrollTop:0};const yt=Xs(0);if(pe||!pe&&!Fe)if((Zc(h)!=="body"||hu(Ce))&&(Qe=a0(h)),pe){const pt=pc(h,!0,Fe,h);yt.x=pt.x+h.clientLeft,yt.y=pt.y+h.clientTop}else Ce&&(yt.x=Cm(Ce));const wt=Je.left+Qe.scrollLeft-yt.x,gt=Je.top+Qe.scrollTop-yt.y;return{x:wt,y:gt,width:Je.width,height:Je.height}}function $0(n){return Kl(n).position==="static"}function Hh(n,h){return!ls(n)||Kl(n).position==="fixed"?null:h?h(n):n.offsetParent}function Im(n,h){const R=vl(n);if(i0(n))return R;if(!ls(n)){let Ce=Gs(n);for(;Ce&&!Ac(Ce);){if(Vl(Ce)&&!$0(Ce))return Ce;Ce=Gs(Ce)}return R}let pe=Hh(n,h);for(;pe&&y3(pe)&&$0(pe);)pe=Hh(pe,h);return pe&&Ac(pe)&&$0(pe)&&!Wf(pe)?R:pe||x3(n)||R}const M3=async function(n){const h=this.getOffsetParent||Im,R=this.getDimensions,pe=await R(n.floating);return{reference:T3(n.reference,await h(n.floating),n.strategy),floating:{x:0,y:0,width:pe.width,height:pe.height}}};function A3(n){return Kl(n).direction==="rtl"}const D3={convertOffsetParentRelativeRectToViewportRelativeRect:E3,getDocumentElement:Cs,getClippingRect:I3,getOffsetParent:Im,getElementRects:M3,getClientRects:S3,getDimensions:P3,getScale:jc,isElement:Vl,isRTL:A3};function L3(n,h){let R=null,pe;const Ce=Cs(n);function Fe(){var Qe;clearTimeout(pe),(Qe=R)==null||Qe.disconnect(),R=null}function Je(Qe,yt){Qe===void 0&&(Qe=!1),yt===void 0&&(yt=1),Fe();const{left:wt,top:gt,width:pt,height:Ze}=n.getBoundingClientRect();if(Qe||h(),!pt||!Ze)return;const te=Lu(gt),t=Lu(Ce.clientWidth-(wt+pt)),e=Lu(Ce.clientHeight-(gt+Ze)),_=Lu(wt),g={rootMargin:-te+"px "+-t+"px "+-e+"px "+-_+"px",threshold:dc(0,id(1,yt))||1};let p=!0;function y(T){const E=T[0].intersectionRatio;if(E!==yt){if(!p)return Je();E?Je(!1,E):pe=setTimeout(()=>{Je(!1,1e-7)},1e3)}p=!1}try{R=new IntersectionObserver(y,{...g,root:Ce.ownerDocument})}catch{R=new IntersectionObserver(y,g)}R.observe(n)}return Je(!0),Fe}function R3(n,h,R,pe){pe===void 0&&(pe={});const{ancestorScroll:Ce=!0,ancestorResize:Fe=!0,elementResize:Je=typeof ResizeObserver=="function",layoutShift:Qe=typeof IntersectionObserver=="function",animationFrame:yt=!1}=pe,wt=Vf(n),gt=Ce||Fe?[...wt?uu(wt):[],...uu(h)]:[];gt.forEach(g=>{Ce&&g.addEventListener("scroll",R,{passive:!0}),Fe&&g.addEventListener("resize",R)});const pt=wt&&Qe?L3(wt,R):null;let Ze=-1,te=null;Je&&(te=new ResizeObserver(g=>{let[p]=g;p&&p.target===wt&&te&&(te.unobserve(h),cancelAnimationFrame(Ze),Ze=requestAnimationFrame(()=>{var y;(y=te)==null||y.observe(h)})),R()}),wt&&!yt&&te.observe(wt),te.observe(h));let t,e=yt?pc(n):null;yt&&_();function _(){const g=pc(n);e&&(g.x!==e.x||g.y!==e.y||g.width!==e.width||g.height!==e.height)&&R(),e=g,t=requestAnimationFrame(_)}return R(),()=>{var g;gt.forEach(p=>{Ce&&p.removeEventListener("scroll",R),Fe&&p.removeEventListener("resize",R)}),pt?.(),(g=te)==null||g.disconnect(),te=null,yt&&cancelAnimationFrame(t)}}const N3=g3,Z3=v3,z3=h3,B3=b3,F3=(n,h,R)=>{const pe=new Map,Ce={platform:D3,...R},Fe={...Ce.platform,_c:pe};return p3(n,h,{...Ce,platform:Fe})},H3={name:"ChevronDownIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var W3=function(){var n=this,h=n._self._c;return h("span",n._b({staticClass:"material-design-icon chevron-down-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(R){return n.$emit("click",R)}}},"span",n.$attrs,!1),[h("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[h("path",{attrs:{d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"}},[n.title?h("title",[n._v(n._s(n.title))]):n._e()])])])},U3=[],V3=oi(H3,W3,U3,!1,null,null);const K3=V3.exports,Y3={name:"NcEllipsisedOption",components:{NcHighlight:r0},props:{name:{type:String,default:""},search:{type:String,default:""}},computed:{needsTruncate(){return this.name&&this.name.length>=10},split(){return this.name.length-Math.min(Math.floor(this.name.length/2),10)},part1(){return this.needsTruncate?this.name.slice(0,this.split):this.name},part2(){return this.needsTruncate?this.name.slice(this.split):""},highlight1(){return this.search?bm(this.name,this.search):[]},highlight2(){return this.highlight1.map(n=>({start:n.start-this.split,end:n.end-this.split}))}}};var X3=function(){var n=this,h=n._self._c;return h("span",{staticClass:"name-parts",attrs:{dir:"auto",title:n.name}},[h("NcHighlight",{staticClass:"name-parts__first",attrs:{text:n.part1,search:n.search,highlight:n.highlight1}}),n.part2?h("NcHighlight",{staticClass:"name-parts__last",attrs:{text:n.part2,search:n.search,highlight:n.highlight2}}):n._e()],1)},$3=[],G3=oi(Y3,X3,$3,!1,null,"f6384352");const q3=G3.exports;function js(n){return n.split("-")[0]}function Ic(n){return n.split("-")[1]}function mu(n){return["top","bottom"].includes(js(n))?"x":"y"}function Kf(n){return n==="y"?"height":"width"}function Wh(n){let{reference:h,floating:R,placement:pe}=n;const Ce=h.x+h.width/2-R.width/2,Fe=h.y+h.height/2-R.height/2;let Je;switch(js(pe)){case"top":Je={x:Ce,y:h.y-R.height};break;case"bottom":Je={x:Ce,y:h.y+h.height};break;case"right":Je={x:h.x+h.width,y:Fe};break;case"left":Je={x:h.x-R.width,y:Fe};break;default:Je={x:h.x,y:h.y}}const Qe=mu(pe),yt=Kf(Qe);switch(Ic(pe)){case"start":Je[Qe]=Je[Qe]-(h[yt]/2-R[yt]/2);break;case"end":Je[Qe]=Je[Qe]+(h[yt]/2-R[yt]/2);break}return Je}const J3=async(n,h,R)=>{const{placement:pe="bottom",strategy:Ce="absolute",middleware:Fe=[],platform:Je}=R;let Qe=await Je.getElementRects({reference:n,floating:h,strategy:Ce}),{x:yt,y:wt}=Wh({...Qe,placement:pe}),gt=pe,pt={};for(let Ze=0;Ze<Fe.length;Ze++){const{name:te,fn:t}=Fe[Ze],{x:e,y:_,data:g,reset:p}=await t({x:yt,y:wt,initialPlacement:pe,placement:gt,strategy:Ce,middlewareData:pt,rects:Qe,platform:Je,elements:{reference:n,floating:h}});if(yt=e??yt,wt=_??wt,pt={...pt,[te]:g??{}},p){typeof p=="object"&&(p.placement&&(gt=p.placement),p.rects&&(Qe=p.rects===!0?await Je.getElementRects({reference:n,floating:h,strategy:Ce}):p.rects),{x:yt,y:wt}=Wh({...Qe,placement:gt})),Ze=-1;continue}}return{x:yt,y:wt,placement:gt,strategy:Ce,middlewareData:pt}};function Q3(n){return{top:0,right:0,bottom:0,left:0,...n}}function Pm(n){return typeof n!="number"?Q3(n):{top:n,right:n,bottom:n,left:n}}function pf(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function l0(n,h){h===void 0&&(h={});const{x:R,y:pe,platform:Ce,rects:Fe,elements:Je,strategy:Qe}=n,{boundary:yt="clippingParents",rootBoundary:wt="viewport",elementContext:gt="floating",altBoundary:pt=!1,padding:Ze=0}=h,te=Pm(Ze),t=Je[pt?gt==="floating"?"reference":"floating":gt],e=await Ce.getClippingClientRect({element:await Ce.isElement(t)?t:t.contextElement||await Ce.getDocumentElement({element:Je.floating}),boundary:yt,rootBoundary:wt}),_=pf(await Ce.convertOffsetParentRelativeRectToViewportRelativeRect({rect:gt==="floating"?{...Fe.floating,x:R,y:pe}:Fe.reference,offsetParent:await Ce.getOffsetParent({element:Je.floating}),strategy:Qe}));return{top:e.top-_.top+te.top,bottom:_.bottom-e.bottom+te.bottom,left:e.left-_.left+te.left,right:_.right-e.right+te.right}}const e5=Math.min,lc=Math.max;function hf(n,h,R){return lc(n,e5(h,R))}const t5=n=>({name:"arrow",options:n,async fn(h){const{element:R,padding:pe=0}=n??{},{x:Ce,y:Fe,placement:Je,rects:Qe,platform:yt}=h;if(R==null)return{};const wt=Pm(pe),gt={x:Ce,y:Fe},pt=js(Je),Ze=mu(pt),te=Kf(Ze),t=await yt.getDimensions({element:R}),e=Ze==="y"?"top":"left",_=Ze==="y"?"bottom":"right",g=Qe.reference[te]+Qe.reference[Ze]-gt[Ze]-Qe.floating[te],p=gt[Ze]-Qe.reference[Ze],y=await yt.getOffsetParent({element:R}),T=y?Ze==="y"?y.clientHeight||0:y.clientWidth||0:0,E=g/2-p/2,a=wt[e],u=T-t[te]-wt[_],N=T/2-t[te]/2+E,H=hf(a,N,u);return{data:{[Ze]:H,centerOffset:N-H}}}}),n5={left:"right",right:"left",bottom:"top",top:"bottom"};function cd(n){return n.replace(/left|right|bottom|top/g,h=>n5[h])}function Tm(n,h){const R=Ic(n)==="start",pe=mu(n),Ce=Kf(pe);let Fe=pe==="x"?R?"right":"left":R?"bottom":"top";return h.reference[Ce]>h.floating[Ce]&&(Fe=cd(Fe)),{main:Fe,cross:cd(Fe)}}const r5={start:"end",end:"start"};function mf(n){return n.replace(/start|end/g,h=>r5[h])}const o5=["top","right","bottom","left"],i5=o5.reduce((n,h)=>n.concat(h,h+"-start",h+"-end"),[]);function a5(n,h,R){return(n?[...R.filter(pe=>Ic(pe)===n),...R.filter(pe=>Ic(pe)!==n)]:R.filter(pe=>js(pe)===pe)).filter(pe=>n?Ic(pe)===n||(h?mf(pe)!==pe:!1):!0)}const l5=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,async fn(h){var R,pe,Ce,Fe,Je,Qe;const{x:yt,y:wt,rects:gt,middlewareData:pt,placement:Ze}=h,{alignment:te=null,allowedPlacements:t=i5,autoAlignment:e=!0,..._}=n;if((R=pt.autoPlacement)!=null&&R.skip)return{};const g=a5(te,e,t),p=await l0(h,_),y=(pe=(Ce=pt.autoPlacement)==null?void 0:Ce.index)!=null?pe:0,T=g[y],{main:E,cross:a}=Tm(T,gt);if(Ze!==T)return{x:yt,y:wt,reset:{placement:g[0]}};const u=[p[js(T)],p[E],p[a]],N=[...(Fe=(Je=pt.autoPlacement)==null?void 0:Je.overflows)!=null?Fe:[],{placement:T,overflows:u}],H=g[y+1];if(H)return{data:{index:y+1,overflows:N},reset:{placement:H}};const x=N.slice().sort((k,Q)=>k.overflows[0]-Q.overflows[0]),m=(Qe=x.find(k=>{let{overflows:Q}=k;return Q.every(ue=>ue<=0)}))==null?void 0:Qe.placement;return{data:{skip:!0},reset:{placement:m??x[0].placement}}}}};function s5(n){const h=cd(n);return[mf(n),h,mf(h)]}const c5=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(h){var R,pe;const{placement:Ce,middlewareData:Fe,rects:Je,initialPlacement:Qe}=h;if((R=Fe.flip)!=null&&R.skip)return{};const{mainAxis:yt=!0,crossAxis:wt=!0,fallbackPlacements:gt,fallbackStrategy:pt="bestFit",flipAlignment:Ze=!0,...te}=n,t=js(Ce),e=gt||(t===Qe||!Ze?[cd(Qe)]:s5(Qe)),_=[Qe,...e],g=await l0(h,te),p=[];let y=((pe=Fe.flip)==null?void 0:pe.overflows)||[];if(yt&&p.push(g[t]),wt){const{main:u,cross:N}=Tm(Ce,Je);p.push(g[u],g[N])}if(y=[...y,{placement:Ce,overflows:p}],!p.every(u=>u<=0)){var T,E;const u=((T=(E=Fe.flip)==null?void 0:E.index)!=null?T:0)+1,N=_[u];if(N)return{data:{index:u,overflows:y},reset:{placement:N}};let H="bottom";switch(pt){case"bestFit":{var a;const x=(a=y.slice().sort((m,k)=>m.overflows.filter(Q=>Q>0).reduce((Q,ue)=>Q+ue,0)-k.overflows.filter(Q=>Q>0).reduce((Q,ue)=>Q+ue,0))[0])==null?void 0:a.placement;x&&(H=x);break}case"initialPlacement":H=Qe;break}return{data:{skip:!0},reset:{placement:H}}}return{}}}};function u5(n){let{placement:h,rects:R,value:pe}=n;const Ce=js(h),Fe=["left","top"].includes(Ce)?-1:1,Je=typeof pe=="function"?pe({...R,placement:h}):pe,{mainAxis:Qe,crossAxis:yt}=typeof Je=="number"?{mainAxis:Je,crossAxis:0}:{mainAxis:0,crossAxis:0,...Je};return mu(Ce)==="x"?{x:yt,y:Qe*Fe}:{x:Qe*Fe,y:yt}}const d5=function(n){return n===void 0&&(n=0),{name:"offset",options:n,fn(h){const{x:R,y:pe,placement:Ce,rects:Fe}=h,Je=u5({placement:Ce,rects:Fe,value:n});return{x:R+Je.x,y:pe+Je.y,data:Je}}}};function f5(n){return n==="x"?"y":"x"}const p5=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(h){const{x:R,y:pe,placement:Ce}=h,{mainAxis:Fe=!0,crossAxis:Je=!1,limiter:Qe={fn:_=>{let{x:g,y:p}=_;return{x:g,y:p}}},...yt}=n,wt={x:R,y:pe},gt=await l0(h,yt),pt=mu(js(Ce)),Ze=f5(pt);let te=wt[pt],t=wt[Ze];if(Fe){const _=pt==="y"?"top":"left",g=pt==="y"?"bottom":"right",p=te+gt[_],y=te-gt[g];te=hf(p,te,y)}if(Je){const _=Ze==="y"?"top":"left",g=Ze==="y"?"bottom":"right",p=t+gt[_],y=t-gt[g];t=hf(p,t,y)}const e=Qe.fn({...h,[pt]:te,[Ze]:t});return{...e,data:{x:e.x-R,y:e.y-pe}}}}},h5=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(h){var R;const{placement:pe,rects:Ce,middlewareData:Fe}=h,{apply:Je,...Qe}=n;if((R=Fe.size)!=null&&R.skip)return{};const yt=await l0(h,Qe),wt=js(pe),gt=Ic(pe)==="end";let pt,Ze;wt==="top"||wt==="bottom"?(pt=wt,Ze=gt?"left":"right"):(Ze=wt,pt=gt?"top":"bottom");const te=lc(yt.left,0),t=lc(yt.right,0),e=lc(yt.top,0),_=lc(yt.bottom,0),g={height:Ce.floating.height-(["left","right"].includes(pe)?2*(e!==0||_!==0?e+_:lc(yt.top,yt.bottom)):yt[pt]),width:Ce.floating.width-(["top","bottom"].includes(pe)?2*(te!==0||t!==0?te+t:lc(yt.left,yt.right)):yt[Ze])};return Je?.({...g,...Ce}),{data:{skip:!0},reset:{rects:!0}}}}};function Yf(n){return n?.toString()==="[object Window]"}function Js(n){if(n==null)return window;if(!Yf(n)){const h=n.ownerDocument;return h&&h.defaultView||window}return n}function s0(n){return Js(n).getComputedStyle(n)}function _s(n){return Yf(n)?"":n?(n.nodeName||"").toLowerCase():""}function Os(n){return n instanceof Js(n).HTMLElement}function ud(n){return n instanceof Js(n).Element}function m5(n){return n instanceof Js(n).Node}function Mm(n){const h=Js(n).ShadowRoot;return n instanceof h||n instanceof ShadowRoot}function c0(n){const{overflow:h,overflowX:R,overflowY:pe}=s0(n);return/auto|scroll|overlay|hidden/.test(h+pe+R)}function g5(n){return["table","td","th"].includes(_s(n))}function Am(n){const h=navigator.userAgent.toLowerCase().includes("firefox"),R=s0(n);return R.transform!=="none"||R.perspective!=="none"||R.contain==="paint"||["transform","perspective"].includes(R.willChange)||h&&R.willChange==="filter"||h&&(R.filter?R.filter!=="none":!1)}const Uh=Math.min,Jc=Math.max,dd=Math.round;function Dc(n,h){h===void 0&&(h=!1);const R=n.getBoundingClientRect();let pe=1,Ce=1;return h&&Os(n)&&(pe=n.offsetWidth>0&&dd(R.width)/n.offsetWidth||1,Ce=n.offsetHeight>0&&dd(R.height)/n.offsetHeight||1),{width:R.width/pe,height:R.height/Ce,top:R.top/Ce,right:R.right/pe,bottom:R.bottom/Ce,left:R.left/pe,x:R.left/pe,y:R.top/Ce}}function Qs(n){return((m5(n)?n.ownerDocument:n.document)||window.document).documentElement}function u0(n){return Yf(n)?{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}:{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Dm(n){return Dc(Qs(n)).left+u0(n).scrollLeft}function v5(n){const h=Dc(n);return dd(h.width)!==n.offsetWidth||dd(h.height)!==n.offsetHeight}function b5(n,h,R){const pe=Os(h),Ce=Qs(h),Fe=Dc(n,pe&&v5(h));let Je={scrollLeft:0,scrollTop:0};const Qe={x:0,y:0};if(pe||!pe&&R!=="fixed")if((_s(h)!=="body"||c0(Ce))&&(Je=u0(h)),Os(h)){const yt=Dc(h,!0);Qe.x=yt.x+h.clientLeft,Qe.y=yt.y+h.clientTop}else Ce&&(Qe.x=Dm(Ce));return{x:Fe.left+Je.scrollLeft-Qe.x,y:Fe.top+Je.scrollTop-Qe.y,width:Fe.width,height:Fe.height}}function d0(n){return _s(n)==="html"?n:n.assignedSlot||n.parentNode||(Mm(n)?n.host:null)||Qs(n)}function Vh(n){return!Os(n)||getComputedStyle(n).position==="fixed"?null:n.offsetParent}function y5(n){let h=d0(n);for(;Os(h)&&!["html","body"].includes(_s(h));){if(Am(h))return h;h=h.parentNode}return null}function gf(n){const h=Js(n);let R=Vh(n);for(;R&&g5(R)&&getComputedStyle(R).position==="static";)R=Vh(R);return R&&(_s(R)==="html"||_s(R)==="body"&&getComputedStyle(R).position==="static"&&!Am(R))?h:R||y5(n)||h}function Kh(n){return{width:n.offsetWidth,height:n.offsetHeight}}function x5(n){let{rect:h,offsetParent:R,strategy:pe}=n;const Ce=Os(R),Fe=Qs(R);if(R===Fe)return h;let Je={scrollLeft:0,scrollTop:0};const Qe={x:0,y:0};if((Ce||!Ce&&pe!=="fixed")&&((_s(R)!=="body"||c0(Fe))&&(Je=u0(R)),Os(R))){const yt=Dc(R,!0);Qe.x=yt.x+R.clientLeft,Qe.y=yt.y+R.clientTop}return{...h,x:h.x-Je.scrollLeft+Qe.x,y:h.y-Je.scrollTop+Qe.y}}function w5(n){const h=Js(n),R=Qs(n),pe=h.visualViewport;let Ce=R.clientWidth,Fe=R.clientHeight,Je=0,Qe=0;return pe&&(Ce=pe.width,Fe=pe.height,Math.abs(h.innerWidth/pe.scale-pe.width)<.01&&(Je=pe.offsetLeft,Qe=pe.offsetTop)),{width:Ce,height:Fe,x:Je,y:Qe}}function k5(n){var h;const R=Qs(n),pe=u0(n),Ce=(h=n.ownerDocument)==null?void 0:h.body,Fe=Jc(R.scrollWidth,R.clientWidth,Ce?Ce.scrollWidth:0,Ce?Ce.clientWidth:0),Je=Jc(R.scrollHeight,R.clientHeight,Ce?Ce.scrollHeight:0,Ce?Ce.clientHeight:0);let Qe=-pe.scrollLeft+Dm(n);const yt=-pe.scrollTop;return s0(Ce||R).direction==="rtl"&&(Qe+=Jc(R.clientWidth,Ce?Ce.clientWidth:0)-Fe),{width:Fe,height:Je,x:Qe,y:yt}}function Lm(n){return["html","body","#document"].includes(_s(n))?n.ownerDocument.body:Os(n)&&c0(n)?n:Lm(d0(n))}function fd(n,h){var R;h===void 0&&(h=[]);const pe=Lm(n),Ce=pe===((R=n.ownerDocument)==null?void 0:R.body),Fe=Js(pe),Je=Ce?[Fe].concat(Fe.visualViewport||[],c0(pe)?pe:[]):pe,Qe=h.concat(Je);return Ce?Qe:Qe.concat(fd(d0(Je)))}function E5(n,h){const R=h.getRootNode==null?void 0:h.getRootNode();if(n.contains(h))return!0;if(R&&Mm(R)){let pe=h;do{if(pe&&n===pe)return!0;pe=pe.parentNode||pe.host}while(pe)}return!1}function S5(n){const h=Dc(n),R=h.top+n.clientTop,pe=h.left+n.clientLeft;return{top:R,left:pe,x:pe,y:R,right:pe+n.clientWidth,bottom:R+n.clientHeight,width:n.clientWidth,height:n.clientHeight}}function Yh(n,h){return h==="viewport"?pf(w5(n)):ud(h)?S5(h):pf(k5(Qs(n)))}function _5(n){const h=fd(d0(n)),R=["absolute","fixed"].includes(s0(n).position)&&Os(n)?gf(n):n;return ud(R)?h.filter(pe=>ud(pe)&&E5(pe,R)&&_s(pe)!=="body"):[]}function O5(n){let{element:h,boundary:R,rootBoundary:pe}=n;const Ce=[...R==="clippingParents"?_5(h):[].concat(R),pe],Fe=Ce[0],Je=Ce.reduce((Qe,yt)=>{const wt=Yh(h,yt);return Qe.top=Jc(wt.top,Qe.top),Qe.right=Uh(wt.right,Qe.right),Qe.bottom=Uh(wt.bottom,Qe.bottom),Qe.left=Jc(wt.left,Qe.left),Qe},Yh(h,Fe));return Je.width=Je.right-Je.left,Je.height=Je.bottom-Je.top,Je.x=Je.left,Je.y=Je.top,Je}const C5={getElementRects:n=>{let{reference:h,floating:R,strategy:pe}=n;return{reference:b5(h,gf(R),pe),floating:{...Kh(R),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:n=>x5(n),getOffsetParent:n=>{let{element:h}=n;return gf(h)},isElement:n=>ud(n),getDocumentElement:n=>{let{element:h}=n;return Qs(h)},getClippingClientRect:n=>O5(n),getDimensions:n=>{let{element:h}=n;return Kh(h)},getClientRects:n=>{let{element:h}=n;return h.getClientRects()}},j5=(n,h,R)=>J3(n,h,{platform:C5,...R});var I5=Object.defineProperty,P5=Object.defineProperties,T5=Object.getOwnPropertyDescriptors,pd=Object.getOwnPropertySymbols,Rm=Object.prototype.hasOwnProperty,Nm=Object.prototype.propertyIsEnumerable,Xh=(n,h,R)=>h in n?I5(n,h,{enumerable:!0,configurable:!0,writable:!0,value:R}):n[h]=R,Ws=(n,h)=>{for(var R in h||(h={}))Rm.call(h,R)&&Xh(n,R,h[R]);if(pd)for(var R of pd(h))Nm.call(h,R)&&Xh(n,R,h[R]);return n},f0=(n,h)=>P5(n,T5(h)),M5=(n,h)=>{var R={};for(var pe in n)Rm.call(n,pe)&&h.indexOf(pe)<0&&(R[pe]=n[pe]);if(n!=null&&pd)for(var pe of pd(n))h.indexOf(pe)<0&&Nm.call(n,pe)&&(R[pe]=n[pe]);return R};function Zm(n,h){for(const R in h)Object.prototype.hasOwnProperty.call(h,R)&&(typeof h[R]=="object"&&n[R]?Zm(n[R],h[R]):n[R]=h[R])}const as={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:n=>[...n,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function Lc(n,h){let R=as.themes[n]||{},pe;do pe=R[h],typeof pe>"u"?R.$extend?R=as.themes[R.$extend]||{}:(R=null,pe=as[h]):R=null;while(R);return pe}function A5(n){const h=[n];let R=as.themes[n]||{};do R.$extend&&!R.$resetCss?(h.push(R.$extend),R=as.themes[R.$extend]||{}):R=null;while(R);return h.map(pe=>`v-popper--theme-${pe}`)}function $h(n){const h=[n];let R=as.themes[n]||{};do R.$extend?(h.push(R.$extend),R=as.themes[R.$extend]||{}):R=null;while(R);return h}let hc=!1;if(typeof window<"u"){hc=!1;try{const n=Object.defineProperty({},"passive",{get(){hc=!0}});window.addEventListener("test",null,n)}catch{}}let zm=!1;typeof window<"u"&&typeof navigator<"u"&&(zm=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const Bm=["auto","top","bottom","left","right"].reduce((n,h)=>n.concat([h,`${h}-start`,`${h}-end`]),[]),Gh={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart"},qh={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend"};function Jh(n,h){const R=n.indexOf(h);R!==-1&&n.splice(R,1)}function G0(){return new Promise(n=>requestAnimationFrame(()=>{requestAnimationFrame(n)}))}const Wl=[];let ac=null;const Qh={};function e1(n){let h=Qh[n];return h||(h=Qh[n]=[]),h}let vf=function(){};typeof window<"u"&&(vf=window.Element);function ri(n){return function(){const h=this.$props;return Lc(h.theme,n)}}const q0="__floating-vue__popper";var Fm=()=>({name:"VPopper",props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,required:!0},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:ri("disabled")},positioningDisabled:{type:Boolean,default:ri("positioningDisabled")},placement:{type:String,default:ri("placement"),validator:n=>Bm.includes(n)},delay:{type:[String,Number,Object],default:ri("delay")},distance:{type:[Number,String],default:ri("distance")},skidding:{type:[Number,String],default:ri("skidding")},triggers:{type:Array,default:ri("triggers")},showTriggers:{type:[Array,Function],default:ri("showTriggers")},hideTriggers:{type:[Array,Function],default:ri("hideTriggers")},popperTriggers:{type:Array,default:ri("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:ri("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:ri("popperHideTriggers")},container:{type:[String,Object,vf,Boolean],default:ri("container")},boundary:{type:[String,vf],default:ri("boundary")},strategy:{type:String,validator:n=>["absolute","fixed"].includes(n),default:ri("strategy")},autoHide:{type:[Boolean,Function],default:ri("autoHide")},handleResize:{type:Boolean,default:ri("handleResize")},instantMove:{type:Boolean,default:ri("instantMove")},eagerMount:{type:Boolean,default:ri("eagerMount")},popperClass:{type:[String,Array,Object],default:ri("popperClass")},computeTransformOrigin:{type:Boolean,default:ri("computeTransformOrigin")},autoMinSize:{type:Boolean,default:ri("autoMinSize")},autoSize:{type:[Boolean,String],default:ri("autoSize")},autoMaxSize:{type:Boolean,default:ri("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:ri("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:ri("preventOverflow")},overflowPadding:{type:[Number,String],default:ri("overflowPadding")},arrowPadding:{type:[Number,String],default:ri("arrowPadding")},arrowOverflow:{type:Boolean,default:ri("arrowOverflow")},flip:{type:Boolean,default:ri("flip")},shift:{type:Boolean,default:ri("shift")},shiftCrossAxis:{type:Boolean,default:ri("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:ri("noAutoFocus")}},provide(){return{[q0]:{parentPopper:this}}},inject:{[q0]:{default:null}},data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:f0(Ws({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result}},parentPopper(){var n;return(n=this[q0])==null?void 0:n.parentPopper},hasPopperShowTriggerHover(){var n,h;return((n=this.popperTriggers)==null?void 0:n.includes("hover"))||((h=this.popperShowTriggers)==null?void 0:h.includes("hover"))}},watch:Ws(Ws({shown:"$_autoShowHide",disabled(n){n?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())}},["triggers","positioningDisabled"].reduce((n,h)=>(n[h]="$_refreshListeners",n),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((n,h)=>(n[h]="$_computePosition",n),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(n=>n.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeDestroy(){this.dispose()},methods:{show({event:n=null,skipDelay:h=!1,force:R=!1}={}){var pe,Ce;(pe=this.parentPopper)!=null&&pe.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(R||!this.disabled)&&(((Ce=this.parentPopper)==null?void 0:Ce.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(n,h),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:n=null,skipDelay:h=!1,skipAiming:R=!1}={}){var pe;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(!R&&this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:h}),this.parentPopper.lockedChild=null)},1e3));return}((pe=this.parentPopper)==null?void 0:pe.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(n,h),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=this.referenceNode(),this.$_targetNodes=this.targetNodes().filter(n=>n.nodeType===n.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){var n;if(this.$_isDisposed||this.positioningDisabled)return;const h={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&h.middleware.push(d5({mainAxis:this.distance,crossAxis:this.skidding}));const R=this.placement.startsWith("auto");if(R?h.middleware.push(l5({alignment:(n=this.placement.split("-")[1])!=null?n:""})):h.placement=this.placement,this.preventOverflow&&(this.shift&&h.middleware.push(p5({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!R&&this.flip&&h.middleware.push(c5({padding:this.overflowPadding,boundary:this.boundary}))),h.middleware.push(t5({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&h.middleware.push({name:"arrowOverflow",fn:({placement:Ce,rects:Fe,middlewareData:Je})=>{let Qe;const{centerOffset:yt}=Je.arrow;return Ce.startsWith("top")||Ce.startsWith("bottom")?Qe=Math.abs(yt)>Fe.reference.width/2:Qe=Math.abs(yt)>Fe.reference.height/2,{data:{overflow:Qe}}}}),this.autoMinSize||this.autoSize){const Ce=this.autoSize?this.autoSize:this.autoMinSize?"min":null;h.middleware.push({name:"autoSize",fn:({rects:Fe,placement:Je,middlewareData:Qe})=>{var yt;if((yt=Qe.autoSize)!=null&&yt.skip)return{};let wt,gt;return Je.startsWith("top")||Je.startsWith("bottom")?wt=Fe.reference.width:gt=Fe.reference.height,this.$_innerNode.style[Ce==="min"?"minWidth":Ce==="max"?"maxWidth":"width"]=wt!=null?`${wt}px`:null,this.$_innerNode.style[Ce==="min"?"minHeight":Ce==="max"?"maxHeight":"height"]=gt!=null?`${gt}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,h.middleware.push(h5({boundary:this.boundary,padding:this.overflowPadding,apply:({width:Ce,height:Fe})=>{this.$_innerNode.style.maxWidth=Ce!=null?`${Ce}px`:null,this.$_innerNode.style.maxHeight=Fe!=null?`${Fe}px`:null}})));const pe=await j5(this.$_referenceNode,this.$_popperNode,h);Object.assign(this.result,{x:pe.x,y:pe.y,placement:pe.placement,strategy:pe.strategy,arrow:Ws(Ws({},pe.middlewareData.arrow),pe.middlewareData.arrowOverflow)})},$_scheduleShow(n=null,h=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),ac&&this.instantMove&&ac.instantMove&&ac!==this.parentPopper){ac.$_applyHide(!0),this.$_applyShow(!0);return}h?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(n=null,h=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(ac=this),h?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(n){const h=this.delay;return parseInt(h&&h[n]||h||0)},async $_applyShow(n=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=n,!this.isShown&&(this.$_ensureTeleport(),await G0(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...fd(this.$_referenceNode),...fd(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const h=this.$_referenceNode.getBoundingClientRect(),R=this.$_popperNode.querySelector(".v-popper__wrapper"),pe=R.parentNode.getBoundingClientRect(),Ce=h.x+h.width/2-(pe.left+R.offsetLeft),Fe=h.y+h.height/2-(pe.top+R.offsetTop);this.result.transformOrigin=`${Ce}px ${Fe}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const n=this.showGroup;if(n){let h;for(let R=0;R<Wl.length;R++)h=Wl[R],h.showGroup!==n&&(h.hide(),h.$emit("close-group"))}Wl.push(this),document.body.classList.add("v-popper--some-open");for(const h of $h(this.theme))e1(h).push(this),document.body.classList.add(`v-popper--some-open--${h}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await G0(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(n=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=n,Jh(Wl,this),Wl.length===0&&document.body.classList.remove("v-popper--some-open");for(const R of $h(this.theme)){const pe=e1(R);Jh(pe,this),pe.length===0&&document.body.classList.remove(`v-popper--some-open--${R}`)}ac===this&&(ac=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const h=Lc(this.theme,"disposeTimeout");h!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},h)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await G0(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let n=this.container;if(typeof n=="string"?n=window.document.querySelector(n):n===!1&&(n=this.$_targetNodes[0].parentNode),!n)throw new Error("No container for popover: "+this.container);n.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const n=R=>{this.isShown&&!this.$_hideInProgress||(R.usedByTooltip=!0,!this.$_preventShow&&this.show({event:R}))};this.$_registerTriggerListeners(this.$_targetNodes,Gh,this.triggers,this.showTriggers,n),this.$_registerTriggerListeners([this.$_popperNode],Gh,this.popperTriggers,this.popperShowTriggers,n);const h=R=>pe=>{pe.usedByTooltip||this.hide({event:pe,skipAiming:R})};this.$_registerTriggerListeners(this.$_targetNodes,qh,this.triggers,this.hideTriggers,h(!1)),this.$_registerTriggerListeners([this.$_popperNode],qh,this.popperTriggers,this.popperHideTriggers,h(!0))},$_registerEventListeners(n,h,R){this.$_events.push({targetNodes:n,eventType:h,handler:R}),n.forEach(pe=>pe.addEventListener(h,R,hc?{passive:!0}:void 0))},$_registerTriggerListeners(n,h,R,pe,Ce){let Fe=R;pe!=null&&(Fe=typeof pe=="function"?pe(Fe):pe),Fe.forEach(Je=>{const Qe=h[Je];Qe&&this.$_registerEventListeners(n,Qe,Ce)})},$_removeEventListeners(n){const h=[];this.$_events.forEach(R=>{const{targetNodes:pe,eventType:Ce,handler:Fe}=R;!n||n===Ce?pe.forEach(Je=>Je.removeEventListener(Ce,Fe)):h.push(R)}),this.$_events=h},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(n,h=!1){this.$_showFrameLocked||(this.hide({event:n}),n.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),h&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(n,h){for(const R of this.$_targetNodes){const pe=R.getAttribute(n);pe&&(R.removeAttribute(n),R.setAttribute(h,pe))}},$_applyAttrsToTarget(n){for(const h of this.$_targetNodes)for(const R in n){const pe=n[R];pe==null?h.removeAttribute(R):h.setAttribute(R,pe)}},$_updateParentShownChildren(n){let h=this.parentPopper;for(;h;)n?h.shownChildren.add(this.randomId):(h.shownChildren.delete(this.randomId),h.$_pendingHide&&h.hide()),h=h.parentPopper},$_isAimingPopper(){const n=this.$el.getBoundingClientRect();if(Qc>=n.left&&Qc<=n.right&&eu>=n.top&&eu<=n.bottom){const h=this.$_popperNode.getBoundingClientRect(),R=Qc-Bs,pe=eu-Fs,Ce=h.left+h.width/2-Bs+(h.top+h.height/2)-Fs+h.width+h.height,Fe=Bs+R*Ce,Je=Fs+pe*Ce;return Ru(Bs,Fs,Fe,Je,h.left,h.top,h.left,h.bottom)||Ru(Bs,Fs,Fe,Je,h.left,h.top,h.right,h.top)||Ru(Bs,Fs,Fe,Je,h.right,h.top,h.right,h.bottom)||Ru(Bs,Fs,Fe,Je,h.left,h.bottom,h.right,h.bottom)}return!1}},render(){return this.$scopedSlots.default(this.slotData)[0]}});typeof document<"u"&&typeof window<"u"&&(zm?(document.addEventListener("touchstart",t1,hc?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",L5,hc?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",t1,!0),window.addEventListener("click",D5,!0)),window.addEventListener("resize",Z5));function t1(n){for(let h=0;h<Wl.length;h++){const R=Wl[h];try{const pe=R.popperNode();R.$_mouseDownContains=pe.contains(n.target)}catch{}}}function D5(n){Hm(n)}function L5(n){Hm(n,!0)}function Hm(n,h=!1){const R={};for(let pe=Wl.length-1;pe>=0;pe--){const Ce=Wl[pe];try{const Fe=Ce.$_containsGlobalTarget=R5(Ce,n);Ce.$_pendingHide=!1,requestAnimationFrame(()=>{if(Ce.$_pendingHide=!1,!R[Ce.randomId]&&n1(Ce,Fe,n)){if(Ce.$_handleGlobalClose(n,h),!n.closeAllPopover&&n.closePopover&&Fe){let Qe=Ce.parentPopper;for(;Qe;)R[Qe.randomId]=!0,Qe=Qe.parentPopper;return}let Je=Ce.parentPopper;for(;Je&&n1(Je,Je.$_containsGlobalTarget,n);)Je.$_handleGlobalClose(n,h),Je=Je.parentPopper}})}catch{}}}function R5(n,h){const R=n.popperNode();return n.$_mouseDownContains||R.contains(h.target)}function n1(n,h,R){return R.closeAllPopover||R.closePopover&&h||N5(n,R)&&!h}function N5(n,h){if(typeof n.autoHide=="function"){const R=n.autoHide(h);return n.lastAutoHide=R,R}return n.autoHide}function Z5(n){for(let h=0;h<Wl.length;h++)Wl[h].$_computePosition(n)}let Bs=0,Fs=0,Qc=0,eu=0;typeof window<"u"&&window.addEventListener("mousemove",n=>{Bs=Qc,Fs=eu,Qc=n.clientX,eu=n.clientY},hc?{passive:!0}:void 0);function Ru(n,h,R,pe,Ce,Fe,Je,Qe){const yt=((Je-Ce)*(h-Fe)-(Qe-Fe)*(n-Ce))/((Qe-Fe)*(R-n)-(Je-Ce)*(pe-h)),wt=((R-n)*(h-Fe)-(pe-h)*(n-Ce))/((Qe-Fe)*(R-n)-(Je-Ce)*(pe-h));return yt>=0&&yt<=1&&wt>=0&&wt<=1}function z5(){var n=window.navigator.userAgent,h=n.indexOf("MSIE ");if(h>0)return parseInt(n.substring(h+5,n.indexOf(".",h)),10);var R=n.indexOf("Trident/");if(R>0){var pe=n.indexOf("rv:");return parseInt(n.substring(pe+3,n.indexOf(".",pe)),10)}var Ce=n.indexOf("Edge/");return Ce>0?parseInt(n.substring(Ce+5,n.indexOf(".",Ce)),10):-1}var Yu;function bf(){bf.init||(bf.init=!0,Yu=z5()!==-1)}var B5={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var n=this;bf(),this.$nextTick(function(){n._w=n.$el.offsetWidth,n._h=n.$el.offsetHeight,n.emitOnMount&&n.emitSize()});var h=document.createElement("object");this._resizeObject=h,h.setAttribute("aria-hidden","true"),h.setAttribute("tabindex",-1),h.onload=this.addResizeHandlers,h.type="text/html",Yu&&this.$el.appendChild(h),h.data="about:blank",Yu||this.$el.appendChild(h)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!Yu&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};function F5(n,h,R,pe,Ce,Fe,Je,Qe,yt,wt){var gt=typeof R=="function"?R.options:R;return n&&n.render&&(gt.render=n.render,gt.staticRenderFns=n.staticRenderFns,gt._compiled=!0),gt._scopeId=pe,R}var H5=B5,Wm=function(){var n=this,h=n.$createElement,R=n._self._c||h;return R("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},W5=[];Wm._withStripped=!0;var U5=void 0,V5="data-v-8859cc6c",yf=F5({render:Wm,staticRenderFns:W5},U5,H5,V5);function K5(n){n.component("resize-observer",yf),n.component("ResizeObserver",yf)}var Y5={version:"1.0.1",install:K5},Nu=null;typeof window<"u"?Nu=window.Vue:typeof rd<"u"&&(Nu=rd.Vue),Nu&&Nu.use(Y5);var Um={computed:{themeClass(){return A5(this.theme)}}},X5={name:"VPopperContent",components:{ResizeObserver:yf},mixins:[Um],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},methods:{toPx(n){return n!=null&&!isNaN(n)?`${n}px`:null}}},$5=function(){var n=this,h=n.$createElement,R=n._self._c||h;return R("div",{ref:"popover",staticClass:"v-popper__popper",class:[n.themeClass,n.classes.popperClass,{"v-popper__popper--shown":n.shown,"v-popper__popper--hidden":!n.shown,"v-popper__popper--show-from":n.classes.showFrom,"v-popper__popper--show-to":n.classes.showTo,"v-popper__popper--hide-from":n.classes.hideFrom,"v-popper__popper--hide-to":n.classes.hideTo,"v-popper__popper--skip-transition":n.skipTransition,"v-popper__popper--arrow-overflow":n.result&&n.result.arrow.overflow,"v-popper__popper--no-positioning":!n.result}],style:n.result?{position:n.result.strategy,transform:"translate3d("+Math.round(n.result.x)+"px,"+Math.round(n.result.y)+"px,0)"}:void 0,attrs:{id:n.popperId,"aria-hidden":n.shown?"false":"true",tabindex:n.autoHide?0:void 0,"data-popper-placement":n.result?n.result.placement:void 0},on:{keyup:function(pe){if(!pe.type.indexOf("key")&&n._k(pe.keyCode,"esc",27,pe.key,["Esc","Escape"]))return null;n.autoHide&&n.$emit("hide")}}},[R("div",{staticClass:"v-popper__backdrop",on:{click:function(pe){n.autoHide&&n.$emit("hide")}}}),R("div",{staticClass:"v-popper__wrapper",style:n.result?{transformOrigin:n.result.transformOrigin}:void 0},[R("div",{ref:"inner",staticClass:"v-popper__inner"},[n.mounted?[R("div",[n._t("default")],2),n.handleResize?R("ResizeObserver",{on:{notify:function(pe){return n.$emit("resize",pe)}}}):n._e()]:n._e()],2),R("div",{ref:"arrow",staticClass:"v-popper__arrow-container",style:n.result?{left:n.toPx(n.result.arrow.x),top:n.toPx(n.result.arrow.y)}:void 0},[R("div",{staticClass:"v-popper__arrow-outer"}),R("div",{staticClass:"v-popper__arrow-inner"})])])])},G5=[];function zc(n,h,R,pe,Ce,Fe,Je,Qe){var yt=typeof n=="function"?n.options:n;h&&(yt.render=h,yt.staticRenderFns=R,yt._compiled=!0);var wt;if(Ce&&(wt=Ce),wt)if(yt.functional){yt._injectStyles=wt;var gt=yt.render;yt.render=function(Ze,te){return wt.call(te),gt(Ze,te)}}else{var pt=yt.beforeCreate;yt.beforeCreate=pt?[].concat(pt,wt):[wt]}return{exports:n,options:yt}}const r1={};var q5=zc(X5,$5,G5,!1,J5);function J5(n){for(let h in r1)this[h]=r1[h]}var Vm=function(){return q5.exports}(),Xf={methods:{show(...n){return this.$refs.popper.show(...n)},hide(...n){return this.$refs.popper.hide(...n)},dispose(...n){return this.$refs.popper.dispose(...n)},onResize(...n){return this.$refs.popper.onResize(...n)}}},Q5={name:"VPopperWrapper",components:{Popper:Fm(),PopperContent:Vm},mixins:[Xf,Um],inheritAttrs:!1,props:{theme:{type:String,default(){return this.$options.vPopperTheme}}},methods:{getTargetNodes(){return Array.from(this.$refs.reference.children).filter(n=>n!==this.$refs.popperContent.$el)}}},e6=function(){var n=this,h=n.$createElement,R=n._self._c||h;return R("Popper",n._g(n._b({ref:"popper",attrs:{theme:n.theme,"target-nodes":n.getTargetNodes,"reference-node":function(){return n.$refs.reference},"popper-node":function(){return n.$refs.popperContent.$el}},scopedSlots:n._u([{key:"default",fn:function(pe){var Ce=pe.popperId,Fe=pe.isShown,Je=pe.shouldMountContent,Qe=pe.skipTransition,yt=pe.autoHide,wt=pe.show,gt=pe.hide,pt=pe.handleResize,Ze=pe.onResize,te=pe.classes,t=pe.result;return[R("div",{ref:"reference",staticClass:"v-popper",class:[n.themeClass,{"v-popper--shown":Fe}]},[n._t("default",null,{shown:Fe,show:wt,hide:gt}),R("PopperContent",{ref:"popperContent",attrs:{"popper-id":Ce,theme:n.theme,shown:Fe,mounted:Je,"skip-transition":Qe,"auto-hide":yt,"handle-resize":pt,classes:te,result:t},on:{hide:gt,resize:Ze}},[n._t("popper",null,{shown:Fe,hide:gt})],2)],2)]}}],null,!0)},"Popper",n.$attrs,!1),n.$listeners))},t6=[];const o1={};var n6=zc(Q5,e6,t6,!1,r6);function r6(n){for(let h in o1)this[h]=o1[h]}var $f=function(){return n6.exports}(),o6=f0(Ws({},$f),{name:"VDropdown",vPopperTheme:"dropdown"});let i6,a6;const i1={};var l6=zc(o6,i6,a6,!1,s6);function s6(n){for(let h in i1)this[h]=i1[h]}var xf=function(){return l6.exports}(),c6=f0(Ws({},$f),{name:"VMenu",vPopperTheme:"menu"});let u6,d6;const a1={};var f6=zc(c6,u6,d6,!1,p6);function p6(n){for(let h in a1)this[h]=a1[h]}var l1=function(){return f6.exports}(),h6=f0(Ws({},$f),{name:"VTooltip",vPopperTheme:"tooltip"});let m6,g6;const s1={};var v6=zc(h6,m6,g6,!1,b6);function b6(n){for(let h in s1)this[h]=s1[h]}var c1=function(){return v6.exports}(),y6={name:"VTooltipDirective",components:{Popper:Fm(),PopperContent:Vm},mixins:[Xf],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default(){return Lc(this.theme,"html")}},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default(){return Lc(this.theme,"loadingContent")}}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(n){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(n){if(typeof this.content=="function"&&this.$_isShown&&(n||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const h=++this.$_fetchId,R=this.content(this);R.then?R.then(pe=>this.onResult(h,pe)):this.onResult(h,R)}},onResult(n,h){n===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=h)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}},x6=function(){var n=this,h=n.$createElement,R=n._self._c||h;return R("Popper",n._g(n._b({ref:"popper",attrs:{theme:n.theme,"popper-node":function(){return n.$refs.popperContent.$el}},on:{"apply-show":n.onShow,"apply-hide":n.onHide},scopedSlots:n._u([{key:"default",fn:function(pe){var Ce=pe.popperId,Fe=pe.isShown,Je=pe.shouldMountContent,Qe=pe.skipTransition,yt=pe.autoHide,wt=pe.hide,gt=pe.handleResize,pt=pe.onResize,Ze=pe.classes,te=pe.result;return[R("PopperContent",{ref:"popperContent",class:{"v-popper--tooltip-loading":n.loading},attrs:{"popper-id":Ce,theme:n.theme,shown:Fe,mounted:Je,"skip-transition":Qe,"auto-hide":yt,"handle-resize":gt,classes:Ze,result:te},on:{hide:wt,resize:pt}},[n.html?R("div",{domProps:{innerHTML:n._s(n.finalContent)}}):R("div",{domProps:{textContent:n._s(n.finalContent)}})])]}}])},"Popper",n.$attrs,!1),n.$listeners))},w6=[];const u1={};var k6=zc(y6,x6,w6,!1,E6);function E6(n){for(let h in u1)this[h]=u1[h]}var S6=function(){return k6.exports}();const Km="v-popper--has-tooltip";function _6(n,h){let R=n.placement;if(!R&&h)for(const pe of Bm)h[pe]&&(R=pe);return R||(R=Lc(n.theme||"tooltip","placement")),R}function Ym(n,h,R){let pe;const Ce=typeof h;return Ce==="string"?pe={content:h}:h&&Ce==="object"?pe=h:pe={content:!1},pe.placement=_6(pe,R),pe.targetNodes=()=>[n],pe.referenceNode=()=>n,pe}function O6(n,h,R){const pe=Ym(n,h,R),Ce=n.$_popper=new Al({mixins:[Xf],data(){return{options:pe}},render(Je){const Qe=this.options,{theme:yt,html:wt,content:gt,loadingContent:pt}=Qe,Ze=M5(Qe,["theme","html","content","loadingContent"]);return Je(S6,{props:{theme:yt,html:wt,content:gt,loadingContent:pt},attrs:Ze,ref:"popper"})},devtools:{hide:!0}}),Fe=document.createElement("div");return document.body.appendChild(Fe),Ce.$mount(Fe),n.classList&&n.classList.add(Km),Ce}function Xm(n){n.$_popper&&(n.$_popper.$destroy(),delete n.$_popper,delete n.$_popperOldShown),n.classList&&n.classList.remove(Km)}function d1(n,{value:h,oldValue:R,modifiers:pe}){const Ce=Ym(n,h,pe);if(!Ce.content||Lc(Ce.theme||"tooltip","disabled"))Xm(n);else{let Fe;n.$_popper?(Fe=n.$_popper,Fe.options=Ce):Fe=O6(n,h,pe),typeof h.shown<"u"&&h.shown!==n.$_popperOldShown&&(n.$_popperOldShown=h.shown,h.shown?Fe.show():Fe.hide())}}var $m={bind:d1,update:d1,unbind(n){Xm(n)}};function f1(n){n.addEventListener("click",Gm),n.addEventListener("touchstart",qm,hc?{passive:!0}:!1)}function p1(n){n.removeEventListener("click",Gm),n.removeEventListener("touchstart",qm),n.removeEventListener("touchend",Jm),n.removeEventListener("touchcancel",Qm)}function Gm(n){const h=n.currentTarget;n.closePopover=!h.$_vclosepopover_touch,n.closeAllPopover=h.$_closePopoverModifiers&&!!h.$_closePopoverModifiers.all}function qm(n){if(n.changedTouches.length===1){const h=n.currentTarget;h.$_vclosepopover_touch=!0;const R=n.changedTouches[0];h.$_vclosepopover_touchPoint=R,h.addEventListener("touchend",Jm),h.addEventListener("touchcancel",Qm)}}function Jm(n){const h=n.currentTarget;if(h.$_vclosepopover_touch=!1,n.changedTouches.length===1){const R=n.changedTouches[0],pe=h.$_vclosepopover_touchPoint;n.closePopover=Math.abs(R.screenY-pe.screenY)<20&&Math.abs(R.screenX-pe.screenX)<20,n.closeAllPopover=h.$_closePopoverModifiers&&!!h.$_closePopoverModifiers.all}}function Qm(n){const h=n.currentTarget;h.$_vclosepopover_touch=!1}var C6={bind(n,{value:h,modifiers:R}){n.$_closePopoverModifiers=R,(typeof h>"u"||h)&&f1(n)},update(n,{value:h,oldValue:R,modifiers:pe}){n.$_closePopoverModifiers=pe,h!==R&&(typeof h>"u"||h?f1(n):p1(n))},unbind(n){p1(n)}};const Zu=as,j6=$m,I6=xf;function P6(n,h={}){n.$_vTooltipInstalled||(n.$_vTooltipInstalled=!0,Zm(as,h),n.directive("tooltip",$m),n.directive("close-popper",C6),n.component("v-tooltip",c1),n.component("VTooltip",c1),n.component("v-dropdown",xf),n.component("VDropdown",xf),n.component("v-menu",l1),n.component("VMenu",l1))}const T6={version:"1.0.0-beta.19",install:P6,options:as};let zu=null;typeof window<"u"?zu=window.Vue:typeof rd<"u"&&(zu=rd.Vue),zu&&zu.use(T6);var eg=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],hd=eg.join(","),tg=typeof Element>"u",mc=tg?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,md=!tg&&Element.prototype.getRootNode?function(n){var h;return n==null||(h=n.getRootNode)===null||h===void 0?void 0:h.call(n)}:function(n){return n?.ownerDocument},gd=function n(h,R){var pe;R===void 0&&(R=!0);var Ce=h==null||(pe=h.getAttribute)===null||pe===void 0?void 0:pe.call(h,"inert"),Fe=Ce===""||Ce==="true",Je=Fe||R&&h&&n(h.parentNode);return Je},M6=function(n){var h,R=n==null||(h=n.getAttribute)===null||h===void 0?void 0:h.call(n,"contenteditable");return R===""||R==="true"},ng=function(n,h,R){if(gd(n))return[];var pe=Array.prototype.slice.apply(n.querySelectorAll(hd));return h&&mc.call(n,hd)&&pe.unshift(n),pe=pe.filter(R),pe},rg=function n(h,R,pe){for(var Ce=[],Fe=Array.from(h);Fe.length;){var Je=Fe.shift();if(!gd(Je,!1))if(Je.tagName==="SLOT"){var Qe=Je.assignedElements(),yt=Qe.length?Qe:Je.children,wt=n(yt,!0,pe);pe.flatten?Ce.push.apply(Ce,wt):Ce.push({scopeParent:Je,candidates:wt})}else{var gt=mc.call(Je,hd);gt&&pe.filter(Je)&&(R||!h.includes(Je))&&Ce.push(Je);var pt=Je.shadowRoot||typeof pe.getShadowRoot=="function"&&pe.getShadowRoot(Je),Ze=!gd(pt,!1)&&(!pe.shadowRootFilter||pe.shadowRootFilter(Je));if(pt&&Ze){var te=n(pt===!0?Je.children:pt.children,!0,pe);pe.flatten?Ce.push.apply(Ce,te):Ce.push({scopeParent:Je,candidates:te})}else Fe.unshift.apply(Fe,Je.children)}}return Ce},og=function(n){return!isNaN(parseInt(n.getAttribute("tabindex"),10))},cc=function(n){if(!n)throw new Error("No node provided");return n.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(n.tagName)||M6(n))&&!og(n)?0:n.tabIndex},A6=function(n,h){var R=cc(n);return R<0&&h&&!og(n)?0:R},D6=function(n,h){return n.tabIndex===h.tabIndex?n.documentOrder-h.documentOrder:n.tabIndex-h.tabIndex},ig=function(n){return n.tagName==="INPUT"},L6=function(n){return ig(n)&&n.type==="hidden"},R6=function(n){var h=n.tagName==="DETAILS"&&Array.prototype.slice.apply(n.children).some(function(R){return R.tagName==="SUMMARY"});return h},N6=function(n,h){for(var R=0;R<n.length;R++)if(n[R].checked&&n[R].form===h)return n[R]},Z6=function(n){if(!n.name)return!0;var h=n.form||md(n),R=function(Fe){return h.querySelectorAll('input[type="radio"][name="'+Fe+'"]')},pe;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")pe=R(window.CSS.escape(n.name));else try{pe=R(n.name)}catch(Fe){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",Fe.message),!1}var Ce=N6(pe,n.form);return!Ce||Ce===n},z6=function(n){return ig(n)&&n.type==="radio"},B6=function(n){return z6(n)&&!Z6(n)},F6=function(n){var h,R=n&&md(n),pe=(h=R)===null||h===void 0?void 0:h.host,Ce=!1;if(R&&R!==n){var Fe,Je,Qe;for(Ce=!!((Fe=pe)!==null&&Fe!==void 0&&(Je=Fe.ownerDocument)!==null&&Je!==void 0&&Je.contains(pe)||n!=null&&(Qe=n.ownerDocument)!==null&&Qe!==void 0&&Qe.contains(n));!Ce&&pe;){var yt,wt,gt;R=md(pe),pe=(yt=R)===null||yt===void 0?void 0:yt.host,Ce=!!((wt=pe)!==null&&wt!==void 0&&(gt=wt.ownerDocument)!==null&&gt!==void 0&&gt.contains(pe))}}return Ce},h1=function(n){var h=n.getBoundingClientRect(),R=h.width,pe=h.height;return R===0&&pe===0},H6=function(n,h){var R=h.displayCheck,pe=h.getShadowRoot;if(getComputedStyle(n).visibility==="hidden")return!0;var Ce=mc.call(n,"details>summary:first-of-type"),Fe=Ce?n.parentElement:n;if(mc.call(Fe,"details:not([open]) *"))return!0;if(!R||R==="full"||R==="legacy-full"){if(typeof pe=="function"){for(var Je=n;n;){var Qe=n.parentElement,yt=md(n);if(Qe&&!Qe.shadowRoot&&pe(Qe)===!0)return h1(n);n.assignedSlot?n=n.assignedSlot:!Qe&&yt!==n.ownerDocument?n=yt.host:n=Qe}n=Je}if(F6(n))return!n.getClientRects().length;if(R!=="legacy-full")return!0}else if(R==="non-zero-area")return h1(n);return!1},W6=function(n){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(n.tagName))for(var h=n.parentElement;h;){if(h.tagName==="FIELDSET"&&h.disabled){for(var R=0;R<h.children.length;R++){var pe=h.children.item(R);if(pe.tagName==="LEGEND")return mc.call(h,"fieldset[disabled] *")?!0:!pe.contains(n)}return!0}h=h.parentElement}return!1},vd=function(n,h){return!(h.disabled||gd(h)||L6(h)||H6(h,n)||R6(h)||W6(h))},wf=function(n,h){return!(B6(h)||cc(h)<0||!vd(n,h))},U6=function(n){var h=parseInt(n.getAttribute("tabindex"),10);return!!(isNaN(h)||h>=0)},V6=function n(h){var R=[],pe=[];return h.forEach(function(Ce,Fe){var Je=!!Ce.scopeParent,Qe=Je?Ce.scopeParent:Ce,yt=A6(Qe,Je),wt=Je?n(Ce.candidates):Qe;yt===0?Je?R.push.apply(R,wt):R.push(Qe):pe.push({documentOrder:Fe,tabIndex:yt,item:Ce,isScope:Je,content:wt})}),pe.sort(D6).reduce(function(Ce,Fe){return Fe.isScope?Ce.push.apply(Ce,Fe.content):Ce.push(Fe.content),Ce},[]).concat(R)},K6=function(n,h){h=h||{};var R;return h.getShadowRoot?R=rg([n],h.includeContainer,{filter:wf.bind(null,h),flatten:!1,getShadowRoot:h.getShadowRoot,shadowRootFilter:U6}):R=ng(n,h.includeContainer,wf.bind(null,h)),V6(R)},Y6=function(n,h){h=h||{};var R;return h.getShadowRoot?R=rg([n],h.includeContainer,{filter:vd.bind(null,h),flatten:!0,getShadowRoot:h.getShadowRoot}):R=ng(n,h.includeContainer,vd.bind(null,h)),R},Ec=function(n,h){if(h=h||{},!n)throw new Error("No node provided");return mc.call(n,hd)===!1?!1:wf(h,n)},X6=eg.concat("iframe").join(","),J0=function(n,h){if(h=h||{},!n)throw new Error("No node provided");return mc.call(n,X6)===!1?!1:vd(h,n)};function m1(n,h){var R=Object.keys(n);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(n);h&&(pe=pe.filter(function(Ce){return Object.getOwnPropertyDescriptor(n,Ce).enumerable})),R.push.apply(R,pe)}return R}function g1(n){for(var h=1;h<arguments.length;h++){var R=arguments[h]!=null?arguments[h]:{};h%2?m1(Object(R),!0).forEach(function(pe){$6(n,pe,R[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(R)):m1(Object(R)).forEach(function(pe){Object.defineProperty(n,pe,Object.getOwnPropertyDescriptor(R,pe))})}return n}function $6(n,h,R){return h=q6(h),h in n?Object.defineProperty(n,h,{value:R,enumerable:!0,configurable:!0,writable:!0}):n[h]=R,n}function G6(n,h){if(typeof n!="object"||n===null)return n;var R=n[Symbol.toPrimitive];if(R!==void 0){var pe=R.call(n,h||"default");if(typeof pe!="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(n)}function q6(n){var h=G6(n,"string");return typeof h=="symbol"?h:String(h)}var v1={activateTrap:function(n,h){if(n.length>0){var R=n[n.length-1];R!==h&&R.pause()}var pe=n.indexOf(h);pe===-1||n.splice(pe,1),n.push(h)},deactivateTrap:function(n,h){var R=n.indexOf(h);R!==-1&&n.splice(R,1),n.length>0&&n[n.length-1].unpause()}},J6=function(n){return n.tagName&&n.tagName.toLowerCase()==="input"&&typeof n.select=="function"},Q6=function(n){return n?.key==="Escape"||n?.key==="Esc"||n?.keyCode===27},tu=function(n){return n?.key==="Tab"||n?.keyCode===9},e4=function(n){return tu(n)&&!n.shiftKey},t4=function(n){return tu(n)&&n.shiftKey},b1=function(n){return setTimeout(n,0)},y1=function(n,h){var R=-1;return n.every(function(pe,Ce){return h(pe)?(R=Ce,!1):!0}),R},Yc=function(n){for(var h=arguments.length,R=new Array(h>1?h-1:0),pe=1;pe<h;pe++)R[pe-1]=arguments[pe];return typeof n=="function"?n.apply(void 0,R):n},Bu=function(n){return n.target.shadowRoot&&typeof n.composedPath=="function"?n.composedPath()[0]:n.target},n4=[],ag=function(n,h){var R=h?.document||document,pe=h?.trapStack||n4,Ce=g1({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:e4,isKeyBackward:t4},h),Fe={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},Je,Qe=function(x,m,k){return x&&x[m]!==void 0?x[m]:Ce[k||m]},yt=function(x,m){var k=typeof m?.composedPath=="function"?m.composedPath():void 0;return Fe.containerGroups.findIndex(function(Q){var ue=Q.container,me=Q.tabbableNodes;return ue.contains(x)||k?.includes(ue)||me.find(function(ye){return ye===x})})},wt=function(x){var m=Ce[x];if(typeof m=="function"){for(var k=arguments.length,Q=new Array(k>1?k-1:0),ue=1;ue<k;ue++)Q[ue-1]=arguments[ue];m=m.apply(void 0,Q)}if(m===!0&&(m=void 0),!m){if(m===void 0||m===!1)return m;throw new Error("`".concat(x,"` was specified but was not a node, or did not return a node"))}var me=m;if(typeof m=="string"&&(me=R.querySelector(m),!me))throw new Error("`".concat(x,"` as selector refers to no known node"));return me},gt=function(){var x=wt("initialFocus");if(x===!1)return!1;if(x===void 0||!J0(x,Ce.tabbableOptions))if(yt(R.activeElement)>=0)x=R.activeElement;else{var m=Fe.tabbableGroups[0],k=m&&m.firstTabbableNode;x=k||wt("fallbackFocus")}if(!x)throw new Error("Your focus-trap needs to have at least one focusable element");return x},pt=function(){if(Fe.containerGroups=Fe.containers.map(function(x){var m=K6(x,Ce.tabbableOptions),k=Y6(x,Ce.tabbableOptions),Q=m.length>0?m[0]:void 0,ue=m.length>0?m[m.length-1]:void 0,me=k.find(function(G){return Ec(G)}),ye=k.slice().reverse().find(function(G){return Ec(G)}),fe=!!m.find(function(G){return cc(G)>0});return{container:x,tabbableNodes:m,focusableNodes:k,posTabIndexesFound:fe,firstTabbableNode:Q,lastTabbableNode:ue,firstDomTabbableNode:me,lastDomTabbableNode:ye,nextTabbableNode:function(G){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=m.indexOf(G);return U<0?$?k.slice(k.indexOf(G)+1).find(function(L){return Ec(L)}):k.slice(0,k.indexOf(G)).reverse().find(function(L){return Ec(L)}):m[U+($?1:-1)]}}}),Fe.tabbableGroups=Fe.containerGroups.filter(function(x){return x.tabbableNodes.length>0}),Fe.tabbableGroups.length<=0&&!wt("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(Fe.containerGroups.find(function(x){return x.posTabIndexesFound})&&Fe.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},Ze=function x(m){var k=m.activeElement;if(k)return k.shadowRoot&&k.shadowRoot.activeElement!==null?x(k.shadowRoot):k},te=function x(m){if(m!==!1&&m!==Ze(document)){if(!m||!m.focus){x(gt());return}m.focus({preventScroll:!!Ce.preventScroll}),Fe.mostRecentlyFocusedNode=m,J6(m)&&m.select()}},t=function(x){var m=wt("setReturnFocus",x);return m||(m===!1?!1:x)},e=function(x){var m=x.target,k=x.event,Q=x.isBackward,ue=Q===void 0?!1:Q;m=m||Bu(k),pt();var me=null;if(Fe.tabbableGroups.length>0){var ye=yt(m,k),fe=ye>=0?Fe.containerGroups[ye]:void 0;if(ye<0)ue?me=Fe.tabbableGroups[Fe.tabbableGroups.length-1].lastTabbableNode:me=Fe.tabbableGroups[0].firstTabbableNode;else if(ue){var G=y1(Fe.tabbableGroups,function(P){var w=P.firstTabbableNode;return m===w});if(G<0&&(fe.container===m||J0(m,Ce.tabbableOptions)&&!Ec(m,Ce.tabbableOptions)&&!fe.nextTabbableNode(m,!1))&&(G=ye),G>=0){var $=G===0?Fe.tabbableGroups.length-1:G-1,U=Fe.tabbableGroups[$];me=cc(m)>=0?U.lastTabbableNode:U.lastDomTabbableNode}else tu(k)||(me=fe.nextTabbableNode(m,!1))}else{var L=y1(Fe.tabbableGroups,function(P){var w=P.lastTabbableNode;return m===w});if(L<0&&(fe.container===m||J0(m,Ce.tabbableOptions)&&!Ec(m,Ce.tabbableOptions)&&!fe.nextTabbableNode(m))&&(L=ye),L>=0){var F=L===Fe.tabbableGroups.length-1?0:L+1,I=Fe.tabbableGroups[F];me=cc(m)>=0?I.firstTabbableNode:I.firstDomTabbableNode}else tu(k)||(me=fe.nextTabbableNode(m))}}else me=wt("fallbackFocus");return me},_=function(x){var m=Bu(x);if(!(yt(m,x)>=0)){if(Yc(Ce.clickOutsideDeactivates,x)){Je.deactivate({returnFocus:Ce.returnFocusOnDeactivate});return}Yc(Ce.allowOutsideClick,x)||x.preventDefault()}},g=function(x){var m=Bu(x),k=yt(m,x)>=0;if(k||m instanceof Document)k&&(Fe.mostRecentlyFocusedNode=m);else{x.stopImmediatePropagation();var Q,ue=!0;if(Fe.mostRecentlyFocusedNode)if(cc(Fe.mostRecentlyFocusedNode)>0){var me=yt(Fe.mostRecentlyFocusedNode),ye=Fe.containerGroups[me].tabbableNodes;if(ye.length>0){var fe=ye.findIndex(function(G){return G===Fe.mostRecentlyFocusedNode});fe>=0&&(Ce.isKeyForward(Fe.recentNavEvent)?fe+1<ye.length&&(Q=ye[fe+1],ue=!1):fe-1>=0&&(Q=ye[fe-1],ue=!1))}}else Fe.containerGroups.some(function(G){return G.tabbableNodes.some(function($){return cc($)>0})})||(ue=!1);else ue=!1;ue&&(Q=e({target:Fe.mostRecentlyFocusedNode,isBackward:Ce.isKeyBackward(Fe.recentNavEvent)})),te(Q||Fe.mostRecentlyFocusedNode||gt())}Fe.recentNavEvent=void 0},p=function(x){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Fe.recentNavEvent=x;var k=e({event:x,isBackward:m});k&&(tu(x)&&x.preventDefault(),te(k))},y=function(x){if(Q6(x)&&Yc(Ce.escapeDeactivates,x)!==!1){x.preventDefault(),Je.deactivate();return}(Ce.isKeyForward(x)||Ce.isKeyBackward(x))&&p(x,Ce.isKeyBackward(x))},T=function(x){var m=Bu(x);yt(m,x)>=0||Yc(Ce.clickOutsideDeactivates,x)||Yc(Ce.allowOutsideClick,x)||(x.preventDefault(),x.stopImmediatePropagation())},E=function(){if(Fe.active)return v1.activateTrap(pe,Je),Fe.delayInitialFocusTimer=Ce.delayInitialFocus?b1(function(){te(gt())}):te(gt()),R.addEventListener("focusin",g,!0),R.addEventListener("mousedown",_,{capture:!0,passive:!1}),R.addEventListener("touchstart",_,{capture:!0,passive:!1}),R.addEventListener("click",T,{capture:!0,passive:!1}),R.addEventListener("keydown",y,{capture:!0,passive:!1}),Je},a=function(){if(Fe.active)return R.removeEventListener("focusin",g,!0),R.removeEventListener("mousedown",_,!0),R.removeEventListener("touchstart",_,!0),R.removeEventListener("click",T,!0),R.removeEventListener("keydown",y,!0),Je},u=function(x){var m=x.some(function(k){var Q=Array.from(k.removedNodes);return Q.some(function(ue){return ue===Fe.mostRecentlyFocusedNode})});m&&te(gt())},N=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(u):void 0,H=function(){N&&(N.disconnect(),Fe.active&&!Fe.paused&&Fe.containers.map(function(x){N.observe(x,{subtree:!0,childList:!0})}))};return Je={get active(){return Fe.active},get paused(){return Fe.paused},activate:function(x){if(Fe.active)return this;var m=Qe(x,"onActivate"),k=Qe(x,"onPostActivate"),Q=Qe(x,"checkCanFocusTrap");Q||pt(),Fe.active=!0,Fe.paused=!1,Fe.nodeFocusedBeforeActivation=R.activeElement,m?.();var ue=function(){Q&&pt(),E(),H(),k?.()};return Q?(Q(Fe.containers.concat()).then(ue,ue),this):(ue(),this)},deactivate:function(x){if(!Fe.active)return this;var m=g1({onDeactivate:Ce.onDeactivate,onPostDeactivate:Ce.onPostDeactivate,checkCanReturnFocus:Ce.checkCanReturnFocus},x);clearTimeout(Fe.delayInitialFocusTimer),Fe.delayInitialFocusTimer=void 0,a(),Fe.active=!1,Fe.paused=!1,H(),v1.deactivateTrap(pe,Je);var k=Qe(m,"onDeactivate"),Q=Qe(m,"onPostDeactivate"),ue=Qe(m,"checkCanReturnFocus"),me=Qe(m,"returnFocus","returnFocusOnDeactivate");k?.();var ye=function(){b1(function(){me&&te(t(Fe.nodeFocusedBeforeActivation)),Q?.()})};return me&&ue?(ue(t(Fe.nodeFocusedBeforeActivation)).then(ye,ye),this):(ye(),this)},pause:function(x){if(Fe.paused||!Fe.active)return this;var m=Qe(x,"onPause"),k=Qe(x,"onPostPause");return Fe.paused=!0,m?.(),a(),H(),k?.(),this},unpause:function(x){if(!Fe.paused||!Fe.active)return this;var m=Qe(x,"onUnpause"),k=Qe(x,"onPostUnpause");return Fe.paused=!1,m?.(),pt(),E(),H(),k?.(),this},updateContainerElements:function(x){var m=[].concat(x).filter(Boolean);return Fe.containers=m.map(function(k){return typeof k=="string"?R.querySelector(k):k}),Fe.active&&pt(),H(),this}},Je.updateContainerElements(n),Je};const bd=function(){return Object.assign(window,{_nc_focus_trap:window._nc_focus_trap||[]}),window._nc_focus_trap},r4=Xx({name:"NcPopoverTriggerProvider",provide(){return{"NcPopover:trigger:shown":()=>this.shown,"NcPopover:trigger:attrs":()=>this.triggerAttrs}},props:{shown:{type:Boolean,required:!0},popupRole:{type:String,default:void 0}},computed:{triggerAttrs(){return{"aria-haspopup":this.popupRole,"aria-expanded":this.shown.toString()}}},render(){return this.$scopedSlots.default?.({attrs:this.triggerAttrs})}}),o4=null,i4=null;var a4=oi(r4,o4,i4,!1,null,null);const l4=a4.exports,s4={name:"NcPopover",components:{Dropdown:I6,NcPopoverTriggerProvider:l4},inheritAttrs:!1,props:{shown:{type:Boolean,default:!1},popupRole:{type:String,default:void 0,validator:n=>["menu","listbox","tree","grid","dialog","true"].includes(n)},popoverBaseClass:{type:String,default:""},focusTrap:{type:Boolean,default:!0},setReturnFocus:{default:void 0,type:[HTMLElement,SVGElement,String,Boolean]}},emits:["after-show","after-hide","update:shown"],data(){return{internalShown:this.shown}},watch:{shown(n){this.internalShown=n},internalShown(n){this.$emit("update:shown",n)}},mounted(){this.checkTriggerA11y()},beforeDestroy(){this.clearFocusTrap(),this.clearEscapeStopPropagation()},methods:{checkTriggerA11y(){window.OC?.debug&&(this.getPopoverTriggerContainerElement().querySelector("[aria-expanded]")||Al.util.warn("It looks like you are using a custom button as a <NcPopover> or other popover #trigger. If you are not using <NcButton> as a trigger, you need to bind attrs from the #trigger slot props to your custom button. See <NcPopover> docs for an example."))},removeFloatingVueAriaDescribedBy(){const n=this.getPopoverTriggerContainerElement().querySelectorAll("[data-popper-shown]");for(const h of n)h.removeAttribute("aria-describedby")},getPopoverContentElement(){return this.$refs.popover?.$refs.popperContent?.$el},getPopoverTriggerContainerElement(){return this.$refs.popover.$refs.reference},async useFocusTrap(){if(await this.$nextTick(),!this.focusTrap)return;const n=this.getPopoverContentElement();n&&(this.$focusTrap=ag(n,{escapeDeactivates:!1,allowOutsideClick:!0,setReturnFocus:this.setReturnFocus,trapStack:bd()}),this.$focusTrap.activate())},clearFocusTrap(n={}){try{this.$focusTrap?.deactivate(n),this.$focusTrap=null}catch(h){console.warn(h)}},addEscapeStopPropagation(){this.getPopoverContentElement()?.addEventListener("keydown",this.stopKeydownEscapeHandler)},clearEscapeStopPropagation(){this.getPopoverContentElement()?.removeEventListener("keydown",this.stopKeydownEscapeHandler)},stopKeydownEscapeHandler(n){n.type==="keydown"&&n.key==="Escape"&&n.stopPropagation()},afterShow(){this.removeFloatingVueAriaDescribedBy(),this.$nextTick(()=>{this.$emit("after-show"),this.useFocusTrap(),this.addEscapeStopPropagation()})},afterHide(){this.$emit("after-hide"),this.clearFocusTrap(),this.clearEscapeStopPropagation()}}};var c4=function(){var n=this,h=n._self._c;return h("Dropdown",n._g(n._b({ref:"popover",attrs:{distance:10,"arrow-padding":10,"no-auto-focus":!0,"popper-class":n.popoverBaseClass,shown:n.internalShown},on:{"update:shown":function(R){n.internalShown=R},"apply-show":n.afterShow,"apply-hide":n.afterHide},scopedSlots:n._u([{key:"popper",fn:function(){return[n._t("default")]},proxy:!0}],null,!0)},"Dropdown",n.$attrs,!1),n.$listeners),[h("NcPopoverTriggerProvider",{attrs:{shown:n.internalShown,"popup-role":n.popupRole},scopedSlots:n._u([{key:"default",fn:function(R){return[n._t("trigger",null,null,R)]}}],null,!0)})],1)},u4=[],d4=oi(s4,c4,u4,!1,null,null);const f4=d4.exports;Al.util.warn;function gu(n){return fm()?(pm(n),!0):!1}function Bc(n){return typeof n=="function"?n():um(n)}const p4=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const lg=n=>n!=null,h4=Object.prototype.toString,m4=n=>h4.call(n)==="[object Object]",Pc=()=>{};function g4(n){return dm()}function Gf(n,h=!0,R){g4()?sm(n,R):h?n():cm(n)}Al.util.warn;const ec=p4?window:void 0;function gl(n){var h;const R=Bc(n);return(h=R?.$el)!=null?h:R}function Tc(...n){let h,R,pe,Ce;if(typeof n[0]=="string"||Array.isArray(n[0])?([R,pe,Ce]=n,h=ec):[h,R,pe,Ce]=n,!h)return Pc;Array.isArray(R)||(R=[R]),Array.isArray(pe)||(pe=[pe]);const Fe=[],Je=()=>{Fe.forEach(gt=>gt()),Fe.length=0},Qe=(gt,pt,Ze,te)=>(gt.addEventListener(pt,Ze,te),()=>gt.removeEventListener(pt,Ze,te)),yt=ss(()=>[gl(h),Bc(Ce)],([gt,pt])=>{if(Je(),!gt)return;const Ze=m4(pt)?{...pt}:pt;Fe.push(...R.flatMap(te=>pe.map(t=>Qe(gt,te,t,Ze))))},{immediate:!0,flush:"post"}),wt=()=>{yt(),Je()};return gu(wt),wt}function v4(){const n=pi(!1);return dm()&&sm(()=>{n.value=!0},void 0),n}function p0(n){const h=v4();return Ml(()=>(h.value,!!n()))}function b4(n,h,R={}){const{window:pe=ec,...Ce}=R;let Fe;const Je=p0(()=>pe&&"MutationObserver"in pe),Qe=()=>{Fe&&(Fe.disconnect(),Fe=void 0)},yt=Ml(()=>{const Ze=Bc(n),te=(Array.isArray(Ze)?Ze:[Ze]).map(gl).filter(lg);return new Set(te)}),wt=ss(()=>yt.value,Ze=>{Qe(),Je.value&&Ze.size&&(Fe=new MutationObserver(h),Ze.forEach(te=>Fe.observe(te,Ce)))},{immediate:!0,flush:"post"}),gt=()=>Fe?.takeRecords(),pt=()=>{wt(),Qe()};return gu(pt),{isSupported:Je,stop:pt,takeRecords:gt}}function y4(n,h={}){const{window:R=ec}=h,pe=p0(()=>R&&"matchMedia"in R&&typeof R.matchMedia=="function");let Ce;const Fe=pi(!1),Je=wt=>{Fe.value=wt.matches},Qe=()=>{Ce&&("removeEventListener"in Ce?Ce.removeEventListener("change",Je):Ce.removeListener(Je))},yt=$x(()=>{pe.value&&(Qe(),Ce=R.matchMedia(Bc(n)),"addEventListener"in Ce?Ce.addEventListener("change",Je):Ce.addListener(Je),Fe.value=Ce.matches)});return gu(()=>{yt(),Qe(),Ce=void 0}),Fe}function sg(n,h,R={}){const{window:pe=ec,...Ce}=R;let Fe;const Je=p0(()=>pe&&"ResizeObserver"in pe),Qe=()=>{Fe&&(Fe.disconnect(),Fe=void 0)},yt=Ml(()=>{const pt=Bc(n);return Array.isArray(pt)?pt.map(Ze=>gl(Ze)):[gl(pt)]}),wt=ss(yt,pt=>{if(Qe(),Je.value&&pe){Fe=new ResizeObserver(h);for(const Ze of pt)Ze&&Fe.observe(Ze,Ce)}},{immediate:!0,flush:"post"}),gt=()=>{Qe(),wt()};return gu(gt),{isSupported:Je,stop:gt}}function x1(n,h={}){const{reset:R=!0,windowResize:pe=!0,windowScroll:Ce=!0,immediate:Fe=!0,updateTiming:Je="sync"}=h,Qe=pi(0),yt=pi(0),wt=pi(0),gt=pi(0),pt=pi(0),Ze=pi(0),te=pi(0),t=pi(0);function e(){const g=gl(n);if(!g){R&&(Qe.value=0,yt.value=0,wt.value=0,gt.value=0,pt.value=0,Ze.value=0,te.value=0,t.value=0);return}const p=g.getBoundingClientRect();Qe.value=p.height,yt.value=p.bottom,wt.value=p.left,gt.value=p.right,pt.value=p.top,Ze.value=p.width,te.value=p.x,t.value=p.y}function _(){Je==="sync"?e():Je==="next-frame"&&requestAnimationFrame(()=>e())}return sg(n,_),ss(()=>gl(n),g=>!g&&_()),b4(n,_,{attributeFilter:["style","class"]}),Ce&&Tc("scroll",_,{capture:!0,passive:!0}),pe&&Tc("resize",_,{passive:!0}),Gf(()=>{Fe&&_()}),{height:Qe,bottom:yt,left:wt,right:gt,top:pt,width:Ze,x:te,y:t,update:_}}function x4(n,h={width:0,height:0},R={}){const{window:pe=ec,box:Ce="content-box"}=R,Fe=Ml(()=>{var pt,Ze;return(Ze=(pt=gl(n))==null?void 0:pt.namespaceURI)==null?void 0:Ze.includes("svg")}),Je=pi(h.width),Qe=pi(h.height),{stop:yt}=sg(n,([pt])=>{const Ze=Ce==="border-box"?pt.borderBoxSize:Ce==="content-box"?pt.contentBoxSize:pt.devicePixelContentBoxSize;if(pe&&Fe.value){const te=gl(n);if(te){const t=te.getBoundingClientRect();Je.value=t.width,Qe.value=t.height}}else if(Ze){const te=Array.isArray(Ze)?Ze:[Ze];Je.value=te.reduce((t,{inlineSize:e})=>t+e,0),Qe.value=te.reduce((t,{blockSize:e})=>t+e,0)}else Je.value=pt.contentRect.width,Qe.value=pt.contentRect.height},R);Gf(()=>{const pt=gl(n);pt&&(Je.value="offsetWidth"in pt?pt.offsetWidth:h.width,Qe.value="offsetHeight"in pt?pt.offsetHeight:h.height)});const wt=ss(()=>gl(n),pt=>{Je.value=pt?h.width:0,Qe.value=pt?h.height:0});function gt(){yt(),wt()}return{width:Je,height:Qe,stop:gt}}function w4(n,h,R={}){const{root:pe,rootMargin:Ce="0px",threshold:Fe=0,window:Je=ec,immediate:Qe=!0}=R,yt=p0(()=>Je&&"IntersectionObserver"in Je),wt=Ml(()=>{const t=Bc(n);return(Array.isArray(t)?t:[t]).map(gl).filter(lg)});let gt=Pc;const pt=pi(Qe),Ze=yt.value?ss(()=>[wt.value,gl(pe),pt.value],([t,e])=>{if(gt(),!pt.value||!t.length)return;const _=new IntersectionObserver(h,{root:gl(e),rootMargin:Ce,threshold:Fe});t.forEach(g=>g&&_.observe(g)),gt=()=>{_.disconnect(),gt=Pc}},{immediate:Qe,flush:"post"}):Pc,te=()=>{gt(),Ze(),pt.value=!1};return gu(te),{isSupported:yt,isActive:pt,pause(){gt(),pt.value=!1},resume(){pt.value=!0},stop:te}}function k4(n,h={}){const{threshold:R=50,onSwipe:pe,onSwipeEnd:Ce,onSwipeStart:Fe,passive:Je=!0,window:Qe=ec}=h,yt=wh({x:0,y:0}),wt=wh({x:0,y:0}),gt=Ml(()=>yt.x-wt.x),pt=Ml(()=>yt.y-wt.y),{max:Ze,abs:te}=Math,t=Ml(()=>Ze(te(gt.value),te(pt.value))>=R),e=pi(!1),_=Ml(()=>t.value?te(gt.value)>te(pt.value)?gt.value>0?"left":"right":pt.value>0?"up":"down":"none"),g=N=>[N.touches[0].clientX,N.touches[0].clientY],p=(N,H)=>{yt.x=N,yt.y=H},y=(N,H)=>{wt.x=N,wt.y=H};let T;const E=E4(Qe?.document);Je?T=E?{passive:!0}:{capture:!1}:T=E?{passive:!1,capture:!0}:{capture:!0};const a=N=>{e.value&&Ce?.(N,_.value),e.value=!1},u=[Tc(n,"touchstart",N=>{if(N.touches.length!==1)return;T.capture&&!T.passive&&N.preventDefault();const[H,x]=g(N);p(H,x),y(H,x),Fe?.(N)},T),Tc(n,"touchmove",N=>{if(N.touches.length!==1)return;const[H,x]=g(N);y(H,x),!e.value&&t.value&&(e.value=!0),e.value&&pe?.(N)},T),Tc(n,["touchend","touchcancel"],a,T)];return{isPassiveEventSupported:E,isSwiping:e,direction:_,coordsStart:yt,coordsEnd:wt,lengthX:gt,lengthY:pt,stop:()=>u.forEach(N=>N())}}function E4(n){if(!n)return!1;let h=!1;const R={get passive(){return h=!0,!1}};return n.addEventListener("x",Pc,R),n.removeEventListener("x",Pc),h}function S4(n={}){const{window:h=ec,initialWidth:R=Number.POSITIVE_INFINITY,initialHeight:pe=Number.POSITIVE_INFINITY,listenOrientation:Ce=!0,includeScrollbar:Fe=!0,type:Je="inner"}=n,Qe=pi(R),yt=pi(pe),wt=()=>{h&&(Je==="outer"?(Qe.value=h.outerWidth,yt.value=h.outerHeight):Fe?(Qe.value=h.innerWidth,yt.value=h.innerHeight):(Qe.value=h.document.documentElement.clientWidth,yt.value=h.document.documentElement.clientHeight))};if(wt(),Gf(wt),Tc("resize",wt,{passive:!0}),Ce){const gt=y4("(orientation: portrait)");ss(gt,()=>wt())}return{width:Qe,height:yt}}const _4={name:"DotsHorizontalIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var O4=function(){var n=this,h=n._self._c;return h("span",n._b({staticClass:"material-design-icon dots-horizontal-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(R){return n.$emit("click",R)}}},"span",n.$attrs,!1),[h("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[h("path",{attrs:{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}},[n.title?h("title",[n._v(n._s(n.title))]):n._e()])])])},C4=[],j4=oi(_4,O4,C4,!1,null,null);const qf=j4.exports;tl(Gx);const w1=".focusable",I4={name:"NcActions",components:{NcButton:pu,NcPopover:f4},provide(){return{"NcActions:isSemanticMenu":Ml(()=>this.actionsMenuSemanticType==="menu")}},props:{open:{type:Boolean,default:!1},manualOpen:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},forceName:{type:Boolean,default:!1},menuName:{type:String,default:null},forceSemanticType:{type:String,default:null,validator(n){return["dialog","menu","expanded","tooltip"].includes(n)}},primary:{type:Boolean,default:!1},type:{type:String,validator(n){return["primary","secondary","tertiary","tertiary-no-background","tertiary-on-primary","error","warning","success"].indexOf(n)!==-1},default:null},defaultIcon:{type:String,default:""},ariaLabel:{type:String,default:Eo("Actions")},ariaHidden:{type:Boolean,default:null},placement:{type:String,default:"bottom"},boundariesElement:{type:Element,default:()=>document.querySelector("#content-vue")??document.querySelector("body")},container:{type:[String,Object,Element,Boolean],default:"body"},disabled:{type:Boolean,default:!1},inline:{type:Number,default:0}},emits:["open","update:open","close","focus","blur","click"],setup(n){const h=`menu-${od()}`,R=`trigger-${h}`,pe=pi(),{top:Ce,bottom:Fe}=x1(pe),{top:Je,bottom:Qe}=x1(hm(n,"boundariesElement")),{height:yt}=S4(),wt=Ml(()=>Math.max(Math.min(Ce.value-84,Ce.value-Je.value),Math.min(yt.value-Fe.value-34,Qe.value-Fe.value)));return{triggerButton:pe,maxMenuHeight:wt,randomId:h,triggerRandomId:R}},data(){return{opened:this.open,focusIndex:0,actionsMenuSemanticType:"unknown",externalFocusTrapStack:[]}},computed:{triggerBtnType(){return this.type||(this.primary?"primary":this.menuName?"secondary":"tertiary")},config(){return{menu:{popupRole:"menu",withArrowNavigation:!0,withTabNavigation:!1,withFocusTrap:!1,triggerA11yAttr:{"aria-controls":this.opened?this.randomId:null},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{"aria-labelledby":this.triggerRandomId,id:this.randomId,role:"menu"}},expanded:{popupRole:void 0,withArrowNavigation:!1,withTabNavigation:!0,withFocusTrap:!1,triggerA11yAttr:{},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{}},dialog:{popupRole:"dialog",withArrowNavigation:!1,withTabNavigation:!0,withFocusTrap:!0,triggerA11yAttr:{"aria-controls":this.opened?this.randomId:null},popoverContainerA11yAttrs:{id:this.randomId,role:"dialog","aria-labelledby":this.triggerRandomId,"aria-modal":"true"},popoverUlA11yAttrs:{}},tooltip:{popupRole:void 0,withArrowNavigation:!1,withTabNavigation:!1,withFocusTrap:!1,triggerA11yAttr:{},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{}},unknown:{popupRole:void 0,role:void 0,withArrowNavigation:!0,withTabNavigation:!1,withFocusTrap:!0,triggerA11yAttr:{},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{"aria-labelledby":this.triggerRandomId}}}[this.actionsMenuSemanticType]}},watch:{open(n){n!==this.opened&&(this.opened=n)},opened(){this.intersectIntoCurrentFocusTrapStack(),this.opened?document.body.addEventListener("keydown",this.handleEscapePressed):document.body.removeEventListener("keydown",this.handleEscapePressed)}},methods:{getActionName(n){return n?.componentOptions?.Ctor?.extendOptions?.name??n?.componentOptions?.tag},intersectIntoCurrentFocusTrapStack(){if(!this.config.withFocusTrap)if(this.opened){this.externalFocusTrapStack=[...bd()];for(const n of this.externalFocusTrapStack)n.pause()}else{for(const n of this.externalFocusTrapStack)n.unpause();this.externalFocusTrapStack=[]}},isValidSingleAction(n){return["NcActionButton","NcActionLink","NcActionRouter"].includes(this.getActionName(n))},isIconUrl(n){try{return!!new URL(n,n.startsWith("/")?window.location.origin:void 0)}catch{return!1}},openMenu(n){this.opened||(this.opened=!0,this.$emit("update:open",!0),this.$emit("open"))},async closeMenu(n=!0){this.opened&&(await this.$nextTick(),this.opened=!1,this.$refs.popover?.clearFocusTrap({returnFocus:n}),this.$emit("update:open",!1),this.$emit("close"),this.focusIndex=0,n&&this.$refs.triggerButton?.$el.focus())},onClosed(){this.$emit("closed")},onOpen(){this.$nextTick(()=>{this.focusFirstAction(null),this.resizePopover()})},resizePopover(){const n=this.$refs.menu.closest(".v-popper__inner");if(this.$refs.menu.clientHeight>this.maxMenuHeight){let h=0,R=0;for(const pe of this.$refs.menuList.children){if(h+pe.clientHeight/2>this.maxMenuHeight){n.style.height=`${h-R/2}px`;break}R=pe.clientHeight,h+=R}}else n.style.height="fit-content"},getCurrentActiveMenuItemElement(){return this.$refs.menu.querySelector("li.active")},getFocusableMenuItemElements(){return this.$refs.menu.querySelectorAll(w1)},onMouseFocusAction(n){if(document.activeElement===n.target)return;const h=n.target.closest("li");if(h&&this.$refs.menu.contains(h)){const R=h.querySelector(w1);if(R){const pe=[...this.getFocusableMenuItemElements()].indexOf(R);pe>-1&&(this.focusIndex=pe,this.focusAction())}}},onKeydown(n){if(n.key==="Tab"){if(this.config.withFocusTrap)return;if(!this.config.withTabNavigation){this.closeMenu(!0);return}n.preventDefault();const h=this.getFocusableMenuItemElements(),R=[...h].indexOf(document.activeElement);if(R===-1)return;const pe=n.shiftKey?R-1:R+1;(pe<0||pe===h.length)&&this.closeMenu(!0),this.focusIndex=pe,this.focusAction();return}this.config.withArrowNavigation&&(n.key==="ArrowUp"&&this.focusPreviousAction(n),n.key==="ArrowDown"&&this.focusNextAction(n),n.key==="PageUp"&&this.focusFirstAction(n),n.key==="PageDown"&&this.focusLastAction(n)),this.handleEscapePressed(n)},onTriggerKeydown(n){n.key==="Escape"&&this.actionsMenuSemanticType==="tooltip"&&this.closeMenu()},handleEscapePressed(n){n.key==="Escape"&&(this.closeMenu(),n.preventDefault())},removeCurrentActive(){const n=this.$refs.menu.querySelector("li.active");n&&n.classList.remove("active")},focusAction(){const n=this.getFocusableMenuItemElements()[this.focusIndex];if(n){this.removeCurrentActive();const h=n.closest("li.action");n.focus(),h&&h.classList.add("active")}},focusPreviousAction(n){this.opened&&(this.focusIndex===0?this.focusLastAction(n):(this.preventIfEvent(n),this.focusIndex=this.focusIndex-1),this.focusAction())},focusNextAction(n){if(this.opened){const h=this.getFocusableMenuItemElements().length-1;this.focusIndex===h?this.focusFirstAction(n):(this.preventIfEvent(n),this.focusIndex=this.focusIndex+1),this.focusAction()}},focusFirstAction(n){if(this.opened){this.preventIfEvent(n);const h=[...this.getFocusableMenuItemElements()].findIndex(R=>R.getAttribute("aria-checked")==="true"&&R.getAttribute("role")==="menuitemradio");this.focusIndex=h>-1?h:0,this.focusAction()}},focusLastAction(n){this.opened&&(this.preventIfEvent(n),this.focusIndex=this.getFocusableMenuItemElements().length-1,this.focusAction())},preventIfEvent(n){n&&(n.preventDefault(),n.stopPropagation())},onFocus(n){this.$emit("focus",n)},onBlur(n){this.$emit("blur",n),this.actionsMenuSemanticType==="tooltip"&&this.$refs.menu&&this.getFocusableMenuItemElements().length===0&&this.closeMenu(!1)},onClick(n){this.$emit("click",n)}},render(n){const h=(this.$slots.default||[]).filter(Qe=>this.getActionName(Qe));if(h.length===0)return;let R=h.filter(this.isValidSingleAction);this.forceMenu&&R.length>0&&this.inline>0&&(Al.util.warn("Specifying forceMenu will ignore any inline actions rendering."),R=[]);const pe=R.slice(0,this.inline),Ce=h.filter(Qe=>!pe.includes(Qe));if(this.forceSemanticType)this.actionsMenuSemanticType=this.forceSemanticType;else{const Qe=["NcActionInput","NcActionTextEditable"],yt=["NcActionButton","NcActionButtonGroup","NcActionCheckbox","NcActionRadio"],wt=["NcActionLink","NcActionRouter"],gt=Ce.some(te=>Qe.includes(this.getActionName(te))),pt=Ce.some(te=>yt.includes(this.getActionName(te))),Ze=Ce.some(te=>wt.includes(this.getActionName(te)));gt?this.actionsMenuSemanticType="dialog":pt?this.actionsMenuSemanticType="menu":Ze?this.actionsMenuSemanticType="expanded":h.filter(te=>this.getActionName(te).startsWith("NcAction")).length===h.length?this.actionsMenuSemanticType="tooltip":this.actionsMenuSemanticType="unknown"}const Fe=Qe=>{const yt=Qe?.componentOptions?.propsData?.icon,wt=Qe?.data?.scopedSlots?.icon()?.[0]??(this.isIconUrl(yt)?n("img",{class:"action-item__menutoggle__icon",attrs:{src:yt,alt:""}}):n("span",{class:["icon",yt]})),gt=Qe?.data?.attrs||{},pt=Qe?.componentOptions?.listeners?.click,Ze=Qe?.componentOptions?.children?.[0]?.text?.trim?.(),te=Qe?.componentOptions?.propsData?.ariaLabel||Ze,t=this.forceName?Ze:"";let e=Qe?.componentOptions?.propsData?.title;this.forceName||e||(e=Ze);const _={...Qe?.componentOptions?.propsData??{}},g=["submit","reset"].includes(_.type)?_.modelValue:"button";return delete _.modelValue,delete _.type,n("NcButton",{class:["action-item action-item--single",Qe?.data?.staticClass,Qe?.data?.class],attrs:{...gt,"aria-label":te,title:e},ref:Qe?.data?.ref,props:{type:this.type||(t?"secondary":"tertiary"),disabled:this.disabled||Qe?.componentOptions?.propsData?.disabled,pressed:Qe?.componentOptions?.propsData?.modelValue,nativeType:g,..._},on:{focus:this.onFocus,blur:this.onBlur,"update:pressed":Qe?.componentOptions?.listeners?.["update:modelValue"]??(()=>{}),...!!pt&&{click:p=>{pt&&pt(p)}}}},[n("template",{slot:"icon"},[wt]),t])},Je=Qe=>{const yt=this.$slots.icon?.[0]||(this.defaultIcon?n("span",{class:["icon",this.defaultIcon]}):n(qf,{props:{size:20}}));return n("NcPopover",{ref:"popover",props:{delay:0,handleResize:!0,shown:this.opened,placement:this.placement,boundary:this.boundariesElement,container:this.container,popoverBaseClass:"action-item__popper",popupRole:this.config.popupRole,setReturnFocus:this.config.withFocusTrap?this.$refs.triggerButton?.$el:null,focusTrap:this.config.withFocusTrap},attrs:{delay:0,handleResize:!0,shown:this.opened,placement:this.placement,boundary:this.boundariesElement,container:this.container,...this.manualOpen&&{triggers:[]}},on:{show:this.openMenu,"apply-show":this.onOpen,hide:this.closeMenu,"apply-hide":this.onClosed}},[n("NcButton",{class:"action-item__menutoggle",props:{type:this.triggerBtnType,disabled:this.disabled},slot:"trigger",ref:"triggerButton",attrs:{id:this.triggerRandomId,"aria-label":this.menuName?null:this.ariaLabel,...this.config.triggerA11yAttr},on:{focus:this.onFocus,blur:this.onBlur,click:this.onClick,keydown:this.onTriggerKeydown}},[n("template",{slot:"icon"},[yt]),this.menuName]),n("div",{class:{open:this.opened},attrs:{tabindex:"-1",...this.config.popoverContainerA11yAttrs},on:{keydown:this.onKeydown,mousemove:this.onMouseFocusAction},ref:"menu"},[n("ul",{attrs:{tabindex:"-1",...this.config.popoverUlA11yAttrs},ref:"menuList"},[Qe])])])};return h.length===1&&R.length===1&&!this.forceMenu?Fe(h[0]):(this.$nextTick(()=>{this.opened&&this.$refs.menu&&(this.resizePopover(),(this.$refs.menu.querySelector("li.active")||[]).length===0&&this.focusFirstAction())}),pe.length>0&&this.inline>0?n("div",{class:["action-items",`action-item--${this.triggerBtnType}`]},[...pe.map(Fe),Ce.length>0?n("div",{class:["action-item",{"action-item--open":this.opened}]},[Je(Ce)]):null]):n("div",{class:["action-item action-item--default-popover",`action-item--${this.triggerBtnType}`,{"action-item--open":this.opened}]},[Je(h)]))}},P4=null,T4=null;var M4=oi(I4,P4,T4,!1,null,"fcbbc5a9");const cg=M4.exports,A4={beforeUpdate(){this.text=this.getText()},data(){return{text:this.getText()}},computed:{isLongText(){return this.text&&this.text.trim().length>20}},methods:{getText(){return this.$slots.default?this.$slots.default[0].text.trim():""}}},D4=function(n,h){let R=n.$parent;for(;R;){if(R.$options.name===h)return R;R=R.$parent}},h0={mixins:[A4],props:{icon:{type:String,default:""},name:{type:String,default:""},title:{type:String,default:""},closeAfterClick:{type:Boolean,default:!1},ariaLabel:{type:String,default:null},ariaHidden:{type:Boolean,default:null}},emits:["click"],computed:{isIconUrl(){try{return!!new URL(this.icon,this.icon.startsWith("/")?window.location.origin:void 0)}catch{return!1}}},methods:{onClick(n){if(this.$emit("click",n),this.closeAfterClick){const h=D4(this,"NcActions");h&&h.closeMenu&&h.closeMenu(!1)}}}},L4={name:"NcActionLink",mixins:[h0],inject:{isInSemanticMenu:{from:"NcActions:isSemanticMenu",default:!1}},props:{href:{type:String,default:"#",required:!0,validator:n=>{try{return new URL(n)}catch{return n.startsWith("#")||n.startsWith("/")}}},download:{type:String,default:null},target:{type:String,default:"_self",validator:n=>n&&(!n.startsWith("_")||["_blank","_self","_parent","_top"].indexOf(n)>-1)},title:{type:String,default:null},ariaHidden:{type:Boolean,default:null}}};var R4=function(){var n=this,h=n._self._c;return h("li",{staticClass:"action",attrs:{role:n.isInSemanticMenu&&"presentation"}},[h("a",{staticClass:"action-link focusable",attrs:{download:n.download,href:n.href,"aria-label":n.ariaLabel,target:n.target,title:n.title,rel:"nofollow noreferrer noopener",role:n.isInSemanticMenu&&"menuitem"},on:{click:n.onClick}},[n._t("icon",function(){return[h("span",{staticClass:"action-link__icon",class:[n.isIconUrl?"action-link__icon--url":n.icon],style:{backgroundImage:n.isIconUrl?`url(${n.icon})`:null},attrs:{"aria-hidden":"true"}})]}),n.name?h("span",{staticClass:"action-link__longtext-wrapper"},[h("strong",{staticClass:"action-link__name"},[n._v(" "+n._s(n.name)+" ")]),h("br"),h("span",{staticClass:"action-link__longtext",domProps:{textContent:n._s(n.text)}})]):n.isLongText?h("span",{staticClass:"action-link__longtext",domProps:{textContent:n._s(n.text)}}):h("span",{staticClass:"action-link__text"},[n._v(n._s(n.text))]),n._e()],2)])},N4=[],Z4=oi(L4,R4,N4,!1,null,"30c015f0");const z4=Z4.exports,B4={name:"NcActionRouter",mixins:[h0],inject:{isInSemanticMenu:{from:"NcActions:isSemanticMenu",default:!1}},props:{to:{type:[String,Object],default:"",required:!0},exact:{type:Boolean,default:!1}}};var F4=function(){var n=this,h=n._self._c;return h("li",{staticClass:"action",attrs:{role:n.isInSemanticMenu&&"presentation"}},[h("RouterLink",{staticClass:"action-router focusable",attrs:{to:n.to,"aria-label":n.ariaLabel,exact:n.exact,title:n.title,rel:"nofollow noreferrer noopener",role:n.isInSemanticMenu&&"menuitem"},nativeOn:{click:function(R){return n.onClick.apply(null,arguments)}}},[n._t("icon",function(){return[h("span",{staticClass:"action-router__icon",class:[n.isIconUrl?"action-router__icon--url":n.icon],style:{backgroundImage:n.isIconUrl?`url(${n.icon})`:null},attrs:{"aria-hidden":"true"}})]}),n.name?h("span",{staticClass:"action-router__longtext-wrapper"},[h("strong",{staticClass:"action-router__name"},[n._v(" "+n._s(n.name)+" ")]),h("br"),h("span",{staticClass:"action-router__longtext",domProps:{textContent:n._s(n.text)}})]):n.isLongText?h("span",{staticClass:"action-router__longtext",domProps:{textContent:n._s(n.text)}}):h("span",{staticClass:"action-router__text"},[n._v(n._s(n.text))]),n._e()],2)],1)},H4=[],W4=oi(B4,F4,H4,!1,null,"579c6b4d");const U4=W4.exports,V4={name:"NcActionText",mixins:[h0],inject:{isInSemanticMenu:{from:"NcActions:isSemanticMenu",default:!1}}};var K4=function(){var n=this,h=n._self._c;return h("li",{staticClass:"action",attrs:{role:n.isInSemanticMenu&&"presentation"}},[h("span",{staticClass:"action-text",on:{click:n.onClick}},[n._t("icon",function(){return[n.icon!==""?h("span",{staticClass:"action-text__icon",class:[n.isIconUrl?"action-text__icon--url":n.icon],style:{backgroundImage:n.isIconUrl?`url(${n.icon})`:null},attrs:{"aria-hidden":"true"}}):n._e()]}),n.name?h("span",{staticClass:"action-text__longtext-wrapper"},[h("strong",{staticClass:"action-text__name"},[n._v(" "+n._s(n.name)+" ")]),h("br"),h("span",{staticClass:"action-text__longtext",domProps:{textContent:n._s(n.text)}})]):n.isLongText?h("span",{staticClass:"action-text__longtext",domProps:{textContent:n._s(n.text)}}):h("span",{staticClass:"action-text__text"},[n._v(n._s(n.text))]),n._e()],2)])},Y4=[],X4=oi(V4,K4,Y4,!1,null,"824615f4");const $4=X4.exports,G4={name:"ChevronRightIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var q4=function(){var n=this,h=n._self._c;return h("span",n._b({staticClass:"material-design-icon chevron-right-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(R){return n.$emit("click",R)}}},"span",n.$attrs,!1),[h("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[h("path",{attrs:{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}},[n.title?h("title",[n._v(n._s(n.title))]):n._e()])])])},J4=[],Q4=oi(G4,q4,J4,!1,null,null);const ug=Q4.exports,e8={name:"ChevronLeftIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var t8=function(){var n=this,h=n._self._c;return h("span",n._b({staticClass:"material-design-icon chevron-left-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(R){return n.$emit("click",R)}}},"span",n.$attrs,!1),[h("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[h("path",{attrs:{d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}},[n.title?h("title",[n._v(n._s(n.title))]):n._e()])])])},n8=[],r8=oi(e8,t8,n8,!1,null,null);const dg=r8.exports,o8={name:"NcActionButton",components:{CheckIcon:qx,ChevronRightIcon:ug,ChevronLeftIcon:dg},setup(){return{isRTL:Jx()}},mixins:[h0],inject:{isInSemanticMenu:{from:"NcActions:isSemanticMenu",default:!1}},props:{ariaHidden:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},isMenu:{type:Boolean,default:!1},type:{type:String,default:"button",validator:n=>["button","checkbox","radio","reset","submit"].includes(n)},modelValue:{type:[Boolean,String],default:null},value:{type:String,default:null}},computed:{isFocusable(){return!this.disabled},isChecked(){return this.type==="radio"&&typeof this.modelValue!="boolean"?this.modelValue===this.value:this.modelValue},nativeType(){return this.type==="submit"||this.type==="reset"?this.type:"button"},buttonAttributes(){const n={};return this.isInSemanticMenu?(n.role="menuitem",this.type==="radio"?(n.role="menuitemradio",n["aria-checked"]=this.isChecked?"true":"false"):(this.type==="checkbox"||this.nativeType==="button"&&this.modelValue!==null)&&(n.role="menuitemcheckbox",n["aria-checked"]=this.modelValue===null?"mixed":this.modelValue?"true":"false")):this.modelValue!==null&&this.nativeType==="button"&&(n["aria-pressed"]=this.modelValue?"true":"false"),n}},methods:{handleClick(n){this.onClick(n),(this.modelValue!==null||this.type!=="button")&&(this.type==="radio"?typeof this.modelValue!="boolean"?this.isChecked||this.$emit("update:modelValue",this.value):this.$emit("update:modelValue",!this.isChecked):this.$emit("update:modelValue",!this.isChecked))}}};var i8=function(){var n=this,h=n._self._c;return h("li",{staticClass:"action",class:{"action--disabled":n.disabled},attrs:{role:n.isInSemanticMenu&&"presentation"}},[h("button",n._b({class:["action-button button-vue",{"action-button--active":n.isChecked,focusable:n.isFocusable}],attrs:{"aria-label":n.ariaLabel,disabled:n.disabled,title:n.title,type:n.nativeType},on:{click:n.handleClick}},"button",n.buttonAttributes,!1),[n._t("icon",function(){return[h("span",{staticClass:"action-button__icon",class:[n.isIconUrl?"action-button__icon--url":n.icon],style:{backgroundImage:n.isIconUrl?`url(${n.icon})`:null},attrs:{"aria-hidden":"true"}})]}),n.name?h("span",{staticClass:"action-button__longtext-wrapper"},[h("strong",{staticClass:"action-button__name"},[n._v(" "+n._s(n.name)+" ")]),h("br"),h("span",{staticClass:"action-button__longtext",domProps:{textContent:n._s(n.text)}})]):n.isLongText?h("span",{staticClass:"action-button__longtext",domProps:{textContent:n._s(n.text)}}):h("span",{staticClass:"action-button__text"},[n._v(n._s(n.text))]),n.isMenu&&!n.isRTL?h("ChevronRightIcon",{staticClass:"action-button__menu-icon",attrs:{size:20}}):n.isMenu&&n.isRTL?h("ChevronLeftIcon",{staticClass:"action-button__menu-icon",attrs:{size:20}}):n.isChecked===!0?h("CheckIcon",{staticClass:"action-button__pressed-icon",attrs:{size:20}}):n.isChecked===!1?h("span",{staticClass:"action-button__pressed-icon material-design-icon"}):n._e(),n._e()],2)])},a8=[],l8=oi(o8,i8,a8,!1,null,"903e8d3b");const s8=l8.exports,c8={name:"NcIconSvgWrapper",props:{inline:{type:Boolean,default:!1},svg:{type:String,default:""},name:{type:String,default:""},path:{type:String,default:""},size:{type:[Number,String],default:20,validator:n=>typeof n=="number"||n==="auto"}},computed:{iconSize(){return typeof this.size=="number"?`${this.size}px`:this.size},cleanSvg(){if(!this.svg||this.path)return;const n=Qx.sanitize(this.svg),h=new DOMParser().parseFromString(n,"image/svg+xml");return h.querySelector("parsererror")?(Al.util.warn("SVG is not valid"),""):(h.documentElement.id&&h.documentElement.removeAttribute("id"),h.documentElement.outerHTML)},attributes(){return{class:["icon-vue",{"icon-vue--inline":this.inline}],style:{"--icon-size":this.iconSize},role:"img","aria-hidden":this.name?void 0:!0,"aria-label":this.name||void 0}}}};var u8=function(){var n=this,h=n._self._c;return n.cleanSvg?h("span",n._b({domProps:{innerHTML:n._s(n.cleanSvg)}},"span",n.attributes,!1)):h("span",n._b({},"span",n.attributes,!1),[h("svg",{attrs:{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[h("path",{attrs:{d:n.path}})])])},d8=[],f8=oi(c8,u8,d8,!1,null,"2d0a4d76");const fg=f8.exports;function pg(){try{return su("core","capabilities")}catch{return console.debug("Could not find capabilities initial state fall back to _oc_capabilities"),"_oc_capabilities"in window?window._oc_capabilities:{}}}const p8=`<!--
  - SPDX-FileCopyrightText: 2020 Google Inc.
  - SPDX-License-Identifier: Apache-2.0
-->
<svg viewBox="0 0 16 16" width="16" height="16" xmlns="http://www.w3.org/2000/svg">
	<path fill="var(--color-success)" d="M4.8 11.2h6.4V4.8H4.8v6.4zM8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z" />
</svg>
`,k1=`<!--
  - SPDX-FileCopyrightText: 2020 Google Inc.
  - SPDX-License-Identifier: Apache-2.0
-->
<svg viewBox="0 0 16 16" width="16" height="16" xmlns="http://www.w3.org/2000/svg">
	<path fill="none" d="M-4-4h24v24H-4z" />
	<path fill="var(--color-warning)" d="M6.9.1C3 .6-.1 4-.1 8c0 4.4 3.6 8 8 8 4 0 7.4-3 8-6.9-1.2 1.3-2.9 2.1-4.7 2.1-3.5 0-6.4-2.9-6.4-6.4 0-1.9.8-3.6 2.1-4.7z" />
</svg>
`,h8=`<!--
  - SPDX-FileCopyrightText: 2020 Google Inc.
  - SPDX-License-Identifier: Apache-2.0
-->
<svg viewBox="0 0 16 16" width="16" height="16" xmlns="http://www.w3.org/2000/svg">
	<path fill="none" d="M-4-4h24v24H-4V-4z" />
	<path fill="var(--color-error)" d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z" />
	<path fill="#fdffff" d="M5 6.5h6c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5H5c-.8 0-1.5-.7-1.5-1.5S4.2 6.5 5 6.5z" />
</svg>
`,E1=`<!--
  - SPDX-FileCopyrightText: 2020 Google Inc.
  - SPDX-License-Identifier: Apache-2.0
-->
<svg viewBox="0 0 16 16" width="16" height="16" xmlns="http://www.w3.org/2000/svg">
	<path fill="none" d="M-4-4h24v24H-4V-4z" />
	<path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 3.2c2.7 0 4.8 2.1 4.8 4.8s-2.1 4.8-4.8 4.8S3.2 10.7 3.2 8 5.3 3.2 8 3.2z" />
</svg>
`;tl(ew);const hg=n=>{switch(n){case"away":return Eo("away");case"busy":return Eo("busy");case"dnd":return Eo("do not disturb");case"online":return Eo("online");case"invisible":return Eo("invisible");case"offline":return Eo("offline");default:return n}};tl(tw);const m8={name:"NcUserStatusIcon",props:{user:{type:String,default:null},status:{type:String,default:null,validator:n=>["online","away","busy","dnd","invisible","offline"].includes(n)},ariaHidden:{type:String,default:null,validator:n=>["true","false"].includes(n)}},data(){return{fetchedUserStatus:null}},computed:{activeStatus(){return this.status??this.fetchedUserStatus},activeSvg(){return{online:p8,away:k1,busy:k1,dnd:h8,invisible:E1,offline:E1}[this.activeStatus]??null},ariaLabel(){return this.ariaHidden==="true"?null:Eo("User status: {status}",{status:hg(this.activeStatus)})}},watch:{user:{immediate:!0,async handler(n,h){if(!n||!pg()?.user_status?.enabled){this.fetchedUserStatus=null;return}try{const{data:R}=await Tl.get(is("/apps/user_status/api/v1/statuses/{user}",{user:n}));this.fetchedUserStatus=R.ocs?.data?.status}catch{this.fetchedUserStatus=null}}}}};var g8=function(){var n=this,h=n._self._c;return n.activeStatus?h("span",{staticClass:"user-status-icon",class:{"user-status-icon--invisible":["invisible","offline"].includes(n.status)},attrs:{role:"img","aria-hidden":n.ariaHidden,"aria-label":n.ariaLabel},domProps:{innerHTML:n._s(n.activeSvg)}}):n._e()},v8=[],b8=oi(m8,g8,v8,!1,null,"0555d8d0");const y8=b8.exports;tl(nw);class Oa{constructor(h,R,pe,Ce){this.r=h,this.g=R,this.b=pe,Ce&&(this.name=Ce)}get color(){const h=R=>`00${R.toString(16)}`.slice(-2);return`#${h(this.r)}${h(this.g)}${h(this.b)}`}}function x8(n,h){const R=new Array(3);return R[0]=(h[1].r-h[0].r)/n,R[1]=(h[1].g-h[0].g)/n,R[2]=(h[1].b-h[0].b)/n,R}function Q0(n,h,R){const pe=[];pe.push(h);const Ce=x8(n,[h,R]);for(let Fe=1;Fe<n;Fe++){const Je=Math.floor(h.r+Ce[0]*Fe),Qe=Math.floor(h.g+Ce[1]*Fe),yt=Math.floor(h.b+Ce[2]*Fe);pe.push(new Oa(Je,Qe,yt))}return pe}new Oa(182,70,157,Eo("Purple")),new Oa(191,103,139,Eo("Rosy brown")),new Oa(201,136,121,Eo("Feldspar")),new Oa(211,169,103,Eo("Whiskey")),new Oa(221,203,85,Eo("Gold")),new Oa(165,184,114,Eo("Olivine")),new Oa(110,166,143,Eo("Acapulco")),new Oa(55,148,172,Eo("Boston Blue")),new Oa(0,130,201,Eo("Nextcloud blue")),new Oa(45,115,190,Eo("Mariner")),new Oa(91,100,179,Eo("Blue Violet")),new Oa(136,85,168,Eo("Deluge"));function w8(n){const h=new Oa(182,70,157,Eo("Purple")),R=new Oa(221,203,85,Eo("Gold")),pe=new Oa(0,130,201,Eo("Nextcloud blue")),Ce=Q0(n,h,R),Fe=Q0(n,R,pe),Je=Q0(n,pe,h);return Ce.concat(Fe).concat(Je)}var mg={exports:{}},gg={exports:{}};(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h={rotl:function(R,pe){return R<<pe|R>>>32-pe},rotr:function(R,pe){return R<<32-pe|R>>>pe},endian:function(R){if(R.constructor==Number)return h.rotl(R,8)&16711935|h.rotl(R,24)&4278255360;for(var pe=0;pe<R.length;pe++)R[pe]=h.endian(R[pe]);return R},randomBytes:function(R){for(var pe=[];R>0;R--)pe.push(Math.floor(Math.random()*256));return pe},bytesToWords:function(R){for(var pe=[],Ce=0,Fe=0;Ce<R.length;Ce++,Fe+=8)pe[Fe>>>5]|=R[Ce]<<24-Fe%32;return pe},wordsToBytes:function(R){for(var pe=[],Ce=0;Ce<R.length*32;Ce+=8)pe.push(R[Ce>>>5]>>>24-Ce%32&255);return pe},bytesToHex:function(R){for(var pe=[],Ce=0;Ce<R.length;Ce++)pe.push((R[Ce]>>>4).toString(16)),pe.push((R[Ce]&15).toString(16));return pe.join("")},hexToBytes:function(R){for(var pe=[],Ce=0;Ce<R.length;Ce+=2)pe.push(parseInt(R.substr(Ce,2),16));return pe},bytesToBase64:function(R){for(var pe=[],Ce=0;Ce<R.length;Ce+=3)for(var Fe=R[Ce]<<16|R[Ce+1]<<8|R[Ce+2],Je=0;Je<4;Je++)Ce*8+Je*6<=R.length*8?pe.push(n.charAt(Fe>>>6*(3-Je)&63)):pe.push("=");return pe.join("")},base64ToBytes:function(R){R=R.replace(/[^A-Z0-9+\/]/ig,"");for(var pe=[],Ce=0,Fe=0;Ce<R.length;Fe=++Ce%4)Fe!=0&&pe.push((n.indexOf(R.charAt(Ce-1))&Math.pow(2,-2*Fe+8)-1)<<Fe*2|n.indexOf(R.charAt(Ce))>>>6-Fe*2);return pe}};gg.exports=h})();var k8=gg.exports,kf={utf8:{stringToBytes:function(n){return kf.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(kf.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var h=[],R=0;R<n.length;R++)h.push(n.charCodeAt(R)&255);return h},bytesToString:function(n){for(var h=[],R=0;R<n.length;R++)h.push(String.fromCharCode(n[R]));return h.join("")}}},S1=kf,E8=function(n){return n!=null&&(vg(n)||S8(n)||!!n._isBuffer)};function vg(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function S8(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&vg(n.slice(0,0))}(function(){var n=k8,h=S1.utf8,R=E8,pe=S1.bin,Ce=function(Fe,Je){Fe.constructor==String?Je&&Je.encoding==="binary"?Fe=pe.stringToBytes(Fe):Fe=h.stringToBytes(Fe):R(Fe)?Fe=Array.prototype.slice.call(Fe,0):!Array.isArray(Fe)&&Fe.constructor!==Uint8Array&&(Fe=Fe.toString());for(var Qe=n.bytesToWords(Fe),yt=Fe.length*8,wt=1732584193,gt=-271733879,pt=-1732584194,Ze=271733878,te=0;te<Qe.length;te++)Qe[te]=(Qe[te]<<8|Qe[te]>>>24)&16711935|(Qe[te]<<24|Qe[te]>>>8)&4278255360;Qe[yt>>>5]|=128<<yt%32,Qe[(yt+64>>>9<<4)+14]=yt;for(var t=Ce._ff,e=Ce._gg,_=Ce._hh,g=Ce._ii,te=0;te<Qe.length;te+=16){var p=wt,y=gt,T=pt,E=Ze;wt=t(wt,gt,pt,Ze,Qe[te+0],7,-680876936),Ze=t(Ze,wt,gt,pt,Qe[te+1],12,-389564586),pt=t(pt,Ze,wt,gt,Qe[te+2],17,606105819),gt=t(gt,pt,Ze,wt,Qe[te+3],22,-1044525330),wt=t(wt,gt,pt,Ze,Qe[te+4],7,-176418897),Ze=t(Ze,wt,gt,pt,Qe[te+5],12,1200080426),pt=t(pt,Ze,wt,gt,Qe[te+6],17,-1473231341),gt=t(gt,pt,Ze,wt,Qe[te+7],22,-45705983),wt=t(wt,gt,pt,Ze,Qe[te+8],7,1770035416),Ze=t(Ze,wt,gt,pt,Qe[te+9],12,-1958414417),pt=t(pt,Ze,wt,gt,Qe[te+10],17,-42063),gt=t(gt,pt,Ze,wt,Qe[te+11],22,-1990404162),wt=t(wt,gt,pt,Ze,Qe[te+12],7,1804603682),Ze=t(Ze,wt,gt,pt,Qe[te+13],12,-40341101),pt=t(pt,Ze,wt,gt,Qe[te+14],17,-1502002290),gt=t(gt,pt,Ze,wt,Qe[te+15],22,1236535329),wt=e(wt,gt,pt,Ze,Qe[te+1],5,-165796510),Ze=e(Ze,wt,gt,pt,Qe[te+6],9,-1069501632),pt=e(pt,Ze,wt,gt,Qe[te+11],14,643717713),gt=e(gt,pt,Ze,wt,Qe[te+0],20,-373897302),wt=e(wt,gt,pt,Ze,Qe[te+5],5,-701558691),Ze=e(Ze,wt,gt,pt,Qe[te+10],9,38016083),pt=e(pt,Ze,wt,gt,Qe[te+15],14,-660478335),gt=e(gt,pt,Ze,wt,Qe[te+4],20,-405537848),wt=e(wt,gt,pt,Ze,Qe[te+9],5,568446438),Ze=e(Ze,wt,gt,pt,Qe[te+14],9,-1019803690),pt=e(pt,Ze,wt,gt,Qe[te+3],14,-187363961),gt=e(gt,pt,Ze,wt,Qe[te+8],20,1163531501),wt=e(wt,gt,pt,Ze,Qe[te+13],5,-1444681467),Ze=e(Ze,wt,gt,pt,Qe[te+2],9,-51403784),pt=e(pt,Ze,wt,gt,Qe[te+7],14,1735328473),gt=e(gt,pt,Ze,wt,Qe[te+12],20,-1926607734),wt=_(wt,gt,pt,Ze,Qe[te+5],4,-378558),Ze=_(Ze,wt,gt,pt,Qe[te+8],11,-2022574463),pt=_(pt,Ze,wt,gt,Qe[te+11],16,1839030562),gt=_(gt,pt,Ze,wt,Qe[te+14],23,-35309556),wt=_(wt,gt,pt,Ze,Qe[te+1],4,-1530992060),Ze=_(Ze,wt,gt,pt,Qe[te+4],11,1272893353),pt=_(pt,Ze,wt,gt,Qe[te+7],16,-155497632),gt=_(gt,pt,Ze,wt,Qe[te+10],23,-1094730640),wt=_(wt,gt,pt,Ze,Qe[te+13],4,681279174),Ze=_(Ze,wt,gt,pt,Qe[te+0],11,-358537222),pt=_(pt,Ze,wt,gt,Qe[te+3],16,-722521979),gt=_(gt,pt,Ze,wt,Qe[te+6],23,76029189),wt=_(wt,gt,pt,Ze,Qe[te+9],4,-640364487),Ze=_(Ze,wt,gt,pt,Qe[te+12],11,-421815835),pt=_(pt,Ze,wt,gt,Qe[te+15],16,530742520),gt=_(gt,pt,Ze,wt,Qe[te+2],23,-995338651),wt=g(wt,gt,pt,Ze,Qe[te+0],6,-198630844),Ze=g(Ze,wt,gt,pt,Qe[te+7],10,1126891415),pt=g(pt,Ze,wt,gt,Qe[te+14],15,-1416354905),gt=g(gt,pt,Ze,wt,Qe[te+5],21,-57434055),wt=g(wt,gt,pt,Ze,Qe[te+12],6,1700485571),Ze=g(Ze,wt,gt,pt,Qe[te+3],10,-1894986606),pt=g(pt,Ze,wt,gt,Qe[te+10],15,-1051523),gt=g(gt,pt,Ze,wt,Qe[te+1],21,-2054922799),wt=g(wt,gt,pt,Ze,Qe[te+8],6,1873313359),Ze=g(Ze,wt,gt,pt,Qe[te+15],10,-30611744),pt=g(pt,Ze,wt,gt,Qe[te+6],15,-1560198380),gt=g(gt,pt,Ze,wt,Qe[te+13],21,1309151649),wt=g(wt,gt,pt,Ze,Qe[te+4],6,-145523070),Ze=g(Ze,wt,gt,pt,Qe[te+11],10,-1120210379),pt=g(pt,Ze,wt,gt,Qe[te+2],15,718787259),gt=g(gt,pt,Ze,wt,Qe[te+9],21,-343485551),wt=wt+p>>>0,gt=gt+y>>>0,pt=pt+T>>>0,Ze=Ze+E>>>0}return n.endian([wt,gt,pt,Ze])};Ce._ff=function(Fe,Je,Qe,yt,wt,gt,pt){var Ze=Fe+(Je&Qe|~Je&yt)+(wt>>>0)+pt;return(Ze<<gt|Ze>>>32-gt)+Je},Ce._gg=function(Fe,Je,Qe,yt,wt,gt,pt){var Ze=Fe+(Je&yt|Qe&~yt)+(wt>>>0)+pt;return(Ze<<gt|Ze>>>32-gt)+Je},Ce._hh=function(Fe,Je,Qe,yt,wt,gt,pt){var Ze=Fe+(Je^Qe^yt)+(wt>>>0)+pt;return(Ze<<gt|Ze>>>32-gt)+Je},Ce._ii=function(Fe,Je,Qe,yt,wt,gt,pt){var Ze=Fe+(Qe^(Je|~yt))+(wt>>>0)+pt;return(Ze<<gt|Ze>>>32-gt)+Je},Ce._blocksize=16,Ce._digestsize=16,mg.exports=function(Fe,Je){if(Fe==null)throw new Error("Illegal argument "+Fe);var Qe=n.wordsToBytes(Ce(Fe,Je));return Je&&Je.asBytes?Qe:Je&&Je.asString?pe.bytesToString(Qe):n.bytesToHex(Qe)}})();var _8=mg.exports;const O8=Kx(_8),_1=function(n){let h=n.toLowerCase();h.match(/^([0-9a-f]{4}-?){8}$/)===null&&(h=O8(h)),h=h.replace(/[^0-9a-f]/g,"");const R=6,pe=w8(R);function Ce(Fe,Je){let Qe=0;const yt=[];for(let wt=0;wt<Fe.length;wt++)yt.push(parseInt(Fe.charAt(wt),16)%16);for(const wt in yt)Qe+=yt[wt];return parseInt(parseInt(Qe,10)%Je,10)}return pe[Ce(h,R*3)]},C8=(n,h,R)=>{const pe=window.getComputedStyle(document.body).getPropertyValue("--background-invert-if-dark")==="invert(100%)";return Bf("/avatar"+(R?"/guest":"")+"/{user}/{size}"+(pe?"/dark":""),{user:n,size:h})};var Ji=(n=>(n[n.Debug=0]="Debug",n[n.Info=1]="Info",n[n.Warn=2]="Warn",n[n.Error=3]="Error",n[n.Fatal=4]="Fatal",n))(Ji||{}),j8=Object.defineProperty,I8=(n,h,R)=>h in n?j8(n,h,{enumerable:!0,configurable:!0,writable:!0,value:R}):n[h]=R,P8=(n,h,R)=>(I8(n,h+"",R),R);class T8{constructor(h){P8(this,"context"),this.context=h||{}}formatMessage(h,R,pe){let Ce="["+Ji[R].toUpperCase()+"] ";return pe&&pe.app&&(Ce+=pe.app+": "),typeof h=="string"?Ce+h:(Ce+="Unexpected ".concat(h.name),h.message&&(Ce+=' "'.concat(h.message,'"')),R===Ji.Debug&&h.stack&&(Ce+=`

Stack trace:
`.concat(h.stack)),Ce)}log(h,R,pe){var Ce,Fe;if(!(typeof((Ce=this.context)==null?void 0:Ce.level)=="number"&&h<((Fe=this.context)==null?void 0:Fe.level)))switch(typeof R=="object"&&pe?.error===void 0&&(pe.error=R),h){case Ji.Debug:console.debug(this.formatMessage(R,Ji.Debug,pe),pe);break;case Ji.Info:console.info(this.formatMessage(R,Ji.Info,pe),pe);break;case Ji.Warn:console.warn(this.formatMessage(R,Ji.Warn,pe),pe);break;case Ji.Error:console.error(this.formatMessage(R,Ji.Error,pe),pe);break;case Ji.Fatal:default:console.error(this.formatMessage(R,Ji.Fatal,pe),pe);break}}debug(h,R){this.log(Ji.Debug,h,Object.assign({},this.context,R))}info(h,R){this.log(Ji.Info,h,Object.assign({},this.context,R))}warn(h,R){this.log(Ji.Warn,h,Object.assign({},this.context,R))}error(h,R){this.log(Ji.Error,h,Object.assign({},this.context,R))}fatal(h,R){this.log(Ji.Fatal,h,Object.assign({},this.context,R))}}function M8(n){return new T8(n)}var A8=Object.defineProperty,D8=(n,h,R)=>h in n?A8(n,h,{enumerable:!0,configurable:!0,writable:!0,value:R}):n[h]=R,O1=(n,h,R)=>(D8(n,typeof h!="symbol"?h+"":h,R),R);class L8{constructor(h){O1(this,"context"),O1(this,"factory"),this.context={},this.factory=h}setApp(h){return this.context.app=h,this}setLogLevel(h){return this.context.level=h,this}setUid(h){return this.context.uid=h,this}detectUser(){const h=lu();return h!==null&&(this.context.uid=h.uid),this}detectLogLevel(){const h=this,R=()=>{var pe,Ce;document.readyState==="complete"||document.readyState==="interactive"?(h.context.level=(Ce=(pe=window._oc_config)==null?void 0:pe.loglevel)!=null?Ce:Ji.Warn,window._oc_debug&&(h.context.level=Ji.Debug),document.removeEventListener("readystatechange",R)):document.addEventListener("readystatechange",R)};return R(),this}build(){return this.context.level===void 0&&this.detectLogLevel(),this.factory(this.context)}}function R8(){return new L8(M8)}const N8=R8().detectUser().setApp("@nextcloud/vue").build();function Z8(n){return window._nc_contacts_menu_hooks?Object.values(window._nc_contacts_menu_hooks).filter(h=>h.enabled(n)):[]}const C1=/(\s|^)(https?:\/\/)([-A-Z0-9+_.]+(?::[0-9]+)?(?:\/[-A-Z0-9+&@#%?=~_|!:,.;()]*)*)(\s|$)/ig,bg=(n,h)=>{const R=(gt,pt)=>gt.startsWith(pt)?gt.slice(pt.length):gt,pe=(gt,...pt)=>pt.reduce((Ze,te)=>R(Ze,te),gt);if(!n)return null;const Ce=/^https?:\/\//.test(h),Fe=/^[a-z][a-z0-9+.-]*:.+/.test(h);if(!Ce&&Fe||Ce&&!h.startsWith(Eh())||!Ce&&!h.startsWith("/"))return null;const Je=Ce?pe(h,Eh(),"/index.php"):h,Qe=pe(n.history.base,bw(),"/index.php"),yt=pe(Je,Qe)||"/",wt=n.resolve(yt).route;return wt.matched.length?wt.fullPath:null},yg=()=>window.outerHeight===screen.height,j1=pi(yg());window.addEventListener("resize",()=>{j1.value=yg()}),Nf(j1);const Jf=1024,xg=Jf/2,yd=n=>document.documentElement.clientWidth<n,I1=pi(yd(Jf)),z8=pi(yd(xg));window.addEventListener("resize",()=>{I1.value=yd(Jf),z8.value=yd(xg)},{passive:!0}),Nf(I1);const B8="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",F8="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Rc=(n,h)=>{for(const R in h)n[R]=h[R];return n},Ef="numeric",Sf="ascii",_f="alpha",Xu="asciinumeric",Fu="alphanumeric",Of="domain",wg="emoji",H8="scheme",W8="slashscheme",P1="whitespace";function U8(n,h){return n in h||(h[n]=[]),h[n]}function uc(n,h,R){h[Ef]&&(h[Xu]=!0,h[Fu]=!0),h[Sf]&&(h[Xu]=!0,h[_f]=!0),h[Xu]&&(h[Fu]=!0),h[_f]&&(h[Fu]=!0),h[Fu]&&(h[Of]=!0),h[wg]&&(h[Of]=!0);for(const pe in h){const Ce=U8(pe,R);Ce.indexOf(n)<0&&Ce.push(n)}}function V8(n,h){const R={};for(const pe in h)h[pe].indexOf(n)>=0&&(R[pe]=!0);return R}function ml(n){n===void 0&&(n=null),this.j={},this.jr=[],this.jd=null,this.t=n}ml.groups={},ml.prototype={accepts(){return!!this.t},go(n){const h=this,R=h.j[n];if(R)return R;for(let pe=0;pe<h.jr.length;pe++){const Ce=h.jr[pe][0],Fe=h.jr[pe][1];if(Fe&&Ce.test(n))return Fe}return h.jd},has(n,h){return h===void 0&&(h=!1),h?n in this.j:!!this.go(n)},ta(n,h,R,pe){for(let Ce=0;Ce<n.length;Ce++)this.tt(n[Ce],h,R,pe)},tr(n,h,R,pe){pe=pe||ml.groups;let Ce;return h&&h.j?Ce=h:(Ce=new ml(h),R&&pe&&uc(h,R,pe)),this.jr.push([n,Ce]),Ce},ts(n,h,R,pe){let Ce=this;const Fe=n.length;if(!Fe)return Ce;for(let Je=0;Je<Fe-1;Je++)Ce=Ce.tt(n[Je]);return Ce.tt(n[Fe-1],h,R,pe)},tt(n,h,R,pe){pe=pe||ml.groups;const Ce=this;if(h&&h.j)return Ce.j[n]=h,h;const Fe=h;let Je,Qe=Ce.go(n);if(Qe?(Je=new ml,Rc(Je.j,Qe.j),Je.jr.push.apply(Je.jr,Qe.jr),Je.jd=Qe.jd,Je.t=Qe.t):Je=new ml,Fe){if(pe)if(Je.t&&typeof Je.t=="string"){const yt=Rc(V8(Je.t,pe),R);uc(Fe,yt,pe)}else R&&uc(Fe,R,pe);Je.t=Fe}return Ce.j[n]=Je,Je}};const Fo=(n,h,R,pe,Ce)=>n.ta(h,R,pe,Ce),Il=(n,h,R,pe,Ce)=>n.tr(h,R,pe,Ce),T1=(n,h,R,pe,Ce)=>n.ts(h,R,pe,Ce),Zr=(n,h,R,pe,Ce)=>n.tt(h,R,pe,Ce),Ss="WORD",Cf="UWORD",du="LOCALHOST",jf="TLD",If="UTLD",$u="SCHEME",Oc="SLASH_SCHEME",Qf="NUM",kg="WS",ep="NL",nu="OPENBRACE",ru="CLOSEBRACE",xd="OPENBRACKET",wd="CLOSEBRACKET",kd="OPENPAREN",Ed="CLOSEPAREN",Sd="OPENANGLEBRACKET",_d="CLOSEANGLEBRACKET",Od="FULLWIDTHLEFTPAREN",Cd="FULLWIDTHRIGHTPAREN",jd="LEFTCORNERBRACKET",Id="RIGHTCORNERBRACKET",Pd="LEFTWHITECORNERBRACKET",Td="RIGHTWHITECORNERBRACKET",Md="FULLWIDTHLESSTHAN",Ad="FULLWIDTHGREATERTHAN",Dd="AMPERSAND",Ld="APOSTROPHE",Rd="ASTERISK",Hs="AT",Nd="BACKSLASH",Zd="BACKTICK",zd="CARET",Us="COLON",tp="COMMA",Bd="DOLLAR",ns="DOT",Fd="EQUALS",np="EXCLAMATION",rs="HYPHEN",Hd="PERCENT",Wd="PIPE",Ud="PLUS",Vd="POUND",Kd="QUERY",rp="QUOTE",op="SEMI",os="SLASH",ou="TILDE",Yd="UNDERSCORE",Eg="EMOJI",Xd="SYM";var Sg=Object.freeze({__proto__:null,WORD:Ss,UWORD:Cf,LOCALHOST:du,TLD:jf,UTLD:If,SCHEME:$u,SLASH_SCHEME:Oc,NUM:Qf,WS:kg,NL:ep,OPENBRACE:nu,CLOSEBRACE:ru,OPENBRACKET:xd,CLOSEBRACKET:wd,OPENPAREN:kd,CLOSEPAREN:Ed,OPENANGLEBRACKET:Sd,CLOSEANGLEBRACKET:_d,FULLWIDTHLEFTPAREN:Od,FULLWIDTHRIGHTPAREN:Cd,LEFTCORNERBRACKET:jd,RIGHTCORNERBRACKET:Id,LEFTWHITECORNERBRACKET:Pd,RIGHTWHITECORNERBRACKET:Td,FULLWIDTHLESSTHAN:Md,FULLWIDTHGREATERTHAN:Ad,AMPERSAND:Dd,APOSTROPHE:Ld,ASTERISK:Rd,AT:Hs,BACKSLASH:Nd,BACKTICK:Zd,CARET:zd,COLON:Us,COMMA:tp,DOLLAR:Bd,DOT:ns,EQUALS:Fd,EXCLAMATION:np,HYPHEN:rs,PERCENT:Hd,PIPE:Wd,PLUS:Ud,POUND:Vd,QUERY:Kd,QUOTE:rp,SEMI:op,SLASH:os,TILDE:ou,UNDERSCORE:Yd,EMOJI:Eg,SYM:Xd});const Sc=/[a-z]/,ef=new RegExp("\\p{L}","u"),tf=new RegExp("\\p{Emoji}","u"),nf=/\d/,M1=/\s/,A1=`
`,K8="",Y8="";let Hu=null,Wu=null;function X8(n){n===void 0&&(n=[]);const h={};ml.groups=h;const R=new ml;Hu==null&&(Hu=D1(B8)),Wu==null&&(Wu=D1(F8)),Zr(R,"'",Ld),Zr(R,"{",nu),Zr(R,"}",ru),Zr(R,"[",xd),Zr(R,"]",wd),Zr(R,"(",kd),Zr(R,")",Ed),Zr(R,"<",Sd),Zr(R,">",_d),Zr(R,"",Od),Zr(R,"",Cd),Zr(R,"",jd),Zr(R,"",Id),Zr(R,"",Pd),Zr(R,"",Td),Zr(R,"",Md),Zr(R,"",Ad),Zr(R,"&",Dd),Zr(R,"*",Rd),Zr(R,"@",Hs),Zr(R,"`",Zd),Zr(R,"^",zd),Zr(R,":",Us),Zr(R,",",tp),Zr(R,"$",Bd),Zr(R,".",ns),Zr(R,"=",Fd),Zr(R,"!",np),Zr(R,"-",rs),Zr(R,"%",Hd),Zr(R,"|",Wd),Zr(R,"+",Ud),Zr(R,"#",Vd),Zr(R,"?",Kd),Zr(R,'"',rp),Zr(R,"/",os),Zr(R,";",op),Zr(R,"~",ou),Zr(R,"_",Yd),Zr(R,"\\",Nd);const pe=Il(R,nf,Qf,{[Ef]:!0});Il(pe,nf,pe);const Ce=Il(R,Sc,Ss,{[Sf]:!0});Il(Ce,Sc,Ce);const Fe=Il(R,ef,Cf,{[_f]:!0});Il(Fe,Sc),Il(Fe,ef,Fe);const Je=Il(R,M1,kg,{[P1]:!0});Zr(R,A1,ep,{[P1]:!0}),Zr(Je,A1),Il(Je,M1,Je);const Qe=Il(R,tf,Eg,{[wg]:!0});Il(Qe,tf,Qe),Zr(Qe,K8,Qe);const yt=Zr(Qe,Y8);Il(yt,tf,Qe);const wt=[[Sc,Ce]],gt=[[Sc,null],[ef,Fe]];for(let pt=0;pt<Hu.length;pt++)zs(R,Hu[pt],jf,Ss,wt);for(let pt=0;pt<Wu.length;pt++)zs(R,Wu[pt],If,Cf,gt);uc(jf,{tld:!0,ascii:!0},h),uc(If,{utld:!0,alpha:!0},h),zs(R,"file",$u,Ss,wt),zs(R,"mailto",$u,Ss,wt),zs(R,"http",Oc,Ss,wt),zs(R,"https",Oc,Ss,wt),zs(R,"ftp",Oc,Ss,wt),zs(R,"ftps",Oc,Ss,wt),uc($u,{scheme:!0,ascii:!0},h),uc(Oc,{slashscheme:!0,ascii:!0},h),n=n.sort((pt,Ze)=>pt[0]>Ze[0]?1:-1);for(let pt=0;pt<n.length;pt++){const Ze=n[pt][0],te=n[pt][1]?{[H8]:!0}:{[W8]:!0};Ze.indexOf("-")>=0?te[Of]=!0:Sc.test(Ze)?nf.test(Ze)?te[Xu]=!0:te[Sf]=!0:te[Ef]=!0,T1(R,Ze,Ze,te)}return T1(R,"localhost",du,{ascii:!0}),R.jd=new ml(Xd),{start:R,tokens:Rc({groups:h},Sg)}}function $8(n,h){const R=G8(h.replace(/[A-Z]/g,Qe=>Qe.toLowerCase())),pe=R.length,Ce=[];let Fe=0,Je=0;for(;Je<pe;){let Qe=n,yt=null,wt=0,gt=null,pt=-1,Ze=-1;for(;Je<pe&&(yt=Qe.go(R[Je]));)Qe=yt,Qe.accepts()?(pt=0,Ze=0,gt=Qe):pt>=0&&(pt+=R[Je].length,Ze++),wt+=R[Je].length,Fe+=R[Je].length,Je++;Fe-=pt,Je-=Ze,wt-=pt,Ce.push({t:gt.t,v:h.slice(Fe-wt,Fe),s:Fe-wt,e:Fe})}return Ce}function G8(n){const h=[],R=n.length;let pe=0;for(;pe<R;){let Ce=n.charCodeAt(pe),Fe,Je=Ce<55296||Ce>56319||pe+1===R||(Fe=n.charCodeAt(pe+1))<56320||Fe>57343?n[pe]:n.slice(pe,pe+2);h.push(Je),pe+=Je.length}return h}function zs(n,h,R,pe,Ce){let Fe;const Je=h.length;for(let Qe=0;Qe<Je-1;Qe++){const yt=h[Qe];n.j[yt]?Fe=n.j[yt]:(Fe=new ml(pe),Fe.jr=Ce.slice(),n.j[yt]=Fe),n=Fe}return Fe=new ml(R),Fe.jr=Ce.slice(),n.j[h[Je-1]]=Fe,Fe}function D1(n){const h=[],R=[];let pe=0,Ce="0123456789";for(;pe<n.length;){let Fe=0;for(;Ce.indexOf(n[pe+Fe])>=0;)Fe++;if(Fe>0){h.push(R.join(""));for(let Je=parseInt(n.substring(pe,pe+Fe),10);Je>0;Je--)R.pop();pe+=Fe}else R.push(n[pe]),pe++}return h}const fu={defaultProtocol:"http",events:null,format:L1,formatHref:L1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ip(n,h){h===void 0&&(h=null);let R=Rc({},fu);n&&(R=Rc(R,n instanceof ip?n.o:n));const pe=R.ignoreTags,Ce=[];for(let Fe=0;Fe<pe.length;Fe++)Ce.push(pe[Fe].toUpperCase());this.o=R,h&&(this.defaultRender=h),this.ignoreTags=Ce}ip.prototype={o:fu,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,h,R){const pe=h!=null;let Ce=this.o[n];return Ce&&(typeof Ce=="object"?(Ce=R.t in Ce?Ce[R.t]:fu[n],typeof Ce=="function"&&pe&&(Ce=Ce(h,R))):typeof Ce=="function"&&pe&&(Ce=Ce(h,R.t,R)),Ce)},getObj(n,h,R){let pe=this.o[n];return typeof pe=="function"&&h!=null&&(pe=pe(h,R.t,R)),pe},render(n){const h=n.render(this);return(this.get("render",null,n)||this.defaultRender)(h,n.t,n)}};function L1(n){return n}function _g(n,h){this.t="token",this.v=n,this.tk=h}_g.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const h=this.toString(),R=n.get("truncate",h,this),pe=n.get("format",h,this);return R&&pe.length>R?pe.substring(0,R)+"":pe},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n){return n===void 0&&(n=fu.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const h=this,R=this.toHref(n.get("defaultProtocol")),pe=n.get("formatHref",R,this),Ce=n.get("tagName",R,h),Fe=this.toFormattedString(n),Je={},Qe=n.get("className",R,h),yt=n.get("target",R,h),wt=n.get("rel",R,h),gt=n.getObj("attributes",R,h),pt=n.getObj("events",R,h);return Je.href=pe,Qe&&(Je.class=Qe),yt&&(Je.target=yt),wt&&(Je.rel=wt),gt&&Rc(Je,gt),{tagName:Ce,attributes:Je,content:Fe,eventListeners:pt}}};function m0(n,h){class R extends _g{constructor(Ce,Fe){super(Ce,Fe),this.t=n}}for(const pe in h)R.prototype[pe]=h[pe];return R.t=n,R}const R1=m0("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),N1=m0("text"),q8=m0("nl"),Uu=m0("url",{isLink:!0,toHref(n){return n===void 0&&(n=fu.defaultProtocol),this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==du&&n[1].t===Us}}),Pl=n=>new ml(n);function J8(n){let{groups:h}=n;const R=h.domain.concat([Dd,Rd,Hs,Nd,Zd,zd,Bd,Fd,rs,Qf,Hd,Wd,Ud,Vd,os,Xd,ou,Yd]),pe=[Ld,Us,tp,ns,np,Kd,rp,op,Sd,_d,nu,ru,wd,xd,kd,Ed,Od,Cd,jd,Id,Pd,Td,Md,Ad],Ce=[Dd,Ld,Rd,Nd,Zd,zd,Bd,Fd,rs,nu,ru,Hd,Wd,Ud,Vd,Kd,os,Xd,ou,Yd],Fe=Pl(),Je=Zr(Fe,ou);Fo(Je,Ce,Je),Fo(Je,h.domain,Je);const Qe=Pl(),yt=Pl(),wt=Pl();Fo(Fe,h.domain,Qe),Fo(Fe,h.scheme,yt),Fo(Fe,h.slashscheme,wt),Fo(Qe,Ce,Je),Fo(Qe,h.domain,Qe);const gt=Zr(Qe,Hs);Zr(Je,Hs,gt),Zr(yt,Hs,gt),Zr(wt,Hs,gt);const pt=Zr(Je,ns);Fo(pt,Ce,Je),Fo(pt,h.domain,Je);const Ze=Pl();Fo(gt,h.domain,Ze),Fo(Ze,h.domain,Ze);const te=Zr(Ze,ns);Fo(te,h.domain,Ze);const t=Pl(R1);Fo(te,h.tld,t),Fo(te,h.utld,t),Zr(gt,du,t);const e=Zr(Ze,rs);Fo(e,h.domain,Ze),Fo(t,h.domain,Ze),Zr(t,ns,te),Zr(t,rs,e);const _=Zr(t,Us);Fo(_,h.numeric,R1);const g=Zr(Qe,rs),p=Zr(Qe,ns);Fo(g,h.domain,Qe),Fo(p,Ce,Je),Fo(p,h.domain,Qe);const y=Pl(Uu);Fo(p,h.tld,y),Fo(p,h.utld,y),Fo(y,h.domain,Qe),Fo(y,Ce,Je),Zr(y,ns,p),Zr(y,rs,g),Zr(y,Hs,gt);const T=Zr(y,Us),E=Pl(Uu);Fo(T,h.numeric,E);const a=Pl(Uu),u=Pl();Fo(a,R,a),Fo(a,pe,u),Fo(u,R,a),Fo(u,pe,u),Zr(y,os,a),Zr(E,os,a);const N=Zr(yt,Us),H=Zr(wt,Us),x=Zr(H,os),m=Zr(x,os);Fo(yt,h.domain,Qe),Zr(yt,ns,p),Zr(yt,rs,g),Fo(wt,h.domain,Qe),Zr(wt,ns,p),Zr(wt,rs,g),Fo(N,h.domain,a),Zr(N,os,a),Fo(m,h.domain,a),Fo(m,R,a),Zr(m,os,a);const k=[[nu,ru],[xd,wd],[kd,Ed],[Sd,_d],[Od,Cd],[jd,Id],[Pd,Td],[Md,Ad]];for(let Q=0;Q<k.length;Q++){const[ue,me]=k[Q],ye=Zr(a,ue);Zr(u,ue,ye),Zr(ye,me,a);const fe=Pl(Uu);Fo(ye,R,fe);const G=Pl();Fo(ye,pe),Fo(fe,R,fe),Fo(fe,pe,G),Fo(G,R,fe),Fo(G,pe,G),Zr(fe,me,a),Zr(G,me,a)}return Zr(Fe,du,y),Zr(Fe,ep,q8),{start:Fe,tokens:Sg}}function Q8(n,h,R){let pe=R.length,Ce=0,Fe=[],Je=[];for(;Ce<pe;){let Qe=n,yt=null,wt=null,gt=0,pt=null,Ze=-1;for(;Ce<pe&&!(yt=Qe.go(R[Ce].t));)Je.push(R[Ce++]);for(;Ce<pe&&(wt=yt||Qe.go(R[Ce].t));)yt=null,Qe=wt,Qe.accepts()?(Ze=0,pt=Qe):Ze>=0&&Ze++,Ce++,gt++;if(Ze<0)Ce-=gt,Ce<pe&&(Je.push(R[Ce]),Ce++);else{Je.length>0&&(Fe.push(rf(N1,h,Je)),Je=[]),Ce-=Ze,gt-=Ze;const te=pt.t,t=R.slice(Ce-gt,Ce);Fe.push(rf(te,h,t))}}return Je.length>0&&Fe.push(rf(N1,h,Je)),Fe}function rf(n,h,R){const pe=R[0].s,Ce=R[R.length-1].e,Fe=h.slice(pe,Ce);return new n(Fe,R)}const Ua={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function e7(){Ua.scanner=X8(Ua.customSchemes);for(let n=0;n<Ua.tokenQueue.length;n++)Ua.tokenQueue[n][1]({scanner:Ua.scanner});Ua.parser=J8(Ua.scanner.tokens);for(let n=0;n<Ua.pluginQueue.length;n++)Ua.pluginQueue[n][1]({scanner:Ua.scanner,parser:Ua.parser});Ua.initialized=!0}function t7(n){return Ua.initialized||e7(),Q8(Ua.parser.start,n,$8(Ua.scanner.start,n))}function Og(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n7(n){return n.replace(/"/g,"&quot;")}function r7(n){const h=[];for(const R in n){let pe=n[R]+"";h.push(`${R}="${n7(pe)}"`)}return h.join(" ")}function o7(n){let{tagName:h,attributes:R,content:pe}=n;return`<${h} ${r7(R)}>${Og(pe)}</${h}>`}function i7(n,h){h===void 0&&(h={}),h=new ip(h,o7);const R=t7(n),pe=[];for(let Ce=0;Ce<R.length;Ce++){const Fe=R[Ce];Fe.t==="nl"&&h.get("nl2br")?pe.push(`<br>
`):!Fe.isLink||!h.check(Fe)?pe.push(Og(Fe.toString())):pe.push(h.render(Fe))}return pe.join("")}String.prototype.linkify||Object.defineProperty(String.prototype,"linkify",{writable:!1,value:function(n){return i7(this,n)}});var a7={exports:{}};(function(n){(function(h){if(typeof R!="function"){var R=function(t){return t};R.nonNative=!0}const pe=R("plaintext"),Ce=R("html"),Fe=R("comment"),Je=/<(\w*)>/g,Qe=/<\/?([^\s\/>]+)/;function yt(t,e,_){t=t||"",e=e||[],_=_||"";let g=gt(e,_);return pt(t,g)}function wt(t,e){t=t||[],e=e||"";let _=gt(t,e);return function(g){return pt(g||"",_)}}yt.init_streaming_mode=wt;function gt(t,e){return t=Ze(t),{allowable_tags:t,tag_replacement:e,state:pe,tag_buffer:"",depth:0,in_quote_char:""}}function pt(t,e){if(typeof t!="string")throw new TypeError("'html' parameter must be a string");let _=e.allowable_tags,g=e.tag_replacement,p=e.state,y=e.tag_buffer,T=e.depth,E=e.in_quote_char,a="";for(let u=0,N=t.length;u<N;u++){let H=t[u];if(p===pe)switch(H){case"<":p=Ce,y+=H;break;default:a+=H;break}else if(p===Ce)switch(H){case"<":if(E)break;T++;break;case">":if(E)break;if(T){T--;break}E="",p=pe,y+=">",_.has(te(y))?a+=y:a+=g,y="";break;case'"':case"'":H===E?E="":E=E||H,y+=H;break;case"-":y==="<!-"&&(p=Fe),y+=H;break;case" ":case`
`:if(y==="<"){p=pe,a+="< ",y="";break}y+=H;break;default:y+=H;break}else if(p===Fe)switch(H){case">":y.slice(-2)=="--"&&(p=pe),y="";break;default:y+=H;break}}return e.state=p,e.tag_buffer=y,e.depth=T,e.in_quote_char=E,a}function Ze(t){let e=new Set;if(typeof t=="string"){let _;for(;_=Je.exec(t);)e.add(_[1])}else!R.nonNative&&typeof t[R.iterator]=="function"?e=new Set(t):typeof t.forEach=="function"&&t.forEach(e.add,e);return e}function te(t){let e=Qe.exec(t);return e?e[1].toLowerCase():null}n.exports?n.exports=yt:h.striptags=yt})(sc)})(a7),Al.util.warn;function Cg(n){return fm()?(pm(n),!0):!1}function iu(n){return typeof n=="function"?n():um(n)}const jg=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const l7=Object.prototype.toString,s7=n=>l7.call(n)==="[object Object]",au=()=>{},Pf=c7();function c7(){var n,h;return jg&&((n=window?.navigator)==null?void 0:n.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((h=window?.navigator)==null?void 0:h.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}const Z1={mounted:"inserted",updated:"componentUpdated",unmounted:"unbind"};function u7(...n){if(n.length!==1)return hm(...n);const h=n[0];return typeof h=="function"?Nf(rw(()=>({get:h,set:au}))):pi(h)}function Gc(n){var h;const R=iu(n);return(h=R?.$el)!=null?h:R}const Ig=jg?window:void 0;function Gu(...n){let h,R,pe,Ce;if(typeof n[0]=="string"||Array.isArray(n[0])?([R,pe,Ce]=n,h=Ig):[h,R,pe,Ce]=n,!h)return au;Array.isArray(R)||(R=[R]),Array.isArray(pe)||(pe=[pe]);const Fe=[],Je=()=>{Fe.forEach(gt=>gt()),Fe.length=0},Qe=(gt,pt,Ze,te)=>(gt.addEventListener(pt,Ze,te),()=>gt.removeEventListener(pt,Ze,te)),yt=ss(()=>[Gc(h),iu(Ce)],([gt,pt])=>{if(Je(),!gt)return;const Ze=s7(pt)?{...pt}:pt;Fe.push(...R.flatMap(te=>pe.map(t=>Qe(gt,te,t,Ze))))},{immediate:!0,flush:"post"}),wt=()=>{yt(),Je()};return Cg(wt),wt}let z1=!1;function B1(n,h,R={}){const{window:pe=Ig,ignore:Ce=[],capture:Fe=!0,detectIframe:Je=!1}=R;if(!pe)return au;Pf&&!z1&&(z1=!0,Array.from(pe.document.body.children).forEach(gt=>gt.addEventListener("click",au)),pe.document.documentElement.addEventListener("click",au));let Qe=!0;const yt=gt=>Ce.some(pt=>{if(typeof pt=="string")return Array.from(pe.document.querySelectorAll(pt)).some(Ze=>Ze===gt.target||gt.composedPath().includes(Ze));{const Ze=Gc(pt);return Ze&&(gt.target===Ze||gt.composedPath().includes(Ze))}}),wt=[Gu(pe,"click",gt=>{const pt=Gc(n);if(!(!pt||pt===gt.target||gt.composedPath().includes(pt))){if(gt.detail===0&&(Qe=!yt(gt)),!Qe){Qe=!0;return}h(gt)}},{passive:!0,capture:Fe}),Gu(pe,"pointerdown",gt=>{const pt=Gc(n);Qe=!yt(gt)&&!!(pt&&!gt.composedPath().includes(pt))},{passive:!0}),Je&&Gu(pe,"blur",gt=>{setTimeout(()=>{var pt;const Ze=Gc(n);((pt=pe.document.activeElement)==null?void 0:pt.tagName)==="IFRAME"&&!Ze?.contains(pe.document.activeElement)&&h(gt)},0)})].filter(Boolean);return()=>wt.forEach(gt=>gt())}const d7={[Z1.mounted](n,h){const R=!h.modifiers.bubble;if(typeof h.value=="function")n.__onClickOutside_stop=B1(n,h.value,{capture:R});else{const[pe,Ce]=h.value;n.__onClickOutside_stop=B1(n,pe,Object.assign({capture:R},Ce))}},[Z1.unmounted](n){n.__onClickOutside_stop()}};function of(n){return typeof Window<"u"&&n instanceof Window?n.document.documentElement:typeof Document<"u"&&n instanceof Document?n.documentElement:n}function Pg(n){const h=window.getComputedStyle(n);if(h.overflowX==="scroll"||h.overflowY==="scroll"||h.overflowX==="auto"&&n.clientWidth<n.scrollWidth||h.overflowY==="auto"&&n.clientHeight<n.scrollHeight)return!0;{const R=n.parentNode;return!R||R.tagName==="BODY"?!1:Pg(R)}}function f7(n){const h=n||window.event,R=h.target;return Pg(R)?!1:h.touches.length>1?!0:(h.preventDefault&&h.preventDefault(),!1)}const af=new WeakMap;function p7(n,h=!1){const R=pi(h);let pe=null,Ce="";ss(u7(n),Qe=>{const yt=of(iu(Qe));if(yt){const wt=yt;if(af.get(wt)||af.set(wt,wt.style.overflow),wt.style.overflow!=="hidden"&&(Ce=wt.style.overflow),wt.style.overflow==="hidden")return R.value=!0;if(R.value)return wt.style.overflow="hidden"}},{immediate:!0});const Fe=()=>{const Qe=of(iu(n));!Qe||R.value||(Pf&&(pe=Gu(Qe,"touchmove",yt=>{f7(yt)},{passive:!1})),Qe.style.overflow="hidden",R.value=!0)},Je=()=>{const Qe=of(iu(n));!Qe||!R.value||(Pf&&pe?.(),Qe.style.overflow=Ce,af.delete(Qe),R.value=!1)};return Cg(Je),Ml({get(){return R.value},set(Qe){Qe?Fe():Je()}})}function h7(){let n=!1;const h=pi(!1);return(R,pe)=>{if(h.value=pe.value,n)return;n=!0;const Ce=p7(R,pe.value);ss(h,Fe=>Ce.value=Fe)}}h7(),tl(iw);const Tg={data(){return{hasStatus:!1,userStatus:{status:null,message:null,icon:null}}},methods:{async fetchUserStatus(n){if(!n)return;const h=pg();if(!(!Object.prototype.hasOwnProperty.call(h,"user_status")||!h.user_status.enabled)&&lu())try{const{data:R}=await Tl.get(is("apps/user_status/api/v1/statuses/{userId}",{userId:n})),{status:pe,message:Ce,icon:Fe}=R.ocs.data;this.userStatus.status=pe,this.userStatus.message=Ce||"",this.userStatus.icon=Fe||"",this.hasStatus=!0}catch(R){if(R.response.status===404&&R.response.data.ocs?.data?.length===0)return;console.error(R)}}}},Mg=ow("nextcloud").persist().build();function m7(n){const h=Mg.getItem("user-has-avatar."+n);return typeof h=="string"?!!h:null}function F1(n,h){n&&Mg.setItem("user-has-avatar."+n,h)}const g7={name:"NcAvatar",directives:{ClickOutside:d7},components:{DotsHorizontal:qf,NcActions:cg,NcButton:pu,NcIconSvgWrapper:fg,NcLoadingIcon:Zf,NcUserStatusIcon:y8},mixins:[Tg],props:{url:{type:String,default:void 0},iconClass:{type:String,default:void 0},user:{type:String,default:void 0},showUserStatus:{type:Boolean,default:!0},showUserStatusCompact:{type:Boolean,default:!0},preloadedUserStatus:{type:Object,default:void 0},isGuest:{type:Boolean,default:!1},displayName:{type:String,default:void 0},size:{type:Number,default:32},allowPlaceholder:{type:Boolean,default:!0},disableTooltip:{type:Boolean,default:!1},disableMenu:{type:Boolean,default:!1},tooltipMessage:{type:String,default:null},isNoUser:{type:Boolean,default:!1},menuContainer:{type:[String,Object,Element,Boolean],default:"body"}},data(){return{avatarUrlLoaded:null,avatarSrcSetLoaded:null,userDoesNotExist:!1,isAvatarLoaded:!1,isMenuLoaded:!1,contactsMenuLoading:!1,contactsMenuData:{},contactsMenuActions:[],contactsMenuOpenState:!1}},computed:{avatarAriaLabel(){if(this.hasMenu)return this.canDisplayUserStatus||this.showUserStatusIconOnAvatar?Eo("Avatar of {displayName}, {status}",{displayName:this.displayName??this.user,status:hg(this.userStatus.status)}):Eo("Avatar of {displayName}",{displayName:this.displayName??this.user})},canDisplayUserStatus(){return this.showUserStatus&&this.hasStatus&&["online","away","busy","dnd"].includes(this.userStatus.status)},showUserStatusIconOnAvatar(){return this.showUserStatus&&this.showUserStatusCompact&&this.hasStatus&&this.userStatus.status!=="dnd"&&this.userStatus.icon},userIdentifier(){return this.isDisplayNameDefined?this.displayName:this.isUserDefined?this.user:""},isUserDefined(){return typeof this.user<"u"},isDisplayNameDefined(){return typeof this.displayName<"u"},isUrlDefined(){return typeof this.url<"u"},hasMenu(){return this.disableMenu?!1:this.isMenuLoaded?this.menu.length>0:!(this.user===lu()?.uid||this.userDoesNotExist||this.url)},showInitials(){return this.allowPlaceholder&&this.userDoesNotExist&&!(this.iconClass||this.$slots.icon)},avatarStyle(){return{"--size":this.size+"px",lineHeight:this.size+"px",fontSize:Math.round(this.size*.45)+"px"}},initialsWrapperStyle(){const{r:n,g:h,b:R}=_1(this.userIdentifier);return{backgroundColor:`rgba(${n}, ${h}, ${R}, 0.1)`}},initialsStyle(){const{r:n,g:h,b:R}=_1(this.userIdentifier);return{color:`rgb(${n}, ${h}, ${R})`}},tooltip(){return this.disableTooltip?!1:this.tooltipMessage?this.tooltipMessage:this.displayName},initials(){let n="?";if(this.showInitials){const h=this.userIdentifier.trim();if(h==="")return n;const R=h.match(/[\p{L}\p{N}\s]/gu);if(R==null)return n;const pe=R.join(""),Ce=pe.lastIndexOf(" ");n=String.fromCodePoint(pe.codePointAt(0)),Ce!==-1&&(n=n.concat(String.fromCodePoint(pe.codePointAt(Ce+1))))}return n.toLocaleUpperCase()},menu(){const n=this.contactsMenuActions.map(R=>{const pe=bg(this.$router,R.hyperlink);return{ncActionComponent:pe?U4:z4,ncActionComponentProps:pe?{to:pe,icon:R.icon}:{href:R.hyperlink,icon:R.icon},text:R.title}});for(const R of Z8(this.contactsMenuData))try{n.push({ncActionComponent:s8,ncActionComponentProps:{},ncActionComponentHandlers:{click:()=>R.callback(this.contactsMenuData)},text:R.displayName(this.contactsMenuData),iconSvg:R.iconSvg(this.contactsMenuData)})}catch(pe){N8.error(`Failed to render ContactsMenu action ${R.id}`,{error:pe,action:R})}function h(R){const pe=document.createTextNode(R),Ce=document.createElement("p");return Ce.appendChild(pe),Ce.innerHTML}if(this.showUserStatus&&(this.userStatus.icon||this.userStatus.message)){const R=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
					<text x="50%" y="50%" text-anchor="middle" style="dominant-baseline: central; font-size: 85%">${h(this.userStatus.icon)}</text>
				</svg>`;return[{ncActionComponent:$4,ncActionComponentProps:{},iconSvg:this.userStatus.icon?R:void 0,text:`${this.userStatus.message}`}].concat(n)}return n}},watch:{url(){this.userDoesNotExist=!1,this.loadAvatarUrl()},user(){this.userDoesNotExist=!1,this.isMenuLoaded=!1,this.loadAvatarUrl()}},mounted(){this.loadAvatarUrl(),V0("settings:avatar:updated",this.loadAvatarUrl),V0("settings:display-name:updated",this.loadAvatarUrl),this.showUserStatus&&this.user&&!this.isNoUser&&(this.preloadedUserStatus?(this.userStatus.status=this.preloadedUserStatus.status||"",this.userStatus.message=this.preloadedUserStatus.message||"",this.userStatus.icon=this.preloadedUserStatus.icon||"",this.hasStatus=this.preloadedUserStatus.status!==null):this.fetchUserStatus(this.user),V0("user_status:status.updated",this.handleUserStatusUpdated))},beforeDestroy(){K0("settings:avatar:updated",this.loadAvatarUrl),K0("settings:display-name:updated",this.loadAvatarUrl),this.showUserStatus&&this.user&&!this.isNoUser&&K0("user_status:status.updated",this.handleUserStatusUpdated)},methods:{t:Eo,handleUserStatusUpdated(n){this.user===n.userId&&(this.userStatus={status:n.status,icon:n.icon,message:n.message})},async toggleMenu(n){n.type==="keydown"&&n.key!=="Enter"||(this.contactsMenuOpenState||await this.fetchContactsMenu(),this.contactsMenuOpenState=!this.contactsMenuOpenState)},closeMenu(){this.contactsMenuOpenState=!1},async fetchContactsMenu(){this.contactsMenuLoading=!0;try{const n=encodeURIComponent(this.user),{data:h}=await Tl.post(Bf("contactsmenu/findOne"),`shareType=0&shareWith=${n}`);this.contactsMenuData=h,this.contactsMenuActions=h.topAction?[h.topAction].concat(h.actions):h.actions}catch{this.contactsMenuOpenState=!1}this.contactsMenuLoading=!1,this.isMenuLoaded=!0},loadAvatarUrl(){if(this.isAvatarLoaded=!1,!this.isUrlDefined&&(!this.isUserDefined||this.isNoUser)){this.isAvatarLoaded=!0,this.userDoesNotExist=!0;return}if(this.isUrlDefined){this.updateImageIfValid(this.url);return}if(this.size<=64){const n=this.avatarUrlGenerator(this.user,64),h=[n+" 1x",this.avatarUrlGenerator(this.user,512)+" 8x"].join(", ");this.updateImageIfValid(n,h)}else{const n=this.avatarUrlGenerator(this.user,512);this.updateImageIfValid(n)}},avatarUrlGenerator(n,h){let R=C8(n,h,this.isGuest);return n===lu()?.uid&&typeof oc_userconfig<"u"&&(R+="?v="+oc_userconfig.avatar.version),R},updateImageIfValid(n,h=null){const R=m7(this.user);if(this.isUserDefined&&typeof R=="boolean"){this.isAvatarLoaded=!0,this.avatarUrlLoaded=n,h&&(this.avatarSrcSetLoaded=h),R===!1&&(this.userDoesNotExist=!0);return}const pe=new Image;pe.onload=()=>{this.avatarUrlLoaded=n,h&&(this.avatarSrcSetLoaded=h),this.isAvatarLoaded=!0,F1(this.user,!0)},pe.onerror=()=>{console.debug("Invalid avatar url",n),this.avatarUrlLoaded=null,this.avatarSrcSetLoaded=null,this.userDoesNotExist=!0,this.isAvatarLoaded=!1,F1(this.user,!1)},h&&(pe.srcset=h),pe.src=n}}};var v7=function(){var n=this,h=n._self._c;return h("span",{directives:[{name:"click-outside",rawName:"v-click-outside",value:n.closeMenu,expression:"closeMenu"}],ref:"main",staticClass:"avatardiv popovermenu-wrapper",class:{"avatardiv--unknown":n.userDoesNotExist,"avatardiv--with-menu":n.hasMenu,"avatardiv--with-menu-loading":n.contactsMenuLoading},style:n.avatarStyle},[n._t("icon",function(){return[n.iconClass?h("span",{staticClass:"avatar-class-icon",class:n.iconClass}):n.isAvatarLoaded&&!n.userDoesNotExist?h("img",{attrs:{src:n.avatarUrlLoaded,srcset:n.avatarSrcSetLoaded,alt:""}}):n._e()]}),n.hasMenu&&n.menu.length===0?h("NcButton",{staticClass:"action-item action-item__menutoggle",attrs:{type:"tertiary-no-background","aria-label":n.avatarAriaLabel,title:n.tooltip},on:{click:n.toggleMenu},scopedSlots:n._u([{key:"icon",fn:function(){return[n.contactsMenuLoading?h("NcLoadingIcon"):h("DotsHorizontal",{attrs:{size:20}})]},proxy:!0}],null,!1,2617833509)}):n.hasMenu?h("NcActions",{attrs:{"force-menu":"","manual-open":"",type:"tertiary-no-background",container:n.menuContainer,open:n.contactsMenuOpenState,"aria-label":n.avatarAriaLabel,title:n.tooltip},on:{"update:open":function(R){n.contactsMenuOpenState=R},click:n.toggleMenu},scopedSlots:n._u([n.contactsMenuLoading?{key:"icon",fn:function(){return[h("NcLoadingIcon")]},proxy:!0}:null],null,!0)},n._l(n.menu,function(R,pe){return h(R.ncActionComponent,n._g(n._b({key:pe,tag:"component",scopedSlots:n._u([R.iconSvg?{key:"icon",fn:function(){return[h("NcIconSvgWrapper",{attrs:{svg:R.iconSvg}})]},proxy:!0}:null],null,!0)},"component",R.ncActionComponentProps,!1),R.ncActionComponentHandlers),[n._v(" "+n._s(R.text)+" ")])}),1):n._e(),n.showUserStatusIconOnAvatar?h("span",{staticClass:"avatardiv__user-status avatardiv__user-status--icon"},[n._v(" "+n._s(n.userStatus.icon)+" ")]):n.canDisplayUserStatus?h("NcUserStatusIcon",{staticClass:"avatardiv__user-status",attrs:{status:n.userStatus.status,"aria-hidden":String(n.hasMenu)}}):n._e(),n.showInitials?h("span",{staticClass:"avatardiv__initials-wrapper",style:n.initialsWrapperStyle},[h("span",{staticClass:"avatardiv__initials",style:n.initialsStyle},[n._v(" "+n._s(n.initials)+" ")])]):n._e()],2)},b7=[],y7=oi(g7,v7,b7,!1,null,"5db0bd58");const x7=y7.exports,w7=8,H1=32,k7={name:"NcListItemIcon",components:{NcAvatar:x7,NcHighlight:r0,NcIconSvgWrapper:fg},mixins:[Tg],props:{name:{type:String,required:!0},subname:{type:String,default:""},icon:{type:String,default:""},iconSvg:{type:String,default:""},iconName:{type:String,default:""},search:{type:String,default:""},avatarSize:{type:Number,default:H1},noMargin:{type:Boolean,default:!1},displayName:{type:String,default:null},isNoUser:{type:Boolean,default:!1},id:{type:String,default:null}},setup(){return{margin:w7,defaultSize:H1}},computed:{hasIcon(){return this.icon!==""},hasIconSvg(){return this.iconSvg!==""},isValidSubname(){return this.subname?.trim?.()!==""},isSizeBigEnough(){return this.avatarSize>=26},cssVars(){const n=this.noMargin?0:this.margin;return{"--height":this.avatarSize+2*n+"px","--margin":this.margin+"px"}},searchParts(){const n=/^([^<]*)<([^>]+)>?$/,h=this.search.match(n);return this.isNoUser||!h?[this.search,this.search]:[h[1].trim(),h[2]]}},beforeMount(){!this.isNoUser&&!this.subname&&this.fetchUserStatus(this.user)}};var E7=function(){var n=this,h=n._self._c;return h("span",n._g({staticClass:"option",class:{"option--compact":n.avatarSize<n.defaultSize},style:n.cssVars,attrs:{id:n.id}},n.$listeners),[h("NcAvatar",n._b({staticClass:"option__avatar",attrs:{"disable-menu":!0,"disable-tooltip":!0,"display-name":n.displayName||n.name,"is-no-user":n.isNoUser,size:n.avatarSize}},"NcAvatar",n.$attrs,!1)),h("div",{staticClass:"option__details"},[h("NcHighlight",{staticClass:"option__lineone",attrs:{text:n.name,search:n.searchParts[0]}}),n.isValidSubname&&n.isSizeBigEnough?h("NcHighlight",{staticClass:"option__linetwo",attrs:{text:n.subname,search:n.searchParts[1]}}):n.hasStatus?h("span",[h("span",[n._v(n._s(n.userStatus.icon))]),h("span",[n._v(n._s(n.userStatus.message))])]):n._e()],1),n._t("default",function(){return[n.hasIconSvg?h("NcIconSvgWrapper",{staticClass:"option__icon",attrs:{svg:n.iconSvg,name:n.iconName}}):n.hasIcon?h("span",{staticClass:"icon option__icon",class:n.icon,attrs:{"aria-label":n.iconName}}):n._e()]})],2)},S7=[],_7=oi(k7,E7,S7,!1,null,"a0f4d73a");const O7=_7.exports;tl(lw);const C7={name:"NcSelect",components:{ChevronDown:K3,NcEllipsisedOption:q3,NcListItemIcon:O7,NcLoadingIcon:Zf,VueSelect:ic.VueSelect},model:{prop:"modelValue",event:"update:modelValue"},props:{...ic.VueSelect.props,...ic.VueSelect.mixins.reduce((n,h)=>({...n,...h.props}),{}),ariaLabelClearSelected:{type:String,default:Eo("Clear selected")},ariaLabelCombobox:{type:String,default:null},ariaLabelListbox:{type:String,default:Eo("Options")},ariaLabelDeselectOption:{type:Function,default:n=>Eo("Deselect {option}",{option:n})},appendToBody:{type:Boolean,default:!0},calculatePosition:{type:Function,default:null},closeOnSelect:{type:Boolean,default:!0},components:{type:Object,default:()=>({Deselect:{render:n=>n(zf,{props:{size:20,fillColor:"var(--vs-controls-color)"},style:{cursor:"pointer"}})}})},limit:{type:Number,default:null},disabled:{type:Boolean,default:!1},dropdownShouldOpen:{type:Function,default:({noDrop:n,open:h})=>n?!1:h},filterBy:{type:Function,default:null},inputClass:{type:[String,Object],default:null},inputId:{type:String,default:()=>`select-input-${od()}`},inputLabel:{type:String,default:null},labelOutside:{type:Boolean,default:!1},keyboardFocusBorder:{type:Boolean,default:!0},label:{type:String,default:null},loading:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},placeholder:{type:String,default:""},mapKeydown:{type:Function,default(n,h){return{...n,27:R=>{h.open&&R.stopPropagation(),n[27](R)}}}},uid:{type:String,default:()=>od()},placement:{type:String,default:"bottom"},resetFocusOnOptionsChange:{type:Boolean,default:!0},userSelect:{type:Boolean,default:!1},value:{type:[String,Number,Object,Array],default:void 0},modelValue:{type:[String,Number,Object,Array],default:null},required:{type:Boolean,default:!1}," ":{}},emits:[" ","input","update:modelValue","update:model-value"],setup(){const n=Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--default-clickable-area")),h=Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--default-grid-baseline")),R=n-2*h,pe=aw("value","input");return{avatarSize:R,model:pe}},data(){return{search:""}},computed:{inputRequired(){return this.required?this.model===null||Array.isArray(this.model)&&this.model.length===0:null},localCalculatePosition(){return this.calculatePosition!==null?this.calculatePosition:(n,h,{width:R})=>{n.style.width=R;const pe={name:"addClass",fn(Je){return n.classList.add("vs__dropdown-menu--floating"),{}}},Ce={name:"togglePlacementClass",fn({placement:Je}){return h.$el.classList.toggle("select--drop-up",Je==="top"),n.classList.toggle("vs__dropdown-menu--floating-placement-top",Je==="top"),{}}},Fe=()=>{F3(h.$refs.toggle,n,{placement:this.placement,middleware:[N3(-1),pe,Ce,z3(),Z3({limiter:B3()})]}).then(({x:Je,y:Qe})=>{Object.assign(n.style,{left:`${Je}px`,top:`${Qe}px`,width:`${h.$refs.toggle.getBoundingClientRect().width}px`})})};return R3(h.$refs.toggle,n,Fe)}},localFilterBy(){const n=/[^<]*<([^>]+)/;return this.filterBy!==null?this.filterBy:this.userSelect?(h,R,pe)=>{const Ce=pe.match(n);return Ce&&h.subname?.toLocaleLowerCase?.()?.indexOf(Ce[1].toLocaleLowerCase())>-1||`${R} ${h.subname}`.toLocaleLowerCase().indexOf(pe.toLocaleLowerCase())>-1}:ic.VueSelect.props.filterBy.default},localLabel(){return this.label!==null?this.label:this.userSelect?"displayName":ic.VueSelect.props.label.default},propsToForward(){const n=[...Object.keys(ic.VueSelect.props),...ic.VueSelect.mixins.flatMap(h=>Object.keys(h.props??{}))];return{...Object.fromEntries(Object.entries(this.$props).filter(([h,R])=>n.includes(h))),value:this.model,calculatePosition:this.localCalculatePosition,filterBy:this.localFilterBy,label:this.localLabel}},listenersToForward(){return{...this.$listeners,input:n=>{this.model=n}}}},mounted(){!this.labelOutside&&!this.inputLabel&&!this.ariaLabelCombobox&&Al.util.warn("[NcSelect] An `inputLabel` or `ariaLabelCombobox` should be set. If an external label is used, `labelOutside` should be set to `true`."),this.inputLabel&&this.ariaLabelCombobox&&Al.util.warn("[NcSelect] Only one of `inputLabel` or `ariaLabelCombobox` should to be set.")},methods:{t:Eo}};var j7=function(){var n=this,h=n._self._c;return h("VueSelect",n._g(n._b({staticClass:"select",class:{"select--no-wrap":n.noWrap,"user-select":n.userSelect},on:{search:R=>n.search=R},scopedSlots:n._u([!n.labelOutside&&n.inputLabel?{key:"header",fn:function(){return[h("label",{staticClass:"select__label",attrs:{for:n.inputId}},[n._v(" "+n._s(n.inputLabel)+" ")])]},proxy:!0}:null,{key:"search",fn:function({attributes:R,events:pe}){return[h("input",n._g(n._b({class:["vs__search",n.inputClass],attrs:{required:n.inputRequired,dir:"auto"}},"input",R,!1),pe))]}},{key:"open-indicator",fn:function({attributes:R}){return[h("ChevronDown",n._b({style:{cursor:n.disabled?null:"pointer"},attrs:{"fill-color":"var(--vs-controls-color)",size:26}},"ChevronDown",R,!1))]}},{key:"option",fn:function(R){return[n.userSelect?h("NcListItemIcon",n._b({attrs:{"avatar-size":32,name:R[n.localLabel],search:n.search}},"NcListItemIcon",R,!1)):h("NcEllipsisedOption",{attrs:{name:String(R[n.localLabel]),search:n.search}})]}},{key:"selected-option",fn:function(R){return[n.userSelect?h("NcListItemIcon",n._b({attrs:{"avatar-size":n.avatarSize,name:R[n.localLabel],"no-margin":"",search:n.search}},"NcListItemIcon",R,!1)):h("NcEllipsisedOption",{attrs:{name:String(R[n.localLabel]),search:n.search}})]}},{key:"spinner",fn:function(R){return[R.loading?h("NcLoadingIcon"):n._e()]}},{key:"no-options",fn:function(){return[n._v(" "+n._s(n.t("No results"))+" ")]},proxy:!0},n._l(n.$scopedSlots,function(R,pe){return{key:pe,fn:function(Ce){return[n._t(pe,null,null,Ce)]}}})],null,!0)},"VueSelect",n.propsToForward,!1),n.listenersToForward))},I7=[],P7=oi(C7,j7,I7,!1,null,null);const Ag=P7.exports;function Ul(n,h){for(var R in h)n[R]=h[R];return n}var T7=/[!'()*]/g,M7=function(n){return"%"+n.charCodeAt(0).toString(16)},A7=/%2C/g,_c=function(n){return encodeURIComponent(n).replace(T7,M7).replace(A7,",")};function Tf(n){try{return decodeURIComponent(n)}catch{}return n}function D7(n,h,R){h===void 0&&(h={});var pe=R||L7,Ce;try{Ce=pe(n||"")}catch{Ce={}}for(var Fe in h){var Je=h[Fe];Ce[Fe]=Array.isArray(Je)?Je.map(W1):W1(Je)}return Ce}var W1=function(n){return n==null||typeof n=="object"?n:String(n)};function L7(n){var h={};return n=n.trim().replace(/^(\?|#|&)/,""),n&&n.split("&").forEach(function(R){var pe=R.replace(/\+/g," ").split("="),Ce=Tf(pe.shift()),Fe=pe.length>0?Tf(pe.join("=")):null;h[Ce]===void 0?h[Ce]=Fe:Array.isArray(h[Ce])?h[Ce].push(Fe):h[Ce]=[h[Ce],Fe]}),h}function R7(n){var h=n?Object.keys(n).map(function(R){var pe=n[R];if(pe===void 0)return"";if(pe===null)return _c(R);if(Array.isArray(pe)){var Ce=[];return pe.forEach(function(Fe){Fe!==void 0&&(Fe===null?Ce.push(_c(R)):Ce.push(_c(R)+"="+_c(Fe)))}),Ce.join("&")}return _c(R)+"="+_c(pe)}).filter(function(R){return R.length>0}).join("&"):null;return h?"?"+h:""}var $d=/\/?$/;function Gd(n,h,R,pe){var Ce=pe&&pe.options.stringifyQuery,Fe=h.query||{};try{Fe=Mf(Fe)}catch{}var Je={name:h.name||n&&n.name,meta:n&&n.meta||{},path:h.path||"/",hash:h.hash||"",query:Fe,params:h.params||{},fullPath:U1(h,Ce),matched:n?N7(n):[]};return R&&(Je.redirectedFrom=U1(R,Ce)),Object.freeze(Je)}function Mf(n){if(Array.isArray(n))return n.map(Mf);if(n&&typeof n=="object"){var h={};for(var R in n)h[R]=Mf(n[R]);return h}else return n}var qs=Gd(null,{path:"/"});function N7(n){for(var h=[];n;)h.unshift(n),n=n.parent;return h}function U1(n,h){var R=n.path,pe=n.query;pe===void 0&&(pe={});var Ce=n.hash;Ce===void 0&&(Ce="");var Fe=h||R7;return(R||"/")+Fe(pe)+Ce}function Dg(n,h,R){return h===qs?n===h:h?n.path&&h.path?n.path.replace($d,"")===h.path.replace($d,"")&&(R||n.hash===h.hash&&qu(n.query,h.query)):n.name&&h.name?n.name===h.name&&(R||n.hash===h.hash&&qu(n.query,h.query)&&qu(n.params,h.params)):!1:!1}function qu(n,h){if(n===void 0&&(n={}),h===void 0&&(h={}),!n||!h)return n===h;var R=Object.keys(n).sort(),pe=Object.keys(h).sort();return R.length!==pe.length?!1:R.every(function(Ce,Fe){var Je=n[Ce],Qe=pe[Fe];if(Qe!==Ce)return!1;var yt=h[Ce];return Je==null||yt==null?Je===yt:typeof Je=="object"&&typeof yt=="object"?qu(Je,yt):String(Je)===String(yt)})}function Z7(n,h){return n.path.replace($d,"/").indexOf(h.path.replace($d,"/"))===0&&(!h.hash||n.hash===h.hash)&&z7(n.query,h.query)}function z7(n,h){for(var R in h)if(!(R in n))return!1;return!0}function Lg(n){for(var h=0;h<n.matched.length;h++){var R=n.matched[h];for(var pe in R.instances){var Ce=R.instances[pe],Fe=R.enteredCbs[pe];if(!(!Ce||!Fe)){delete R.enteredCbs[pe];for(var Je=0;Je<Fe.length;Je++)Ce._isBeingDestroyed||Fe[Je](Ce)}}}}var B7={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,h){var R=h.props,pe=h.children,Ce=h.parent,Fe=h.data;Fe.routerView=!0;for(var Je=Ce.$createElement,Qe=R.name,yt=Ce.$route,wt=Ce._routerViewCache||(Ce._routerViewCache={}),gt=0,pt=!1;Ce&&Ce._routerRoot!==Ce;){var Ze=Ce.$vnode?Ce.$vnode.data:{};Ze.routerView&&gt++,Ze.keepAlive&&Ce._directInactive&&Ce._inactive&&(pt=!0),Ce=Ce.$parent}if(Fe.routerViewDepth=gt,pt){var te=wt[Qe],t=te&&te.component;return t?(te.configProps&&V1(t,Fe,te.route,te.configProps),Je(t,Fe,pe)):Je()}var e=yt.matched[gt],_=e&&e.components[Qe];if(!e||!_)return wt[Qe]=null,Je();wt[Qe]={component:_},Fe.registerRouteInstance=function(p,y){var T=e.instances[Qe];(y&&T!==p||!y&&T===p)&&(e.instances[Qe]=y)},(Fe.hook||(Fe.hook={})).prepatch=function(p,y){e.instances[Qe]=y.componentInstance},Fe.hook.init=function(p){p.data.keepAlive&&p.componentInstance&&p.componentInstance!==e.instances[Qe]&&(e.instances[Qe]=p.componentInstance),Lg(yt)};var g=e.props&&e.props[Qe];return g&&(Ul(wt[Qe],{route:yt,configProps:g}),V1(_,Fe,yt,g)),Je(_,Fe,pe)}};function V1(n,h,R,pe){var Ce=h.props=F7(R,pe);if(Ce){Ce=h.props=Ul({},Ce);var Fe=h.attrs=h.attrs||{};for(var Je in Ce)(!n.props||!(Je in n.props))&&(Fe[Je]=Ce[Je],delete Ce[Je])}}function F7(n,h){switch(typeof h){case"undefined":return;case"object":return h;case"function":return h(n);case"boolean":return h?n.params:void 0}}function Rg(n,h,R){var pe=n.charAt(0);if(pe==="/")return n;if(pe==="?"||pe==="#")return h+n;var Ce=h.split("/");(!R||!Ce[Ce.length-1])&&Ce.pop();for(var Fe=n.replace(/^\//,"").split("/"),Je=0;Je<Fe.length;Je++){var Qe=Fe[Je];Qe===".."?Ce.pop():Qe!=="."&&Ce.push(Qe)}return Ce[0]!==""&&Ce.unshift(""),Ce.join("/")}function H7(n){var h="",R="",pe=n.indexOf("#");pe>=0&&(h=n.slice(pe),n=n.slice(0,pe));var Ce=n.indexOf("?");return Ce>=0&&(R=n.slice(Ce+1),n=n.slice(0,Ce)),{path:n,query:R,hash:h}}function Vs(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var qd=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"},Cc=zg,W7=ap,U7=X7,V7=Ng,K7=Zg,Y7=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ap(n,h){for(var R=[],pe=0,Ce=0,Fe="",Je=h&&h.delimiter||"/",Qe;(Qe=Y7.exec(n))!=null;){var yt=Qe[0],wt=Qe[1],gt=Qe.index;if(Fe+=n.slice(Ce,gt),Ce=gt+yt.length,wt){Fe+=wt[1];continue}var pt=n[Ce],Ze=Qe[2],te=Qe[3],t=Qe[4],e=Qe[5],_=Qe[6],g=Qe[7];Fe&&(R.push(Fe),Fe="");var p=Ze!=null&&pt!=null&&pt!==Ze,y=_==="+"||_==="*",T=_==="?"||_==="*",E=Qe[2]||Je,a=t||e;R.push({name:te||pe++,prefix:Ze||"",delimiter:E,optional:T,repeat:y,partial:p,asterisk:!!g,pattern:a?q7(a):g?".*":"[^"+Ju(E)+"]+?"})}return Ce<n.length&&(Fe+=n.substr(Ce)),Fe&&R.push(Fe),R}function X7(n,h){return Ng(ap(n,h),h)}function $7(n){return encodeURI(n).replace(/[\/?#]/g,function(h){return"%"+h.charCodeAt(0).toString(16).toUpperCase()})}function G7(n){return encodeURI(n).replace(/[?#]/g,function(h){return"%"+h.charCodeAt(0).toString(16).toUpperCase()})}function Ng(n,h){for(var R=new Array(n.length),pe=0;pe<n.length;pe++)typeof n[pe]=="object"&&(R[pe]=new RegExp("^(?:"+n[pe].pattern+")$",sp(h)));return function(Ce,Fe){for(var Je="",Qe=Ce||{},yt=Fe||{},wt=yt.pretty?$7:encodeURIComponent,gt=0;gt<n.length;gt++){var pt=n[gt];if(typeof pt=="string"){Je+=pt;continue}var Ze=Qe[pt.name],te;if(Ze==null)if(pt.optional){pt.partial&&(Je+=pt.prefix);continue}else throw new TypeError('Expected "'+pt.name+'" to be defined');if(qd(Ze)){if(!pt.repeat)throw new TypeError('Expected "'+pt.name+'" to not repeat, but received `'+JSON.stringify(Ze)+"`");if(Ze.length===0){if(pt.optional)continue;throw new TypeError('Expected "'+pt.name+'" to not be empty')}for(var t=0;t<Ze.length;t++){if(te=wt(Ze[t]),!R[gt].test(te))throw new TypeError('Expected all "'+pt.name+'" to match "'+pt.pattern+'", but received `'+JSON.stringify(te)+"`");Je+=(t===0?pt.prefix:pt.delimiter)+te}continue}if(te=pt.asterisk?G7(Ze):wt(Ze),!R[gt].test(te))throw new TypeError('Expected "'+pt.name+'" to match "'+pt.pattern+'", but received "'+te+'"');Je+=pt.prefix+te}return Je}}function Ju(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function q7(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function lp(n,h){return n.keys=h,n}function sp(n){return n&&n.sensitive?"":"i"}function J7(n,h){var R=n.source.match(/\((?!\?)/g);if(R)for(var pe=0;pe<R.length;pe++)h.push({name:pe,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return lp(n,h)}function Q7(n,h,R){for(var pe=[],Ce=0;Ce<n.length;Ce++)pe.push(zg(n[Ce],h,R).source);var Fe=new RegExp("(?:"+pe.join("|")+")",sp(R));return lp(Fe,h)}function ek(n,h,R){return Zg(ap(n,R),h,R)}function Zg(n,h,R){qd(h)||(R=h||R,h=[]),R=R||{};for(var pe=R.strict,Ce=R.end!==!1,Fe="",Je=0;Je<n.length;Je++){var Qe=n[Je];if(typeof Qe=="string")Fe+=Ju(Qe);else{var yt=Ju(Qe.prefix),wt="(?:"+Qe.pattern+")";h.push(Qe),Qe.repeat&&(wt+="(?:"+yt+wt+")*"),Qe.optional?Qe.partial?wt=yt+"("+wt+")?":wt="(?:"+yt+"("+wt+"))?":wt=yt+"("+wt+")",Fe+=wt}}var gt=Ju(R.delimiter||"/"),pt=Fe.slice(-gt.length)===gt;return pe||(Fe=(pt?Fe.slice(0,-gt.length):Fe)+"(?:"+gt+"(?=$))?"),Ce?Fe+="$":Fe+=pe&&pt?"":"(?="+gt+"|$)",lp(new RegExp("^"+Fe,sp(R)),h)}function zg(n,h,R){return qd(h)||(R=h||R,h=[]),R=R||{},n instanceof RegExp?J7(n,h):qd(n)?Q7(n,h,R):ek(n,h,R)}Cc.parse=W7,Cc.compile=U7,Cc.tokensToFunction=V7,Cc.tokensToRegExp=K7;var K1=Object.create(null);function Qu(n,h,R){h=h||{};try{var pe=K1[n]||(K1[n]=Cc.compile(n));return typeof h.pathMatch=="string"&&(h[0]=h.pathMatch),pe(h,{pretty:!0})}catch{return""}finally{delete h[0]}}function cp(n,h,R,pe){var Ce=typeof n=="string"?{path:n}:n;if(Ce._normalized)return Ce;if(Ce.name){Ce=Ul({},n);var Fe=Ce.params;return Fe&&typeof Fe=="object"&&(Ce.params=Ul({},Fe)),Ce}if(!Ce.path&&Ce.params&&h){Ce=Ul({},Ce),Ce._normalized=!0;var Je=Ul(Ul({},h.params),Ce.params);if(h.name)Ce.name=h.name,Ce.params=Je;else if(h.matched.length){var Qe=h.matched[h.matched.length-1].path;Ce.path=Qu(Qe,Je,"path "+h.path)}return Ce}var yt=H7(Ce.path||""),wt=h&&h.path||"/",gt=yt.path?Rg(yt.path,wt,R||Ce.append):wt,pt=D7(yt.query,Ce.query,pe&&pe.options.parseQuery),Ze=Ce.hash||yt.hash;return Ze&&Ze.charAt(0)!=="#"&&(Ze="#"+Ze),{_normalized:!0,path:gt,query:pt,hash:Ze}}var tk=[String,Object],nk=[String,Array],Y1=function(){},Bg={name:"RouterLink",props:{to:{type:tk,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:nk,default:"click"}},render:function(n){var h=this,R=this.$router,pe=this.$route,Ce=R.resolve(this.to,pe,this.append),Fe=Ce.location,Je=Ce.route,Qe=Ce.href,yt={},wt=R.options.linkActiveClass,gt=R.options.linkExactActiveClass,pt=wt??"router-link-active",Ze=gt??"router-link-exact-active",te=this.activeClass==null?pt:this.activeClass,t=this.exactActiveClass==null?Ze:this.exactActiveClass,e=Je.redirectedFrom?Gd(null,cp(Je.redirectedFrom),null,R):Je;yt[t]=Dg(pe,e,this.exactPath),yt[te]=this.exact||this.exactPath?yt[t]:Z7(pe,e);var _=yt[t]?this.ariaCurrentValue:null,g=function(m){X1(m)&&(h.replace?R.replace(Fe,Y1):R.push(Fe,Y1))},p={click:X1};Array.isArray(this.event)?this.event.forEach(function(m){p[m]=g}):p[this.event]=g;var y={class:yt},T=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:Qe,route:Je,navigate:g,isActive:yt[te],isExactActive:yt[t]});if(T){if(T.length===1)return T[0];if(T.length>1||!T.length)return T.length===0?n():n("span",{},T)}if(this.tag==="a")y.on=p,y.attrs={href:Qe,"aria-current":_};else{var E=Fg(this.$slots.default);if(E){E.isStatic=!1;var a=E.data=Ul({},E.data);a.on=a.on||{};for(var u in a.on){var N=a.on[u];u in p&&(a.on[u]=Array.isArray(N)?N:[N])}for(var H in p)H in a.on?a.on[H].push(p[H]):a.on[H]=g;var x=E.data.attrs=Ul({},E.data.attrs);x.href=Qe,x["aria-current"]=_}else y.on=p}return n(this.tag,y,this.$slots.default)}};function X1(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){var h=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(h))return}return n.preventDefault&&n.preventDefault(),!0}}function Fg(n){if(n){for(var h,R=0;R<n.length;R++)if(h=n[R],h.tag==="a"||h.children&&(h=Fg(h.children)))return h}}var Jd;function Af(n){if(!(Af.installed&&Jd===n)){Af.installed=!0,Jd=n;var h=function(Ce){return Ce!==void 0},R=function(Ce,Fe){var Je=Ce.$options._parentVnode;h(Je)&&h(Je=Je.data)&&h(Je=Je.registerRouteInstance)&&Je(Ce,Fe)};n.mixin({beforeCreate:function(){h(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),n.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,R(this,this)},destroyed:function(){R(this)}}),Object.defineProperty(n.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(n.prototype,"$route",{get:function(){return this._routerRoot._route}}),n.component("RouterView",B7),n.component("RouterLink",Bg);var pe=n.config.optionMergeStrategies;pe.beforeRouteEnter=pe.beforeRouteLeave=pe.beforeRouteUpdate=pe.created}}var vu=typeof window<"u";function Vu(n,h,R,pe,Ce){var Fe=h||[],Je=R||Object.create(null),Qe=pe||Object.create(null);n.forEach(function(gt){Df(Fe,Je,Qe,gt,Ce)});for(var yt=0,wt=Fe.length;yt<wt;yt++)Fe[yt]==="*"&&(Fe.push(Fe.splice(yt,1)[0]),wt--,yt--);return{pathList:Fe,pathMap:Je,nameMap:Qe}}function Df(n,h,R,pe,Ce,Fe){var Je=pe.path,Qe=pe.name,yt=pe.pathToRegexpOptions||{},wt=ok(Je,Ce,yt.strict);typeof pe.caseSensitive=="boolean"&&(yt.sensitive=pe.caseSensitive);var gt={path:wt,regex:rk(wt,yt),components:pe.components||{default:pe.component},alias:pe.alias?typeof pe.alias=="string"?[pe.alias]:pe.alias:[],instances:{},enteredCbs:{},name:Qe,parent:Ce,matchAs:Fe,redirect:pe.redirect,beforeEnter:pe.beforeEnter,meta:pe.meta||{},props:pe.props==null?{}:pe.components?pe.props:{default:pe.props}};if(pe.children&&pe.children.forEach(function(e){var _=Fe?Vs(Fe+"/"+e.path):void 0;Df(n,h,R,e,gt,_)}),h[gt.path]||(n.push(gt.path),h[gt.path]=gt),pe.alias!==void 0)for(var pt=Array.isArray(pe.alias)?pe.alias:[pe.alias],Ze=0;Ze<pt.length;++Ze){var te=pt[Ze],t={path:te,children:pe.children};Df(n,h,R,t,Ce,gt.path||"/")}Qe&&(R[Qe]||(R[Qe]=gt))}function rk(n,h){var R=Cc(n,[],h);return R}function ok(n,h,R){return R||(n=n.replace(/\/$/,"")),n[0]==="/"||h==null?n:Vs(h.path+"/"+n)}function ik(n,h){var R=Vu(n),pe=R.pathList,Ce=R.pathMap,Fe=R.nameMap;function Je(te){Vu(te,pe,Ce,Fe)}function Qe(te,t){var e=typeof te!="object"?Fe[te]:void 0;Vu([t||te],pe,Ce,Fe,e),e&&e.alias.length&&Vu(e.alias.map(function(_){return{path:_,children:[t]}}),pe,Ce,Fe,e)}function yt(){return pe.map(function(te){return Ce[te]})}function wt(te,t,e){var _=cp(te,t,!1,h),g=_.name;if(g){var p=Fe[g];if(!p)return Ze(null,_);var y=p.regex.keys.filter(function(N){return!N.optional}).map(function(N){return N.name});if(typeof _.params!="object"&&(_.params={}),t&&typeof t.params=="object")for(var T in t.params)!(T in _.params)&&y.indexOf(T)>-1&&(_.params[T]=t.params[T]);return _.path=Qu(p.path,_.params),Ze(p,_,e)}else if(_.path){_.params={};for(var E=0;E<pe.length;E++){var a=pe[E],u=Ce[a];if(ak(u.regex,_.path,_.params))return Ze(u,_,e)}}return Ze(null,_)}function gt(te,t){var e=te.redirect,_=typeof e=="function"?e(Gd(te,t,null,h)):e;if(typeof _=="string"&&(_={path:_}),!_||typeof _!="object")return Ze(null,t);var g=_,p=g.name,y=g.path,T=t.query,E=t.hash,a=t.params;if(T=g.hasOwnProperty("query")?g.query:T,E=g.hasOwnProperty("hash")?g.hash:E,a=g.hasOwnProperty("params")?g.params:a,p)return Fe[p],wt({_normalized:!0,name:p,query:T,hash:E,params:a},void 0,t);if(y){var u=lk(y,te),N=Qu(u,a);return wt({_normalized:!0,path:N,query:T,hash:E},void 0,t)}else return Ze(null,t)}function pt(te,t,e){var _=Qu(e,t.params),g=wt({_normalized:!0,path:_});if(g){var p=g.matched,y=p[p.length-1];return t.params=g.params,Ze(y,t)}return Ze(null,t)}function Ze(te,t,e){return te&&te.redirect?gt(te,e||t):te&&te.matchAs?pt(te,t,te.matchAs):Gd(te,t,e,h)}return{match:wt,addRoute:Qe,getRoutes:yt,addRoutes:Je}}function ak(n,h,R){var pe=h.match(n);if(pe){if(!R)return!0}else return!1;for(var Ce=1,Fe=pe.length;Ce<Fe;++Ce){var Je=n.keys[Ce-1];Je&&(R[Je.name||"pathMatch"]=typeof pe[Ce]=="string"?Tf(pe[Ce]):pe[Ce])}return!0}function lk(n,h){return Rg(n,h.parent?h.parent.path:"/",!0)}var sk=vu&&window.performance&&window.performance.now?window.performance:Date;function Hg(){return sk.now().toFixed(3)}var Wg=Hg();function g0(){return Wg}function Ug(n){return Wg=n}var Vg=Object.create(null);function Kg(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,h=window.location.href.replace(n,""),R=Ul({},window.history.state);return R.key=g0(),window.history.replaceState(R,"",h),window.addEventListener("popstate",$1),function(){window.removeEventListener("popstate",$1)}}function Ks(n,h,R,pe){if(n.app){var Ce=n.options.scrollBehavior;Ce&&n.app.$nextTick(function(){var Fe=ck(),Je=Ce.call(n,h,R,pe?Fe:null);Je&&(typeof Je.then=="function"?Je.then(function(Qe){J1(Qe,Fe)}).catch(function(Qe){}):J1(Je,Fe))})}}function Yg(){var n=g0();n&&(Vg[n]={x:window.pageXOffset,y:window.pageYOffset})}function $1(n){Yg(),n.state&&n.state.key&&Ug(n.state.key)}function ck(){var n=g0();if(n)return Vg[n]}function uk(n,h){var R=document.documentElement,pe=R.getBoundingClientRect(),Ce=n.getBoundingClientRect();return{x:Ce.left-pe.left-h.x,y:Ce.top-pe.top-h.y}}function G1(n){return Nc(n.x)||Nc(n.y)}function q1(n){return{x:Nc(n.x)?n.x:window.pageXOffset,y:Nc(n.y)?n.y:window.pageYOffset}}function dk(n){return{x:Nc(n.x)?n.x:0,y:Nc(n.y)?n.y:0}}function Nc(n){return typeof n=="number"}var fk=/^#\d/;function J1(n,h){var R=typeof n=="object";if(R&&typeof n.selector=="string"){var pe=fk.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(pe){var Ce=n.offset&&typeof n.offset=="object"?n.offset:{};Ce=dk(Ce),h=uk(pe,Ce)}else G1(n)&&(h=q1(n))}else R&&G1(n)&&(h=q1(n));h&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:h.x,top:h.y,behavior:n.behavior}):window.scrollTo(h.x,h.y))}var Ys=vu&&function(){var n=window.navigator.userAgent;return(n.indexOf("Android 2.")!==-1||n.indexOf("Android 4.0")!==-1)&&n.indexOf("Mobile Safari")!==-1&&n.indexOf("Chrome")===-1&&n.indexOf("Windows Phone")===-1?!1:window.history&&typeof window.history.pushState=="function"}();function Qd(n,h){Yg();var R=window.history;try{if(h){var pe=Ul({},R.state);pe.key=g0(),R.replaceState(pe,"",n)}else R.pushState({key:Ug(Hg())},"",n)}catch{window.location[h?"replace":"assign"](n)}}function Lf(n){Qd(n,!0)}var gc={redirected:2,aborted:4,cancelled:8,duplicated:16};function pk(n,h){return v0(n,h,gc.redirected,'Redirected when going from "'+n.fullPath+'" to "'+vk(h)+'" via a navigation guard.')}function hk(n,h){var R=v0(n,h,gc.duplicated,'Avoided redundant navigation to current location: "'+n.fullPath+'".');return R.name="NavigationDuplicated",R}function Q1(n,h){return v0(n,h,gc.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+h.fullPath+'" with a new navigation.')}function mk(n,h){return v0(n,h,gc.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+h.fullPath+'" via a navigation guard.')}function v0(n,h,R,pe){var Ce=new Error(pe);return Ce._isRouter=!0,Ce.from=n,Ce.to=h,Ce.type=R,Ce}var gk=["params","query","hash"];function vk(n){if(typeof n=="string")return n;if("path"in n)return n.path;var h={};return gk.forEach(function(R){R in n&&(h[R]=n[R])}),JSON.stringify(h,null,2)}function e0(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function t0(n,h){return e0(n)&&n._isRouter&&(h==null||n.type===h)}function em(n,h,R){var pe=function(Ce){Ce>=n.length?R():n[Ce]?h(n[Ce],function(){pe(Ce+1)}):pe(Ce+1)};pe(0)}function bk(n){return function(h,R,pe){var Ce=!1,Fe=0,Je=null;Xg(n,function(Qe,yt,wt,gt){if(typeof Qe=="function"&&Qe.cid===void 0){Ce=!0,Fe++;var pt=tm(function(e){xk(e)&&(e=e.default),Qe.resolved=typeof e=="function"?e:Jd.extend(e),wt.components[gt]=e,Fe--,Fe<=0&&pe()}),Ze=tm(function(e){var _="Failed to resolve async component "+gt+": "+e;Je||(Je=e0(e)?e:new Error(_),pe(Je))}),te;try{te=Qe(pt,Ze)}catch(e){Ze(e)}if(te)if(typeof te.then=="function")te.then(pt,Ze);else{var t=te.component;t&&typeof t.then=="function"&&t.then(pt,Ze)}}}),Ce||pe()}}function Xg(n,h){return $g(n.map(function(R){return Object.keys(R.components).map(function(pe){return h(R.components[pe],R.instances[pe],R,pe)})}))}function $g(n){return Array.prototype.concat.apply([],n)}var yk=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";function xk(n){return n.__esModule||yk&&n[Symbol.toStringTag]==="Module"}function tm(n){var h=!1;return function(){for(var R=[],pe=arguments.length;pe--;)R[pe]=arguments[pe];if(!h)return h=!0,n.apply(this,R)}}var Hl=function(n,h){this.router=n,this.base=wk(h),this.current=qs,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};Hl.prototype.listen=function(n){this.cb=n},Hl.prototype.onReady=function(n,h){this.ready?n():(this.readyCbs.push(n),h&&this.readyErrorCbs.push(h))},Hl.prototype.onError=function(n){this.errorCbs.push(n)},Hl.prototype.transitionTo=function(n,h,R){var pe=this,Ce;try{Ce=this.router.match(n,this.current)}catch(Je){throw this.errorCbs.forEach(function(Qe){Qe(Je)}),Je}var Fe=this.current;this.confirmTransition(Ce,function(){pe.updateRoute(Ce),h&&h(Ce),pe.ensureURL(),pe.router.afterHooks.forEach(function(Je){Je&&Je(Ce,Fe)}),pe.ready||(pe.ready=!0,pe.readyCbs.forEach(function(Je){Je(Ce)}))},function(Je){R&&R(Je),Je&&!pe.ready&&(!t0(Je,gc.redirected)||Fe!==qs)&&(pe.ready=!0,pe.readyErrorCbs.forEach(function(Qe){Qe(Je)}))})},Hl.prototype.confirmTransition=function(n,h,R){var pe=this,Ce=this.current;this.pending=n;var Fe=function(t){!t0(t)&&e0(t)&&(pe.errorCbs.length?pe.errorCbs.forEach(function(e){e(t)}):console.error(t)),R&&R(t)},Je=n.matched.length-1,Qe=Ce.matched.length-1;if(Dg(n,Ce)&&Je===Qe&&n.matched[Je]===Ce.matched[Qe])return this.ensureURL(),n.hash&&Ks(this.router,Ce,n,!1),Fe(hk(Ce,n));var yt=kk(this.current.matched,n.matched),wt=yt.updated,gt=yt.deactivated,pt=yt.activated,Ze=[].concat(Sk(gt),this.router.beforeHooks,_k(wt),pt.map(function(t){return t.beforeEnter}),bk(pt)),te=function(t,e){if(pe.pending!==n)return Fe(Q1(Ce,n));try{t(n,Ce,function(_){_===!1?(pe.ensureURL(!0),Fe(mk(Ce,n))):e0(_)?(pe.ensureURL(!0),Fe(_)):typeof _=="string"||typeof _=="object"&&(typeof _.path=="string"||typeof _.name=="string")?(Fe(pk(Ce,n)),typeof _=="object"&&_.replace?pe.replace(_):pe.push(_)):e(_)})}catch(_){Fe(_)}};em(Ze,te,function(){var t=Ok(pt),e=t.concat(pe.router.resolveHooks);em(e,te,function(){if(pe.pending!==n)return Fe(Q1(Ce,n));pe.pending=null,h(n),pe.router.app&&pe.router.app.$nextTick(function(){Lg(n)})})})},Hl.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Hl.prototype.setupListeners=function(){},Hl.prototype.teardown=function(){this.listeners.forEach(function(n){n()}),this.listeners=[],this.current=qs,this.pending=null};function wk(n){if(!n)if(vu){var h=document.querySelector("base");n=h&&h.getAttribute("href")||"/",n=n.replace(/^https?:\/\/[^\/]+/,"")}else n="/";return n.charAt(0)!=="/"&&(n="/"+n),n.replace(/\/$/,"")}function kk(n,h){var R,pe=Math.max(n.length,h.length);for(R=0;R<pe&&n[R]===h[R];R++);return{updated:h.slice(0,R),activated:h.slice(R),deactivated:n.slice(R)}}function up(n,h,R,pe){var Ce=Xg(n,function(Fe,Je,Qe,yt){var wt=Ek(Fe,h);if(wt)return Array.isArray(wt)?wt.map(function(gt){return R(gt,Je,Qe,yt)}):R(wt,Je,Qe,yt)});return $g(pe?Ce.reverse():Ce)}function Ek(n,h){return typeof n!="function"&&(n=Jd.extend(n)),n.options[h]}function Sk(n){return up(n,"beforeRouteLeave",Gg,!0)}function _k(n){return up(n,"beforeRouteUpdate",Gg)}function Gg(n,h){if(h)return function(){return n.apply(h,arguments)}}function Ok(n){return up(n,"beforeRouteEnter",function(h,R,pe,Ce){return Ck(h,pe,Ce)})}function Ck(n,h,R){return function(pe,Ce,Fe){return n(pe,Ce,function(Je){typeof Je=="function"&&(h.enteredCbs[R]||(h.enteredCbs[R]=[]),h.enteredCbs[R].push(Je)),Fe(Je)})}}var qg=function(n){function h(R,pe){n.call(this,R,pe),this._startLocation=qc(this.base)}return n&&(h.__proto__=n),h.prototype=Object.create(n&&n.prototype),h.prototype.constructor=h,h.prototype.setupListeners=function(){var R=this;if(!(this.listeners.length>0)){var pe=this.router,Ce=pe.options.scrollBehavior,Fe=Ys&&Ce;Fe&&this.listeners.push(Kg());var Je=function(){var Qe=R.current,yt=qc(R.base);R.current===qs&&yt===R._startLocation||R.transitionTo(yt,function(wt){Fe&&Ks(pe,wt,Qe,!0)})};window.addEventListener("popstate",Je),this.listeners.push(function(){window.removeEventListener("popstate",Je)})}},h.prototype.go=function(R){window.history.go(R)},h.prototype.push=function(R,pe,Ce){var Fe=this,Je=this,Qe=Je.current;this.transitionTo(R,function(yt){Qd(Vs(Fe.base+yt.fullPath)),Ks(Fe.router,yt,Qe,!1),pe&&pe(yt)},Ce)},h.prototype.replace=function(R,pe,Ce){var Fe=this,Je=this,Qe=Je.current;this.transitionTo(R,function(yt){Lf(Vs(Fe.base+yt.fullPath)),Ks(Fe.router,yt,Qe,!1),pe&&pe(yt)},Ce)},h.prototype.ensureURL=function(R){if(qc(this.base)!==this.current.fullPath){var pe=Vs(this.base+this.current.fullPath);R?Qd(pe):Lf(pe)}},h.prototype.getCurrentLocation=function(){return qc(this.base)},h}(Hl);function qc(n){var h=window.location.pathname,R=h.toLowerCase(),pe=n.toLowerCase();return n&&(R===pe||R.indexOf(Vs(pe+"/"))===0)&&(h=h.slice(n.length)),(h||"/")+window.location.search+window.location.hash}var Jg=function(n){function h(R,pe,Ce){n.call(this,R,pe),!(Ce&&jk(this.base))&&nm()}return n&&(h.__proto__=n),h.prototype=Object.create(n&&n.prototype),h.prototype.constructor=h,h.prototype.setupListeners=function(){var R=this;if(!(this.listeners.length>0)){var pe=this.router,Ce=pe.options.scrollBehavior,Fe=Ys&&Ce;Fe&&this.listeners.push(Kg());var Je=function(){var yt=R.current;nm()&&R.transitionTo(ed(),function(wt){Fe&&Ks(R.router,wt,yt,!0),Ys||td(wt.fullPath)})},Qe=Ys?"popstate":"hashchange";window.addEventListener(Qe,Je),this.listeners.push(function(){window.removeEventListener(Qe,Je)})}},h.prototype.push=function(R,pe,Ce){var Fe=this,Je=this,Qe=Je.current;this.transitionTo(R,function(yt){rm(yt.fullPath),Ks(Fe.router,yt,Qe,!1),pe&&pe(yt)},Ce)},h.prototype.replace=function(R,pe,Ce){var Fe=this,Je=this,Qe=Je.current;this.transitionTo(R,function(yt){td(yt.fullPath),Ks(Fe.router,yt,Qe,!1),pe&&pe(yt)},Ce)},h.prototype.go=function(R){window.history.go(R)},h.prototype.ensureURL=function(R){var pe=this.current.fullPath;ed()!==pe&&(R?rm(pe):td(pe))},h.prototype.getCurrentLocation=function(){return ed()},h}(Hl);function jk(n){var h=qc(n);if(!/^\/#/.test(h))return window.location.replace(Vs(n+"/#"+h)),!0}function nm(){var n=ed();return n.charAt(0)==="/"?!0:(td("/"+n),!1)}function ed(){var n=window.location.href,h=n.indexOf("#");return h<0?"":(n=n.slice(h+1),n)}function Rf(n){var h=window.location.href,R=h.indexOf("#"),pe=R>=0?h.slice(0,R):h;return pe+"#"+n}function rm(n){Ys?Qd(Rf(n)):window.location.hash=n}function td(n){Ys?Lf(Rf(n)):window.location.replace(Rf(n))}var Ik=function(n){function h(R,pe){n.call(this,R,pe),this.stack=[],this.index=-1}return n&&(h.__proto__=n),h.prototype=Object.create(n&&n.prototype),h.prototype.constructor=h,h.prototype.push=function(R,pe,Ce){var Fe=this;this.transitionTo(R,function(Je){Fe.stack=Fe.stack.slice(0,Fe.index+1).concat(Je),Fe.index++,pe&&pe(Je)},Ce)},h.prototype.replace=function(R,pe,Ce){var Fe=this;this.transitionTo(R,function(Je){Fe.stack=Fe.stack.slice(0,Fe.index).concat(Je),pe&&pe(Je)},Ce)},h.prototype.go=function(R){var pe=this,Ce=this.index+R;if(!(Ce<0||Ce>=this.stack.length)){var Fe=this.stack[Ce];this.confirmTransition(Fe,function(){var Je=pe.current;pe.index=Ce,pe.updateRoute(Fe),pe.router.afterHooks.forEach(function(Qe){Qe&&Qe(Fe,Je)})},function(Je){t0(Je,gc.duplicated)&&(pe.index=Ce)})}},h.prototype.getCurrentLocation=function(){var R=this.stack[this.stack.length-1];return R?R.fullPath:"/"},h.prototype.ensureURL=function(){},h}(Hl),ki=function(n){n===void 0&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=ik(n.routes||[],this);var h=n.mode||"hash";switch(this.fallback=h==="history"&&!Ys&&n.fallback!==!1,this.fallback&&(h="hash"),vu||(h="abstract"),this.mode=h,h){case"history":this.history=new qg(this,n.base);break;case"hash":this.history=new Jg(this,n.base,this.fallback);break;case"abstract":this.history=new Ik(this,n.base);break}},om={currentRoute:{configurable:!0}};ki.prototype.match=function(n,h,R){return this.matcher.match(n,h,R)},om.currentRoute.get=function(){return this.history&&this.history.current},ki.prototype.init=function(n){var h=this;if(this.apps.push(n),n.$once("hook:destroyed",function(){var Fe=h.apps.indexOf(n);Fe>-1&&h.apps.splice(Fe,1),h.app===n&&(h.app=h.apps[0]||null),h.app||h.history.teardown()}),!this.app){this.app=n;var R=this.history;if(R instanceof qg||R instanceof Jg){var pe=function(Fe){var Je=R.current,Qe=h.options.scrollBehavior,yt=Ys&&Qe;yt&&"fullPath"in Fe&&Ks(h,Fe,Je,!1)},Ce=function(Fe){R.setupListeners(),pe(Fe)};R.transitionTo(R.getCurrentLocation(),Ce,Ce)}R.listen(function(Fe){h.apps.forEach(function(Je){Je._route=Fe})})}},ki.prototype.beforeEach=function(n){return lf(this.beforeHooks,n)},ki.prototype.beforeResolve=function(n){return lf(this.resolveHooks,n)},ki.prototype.afterEach=function(n){return lf(this.afterHooks,n)},ki.prototype.onReady=function(n,h){this.history.onReady(n,h)},ki.prototype.onError=function(n){this.history.onError(n)},ki.prototype.push=function(n,h,R){var pe=this;if(!h&&!R&&typeof Promise<"u")return new Promise(function(Ce,Fe){pe.history.push(n,Ce,Fe)});this.history.push(n,h,R)},ki.prototype.replace=function(n,h,R){var pe=this;if(!h&&!R&&typeof Promise<"u")return new Promise(function(Ce,Fe){pe.history.replace(n,Ce,Fe)});this.history.replace(n,h,R)},ki.prototype.go=function(n){this.history.go(n)},ki.prototype.back=function(){this.go(-1)},ki.prototype.forward=function(){this.go(1)},ki.prototype.getMatchedComponents=function(n){var h=n?n.matched?n:this.resolve(n).route:this.currentRoute;return h?[].concat.apply([],h.matched.map(function(R){return Object.keys(R.components).map(function(pe){return R.components[pe]})})):[]},ki.prototype.resolve=function(n,h,R){h=h||this.history.current;var pe=cp(n,h,R,this),Ce=this.match(pe,h),Fe=Ce.redirectedFrom||Ce.fullPath,Je=this.history.base,Qe=Pk(Je,Fe,this.mode);return{location:pe,route:Ce,href:Qe,normalizedTo:pe,resolved:Ce}},ki.prototype.getRoutes=function(){return this.matcher.getRoutes()},ki.prototype.addRoute=function(n,h){this.matcher.addRoute(n,h),this.history.current!==qs&&this.history.transitionTo(this.history.getCurrentLocation())},ki.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==qs&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ki.prototype,om);function lf(n,h){return n.push(h),function(){var R=n.indexOf(h);R>-1&&n.splice(R,1)}}function Pk(n,h,R){var pe=R==="hash"?"#"+h:h;return n?Vs(n+"/"+pe):pe}ki.install=Af,ki.version="3.6.5",ki.isNavigationFailure=t0,ki.NavigationFailureType=gc,ki.START_LOCATION=qs,vu&&window.Vue&&window.Vue.use(ki);const Tk=n=>{n.mounted?Array.isArray(n.mounted)||(n.mounted=[n.mounted]):n.mounted=[],n.mounted.push(function(){this.$el.setAttribute("data-v-175de9f","")})};Zu.themes.tooltip.html=!1,Zu.themes.tooltip.delay={show:500,hide:200},Zu.themes.tooltip.distance=10,Zu.themes.tooltip["arrow-padding"]=3,tl(mm,sw);function Mk(n,h){let R,pe,Ce=h,Fe;this.start=function(){Fe=!0,pe=new Date,R=setTimeout(n,Ce)},this.pause=function(){Fe=!1,clearTimeout(R),Ce-=new Date-pe},this.clear=function(){Fe=!1,clearTimeout(R),Ce=0},this.getTimeLeft=function(){return Fe&&(this.pause(),this.start()),Ce},this.getStateRunning=function(){return Fe},this.start()}const Ak={name:"PauseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Dk=function(){var n=this,h=n._self._c;return h("span",n._b({staticClass:"material-design-icon pause-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(R){return n.$emit("click",R)}}},"span",n.$attrs,!1),[h("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[h("path",{attrs:{d:"M14,19H18V5H14M6,19H10V5H6V19Z"}},[n.title?h("title",[n._v(n._s(n.title))]):n._e()])])])},Lk=[],Rk=oi(Ak,Dk,Lk,!1,null,null);const Nk=Rk.exports,Zk={name:"PlayIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var zk=function(){var n=this,h=n._self._c;return h("span",n._b({staticClass:"material-design-icon play-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(R){return n.$emit("click",R)}}},"span",n.$attrs,!1),[h("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[h("path",{attrs:{d:"M8,5.14V19.14L19,12.14L8,5.14Z"}},[n.title?h("title",[n._v(n._s(n.title))]):n._e()])])])},Bk=[],Fk=oi(Zk,zk,Bk,!1,null,null);const Hk=Fk.exports,Wk={name:"NcModal",components:{NcActions:cg,ChevronLeft:dg,ChevronRight:ug,Close:zf,Pause:Nk,Play:Hk,NcButton:pu},directives:{tooltip:j6},props:{name:{type:String,default:""},hasPrevious:{type:Boolean,default:!1},hasNext:{type:Boolean,default:!1},outTransition:{type:Boolean,default:!1},enableSlideshow:{type:Boolean,default:!1},slideshowDelay:{type:Number,default:5e3},slideshowPaused:{type:Boolean,default:!1},enableSwipe:{type:Boolean,default:!0},spreadNavigation:{type:Boolean,default:!1},size:{type:String,default:"normal",validator:n=>["small","normal","large","full"].includes(n)},canClose:{type:Boolean,default:!0},closeOnClickOutside:{type:Boolean,default:!0},dark:{type:Boolean,default:!1},lightBackdrop:{type:Boolean,default:!1},container:{type:[String,null],default:"body"},closeButtonContained:{type:Boolean,default:!0},additionalTrapElements:{type:Array,default:()=>[]},inlineActions:{type:Number,default:0},show:{type:Boolean,default:void 0},labelId:{type:String,default:""},setReturnFocus:{default:void 0,type:[HTMLElement,SVGElement,String,Boolean]}},emits:["previous","next","close","update:show"],data(){return{mc:null,playing:!1,slideshowTimeout:null,iconSize:24,focusTrap:null,externalFocusTrapStack:[],randId:od(),internalShow:!0}},computed:{modalLabelId(){return this.labelId||`modal-name-${this.randId}`},showModal(){return this.show===void 0?this.internalShow:this.show},modalTransitionName(){return`modal-${this.outTransition?"out":"in"}`},playPauseName(){return this.playing?Eo("Pause slideshow"):Eo("Start slideshow")},cssVariables(){return{"--slideshow-duration":this.slideshowDelay+"ms","--icon-size":this.iconSize+"px"}},closeButtonAriaLabel(){return Eo("Close")},prevButtonAriaLabel(){return Eo("Previous")},nextButtonAriaLabel(){return Eo("Next")}},watch:{slideshowPaused(n){this.slideshowTimeout&&(n?this.slideshowTimeout.pause():this.slideshowTimeout.start())},additionalTrapElements(n){if(this.focusTrap){const h=this.$refs.mask;this.focusTrap.updateContainerElements([h,...n])}}},beforeMount(){window.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeydown),this.mc.stop()},mounted(){!this.name&&!this.labelId&&Al.util.warn("[NcModal] You need either set the name or set a `labelId` for accessibility."),this.useFocusTrap(),this.mc=k4(this.$refs.mask,{onSwipeEnd:this.handleSwipe}),this.container&&(this.container==="body"?document.body.insertBefore(this.$el,document.body.lastChild):document.querySelector(this.container).appendChild(this.$el))},destroyed(){this.clearFocusTrap(),this.$el.remove()},methods:{t:Eo,previous(n){this.hasPrevious&&(n&&this.resetSlideshow(),this.$emit("previous",n))},next(n){this.hasNext&&(n&&this.resetSlideshow(),this.$emit("next",n))},close(n){this.canClose&&(this.internalShow=!1,this.$emit("update:show",!1),setTimeout(()=>{this.$emit("close",n)},300))},handleClickModalWrapper(n){this.closeOnClickOutside&&this.close(n)},handleKeydown(n){if(n.key==="Escape"){const R=bd();return R.length>0&&R[R.length-1]!==this.focusTrap?void 0:this.close(n)}const h={ArrowLeft:this.previous,ArrowRight:this.next};if(h[n.key])return document.activeElement&&!this.$el.contains(document.activeElement)?void 0:h[n.key](n)},handleSwipe(n,h){this.enableSwipe&&(h==="left"?this.next(n):h==="right"&&this.previous(n))},togglePlayPause(){this.playing=!this.playing,this.playing?this.handleSlideshow():this.clearSlideshowTimeout()},resetSlideshow(){this.playing=!this.playing,this.clearSlideshowTimeout(),this.$nextTick(function(){this.togglePlayPause()})},handleSlideshow(){this.playing=!0,this.hasNext?this.slideshowTimeout=new Mk(()=>{this.next(),this.handleSlideshow()},this.slideshowDelay):(this.playing=!1,this.clearSlideshowTimeout())},clearSlideshowTimeout(){this.slideshowTimeout&&this.slideshowTimeout.clear()},async useFocusTrap(){if(!this.showModal||this.focusTrap)return;const n=this.$refs.mask;await this.$nextTick();const h={allowOutsideClick:!0,fallbackFocus:n,trapStack:bd(),escapeDeactivates:!1,setReturnFocus:this.setReturnFocus};this.externalFocusTrapStack=[...h.trapStack];for(const R of this.externalFocusTrapStack)R.deactivate();this.focusTrap=ag([n,...this.additionalTrapElements],h),this.focusTrap.activate()},clearFocusTrap(){if(this.focusTrap){this.focusTrap?.deactivate(),this.focusTrap=null;for(const n of this.externalFocusTrapStack)n.activate();this.externalFocusTrapStack=[]}}}};var Uk=function(){var n=this,h=n._self._c;return h("transition",{attrs:{name:"fade",appear:""},on:{"after-enter":n.useFocusTrap,"before-leave":n.clearFocusTrap}},[h("div",{directives:[{name:"show",rawName:"v-show",value:n.showModal,expression:"showModal"}],ref:"mask",staticClass:"modal-mask",class:{"modal-mask--opaque":n.dark||!n.closeButtonContained||n.hasPrevious||n.hasNext,"modal-mask--light":n.lightBackdrop},style:n.cssVariables,attrs:{role:"dialog","aria-modal":"true","aria-labelledby":n.modalLabelId,"aria-describedby":"modal-description-"+n.randId,tabindex:"-1"}},[h("transition",{attrs:{name:"fade-visibility",appear:""}},[h("div",{staticClass:"modal-header",attrs:{"data-theme-light":n.lightBackdrop,"data-theme-dark":!n.lightBackdrop}},[n.name.trim()!==""?h("h2",{staticClass:"modal-header__name",attrs:{id:"modal-name-"+n.randId}},[n._v(" "+n._s(n.name)+" ")]):n._e(),h("div",{staticClass:"icons-menu"},[n.hasNext&&n.enableSlideshow?h("button",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:n.playPauseName,expression:"playPauseName",modifiers:{auto:!0}}],staticClass:"play-pause-icons",class:{"play-pause-icons--paused":n.slideshowPaused},attrs:{type:"button"},on:{click:n.togglePlayPause}},[n.playing?h("Pause",{staticClass:"play-pause-icons__pause",attrs:{size:n.iconSize}}):h("Play",{staticClass:"play-pause-icons__play",attrs:{size:n.iconSize}}),h("span",{staticClass:"hidden-visually"},[n._v(" "+n._s(n.playPauseName)+" ")]),n.playing?h("svg",{staticClass:"progress-ring",attrs:{height:"50",width:"50"}},[h("circle",{staticClass:"progress-ring__circle",attrs:{stroke:"white","stroke-width":"2",fill:"transparent",r:"15",cx:"25",cy:"25"}})]):n._e()],1):n._e(),h("NcActions",{staticClass:"header-actions",attrs:{inline:n.inlineActions}},[n._t("actions")],2),n.canClose&&!n.closeButtonContained?h("NcButton",{staticClass:"header-close",attrs:{"aria-label":n.closeButtonAriaLabel,type:"tertiary"},on:{click:n.close},scopedSlots:n._u([{key:"icon",fn:function(){return[h("Close",{attrs:{size:n.iconSize}})]},proxy:!0}],null,!1,1841713362)}):n._e()],1)])]),h("transition",{attrs:{name:n.modalTransitionName,appear:""}},[h("div",{directives:[{name:"show",rawName:"v-show",value:n.showModal,expression:"showModal"}],staticClass:"modal-wrapper",class:[`modal-wrapper--${n.size}`,{"modal-wrapper--spread-navigation":n.spreadNavigation}],on:{mousedown:function(R){return R.target!==R.currentTarget?null:n.handleClickModalWrapper.apply(null,arguments)}}},[h("transition",{attrs:{name:"fade-visibility",appear:""}},[h("NcButton",{directives:[{name:"show",rawName:"v-show",value:n.hasPrevious,expression:"hasPrevious"}],staticClass:"prev",attrs:{type:"tertiary-no-background","aria-label":n.prevButtonAriaLabel},on:{click:n.previous},scopedSlots:n._u([{key:"icon",fn:function(){return[h("ChevronLeft",{attrs:{size:40}})]},proxy:!0}])})],1),h("div",{staticClass:"modal-container",attrs:{id:"modal-description-"+n.randId}},[h("div",{staticClass:"modal-container__content"},[n._t("default")],2),n.canClose&&n.closeButtonContained?h("NcButton",{staticClass:"modal-container__close",attrs:{type:"tertiary","aria-label":n.closeButtonAriaLabel},on:{click:n.close},scopedSlots:n._u([{key:"icon",fn:function(){return[h("Close",{attrs:{size:20}})]},proxy:!0}],null,!1,2121748766)}):n._e()],1),h("transition",{attrs:{name:"fade-visibility",appear:""}},[h("NcButton",{directives:[{name:"show",rawName:"v-show",value:n.hasNext,expression:"hasNext"}],staticClass:"next",attrs:{type:"tertiary-no-background","aria-label":n.nextButtonAriaLabel},on:{click:n.next},scopedSlots:n._u([{key:"icon",fn:function(){return[h("ChevronRight",{attrs:{size:40}})]},proxy:!0}])})],1)],1)])],1)])},Vk=[],Kk=oi(Wk,Uk,Vk,!1,null,"cc9100bb");const Qg=Kk.exports;Tk(Qg);const Yk={name:"ArrowLeftIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Xk=function(){var n=this,h=n._self._c;return h("span",n._b({staticClass:"material-design-icon arrow-left-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(R){return n.$emit("click",R)}}},"span",n.$attrs,!1),[h("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[h("path",{attrs:{d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"}},[n.title?h("title",[n._v(n._s(n.title))]):n._e()])])])},$k=[],Gk=oi(Yk,Xk,$k,!1,null,null);const qk=Gk.exports;tl(cw);const Jk=3*60*1e3,Qk={name:"NcReferenceWidget",components:{NcButton:pu},props:{reference:{type:Object,required:!0},interactive:{type:Boolean,default:!0},interactiveOptIn:{type:Boolean,default:!1}},setup(){const n=pi(!1),h=pi(),{width:R}=x4(h);return w4(h,([pe])=>{cm(()=>{n.value=pe.isIntersecting})}),{width:R,isVisible:n,widgetRoot:h}},data(){return{showInteractive:!1,rendered:!1,idleTimeout:null}},computed:{isInteractive(){return!this.interactiveOptIn&&this.interactive||this.showInteractive},hasFullWidth(){return Ww(this.reference.richObjectType)},hasCustomWidget(){return Nh(this.reference.richObjectType)},hasInteractiveView(){return Nh(this.reference.richObjectType)&&Hw(this.reference.richObjectType)},noAccess(){return this.reference&&!this.reference.accessible},descriptionStyle(){if(this.numberOfLines===0)return{display:"none"};const n=this.numberOfLines;return{lineClamp:n,webkitLineClamp:n}},numberOfLines(){return[450,550,650,1/0].findIndex(n=>this.width<n)},compactLink(){const n=this.reference.openGraphObject.link;return n?n.startsWith("https://")?n.substring(8):n.startsWith("http://")?n.substring(7):n:""},route(){return bg(this.$router,this.reference.openGraphObject.link)},referenceWidgetLinkComponent(){return this.route?Bg:"a"},referenceWidgetLinkProps(){return this.route?{to:this.route}:{href:this.reference.openGraphObject.link,target:"_blank"}}},watch:{isVisible:{handler(n){if(!n){this.idleTimeout=setTimeout(()=>{this.isVisible||this.destroyWidget()},Jk);return}this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.rendered||this.renderWidget()},immediate:!0}},beforeDestroy(){this.destroyWidget()},methods:{t:Eo,enableInteractive(){this.showInteractive=!0,this.renderWidget()},renderWidget(){if(!this.$refs.customWidget||this?.reference?.richObjectType==="open-graph")return;this.$refs.customWidget.innerHTML="";const n=document.createElement("div");n.style="width: 100%;",this.$refs.customWidget.appendChild(n),this.$nextTick(()=>{Vw(n,{...this.reference,interactive:this.isInteractive}),this.rendered=!0})},destroyWidget(){this.rendered&&(Kw(this.reference.richObjectType,this.$el),this.rendered=!1)}}};var eE=function(){var n=this,h=n._self._c;return h("div",{ref:"widgetRoot",class:{"toggle-interactive":n.hasInteractiveView&&!n.isInteractive}},[n.reference&&n.hasCustomWidget?h("div",{ref:"customWidget",staticClass:"widget-custom",class:{"full-width":n.hasFullWidth}}):!n.noAccess&&n.reference&&n.reference.openGraphObject&&!n.hasCustomWidget?h(n.referenceWidgetLinkComponent,n._b({tag:"component",staticClass:"widget-default",attrs:{rel:"noopener noreferrer"}},"component",n.referenceWidgetLinkProps,!1),[n.reference.openGraphObject.thumb?h("img",{staticClass:"widget-default--image",attrs:{src:n.reference.openGraphObject.thumb}}):n._e(),h("div",{staticClass:"widget-default--details"},[h("p",{staticClass:"widget-default--name"},[n._v(" "+n._s(n.reference.openGraphObject.name)+" ")]),h("p",{staticClass:"widget-default--description",style:n.descriptionStyle},[n._v(" "+n._s(n.reference.openGraphObject.description)+" ")]),h("p",{staticClass:"widget-default--link"},[n._v(" "+n._s(n.compactLink)+" ")])])]):n._e(),n.interactiveOptIn&&n.hasInteractiveView&&!n.isInteractive?h("NcButton",{staticClass:"toggle-interactive--button",on:{click:n.enableInteractive}},[n._v(" "+n._s(n.t("Enable interactive view"))+" ")]):n._e()],1)},tE=[],nE=oi(Qk,eE,tE,!1,null,"ea9434d3");const ev=nE.exports,rE={name:"NcCustomPickerElement",props:{provider:{type:Object,required:!0}},emits:["cancel","submit"],data(){return{isRegistered:cu(this.provider.id),renderResult:null}},mounted(){this.isRegistered&&this.renderElement()},beforeDestroy(){this.isRegistered&&Gw(this.provider.id,this.$el,this.renderResult)},methods:{renderElement(){this.$refs.domElement&&(this.$refs.domElement.innerHTML="");const n=$w(this.$refs.domElement,{providerId:this.provider.id,accessible:!1});Promise.resolve(n).then(h=>{this.renderResult=h,this.renderResult.object?._isVue&&this.renderResult.object?.$on&&(this.renderResult.object.$on("submit",this.onSubmit),this.renderResult.object.$on("cancel",this.onCancel)),this.renderResult.element.addEventListener("submit",R=>{this.onSubmit(R.detail)}),this.renderResult.element.addEventListener("cancel",this.onCancel)})},onSubmit(n){this.$emit("submit",n)},onCancel(){this.$emit("cancel")}}};var oE=function(){var n=this,h=n._self._c;return h("div",{ref:"domElement"})},iE=[],aE=oi(rE,oE,iE,!1,null,"de9850e4");const lE=aE.exports;tl(uw);const tv="any-link",nv={id:tv,title:Eo("Any link"),icon_url:yw("core","filetypes/link.svg")};window._vue_richtext_reference_providers||(window._vue_richtext_reference_providers=su("core","reference-provider-list",[])),window._vue_richtext_reference_provider_timestamps||(window._vue_richtext_reference_provider_timestamps=su("core","reference-provider-timestamps",{}));function sE(n){return n===tv?nv:rv().find(h=>h.id===n)}function rv(){return window._vue_richtext_reference_providers.filter(n=>{const h=!!n.search_providers_ids&&n.search_providers_ids.length>0||cu(n.id);return h||console.debug("[smart picker]",n.id,"reference provider is discoverable but does not have any related search provider or custom picker component registered"),h})}function cE(n){const h=window._vue_richtext_reference_provider_timestamps;return n.sort((R,pe)=>R.order===pe.order?0:R.order>pe.order?1:-1).sort((R,pe)=>{const Ce=h[R.id],Fe=h[pe.id];return Ce===Fe?0:Fe===void 0?-1:Ce===void 0?1:Ce>Fe?-1:1})}function uE(n,h=null){const R=rv(),pe=n.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),Ce=new RegExp(pe,"i"),Fe=cE(R).filter(Qe=>Qe.title.match(Ce)),Je=h?Fe.slice(0,h):Fe;return(n===""||Je.length===0)&&Je.push(nv),Je}function dE(n){const h=Math.floor(Date.now()/1e3),R={timestamp:h},pe=is("references/provider/{providerId}",{providerId:n});Tl.put(pe,R).then(Ce=>{window._vue_richtext_reference_provider_timestamps[n]=h})}let im=0;function ov(n,h){return function(){const R=this,pe=arguments;clearTimeout(im),im=setTimeout(function(){n.apply(R,pe)},h)}}function dp(n){try{return!!new URL(n)}catch{return!1}}tl(gm,dw);const fE={name:"LinkVariantIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var pE=function(){var n=this,h=n._self._c;return h("span",n._b({staticClass:"material-design-icon link-variant-icon",attrs:{"aria-hidden":n.title?null:"true","aria-label":n.title,role:"img"},on:{click:function(R){return n.$emit("click",R)}}},"span",n.$attrs,!1),[h("svg",{staticClass:"material-design-icon__svg",attrs:{fill:n.fillColor,width:n.size,height:n.size,viewBox:"0 0 24 24"}},[h("path",{attrs:{d:"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z"}},[n.title?h("title",[n._v(n._s(n.title))]):n._e()])])])},hE=[],mE=oi(fE,pE,hE,!1,null,null);const fp=mE.exports,gE={name:"NcProviderList",components:{NcSelect:Ag,NcHighlight:r0,NcEmptyContent:Ff,LinkVariantIcon:fp},emits:["select-provider","submit"],data(){return{selectedProvider:null,query:"",multiselectPlaceholder:Eo("Select provider"),providerIconAlt:Eo("Provider icon")}},computed:{options(){const n=[];return this.query!==""&&dp(this.query)&&n.push({id:this.query,title:this.query,isLink:!0}),n.push(...uE(this.query)),n}},methods:{focus(){setTimeout(()=>{this.$refs["provider-select"]?.$el?.querySelector("#provider-select-input")?.focus()},300)},onProviderSelected(n){n!==null&&(n.isLink?this.$emit("submit",n.title):this.$emit("select-provider",n),this.selectedProvider=null)},onSearch(n,h){this.query=n}}};var vE=function(){var n=this,h=n._self._c;return h("div",{staticClass:"provider-list"},[h("NcSelect",{ref:"provider-select",staticClass:"provider-list--select",attrs:{"input-id":"provider-select-input",label:"title",placeholder:n.multiselectPlaceholder,options:n.options,"append-to-body":!1,"clear-search-on-select":!0,"clear-search-on-blur":()=>!1,filterable:!1},on:{search:n.onSearch,input:n.onProviderSelected},scopedSlots:n._u([{key:"option",fn:function(R){return[R.isLink?h("div",{staticClass:"provider"},[h("LinkVariantIcon",{staticClass:"link-icon",attrs:{size:20}}),h("span",[n._v(n._s(R.title))])],1):h("div",{staticClass:"provider"},[h("img",{staticClass:"provider-icon",attrs:{src:R.icon_url,alt:n.providerIconAlt}}),h("NcHighlight",{staticClass:"option-text",attrs:{search:n.query,text:R.title}})],1)]}}]),model:{value:n.selectedProvider,callback:function(R){n.selectedProvider=R},expression:"selectedProvider"}}),h("NcEmptyContent",{staticClass:"provider-list--empty-content",scopedSlots:n._u([{key:"icon",fn:function(){return[h("LinkVariantIcon")]},proxy:!0}])})],1)},bE=[],yE=oi(gE,vE,bE,!1,null,"e54e09d6");const xE=yE.exports;tl(fw);const wE={name:"NcRawLinkInput",components:{LinkVariantIcon:fp,NcEmptyContent:Ff,NcLoadingIcon:Zf,NcReferenceWidget:ev,NcTextField:vw},props:{provider:{type:Object,required:!0}},emits:["submit"],data(){return{inputValue:"",loading:!1,reference:null,abortController:null,inputPlaceholder:Eo("Enter link")}},computed:{isLinkValid(){return dp(this.inputValue)}},methods:{focus(){this.$refs["url-input"].$el.getElementsByTagName("input")[0]?.focus()},onSubmit(n){const h=n.target.value;this.isLinkValid&&this.$emit("submit",h)},onClear(){this.inputValue="",this.reference=null},onInput(){this.reference=null,this.abortController&&this.abortController.abort(),this.isLinkValid&&ov(()=>{this.updateReference()},500)()},updateReference(){this.loading=!0,this.abortController=new AbortController,Tl.get(is("references/resolve",2)+"?reference="+encodeURIComponent(this.inputValue),{signal:this.abortController.signal}).then(n=>{this.reference=n.data.ocs.data.references[this.inputValue]}).catch(n=>{console.error(n)}).then(()=>{this.loading=!1})}}};var kE=function(){var n=this,h=n._self._c;return h("div",{staticClass:"raw-link"},[h("div",{staticClass:"input-wrapper"},[h("NcTextField",{ref:"url-input",attrs:{value:n.inputValue,"show-trailing-button":n.inputValue!=="",label:n.inputPlaceholder},on:{"update:value":[function(R){n.inputValue=R},n.onInput],"trailing-button-click":n.onClear},nativeOn:{keyup:function(R){return!R.type.indexOf("key")&&n._k(R.keyCode,"enter",13,R.key,"Enter")?null:n.onSubmit.apply(null,arguments)}}},[n.loading?h("NcLoadingIcon",{attrs:{size:16}}):h("LinkVariantIcon",{attrs:{size:16}})],1)],1),n.reference!==null?h("NcReferenceWidget",{staticClass:"reference-widget",attrs:{reference:n.reference}}):h("NcEmptyContent",{staticClass:"raw-link--empty-content",scopedSlots:n._u([{key:"icon",fn:function(){return[n.provider.icon_url?h("img",{staticClass:"provider-icon",attrs:{src:n.provider.icon_url}}):h("LinkVariantIcon")]},proxy:!0}])})],1)},EE=[],SE=oi(wE,kE,EE,!1,null,"3c1803b5");const _E=SE.exports,OE={name:"NcSearchResult",components:{NcHighlight:r0},props:{entry:{type:Object,required:!0},query:{type:String,required:!0}}};var CE=function(){var n=this,h=n._self._c;return h("div",{staticClass:"result"},[n.entry.icon?h("div",{staticClass:"result--icon-class",class:{[n.entry.icon]:!0,rounded:n.entry.rounded}}):h("img",{staticClass:"result--image",class:{rounded:n.entry.rounded},attrs:{src:n.entry.thumbnailUrl}}),h("div",{staticClass:"result--content"},[h("span",{staticClass:"result--content--name"},[h("NcHighlight",{attrs:{search:n.query,text:n.entry.title}})],1),h("span",{staticClass:"result--content--subline"},[h("NcHighlight",{attrs:{search:n.query,text:n.entry.subline}})],1)])])},jE=[],IE=oi(OE,CE,jE,!1,null,"8571023b");const PE=IE.exports;tl(hw,gm,pw);const am=5,TE={name:"NcSearch",components:{LinkVariantIcon:fp,DotsHorizontalIcon:qf,NcEmptyContent:Ff,NcSelect:Ag,NcSearchResult:PE},props:{provider:{type:Object,required:!0},showEmptyContent:{type:Boolean,default:!0},searchPlaceholder:{type:String,default:null}},emits:["submit"],data(){return{searchQuery:"",selectedResult:null,resultsBySearchProvider:{},searching:!1,searchingMoreOf:null,abortController:null,noOptionsText:Eo("Start typing to search"),providerIconAlt:Eo("Provider icon")}},computed:{mySearchPlaceholder(){return this.searchPlaceholder||Eo("Search")},searchProviderIds(){return this.provider.search_providers_ids},options(){if(this.searchQuery==="")return[];const n=[];return dp(this.searchQuery)&&n.push(this.rawLinkEntry),n.push(...this.formattedSearchResults),n},rawLinkEntry(){return{id:"rawLinkEntry",resourceUrl:this.searchQuery,isRawLink:!0}},formattedSearchResults(){const n=[];return this.searchProviderIds.forEach(h=>{if(this.resultsBySearchProvider[h].entries.length>0){(this.searchProviderIds.length>1||this.resultsBySearchProvider[h].entries.length>1)&&n.push({id:"groupTitle-"+h,name:this.resultsBySearchProvider[h].name,isCustomGroupTitle:!0,providerId:h});const R=this.resultsBySearchProvider[h].entries.map((pe,Ce)=>({id:"provider-"+h+"-entry-"+Ce,...pe}));n.push(...R),this.resultsBySearchProvider[h].isPaginated&&n.push({id:"moreOf-"+h,name:this.resultsBySearchProvider[h].name,isMore:!0,providerId:h,isLoading:this.searchingMoreOf===h})}}),n}},mounted(){this.resetResults()},beforeDestroy(){this.cancelSearchRequests()},methods:{t:Eo,resetResults(){const n={};this.searchProviderIds.forEach(h=>{n[h]={entries:[]}}),this.resultsBySearchProvider=n},focus(){setTimeout(()=>{this.$refs["search-select"]?.$el?.querySelector("#search-select-input")?.focus()},300)},cancelSearchRequests(){this.abortController&&this.abortController.abort()},onSearchInput(n,h){this.searchQuery=n,ov(()=>{this.updateSearch()},500)()},onSelectResultSelected(n){n!==null&&(n.resourceUrl?(this.cancelSearchRequests(),this.$emit("submit",n.resourceUrl)):n.isMore&&this.searchMoreOf(n.providerId).then(()=>{this.selectedResult=null}))},searchMoreOf(n){return this.searchingMoreOf=n,this.cancelSearchRequests(),this.searchProviders(n)},updateSearch(){if(this.cancelSearchRequests(),this.resetResults(),this.searchQuery===""){this.searching=!1;return}return this.searchProviders()},searchProviders(n=null){this.abortController=new AbortController,this.searching=!0;const h=n===null?[...this.searchProviderIds].map(R=>this.searchOneProvider(R)):[this.searchOneProvider(n,this.resultsBySearchProvider[n]?.cursor??null)];return Promise.allSettled(h).then(R=>{R.find(pe=>pe.status==="rejected"&&(pe.reason.name==="CanceledError"||pe.reason.code==="ERR_CANCELED"))||(this.searching=!1,this.searchingMoreOf=null)})},searchOneProvider(n,h=null){const R=h===null?is("search/providers/{providerId}/search?term={term}&limit={limit}",{providerId:n,term:this.searchQuery,limit:am}):is("search/providers/{providerId}/search?term={term}&limit={limit}&cursor={cursor}",{providerId:n,term:this.searchQuery,limit:am,cursor:h});return Tl.get(R,{signal:this.abortController.signal}).then(pe=>{const Ce=pe.data.ocs.data;this.resultsBySearchProvider[n].name=Ce.name,this.resultsBySearchProvider[n].cursor=Ce.cursor,this.resultsBySearchProvider[n].isPaginated=Ce.isPaginated,this.resultsBySearchProvider[n].entries.push(...Ce.entries)})}}};var ME=function(){var n=this,h=n._self._c;return h("div",{staticClass:"smart-picker-search",class:{"with-empty-content":n.showEmptyContent}},[h("NcSelect",{ref:"search-select",staticClass:"smart-picker-search--select",attrs:{"input-id":"search-select-input",label:"name",placeholder:n.mySearchPlaceholder,options:n.options,"append-to-body":!1,"close-on-select":!1,"clear-search-on-select":!1,"clear-search-on-blur":()=>!1,"reset-focus-on-options-change":!1,filterable:!1,autoscroll:!0,"reset-on-options-change":!1,loading:n.searching},on:{search:n.onSearchInput,input:n.onSelectResultSelected},scopedSlots:n._u([{key:"option",fn:function(R){return[R.isRawLink?h("div",{staticClass:"custom-option"},[h("LinkVariantIcon",{staticClass:"option-simple-icon",attrs:{size:20}}),h("span",{staticClass:"option-text"},[n._v(" "+n._s(n.t("Raw link {options}",{options:R.resourceUrl}))+" ")])],1):R.resourceUrl?h("NcSearchResult",{staticClass:"search-result",attrs:{entry:R,query:n.searchQuery}}):R.isCustomGroupTitle?h("span",{staticClass:"custom-option group-name"},[n.provider.icon_url?h("img",{staticClass:"provider-icon group-name-icon",attrs:{src:n.provider.icon_url}}):n._e(),h("span",{staticClass:"option-text"},[h("strong",[n._v(n._s(R.name))])])]):R.isMore?h("span",{class:{"custom-option":!0}},[R.isLoading?h("span",{staticClass:"option-simple-icon icon-loading-small"}):h("DotsHorizontalIcon",{staticClass:"option-simple-icon",attrs:{size:20}}),h("span",{staticClass:"option-text"},[n._v(" "+n._s(n.t('Load more "{options}"',{options:R.name}))+" ")])],1):n._e()]}},{key:"no-options",fn:function(){return[n._v(" "+n._s(n.noOptionsText)+" ")]},proxy:!0}]),model:{value:n.selectedResult,callback:function(R){n.selectedResult=R},expression:"selectedResult"}}),n.showEmptyContent?h("NcEmptyContent",{staticClass:"smart-picker-search--empty-content",scopedSlots:n._u([{key:"icon",fn:function(){return[n.provider.icon_url?h("img",{staticClass:"provider-icon",attrs:{alt:n.providerIconAlt,src:n.provider.icon_url}}):h("LinkVariantIcon")]},proxy:!0}],null,!1,2922132592)}):n._e()],1)},AE=[],DE=oi(TE,ME,AE,!1,null,"05fef988");const LE=DE.exports,Xc={providerList:1,standardLinkInput:2,searchInput:3,customElement:4},RE={name:"NcReferencePicker",components:{NcCustomPickerElement:lE,NcProviderList:xE,NcRawLinkInput:_E,NcSearch:LE},props:{initialProvider:{type:Object,default:()=>null},width:{type:Number,default:null},focusOnCreate:{type:Boolean,default:!0}},emits:["cancel","cancel-raw-link","cancel-search","provider-selected","submit"],data(){return{MODES:Xc,selectedProvider:this.initialProvider}},computed:{mode(){return this.selectedProvider===null?Xc.providerList:cu(this.selectedProvider.id)?Xc.customElement:this.selectedProvider.search_providers_ids?Xc.searchInput:Xc.standardLinkInput},pickerWrapperStyle(){return{width:this.width?this.width+"px":void 0}}},mounted(){this.focusOnCreate&&(this.initialProvider?setTimeout(()=>{this.$refs["url-input"]?.focus()},300):this.$nextTick(()=>{this.$refs["provider-list"]?.focus()}))},methods:{onEscapePressed(){this.selectedProvider!==null?this.deselectProvider():this.cancelProviderSelection()},onProviderSelected(n){this.selectedProvider=n,this.$emit("provider-selected",n),this.$nextTick(()=>{this.$refs["url-input"]?.focus()})},cancelCustomElement(){this.deselectProvider()},cancelSearch(){this.$emit("cancel-search",this.selectedProvider?.title),this.deselectProvider()},cancelRawLinkInput(){this.$emit("cancel-raw-link",this.selectedProvider?.title),this.deselectProvider()},cancelProviderSelection(){this.$emit("cancel")},submitLink(n){this.selectedProvider!==null&&dE(this.selectedProvider.id),this.$emit("submit",n),this.deselectProvider()},deselectProvider(){this.selectedProvider=null,this.$emit("provider-selected",null),setTimeout(()=>{this.$refs["provider-list"]?.focus()},300)}}};var NE=function(){var n=this,h=n._self._c;return h("div",{staticClass:"reference-picker",style:n.pickerWrapperStyle,attrs:{tabindex:"-1"},on:{keydown:function(R){return!R.type.indexOf("key")&&n._k(R.keyCode,"esc",27,R.key,["Esc","Escape"])?null:(R.stopPropagation(),R.preventDefault(),n.onEscapePressed.apply(null,arguments))}}},[n.mode===n.MODES.providerList?h("NcProviderList",{ref:"provider-list",on:{"select-provider":n.onProviderSelected,submit:n.submitLink,cancel:n.cancelProviderSelection}}):n.mode===n.MODES.standardLinkInput?h("NcRawLinkInput",{ref:"url-input",attrs:{provider:n.selectedProvider},on:{submit:n.submitLink,cancel:n.cancelRawLinkInput}}):n.mode===n.MODES.searchInput?h("NcSearch",{ref:"url-input",attrs:{provider:n.selectedProvider},on:{cancel:n.cancelSearch,submit:n.submitLink}}):n.mode===n.MODES.customElement?h("div",{staticClass:"custom-element-wrapper"},[h("NcCustomPickerElement",{staticClass:"custom-element",attrs:{provider:n.selectedProvider},on:{submit:n.submitLink,cancel:n.cancelCustomElement}})],1):n._e()],1)},ZE=[],zE=oi(RE,NE,ZE,!1,null,"cd33df8e");const BE=zE.exports;tl(mw,mm);const FE={name:"NcReferencePickerModal",components:{NcReferencePicker:BE,NcModal:Qg,NcButton:pu,ArrowLeftIcon:qk,CloseIcon:zf},props:{initialProvider:{type:Object,default:()=>null},focusOnCreate:{type:Boolean,default:!0},isInsideViewer:{type:Boolean,default:!1}},emits:["cancel","submit"],data(){return{show:!0,selectedProvider:this.initialProvider,backButtonTitle:Eo("Back to provider selection"),closeButtonTitle:Eo("Close"),closeButtonLabel:Eo("Close Smart Picker")}},computed:{isProviderSelected(){return this.selectedProvider!==null},showBackButton(){return this.initialProvider===null&&this.isProviderSelected},modalSize(){return this.isProviderSelected&&cu(this.selectedProvider.id)?Yw(this.selectedProvider.id)??"large":"normal"},showModalName(){return!this.isProviderSelected||!cu(this.selectedProvider.id)},modalName(){return this.isProviderSelected?this.selectedProvider.title:Eo("Smart Picker")}},mounted(){if(this.isInsideViewer){const n=this.$refs.modal_content;gw("viewer:trapElements:changed",n)}},methods:{onCancel(){this.show=!1,this.$emit("cancel")},onSubmit(n){this.show=!1,this.$emit("submit",n)},onProviderSelect(n){this.selectedProvider=n,n===null&&this.initialProvider!==null&&this.onCancel()},onBackClicked(){this.$refs.referencePicker.deselectProvider()}}};var HE=function(){var n=this,h=n._self._c;return n.show?h("NcModal",{staticClass:"reference-picker-modal",attrs:{size:n.modalSize,"can-close":!0},on:{close:n.onCancel}},[h("div",{ref:"modal_content",staticClass:"reference-picker-modal--content"},[n.showBackButton?h("NcButton",{staticClass:"back-button",attrs:{"aria-label":n.backButtonTitle,title:n.backButtonTitle},on:{click:n.onBackClicked},scopedSlots:n._u([{key:"icon",fn:function(){return[h("ArrowLeftIcon")]},proxy:!0}],null,!1,3001860362)}):n._e(),h("NcButton",{staticClass:"close-button",attrs:{"aria-label":n.closeButtonLabel,title:n.closeButtonTitle,type:"tertiary"},on:{click:n.onCancel},scopedSlots:n._u([{key:"icon",fn:function(){return[h("CloseIcon")]},proxy:!0}],null,!1,2491825086)}),n.showModalName?h("h2",[n._v(" "+n._s(n.modalName)+" ")]):n._e(),h("NcReferencePicker",{ref:"referencePicker",attrs:{"initial-provider":n.initialProvider,"focus-on-create":n.focusOnCreate},on:{"provider-selected":n.onProviderSelect,submit:n.onSubmit,cancel:n.onCancel}})],1)]):n._e()},WE=[],UE=oi(FE,HE,WE,!1,null,"a742c4c2");const VE=UE.exports;async function KE(n=null,h=void 0){return await new Promise((R,pe)=>{const Ce="referencePickerModal",Fe=document.createElement("div");Fe.id=Ce,document.body.append(Fe);const Je=n===null?null:sE(n)??null,Qe=Al.extend(VE),yt=new Qe({propsData:{initialProvider:Je,isInsideViewer:h}}).$mount(Fe);yt.$on("cancel",()=>{yt.$destroy(),pe(new Error("User cancellation"))}),yt.$on("submit",wt=>{yt.$destroy(),R(wt)})})}tl();const YE={name:"NcReferenceList",components:{NcReferenceWidget:ev},props:{text:{type:String,default:""},referenceData:{type:Object,default:null},limit:{type:Number,default:1},displayFallback:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},interactiveOptIn:{type:Boolean,default:!1}},data(){return{references:null,loading:!0}},computed:{isVisible(){return this.loading||this.displayedReferences.length!==0},values(){return this.referenceData?this.referenceData:this.displayFallback&&!this.loading&&!this.references?[this.fallbackReference]:this.references?Object.values(this.references):[]},firstReference(){return this.values[0]??null},displayedReferences(){return this.values.slice(0,this.limit)},fallbackReference(){return{accessible:!0,openGraphObject:{id:this.text,link:this.text,name:this.text},richObjectType:"open-graph"}}},watch:{text:"fetch"},mounted(){this.fetch()},methods:{fetch(){if(this.loading=!0,this.referenceData){this.references=null,this.loading=!1;return}if(!new RegExp(C1).exec(this.text)){this.references=null,this.loading=!1;return}this.resolve().then(n=>{this.references=n.data.ocs.data.references,this.loading=!1,this.$emit("loaded")}).catch(n=>{console.error("Failed to extract references",n),this.loading=!1,this.$emit("loaded")})},resolve(){const n=new RegExp(C1).exec(this.text.trim()),h=lu()===null;return this.limit===1&&n?h?Tl.get(is("references/resolvePublic")+`?reference=${encodeURIComponent(n[0])}&sharingToken=${Sh()}`):Tl.get(is("references/resolve")+`?reference=${encodeURIComponent(n[0])}`):h?Tl.post(is("references/extractPublic"),{text:this.text,resolve:!0,limit:this.limit,sharingToken:Sh()}):Tl.post(is("references/extract"),{text:this.text,resolve:!0,limit:this.limit})}}};var XE=function(){var n=this,h=n._self._c;return n.isVisible?h("div",{staticClass:"widgets--list",class:{"icon-loading":n.loading}},n._l(n.displayedReferences,function(R){return h("NcReferenceWidget",{key:R?.openGraphObject?.id,attrs:{reference:R,interactive:n.interactive,"interactive-opt-in":n.interactiveOptIn}})}),1):n._e()},$E=[],GE=oi(YE,XE,$E,!1,null,"2677cf0e");const qE=GE.exports;pi(!1);const JE=function({componentProps:n,component:h}){const R=ji.useRef(null),[pe,Ce]=ji.useState(void 0);return ji.useEffect(()=>{async function Fe(){}return Fe(),Ce(new Al({el:R.current,data(){return{props:n}},render(Je){return Je(h,{props:this.props})}})),()=>{pe?.$destroy()}},[]),ji.useEffect(()=>{pe&&Object.keys(n).forEach(Fe=>{pe.props[Fe]=n[Fe]})},[Object.values(n)]),ji.createElement("div",{id:"vue-component",ref:R})};function QE(n){const h={text:n.link,limit:1,interactive:!0};return ji.createElement(JE,{componentProps:h,component:qE})}const $c=new Map(hl.languages.map(n=>[n.code.toLowerCase(),n.code]));function lm(n){const h=n.toLowerCase();if($c.has(h))return $c.get(h);const R=h.replace("_","-");if($c.has(R))return $c.get(R);for(const[pe,Ce]of $c)if(pe.startsWith(h)||h.startsWith(pe.split("-")[0]))return Ce;return"en"}function e9(){const[n,h]=ia.useState(()=>lm(kh()));return ia.useEffect(()=>{const R=kh();h(lm(R))},[]),n}function i9({fileId:n,isEmbedded:h,fileName:R,publicSharingToken:pe}){const Ce=R.split(".").slice(0,-1).join("."),[Fe,Je]=ia.useState(h),[Qe]=ia.useState(h),[yt]=ia.useState(!1),wt=()=>{const H=document.body.dataset?.themes;return window.matchMedia("(prefers-color-scheme: dark)").matches&&(H===void 0||H?.indexOf("light")===-1)||H?.indexOf("dark")>-1},[gt,pt]=ia.useState(wt()?"dark":"light"),Ze=e9();ia.useEffect(()=>{const H=()=>pt(wt()?"dark":"light"),x=window.matchMedia("(prefers-color-scheme: dark)");return x.addEventListener("change",H),()=>{x.removeEventListener("change",H)}},[]);const te={elements:[],appState:{currentItemFontFamily:3,currentItemStrokeWidth:1,currentItemRoughness:0},scrollToContent:!0},t=ia.useRef({promise:null});t.current.promise||(t.current.promise=Tw());const[e,_]=ia.useState(null),[g,p]=ia.useState(null);e&&!g&&p(new Fw(e,n,pe,Je)),g&&!g.portal.socket&&g.startCollab(),ia.useEffect(()=>{const H=document.getElementsByClassName("App-toolbar__extra-tools-trigger")[0],x=document.createElement("label");x.classList.add("ToolIcon","Shape"),H&&(H.parentNode?.insertBefore(x,H.previousSibling),n0.createRoot(x).render(N()))}),ia.useEffect(()=>()=>{g&&g.portal.disconnectSocket()},[e]),ia.useEffect(()=>{const H=()=>{g&&g.portal.disconnectSocket()};return window.addEventListener("beforeunload",H),()=>{g&&g.portal.disconnectSocket(),window.removeEventListener("beforeunload",H)}},[g]),hl.useHandleLibrary({excalidrawAPI:e}),ia.useEffect(()=>{e&&(async()=>{t.current.promise.resolve(te)})().then()},[e]);const y=ia.useCallback((H,x)=>{const m=H.link,{nativeEvent:k}=x.detail,Q=k.ctrlKey||k.metaKey,ue=k.shiftKey;(m.startsWith("/")||m.includes(window.location.origin))&&!Q&&!ue&&x.preventDefault()},[]),T=H=>{let x;e?x=hl.viewportCoordsToSceneCoords({clientX:100,clientY:100},e.getAppState()):x={x:0,y:0};const m=e?.getSceneElementsIncludingDeleted().slice();m?.push({link:H,id:(Math.random()+1).toString(36).substring(7),x:x.x,y:x.y,strokeColor:"#1e1e1e",backgroundColor:"transparent",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roundness:null,roughness:1,opacity:100,width:400,height:200,angle:0,seed:0,version:0,versionNonce:0,isDeleted:!1,groupIds:[],frameId:null,boundElements:null,updated:0,locked:!1,type:"embeddable",validated:!0}),e?.updateScene({elements:m})},E=()=>{KE(null,!0).then(H=>{T(H)})},a=()=>{const H=document.querySelector(".excalidraw__canvas").toDataURL("image/png"),x=document.createElement("a");x.href=H,x.download=`${Ce} Screenshot.png`,document.body.appendChild(x),x.click()},u=()=>ji.createElement(hl.MainMenu,null,ji.createElement(hl.MainMenu.DefaultItems.ToggleTheme,null),ji.createElement(hl.MainMenu.DefaultItems.ChangeCanvasBackground,null),ji.createElement(hl.MainMenu.Separator,null),ji.createElement(hl.MainMenu.DefaultItems.SaveAsImage,null),ji.createElement(hl.MainMenu.Item,{icon:ji.createElement(sf.Icon,{path:Sw,size:"16px"}),onSelect:()=>a()},"Download screenshot")),N=()=>ji.createElement("button",{className:"dropdown-menu-button App-toolbar__extra-tools-trigger","aria-label":"Smart picker","aria-keyshortcuts":"0",onClick:E,title:"Smart picker"},ji.createElement(sf.Icon,{path:_w,size:1}));return ji.createElement("div",{className:"App"},ji.createElement("div",{className:"excalidraw-wrapper"},ji.createElement(hl.Excalidraw,{validateEmbeddable:()=>!0,renderEmbeddable:QE,excalidrawAPI:H=>{console.log(H),console.log("Setting API"),_(H)},initialData:t.current.promise,onPointerUpdate:g?.onPointerUpdate,viewModeEnabled:Fe,zenModeEnabled:Qe,gridModeEnabled:yt,theme:gt,name:Ce,UIOptions:{canvasActions:{loadScene:!1}},onLinkOpen:y,langCode:Ze},u())))}export{i9 as default};
