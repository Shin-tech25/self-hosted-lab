{"version":3,"file":"onlyoffice-directeditor.js?v=49f4e3b711d1e293114f","mappings":"CAiCA,SAAUA,GAETA,EAAIC,WAAaC,EAAEC,OAAO,CAAC,EAAGH,EAAIC,YAElC,MAAMG,EAAoB,SAASC,EAAaC,GAC/C,IAAIC,EAAUF,OACY,IAAfC,IACVC,EAAU,CACTC,YAAaH,EACbI,OAAQH,IAGV,IAAII,EAAmB,KACvB,IACCA,EAAmBC,KAAKC,UAAUN,EACnC,CAAE,MAAOO,GACRH,EAAmB,IACpB,CAGII,OAAOC,8BAA4F,mBAArDD,OAAOC,6BAA6BV,KACjFK,QACHI,OAAOC,6BAA6BV,KAEpCS,OAAOC,6BAA6BV,GAAaK,IAK/CI,OAAOE,QACEF,OAAOE,OAAOC,iBACdH,OAAOE,OAAOC,gBAAgBF,8BAC1CD,OAAOE,OAAOC,gBAAgBF,6BAA6BG,YAAYX,GAGxEO,OAAOI,YAAYX,EACpB,EAEAP,EAAIC,WAAWkB,aAAe,CAC7BC,KAAAA,GACChB,EAAkB,QACnB,EACAiB,MAAAA,GACCjB,EAAkB,SACnB,GAGDU,OAAOQ,OAAS,WACWC,SAASC,eAAe,uBAGjDxB,EAAIC,WAAWkB,aAAaE,SACIE,SAASC,eAAe,2BAChCC,iBAAiB,SAAS,WACjDzB,EAAIC,WAAWkB,aAAaC,OAC7B,IAEF,CAEA,CA3DD,CA2DGpB","sources":["webpack:///onlyoffice/src/directeditor.js"],"sourcesContent":["/**\n *\n * (c) Copyright Ascensio System SIA 2025\n *\n * This program is a free software product.\n * You can redistribute it and/or modify it under the terms of the GNU Affero General Public License\n * (AGPL) version 3 as published by the Free Software Foundation.\n * In accordance with Section 7(a) of the GNU AGPL its Section 15 shall be amended to the effect\n * that Ascensio System SIA expressly excludes the warranty of non-infringement of any third-party rights.\n *\n * This program is distributed WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * For details, see the GNU AGPL at: http://www.gnu.org/licenses/agpl-3.0.html\n *\n * You can contact Ascensio System SIA at 20A-12 Ernesta Birznieka-Upisha street, Riga, Latvia, EU, LV-1050.\n *\n * The interactive user interfaces in modified source and object code versions of the Program\n * must display Appropriate Legal Notices, as required under Section 5 of the GNU AGPL version 3.\n *\n * Pursuant to Section 7(b) of the License you must retain the original Product logo when distributing the program.\n * Pursuant to Section 7(e) we decline to grant you any rights under trademark law for use of our trademarks.\n *\n * All the Product's GUI elements, including illustrations and icon sets, as well as technical\n * writing content are licensed under the terms of the Creative Commons Attribution-ShareAlike 4.0 International.\n * See the License terms at http://creativecommons.org/licenses/by-sa/4.0/legalcode\n *\n */\n\n/* global _ */\n\n/**\n * @param {object} OCA Nextcloud OCA object\n */\n(function(OCA) {\n\n\tOCA.Onlyoffice = _.extend({}, OCA.Onlyoffice)\n\n\tconst callMobileMessage = function(messageName, attributes) {\n\t\tlet message = messageName\n\t\tif (typeof attributes !== 'undefined') {\n\t\t\tmessage = {\n\t\t\t\tMessageName: messageName,\n\t\t\t\tValues: attributes,\n\t\t\t}\n\t\t}\n\t\tlet attributesString = null\n\t\ttry {\n\t\t\tattributesString = JSON.stringify(attributes)\n\t\t} catch (e) {\n\t\t\tattributesString = null\n\t\t}\n\n\t\t// Forward to mobile handler\n\t\tif (window.DirectEditingMobileInterface && typeof window.DirectEditingMobileInterface[messageName] === 'function') {\n\t\t\tif (attributesString === null || typeof attributesString === 'undefined') {\n\t\t\t\twindow.DirectEditingMobileInterface[messageName]()\n\t\t\t} else {\n\t\t\t\twindow.DirectEditingMobileInterface[messageName](attributesString)\n\t\t\t}\n\t\t}\n\n\t\t// iOS webkit fallback\n\t\tif (window.webkit\n            && window.webkit.messageHandlers\n            && window.webkit.messageHandlers.DirectEditingMobileInterface) {\n\t\t\twindow.webkit.messageHandlers.DirectEditingMobileInterface.postMessage(message)\n\t\t}\n\n\t\twindow.postMessage(message)\n\t}\n\n\tOCA.Onlyoffice.directEditor = {\n\t\tclose() {\n\t\t\tcallMobileMessage('close')\n\t\t},\n\t\tloaded() {\n\t\t\tcallMobileMessage('loaded')\n\t\t},\n\t}\n\n\twindow.onload = function() {\n\t\tconst directEditorError = document.getElementById('directEditorError')\n\n\t\tif (directEditorError) {\n\t\t\tOCA.Onlyoffice.directEditor.loaded()\n\t\t\tconst directEditorErrorButton = document.getElementById('directEditorErrorButton')\n\t\t\tdirectEditorErrorButton.addEventListener('click', function() {\n\t\t\t\tOCA.Onlyoffice.directEditor.close()\n\t\t\t})\n\t\t}\n\t}\n\n})(OCA)\n"],"names":["OCA","Onlyoffice","_","extend","callMobileMessage","messageName","attributes","message","MessageName","Values","attributesString","JSON","stringify","e","window","DirectEditingMobileInterface","webkit","messageHandlers","postMessage","directEditor","close","loaded","onload","document","getElementById","addEventListener"],"sourceRoot":""}