{"version":3,"file":"onlyoffice-viewer.js?v=a99537b3dc1a87c72796","mappings":"CAiCA,SAAUA,GACT,GAAIA,EAAIC,WACP,OAGDD,EAAIC,WAAa,CAChBC,QAAS,aACTC,cAAe,KACfC,QAAS,CAAC,GAGXJ,EAAIC,WAAWG,QAAUC,IAAIC,aAAaC,UAAUP,EAAIC,WAAWC,QAAS,YAE5E,MAAMM,EAAsB,CAC3BC,KAAM,sBACNC,MAAAA,CAAOC,GACN,MAAMC,EAAOC,KAEb,OAAOF,EAAc,SAAU,CAC9BG,MAAO,CACNC,GAAI,wBACJC,UAAW,KACXC,IAAKL,EAAKM,IAAM,+BAEjBC,GAAI,CACHC,IAAAA,GACCR,EAAKS,aACN,IAGH,EACAC,MAAO,CACNC,SAAU,CACTC,KAAMC,OACNC,QAAS,MAEVC,OAAQ,CACPH,KAAMI,OACNF,QAAS,OAGXG,IAAAA,GACC,MAAO,CACNX,IAAKY,GAAGC,YAAY,SAAW/B,EAAIC,WAAWC,QAAU,gCACvD,CACC8B,OAAQnB,KAAKc,OACbM,SAAUpB,KAAKU,WAGnB,GAGD,GAAIvB,EAAIkC,OAAQ,CACflC,EAAIC,WAAWE,cAAgB,yBAE/B,MAAMgC,EAAQC,EAAEC,IAAIrC,EAAIC,WAAWG,QAAQkC,SAAS,SAASC,GAC5D,GAAIA,EAAOC,IACV,OAAOD,EAAOE,IAEhB,IACAN,EAAMO,OACN1C,EAAIkC,OAAOS,gBAAgB,CAC1B5B,GAAIf,EAAIC,WAAWC,QACnB0C,MAAO,KACPT,QACAU,UAAWrC,GAEb,CAEA,CArED,CAqEGR","sources":["webpack:///onlyoffice/src/viewer.js"],"sourcesContent":["/**\n *\n * (c) Copyright Ascensio System SIA 2025\n *\n * This program is a free software product.\n * You can redistribute it and/or modify it under the terms of the GNU Affero General Public License\n * (AGPL) version 3 as published by the Free Software Foundation.\n * In accordance with Section 7(a) of the GNU AGPL its Section 15 shall be amended to the effect\n * that Ascensio System SIA expressly excludes the warranty of non-infringement of any third-party rights.\n *\n * This program is distributed WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * For details, see the GNU AGPL at: http://www.gnu.org/licenses/agpl-3.0.html\n *\n * You can contact Ascensio System SIA at 20A-12 Ernesta Birznieka-Upisha street, Riga, Latvia, EU, LV-1050.\n *\n * The interactive user interfaces in modified source and object code versions of the Program\n * must display Appropriate Legal Notices, as required under Section 5 of the GNU AGPL version 3.\n *\n * Pursuant to Section 7(b) of the License you must retain the original Product logo when distributing the program.\n * Pursuant to Section 7(e) we decline to grant you any rights under trademark law for use of our trademarks.\n *\n * All the Product's GUI elements, including illustrations and icon sets, as well as technical\n * writing content are licensed under the terms of the Creative Commons Attribution-ShareAlike 4.0 International.\n * See the License terms at http://creativecommons.org/licenses/by-sa/4.0/legalcode\n *\n */\n\n/* global $ */\n\n/**\n * @param {object} OCA Nextcloud OCA object\n */\n(function(OCA) {\n\tif (OCA.Onlyoffice) {\n\t\treturn\n\t}\n\n\tOCA.Onlyoffice = {\n\t\tAppName: 'onlyoffice',\n\t\tframeSelector: null,\n\t\tsetting: {},\n\t}\n\n\tOCA.Onlyoffice.setting = OCP.InitialState.loadState(OCA.Onlyoffice.AppName, 'settings')\n\n\tconst OnlyofficeViewerVue = {\n\t\tname: 'OnlyofficeViewerVue',\n\t\trender(createElement) {\n\t\t\tconst self = this\n\n\t\t\treturn createElement('iframe', {\n\t\t\t\tattrs: {\n\t\t\t\t\tid: 'onlyofficeViewerFrame',\n\t\t\t\t\tscrolling: 'no',\n\t\t\t\t\tsrc: self.url + '&inframe=true&inviewer=true',\n\t\t\t\t},\n\t\t\t\ton: {\n\t\t\t\t\tload() {\n\t\t\t\t\t\tself.doneLoading()\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tprops: {\n\t\t\tfilename: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: null,\n\t\t\t},\n\t\t\tfileid: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: null,\n\t\t\t},\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\turl: OC.generateUrl('/apps/' + OCA.Onlyoffice.AppName + '/{fileId}?filePath={filePath}',\n\t\t\t\t\t{\n\t\t\t\t\t\tfileId: this.fileid,\n\t\t\t\t\t\tfilePath: this.filename,\n\t\t\t\t\t}),\n\t\t\t}\n\t\t},\n\t}\n\n\tif (OCA.Viewer) {\n\t\tOCA.Onlyoffice.frameSelector = '#onlyofficeViewerFrame'\n\n\t\tconst mimes = $.map(OCA.Onlyoffice.setting.formats, function(format) {\n\t\t\tif (format.def) {\n\t\t\t\treturn format.mime\n\t\t\t}\n\t\t})\n\t\tmimes.flat()\n\t\tOCA.Viewer.registerHandler({\n\t\t\tid: OCA.Onlyoffice.AppName,\n\t\t\tgroup: null,\n\t\t\tmimes,\n\t\t\tcomponent: OnlyofficeViewerVue,\n\t\t})\n\t}\n\n})(OCA)\n"],"names":["OCA","Onlyoffice","AppName","frameSelector","setting","OCP","InitialState","loadState","OnlyofficeViewerVue","name","render","createElement","self","this","attrs","id","scrolling","src","url","on","load","doneLoading","props","filename","type","String","default","fileid","Number","data","OC","generateUrl","fileId","filePath","Viewer","mimes","$","map","formats","format","def","mime","flat","registerHandler","group","component"],"sourceRoot":""}