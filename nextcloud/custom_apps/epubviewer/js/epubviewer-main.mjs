/*! third party licenses: js/vendor.LICENSE.txt */
import{U as ei,_ as oo}from"./index-DBcqYq5n.chunk.mjs";function ri(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var io={exports:{}},W=io.exports={},It,Tt;function xr(){throw new Error("setTimeout has not been defined")}function Lr(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?It=setTimeout:It=xr}catch{It=xr}try{typeof clearTimeout=="function"?Tt=clearTimeout:Tt=Lr}catch{Tt=Lr}})();function so(e){if(It===setTimeout)return setTimeout(e,0);if((It===xr||!It)&&setTimeout)return It=setTimeout,setTimeout(e,0);try{return It(e,0)}catch{try{return It.call(null,e,0)}catch{return It.call(this,e,0)}}}function ni(e){if(Tt===clearTimeout)return clearTimeout(e);if((Tt===Lr||!Tt)&&clearTimeout)return Tt=clearTimeout,clearTimeout(e);try{return Tt(e)}catch{try{return Tt.call(null,e)}catch{return Tt.call(this,e)}}}var Pt=[],Jt=!1,Ft,De=-1;function oi(){!Jt||!Ft||(Jt=!1,Ft.length?Pt=Ft.concat(Pt):De=-1,Pt.length&&ao())}function ao(){if(!Jt){var e=so(oi);Jt=!0;for(var t=Pt.length;t;){for(Ft=Pt,Pt=[];++De<t;)Ft&&Ft[De].run();De=-1,t=Pt.length}Ft=null,Jt=!1,ni(e)}}W.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Pt.push(new uo(e,t)),Pt.length===1&&!Jt&&so(ao)};function uo(e,t){this.fun=e,this.array=t}uo.prototype.run=function(){this.fun.apply(null,this.array)},W.title="browser",W.browser=!0,W.env={},W.argv=[],W.version="",W.versions={};function Lt(){}W.on=Lt,W.addListener=Lt,W.once=Lt,W.off=Lt,W.removeListener=Lt,W.removeAllListeners=Lt,W.emit=Lt,W.prependListener=Lt,W.prependOnceListener=Lt,W.listeners=function(e){return[]},W.binding=function(e){throw new Error("process.binding is not supported")},W.cwd=function(){return"/"},W.chdir=function(e){throw new Error("process.chdir is not supported")},W.umask=function(){return 0};var ii=io.exports;const Ut=ri(ii);function co(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function dn(e,t){for(var r="",n=0,s=-1,i=0,h,c=0;c<=e.length;++c){if(c<e.length)h=e.charCodeAt(c);else{if(h===47)break;h=47}if(h===47){if(!(s===c-1||i===1))if(s!==c-1&&i===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),s=c,i=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=c,i=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(s+1,c):r=e.slice(s+1,c),n=c-s-1;s=c,i=0}else h===46&&i!==-1?++i:i=-1}return r}function si(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}var fe={resolve:function(){for(var e="",t=!1,r,n=arguments.length-1;n>=-1&&!t;n--){var s;n>=0?s=arguments[n]:(r===void 0&&(r=Ut.cwd()),s=r),Nt(s),s.length!==0&&(e=s+"/"+e,t=s.charCodeAt(0)===47)}return e=dn(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Nt(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=dn(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return Nt(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];Nt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":fe.normalize(e)},relative:function(e,t){if(Nt(e),Nt(t),e===t||(e=fe.resolve(e),t=fe.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var n=e.length,s=n-r,i=1;i<t.length&&t.charCodeAt(i)===47;++i);for(var h=t.length,c=h-i,u=s<c?s:c,o=-1,a=0;a<=u;++a){if(a===u){if(c>u){if(t.charCodeAt(i+a)===47)return t.slice(i+a+1);if(a===0)return t.slice(i+a)}else s>u&&(e.charCodeAt(r+a)===47?o=a:a===0&&(o=0));break}var g=e.charCodeAt(r+a),l=t.charCodeAt(i+a);if(g!==l)break;g===47&&(o=a)}var f="";for(a=r+o+1;a<=n;++a)(a===n||e.charCodeAt(a)===47)&&(f.length===0?f+="..":f+="/..");return f.length>0?f+t.slice(i+o):(i+=o,t.charCodeAt(i)===47&&++i,t.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(Nt(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,n=-1,s=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),t===47){if(!s){n=i;break}}else s=!1;return n===-1?r?"/":".":r&&n===1?"//":e.slice(0,n)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Nt(e);var r=0,n=-1,s=!0,i;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var h=t.length-1,c=-1;for(i=e.length-1;i>=0;--i){var u=e.charCodeAt(i);if(u===47){if(!s){r=i+1;break}}else c===-1&&(s=!1,c=i+1),h>=0&&(u===t.charCodeAt(h)?--h===-1&&(n=i):(h=-1,n=c))}return r===n?n=c:n===-1&&(n=e.length),e.slice(r,n)}else{for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===47){if(!s){r=i+1;break}}else n===-1&&(s=!1,n=i+1);return n===-1?"":e.slice(r,n)}},extname:function(e){Nt(e);for(var t=-1,r=0,n=-1,s=!0,i=0,h=e.length-1;h>=0;--h){var c=e.charCodeAt(h);if(c===47){if(!s){r=h+1;break}continue}n===-1&&(s=!1,n=h+1),c===46?t===-1?t=h:i!==1&&(i=1):t!==-1&&(i=-1)}return t===-1||n===-1||i===0||i===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return si("/",e)},parse:function(e){Nt(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),n=r===47,s;n?(t.root="/",s=1):s=0;for(var i=-1,h=0,c=-1,u=!0,o=e.length-1,a=0;o>=s;--o){if(r=e.charCodeAt(o),r===47){if(!u){h=o+1;break}continue}c===-1&&(u=!1,c=o+1),r===46?i===-1?i=o:a!==1&&(a=1):i!==-1&&(a=-1)}return i===-1||c===-1||a===0||a===1&&i===c-1&&i===h+1?c!==-1&&(h===0&&n?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(h,c)):(h===0&&n?(t.name=e.slice(1,i),t.base=e.slice(1,c)):(t.name=e.slice(h,i),t.base=e.slice(h,c)),t.ext=e.slice(i,c)),h>0?t.dir=e.slice(0,h-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};fe.posix=fe;var ur={};const ai=typeof Ut=="object"&&ur&&ur.NODE_DEBUG&&/\bsemver\b/i.test(ur.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var lo=ai;const ui="2.0.0",ho=256,ci=Number.MAX_SAFE_INTEGER||9007199254740991,li=16,hi=ho-6,pi=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var po={MAX_LENGTH:ho,MAX_SAFE_COMPONENT_LENGTH:li,MAX_SAFE_BUILD_LENGTH:hi,MAX_SAFE_INTEGER:ci,RELEASE_TYPES:pi,SEMVER_SPEC_VERSION:ui,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Sr={exports:{}};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=po,i=lo;t=e.exports={};const h=t.re=[],c=t.safeRe=[],u=t.src=[],o=t.t={};let a=0;const g="[a-zA-Z0-9-]",l=[["\\s",1],["\\d",s],[g,n]],f=d=>{for(const[E,N]of l)d=d.split(`${E}*`).join(`${E}{0,${N}}`).split(`${E}+`).join(`${E}{1,${N}}`);return d},p=(d,E,N)=>{const m=f(E),v=a++;i(d,v,E),o[d]=v,u[v]=E,h[v]=new RegExp(E,N?"g":void 0),c[v]=new RegExp(m,N?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),p("MAINVERSION",`(${u[o.NUMERICIDENTIFIER]})\\.(${u[o.NUMERICIDENTIFIER]})\\.(${u[o.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${u[o.NUMERICIDENTIFIERLOOSE]})\\.(${u[o.NUMERICIDENTIFIERLOOSE]})\\.(${u[o.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${u[o.NUMERICIDENTIFIER]}|${u[o.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${u[o.NUMERICIDENTIFIERLOOSE]}|${u[o.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${u[o.PRERELEASEIDENTIFIER]}(?:\\.${u[o.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${u[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[o.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${g}+`),p("BUILD",`(?:\\+(${u[o.BUILDIDENTIFIER]}(?:\\.${u[o.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${u[o.MAINVERSION]}${u[o.PRERELEASE]}?${u[o.BUILD]}?`),p("FULL",`^${u[o.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${u[o.MAINVERSIONLOOSE]}${u[o.PRERELEASELOOSE]}?${u[o.BUILD]}?`),p("LOOSE",`^${u[o.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${u[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${u[o.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${u[o.XRANGEIDENTIFIER]})(?:\\.(${u[o.XRANGEIDENTIFIER]})(?:\\.(${u[o.XRANGEIDENTIFIER]})(?:${u[o.PRERELEASE]})?${u[o.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${u[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[o.XRANGEIDENTIFIERLOOSE]})(?:${u[o.PRERELEASELOOSE]})?${u[o.BUILD]}?)?)?`),p("XRANGE",`^${u[o.GTLT]}\\s*${u[o.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${u[o.GTLT]}\\s*${u[o.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),p("COERCE",`${u[o.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",u[o.COERCEPLAIN]+`(?:${u[o.PRERELEASE]})?(?:${u[o.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",u[o.COERCE],!0),p("COERCERTLFULL",u[o.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${u[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${u[o.LONETILDE]}${u[o.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${u[o.LONETILDE]}${u[o.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${u[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${u[o.LONECARET]}${u[o.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${u[o.LONECARET]}${u[o.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${u[o.GTLT]}\\s*(${u[o.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${u[o.GTLT]}\\s*(${u[o.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${u[o.GTLT]}\\s*(${u[o.LOOSEPLAIN]}|${u[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${u[o.XRANGEPLAIN]})\\s+-\\s+(${u[o.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${u[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[o.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Sr,Sr.exports);var fi=Sr.exports;const gi=Object.freeze({loose:!0}),di=Object.freeze({}),mi=e=>e?typeof e!="object"?gi:e:di;var Ei=mi;const mn=/^[0-9]+$/,fo=(e,t)=>{const r=mn.test(e),n=mn.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},vi=(e,t)=>fo(t,e);var yi={compareIdentifiers:fo,rcompareIdentifiers:vi};const Re=lo,{MAX_LENGTH:En,MAX_SAFE_INTEGER:xe}=po,{safeRe:vn,t:yn}=fi,bi=Ei,{compareIdentifiers:qt}=yi;let wi=class At{constructor(t,r){if(r=bi(r),t instanceof At){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>En)throw new TypeError(`version is longer than ${En} characters`);Re("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?vn[yn.LOOSE]:vn[yn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>xe||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xe||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xe||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<xe)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Re("SemVer.compare",this.version,this.options,t),!(t instanceof At)){if(typeof t=="string"&&t===this.version)return 0;t=new At(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof At||(t=new At(t,this.options)),qt(this.major,t.major)||qt(this.minor,t.minor)||qt(this.patch,t.patch)}comparePre(t){if(t instanceof At||(t=new At(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(Re("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n!==s)return qt(n,s)}while(++r)}compareBuild(t){t instanceof At||(t=new At(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(Re("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n!==s)return qt(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),qt(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var go=wi;const bn=go,Ni=(e,t,r=!1)=>{if(e instanceof bn)return e;try{return new bn(e,t)}catch(n){if(!r)return null;throw n}};var Ai=Ni;const Ii=Ai,Ti=(e,t)=>{const r=Ii(e,t);return r?r.version:null};var Oi=Ti;const Ri=co(Oi),xi=go,Li=(e,t)=>new xi(e,t).major;var Si=Li;const wn=co(Si);class Pi{bus;constructor(t){typeof t.getVersion!="function"||!Ri(t.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):wn(t.getVersion())!==wn(this.getVersion())&&console.warn("Proxying an event bus of version "+t.getVersion()+" with "+this.getVersion()),this.bus=t}getVersion(){return"3.3.1"}subscribe(t,r){this.bus.subscribe(t,r)}unsubscribe(t,r){this.bus.unsubscribe(t,r)}emit(t,r){this.bus.emit(t,r)}}class Ci{handlers=new Map;getVersion(){return"3.3.1"}subscribe(t,r){this.handlers.set(t,(this.handlers.get(t)||[]).concat(r))}unsubscribe(t,r){this.handlers.set(t,(this.handlers.get(t)||[]).filter(n=>n!==r))}emit(t,r){(this.handlers.get(t)||[]).forEach(n=>{try{n(r)}catch(s){console.error("could not invoke event listener",s)}})}}let ne=null;function $i(){return ne!==null?ne:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof window?._nc_event_bus<"u"?ne=new Pi(window._nc_event_bus):ne=window._nc_event_bus=new Ci,ne)}function _i(e,t){$i().subscribe(e,t)}var je={},Ue={},me={};Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0;function Ge(e,t,r){return t=Di(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Di(e){var t=ji(e,"string");return typeof t=="symbol"?t:t+""}function ji(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qt{constructor(t,r,n){Ge(this,"scope",void 0),Ge(this,"wrapped",void 0),this.scope="".concat(n?Qt.GLOBAL_SCOPE_PERSISTENT:Qt.GLOBAL_SCOPE_VOLATILE,"_").concat(btoa(t),"_"),this.wrapped=r}scopeKey(t){return"".concat(this.scope).concat(t)}setItem(t,r){this.wrapped.setItem(this.scopeKey(t),r)}getItem(t){return this.wrapped.getItem(this.scopeKey(t))}removeItem(t){this.wrapped.removeItem(this.scopeKey(t))}clear(){Object.keys(this.wrapped).filter(t=>t.startsWith(this.scope)).map(this.wrapped.removeItem.bind(this.wrapped))}}me.default=Qt,Ge(Qt,"GLOBAL_SCOPE_VOLATILE","nextcloud_vol"),Ge(Qt,"GLOBAL_SCOPE_PERSISTENT","nextcloud_per"),Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var ki=Mi(me);function Mi(e){return e&&e.__esModule?e:{default:e}}function cr(e,t,r){return t=Fi(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fi(e){var t=Ui(e,"string");return typeof t=="symbol"?t:t+""}function Ui(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Gi{constructor(t){cr(this,"appId",void 0),cr(this,"persisted",!1),cr(this,"clearedOnLogout",!1),this.appId=t}persist(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.persisted=t,this}clearOnLogout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clearedOnLogout=t,this}build(){return new ki.default(this.appId,this.persisted?window.localStorage:window.sessionStorage,!this.clearedOnLogout)}}Ue.default=Gi,Object.defineProperty(je,"__esModule",{value:!0}),je.clearAll=Wi,je.clearNonPersistent=Vi;var Bi=je.getBuilder=zi,Xi=mo(Ue),Hi=mo(me);function mo(e){return e&&e.__esModule?e:{default:e}}function zi(e){return new Xi.default(e)}function Eo(e,t){Object.keys(e).filter(r=>t?t(r):!0).map(e.removeItem.bind(e))}function Wi(){[window.sessionStorage,window.localStorage].map(e=>Eo(e))}function Vi(){[window.sessionStorage,window.localStorage].map(e=>Eo(e,t=>!t.startsWith(Hi.default.GLOBAL_SCOPE_PERSISTENT)))}let Nn;const qi=[];_i("csrf-token-update",e=>{Nn=e.token,qi.forEach(t=>{try{t(Nn)}catch(r){console.error("Error updating CSRF token observer",r)}})}),Bi("public").persist().build();let Yt;const An=(e,t)=>e?e.getAttribute(t):null;function vo(){if(Yt!==void 0)return Yt;const e=document?.getElementsByTagName("head")[0];if(!e)return null;const t=An(e,"data-user");return t===null?(Yt=null,Yt):(Yt={uid:t,displayName:An(e,"data-user-displayname"),isAdmin:!!window._oc_isadmin},Yt)}var q=(e=>(e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Fatal=4]="Fatal",e))(q||{}),Yi=Object.defineProperty,Zi=(e,t,r)=>t in e?Yi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ki=(e,t,r)=>(Zi(e,t+"",r),r);class Ji{constructor(t){Ki(this,"context"),this.context=t||{}}formatMessage(t,r,n){let s="["+q[r].toUpperCase()+"] ";return n&&n.app&&(s+=n.app+": "),typeof t=="string"?s+t:(s+="Unexpected ".concat(t.name),t.message&&(s+=' "'.concat(t.message,'"')),r===q.Debug&&t.stack&&(s+=`

Stack trace:
`.concat(t.stack)),s)}log(t,r,n){var s,i;if(!(typeof((s=this.context)==null?void 0:s.level)=="number"&&t<((i=this.context)==null?void 0:i.level)))switch(typeof r=="object"&&n?.error===void 0&&(n.error=r),t){case q.Debug:console.debug(this.formatMessage(r,q.Debug,n),n);break;case q.Info:console.info(this.formatMessage(r,q.Info,n),n);break;case q.Warn:console.warn(this.formatMessage(r,q.Warn,n),n);break;case q.Error:console.error(this.formatMessage(r,q.Error,n),n);break;case q.Fatal:default:console.error(this.formatMessage(r,q.Fatal,n),n);break}}debug(t,r){this.log(q.Debug,t,Object.assign({},this.context,r))}info(t,r){this.log(q.Info,t,Object.assign({},this.context,r))}warn(t,r){this.log(q.Warn,t,Object.assign({},this.context,r))}error(t,r){this.log(q.Error,t,Object.assign({},this.context,r))}fatal(t,r){this.log(q.Fatal,t,Object.assign({},this.context,r))}}function Qi(e){return new Ji(e)}var ts=Object.defineProperty,es=(e,t,r)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,In=(e,t,r)=>(es(e,typeof t!="symbol"?t+"":t,r),r);class rs{constructor(t){In(this,"context"),In(this,"factory"),this.context={},this.factory=t}setApp(t){return this.context.app=t,this}setLogLevel(t){return this.context.level=t,this}setUid(t){return this.context.uid=t,this}detectUser(){const t=vo();return t!==null&&(this.context.uid=t.uid),this}detectLogLevel(){const t=this,r=()=>{var n,s;document.readyState==="complete"||document.readyState==="interactive"?(t.context.level=(s=(n=window._oc_config)==null?void 0:n.loglevel)!=null?s:q.Warn,window._oc_debug&&(t.context.level=q.Debug),document.removeEventListener("readystatechange",r)):document.addEventListener("readystatechange",r)};return r(),this}build(){return this.context.level===void 0&&this.detectLogLevel(),this.factory(this.context)}}function ns(){return new rs(Qi)}function $t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tn(e,t,r){os(e,t),t.set(e,r)}function os(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function et(e,t){var r=yo(e,t,"get");return is(e,r)}function is(e,t){return t.get?t.get.call(e):t.value}function On(e,t,r){var n=yo(e,t,"set");return ss(e,n,r),r}function yo(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function ss(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}var as=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",rt=new WeakMap,oe=new WeakMap;class Ye{constructor(t){var{executor:r=()=>{},internals:n=Fr(),promise:s=new Promise((i,h)=>r(i,h,c=>{n.onCancelList.push(c)}))}=t;Tn(this,rt,{writable:!0,value:void 0}),Tn(this,oe,{writable:!0,value:void 0}),$t(this,as,"CancelablePromise"),this.cancel=this.cancel.bind(this),On(this,rt,n),On(this,oe,s||new Promise((i,h)=>r(i,h,c=>{n.onCancelList.push(c)})))}then(t,r){return ke(et(this,oe).then(Le(t,et(this,rt)),Le(r,et(this,rt))),et(this,rt))}catch(t){return ke(et(this,oe).catch(Le(t,et(this,rt))),et(this,rt))}finally(t,r){return r&&et(this,rt).onCancelList.push(t),ke(et(this,oe).finally(Le(()=>{if(t)return r&&(et(this,rt).onCancelList=et(this,rt).onCancelList.filter(n=>n!==t)),t()},et(this,rt))),et(this,rt))}cancel(){et(this,rt).isCanceled=!0;var t=et(this,rt).onCancelList;et(this,rt).onCancelList=[];for(var r of t)if(typeof r=="function")try{r()}catch(n){console.error(n)}}isCanceled(){return et(this,rt).isCanceled===!0}}class _t extends Ye{constructor(t){super({executor:t})}}$t(_t,"all",function(e){return Se(e,Promise.all(e))}),$t(_t,"allSettled",function(e){return Se(e,Promise.allSettled(e))}),$t(_t,"any",function(e){return Se(e,Promise.any(e))}),$t(_t,"race",function(e){return Se(e,Promise.race(e))}),$t(_t,"resolve",function(e){return Rn(Promise.resolve(e))}),$t(_t,"reject",function(e){return Rn(Promise.reject(e))}),$t(_t,"isCancelable",Mr);function Rn(e){return ke(e,Fr())}function Mr(e){return e instanceof _t||e instanceof Ye}function Le(e,t){if(e)return r=>{if(!t.isCanceled){var n=e(r);return Mr(n)&&t.onCancelList.push(n.cancel),n}return r}}function ke(e,t){return new Ye({internals:t,promise:e})}function Se(e,t){var r=Fr();return r.onCancelList.push(()=>{for(var n of e)Mr(n)&&n.cancel()}),new Ye({internals:r,promise:t})}function Fr(){return{isCanceled:!1,onCancelList:[]}}const Pe=globalThis||void 0||self;var lr={},us={2:e=>{function t(s,i,h){s instanceof RegExp&&(s=r(s,h)),i instanceof RegExp&&(i=r(i,h));var c=n(s,i,h);return c&&{start:c[0],end:c[1],pre:h.slice(0,c[0]),body:h.slice(c[0]+s.length,c[1]),post:h.slice(c[1]+i.length)}}function r(s,i){var h=i.match(s);return h?h[0]:null}function n(s,i,h){var c,u,o,a,g,l=h.indexOf(s),f=h.indexOf(i,l+1),p=l;if(l>=0&&f>0){for(c=[],o=h.length;p>=0&&!g;)p==l?(c.push(p),l=h.indexOf(s,p+1)):c.length==1?g=[c.pop(),f]:((u=c.pop())<o&&(o=u,a=f),f=h.indexOf(i,p+1)),p=l<f&&l>=0?l:f;c.length&&(g=[o,a])}return g}e.exports=t,t.range=n},101:function(e,t,r){var n;e=r.nmd(e),function(s){var i=(e&&e.exports,typeof Pe=="object"&&Pe);i.global!==i&&i.window;var h=function(g){this.message=g};(h.prototype=new Error).name="InvalidCharacterError";var c=function(g){throw new h(g)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=/[\t\n\f\r ]/g,a={encode:function(g){g=String(g),/[^\0-\xFF]/.test(g)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var l,f,p,d,E=g.length%3,N="",m=-1,v=g.length-E;++m<v;)l=g.charCodeAt(m)<<16,f=g.charCodeAt(++m)<<8,p=g.charCodeAt(++m),N+=u.charAt((d=l+f+p)>>18&63)+u.charAt(d>>12&63)+u.charAt(d>>6&63)+u.charAt(63&d);return E==2?(l=g.charCodeAt(m)<<8,f=g.charCodeAt(++m),N+=u.charAt((d=l+f)>>10)+u.charAt(d>>4&63)+u.charAt(d<<2&63)+"="):E==1&&(d=g.charCodeAt(m),N+=u.charAt(d>>2)+u.charAt(d<<4&63)+"=="),N},decode:function(g){var l=(g=String(g).replace(o,"")).length;l%4==0&&(l=(g=g.replace(/==?$/,"")).length),(l%4==1||/[^+a-zA-Z0-9/]/.test(g))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var f,p,d=0,E="",N=-1;++N<l;)p=u.indexOf(g.charAt(N)),f=d%4?64*f+p:p,d++%4&&(E+=String.fromCharCode(255&f>>(-2*d&6)));return E},version:"1.0.0"};(n=function(){return a}.call(t,r,t,e))===void 0||(e.exports=n)}()},172:(e,t)=>{t.d=function(r){if(!r)return 0;for(var n=(r=r.toString()).length,s=r.length;s--;){var i=r.charCodeAt(s);56320<=i&&i<=57343&&s--,127<i&&i<=2047?n++:2047<i&&i<=65535&&(n+=2)}return n}},526:e=>{var t={utf8:{stringToBytes:function(r){return t.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(t.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var n=[],s=0;s<r.length;s++)n.push(255&r.charCodeAt(s));return n},bytesToString:function(r){for(var n=[],s=0;s<r.length;s++)n.push(String.fromCharCode(r[s]));return n.join("")}}};e.exports=t},298:e=>{var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(n,s){return n<<s|n>>>32-s},rotr:function(n,s){return n<<32-s|n>>>s},endian:function(n){if(n.constructor==Number)return 16711935&r.rotl(n,8)|4278255360&r.rotl(n,24);for(var s=0;s<n.length;s++)n[s]=r.endian(n[s]);return n},randomBytes:function(n){for(var s=[];n>0;n--)s.push(Math.floor(256*Math.random()));return s},bytesToWords:function(n){for(var s=[],i=0,h=0;i<n.length;i++,h+=8)s[h>>>5]|=n[i]<<24-h%32;return s},wordsToBytes:function(n){for(var s=[],i=0;i<32*n.length;i+=8)s.push(n[i>>>5]>>>24-i%32&255);return s},bytesToHex:function(n){for(var s=[],i=0;i<n.length;i++)s.push((n[i]>>>4).toString(16)),s.push((15&n[i]).toString(16));return s.join("")},hexToBytes:function(n){for(var s=[],i=0;i<n.length;i+=2)s.push(parseInt(n.substr(i,2),16));return s},bytesToBase64:function(n){for(var s=[],i=0;i<n.length;i+=3)for(var h=n[i]<<16|n[i+1]<<8|n[i+2],c=0;c<4;c++)8*i+6*c<=8*n.length?s.push(t.charAt(h>>>6*(3-c)&63)):s.push("=");return s.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],i=0,h=0;i<n.length;h=++i%4)h!=0&&s.push((t.indexOf(n.charAt(i-1))&Math.pow(2,-2*h+8)-1)<<2*h|t.indexOf(n.charAt(i))>>>6-2*h);return s}},e.exports=r},635:(e,t,r)=>{const n=r(31),s=r(338),i=r(221);e.exports={XMLParser:s,XMLValidator:n,XMLBuilder:i}},705:(e,t)=>{const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+n+"$");t.isExist=function(i){return i!==void 0},t.isEmptyObject=function(i){return Object.keys(i).length===0},t.merge=function(i,h,c){if(h){const u=Object.keys(h),o=u.length;for(let a=0;a<o;a++)i[u[a]]=c==="strict"?[h[u[a]]]:h[u[a]]}},t.getValue=function(i){return t.isExist(i)?i:""},t.isName=function(i){return s.exec(i)!=null},t.getAllMatches=function(i,h){const c=[];let u=h.exec(i);for(;u;){const o=[];o.startIndex=h.lastIndex-u[0].length;const a=u.length;for(let g=0;g<a;g++)o.push(u[g]);c.push(o),u=h.exec(i)}return c},t.nameRegexp=n},31:(e,t,r)=>{const n=r(705),s={allowBooleanAttributes:!1,unpairedTags:[]};function i(m){return m===" "||m==="	"||m===`
`||m==="\r"}function h(m,v){const w=v;for(;v<m.length;v++)if(!(m[v]!="?"&&m[v]!=" ")){const y=m.substr(w,v-w);if(v>5&&y==="xml")return p("InvalidXml","XML declaration allowed only at the start of the document.",E(m,v));if(m[v]=="?"&&m[v+1]==">"){v++;break}}return v}function c(m,v){if(m.length>v+5&&m[v+1]==="-"&&m[v+2]==="-"){for(v+=3;v<m.length;v++)if(m[v]==="-"&&m[v+1]==="-"&&m[v+2]===">"){v+=2;break}}else if(m.length>v+8&&m[v+1]==="D"&&m[v+2]==="O"&&m[v+3]==="C"&&m[v+4]==="T"&&m[v+5]==="Y"&&m[v+6]==="P"&&m[v+7]==="E"){let w=1;for(v+=8;v<m.length;v++)if(m[v]==="<")w++;else if(m[v]===">"&&(w--,w===0))break}else if(m.length>v+9&&m[v+1]==="["&&m[v+2]==="C"&&m[v+3]==="D"&&m[v+4]==="A"&&m[v+5]==="T"&&m[v+6]==="A"&&m[v+7]==="["){for(v+=8;v<m.length;v++)if(m[v]==="]"&&m[v+1]==="]"&&m[v+2]===">"){v+=2;break}}return v}t.validate=function(m,v){v=Object.assign({},s,v);const w=[];let y=!1,I=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let T=0;T<m.length;T++)if(m[T]==="<"&&m[T+1]==="?"){if(T+=2,T=h(m,T),T.err)return T}else{if(m[T]!=="<"){if(i(m[T]))continue;return p("InvalidChar","char '"+m[T]+"' is not expected.",E(m,T))}{let O=T;if(T++,m[T]==="!"){T=c(m,T);continue}{let S=!1;m[T]==="/"&&(S=!0,T++);let L="";for(;T<m.length&&m[T]!==">"&&m[T]!==" "&&m[T]!=="	"&&m[T]!==`
`&&m[T]!=="\r";T++)L+=m[T];if(L=L.trim(),L[L.length-1]==="/"&&(L=L.substring(0,L.length-1),T--),A=L,!n.isName(A)){let _;return _=L.trim().length===0?"Invalid space after '<'.":"Tag '"+L+"' is an invalid name.",p("InvalidTag",_,E(m,T))}const x=a(m,T);if(x===!1)return p("InvalidAttr","Attributes for '"+L+"' have open quote.",E(m,T));let R=x.value;if(T=x.index,R[R.length-1]==="/"){const _=T-R.length;R=R.substring(0,R.length-1);const k=l(R,v);if(k!==!0)return p(k.err.code,k.err.msg,E(m,_+k.err.line));y=!0}else if(S){if(!x.tagClosed)return p("InvalidTag","Closing tag '"+L+"' doesn't have proper closing.",E(m,T));if(R.trim().length>0)return p("InvalidTag","Closing tag '"+L+"' can't have attributes or invalid starting.",E(m,O));if(w.length===0)return p("InvalidTag","Closing tag '"+L+"' has not been opened.",E(m,O));{const _=w.pop();if(L!==_.tagName){let k=E(m,_.tagStartPos);return p("InvalidTag","Expected closing tag '"+_.tagName+"' (opened in line "+k.line+", col "+k.col+") instead of closing tag '"+L+"'.",E(m,O))}w.length==0&&(I=!0)}}else{const _=l(R,v);if(_!==!0)return p(_.err.code,_.err.msg,E(m,T-R.length+_.err.line));if(I===!0)return p("InvalidXml","Multiple possible root nodes found.",E(m,T));v.unpairedTags.indexOf(L)!==-1||w.push({tagName:L,tagStartPos:O}),y=!0}for(T++;T<m.length;T++)if(m[T]==="<"){if(m[T+1]==="!"){T++,T=c(m,T);continue}if(m[T+1]!=="?")break;if(T=h(m,++T),T.err)return T}else if(m[T]==="&"){const _=f(m,T);if(_==-1)return p("InvalidChar","char '&' is not expected.",E(m,T));T=_}else if(I===!0&&!i(m[T]))return p("InvalidXml","Extra text at the end",E(m,T));m[T]==="<"&&T--}}}var A;return y?w.length==1?p("InvalidTag","Unclosed tag '"+w[0].tagName+"'.",E(m,w[0].tagStartPos)):!(w.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(w.map(T=>T.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};const u='"',o="'";function a(m,v){let w="",y="",I=!1;for(;v<m.length;v++){if(m[v]===u||m[v]===o)y===""?y=m[v]:y!==m[v]||(y="");else if(m[v]===">"&&y===""){I=!0;break}w+=m[v]}return y===""&&{value:w,index:v,tagClosed:I}}const g=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function l(m,v){const w=n.getAllMatches(m,g),y={};for(let I=0;I<w.length;I++){if(w[I][1].length===0)return p("InvalidAttr","Attribute '"+w[I][2]+"' has no space in starting.",N(w[I]));if(w[I][3]!==void 0&&w[I][4]===void 0)return p("InvalidAttr","Attribute '"+w[I][2]+"' is without value.",N(w[I]));if(w[I][3]===void 0&&!v.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+w[I][2]+"' is not allowed.",N(w[I]));const A=w[I][2];if(!d(A))return p("InvalidAttr","Attribute '"+A+"' is an invalid name.",N(w[I]));if(y.hasOwnProperty(A))return p("InvalidAttr","Attribute '"+A+"' is repeated.",N(w[I]));y[A]=1}return!0}function f(m,v){if(m[++v]===";")return-1;if(m[v]==="#")return function(y,I){let A=/\d/;for(y[I]==="x"&&(I++,A=/[\da-fA-F]/);I<y.length;I++){if(y[I]===";")return I;if(!y[I].match(A))break}return-1}(m,++v);let w=0;for(;v<m.length;v++,w++)if(!(m[v].match(/\w/)&&w<20)){if(m[v]===";")break;return-1}return v}function p(m,v,w){return{err:{code:m,msg:v,line:w.line||w,col:w.col}}}function d(m){return n.isName(m)}function E(m,v){const w=m.substring(0,v).split(/\r?\n/);return{line:w.length,col:w[w.length-1].length+1}}function N(m){return m.startIndex+m[1].length}},221:(e,t,r)=>{const n=r(87),s={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,a){return a},attributeValueProcessor:function(o,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function i(o){this.options=Object.assign({},s,o),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=u),this.processTextOrObjNode=h,this.options.format?(this.indentate=c,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function h(o,a,g){const l=this.j2x(o,g+1);return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],a,l.attrStr,g):this.buildObjectNode(l.val,a,l.attrStr,g)}function c(o){return this.options.indentBy.repeat(o)}function u(o){return!(!o.startsWith(this.options.attributeNamePrefix)||o===this.options.textNodeName)&&o.substr(this.attrPrefixLen)}i.prototype.build=function(o){return this.options.preserveOrder?n(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0).val)},i.prototype.j2x=function(o,a){let g="",l="";for(let f in o)if(Object.prototype.hasOwnProperty.call(o,f))if(o[f]===void 0)this.isAttribute(f)&&(l+="");else if(o[f]===null)this.isAttribute(f)?l+="":f[0]==="?"?l+=this.indentate(a)+"<"+f+"?"+this.tagEndChar:l+=this.indentate(a)+"<"+f+"/"+this.tagEndChar;else if(o[f]instanceof Date)l+=this.buildTextValNode(o[f],f,"",a);else if(typeof o[f]!="object"){const p=this.isAttribute(f);if(p)g+=this.buildAttrPairStr(p,""+o[f]);else if(f===this.options.textNodeName){let d=this.options.tagValueProcessor(f,""+o[f]);l+=this.replaceEntitiesValue(d)}else l+=this.buildTextValNode(o[f],f,"",a)}else if(Array.isArray(o[f])){const p=o[f].length;let d="",E="";for(let N=0;N<p;N++){const m=o[f][N];if(m!==void 0)if(m===null)f[0]==="?"?l+=this.indentate(a)+"<"+f+"?"+this.tagEndChar:l+=this.indentate(a)+"<"+f+"/"+this.tagEndChar;else if(typeof m=="object")if(this.options.oneListGroup){const v=this.j2x(m,a+1);d+=v.val,this.options.attributesGroupName&&m.hasOwnProperty(this.options.attributesGroupName)&&(E+=v.attrStr)}else d+=this.processTextOrObjNode(m,f,a);else if(this.options.oneListGroup){let v=this.options.tagValueProcessor(f,m);v=this.replaceEntitiesValue(v),d+=v}else d+=this.buildTextValNode(m,f,"",a)}this.options.oneListGroup&&(d=this.buildObjectNode(d,f,E,a)),l+=d}else if(this.options.attributesGroupName&&f===this.options.attributesGroupName){const p=Object.keys(o[f]),d=p.length;for(let E=0;E<d;E++)g+=this.buildAttrPairStr(p[E],""+o[f][p[E]])}else l+=this.processTextOrObjNode(o[f],f,a);return{attrStr:g,val:l}},i.prototype.buildAttrPairStr=function(o,a){return a=this.options.attributeValueProcessor(o,""+a),a=this.replaceEntitiesValue(a),this.options.suppressBooleanAttributes&&a==="true"?" "+o:" "+o+'="'+a+'"'},i.prototype.buildObjectNode=function(o,a,g,l){if(o==="")return a[0]==="?"?this.indentate(l)+"<"+a+g+"?"+this.tagEndChar:this.indentate(l)+"<"+a+g+this.closeTag(a)+this.tagEndChar;{let f="</"+a+this.tagEndChar,p="";return a[0]==="?"&&(p="?",f=""),!g&&g!==""||o.indexOf("<")!==-1?this.options.commentPropName!==!1&&a===this.options.commentPropName&&p.length===0?this.indentate(l)+`<!--${o}-->`+this.newLine:this.indentate(l)+"<"+a+g+p+this.tagEndChar+o+this.indentate(l)+f:this.indentate(l)+"<"+a+g+p+">"+o+f}},i.prototype.closeTag=function(o){let a="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(a="/"):a=this.options.suppressEmptyNode?"/":`></${o}`,a},i.prototype.buildTextValNode=function(o,a,g,l){if(this.options.cdataPropName!==!1&&a===this.options.cdataPropName)return this.indentate(l)+`<![CDATA[${o}]]>`+this.newLine;if(this.options.commentPropName!==!1&&a===this.options.commentPropName)return this.indentate(l)+`<!--${o}-->`+this.newLine;if(a[0]==="?")return this.indentate(l)+"<"+a+g+"?"+this.tagEndChar;{let f=this.options.tagValueProcessor(a,o);return f=this.replaceEntitiesValue(f),f===""?this.indentate(l)+"<"+a+g+this.closeTag(a)+this.tagEndChar:this.indentate(l)+"<"+a+g+">"+f+"</"+a+this.tagEndChar}},i.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let a=0;a<this.options.entities.length;a++){const g=this.options.entities[a];o=o.replace(g.regex,g.val)}return o},e.exports=i},87:e=>{function t(h,c,u,o){let a="",g=!1;for(let l=0;l<h.length;l++){const f=h[l],p=r(f);if(p===void 0)continue;let d="";if(d=u.length===0?p:`${u}.${p}`,p===c.textNodeName){let v=f[p];s(d,c)||(v=c.tagValueProcessor(p,v),v=i(v,c)),g&&(a+=o),a+=v,g=!1;continue}if(p===c.cdataPropName){g&&(a+=o),a+=`<![CDATA[${f[p][0][c.textNodeName]}]]>`,g=!1;continue}if(p===c.commentPropName){a+=o+`<!--${f[p][0][c.textNodeName]}-->`,g=!0;continue}if(p[0]==="?"){const v=n(f[":@"],c),w=p==="?xml"?"":o;let y=f[p][0][c.textNodeName];y=y.length!==0?" "+y:"",a+=w+`<${p}${y}${v}?>`,g=!0;continue}let E=o;E!==""&&(E+=c.indentBy);const N=o+`<${p}${n(f[":@"],c)}`,m=t(f[p],c,d,E);c.unpairedTags.indexOf(p)!==-1?c.suppressUnpairedNode?a+=N+">":a+=N+"/>":m&&m.length!==0||!c.suppressEmptyNode?m&&m.endsWith(">")?a+=N+`>${m}${o}</${p}>`:(a+=N+">",m&&o!==""&&(m.includes("/>")||m.includes("</"))?a+=o+c.indentBy+m+o:a+=m,a+=`</${p}>`):a+=N+"/>",g=!0}return a}function r(h){const c=Object.keys(h);for(let u=0;u<c.length;u++){const o=c[u];if(h.hasOwnProperty(o)&&o!==":@")return o}}function n(h,c){let u="";if(h&&!c.ignoreAttributes)for(let o in h){if(!h.hasOwnProperty(o))continue;let a=c.attributeValueProcessor(o,h[o]);a=i(a,c),a===!0&&c.suppressBooleanAttributes?u+=` ${o.substr(c.attributeNamePrefix.length)}`:u+=` ${o.substr(c.attributeNamePrefix.length)}="${a}"`}return u}function s(h,c){let u=(h=h.substr(0,h.length-c.textNodeName.length-1)).substr(h.lastIndexOf(".")+1);for(let o in c.stopNodes)if(c.stopNodes[o]===h||c.stopNodes[o]==="*."+u)return!0;return!1}function i(h,c){if(h&&h.length>0&&c.processEntities)for(let u=0;u<c.entities.length;u++){const o=c.entities[u];h=h.replace(o.regex,o.val)}return h}e.exports=function(h,c){let u="";return c.format&&c.indentBy.length>0&&(u=`
`),t(h,c,"",u)}},193:(e,t,r)=>{const n=r(705);function s(g,l){let f="";for(;l<g.length&&g[l]!=="'"&&g[l]!=='"';l++)f+=g[l];if(f=f.trim(),f.indexOf(" ")!==-1)throw new Error("External entites are not supported");const p=g[l++];let d="";for(;l<g.length&&g[l]!==p;l++)d+=g[l];return[f,d,l]}function i(g,l){return g[l+1]==="!"&&g[l+2]==="-"&&g[l+3]==="-"}function h(g,l){return g[l+1]==="!"&&g[l+2]==="E"&&g[l+3]==="N"&&g[l+4]==="T"&&g[l+5]==="I"&&g[l+6]==="T"&&g[l+7]==="Y"}function c(g,l){return g[l+1]==="!"&&g[l+2]==="E"&&g[l+3]==="L"&&g[l+4]==="E"&&g[l+5]==="M"&&g[l+6]==="E"&&g[l+7]==="N"&&g[l+8]==="T"}function u(g,l){return g[l+1]==="!"&&g[l+2]==="A"&&g[l+3]==="T"&&g[l+4]==="T"&&g[l+5]==="L"&&g[l+6]==="I"&&g[l+7]==="S"&&g[l+8]==="T"}function o(g,l){return g[l+1]==="!"&&g[l+2]==="N"&&g[l+3]==="O"&&g[l+4]==="T"&&g[l+5]==="A"&&g[l+6]==="T"&&g[l+7]==="I"&&g[l+8]==="O"&&g[l+9]==="N"}function a(g){if(n.isName(g))return g;throw new Error(`Invalid entity name ${g}`)}e.exports=function(g,l){const f={};if(g[l+3]!=="O"||g[l+4]!=="C"||g[l+5]!=="T"||g[l+6]!=="Y"||g[l+7]!=="P"||g[l+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{l+=9;let p=1,d=!1,E=!1,N="";for(;l<g.length;l++)if(g[l]!=="<"||E)if(g[l]===">"){if(E?g[l-1]==="-"&&g[l-2]==="-"&&(E=!1,p--):p--,p===0)break}else g[l]==="["?d=!0:N+=g[l];else{if(d&&h(g,l))l+=7,[entityName,val,l]=s(g,l+1),val.indexOf("&")===-1&&(f[a(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(d&&c(g,l))l+=8;else if(d&&u(g,l))l+=8;else if(d&&o(g,l))l+=9;else{if(!i)throw new Error("Invalid DOCTYPE");E=!0}p++,N=""}if(p!==0)throw new Error("Unclosed DOCTYPE")}return{entities:f,i:l}}},63:(e,t)=>{const r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(n,s){return s},attributeValueProcessor:function(n,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(n,s,i){return n}};t.buildOptions=function(n){return Object.assign({},r,n)},t.defaultOptions=r},299:(e,t,r)=>{const n=r(705),s=r(365),i=r(193),h=r(494);function c(y){const I=Object.keys(y);for(let A=0;A<I.length;A++){const T=I[A];this.lastEntities[T]={regex:new RegExp("&"+T+";","g"),val:y[T]}}}function u(y,I,A,T,O,S,L){if(y!==void 0&&(this.options.trimValues&&!T&&(y=y.trim()),y.length>0)){L||(y=this.replaceEntitiesValue(y));const x=this.options.tagValueProcessor(I,y,A,O,S);return x==null?y:typeof x!=typeof y||x!==y?x:this.options.trimValues||y.trim()===y?w(y,this.options.parseTagValue,this.options.numberParseOptions):y}}function o(y){if(this.options.removeNSPrefix){const I=y.split(":"),A=y.charAt(0)==="/"?"/":"";if(I[0]==="xmlns")return"";I.length===2&&(y=A+I[1])}return y}const a=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function g(y,I,A){if(!this.options.ignoreAttributes&&typeof y=="string"){const T=n.getAllMatches(y,a),O=T.length,S={};for(let L=0;L<O;L++){const x=this.resolveNameSpace(T[L][1]);let R=T[L][4],_=this.options.attributeNamePrefix+x;if(x.length)if(this.options.transformAttributeName&&(_=this.options.transformAttributeName(_)),_==="__proto__"&&(_="#__proto__"),R!==void 0){this.options.trimValues&&(R=R.trim()),R=this.replaceEntitiesValue(R);const k=this.options.attributeValueProcessor(x,R,I);S[_]=k==null?R:typeof k!=typeof R||k!==R?k:w(R,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(S[_]=!0)}if(!Object.keys(S).length)return;if(this.options.attributesGroupName){const L={};return L[this.options.attributesGroupName]=S,L}return S}}const l=function(y){y=y.replace(/\r\n?/g,`
`);const I=new s("!xml");let A=I,T="",O="";for(let S=0;S<y.length;S++)if(y[S]==="<")if(y[S+1]==="/"){const L=N(y,">",S,"Closing Tag is not closed.");let x=y.substring(S+2,L).trim();if(this.options.removeNSPrefix){const k=x.indexOf(":");k!==-1&&(x=x.substr(k+1))}this.options.transformTagName&&(x=this.options.transformTagName(x)),A&&(T=this.saveTextToParentTag(T,A,O));const R=O.substring(O.lastIndexOf(".")+1);if(x&&this.options.unpairedTags.indexOf(x)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${x}>`);let _=0;R&&this.options.unpairedTags.indexOf(R)!==-1?(_=O.lastIndexOf(".",O.lastIndexOf(".")-1),this.tagsNodeStack.pop()):_=O.lastIndexOf("."),O=O.substring(0,_),A=this.tagsNodeStack.pop(),T="",S=L}else if(y[S+1]==="?"){let L=m(y,S,!1,"?>");if(!L)throw new Error("Pi Tag is not closed.");if(T=this.saveTextToParentTag(T,A,O),!(this.options.ignoreDeclaration&&L.tagName==="?xml"||this.options.ignorePiTags)){const x=new s(L.tagName);x.add(this.options.textNodeName,""),L.tagName!==L.tagExp&&L.attrExpPresent&&(x[":@"]=this.buildAttributesMap(L.tagExp,O,L.tagName)),this.addChild(A,x,O)}S=L.closeIndex+1}else if(y.substr(S+1,3)==="!--"){const L=N(y,"-->",S+4,"Comment is not closed.");if(this.options.commentPropName){const x=y.substring(S+4,L-2);T=this.saveTextToParentTag(T,A,O),A.add(this.options.commentPropName,[{[this.options.textNodeName]:x}])}S=L}else if(y.substr(S+1,2)==="!D"){const L=i(y,S);this.docTypeEntities=L.entities,S=L.i}else if(y.substr(S+1,2)==="!["){const L=N(y,"]]>",S,"CDATA is not closed.")-2,x=y.substring(S+9,L);T=this.saveTextToParentTag(T,A,O);let R=this.parseTextData(x,A.tagname,O,!0,!1,!0,!0);R==null&&(R=""),this.options.cdataPropName?A.add(this.options.cdataPropName,[{[this.options.textNodeName]:x}]):A.add(this.options.textNodeName,R),S=L+2}else{let L=m(y,S,this.options.removeNSPrefix),x=L.tagName;const R=L.rawTagName;let _=L.tagExp,k=L.attrExpPresent,ft=L.closeIndex;this.options.transformTagName&&(x=this.options.transformTagName(x)),A&&T&&A.tagname!=="!xml"&&(T=this.saveTextToParentTag(T,A,O,!1));const H=A;if(H&&this.options.unpairedTags.indexOf(H.tagname)!==-1&&(A=this.tagsNodeStack.pop(),O=O.substring(0,O.lastIndexOf("."))),x!==I.tagname&&(O+=O?"."+x:x),this.isItStopNode(this.options.stopNodes,O,x)){let M="";if(_.length>0&&_.lastIndexOf("/")===_.length-1)x[x.length-1]==="/"?(x=x.substr(0,x.length-1),O=O.substr(0,O.length-1),_=x):_=_.substr(0,_.length-1),S=L.closeIndex;else if(this.options.unpairedTags.indexOf(x)!==-1)S=L.closeIndex;else{const J=this.readStopNodeData(y,R,ft+1);if(!J)throw new Error(`Unexpected end of ${R}`);S=J.i,M=J.tagContent}const ot=new s(x);x!==_&&k&&(ot[":@"]=this.buildAttributesMap(_,O,x)),M&&(M=this.parseTextData(M,x,O,!0,k,!0,!0)),O=O.substr(0,O.lastIndexOf(".")),ot.add(this.options.textNodeName,M),this.addChild(A,ot,O)}else{if(_.length>0&&_.lastIndexOf("/")===_.length-1){x[x.length-1]==="/"?(x=x.substr(0,x.length-1),O=O.substr(0,O.length-1),_=x):_=_.substr(0,_.length-1),this.options.transformTagName&&(x=this.options.transformTagName(x));const M=new s(x);x!==_&&k&&(M[":@"]=this.buildAttributesMap(_,O,x)),this.addChild(A,M,O),O=O.substr(0,O.lastIndexOf("."))}else{const M=new s(x);this.tagsNodeStack.push(A),x!==_&&k&&(M[":@"]=this.buildAttributesMap(_,O,x)),this.addChild(A,M,O),A=M}T="",S=ft}}else T+=y[S];return I.child};function f(y,I,A){const T=this.options.updateTag(I.tagname,A,I[":@"]);T===!1||(typeof T=="string"&&(I.tagname=T),y.addChild(I))}const p=function(y){if(this.options.processEntities){for(let I in this.docTypeEntities){const A=this.docTypeEntities[I];y=y.replace(A.regx,A.val)}for(let I in this.lastEntities){const A=this.lastEntities[I];y=y.replace(A.regex,A.val)}if(this.options.htmlEntities)for(let I in this.htmlEntities){const A=this.htmlEntities[I];y=y.replace(A.regex,A.val)}y=y.replace(this.ampEntity.regex,this.ampEntity.val)}return y};function d(y,I,A,T){return y&&(T===void 0&&(T=Object.keys(I.child).length===0),(y=this.parseTextData(y,I.tagname,A,!1,!!I[":@"]&&Object.keys(I[":@"]).length!==0,T))!==void 0&&y!==""&&I.add(this.options.textNodeName,y),y=""),y}function E(y,I,A){const T="*."+A;for(const O in y){const S=y[O];if(T===S||I===S)return!0}return!1}function N(y,I,A,T){const O=y.indexOf(I,A);if(O===-1)throw new Error(T);return O+I.length-1}function m(y,I,A){const T=function(k,ft){let H,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",ot="";for(let J=ft;J<k.length;J++){let D=k[J];if(H)D===H&&(H="");else if(D==='"'||D==="'")H=D;else if(D===M[0]){if(!M[1])return{data:ot,index:J};if(k[J+1]===M[1])return{data:ot,index:J}}else D==="	"&&(D=" ");ot+=D}}(y,I+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!T)return;let O=T.data;const S=T.index,L=O.search(/\s/);let x=O,R=!0;L!==-1&&(x=O.substring(0,L),O=O.substring(L+1).trimStart());const _=x;if(A){const k=x.indexOf(":");k!==-1&&(x=x.substr(k+1),R=x!==T.data.substr(k+1))}return{tagName:x,tagExp:O,closeIndex:S,attrExpPresent:R,rawTagName:_}}function v(y,I,A){const T=A;let O=1;for(;A<y.length;A++)if(y[A]==="<")if(y[A+1]==="/"){const S=N(y,">",A,`${I} is not closed`);if(y.substring(A+2,S).trim()===I&&(O--,O===0))return{tagContent:y.substring(T,A),i:S};A=S}else if(y[A+1]==="?")A=N(y,"?>",A+1,"StopNode is not closed.");else if(y.substr(A+1,3)==="!--")A=N(y,"-->",A+3,"StopNode is not closed.");else if(y.substr(A+1,2)==="![")A=N(y,"]]>",A,"StopNode is not closed.")-2;else{const S=m(y,A,">");S&&((S&&S.tagName)===I&&S.tagExp[S.tagExp.length-1]!=="/"&&O++,A=S.closeIndex)}}function w(y,I,A){if(I&&typeof y=="string"){const T=y.trim();return T==="true"||T!=="false"&&h(y,A)}return n.isExist(y)?y:""}e.exports=class{constructor(y){this.options=y,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(I,A)=>String.fromCharCode(Number.parseInt(A,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(I,A)=>String.fromCharCode(Number.parseInt(A,16))}},this.addExternalEntities=c,this.parseXml=l,this.parseTextData=u,this.resolveNameSpace=o,this.buildAttributesMap=g,this.isItStopNode=E,this.replaceEntitiesValue=p,this.readStopNodeData=v,this.saveTextToParentTag=d,this.addChild=f}}},338:(e,t,r)=>{const{buildOptions:n}=r(63),s=r(299),{prettify:i}=r(728),h=r(31);e.exports=class{constructor(c){this.externalEntities={},this.options=n(c)}parse(c,u){if(typeof c!="string"){if(!c.toString)throw new Error("XML data is accepted in String or Bytes[] form.");c=c.toString()}if(u){u===!0&&(u={});const g=h.validate(c,u);if(g!==!0)throw Error(`${g.err.msg}:${g.err.line}:${g.err.col}`)}const o=new s(this.options);o.addExternalEntities(this.externalEntities);const a=o.parseXml(c);return this.options.preserveOrder||a===void 0?a:i(a,this.options)}addEntity(c,u){if(u.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(c.indexOf("&")!==-1||c.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(u==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[c]=u}}},728:(e,t)=>{function r(h,c,u){let o;const a={};for(let g=0;g<h.length;g++){const l=h[g],f=n(l);let p="";if(p=u===void 0?f:u+"."+f,f===c.textNodeName)o===void 0?o=l[f]:o+=""+l[f];else{if(f===void 0)continue;if(l[f]){let d=r(l[f],c,p);const E=i(d,c);l[":@"]?s(d,l[":@"],p,c):Object.keys(d).length!==1||d[c.textNodeName]===void 0||c.alwaysCreateTextNode?Object.keys(d).length===0&&(c.alwaysCreateTextNode?d[c.textNodeName]="":d=""):d=d[c.textNodeName],a[f]!==void 0&&a.hasOwnProperty(f)?(Array.isArray(a[f])||(a[f]=[a[f]]),a[f].push(d)):c.isArray(f,p,E)?a[f]=[d]:a[f]=d}}}return typeof o=="string"?o.length>0&&(a[c.textNodeName]=o):o!==void 0&&(a[c.textNodeName]=o),a}function n(h){const c=Object.keys(h);for(let u=0;u<c.length;u++){const o=c[u];if(o!==":@")return o}}function s(h,c,u,o){if(c){const a=Object.keys(c),g=a.length;for(let l=0;l<g;l++){const f=a[l];o.isArray(f,u+"."+f,!0,!0)?h[f]=[c[f]]:h[f]=c[f]}}}function i(h,c){const{textNodeName:u}=c,o=Object.keys(h).length;return o===0||!(o!==1||!h[u]&&typeof h[u]!="boolean"&&h[u]!==0)}t.prettify=function(h,c){return r(h,c)}},365:e=>{e.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},135:e=>{function t(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}e.exports=function(r){return r!=null&&(t(r)||function(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&t(n.slice(0,0))}(r)||!!r._isBuffer)}},542:(e,t,r)=>{(function(){var n=r(298),s=r(526).utf8,i=r(135),h=r(526).bin,c=function(u,o){u.constructor==String?u=o&&o.encoding==="binary"?h.stringToBytes(u):s.stringToBytes(u):i(u)?u=Array.prototype.slice.call(u,0):Array.isArray(u)||u.constructor===Uint8Array||(u=u.toString());for(var a=n.bytesToWords(u),g=8*u.length,l=1732584193,f=-271733879,p=-1732584194,d=271733878,E=0;E<a.length;E++)a[E]=16711935&(a[E]<<8|a[E]>>>24)|4278255360&(a[E]<<24|a[E]>>>8);a[g>>>5]|=128<<g%32,a[14+(g+64>>>9<<4)]=g;var N=c._ff,m=c._gg,v=c._hh,w=c._ii;for(E=0;E<a.length;E+=16){var y=l,I=f,A=p,T=d;l=N(l,f,p,d,a[E+0],7,-680876936),d=N(d,l,f,p,a[E+1],12,-389564586),p=N(p,d,l,f,a[E+2],17,606105819),f=N(f,p,d,l,a[E+3],22,-1044525330),l=N(l,f,p,d,a[E+4],7,-176418897),d=N(d,l,f,p,a[E+5],12,1200080426),p=N(p,d,l,f,a[E+6],17,-1473231341),f=N(f,p,d,l,a[E+7],22,-45705983),l=N(l,f,p,d,a[E+8],7,1770035416),d=N(d,l,f,p,a[E+9],12,-1958414417),p=N(p,d,l,f,a[E+10],17,-42063),f=N(f,p,d,l,a[E+11],22,-1990404162),l=N(l,f,p,d,a[E+12],7,1804603682),d=N(d,l,f,p,a[E+13],12,-40341101),p=N(p,d,l,f,a[E+14],17,-1502002290),l=m(l,f=N(f,p,d,l,a[E+15],22,1236535329),p,d,a[E+1],5,-165796510),d=m(d,l,f,p,a[E+6],9,-1069501632),p=m(p,d,l,f,a[E+11],14,643717713),f=m(f,p,d,l,a[E+0],20,-373897302),l=m(l,f,p,d,a[E+5],5,-701558691),d=m(d,l,f,p,a[E+10],9,38016083),p=m(p,d,l,f,a[E+15],14,-660478335),f=m(f,p,d,l,a[E+4],20,-405537848),l=m(l,f,p,d,a[E+9],5,568446438),d=m(d,l,f,p,a[E+14],9,-1019803690),p=m(p,d,l,f,a[E+3],14,-187363961),f=m(f,p,d,l,a[E+8],20,1163531501),l=m(l,f,p,d,a[E+13],5,-1444681467),d=m(d,l,f,p,a[E+2],9,-51403784),p=m(p,d,l,f,a[E+7],14,1735328473),l=v(l,f=m(f,p,d,l,a[E+12],20,-1926607734),p,d,a[E+5],4,-378558),d=v(d,l,f,p,a[E+8],11,-2022574463),p=v(p,d,l,f,a[E+11],16,1839030562),f=v(f,p,d,l,a[E+14],23,-35309556),l=v(l,f,p,d,a[E+1],4,-1530992060),d=v(d,l,f,p,a[E+4],11,1272893353),p=v(p,d,l,f,a[E+7],16,-155497632),f=v(f,p,d,l,a[E+10],23,-1094730640),l=v(l,f,p,d,a[E+13],4,681279174),d=v(d,l,f,p,a[E+0],11,-358537222),p=v(p,d,l,f,a[E+3],16,-722521979),f=v(f,p,d,l,a[E+6],23,76029189),l=v(l,f,p,d,a[E+9],4,-640364487),d=v(d,l,f,p,a[E+12],11,-421815835),p=v(p,d,l,f,a[E+15],16,530742520),l=w(l,f=v(f,p,d,l,a[E+2],23,-995338651),p,d,a[E+0],6,-198630844),d=w(d,l,f,p,a[E+7],10,1126891415),p=w(p,d,l,f,a[E+14],15,-1416354905),f=w(f,p,d,l,a[E+5],21,-57434055),l=w(l,f,p,d,a[E+12],6,1700485571),d=w(d,l,f,p,a[E+3],10,-1894986606),p=w(p,d,l,f,a[E+10],15,-1051523),f=w(f,p,d,l,a[E+1],21,-2054922799),l=w(l,f,p,d,a[E+8],6,1873313359),d=w(d,l,f,p,a[E+15],10,-30611744),p=w(p,d,l,f,a[E+6],15,-1560198380),f=w(f,p,d,l,a[E+13],21,1309151649),l=w(l,f,p,d,a[E+4],6,-145523070),d=w(d,l,f,p,a[E+11],10,-1120210379),p=w(p,d,l,f,a[E+2],15,718787259),f=w(f,p,d,l,a[E+9],21,-343485551),l=l+y>>>0,f=f+I>>>0,p=p+A>>>0,d=d+T>>>0}return n.endian([l,f,p,d])};c._ff=function(u,o,a,g,l,f,p){var d=u+(o&a|~o&g)+(l>>>0)+p;return(d<<f|d>>>32-f)+o},c._gg=function(u,o,a,g,l,f,p){var d=u+(o&g|a&~g)+(l>>>0)+p;return(d<<f|d>>>32-f)+o},c._hh=function(u,o,a,g,l,f,p){var d=u+(o^a^g)+(l>>>0)+p;return(d<<f|d>>>32-f)+o},c._ii=function(u,o,a,g,l,f,p){var d=u+(a^(o|~g))+(l>>>0)+p;return(d<<f|d>>>32-f)+o},c._blocksize=16,c._digestsize=16,e.exports=function(u,o){if(u==null)throw new Error("Illegal argument "+u);var a=n.wordsToBytes(c(u,o));return o&&o.asBytes?a:o&&o.asString?h.bytesToString(a):n.bytesToHex(a)}})()},285:(e,t,r)=>{var n=r(2);e.exports=function(N){return N?(N.substr(0,2)==="{}"&&(N="\\{\\}"+N.substr(2)),E(function(m){return m.split("\\\\").join(s).split("\\{").join(i).split("\\}").join(h).split("\\,").join(c).split("\\.").join(u)}(N),!0).map(a)):[]};var s="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",h="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function o(N){return parseInt(N,10)==N?parseInt(N,10):N.charCodeAt(0)}function a(N){return N.split(s).join("\\").split(i).join("{").split(h).join("}").split(c).join(",").split(u).join(".")}function g(N){if(!N)return[""];var m=[],v=n("{","}",N);if(!v)return N.split(",");var w=v.pre,y=v.body,I=v.post,A=w.split(",");A[A.length-1]+="{"+y+"}";var T=g(I);return I.length&&(A[A.length-1]+=T.shift(),A.push.apply(A,T)),m.push.apply(m,A),m}function l(N){return"{"+N+"}"}function f(N){return/^-?0\d/.test(N)}function p(N,m){return N<=m}function d(N,m){return N>=m}function E(N,m){var v=[],w=n("{","}",N);if(!w)return[N];var y=w.pre,I=w.post.length?E(w.post,!1):[""];if(/\$$/.test(w.pre))for(var A=0;A<I.length;A++){var T=y+"{"+w.body+"}"+I[A];v.push(T)}else{var O,S,L=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(w.body),x=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(w.body),R=L||x,_=w.body.indexOf(",")>=0;if(!R&&!_)return w.post.match(/,.*\}/)?E(N=w.pre+"{"+w.body+h+w.post):[N];if(R)O=w.body.split(/\.\./);else if((O=g(w.body)).length===1&&(O=E(O[0],!1).map(l)).length===1)return I.map(function(Dt){return w.pre+O[0]+Dt});if(R){var k=o(O[0]),ft=o(O[1]),H=Math.max(O[0].length,O[1].length),M=O.length==3?Math.abs(o(O[2])):1,ot=p;ft<k&&(M*=-1,ot=d);var J=O.some(f);S=[];for(var D=k;ot(D,ft);D+=M){var yt;if(x)(yt=String.fromCharCode(D))==="\\"&&(yt="");else if(yt=String(D),J){var z=H-yt.length;if(z>0){var te=new Array(z+1).join("0");yt=D<0?"-"+te+yt.slice(1):te+yt}}S.push(yt)}}else{S=[];for(var F=0;F<O.length;F++)S.push.apply(S,E(O[F],!1))}for(F=0;F<S.length;F++)for(A=0;A<I.length;A++)T=y+S[F]+I[A],(!m||R||T)&&v.push(T)}return v}},829:e=>{function t(o){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t(o)}function r(o){var a=typeof Map=="function"?new Map:void 0;return r=function(g){if(g===null||(l=g,Function.toString.call(l).indexOf("[native code]")===-1))return g;var l;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(a!==void 0){if(a.has(g))return a.get(g);a.set(g,f)}function f(){return n(g,arguments,i(this).constructor)}return f.prototype=Object.create(g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),s(f,g)},r(o)}function n(o,a,g){return n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(l,f,p){var d=[null];d.push.apply(d,f);var E=new(Function.bind.apply(l,d));return p&&s(E,p.prototype),E},n.apply(null,arguments)}function s(o,a){return s=Object.setPrototypeOf||function(g,l){return g.__proto__=l,g},s(o,a)}function i(o){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},i(o)}var h=function(o){function a(g){var l;return function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}(this,a),(l=function(f,p){return!p||t(p)!=="object"&&typeof p!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(f):p}(this,i(a).call(this,g))).name="ObjectPrototypeMutationError",l}return function(g,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(l&&l.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),l&&s(g,l)}(a,o),a}(r(Error));function c(o,a){for(var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},l=a.split("."),f=l.length,p=function(N){var m=l[N];if(!o)return{v:void 0};if(m==="+"){if(Array.isArray(o))return{v:o.map(function(w,y){var I=l.slice(N+1);return I.length>0?c(w,I.join("."),g):g(o,y,l,N)})};var v=l.slice(0,N).join(".");throw new Error("Object at wildcard (".concat(v,") is not an array"))}o=g(o,m,l,N)},d=0;d<f;d++){var E=p(d);if(t(E)==="object")return E.v}return o}function u(o,a){return o.length===a+1}e.exports={set:function(o,a,g){if(t(o)!="object"||o===null||a===void 0)return o;if(typeof a=="number")return o[a]=g,o[a];try{return c(o,a,function(l,f,p,d){if(l===Reflect.getPrototypeOf({}))throw new h("Attempting to mutate Object.prototype");if(!l[f]){var E=Number.isInteger(Number(p[d+1])),N=p[d+1]==="+";l[f]=E||N?[]:{}}return u(p,d)&&(l[f]=g),l[f]})}catch(l){if(l instanceof h)throw l;return o}},get:function(o,a){if(t(o)!="object"||o===null||a===void 0)return o;if(typeof a=="number")return o[a];try{return c(o,a,function(g,l){return g[l]})}catch{return o}},has:function(o,a){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t(o)!="object"||o===null||a===void 0)return!1;if(typeof a=="number")return a in o;try{var l=!1;return c(o,a,function(f,p,d,E){if(!u(d,E))return f&&f[p];l=g.own?f.hasOwnProperty(p):p in f}),l}catch{return!1}},hasOwn:function(o,a,g){return this.has(o,a,g||{own:!0})},isIn:function(o,a,g){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t(o)!="object"||o===null||a===void 0)return!1;try{var f=!1,p=!1;return c(o,a,function(d,E,N,m){return f=f||d===g||!!d&&d[E]===g,p=u(N,m)&&t(d)==="object"&&E in d,d&&d[E]}),l.validPath?f&&p:f}catch{return!1}},ObjectPrototypeMutationError:h}},47:(e,t,r)=>{var n=r(410),s=function(o){return typeof o=="string"};function i(o,a){for(var g=[],l=0;l<o.length;l++){var f=o[l];f&&f!=="."&&(f===".."?g.length&&g[g.length-1]!==".."?g.pop():a&&g.push(".."):g.push(f))}return g}var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,c={};function u(o){return h.exec(o).slice(1)}c.resolve=function(){for(var o="",a=!1,g=arguments.length-1;g>=-1&&!a;g--){var l=g>=0?arguments[g]:Ut.cwd();if(!s(l))throw new TypeError("Arguments to path.resolve must be strings");l&&(o=l+"/"+o,a=l.charAt(0)==="/")}return(a?"/":"")+(o=i(o.split("/"),!a).join("/"))||"."},c.normalize=function(o){var a=c.isAbsolute(o),g=o.substr(-1)==="/";return(o=i(o.split("/"),!a).join("/"))||a||(o="."),o&&g&&(o+="/"),(a?"/":"")+o},c.isAbsolute=function(o){return o.charAt(0)==="/"},c.join=function(){for(var o="",a=0;a<arguments.length;a++){var g=arguments[a];if(!s(g))throw new TypeError("Arguments to path.join must be strings");g&&(o+=o?"/"+g:g)}return c.normalize(o)},c.relative=function(o,a){function g(m){for(var v=0;v<m.length&&m[v]==="";v++);for(var w=m.length-1;w>=0&&m[w]==="";w--);return v>w?[]:m.slice(v,w+1)}o=c.resolve(o).substr(1),a=c.resolve(a).substr(1);for(var l=g(o.split("/")),f=g(a.split("/")),p=Math.min(l.length,f.length),d=p,E=0;E<p;E++)if(l[E]!==f[E]){d=E;break}var N=[];for(E=d;E<l.length;E++)N.push("..");return(N=N.concat(f.slice(d))).join("/")},c._makeLong=function(o){return o},c.dirname=function(o){var a=u(o),g=a[0],l=a[1];return g||l?(l&&(l=l.substr(0,l.length-1)),g+l):"."},c.basename=function(o,a){var g=u(o)[2];return a&&g.substr(-1*a.length)===a&&(g=g.substr(0,g.length-a.length)),g},c.extname=function(o){return u(o)[3]},c.format=function(o){if(!n.isObject(o))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof o);var a=o.root||"";if(!s(a))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof o.root);return(o.dir?o.dir+c.sep:"")+(o.base||"")},c.parse=function(o){if(!s(o))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof o);var a=u(o);if(!a||a.length!==4)throw new TypeError("Invalid path '"+o+"'");return a[1]=a[1]||"",a[2]=a[2]||"",a[3]=a[3]||"",{root:a[0],dir:a[0]+a[1].slice(0,a[1].length-1),base:a[2],ext:a[3],name:a[2].slice(0,a[2].length-a[3].length)}},c.sep="/",c.delimiter=":",e.exports=c},647:(e,t)=>{var r=Object.prototype.hasOwnProperty;function n(i){try{return decodeURIComponent(i.replace(/\+/g," "))}catch{return null}}function s(i){try{return encodeURIComponent(i)}catch{return null}}t.stringify=function(i,h){h=h||"";var c,u,o=[];for(u in typeof h!="string"&&(h="?"),i)if(r.call(i,u)){if((c=i[u])||c!=null&&!isNaN(c)||(c=""),u=s(u),c=s(c),u===null||c===null)continue;o.push(u+"="+c)}return o.length?h+o.join("&"):""},t.parse=function(i){for(var h,c=/([^=?#&]+)=?([^&]*)/g,u={};h=c.exec(i);){var o=n(h[1]),a=n(h[2]);o===null||a===null||o in u||(u[o]=a)}return u}},670:e=>{e.exports=function(t,r){if(r=r.split(":")[0],!(t=+t))return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}},494:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,r=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i=Object.assign({},n,i),!s||typeof s!="string")return s;let h=s.trim();if(i.skipLike!==void 0&&i.skipLike.test(h))return s;if(i.hex&&t.test(h))return Number.parseInt(h,16);{const u=r.exec(h);if(u){const o=u[1],a=u[2];let g=((c=u[3])&&c.indexOf(".")!==-1&&((c=c.replace(/0+$/,""))==="."?c="0":c[0]==="."?c="0"+c:c[c.length-1]==="."&&(c=c.substr(0,c.length-1))),c);const l=u[4]||u[6];if(!i.leadingZeros&&a.length>0&&o&&h[2]!=="."||!i.leadingZeros&&a.length>0&&!o&&h[1]!==".")return s;{const f=Number(h),p=""+f;return p.search(/[eE]/)!==-1||l?i.eNotation?f:s:h.indexOf(".")!==-1?p==="0"&&g===""||p===g||o&&p==="-"+g?f:s:a?g===p||o+g===p?f:s:h===p||h===o+p?f:s}}return s}var c}},737:(e,t,r)=>{var n=r(670),s=r(647),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,h=/[\n\r\t]/g,c=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,a=/^[a-zA-Z]:/;function g(m){return(m||"").toString().replace(i,"")}var l=[["#","hash"],["?","query"],function(m,v){return d(v.protocol)?m.replace(/\\/g,"/"):m},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function p(m){var v,w=(typeof window<"u"?window:typeof Pe<"u"?Pe:typeof self<"u"?self:{}).location||{},y={},I=typeof(m=m||w);if(m.protocol==="blob:")y=new N(unescape(m.pathname),{});else if(I==="string")for(v in y=new N(m,{}),f)delete y[v];else if(I==="object"){for(v in m)v in f||(y[v]=m[v]);y.slashes===void 0&&(y.slashes=c.test(m.href))}return y}function d(m){return m==="file:"||m==="ftp:"||m==="http:"||m==="https:"||m==="ws:"||m==="wss:"}function E(m,v){m=(m=g(m)).replace(h,""),v=v||{};var w,y=o.exec(m),I=y[1]?y[1].toLowerCase():"",A=!!y[2],T=!!y[3],O=0;return A?T?(w=y[2]+y[3]+y[4],O=y[2].length+y[3].length):(w=y[2]+y[4],O=y[2].length):T?(w=y[3]+y[4],O=y[3].length):w=y[4],I==="file:"?O>=2&&(w=w.slice(2)):d(I)?w=y[4]:I?A&&(w=w.slice(2)):O>=2&&d(v.protocol)&&(w=y[4]),{protocol:I,slashes:A||d(I),slashesCount:O,rest:w}}function N(m,v,w){if(m=(m=g(m)).replace(h,""),!(this instanceof N))return new N(m,v,w);var y,I,A,T,O,S,L=l.slice(),x=typeof v,R=this,_=0;for(x!=="object"&&x!=="string"&&(w=v,v=null),w&&typeof w!="function"&&(w=s.parse),y=!(I=E(m||"",v=p(v))).protocol&&!I.slashes,R.slashes=I.slashes||y&&v.slashes,R.protocol=I.protocol||v.protocol||"",m=I.rest,(I.protocol==="file:"&&(I.slashesCount!==2||a.test(m))||!I.slashes&&(I.protocol||I.slashesCount<2||!d(R.protocol)))&&(L[3]=[/(.*)/,"pathname"]);_<L.length;_++)typeof(T=L[_])!="function"?(A=T[0],S=T[1],A!=A?R[S]=m:typeof A=="string"?~(O=A==="@"?m.lastIndexOf(A):m.indexOf(A))&&(typeof T[2]=="number"?(R[S]=m.slice(0,O),m=m.slice(O+T[2])):(R[S]=m.slice(O),m=m.slice(0,O))):(O=A.exec(m))&&(R[S]=O[1],m=m.slice(0,O.index)),R[S]=R[S]||y&&T[3]&&v[S]||"",T[4]&&(R[S]=R[S].toLowerCase())):m=T(m,R);w&&(R.query=w(R.query)),y&&v.slashes&&R.pathname.charAt(0)!=="/"&&(R.pathname!==""||v.pathname!=="")&&(R.pathname=function(k,ft){if(k==="")return ft;for(var H=(ft||"/").split("/").slice(0,-1).concat(k.split("/")),M=H.length,ot=H[M-1],J=!1,D=0;M--;)H[M]==="."?H.splice(M,1):H[M]===".."?(H.splice(M,1),D++):D&&(M===0&&(J=!0),H.splice(M,1),D--);return J&&H.unshift(""),ot!=="."&&ot!==".."||H.push(""),H.join("/")}(R.pathname,v.pathname)),R.pathname.charAt(0)!=="/"&&d(R.protocol)&&(R.pathname="/"+R.pathname),n(R.port,R.protocol)||(R.host=R.hostname,R.port=""),R.username=R.password="",R.auth&&(~(O=R.auth.indexOf(":"))?(R.username=R.auth.slice(0,O),R.username=encodeURIComponent(decodeURIComponent(R.username)),R.password=R.auth.slice(O+1),R.password=encodeURIComponent(decodeURIComponent(R.password))):R.username=encodeURIComponent(decodeURIComponent(R.auth)),R.auth=R.password?R.username+":"+R.password:R.username),R.origin=R.protocol!=="file:"&&d(R.protocol)&&R.host?R.protocol+"//"+R.host:"null",R.href=R.toString()}N.prototype={set:function(m,v,w){var y=this;switch(m){case"query":typeof v=="string"&&v.length&&(v=(w||s.parse)(v)),y[m]=v;break;case"port":y[m]=v,n(v,y.protocol)?v&&(y.host=y.hostname+":"+v):(y.host=y.hostname,y[m]="");break;case"hostname":y[m]=v,y.port&&(v+=":"+y.port),y.host=v;break;case"host":y[m]=v,u.test(v)?(v=v.split(":"),y.port=v.pop(),y.hostname=v.join(":")):(y.hostname=v,y.port="");break;case"protocol":y.protocol=v.toLowerCase(),y.slashes=!w;break;case"pathname":case"hash":if(v){var I=m==="pathname"?"/":"#";y[m]=v.charAt(0)!==I?I+v:v}else y[m]=v;break;case"username":case"password":y[m]=encodeURIComponent(v);break;case"auth":var A=v.indexOf(":");~A?(y.username=v.slice(0,A),y.username=encodeURIComponent(decodeURIComponent(y.username)),y.password=v.slice(A+1),y.password=encodeURIComponent(decodeURIComponent(y.password))):y.username=encodeURIComponent(decodeURIComponent(v))}for(var T=0;T<l.length;T++){var O=l[T];O[4]&&(y[O[1]]=y[O[1]].toLowerCase())}return y.auth=y.password?y.username+":"+y.password:y.username,y.origin=y.protocol!=="file:"&&d(y.protocol)&&y.host?y.protocol+"//"+y.host:"null",y.href=y.toString(),y},toString:function(m){m&&typeof m=="function"||(m=s.stringify);var v,w=this,y=w.host,I=w.protocol;I&&I.charAt(I.length-1)!==":"&&(I+=":");var A=I+(w.protocol&&w.slashes||d(w.protocol)?"//":"");return w.username?(A+=w.username,w.password&&(A+=":"+w.password),A+="@"):w.password?(A+=":"+w.password,A+="@"):w.protocol!=="file:"&&d(w.protocol)&&!y&&w.pathname!=="/"&&(A+="@"),(y[y.length-1]===":"||u.test(w.hostname)&&!w.port)&&(y+=":"),A+=y+w.pathname,(v=typeof w.query=="object"?m(w.query):w.query)&&(A+=v.charAt(0)!=="?"?"?"+v:v),w.hash&&(A+=w.hash),A}},N.extractProtocol=E,N.location=p,N.trimLeft=g,N.qs=s,e.exports=N},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},xn={};function G(e){var t=xn[e];if(t!==void 0)return t.exports;var r=xn[e]={id:e,loaded:!1,exports:{}};return us[e].call(r.exports,r,r.exports,G),r.loaded=!0,r.exports}G.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return G.d(t,{a:t}),t},G.d=(e,t)=>{for(var r in t)G.o(t,r)&&!G.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},G.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),G.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var mt={};G.d(mt,{hT:()=>ut,O4:()=>Ct,Kd:()=>Es,YK:()=>vs,UU:()=>Ia,Gu:()=>Ao,ky:()=>Co,h4:()=>ve,ch:()=>Ze,hq:()=>Gt,i5:()=>$o});var cs=G(737),ls=G.n(cs);function hr(e){if(!Pr(e))throw new Error("Parameter was not an error")}function Pr(e){return!!e&&typeof e=="object"&&(t=e,Object.prototype.toString.call(t)==="[object Error]")||e instanceof Error;var t}class lt extends Error{constructor(t,r){const n=[...arguments],{options:s,shortMessage:i}=function(c){let u,o="";if(c.length===0)u={};else if(Pr(c[0]))u={cause:c[0]},o=c.slice(1).join(" ")||"";else if(c[0]&&typeof c[0]=="object")u=Object.assign({},c[0]),o=c.slice(1).join(" ")||"";else{if(typeof c[0]!="string")throw new Error("Invalid arguments passed to Layerr");u={},o=o=c.join(" ")||""}return{options:u,shortMessage:o}}(n);let h=i;if(s.cause&&(h=`${h}: ${s.cause.message}`),super(h),this.message=h,s.name&&typeof s.name=="string"?this.name=s.name:this.name="Layerr",s.cause&&Object.defineProperty(this,"_cause",{value:s.cause}),Object.defineProperty(this,"_info",{value:{}}),s.info&&typeof s.info=="object"&&Object.assign(this._info,s.info),Error.captureStackTrace){const c=s.constructorOpt||this.constructor;Error.captureStackTrace(this,c)}}static cause(t){return hr(t),t._cause&&Pr(t._cause)?t._cause:null}static fullStack(t){hr(t);const r=lt.cause(t);return r?`${t.stack}
caused by: ${lt.fullStack(r)}`:t.stack??""}static info(t){hr(t);const r={},n=lt.cause(t);return n&&Object.assign(r,lt.info(n)),t._info&&Object.assign(r,t._info),r}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}var hs=G(47),Be=G.n(hs);const Ln="__PATH_SEPARATOR_POSIX__",Sn="__PATH_SEPARATOR_WINDOWS__";function B(e){try{const t=e.replace(/\//g,Ln).replace(/\\\\/g,Sn);return encodeURIComponent(t).split(Sn).join("\\\\").split(Ln).join("/")}catch(t){throw new lt(t,"Failed encoding path")}}function Pn(e){return e.startsWith("/")?e:"/"+e}function Ee(e){let t=e;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function ps(e){let t=new(ls())(e).pathname;return t.length<=0&&(t="/"),Ee(t)}function X(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){return function(n){var s=[];if(n.length===0)return"";if(typeof n[0]!="string")throw new TypeError("Url must be a string. Received "+n[0]);if(n[0].match(/^[^/:]+:\/*$/)&&n.length>1){var i=n.shift();n[0]=i+n[0]}n[0].match(/^file:\/\/\//)?n[0]=n[0].replace(/^([^/:]+):\/*/,"$1:///"):n[0]=n[0].replace(/^([^/:]+):\/*/,"$1://");for(var h=0;h<n.length;h++){var c=n[h];if(typeof c!="string")throw new TypeError("Url must be a string. Received "+c);c!==""&&(h>0&&(c=c.replace(/^[\/]+/,"")),c=h<n.length-1?c.replace(/[\/]+$/,""):c.replace(/[\/]+$/,"/"),s.push(c))}var u=s.join("/"),o=(u=u.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return o.shift()+(o.length>0?"?":"")+o.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((n,s,i)=>((i===0||s!=="/"||s==="/"&&n[n.length-1]!=="/")&&n.push(s),n),[]))}var fs=G(542),ie=G.n(fs);const gs="abcdef0123456789";function Cn(e,t){const r=e.url.replace("//",""),n=r.indexOf("/")==-1?"/":r.slice(r.indexOf("/")),s=e.method?e.method.toUpperCase():"GET",i=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",h=`00000000${t.nc}`.slice(-8),c=function(l,f,p,d,E,N,m){const v=m||ie()(`${f}:${p}:${d}`);return l&&l.toLowerCase()==="md5-sess"?ie()(`${v}:${E}:${N}`):v}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),u=ie()(`${s}:${n}`),o=i?ie()(`${c}:${t.nonce}:${h}:${t.cnonce}:${i}:${u}`):ie()(`${c}:${t.nonce}:${u}`),a={username:t.username,realm:t.realm,nonce:t.nonce,uri:n,qop:i,response:o,nc:h,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},g=[];for(const l in a)a[l]&&(l==="qop"||l==="nc"||l==="algorithm"?g.push(`${l}=${a[l]}`):g.push(`${l}="${a[l]}"`));return`Digest ${g.join(", ")}`}function bo(e){return(e.headers&&e.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var ds=G(101),wo=G.n(ds);function $n(e){return wo().decode(e)}function _n(e,t){var r;return`Basic ${r=`${e}:${t}`,wo().encode(r)}`}const Xe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,ms=Xe.fetch.bind(Xe),Es=Xe.Request,vs=Xe.Response;let ut=function(e){return e.Auto="auto",e.Digest="digest",e.None="none",e.Password="password",e.Token="token",e}({}),Ct=function(e){return e.DataTypeNoLength="data-type-no-length",e.InvalidAuthType="invalid-auth-type",e.InvalidOutputFormat="invalid-output-format",e.LinkUnsupportedAuthType="link-unsupported-auth",e.InvalidUpdateRange="invalid-update-range",e.NotSupported="not-supported",e}({});function No(e,t,r,n,s){switch(e.authType){case ut.Auto:t&&r&&(e.headers.Authorization=_n(t,r));break;case ut.Digest:e.digest=function(h,c,u){return{username:h,password:c,ha1:u,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,r,s);break;case ut.None:break;case ut.Password:e.headers.Authorization=_n(t,r);break;case ut.Token:e.headers.Authorization=`${(i=n).token_type} ${i.access_token}`;break;default:throw new lt({info:{code:Ct.InvalidAuthType}},`Invalid auth type: ${e.authType}`)}var i}G(345),G(800);const Dn="@@HOTPATCHER",ys=()=>{};function pr(e){return{original:e,methods:[e],final:!1}}class bs{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=Dn}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==Dn)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(n=>{this.configuration.registry.hasOwnProperty(n)?r&&(this.configuration.registry[n]=Object.assign({},t.configuration.registry[n])):this.configuration.registry[n]=Object.assign({},t.configuration.registry[n])}),t._configuration=this.configuration,this}execute(t){const r=this.get(t)||ys;for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return r(...s)}get(t){const r=this.configuration.registry[t];if(!r)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${t}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];if(s.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var h=arguments.length,c=new Array(h),u=0;u<h;u++)c[u]=arguments[u];let o=c;const a=this;for(;s.length>0;)o=[s.shift().apply(a,o)];return o[0]}}(...r.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:s=!1}=n;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error(`Failed patching '${t}': Method marked as being final`);if(typeof r!="function")throw new Error(`Failed patching '${t}': Provided method is not a function`);if(s)this.configuration.registry[t]?this.configuration.registry[t].methods.push(r):this.configuration.registry[t]=pr(r);else if(this.isPatched(t)){const{original:i}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(pr(r),{original:i})}else this.configuration.registry[t]=pr(r);return this}patchInline(t,r){this.isPatched(t)||this.patch(t,r);for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return this.execute(t,...s)}plugin(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.forEach(i=>{this.patch(t,i,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error(`Failed restoring method: No method present for key: ${t}`);if(typeof this.configuration.registry[t].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${t}`);return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error(`Failed marking '${t}' as final: No method found for key`);return this.configuration.registry[t].final=!0,this}}let fr=null;function Ao(){return fr||(fr=new bs),fr}function He(e){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function jn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=null,s=[...t];for(;s.length>0;){const i=s.shift();n=n?Io(n,i):He(i)}return n}function Io(e,t){const r=He(e);return Object.keys(t).forEach(n=>{r.hasOwnProperty(n)?Array.isArray(t[n])?r[n]=Array.isArray(r[n])?[...r[n],...t[n]]:[...t[n]]:typeof t[n]=="object"&&t[n]?r[n]=typeof r[n]=="object"&&r[n]?Io(r[n],t[n]):He(t[n]):r[n]=t[n]:r[n]=t[n]}),r}function ws(e){const t={};for(const r of e.keys())t[r]=e.get(r);return t}function Cr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length===0)return{};const n={};return t.reduce((s,i)=>(Object.keys(i).forEach(h=>{const c=h.toLowerCase();n.hasOwnProperty(c)?s[n[c]]=i[h]:(n[c]=h,s[h]=i[h])}),s),{})}G(805);const Ns=typeof ArrayBuffer=="function",{toString:As}=Object.prototype;function To(e){return Ns&&(e instanceof ArrayBuffer||As.call(e)==="[object ArrayBuffer]")}function Oo(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Ur(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}function $r(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Ro=Ur(function(e){const t=e._digest;return delete e._digest,t.hasDigestAuth&&(e=jn(e,{headers:{Authorization:Cn(e,t)}})),$r(ze(e),function(r){let n=!1;return s=function(h){return n?h:r},(i=function(){if(r.status==401)return t.hasDigestAuth=function(h,c){if(!bo(h))return!1;const u=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const o=h.headers&&h.headers.get("www-authenticate")||"",a=u.exec(o);if(!a)break;c[a[1]]=a[2]||a[3]}return c.nc+=1,c.cnonce=function(){let o="";for(let a=0;a<32;++a)o=`${o}${gs[Math.floor(16*Math.random())]}`;return o}(),!0}(r,t),function(){if(t.hasDigestAuth)return $r(ze(e=jn(e,{headers:{Authorization:Cn(e,t)}})),function(h){return h.status==401?t.hasDigestAuth=!1:t.nc++,n=!0,h})}();t.nc++}())&&i.then?i.then(s):s(i);var s,i})}),Is=Ur(function(e,t){return $r(ze(e),function(r){return r.ok?(t.authType=ut.Password,r):r.status==401&&bo(r)?(t.authType=ut.Digest,No(t,t.username,t.password,void 0,void 0),e._digest=t.digest,Ro(e)):r})}),Y=Ur(function(e,t){return t.authType===ut.Auto?Is(e,t):e._digest?Ro(e):ze(e)});function Z(e,t,r){const n=He(e);return n.headers=Cr(t.headers,n.headers||{},r.headers||{}),r.data!==void 0&&(n.data=r.data),r.signal&&(n.signal=r.signal),t.httpAgent&&(n.httpAgent=t.httpAgent),t.httpsAgent&&(n.httpsAgent=t.httpsAgent),t.digest&&(n._digest=t.digest),typeof t.withCredentials=="boolean"&&(n.withCredentials=t.withCredentials),n}function ze(e){const t=Ao();return t.patchInline("request",r=>t.patchInline("fetch",ms,r.url,function(n){let s={};const i={method:n.method};if(n.headers&&(s=Cr(s,n.headers)),n.data!==void 0){const[h,c]=function(u){if(typeof u=="string")return[u,{}];if(Oo(u))return[u,{}];if(To(u))return[u,{}];if(u&&typeof u=="object")return[JSON.stringify(u),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof u)}(n.data);i.body=h,s=Cr(s,c)}return n.signal&&(i.signal=n.signal),n.withCredentials&&(i.credentials="include"),i.headers=s,i}(r)),e)}var Ts=G(285);const We=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},Os={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},se=e=>e.replace(/[[\]\\-]/g,"\\$&"),kn=e=>e.join(""),Rs=(e,t)=>{const r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");const n=[],s=[];let i=r+1,h=!1,c=!1,u=!1,o=!1,a=r,g="";t:for(;i<e.length;){const d=e.charAt(i);if(d!=="!"&&d!=="^"||i!==r+1){if(d==="]"&&h&&!u){a=i+1;break}if(h=!0,d!=="\\"||u){if(d==="["&&!u){for(const[E,[N,m,v]]of Object.entries(Os))if(e.startsWith(E,i)){if(g)return["$.",!1,e.length-r,!0];i+=E.length,v?s.push(N):n.push(N),c=c||m;continue t}}u=!1,g?(d>g?n.push(se(g)+"-"+se(d)):d===g&&n.push(se(d)),g="",i++):e.startsWith("-]",i+1)?(n.push(se(d+"-")),i+=2):e.startsWith("-",i+1)?(g=d,i+=2):(n.push(se(d)),i++)}else u=!0,i++}else o=!0,i++}if(a<i)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,e.length-r,!0];if(s.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!o)return[(l=n[0].length===2?n[0].slice(-1):n[0],l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,a-r,!1];var l;const f="["+(o?"^":"")+kn(n)+"]",p="["+(o?"":"^")+kn(s)+"]";return[n.length&&s.length?"("+f+"|"+p+")":n.length?f:p,c,a-r,!0]},pe=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},xs=new Set(["!","?","+","*","@"]),Mn=e=>xs.has(e),gr="(?!\\.)",Ls=new Set(["[","."]),Ss=new Set(["..","."]),Ps=new Set("().*{}+?[]^$\\!"),Gr="[^/]",Fn=Gr+"*?",Un=Gr+"+?";class at{type;#r;#n;#i=!1;#t=[];#e;#s;#u;#a=!1;#o;#c;#h=!1;constructor(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=t,t&&(this.#n=!0),this.#e=r,this.#r=this.#e?this.#e.#r:this,this.#o=this.#r===this?n:this.#r.#o,this.#u=this.#r===this?[]:this.#r.#u,t!=="!"||this.#r.#a||this.#u.push(this),this.#s=this.#e?this.#e.#t.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(const t of this.#t)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#t.map(t=>String(t)).join("|")+")":this.#c=this.#t.map(t=>String(t)).join("")}#f(){if(this!==this.#r)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#u.pop();){if(t.type!=="!")continue;let r=t,n=r.#e;for(;n;){for(let s=r.#s+1;!n.type&&s<n.#t.length;s++)for(const i of t.#t){if(typeof i=="string")throw new Error("string part in extglob AST??");i.copyIn(n.#t[s])}r=n,n=r.#e}}return this}push(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const s of r)if(s!==""){if(typeof s!="string"&&!(s instanceof at&&s.#e===this))throw new Error("invalid part: "+s);this.#t.push(s)}}toJSON(){const t=this.type===null?this.#t.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#t.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#r||this.#r.#a&&this.#e?.type==="!")&&t.push({}),t}isStart(){if(this.#r===this)return!0;if(!this.#e?.isStart())return!1;if(this.#s===0)return!0;const t=this.#e;for(let r=0;r<this.#s;r++){const n=t.#t[r];if(!(n instanceof at&&n.type==="!"))return!1}return!0}isEnd(){if(this.#r===this||this.#e?.type==="!")return!0;if(!this.#e?.isEnd())return!1;if(!this.type)return this.#e?.isEnd();const t=this.#e?this.#e.#t.length:0;return this.#s===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const r=new at(this.type,t);for(const n of this.#t)r.copyIn(n);return r}static#l(t,r,n,s){let i=!1,h=!1,c=-1,u=!1;if(r.type===null){let f=n,p="";for(;f<t.length;){const d=t.charAt(f++);if(i||d==="\\")i=!i,p+=d;else if(h)f===c+1?d!=="^"&&d!=="!"||(u=!0):d!=="]"||f===c+2&&u||(h=!1),p+=d;else if(d!=="[")if(s.noext||!Mn(d)||t.charAt(f)!=="(")p+=d;else{r.push(p),p="";const E=new at(d,r);f=at.#l(t,E,f,s),r.push(E)}else h=!0,c=f,u=!1,p+=d}return r.push(p),f}let o=n+1,a=new at(null,r);const g=[];let l="";for(;o<t.length;){const f=t.charAt(o++);if(i||f==="\\")i=!i,l+=f;else if(h)o===c+1?f!=="^"&&f!=="!"||(u=!0):f!=="]"||o===c+2&&u||(h=!1),l+=f;else if(f!=="[")if(Mn(f)&&t.charAt(o)==="("){a.push(l),l="";const p=new at(f,a);a.push(p),o=at.#l(t,p,o,s)}else if(f!=="|"){if(f===")")return l===""&&r.#t.length===0&&(r.#h=!0),a.push(l),l="",r.push(...g,a),o;l+=f}else a.push(l),l="",g.push(a),a=new at(null,r);else h=!0,c=o,u=!1,l+=f}return r.type=null,r.#n=void 0,r.#t=[t.substring(n-1)],o}static fromGlob(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=new at(null,void 0,r);return at.#l(t,n,0,r),n}toMMPattern(){if(this!==this.#r)return this.#r.toMMPattern();const t=this.toString(),[r,n,s,i]=this.toRegExpSource();if(!(s||this.#n||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;const h=(this.#o.nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${r}$`,h),{_src:r,_glob:t})}get options(){return this.#o}toRegExpSource(t){const r=t??!!this.#o.dot;if(this.#r===this&&this.#f(),!this.type){const u=this.isStart()&&this.isEnd(),o=this.#t.map(l=>{const[f,p,d,E]=typeof l=="string"?at.#g(l,this.#n,u):l.toRegExpSource(t);return this.#n=this.#n||d,this.#i=this.#i||E,f}).join("");let a="";if(this.isStart()&&typeof this.#t[0]=="string"&&(this.#t.length!==1||!Ss.has(this.#t[0]))){const l=Ls,f=r&&l.has(o.charAt(0))||o.startsWith("\\.")&&l.has(o.charAt(2))||o.startsWith("\\.\\.")&&l.has(o.charAt(4)),p=!r&&!t&&l.has(o.charAt(0));a=f?"(?!(?:^|/)\\.\\.?(?:$|/))":p?gr:""}let g="";return this.isEnd()&&this.#r.#a&&this.#e?.type==="!"&&(g="(?:$|\\/)"),[a+o+g,pe(o),this.#n=!!this.#n,this.#i]}const n=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:";let i=this.#p(r);if(this.isStart()&&this.isEnd()&&!i&&this.type!=="!"){const u=this.toString();return this.#t=[u],this.type=null,this.#n=void 0,[u,pe(this.toString()),!1,!1]}let h=!n||t||r?"":this.#p(!0);h===i&&(h=""),h&&(i=`(?:${i})(?:${h})*?`);let c="";return c=this.type==="!"&&this.#h?(this.isStart()&&!r?gr:"")+Un:s+i+(this.type==="!"?"))"+(!this.isStart()||r||t?"":gr)+Fn+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&h?")":this.type==="*"&&h?")?":`)${this.type}`),[c,pe(i),this.#n=!!this.#n,this.#i]}#p(t){return this.#t.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");const[n,s,i,h]=r.toRegExpSource(t);return this.#i=this.#i||h,n}).filter(r=>!(this.isStart()&&this.isEnd()&&!r)).join("|")}static#g(t,r){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=!1,i="",h=!1;for(let c=0;c<t.length;c++){const u=t.charAt(c);if(s)s=!1,i+=(Ps.has(u)?"\\":"")+u;else if(u!=="\\"){if(u==="["){const[o,a,g,l]=Rs(t,c);if(g){i+=o,h=h||a,c+=g-1,r=r||l;continue}}u!=="*"?u!=="?"?i+=u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(i+=Gr,r=!0):(i+=n&&t==="*"?Un:Fn,r=!0)}else c===t.length-1?i+="\\\\":s=!0}return[i,pe(t),!!r,h]}}const nt=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return We(t),!(!r.nocomment&&t.charAt(0)==="#")&&new Ve(t,r).match(e)},Cs=/^\*+([^+@!?\*\[\(]*)$/,$s=e=>t=>!t.startsWith(".")&&t.endsWith(e),_s=e=>t=>t.endsWith(e),Ds=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),js=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),ks=/^\*+\.\*+$/,Ms=e=>!e.startsWith(".")&&e.includes("."),Fs=e=>e!=="."&&e!==".."&&e.includes("."),Us=/^\.\*+$/,Gs=e=>e!=="."&&e!==".."&&e.startsWith("."),Bs=/^\*+$/,Xs=e=>e.length!==0&&!e.startsWith("."),Hs=e=>e.length!==0&&e!=="."&&e!=="..",zs=/^\?+([^+@!?\*\[\(]*)?$/,Ws=e=>{let[t,r=""]=e;const n=xo([t]);return r?(r=r.toLowerCase(),s=>n(s)&&s.toLowerCase().endsWith(r)):n},Vs=e=>{let[t,r=""]=e;const n=Lo([t]);return r?(r=r.toLowerCase(),s=>n(s)&&s.toLowerCase().endsWith(r)):n},qs=e=>{let[t,r=""]=e;const n=Lo([t]);return r?s=>n(s)&&s.endsWith(r):n},Ys=e=>{let[t,r=""]=e;const n=xo([t]);return r?s=>n(s)&&s.endsWith(r):n},xo=e=>{let[t]=e;const r=t.length;return n=>n.length===r&&!n.startsWith(".")},Lo=e=>{let[t]=e;const r=t.length;return n=>n.length===r&&n!=="."&&n!==".."},So=typeof Ut=="object"&&Ut?typeof lr=="object"&&lr&&lr.__MINIMATCH_TESTING_PLATFORM__||Ut.platform:"posix";nt.sep=So==="win32"?"\\":"/";const Et=Symbol("globstar **");nt.GLOBSTAR=Et,nt.filter=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=>nt(r,e,t)};const dt=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},e,t)};nt.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return nt;const t=nt;return Object.assign(function(r,n){return t(r,n,dt(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(r){super(r,dt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(r){return t.defaults(dt(e,r)).Minimatch}},AST:class extends t.AST{constructor(r,n){super(r,n,dt(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.AST.fromGlob(r,dt(e,n))}},unescape:function(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(r,dt(e,n))},escape:function(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(r,dt(e,n))},filter:function(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(r,dt(e,n))},defaults:r=>t.defaults(dt(e,r)),makeRe:function(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(r,dt(e,n))},braceExpand:function(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(r,dt(e,n))},match:function(r,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(r,n,dt(e,s))},sep:t.sep,GLOBSTAR:Et})};const Po=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return We(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:Ts(e)};nt.braceExpand=Po,nt.makeRe=function(e){return new Ve(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},nt.match=function(e,t){const r=new Ve(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return e=e.filter(n=>r.match(n)),r.options.nonull&&!e.length&&e.push(t),e};const Gn=/[?*]|[+@!]\(.*?\)|\[|\]/;class Ve{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};We(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||So,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const r of t)if(typeof r!="string")return!0;return!1}debug(){}make(){const t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const n=this.globSet.map(i=>this.slashSplit(i));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let s=this.globParts.map((i,h,c)=>{if(this.isWindows&&this.windowsNoMagicRoot){const u=!(i[0]!==""||i[1]!==""||i[2]!=="?"&&Gn.test(i[2])||Gn.test(i[3])),o=/^[a-z]:/i.test(i[0]);if(u)return[...i.slice(0,4),...i.slice(4).map(a=>this.parse(a))];if(o)return[i[0],...i.slice(1).map(a=>this.parse(a))]}return i.map(u=>this.parse(u))});if(this.debug(this.pattern,s),this.set=s.filter(i=>i.indexOf(!1)===-1),this.isWindows)for(let i=0;i<this.set.length;i++){const h=this.set[i];h[0]===""&&h[1]===""&&this.globParts[i][2]==="?"&&typeof h[3]=="string"&&/^[a-z]:$/i.test(h[3])&&(h[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let s=0;s<t[n].length;s++)t[n][s]==="**"&&(t[n][s]="*");const{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=r>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let s=n;for(;r[s+1]==="**";)s++;s!==n&&r.splice(n,s-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,s)=>{const i=n[n.length-1];return s==="**"&&i==="**"?n:s===".."&&i&&i!==".."&&i!=="."&&i!=="**"?(n.pop(),n):(n.push(s),n)},[])).length===0?[""]:r)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){const i=t[s];s===1&&i===""&&t[0]===""||i!=="."&&i!==""||(r=!0,t.splice(s,1),s--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){const s=t[n-1];s&&s!=="."&&s!==".."&&s!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let h=s;for(;n[h+1]==="**";)h++;h>s&&n.splice(s+1,h-s);let c=n[s+1];const u=n[s+2],o=n[s+3];if(c!==".."||!u||u==="."||u===".."||!o||o==="."||o==="..")continue;r=!0,n.splice(s,1);const a=n.slice(0);a[s]="**",t.push(a),s--}if(!this.preserveMultipleSlashes){for(let h=1;h<n.length-1;h++){const c=n[h];h===1&&c===""&&n[0]===""||c!=="."&&c!==""||(r=!0,n.splice(h,1),h--)}n[0]!=="."||n.length!==2||n[1]!=="."&&n[1]!==""||(r=!0,n.pop())}let i=0;for(;(i=n.indexOf("..",i+1))!==-1;){const h=n[i-1];if(h&&h!=="."&&h!==".."&&h!=="**"){r=!0;const c=i===1&&n[i+1]==="**"?["."]:[];n.splice(i-1,2,...c),n.length===0&&n.push(""),i-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){const s=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(s){t[r]=[],t[n]=s;break}}return t.filter(r=>r.length)}partsMatch(t,r){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=0,i=0,h=[],c="";for(;s<t.length&&i<r.length;)if(t[s]===r[i])h.push(c==="b"?r[i]:t[s]),s++,i++;else if(n&&t[s]==="**"&&r[i]===t[s+1])h.push(t[s]),s++;else if(n&&r[i]==="**"&&t[s]===r[i+1])h.push(r[i]),i++;else if(t[s]!=="*"||!r[i]||!this.options.dot&&r[i].startsWith(".")||r[i]==="**"){if(r[i]!=="*"||!t[s]||!this.options.dot&&t[s].startsWith(".")||t[s]==="**"||c==="a")return!1;c="b",h.push(r[i]),s++,i++}else{if(c==="b")return!1;c="a",h.push(t[s]),s++,i++}return t.length===r.length&&h}parseNegate(){if(this.nonegate)return;const t=this.pattern;let r=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const s=this.options;if(this.isWindows){const d=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),E=!d&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),N=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),m=E?3:d?0:void 0,v=!N&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3])?3:N?0:void 0;if(typeof m=="number"&&typeof v=="number"){const[w,y]=[t[m],r[v]];w.toLowerCase()===y.toLowerCase()&&(r[v]=w,v>m?r=r.slice(v):m>v&&(t=t.slice(m)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var h=0,c=0,u=t.length,o=r.length;h<u&&c<o;h++,c++){this.debug("matchOne loop");var a=r[c],g=t[h];if(this.debug(r,a,g),a===!1)return!1;if(a===Et){this.debug("GLOBSTAR",[r,a,g]);var l=h,f=c+1;if(f===o){for(this.debug("** at the end");h<u;h++)if(t[h]==="."||t[h]===".."||!s.dot&&t[h].charAt(0)===".")return!1;return!0}for(;l<u;){var p=t[l];if(this.debug(`
globstar while`,t,l,r,f,p),this.matchOne(t.slice(l),r.slice(f),n))return this.debug("globstar found match!",l,u,p),!0;if(p==="."||p===".."||!s.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,l,r,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!n||(this.debug(`
>>> no match, partial?`,t,l,r,f),l!==u))}let d;if(typeof a=="string"?(d=g===a,this.debug("string match",a,g,d)):(d=a.test(g),this.debug("pattern match",a,g,d)),!d)return!1}if(h===u&&c===o)return!0;if(h===u)return n;if(c===o)return h===u-1&&t[h]==="";throw new Error("wtf?")}braceExpand(){return Po(this.pattern,this.options)}parse(t){We(t);const r=this.options;if(t==="**")return Et;if(t==="")return"";let n,s=null;(n=t.match(Bs))?s=r.dot?Hs:Xs:(n=t.match(Cs))?s=(r.nocase?r.dot?js:Ds:r.dot?_s:$s)(n[1]):(n=t.match(zs))?s=(r.nocase?r.dot?Vs:Ws:r.dot?qs:Ys)(n):(n=t.match(ks))?s=r.dot?Fs:Ms:(n=t.match(Us))&&(s=Gs);const i=at.fromGlob(t,this.options).toMMPattern();return s&&typeof i=="object"&&Reflect.defineProperty(i,"test",{value:s}),i}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const r=this.options,n=r.noglobstar?"[^/]*?":r.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(r.nocase?["i"]:[]);let i=t.map(u=>{const o=u.map(a=>{if(a instanceof RegExp)for(const g of a.flags.split(""))s.add(g);return typeof a=="string"?a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):a===Et?Et:a._src});return o.forEach((a,g)=>{const l=o[g+1],f=o[g-1];a===Et&&f!==Et&&(f===void 0?l!==void 0&&l!==Et?o[g+1]="(?:\\/|"+n+"\\/)?"+l:o[g]=n:l===void 0?o[g-1]=f+"(?:\\/|"+n+")?":l!==Et&&(o[g-1]=f+"(?:\\/|\\/"+n+"\\/)"+l,o[g+1]=Et))}),o.filter(a=>a!==Et).join("/")}).join("|");const[h,c]=t.length>1?["(?:",")"]:["",""];i="^"+h+i+c+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;const n=this.options;this.isWindows&&(t=t.split("\\").join("/"));const s=this.slashSplit(t);this.debug(this.pattern,"split",s);const i=this.set;this.debug(this.pattern,"set",i);let h=s[s.length-1];if(!h)for(let c=s.length-2;!h&&c>=0;c--)h=s[c];for(let c=0;c<i.length;c++){const u=i[c];let o=s;if(n.matchBase&&u.length===1&&(o=[h]),this.matchOne(o,u,r))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(t){return nt.defaults(t).Minimatch}}function Br(e){const t=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${e.status} ${e.statusText}`);return t.status=e.status,t.response=e,t}function K(e,t){const{status:r}=t;if(r===401&&e.digest)return t;if(r>=400)throw Br(t);return t}function Gt(e,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:e.headers?ws(e.headers):{},status:e.status,statusText:e.statusText}:t}nt.AST=at,nt.Minimatch=Ve,nt.escape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},nt.unescape=pe;const Zs=(Bn=function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Z({url:X(e.remoteURL,B(t)),method:"COPY",headers:{Destination:X(e.remoteURL,B(r)),Overwrite:n.overwrite===!1?"F":"T",Depth:n.shallow?"0":"infinity"}},e,n);return h=function(c){K(e,c)},(i=Y(s,e))&&i.then||(i=Promise.resolve(i)),h?i.then(h):i;var i,h},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(Bn.apply(this,e))}catch(r){return Promise.reject(r)}});var Bn,Xr=G(635),Ks=G(829),St=G.n(Ks),Zt=function(e){return e.Array="array",e.Object="object",e.Original="original",e}(Zt||{});function Ce(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zt.Original;const n=St().get(e,t);return r==="array"&&Array.isArray(n)===!1?[n]:r==="object"&&Array.isArray(n)?n[0]:n}function ve(e){return new Promise(t=>{t(function(r){const{multistatus:n}=r;if(n==="")return{multistatus:{response:[]}};if(!n)throw new Error("Invalid response: No root multistatus found");const s={multistatus:Array.isArray(n)?n[0]:n};return St().set(s,"multistatus.response",Ce(s,"multistatus.response",Zt.Array)),St().set(s,"multistatus.response",St().get(s,"multistatus.response").map(i=>function(h){const c=Object.assign({},h);return c.status?St().set(c,"status",Ce(c,"status",Zt.Object)):(St().set(c,"propstat",Ce(c,"propstat",Zt.Object)),St().set(c,"propstat.prop",Ce(c,"propstat.prop",Zt.Object))),c}(i))),s}(new Xr.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(e)))})}function Ze(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:n=null,getcontentlength:s="0",resourcetype:i=null,getcontenttype:h=null,getetag:c=null}=e,u=i&&typeof i=="object"&&i.collection!==void 0?"directory":"file",o={filename:t,basename:Be().basename(t),lastmod:n,size:parseInt(s,10),type:u,etag:typeof c=="string"?c.replace(/"/g,""):null};return u==="file"&&(o.mime=h&&typeof h=="string"?h.split(";")[0]:""),r&&(e.displayname!==void 0&&(e.displayname=String(e.displayname)),o.props=e),o}function Co(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=null;try{e.multistatus.response[0].propstat&&(n=e.multistatus.response[0])}catch{}if(!n)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:s,status:i}}=n,[h,c,u]=i.split(" ",3),o=parseInt(c,10);if(o>=400){const a=new Error(`Invalid response: ${o} ${u}`);throw a.status=o,a}return Ze(s,Ee(t),r)}function $o(e){switch(String(e)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(e),10)}}function dr(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Hr=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:n=!1}=r,s=Z({url:X(e.remoteURL,B(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,r);return dr(Y(s,e),function(i){return K(e,i),dr(i.text(),function(h){return dr(ve(h),function(c){const u=Co(c,t,n);return Gt(i,u,n)})})})});function _o(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Js=Do(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=function(i){if(!i||i==="/")return[];let h=i;const c=[];do c.push(h),h=Be().dirname(h);while(h&&h!=="/");return c}(Ee(t));n.sort((i,h)=>i.length>h.length?1:h.length>i.length?-1:0);let s=!1;return function(i,h,c){if(typeof i[Hn]=="function"){let d=function(E){try{for(;!(u=g.next()).done;)if((E=h(u.value))&&E.then){if(!zn(E))return void E.then(d,a||(a=ct.bind(null,o=new Kt,2)));E=E.v}o?ct(o,1,E):o=E}catch(N){ct(o||(o=new Kt),2,N)}};var u,o,a,g=i[Hn]();if(d(),g.return){var l=function(E){try{u.done||g.return()}catch{}return E};if(o&&o.then)return o.then(l,function(E){throw l(E)});l()}return o}if(!("length"in i))throw new TypeError("Object is not iterable");for(var f=[],p=0;p<i.length;p++)f.push(i[p]);return function(d,E,N){var m,v,w=-1;return function y(I){try{for(;++w<d.length&&(!N||!N());)if((I=E(w))&&I.then){if(!zn(I))return void I.then(y,v||(v=ct.bind(null,m=new Kt,2)));I=I.v}m?ct(m,1,I):m=I}catch(A){ct(m||(m=new Kt),2,A)}}(),m}(f,function(d){return h(f[d])},c)}(n,function(i){return h=function(){return function(u,o){try{var a=_o(Hr(e,i),function(g){if(g.type!=="directory")throw new Error(`Path includes a file: ${t}`)})}catch(g){return o(g)}return a&&a.then?a.then(void 0,o):a}(0,function(u){const o=u;return function(){if(o.status===404)return s=!0,Xn(_r(e,i,{...r,recursive:!1}));throw u}()})},(c=function(){if(s)return Xn(_r(e,i,{...r,recursive:!1}))}())&&c.then?c.then(h):h();var h,c},function(){return!1})});function Do(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}function Qs(){}function Xn(e,t){return e&&e.then?e.then(Qs):Promise.resolve()}const Hn=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function ct(e,t,r){if(!e.s){if(r instanceof Kt){if(!r.s)return void(r.o=ct.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(ct.bind(null,e,t),ct.bind(null,e,2));e.s=t,e.v=r;const n=e.o;n&&n(e)}}const Kt=function(){function e(){}return e.prototype.then=function(t,r){const n=new e,s=this.s;if(s){const i=1&s?t:r;if(i){try{ct(n,1,i(this.v))}catch(h){ct(n,2,h)}return n}return this}return this.o=function(i){try{const h=i.v;1&i.s?ct(n,1,t?t(h):h):r?ct(n,1,r(h)):ct(n,2,h)}catch(h){ct(n,2,h)}},n},e}();function zn(e){return e instanceof Kt&&1&e.s}const _r=Do(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r.recursive===!0)return Js(e,t,r);const n=Z({url:X(e.remoteURL,(s=B(t),s.endsWith("/")?s:s+"/")),method:"MKCOL"},e,r);var s;return _o(Y(n,e),function(i){K(e,i)})});var ta=G(388),Wn=G.n(ta);const ea=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n={};if(typeof r.range=="object"&&typeof r.range.start=="number"){let c=`bytes=${r.range.start}-`;typeof r.range.end=="number"&&(c=`${c}${r.range.end}`),n.Range=c}const s=Z({url:X(e.remoteURL,B(t)),method:"GET",headers:n},e,r);return h=function(c){if(K(e,c),n.Range&&c.status!==206){const u=new Error(`Invalid response code for partial request: ${c.status}`);throw u.status=c.status,u}return r.callback&&setTimeout(()=>{r.callback(c)},0),c.body},(i=Y(s,e))&&i.then||(i=Promise.resolve(i)),h?i.then(h):i;var i,h}),ra=()=>{},na=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e,t,r){r.url||(r.url=X(e.remoteURL,B(t)));const n=Z(r,e,{});return i=function(h){return K(e,h),h},(s=Y(n,e))&&s.then||(s=Promise.resolve(s)),i?s.then(i):s;var s,i}),oa=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Z({url:X(e.remoteURL,B(t)),method:"DELETE"},e,r);return i=function(h){K(e,h)},(s=Y(n,e))&&s.then||(s=Promise.resolve(s)),i?s.then(i):s;var s,i}),ia=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(n,s){try{var i=(h=Hr(e,t,r),c=function(){return!0},u?c?c(h):h:(h&&h.then||(h=Promise.resolve(h)),c?h.then(c):h))}catch(o){return s(o)}var h,c,u;return i&&i.then?i.then(void 0,s):i}(0,function(n){if(n.status===404)return!1;throw n})});function mr(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const sa=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Z({url:X(e.remoteURL,B(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:r.deep?"infinity":"1"}},e,r);return mr(Y(n,e),function(s){return K(e,s),mr(s.text(),function(i){if(!i)throw new Error("Failed parsing directory contents: Empty response");return mr(ve(i),function(h){const c=Pn(t);let u=function(o,a,g){let l=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const p=Be().join(a,"/"),{multistatus:{response:d}}=o,E=d.map(N=>{const m=function(w){try{return w.replace(/^https?:\/\/[^\/]+/,"")}catch(y){throw new lt(y,"Failed normalising HREF")}}(N.href),{propstat:{prop:v}}=N;return Ze(v,p==="/"?decodeURIComponent(Ee(m)):Ee(Be().relative(decodeURIComponent(p),decodeURIComponent(m))),l)});return f?E:E.filter(N=>N.basename&&(N.type==="file"||N.filename!==g.replace(/\/$/,"")))}(h,Pn(e.remoteBasePath||e.remotePath),c,r.details,r.includeSelf);return r.glob&&(u=function(o,a){return o.filter(g=>nt(g.filename,a,{matchBase:!0}))}(u,r.glob)),Gt(s,u,r.details)})})})});function zr(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}const aa=zr(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Z({url:X(e.remoteURL,B(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[la]},e,r);return qe(Y(n,e),function(s){return K(e,s),qe(s.text(),function(i){return Gt(s,i,r.details)})})});function qe(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const ua=zr(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Z({url:X(e.remoteURL,B(t)),method:"GET"},e,r);return qe(Y(n,e),function(s){let i;return K(e,s),function(h,c){var u=h();return u&&u.then?u.then(c):c()}(function(){return qe(s.arrayBuffer(),function(h){i=h})},function(){return Gt(s,i,r.details)})})}),ca=zr(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:n="binary"}=r;if(n!=="binary"&&n!=="text")throw new lt({info:{code:Ct.InvalidOutputFormat}},`Invalid output format: ${n}`);return n==="text"?aa(e,t,r):ua(e,t,r)}),la=e=>e;function ha(e){return new Xr.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(jo({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:e}}},"d"))}function jo(e,t){const r={...e};for(const n in r)r.hasOwnProperty(n)&&(r[n]&&typeof r[n]=="object"&&n.indexOf(":")===-1?(r[`${t}:${n}`]=jo(r[n],t),delete r[n]):/^@_/.test(n)===!1&&(r[`${t}:${n}`]=r[n],delete r[n]));return r}function Dr(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}function ko(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}const pa=ko(function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Z({url:X(e.remoteURL,B(t)),method:"UNLOCK",headers:{"Lock-Token":r}},e,n);return Dr(Y(s,e),function(i){if(K(e,i),i.status!==204&&i.status!==200)throw Br(i)})}),fa=ko(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:n,timeout:s=ga}=r,i={Accept:"text/plain,application/xml",Timeout:s};n&&(i.If=n);const h=Z({url:X(e.remoteURL,B(t)),method:"LOCK",headers:i,data:ha(e.contactHref)},e,r);return Dr(Y(h,e),function(c){return K(e,c),Dr(c.text(),function(u){const o=(l=u,new Xr.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(l)),a=St().get(o,"prop.lockdiscovery.activelock.locktoken.href"),g=St().get(o,"prop.lockdiscovery.activelock.timeout");var l;if(!a)throw Br(c,"No lock token received: ");return{token:a,serverTimeout:g}})})}),ga="Infinite, Second-4100000000";function Er(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const da=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=t.path||"/",n=Z({url:X(e.remoteURL,r),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,t);return Er(Y(n,e),function(s){return K(e,s),Er(s.text(),function(i){return Er(ve(i),function(h){const c=function(u){try{const[o]=u.multistatus.response,{propstat:{prop:{"quota-used-bytes":a,"quota-available-bytes":g}}}=o;return a!==void 0&&g!==void 0?{used:parseInt(String(a),10),available:$o(g)}:null}catch{}return null}(h);return Gt(s,c,t.details)})})})});function vr(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const ma=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:n=!1}=r,s=Z({url:X(e.remoteURL,B(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":e.headers["Content-Type"]||"application/xml; charset=utf-8"}},e,r);return vr(Y(s,e),function(i){return K(e,i),vr(i.text(),function(h){return vr(ve(h),function(c){const u=function(o,a,g){const l={truncated:!1,results:[]};return l.truncated=o.multistatus.response.some(f=>(f.status||f.propstat?.status).split(" ",3)?.[1]==="507"&&f.href.replace(/\/$/,"").endsWith(B(a).replace(/\/$/,""))),o.multistatus.response.forEach(f=>{if(f.propstat===void 0)return;const p=f.href.split("/").map(decodeURIComponent).join("/");l.results.push(Ze(f.propstat.prop,p,g))}),l}(c,t,n);return Gt(i,u,n)})})})}),Ea=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Z({url:X(e.remoteURL,B(t)),method:"MOVE",headers:{Destination:X(e.remoteURL,B(r)),Overwrite:n.overwrite===!1?"F":"T"}},e,n);return h=function(c){K(e,c)},(i=Y(s,e))&&i.then||(i=Promise.resolve(i)),h?i.then(h):i;var i,h});var va=G(172);const ya=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:s=!0,overwrite:i=!0}=n,h={"Content-Type":"application/octet-stream"};s===!1||(h["Content-Length"]=typeof s=="number"?`${s}`:`${function(a){if(To(a))return a.byteLength;if(Oo(a))return a.length;if(typeof a=="string")return(0,va.d)(a);throw new lt({info:{code:Ct.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(r)}`),i||(h["If-None-Match"]="*");const c=Z({url:X(e.remoteURL,B(t)),method:"PUT",headers:h,data:r},e,n);return o=function(a){try{K(e,a)}catch(g){const l=g;if(l.status!==412||i)throw l;return!1}return!0},(u=Y(c,e))&&u.then||(u=Promise.resolve(u)),o?u.then(o):u;var u,o}),Mo=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}(function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=Z({url:X(e.remoteURL,B(t)),method:"OPTIONS"},e,r);return i=function(h){try{K(e,h)}catch(c){throw c}return{compliance:(h.headers.get("DAV")??"").split(",").map(c=>c.trim()),server:h.headers.get("Server")??""}},(s=Y(n,e))&&s.then||(s=Promise.resolve(s)),i?s.then(i):s;var s,i});function ge(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const ba=Wr(function(e,t,r,n,s){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(r>n||r<0)throw new lt({info:{code:Ct.InvalidUpdateRange}},`Invalid update range ${r} for partial update`);const h={"Content-Type":"application/octet-stream","Content-Length":""+(n-r+1),"Content-Range":`bytes ${r}-${n}/*`},c=Z({url:X(e.remoteURL,B(t)),method:"PUT",headers:h,data:s},e,i);return ge(Y(c,e),function(u){K(e,u)})});function Vn(e,t){var r=e();return r&&r.then?r.then(t):t(r)}const wa=Wr(function(e,t,r,n,s){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(r>n||r<0)throw new lt({info:{code:Ct.InvalidUpdateRange}},`Invalid update range ${r} for partial update`);const h={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(n-r+1),"X-Update-Range":`bytes=${r}-${n}`},c=Z({url:X(e.remoteURL,B(t)),method:"PATCH",headers:h,data:s},e,i);return ge(Y(c,e),function(u){K(e,u)})});function Wr(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(n){return Promise.reject(n)}}}const Na=Wr(function(e,t,r,n,s){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return ge(Mo(e,t,i),function(h){let c=!1;return Vn(function(){if(h.compliance.includes("sabredav-partialupdate"))return ge(wa(e,t,r,n,s,i),function(u){return c=!0,u})},function(u){let o=!1;return c?u:Vn(function(){if(h.server.includes("Apache")&&h.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return ge(ba(e,t,r,n,s,i),function(a){return o=!0,a})},function(a){if(o)return a;throw new lt({info:{code:Ct.NotSupported}},"Not supported")})})})}),Aa="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function Ia(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:r=null,remoteBasePath:n,contactHref:s=Aa,ha1:i,headers:h={},httpAgent:c,httpsAgent:u,password:o,token:a,username:g,withCredentials:l}=t;let f=r;f||(f=g||o?ut.Password:ut.None);const p={authType:f,remoteBasePath:n,contactHref:s,ha1:i,headers:Object.assign({},h),httpAgent:c,httpsAgent:u,password:o,remotePath:ps(e),remoteURL:e,token:a,username:g,withCredentials:l};return No(p,g,o,a,i),{copyFile:(d,E,N)=>Zs(p,d,E,N),createDirectory:(d,E)=>_r(p,d,E),createReadStream:(d,E)=>function(N,m){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const w=new(Wn()).PassThrough;return ea(N,m,v).then(y=>{y.pipe(w)}).catch(y=>{w.emit("error",y)}),w}(p,d,E),createWriteStream:(d,E,N)=>function(m,v){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ra;const I=new(Wn()).PassThrough,A={};w.overwrite===!1&&(A["If-None-Match"]="*");const T=Z({url:X(m.remoteURL,B(v)),method:"PUT",headers:A,data:I,maxRedirects:0},m,w);return Y(T,m).then(O=>K(m,O)).then(O=>{setTimeout(()=>{y(O)},0)}).catch(O=>{I.emit("error",O)}),I}(p,d,E,N),customRequest:(d,E)=>na(p,d,E),deleteFile:(d,E)=>oa(p,d,E),exists:(d,E)=>ia(p,d,E),getDirectoryContents:(d,E)=>sa(p,d,E),getFileContents:(d,E)=>ca(p,d,E),getFileDownloadLink:d=>function(E,N){let m=X(E.remoteURL,B(N));const v=/^https:/i.test(m)?"https":"http";switch(E.authType){case ut.None:break;case ut.Password:{const w=$n(E.headers.Authorization.replace(/^Basic /i,"").trim());m=m.replace(/^https?:\/\//,`${v}://${w}@`);break}default:throw new lt({info:{code:Ct.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${E.authType}`)}return m}(p,d),getFileUploadLink:d=>function(E,N){let m=`${X(E.remoteURL,B(N))}?Content-Type=application/octet-stream`;const v=/^https:/i.test(m)?"https":"http";switch(E.authType){case ut.None:break;case ut.Password:{const w=$n(E.headers.Authorization.replace(/^Basic /i,"").trim());m=m.replace(/^https?:\/\//,`${v}://${w}@`);break}default:throw new lt({info:{code:Ct.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${E.authType}`)}return m}(p,d),getHeaders:()=>Object.assign({},p.headers),getQuota:d=>da(p,d),lock:(d,E)=>fa(p,d,E),moveFile:(d,E,N)=>Ea(p,d,E,N),putFileContents:(d,E,N)=>ya(p,d,E,N),partialUpdateFileContents:(d,E,N,m,v)=>Na(p,d,E,N,m,v),getDAVCompliance:d=>Mo(p,d),search:(d,E)=>ma(p,d,E),setHeaders:d=>{p.headers=Object.assign({},d)},stat:(d,E)=>Hr(p,d,E),unlock:(d,E,N)=>pa(p,d,E,N)}}mt.hT,mt.O4,mt.Kd,mt.YK,mt.UU,mt.Gu,mt.ky,mt.h4,mt.ch,mt.hq,mt.i5;function ye(e,t,r){const n=document.querySelector(`#initial-state-${e}-${t}`);if(n===null){if(r!==void 0)return r;throw new Error(`Could not find initial state ${t} of ${e}`)}try{return JSON.parse(atob(n.value))}catch{throw new Error(`Could not parse initial state ${t} of ${e}`)}}function Fo(){return ye("files_sharing","isPublic",null)??document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function Ta(){return ye("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}const qn=ns().setApp("@nextcloud/files").detectUser().build();var Me=(e=>(e[e.NONE=0]="NONE",e[e.CREATE=4]="CREATE",e[e.READ=1]="READ",e[e.UPDATE=2]="UPDATE",e[e.DELETE=8]="DELETE",e[e.SHARE=16]="SHARE",e[e.ALL=31]="ALL",e))(Me||{});function Oa(){return Fo()?`/files/${Ta()}`:`/files/${vo()?.uid}`}Oa();function Ra(){const e=ei("dav");return Fo()?e.replace("remote.php","public.php"):e}Ra();const{entries:Uo,setPrototypeOf:Yn,isFrozen:xa,getPrototypeOf:La,getOwnPropertyDescriptor:Sa}=Object;let{freeze:ht,seal:vt,create:Go}=Object,{apply:jr,construct:kr}=typeof Reflect<"u"&&Reflect;ht||(ht=function(e){return e}),vt||(vt=function(e){return e}),jr||(jr=function(e,t,r){return e.apply(t,r)}),kr||(kr=function(e,t){return new e(...t)});const $e=pt(Array.prototype.forEach),Zn=pt(Array.prototype.pop),ae=pt(Array.prototype.push),Fe=pt(String.prototype.toLowerCase),yr=pt(String.prototype.toString),Kn=pt(String.prototype.match),ue=pt(String.prototype.replace),Pa=pt(String.prototype.indexOf),Ca=pt(String.prototype.trim),bt=pt(Object.prototype.hasOwnProperty),st=pt(RegExp.prototype.test),ce=$a(TypeError);function pt(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return jr(e,t,n)}}function $a(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return kr(e,r)}}function j(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fe;Yn&&Yn(e,null);let n=t.length;for(;n--;){let s=t[n];if(typeof s=="string"){const i=r(s);i!==s&&(xa(t)||(t[n]=i),s=i)}e[s]=!0}return e}function _a(e){for(let t=0;t<e.length;t++)bt(e,t)||(e[t]=null);return e}function Mt(e){const t=Go(null);for(const[r,n]of Uo(e))bt(e,r)&&(Array.isArray(n)?t[r]=_a(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Mt(n):t[r]=n);return t}function le(e,t){for(;e!==null;){const n=Sa(e,t);if(n){if(n.get)return pt(n.get);if(typeof n.value=="function")return pt(n.value)}e=La(e)}function r(){return null}return r}const Jn=ht(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),br=ht(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),wr=ht(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Da=ht(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Nr=ht(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ja=ht(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Qn=ht(["#text"]),to=ht(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ar=ht(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eo=ht(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_e=ht(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ka=vt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ma=vt(/<%[\w\W]*|[\w\W]*%>/gm),Fa=vt(/\${[\w\W]*}/gm),Ua=vt(/^data-[\-\w.\u00B7-\uFFFF]/),Ga=vt(/^aria-[\-\w]+$/),Bo=vt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ba=vt(/^(?:\w+script|data):/i),Xa=vt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Xo=vt(/^html$/i),Ha=vt(/^[a-z][.\w]*(-[.\w]+)+$/i);var ro=Object.freeze({__proto__:null,ARIA_ATTR:Ga,ATTR_WHITESPACE:Xa,CUSTOM_ELEMENT:Ha,DATA_ATTR:Ua,DOCTYPE_NAME:Xo,ERB_EXPR:Ma,IS_ALLOWED_URI:Bo,IS_SCRIPT_OR_DATA:Ba,MUSTACHE_EXPR:ka,TMPLIT_EXPR:Fa});const he={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},za=function(){return typeof window>"u"?null:window},Wa=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function Ho(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:za();const t=b=>Ho(b);if(t.version="3.2.1",t.removed=[],!e||!e.document||e.document.nodeType!==he.document)return t.isSupported=!1,t;let{document:r}=e;const n=r,s=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:h,Node:c,Element:u,NodeFilter:o,NamedNodeMap:a=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:g,DOMParser:l,trustedTypes:f}=e,p=u.prototype,d=le(p,"cloneNode"),E=le(p,"remove"),N=le(p,"nextSibling"),m=le(p,"childNodes"),v=le(p,"parentNode");if(typeof h=="function"){const b=r.createElement("template");b.content&&b.content.ownerDocument&&(r=b.content.ownerDocument)}let w,y="";const{implementation:I,createNodeIterator:A,createDocumentFragment:T,getElementsByTagName:O}=r,{importNode:S}=n;let L={};t.isSupported=typeof Uo=="function"&&typeof v=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:x,ERB_EXPR:R,TMPLIT_EXPR:_,DATA_ATTR:k,ARIA_ATTR:ft,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:ot}=ro;let{IS_ALLOWED_URI:J}=ro,D=null;const yt=j({},[...Jn,...br,...wr,...Nr,...Qn]);let z=null;const te=j({},[...to,...Ar,...eo,..._e]);let F=Object.seal(Go(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Dt=null,Je=null,Vr=!0,Qe=!0,qr=!1,Yr=!0,Bt=!1,tr=!0,jt=!1,er=!1,rr=!1,Xt=!1,be=!1,we=!1,Zr=!0,Kr=!1;const Wo="user-content-";let nr=!0,ee=!1,Ht={},zt=null;const Jr=j({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Qr=null;const tn=j({},["audio","video","img","source","image","track"]);let or=null;const en=j({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ne="http://www.w3.org/1998/Math/MathML",Ae="http://www.w3.org/2000/svg",Ot="http://www.w3.org/1999/xhtml";let Wt=Ot,ir=!1,sr=null;const Vo=j({},[Ne,Ae,Ot],yr);let Ie=j({},["mi","mo","mn","ms","mtext"]),Te=j({},["annotation-xml"]);const qo=j({},["title","style","font","a","script"]);let re=null;const Yo=["application/xhtml+xml","text/html"],Zo="text/html";let Q=null,Vt=null;const Ko=r.createElement("form"),rn=function(b){return b instanceof RegExp||b instanceof Function},ar=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Vt&&Vt===b)){if((!b||typeof b!="object")&&(b={}),b=Mt(b),re=Yo.indexOf(b.PARSER_MEDIA_TYPE)===-1?Zo:b.PARSER_MEDIA_TYPE,Q=re==="application/xhtml+xml"?yr:Fe,D=bt(b,"ALLOWED_TAGS")?j({},b.ALLOWED_TAGS,Q):yt,z=bt(b,"ALLOWED_ATTR")?j({},b.ALLOWED_ATTR,Q):te,sr=bt(b,"ALLOWED_NAMESPACES")?j({},b.ALLOWED_NAMESPACES,yr):Vo,or=bt(b,"ADD_URI_SAFE_ATTR")?j(Mt(en),b.ADD_URI_SAFE_ATTR,Q):en,Qr=bt(b,"ADD_DATA_URI_TAGS")?j(Mt(tn),b.ADD_DATA_URI_TAGS,Q):tn,zt=bt(b,"FORBID_CONTENTS")?j({},b.FORBID_CONTENTS,Q):Jr,Dt=bt(b,"FORBID_TAGS")?j({},b.FORBID_TAGS,Q):{},Je=bt(b,"FORBID_ATTR")?j({},b.FORBID_ATTR,Q):{},Ht=bt(b,"USE_PROFILES")?b.USE_PROFILES:!1,Vr=b.ALLOW_ARIA_ATTR!==!1,Qe=b.ALLOW_DATA_ATTR!==!1,qr=b.ALLOW_UNKNOWN_PROTOCOLS||!1,Yr=b.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Bt=b.SAFE_FOR_TEMPLATES||!1,tr=b.SAFE_FOR_XML!==!1,jt=b.WHOLE_DOCUMENT||!1,Xt=b.RETURN_DOM||!1,be=b.RETURN_DOM_FRAGMENT||!1,we=b.RETURN_TRUSTED_TYPE||!1,rr=b.FORCE_BODY||!1,Zr=b.SANITIZE_DOM!==!1,Kr=b.SANITIZE_NAMED_PROPS||!1,nr=b.KEEP_CONTENT!==!1,ee=b.IN_PLACE||!1,J=b.ALLOWED_URI_REGEXP||Bo,Wt=b.NAMESPACE||Ot,Ie=b.MATHML_TEXT_INTEGRATION_POINTS||Ie,Te=b.HTML_INTEGRATION_POINTS||Te,F=b.CUSTOM_ELEMENT_HANDLING||{},b.CUSTOM_ELEMENT_HANDLING&&rn(b.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=b.CUSTOM_ELEMENT_HANDLING.tagNameCheck),b.CUSTOM_ELEMENT_HANDLING&&rn(b.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=b.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),b.CUSTOM_ELEMENT_HANDLING&&typeof b.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=b.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Bt&&(Qe=!1),be&&(Xt=!0),Ht&&(D=j({},Qn),z=[],Ht.html===!0&&(j(D,Jn),j(z,to)),Ht.svg===!0&&(j(D,br),j(z,Ar),j(z,_e)),Ht.svgFilters===!0&&(j(D,wr),j(z,Ar),j(z,_e)),Ht.mathMl===!0&&(j(D,Nr),j(z,eo),j(z,_e))),b.ADD_TAGS&&(D===yt&&(D=Mt(D)),j(D,b.ADD_TAGS,Q)),b.ADD_ATTR&&(z===te&&(z=Mt(z)),j(z,b.ADD_ATTR,Q)),b.ADD_URI_SAFE_ATTR&&j(or,b.ADD_URI_SAFE_ATTR,Q),b.FORBID_CONTENTS&&(zt===Jr&&(zt=Mt(zt)),j(zt,b.FORBID_CONTENTS,Q)),nr&&(D["#text"]=!0),jt&&j(D,["html","head","body"]),D.table&&(j(D,["tbody"]),delete Dt.tbody),b.TRUSTED_TYPES_POLICY){if(typeof b.TRUSTED_TYPES_POLICY.createHTML!="function")throw ce('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof b.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ce('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=b.TRUSTED_TYPES_POLICY,y=w.createHTML("")}else w===void 0&&(w=Wa(f,s)),w!==null&&typeof y=="string"&&(y=w.createHTML(""));ht&&ht(b),Vt=b}},nn=j({},[...br,...wr,...Da]),on=j({},[...Nr,...ja]),Jo=function(b){let C=v(b);(!C||!C.tagName)&&(C={namespaceURI:Wt,tagName:"template"});const P=Fe(b.tagName),U=Fe(C.tagName);return sr[b.namespaceURI]?b.namespaceURI===Ae?C.namespaceURI===Ot?P==="svg":C.namespaceURI===Ne?P==="svg"&&(U==="annotation-xml"||Ie[U]):!!nn[P]:b.namespaceURI===Ne?C.namespaceURI===Ot?P==="math":C.namespaceURI===Ae?P==="math"&&Te[U]:!!on[P]:b.namespaceURI===Ot?C.namespaceURI===Ae&&!Te[U]||C.namespaceURI===Ne&&!Ie[U]?!1:!on[P]&&(qo[P]||!nn[P]):!!(re==="application/xhtml+xml"&&sr[b.namespaceURI]):!1},kt=function(b){ae(t.removed,{element:b});try{v(b).removeChild(b)}catch{E(b)}},Oe=function(b,C){try{ae(t.removed,{attribute:C.getAttributeNode(b),from:C})}catch{ae(t.removed,{attribute:null,from:C})}if(C.removeAttribute(b),b==="is"&&!z[b])if(Xt||be)try{kt(C)}catch{}else try{C.setAttribute(b,"")}catch{}},sn=function(b){let C=null,P=null;if(rr)b="<remove></remove>"+b;else{const V=Kn(b,/^[\r\n\t ]+/);P=V&&V[0]}re==="application/xhtml+xml"&&Wt===Ot&&(b='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+b+"</body></html>");const U=w?w.createHTML(b):b;if(Wt===Ot)try{C=new l().parseFromString(U,re)}catch{}if(!C||!C.documentElement){C=I.createDocument(Wt,"template",null);try{C.documentElement.innerHTML=ir?y:U}catch{}}const tt=C.body||C.documentElement;return b&&P&&tt.insertBefore(r.createTextNode(P),tt.childNodes[0]||null),Wt===Ot?O.call(C,jt?"html":"body")[0]:jt?C.documentElement:tt},an=function(b){return A.call(b.ownerDocument||b,b,o.SHOW_ELEMENT|o.SHOW_COMMENT|o.SHOW_TEXT|o.SHOW_PROCESSING_INSTRUCTION|o.SHOW_CDATA_SECTION,null)},un=function(b){return b instanceof g&&(typeof b.nodeName!="string"||typeof b.textContent!="string"||typeof b.removeChild!="function"||!(b.attributes instanceof a)||typeof b.removeAttribute!="function"||typeof b.setAttribute!="function"||typeof b.namespaceURI!="string"||typeof b.insertBefore!="function"||typeof b.hasChildNodes!="function")},cn=function(b){return typeof c=="function"&&b instanceof c};function Rt(b,C,P){L[b]&&$e(L[b],U=>{U.call(t,C,P,Vt)})}const ln=function(b){let C=null;if(Rt("beforeSanitizeElements",b,null),un(b))return kt(b),!0;const P=Q(b.nodeName);if(Rt("uponSanitizeElement",b,{tagName:P,allowedTags:D}),b.hasChildNodes()&&!cn(b.firstElementChild)&&st(/<[/\w]/g,b.innerHTML)&&st(/<[/\w]/g,b.textContent)||b.nodeType===he.progressingInstruction||tr&&b.nodeType===he.comment&&st(/<[/\w]/g,b.data))return kt(b),!0;if(!D[P]||Dt[P]){if(!Dt[P]&&pn(P)&&(F.tagNameCheck instanceof RegExp&&st(F.tagNameCheck,P)||F.tagNameCheck instanceof Function&&F.tagNameCheck(P)))return!1;if(nr&&!zt[P]){const U=v(b)||b.parentNode,tt=m(b)||b.childNodes;if(tt&&U){const V=tt.length;for(let xt=V-1;xt>=0;--xt){const gt=d(tt[xt],!0);gt.__removalCount=(b.__removalCount||0)+1,U.insertBefore(gt,N(b))}}}return kt(b),!0}return b instanceof u&&!Jo(b)||(P==="noscript"||P==="noembed"||P==="noframes")&&st(/<\/no(script|embed|frames)/i,b.innerHTML)?(kt(b),!0):(Bt&&b.nodeType===he.text&&(C=b.textContent,$e([x,R,_],U=>{C=ue(C,U," ")}),b.textContent!==C&&(ae(t.removed,{element:b.cloneNode()}),b.textContent=C)),Rt("afterSanitizeElements",b,null),!1)},hn=function(b,C,P){if(Zr&&(C==="id"||C==="name")&&(P in r||P in Ko))return!1;if(!(Qe&&!Je[C]&&st(k,C))&&!(Vr&&st(ft,C))){if(!z[C]||Je[C]){if(!(pn(b)&&(F.tagNameCheck instanceof RegExp&&st(F.tagNameCheck,b)||F.tagNameCheck instanceof Function&&F.tagNameCheck(b))&&(F.attributeNameCheck instanceof RegExp&&st(F.attributeNameCheck,C)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(C))||C==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&st(F.tagNameCheck,P)||F.tagNameCheck instanceof Function&&F.tagNameCheck(P))))return!1}else if(!or[C]&&!st(J,ue(P,M,""))&&!((C==="src"||C==="xlink:href"||C==="href")&&b!=="script"&&Pa(P,"data:")===0&&Qr[b])&&!(qr&&!st(H,ue(P,M,"")))&&P)return!1}return!0},pn=function(b){return b!=="annotation-xml"&&Kn(b,ot)},fn=function(b){Rt("beforeSanitizeAttributes",b,null);const{attributes:C}=b;if(!C)return;const P={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let U=C.length;for(;U--;){const tt=C[U],{name:V,namespaceURI:xt,value:gt}=tt,wt=Q(V);let it=V==="value"?gt:Ca(gt);if(P.attrName=wt,P.attrValue=it,P.keepAttr=!0,P.forceKeepAttr=void 0,Rt("uponSanitizeAttribute",b,P),it=P.attrValue,Kr&&(wt==="id"||wt==="name")&&(Oe(V,b),it=Wo+it),tr&&st(/((--!?|])>)|<\/(style|title)/i,it)){Oe(V,b);continue}if(P.forceKeepAttr||(Oe(V,b),!P.keepAttr))continue;if(!Yr&&st(/\/>/i,it)){Oe(V,b);continue}Bt&&$e([x,R,_],ti=>{it=ue(it,ti," ")});const gn=Q(b.nodeName);if(hn(gn,wt,it)){if(w&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!xt)switch(f.getAttributeType(gn,wt)){case"TrustedHTML":{it=w.createHTML(it);break}case"TrustedScriptURL":{it=w.createScriptURL(it);break}}try{xt?b.setAttributeNS(xt,V,it):b.setAttribute(V,it),un(b)?kt(b):Zn(t.removed)}catch{}}}Rt("afterSanitizeAttributes",b,null)},Qo=function b(C){let P=null;const U=an(C);for(Rt("beforeSanitizeShadowDOM",C,null);P=U.nextNode();)Rt("uponSanitizeShadowNode",P,null),!ln(P)&&(P.content instanceof i&&b(P.content),fn(P));Rt("afterSanitizeShadowDOM",C,null)};return t.sanitize=function(b){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=null,U=null,tt=null,V=null;if(ir=!b,ir&&(b="<!-->"),typeof b!="string"&&!cn(b))if(typeof b.toString=="function"){if(b=b.toString(),typeof b!="string")throw ce("dirty is not a string, aborting")}else throw ce("toString is not a function");if(!t.isSupported)return b;if(er||ar(C),t.removed=[],typeof b=="string"&&(ee=!1),ee){if(b.nodeName){const wt=Q(b.nodeName);if(!D[wt]||Dt[wt])throw ce("root node is forbidden and cannot be sanitized in-place")}}else if(b instanceof c)P=sn("<!---->"),U=P.ownerDocument.importNode(b,!0),U.nodeType===he.element&&U.nodeName==="BODY"||U.nodeName==="HTML"?P=U:P.appendChild(U);else{if(!Xt&&!Bt&&!jt&&b.indexOf("<")===-1)return w&&we?w.createHTML(b):b;if(P=sn(b),!P)return Xt?null:we?y:""}P&&rr&&kt(P.firstChild);const xt=an(ee?b:P);for(;tt=xt.nextNode();)ln(tt)||(tt.content instanceof i&&Qo(tt.content),fn(tt));if(ee)return b;if(Xt){if(be)for(V=T.call(P.ownerDocument);P.firstChild;)V.appendChild(P.firstChild);else V=P;return(z.shadowroot||z.shadowrootmode)&&(V=S.call(n,V,!0)),V}let gt=jt?P.outerHTML:P.innerHTML;return jt&&D["!doctype"]&&P.ownerDocument&&P.ownerDocument.doctype&&P.ownerDocument.doctype.name&&st(Xo,P.ownerDocument.doctype.name)&&(gt="<!DOCTYPE "+P.ownerDocument.doctype.name+`>
`+gt),Bt&&$e([x,R,_],wt=>{gt=ue(gt,wt," ")}),w&&we?w.createHTML(gt):gt},t.setConfig=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ar(b),er=!0},t.clearConfig=function(){Vt=null,er=!1},t.isValidAttribute=function(b,C,P){Vt||ar({});const U=Q(b),tt=Q(C);return hn(U,tt,P)},t.addHook=function(b,C){typeof C=="function"&&(L[b]=L[b]||[],ae(L[b],C))},t.removeHook=function(b){if(L[b])return Zn(L[b])},t.removeHooks=function(b){L[b]&&(L[b]=[])},t.removeAllHooks=function(){L={}},t}Ho();var Ir={},de=(e=>(e.DEFAULT="default",e.HIDDEN="hidden",e))(de||{});class Tr{_action;constructor(t){this.validateAction(t),this._action=t}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get destructive(){return this._action.destructive}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(t){if(!t.id||typeof t.id!="string")throw new Error("Invalid id");if(!t.displayName||typeof t.displayName!="function")throw new Error("Invalid displayName function");if("title"in t&&typeof t.title!="function")throw new Error("Invalid title function");if(!t.iconSvgInline||typeof t.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if(!t.exec||typeof t.exec!="function")throw new Error("Invalid exec function");if("enabled"in t&&typeof t.enabled!="function")throw new Error("Invalid enabled function");if("execBatch"in t&&typeof t.execBatch!="function")throw new Error("Invalid execBatch function");if("order"in t&&typeof t.order!="number")throw new Error("Invalid order");if(t.destructive!==void 0&&typeof t.destructive!="boolean")throw new Error("Invalid destructive flag");if("parent"in t&&typeof t.parent!="string")throw new Error("Invalid parent");if(t.default&&!Object.values(de).includes(t.default))throw new Error("Invalid default");if("inline"in t&&typeof t.inline!="function")throw new Error("Invalid inline function");if("renderInline"in t&&typeof t.renderInline!="function")throw new Error("Invalid renderInline function")}}const Or=function(e){if(typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],qn.debug("FileActions initialized")),window._nc_fileactions.find(t=>t.id===e.id)){qn.error(`FileAction ${e.id} already registered`,{action:e});return}window._nc_fileactions.push(e)};var Va={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+t+"]["+r+"]*",s=new RegExp("^"+n+"$"),i=function(c,u){const o=[];let a=u.exec(c);for(;a;){const g=[];g.startIndex=u.lastIndex-a[0].length;const l=a.length;for(let f=0;f<l;f++)g.push(a[f]);o.push(g),a=u.exec(c)}return o},h=function(c){const u=s.exec(c);return!(u===null||typeof u>"u")};e.isExist=function(c){return typeof c<"u"},e.isEmptyObject=function(c){return Object.keys(c).length===0},e.merge=function(c,u,o){if(u){const a=Object.keys(u),g=a.length;for(let l=0;l<g;l++)o==="strict"?c[a[l]]=[u[a[l]]]:c[a[l]]=u[a[l]]}},e.getValue=function(c){return e.isExist(c)?c:""},e.isName=h,e.getAllMatches=i,e.nameRegexp=n})(Va),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const qa=typeof Ut=="object"&&Ir&&Ir.NODE_DEBUG&&/\bsemver\b/i.test(Ir.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Ya=qa;const Za="2.0.0",zo=256,Ka=Number.MAX_SAFE_INTEGER||9007199254740991,Ja=16,Qa=zo-6,tu=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var eu={MAX_LENGTH:zo,MAX_SAFE_COMPONENT_LENGTH:Ja,MAX_SAFE_BUILD_LENGTH:Qa,MAX_SAFE_INTEGER:Ka,RELEASE_TYPES:tu,SEMVER_SPEC_VERSION:Za,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},no={exports:{}};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=eu,i=Ya;t=e.exports={};const h=t.re=[],c=t.safeRe=[],u=t.src=[],o=t.t={};let a=0;const g="[a-zA-Z0-9-]",l=[["\\s",1],["\\d",s],[g,n]],f=d=>{for(const[E,N]of l)d=d.split(`${E}*`).join(`${E}{0,${N}}`).split(`${E}+`).join(`${E}{1,${N}}`);return d},p=(d,E,N)=>{const m=f(E),v=a++;i(d,v,E),o[d]=v,u[v]=E,h[v]=new RegExp(E,N?"g":void 0),c[v]=new RegExp(m,N?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),p("MAINVERSION",`(${u[o.NUMERICIDENTIFIER]})\\.(${u[o.NUMERICIDENTIFIER]})\\.(${u[o.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${u[o.NUMERICIDENTIFIERLOOSE]})\\.(${u[o.NUMERICIDENTIFIERLOOSE]})\\.(${u[o.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${u[o.NUMERICIDENTIFIER]}|${u[o.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${u[o.NUMERICIDENTIFIERLOOSE]}|${u[o.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${u[o.PRERELEASEIDENTIFIER]}(?:\\.${u[o.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${u[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[o.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${g}+`),p("BUILD",`(?:\\+(${u[o.BUILDIDENTIFIER]}(?:\\.${u[o.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${u[o.MAINVERSION]}${u[o.PRERELEASE]}?${u[o.BUILD]}?`),p("FULL",`^${u[o.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${u[o.MAINVERSIONLOOSE]}${u[o.PRERELEASELOOSE]}?${u[o.BUILD]}?`),p("LOOSE",`^${u[o.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${u[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${u[o.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${u[o.XRANGEIDENTIFIER]})(?:\\.(${u[o.XRANGEIDENTIFIER]})(?:\\.(${u[o.XRANGEIDENTIFIER]})(?:${u[o.PRERELEASE]})?${u[o.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${u[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[o.XRANGEIDENTIFIERLOOSE]})(?:${u[o.PRERELEASELOOSE]})?${u[o.BUILD]}?)?)?`),p("XRANGE",`^${u[o.GTLT]}\\s*${u[o.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${u[o.GTLT]}\\s*${u[o.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),p("COERCE",`${u[o.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",u[o.COERCEPLAIN]+`(?:${u[o.PRERELEASE]})?(?:${u[o.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",u[o.COERCE],!0),p("COERCERTLFULL",u[o.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${u[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${u[o.LONETILDE]}${u[o.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${u[o.LONETILDE]}${u[o.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${u[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${u[o.LONECARET]}${u[o.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${u[o.LONECARET]}${u[o.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${u[o.GTLT]}\\s*(${u[o.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${u[o.GTLT]}\\s*(${u[o.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${u[o.GTLT]}\\s*(${u[o.LOOSEPLAIN]}|${u[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${u[o.XRANGEPLAIN]})\\s+-\\s+(${u[o.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${u[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[o.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(no,no.exports);const Ke="epubviewer";function ru(e,t,r){const n=oo("/apps/{APP_ID}/?file={file}&type={type}",{APP_ID:Ke,file:e,type:t});window.open(n,e)}function Rr(e,t){let r="";if($("#isPublic").val()){const n=$("#sharingToken").val();r=oo("/s/{token}/download?files={files}&path={path}",{token:n,files:e.basename,path:t})}else r=nu(e.encodedSource);ru(r,e.mime||"")}function nu(e){const t=new URL(e);return t.pathname+t.search+t.hash}const ou=ye(Ke,"enableEpub"),iu=ye(Ke,"enablePdf"),su=ye(Ke,"enableCbx");Or(new Tr({id:"view-epub",iconSvgInline:()=>"<svg></svg>",displayName:()=>"View",default:de.DEFAULT,enabled(e){const t=e.some(n=>n.mime==="application/epub+zip"),r=e.some(n=>n.permissions&Me.READ);return ou&&t&&r},exec:async function(e,t,r){return Rr(e,r),!0}})),Or(new Tr({id:"view-cbr",iconSvgInline:()=>"<svg></svg>",displayName:()=>"View",default:de.DEFAULT,enabled(e){const t=["application/x-cbr","application/x-cbz","application/comicbook+rar","application/comicbook+tar","application/comicbook+zip"],r=e.some(s=>t.includes(s.mime||"")),n=e.some(s=>s.permissions&Me.READ);return su&&r&&n},exec:async function(e,t,r){return Rr(e,r),!0}})),Or(new Tr({id:"view-pdf",iconSvgInline:()=>"<svg></svg>",displayName:()=>"View",default:de.DEFAULT,enabled(e){const t=e.some(n=>n.mime==="application/pdf"),r=e.some(n=>n.permissions&Me.READ);return iu&&t&&r},exec:async function(e,t,r){return Rr(e,r),!0}}));
