const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('epubviewer', '', 'js/index-DUot6RBs.chunk.mjs'),window.OC.filePath('epubviewer', '', 'js/epubviewer-main.mjs'),window.OC.filePath('epubviewer', '', 'js/index-DBcqYq5n.chunk.mjs')])))=>i.map(i=>d[i]);
/*! third party licenses: js/vendor.LICENSE.txt */
import{_ as i}from"./epubviewer-main.mjs";import"./index-DBcqYq5n.chunk.mjs";const o={name:"EpubViewer",render:function(e){return e("div",{class:"epubviewer-container"},[e("div",{class:"epub-viewer",ref:"viewerContainer"}),this.loading?e("div",{class:"epubviewer-loader"},[e("span",{class:"icon-loading"})]):null])},props:{source:{type:String,required:!0},size:{type:Number,required:!0},permissions:{type:String,required:!0},fileVersion:{type:Number,default:null},basename:{type:String,default:null}},data(){return{loading:!0,book:null,rendition:null}},mounted(){this.loadEpub()},beforeDestroy(){this.rendition&&this.rendition.destroy&&this.rendition.destroy()},methods:{async loadEpub(){try{const e=await i(()=>import("./index-DUot6RBs.chunk.mjs"),__vite__mapDeps([0,1,2]),import.meta.url);this.book=e.default(this.source),this.rendition=this.book.renderTo(this.$refs.viewerContainer,{width:"100%",height:"100%",spread:"auto"}),await this.rendition.display(),this.setupKeyboardControls(),this.loading=!1,this.$emit("update:loaded",!0)}catch(e){console.error("Error loading EPUB:",e),this.loading=!1,this.$emit("update:loaded",!0)}},setupKeyboardControls(){window.addEventListener("keyup",e=>{this.rendition&&((e.keyCode||e.which)===37&&this.rendition.prev(),(e.keyCode||e.which)===39&&this.rendition.next())})}}};export{o as default};
